{"items":[{"tags":["java","either","vavr"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1664354690,"post_id":73878516,"comment_id":130450114,"body_markdown":"I look the last line and get what you are trying to do, I think there is too much code","body":"I look the last line and get what you are trying to do, I think there is too much code"},{"owner":{"account_id":49789,"reputation":1549,"user_id":148397,"accept_rate":36,"display_name":"Gadi"},"score":0,"creation_date":1664420653,"post_id":73878516,"comment_id":130469055,"body_markdown":"yes, agree, but to illustrate the point of transforming the Either from one to many. thanks #wu-hoyt","body":"yes, agree, but to illustrate the point of transforming the Either from one to many. thanks #wu-hoyt"}],"answers":[{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664357036,"creation_date":1664357036,"answer_id":73879084,"question_id":73878516,"body_markdown":"Hope this helps:\r\n```\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        List&lt;User&gt; ul = Arrays.asList(new User(&quot;a&quot;), new User(&quot;b&quot;));\r\n        Error e = new Error(&quot;error msg&quot;);\r\n        Either&lt;Error, List&lt;User&gt;&gt; a = new Either&lt;&gt;(e, ul);\r\n        List&lt;Either&lt;Error, User&gt;&gt; collect = a.u.stream().map(u -&gt; new Either&lt;&gt;(a.t, u)).collect(Collectors.toList());\r\n    }\r\n}\r\n\r\nclass Either&lt;T, U&gt; {\r\n\r\n    T t;\r\n    U u;\r\n\r\n    public Either(T t, U u) {\r\n        this.t = t;\r\n        this.u = u;\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"vavr Either sequence of processing steps","body":"<p>Hope this helps:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        List&lt;User&gt; ul = Arrays.asList(new User(&quot;a&quot;), new User(&quot;b&quot;));\n        Error e = new Error(&quot;error msg&quot;);\n        Either&lt;Error, List&lt;User&gt;&gt; a = new Either&lt;&gt;(e, ul);\n        List&lt;Either&lt;Error, User&gt;&gt; collect = a.u.stream().map(u -&gt; new Either&lt;&gt;(a.t, u)).collect(Collectors.toList());\n    }\n}\n\nclass Either&lt;T, U&gt; {\n\n    T t;\n    U u;\n\n    public Either(T t, U u) {\n        this.t = t;\n        this.u = u;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":49789,"reputation":1549,"user_id":148397,"accept_rate":36,"display_name":"Gadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664357036,"creation_date":1664354473,"question_id":73878516,"body_markdown":"* java 19\r\n* vavr (latest)\r\n\r\nI would like to create a processing flow of steps (processing XML file) that can split the flow to sub-processing steps. Each step can fail so I wrap it in an Either (vavr) to control the flow.\r\n\r\n1. load XML file (from cloud storage)\r\n2. parse XML -&gt; List&lt; Obj &gt;\r\n3. LIST&lt; Obj &gt; -&gt; List&lt; JSON &gt;\r\n4. LIST&lt; JSON &gt; -&gt; LIST&lt; File &gt; \r\n5. FILE -&gt; store each one on cloud storage (network)\r\n\r\n* Each processing step can fail.\r\n* Splitting the flow from one file to many people\r\n* Using Either looks like the right way to go as I would like to all succeed or fail.\r\n\r\n** This is a mockup code\r\n\r\n```\r\npublic class Main {\r\n\r\n  private Cloud cloud;\r\n\r\n  public static void main(String[] args) {\r\n    Main main = new Main();\r\n    main.retrieve(&quot;path/filename.xml&quot;)\r\n        .flatMap(file -&gt; main.parse(file))\r\n        .flatMap(people -&gt; main.toUsers(people))\r\n        // I would like to break the inner Either to a Seq and process each one of the users\r\n        // to a file and store it separately\r\n        .flatMap(users -&gt; main.store(users))\r\n        // if one file store ops fail I would like to stop and retry the operation.\r\n        .peekLeft(error -&gt; System.out.println(error.formatted()));\r\n  }\r\n\r\n  /**\r\n   * Store each user in cloud storage Can fail per file\r\n   *\r\n   * @param users\r\n   * @return io.vavr.control.Either\r\n   */\r\n  private Either&lt;Error, String&gt; store(List&lt;User&gt; users) {\r\n    return Try.of(\r\n            () -&gt; {\r\n              for (User user: users) {\r\n                store(user);\r\n              }\r\n              return &quot;success&quot;;\r\n            })\r\n        .toEither()\r\n        .mapLeft(throwable -&gt; new FIleStoreError(throwable.getMessage()));\r\n  }\r\n\r\n  /**\r\n   * network file storage use cloud API to store the file\r\n   *\r\n   * @param user\r\n   * @throws RuntimeException\r\n   */\r\n  private void store(User user) throws RuntimeException {\r\n    cloud.store(user);\r\n  }\r\n\r\n  private Either&lt;Error, List&lt;User&gt;&gt; toUsers(List&lt;Person&gt; people) {\r\n    return Try.of(() -&gt; people.map(person -&gt; new User(person.name())).toList())\r\n        .toEither()\r\n        .mapLeft(throwable -&gt; new ParseError(throwable.getMessage()));\r\n  }\r\n\r\n  /**\r\n   * Read a list of Person from a file\r\n   *\r\n   * @param file\r\n   * @return io.vavr.control.Either\r\n   */\r\n  private Either&lt;Error, List&lt;Person&gt;&gt; parse(File file) {\r\n    return Try.of(() -&gt; poeple(file))\r\n        .toEither()\r\n        .mapLeft(throwable -&gt; new ParseError(throwable.getMessage()));\r\n  }\r\n\r\n  /**\r\n   * Load list from {@link Person} objects from file\r\n   *\r\n   * &lt;p&gt;Can fail!\r\n   *\r\n   * @param file input with people data\r\n   * @return list of {@link Person}\r\n   * @throws Exception may fail with file operations\r\n   */\r\n  private List&lt;Person&gt; poeple(File file) throws Exception {\r\n    return List.of(new Person(&quot;A&quot;), new Person(&quot;B&quot;));\r\n  }\r\n\r\n  /**\r\n   * load a file from cloud\r\n   *\r\n   * @param name\r\n   * @return io.vavr.control.Either\r\n   */\r\n  public Either&lt;Error, File&gt; retrieve(String name) {\r\n    return Try.of(() -&gt; loadFile(name))\r\n        .toEither()\r\n        .mapLeft(throwable -&gt; new FileLoadingError(throwable.getMessage()));\r\n  }\r\n\r\n  /**\r\n   * Load file from network\r\n   *\r\n   * @param name file name to load\r\n   * @return the file\r\n   * @throws Exception can fail\r\n   */\r\n  private File loadFile(String name) throws Exception {\r\n    return new File(name);\r\n  }\r\n}\r\n\r\n```\r\n\r\nHow to convert an `Either&lt;Error, List&lt; User &gt;&gt;` to a `Seq` of `Either&lt;Error, User&gt;` so it can be processed one by one?\r\n\r\n","title":"vavr Either sequence of processing steps","body":"<ul>\n<li>java 19</li>\n<li>vavr (latest)</li>\n</ul>\n<p>I would like to create a processing flow of steps (processing XML file) that can split the flow to sub-processing steps. Each step can fail so I wrap it in an Either (vavr) to control the flow.</p>\n<ol>\n<li>load XML file (from cloud storage)</li>\n<li>parse XML -&gt; List&lt; Obj &gt;</li>\n<li>LIST&lt; Obj &gt; -&gt; List&lt; JSON &gt;</li>\n<li>LIST&lt; JSON &gt; -&gt; LIST&lt; File &gt;</li>\n<li>FILE -&gt; store each one on cloud storage (network)</li>\n</ol>\n<ul>\n<li>Each processing step can fail.</li>\n<li>Splitting the flow from one file to many people</li>\n<li>Using Either looks like the right way to go as I would like to all succeed or fail.</li>\n</ul>\n<p>** This is a mockup code</p>\n<pre><code>public class Main {\n\n  private Cloud cloud;\n\n  public static void main(String[] args) {\n    Main main = new Main();\n    main.retrieve(&quot;path/filename.xml&quot;)\n        .flatMap(file -&gt; main.parse(file))\n        .flatMap(people -&gt; main.toUsers(people))\n        // I would like to break the inner Either to a Seq and process each one of the users\n        // to a file and store it separately\n        .flatMap(users -&gt; main.store(users))\n        // if one file store ops fail I would like to stop and retry the operation.\n        .peekLeft(error -&gt; System.out.println(error.formatted()));\n  }\n\n  /**\n   * Store each user in cloud storage Can fail per file\n   *\n   * @param users\n   * @return io.vavr.control.Either\n   */\n  private Either&lt;Error, String&gt; store(List&lt;User&gt; users) {\n    return Try.of(\n            () -&gt; {\n              for (User user: users) {\n                store(user);\n              }\n              return &quot;success&quot;;\n            })\n        .toEither()\n        .mapLeft(throwable -&gt; new FIleStoreError(throwable.getMessage()));\n  }\n\n  /**\n   * network file storage use cloud API to store the file\n   *\n   * @param user\n   * @throws RuntimeException\n   */\n  private void store(User user) throws RuntimeException {\n    cloud.store(user);\n  }\n\n  private Either&lt;Error, List&lt;User&gt;&gt; toUsers(List&lt;Person&gt; people) {\n    return Try.of(() -&gt; people.map(person -&gt; new User(person.name())).toList())\n        .toEither()\n        .mapLeft(throwable -&gt; new ParseError(throwable.getMessage()));\n  }\n\n  /**\n   * Read a list of Person from a file\n   *\n   * @param file\n   * @return io.vavr.control.Either\n   */\n  private Either&lt;Error, List&lt;Person&gt;&gt; parse(File file) {\n    return Try.of(() -&gt; poeple(file))\n        .toEither()\n        .mapLeft(throwable -&gt; new ParseError(throwable.getMessage()));\n  }\n\n  /**\n   * Load list from {@link Person} objects from file\n   *\n   * &lt;p&gt;Can fail!\n   *\n   * @param file input with people data\n   * @return list of {@link Person}\n   * @throws Exception may fail with file operations\n   */\n  private List&lt;Person&gt; poeple(File file) throws Exception {\n    return List.of(new Person(&quot;A&quot;), new Person(&quot;B&quot;));\n  }\n\n  /**\n   * load a file from cloud\n   *\n   * @param name\n   * @return io.vavr.control.Either\n   */\n  public Either&lt;Error, File&gt; retrieve(String name) {\n    return Try.of(() -&gt; loadFile(name))\n        .toEither()\n        .mapLeft(throwable -&gt; new FileLoadingError(throwable.getMessage()));\n  }\n\n  /**\n   * Load file from network\n   *\n   * @param name file name to load\n   * @return the file\n   * @throws Exception can fail\n   */\n  private File loadFile(String name) throws Exception {\n    return new File(name);\n  }\n}\n\n</code></pre>\n<p>How to convert an <code>Either&lt;Error, List&lt; User &gt;&gt;</code> to a <code>Seq</code> of <code>Either&lt;Error, User&gt;</code> so it can be processed one by one?</p>\n"},{"tags":["java","spring-boot","stripe-payments","stripe-payment-intent"],"comments":[{"owner":{"account_id":14587412,"reputation":1072,"user_id":10535718,"display_name":"Drashti Kheni"},"score":0,"creation_date":1664354841,"post_id":73877830,"comment_id":130450165,"body_markdown":"This may help you: https://stripe.com/docs/search#query-fields-for-payment-intents","body":"This may help you: <a href=\"https://stripe.com/docs/search#query-fields-for-payment-intents\" rel=\"nofollow noreferrer\">stripe.com/docs/search#query-fields-for-payment-intents</a>"}],"answers":[{"tags":[],"owner":{"account_id":25681176,"reputation":777,"user_id":19443941,"display_name":"os4m37"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664356819,"creation_date":1664356819,"answer_id":73879032,"question_id":73877830,"body_markdown":"Stripe Metadata[1] are a set of key-value pairs, where values are up to 500 characters long. You can store only primitives type values. You can’t store an Array in Metadata. \r\n\r\nEven when you store the Array as a String in metadata (ex: metadata[list]:”[1, 2, 3]”) you can’t search using the substring match operator `~` [2] because metadata are stored as Tokens, which mean you can only do exact match queries (case insensitive)[3]. \r\n\r\nIn the meanwhile, here are the query fields for the PaymentIntent [4], for example if you want to search for the amount in the PaymentIntent, you can query it directly: `amount&gt;1000&#39;`.\r\n\r\n[1] https://stripe.com/docs/api/metadata\r\n\r\n[2] https://stripe.com/docs/search#search-syntax:~:text=Substring%20match%20operator\r\n\r\n[3] https://stripe.com/docs/search#field-types,-substring-matching,-and-numeric-comparators:~:text=exact%20match%20(case%20insensitive)\r\n\r\n[4] https://stripe.com/docs/search#query-fields-for-payment-intents\r\n\r\n\r\n","title":"Stripe Search PaymentIntent API","body":"<p>Stripe Metadata[1] are a set of key-value pairs, where values are up to 500 characters long. You can store only primitives type values. You can’t store an Array in Metadata.</p>\n<p>Even when you store the Array as a String in metadata (ex: metadata[list]:”[1, 2, 3]”) you can’t search using the substring match operator <code>~</code> [2] because metadata are stored as Tokens, which mean you can only do exact match queries (case insensitive)[3].</p>\n<p>In the meanwhile, here are the query fields for the PaymentIntent [4], for example if you want to search for the amount in the PaymentIntent, you can query it directly: <code>amount&gt;1000'</code>.</p>\n<p>[1] <a href=\"https://stripe.com/docs/api/metadata\" rel=\"nofollow noreferrer\">https://stripe.com/docs/api/metadata</a></p>\n<p>[2] <a href=\"https://stripe.com/docs/search#search-syntax:%7E:text=Substring%20match%20operator\" rel=\"nofollow noreferrer\">https://stripe.com/docs/search#search-syntax:~:text=Substring%20match%20operator</a></p>\n<p>[3] <a href=\"https://stripe.com/docs/search#field-types,-substring-matching,-and-numeric-comparators:%7E:text=exact%20match%20(case%20insensitive)\" rel=\"nofollow noreferrer\">https://stripe.com/docs/search#field-types,-substring-matching,-and-numeric-comparators:~:text=exact%20match%20(case%20insensitive)</a></p>\n<p>[4] <a href=\"https://stripe.com/docs/search#query-fields-for-payment-intents\" rel=\"nofollow noreferrer\">https://stripe.com/docs/search#query-fields-for-payment-intents</a></p>\n"}],"owner":{"account_id":22735164,"reputation":3,"user_id":20108185,"display_name":"Funtush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664356819,"creation_date":1664350801,"question_id":73877830,"body_markdown":"Just a small doubt in PaymentIntent API of stripe,\r\nCan we search any Payment intent based on metaData whose value pair is list.\r\n\r\nFor ex:\r\nI have this metaData:\r\norder_id: 6735 and \r\namount: [12,78,45]\r\n\r\nAnd below is the code:\r\n```\r\nPaymentIntentSearchParams params =\r\n  PaymentIntentSearchParams\r\n    .builder()\r\n    .setQuery(&quot;status:&#39;succeeded&#39; AND metadata[&#39;order_id&#39;]:&#39;6735&#39;&quot;)\r\n    .build();\r\n\r\nPaymentIntentSearchResult result = PaymentIntent.search(params);\r\n```\r\n\r\nNow I have to search based on the criteria whose order_id is 6735 and amount is 78?\r\nHow can I achieve this through PaymentIntent search API?","title":"Stripe Search PaymentIntent API","body":"<p>Just a small doubt in PaymentIntent API of stripe,\nCan we search any Payment intent based on metaData whose value pair is list.</p>\n<p>For ex:\nI have this metaData:\norder_id: 6735 and\namount: [12,78,45]</p>\n<p>And below is the code:</p>\n<pre><code>PaymentIntentSearchParams params =\n  PaymentIntentSearchParams\n    .builder()\n    .setQuery(&quot;status:'succeeded' AND metadata['order_id']:'6735'&quot;)\n    .build();\n\nPaymentIntentSearchResult result = PaymentIntent.search(params);\n</code></pre>\n<p>Now I have to search based on the criteria whose order_id is 6735 and amount is 78?\nHow can I achieve this through PaymentIntent search API?</p>\n"},{"tags":["java","linux","docker","memory","jvm"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":7,"creation_date":1542999688,"post_id":53451103,"comment_id":93776054,"body_markdown":"The heap is where objects are allocated, however the JVM has many other memory regions including shared libraries, direct memory buffers, thread stacks, GUI components, metaspace. You need to look at how large the JVM can be and make the limit high enough that you would rather the process die than use any more.","body":"The heap is where objects are allocated, however the JVM has many other memory regions including shared libraries, direct memory buffers, thread stacks, GUI components, metaspace. You need to look at how large the JVM can be and make the limit high enough that you would rather the process die than use any more."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1543000126,"post_id":53451103,"comment_id":93776194,"body_markdown":"It looks like the GC is using a lot of memory. You could try using the CMS collector instead. It looks like ~125 MB is used for metaspace + code, however without shrinking your code base, you are unlikely to be able to make that smaller. The committed space is close to your limit so it&#39;s not surprising it gets killed.","body":"It looks like the GC is using a lot of memory. You could try using the CMS collector instead. It looks like ~125 MB is used for metaspace + code, however without shrinking your code base, you are unlikely to be able to make that smaller. The committed space is close to your limit so it&#39;s not surprising it gets killed."},{"owner":{"account_id":8258676,"reputation":973,"user_id":6210973,"display_name":"Mick"},"score":0,"creation_date":1543932313,"post_id":53451103,"comment_id":94090068,"body_markdown":"where / how do you set the -Xms and -Xmx configuration?","body":"where / how do you set the -Xms and -Xmx configuration?"},{"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"score":0,"creation_date":1543932427,"post_id":53451103,"comment_id":94090139,"body_markdown":"In the Java command line `java -Xmx128m -Xms128m -jar the-bundle-package.jar`","body":"In the Java command line <code>java -Xmx128m -Xms128m -jar the-bundle-package.jar</code>"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1544521642,"post_id":53451103,"comment_id":94296249,"body_markdown":"I think it&#39;s worth mentioning this article : [Java SE support for Docker CPU and memory limits](https://blogs.oracle.com/java-platform-group/java-se-support-for-docker-cpu-and-memory-limits)","body":"I think it&#39;s worth mentioning this article : <a href=\"https://blogs.oracle.com/java-platform-group/java-se-support-for-docker-cpu-and-memory-limits\" rel=\"nofollow noreferrer\">Java SE support for Docker CPU and memory limits</a>"},{"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":3,"creation_date":1557936400,"post_id":53451103,"comment_id":98936469,"body_markdown":"Note: [Java 8 u212+ has now (Apr. 2019) a better Docker support when it comes to memory](https://stackoverflow.com/a/56153528/6309)","body":"Note: <a href=\"https://stackoverflow.com/a/56153528/6309\">Java 8 u212+ has now (Apr. 2019) a better Docker support when it comes to memory</a>"},{"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"score":1,"creation_date":1594759129,"post_id":53451103,"comment_id":111238061,"body_markdown":"Does you program execute many file-operations (eg creates files in gigabyte size)? If so, you should know that `cgroups` adds disk-cache to the used memory -- even if it is handled  by the kernel and it is invisible for the user program. (Mind you, commands `ps` and `docker stats` don&#39;t count disk-cache.)","body":"Does you program execute many file-operations (eg creates files in gigabyte size)? If so, you should know that <code>cgroups</code> adds disk-cache to the used memory -- even if it is handled  by the kernel and it is invisible for the user program. (Mind you, commands <code>ps</code> and <code>docker stats</code> don&#39;t count disk-cache.)"},{"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"score":0,"creation_date":1594760956,"post_id":53451103,"comment_id":111238791,"body_markdown":"It writes logs but not in GB size, it is a webapp based on Jersey/CDI similar to this bundle published in [GitHub](https://github.com/nhenneaux/jersey-http2-jetty-connector/tree/master/jersey-http2-jetty-bundle)","body":"It writes logs but not in GB size, it is a webapp based on Jersey/CDI similar to this bundle published in <a href=\"https://github.com/nhenneaux/jersey-http2-jetty-connector/tree/master/jersey-http2-jetty-bundle\" rel=\"nofollow noreferrer\">GitHub</a>"},{"owner":{"account_id":1896439,"reputation":663,"user_id":1713298,"display_name":"ankitkpd"},"score":0,"creation_date":1629146333,"post_id":53451103,"comment_id":121605350,"body_markdown":"If you don&#39;t know what exactly is `MiB` and `GiB` in response to get memory used by the container from the host system: https://askubuntu.com/questions/22102/meaning-of-i-in-mib","body":"If you don&#39;t know what exactly is <code>MiB</code> and <code>GiB</code> in response to get memory used by the container from the host system: <a href=\"https://askubuntu.com/questions/22102/meaning-of-i-in-mib\">askubuntu.com/questions/22102/meaning-of-i-in-mib</a>"}],"answers":[{"tags":[],"owner":{"account_id":99561,"reputation":1392,"user_id":268856,"accept_rate":96,"display_name":"adiian"},"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1543665771,"creation_date":1543665771,"answer_id":53570571,"question_id":53451103,"body_markdown":"Java needs a lot a memory. JVM itself needs a lot of memory to run. The heap is the memory which is available inside the virtual machine, available to your application. Because JVM is a big bundle packed with all goodies possible it takes a lot of memory just to load.\r\n\r\nStarting with java 9 you have something called [project Jigsaw][1], which might reduce the memory used when you start a java app(along with start time). Project jigsaw and a new module system were not necessarily created to reduce the necessary memory, but if it&#39;s important you can give a try. \r\n\r\nYou can take a look at this example: https://steveperkins.com/using-java-9-modularization-to-ship-zero-dependency-native-apps/. By using the module system it resulted in CLI application of 21MB(with JRE embeded). JRE takes more than 200mb. That should translate to less allocated memory when the application is up(a lot of unused JRE classes will no longer be loaded).\r\n\r\nHere is another nice tutorial: https://www.baeldung.com/project-jigsaw-java-modularity\r\n\r\nIf you don&#39;t want to spend time with this you can simply get allocate more memory. Sometimes it&#39;s the best.\r\n\r\n  [1]: https://openjdk.java.net/projects/jigsaw/","title":"Java using much more memory than heap size (or size correctly Docker memory limit)","body":"<p>Java needs a lot a memory. JVM itself needs a lot of memory to run. The heap is the memory which is available inside the virtual machine, available to your application. Because JVM is a big bundle packed with all goodies possible it takes a lot of memory just to load.</p>\n\n<p>Starting with java 9 you have something called <a href=\"https://openjdk.java.net/projects/jigsaw/\" rel=\"nofollow noreferrer\">project Jigsaw</a>, which might reduce the memory used when you start a java app(along with start time). Project jigsaw and a new module system were not necessarily created to reduce the necessary memory, but if it's important you can give a try. </p>\n\n<p>You can take a look at this example: <a href=\"https://steveperkins.com/using-java-9-modularization-to-ship-zero-dependency-native-apps/\" rel=\"nofollow noreferrer\">https://steveperkins.com/using-java-9-modularization-to-ship-zero-dependency-native-apps/</a>. By using the module system it resulted in CLI application of 21MB(with JRE embeded). JRE takes more than 200mb. That should translate to less allocated memory when the application is up(a lot of unused JRE classes will no longer be loaded).</p>\n\n<p>Here is another nice tutorial: <a href=\"https://www.baeldung.com/project-jigsaw-java-modularity\" rel=\"nofollow noreferrer\">https://www.baeldung.com/project-jigsaw-java-modularity</a></p>\n\n<p>If you don't want to spend time with this you can simply get allocate more memory. Sometimes it's the best.</p>\n"},{"tags":[],"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1543932233,"creation_date":1543875759,"answer_id":53602861,"question_id":53451103,"body_markdown":"https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers/:\r\n\r\n&gt; Why is it when I specify -Xmx=1g my JVM uses up more memory than 1gb\r\n&gt; of memory?\r\n&gt; \r\n&gt; Specifying -Xmx=1g is telling the JVM to allocate a 1gb heap. It’s not\r\n&gt; telling the JVM to limit its entire memory usage to 1gb. There are\r\n&gt; card tables, code caches, and all sorts of other off heap data\r\n&gt; structures. The parameter you use to specify total memory usage is\r\n&gt; -XX:MaxRAM. Be aware that with -XX:MaxRam=500m your heap will be approximately 250mb.\r\n\r\nJava sees host memory size and it is not aware of any container memory limitations. It doesn&#39;t create memory pressure, so GC also doesn&#39;t need to release used memory. I hope `XX:MaxRAM` will help you to reduce memory footprint. Eventually, you can tweak GC configuration (`-XX:MinHeapFreeRatio`,`-XX:MaxHeapFreeRatio`, ...) \r\n\r\n----------\r\n\r\nThere is many types of memory metrics. Docker seems to be reporting RSS memory size, that can be different than &quot;committed&quot; memory reported by `jcmd` (older versions of Docker report RSS+cache as memory usage). \r\nGood discussion and links: https://stackoverflow.com/questions/38597965/difference-between-resident-set-size-rss-and-java-total-committed-memory-nmt\r\n\r\n(RSS) memory can be eaten also by some other utilities in the container - shell, process manager, ...  We don&#39;t know what else is running in the container and how do you start processes in container.","title":"Java using much more memory than heap size (or size correctly Docker memory limit)","body":"<p><a href=\"https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers/\" rel=\"noreferrer\">https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers/</a>:</p>\n\n<blockquote>\n  <p>Why is it when I specify -Xmx=1g my JVM uses up more memory than 1gb\n  of memory?</p>\n  \n  <p>Specifying -Xmx=1g is telling the JVM to allocate a 1gb heap. It’s not\n  telling the JVM to limit its entire memory usage to 1gb. There are\n  card tables, code caches, and all sorts of other off heap data\n  structures. The parameter you use to specify total memory usage is\n  -XX:MaxRAM. Be aware that with -XX:MaxRam=500m your heap will be approximately 250mb.</p>\n</blockquote>\n\n<p>Java sees host memory size and it is not aware of any container memory limitations. It doesn't create memory pressure, so GC also doesn't need to release used memory. I hope <code>XX:MaxRAM</code> will help you to reduce memory footprint. Eventually, you can tweak GC configuration (<code>-XX:MinHeapFreeRatio</code>,<code>-XX:MaxHeapFreeRatio</code>, ...) </p>\n\n<hr>\n\n<p>There is many types of memory metrics. Docker seems to be reporting RSS memory size, that can be different than \"committed\" memory reported by <code>jcmd</code> (older versions of Docker report RSS+cache as memory usage). \nGood discussion and links: <a href=\"https://stackoverflow.com/questions/38597965/difference-between-resident-set-size-rss-and-java-total-committed-memory-nmt\">Difference between Resident Set Size (RSS) and Java total committed memory (NMT) for a JVM running in Docker container</a></p>\n\n<p>(RSS) memory can be eaten also by some other utilities in the container - shell, process manager, ...  We don't know what else is running in the container and how do you start processes in container.</p>\n"},{"tags":[],"owner":{"account_id":10063823,"reputation":1382,"user_id":7439556,"accept_rate":50,"display_name":"v_sukt"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1543987359,"creation_date":1543928486,"answer_id":53613588,"question_id":53451103,"body_markdown":"**How to size correctly the Docker memory limit?** \r\nCheck the application by monitoring it for some-time. To restrict container&#39;s memory try using -m, --memory bytes option for docker run command - or something equivalant if you are running it otherwise\r\nlike \r\n\r\n    docker run -d --name my-container --memory 500m &lt;iamge-name&gt;\r\n\r\ncan&#39;t answer other questions. ","title":"Java using much more memory than heap size (or size correctly Docker memory limit)","body":"<p><strong>How to size correctly the Docker memory limit?</strong> \nCheck the application by monitoring it for some-time. To restrict container's memory try using -m, --memory bytes option for docker run command - or something equivalant if you are running it otherwise\nlike </p>\n\n<pre><code>docker run -d --name my-container --memory 500m &lt;iamge-name&gt;\n</code></pre>\n\n<p>can't answer other questions. </p>\n"},{"tags":[],"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1543947670,"creation_date":1543929912,"answer_id":53614009,"question_id":53451103,"body_markdown":"## TL;DR ##\r\nThe detail usage of the memory is provided by Native Memory Tracking (NMT) details (mainly code metadata and garbage collector). In addition to that, the Java compiler and optimizer C1/C2 consume the memory not reported in the summary.\r\n\r\nThe memory footprint can be reduced using JVM flags (but there is impacts).\r\n\r\nThe Docker container sizing must be done through testing with the expected load the application.\r\n\r\n\r\n----------\r\n\r\n\r\n## Detail for each components ##\r\nThe **shared class space** can be disabled inside a container since the classes won&#39;t be shared by another JVM process. The following flag can be used. It will remove the shared class space (17MB).\r\n\r\n    -Xshare:off\r\n\r\nThe **garbage collector** serial has a minimal memory footprint at the cost of longer pause time during garbage collect processing (see [Aleksey Shipil&#235;v comparison between GC in one picture][1]). It can be enabled with the following flag. It can save up to the GC space used (48MB).\r\n\r\n    -XX:+UseSerialGC\r\n\r\n\r\n\r\nThe **C2 compiler** can be disabled with the following flag to reduce profiling data used to decide whether to optimize or not a method.\r\n\r\n    -XX:+TieredCompilation -XX:TieredStopAtLevel=1\r\n\r\nThe code space is reduced by 20MB. Moreover, the memory outside JVM is reduced by 80MB (difference between NMT space and RSS space). **The optimizing compiler C2 needs 100MB.**\r\n\r\nThe **C1 and C2 compilers** can be disabled with the following flag.\r\n\r\n    -Xint\r\n\r\nThe memory outside the JVM is now lower than the total committed space. The code space is reduced by 43MB. Beware, this has a major impact on the performance of the application. **Disabling C1 and C2 compiler reduces the memory used by 170 MB.**\r\n\r\nUsing [**Graal VM compiler**][2] (replacement of C2) leads to a bit smaller memory footprint. It increases of 20MB the code memory space and decreases of 60MB from outside JVM memory.\r\n\r\nThe article [Java Memory Management for JVM][3] provides some relevant information the different memory spaces.\r\nOracle provides some details in [Native Memory Tracking documentation][4]. More details about compilation level in [advanced compilation policy][5] and in [disable C2 reduce code cache size by a factor 5][6]. Some details on [Why does a JVM report more committed memory than the Linux process resident set size?][7] when both compilers are disabled.\r\n\r\n\r\n  [1]: https://shipilev.net/talks/javazone-Sep2018-shenandoah.pdf#page=173\r\n  [2]: https://openjdk.java.net/projects/graal/\r\n  [3]: https://betsol.com/2017/06/java-memory-management-for-java-virtual-machine-jvm/\r\n  [4]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\r\n  [5]: https://stackoverflow.com/a/35614237/1630604\r\n  [6]: https://stackoverflow.com/a/38721975/1630604\r\n  [7]: https://stackoverflow.com/q/31173374/1630604","title":"Java using much more memory than heap size (or size correctly Docker memory limit)","body":"<h2>TL;DR</h2>\n\n<p>The detail usage of the memory is provided by Native Memory Tracking (NMT) details (mainly code metadata and garbage collector). In addition to that, the Java compiler and optimizer C1/C2 consume the memory not reported in the summary.</p>\n\n<p>The memory footprint can be reduced using JVM flags (but there is impacts).</p>\n\n<p>The Docker container sizing must be done through testing with the expected load the application.</p>\n\n<hr>\n\n<h2>Detail for each components</h2>\n\n<p>The <strong>shared class space</strong> can be disabled inside a container since the classes won't be shared by another JVM process. The following flag can be used. It will remove the shared class space (17MB).</p>\n\n<pre><code>-Xshare:off\n</code></pre>\n\n<p>The <strong>garbage collector</strong> serial has a minimal memory footprint at the cost of longer pause time during garbage collect processing (see <a href=\"https://shipilev.net/talks/javazone-Sep2018-shenandoah.pdf#page=173\" rel=\"noreferrer\">Aleksey Shipilëv comparison between GC in one picture</a>). It can be enabled with the following flag. It can save up to the GC space used (48MB).</p>\n\n<pre><code>-XX:+UseSerialGC\n</code></pre>\n\n<p>The <strong>C2 compiler</strong> can be disabled with the following flag to reduce profiling data used to decide whether to optimize or not a method.</p>\n\n<pre><code>-XX:+TieredCompilation -XX:TieredStopAtLevel=1\n</code></pre>\n\n<p>The code space is reduced by 20MB. Moreover, the memory outside JVM is reduced by 80MB (difference between NMT space and RSS space). <strong>The optimizing compiler C2 needs 100MB.</strong></p>\n\n<p>The <strong>C1 and C2 compilers</strong> can be disabled with the following flag.</p>\n\n<pre><code>-Xint\n</code></pre>\n\n<p>The memory outside the JVM is now lower than the total committed space. The code space is reduced by 43MB. Beware, this has a major impact on the performance of the application. <strong>Disabling C1 and C2 compiler reduces the memory used by 170 MB.</strong></p>\n\n<p>Using <a href=\"https://openjdk.java.net/projects/graal/\" rel=\"noreferrer\"><strong>Graal VM compiler</strong></a> (replacement of C2) leads to a bit smaller memory footprint. It increases of 20MB the code memory space and decreases of 60MB from outside JVM memory.</p>\n\n<p>The article <a href=\"https://betsol.com/2017/06/java-memory-management-for-java-virtual-machine-jvm/\" rel=\"noreferrer\">Java Memory Management for JVM</a> provides some relevant information the different memory spaces.\nOracle provides some details in <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\" rel=\"noreferrer\">Native Memory Tracking documentation</a>. More details about compilation level in <a href=\"https://stackoverflow.com/a/35614237/1630604\">advanced compilation policy</a> and in <a href=\"https://stackoverflow.com/a/38721975/1630604\">disable C2 reduce code cache size by a factor 5</a>. Some details on <a href=\"https://stackoverflow.com/q/31173374/1630604\">Why does a JVM report more committed memory than the Linux process resident set size?</a> when both compilers are disabled.</p>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":1,"up_vote_count":434,"is_accepted":true,"score":433,"last_activity_date":1664356785,"creation_date":1543978125,"answer_id":53624438,"question_id":53451103,"body_markdown":"Virtual memory used by a Java process extends far beyond just Java Heap. You know, JVM includes many subsytems: Garbage Collector, Class Loading, JIT compilers etc., and all these subsystems require certain amount of RAM to function.\r\n\r\nJVM is not the only consumer of RAM. Native libraries (including standard Java Class Library) may also allocate native memory. And this won&#39;t be even visible to Native Memory Tracking. Java application itself can also use off-heap memory by means of direct ByteBuffers.\r\n\r\nSo what takes memory in a Java process?\r\n\r\n### JVM parts (mostly shown by Native Memory Tracking)\r\n\r\n##### 1. Java Heap\r\n\r\n The most obvious part. This is where Java objects live. Heap takes up to `-Xmx` amount of memory.\r\n\r\n##### 2. Garbage Collector\r\n\r\n GC structures and algorithms require additional memory for heap management. These structures are Mark Bitmap, Mark Stack (for traversing object graph), Remembered Sets (for recording inter-region references) and others. Some of them are directly tunable, e.g. `-XX:MarkStackSizeMax`, others depend on heap layout, e.g. the larger are G1 regions (`-XX:G1HeapRegionSize`), the smaller are remembered sets.\r\n\r\n GC memory overhead varies between GC algorithms. `-XX:+UseSerialGC` and `-XX:+UseShenandoahGC` have the smallest overhead. G1 or CMS may easily use around 10% of total heap size.\r\n\r\n##### 3. Code Cache\r\n\r\n Contains dynamically generated code: JIT-compiled methods, interpreter and run-time stubs. Its size is limited by `-XX:ReservedCodeCacheSize` (240M by default). Turn off `-XX:-TieredCompilation` to reduce the amount of compiled code and thus the Code Cache usage.\r\n\r\n##### 4. Compiler\r\n\r\n JIT compiler itself also requires memory to do its job. This can be reduced again by switching off Tiered Compilation or by reducing the number of compiler threads: `-XX:CICompilerCount`.\r\n\r\n##### 5. Class loading\r\n\r\n Class metadata (method bytecodes, symbols, constant pools, annotations etc.) is stored in off-heap area called Metaspace. The more classes are loaded - the more metaspace is used. Total usage can be limited by `-XX:MaxMetaspaceSize` (unlimited by default) and  `-XX:CompressedClassSpaceSize` (1G by default).\r\n\r\n##### 6. Symbol tables\r\n\r\n Two main hashtables of the JVM: the Symbol table contains names, signatures, identifiers etc. and the String table contains references to interned strings. If Native Memory Tracking indicates significant memory usage by a String table, it probably means the application excessively calls `String.intern`.\r\n\r\n##### 7. Threads\r\n\r\n Thread stacks are also responsible for taking RAM. The stack size is controlled by `-Xss`. The default is 1M per thread, but fortunately  things are not so bad. The OS allocates memory pages lazily, i.e. on the first use, so the actual memory usage will be much lower (typically 80-200 KB per thread stack). I wrote a [script](https://github.com/apangin/jstackmem) to estimate how much of RSS belongs to Java thread stacks.\r\n\r\n There are other JVM parts that allocate native memory, but they do not usually play a big role in total memory consumption.\r\n\r\n### Direct buffers\r\n\r\nAn application may explicitly request off-heap memory by calling `ByteBuffer.allocateDirect`. The default off-heap limit is equal to `-Xmx`, but it can be overridden with `-XX:MaxDirectMemorySize`. Direct ByteBuffers are included in `Other` section of NMT output (or `Internal` before JDK 11). \r\n\r\nThe amount of direct memory in use is visible through JMX, e.g. in JConsole or Java Mission Control:\r\n\r\n[![BufferPool MBean][1]][1]\r\n\r\nBesides direct ByteBuffers there can be `MappedByteBuffers` - the files mapped to virtual memory of a process. NMT does not track them, however, MappedByteBuffers can also take physical memory. And there is no a simple way to limit how much they can take. You can just see the actual usage by looking at process memory map: `pmap -x &lt;pid&gt;`\r\n\r\n    Address           Kbytes    RSS    Dirty Mode  Mapping\r\n    ...\r\n    00007f2b3e557000   39592   32956       0 r--s- some-file-17405-Index.db\r\n    00007f2b40c01000   39600   33092       0 r--s- some-file-17404-Index.db\r\n                               ^^^^^               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n### Native libraries\r\n\r\nJNI code loaded by `System.loadLibrary` can allocate as much off-heap memory as it wants with no control from JVM side. This also concerns standard Java Class Library. In particular, unclosed Java resources may become a source of native memory leak. Typical examples are `ZipInputStream` or `DirectoryStream`.\r\n\r\nJVMTI agents, in particular, `jdwp` debugging agent - can also cause excessive memory consumption.\r\n\r\n[This answer](https://stackoverflow.com/a/53598622/3448419) describes how to profile native memory allocations with [async-profiler](https://github.com/jvm-profiling-tools/async-profiler/).\r\n\r\n### Allocator issues\r\n\r\nA process typically requests native memory either directly from OS (by `mmap` system call) or by using `malloc` - standard libc allocator. In turn, `malloc` requests big chunks of memory from OS using `mmap`, and then manages these chunks according to its own allocation algorithm. The problem is - this algorithm can lead to fragmentation and [excessive virtual memory usage](https://sourceware.org/bugzilla/show_bug.cgi?id=11261).\r\n\r\n[`jemalloc`](http://jemalloc.net/), an alternative allocator, often appears smarter than regular libc `malloc`, so switching to `jemalloc` may result in a smaller footprint for free.\r\n\r\n### Conclusion\r\n\r\nThere is no guaranteed way to estimate full memory usage of a Java process, because there are too many factors to consider.\r\n\r\n    Total memory = Heap + Code Cache + Metaspace + Symbol tables +\r\n                   Other JVM structures + Thread stacks +\r\n                   Direct buffers + Mapped files +\r\n                   Native Libraries + Malloc overhead + ...\r\n\r\nIt is possible to shrink or limit certain memory areas (like Code Cache) by JVM flags, but many others are out of JVM control at all.\r\n\r\nOne possible approach to setting Docker limits would be to watch the actual memory usage in a &quot;normal&quot; state of the process. There are tools and techniques for investigating issues with Java memory consumption: [Native Memory Tracking](https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html), [pmap](http://man7.org/linux/man-pages/man1/pmap.1.html), [jemalloc](http://jemalloc.net/), [async-profiler](https://github.com/jvm-profiling-tools/async-profiler).\r\n\r\n### Update\r\n\r\nHere is a recording of my presentation [Memory Footprint of a Java Process](https://www.youtube.com/watch?v=c755fFv1Rnk).\r\n\r\nIn this video, I discuss what may consume memory in a Java process, how to monitor and restrain the size of certain memory areas, and how to profile native memory leaks in a Java application.\r\n\r\n  [1]: https://i.stack.imgur.com/Wmszn.png","title":"Java using much more memory than heap size (or size correctly Docker memory limit)","body":"<p>Virtual memory used by a Java process extends far beyond just Java Heap. You know, JVM includes many subsytems: Garbage Collector, Class Loading, JIT compilers etc., and all these subsystems require certain amount of RAM to function.</p>\n<p>JVM is not the only consumer of RAM. Native libraries (including standard Java Class Library) may also allocate native memory. And this won't be even visible to Native Memory Tracking. Java application itself can also use off-heap memory by means of direct ByteBuffers.</p>\n<p>So what takes memory in a Java process?</p>\n<h3>JVM parts (mostly shown by Native Memory Tracking)</h3>\n<h5>1. Java Heap</h5>\n<p>The most obvious part. This is where Java objects live. Heap takes up to <code>-Xmx</code> amount of memory.</p>\n<h5>2. Garbage Collector</h5>\n<p>GC structures and algorithms require additional memory for heap management. These structures are Mark Bitmap, Mark Stack (for traversing object graph), Remembered Sets (for recording inter-region references) and others. Some of them are directly tunable, e.g. <code>-XX:MarkStackSizeMax</code>, others depend on heap layout, e.g. the larger are G1 regions (<code>-XX:G1HeapRegionSize</code>), the smaller are remembered sets.</p>\n<p>GC memory overhead varies between GC algorithms. <code>-XX:+UseSerialGC</code> and <code>-XX:+UseShenandoahGC</code> have the smallest overhead. G1 or CMS may easily use around 10% of total heap size.</p>\n<h5>3. Code Cache</h5>\n<p>Contains dynamically generated code: JIT-compiled methods, interpreter and run-time stubs. Its size is limited by <code>-XX:ReservedCodeCacheSize</code> (240M by default). Turn off <code>-XX:-TieredCompilation</code> to reduce the amount of compiled code and thus the Code Cache usage.</p>\n<h5>4. Compiler</h5>\n<p>JIT compiler itself also requires memory to do its job. This can be reduced again by switching off Tiered Compilation or by reducing the number of compiler threads: <code>-XX:CICompilerCount</code>.</p>\n<h5>5. Class loading</h5>\n<p>Class metadata (method bytecodes, symbols, constant pools, annotations etc.) is stored in off-heap area called Metaspace. The more classes are loaded - the more metaspace is used. Total usage can be limited by <code>-XX:MaxMetaspaceSize</code> (unlimited by default) and  <code>-XX:CompressedClassSpaceSize</code> (1G by default).</p>\n<h5>6. Symbol tables</h5>\n<p>Two main hashtables of the JVM: the Symbol table contains names, signatures, identifiers etc. and the String table contains references to interned strings. If Native Memory Tracking indicates significant memory usage by a String table, it probably means the application excessively calls <code>String.intern</code>.</p>\n<h5>7. Threads</h5>\n<p>Thread stacks are also responsible for taking RAM. The stack size is controlled by <code>-Xss</code>. The default is 1M per thread, but fortunately  things are not so bad. The OS allocates memory pages lazily, i.e. on the first use, so the actual memory usage will be much lower (typically 80-200 KB per thread stack). I wrote a <a href=\"https://github.com/apangin/jstackmem\" rel=\"noreferrer\">script</a> to estimate how much of RSS belongs to Java thread stacks.</p>\n<p>There are other JVM parts that allocate native memory, but they do not usually play a big role in total memory consumption.</p>\n<h3>Direct buffers</h3>\n<p>An application may explicitly request off-heap memory by calling <code>ByteBuffer.allocateDirect</code>. The default off-heap limit is equal to <code>-Xmx</code>, but it can be overridden with <code>-XX:MaxDirectMemorySize</code>. Direct ByteBuffers are included in <code>Other</code> section of NMT output (or <code>Internal</code> before JDK 11).</p>\n<p>The amount of direct memory in use is visible through JMX, e.g. in JConsole or Java Mission Control:</p>\n<p><a href=\"https://i.stack.imgur.com/Wmszn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Wmszn.png\" alt=\"BufferPool MBean\" /></a></p>\n<p>Besides direct ByteBuffers there can be <code>MappedByteBuffers</code> - the files mapped to virtual memory of a process. NMT does not track them, however, MappedByteBuffers can also take physical memory. And there is no a simple way to limit how much they can take. You can just see the actual usage by looking at process memory map: <code>pmap -x &lt;pid&gt;</code></p>\n<pre><code>Address           Kbytes    RSS    Dirty Mode  Mapping\n...\n00007f2b3e557000   39592   32956       0 r--s- some-file-17405-Index.db\n00007f2b40c01000   39600   33092       0 r--s- some-file-17404-Index.db\n                           ^^^^^               ^^^^^^^^^^^^^^^^^^^^^^^^\n</code></pre>\n<h3>Native libraries</h3>\n<p>JNI code loaded by <code>System.loadLibrary</code> can allocate as much off-heap memory as it wants with no control from JVM side. This also concerns standard Java Class Library. In particular, unclosed Java resources may become a source of native memory leak. Typical examples are <code>ZipInputStream</code> or <code>DirectoryStream</code>.</p>\n<p>JVMTI agents, in particular, <code>jdwp</code> debugging agent - can also cause excessive memory consumption.</p>\n<p><a href=\"https://stackoverflow.com/a/53598622/3448419\">This answer</a> describes how to profile native memory allocations with <a href=\"https://github.com/jvm-profiling-tools/async-profiler/\" rel=\"noreferrer\">async-profiler</a>.</p>\n<h3>Allocator issues</h3>\n<p>A process typically requests native memory either directly from OS (by <code>mmap</code> system call) or by using <code>malloc</code> - standard libc allocator. In turn, <code>malloc</code> requests big chunks of memory from OS using <code>mmap</code>, and then manages these chunks according to its own allocation algorithm. The problem is - this algorithm can lead to fragmentation and <a href=\"https://sourceware.org/bugzilla/show_bug.cgi?id=11261\" rel=\"noreferrer\">excessive virtual memory usage</a>.</p>\n<p><a href=\"http://jemalloc.net/\" rel=\"noreferrer\"><code>jemalloc</code></a>, an alternative allocator, often appears smarter than regular libc <code>malloc</code>, so switching to <code>jemalloc</code> may result in a smaller footprint for free.</p>\n<h3>Conclusion</h3>\n<p>There is no guaranteed way to estimate full memory usage of a Java process, because there are too many factors to consider.</p>\n<pre><code>Total memory = Heap + Code Cache + Metaspace + Symbol tables +\n               Other JVM structures + Thread stacks +\n               Direct buffers + Mapped files +\n               Native Libraries + Malloc overhead + ...\n</code></pre>\n<p>It is possible to shrink or limit certain memory areas (like Code Cache) by JVM flags, but many others are out of JVM control at all.</p>\n<p>One possible approach to setting Docker limits would be to watch the actual memory usage in a &quot;normal&quot; state of the process. There are tools and techniques for investigating issues with Java memory consumption: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\" rel=\"noreferrer\">Native Memory Tracking</a>, <a href=\"http://man7.org/linux/man-pages/man1/pmap.1.html\" rel=\"noreferrer\">pmap</a>, <a href=\"http://jemalloc.net/\" rel=\"noreferrer\">jemalloc</a>, <a href=\"https://github.com/jvm-profiling-tools/async-profiler\" rel=\"noreferrer\">async-profiler</a>.</p>\n<h3>Update</h3>\n<p>Here is a recording of my presentation <a href=\"https://www.youtube.com/watch?v=c755fFv1Rnk\" rel=\"noreferrer\">Memory Footprint of a Java Process</a>.</p>\n<p>In this video, I discuss what may consume memory in a Java process, how to monitor and restrain the size of certain memory areas, and how to profile native memory leaks in a Java application.</p>\n"}],"owner":{"account_id":1789955,"reputation":11725,"user_id":1630604,"accept_rate":76,"display_name":"Nicolas Henneaux"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91756,"favorite_count":0,"down_vote_count":1,"up_vote_count":203,"accepted_answer_id":53624438,"answer_count":5,"score":202,"last_activity_date":1664356785,"creation_date":1542995570,"question_id":53451103,"body_markdown":"For my application, the memory used by the Java process is much more than the heap size.\r\n\r\nThe system where the containers are running starts to have memory problem because the container is taking much more memory than the heap size.\r\n\r\nThe heap size is set to 128 MB (`-Xmx128m -Xms128m`) while the container takes up to 1GB of memory. Under normal condition, it needs 500MB. If the docker container has a limit below (e.g. `mem_limit=mem_limit=400MB`) the process gets killed by the out of memory killer of the OS.\r\n\r\n**Could you explain why the Java process is using much more memory than the heap? How to size correctly the Docker memory limit? Is there a way to reduce the off-heap memory footprint of the Java process?**\r\n\r\n\r\n----------\r\n\r\n\r\nI gather some details about the issue using command from [Native memory tracking in JVM][1].\r\n\r\nFrom the host system, I get the memory used by the container.\r\n\r\n    $ docker stats --no-stream 9afcb62a26c8\r\n    CONTAINER ID        NAME                                                                                        CPU %               MEM USAGE / LIMIT   MEM %               NET I/O             BLOCK I/O           PIDS\r\n    9afcb62a26c8        xx-xxxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.0acbb46bb6fe3ae1b1c99aff3a6073bb7b7ecf85   0.93%               461MiB / 9.744GiB   4.62%               286MB / 7.92MB      157MB / 2.66GB      57\r\n\r\nFrom inside the container, I get the memory used by the process.\r\n\r\n    $ ps -p 71 -o pcpu,rss,size,vsize\r\n    %CPU   RSS  SIZE    VSZ\r\n    11.2 486040 580860 3814600\r\n\r\n****\r\n\r\n    $ jcmd 71 VM.native_memory\r\n    71:\r\n    \r\n    Native Memory Tracking:\r\n    \r\n    Total: reserved=1631932KB, committed=367400KB\r\n    -                 Java Heap (reserved=131072KB, committed=131072KB)\r\n                                (mmap: reserved=131072KB, committed=131072KB) \r\n     \r\n    -                     Class (reserved=1120142KB, committed=79830KB)\r\n                                (classes #15267)\r\n                                (  instance classes #14230, array classes #1037)\r\n                                (malloc=1934KB #32977) \r\n                                (mmap: reserved=1118208KB, committed=77896KB) \r\n                                (  Metadata:   )\r\n                                (    reserved=69632KB, committed=68272KB)\r\n                                (    used=66725KB)\r\n                                (    free=1547KB)\r\n                                (    waste=0KB =0.00%)\r\n                                (  Class space:)\r\n                                (    reserved=1048576KB, committed=9624KB)\r\n                                (    used=8939KB)\r\n                                (    free=685KB)\r\n                                (    waste=0KB =0.00%)\r\n     \r\n    -                    Thread (reserved=24786KB, committed=5294KB)\r\n                                (thread #56)\r\n                                (stack: reserved=24500KB, committed=5008KB)\r\n                                (malloc=198KB #293) \r\n                                (arena=88KB #110)\r\n     \r\n    -                      Code (reserved=250635KB, committed=45907KB)\r\n                                (malloc=2947KB #13459) \r\n                                (mmap: reserved=247688KB, committed=42960KB) \r\n     \r\n    -                        GC (reserved=48091KB, committed=48091KB)\r\n                                (malloc=10439KB #18634) \r\n                                (mmap: reserved=37652KB, committed=37652KB) \r\n     \r\n    -                  Compiler (reserved=358KB, committed=358KB)\r\n                                (malloc=249KB #1450) \r\n                                (arena=109KB #5)\r\n     \r\n    -                  Internal (reserved=1165KB, committed=1165KB)\r\n                                (malloc=1125KB #3363) \r\n                                (mmap: reserved=40KB, committed=40KB) \r\n     \r\n    -                     Other (reserved=16696KB, committed=16696KB)\r\n                                (malloc=16696KB #35) \r\n     \r\n    -                    Symbol (reserved=15277KB, committed=15277KB)\r\n                                (malloc=13543KB #180850) \r\n                                (arena=1734KB #1)\r\n     \r\n    -    Native Memory Tracking (reserved=4436KB, committed=4436KB)\r\n                                (malloc=378KB #5359) \r\n                                (tracking overhead=4058KB)\r\n     \r\n    -        Shared class space (reserved=17144KB, committed=17144KB)\r\n                                (mmap: reserved=17144KB, committed=17144KB) \r\n     \r\n    -               Arena Chunk (reserved=1850KB, committed=1850KB)\r\n                                (malloc=1850KB) \r\n     \r\n    -                   Logging (reserved=4KB, committed=4KB)\r\n                                (malloc=4KB #179) \r\n     \r\n    -                 Arguments (reserved=19KB, committed=19KB)\r\n                                (malloc=19KB #512) \r\n     \r\n    -                    Module (reserved=258KB, committed=258KB)\r\n                                (malloc=258KB #2356) \r\n\r\n    $ cat /proc/71/smaps | grep Rss | cut -d: -f2 | tr -d &quot; &quot; | cut -f1 -dk | sort -n | awk &#39;{ sum += $1 } END { print sum }&#39;\r\n    491080\r\n\r\nThe application is a web server using Jetty/Jersey/CDI bundled inside a fat far of 36 MB.\r\n\r\nThe following version of OS and Java are used (inside the container). The Docker image is based on `openjdk:11-jre-slim`.\r\n\r\n    $ java -version\r\n    openjdk version &quot;11&quot; 2018-09-25\r\n    OpenJDK Runtime Environment (build 11+28-Debian-1)\r\n    OpenJDK 64-Bit Server VM (build 11+28-Debian-1, mixed mode, sharing)\r\n    $ uname -a\r\n    Linux service1 4.9.125-linuxkit #1 SMP Fri Sep 7 08:20:28 UTC 2018 x86_64 GNU/Linux\r\n\r\nhttps://gist.github.com/prasanthj/48e7063cac88eb396bc9961fb3149b58\r\n\r\n\r\n  [1]: https://gist.github.com/prasanthj/48e7063cac88eb396bc9961fb3149b58","title":"Java using much more memory than heap size (or size correctly Docker memory limit)","body":"<p>For my application, the memory used by the Java process is much more than the heap size.</p>\n\n<p>The system where the containers are running starts to have memory problem because the container is taking much more memory than the heap size.</p>\n\n<p>The heap size is set to 128 MB (<code>-Xmx128m -Xms128m</code>) while the container takes up to 1GB of memory. Under normal condition, it needs 500MB. If the docker container has a limit below (e.g. <code>mem_limit=mem_limit=400MB</code>) the process gets killed by the out of memory killer of the OS.</p>\n\n<p><strong>Could you explain why the Java process is using much more memory than the heap? How to size correctly the Docker memory limit? Is there a way to reduce the off-heap memory footprint of the Java process?</strong></p>\n\n<hr>\n\n<p>I gather some details about the issue using command from <a href=\"https://gist.github.com/prasanthj/48e7063cac88eb396bc9961fb3149b58\" rel=\"noreferrer\">Native memory tracking in JVM</a>.</p>\n\n<p>From the host system, I get the memory used by the container.</p>\n\n<pre><code>$ docker stats --no-stream 9afcb62a26c8\nCONTAINER ID        NAME                                                                                        CPU %               MEM USAGE / LIMIT   MEM %               NET I/O             BLOCK I/O           PIDS\n9afcb62a26c8        xx-xxxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.0acbb46bb6fe3ae1b1c99aff3a6073bb7b7ecf85   0.93%               461MiB / 9.744GiB   4.62%               286MB / 7.92MB      157MB / 2.66GB      57\n</code></pre>\n\n<p>From inside the container, I get the memory used by the process.</p>\n\n<pre><code>$ ps -p 71 -o pcpu,rss,size,vsize\n%CPU   RSS  SIZE    VSZ\n11.2 486040 580860 3814600\n</code></pre>\n\n<hr>\n\n<pre><code>$ jcmd 71 VM.native_memory\n71:\n\nNative Memory Tracking:\n\nTotal: reserved=1631932KB, committed=367400KB\n-                 Java Heap (reserved=131072KB, committed=131072KB)\n                            (mmap: reserved=131072KB, committed=131072KB) \n\n-                     Class (reserved=1120142KB, committed=79830KB)\n                            (classes #15267)\n                            (  instance classes #14230, array classes #1037)\n                            (malloc=1934KB #32977) \n                            (mmap: reserved=1118208KB, committed=77896KB) \n                            (  Metadata:   )\n                            (    reserved=69632KB, committed=68272KB)\n                            (    used=66725KB)\n                            (    free=1547KB)\n                            (    waste=0KB =0.00%)\n                            (  Class space:)\n                            (    reserved=1048576KB, committed=9624KB)\n                            (    used=8939KB)\n                            (    free=685KB)\n                            (    waste=0KB =0.00%)\n\n-                    Thread (reserved=24786KB, committed=5294KB)\n                            (thread #56)\n                            (stack: reserved=24500KB, committed=5008KB)\n                            (malloc=198KB #293) \n                            (arena=88KB #110)\n\n-                      Code (reserved=250635KB, committed=45907KB)\n                            (malloc=2947KB #13459) \n                            (mmap: reserved=247688KB, committed=42960KB) \n\n-                        GC (reserved=48091KB, committed=48091KB)\n                            (malloc=10439KB #18634) \n                            (mmap: reserved=37652KB, committed=37652KB) \n\n-                  Compiler (reserved=358KB, committed=358KB)\n                            (malloc=249KB #1450) \n                            (arena=109KB #5)\n\n-                  Internal (reserved=1165KB, committed=1165KB)\n                            (malloc=1125KB #3363) \n                            (mmap: reserved=40KB, committed=40KB) \n\n-                     Other (reserved=16696KB, committed=16696KB)\n                            (malloc=16696KB #35) \n\n-                    Symbol (reserved=15277KB, committed=15277KB)\n                            (malloc=13543KB #180850) \n                            (arena=1734KB #1)\n\n-    Native Memory Tracking (reserved=4436KB, committed=4436KB)\n                            (malloc=378KB #5359) \n                            (tracking overhead=4058KB)\n\n-        Shared class space (reserved=17144KB, committed=17144KB)\n                            (mmap: reserved=17144KB, committed=17144KB) \n\n-               Arena Chunk (reserved=1850KB, committed=1850KB)\n                            (malloc=1850KB) \n\n-                   Logging (reserved=4KB, committed=4KB)\n                            (malloc=4KB #179) \n\n-                 Arguments (reserved=19KB, committed=19KB)\n                            (malloc=19KB #512) \n\n-                    Module (reserved=258KB, committed=258KB)\n                            (malloc=258KB #2356) \n\n$ cat /proc/71/smaps | grep Rss | cut -d: -f2 | tr -d \" \" | cut -f1 -dk | sort -n | awk '{ sum += $1 } END { print sum }'\n491080\n</code></pre>\n\n<p>The application is a web server using Jetty/Jersey/CDI bundled inside a fat far of 36 MB.</p>\n\n<p>The following version of OS and Java are used (inside the container). The Docker image is based on <code>openjdk:11-jre-slim</code>.</p>\n\n<pre><code>$ java -version\nopenjdk version \"11\" 2018-09-25\nOpenJDK Runtime Environment (build 11+28-Debian-1)\nOpenJDK 64-Bit Server VM (build 11+28-Debian-1, mixed mode, sharing)\n$ uname -a\nLinux service1 4.9.125-linuxkit #1 SMP Fri Sep 7 08:20:28 UTC 2018 x86_64 GNU/Linux\n</code></pre>\n\n<p><a href=\"https://gist.github.com/prasanthj/48e7063cac88eb396bc9961fb3149b58\" rel=\"noreferrer\">https://gist.github.com/prasanthj/48e7063cac88eb396bc9961fb3149b58</a></p>\n"},{"tags":["java","c#","android","unity-game-engine"],"comments":[{"owner":{"account_id":10374624,"reputation":1180,"user_id":7651178,"display_name":"Ken Zira"},"score":0,"creation_date":1590546945,"post_id":61999970,"comment_id":109717763,"body_markdown":"Have you find any solutions? please share","body":"Have you find any solutions? please share"},{"owner":{"account_id":3859357,"reputation":1492,"user_id":3197468,"accept_rate":40,"display_name":"Pushpendra"},"score":0,"creation_date":1615799453,"post_id":61999970,"comment_id":117793233,"body_markdown":"@KenZira Please read the answer. I have posted.","body":"@KenZira Please read the answer. I have posted."}],"answers":[{"tags":[],"owner":{"account_id":3859357,"reputation":1492,"user_id":3197468,"accept_rate":40,"display_name":"Pushpendra"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1629376414,"creation_date":1590503371,"answer_id":62024484,"question_id":61999970,"body_markdown":"Developers. If you are suffering from the problem with this question. Then I would like to tell you that Unity Technology is not supporting this.\r\n\r\nSo in conclusion, *you can not use multiple unityLibrary in your Native android application.* \r\n\r\n**Then how can we achieve our goals?**\r\n\r\nRegarding this, I have consulted with experts and I have also done my research and communicated with the Unity Support Team as well. For achieving our goals, we have to make a single library for all the games. It means that we have to bind all the games into a single project. And after that we will send some identifiers from the android side to the Unity side. So that we can identify, Which game we have to play. Then after validating, from the unity side we will load that particular scene or game. Like that we can play multiple games as per your requirement.","title":"How to embedded multiple unity module in native android?","body":"<p>Developers. If you are suffering from the problem with this question. Then I would like to tell you that Unity Technology is not supporting this.</p>\n<p>So in conclusion, <em>you can not use multiple unityLibrary in your Native android application.</em></p>\n<p><strong>Then how can we achieve our goals?</strong></p>\n<p>Regarding this, I have consulted with experts and I have also done my research and communicated with the Unity Support Team as well. For achieving our goals, we have to make a single library for all the games. It means that we have to bind all the games into a single project. And after that we will send some identifiers from the android side to the Unity side. So that we can identify, Which game we have to play. Then after validating, from the unity side we will load that particular scene or game. Like that we can play multiple games as per your requirement.</p>\n"}],"owner":{"account_id":3859357,"reputation":1492,"user_id":3197468,"accept_rate":40,"display_name":"Pushpendra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1922,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":62024484,"answer_count":1,"score":7,"last_activity_date":1664356224,"creation_date":1590400492,"question_id":61999970,"body_markdown":"I stuck with a problem. This [QUESTION][1] already asked by someone. But there is no answer to this question.\r\n\r\n[Problem Related Video][2]\r\n\r\nAs per the title of this question. How to integrate multiple unity modules or libraries in the native android project. I have followed lots of procedures. But I did not get the solution to this problem. As per the [UNITY TECHNOLOGY][3] instruction I have to integrate the unity library in my project. And I have complete this for two unityLibrary. For the second library, I have to change the package and class name. And make it to work. After doing all these changes my project is building successful and it&#39;s compiling without any error. When I am clicking to load the first game then it&#39;s loading the first game. But when I click to load the second game then also it&#39;s loading the first game only.\r\n\r\nBelow is the capture screen of my android studio.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n &gt;I am sharing you the little more description about this.\r\n\r\n*Inside `app module` there is 2 `Activity`, Which is named as `MainActivity` and `GameHolderActivity`. Below is the code of `MainActivity.java`.\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    public class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        findViewById(R.id.btn1Click).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this, GameHolderActivity.class);\r\n                intent.putExtra(&quot;game&quot;, 1);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        findViewById(R.id.btn2Click).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this, GameHolderActivity.class);\r\n                intent.putExtra(&quot;game&quot;, 2);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\nAfter that, Now I am mentioning the code for `GameHolderActivity.java`. \r\n\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    //FIRST GAME ACTIVITY\r\n    import com.unity3d.player.UnityPlayerActivity;\r\n    //SECOND GAME ACTIVITY\r\n    import com.game.player.GamePlayerActivity;\r\n    public class GameHolderActivity extends Activity {\r\n    private String TAG = &quot;GAME_HOLDER_ACTIVITY&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_first_game);\r\n\r\n        if (getIntent().hasExtra(&quot;game&quot;) &amp;&amp; getIntent().getIntExtra(&quot;game&quot;, 0) == 1) {\r\n            Log.d(TAG, &quot;FIRST_GAME&quot;);\r\n            Intent intent = new Intent(GameHolderActivity.this, UnityPlayerActivity.class);\r\n            startActivity(intent);\r\n        } else {\r\n            Log.d(TAG, &quot;SECOND_GAME&quot;);\r\n            Intent intent = new Intent(GameHolderActivity.this, GamePlayerActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    }\r\n    }\r\n\r\nInto this entire process I have only change the one library package name. So that I can identify the my second game activity.\r\n\r\nAnd I have add one more thing inside my `build.gradle(Module:app)` inside `android {}`.\r\n\r\n    packagingOptions {\r\n        pickFirst &#39;**/*.so&#39;\r\n    }\r\n\r\n&gt; I have tried the following tutorial for this but did not get any positive response for multiple games.\r\n\r\n* [Reference 1][5]\r\n* [Reference 2][6]\r\n* [Reference 3][7]\r\n* [Reference 4][8]\r\n\r\nSo please provide me the solution, So that I can open my both Unity games on my native android application. I will be very thankful for this help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53239117/integrate-multiple-unity-games-in-native-android-app\r\n  [2]: https://drive.google.com/open?id=1F4y-QH50eIkAtlbJnlRQ-ze1_2IS2yiz\r\n  [3]: https://forum.unity.com/threads/integration-unity-as-a-library-in-native-android-app-version-2.751712/\r\n  [4]: https://i.stack.imgur.com/RNa4k.jpg\r\n  [5]: https://answers.unity.com/questions/1620411/how-to-import-multiple-unity-android-modules-in-to.html\r\n  [6]: https://forum.unity.com/threads/using-unity-as-a-library-in-native-ios-android-apps.685195/\r\n  [7]: https://medium.com/@davidbeloosesky/embedded-unity-within-android-app-7061f4f473a\r\n  [8]: https://medium.com/@razvan_57516/how-to-embed-unity-3d-in-a-native-android-app-5d030673bbf4","title":"How to embedded multiple unity module in native android?","body":"<p>I stuck with a problem. This <a href=\"https://stackoverflow.com/questions/53239117/integrate-multiple-unity-games-in-native-android-app\">QUESTION</a> already asked by someone. But there is no answer to this question.</p>\n\n<p><a href=\"https://drive.google.com/open?id=1F4y-QH50eIkAtlbJnlRQ-ze1_2IS2yiz\" rel=\"noreferrer\">Problem Related Video</a></p>\n\n<p>As per the title of this question. How to integrate multiple unity modules or libraries in the native android project. I have followed lots of procedures. But I did not get the solution to this problem. As per the <a href=\"https://forum.unity.com/threads/integration-unity-as-a-library-in-native-android-app-version-2.751712/\" rel=\"noreferrer\">UNITY TECHNOLOGY</a> instruction I have to integrate the unity library in my project. And I have complete this for two unityLibrary. For the second library, I have to change the package and class name. And make it to work. After doing all these changes my project is building successful and it's compiling without any error. When I am clicking to load the first game then it's loading the first game. But when I click to load the second game then also it's loading the first game only.</p>\n\n<p>Below is the capture screen of my android studio.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RNa4k.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RNa4k.jpg\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>I am sharing you the little more description about this.</p>\n</blockquote>\n\n<p>*Inside <code>app module</code> there is 2 <code>Activity</code>, Which is named as <code>MainActivity</code> and <code>GameHolderActivity</code>. Below is the code of <code>MainActivity.java</code>.</p>\n\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\npublic class MainActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    findViewById(R.id.btn1Click).setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(MainActivity.this, GameHolderActivity.class);\n            intent.putExtra(\"game\", 1);\n            startActivity(intent);\n        }\n    });\n    findViewById(R.id.btn2Click).setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(MainActivity.this, GameHolderActivity.class);\n            intent.putExtra(\"game\", 2);\n            startActivity(intent);\n        }\n    });\n}\n}\n</code></pre>\n\n<p>After that, Now I am mentioning the code for <code>GameHolderActivity.java</code>. </p>\n\n<pre><code>import android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\n//FIRST GAME ACTIVITY\nimport com.unity3d.player.UnityPlayerActivity;\n//SECOND GAME ACTIVITY\nimport com.game.player.GamePlayerActivity;\npublic class GameHolderActivity extends Activity {\nprivate String TAG = \"GAME_HOLDER_ACTIVITY\";\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_first_game);\n\n    if (getIntent().hasExtra(\"game\") &amp;&amp; getIntent().getIntExtra(\"game\", 0) == 1) {\n        Log.d(TAG, \"FIRST_GAME\");\n        Intent intent = new Intent(GameHolderActivity.this, UnityPlayerActivity.class);\n        startActivity(intent);\n    } else {\n        Log.d(TAG, \"SECOND_GAME\");\n        Intent intent = new Intent(GameHolderActivity.this, GamePlayerActivity.class);\n        startActivity(intent);\n    }\n}\n}\n</code></pre>\n\n<p>Into this entire process I have only change the one library package name. So that I can identify the my second game activity.</p>\n\n<p>And I have add one more thing inside my <code>build.gradle(Module:app)</code> inside <code>android {}</code>.</p>\n\n<pre><code>packagingOptions {\n    pickFirst '**/*.so'\n}\n</code></pre>\n\n<blockquote>\n  <p>I have tried the following tutorial for this but did not get any positive response for multiple games.</p>\n</blockquote>\n\n<ul>\n<li><a href=\"https://answers.unity.com/questions/1620411/how-to-import-multiple-unity-android-modules-in-to.html\" rel=\"noreferrer\">Reference 1</a></li>\n<li><a href=\"https://forum.unity.com/threads/using-unity-as-a-library-in-native-ios-android-apps.685195/\" rel=\"noreferrer\">Reference 2</a></li>\n<li><a href=\"https://medium.com/@davidbeloosesky/embedded-unity-within-android-app-7061f4f473a\" rel=\"noreferrer\">Reference 3</a></li>\n<li><a href=\"https://medium.com/@razvan_57516/how-to-embed-unity-3d-in-a-native-android-app-5d030673bbf4\" rel=\"noreferrer\">Reference 4</a></li>\n</ul>\n\n<p>So please provide me the solution, So that I can open my both Unity games on my native android application. I will be very thankful for this help.</p>\n"},{"tags":["java","dictionary","null"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":7,"creation_date":1474263463,"post_id":39565984,"comment_id":66442422,"body_markdown":"If `players.get(&quot;Alshon Jeffery&quot;)` returns null, this means you don&#39;t have that key in your Map. You don&#39;t have to override `equals`, since your key is a String, which already overrides `equals`.","body":"If <code>players.get(&quot;Alshon Jeffery&quot;)</code> returns null, this means you don&#39;t have that key in your Map. You don&#39;t have to override <code>equals</code>, since your key is a String, which already overrides <code>equals</code>."},{"owner":{"account_id":1371654,"reputation":779,"user_id":1306669,"accept_rate":82,"display_name":"nandu"},"score":0,"creation_date":1474263643,"post_id":39565984,"comment_id":66442477,"body_markdown":"how may items do you have in the file?","body":"how may items do you have in the file?"},{"owner":{"account_id":4602432,"reputation":193,"user_id":3732766,"accept_rate":43,"display_name":"Jack"},"score":0,"creation_date":1474263949,"post_id":39565984,"comment_id":66442586,"body_markdown":"Eran is right..","body":"Eran is right.."},{"owner":{"account_id":6145482,"reputation":1570,"user_id":4791599,"display_name":"Markus Mitterauer"},"score":0,"creation_date":1474269208,"post_id":39565984,"comment_id":66444792,"body_markdown":"Is &quot;Alshon Jeffery&quot; the first entry in your file? Then you might loose the entry because of the `scanner.nextLine();` statement before your `while` loop.","body":"Is &quot;Alshon Jeffery&quot; the first entry in your file? Then you might loose the entry because of the <code>scanner.nextLine();</code> statement before your <code>while</code> loop."},{"owner":{"account_id":6145482,"reputation":1570,"user_id":4791599,"display_name":"Markus Mitterauer"},"score":0,"creation_date":1474269556,"post_id":39565984,"comment_id":66444969,"body_markdown":"The output you provided does not match the sysouts in your code. (there&#39;s an print of the Map, but you have no sysout with the whole map in your code. And the sysouts in your code would throw `NullPointerException`s if the entries do not exist.) --&gt; Please read [How to create a Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve) and provide consistent information.","body":"The output you provided does not match the sysouts in your code. (there&#39;s an print of the Map, but you have no sysout with the whole map in your code. And the sysouts in your code would throw <code>NullPointerException</code>s if the entries do not exist.) --&gt; Please read <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> and provide consistent information."}],"answers":[{"tags":[],"owner":{"account_id":3054958,"reputation":14923,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474268024,"creation_date":1474268024,"answer_id":39567020,"question_id":39565984,"body_markdown":"`Map.get()` returns `null` in two cases:\r\n\r\n1. The map does not contain a value associated with the provided key\r\n2. The value associated with the key is `null`\r\n\r\nIf you want to differentiate between those two states you can use the `map.contains()` method which returns true/false depending on whether the key is present in the map.\r\n\r\n&gt; I read online something about equals method overriding but I am not sure how to implement it for this.\r\n\r\nThe easiest option is to let the IDE generate the equals/hashcode for you. In IntelliJ Idea you can just hit Alt+Inster somewhere inside the class and then select `equals() and hashcode()`. If you want to write it on your own then you have to follow the contract of those methods:\r\n\r\nEquals (from the javadoc):\r\n\r\n    It is reflexive: for any non-null reference value x, x.equals(x) should return true.\r\n    It is symmetric: for any non-null reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.\r\n    It is transitive: for any non-null reference values x, y, and z, if x.equals(y) returns true and y.equals(z) returns true, then x.equals(z) should return true.\r\n    It is consistent: for any non-null reference values x and y, multiple invocations of x.equals(y) consistently return true or consistently return false, provided no information used in equals comparisons on the objects is modified.\r\n    For any non-null reference value x, x.equals(null) should return false. \r\n\r\nHashcode (from the javadoc):\r\n\r\n\r\n    Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.\r\n    If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.\r\n    It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hash tables. \r\n\r\nIt&#39;s important to note that the keys in a map must be effectively immutable. This means that once you put a given key in a map you must not modify it otherwise you&#39;ll not be able to `get()` the associated value, because it&#39;s hashcode may change. Of course that&#39; snot the case with your code because strings are immutable.","title":"Java Map returning null get method","body":"<p><code>Map.get()</code> returns <code>null</code> in two cases:</p>\n\n<ol>\n<li>The map does not contain a value associated with the provided key</li>\n<li>The value associated with the key is <code>null</code></li>\n</ol>\n\n<p>If you want to differentiate between those two states you can use the <code>map.contains()</code> method which returns true/false depending on whether the key is present in the map.</p>\n\n<blockquote>\n  <p>I read online something about equals method overriding but I am not sure how to implement it for this.</p>\n</blockquote>\n\n<p>The easiest option is to let the IDE generate the equals/hashcode for you. In IntelliJ Idea you can just hit Alt+Inster somewhere inside the class and then select <code>equals() and hashcode()</code>. If you want to write it on your own then you have to follow the contract of those methods:</p>\n\n<p>Equals (from the javadoc):</p>\n\n<pre><code>It is reflexive: for any non-null reference value x, x.equals(x) should return true.\nIt is symmetric: for any non-null reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.\nIt is transitive: for any non-null reference values x, y, and z, if x.equals(y) returns true and y.equals(z) returns true, then x.equals(z) should return true.\nIt is consistent: for any non-null reference values x and y, multiple invocations of x.equals(y) consistently return true or consistently return false, provided no information used in equals comparisons on the objects is modified.\nFor any non-null reference value x, x.equals(null) should return false. \n</code></pre>\n\n<p>Hashcode (from the javadoc):</p>\n\n<pre><code>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.\nIf two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.\nIt is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hash tables. \n</code></pre>\n\n<p>It's important to note that the keys in a map must be effectively immutable. This means that once you put a given key in a map you must not modify it otherwise you'll not be able to <code>get()</code> the associated value, because it's hashcode may change. Of course that' snot the case with your code because strings are immutable.</p>\n"},{"tags":[],"owner":{"account_id":26421397,"reputation":1,"user_id":20069024,"display_name":"sindhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664355856,"creation_date":1663926253,"answer_id":73825852,"question_id":39565984,"body_markdown":"    if ((request.getMobileNo()&gt;0)) {\r\n\r\n        savedOtp = otps.get(String.valueOf(request.getMobileNo()));\r\n    }\r\n\r\nThis is how to use null point exception handle.\r\n\r\n","title":"Java Map returning null get method","body":"<pre><code>if ((request.getMobileNo()&gt;0)) {\n\n    savedOtp = otps.get(String.valueOf(request.getMobileNo()));\n}\n</code></pre>\n<p>This is how to use null point exception handle.</p>\n"}],"owner":{"account_id":8196150,"reputation":21,"user_id":6168933,"display_name":"rheak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664355856,"creation_date":1474263156,"question_id":39565984,"body_markdown":"****\n  Stupid error by me. The string key I was passing in had parenthesis and I didn&#39;t realize that. I added a .replace() to the key and everything is good now. Thanks for the responses.\n***\n\n\n\nSo I have a class that reads a csv file that contains nfl players name, position, salary, points, and team. The DKdata class reads the file, getPlayers method returns the map. My problem I am having is that whenever I try to use get(key) it only returns null. I read online something about equals method overriding but I am not sure how to implement it for this. If anyone can help me out or lead me in the right direction that will be greatly appreciated. Code below with output.\n\n    import java.io.FileNotFoundException;\n    import java.util.HashMap;\n    import java.util.Map;\n\n    public class Test {\n\n        public static void main(String[]args) throws FileNotFoundException {\n            Map&lt;String, Player&gt; players = new HashMap&lt;String, Player&gt;();\n            DKdata d = new DKdata();\n            //players.putAll(d.getPlayers());\n            \n            Player p = new Player(&quot;WR&quot;,&quot;Kev&quot;, 1000, 99, &quot;Pit&quot;);\n            String name = p.name;\n            players.put(p.name, p);\n            System.out.println(players.get(name).salary);\n            \n            players.putAll(d.getPlayers());\n            System.out.println(players.get(&quot;Zach Ertz&quot;).salary);\n        }\n    }\n\n    public class DKdata {\n        private Map&lt;String, Player&gt; players;\n        private Scanner scanner = new Scanner(new File(&quot;/Users/kevinrhea/Documents/DraftKing/DKsalaries.csv&quot;));\n        \n        public DKdata() throws FileNotFoundException {\n            try {   \n                players = new HashMap&lt;String, Player&gt;();\n                scanner.useDelimiter(&quot;,&quot;);\n                scanner.nextLine();\n                while(scanner.hasNext()){\n                    String[] data = scanner.nextLine().split(&quot;,&quot;);\n                    Player player = new Player(data[0], data[1], Integer.parseInt(data[2]), Double.parseDouble(data[4]), data[5]);\n                    players.put(data[1], player);\n                }\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        public Map&lt;String, Player&gt; getPlayers(){\n            return players;\n        }   \n    }\n\nOutput: \n&gt; {&quot;Zach Ertz&quot;=Player@2503dbd3, &quot;Jacoby Brissett&quot;=Player@4b67cf4d, &quot;Brandon Bolden&quot;=Player@7ea987ac, ... \n&gt;\n&gt; null\n","title":"Java Map returning null get method","body":"<hr />\n<p>Stupid error by me. The string key I was passing in had parenthesis and I didn't realize that. I added a .replace() to the key and everything is good now. Thanks for the responses.</p>\n<hr />\n<p>So I have a class that reads a csv file that contains nfl players name, position, salary, points, and team. The DKdata class reads the file, getPlayers method returns the map. My problem I am having is that whenever I try to use get(key) it only returns null. I read online something about equals method overriding but I am not sure how to implement it for this. If anyone can help me out or lead me in the right direction that will be greatly appreciated. Code below with output.</p>\n<pre><code>import java.io.FileNotFoundException;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Test {\n\n    public static void main(String[]args) throws FileNotFoundException {\n        Map&lt;String, Player&gt; players = new HashMap&lt;String, Player&gt;();\n        DKdata d = new DKdata();\n        //players.putAll(d.getPlayers());\n        \n        Player p = new Player(&quot;WR&quot;,&quot;Kev&quot;, 1000, 99, &quot;Pit&quot;);\n        String name = p.name;\n        players.put(p.name, p);\n        System.out.println(players.get(name).salary);\n        \n        players.putAll(d.getPlayers());\n        System.out.println(players.get(&quot;Zach Ertz&quot;).salary);\n    }\n}\n\npublic class DKdata {\n    private Map&lt;String, Player&gt; players;\n    private Scanner scanner = new Scanner(new File(&quot;/Users/kevinrhea/Documents/DraftKing/DKsalaries.csv&quot;));\n    \n    public DKdata() throws FileNotFoundException {\n        try {   \n            players = new HashMap&lt;String, Player&gt;();\n            scanner.useDelimiter(&quot;,&quot;);\n            scanner.nextLine();\n            while(scanner.hasNext()){\n                String[] data = scanner.nextLine().split(&quot;,&quot;);\n                Player player = new Player(data[0], data[1], Integer.parseInt(data[2]), Double.parseDouble(data[4]), data[5]);\n                players.put(data[1], player);\n            }\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Map&lt;String, Player&gt; getPlayers(){\n        return players;\n    }   \n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>{&quot;Zach Ertz&quot;=Player@2503dbd3, &quot;Jacoby Brissett&quot;=Player@4b67cf4d, &quot;Brandon Bolden&quot;=Player@7ea987ac, ...</p>\n<p>null</p>\n</blockquote>\n"},{"tags":["java","helidon","helidon-webclient","helidon-httpclient"],"answers":[{"tags":[],"owner":{"account_id":3809533,"reputation":491,"user_id":5439738,"display_name":"Tomas Langer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664355645,"creation_date":1664355645,"answer_id":73878787,"question_id":73856512,"body_markdown":"There are two ways to get a response entity with WebClient:\r\n\r\n**Approach 1 - get entity directly**\r\n```java\r\nclient.get()\r\n  .uri(&quot;http://localhost:8080/greet&quot;)\r\n  .request(String.class)\r\n  .forSingle(System.out::println);\r\n```\r\n\r\nThis approach directly reads an entity, but as there is not way to represent failures, we throw an exception if the response code is above 400, to let you know something is wrong.\r\nIf you need entity of failures, you should use \r\n\r\n**Approach 2 - get response**\r\n```java\r\nclient.get()\r\n  .uri(&quot;http://localhost:8080/greet&quot;)\r\n  .request()\r\n  .forSingle(response -&gt; {\r\n    System.out.println(response.status());\r\n    response.content()\r\n      .as(String.class)\r\n      .forSingle(System.out::println);\r\n  });\r\n```\r\n\r\nThis approach first gives you a response, which gives you access to status, headers and entity. Then you can read the entity to process it, even if the status is in the error ranges\r\n","title":"Helidon Webclient Handle 400 Bad Request","body":"<p>There are two ways to get a response entity with WebClient:</p>\n<p><strong>Approach 1 - get entity directly</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>client.get()\n  .uri(&quot;http://localhost:8080/greet&quot;)\n  .request(String.class)\n  .forSingle(System.out::println);\n</code></pre>\n<p>This approach directly reads an entity, but as there is not way to represent failures, we throw an exception if the response code is above 400, to let you know something is wrong.\nIf you need entity of failures, you should use</p>\n<p><strong>Approach 2 - get response</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>client.get()\n  .uri(&quot;http://localhost:8080/greet&quot;)\n  .request()\n  .forSingle(response -&gt; {\n    System.out.println(response.status());\n    response.content()\n      .as(String.class)\n      .forSingle(System.out::println);\n  });\n</code></pre>\n<p>This approach first gives you a response, which gives you access to status, headers and entity. Then you can read the entity to process it, even if the status is in the error ranges</p>\n"}],"owner":{"account_id":9617777,"reputation":33,"user_id":7139955,"display_name":"Sourabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664355645,"creation_date":1664206432,"question_id":73856512,"body_markdown":"I&#39;m new to Helidon framework and started with Helidon 2 with JDK11 for our microservice.\r\nAs per the requirement we need to invoke external HTTP/HTTPS endpoints and for that started exploring helidon webclient from below resources.\r\n&lt;https://helidon.io/docs/v2/#/se/webclient/01_introduction&gt;\r\n\r\n&lt;https://medium.com/helidon/helidon-web-client-72e22f5d509a&gt;\r\nIt works fine for success scenarios, However for error use cases (e.g 400. Bad Request), we want to capture the error message that is thrown by the external APIs, but not getting any convenient way to do so and always endup getting the stacktrace\r\n```\r\nCaused by: io.helidon.webclient.WebClientException: Request failed with code 400\r\n\tat io.helidon.webclient.WebClientRequestBuilderImpl.getContentFromClientResponse(WebClientRequestBuilderImpl.java:615)\r\n\tat io.helidon.common.reactive.MultiMapperPublisher$MapperSubscriber.onNext(MultiMapperPublisher.java:73)\r\n\tat io.helidon.common.reactive.DeferredScalarSubscription.complete(DeferredScalarSubscription.java:91)\r\n\tat io.helidon.common.reactive.MultiFromCompletionStage$CompletionStageSubscription.accept(MultiFromCompletionStage.java:72)\r\n\tat io.helidon.common.reactive.MultiFromCompletionStage$CompletionStageSubscription.accept(MultiFromCompletionStage.java:52)\r\n\tat io.helidon.common.reactive.MultiFromCompletionStage$AtomicBiConsumer.accept(MultiFromCompletionStage.java:95)\r\n\tat io.helidon.common.reactive.MultiFromCompletionStage$AtomicBiConsumer.accept(MultiFromCompletionStage.java:88)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\r\n\tat io.helidon.webclient.NettyClientHandler.lambda$channelRead0$8(NettyClientHandler.java:200)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniRunNow(CompletableFuture.java:815)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniRunStage(CompletableFuture.java:799)\r\n\tat java.base/java.util.concurrent.CompletableFuture.thenRun(CompletableFuture.java:2121)\r\n\tat io.helidon.webclient.NettyClientHandler.lambda$channelRead0$9(NettyClientHandler.java:193)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143)\r\n\tat io.helidon.webclient.NettyClientHandler.channelRead0(NettyClientHandler.java:186)\r\n\tat io.helidon.webclient.NettyClientHandler.channelRead0(NettyClientHandler.java:61)\r\n\tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1504)\r\n\tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1253)\r\n\tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1300)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:508)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:447)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\t... 1 more\r\n```\r\n\r\nOn debugging Further, this is the implementation I&#39;m seeing\r\n```\r\n    private MessageBodyReadableContent getContentFromClientResponse(WebClientResponse response) {\r\n        if (response.status().code() &gt;= Status.MOVED_PERMANENTLY_301.code()) {\r\n            throw new WebClientException(&quot;Request failed with code &quot; + response.status().code());\r\n        } else {\r\n            return response.content();\r\n        }\r\n    }\r\n```\r\nSo it clearly throws anything above 301 and so couldnt get the response content.\r\nThe external endpoint throws below message with 400 Bad request and we want to capture this message with Helidon webclient. \r\n```\r\n{\r\n    &quot;errorCode&quot;: &quot;FSS-177&quot;,\r\n    &quot;errorDescription&quot;: &quot;FileSize is too minimum for Multipart upload&quot;,\r\n    &quot;errorParameters&quot;: []\r\n}\r\n```\r\nCan anyone help here if I&#39;m missing anything.","title":"Helidon Webclient Handle 400 Bad Request","body":"<p>I'm new to Helidon framework and started with Helidon 2 with JDK11 for our microservice.\nAs per the requirement we need to invoke external HTTP/HTTPS endpoints and for that started exploring helidon webclient from below resources.\n<a href=\"https://helidon.io/docs/v2/#/se/webclient/01_introduction\" rel=\"nofollow noreferrer\">https://helidon.io/docs/v2/#/se/webclient/01_introduction</a></p>\n<p><a href=\"https://medium.com/helidon/helidon-web-client-72e22f5d509a\" rel=\"nofollow noreferrer\">https://medium.com/helidon/helidon-web-client-72e22f5d509a</a>\nIt works fine for success scenarios, However for error use cases (e.g 400. Bad Request), we want to capture the error message that is thrown by the external APIs, but not getting any convenient way to do so and always endup getting the stacktrace</p>\n<pre><code>Caused by: io.helidon.webclient.WebClientException: Request failed with code 400\n    at io.helidon.webclient.WebClientRequestBuilderImpl.getContentFromClientResponse(WebClientRequestBuilderImpl.java:615)\n    at io.helidon.common.reactive.MultiMapperPublisher$MapperSubscriber.onNext(MultiMapperPublisher.java:73)\n    at io.helidon.common.reactive.DeferredScalarSubscription.complete(DeferredScalarSubscription.java:91)\n    at io.helidon.common.reactive.MultiFromCompletionStage$CompletionStageSubscription.accept(MultiFromCompletionStage.java:72)\n    at io.helidon.common.reactive.MultiFromCompletionStage$CompletionStageSubscription.accept(MultiFromCompletionStage.java:52)\n    at io.helidon.common.reactive.MultiFromCompletionStage$AtomicBiConsumer.accept(MultiFromCompletionStage.java:95)\n    at io.helidon.common.reactive.MultiFromCompletionStage$AtomicBiConsumer.accept(MultiFromCompletionStage.java:88)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2073)\n    at io.helidon.webclient.NettyClientHandler.lambda$channelRead0$8(NettyClientHandler.java:200)\n    at java.base/java.util.concurrent.CompletableFuture.uniRunNow(CompletableFuture.java:815)\n    at java.base/java.util.concurrent.CompletableFuture.uniRunStage(CompletableFuture.java:799)\n    at java.base/java.util.concurrent.CompletableFuture.thenRun(CompletableFuture.java:2121)\n    at io.helidon.webclient.NettyClientHandler.lambda$channelRead0$9(NettyClientHandler.java:193)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)\n    at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)\n    at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143)\n    at io.helidon.webclient.NettyClientHandler.channelRead0(NettyClientHandler.java:186)\n    at io.helidon.webclient.NettyClientHandler.channelRead0(NettyClientHandler.java:61)\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:271)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1504)\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1253)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1300)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:508)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:447)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    ... 1 more\n</code></pre>\n<p>On debugging Further, this is the implementation I'm seeing</p>\n<pre><code>    private MessageBodyReadableContent getContentFromClientResponse(WebClientResponse response) {\n        if (response.status().code() &gt;= Status.MOVED_PERMANENTLY_301.code()) {\n            throw new WebClientException(&quot;Request failed with code &quot; + response.status().code());\n        } else {\n            return response.content();\n        }\n    }\n</code></pre>\n<p>So it clearly throws anything above 301 and so couldnt get the response content.\nThe external endpoint throws below message with 400 Bad request and we want to capture this message with Helidon webclient.</p>\n<pre><code>{\n    &quot;errorCode&quot;: &quot;FSS-177&quot;,\n    &quot;errorDescription&quot;: &quot;FileSize is too minimum for Multipart upload&quot;,\n    &quot;errorParameters&quot;: []\n}\n</code></pre>\n<p>Can anyone help here if I'm missing anything.</p>\n"},{"tags":["java","spring","elasticsearch","elastic-stack"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664200280,"post_id":73854858,"comment_id":130410361,"body_markdown":"Did you tried to add `searchLocationOnLevel ` to `LocationSearch`?","body":"Did you tried to add <code>searchLocationOnLevel </code> to <code>LocationSearch</code>?"},{"owner":{"account_id":15259819,"reputation":70,"user_id":11010274,"display_name":"Ajay Kushwaha"},"score":0,"creation_date":1664254660,"post_id":73854858,"comment_id":130423091,"body_markdown":"searchLocationOnLevel is a JPA repository method, and LocationSearch is our elastic Model class. @talex","body":"searchLocationOnLevel is a JPA repository method, and LocationSearch is our elastic Model class. @talex"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664265559,"post_id":73854858,"comment_id":130425706,"body_markdown":"Does json returned from elastic contains &quot;searchLocationOnLevel&quot;?","body":"Does json returned from elastic contains &quot;searchLocationOnLevel&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":15259819,"reputation":70,"user_id":11010274,"display_name":"Ajay Kushwaha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664355505,"creation_date":1664355505,"answer_id":73878753,"question_id":73854858,"body_markdown":"I was able to figure out later how to do it, but I still feel JPA should have worked too. Anyone who has a better explanation for this is most welcome.\r\n\r\nI wrote a Query Builder method and called by using normal Elastic Search Query Methods.\r\n\r\n```\r\npublic Query AutoCompleteLocationQueryBuilder(String locationTerm, String level, Long tenantId){\r\n\r\n        QueryBuilder tenantQuery = QueryBuilders\r\n                .matchQuery(&quot;tenantId&quot;, tenantId);\r\n\r\n        String regexExpression = &quot;.*&quot; + locationTerm + &quot;*&quot;;\r\n        QueryBuilder regexQuery = QueryBuilders.regexpQuery(&quot;name&quot;,regexExpression);\r\n\r\n        String nestedPath=&quot;locationType&quot;;\r\n        BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\r\n        MatchQueryBuilder matchQuery =\r\n                QueryBuilders.matchQuery(&quot;locationType.level&quot;, level);\r\n\r\n        NestedQueryBuilder nestedQuery = QueryBuilders\r\n                .nestedQuery(nestedPath, boolQueryBuilder.must(matchQuery), ScoreMode.Avg);\r\n\r\n        QueryBuilder finalQuery = QueryBuilders.boolQuery()\r\n                .must(tenantQuery)\r\n                .must(regexQuery)\r\n                .must(nestedQuery);\r\n\r\n        return new NativeSearchQueryBuilder()\r\n                .withQuery(finalQuery)\r\n                .build()\r\n                .setPageable(PageRequest.of(0, 10));\r\n    }\r\n```","title":"Convert Elastic Search Query into Java","body":"<p>I was able to figure out later how to do it, but I still feel JPA should have worked too. Anyone who has a better explanation for this is most welcome.</p>\n<p>I wrote a Query Builder method and called by using normal Elastic Search Query Methods.</p>\n<pre><code>public Query AutoCompleteLocationQueryBuilder(String locationTerm, String level, Long tenantId){\n\n        QueryBuilder tenantQuery = QueryBuilders\n                .matchQuery(&quot;tenantId&quot;, tenantId);\n\n        String regexExpression = &quot;.*&quot; + locationTerm + &quot;*&quot;;\n        QueryBuilder regexQuery = QueryBuilders.regexpQuery(&quot;name&quot;,regexExpression);\n\n        String nestedPath=&quot;locationType&quot;;\n        BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\n        MatchQueryBuilder matchQuery =\n                QueryBuilders.matchQuery(&quot;locationType.level&quot;, level);\n\n        NestedQueryBuilder nestedQuery = QueryBuilders\n                .nestedQuery(nestedPath, boolQueryBuilder.must(matchQuery), ScoreMode.Avg);\n\n        QueryBuilder finalQuery = QueryBuilders.boolQuery()\n                .must(tenantQuery)\n                .must(regexQuery)\n                .must(nestedQuery);\n\n        return new NativeSearchQueryBuilder()\n                .withQuery(finalQuery)\n                .build()\n                .setPageable(PageRequest.of(0, 10));\n    }\n</code></pre>\n"}],"owner":{"account_id":15259819,"reputation":70,"user_id":11010274,"display_name":"Ajay Kushwaha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73878753,"answer_count":1,"score":0,"last_activity_date":1664355505,"creation_date":1664198831,"question_id":73854858,"body_markdown":"I have written an elastic query and it&#39;s working completely fine(verified in Kibana). But I have to call this query in java to convert it. I am trying to do it using the repository Query method. But its giving me error while compilation only. Please suggest the correct way to do it.\r\n\r\nError:  Reason: No property searchLocationOnLevel found for type LocationSearch!; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property searchLocationOnLevel found for type LocationSearch!\r\n\r\nElastic Query(Working)\r\n\r\n```\r\nGET dev_skp_location/_search\r\n{\r\n  &quot;query&quot;: {\r\n     &quot;bool&quot;:{\r\n        &quot;must&quot;:[\r\n        {\r\n          &quot;regexp&quot;: { &quot;name&quot;: &quot;.*pur*&quot;}\r\n        },\r\n        {\r\n          &quot;nested&quot;: {\r\n          &quot;path&quot;: &quot;locationType&quot;,\r\n          &quot;query&quot;: {\r\n            &quot;bool&quot;: {\r\n              &quot;must&quot;: [\r\n                { \r\n                  &quot;match&quot;: { &quot;locationType.level&quot;: &quot;1&quot; } \r\n                  \r\n                }]\r\n              }\r\n            },\r\n          &quot;score_mode&quot;: &quot;avg&quot;\r\n        }\r\n      }\r\n    ]\r\n  }\r\n }\r\n}\r\n```\r\n\r\n\r\nThe JPA way I am implemented it.\r\n\r\n```\r\n @Query(&quot;{\\n&quot; +\r\n            &quot;     \\&quot;bool\\&quot;:{\\n&quot; +\r\n            &quot;        \\&quot;must\\&quot;:[\\n&quot; +\r\n            &quot;        {\\n&quot; +\r\n            &quot;          \\&quot;regexp\\&quot;: { \\&quot;name\\&quot;: \\&quot;.*pur*\\&quot;}\\n&quot; +\r\n            &quot;        },\\n&quot; +\r\n            &quot;        {\\n&quot; +\r\n            &quot;          \\&quot;nested\\&quot;: {\\n&quot; +\r\n            &quot;          \\&quot;path\\&quot;: \\&quot;locationType\\&quot;,\\n&quot; +\r\n            &quot;          \\&quot;query\\&quot;: {\\n&quot; +\r\n            &quot;            \\&quot;bool\\&quot;: {\\n&quot; +\r\n            &quot;              \\&quot;must\\&quot;: [\\n&quot; +\r\n            &quot;                { \\n&quot; +\r\n            &quot;                  \\&quot;match\\&quot;: { \\&quot;locationType.level\\&quot;: \\&quot;1\\&quot; } \\n&quot; +\r\n            &quot;                  \\n&quot; +\r\n            &quot;                }]\\n&quot; +\r\n            &quot;              }\\n&quot; +\r\n            &quot;            },\\n&quot; +\r\n            &quot;          \\&quot;score_mode\\&quot;: \\&quot;avg\\&quot;\\n&quot; +\r\n            &quot;        }\\n&quot; +\r\n            &quot;      }\\n&quot; +\r\n            &quot;    ]\\n&quot; +\r\n            &quot;  }\\n&quot; +\r\n            &quot; }&quot;)\r\n    Page&lt;LocationSearch&gt; searchLocationOnLevel(String loc, String level, Pageable pageable);\r\n```\r\n\r\n\r\n","title":"Convert Elastic Search Query into Java","body":"<p>I have written an elastic query and it's working completely fine(verified in Kibana). But I have to call this query in java to convert it. I am trying to do it using the repository Query method. But its giving me error while compilation only. Please suggest the correct way to do it.</p>\n<p>Error:  Reason: No property searchLocationOnLevel found for type LocationSearch!; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property searchLocationOnLevel found for type LocationSearch!</p>\n<p>Elastic Query(Working)</p>\n<pre><code>GET dev_skp_location/_search\n{\n  &quot;query&quot;: {\n     &quot;bool&quot;:{\n        &quot;must&quot;:[\n        {\n          &quot;regexp&quot;: { &quot;name&quot;: &quot;.*pur*&quot;}\n        },\n        {\n          &quot;nested&quot;: {\n          &quot;path&quot;: &quot;locationType&quot;,\n          &quot;query&quot;: {\n            &quot;bool&quot;: {\n              &quot;must&quot;: [\n                { \n                  &quot;match&quot;: { &quot;locationType.level&quot;: &quot;1&quot; } \n                  \n                }]\n              }\n            },\n          &quot;score_mode&quot;: &quot;avg&quot;\n        }\n      }\n    ]\n  }\n }\n}\n</code></pre>\n<p>The JPA way I am implemented it.</p>\n<pre><code> @Query(&quot;{\\n&quot; +\n            &quot;     \\&quot;bool\\&quot;:{\\n&quot; +\n            &quot;        \\&quot;must\\&quot;:[\\n&quot; +\n            &quot;        {\\n&quot; +\n            &quot;          \\&quot;regexp\\&quot;: { \\&quot;name\\&quot;: \\&quot;.*pur*\\&quot;}\\n&quot; +\n            &quot;        },\\n&quot; +\n            &quot;        {\\n&quot; +\n            &quot;          \\&quot;nested\\&quot;: {\\n&quot; +\n            &quot;          \\&quot;path\\&quot;: \\&quot;locationType\\&quot;,\\n&quot; +\n            &quot;          \\&quot;query\\&quot;: {\\n&quot; +\n            &quot;            \\&quot;bool\\&quot;: {\\n&quot; +\n            &quot;              \\&quot;must\\&quot;: [\\n&quot; +\n            &quot;                { \\n&quot; +\n            &quot;                  \\&quot;match\\&quot;: { \\&quot;locationType.level\\&quot;: \\&quot;1\\&quot; } \\n&quot; +\n            &quot;                  \\n&quot; +\n            &quot;                }]\\n&quot; +\n            &quot;              }\\n&quot; +\n            &quot;            },\\n&quot; +\n            &quot;          \\&quot;score_mode\\&quot;: \\&quot;avg\\&quot;\\n&quot; +\n            &quot;        }\\n&quot; +\n            &quot;      }\\n&quot; +\n            &quot;    ]\\n&quot; +\n            &quot;  }\\n&quot; +\n            &quot; }&quot;)\n    Page&lt;LocationSearch&gt; searchLocationOnLevel(String loc, String level, Pageable pageable);\n</code></pre>\n"},{"tags":["java","protocol-buffers","grpc","grpc-java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1664355726,"post_id":73878752,"comment_id":130450503,"body_markdown":"`Struct` doesn&#39;t have any way of representing 64-bit integers specifically - it&#39;s meant to just mirror what&#39;s in JSON. Fundamentally, if you&#39;re trying to represent large 64-bit integers in JSON, you should use strings instead to avoid losing precision.","body":"<code>Struct</code> doesn&#39;t have any way of representing 64-bit integers specifically - it&#39;s meant to just mirror what&#39;s in JSON. Fundamentally, if you&#39;re trying to represent large 64-bit integers in JSON, you should use strings instead to avoid losing precision."}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664355502,"creation_date":1664355502,"question_id":73878752,"body_markdown":"I have a message\r\n```\r\nmessage EchoResponse {\r\n  string message = 1;\r\n  google.protobuf.Struct jwtClaims = 2;\r\n}\r\n```\r\n\r\nHowever, when I do\r\n```\r\n      final var jwtClaimsStruct = Struct.newBuilder();\r\n      JsonFormat.parser()\r\n              .merge(someJson, jwtClaimsStruct);\r\n```\r\nI get\r\n```\r\n{\r\n    &quot;message&quot;: &quot;FFbarsdfasf&quot;,\r\n    &quot;jwtClaims&quot;: {\r\n        &quot;sub&quot;: &quot;good&quot;,\r\n        &quot;exp&quot;: 1.664354816E9, \r\n        &quot;iss&quot;: &quot;http://localhost&quot;,\r\n        &quot;jti&quot;: &quot;3dbecf85-d5f2-2109-5a21-0d135fb35e8a&quot;\r\n    }\r\n}\r\n```\r\n\r\nThe `exp` is converted to a double value, but I would want to keep it an `int64`.\r\n\r\nIs there any way of forcing just `exp` to be a specific type and still allow arbitrary key-value pairs to be whatever they want?","title":"How do I override the type of one of the Struct fields but keep the unknown values?","body":"<p>I have a message</p>\n<pre><code>message EchoResponse {\n  string message = 1;\n  google.protobuf.Struct jwtClaims = 2;\n}\n</code></pre>\n<p>However, when I do</p>\n<pre><code>      final var jwtClaimsStruct = Struct.newBuilder();\n      JsonFormat.parser()\n              .merge(someJson, jwtClaimsStruct);\n</code></pre>\n<p>I get</p>\n<pre><code>{\n    &quot;message&quot;: &quot;FFbarsdfasf&quot;,\n    &quot;jwtClaims&quot;: {\n        &quot;sub&quot;: &quot;good&quot;,\n        &quot;exp&quot;: 1.664354816E9, \n        &quot;iss&quot;: &quot;http://localhost&quot;,\n        &quot;jti&quot;: &quot;3dbecf85-d5f2-2109-5a21-0d135fb35e8a&quot;\n    }\n}\n</code></pre>\n<p>The <code>exp</code> is converted to a double value, but I would want to keep it an <code>int64</code>.</p>\n<p>Is there any way of forcing just <code>exp</code> to be a specific type and still allow arbitrary key-value pairs to be whatever they want?</p>\n"},{"tags":["java","quarkus","rest-client"],"comments":[{"owner":{"account_id":1412026,"reputation":934,"user_id":1338432,"display_name":"Kerim Oguzcan Yenidunya"},"score":0,"creation_date":1650966353,"post_id":72010716,"comment_id":127243323,"body_markdown":"did you add @ApplicationScoped to the class which you inject &lt;my-interface&gt; api?","body":"did you add @ApplicationScoped to the class which you inject &lt;my-interface&gt; api?"},{"owner":{"account_id":23905170,"reputation":83,"user_id":17902843,"display_name":"helplessMax"},"score":0,"creation_date":1650971648,"post_id":72010716,"comment_id":127245247,"body_markdown":"yes I did. Sadly no difference","body":"yes I did. Sadly no difference"},{"owner":{"account_id":1412026,"reputation":934,"user_id":1338432,"display_name":"Kerim Oguzcan Yenidunya"},"score":1,"creation_date":1650972899,"post_id":72010716,"comment_id":127245702,"body_markdown":"another thing may be that scope is not defined in application.properties? like here: https://quarkus.io/guides/rest-client#create-the-configuration","body":"another thing may be that scope is not defined in application.properties? like here: <a href=\"https://quarkus.io/guides/rest-client#create-the-configuration\" rel=\"nofollow noreferrer\">quarkus.io/guides/rest-client#create-the-configuration</a>"},{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1650973373,"post_id":72010716,"comment_id":127245879,"body_markdown":"Hello, could it be caused by the access control keyword &#39;protected&#39; when injecting ?","body":"Hello, could it be caused by the access control keyword &#39;protected&#39; when injecting ?"},{"owner":{"account_id":23905170,"reputation":83,"user_id":17902843,"display_name":"helplessMax"},"score":0,"creation_date":1650974624,"post_id":72010716,"comment_id":127246381,"body_markdown":"Yes i forgot the scope. Thank you so much :D","body":"Yes i forgot the scope. Thank you so much :D"}],"answers":[{"tags":[],"owner":{"account_id":23905170,"reputation":83,"user_id":17902843,"display_name":"helplessMax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650981492,"creation_date":1650974691,"answer_id":72013631,"question_id":72010716,"body_markdown":"As Kerim said. You need to define the scope in the application.properties as described here: [Using the rest client: Create the configuration (Quarkus)][1]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/rest-client#create-the-configuration","title":"Quarkus Restclient throws javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type &lt;my-interface&gt; and qualifiers [@Any]","body":"<p>As Kerim said. You need to define the scope in the application.properties as described here: <a href=\"https://quarkus.io/guides/rest-client#create-the-configuration\" rel=\"nofollow noreferrer\">Using the rest client: Create the configuration (Quarkus)</a></p>\n"},{"tags":[],"owner":{"account_id":309589,"reputation":1356,"user_id":622122,"accept_rate":58,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664355440,"creation_date":1664355440,"answer_id":73878741,"question_id":72010716,"body_markdown":"Use the `@RestClient` annotation for injection:\r\n\r\n    @RestClient\r\n    protected &lt;my-interface&gt; api;","title":"Quarkus Restclient throws javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type &lt;my-interface&gt; and qualifiers [@Any]","body":"<p>Use the <code>@RestClient</code> annotation for injection:</p>\n<pre><code>@RestClient\nprotected &lt;my-interface&gt; api;\n</code></pre>\n"}],"owner":{"account_id":23905170,"reputation":83,"user_id":17902843,"display_name":"helplessMax"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5465,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1664355440,"creation_date":1650961682,"question_id":72010716,"body_markdown":"I am trying to integrate a second rest client to my micro service and am getting an error.\r\n\r\n    @RegisterRestClient\r\n    public interface &lt;my-interface&gt; {\r\n    @POST\r\n    @Path(&quot;/example&quot;)\r\n    Response postStuff(DataBean data);\r\n    }\r\n\r\nThe injection class does it as follows:\r\n\r\n    @Inject @Any\r\n    protected &lt;my-interface&gt; api;\r\n\r\nFollowing is the error msg:\r\n\r\n     javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type &lt;my-class&gt; and qualifiers [@Any]\r\n\r\nI have seen this issue pop up a lot but adding @ApplicationScoped or @Singleton does not work for me. As I understand the @Path annotation should make the interface discoverable. My other interface does not have any issues and I cannot imagine why.\r\n\r\nHelp is appreciated :)\r\n\r\n ","title":"Quarkus Restclient throws javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type &lt;my-interface&gt; and qualifiers [@Any]","body":"<p>I am trying to integrate a second rest client to my micro service and am getting an error.</p>\n<pre><code>@RegisterRestClient\npublic interface &lt;my-interface&gt; {\n@POST\n@Path(&quot;/example&quot;)\nResponse postStuff(DataBean data);\n}\n</code></pre>\n<p>The injection class does it as follows:</p>\n<pre><code>@Inject @Any\nprotected &lt;my-interface&gt; api;\n</code></pre>\n<p>Following is the error msg:</p>\n<pre><code> javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type &lt;my-class&gt; and qualifiers [@Any]\n</code></pre>\n<p>I have seen this issue pop up a lot but adding @ApplicationScoped or @Singleton does not work for me. As I understand the @Path annotation should make the interface discoverable. My other interface does not have any issues and I cannot imagine why.</p>\n<p>Help is appreciated :)</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":6,"creation_date":1664338130,"post_id":73875878,"comment_id":130445902,"body_markdown":"`Stream.of(someInt)` __does not__ give you a stream of its _digits_. Your code isn&#39;t slow; it&#39;s broken.","body":"<code>Stream.of(someInt)</code> <b>does not</b> give you a stream of its <i>digits</i>. Your code isn&#39;t slow; it&#39;s broken."},{"owner":{"account_id":6170834,"reputation":1988,"user_id":4809143,"display_name":"moreON"},"score":0,"creation_date":1664338690,"post_id":73875878,"comment_id":130445974,"body_markdown":"If it&#39;s achieving a Time Limit Exceeded, it&#39;s probably slow. It&#39;s definitely broken, but that doesn&#39;t stop it being slow.","body":"If it&#39;s achieving a Time Limit Exceeded, it&#39;s probably slow. It&#39;s definitely broken, but that doesn&#39;t stop it being slow."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664349594,"post_id":73875878,"comment_id":130448347,"body_markdown":"There is no sense in wrapping `System.out` in a `BufferedOutputStream`, especially not when you’re call `flush()` after every line anyway. Just use `System.out.println(&quot;YES&quot;);` and `System.out.println(&quot;NO&quot;);` or replace the entire `if` statement with `System.out.println(result? &quot;YES&quot;: &quot;NO&quot;);` The first comment already mentioned that you’re not calculating a digit sum at all. What you further didn’t understand, is that you should answer whether repeatedly applying the function will evolve to 1 or 4. The question is not whether there is a 1 or 4 within the digits.","body":"There is no sense in wrapping <code>System.out</code> in a <code>BufferedOutputStream</code>, especially not when you’re call <code>flush()</code> after every line anyway. Just use <code>System.out.println(&quot;YES&quot;);</code> and <code>System.out.println(&quot;NO&quot;);</code> or replace the entire <code>if</code> statement with <code>System.out.println(result? &quot;YES&quot;: &quot;NO&quot;);</code> The first comment already mentioned that you’re not calculating a digit sum at all. What you further didn’t understand, is that you should answer whether repeatedly applying the function will evolve to 1 or 4. The question is not whether there is a 1 or 4 within the digits."},{"owner":{"account_id":24950283,"reputation":11,"user_id":18815165,"display_name":"Santiagolp"},"score":0,"creation_date":1664420309,"post_id":73875878,"comment_id":130469020,"body_markdown":"Well.. for some reason I though Stream.of(int) worked, now it seems obvious that it wouldn&#39;t work. Is this the correct way of making a Stream of Integers? `Stream.of(String.valueOf(Math.round( Math.pow(x, 2))).toCharArray()).mapToInt(num -&gt; Integer.parseInt(String.valueOf(num)))` Tbh seems dirty to me, I think there might be a better way :)","body":"Well.. for some reason I though Stream.of(int) worked, now it seems obvious that it wouldn&#39;t work. Is this the correct way of making a Stream of Integers? <code>Stream.of(String.valueOf(Math.round( Math.pow(x, 2))).toCharArray()).mapToInt(num -&gt; Integer.parseInt(String.valueOf(num)))</code> Tbh seems dirty to me, I think there might be a better way :)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664436675,"post_id":73875878,"comment_id":130472420,"body_markdown":"`Stream.of(String.valueOf(Math.round( Math.pow(x, 2))).toCharArray())` still doesn’t work; it creates a stream with the array as its only element. If you want to stream over a string’s characters, just use `chars()`, i.e. `String.valueOf(x * x) .chars() .map(ch -&gt; ch - &#39;0&#39;) .sum()`. However, the loop of the answer which doesn’t go the character detour, is more efficient.","body":"<code>Stream.of(String.valueOf(Math.round( Math.pow(x, 2))).toCharArray())</code> still doesn’t work; it creates a stream with the array as its only element. If you want to stream over a string’s characters, just use <code>chars()</code>, i.e. <code>String.valueOf(x * x) .chars() .map(ch -&gt; ch - &#39;0&#39;) .sum()</code>. However, the loop of the answer which doesn’t go the character detour, is more efficient."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664355423,"creation_date":1664355118,"answer_id":73878675,"question_id":73875878,"body_markdown":"What takes time is writing to standard output, so if you write the result to standard output for each test case, that will increase the overall time significantly.\r\n\r\nYou can use `StringBuilder` and append to it the result of each test case. Then after you have handled all the test cases, print out the entire contents of the `StringBuilder`.\r\n\r\nAlso, I think you misunderstood the question. Your code checks whether the sum of the digits of the square of the test case number (i.e. the result of function *F(N)*) **contains** a 1 (one) or a 4. As I understand it, you need to check whether the result of *F(N)* **is** 1 or 4.\r\n\r\nHere is my solution which was accepted on *hackerearth*, i.e. it produced the correct results in an acceptable time.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class MoodyNumbers {\r\n\r\n    private static boolean is1or4(int x) {\r\n        boolean result = x == 1 || x == 4;\r\n        if (!result) {\r\n            int newX = sumDigits((long) x * x);\r\n            if (newX == 1 || newX == 4) {\r\n                return true;\r\n            }\r\n            if (newX == 9 || newX == 16) {\r\n                return false;\r\n            }\r\n            result = is1or4(newX);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static int sumDigits(long x) {\r\n        int sum = 0;\r\n        while (x &gt;= 10) {\r\n            sum += x % 10;\r\n            x /= 10;\r\n        }\r\n        sum += x;\r\n        return sum;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner stdin = new Scanner(System.in);\r\n        int numberOfTestCases = stdin.nextInt();\r\n        StringBuilder sb = new StringBuilder(numberOfTestCases * 4);\r\n        String newLine = System.lineSeparator();\r\n        while (numberOfTestCases-- &gt; 0) {\r\n            int n = stdin.nextInt();\r\n            sb.append((is1or4(n) ? &quot;YES&quot; : &quot;NO&quot;));\r\n            sb.append(newLine);\r\n        }\r\n        System.out.print(sb);\r\n    }\r\n}\r\n```\r\nIf the result of *F(N)* is either 9 or 16, that creates an endless loop. *F(9)* returns 9. *F(16)* returns 13 and *F(13)* returns 16 which also creates an endless loop. Hence for any number for which *F(N)* eventually returns either 9 or 16, the result is `NO`.\r\n","title":"How can I make this Java program run faster?","body":"<p>What takes time is writing to standard output, so if you write the result to standard output for each test case, that will increase the overall time significantly.</p>\n<p>You can use <code>StringBuilder</code> and append to it the result of each test case. Then after you have handled all the test cases, print out the entire contents of the <code>StringBuilder</code>.</p>\n<p>Also, I think you misunderstood the question. Your code checks whether the sum of the digits of the square of the test case number (i.e. the result of function <em>F(N)</em>) <strong>contains</strong> a 1 (one) or a 4. As I understand it, you need to check whether the result of <em>F(N)</em> <strong>is</strong> 1 or 4.</p>\n<p>Here is my solution which was accepted on <em>hackerearth</em>, i.e. it produced the correct results in an acceptable time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class MoodyNumbers {\n\n    private static boolean is1or4(int x) {\n        boolean result = x == 1 || x == 4;\n        if (!result) {\n            int newX = sumDigits((long) x * x);\n            if (newX == 1 || newX == 4) {\n                return true;\n            }\n            if (newX == 9 || newX == 16) {\n                return false;\n            }\n            result = is1or4(newX);\n        }\n        return result;\n    }\n\n    private static int sumDigits(long x) {\n        int sum = 0;\n        while (x &gt;= 10) {\n            sum += x % 10;\n            x /= 10;\n        }\n        sum += x;\n        return sum;\n    }\n\n    public static void main(String[] args) {\n        Scanner stdin = new Scanner(System.in);\n        int numberOfTestCases = stdin.nextInt();\n        StringBuilder sb = new StringBuilder(numberOfTestCases * 4);\n        String newLine = System.lineSeparator();\n        while (numberOfTestCases-- &gt; 0) {\n            int n = stdin.nextInt();\n            sb.append((is1or4(n) ? &quot;YES&quot; : &quot;NO&quot;));\n            sb.append(newLine);\n        }\n        System.out.print(sb);\n    }\n}\n</code></pre>\n<p>If the result of <em>F(N)</em> is either 9 or 16, that creates an endless loop. <em>F(9)</em> returns 9. <em>F(16)</em> returns 13 and <em>F(13)</em> returns 16 which also creates an endless loop. Hence for any number for which <em>F(N)</em> eventually returns either 9 or 16, the result is <code>NO</code>.</p>\n"}],"owner":{"account_id":24950283,"reputation":11,"user_id":18815165,"display_name":"Santiagolp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73878675,"answer_count":1,"score":-2,"last_activity_date":1664355423,"creation_date":1664335410,"question_id":73875878,"body_markdown":"I am solving [this problem from HackerEarth][1] but I am getting the &quot;Time limit exceeded&quot; error.\r\n\r\n&gt;Function F(N) is defined as:\r\n&gt;\r\n&gt;F(N) = sum_of_digits(N&lt;sup&gt;2&lt;/sup&gt;)\r\n&gt;\r\n&gt;Given a number N, output if it is possible for it to ultimately become {1 or 4} or not.\r\n&gt;\r\n&gt;Input:  \r\n&gt;First line contains T which is the number of test cases.  \r\n&gt;T lines follow each with an integer N.\r\n&gt;\r\n&gt;Output:  \r\n&gt;For each N output &quot;YES&quot; or &quot;NO&quot; if the number can achieve desired goal or not.\r\n\r\nThis is the program:\r\n```java\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.util.stream.Stream;\r\n\r\npublic class MoodyNumbers {\r\n\r\n    public static boolean is1or4(int x) {\r\n        boolean result = false;\r\n        Integer digitSum = Stream.of((int) Math.pow(x, 2)).reduce(Integer::sum).get();\r\n        StringBuilder sumStringBuilder = new StringBuilder(String.valueOf(digitSum));\r\n        for (int i = 0; i &lt; sumStringBuilder.length(); i++) {\r\n            result = sumStringBuilder.charAt(i) == &#39;1&#39; || sumStringBuilder.charAt(i) == &#39;4&#39;;\r\n            if (result) {\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        BufferedOutputStream bos = new BufferedOutputStream(System.out);\r\n        int numberOfTest = Integer.parseInt(br.readLine());\r\n        for (int i = 0; i &lt; numberOfTest; i++) {\r\n            boolean result = is1or4(Integer.parseInt(br.readLine()));\r\n            if (result) {\r\n                bos.write(&quot;YES\\n&quot;.getBytes());\r\n            }\r\n            else {\r\n                bos.write(&quot;NO\\n&quot;.getBytes());\r\n            }\r\n            bos.flush();\r\n        }\r\n    }\r\n}\r\n```\r\nI ran out of ideas to make this faster, any recommendations?\r\n\r\n  [1]: https://www.hackerearth.com/practice/algorithms/dynamic-programming/introduction-to-dynamic-programming-1/practice-problems/algorithm/moody-numbers/","title":"How can I make this Java program run faster?","body":"<p>I am solving <a href=\"https://www.hackerearth.com/practice/algorithms/dynamic-programming/introduction-to-dynamic-programming-1/practice-problems/algorithm/moody-numbers/\" rel=\"nofollow noreferrer\">this problem from HackerEarth</a> but I am getting the &quot;Time limit exceeded&quot; error.</p>\n<blockquote>\n<p>Function F(N) is defined as:</p>\n<p>F(N) = sum_of_digits(N<sup>2</sup>)</p>\n<p>Given a number N, output if it is possible for it to ultimately become {1 or 4} or not.</p>\n<p>Input:<br />\nFirst line contains T which is the number of test cases.<br />\nT lines follow each with an integer N.</p>\n<p>Output:<br />\nFor each N output &quot;YES&quot; or &quot;NO&quot; if the number can achieve desired goal or not.</p>\n</blockquote>\n<p>This is the program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedOutputStream;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.stream.Stream;\n\npublic class MoodyNumbers {\n\n    public static boolean is1or4(int x) {\n        boolean result = false;\n        Integer digitSum = Stream.of((int) Math.pow(x, 2)).reduce(Integer::sum).get();\n        StringBuilder sumStringBuilder = new StringBuilder(String.valueOf(digitSum));\n        for (int i = 0; i &lt; sumStringBuilder.length(); i++) {\n            result = sumStringBuilder.charAt(i) == '1' || sumStringBuilder.charAt(i) == '4';\n            if (result) {\n                break;\n            }\n        }\n        return result;\n    }\n\n    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        BufferedOutputStream bos = new BufferedOutputStream(System.out);\n        int numberOfTest = Integer.parseInt(br.readLine());\n        for (int i = 0; i &lt; numberOfTest; i++) {\n            boolean result = is1or4(Integer.parseInt(br.readLine()));\n            if (result) {\n                bos.write(&quot;YES\\n&quot;.getBytes());\n            }\n            else {\n                bos.write(&quot;NO\\n&quot;.getBytes());\n            }\n            bos.flush();\n        }\n    }\n}\n</code></pre>\n<p>I ran out of ideas to make this faster, any recommendations?</p>\n"},{"tags":["java","button","listener"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664355334,"post_id":73878694,"comment_id":130450367,"body_markdown":"Just remember the state of the clicking and react accordingly in your actionListener.","body":"Just remember the state of the clicking and react accordingly in your actionListener."},{"owner":{"account_id":12991330,"reputation":94,"user_id":9390458,"display_name":"&#199;iğdem Erşep&#231;iler"},"score":0,"creation_date":1664365917,"post_id":73878694,"comment_id":130454093,"body_markdown":"you can use an int and increase it everytime button is clicked. When int=2, do what you want and set the int 0 again.","body":"you can use an int and increase it everytime button is clicked. When int=2, do what you want and set the int 0 again."}],"owner":{"account_id":23502416,"reputation":11,"user_id":17552150,"display_name":"Tim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664355203,"creation_date":1664355203,"question_id":73878694,"body_markdown":"I have a button whose function is executed by an actionListener. I would like the user to press the button twice with a corresponding message: &quot;Do you really want to press the button?&quot; How can I include such a check in my if-condition before the actionListener?\r\n\r\n    if (c_Button_Test.isPressed(request)) {      \r\n      listener.actionBefore(new PrEvent(viewId\r\n            , PrTestConstants.ID_CONTROL_OPEN_TEST\r\n            , PrConstants.ID_EVENT_ACTION));\r\n      return true;\r\n    }","title":"Double click a Button before it does action","body":"<p>I have a button whose function is executed by an actionListener. I would like the user to press the button twice with a corresponding message: &quot;Do you really want to press the button?&quot; How can I include such a check in my if-condition before the actionListener?</p>\n<pre><code>if (c_Button_Test.isPressed(request)) {      \n  listener.actionBefore(new PrEvent(viewId\n        , PrTestConstants.ID_CONTROL_OPEN_TEST\n        , PrConstants.ID_EVENT_ACTION));\n  return true;\n}\n</code></pre>\n"},{"tags":["java","spring","security","passwords","bcrypt"],"answers":[{"tags":[],"owner":{"account_id":19519078,"reputation":172,"user_id":14281350,"display_name":"Sidharth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617563954,"creation_date":1617563954,"answer_id":66945002,"question_id":66943776,"body_markdown":"This error occurs when the password string that is fed to the bCryptEncoder is empty or null.\r\n\r\nIn your UserService.java class,\r\n\r\n    String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\r\nuser.getPassword() is null, which means in RegistrationService.java class, \r\n\r\n    request.getPassword()\r\nis fetching a null value.\r\n\r\nPlease check if you are getting the correct parameter name for password from the request object. If possible, add some logger statements in your code and debug.\r\n\r\n[GitHub PR][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/8317","title":"rawPassword cannot be null exception","body":"<p>This error occurs when the password string that is fed to the bCryptEncoder is empty or null.</p>\n<p>In your UserService.java class,</p>\n<pre><code>String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\n</code></pre>\n<p>user.getPassword() is null, which means in RegistrationService.java class,</p>\n<pre><code>request.getPassword()\n</code></pre>\n<p>is fetching a null value.</p>\n<p>Please check if you are getting the correct parameter name for password from the request object. If possible, add some logger statements in your code and debug.</p>\n<p><a href=\"https://github.com/spring-projects/spring-security/issues/8317\" rel=\"nofollow noreferrer\">GitHub PR</a></p>\n"},{"tags":[],"owner":{"account_id":18091609,"reputation":41,"user_id":13150974,"display_name":"phoenix123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617628549,"creation_date":1617628549,"answer_id":66953681,"question_id":66943776,"body_markdown":"It is working. The problem was that the @Column annotations were set to nullable false.","title":"rawPassword cannot be null exception","body":"<p>It is working. The problem was that the @Column annotations were set to nullable false.</p>\n"},{"tags":[],"owner":{"account_id":19521992,"reputation":21,"user_id":14283637,"display_name":"Maksymilian Pierchała"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647204116,"creation_date":1647204116,"answer_id":71460678,"question_id":66943776,"body_markdown":"Expanding @Sidharth&#39;s answer.\r\nFor anyone experiencing this problem check your password getter at AppUser.java class. It is probably returning null.\r\n\r\nChange\r\n\r\n    public String getPassword(){return null;}\r\n\r\nTo\r\n\r\n    public String getPassword(){return password;}\r\n\r\n","title":"rawPassword cannot be null exception","body":"<p>Expanding @Sidharth's answer.\nFor anyone experiencing this problem check your password getter at AppUser.java class. It is probably returning null.</p>\n<p>Change</p>\n<pre><code>public String getPassword(){return null;}\n</code></pre>\n<p>To</p>\n<pre><code>public String getPassword(){return password;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26467775,"reputation":1,"user_id":20108756,"display_name":"Dicky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664354535,"creation_date":1664354421,"answer_id":73878504,"question_id":66943776,"body_markdown":"please pay attention when we import the module request body\r\n\r\nmake sure the import is `org.springframework.web.bind.annotation.RequestBody;`","title":"rawPassword cannot be null exception","body":"<p>please pay attention when we import the module request body</p>\n<p>make sure the import is <code>org.springframework.web.bind.annotation.RequestBody;</code></p>\n"}],"owner":{"account_id":18091609,"reputation":41,"user_id":13150974,"display_name":"phoenix123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8721,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1664354535,"creation_date":1617555775,"question_id":66943776,"body_markdown":"I have the following problem:\r\n\r\n\r\nI want to test if a user registers successfully. I&#39;m not doing this over a UI but via Postman. The problem is that I get an exception when I use the POST Command. I have already checked all annotations.\r\n\r\n\r\n\r\n[Postman Screenshot][1]\r\n\r\nException:\r\n\r\n&gt; java.lang.IllegalArgumentException: **rawPassword cannot be null**\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(BCryptPasswordEncoder.java:103) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]\r\n\tat com.example.application.backend.data.service.UserService.singUpUser(UserService.java:41) ~[classes/:na]\r\n\tat com.example.application.backend.data.registration.RegistrationService.register(RegistrationService.java:22) ~[classes/:na]\r\nat com.example.application.backend.data.registration.RegistrationController.register(RegistrationController.java:18)\r\n\r\n\r\n\r\n\r\n**This is my UserService Class:**\r\n\r\n    private final static  String USER_NOT_FOUND_MSG = &quot;user with email %s not found&quot;;\r\n    @Autowired\r\n    private final UserRepository userRepository;\r\n    @Autowired\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    public UserService(\r\n            UserRepository userRepository,\r\n            BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n        return userRepository.findByEmail(email)\r\n                .orElseThrow(() -&gt;\r\n                        new UsernameNotFoundException(String.format(USER_NOT_FOUND_MSG, email)));\r\n    }\r\n\r\n    public String singUpUser(User user) {\r\n        boolean userExists = userRepository.findByEmail(user.getEmail()).isPresent();\r\n\r\n        if(userExists){\r\n            throw new IllegalStateException(&quot;email already taken&quot;);\r\n        }\r\n\r\n        String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\r\n\r\n        user.setPassword(encodedPassword);\r\n\r\n        userRepository.save(user);\r\n\r\n        return &quot;it works&quot;;\r\n    }\r\n\r\n\r\n\r\n**Registration Service Class:**\r\n    \r\n    @Autowired\r\n    private final UserService userService;\r\n    private final EmailValidator emailValidator;\r\n\r\n    public String register(RegistrationRequest request) {\r\n        boolean isValidEmail = emailValidator.test(request.getEmail());\r\n        if (!isValidEmail) {\r\n            throw new IllegalStateException(&quot;email not valid&quot;);\r\n        }\r\n        return userService.singUpUser(\r\n                new User(\r\n                        request.getFirstName(),\r\n                        request.getLastName(),\r\n                        request.getEmail(),\r\n                        request.getPassword(),\r\n                        UserRole.USER\r\n                )\r\n        );\r\n    }\r\n\r\n    public RegistrationService(UserService userService, EmailValidator emailValidator) {\r\n        this.userService = userService;\r\n        this.emailValidator = emailValidator;\r\n    }\r\n\r\n\r\n\r\n**Registration Controller Class:**\r\n\r\n    @Autowired\r\n    private RegistrationService registrationService;\r\n\r\n    @PostMapping\r\n    public String register(@RequestBody RegistrationRequest request) {\r\n        return registrationService.register(request);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZoPWi.png","title":"rawPassword cannot be null exception","body":"<p>I have the following problem:</p>\n<p>I want to test if a user registers successfully. I'm not doing this over a UI but via Postman. The problem is that I get an exception when I use the POST Command. I have already checked all annotations.</p>\n<p><a href=\"https://i.stack.imgur.com/ZoPWi.png\" rel=\"nofollow noreferrer\">Postman Screenshot</a></p>\n<p>Exception:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: <strong>rawPassword cannot be null</strong>\nat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(BCryptPasswordEncoder.java:103) ~[spring-security-core-5.3.3.RELEASE.jar:5.3.3.RELEASE]\nat com.example.application.backend.data.service.UserService.singUpUser(UserService.java:41) ~[classes/:na]\nat com.example.application.backend.data.registration.RegistrationService.register(RegistrationService.java:22) ~[classes/:na]\nat com.example.application.backend.data.registration.RegistrationController.register(RegistrationController.java:18)</p>\n</blockquote>\n<p><strong>This is my UserService Class:</strong></p>\n<pre><code>private final static  String USER_NOT_FOUND_MSG = &quot;user with email %s not found&quot;;\n@Autowired\nprivate final UserRepository userRepository;\n@Autowired\nprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\n\npublic UserService(\n        UserRepository userRepository,\n        BCryptPasswordEncoder bCryptPasswordEncoder) {\n    this.userRepository = userRepository;\n    this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n}\n\n@Override\npublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n    return userRepository.findByEmail(email)\n            .orElseThrow(() -&gt;\n                    new UsernameNotFoundException(String.format(USER_NOT_FOUND_MSG, email)));\n}\n\npublic String singUpUser(User user) {\n    boolean userExists = userRepository.findByEmail(user.getEmail()).isPresent();\n\n    if(userExists){\n        throw new IllegalStateException(&quot;email already taken&quot;);\n    }\n\n    String encodedPassword = bCryptPasswordEncoder.encode(user.getPassword());\n\n    user.setPassword(encodedPassword);\n\n    userRepository.save(user);\n\n    return &quot;it works&quot;;\n}\n</code></pre>\n<p><strong>Registration Service Class:</strong></p>\n<pre><code>@Autowired\nprivate final UserService userService;\nprivate final EmailValidator emailValidator;\n\npublic String register(RegistrationRequest request) {\n    boolean isValidEmail = emailValidator.test(request.getEmail());\n    if (!isValidEmail) {\n        throw new IllegalStateException(&quot;email not valid&quot;);\n    }\n    return userService.singUpUser(\n            new User(\n                    request.getFirstName(),\n                    request.getLastName(),\n                    request.getEmail(),\n                    request.getPassword(),\n                    UserRole.USER\n            )\n    );\n}\n\npublic RegistrationService(UserService userService, EmailValidator emailValidator) {\n    this.userService = userService;\n    this.emailValidator = emailValidator;\n}\n</code></pre>\n<p><strong>Registration Controller Class:</strong></p>\n<pre><code>@Autowired\nprivate RegistrationService registrationService;\n\n@PostMapping\npublic String register(@RequestBody RegistrationRequest request) {\n    return registrationService.register(request);\n}\n</code></pre>\n"},{"tags":["java","properties","resources"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664354371,"creation_date":1664354371,"answer_id":73878495,"question_id":73878310,"body_markdown":"First (if you should not know it already): since java 9 *.properties can be edited in UTF-8, without `\\uXXXX` which for Greek is great. The problem here is class path/locale related.\r\n\r\nThe Locale adds a suffix to the file. It could also be a problem using the same path to the properties but different contents. A problem when falling back on the generic root locale. (Maybe java&#39;s module system might help.)\r\n\r\n    ResourceBundle resourceBundle = ResourceBundle.getBundle(&quot;foo.bar.Baz&quot;, locale);\r\n","title":"Java resource bundle is loaded from another module","body":"<p>First (if you should not know it already): since java 9 *.properties can be edited in UTF-8, without <code>\\uXXXX</code> which for Greek is great. The problem here is class path/locale related.</p>\n<p>The Locale adds a suffix to the file. It could also be a problem using the same path to the properties but different contents. A problem when falling back on the generic root locale. (Maybe java's module system might help.)</p>\n<pre><code>ResourceBundle resourceBundle = ResourceBundle.getBundle(&quot;foo.bar.Baz&quot;, locale);\n</code></pre>\n"}],"owner":{"account_id":17779952,"reputation":117,"user_id":12911346,"display_name":"iftwMZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664354371,"creation_date":1664353433,"question_id":73878310,"body_markdown":"Currently my project contains 3 modules, 1 named generic (which is based for other 2) , \r\nfirst named Romania and second named Cyprus, inside of them i have a little code (which does not contain the logic of calling bundles). In the all 3 modules i have resources -&gt; language and here i have first_en_US_CUSTOM (Cyprus module) , first_en_US_CUSTOM (generic module) and same in the Romania. The logic to load this is:\r\n``` \r\nprivate String getTranslated(ResourceBundle resourceBundle) { // resource bundle comes with locale en_US\r\n        String result = null;\r\n        \r\n\r\n                try {\r\n                    String text = resourceBundle.getString(key);\r\n                    result = text;\r\n                } catch (MissingResourceException var7) {\r\n                    System.out.println(&quot;No resource found&quot;);\r\n                    }\r\n                \r\n        return result;\r\n    }\r\n```\r\n\r\nWhile calling this (it is called from a JAR file) , it returns the string from Cyprus module, however Romanian module is running (obv. it should take it from Romanian module). if i remove the first_en_US from Cyprus module then i get it in Romanian moudule and generic one, however -&gt; it takes from generic module now. What is the problem here? Where should i search? I am debugging and can&#39;t find at all the problem or where it loads from.","title":"Java resource bundle is loaded from another module","body":"<p>Currently my project contains 3 modules, 1 named generic (which is based for other 2) ,\nfirst named Romania and second named Cyprus, inside of them i have a little code (which does not contain the logic of calling bundles). In the all 3 modules i have resources -&gt; language and here i have first_en_US_CUSTOM (Cyprus module) , first_en_US_CUSTOM (generic module) and same in the Romania. The logic to load this is:</p>\n<pre><code>private String getTranslated(ResourceBundle resourceBundle) { // resource bundle comes with locale en_US\n        String result = null;\n        \n\n                try {\n                    String text = resourceBundle.getString(key);\n                    result = text;\n                } catch (MissingResourceException var7) {\n                    System.out.println(&quot;No resource found&quot;);\n                    }\n                \n        return result;\n    }\n</code></pre>\n<p>While calling this (it is called from a JAR file) , it returns the string from Cyprus module, however Romanian module is running (obv. it should take it from Romanian module). if i remove the first_en_US from Cyprus module then i get it in Romanian moudule and generic one, however -&gt; it takes from generic module now. What is the problem here? Where should i search? I am debugging and can't find at all the problem or where it loads from.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"score":1,"creation_date":1664341718,"post_id":73876087,"comment_id":130446395,"body_markdown":"please show some code its hard to tell this way","body":"please show some code its hard to tell this way"}],"answers":[{"tags":[],"owner":{"account_id":3000741,"reputation":1834,"user_id":2546299,"display_name":"Tot&#242;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664339139,"creation_date":1664339139,"answer_id":73876192,"question_id":73876087,"body_markdown":"It&#39;s hard to tell. Are you sure that your spring boot application is actually running? You can check if anything is listening to that port running ```netstat | grep &quot;8080&quot;```. If you don&#39;t get any output it means that your app is not started or not listening to port 8080","title":"Spring Boot Local Host","body":"<p>It's hard to tell. Are you sure that your spring boot application is actually running? You can check if anything is listening to that port running <code>netstat | grep &quot;8080&quot;</code>. If you don't get any output it means that your app is not started or not listening to port 8080</p>\n"},{"tags":[],"owner":{"account_id":17258352,"reputation":94,"user_id":12496947,"display_name":"Nouman Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664341206,"creation_date":1664341206,"answer_id":73876374,"question_id":73876087,"body_markdown":"It means your spring boot application is not running other wise you must have received white label error page if you were hitting the wrong(non-existent) API end point.\r\n\r\nIf that&#39;s not the case then please share more details for better help.","title":"Spring Boot Local Host","body":"<p>It means your spring boot application is not running other wise you must have received white label error page if you were hitting the wrong(non-existent) API end point.</p>\n<p>If that's not the case then please share more details for better help.</p>\n"},{"tags":[],"owner":{"account_id":2145107,"reputation":1394,"user_id":1902897,"accept_rate":86,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664354291,"creation_date":1664354291,"answer_id":73878477,"question_id":73876087,"body_markdown":"You can try following steps to debug the issue you are facing. \r\n\r\n 1. First, make sure your application and tomcat instance is running fine. When you run your application you should be seeing message something like this - ```Tomcat started on port(s): 8080 (http) with context path ```. Sharing snapshot of the same below\r\n [![List item][1]][1]\r\n\r\n\r\n 2. Make sure you have added the required dependency like spring-boot-starter-web.\r\n ``` \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n 4. If the first step is working fine for you, check whether request is reaching your respective controller endpoints you have defined, add log/print out statements and verify is it printing.\r\n \r\n\r\n 5. This step is optional to try, instead of checking in browser I would suggest start using rest client tools like postman, you will get to know what&#39;s the response code you received. \r\n\r\n [![List item][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Kknd.png\r\n  [2]: https://i.stack.imgur.com/sp01E.png\r\n\r\nI hope this helps you to debug further. ","title":"Spring Boot Local Host","body":"<p>You can try following steps to debug the issue you are facing.</p>\n<ol>\n<li><p>First, make sure your application and tomcat instance is running fine. When you run your application you should be seeing message something like this - <code>Tomcat started on port(s): 8080 (http) with context path </code>. Sharing snapshot of the same below\n<a href=\"https://i.stack.imgur.com/1Kknd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Kknd.png\" alt=\"List item\" /></a></p>\n</li>\n<li><p>Make sure you have added the required dependency like spring-boot-starter-web.</p>\n</li>\n</ol>\n<pre><code>       &lt;dependency&gt;\n           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n           &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n</code></pre>\n<ol start=\"4\">\n<li><p>If the first step is working fine for you, check whether request is reaching your respective controller endpoints you have defined, add log/print out statements and verify is it printing.</p>\n</li>\n<li><p>This step is optional to try, instead of checking in browser I would suggest start using rest client tools like postman, you will get to know what's the response code you received.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/sp01E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sp01E.png\" alt=\"List item\" /></a></p>\n<p>I hope this helps you to debug further.</p>\n"}],"owner":{"account_id":26465610,"reputation":1,"user_id":20106854,"display_name":"Xavier Banks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664354291,"creation_date":1664337697,"question_id":73876087,"body_markdown":"Essentially I am pretty new to coding, so this might sound extremely stupid, but I have no errors in my application. I am trying to bring over &quot;api/v1/user-profile&quot; from my application to run it in my browser under localhost:8080/api/v1/user-profile, but it isn&#39;t working. What am I doing wrong exactly? My error message is &quot;Safari can&#39;t connect to the server&quot;","title":"Spring Boot Local Host","body":"<p>Essentially I am pretty new to coding, so this might sound extremely stupid, but I have no errors in my application. I am trying to bring over &quot;api/v1/user-profile&quot; from my application to run it in my browser under localhost:8080/api/v1/user-profile, but it isn't working. What am I doing wrong exactly? My error message is &quot;Safari can't connect to the server&quot;</p>\n"},{"tags":["java","algorithm","time","complexity-theory","palindrome"],"answers":[{"tags":[],"owner":{"account_id":6869573,"reputation":1141,"user_id":5280532,"display_name":"Sva.Mu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441567001,"creation_date":1441567001,"answer_id":32427311,"question_id":32427217,"body_markdown":"Assuming all these operations are really O(n), I&#39;d say you are right: O(n) + O(n) + O(n) = 3 * O(n) (or O(3n), if you will), which then falls to O(n) category.\r\n\r\nWhat comes to the `StringBuilder` - you create an anonymous instance and after the method `isPalindrome` ends, there are no references to the object as its scope is local only for this method. So yes, it will eventually be processed by garbage collector. Most likely not immediately, but I think that is none of your concern anyway.","title":"Time and Space Complexity of Palindrome Algorithm","body":"<p>Assuming all these operations are really O(n), I'd say you are right: O(n) + O(n) + O(n) = 3 * O(n) (or O(3n), if you will), which then falls to O(n) category.</p>\n\n<p>What comes to the <code>StringBuilder</code> - you create an anonymous instance and after the method <code>isPalindrome</code> ends, there are no references to the object as its scope is local only for this method. So yes, it will eventually be processed by garbage collector. Most likely not immediately, but I think that is none of your concern anyway.</p>\n"},{"tags":[],"owner":{"account_id":12038388,"reputation":1,"user_id":8806159,"display_name":"Sello Motloung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664354150,"creation_date":1664354150,"answer_id":73878446,"question_id":32427217,"body_markdown":"    public static boolean isPalindrome(String argument){    \r\n        //remove special character    \r\n        String done = argument.trim().replaceAll(&quot;[^a-zA-Z]+&quot;, &quot; &quot;);   \r\n        //remove white spaces   \r\n        String result = done.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);   \r\n        //assign result string to argument   \r\n        argument = result;   \r\n        //convert string to a char then into a List of Charaters\r\n        ArrayList&lt;Character&gt; characterList = (ArrayList&lt;Character&gt;) result.chars().mapToObj(c -&gt; (char)c).collect(Collectors.toList());     \r\n        //Using Collections reverse character List   \r\n        Collections.reverse(characterList);\r\n        //convert reversed List int a String    \r\n        String reversedStr  = characterList.stream().map(String::valueOf).collect(Collectors.joining());   \r\n        //Compare argument with reversedStr then return true or false   \r\n        if(argument.equalsIgnoreCase(reversedStr))   \r\n            return true;       \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     public static boolean isPalindrome(String argument){\r\n            //remove special character\r\n            String done = argument.trim().replaceAll(&quot;[^a-zA-Z]+&quot;, &quot; &quot;);\r\n            //remove white spaces\r\n            String result = done.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n            //assign result string to argument\r\n            argument = result;\r\n            //convert string to a char then into a List of Charaters\r\n            ArrayList&lt;Character&gt; characterList = (ArrayList&lt;Character&gt;) result.chars().mapToObj(c -&gt; (char)c).collect(Collectors.toList());\r\n            //Using Collections reverse character List\r\n            Collections.reverse(characterList);\r\n            //convert reversed List int a String \r\n            String reversedStr  = characterList.stream().map(String::valueOf).collect(Collectors.joining());\r\n            //Compare argument with reversedStr then return true or false\r\n            if(argument.equalsIgnoreCase(reversedStr))\r\n                return true;\r\n            \r\n            return false;\r\n        }\r\n        return false;   \r\n    }","title":"Time and Space Complexity of Palindrome Algorithm","body":"<pre><code>public static boolean isPalindrome(String argument){    \n    //remove special character    \n    String done = argument.trim().replaceAll(&quot;[^a-zA-Z]+&quot;, &quot; &quot;);   \n    //remove white spaces   \n    String result = done.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);   \n    //assign result string to argument   \n    argument = result;   \n    //convert string to a char then into a List of Charaters\n    ArrayList&lt;Character&gt; characterList = (ArrayList&lt;Character&gt;) result.chars().mapToObj(c -&gt; (char)c).collect(Collectors.toList());     \n    //Using Collections reverse character List   \n    Collections.reverse(characterList);\n    //convert reversed List int a String    \n    String reversedStr  = characterList.stream().map(String::valueOf).collect(Collectors.joining());   \n    //Compare argument with reversedStr then return true or false   \n    if(argument.equalsIgnoreCase(reversedStr))   \n        return true;       \n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code> public static boolean isPalindrome(String argument){\n        //remove special character\n        String done = argument.trim().replaceAll(&quot;[^a-zA-Z]+&quot;, &quot; &quot;);\n        //remove white spaces\n        String result = done.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\n        //assign result string to argument\n        argument = result;\n        //convert string to a char then into a List of Charaters\n        ArrayList&lt;Character&gt; characterList = (ArrayList&lt;Character&gt;) result.chars().mapToObj(c -&gt; (char)c).collect(Collectors.toList());\n        //Using Collections reverse character List\n        Collections.reverse(characterList);\n        //convert reversed List int a String \n        String reversedStr  = characterList.stream().map(String::valueOf).collect(Collectors.joining());\n        //Compare argument with reversedStr then return true or false\n        if(argument.equalsIgnoreCase(reversedStr))\n            return true;\n        \n        return false;\n    }\n    return false;   \n}\n</code></pre>\n"}],"owner":{"account_id":6278935,"reputation":201,"user_id":4880708,"accept_rate":44,"display_name":"fluffychaos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664354150,"creation_date":1441566476,"question_id":32427217,"body_markdown":"What is the time and space complexity of the following code for finding a palindrome in Java:\r\n\r\n        public static boolean isPalindrome(String str) {\r\n            return str.equals(new StringBuilder(str).reverse().toString());\r\n        }\r\n\r\nI know reverse() is O(n). toString() is also O(n). equals is also O(n). Does this mean that this code is O(n)?\r\n\r\nAs for space complexity, a StringBuilder needs to be created. I&#39;m not sure what happens to it after it gets converted into a string. Does Java allocate space for the StringBuilder that was converted into a string, then forget about the StringBuilder (allowing it to be picked up by the garbage collector)?\r\n\r\nThanks!\r\n\r\n---------- EDIT -------------\r\n\r\nI want to know more about what is created on the stack after isPalindrome is called. How efficient is it space-wise compared to, say,\r\n\r\nThanks! I still don&#39;t really understand how efficient space-wise this code is though. What exactly will be created on the stack? And how efficient is it (in terms of space) compared to, say,\r\n\r\n    public boolean palindrome2(String str) {    \r\n\t        int n = str.length();\r\n\t        for( int i = 0; i &lt; n/2; i++ )\r\n\t            if (str.charAt(i) != str.charAt(n-i-1)) return false;\r\n\t        return true;    \r\n    }","title":"Time and Space Complexity of Palindrome Algorithm","body":"<p>What is the time and space complexity of the following code for finding a palindrome in Java:</p>\n\n<pre><code>    public static boolean isPalindrome(String str) {\n        return str.equals(new StringBuilder(str).reverse().toString());\n    }\n</code></pre>\n\n<p>I know reverse() is O(n). toString() is also O(n). equals is also O(n). Does this mean that this code is O(n)?</p>\n\n<p>As for space complexity, a StringBuilder needs to be created. I'm not sure what happens to it after it gets converted into a string. Does Java allocate space for the StringBuilder that was converted into a string, then forget about the StringBuilder (allowing it to be picked up by the garbage collector)?</p>\n\n<p>Thanks!</p>\n\n<p>---------- EDIT -------------</p>\n\n<p>I want to know more about what is created on the stack after isPalindrome is called. How efficient is it space-wise compared to, say,</p>\n\n<p>Thanks! I still don't really understand how efficient space-wise this code is though. What exactly will be created on the stack? And how efficient is it (in terms of space) compared to, say,</p>\n\n<pre><code>public boolean palindrome2(String str) {    \n        int n = str.length();\n        for( int i = 0; i &lt; n/2; i++ )\n            if (str.charAt(i) != str.charAt(n-i-1)) return false;\n        return true;    \n}\n</code></pre>\n"},{"tags":["java","jaxb","xjc"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664343642,"post_id":73876336,"comment_id":130446742,"body_markdown":"What is your xjc config/setup? How do you obtain Jax context?","body":"What is your xjc config/setup? How do you obtain Jax context?"},{"owner":{"account_id":6094045,"reputation":3231,"user_id":4755440,"accept_rate":59,"display_name":"Paras"},"score":0,"creation_date":1664354064,"post_id":73876336,"comment_id":130449865,"body_markdown":"I have updated the required details in the question","body":"I have updated the required details in the question"}],"owner":{"account_id":6094045,"reputation":3231,"user_id":4755440,"accept_rate":59,"display_name":"Paras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1664354028,"creation_date":1664340683,"question_id":73876336,"body_markdown":"I have several xsd&#39;s corresponding to different versions ( identified via different namespace ). However among these xsd&#39;s there are various complex types which are common across them. Hence there are a lot of duplicate java classes which are generated using XJC.\r\n\r\nTo avoid that, I moved the common classes in parent package and made the necessary import changes in ObjectFactory.java, however when I try to unmarshal the XML against it, it fails to map the classes moved to the common package.\r\n\r\n    -com.acme\r\n     --com.acme.common // Placing all common classes here\r\n     --com.acme.A\r\n      ---ObjectFactory.java\r\n      ---PackageInfo.java\r\n      ---A.java // References classes in common packages as fields\r\n     --com.acme.B\r\n      ---ObjectFactory.java\r\n      ---PackageInfo.java\r\n      ---B.java // References classes in common packages as fields\r\n\r\nWhen unmarshalling A.java or B.java, I am only seeing the root level primitive fields mapping but the other fields are null or empty.\r\n\r\nIf I keep all the classes together under single package the mapping works fine.\r\n\r\nI am using following command to generate jaxb classes :\r\n\r\n    xjc rixml-2_5.xsd -p com.acme.A -verbose -XautoNameResolution\r\n    xjc rixml-2_4.xsd -p com.acme.B -verbose -XautoNameResolution\r\n\r\nJaxb context is obtained using below code :\r\n\r\n    private static final Class&lt;?&gt;[] classesToBeBound = new Class&lt;?&gt;[] {\r\n    \t\t\tcom.acme.A.ObjectFactory.class,\r\n    \t\t\tcom.acme.B.ObjectFactory.class };\r\n    \r\n    \tprivate static JAXBContext context;\r\n    \r\n    \tstatic {\r\n    \t\ttry {\r\n    \t\t\tcontext = JAXBContext.newInstance(classesToBeBound);\r\n    \t\t} catch (JAXBException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nCan anyone help to to understand if it is possible via JAXB or any other java library ?","title":"Jaxb unmarshall classes located in parent package","body":"<p>I have several xsd's corresponding to different versions ( identified via different namespace ). However among these xsd's there are various complex types which are common across them. Hence there are a lot of duplicate java classes which are generated using XJC.</p>\n<p>To avoid that, I moved the common classes in parent package and made the necessary import changes in ObjectFactory.java, however when I try to unmarshal the XML against it, it fails to map the classes moved to the common package.</p>\n<pre><code>-com.acme\n --com.acme.common // Placing all common classes here\n --com.acme.A\n  ---ObjectFactory.java\n  ---PackageInfo.java\n  ---A.java // References classes in common packages as fields\n --com.acme.B\n  ---ObjectFactory.java\n  ---PackageInfo.java\n  ---B.java // References classes in common packages as fields\n</code></pre>\n<p>When unmarshalling A.java or B.java, I am only seeing the root level primitive fields mapping but the other fields are null or empty.</p>\n<p>If I keep all the classes together under single package the mapping works fine.</p>\n<p>I am using following command to generate jaxb classes :</p>\n<pre><code>xjc rixml-2_5.xsd -p com.acme.A -verbose -XautoNameResolution\nxjc rixml-2_4.xsd -p com.acme.B -verbose -XautoNameResolution\n</code></pre>\n<p>Jaxb context is obtained using below code :</p>\n<pre><code>private static final Class&lt;?&gt;[] classesToBeBound = new Class&lt;?&gt;[] {\n            com.acme.A.ObjectFactory.class,\n            com.acme.B.ObjectFactory.class };\n\n    private static JAXBContext context;\n\n    static {\n        try {\n            context = JAXBContext.newInstance(classesToBeBound);\n        } catch (JAXBException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>Can anyone help to to understand if it is possible via JAXB or any other java library ?</p>\n"},{"tags":["java","unit-testing","mocking","java.util.scanner","inputstream"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1583331892,"post_id":60528162,"comment_id":107080235,"body_markdown":"have your Scanner instance being an instance method, and mock it.","body":"have your Scanner instance being an instance method, and mock it."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1583332350,"post_id":60528162,"comment_id":107080519,"body_markdown":"Refactor your game code so it doesn&#39;t depend directly on the `Scanner`, but passes the input to methods. Then you can test those methods without using `Scanner` at all.","body":"Refactor your game code so it doesn&#39;t depend directly on the <code>Scanner</code>, but passes the input to methods. Then you can test those methods without using <code>Scanner</code> at all."},{"owner":{"account_id":16888375,"reputation":51,"user_id":12212592,"display_name":"GottaGaming"},"score":0,"creation_date":1583390347,"post_id":60528162,"comment_id":107101143,"body_markdown":"how do i do that @Kayaman","body":"how do i do that @Kayaman"}],"answers":[{"tags":[],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1583398515,"creation_date":1583332271,"answer_id":60528367,"question_id":60528162,"body_markdown":"Use System.setIn() method.\r\n\r\n\r\n    @Test\r\n    public void test(){\r\n        String[] expectedOutputArray = {&quot;red&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;brown&quot;};\r\n        String input = &quot;red\\ngreen\\nyellow\\nbrown&quot;;\r\n        InputStream in = new ByteArrayInputStream(input.getBytes());\r\n        System.setIn(in);\r\n        String[] outputArray = guess(); //call your guess function\r\n        Assert.assertArrayEquals(expectedOutputArray, outputArray);\r\n    }\r\n\r\n - System.in is basically an InputStream which reads from the console (hence your input in the console).\r\n - So prepare an InputStream and set to ***in*** property of ***System*** class, using System.setIn(in)\r\n\r\n------\r\nI am putting another approach for how the code can be reformatted for testing guess method, removing dependency on System.in\r\n\r\nPlease put each class, in different java file\r\n\r\n\tpublic class GuessRefactor {\r\n\t\tprivate SystemClass systemObj;\r\n\r\n\t\tpublic String[] guess(SystemClass systemObj){\r\n\t\t\tint k = 1;\r\n\t\t\tString[] guess = new String[4];\r\n\t\t\tfor(int i = 0; i &lt; 4;i++){\r\n\t\t\t\tk = 1;\r\n\t\t\t\twhile(k==1) {\r\n\t\t\t\t\tSystem.out.println(&quot;now the &quot; + (i + 1) + &quot;color &quot;);\r\n\t\t\t\t\tguess[i] = systemObj.getInput();\r\n\t\t\t\t\tif(guess[i].equals(&quot;red&quot;)||guess[i].equals(&quot;blue&quot;)||guess[i].equals(&quot;yellow&quot;)||guess[i].equals(&quot;green&quot;)||guess[i].equals(&quot;purple&quot;)||guess[i].equals(&quot;brown&quot;)){\r\n\t\t\t\t\t\tk = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn guess;\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(Arrays.toString(new GuessRefactor().guess(new SystemClass())));\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic class SystemClass {\r\n\t\tScanner valueIn = new Scanner(System.in);\r\n\r\n\t\tpublic String getInput(){\r\n\t\t\treturn valueIn.nextLine();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t@RunWith(MockitoJUnitRunner.class)\r\n\tpublic class TestClass {\r\n\t\t@Mock\r\n\t\tSystemClass systemClass;\r\n\r\n\t\t@Test\r\n\t\tpublic void test(){\r\n\t\t\tGuessRefactor guessRefactor = new GuessRefactor();\r\n\t\t\tMockito.when(systemClass.getInput()).thenReturn(&quot;red&quot;);\r\n\t\t\tString[] expectedOutput = {&quot;red&quot;, &quot;red&quot;, &quot;red&quot;, &quot;red&quot;,};\r\n\t\t\tString[] output = guessRefactor.guess(systemClass);\r\n\t\t\tAssert.assertArrayEquals(expectedOutput, output);\r\n\t\t}\r\n\t}","title":"How to Mock the System.in Stream for a Unit Test","body":"<p>Use System.setIn() method.</p>\n\n<pre><code>@Test\npublic void test(){\n    String[] expectedOutputArray = {\"red\", \"green\", \"yellow\", \"brown\"};\n    String input = \"red\\ngreen\\nyellow\\nbrown\";\n    InputStream in = new ByteArrayInputStream(input.getBytes());\n    System.setIn(in);\n    String[] outputArray = guess(); //call your guess function\n    Assert.assertArrayEquals(expectedOutputArray, outputArray);\n}\n</code></pre>\n\n<ul>\n<li>System.in is basically an InputStream which reads from the console (hence your input in the console).</li>\n<li>So prepare an InputStream and set to <strong><em>in</em></strong> property of <strong><em>System</em></strong> class, using System.setIn(in)</li>\n</ul>\n\n<hr>\n\n<p>I am putting another approach for how the code can be reformatted for testing guess method, removing dependency on System.in</p>\n\n<p>Please put each class, in different java file</p>\n\n<pre><code>public class GuessRefactor {\n    private SystemClass systemObj;\n\n    public String[] guess(SystemClass systemObj){\n        int k = 1;\n        String[] guess = new String[4];\n        for(int i = 0; i &lt; 4;i++){\n            k = 1;\n            while(k==1) {\n                System.out.println(\"now the \" + (i + 1) + \"color \");\n                guess[i] = systemObj.getInput();\n                if(guess[i].equals(\"red\")||guess[i].equals(\"blue\")||guess[i].equals(\"yellow\")||guess[i].equals(\"green\")||guess[i].equals(\"purple\")||guess[i].equals(\"brown\")){\n                    k = 0;\n                }\n            }\n        }\n        return guess;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(Arrays.toString(new GuessRefactor().guess(new SystemClass())));\n    }\n}\n\n\npublic class SystemClass {\n    Scanner valueIn = new Scanner(System.in);\n\n    public String getInput(){\n        return valueIn.nextLine();\n    }\n}\n\n\n@RunWith(MockitoJUnitRunner.class)\npublic class TestClass {\n    @Mock\n    SystemClass systemClass;\n\n    @Test\n    public void test(){\n        GuessRefactor guessRefactor = new GuessRefactor();\n        Mockito.when(systemClass.getInput()).thenReturn(\"red\");\n        String[] expectedOutput = {\"red\", \"red\", \"red\", \"red\",};\n        String[] output = guessRefactor.guess(systemClass);\n        Assert.assertArrayEquals(expectedOutput, output);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16888375,"reputation":51,"user_id":12212592,"display_name":"GottaGaming"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":60528367,"answer_count":1,"score":-1,"last_activity_date":1664353894,"creation_date":1583331684,"question_id":60528162,"body_markdown":"im really new to programming and want to ask how to mock the System.in Stream for a Unit-Test. My task is to programm the game and unit test the existing Methods. I dont know how to unit test a Method requiring an Input Stream. More Specific: I dont know how to mock it. In the following Code example is my method. The method reads in 4 accepted color-Strings with a Scanner and returns the Strings in an String-Array. Is there any Method to mock the System.in Stream\r\n\r\n    public String[] guess(){ //Read in the 4 colors a player want to guess\r\n            int k = 1;\r\n            Scanner valueIn = new Scanner(System.in);\r\n            String[] guess = new String[4];\r\n            for(int i = 0; i &lt; 4;i++){\r\n                k = 1;\r\n                while(k==1) {\r\n                    System.out.println(&quot;now the &quot; + (i + 1) + &quot;color &quot;);\r\n                    guess[i] = valueIn.nextLine();\r\n                    if(guess[i].equals(&quot;red&quot;)||guess[i].equals(&quot;blue&quot;)||guess[i].equals(&quot;yellow&quot;)||guess[i].equals(&quot;green&quot;)||guess[i].equals(&quot;purple&quot;)||guess[i].equals(&quot;brown&quot;)){\r\n                        k = 0;\r\n                    }\r\n                }\r\n            }\r\n            return guess;\r\n        }\r\n\r\n","title":"How to Mock the System.in Stream for a Unit Test","body":"<p>im really new to programming and want to ask how to mock the System.in Stream for a Unit-Test. My task is to programm the game and unit test the existing Methods. I dont know how to unit test a Method requiring an Input Stream. More Specific: I dont know how to mock it. In the following Code example is my method. The method reads in 4 accepted color-Strings with a Scanner and returns the Strings in an String-Array. Is there any Method to mock the System.in Stream</p>\n<pre><code>public String[] guess(){ //Read in the 4 colors a player want to guess\n        int k = 1;\n        Scanner valueIn = new Scanner(System.in);\n        String[] guess = new String[4];\n        for(int i = 0; i &lt; 4;i++){\n            k = 1;\n            while(k==1) {\n                System.out.println(&quot;now the &quot; + (i + 1) + &quot;color &quot;);\n                guess[i] = valueIn.nextLine();\n                if(guess[i].equals(&quot;red&quot;)||guess[i].equals(&quot;blue&quot;)||guess[i].equals(&quot;yellow&quot;)||guess[i].equals(&quot;green&quot;)||guess[i].equals(&quot;purple&quot;)||guess[i].equals(&quot;brown&quot;)){\n                    k = 0;\n                }\n            }\n        }\n        return guess;\n    }\n</code></pre>\n"},{"tags":["java","validation","selector","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1460122,"reputation":3062,"user_id":1374673,"display_name":"willome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360680531,"creation_date":1360680531,"answer_id":14835208,"question_id":14832913,"body_markdown":"Check for jsoup sources : you can use the [Selector][1]. Selector is using QueryParser which is not public, but you can &quot;check&quot; it too.\r\n\r\n\r\n  [1]: http://jsoup.org/apidocs/org/jsoup/select/Selector.html","title":"How to validate a JSoup selection string","body":"<p>Check for jsoup sources : you can use the <a href=\"http://jsoup.org/apidocs/org/jsoup/select/Selector.html\" rel=\"nofollow\">Selector</a>. Selector is using QueryParser which is not public, but you can \"check\" it too.</p>\n"},{"tags":[],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1360692972,"creation_date":1360692972,"answer_id":14839054,"question_id":14832913,"body_markdown":"**approach 1:** Edit the Jsoup source and make the Parser public or implement your own method there\r\n\r\n**approach 2:** Parse a simple *dummy* element and catch the exceptions. if one is thrown: query is not valid, else it&#39;s ok. Not the best solution but it works.\r\n\r\n*Here&#39;s an example:*\r\n\r\n    private static final Element dummy = new Element(Tag.valueOf(&quot;p&quot;), &quot;&quot;); // used for &quot;testparsing&quot;\r\n    \r\n    // ...\r\n    \r\n    public static boolean isValid(String query)\r\n    {\r\n        if( query == null ) // Check for null\r\n            return false;\r\n\r\n        try\r\n        {\r\n            Selector.select(query, dummy); // Use the querystring on the dummy - returnvalue is not relevant\r\n        }\r\n        catch( Selector.SelectorParseException | IllegalArgumentException ex ) // these exceptions are thrown if something is not ok\r\n        {\r\n            return false; // If something is not ok, the query is invalid\r\n        }\r\n        \r\n        return true; // All ok, query is valid\r\n    }\r\n\r\n*Test:*\r\n\r\n    System.out.println(isValid(null)); // not valid\r\n    System.out.println(isValid(&quot;div.abc&quot;)); // valid\r\n    System.out.println(isValid(&quot;p[&quot;)); // not valid\r\n    System.out.println(isValid(&quot;a:matchesxy&quot;)); // not valid\r\n    System.out.println(isValid(&quot;div &gt; a&quot;)); // valid\r\n\r\n*Testresult:*\r\n\r\n    false\r\n    true\r\n    false\r\n    false\r\n    true","title":"How to validate a JSoup selection string","body":"<p><strong>approach 1:</strong> Edit the Jsoup source and make the Parser public or implement your own method there</p>\n\n<p><strong>approach 2:</strong> Parse a simple <em>dummy</em> element and catch the exceptions. if one is thrown: query is not valid, else it's ok. Not the best solution but it works.</p>\n\n<p><em>Here's an example:</em></p>\n\n<pre><code>private static final Element dummy = new Element(Tag.valueOf(\"p\"), \"\"); // used for \"testparsing\"\n\n// ...\n\npublic static boolean isValid(String query)\n{\n    if( query == null ) // Check for null\n        return false;\n\n    try\n    {\n        Selector.select(query, dummy); // Use the querystring on the dummy - returnvalue is not relevant\n    }\n    catch( Selector.SelectorParseException | IllegalArgumentException ex ) // these exceptions are thrown if something is not ok\n    {\n        return false; // If something is not ok, the query is invalid\n    }\n\n    return true; // All ok, query is valid\n}\n</code></pre>\n\n<p><em>Test:</em></p>\n\n<pre><code>System.out.println(isValid(null)); // not valid\nSystem.out.println(isValid(\"div.abc\")); // valid\nSystem.out.println(isValid(\"p[\")); // not valid\nSystem.out.println(isValid(\"a:matchesxy\")); // not valid\nSystem.out.println(isValid(\"div &gt; a\")); // valid\n</code></pre>\n\n<p><em>Testresult:</em></p>\n\n<pre><code>false\ntrue\nfalse\nfalse\ntrue\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9683662,"reputation":89,"user_id":9181744,"display_name":"ToTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664353669,"creation_date":1664353669,"answer_id":73878357,"question_id":14832913,"body_markdown":"using `QueryParser` will be more reasonable\r\n```java\r\n    try {\r\n        QueryParser.parse(contentSelector);\r\n        return true;\r\n    } catch( Selector.SelectorParseException ex ) {\r\n        return false;\r\n    }\r\n\r\n```","title":"How to validate a JSoup selection string","body":"<p>using <code>QueryParser</code> will be more reasonable</p>\n<pre class=\"lang-java prettyprint-override\"><code>    try {\n        QueryParser.parse(contentSelector);\n        return true;\n    } catch( Selector.SelectorParseException ex ) {\n        return false;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":142604,"reputation":1285,"user_id":350403,"accept_rate":84,"display_name":"evermean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14839054,"answer_count":3,"score":2,"last_activity_date":1664353669,"creation_date":1360673151,"question_id":14832913,"body_markdown":"I am working on a program that gives the user the opportunity to define his own selection string. For example in the expression:\r\n\r\n    doc.select(&quot;a[href]&quot;);\r\n\r\nThe user would have specified the &quot;a[href]&quot; part. Now my question is, how can I check if the passed in string is a valid JSoup selector string? Does anyone know how to validate this?\r\n\r\nAny help would be very much appreciated.\r\n\r\nThanks","title":"How to validate a JSoup selection string","body":"<p>I am working on a program that gives the user the opportunity to define his own selection string. For example in the expression:</p>\n\n<pre><code>doc.select(\"a[href]\");\n</code></pre>\n\n<p>The user would have specified the \"a[href]\" part. Now my question is, how can I check if the passed in string is a valid JSoup selector string? Does anyone know how to validate this?</p>\n\n<p>Any help would be very much appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["alias","keytool","jks","java"],"answers":[{"tags":[],"owner":{"account_id":18216119,"reputation":59,"user_id":13257777,"display_name":"mcieciel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664353545,"creation_date":1664353545,"answer_id":73878333,"question_id":73554024,"body_markdown":"First you should convert csr file to crt with key. And then import crt to jks keystore.\r\n\r\n    openssl x509 -req -in example_cert_req.csr -signkey privateKey.key -out certificate.crt\r\n    keytool -importcert -file certificate.cer -keystore example_keystore.jks -alias &quot;ima&quot; ","title":"keytool error: java.lang.Exception: Alias &lt;ima&gt; does not exist","body":"<p>First you should convert csr file to crt with key. And then import crt to jks keystore.</p>\n<pre><code>openssl x509 -req -in example_cert_req.csr -signkey privateKey.key -out certificate.crt\nkeytool -importcert -file certificate.cer -keystore example_keystore.jks -alias &quot;ima&quot; \n</code></pre>\n"}],"owner":{"account_id":25986711,"reputation":19,"user_id":19699582,"display_name":"Python Django"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664353545,"creation_date":1661939408,"question_id":73554024,"body_markdown":"I am trying to create a Certificate Signing Request (CSR) from a public RSA key in the earlier generated keystore using the Java Keytool utility:\r\n```\r\nkeytool -certreq -alias ima -file \\\r\nexample_cert_req.csr -keystore example_keystore.jks \\\r\n-storepass example_password\r\n```\r\nIt raises this error:\r\n```\r\nkeytool error: java.lang.Exception: Alias &lt;ima&gt; does not exist\r\n```\r\nHow can I fix this? Please help!","title":"keytool error: java.lang.Exception: Alias &lt;ima&gt; does not exist","body":"<p>I am trying to create a Certificate Signing Request (CSR) from a public RSA key in the earlier generated keystore using the Java Keytool utility:</p>\n<pre><code>keytool -certreq -alias ima -file \\\nexample_cert_req.csr -keystore example_keystore.jks \\\n-storepass example_password\n</code></pre>\n<p>It raises this error:</p>\n<pre><code>keytool error: java.lang.Exception: Alias &lt;ima&gt; does not exist\n</code></pre>\n<p>How can I fix this? Please help!</p>\n"},{"tags":["java","spring","rest","jersey-2.0"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1664371012,"post_id":73878271,"comment_id":130456176,"body_markdown":"If it is within the same war, why not directly calling the method to avoid objects serialization/deserialization?","body":"If it is within the same war, why not directly calling the method to avoid objects serialization/deserialization?"},{"owner":{"account_id":16737833,"reputation":13853,"user_id":12098405,"display_name":"dash-o"},"score":0,"creation_date":1664528357,"post_id":73878271,"comment_id":130497123,"body_markdown":"In my API, The user is allowed to post use a schedule call. E.g., there is a service like “POST deffered/rest-call”, which will execute the rest-call at a later time. Any url/payload can be passed.","body":"In my API, The user is allowed to post use a schedule call. E.g., there is a service like “POST deffered/rest-call”, which will execute the rest-call at a later time. Any url/payload can be passed."},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1664579845,"post_id":73878271,"comment_id":130511807,"body_markdown":"Don’t know the details of your app. If that controller delegates to service to do the actual scheduling, you can call that service directly. If no avail, you can try with Spring’s `RestTemplate` or Jersey to call that api `@localhost`.","body":"Don’t know the details of your app. If that controller delegates to service to do the actual scheduling, you can call that service directly. If no avail, you can try with Spring’s <code>RestTemplate</code> or Jersey to call that api <code>@localhost</code>."}],"owner":{"account_id":16737833,"reputation":13853,"user_id":12098405,"display_name":"dash-o"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664353230,"creation_date":1664353230,"question_id":73878271,"body_markdown":"I am looking for away to make “internal” rest calls from a service entry point into rest services that are declared in the same war file.\r\n\r\nCurrently, I am using http connection to localhost. However, I believe dispatching the request directly (with requestDispatcher ?) will be more efficient - no need for connection, no need for extra execution threads, no need to send data via tcp socket, etc.\r\n\r\nWhen I need the “internal” call, I do not know what is the actual object that will represent the payload, or the class/method that will process the request. All I have is the url, and a json string for the payload. I expect the response to be a json string.\r\n\r\nIs there a standard method that will work for all rest container (e.g. using the servlet api) or using specific functions of Jersey/spring ?","title":"Efficient way for rest calls inside same container","body":"<p>I am looking for away to make “internal” rest calls from a service entry point into rest services that are declared in the same war file.</p>\n<p>Currently, I am using http connection to localhost. However, I believe dispatching the request directly (with requestDispatcher ?) will be more efficient - no need for connection, no need for extra execution threads, no need to send data via tcp socket, etc.</p>\n<p>When I need the “internal” call, I do not know what is the actual object that will represent the payload, or the class/method that will process the request. All I have is the url, and a json string for the payload. I expect the response to be a json string.</p>\n<p>Is there a standard method that will work for all rest container (e.g. using the servlet api) or using specific functions of Jersey/spring ?</p>\n"},{"tags":["java","spring","integration","cdi"],"comments":[{"owner":{"account_id":4166540,"reputation":2310,"user_id":3415398,"display_name":"tandraschko"},"score":0,"creation_date":1596189156,"post_id":63174862,"comment_id":111738844,"body_markdown":"JSF 2.3 should still work without CDI but it will be required dependency in the future. So the question is why do you need Spring? If you really need it, i would build my view beans with CDI and get a extensions which can inject Spring beans into CDI.","body":"JSF 2.3 should still work without CDI but it will be required dependency in the future. So the question is why do you need Spring? If you really need it, i would build my view beans with CDI and get a extensions which can inject Spring beans into CDI."},{"owner":{"account_id":4783266,"reputation":73,"user_id":3864459,"display_name":"Helder"},"score":0,"creation_date":1596239659,"post_id":63174862,"comment_id":111758522,"body_markdown":"Thanks by comment. Spring, the regular stack of organization, it&#39;s a requirement of project. I&#39;m searching a extension that can be used actually. Projects like apache delta spike addons([link](https://github.com/os890/ds-spring-bridge-addon)) and spring-cid-bridge([link](https://github.com/rmannibucau/cdi-spring-bridge)) appears outdated.\n\nResources as flow-scope(JSF 2.2) and websocket(JSF 2.3) are tied to CDI and appears that the mojarra JSF 2.3 with Servlet 4.0+ requires CDI.","body":"Thanks by comment. Spring, the regular stack of organization, it&#39;s a requirement of project. I&#39;m searching a extension that can be used actually. Projects like apache delta spike addons(<a href=\"https://github.com/os890/ds-spring-bridge-addon\" rel=\"nofollow noreferrer\">link</a>) and spring-cid-bridge(<a href=\"https://github.com/rmannibucau/cdi-spring-bridge\" rel=\"nofollow noreferrer\">link</a>) appears outdated.  Resources as flow-scope(JSF 2.2) and websocket(JSF 2.3) are tied to CDI and appears that the mojarra JSF 2.3 with Servlet 4.0+ requires CDI."},{"owner":{"account_id":4166540,"reputation":2310,"user_id":3415398,"display_name":"tandraschko"},"score":1,"creation_date":1596437557,"post_id":63174862,"comment_id":111800458,"body_markdown":"I would use CDI for the view then and do something like this: https://stackoverflow.com/questions/4144039/injecting-a-spring-bean-using-cdi-inject","body":"I would use CDI for the view then and do something like this: <a href=\"https://stackoverflow.com/questions/4144039/injecting-a-spring-bean-using-cdi-inject\" title=\"injecting a spring bean using cdi inject\">stackoverflow.com/questions/4144039/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4783266,"reputation":73,"user_id":3864459,"display_name":"Helder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644103940,"creation_date":1644103940,"answer_id":71003023,"question_id":63174862,"body_markdown":"We use bean producers to access Spring objects in CDI. As in the architecture we used there is an interface layer between the UI and the server/business, this integration was facilitated.\r\nIntegration is performed as follows.\r\n\r\nCdi Factory from the view/ui layer.\r\n\r\n```\r\npublic class MainViewClientFactory {\r\n\r\n    public MainViewClientFactory() {\r\n    }\r\n\r\n    @ApplicationScoped\r\n    @Produces\r\n    public CadastroPaisService cadastroPaisService() {\r\n        return CdiSpringUtils.getSpringBean(CadastroPaisService.class);\r\n    }\r\n\r\n}\r\n```\r\nThe CdiSpringUtils Class.\r\n```\r\npublic class CdiSpringUtils {\r\n\r\n    private CdiSpringUtils() {\r\n    }\r\n\r\n    public static &lt;R, Q extends Annotation&gt; R getSpringBean(Class&lt;R&gt; beanClass) {\r\n        return ApplicationContextProvider.getApplicationContext().getBean(beanClass);\r\n    }\r\n\r\n    public static &lt;R, Q extends Annotation&gt; R getSpringBean(Class&lt;R&gt; beanClass, Class&lt;Q&gt; qualifierClass) {\r\n        return ApplicationContextProvider.getQualifiedBeanOfType(beanClass, qualifierClass);\r\n    }\r\n\r\n}\r\n```\r\nThe ApplicationContextProvider Class.\r\n```\r\npublic class ApplicationContextProvider implements ApplicationContextAware {\r\n\r\n    private static ApplicationContext context;\r\n\r\n    public static ApplicationContext getApplicationContext() {\r\n        return context;\r\n    }\r\n\r\n    public static &lt;R, Q extends Annotation&gt; R getQualifiedBeanOfType(Class&lt;R&gt; cls, Class&lt;Q&gt; qualifierAnnotationClass) {\r\n        R bean = null;\r\n        Map&lt;String, R&gt; beanMap = getApplicationContext().getBeansOfType(cls);\r\n        for (Map.Entry&lt;String, R&gt; entry : beanMap.entrySet()) {\r\n            Q targetAnnotation = getApplicationContext().findAnnotationOnBean(entry.getKey(), qualifierAnnotationClass);\r\n            if (targetAnnotation != null) {\r\n                bean = entry.getValue();\r\n                break;\r\n            }\r\n        }\r\n        return bean;\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext ctx) {\r\n        context = ctx;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Spring 5.x and CDI 2.x Integration Options","body":"<p>We use bean producers to access Spring objects in CDI. As in the architecture we used there is an interface layer between the UI and the server/business, this integration was facilitated.\nIntegration is performed as follows.</p>\n<p>Cdi Factory from the view/ui layer.</p>\n<pre><code>public class MainViewClientFactory {\n\n    public MainViewClientFactory() {\n    }\n\n    @ApplicationScoped\n    @Produces\n    public CadastroPaisService cadastroPaisService() {\n        return CdiSpringUtils.getSpringBean(CadastroPaisService.class);\n    }\n\n}\n</code></pre>\n<p>The CdiSpringUtils Class.</p>\n<pre><code>public class CdiSpringUtils {\n\n    private CdiSpringUtils() {\n    }\n\n    public static &lt;R, Q extends Annotation&gt; R getSpringBean(Class&lt;R&gt; beanClass) {\n        return ApplicationContextProvider.getApplicationContext().getBean(beanClass);\n    }\n\n    public static &lt;R, Q extends Annotation&gt; R getSpringBean(Class&lt;R&gt; beanClass, Class&lt;Q&gt; qualifierClass) {\n        return ApplicationContextProvider.getQualifiedBeanOfType(beanClass, qualifierClass);\n    }\n\n}\n</code></pre>\n<p>The ApplicationContextProvider Class.</p>\n<pre><code>public class ApplicationContextProvider implements ApplicationContextAware {\n\n    private static ApplicationContext context;\n\n    public static ApplicationContext getApplicationContext() {\n        return context;\n    }\n\n    public static &lt;R, Q extends Annotation&gt; R getQualifiedBeanOfType(Class&lt;R&gt; cls, Class&lt;Q&gt; qualifierAnnotationClass) {\n        R bean = null;\n        Map&lt;String, R&gt; beanMap = getApplicationContext().getBeansOfType(cls);\n        for (Map.Entry&lt;String, R&gt; entry : beanMap.entrySet()) {\n            Q targetAnnotation = getApplicationContext().findAnnotationOnBean(entry.getKey(), qualifierAnnotationClass);\n            if (targetAnnotation != null) {\n                bean = entry.getValue();\n                break;\n            }\n        }\n        return bean;\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext ctx) {\n        context = ctx;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":4783266,"reputation":73,"user_id":3864459,"display_name":"Helder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71003023,"answer_count":1,"score":1,"last_activity_date":1664353052,"creation_date":1596117757,"question_id":63174862,"body_markdown":"Considering Spring&#39;s 5.x baseline and CDI&#39;s baseline 2.x, what more viable options should I consider to integrate them into a project with JSF 2.3, since JSF 2.3 is coupled with the CDI? Bridges? Custom Bean Factories? Others?","title":"Spring 5.x and CDI 2.x Integration Options","body":"<p>Considering Spring's 5.x baseline and CDI's baseline 2.x, what more viable options should I consider to integrate them into a project with JSF 2.3, since JSF 2.3 is coupled with the CDI? Bridges? Custom Bean Factories? Others?</p>\n"},{"tags":["java","scala","apache-flink"],"comments":[{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":3,"creation_date":1664357350,"post_id":73878196,"comment_id":130451131,"body_markdown":"What do  you mean &quot;compressing a list&quot;, you wouldn&#39;t gZIP a float?","body":"What do  you mean &quot;compressing a list&quot;, you wouldn&#39;t gZIP a float?"},{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":0,"creation_date":1664364539,"post_id":73878196,"comment_id":130453583,"body_markdown":"You can compress the Float32 representation to Float16, even if you can afford losing some information you can transform to int8 representation, saving 75% of memory space. This is what deep learning frameworks use at inference time.","body":"You can compress the Float32 representation to Float16, even if you can afford losing some information you can transform to int8 representation, saving 75% of memory space. This is what deep learning frameworks use at inference time."},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1664372346,"post_id":73878196,"comment_id":130456687,"body_markdown":"Just gzip it...","body":"Just gzip it..."},{"owner":{"account_id":6871420,"reputation":33,"user_id":5281602,"display_name":"Alok Singh"},"score":0,"creation_date":1664742089,"post_id":73878196,"comment_id":130536210,"body_markdown":"@MateuszKubuszok gZipping a float? I am not sure if that can be done. What I was thinking is to convert the list to string and then gzip the string. But unable to find the right process to do that.","body":"@MateuszKubuszok gZipping a float? I am not sure if that can be done. What I was thinking is to convert the list to string and then gzip the string. But unable to find the right process to do that."},{"owner":{"account_id":6871420,"reputation":33,"user_id":5281602,"display_name":"Alok Singh"},"score":0,"creation_date":1664742233,"post_id":73878196,"comment_id":130536225,"body_markdown":"@EmilianoMartinez rightly said. But changing the data type in our data will help in disk requirement? We store the data in Elasticsearch which intake the data as json. Now making data type change from float32 to float16 will make a difference in storage requirement in Elasticsearch or any NoSQL DB?","body":"@EmilianoMartinez rightly said. But changing the data type in our data will help in disk requirement? We store the data in Elasticsearch which intake the data as json. Now making data type change from float32 to float16 will make a difference in storage requirement in Elasticsearch or any NoSQL DB?"},{"owner":{"account_id":6871420,"reputation":33,"user_id":5281602,"display_name":"Alok Singh"},"score":0,"creation_date":1664742282,"post_id":73878196,"comment_id":130536236,"body_markdown":"@Dima Can you please in guiding to the right way to gzip the data in Scala?","body":"@Dima Can you please in guiding to the right way to gzip the data in Scala?"},{"owner":{"account_id":6871420,"reputation":33,"user_id":5281602,"display_name":"Alok Singh"},"score":0,"creation_date":1664742371,"post_id":73878196,"comment_id":130536252,"body_markdown":"@LeviRamsey I am more concerned over disk requirement rather than memory-efficiency as of now because we store the data in a store(ElasticSearch) and we need to reduce the disk requirement.","body":"@LeviRamsey I am more concerned over disk requirement rather than memory-efficiency as of now because we store the data in a store(ElasticSearch) and we need to reduce the disk requirement."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":0,"creation_date":1664756708,"post_id":73878196,"comment_id":130538249,"body_markdown":"If you&#39;re concerned with the storage consumption in Elasticsearch or another (non-toy) datastore, nothing you do on the Java side will optimize that.  Note that datastores which are oriented toward fast queries (which is a fair description of Elasticsearch) will in general be rather inefficient in their storage because the most effective ways to optimize query speed tend to involve consuming more disk.","body":"If you&#39;re concerned with the storage consumption in Elasticsearch or another (non-toy) datastore, nothing you do on the Java side will optimize that.  Note that datastores which are oriented toward fast queries (which is a fair description of Elasticsearch) will in general be rather inefficient in their storage because the most effective ways to optimize query speed tend to involve consuming more disk."},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1664760220,"post_id":73878196,"comment_id":130538588,"body_markdown":"@AlokSingh Check out [GzipOutputStream](https://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html). But to echo the other comments, that likely doesn&#39;t matter, because Elasticsearch will likely compress the data it stores way more efficiently tjam you ever could.","body":"@AlokSingh Check out <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html\" rel=\"nofollow noreferrer\">GzipOutputStream</a>. But to echo the other comments, that likely doesn&#39;t matter, because Elasticsearch will likely compress the data it stores way more efficiently tjam you ever could."},{"owner":{"account_id":6871420,"reputation":33,"user_id":5281602,"display_name":"Alok Singh"},"score":0,"creation_date":1664773240,"post_id":73878196,"comment_id":130540168,"body_markdown":"@LeviRamsey How about storing the compressed data in the Elasticsearch? If we compress the data before even sending it to ElasticSearch, isn&#39;t it that it should save the disk space?","body":"@LeviRamsey How about storing the compressed data in the Elasticsearch? If we compress the data before even sending it to ElasticSearch, isn&#39;t it that it should save the disk space?"},{"owner":{"account_id":6871420,"reputation":33,"user_id":5281602,"display_name":"Alok Singh"},"score":0,"creation_date":1664773345,"post_id":73878196,"comment_id":130540184,"body_markdown":"@Dima I agree that Elasticsearch will compress the data more efficiently. But how about compressing the data before hand only and giving compressed data to ElasticSearch and then ElasticSearch will try to compress this data again when storing in disk. Won&#39;t it help in reducing the disk requirement?","body":"@Dima I agree that Elasticsearch will compress the data more efficiently. But how about compressing the data before hand only and giving compressed data to ElasticSearch and then ElasticSearch will try to compress this data again when storing in disk. Won&#39;t it help in reducing the disk requirement?"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":1,"creation_date":1664808290,"post_id":73878196,"comment_id":130550116,"body_markdown":"@AlokSingh aside from some specifically designed corner cases, double-compression typically results in a (slightly) _larger_ result (because of extra headers and dictionaries that need to be added) ... but you can try it and see for yourself how it works out in your case. One possible reason to compress on the client side I can think of is to reduce the network traffic, which may or may not be worth doing in your case.","body":"@AlokSingh aside from some specifically designed corner cases, double-compression typically results in a (slightly) <i>larger</i> result (because of extra headers and dictionaries that need to be added) ... but you can try it and see for yourself how it works out in your case. One possible reason to compress on the client side I can think of is to reduce the network traffic, which may or may not be worth doing in your case."},{"owner":{"account_id":6871420,"reputation":33,"user_id":5281602,"display_name":"Alok Singh"},"score":0,"creation_date":1664864381,"post_id":73878196,"comment_id":130561736,"body_markdown":"I couldn&#39;t find any proper resource where I can see the implementation for the compression. \nWhat i have done now is that i have kept all the lists under a util.Map[String, java.util.List[java.lang.Float]] and thinking to compress this whole Map. \nCan you help on how I can achieve this?\n@Dima","body":"I couldn&#39;t find any proper resource where I can see the implementation for the compression.  What i have done now is that i have kept all the lists under a util.Map[String, java.util.List[java.lang.Float]] and thinking to compress this whole Map.  Can you help on how I can achieve this? @Dima"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1664890083,"post_id":73878196,"comment_id":130569740,"body_markdown":"@AlokSingh did you check out the link I posted above? [Here](https://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html) it is again.","body":"@AlokSingh did you check out the link I posted above? <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/zip/GZIPOutputStream.html\" rel=\"nofollow noreferrer\">Here</a> it is again."}],"owner":{"account_id":6871420,"reputation":33,"user_id":5281602,"display_name":"Alok Singh"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664352755,"creation_date":1664352755,"question_id":73878196,"body_markdown":"I am looking for a compression to **java.util.List** in scala which stores **java.lang.Float** but could not find any proper source which I can use to compress the List.\r\n\r\nApplication: I have around 100s of such lists in our streaming data and in order to reduce the memory storage requirement, I want to compress the lists. The code is written in Scala and is written for a Flink Streaming Job which generates a report which contain all the lists.","title":"Compressing java.util.List[java.lang.Float] in Scala","body":"<p>I am looking for a compression to <strong>java.util.List</strong> in scala which stores <strong>java.lang.Float</strong> but could not find any proper source which I can use to compress the List.</p>\n<p>Application: I have around 100s of such lists in our streaming data and in order to reduce the memory storage requirement, I want to compress the lists. The code is written in Scala and is written for a Flink Streaming Job which generates a report which contain all the lists.</p>\n"},{"tags":["java","null","nullpointerexception","operators"],"comments":[{"owner":{"account_id":5348951,"reputation":346,"user_id":4263618,"display_name":"keke2048"},"score":0,"creation_date":1492761592,"post_id":20117074,"comment_id":74126275,"body_markdown":"I got the same NPE, we have to bear in mind that arithmetic operations are done in primitive types, and always take class types unbox npe in to considoration.","body":"I got the same NPE, we have to bear in mind that arithmetic operations are done in primitive types, and always take class types unbox npe in to considoration."}],"answers":[{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1385027177,"creation_date":1385026414,"answer_id":20117139,"question_id":20117074,"body_markdown":"The best way is *not to use* Boxed types for normal arithmetic operations. Use primitive types instead. \r\n\r\nOnly if you are using them in the collections somewhere you should resort to Boxed types.\r\n\r\nEDIT:\r\n\r\nIncorporating the suggestion from @Ingo there is a good utility class [`Optional`][1] in Guava, which explains on how to avoid nulls.\r\n\r\nNow use of this class makes it explicit that the value can be `null`. \r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained","title":"How to avoid NullPointerExceptions from boxed type arithmetic in Java?","body":"<p>The best way is <em>not to use</em> Boxed types for normal arithmetic operations. Use primitive types instead. </p>\n\n<p>Only if you are using them in the collections somewhere you should resort to Boxed types.</p>\n\n<p>EDIT:</p>\n\n<p>Incorporating the suggestion from @Ingo there is a good utility class <a href=\"https://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained\" rel=\"noreferrer\"><code>Optional</code></a> in Guava, which explains on how to avoid nulls.</p>\n\n<p>Now use of this class makes it explicit that the value can be <code>null</code>. </p>\n"},{"tags":[],"owner":{"account_id":1168964,"reputation":4060,"user_id":1146585,"accept_rate":100,"display_name":"Pierre Arlaud"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1385026452,"creation_date":1385026452,"answer_id":20117149,"question_id":20117074,"body_markdown":"I guess you could catch it instead of using if&#160;:\r\n\r\n    Integer result = null;\r\n    try {\r\n      result = var1 + var2;\r\n    } catch(NullPointerException ex) {}\r\n\r\nThe good news is, you don&#39;t have to test the values of var1 or var2, and the value is already null by default (so you don&#39;t need setting it in the catch block).","title":"How to avoid NullPointerExceptions from boxed type arithmetic in Java?","body":"<p>I guess you could catch it instead of using if :</p>\n\n<pre><code>Integer result = null;\ntry {\n  result = var1 + var2;\n} catch(NullPointerException ex) {}\n</code></pre>\n\n<p>The good news is, you don't have to test the values of var1 or var2, and the value is already null by default (so you don't need setting it in the catch block).</p>\n"},{"tags":[],"owner":{"account_id":2977369,"reputation":1441,"user_id":2528147,"accept_rate":68,"display_name":"stackular"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1385026526,"creation_date":1385026526,"answer_id":20117177,"question_id":20117074,"body_markdown":"    Integer var1 = null;\r\n    Integer var2 = 4;\r\n    Integer result = (var1 == null || var2 == null) ? null : var1 + var2; // returns null if either argument is null","title":"How to avoid NullPointerExceptions from boxed type arithmetic in Java?","body":"<pre><code>Integer var1 = null;\nInteger var2 = 4;\nInteger result = (var1 == null || var2 == null) ? null : var1 + var2; // returns null if either argument is null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2069349,"reputation":5382,"user_id":1844148,"accept_rate":67,"display_name":"Dileep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385027162,"creation_date":1385027162,"answer_id":20117393,"question_id":20117074,"body_markdown":"`int` and `Integer` has its own properties and they are used for specified functions.\r\n\r\n**int** is a primitive datatype and its not considered as an object. ie; the values in an int can only be from a predefined set of elements.\r\n\r\n**Integer** are wrapped in an object so they have the behaviour of an object. \r\n\r\n&gt; So if you want to have use just the arithmetic operations , you better\r\n&gt; use int instead of Integer. \r\n&gt; \r\n&gt; ***When you are using the `Integer` for arithmetic operation , it\r\n&gt; UnBox the `Integer` to find the `int` value and then do the operations and get it boxed. so the overhead is more and hence its a bad practice.***\r\n\r\n","title":"How to avoid NullPointerExceptions from boxed type arithmetic in Java?","body":"<p><code>int</code> and <code>Integer</code> has its own properties and they are used for specified functions.</p>\n\n<p><strong>int</strong> is a primitive datatype and its not considered as an object. ie; the values in an int can only be from a predefined set of elements.</p>\n\n<p><strong>Integer</strong> are wrapped in an object so they have the behaviour of an object. </p>\n\n<blockquote>\n  <p>So if you want to have use just the arithmetic operations , you better\n  use int instead of Integer. </p>\n  \n  <p><em><strong>When you are using the <code>Integer</code> for arithmetic operation , it\n  UnBox the <code>Integer</code> to find the <code>int</code> value and then do the operations and get it boxed. so the overhead is more and hence its a bad practice.</em></strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2631644,"reputation":6155,"user_id":2622016,"accept_rate":69,"display_name":"user2622016"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385028191,"creation_date":1385027631,"answer_id":20117549,"question_id":20117074,"body_markdown":"Unfortunately no, there is no other way in Java to prevent `NullPointerException` on boxed types other than to explicitly check for `null`.\r\n\r\nThe same applies to `.equals()`, you can do:\r\n\r\n    Integer var1 = null;\r\n    Integer var2 = 4;\r\n    var1 == var2\r\n\r\nBut if you want to compare values:\r\n\r\n    Integer var1 = null;\r\n    Integer var2 = 4;\r\n    var1.equals(var2)  //throws NullPointerException\r\n\r\nThis is why a two argument static `Object::equals` (see [here][1]) was introduced in 2011 to Java. \r\n\r\nThere are no such methods for boxed numbers (like `Integer`). In fact during `var1 + var2` you get automatic unboxing which causes exception. So you are not adding two `Integer`s, but `.intValue()` is called instead on both of them, and then a new Integer is constructed from the result. \r\n\r\nSee this Stack Overflow answer for further information on boxed numbers: [Unboxing Long in java][2].\r\n\r\nSorry, this is one of the Java&#39;s nuisance. If you work on `Integer`s, check for `null` every time. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29\r\n  [2]: https://stackoverflow.com/a/16855687/2622016","title":"How to avoid NullPointerExceptions from boxed type arithmetic in Java?","body":"<p>Unfortunately no, there is no other way in Java to prevent <code>NullPointerException</code> on boxed types other than to explicitly check for <code>null</code>.</p>\n\n<p>The same applies to <code>.equals()</code>, you can do:</p>\n\n<pre><code>Integer var1 = null;\nInteger var2 = 4;\nvar1 == var2\n</code></pre>\n\n<p>But if you want to compare values:</p>\n\n<pre><code>Integer var1 = null;\nInteger var2 = 4;\nvar1.equals(var2)  //throws NullPointerException\n</code></pre>\n\n<p>This is why a two argument static <code>Object::equals</code> (see <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29\" rel=\"nofollow noreferrer\">here</a>) was introduced in 2011 to Java. </p>\n\n<p>There are no such methods for boxed numbers (like <code>Integer</code>). In fact during <code>var1 + var2</code> you get automatic unboxing which causes exception. So you are not adding two <code>Integer</code>s, but <code>.intValue()</code> is called instead on both of them, and then a new Integer is constructed from the result. </p>\n\n<p>See this Stack Overflow answer for further information on boxed numbers: <a href=\"https://stackoverflow.com/a/16855687/2622016\">Unboxing Long in java</a>.</p>\n\n<p>Sorry, this is one of the Java's nuisance. If you work on <code>Integer</code>s, check for <code>null</code> every time. </p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385036855,"creation_date":1385028707,"answer_id":20117990,"question_id":20117074,"body_markdown":"Technically, this doesn&#39;t have an `if` per se:\r\n\r\n    Integer result = var1 == null || var2 == null ? null : var1 + var2;\r\n\r\nYou could refactor this into a utility method for reuse:\r\n\r\n    public static Integer add(Integer var1, Integer var2) {\r\n        return var1 == null || var2 == null ? null : var1 + var2;\r\n    }\r\n\r\n","title":"How to avoid NullPointerExceptions from boxed type arithmetic in Java?","body":"<p>Technically, this doesn't have an <code>if</code> per se:</p>\n\n<pre><code>Integer result = var1 == null || var2 == null ? null : var1 + var2;\n</code></pre>\n\n<p>You could refactor this into a utility method for reuse:</p>\n\n<pre><code>public static Integer add(Integer var1, Integer var2) {\n    return var1 == null || var2 == null ? null : var1 + var2;\n}\n</code></pre>\n"}],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11098,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20117139,"answer_count":6,"score":8,"last_activity_date":1664352566,"creation_date":1385026264,"question_id":20117074,"body_markdown":"Given the following:\r\n\r\n    Integer var1 = null;\r\n    Integer var2 = 4;\r\n    Integer result = var1 + var2; // throws NullPointerException\r\n\r\nThe requirement for my use case is that `result` should be `null` whenever either operand is `null` (and the same applies for other operators). I know I can use an `if` statement to do this but is there a smarter way?","title":"How to avoid NullPointerExceptions from boxed type arithmetic in Java?","body":"<p>Given the following:</p>\n<pre><code>Integer var1 = null;\nInteger var2 = 4;\nInteger result = var1 + var2; // throws NullPointerException\n</code></pre>\n<p>The requirement for my use case is that <code>result</code> should be <code>null</code> whenever either operand is <code>null</code> (and the same applies for other operators). I know I can use an <code>if</code> statement to do this but is there a smarter way?</p>\n"},{"tags":["java","groovy","gradle"],"answers":[{"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1428654372,"creation_date":1428653925,"answer_id":29556567,"question_id":29556442,"body_markdown":"Try:\r\n\r\n    @TaskAction\r\n    def task() {\r\n       project.copy {\r\n          from(project.fileTree(dir: srcDir).files) {\r\n             include {\r\n               it.file.name.contains(&#39;$$&#39;)\r\n             }\r\n          }\r\n          into(&#39;somewhere&#39;)\r\n          rename { name -&gt;\r\n             name.replace(&#39;$$&#39;, &#39;$&#39;)\r\n          }\r\n       }\r\n    } \r\n\r\n           \r\n","title":"Copy and rename a File inside a DefaultTask Class?","body":"<p>Try:</p>\n\n<pre><code>@TaskAction\ndef task() {\n   project.copy {\n      from(project.fileTree(dir: srcDir).files) {\n         include {\n           it.file.name.contains('$$')\n         }\n      }\n      into('somewhere')\n      rename { name -&gt;\n         name.replace('$$', '$')\n      }\n   }\n} \n</code></pre>\n"}],"owner":{"account_id":1051966,"reputation":32747,"user_id":1055664,"accept_rate":57,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29556567,"answer_count":1,"score":2,"last_activity_date":1664352121,"creation_date":1428653508,"question_id":29556442,"body_markdown":"I want to duplicate all files from my ``srcDir``which contain $$ in their name. If a file is for example: \r\n\r\n    x$$y.java\r\n\r\nI want to create a copy of that file and name it ``x$y.java``.\r\n\r\n    class MyTask extends DefaultTask {\r\n\t\r\n\t@InputDirectory File srcDir\r\n\r\n\t@TaskAction\r\n\tdef task() {\r\n      def srcFiles = project.files(project.fileTree(dir: srcDir)).getFiles()\r\n      srcFiles.each { file -&gt;  \r\n\t\t\tif (file.name.contains(&quot;\\$\\$&quot;)) {\r\n               // TODO copy file and rename it to the same name with one dollar sign in the middle\r\n\r\n            }\r\n      }\r\n    }\r\n    }\r\n\r\n**How can I copy and rename a file inside a custom task class?**","title":"Copy and rename a File inside a DefaultTask Class?","body":"<p>I want to duplicate all files from my <code>srcDir</code>which contain $$ in their name. If a file is for example: </p>\n\n<pre><code>x$$y.java\n</code></pre>\n\n<p>I want to create a copy of that file and name it <code>x$y.java</code>.</p>\n\n<pre><code>class MyTask extends DefaultTask {\n\n@InputDirectory File srcDir\n\n@TaskAction\ndef task() {\n  def srcFiles = project.files(project.fileTree(dir: srcDir)).getFiles()\n  srcFiles.each { file -&gt;  \n        if (file.name.contains(\"\\$\\$\")) {\n           // TODO copy file and rename it to the same name with one dollar sign in the middle\n\n        }\n  }\n}\n}\n</code></pre>\n\n<p><strong>How can I copy and rename a file inside a custom task class?</strong></p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1664348872,"post_id":73877310,"comment_id":130448140,"body_markdown":"What does the `playMusic` method look like?","body":"What does the <code>playMusic</code> method look like?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1664349025,"post_id":73877310,"comment_id":130448191,"body_markdown":"window.setLayout(null); isn’t helping the situation","body":"window.setLayout(null); isn’t helping the situation"},{"owner":{"account_id":26466716,"reputation":1,"user_id":20107807,"display_name":"Paul Gonzalez"},"score":0,"creation_date":1664351667,"post_id":73877310,"comment_id":130449029,"body_markdown":"@Jesper I added it to my original post","body":"@Jesper I added it to my original post"},{"owner":{"account_id":26466716,"reputation":1,"user_id":20107807,"display_name":"Paul Gonzalez"},"score":0,"creation_date":1664351718,"post_id":73877310,"comment_id":130449047,"body_markdown":"Thank you @MadProgrammer. I was wondering about that, but my friend said I needed that there.","body":"Thank you @MadProgrammer. I was wondering about that, but my friend said I needed that there."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664355393,"post_id":73877310,"comment_id":130450389,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664371106,"post_id":73877310,"comment_id":130456207,"body_markdown":"`pack()` should come before `setVisible(true)` though it makes no sense here. Instead of overriding the `PreferredSize` and calling `pack()`, it would be simpler to just use `setSize(1280, 719)` and not to call `pack()` at all. Besides that, it’s not clear which “title and button panel” you’re talking about as all that the code does, is open a window with a picture (`JLabel` with `ImageIcon`). There are no titles nor button panels.","body":"<code>pack()</code> should come before <code>setVisible(true)</code> though it makes no sense here. Instead of overriding the <code>PreferredSize</code> and calling <code>pack()</code>, it would be simpler to just use <code>setSize(1280, 719)</code> and not to call <code>pack()</code> at all. Besides that, it’s not clear which “title and button panel” you’re talking about as all that the code does, is open a window with a picture (<code>JLabel</code> with <code>ImageIcon</code>). There are no titles nor button panels."}],"owner":{"account_id":26466716,"reputation":1,"user_id":20107807,"display_name":"Paul Gonzalez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664351636,"creation_date":1664347997,"question_id":73877310,"body_markdown":"I have a gui windows created and I am setting audio to play when it is called on. When I run the code in Mac, I have no problems with the GUI. My title panel and button panel appear while my music plays.\r\n\r\nWhen I run the code on Windows, the music will begin to play in the gui window, but my title and button panel disappear and I can&#39;t progress forward.\r\n\r\nI appreciate any and all input.\r\n\r\n```     \r\npublic static void setWindow() {\r\n        window.setPreferredSize(new Dimension(1280, 719));\r\n        window.setResizable(false);\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setContentPane(new JLabel(new ImageIcon(Objects.requireNonNull(ExploreMissionScreenHandler.class.getClassLoader().getResource(&quot;StuckInSpace.jpg&quot;)))));\r\n        window.setLayout(null);\r\n        window.setVisible(true);\r\n        window.setLocationRelativeTo(null);\r\n        playMusic(0);\r\n        window.pack();\r\n    } \r\n```\r\n\r\n```\r\n    public static void playMusic(int i) {\r\n        sound.setFile(i);\r\n        sound.play();\r\n        sound.loop();\r\n    }\r\n```","title":"Why does the gui work on Mac but malfunctions on Windows?","body":"<p>I have a gui windows created and I am setting audio to play when it is called on. When I run the code in Mac, I have no problems with the GUI. My title panel and button panel appear while my music plays.</p>\n<p>When I run the code on Windows, the music will begin to play in the gui window, but my title and button panel disappear and I can't progress forward.</p>\n<p>I appreciate any and all input.</p>\n<pre><code>public static void setWindow() {\n        window.setPreferredSize(new Dimension(1280, 719));\n        window.setResizable(false);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setContentPane(new JLabel(new ImageIcon(Objects.requireNonNull(ExploreMissionScreenHandler.class.getClassLoader().getResource(&quot;StuckInSpace.jpg&quot;)))));\n        window.setLayout(null);\n        window.setVisible(true);\n        window.setLocationRelativeTo(null);\n        playMusic(0);\n        window.pack();\n    } \n</code></pre>\n<pre><code>    public static void playMusic(int i) {\n        sound.setFile(i);\n        sound.play();\n        sound.loop();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","hashicorp-vault","spring-vault","spring-cloud-vault-config"],"comments":[{"owner":{"account_id":3330925,"reputation":25960,"user_id":5343387,"accept_rate":86,"display_name":"Matthew Schuchard"},"score":0,"creation_date":1653398722,"post_id":72363487,"comment_id":127839008,"body_markdown":"I am only experienced with the Vault bindings for Go, Python, Ruby, JS, and C++, but in a situation like this with unsupported endpoint bindings, then you should be able to just request against the API directly. You have defined the server endpoint already, so you should be able to make requests against the API for that server, receive JSON responses, and then parse the responses. See https://www.vaultproject.io/api-docs/system/auth#enable-auth-method and https://www.vaultproject.io/api-docs/auth/userpass.","body":"I am only experienced with the Vault bindings for Go, Python, Ruby, JS, and C++, but in a situation like this with unsupported endpoint bindings, then you should be able to just request against the API directly. You have defined the server endpoint already, so you should be able to make requests against the API for that server, receive JSON responses, and then parse the responses. See <a href=\"https://www.vaultproject.io/api-docs/system/auth#enable-auth-method\" rel=\"nofollow noreferrer\">vaultproject.io/api-docs/system/auth#enable-auth-method</a> and <a href=\"https://www.vaultproject.io/api-docs/auth/userpass\" rel=\"nofollow noreferrer\">vaultproject.io/api-docs/auth/userpass</a>."},{"owner":{"account_id":13111096,"reputation":364,"user_id":9472095,"display_name":"Antony Vimal Raj"},"score":0,"creation_date":1653400802,"post_id":72363487,"comment_id":127839966,"body_markdown":"@MattSchuchard I am able to access the API and fetch token. The challenge for me is, setting that token during app start-up before the app contact vault.","body":"@MattSchuchard I am able to access the API and fetch token. The challenge for me is, setting that token during app start-up before the app contact vault."},{"owner":{"account_id":3330925,"reputation":25960,"user_id":5343387,"accept_rate":86,"display_name":"Matthew Schuchard"},"score":0,"creation_date":1653401572,"post_id":72363487,"comment_id":127840345,"body_markdown":"Most bindings have a Vault client object with a `token` member. Can you not set that member to the token received from the `userpass` authentication POST?","body":"Most bindings have a Vault client object with a <code>token</code> member. Can you not set that member to the token received from the <code>userpass</code> authentication POST?"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653403229,"creation_date":1653403229,"answer_id":72364888,"question_id":72363487,"body_markdown":"Spring Vault-related beans are initialized during bootstrap context, which is a parent context for the main application. That&#39;s why you need to use `bootstrap.yml` instead of `application.yml` to define properties. Check [Spring Cloud Context: Application Context Services](https://cloud.spring.io/spring-cloud-commons/2.0.x/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context) for more details.\r\n\r\nAlso you need to use `org.springframework.cloud.bootstrap.BootstrapConfiguration` in `META-INF/spring.factories`.","title":"Vault UserPass authentication with Spring boot","body":"<p>Spring Vault-related beans are initialized during bootstrap context, which is a parent context for the main application. That's why you need to use <code>bootstrap.yml</code> instead of <code>application.yml</code> to define properties. Check <a href=\"https://cloud.spring.io/spring-cloud-commons/2.0.x/multi/multi__spring_cloud_context_application_context_services.html#_the_bootstrap_application_context\" rel=\"nofollow noreferrer\">Spring Cloud Context: Application Context Services</a> for more details.</p>\n<p>Also you need to use <code>org.springframework.cloud.bootstrap.BootstrapConfiguration</code> in <code>META-INF/spring.factories</code>.</p>\n"},{"tags":[],"owner":{"account_id":13111096,"reputation":364,"user_id":9472095,"display_name":"Antony Vimal Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664350851,"creation_date":1664350851,"answer_id":73877845,"question_id":72363487,"body_markdown":"Spring reads vault token from this property `spring.cloud.vault.token`. I have created a custom `PropertySourceLocator` and added the token:\r\n\r\n    public class VaultCustomPropertySourceLocator implements PropertySourceLocator {\r\n\r\n\t@Override\r\n\tpublic PropertySource&lt;?&gt; locate(Environment environment) {\r\n\t\tProperties props = new Properties();\r\n\t\tprops.setProperty(&quot;spring.cloud.vault.token&quot;, getVaultAuthToken());\r\n\t\tPropertiesPropertySource ps = new PropertiesPropertySource(&quot;customPropsSource&quot;,props);\r\n\t\treturn ps;\r\n\t}\r\n\r\n\tprivate String getVaultAuthToken() {\r\n\t\t// logic to fetch vault token\r\n\t}\r\n    }\r\n\r\n","title":"Vault UserPass authentication with Spring boot","body":"<p>Spring reads vault token from this property <code>spring.cloud.vault.token</code>. I have created a custom <code>PropertySourceLocator</code> and added the token:</p>\n<pre><code>public class VaultCustomPropertySourceLocator implements PropertySourceLocator {\n\n@Override\npublic PropertySource&lt;?&gt; locate(Environment environment) {\n    Properties props = new Properties();\n    props.setProperty(&quot;spring.cloud.vault.token&quot;, getVaultAuthToken());\n    PropertiesPropertySource ps = new PropertiesPropertySource(&quot;customPropsSource&quot;,props);\n    return ps;\n}\n\nprivate String getVaultAuthToken() {\n    // logic to fetch vault token\n}\n}\n</code></pre>\n"}],"owner":{"account_id":13111096,"reputation":364,"user_id":9472095,"display_name":"Antony Vimal Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73877845,"answer_count":2,"score":0,"last_activity_date":1664350851,"creation_date":1653397721,"question_id":72363487,"body_markdown":" I need to connect to Vault from my spring boot microservice. To get the vault token, the service needs to login to vault by providing username and password. Spring-vault integration doesn&#39;t support this behaviour by default. &lt;br/&gt;&lt;br/&gt; I came across this [SO question][1] and tried the approach but it results in `BeanDefinitionStoreException`, as the bean named `clientAuthentication` is already defined. &lt;br/&gt;&lt;br/&gt; Later I have referred [this][2] example and extend `AbstractVaultConfiguration`. Now my configuration hierarchy looks like the below:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    public abstract class AbstractVaultConfiguration implements ApplicationContextAware {\r\n      public abstract VaultEndpoint vaultEndpoint();\r\n      public abstract ClientAuthentication clientAuthentication();\r\n      // other methods and bean definitions\r\n    }\r\n\r\n    @Configuration\r\n    public class EnvironmentVaultConfiguration extends AbstractVaultConfiguration implements \r\n    ApplicationContextAware {\r\n      // other methods\r\n    }\r\n\r\n    public class VaultCustomConfig extends AbstractVaultConfiguration {\r\n\t@Override\r\n\tpublic VaultEndpoint vaultEndpoint() {\r\n\t\treturn VaultEndpoint.create(&quot;https://vault-dev.net&quot;, 443);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ClientAuthentication clientAuthentication() {\r\n\t\t//logic to fetch token\r\n\t}\r\n    }\r\n\r\nFirst two classes are provided by spring-vault. I have added the last one and also put entry in spring.factories:\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.test.configuration.VaultCustomConfig\r\n\r\n The application is starting but getting 403 error. When I exclude `EnvironmentVaultConfiguration` from auto configuration, getting exceptions that many beans are not created(ex-`vaultTemplate`). I am able to contact vault API and fetch the token using `RestTemplate`. The challenge is setting that token before the app tries to contact vault(through spring-vault support).&lt;br/&gt;&lt;br/&gt; Instead of overriding vault configuration, I tried setting an environment variable named `vault.token` which will be read by spring during start-up, but that is also not working(probably I missed something).&lt;br/&gt;&lt;br/&gt;How can I override the built-in configuration and provide the token? \r\n\r\n  [1]: https://stackoverflow.com/questions/49651475/userpass-authentication-vault\r\n  [2]: https://github.com/mp911de/spring-cloud-vault-config-samples/blob/main/spring-vault/hello-world/src/main/java/example/helloworld/HelloWorldApplication.java","title":"Vault UserPass authentication with Spring boot","body":"<p>I need to connect to Vault from my spring boot microservice. To get the vault token, the service needs to login to vault by providing username and password. Spring-vault integration doesn't support this behaviour by default. <br/><br/> I came across this <a href=\"https://stackoverflow.com/questions/49651475/userpass-authentication-vault\">SO question</a> and tried the approach but it results in <code>BeanDefinitionStoreException</code>, as the bean named <code>clientAuthentication</code> is already defined. <br/><br/> Later I have referred <a href=\"https://github.com/mp911de/spring-cloud-vault-config-samples/blob/main/spring-vault/hello-world/src/main/java/example/helloworld/HelloWorldApplication.java\" rel=\"nofollow noreferrer\">this</a> example and extend <code>AbstractVaultConfiguration</code>. Now my configuration hierarchy looks like the below:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic abstract class AbstractVaultConfiguration implements ApplicationContextAware {\n  public abstract VaultEndpoint vaultEndpoint();\n  public abstract ClientAuthentication clientAuthentication();\n  // other methods and bean definitions\n}\n\n@Configuration\npublic class EnvironmentVaultConfiguration extends AbstractVaultConfiguration implements \nApplicationContextAware {\n  // other methods\n}\n\npublic class VaultCustomConfig extends AbstractVaultConfiguration {\n@Override\npublic VaultEndpoint vaultEndpoint() {\n    return VaultEndpoint.create(&quot;https://vault-dev.net&quot;, 443);\n}\n\n@Override\npublic ClientAuthentication clientAuthentication() {\n    //logic to fetch token\n}\n}\n</code></pre>\n<p>First two classes are provided by spring-vault. I have added the last one and also put entry in spring.factories:</p>\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.test.configuration.VaultCustomConfig\n</code></pre>\n<p>The application is starting but getting 403 error. When I exclude <code>EnvironmentVaultConfiguration</code> from auto configuration, getting exceptions that many beans are not created(ex-<code>vaultTemplate</code>). I am able to contact vault API and fetch the token using <code>RestTemplate</code>. The challenge is setting that token before the app tries to contact vault(through spring-vault support).<br/><br/> Instead of overriding vault configuration, I tried setting an environment variable named <code>vault.token</code> which will be read by spring during start-up, but that is also not working(probably I missed something).<br/><br/>How can I override the built-in configuration and provide the token?</p>\n"},{"tags":["java","android","android-studio","jitsi"],"answers":[{"tags":[],"owner":{"account_id":7419981,"reputation":2073,"user_id":5644761,"display_name":"JakeB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643715224,"creation_date":1643715224,"answer_id":70939879,"question_id":70939241,"body_markdown":"Remove the ()\r\n\r\n    JitsiMeetConferenceOptions.Builder().build()","title":"JitsiMeetConferenceOptions() reflects error in android studio","body":"<p>Remove the ()</p>\n<pre><code>JitsiMeetConferenceOptions.Builder().build()\n</code></pre>\n"}],"owner":{"account_id":19502572,"reputation":11,"user_id":14268261,"display_name":"Tarun Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664350812,"creation_date":1643712315,"question_id":70939241,"body_markdown":"I implement \r\n\r\n    JitsiMeetConferenceOptions option = new JitsiMeetConferenceOptions().Builder()\r\n\r\nin android studio and it shows error. Here in the logcat, it shows that \r\n\r\n&gt; JitsiMeetConferenceOptions() has private access in ‘org.jitsi.meet.sdk.JitsiMeetConferenceOptions\r\n\r\n\r\n\r\n\r\n","title":"JitsiMeetConferenceOptions() reflects error in android studio","body":"<p>I implement</p>\n<pre><code>JitsiMeetConferenceOptions option = new JitsiMeetConferenceOptions().Builder()\n</code></pre>\n<p>in android studio and it shows error. Here in the logcat, it shows that</p>\n<blockquote>\n<p>JitsiMeetConferenceOptions() has private access in ‘org.jitsi.meet.sdk.JitsiMeetConferenceOptions</p>\n</blockquote>\n"},{"tags":["java","string","selenium"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664350669,"creation_date":1664350669,"answer_id":73877805,"question_id":73876806,"body_markdown":"If I understand correctly what is you asking for, you can do the following:  \r\n1) Retrieve from the URL offset value (in case there is such there)  \r\n2) Update the offset value   \r\n3) Update the URL with the new offset value.   \r\nSimple Java code to do this can look as following:\r\n```java\r\nString url = &quot;http://test:1000/v5/accounts/101/transactions?limit=10&amp;offset=10&quot;;\r\nString offset = url.split(&quot;offset&quot;)[1];\r\nif(offset != null &amp;&amp; !offset.trim().isEmpty()){\r\n    offset = offset.substring(offset.indexOf(&quot;=&quot;) + 1);\r\n    int updatedOffsetValue = Integer.parseInt(offset) + 10;\r\n    url = url.substring(0,url.lastIndexOf(&quot;=&quot;)+1) + String.valueOf(updatedOffsetValue);\r\n}\r\n```","title":"How can i replace the dynamic content in url?","body":"<p>If I understand correctly what is you asking for, you can do the following:</p>\n<ol>\n<li>Retrieve from the URL offset value (in case there is such there)</li>\n<li>Update the offset value</li>\n<li>Update the URL with the new offset value.<br />\nSimple Java code to do this can look as following:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String url = &quot;http://test:1000/v5/accounts/101/transactions?limit=10&amp;offset=10&quot;;\nString offset = url.split(&quot;offset&quot;)[1];\nif(offset != null &amp;&amp; !offset.trim().isEmpty()){\n    offset = offset.substring(offset.indexOf(&quot;=&quot;) + 1);\n    int updatedOffsetValue = Integer.parseInt(offset) + 10;\n    url = url.substring(0,url.lastIndexOf(&quot;=&quot;)+1) + String.valueOf(updatedOffsetValue);\n}\n</code></pre>\n"}],"owner":{"account_id":3227749,"reputation":1860,"user_id":2723677,"accept_rate":61,"display_name":"mmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73877805,"answer_count":1,"score":1,"last_activity_date":1664350725,"creation_date":1664344901,"question_id":73876806,"body_markdown":"i have a API url http://test:1000/v5/accounts/101/transactions?limit=10&amp;offset=10. in my automation script, my test case sometimes have either limit or offset or both with values changing in consecutive calls. If url has offset, i need to update the url with offset with next value as &quot;&amp;offset=20&quot; and so on in next calls too. how can i do it dynamically inside the java script? any idea please.","title":"How can i replace the dynamic content in url?","body":"<p>i have a API url http://test:1000/v5/accounts/101/transactions?limit=10&amp;offset=10. in my automation script, my test case sometimes have either limit or offset or both with values changing in consecutive calls. If url has offset, i need to update the url with offset with next value as &quot;&amp;offset=20&quot; and so on in next calls too. how can i do it dynamically inside the java script? any idea please.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664345797,"post_id":73876880,"comment_id":130447244,"body_markdown":"Hi&amp;Welcome! &quot;Could not create query for public abstract int demo.tripadvisorapp.security.appuser.AppUserRepository.enableAppUser(java.lang.String); Reason: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;; ...&quot;!!","body":"Hi&amp;Welcome! &quot;Could not create query for public abstract int demo.tripadvisorapp.security.appuser.AppUserRepository.enabl&zwnj;&#8203;eAppUser(java.lang.S&zwnj;&#8203;tring); Reason: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;; ...&quot;!!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664345942,"post_id":73876880,"comment_id":130447280,"body_markdown":"Do you want &quot;Custom Implementations for Spring Data Repositories&quot;?? ..please [read here (current version)](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations) ...what should enableUser (in repository)do?","body":"Do you want &quot;Custom Implementations for Spring Data Repositories&quot;?? ..please <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">read here (current version)</a> ...what should enableUser (in repository)do?"},{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1664346168,"post_id":73876880,"comment_id":130447350,"body_markdown":"@xerx593 Sorry, but I&#39;m not sure I understand what you want to say :/","body":"@xerx593 Sorry, but I&#39;m not sure I understand what you want to say :/"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664346214,"post_id":73876880,"comment_id":130447361,"body_markdown":"No, you rather want: 1. query a user (findByEmail()!?;) 2. (when found,) set enabled. 3. Store to db. ?","body":"No, you rather want: 1. query a user (findByEmail()!?;) 2. (when found,) set enabled. 3. Store to db. ?"},{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1664346391,"post_id":73876880,"comment_id":130447430,"body_markdown":"Something like that, I managed to create a custom repository and errors are solved, but I didnt try yet with postman because I got a new error. Check updated question.","body":"Something like that, I managed to create a custom repository and errors are solved, but I didnt try yet with postman because I got a new error. Check updated question."}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664350259,"creation_date":1664348819,"answer_id":73877467,"question_id":73876880,"body_markdown":"Reading the stacktrace from top to bottom:\r\n\r\n`AppUserService` depends on `AppUserRepository`.\r\n\r\nQuery method `enableAppUser` in `AppUserRepository` has a query that can&#39;t be created because `AppUser` doesn&#39;t have an `enableAppUser` property.\r\n\r\nNow working from bottom to top:\r\n\r\nThe `AppUser` class has a property called `enabled`, **not** `enableAppUser`.\r\n\r\nEither fixing the property on the entity or defining the mongo query with an annotation instead of the use of magic methods should solve the problem.\r\n\r\nEDIT\r\n\r\nAs specified in the comments, the goal is to enable a user by a given email. To do this a custom query needs to be written to (1) find the user (entity) by email address and then (2) set the enabled property to true.\r\n\r\nOne quick solution is to \r\n1. Define a query method to find an entity by email in the repository\r\n2. Manipulate the entity in the service (set enabled to true)\r\n3. Use the repository&#39;s normal persistence methods to save the modified entity","title":"Error creating bean with the name. unsatisfied dependency expressed through constructor parameter","body":"<p>Reading the stacktrace from top to bottom:</p>\n<p><code>AppUserService</code> depends on <code>AppUserRepository</code>.</p>\n<p>Query method <code>enableAppUser</code> in <code>AppUserRepository</code> has a query that can't be created because <code>AppUser</code> doesn't have an <code>enableAppUser</code> property.</p>\n<p>Now working from bottom to top:</p>\n<p>The <code>AppUser</code> class has a property called <code>enabled</code>, <strong>not</strong> <code>enableAppUser</code>.</p>\n<p>Either fixing the property on the entity or defining the mongo query with an annotation instead of the use of magic methods should solve the problem.</p>\n<p>EDIT</p>\n<p>As specified in the comments, the goal is to enable a user by a given email. To do this a custom query needs to be written to (1) find the user (entity) by email address and then (2) set the enabled property to true.</p>\n<p>One quick solution is to</p>\n<ol>\n<li>Define a query method to find an entity by email in the repository</li>\n<li>Manipulate the entity in the service (set enabled to true)</li>\n<li>Use the repository's normal persistence methods to save the modified entity</li>\n</ol>\n"}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2762,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664350259,"creation_date":1664345401,"question_id":73876880,"body_markdown":"I know there is a lot of questions and answers about this problem, but It seems for everyone is a different situation and after one hour of searching for a solution I didnt find out how to fix this, so I hope someone can give me some directions or can see what I&#39;m missing, thanks in advance, I&#39;ll provide as much as useful code from my implementations, but if I need to provide something more I&#39;m here.\r\n\r\nThe full error stack trace is:\r\n\r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appUserService&#39; defined in file [D:\\portfolio\\TripAdvisorApp\\target\\classes\\demo\\tripadvisorapp\\security\\appuser\\AppUserService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;appUserRepository&#39; defined in demo.tripadvisorapp.security.appuser.AppUserRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int demo.tripadvisorapp.security.appuser.AppUserRepository.enableAppUser(java.lang.String); Reason: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat demo.tripadvisorapp.TripAdvisorAppApplication.main(TripAdvisorAppApplication.java:11) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;appUserRepository&#39; defined in demo.tripadvisorapp.security.appuser.AppUserRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int demo.tripadvisorapp.security.appuser.AppUserRepository.enableAppUser(java.lang.String); Reason: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int demo.tripadvisorapp.security.appuser.AppUserRepository.enableAppUser(java.lang.String); Reason: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;\r\n    \tat org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:87) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:119) ~[spring-data-mongodb-3.4.1.jar:3.4.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \t... 35 common frames omitted\r\n    Caused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;enableAppUser&#39; found for type &#39;AppUser&#39;\r\n    \tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:91) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n    \tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:251) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:385) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:93) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.data.mongodb.repository.query.PartTreeMongoQuery.&lt;init&gt;(PartTreeMongoQuery.java:67) ~[spring-data-mongodb-3.4.1.jar:3.4.1]\r\n    \tat org.springframework.data.mongodb.repository.support.MongoRepositoryFactory$MongoQueryLookupStrategy.resolveQuery(MongoRepositoryFactory.java:215) ~[spring-data-mongodb-3.4.1.jar:3.4.1]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103) ~[spring-data-commons-2.7.1.jar:2.7.1]\r\n    \t... 57 common frames omitted\r\n\r\nNow I&#39;m providing part by part of code from stack trace:\r\n\r\n`AppUserService`:\r\n\r\n        @Service\r\n    @AllArgsConstructor\r\n    public class AppUserService implements UserDetailsService {\r\n        private final static String USER_NOT_FOUND_MESSAGE = &quot;User with email %s not found&quot;;\r\n        private final AppUserRepository appUserRepository;\r\n        private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n        private final ConfirmationTokenService confirmationTokenService;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n            return appUserRepository.findByEmail(email).orElseThrow(() -&gt;\r\n                    new UsernameNotFoundException(String.format(USER_NOT_FOUND_MESSAGE, email)));\r\n        }\r\n    \r\n        public String signUpUser(AppUser appUser) {\r\n            boolean userExists = appUserRepository.findByEmail(appUser.getEmail())\r\n                    .isPresent();\r\n            if (userExists) {\r\n                throw new IllegalStateException(&quot;Email already taken&quot;);\r\n            }\r\n            String encodedPassword = bCryptPasswordEncoder.encode(appUser.getPassword());\r\n    \r\n            appUser.setPassword(encodedPassword);\r\n    \r\n            appUserRepository.save(appUser);\r\n    \r\n            String token = UUID.randomUUID().toString();\r\n            ConfirmationToken confirmationToken = new ConfirmationToken(\r\n                    token,\r\n                    LocalDateTime.now(),\r\n                    LocalDateTime.now().plusMinutes(15),\r\n                    appUser\r\n            );\r\n    \r\n            confirmationTokenService.saveConfirmationToken(confirmationToken);\r\n    \r\n            return token;\r\n        }\r\n    \r\n        public int enableAppUser(String email) {\r\n            return appUserRepository.enableAppUser(email);\r\n        }\r\n    \r\n    }\r\n\r\n`AppUserRepository`\r\n\r\n        @Transactional(readOnly = true)\r\n    @Repository\r\n    public interface AppUserRepository extends MongoRepository&lt;AppUser, Long&gt; {\r\n    \r\n        Optional&lt;AppUser&gt; findByEmail(String email);\r\n    \r\n        @Transactional\r\n        int enableAppUser(String email);\r\n    \r\n    }\r\n\r\n`AppUser`:\r\n\r\n        @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @NoArgsConstructor\r\n    @Document(&quot;app_user&quot;)\r\n    public class AppUser implements UserDetails {\r\n    \r\n            @Id\r\n            private String id;\r\n            private String firstName;\r\n            private String lastName;\r\n            private String email;\r\n            private String password;\r\n            private AppUserRole appUserRole;\r\n            private Boolean locked = false;\r\n            private Boolean enabled = false;\r\n        \r\n            public AppUser(String firstName,\r\n                           String lastName,\r\n                           String email,\r\n                           String password,\r\n                           AppUserRole appUserRole) {\r\n                this.firstName = firstName;\r\n                this.lastName = lastName;\r\n                this.email = email;\r\n                this.password = password;\r\n                this.appUserRole = appUserRole;\r\n            }\r\n        \r\n            @Override\r\n            public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n                SimpleGrantedAuthority authority = new SimpleGrantedAuthority(appUserRole.name());\r\n                return Collections.singletonList(authority);\r\n            }\r\n        \r\n            @Override\r\n            public String getPassword() {\r\n                return password;\r\n            }\r\n        \r\n            @Override\r\n            public String getUsername() {\r\n                return email;\r\n            }\r\n        \r\n            public String getFirstName() {\r\n                return firstName;\r\n            }\r\n        \r\n            public String getLastName() {\r\n                return lastName;\r\n            }\r\n        \r\n            @Override\r\n            public boolean isAccountNonExpired() {\r\n                return true;\r\n            }\r\n        \r\n            @Override\r\n            public boolean isAccountNonLocked() {\r\n                return !locked;\r\n            }\r\n        \r\n            @Override\r\n            public boolean isCredentialsNonExpired() {\r\n                return true;\r\n            }\r\n        \r\n            @Override\r\n            public boolean isEnabled() {\r\n                return enabled;\r\n            }\r\n        }\r\n\r\nI tried to add \r\n\r\n    @ComponentScan(basePackages = {&quot;demo.tripadvisorapp.security.token&quot;})\r\n    @ComponentScan(basePackages = {&quot;demo.tripadvisorapp.security.appuser&quot;})\r\n\r\nBut that doesnt fixed it. \r\n\r\nEDIT:\r\n\r\nFrom suggested answer I created a Custom Repository and now I&#39;m getting this error:\r\n\r\n        Parameter 1 of constructor in demo.tripadvisorapp.security.appuser.impl.AppUserServiceImpl required a bean of type &#39;demo.tripadvisorapp.security.token.CustomizedUserRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;demo.tripadvisorapp.security.token.CustomizedUserRepository&#39; in your configuration\r\n\r\n","title":"Error creating bean with the name. unsatisfied dependency expressed through constructor parameter","body":"<p>I know there is a lot of questions and answers about this problem, but It seems for everyone is a different situation and after one hour of searching for a solution I didnt find out how to fix this, so I hope someone can give me some directions or can see what I'm missing, thanks in advance, I'll provide as much as useful code from my implementations, but if I need to provide something more I'm here.</p>\n<p>The full error stack trace is:</p>\n<pre><code>    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appUserService' defined in file [D:\\portfolio\\TripAdvisorApp\\target\\classes\\demo\\tripadvisorapp\\security\\appuser\\AppUserService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository' defined in demo.tripadvisorapp.security.appuser.AppUserRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int demo.tripadvisorapp.security.appuser.AppUserRepository.enableAppUser(java.lang.String); Reason: No property 'enableAppUser' found for type 'AppUser'; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'enableAppUser' found for type 'AppUser'\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at demo.tripadvisorapp.TripAdvisorAppApplication.main(TripAdvisorAppApplication.java:11) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appUserRepository' defined in demo.tripadvisorapp.security.appuser.AppUserRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int demo.tripadvisorapp.security.appuser.AppUserRepository.enableAppUser(java.lang.String); Reason: No property 'enableAppUser' found for type 'AppUser'; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'enableAppUser' found for type 'AppUser'\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]\n    ... 24 common frames omitted\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract int demo.tripadvisorapp.security.appuser.AppUserRepository.enableAppUser(java.lang.String); Reason: No property 'enableAppUser' found for type 'AppUser'; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'enableAppUser' found for type 'AppUser'\n    at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:107) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:95) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n    at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:97) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:87) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:87) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:365) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:119) ~[spring-data-mongodb-3.4.1.jar:3.4.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.21.jar:5.3.21]\n    ... 35 common frames omitted\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property 'enableAppUser' found for type 'AppUser'\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:91) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:438) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:414) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:367) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:349) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:250) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:251) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:384) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:385) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:93) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    at org.springframework.data.mongodb.repository.query.PartTreeMongoQuery.&lt;init&gt;(PartTreeMongoQuery.java:67) ~[spring-data-mongodb-3.4.1.jar:3.4.1]\n    at org.springframework.data.mongodb.repository.support.MongoRepositoryFactory$MongoQueryLookupStrategy.resolveQuery(MongoRepositoryFactory.java:215) ~[spring-data-mongodb-3.4.1.jar:3.4.1]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:103) ~[spring-data-commons-2.7.1.jar:2.7.1]\n    ... 57 common frames omitted\n</code></pre>\n<p>Now I'm providing part by part of code from stack trace:</p>\n<p><code>AppUserService</code>:</p>\n<pre><code>    @Service\n@AllArgsConstructor\npublic class AppUserService implements UserDetailsService {\n    private final static String USER_NOT_FOUND_MESSAGE = &quot;User with email %s not found&quot;;\n    private final AppUserRepository appUserRepository;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n    private final ConfirmationTokenService confirmationTokenService;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        return appUserRepository.findByEmail(email).orElseThrow(() -&gt;\n                new UsernameNotFoundException(String.format(USER_NOT_FOUND_MESSAGE, email)));\n    }\n\n    public String signUpUser(AppUser appUser) {\n        boolean userExists = appUserRepository.findByEmail(appUser.getEmail())\n                .isPresent();\n        if (userExists) {\n            throw new IllegalStateException(&quot;Email already taken&quot;);\n        }\n        String encodedPassword = bCryptPasswordEncoder.encode(appUser.getPassword());\n\n        appUser.setPassword(encodedPassword);\n\n        appUserRepository.save(appUser);\n\n        String token = UUID.randomUUID().toString();\n        ConfirmationToken confirmationToken = new ConfirmationToken(\n                token,\n                LocalDateTime.now(),\n                LocalDateTime.now().plusMinutes(15),\n                appUser\n        );\n\n        confirmationTokenService.saveConfirmationToken(confirmationToken);\n\n        return token;\n    }\n\n    public int enableAppUser(String email) {\n        return appUserRepository.enableAppUser(email);\n    }\n\n}\n</code></pre>\n<p><code>AppUserRepository</code></p>\n<pre><code>    @Transactional(readOnly = true)\n@Repository\npublic interface AppUserRepository extends MongoRepository&lt;AppUser, Long&gt; {\n\n    Optional&lt;AppUser&gt; findByEmail(String email);\n\n    @Transactional\n    int enableAppUser(String email);\n\n}\n</code></pre>\n<p><code>AppUser</code>:</p>\n<pre><code>    @Getter\n@Setter\n@EqualsAndHashCode\n@NoArgsConstructor\n@Document(&quot;app_user&quot;)\npublic class AppUser implements UserDetails {\n\n        @Id\n        private String id;\n        private String firstName;\n        private String lastName;\n        private String email;\n        private String password;\n        private AppUserRole appUserRole;\n        private Boolean locked = false;\n        private Boolean enabled = false;\n    \n        public AppUser(String firstName,\n                       String lastName,\n                       String email,\n                       String password,\n                       AppUserRole appUserRole) {\n            this.firstName = firstName;\n            this.lastName = lastName;\n            this.email = email;\n            this.password = password;\n            this.appUserRole = appUserRole;\n        }\n    \n        @Override\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n            SimpleGrantedAuthority authority = new SimpleGrantedAuthority(appUserRole.name());\n            return Collections.singletonList(authority);\n        }\n    \n        @Override\n        public String getPassword() {\n            return password;\n        }\n    \n        @Override\n        public String getUsername() {\n            return email;\n        }\n    \n        public String getFirstName() {\n            return firstName;\n        }\n    \n        public String getLastName() {\n            return lastName;\n        }\n    \n        @Override\n        public boolean isAccountNonExpired() {\n            return true;\n        }\n    \n        @Override\n        public boolean isAccountNonLocked() {\n            return !locked;\n        }\n    \n        @Override\n        public boolean isCredentialsNonExpired() {\n            return true;\n        }\n    \n        @Override\n        public boolean isEnabled() {\n            return enabled;\n        }\n    }\n</code></pre>\n<p>I tried to add</p>\n<pre><code>@ComponentScan(basePackages = {&quot;demo.tripadvisorapp.security.token&quot;})\n@ComponentScan(basePackages = {&quot;demo.tripadvisorapp.security.appuser&quot;})\n</code></pre>\n<p>But that doesnt fixed it.</p>\n<p>EDIT:</p>\n<p>From suggested answer I created a Custom Repository and now I'm getting this error:</p>\n<pre><code>    Parameter 1 of constructor in demo.tripadvisorapp.security.appuser.impl.AppUserServiceImpl required a bean of type 'demo.tripadvisorapp.security.token.CustomizedUserRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'demo.tripadvisorapp.security.token.CustomizedUserRepository' in your configuration\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664350204,"creation_date":1664350204,"answer_id":73877719,"question_id":73876861,"body_markdown":"The bean name and the step name can be different. For example:\r\n\r\n```\r\n@Bean\r\npublic Step myWorkerStep(ItemWriter&lt;T&gt; itemWriter) {\r\n    return stepBuilderFactory.get(&quot;worker&quot;)\r\n                .inputChannel(inboundRequests())\r\n                .outputChannel(outboundRequests())\r\n                .&lt;T, T&gt;chunk(100)\r\n                .reader(itemReader(null))\r\n                .processor(itemProcessor())\r\n                .writer(itemWriter)\r\n                .build();\r\n}\r\n```\r\n\r\nIn this sample, the bean name is `myWorkerStep`, while the step name is `worker`.\r\n\r\n&gt; Is there a way to change this to use the worker step name instead of worker step bean name?\r\n\r\n\r\nYes, you just set the name as needed in both places, ie on the manager side `.partitioner(&quot;worker&quot;, partitioner(null))` and on the worker side `return stepBuilderFactory.get(&quot;worker&quot;)`.","title":"Spring batch with remote partitioning dynamic worker name","body":"<p>The bean name and the step name can be different. For example:</p>\n<pre><code>@Bean\npublic Step myWorkerStep(ItemWriter&lt;T&gt; itemWriter) {\n    return stepBuilderFactory.get(&quot;worker&quot;)\n                .inputChannel(inboundRequests())\n                .outputChannel(outboundRequests())\n                .&lt;T, T&gt;chunk(100)\n                .reader(itemReader(null))\n                .processor(itemProcessor())\n                .writer(itemWriter)\n                .build();\n}\n</code></pre>\n<p>In this sample, the bean name is <code>myWorkerStep</code>, while the step name is <code>worker</code>.</p>\n<blockquote>\n<p>Is there a way to change this to use the worker step name instead of worker step bean name?</p>\n</blockquote>\n<p>Yes, you just set the name as needed in both places, ie on the manager side <code>.partitioner(&quot;worker&quot;, partitioner(null))</code> and on the worker side <code>return stepBuilderFactory.get(&quot;worker&quot;)</code>.</p>\n"}],"owner":{"account_id":15879258,"reputation":11,"user_id":11457471,"display_name":"USW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664350204,"creation_date":1664345238,"question_id":73876861,"body_markdown":"I am creating a batch template project which is used by many other applications to implement batch processing with partitioning.\r\nI have implemented master and worker configurations in a generic way so that these can be reused by all the applications.\r\nI want to use the worker step name from the property file and use it dynamically in partitioner step as below.\r\n```\r\n@Bean\r\npublic Step partitionerStep() {\r\n        return stepBuilderFactory.get(configs.getPartitionStepName())\r\n                .partitioner(&quot;worker&quot;, partitioner(null))\r\n                .outputChannel(outboundRequests())\r\n                .inputChannel(inboundRequests())\r\n                .build();\r\n    }\r\n```\r\n\r\nWorker configuration as below\r\n```\r\n@Bean\r\n    public Step worker(ItemWriter&lt;T&gt; itemWriter) {\r\n        return stepBuilderFactory.get(&quot;worker&quot;)\r\n                .inputChannel(inboundRequests())\r\n                .outputChannel(outboundRequests())\r\n                .&lt;T, T&gt;chunk(100)\r\n                .reader(itemReader(null))\r\n                .processor(itemProcessor())\r\n                .writer(itemWriter)\r\n                .build();\r\n    }\r\n```\r\n\r\nI found that the worker step name in master step has to be same as the worker step bean name otherwise it&#39;s throwing bean not found error.\r\n\r\nIs there a way to change this to use the worker step name instead of worker step bean name?\r\n","title":"Spring batch with remote partitioning dynamic worker name","body":"<p>I am creating a batch template project which is used by many other applications to implement batch processing with partitioning.\nI have implemented master and worker configurations in a generic way so that these can be reused by all the applications.\nI want to use the worker step name from the property file and use it dynamically in partitioner step as below.</p>\n<pre><code>@Bean\npublic Step partitionerStep() {\n        return stepBuilderFactory.get(configs.getPartitionStepName())\n                .partitioner(&quot;worker&quot;, partitioner(null))\n                .outputChannel(outboundRequests())\n                .inputChannel(inboundRequests())\n                .build();\n    }\n</code></pre>\n<p>Worker configuration as below</p>\n<pre><code>@Bean\n    public Step worker(ItemWriter&lt;T&gt; itemWriter) {\n        return stepBuilderFactory.get(&quot;worker&quot;)\n                .inputChannel(inboundRequests())\n                .outputChannel(outboundRequests())\n                .&lt;T, T&gt;chunk(100)\n                .reader(itemReader(null))\n                .processor(itemProcessor())\n                .writer(itemWriter)\n                .build();\n    }\n</code></pre>\n<p>I found that the worker step name in master step has to be same as the worker step bean name otherwise it's throwing bean not found error.</p>\n<p>Is there a way to change this to use the worker step name instead of worker step bean name?</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"display_name":"user6073886"},"score":7,"creation_date":1664277026,"post_id":73866600,"comment_id":130429524,"body_markdown":"Please clarify what exactly you want to do. In your title you talk about printing &quot;saturdays and sundays&quot; and then in the question itself you suddenly start talking about wanting to print &quot;Fridays &amp; Saturdays&quot;. So which one is it that you actually want to do? Fridays or Sundays?","body":"Please clarify what exactly you want to do. In your title you talk about printing &quot;saturdays and sundays&quot; and then in the question itself you suddenly start talking about wanting to print &quot;Fridays &amp; Saturdays&quot;. So which one is it that you actually want to do? Fridays or Sundays?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1664277360,"post_id":73866600,"comment_id":130429632,"body_markdown":"It looks like only one of your 2 threads are producing output. Are both entering the loop? Debug that.","body":"It looks like only one of your 2 threads are producing output. Are both entering the loop? Debug that."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1664277609,"post_id":73866600,"comment_id":130429698,"body_markdown":"The `Calendar` and `GregorianCalendar` classes are cumbersome to work with and long outdated. Don&#39;t use them. Use `LocalDate` and `DayOfWeek` from java.time, the modern Java date and time API.","body":"The <code>Calendar</code> and <code>GregorianCalendar</code> classes are cumbersome to work with and long outdated. Don&#39;t use them. Use <code>LocalDate</code> and <code>DayOfWeek</code> from java.time, the modern Java date and time API."},{"owner":{"account_id":26457342,"reputation":13,"user_id":20099772,"display_name":"Monirul Islam"},"score":0,"creation_date":1664295585,"post_id":73866600,"comment_id":130436947,"body_markdown":"@OleV.V. it&#39;s true indeed. i&#39;ve just started learning. thanks to other two answers i&#39;ll correct my mistakes.","body":"@OleV.V. it&#39;s true indeed. i&#39;ve just started learning. thanks to other two answers i&#39;ll correct my mistakes."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1664349903,"creation_date":1664278978,"answer_id":73867005,"question_id":73866600,"body_markdown":"Well, that is because for Friday, the code line `calendar.set(Calendar.DAY_OF_WEEK, day)` causes the year to be set to 2021, so the line `while (calendar.get(Calendar.YEAR) == year)` is immediately skipped because of the condition being false.\r\n\r\nAs Ole V.V. already said in the comments, you should not use `Calendar` anymore. Use `LocalDate` and `DayOfWeek`. Here is the modified code:\r\n\r\n```java\r\n@Override\r\npublic void run() {\r\n    var dayOfWeek = DayOfWeek.of(day);\r\n    LocalDate currDate = LocalDate.of(year, 1, 1)\r\n        .with(TemporalAdjusters.nextOrSame(dayOfWeek));\r\n\r\n    while (currDate.getYear() == year) {\r\n        System.out.println(currDate);\r\n        currDate = currDate.plusWeeks(1);\r\n        try {\r\n            Thread.sleep(250);\r\n        }\r\n        catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s what happens:\r\n\r\n* `LocalDate.of(year, 1, 1)` yields January 1st of the given year.\r\n* `TemporalAdjusters.nextOrSame(DayOfWeek)` takes a given date and moves to the next specified day-of-week, or stays on January 1st if it *is* the specified day-of-week. In the example of the year 2022, 1st of January is a Saturday, so the yielded date will be January 7th, 2022, because that&#39;s the next Friday.\r\n* Within the loop, `currDate.plusWeeks(1)` obviously adds a week to the current date.&lt;sup&gt;(1)&lt;/sup&gt;\r\n\r\nNote: `DayOfWeek.MONDAY` has value *1*, `DayOfWeek.SUNDAY` has value *7*.&lt;sup&gt;(2)&lt;/sup&gt; But I agree [with Ole V.V. here][1]: you are better off using `DayOfWeek` constants instead of integers, as this is better readable.\r\n\r\n---\r\n\r\n&lt;sup&gt;\r\n\r\n&lt;sup&gt;(1)&lt;/sup&gt; `LocalDate` itself is immutable, so nothing is actually *added*. Instead, a new instance is returned with one week added.\r\n\r\n&lt;sup&gt;(2)&lt;/sup&gt; Well, at least `DayOfWeek.of(int dayOfWeek)` maps those values to the respective days-of-week. The enum itself does not hold a particular value, other than the enum&#39;s *ordinal* value.\r\n\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73866600/how-can-i-fix-the-problem-printing-all-the-fridays-and-saturdays-of-any-given-ye/73867005#comment130437161_73867005","title":"How can i fix the problem printing all the fridays and saturdays of any given year?","body":"<p>Well, that is because for Friday, the code line <code>calendar.set(Calendar.DAY_OF_WEEK, day)</code> causes the year to be set to 2021, so the line <code>while (calendar.get(Calendar.YEAR) == year)</code> is immediately skipped because of the condition being false.</p>\n<p>As Ole V.V. already said in the comments, you should not use <code>Calendar</code> anymore. Use <code>LocalDate</code> and <code>DayOfWeek</code>. Here is the modified code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    var dayOfWeek = DayOfWeek.of(day);\n    LocalDate currDate = LocalDate.of(year, 1, 1)\n        .with(TemporalAdjusters.nextOrSame(dayOfWeek));\n\n    while (currDate.getYear() == year) {\n        System.out.println(currDate);\n        currDate = currDate.plusWeeks(1);\n        try {\n            Thread.sleep(250);\n        }\n        catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Here's what happens:</p>\n<ul>\n<li><code>LocalDate.of(year, 1, 1)</code> yields January 1st of the given year.</li>\n<li><code>TemporalAdjusters.nextOrSame(DayOfWeek)</code> takes a given date and moves to the next specified day-of-week, or stays on January 1st if it <em>is</em> the specified day-of-week. In the example of the year 2022, 1st of January is a Saturday, so the yielded date will be January 7th, 2022, because that's the next Friday.</li>\n<li>Within the loop, <code>currDate.plusWeeks(1)</code> obviously adds a week to the current date.<sup>(1)</sup></li>\n</ul>\n<p>Note: <code>DayOfWeek.MONDAY</code> has value <em>1</em>, <code>DayOfWeek.SUNDAY</code> has value <em>7</em>.<sup>(2)</sup> But I agree <a href=\"https://stackoverflow.com/questions/73866600/how-can-i-fix-the-problem-printing-all-the-fridays-and-saturdays-of-any-given-ye/73867005#comment130437161_73867005\">with Ole V.V. here</a>: you are better off using <code>DayOfWeek</code> constants instead of integers, as this is better readable.</p>\n<hr />\n<sup>\n<p><sup>(1)</sup> <code>LocalDate</code> itself is immutable, so nothing is actually <em>added</em>. Instead, a new instance is returned with one week added.</p>\n<p><sup>(2)</sup> Well, at least <code>DayOfWeek.of(int dayOfWeek)</code> maps those values to the respective days-of-week. The enum itself does not hold a particular value, other than the enum's <em>ordinal</em> value.</p>\n</sup>\n"},{"tags":[],"owner":{"account_id":13300676,"reputation":99,"user_id":9602278,"display_name":"aayoustic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664279866,"creation_date":1664279165,"answer_id":73867040,"question_id":73866600,"body_markdown":"Explanation:\r\n\r\nIf the 1st Jan was a Saturday, which means that week&#39;s Friday will be 1 day before the 1st Jan i.e. 31st Dec.\r\nWhen you set the below field for Friday, it&#39;s setting the value to 31 Dec, and because of your while condition, it doesn&#39;t execute the loop.\r\n\r\n```\r\ncalendar.set(Calendar.DAY_OF_WEEK, day);\r\n```\r\n\r\nThis code won&#39;t work for an edge case i.e. any year starting with a Saturday won&#39;t print Fridays.\r\nE.g. 2011, 2028, etc.\r\n\r\nThe below method sets to the 1st Friday/Sat/Any-Weekday of the month:\r\n\r\n```\r\n    private void setNextAvailableDay(Calendar calendar, int day) {\r\n        Date currTime = calendar.getTime();\r\n        calendar.set(Calendar.DAY_OF_WEEK, day);\r\n        if(currTime.after(calendar.getTime()))\r\n            calendar.add(Calendar.DAY_OF_MONTH, 7);\r\n    }\r\n```\r\n\r\n```\r\ncalendar.set(Calendar.DAY_OF_WEEK, day);\r\n// can be replaced by\r\nsetNextAvailableDay(calendar, day)\r\n```","title":"How can i fix the problem printing all the fridays and saturdays of any given year?","body":"<p>Explanation:</p>\n<p>If the 1st Jan was a Saturday, which means that week's Friday will be 1 day before the 1st Jan i.e. 31st Dec.\nWhen you set the below field for Friday, it's setting the value to 31 Dec, and because of your while condition, it doesn't execute the loop.</p>\n<pre><code>calendar.set(Calendar.DAY_OF_WEEK, day);\n</code></pre>\n<p>This code won't work for an edge case i.e. any year starting with a Saturday won't print Fridays.\nE.g. 2011, 2028, etc.</p>\n<p>The below method sets to the 1st Friday/Sat/Any-Weekday of the month:</p>\n<pre><code>    private void setNextAvailableDay(Calendar calendar, int day) {\n        Date currTime = calendar.getTime();\n        calendar.set(Calendar.DAY_OF_WEEK, day);\n        if(currTime.after(calendar.getTime()))\n            calendar.add(Calendar.DAY_OF_MONTH, 7);\n    }\n</code></pre>\n<pre><code>calendar.set(Calendar.DAY_OF_WEEK, day);\n// can be replaced by\nsetNextAvailableDay(calendar, day)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664325963,"creation_date":1664320179,"answer_id":73874638,"question_id":73866600,"body_markdown":"# tl;dr\r\n\r\nExcerpt of code using *java.time* classes, streams, lambdas, and predicate.\r\n\r\n```java\r\nthis.datesOfYearforDaysOfWeek(\r\n        Year.of( 2023 ) ,\r\n        Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY )\r\n)\r\n```\r\n\r\n```java\r\nyear.atDay( 1 )\r\n        .datesUntil(\r\n                year\r\n                        .plusYears( 1 )\r\n                        .atDay( 1 )\r\n        )\r\n        .filter(\r\n                date -&gt; dows.contains( date.getDayOfWeek() )\r\n        )\r\n        .toList()\r\n```\r\n\r\n\r\n\r\n\r\n# Details\r\n\r\nThe [Answer by MC Emperor][1] is correct and wise. For fun, I will show a different approach. May not be as efficient, though I have not tested performance. Here we use streams and lambdas.\r\n\r\nWe use [`LocalDate#datesUntil`][2] to get a stream of [`LocalDate`][3] objects. Notice that the `datesUntil` method uses Half-Open logic, where the beginning is *inclusive* while the ending is *exclusive*. So a year starts on the first and runs up to, but does not include, the first of the following year. \r\n\r\nThe [`Year`][4] class represents a year in way that makes the code more clear and self-documenting.\r\n\r\nMain logic:\r\n\r\n```java\r\n    LocalDate firstOfYear = year.atDay( 1 );\r\n    List &lt; LocalDate &gt; dates =\r\n            firstOfYear\r\n                    .datesUntil( firstOfYear.plusYears( 1 ) )\r\n                    .filter(\r\n                            date -&gt; dows.contains( date.getDayOfWeek() )\r\n                    )\r\n                    .toList();\r\n```\r\n\r\nComplete method.\r\n\r\n```java\r\nList &lt; LocalDate &gt; datesOfYearforDaysOfWeek ( final Year year , final Set &lt; DayOfWeek &gt; dows )\r\n{\r\n    // Validate inputs.\r\n    Objects.requireNonNull( year );\r\n    Objects.requireNonNull( dows );\r\n    if ( dows.isEmpty() ) { throw new IllegalArgumentException( &quot;Days of week is empty.&quot; ); }\r\n\r\n    // Logic\r\n    LocalDate firstOfYear = year.atDay( 1 );\r\n    List &lt; LocalDate &gt; dates =\r\n            firstOfYear\r\n                    .datesUntil( firstOfYear.plusYears( 1 ) )\r\n                    .filter(\r\n                            date -&gt; dows.contains( date.getDayOfWeek() )\r\n                    )\r\n                    .toList();\r\n\r\n    // Result.\r\n    return List.copyOf( dates );  // Effectively a no-op if already an immutable list.\r\n}\r\n```\r\n\r\nUsage.\r\n\r\n```java\r\nList &lt; LocalDate &gt; dates =\r\n        this.datesOfYearforDaysOfWeek(\r\n                Year.of( 2023 ) ,\r\n                Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY )\r\n        );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\ndates.toString() = [2023-01-01, 2023-01-07, 2023-01-08, 2023-01-14, 2023-01-15, 2023-01-21, 2023-01-22, 2023-01-28, 2023-01-29, 2023-02-04, 2023-02-05, 2023-02-11, 2023-02-12, 2023-02-18, 2023-02-19, 2023-02-25, 2023-02-26, 2023-03-04, 2023-03-05, 2023-03-11, 2023-03-12, 2023-03-18, 2023-03-19, 2023-03-25, 2023-03-26, 2023-04-01, 2023-04-02, 2023-04-08, 2023-04-09, 2023-04-15, 2023-04-16, 2023-04-22, 2023-04-23, 2023-04-29, 2023-04-30, 2023-05-06, 2023-05-07, 2023-05-13, 2023-05-14, 2023-05-20, 2023-05-21, 2023-05-27, 2023-05-28, 2023-06-03, 2023-06-04, 2023-06-10, 2023-06-11, 2023-06-17, 2023-06-18, 2023-06-24, 2023-06-25, 2023-07-01, 2023-07-02, 2023-07-08, 2023-07-09, 2023-07-15, 2023-07-16, 2023-07-22, 2023-07-23, 2023-07-29, 2023-07-30, 2023-08-05, 2023-08-06, 2023-08-12, 2023-08-13, 2023-08-19, 2023-08-20, 2023-08-26, 2023-08-27, 2023-09-02, 2023-09-03, 2023-09-09, 2023-09-10, 2023-09-16, 2023-09-17, 2023-09-23, 2023-09-24, 2023-09-30, 2023-10-01, 2023-10-07, 2023-10-08, 2023-10-14, 2023-10-15, 2023-10-21, 2023-10-22, 2023-10-28, 2023-10-29, 2023-11-04, 2023-11-05, 2023-11-11, 2023-11-12, 2023-11-18, 2023-11-19, 2023-11-25, 2023-11-26, 2023-12-02, 2023-12-03, 2023-12-09, 2023-12-10, 2023-12-16, 2023-12-17, 2023-12-23, 2023-12-24, 2023-12-30, 2023-12-31]\r\n```\r\n\r\nMade more compact, though not necessarily better. Same results.\r\n\r\n```java\r\n    // Logic\r\n    List &lt; LocalDate &gt; dates =\r\n            year.atDay( 1 )\r\n                    .datesUntil(\r\n                            year\r\n                                    .plusYears( 1 )\r\n                                    .atDay( 1 )\r\n                    )\r\n                    .filter(\r\n                            date -&gt; dows.contains( date.getDayOfWeek() )\r\n                    )\r\n                    .toList();\r\n```\r\n\r\n# Executor Service\r\n\r\nYou may want to use an [executor service][5] rather than manage threads yourself. \r\n\r\nDefine your task as a [`Callable`][6] that returns your desired list of dates. Construct the object with the desired year and day-of-week.\r\n\r\n```java\r\nclass DatesForDayOfWeekTask implements Callable &lt; List &lt; LocalDate &gt; &gt;\r\n{\r\n    Year year;\r\n    DayOfWeek dow;\r\n\r\n    public DatesForDayOfWeekTask ( final Year year , final DayOfWeek dow )\r\n    {\r\n        this.year = year;\r\n        this.dow = dow;\r\n    }\r\n\r\n    @Override\r\n    public List &lt; LocalDate &gt; call ( ) throws Exception\r\n    {\r\n        return datesOfYearforDaysOfWeek( this.year , Set.of( this.dow ) );\r\n    }\r\n}\r\n```\r\n\r\nExample usage.\r\n\r\n```java\r\nSystem.out.println( &quot;INFO - Demo started. &quot; + Instant.now() );\r\n\r\nExecutorService executorService = Executors.newCachedThreadPool();\r\n\r\nDatesForDayOfWeekTask saturdayTask = new DatesForDayOfWeekTask( Year.of( 2023 ) , DayOfWeek.SATURDAY );\r\nDatesForDayOfWeekTask sundayTask = new DatesForDayOfWeekTask( Year.of( 2023 ) , DayOfWeek.SUNDAY );\r\n\r\nFuture &lt; List &lt; LocalDate &gt; &gt; saturdayFuture = executorService.submit( saturdayTask );\r\nFuture &lt; List &lt; LocalDate &gt; &gt; sundayFuture = executorService.submit( sundayTask );\r\n\r\nSystem.out.println( &quot;INFO Tasks submitted. Please wait. &quot; + Instant.now() );\r\ntry { Thread.sleep( Duration.ofSeconds( 10 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\nthis.shutdownAndAwaitTermination( executorService );\r\n\r\ntry\r\n{\r\n    System.out.println( &quot;saturdayFuture.get() = &quot; + saturdayFuture.get() );\r\n    System.out.println( &quot;sundayFuture.get() = &quot; + sundayFuture.get() );\r\n}\r\ncatch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\ncatch ( ExecutionException e ) { throw new RuntimeException( e ); }\r\nSystem.out.println( &quot;INFO - Demo ended. &quot; + Instant.now() );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nINFO - Demo started. 2022-09-28T00:38:58.460930Z\r\nINFO Tasks submitted. Please wait. 2022-09-28T00:38:58.469034Z\r\nsaturdayFuture.get() = [2023-01-07, 2023-01-14, 2023-01-21, 2023-01-28, 2023-02-04, 2023-02-11, 2023-02-18, 2023-02-25, 2023-03-04, 2023-03-11, 2023-03-18, 2023-03-25, 2023-04-01, 2023-04-08, 2023-04-15, 2023-04-22, 2023-04-29, 2023-05-06, 2023-05-13, 2023-05-20, 2023-05-27, 2023-06-03, 2023-06-10, 2023-06-17, 2023-06-24, 2023-07-01, 2023-07-08, 2023-07-15, 2023-07-22, 2023-07-29, 2023-08-05, 2023-08-12, 2023-08-19, 2023-08-26, 2023-09-02, 2023-09-09, 2023-09-16, 2023-09-23, 2023-09-30, 2023-10-07, 2023-10-14, 2023-10-21, 2023-10-28, 2023-11-04, 2023-11-11, 2023-11-18, 2023-11-25, 2023-12-02, 2023-12-09, 2023-12-16, 2023-12-23, 2023-12-30]\r\nsundayFuture.get() = [2023-01-01, 2023-01-08, 2023-01-15, 2023-01-22, 2023-01-29, 2023-02-05, 2023-02-12, 2023-02-19, 2023-02-26, 2023-03-05, 2023-03-12, 2023-03-19, 2023-03-26, 2023-04-02, 2023-04-09, 2023-04-16, 2023-04-23, 2023-04-30, 2023-05-07, 2023-05-14, 2023-05-21, 2023-05-28, 2023-06-04, 2023-06-11, 2023-06-18, 2023-06-25, 2023-07-02, 2023-07-09, 2023-07-16, 2023-07-23, 2023-07-30, 2023-08-06, 2023-08-13, 2023-08-20, 2023-08-27, 2023-09-03, 2023-09-10, 2023-09-17, 2023-09-24, 2023-10-01, 2023-10-08, 2023-10-15, 2023-10-22, 2023-10-29, 2023-11-05, 2023-11-12, 2023-11-19, 2023-11-26, 2023-12-03, 2023-12-10, 2023-12-17, 2023-12-24, 2023-12-31]\r\nINFO - Demo ended. 2022-09-28T00:39:08.480522Z\r\n```\r\n\r\nFull example code.\r\n\r\n```java\r\npackage work.basil.example.days;\r\n\r\nimport java.time.*;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\nimport java.util.concurrent.*;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n//        app.demo();\r\n        app.demoThreaded();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        List &lt; LocalDate &gt; dates =\r\n                this.datesOfYearforDaysOfWeek(\r\n                        Year.of( 2023 ) ,\r\n                        Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY )\r\n                );\r\n        System.out.println( &quot;dates.toString() = &quot; + dates );\r\n    }\r\n\r\n    List &lt; LocalDate &gt; datesOfYearforDaysOfWeek ( final Year year , final Set &lt; DayOfWeek &gt; dows )\r\n    {\r\n        // Validate inputs.\r\n        Objects.requireNonNull( year );\r\n        Objects.requireNonNull( dows );\r\n        if ( dows.isEmpty() ) { throw new IllegalArgumentException( &quot;Days of week is empty.&quot; ); }\r\n\r\n        // Logic\r\n        List &lt; LocalDate &gt; dates =\r\n                year.atDay( 1 )\r\n                        .datesUntil(\r\n                                year\r\n                                        .plusYears( 1 )\r\n                                        .atDay( 1 )\r\n                        )\r\n                        .filter(\r\n                                date -&gt; dows.contains( date.getDayOfWeek() )\r\n                        )\r\n                        .toList();\r\n\r\n        // Result.\r\n        return List.copyOf( dates );  // Effectively a no-op if already an immutable list.\r\n    }\r\n\r\n    private void demoThreaded ( )\r\n    {\r\n        System.out.println( &quot;INFO - Demo started. &quot; + Instant.now() );\r\n\r\n        ExecutorService executorService = Executors.newCachedThreadPool();\r\n\r\n        DatesForDayOfWeekTask saturdayTask = new DatesForDayOfWeekTask( Year.of( 2023 ) , DayOfWeek.SATURDAY );\r\n        DatesForDayOfWeekTask sundayTask = new DatesForDayOfWeekTask( Year.of( 2023 ) , DayOfWeek.SUNDAY );\r\n\r\n        Future &lt; List &lt; LocalDate &gt; &gt; saturdayFuture = executorService.submit( saturdayTask );\r\n        Future &lt; List &lt; LocalDate &gt; &gt; sundayFuture = executorService.submit( sundayTask );\r\n\r\n        System.out.println( &quot;INFO Tasks submitted. Please wait. &quot; + Instant.now() );\r\n        try { Thread.sleep( Duration.ofSeconds( 10 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        this.shutdownAndAwaitTermination( executorService );\r\n\r\n        try\r\n        {\r\n            System.out.println( &quot;saturdayFuture.get() = &quot; + saturdayFuture.get() );\r\n            System.out.println( &quot;sundayFuture.get() = &quot; + sundayFuture.get() );\r\n        }\r\n        catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        catch ( ExecutionException e ) { throw new RuntimeException( e ); }\r\n        System.out.println( &quot;INFO - Demo ended. &quot; + Instant.now() );\r\n    }\r\n\r\n\r\n    class DatesForDayOfWeekTask implements Callable &lt; List &lt; LocalDate &gt; &gt;\r\n    {\r\n        Year year;\r\n        DayOfWeek dow;\r\n\r\n        public DatesForDayOfWeekTask ( final Year year , final DayOfWeek dow )\r\n        {\r\n            this.year = year;\r\n            this.dow = dow;\r\n        }\r\n\r\n        @Override\r\n        public List &lt; LocalDate &gt; call ( ) throws Exception\r\n        {\r\n            return datesOfYearforDaysOfWeek( this.year , Set.of( this.dow ) );\r\n        }\r\n    }\r\n\r\n\r\n    // Boilerplate code taken from `ExecutorService` interface Javadoc, and slightly modified.\r\n    private void shutdownAndAwaitTermination ( ExecutorService executorService )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\r\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73867005/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Year.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html","title":"How can i fix the problem printing all the fridays and saturdays of any given year?","body":"<h1>tl;dr</h1>\n<p>Excerpt of code using <em>java.time</em> classes, streams, lambdas, and predicate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.datesOfYearforDaysOfWeek(\n        Year.of( 2023 ) ,\n        Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY )\n)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>year.atDay( 1 )\n        .datesUntil(\n                year\n                        .plusYears( 1 )\n                        .atDay( 1 )\n        )\n        .filter(\n                date -&gt; dows.contains( date.getDayOfWeek() )\n        )\n        .toList()\n</code></pre>\n<h1>Details</h1>\n<p>The <a href=\"https://stackoverflow.com/a/73867005/642706\">Answer by MC Emperor</a> is correct and wise. For fun, I will show a different approach. May not be as efficient, though I have not tested performance. Here we use streams and lambdas.</p>\n<p>We use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate)\" rel=\"nofollow noreferrer\"><code>LocalDate#datesUntil</code></a> to get a stream of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> objects. Notice that the <code>datesUntil</code> method uses Half-Open logic, where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So a year starts on the first and runs up to, but does not include, the first of the following year.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a> class represents a year in way that makes the code more clear and self-documenting.</p>\n<p>Main logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    LocalDate firstOfYear = year.atDay( 1 );\n    List &lt; LocalDate &gt; dates =\n            firstOfYear\n                    .datesUntil( firstOfYear.plusYears( 1 ) )\n                    .filter(\n                            date -&gt; dows.contains( date.getDayOfWeek() )\n                    )\n                    .toList();\n</code></pre>\n<p>Complete method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; LocalDate &gt; datesOfYearforDaysOfWeek ( final Year year , final Set &lt; DayOfWeek &gt; dows )\n{\n    // Validate inputs.\n    Objects.requireNonNull( year );\n    Objects.requireNonNull( dows );\n    if ( dows.isEmpty() ) { throw new IllegalArgumentException( &quot;Days of week is empty.&quot; ); }\n\n    // Logic\n    LocalDate firstOfYear = year.atDay( 1 );\n    List &lt; LocalDate &gt; dates =\n            firstOfYear\n                    .datesUntil( firstOfYear.plusYears( 1 ) )\n                    .filter(\n                            date -&gt; dows.contains( date.getDayOfWeek() )\n                    )\n                    .toList();\n\n    // Result.\n    return List.copyOf( dates );  // Effectively a no-op if already an immutable list.\n}\n</code></pre>\n<p>Usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; LocalDate &gt; dates =\n        this.datesOfYearforDaysOfWeek(\n                Year.of( 2023 ) ,\n                Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY )\n        );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>dates.toString() = [2023-01-01, 2023-01-07, 2023-01-08, 2023-01-14, 2023-01-15, 2023-01-21, 2023-01-22, 2023-01-28, 2023-01-29, 2023-02-04, 2023-02-05, 2023-02-11, 2023-02-12, 2023-02-18, 2023-02-19, 2023-02-25, 2023-02-26, 2023-03-04, 2023-03-05, 2023-03-11, 2023-03-12, 2023-03-18, 2023-03-19, 2023-03-25, 2023-03-26, 2023-04-01, 2023-04-02, 2023-04-08, 2023-04-09, 2023-04-15, 2023-04-16, 2023-04-22, 2023-04-23, 2023-04-29, 2023-04-30, 2023-05-06, 2023-05-07, 2023-05-13, 2023-05-14, 2023-05-20, 2023-05-21, 2023-05-27, 2023-05-28, 2023-06-03, 2023-06-04, 2023-06-10, 2023-06-11, 2023-06-17, 2023-06-18, 2023-06-24, 2023-06-25, 2023-07-01, 2023-07-02, 2023-07-08, 2023-07-09, 2023-07-15, 2023-07-16, 2023-07-22, 2023-07-23, 2023-07-29, 2023-07-30, 2023-08-05, 2023-08-06, 2023-08-12, 2023-08-13, 2023-08-19, 2023-08-20, 2023-08-26, 2023-08-27, 2023-09-02, 2023-09-03, 2023-09-09, 2023-09-10, 2023-09-16, 2023-09-17, 2023-09-23, 2023-09-24, 2023-09-30, 2023-10-01, 2023-10-07, 2023-10-08, 2023-10-14, 2023-10-15, 2023-10-21, 2023-10-22, 2023-10-28, 2023-10-29, 2023-11-04, 2023-11-05, 2023-11-11, 2023-11-12, 2023-11-18, 2023-11-19, 2023-11-25, 2023-11-26, 2023-12-02, 2023-12-03, 2023-12-09, 2023-12-10, 2023-12-16, 2023-12-17, 2023-12-23, 2023-12-24, 2023-12-30, 2023-12-31]\n</code></pre>\n<p>Made more compact, though not necessarily better. Same results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // Logic\n    List &lt; LocalDate &gt; dates =\n            year.atDay( 1 )\n                    .datesUntil(\n                            year\n                                    .plusYears( 1 )\n                                    .atDay( 1 )\n                    )\n                    .filter(\n                            date -&gt; dows.contains( date.getDayOfWeek() )\n                    )\n                    .toList();\n</code></pre>\n<h1>Executor Service</h1>\n<p>You may want to use an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executor service</a> rather than manage threads yourself.</p>\n<p>Define your task as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> that returns your desired list of dates. Construct the object with the desired year and day-of-week.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DatesForDayOfWeekTask implements Callable &lt; List &lt; LocalDate &gt; &gt;\n{\n    Year year;\n    DayOfWeek dow;\n\n    public DatesForDayOfWeekTask ( final Year year , final DayOfWeek dow )\n    {\n        this.year = year;\n        this.dow = dow;\n    }\n\n    @Override\n    public List &lt; LocalDate &gt; call ( ) throws Exception\n    {\n        return datesOfYearforDaysOfWeek( this.year , Set.of( this.dow ) );\n    }\n}\n</code></pre>\n<p>Example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;INFO - Demo started. &quot; + Instant.now() );\n\nExecutorService executorService = Executors.newCachedThreadPool();\n\nDatesForDayOfWeekTask saturdayTask = new DatesForDayOfWeekTask( Year.of( 2023 ) , DayOfWeek.SATURDAY );\nDatesForDayOfWeekTask sundayTask = new DatesForDayOfWeekTask( Year.of( 2023 ) , DayOfWeek.SUNDAY );\n\nFuture &lt; List &lt; LocalDate &gt; &gt; saturdayFuture = executorService.submit( saturdayTask );\nFuture &lt; List &lt; LocalDate &gt; &gt; sundayFuture = executorService.submit( sundayTask );\n\nSystem.out.println( &quot;INFO Tasks submitted. Please wait. &quot; + Instant.now() );\ntry { Thread.sleep( Duration.ofSeconds( 10 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\nthis.shutdownAndAwaitTermination( executorService );\n\ntry\n{\n    System.out.println( &quot;saturdayFuture.get() = &quot; + saturdayFuture.get() );\n    System.out.println( &quot;sundayFuture.get() = &quot; + sundayFuture.get() );\n}\ncatch ( InterruptedException e ) { throw new RuntimeException( e ); }\ncatch ( ExecutionException e ) { throw new RuntimeException( e ); }\nSystem.out.println( &quot;INFO - Demo ended. &quot; + Instant.now() );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo started. 2022-09-28T00:38:58.460930Z\nINFO Tasks submitted. Please wait. 2022-09-28T00:38:58.469034Z\nsaturdayFuture.get() = [2023-01-07, 2023-01-14, 2023-01-21, 2023-01-28, 2023-02-04, 2023-02-11, 2023-02-18, 2023-02-25, 2023-03-04, 2023-03-11, 2023-03-18, 2023-03-25, 2023-04-01, 2023-04-08, 2023-04-15, 2023-04-22, 2023-04-29, 2023-05-06, 2023-05-13, 2023-05-20, 2023-05-27, 2023-06-03, 2023-06-10, 2023-06-17, 2023-06-24, 2023-07-01, 2023-07-08, 2023-07-15, 2023-07-22, 2023-07-29, 2023-08-05, 2023-08-12, 2023-08-19, 2023-08-26, 2023-09-02, 2023-09-09, 2023-09-16, 2023-09-23, 2023-09-30, 2023-10-07, 2023-10-14, 2023-10-21, 2023-10-28, 2023-11-04, 2023-11-11, 2023-11-18, 2023-11-25, 2023-12-02, 2023-12-09, 2023-12-16, 2023-12-23, 2023-12-30]\nsundayFuture.get() = [2023-01-01, 2023-01-08, 2023-01-15, 2023-01-22, 2023-01-29, 2023-02-05, 2023-02-12, 2023-02-19, 2023-02-26, 2023-03-05, 2023-03-12, 2023-03-19, 2023-03-26, 2023-04-02, 2023-04-09, 2023-04-16, 2023-04-23, 2023-04-30, 2023-05-07, 2023-05-14, 2023-05-21, 2023-05-28, 2023-06-04, 2023-06-11, 2023-06-18, 2023-06-25, 2023-07-02, 2023-07-09, 2023-07-16, 2023-07-23, 2023-07-30, 2023-08-06, 2023-08-13, 2023-08-20, 2023-08-27, 2023-09-03, 2023-09-10, 2023-09-17, 2023-09-24, 2023-10-01, 2023-10-08, 2023-10-15, 2023-10-22, 2023-10-29, 2023-11-05, 2023-11-12, 2023-11-19, 2023-11-26, 2023-12-03, 2023-12-10, 2023-12-17, 2023-12-24, 2023-12-31]\nINFO - Demo ended. 2022-09-28T00:39:08.480522Z\n</code></pre>\n<p>Full example code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.days;\n\nimport java.time.*;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Set;\nimport java.util.concurrent.*;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n//        app.demo();\n        app.demoThreaded();\n    }\n\n    private void demo ( )\n    {\n        List &lt; LocalDate &gt; dates =\n                this.datesOfYearforDaysOfWeek(\n                        Year.of( 2023 ) ,\n                        Set.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY )\n                );\n        System.out.println( &quot;dates.toString() = &quot; + dates );\n    }\n\n    List &lt; LocalDate &gt; datesOfYearforDaysOfWeek ( final Year year , final Set &lt; DayOfWeek &gt; dows )\n    {\n        // Validate inputs.\n        Objects.requireNonNull( year );\n        Objects.requireNonNull( dows );\n        if ( dows.isEmpty() ) { throw new IllegalArgumentException( &quot;Days of week is empty.&quot; ); }\n\n        // Logic\n        List &lt; LocalDate &gt; dates =\n                year.atDay( 1 )\n                        .datesUntil(\n                                year\n                                        .plusYears( 1 )\n                                        .atDay( 1 )\n                        )\n                        .filter(\n                                date -&gt; dows.contains( date.getDayOfWeek() )\n                        )\n                        .toList();\n\n        // Result.\n        return List.copyOf( dates );  // Effectively a no-op if already an immutable list.\n    }\n\n    private void demoThreaded ( )\n    {\n        System.out.println( &quot;INFO - Demo started. &quot; + Instant.now() );\n\n        ExecutorService executorService = Executors.newCachedThreadPool();\n\n        DatesForDayOfWeekTask saturdayTask = new DatesForDayOfWeekTask( Year.of( 2023 ) , DayOfWeek.SATURDAY );\n        DatesForDayOfWeekTask sundayTask = new DatesForDayOfWeekTask( Year.of( 2023 ) , DayOfWeek.SUNDAY );\n\n        Future &lt; List &lt; LocalDate &gt; &gt; saturdayFuture = executorService.submit( saturdayTask );\n        Future &lt; List &lt; LocalDate &gt; &gt; sundayFuture = executorService.submit( sundayTask );\n\n        System.out.println( &quot;INFO Tasks submitted. Please wait. &quot; + Instant.now() );\n        try { Thread.sleep( Duration.ofSeconds( 10 ).toMillis() ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        this.shutdownAndAwaitTermination( executorService );\n\n        try\n        {\n            System.out.println( &quot;saturdayFuture.get() = &quot; + saturdayFuture.get() );\n            System.out.println( &quot;sundayFuture.get() = &quot; + sundayFuture.get() );\n        }\n        catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        catch ( ExecutionException e ) { throw new RuntimeException( e ); }\n        System.out.println( &quot;INFO - Demo ended. &quot; + Instant.now() );\n    }\n\n\n    class DatesForDayOfWeekTask implements Callable &lt; List &lt; LocalDate &gt; &gt;\n    {\n        Year year;\n        DayOfWeek dow;\n\n        public DatesForDayOfWeekTask ( final Year year , final DayOfWeek dow )\n        {\n            this.year = year;\n            this.dow = dow;\n        }\n\n        @Override\n        public List &lt; LocalDate &gt; call ( ) throws Exception\n        {\n            return datesOfYearforDaysOfWeek( this.year , Set.of( this.dow ) );\n        }\n    }\n\n\n    // Boilerplate code taken from `ExecutorService` interface Javadoc, and slightly modified.\n    private void shutdownAndAwaitTermination ( ExecutorService executorService )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( 60 , TimeUnit.SECONDS ) )\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26457342,"reputation":13,"user_id":20099772,"display_name":"Monirul Islam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73867005,"answer_count":3,"score":0,"last_activity_date":1664349903,"creation_date":1664276853,"question_id":73866600,"body_markdown":"i&#39;m trying to print all the saturdays and sundays of any given year. but for some reason the program won&#39;t print only saturdays but not fridays for the year 2022. i&#39;ve tried different values for year but still didn&#39;t find any, other than 2022. what did i do wrong here???\r\nbellow is the code.\r\n\r\n```java\r\nimport java.util.Calendar;\r\nimport java.util.GregorianCalendar;\r\nimport java.util.Scanner;\r\n\r\npublic class JavaDayFinder extends Thread {\r\n\r\n    int day;\r\n    int year;\r\n\r\n    JavaDayFinder(int day, int year) {\r\n        this.day = day;\r\n        this.year = year;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        Calendar calendar = new GregorianCalendar();\r\n        calendar.set(year, Calendar.JANUARY, 1);\r\n        calendar.getTime();\r\n        calendar.set(Calendar.DAY_OF_WEEK, day);\r\n        calendar.getTime();\r\n\r\n        while (calendar.get(Calendar.YEAR) == year) {\r\n            System.out.println(calendar.getTime());\r\n            calendar.add(Calendar.DAY_OF_MONTH, 7);\r\n            try {\r\n                Thread.sleep(250);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;This program prints all the common holidays (Fridays &amp; Saturdays) of any given year.&quot;);\r\n        System.out.print(&quot;Please input the year of which you want to know the holidays: &quot;);\r\n        Scanner scan = new Scanner(System.in);\r\n        int year = scan.nextInt();\r\n        System.out.println(&quot;Given year : &quot; + year);\r\n        System.out.println();\r\n\r\n        JavaDayFinder friday = new JavaDayFinder(6, year);\r\n        JavaDayFinder saturday = new JavaDayFinder(7, year);\r\n        friday.start();\r\n        saturday.start();\r\n    }\r\n}\r\n```\r\n\r\nbellow is the output\r\n\r\n```none\r\nThis program prints all the common holidays (Fridays &amp; Saturdays) of any given year.\r\nPlease input the year of which you want to know the holidays: 2022\r\nGiven year : 2022\r\n\r\nSat Jan 01 17:05:56 BDT 2022\r\nSat Jan 08 17:05:56 BDT 2022\r\nSat Jan 15 17:05:56 BDT 2022\r\nSat Jan 22 17:05:56 BDT 2022\r\nSat Jan 29 17:05:56 BDT 2022\r\nSat Feb 05 17:05:56 BDT 2022\r\nSat Feb 12 17:05:56 BDT 2022\r\nSat Feb 19 17:05:56 BDT 2022\r\nSat Feb 26 17:05:56 BDT 2022\r\nSat Mar 05 17:05:56 BDT 2022\r\nSat Mar 12 17:05:56 BDT 2022\r\nSat Mar 19 17:05:56 BDT 2022\r\nSat Mar 26 17:05:56 BDT 2022\r\nSat Apr 02 17:05:56 BDT 2022\r\nSat Apr 09 17:05:56 BDT 2022\r\nSat Apr 16 17:05:56 BDT 2022\r\nSat Apr 23 17:05:56 BDT 2022\r\nSat Apr 30 17:05:56 BDT 2022\r\nSat May 07 17:05:56 BDT 2022\r\nSat May 14 17:05:56 BDT 2022\r\nSat May 21 17:05:56 BDT 2022\r\nSat May 28 17:05:56 BDT 2022\r\nSat Jun 04 17:05:56 BDT 2022\r\nSat Jun 11 17:05:56 BDT 2022\r\nSat Jun 18 17:05:56 BDT 2022\r\nSat Jun 25 17:05:56 BDT 2022\r\nSat Jul 02 17:05:56 BDT 2022\r\nSat Jul 09 17:05:56 BDT 2022\r\nSat Jul 16 17:05:56 BDT 2022\r\nSat Jul 23 17:05:56 BDT 2022\r\nSat Jul 30 17:05:56 BDT 2022\r\nSat Aug 06 17:05:56 BDT 2022\r\nSat Aug 13 17:05:56 BDT 2022\r\nSat Aug 20 17:05:56 BDT 2022\r\nSat Aug 27 17:05:56 BDT 2022\r\nSat Sep 03 17:05:56 BDT 2022\r\nSat Sep 10 17:05:56 BDT 2022\r\nSat Sep 17 17:05:56 BDT 2022\r\nSat Sep 24 17:05:56 BDT 2022\r\nSat Oct 01 17:05:56 BDT 2022\r\nSat Oct 08 17:05:56 BDT 2022\r\nSat Oct 15 17:05:56 BDT 2022\r\nSat Oct 22 17:05:56 BDT 2022\r\nSat Oct 29 17:05:56 BDT 2022\r\nSat Nov 05 17:05:56 BDT 2022\r\nSat Nov 12 17:05:56 BDT 2022\r\nSat Nov 19 17:05:56 BDT 2022\r\nSat Nov 26 17:05:56 BDT 2022\r\nSat Dec 03 17:05:56 BDT 2022\r\nSat Dec 10 17:05:56 BDT 2022\r\nSat Dec 17 17:05:56 BDT 2022\r\nSat Dec 24 17:05:56 BDT 2022\r\nSat Dec 31 17:05:56 BDT 2022\r\n\r\nProcess finished with exit code 0\r\n```","title":"How can i fix the problem printing all the fridays and saturdays of any given year?","body":"<p>i'm trying to print all the saturdays and sundays of any given year. but for some reason the program won't print only saturdays but not fridays for the year 2022. i've tried different values for year but still didn't find any, other than 2022. what did i do wrong here???\nbellow is the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Calendar;\nimport java.util.GregorianCalendar;\nimport java.util.Scanner;\n\npublic class JavaDayFinder extends Thread {\n\n    int day;\n    int year;\n\n    JavaDayFinder(int day, int year) {\n        this.day = day;\n        this.year = year;\n    }\n\n    @Override\n    public void run() {\n        Calendar calendar = new GregorianCalendar();\n        calendar.set(year, Calendar.JANUARY, 1);\n        calendar.getTime();\n        calendar.set(Calendar.DAY_OF_WEEK, day);\n        calendar.getTime();\n\n        while (calendar.get(Calendar.YEAR) == year) {\n            System.out.println(calendar.getTime());\n            calendar.add(Calendar.DAY_OF_MONTH, 7);\n            try {\n                Thread.sleep(250);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;This program prints all the common holidays (Fridays &amp; Saturdays) of any given year.&quot;);\n        System.out.print(&quot;Please input the year of which you want to know the holidays: &quot;);\n        Scanner scan = new Scanner(System.in);\n        int year = scan.nextInt();\n        System.out.println(&quot;Given year : &quot; + year);\n        System.out.println();\n\n        JavaDayFinder friday = new JavaDayFinder(6, year);\n        JavaDayFinder saturday = new JavaDayFinder(7, year);\n        friday.start();\n        saturday.start();\n    }\n}\n</code></pre>\n<p>bellow is the output</p>\n<pre class=\"lang-none prettyprint-override\"><code>This program prints all the common holidays (Fridays &amp; Saturdays) of any given year.\nPlease input the year of which you want to know the holidays: 2022\nGiven year : 2022\n\nSat Jan 01 17:05:56 BDT 2022\nSat Jan 08 17:05:56 BDT 2022\nSat Jan 15 17:05:56 BDT 2022\nSat Jan 22 17:05:56 BDT 2022\nSat Jan 29 17:05:56 BDT 2022\nSat Feb 05 17:05:56 BDT 2022\nSat Feb 12 17:05:56 BDT 2022\nSat Feb 19 17:05:56 BDT 2022\nSat Feb 26 17:05:56 BDT 2022\nSat Mar 05 17:05:56 BDT 2022\nSat Mar 12 17:05:56 BDT 2022\nSat Mar 19 17:05:56 BDT 2022\nSat Mar 26 17:05:56 BDT 2022\nSat Apr 02 17:05:56 BDT 2022\nSat Apr 09 17:05:56 BDT 2022\nSat Apr 16 17:05:56 BDT 2022\nSat Apr 23 17:05:56 BDT 2022\nSat Apr 30 17:05:56 BDT 2022\nSat May 07 17:05:56 BDT 2022\nSat May 14 17:05:56 BDT 2022\nSat May 21 17:05:56 BDT 2022\nSat May 28 17:05:56 BDT 2022\nSat Jun 04 17:05:56 BDT 2022\nSat Jun 11 17:05:56 BDT 2022\nSat Jun 18 17:05:56 BDT 2022\nSat Jun 25 17:05:56 BDT 2022\nSat Jul 02 17:05:56 BDT 2022\nSat Jul 09 17:05:56 BDT 2022\nSat Jul 16 17:05:56 BDT 2022\nSat Jul 23 17:05:56 BDT 2022\nSat Jul 30 17:05:56 BDT 2022\nSat Aug 06 17:05:56 BDT 2022\nSat Aug 13 17:05:56 BDT 2022\nSat Aug 20 17:05:56 BDT 2022\nSat Aug 27 17:05:56 BDT 2022\nSat Sep 03 17:05:56 BDT 2022\nSat Sep 10 17:05:56 BDT 2022\nSat Sep 17 17:05:56 BDT 2022\nSat Sep 24 17:05:56 BDT 2022\nSat Oct 01 17:05:56 BDT 2022\nSat Oct 08 17:05:56 BDT 2022\nSat Oct 15 17:05:56 BDT 2022\nSat Oct 22 17:05:56 BDT 2022\nSat Oct 29 17:05:56 BDT 2022\nSat Nov 05 17:05:56 BDT 2022\nSat Nov 12 17:05:56 BDT 2022\nSat Nov 19 17:05:56 BDT 2022\nSat Nov 26 17:05:56 BDT 2022\nSat Dec 03 17:05:56 BDT 2022\nSat Dec 10 17:05:56 BDT 2022\nSat Dec 17 17:05:56 BDT 2022\nSat Dec 24 17:05:56 BDT 2022\nSat Dec 31 17:05:56 BDT 2022\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","gson","lombok"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1664348376,"post_id":73877368,"comment_id":130447982,"body_markdown":"that has nothing to do with Lombok. that is how Java works. Please learn the basics before start using tools like Lombok","body":"that has nothing to do with Lombok. that is how Java works. Please learn the basics before start using tools like Lombok"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1664349157,"post_id":73877368,"comment_id":130448228,"body_markdown":"And what other value do you expect it to have if you don&#39;t set it? By the way, one option is to make `httpResponseCode` an `Integer`, so it will be set to `null` when you don&#39;t explicitly give it a value.","body":"And what other value do you expect it to have if you don&#39;t set it? By the way, one option is to make <code>httpResponseCode</code> an <code>Integer</code>, so it will be set to <code>null</code> when you don&#39;t explicitly give it a value."}],"answers":[{"tags":[],"owner":{"account_id":5160313,"reputation":614,"user_id":4132230,"display_name":"Sandeep Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664349202,"creation_date":1664349202,"answer_id":73877543,"question_id":73877368,"body_markdown":"Its Java behavior. In Java, when an object is created, its properties are initialized with default values based on type:\r\n\r\n```\r\nboolean        # with value false\r\nbyte           # with value 0\r\nshort          # with value 0\r\nchar           # with value 0\r\nint            # with value 0\r\nlong           # with value 0\r\nfloat          # with value 0.0\r\ndouble         # with value 0.0\r\nclass types    # with null\r\n``` \r\n\r\nIn Java arrays are also constructed by objects so arrays type parameters are also initialized with null when class object is created.\r\n\r\nThere is noting to do with Lombok.","title":"Stop Lombok from setting default value for attributes","body":"<p>Its Java behavior. In Java, when an object is created, its properties are initialized with default values based on type:</p>\n<pre><code>boolean        # with value false\nbyte           # with value 0\nshort          # with value 0\nchar           # with value 0\nint            # with value 0\nlong           # with value 0\nfloat          # with value 0.0\ndouble         # with value 0.0\nclass types    # with null\n</code></pre>\n<p>In Java arrays are also constructed by objects so arrays type parameters are also initialized with null when class object is created.</p>\n<p>There is noting to do with Lombok.</p>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664349739,"creation_date":1664349739,"answer_id":73877649,"question_id":73877368,"body_markdown":"It is not related to Lombok. It is as per the default behaviour of primitive data types.\r\n\r\nYou can use **wrapper classes** instead of primitive data types.\r\n\r\n**For example :** Integer for int,Double for double and likewise for other data types.You will get the default value as null instead of 0,0.0 respectively.","title":"Stop Lombok from setting default value for attributes","body":"<p>It is not related to Lombok. It is as per the default behaviour of primitive data types.</p>\n<p>You can use <strong>wrapper classes</strong> instead of primitive data types.</p>\n<p><strong>For example :</strong> Integer for int,Double for double and likewise for other data types.You will get the default value as null instead of 0,0.0 respectively.</p>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664349739,"creation_date":1664348318,"question_id":73877368,"body_markdown":"I have this Lombok class , when I am creating its object it is setting default values for attributes which is not being set. At places where I am not setting value for httpResponseCode , it is being set as 0. I don&#39;t want this variable to take default int value. Is there any way to stop that ?\r\n\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class StatusInfo {\r\n     public String reasonCode;\r\n     public String result;\r\n     public String description;\r\n     public int httpResponseCode;\r\n     }\r\n","title":"Stop Lombok from setting default value for attributes","body":"<p>I have this Lombok class , when I am creating its object it is setting default values for attributes which is not being set. At places where I am not setting value for httpResponseCode , it is being set as 0. I don't want this variable to take default int value. Is there any way to stop that ?</p>\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class StatusInfo {\n public String reasonCode;\n public String result;\n public String description;\n public int httpResponseCode;\n }\n</code></pre>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1664349406,"post_id":73877498,"comment_id":130448297,"body_markdown":"I think you need to post some code to show us what you have so far","body":"I think you need to post some code to show us what you have so far"},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1664350132,"post_id":73877498,"comment_id":130448509,"body_markdown":"arr[i][j]!=arr[i][j+1] &lt;-- you need a length check before the &#39;j+1&#39;","body":"arr[i][j]!=arr[i][j+1] &lt;-- you need a length check before the &#39;j+1&#39;"},{"owner":{"account_id":12391188,"reputation":37,"user_id":9033161,"display_name":"Greddy"},"score":0,"creation_date":1664350769,"post_id":73877498,"comment_id":130448720,"body_markdown":"Do you mean that i need to write a conditional for length check or one of the indexes need an additional length property (if i can say in this way)?","body":"Do you mean that i need to write a conditional for length check or one of the indexes need an additional length property (if i can say in this way)?"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664349124,"creation_date":1664349124,"answer_id":73877522,"question_id":73877498,"body_markdown":"You need to make use of the `Array.length` property (it&#39;s a property, not a method, note!), to determine how wide your array is. More examples etc. [here][1]\r\n\r\n\r\n  [1]: https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/Java-array-size-explained-by-example","title":"Checking elements in rows and cols of 2D array in Java of arbitrary size","body":"<p>You need to make use of the <code>Array.length</code> property (it's a property, not a method, note!), to determine how wide your array is. More examples etc. <a href=\"https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/Java-array-size-explained-by-example\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":12391188,"reputation":37,"user_id":9033161,"display_name":"Greddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664349660,"creation_date":1664348990,"question_id":73877498,"body_markdown":"I am looking for a way to check the rows and the columns of 2D array of arbitrary size. For example, user wants to print NxN size board. In this case, we can&#39;t just check for the positions(rows and cols) as we do in fixed length of 2D array. My first idea was to check each if array[i][j]==array[i][j+1], but this obviously won&#39;t work and will crash due to the ```ArrayOutOfBounds``` exception, as well as wont check the whole length of rows/cols. \r\n\r\nAny ideas/suggestions?\r\n\r\n\r\nMy current flawed idea:\r\n\r\n```\r\nfor (int i = 0; i&lt;arr.length-1; i++){\r\n           for (int j = 0; j&lt;arr[i].length-1; j++){\r\n               if (arr[i][j]!=arr[i][j+1]){\r\n                   //do something..\r\n           }\r\n       }\r\n```","title":"Checking elements in rows and cols of 2D array in Java of arbitrary size","body":"<p>I am looking for a way to check the rows and the columns of 2D array of arbitrary size. For example, user wants to print NxN size board. In this case, we can't just check for the positions(rows and cols) as we do in fixed length of 2D array. My first idea was to check each if array[i][j]==array[i][j+1], but this obviously won't work and will crash due to the <code>ArrayOutOfBounds</code> exception, as well as wont check the whole length of rows/cols.</p>\n<p>Any ideas/suggestions?</p>\n<p>My current flawed idea:</p>\n<pre><code>for (int i = 0; i&lt;arr.length-1; i++){\n           for (int j = 0; j&lt;arr[i].length-1; j++){\n               if (arr[i][j]!=arr[i][j+1]){\n                   //do something..\n           }\n       }\n</code></pre>\n"},{"tags":["java","regex","unicode","unicode-string"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664255344,"post_id":73862541,"comment_id":130423199,"body_markdown":"Which version of Java are you using? This works for me in Java 17.","body":"Which version of Java are you using? This works for me in Java 17."},{"owner":{"account_id":14393256,"reputation":103,"user_id":10397315,"display_name":"william"},"score":0,"creation_date":1664257807,"post_id":73862541,"comment_id":130423589,"body_markdown":"@Sweeper i am using java 8 ,so is it a problem relate to java version ?","body":"@Sweeper i am using java 8 ,so is it a problem relate to java version ?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664257907,"post_id":73862541,"comment_id":130423615,"body_markdown":"Possibly. Java 8 is 8 years old now. How about updating?","body":"Possibly. Java 8 is 8 years old now. How about updating?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1664258265,"post_id":73862541,"comment_id":130423687,"body_markdown":"Since extended grapheme clusters matching are supported since Java 9, I&#39;d imagine this would work in Java 9+.","body":"Since extended grapheme clusters matching are supported since Java 9, I&#39;d imagine this would work in Java 9+."},{"owner":{"account_id":14393256,"reputation":103,"user_id":10397315,"display_name":"william"},"score":0,"creation_date":1664258388,"post_id":73862541,"comment_id":130423705,"body_markdown":"it&#39;s relate to business code of the company where i work for，so version transferring may not  happen recently.","body":"it&#39;s relate to business code of the company where i work for，so version transferring may not  happen recently."},{"owner":{"account_id":14393256,"reputation":103,"user_id":10397315,"display_name":"william"},"score":0,"creation_date":1664258946,"post_id":73862541,"comment_id":130423817,"body_markdown":"@Sweeper but why does the regex &quot;\\p{IsHan}&quot; works well in java8 ?","body":"@Sweeper but why does the regex &quot;\\p{IsHan}&quot; works well in java8 ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1664264443,"post_id":73862541,"comment_id":130425374,"body_markdown":"It may be related to this: https://bugs.openjdk.org/browse/JDK-6609854 ... but I&#39;m not convinced.","body":"It may be related to this: <a href=\"https://bugs.openjdk.org/browse/JDK-6609854\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-6609854</a> ... but I&#39;m not convinced."},{"owner":{"account_id":14393256,"reputation":103,"user_id":10397315,"display_name":"william"},"score":0,"creation_date":1664266585,"post_id":73862541,"comment_id":130426017,"body_markdown":"@StephenC enlightening comment&#128077;, it may be a JDK&#39;s bug of java 1.8","body":"@StephenC enlightening comment👍, it may be a JDK&#39;s bug of java 1.8"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664349528,"creation_date":1664263964,"answer_id":73863893,"question_id":73862541,"body_markdown":"The use of `\\p{IsHan}` works in Java 8 - see below. Perhaps the input is encoded is a way that makes the matching fail?\r\n\r\nRegarding &quot;The code works well, but I want a more concise code&quot;, rather than match what you *want*, match what you *don&#39;t* want and remove it:\r\n\r\n```java\r\npublic static String extractAllChineseCharacters(String input) {\r\n    return input.replaceAll(&quot;\\\\P{IsHan}&quot;, &quot;&quot;);\r\n}\r\n```\r\n\r\nSee [live demo running Java 8][1].\r\n\r\nFYI:\r\n\r\n- `\\p{IsHan}&quot;` matches any Chinese character\r\n- `\\P{IsHan}&quot;` matches any *non* Chinese character.\r\n\r\n---\r\n\r\nTest:\r\n\r\n    String input = &quot;\\uD87E\\uDC25\\uD84C\\uDF00hi你好\\uD83D\\uDC4B（）【】「」{}[]()&quot;;\r\n    System.out.println(input);\r\n    System.out.println(input.replaceAll(&quot;\\\\P{IsHan}&quot;, &quot;&quot;));\r\n\r\nOutput:\r\n\r\n    &#194597;&#144128;hi你好&#128075;（）【】「」{}[]()\r\n    &#194597;&#144128;你好\r\n\r\n\r\n  [1]: https://ideone.com/lJvWn4","title":"Regex \\P{IsHan} does not work well in Java 8","body":"<p>The use of <code>\\p{IsHan}</code> works in Java 8 - see below. Perhaps the input is encoded is a way that makes the matching fail?</p>\n<p>Regarding &quot;The code works well, but I want a more concise code&quot;, rather than match what you <em>want</em>, match what you <em>don't</em> want and remove it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String extractAllChineseCharacters(String input) {\n    return input.replaceAll(&quot;\\\\P{IsHan}&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>See <a href=\"https://ideone.com/lJvWn4\" rel=\"nofollow noreferrer\">live demo running Java 8</a>.</p>\n<p>FYI:</p>\n<ul>\n<li><code>\\p{IsHan}&quot;</code> matches any Chinese character</li>\n<li><code>\\P{IsHan}&quot;</code> matches any <em>non</em> Chinese character.</li>\n</ul>\n<hr />\n<p>Test:</p>\n<pre><code>String input = &quot;\\uD87E\\uDC25\\uD84C\\uDF00hi你好\\uD83D\\uDC4B（）【】「」{}[]()&quot;;\nSystem.out.println(input);\nSystem.out.println(input.replaceAll(&quot;\\\\P{IsHan}&quot;, &quot;&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>勇𣌀hi你好👋（）【】「」{}[]()\n勇𣌀你好\n</code></pre>\n"}],"owner":{"account_id":14393256,"reputation":103,"user_id":10397315,"display_name":"william"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1664349528,"creation_date":1664254321,"question_id":73862541,"body_markdown":"I want to remove all non-Chinese characters in a String, and  retain Chinese Characters.\r\n\r\nHere is an example:\r\n\r\ninput -&gt; ```&#194597;&#144128;hi你好&#128075;（）【】「」{}[]()```\r\n\r\noutput -&gt; ```&#194597;&#144128;你好```\r\n\r\nFirst of all, I try to extract all Chinese characters and append each to a StringBuilder using the following code:\r\n```\r\npublic static String extractAllChineseCharacters(String input){\r\n    Matcher matcher = Pattern.compile(&quot;\\\\p{IsHan}&quot;).matcher(input);\r\n    StringBuilder output = new StringBuilder();\r\n    while(matcher.find()){\r\n        output.append(input.substring(matcher.start(),matcher.end()));\r\n    }\r\n    return output.toString();\r\n}\r\n```\r\nThe code works well, but i want a more concise code.\r\n\r\nThen i try to replace all non-Chinese character with &quot;&quot; using the following code\r\n```\r\npublic static String replaceCharacters(String input){\r\n    Matcher matcher = Pattern.compile(&quot;\\\\P{IsHan}&quot;).matcher(input);\r\n    return matcher.replaceAll(&quot;&quot;);\r\n}\r\n```\r\nbut the code doesn&#39;t work as i expect.\r\n\r\nWhen the input is ```&#194597;&#144128;hi你好&#128075;（）【】「」{}[]()```,\r\n\r\nthe output is ```??你好```\r\n\r\ni enter the debug mode, and find out the output&#39;s charSequences is ```\\uD87E\\uD84e你好```\r\n\r\ni know that java adopt UTF-16 to store a codeunit in a char variable, so &#194597;(U+2F825)is presents as a surrogate pair ```\\uD87E\\uDC25``` in charSequence,and &#144128;(U+23300)is presents as ```\\uD84C\\uDF00```\r\n\r\n**My question is:** \r\nthe regex pattern &quot;\\p{IsHan}&quot;can match \\uD87E\\uDC25 two chars as a Chinese character &quot;&#194597;&quot;,but the regex pattern &quot;\\P{IsHan}&quot; can‘t precisely match non-Chinese character.Why is that so? \r\n\r\nCan anyone give some help? Thanks in advance!\r\n\r\n[![debug][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DfqPX.png","title":"Regex \\P{IsHan} does not work well in Java 8","body":"<p>I want to remove all non-Chinese characters in a String, and  retain Chinese Characters.</p>\n<p>Here is an example:</p>\n<p>input -&gt; <code>勇𣌀hi你好👋（）【】「」{}[]()</code></p>\n<p>output -&gt; <code>勇𣌀你好</code></p>\n<p>First of all, I try to extract all Chinese characters and append each to a StringBuilder using the following code:</p>\n<pre><code>public static String extractAllChineseCharacters(String input){\n    Matcher matcher = Pattern.compile(&quot;\\\\p{IsHan}&quot;).matcher(input);\n    StringBuilder output = new StringBuilder();\n    while(matcher.find()){\n        output.append(input.substring(matcher.start(),matcher.end()));\n    }\n    return output.toString();\n}\n</code></pre>\n<p>The code works well, but i want a more concise code.</p>\n<p>Then i try to replace all non-Chinese character with &quot;&quot; using the following code</p>\n<pre><code>public static String replaceCharacters(String input){\n    Matcher matcher = Pattern.compile(&quot;\\\\P{IsHan}&quot;).matcher(input);\n    return matcher.replaceAll(&quot;&quot;);\n}\n</code></pre>\n<p>but the code doesn't work as i expect.</p>\n<p>When the input is <code>勇𣌀hi你好👋（）【】「」{}[]()</code>,</p>\n<p>the output is <code>??你好</code></p>\n<p>i enter the debug mode, and find out the output's charSequences is <code>\\uD87E\\uD84e你好</code></p>\n<p>i know that java adopt UTF-16 to store a codeunit in a char variable, so 勇(U+2F825)is presents as a surrogate pair <code>\\uD87E\\uDC25</code> in charSequence,and 𣌀(U+23300)is presents as <code>\\uD84C\\uDF00</code></p>\n<p><strong>My question is:</strong>\nthe regex pattern &quot;\\p{IsHan}&quot;can match \\uD87E\\uDC25 two chars as a Chinese character &quot;勇&quot;,but the regex pattern &quot;\\P{IsHan}&quot; can‘t precisely match non-Chinese character.Why is that so?</p>\n<p>Can anyone give some help? Thanks in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/DfqPX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DfqPX.png\" alt=\"debug\" /></a></p>\n"},{"tags":["java","spring","api","postman"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1664349680,"post_id":73867254,"comment_id":130448372,"body_markdown":"You might want to show the Postman code for comparison","body":"You might want to show the Postman code for comparison"}],"answers":[{"tags":[],"owner":{"account_id":9094105,"reputation":722,"user_id":6768645,"display_name":"yotam hadas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664349500,"creation_date":1664349500,"answer_id":73877607,"question_id":73867254,"body_markdown":"I feel like we miss some information like B2BResponseTokenV2 code and the postman response.\r\n\r\nAnd yet from the fact that &#39;scope&#39; field does map correctly and from the image you have uploaded, I guess it has to do something with B2BResponseTokenV2 fields mapping.\r\n\r\nI see &#39;scope&#39; is the only variable made from all lowercase characters.\r\nCan it be the response use snake-case while your fields are camel-case and therefore not mapping it correctly? :)","title":"Null values in Post call via Spring, but in Postman is working","body":"<p>I feel like we miss some information like B2BResponseTokenV2 code and the postman response.</p>\n<p>And yet from the fact that 'scope' field does map correctly and from the image you have uploaded, I guess it has to do something with B2BResponseTokenV2 fields mapping.</p>\n<p>I see 'scope' is the only variable made from all lowercase characters.\nCan it be the response use snake-case while your fields are camel-case and therefore not mapping it correctly? :)</p>\n"}],"owner":{"account_id":26036963,"reputation":3,"user_id":19742299,"display_name":"papafrita9999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73877607,"answer_count":1,"score":0,"last_activity_date":1664349500,"creation_date":1664280186,"question_id":73867254,"body_markdown":"I&#39;m using RestTemplate to post a form, the remote server replays correctly  when called via postman but return null if invoked by Java \r\nMy code is:\r\n\r\n                MultiValueMap&lt;String, String&gt; requestBody = new LinkedMultiValueMap&lt;String, String&gt;();\t\r\n    \t\t\trequestBody.add(&quot;grant_type&quot;, &quot;client_credentials&quot;);\r\n    \t\t\trequestBody.add(&quot;client_secret&quot;, &quot;gdfgf-rtrtr-ssxc&quot;);\r\n    \t\t\trequestBody.add(&quot;client_id&quot;, &quot;ttt-yyyy&quot;);\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\torg.springframework.http.HttpHeaders headers = new org.springframework.http.HttpHeaders();\r\n    \t\t\theaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    \t\t\t\r\n    \t\t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\t\r\n    \t\t\tString fooResourceUrl = &quot;https://xxxxxx/openid-connect/token&quot;;\r\n    \t\t\tHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(requestBody, headers);\r\n    \r\n    \t\t\tResponseEntity&lt;B2BResponseTokenV2&gt; foo = \r\n    \t\t\t\t\t   restTemplate.exchange(fooResourceUrl, HttpMethod.POST, request, B2BResponseTokenV2.class);\r\n\t\t\t\r\n\r\nI&#39;m doing a POST call about this code, but nn Postman it is returning the data correctly, and all the fields have data, however, in Java I only see a filled value when making the POST call and it is the &quot;scope&quot; value, I don&#39;t understand why the rest of the values ​​are null\r\n\r\n[Response debugging][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LtAUU.png","title":"Null values in Post call via Spring, but in Postman is working","body":"<p>I'm using RestTemplate to post a form, the remote server replays correctly  when called via postman but return null if invoked by Java\nMy code is:</p>\n<pre><code>            MultiValueMap&lt;String, String&gt; requestBody = new LinkedMultiValueMap&lt;String, String&gt;();  \n            requestBody.add(&quot;grant_type&quot;, &quot;client_credentials&quot;);\n            requestBody.add(&quot;client_secret&quot;, &quot;gdfgf-rtrtr-ssxc&quot;);\n            requestBody.add(&quot;client_id&quot;, &quot;ttt-yyyy&quot;);   \n            \n            \n            org.springframework.http.HttpHeaders headers = new org.springframework.http.HttpHeaders();\n            headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n            \n            RestTemplate restTemplate = new RestTemplate();\n            \n            String fooResourceUrl = &quot;https://xxxxxx/openid-connect/token&quot;;\n            HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(requestBody, headers);\n\n            ResponseEntity&lt;B2BResponseTokenV2&gt; foo = \n                       restTemplate.exchange(fooResourceUrl, HttpMethod.POST, request, B2BResponseTokenV2.class);\n        \n</code></pre>\n<p>I'm doing a POST call about this code, but nn Postman it is returning the data correctly, and all the fields have data, however, in Java I only see a filled value when making the POST call and it is the &quot;scope&quot; value, I don't understand why the rest of the values ​​are null</p>\n<p><a href=\"https://i.stack.imgur.com/LtAUU.png\" rel=\"nofollow noreferrer\">Response debugging</a></p>\n"},{"tags":["java","byte-buddy","javaagents"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664349265,"creation_date":1664349265,"answer_id":73877555,"question_id":73874133,"body_markdown":"You are hitting the module system&#39;s boundaries and you have to add a read edge from your http client&#39;s module to the injected class. You can do so by adding a step in your code: `assureReadEdgeTo` where you reference the target class or module.","title":"Bytebuddy: How to inject class that can be read by java.net.http.HttpClient#sendAsync","body":"<p>You are hitting the module system's boundaries and you have to add a read edge from your http client's module to the injected class. You can do so by adding a step in your code: <code>assureReadEdgeTo</code> where you reference the target class or module.</p>\n"}],"owner":{"account_id":26432214,"reputation":35,"user_id":20078193,"display_name":"Daven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73877555,"answer_count":1,"score":1,"last_activity_date":1664349265,"creation_date":1664315338,"question_id":73874133,"body_markdown":"I&#39;m trying to time time it takes for the `CompletableFuture` that is being returned by `java.net.http.HttpClient#sendAsync`\r\n\r\n```java\r\n// premain\r\npublic static void premain(String arguments, Instrumentation instrumentation) {\r\n    // ...inject helper class to bootloader\r\n    new AgentBuilder.Default()\r\n        .ignore(ElementMatchers.none())\r\n        .with(Listener.StreamWriting.toSystemOut().withErrorsOnly())\r\n        .type(hasSuperType(named(&quot;java.net.http.HttpClient&quot;)))\r\n        .transform((builder, typeDescription, classLoader,\r\n            module, protectionDomain) -&gt; {\r\n          return builder\r\n              .visit(Advice.to(SendAsyncAdvice.class)\r\n                  .on(hasMethodName(&quot;async&quot;)));\r\n        })\r\n        .asTerminalTransformation()\r\n        .installOn(instrumentation);\r\n  }\r\n\r\nclass SendAsyncAdvice {\r\n  @Advice.OnMethodExit()\r\n  public static void exit(\r\n      @Advice.Return(readOnly = false) CompletableFuture&lt;HttpResponse&lt;?&gt;&gt; future) {\r\n    future = future.whenComplete(new ResponseConsumer());\r\n  }\r\n}\r\n\r\nclass ReponseConsumer implements BiConsumer&lt;HttpResponse&lt;?&gt;, Throwable&gt; {\r\n  @Override\r\n  public void accept(HttpResponse&lt;?&gt; arg0, Throwable arg1) {\r\n    System.out.println(&quot;HELLO&quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\nI injected the `ReponseConsumer` to the bootloader and I&#39;m getting this error\r\n\r\n```java\r\nException in thread &quot;main&quot; java.lang.IllegalAccessError: \r\nfailed to access class io.hello.agent.SendAsyncAdvice \r\nfrom class jdk.internal.net.http.HttpClientImpl\r\n (io.hello.agent.SendAsyncAdvice is in unnamed module of loader \r\n&#39;bootstrap&#39;; jdk.internal.net.http.HttpClientImpl \r\nis in module java.net.http of loader &#39;platform&#39;)\r\n```\r\n\r\nJust wondering how do i make the `ReponseConsumer` class available in `java.net.http` module","title":"Bytebuddy: How to inject class that can be read by java.net.http.HttpClient#sendAsync","body":"<p>I'm trying to time time it takes for the <code>CompletableFuture</code> that is being returned by <code>java.net.http.HttpClient#sendAsync</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>// premain\npublic static void premain(String arguments, Instrumentation instrumentation) {\n    // ...inject helper class to bootloader\n    new AgentBuilder.Default()\n        .ignore(ElementMatchers.none())\n        .with(Listener.StreamWriting.toSystemOut().withErrorsOnly())\n        .type(hasSuperType(named(&quot;java.net.http.HttpClient&quot;)))\n        .transform((builder, typeDescription, classLoader,\n            module, protectionDomain) -&gt; {\n          return builder\n              .visit(Advice.to(SendAsyncAdvice.class)\n                  .on(hasMethodName(&quot;async&quot;)));\n        })\n        .asTerminalTransformation()\n        .installOn(instrumentation);\n  }\n\nclass SendAsyncAdvice {\n  @Advice.OnMethodExit()\n  public static void exit(\n      @Advice.Return(readOnly = false) CompletableFuture&lt;HttpResponse&lt;?&gt;&gt; future) {\n    future = future.whenComplete(new ResponseConsumer());\n  }\n}\n\nclass ReponseConsumer implements BiConsumer&lt;HttpResponse&lt;?&gt;, Throwable&gt; {\n  @Override\n  public void accept(HttpResponse&lt;?&gt; arg0, Throwable arg1) {\n    System.out.println(&quot;HELLO&quot;);\n  }\n}\n\n</code></pre>\n<p>I injected the <code>ReponseConsumer</code> to the bootloader and I'm getting this error</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: \nfailed to access class io.hello.agent.SendAsyncAdvice \nfrom class jdk.internal.net.http.HttpClientImpl\n (io.hello.agent.SendAsyncAdvice is in unnamed module of loader \n'bootstrap'; jdk.internal.net.http.HttpClientImpl \nis in module java.net.http of loader 'platform')\n</code></pre>\n<p>Just wondering how do i make the <code>ReponseConsumer</code> class available in <code>java.net.http</code> module</p>\n"},{"tags":["java","android","rest","youtube-api"],"comments":[{"owner":{"account_id":6343120,"reputation":1818,"user_id":4924460,"accept_rate":50,"display_name":"Rahul Giradkar"},"score":0,"creation_date":1486356045,"post_id":42060251,"comment_id":71293098,"body_markdown":"call newID.excute().","body":"call newID.excute()."}],"answers":[{"tags":[],"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486355264,"creation_date":1486355264,"answer_id":42060308,"question_id":42060251,"body_markdown":"The returned String `current_YTVidID` is declared as a class member, the instance of the class that&#39;s created to do the work in `doInBackground()` is released after the method ran which includes all of it&#39;s parameters.\r\n\r\nTry declaring `current_YTVidID` inside the method (doInBackground) - that should return the result as a String which is not related to the instance that handled it.","title":"Trying to get response from REST request","body":"<p>The returned String <code>current_YTVidID</code> is declared as a class member, the instance of the class that's created to do the work in <code>doInBackground()</code> is released after the method ran which includes all of it's parameters.</p>\n\n<p>Try declaring <code>current_YTVidID</code> inside the method (doInBackground) - that should return the result as a String which is not related to the instance that handled it.</p>\n"},{"tags":[],"owner":{"account_id":5468685,"reputation":2369,"user_id":4348662,"display_name":"Ethan Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506408977,"creation_date":1486356805,"answer_id":42060522,"question_id":42060251,"body_markdown":"**Explain**\r\n\r\nYou&#39;re using `AsyncTask` incorrectly.\r\n\r\n`AsyncTask`implements 4-step.\r\n\r\n1. onPreExecute\r\n2. doInBackground\r\n3. onProgressUpdate\r\n4. onPostExecute\r\n\r\nIf finished your doInBackground then call `onPostExecute`.\r\n\r\nTherefore, you have to handled using `onPostExecute`.\r\n\r\n***You must check the reference. There is a detailed explanation.***\r\n\r\n**Solution**\r\n\r\n&gt;implement interface for handling event.\r\n\r\n\tpublic YourClass implements IYoutubeTask\r\n\t{\r\n\t\t//....\r\n\r\n\t\tpublic yourFunction()\r\n\t    {\r\n\t    \tYouTubeVidIDs newID = new YouTubeVidIDs(this);\r\n\r\n\t\t\t//excute asynctask\r\n\t\t\tnewID.execute();\r\n\r\n\t\t\t// you can used to new YouTubeVidIDs().execute(); \r\n\t    }\r\n\r\n\t\t//....\r\n\r\n\t\t@Override\r\n\t\tpublic void onFinished(String YT_ID)\r\n\t\t{\r\n\t\t\tMovie movie1 = new Movie();\r\n\t\t\tmovie1.setId(1);\r\n\t\t\tmovie1.getId(1);\r\n\t\t\tmovie1.setTitle(&quot;Masjid Al-Haram&quot;);\r\n\t\t\tmovie1.setStudio(&quot;Mekkah, KSA&quot;);\r\n\t\t\tmovie1.setDescription(&quot;Live Stream of Masjid Al-Haram&quot;);\r\n\t\t\tmovie1.setCardImageUrl(&quot;http://3.bp.blogspot.com/-ZKjKucsPdzI/TudWC99CE_I/AAAAAAAAAD8/qvWdDtw5IW0/s1600/%2528393%2529.jpg&quot;);\r\n\t\t\tmovie1.setyTubeID(YT_ID);\r\n\t\t}\r\n\r\n\t\t//...\r\n\r\n\t\tpublic interface IYoutubeTask\r\n\t\t{\r\n\t\t\tvoid onFinished(String YT_ID);\r\n\t\t}\r\n\t}\r\n\r\n**AsyncTask**\r\n\r\n    // Notice.\r\n\t// you don&#39;t need AsyncTask&lt;String, String, String&gt;\r\n\t// AsyncTask&lt;[Params], [Progess], [Result]&gt;\r\n\t// Recommend AsyncTask&lt;Void, Void, String&gt; for your source code.\r\n\r\n\tpublic class YouTubeVidIDs extends AsyncTask&lt;String, String, String&gt; {\r\n\t    public String current_YTVidID;\r\n\t    private IYoutubeTask handler; \r\n\r\n\t    public YouTubeVidIDs(IYoutubeTask handler)\r\n\t    {\r\n\t    \tthis.handler = handler;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String doInBackground(String... params) {\r\n\t        String subYTURL_0 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UCos52azQNBgW63_9uDJoPDA&quot;;\r\n\t        String subYTURL_1 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCos52azQNBgW63_9uDJoPDA&quot;;\r\n\t        String subYTURL_2 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCROKYPep-UuODNwyipe6JMw&quot;;\r\n\t        String subYTURL_3 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCN_mfNT4sUszWKfi0Urjv-g&quot;;\r\n\r\n\t        OkHttpClient client = new OkHttpClient();\r\n\t        Request request = new Request.Builder()\r\n\t                .url(subYTURL_0)\r\n\t                .get()\r\n\t                //.addHeader(&quot;accept&quot;, &quot;*/*&quot;)\r\n\t                .build();\r\n\t        try {\r\n\t            String response = client.newCall(request).execute().toString();\r\n\t            current_YTVidID = response;\r\n\t        } catch (IOException e) {\r\n\t            e.printStackTrace();\r\n\t        }\r\n\r\n\t        return current_YTVidID;\r\n\t    }\r\n\r\n\t    // implements onFinished method.\r\n\t    protected void onPostExecute(String result) {\r\n        \thandler.onFinished(result);\r\n     \t}\r\n\r\n\t    public void setCurrent_YTVidID(String current_YTVidID) {\r\n\t        this.current_YTVidID = current_YTVidID;\r\n\t    }\r\n\r\n\t    public String getCurrent_YTVidID() {\r\n\t        return this.current_YTVidID;\r\n\t    }\r\n\t}\r\n\r\n**Reference**&lt;br&gt;\r\n\r\nhttps://developer.android.com/reference/android/os/AsyncTask.html","title":"Trying to get response from REST request","body":"<p><strong>Explain</strong></p>\n\n<p>You're using <code>AsyncTask</code> incorrectly.</p>\n\n<p><code>AsyncTask</code>implements 4-step.</p>\n\n<ol>\n<li>onPreExecute</li>\n<li>doInBackground</li>\n<li>onProgressUpdate</li>\n<li>onPostExecute</li>\n</ol>\n\n<p>If finished your doInBackground then call <code>onPostExecute</code>.</p>\n\n<p>Therefore, you have to handled using <code>onPostExecute</code>.</p>\n\n<p><strong><em>You must check the reference. There is a detailed explanation.</em></strong></p>\n\n<p><strong>Solution</strong></p>\n\n<blockquote>\n  <p>implement interface for handling event.</p>\n</blockquote>\n\n<pre><code>public YourClass implements IYoutubeTask\n{\n    //....\n\n    public yourFunction()\n    {\n        YouTubeVidIDs newID = new YouTubeVidIDs(this);\n\n        //excute asynctask\n        newID.execute();\n\n        // you can used to new YouTubeVidIDs().execute(); \n    }\n\n    //....\n\n    @Override\n    public void onFinished(String YT_ID)\n    {\n        Movie movie1 = new Movie();\n        movie1.setId(1);\n        movie1.getId(1);\n        movie1.setTitle(\"Masjid Al-Haram\");\n        movie1.setStudio(\"Mekkah, KSA\");\n        movie1.setDescription(\"Live Stream of Masjid Al-Haram\");\n        movie1.setCardImageUrl(\"http://3.bp.blogspot.com/-ZKjKucsPdzI/TudWC99CE_I/AAAAAAAAAD8/qvWdDtw5IW0/s1600/%2528393%2529.jpg\");\n        movie1.setyTubeID(YT_ID);\n    }\n\n    //...\n\n    public interface IYoutubeTask\n    {\n        void onFinished(String YT_ID);\n    }\n}\n</code></pre>\n\n<p><strong>AsyncTask</strong></p>\n\n<pre><code>// Notice.\n// you don't need AsyncTask&lt;String, String, String&gt;\n// AsyncTask&lt;[Params], [Progess], [Result]&gt;\n// Recommend AsyncTask&lt;Void, Void, String&gt; for your source code.\n\npublic class YouTubeVidIDs extends AsyncTask&lt;String, String, String&gt; {\n    public String current_YTVidID;\n    private IYoutubeTask handler; \n\n    public YouTubeVidIDs(IYoutubeTask handler)\n    {\n        this.handler = handler;\n    }\n\n    @Override\n    public String doInBackground(String... params) {\n        String subYTURL_0 = \"https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UCos52azQNBgW63_9uDJoPDA\";\n        String subYTURL_1 = \"https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCos52azQNBgW63_9uDJoPDA\";\n        String subYTURL_2 = \"https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCROKYPep-UuODNwyipe6JMw\";\n        String subYTURL_3 = \"https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCN_mfNT4sUszWKfi0Urjv-g\";\n\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(subYTURL_0)\n                .get()\n                //.addHeader(\"accept\", \"*/*\")\n                .build();\n        try {\n            String response = client.newCall(request).execute().toString();\n            current_YTVidID = response;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return current_YTVidID;\n    }\n\n    // implements onFinished method.\n    protected void onPostExecute(String result) {\n        handler.onFinished(result);\n    }\n\n    public void setCurrent_YTVidID(String current_YTVidID) {\n        this.current_YTVidID = current_YTVidID;\n    }\n\n    public String getCurrent_YTVidID() {\n        return this.current_YTVidID;\n    }\n}\n</code></pre>\n\n<p><strong>Reference</strong><br></p>\n\n<p><a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/AsyncTask.html</a></p>\n"}],"owner":{"account_id":256418,"reputation":807,"user_id":537126,"accept_rate":100,"display_name":"ironmantis7x"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42060522,"answer_count":2,"score":0,"last_activity_date":1664349021,"creation_date":1486354761,"question_id":42060251,"body_markdown":"I have an Android app where I am trying to get a response a REST call that I have into another class file in my Android app.\r\n\r\nHere is the class file that makes the REST call:\r\n\r\n    public class YouTubeVidIDs extends AsyncTask&lt;String, String, String&gt; {\r\n        public String current_YTVidID;\r\n    \r\n        @Override\r\n        public String doInBackground(String... params) {\r\n            String subYTURL_0 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UCos52azQNBgW63_9uDJoPDA&quot;;\r\n            String subYTURL_1 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCos52azQNBgW63_9uDJoPDA&quot;;\r\n            String subYTURL_2 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCROKYPep-UuODNwyipe6JMw&quot;;\r\n            String subYTURL_3 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCN_mfNT4sUszWKfi0Urjv-g&quot;;\r\n    \r\n            OkHttpClient client = new OkHttpClient();\r\n            Request request = new Request.Builder()\r\n                    .url(subYTURL_0)\r\n                    .get()\r\n                    //.addHeader(&quot;accept&quot;, &quot;*/*&quot;)\r\n                    .build();\r\n            try {\r\n                String response = client.newCall(request).execute().toString();\r\n                current_YTVidID = response;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return current_YTVidID;\r\n        }\r\n    \r\n        public void setCurrent_YTVidID(String current_YTVidID) {\r\n            this.current_YTVidID = current_YTVidID;\r\n        }\r\n    \r\n        public String getCurrent_YTVidID() {\r\n            return this.current_YTVidID;\r\n        }\r\n    }\r\n\r\nI am trying to pull the result into another class file as follows:\r\n\r\n    YouTubeVidIDs newID = new YouTubeVidIDs();\r\n                String YT_ID = newID.getCurrent_YTVidID();\r\n    \r\n                Movie movie1 = new Movie();\r\n                movie1.setId(1);\r\n                movie1.getId(1);\r\n                movie1.setTitle(&quot;Masjid Al-Haram&quot;);\r\n                movie1.setStudio(&quot;Mekkah, KSA&quot;);\r\n                movie1.setDescription(&quot;Live Stream of Masjid Al-Haram&quot;);\r\n                movie1.setCardImageUrl(&quot;http://3.bp.blogspot.com/-ZKjKucsPdzI/TudWC99CE_I/AAAAAAAAAD8/qvWdDtw5IW0/s1600/%2528393%2529.jpg&quot;);\r\n                movie1.setyTubeID(YT_ID);\r\n\r\nI get the following error when it runs:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n                      Process: software.blackstone.tvsunnahboxmenu, PID: 3514\r\n                      java.lang.IllegalStateException: android.os.DeadObjectException\r\n                          at com.google.android.youtube.api.jar.client.RemoteEmbeddedPlayer.K(SourceFile:236)\r\n                          at fpm.b(SourceFile:2715)\r\n                          at fot.k(SourceFile:15217)\r\n                          at vma.run(SourceFile:1051)\r\n                          at android.os.Handler.handleCallback(Handler.java:751)\r\n                          at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                          at android.os.Looper.loop(Looper.java:154)\r\n                          at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n                          at java.lang.reflect.Method.invoke(Native Method)\r\n                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n                       Caused by: android.os.DeadObjectException\r\n                          at android.os.BinderProxy.transactNative(Native Method)\r\n                          at android.os.BinderProxy.transact(Binder.java:615)\r\n                          at com.google.android.apps.youtube.embeddedplayer.service.service.jar.IApiPlayerService$Stub$Proxy.e(SourceFile:473)\r\n                          at com.google.android.youtube.api.jar.client.RemoteEmbeddedPlayer.K(SourceFile:233)\r\n                          at fpm.b(SourceFile:2715)&#160;\r\n                          at fot.k(SourceFile:15217)&#160;\r\n                          at vma.run(SourceFile:1051)&#160;\r\n                          at android.os.Handler.handleCallback(Handler.java:751)&#160;\r\n                          at android.os.Handler.dispatchMessage(Handler.java:95)&#160;\r\n                          at android.os.Looper.loop(Looper.java:154)&#160;\r\n                          at android.app.ActivityThread.main(ActivityThread.java:6077)&#160;\r\n                          at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)&#160;\r\n                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n\r\nWhen I run it on a physical device - the spinner for the YT video just spins and spins and the video never seems to load and it does not return an error message at all in the app run window of Android Studio.\r\n\r\nWhere have I made an error, and what is the best way to fix this?\r\n","title":"Trying to get response from REST request","body":"<p>I have an Android app where I am trying to get a response a REST call that I have into another class file in my Android app.</p>\n<p>Here is the class file that makes the REST call:</p>\n<pre><code>public class YouTubeVidIDs extends AsyncTask&lt;String, String, String&gt; {\n    public String current_YTVidID;\n\n    @Override\n    public String doInBackground(String... params) {\n        String subYTURL_0 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UCos52azQNBgW63_9uDJoPDA&quot;;\n        String subYTURL_1 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCos52azQNBgW63_9uDJoPDA&quot;;\n        String subYTURL_2 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCROKYPep-UuODNwyipe6JMw&quot;;\n        String subYTURL_3 = &quot;https://sunnahboxservice.herokuapp.com/management/youtubeapi/liveStream?channelId=UUCN_mfNT4sUszWKfi0Urjv-g&quot;;\n\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(subYTURL_0)\n                .get()\n                //.addHeader(&quot;accept&quot;, &quot;*/*&quot;)\n                .build();\n        try {\n            String response = client.newCall(request).execute().toString();\n            current_YTVidID = response;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return current_YTVidID;\n    }\n\n    public void setCurrent_YTVidID(String current_YTVidID) {\n        this.current_YTVidID = current_YTVidID;\n    }\n\n    public String getCurrent_YTVidID() {\n        return this.current_YTVidID;\n    }\n}\n</code></pre>\n<p>I am trying to pull the result into another class file as follows:</p>\n<pre><code>YouTubeVidIDs newID = new YouTubeVidIDs();\n            String YT_ID = newID.getCurrent_YTVidID();\n\n            Movie movie1 = new Movie();\n            movie1.setId(1);\n            movie1.getId(1);\n            movie1.setTitle(&quot;Masjid Al-Haram&quot;);\n            movie1.setStudio(&quot;Mekkah, KSA&quot;);\n            movie1.setDescription(&quot;Live Stream of Masjid Al-Haram&quot;);\n            movie1.setCardImageUrl(&quot;http://3.bp.blogspot.com/-ZKjKucsPdzI/TudWC99CE_I/AAAAAAAAAD8/qvWdDtw5IW0/s1600/%2528393%2529.jpg&quot;);\n            movie1.setyTubeID(YT_ID);\n</code></pre>\n<p>I get the following error when it runs:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: software.blackstone.tvsunnahboxmenu, PID: 3514\n                  java.lang.IllegalStateException: android.os.DeadObjectException\n                      at com.google.android.youtube.api.jar.client.RemoteEmbeddedPlayer.K(SourceFile:236)\n                      at fpm.b(SourceFile:2715)\n                      at fot.k(SourceFile:15217)\n                      at vma.run(SourceFile:1051)\n                      at android.os.Handler.handleCallback(Handler.java:751)\n                      at android.os.Handler.dispatchMessage(Handler.java:95)\n                      at android.os.Looper.loop(Looper.java:154)\n                      at android.app.ActivityThread.main(ActivityThread.java:6077)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n                   Caused by: android.os.DeadObjectException\n                      at android.os.BinderProxy.transactNative(Native Method)\n                      at android.os.BinderProxy.transact(Binder.java:615)\n                      at com.google.android.apps.youtube.embeddedplayer.service.service.jar.IApiPlayerService$Stub$Proxy.e(SourceFile:473)\n                      at com.google.android.youtube.api.jar.client.RemoteEmbeddedPlayer.K(SourceFile:233)\n                      at fpm.b(SourceFile:2715) \n                      at fot.k(SourceFile:15217) \n                      at vma.run(SourceFile:1051) \n                      at android.os.Handler.handleCallback(Handler.java:751) \n                      at android.os.Handler.dispatchMessage(Handler.java:95) \n                      at android.os.Looper.loop(Looper.java:154) \n                      at android.app.ActivityThread.main(ActivityThread.java:6077) \n                      at java.lang.reflect.Method.invoke(Native Method) \n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865) \n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n</code></pre>\n<p>When I run it on a physical device - the spinner for the YT video just spins and spins and the video never seems to load and it does not return an error message at all in the app run window of Android Studio.</p>\n<p>Where have I made an error, and what is the best way to fix this?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1664349108,"post_id":73876509,"comment_id":130448214,"body_markdown":"You should really look into [KeithZ&#39;s answer](https://stackoverflow.com/a/73877435/507738). You have three arrays with values, which appear to be a *score*, *name* and *result*, perhaps of a *student*. Instead of maintaining three arrays, why don&#39;t you just create a class (perhaps `Student`) with those properties?","body":"You should really look into <a href=\"https://stackoverflow.com/a/73877435/507738\">KeithZ&#39;s answer</a>. You have three arrays with values, which appear to be a <i>score</i>, <i>name</i> and <i>result</i>, perhaps of a <i>student</i>. Instead of maintaining three arrays, why don&#39;t you just create a class (perhaps <code>Student</code>) with those properties?"},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1664349358,"post_id":73876509,"comment_id":130448276,"body_markdown":"Yup. This is crying out for a class containing these fields","body":"Yup. This is crying out for a class containing these fields"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664342960,"creation_date":1664342960,"answer_id":73876559,"question_id":73876509,"body_markdown":"The easiest way to do this might be to just use an explicit loop:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int [] arr5 = {78,58,89};\r\n    String names[] = {&quot;Jeno&quot;, &quot;Jaemin&quot;, &quot;Jaehyun&quot;};\r\n    String result[] = {&quot;Passed&quot;, &quot;Failed&quot;, &quot;Passed&quot;};\r\n\r\n    for (int i=0; i &lt; arr5.length; ++i) {\r\n        System.out.println(names[i] + &quot; - &quot; + arr5[i] + &quot; - &quot; + result[i]);\r\n    }\r\n\r\nThis prints:\r\n\r\n    Jeno - 78 - Passed\r\n    Jaemin - 58 - Failed\r\n    Jaehyun - 89 - Passed","title":"Printing Int array and String array in one","body":"<p>The easiest way to do this might be to just use an explicit loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int [] arr5 = {78,58,89};\nString names[] = {&quot;Jeno&quot;, &quot;Jaemin&quot;, &quot;Jaehyun&quot;};\nString result[] = {&quot;Passed&quot;, &quot;Failed&quot;, &quot;Passed&quot;};\n\nfor (int i=0; i &lt; arr5.length; ++i) {\n    System.out.println(names[i] + &quot; - &quot; + arr5[i] + &quot; - &quot; + result[i]);\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>Jeno - 78 - Passed\nJaemin - 58 - Failed\nJaehyun - 89 - Passed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19516131,"reputation":54,"user_id":14278956,"display_name":"KeithZ"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664348649,"creation_date":1664348649,"answer_id":73877435,"question_id":73876509,"body_markdown":"I&#39;d say that it depends on what exactly you&#39;re trying to do here. If your goal is to just print out the results, Tim&#39;s way will work. But its very short sighted and not really structured in any way. Just goofing around here but this is what I came up with in a pinch cause I was bored. \r\n\r\n```\r\npackage driver;\r\n\r\npublic class Person\r\n{\r\n\r\n\tprivate String name;\r\n\tprivate int score;\r\n\tprivate String result;\r\n\r\n\tpublic Person(String name, int score)\r\n\t{\r\n\t\tthis.name = name;\r\n\t\tthis.score = score;\r\n\r\n\t\tif (this.score &lt; 60)\r\n\t\t{\r\n\t\t\tPerson.this.setResult(&quot;Failed&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tPerson.this.setResult(&quot;Passed&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic String getName()\r\n\t{\r\n\t\treturn name;\r\n\t}\r\n\r\n\r\n\tpublic void setName(String name)\r\n\t{\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\r\n\tpublic int getScore()\r\n\t{\r\n\t\treturn score;\r\n\t}\r\n\r\n\r\n\tpublic void setScore(int score)\r\n\t{\r\n\t\tthis.score = score;\r\n\t}\r\n\r\n\r\n\tpublic String getResult()\r\n\t{\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n\tpublic void setResult(String result)\r\n\t{\r\n\t\tthis.result = result;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n\r\npackage driver;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Driver\r\n{\r\n\r\n\tpublic static int counter = 0;\r\n\r\n\tpublic static void output(Person[] people)\r\n\t{\r\n\t\tfor (int i = 0; i &lt; people.length; i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(people[i].getName() + &quot; - &quot; + people[i].getScore() + &quot; - &quot; + people[i].getResult());\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic static void getInfo(Person[] people)\r\n\t{\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\t\tString name = &quot;&quot;;\r\n\t\tint score = 0;\r\n\r\n\t\tSystem.out.println(&quot;Enter name: &quot;);\r\n\t\tname = scnr.next();\r\n\r\n\t\tSystem.out.println(&quot;Enter score: &quot;);\r\n\t\tscore = scnr.nextInt();\r\n\r\n\t\tPerson person = new Person(name, score);\r\n\t\tpeople[counter] = person;\r\n\t\tcounter++;\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tScanner scnr = new Scanner(System.in);\r\n\r\n\t\tSystem.out.println(&quot;How many entries do you wish to add?&quot;);\r\n\t\tint entries = scnr.nextInt();\r\n\r\n\t\tPerson people[] = new Person[entries];\r\n\r\n\t\tfor (int i = 0; i &lt; entries; i++)\r\n\t\t{\r\n\t\t\tgetInfo(people);\r\n\r\n\t\t}\r\n\r\n\t\toutput(people);\r\n\r\n\t\tscnr.close();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThis will allow you to enter however many people and scores you&#39;d like and you wont have to try and mess with three individual arrays. The issue doing it your way seems to be that you have to manage 3 individual arrays and ensure that each has the correct values at each and then managing them and accessing all three to output values. It can get messy to do it that way. Or you&#39;d have to possibly do multi dimensional arrays. So it seems to me a single array of Person objects is better. Anyway, I&#39;m learning but this is what I came up with tinkering with it.\r\n\r\nOUTPUT: \r\n```\r\nJeno - 78 - Passed\r\nJaemin - 58 - Failed\r\nJaehyun - 89 - Passed\r\n```","title":"Printing Int array and String array in one","body":"<p>I'd say that it depends on what exactly you're trying to do here. If your goal is to just print out the results, Tim's way will work. But its very short sighted and not really structured in any way. Just goofing around here but this is what I came up with in a pinch cause I was bored.</p>\n<pre><code>package driver;\n\npublic class Person\n{\n\n    private String name;\n    private int score;\n    private String result;\n\n    public Person(String name, int score)\n    {\n        this.name = name;\n        this.score = score;\n\n        if (this.score &lt; 60)\n        {\n            Person.this.setResult(&quot;Failed&quot;);\n        }\n        else\n        {\n            Person.this.setResult(&quot;Passed&quot;);\n        }\n    }\n\n\n    public String getName()\n    {\n        return name;\n    }\n\n\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n\n\n    public int getScore()\n    {\n        return score;\n    }\n\n\n    public void setScore(int score)\n    {\n        this.score = score;\n    }\n\n\n    public String getResult()\n    {\n        return result;\n    }\n\n\n    public void setResult(String result)\n    {\n        this.result = result;\n    }\n\n}\n\n</code></pre>\n<pre><code>\npackage driver;\n\nimport java.util.Scanner;\n\npublic class Driver\n{\n\n    public static int counter = 0;\n\n    public static void output(Person[] people)\n    {\n        for (int i = 0; i &lt; people.length; i++)\n        {\n            System.out.println(people[i].getName() + &quot; - &quot; + people[i].getScore() + &quot; - &quot; + people[i].getResult());\n        }\n    }\n\n\n    public static void getInfo(Person[] people)\n    {\n        Scanner scnr = new Scanner(System.in);\n        String name = &quot;&quot;;\n        int score = 0;\n\n        System.out.println(&quot;Enter name: &quot;);\n        name = scnr.next();\n\n        System.out.println(&quot;Enter score: &quot;);\n        score = scnr.nextInt();\n\n        Person person = new Person(name, score);\n        people[counter] = person;\n        counter++;\n    }\n\n\n    public static void main(String[] args)\n    {\n        Scanner scnr = new Scanner(System.in);\n\n        System.out.println(&quot;How many entries do you wish to add?&quot;);\n        int entries = scnr.nextInt();\n\n        Person people[] = new Person[entries];\n\n        for (int i = 0; i &lt; entries; i++)\n        {\n            getInfo(people);\n\n        }\n\n        output(people);\n\n        scnr.close();\n    }\n}\n\n</code></pre>\n<p>This will allow you to enter however many people and scores you'd like and you wont have to try and mess with three individual arrays. The issue doing it your way seems to be that you have to manage 3 individual arrays and ensure that each has the correct values at each and then managing them and accessing all three to output values. It can get messy to do it that way. Or you'd have to possibly do multi dimensional arrays. So it seems to me a single array of Person objects is better. Anyway, I'm learning but this is what I came up with tinkering with it.</p>\n<p>OUTPUT:</p>\n<pre><code>Jeno - 78 - Passed\nJaemin - 58 - Failed\nJaehyun - 89 - Passed\n</code></pre>\n"}],"owner":{"account_id":23261124,"reputation":23,"user_id":17347365,"display_name":"Boomchakamae2334"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73876559,"answer_count":2,"score":1,"last_activity_date":1664348649,"creation_date":1664342622,"question_id":73876509,"body_markdown":"I can&#39;t able to print both the arrays at the same time it always come out with\r\n\r\n[Jeno, Jaemin, Jaehyun][78, 59, 89][Passed, Failed, Passed]\r\n\r\nI wanted it to print out like this\r\n\r\n    Jeno - 78 - Passed\r\n    Jaemin - 59 - Failed\r\n    Jaehyun - 89 - Passed\r\n\r\nSource code:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class PracticeArray {\r\n    \tpublic static int [] arr5 = {78,58,89};\r\n        public static String names[] = {&quot;Jeno&quot;, &quot;Jaemin&quot;, &quot;Jaehyun&quot;};\r\n        public static String result[] = {&quot;Passed&quot;, &quot;Failed&quot;, &quot; Passed&quot;};\r\n        \r\n        public static void main (String [] args)\r\n        {\r\n        \tSystem.out.println(Arrays.toString(names) +&quot; - &quot;+ Arrays.toString(arr5) +&quot; - &quot;+ Arrays.toString(result));\r\n        }\r\n    }","title":"Printing Int array and String array in one","body":"<p>I can't able to print both the arrays at the same time it always come out with</p>\n<p>[Jeno, Jaemin, Jaehyun][78, 59, 89][Passed, Failed, Passed]</p>\n<p>I wanted it to print out like this</p>\n<pre><code>Jeno - 78 - Passed\nJaemin - 59 - Failed\nJaehyun - 89 - Passed\n</code></pre>\n<p>Source code:</p>\n<pre><code>import java.util.Arrays;\n\npublic class PracticeArray {\n    public static int [] arr5 = {78,58,89};\n    public static String names[] = {&quot;Jeno&quot;, &quot;Jaemin&quot;, &quot;Jaehyun&quot;};\n    public static String result[] = {&quot;Passed&quot;, &quot;Failed&quot;, &quot; Passed&quot;};\n    \n    public static void main (String [] args)\n    {\n        System.out.println(Arrays.toString(names) +&quot; - &quot;+ Arrays.toString(arr5) +&quot; - &quot;+ Arrays.toString(result));\n    }\n}\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":392969,"reputation":6565,"user_id":754559,"accept_rate":83,"display_name":"Alan Moore"},"score":5,"creation_date":1316370301,"post_id":7463414,"comment_id":9029739,"body_markdown":"Why are you using XMLSerializer for a JSON file?","body":"Why are you using XMLSerializer for a JSON file?"},{"owner":{"account_id":287407,"reputation":11529,"user_id":587196,"accept_rate":67,"display_name":"Larry"},"score":0,"creation_date":1316370520,"post_id":7463414,"comment_id":9029770,"body_markdown":"That was the only place I could find it read a file, the Javadoc says: `readFromFile(String path) Creates a JSON value from a File.`","body":"That was the only place I could find it read a file, the Javadoc says: <code>readFromFile(String path) Creates a JSON value from a File.</code>"},{"owner":{"account_id":392969,"reputation":6565,"user_id":754559,"accept_rate":83,"display_name":"Alan Moore"},"score":0,"creation_date":1316377025,"post_id":7463414,"comment_id":9030854,"body_markdown":"I see, I would probably just read the file as a normal text, convert to a string and then JSONObject.  However, I see you already have a better looking solution than that :)","body":"I see, I would probably just read the file as a normal text, convert to a string and then JSONObject.  However, I see you already have a better looking solution than that :)"}],"answers":[{"tags":[],"owner":{"account_id":242656,"reputation":26086,"user_id":514316,"accept_rate":80,"display_name":"TheOneTeam"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1537018734,"creation_date":1316370731,"answer_id":7463501,"question_id":7463414,"body_markdown":"try this:\r\n\r\n    import net.sf.json.JSONObject;\r\n    import net.sf.json.JSONSerializer;\r\n    import org.apache.commons.io.IOUtils; \r\n    \r\n        public class JsonParsing {\r\n        \r\n            public static void main(String[] args) throws Exception {\r\n                InputStream is = \r\n                        JsonParsing.class.getResourceAsStream( &quot;sample-json.txt&quot;);\r\n                String jsonTxt = IOUtils.toString( is );\r\n                \r\n                JSONObject json = (JSONObject) JSONSerializer.toJSON( jsonTxt );        \r\n                double coolness = json.getDouble( &quot;coolness&quot; );\r\n                int altitude = json.getInt( &quot;altitude&quot; );\r\n                JSONObject pilot = json.getJSONObject(&quot;pilot&quot;);\r\n                String firstName = pilot.getString(&quot;firstName&quot;);\r\n                String lastName = pilot.getString(&quot;lastName&quot;);\r\n                \r\n                System.out.println( &quot;Coolness: &quot; + coolness );\r\n                System.out.println( &quot;Altitude: &quot; + altitude );\r\n                System.out.println( &quot;Pilot: &quot; + lastName );\r\n            }\r\n        }\r\n\r\n\r\nand this is your sample-json.txt , should be in json format\r\n\r\n    {\r\n     &#39;foo&#39;:&#39;bar&#39;,\r\n     &#39;coolness&#39;:2.0,\r\n     &#39;altitude&#39;:39000,\r\n     &#39;pilot&#39;:\r\n         {\r\n             &#39;firstName&#39;:&#39;Buzz&#39;,\r\n             &#39;lastName&#39;:&#39;Aldrin&#39;\r\n         },\r\n     &#39;mission&#39;:&#39;apollo 11&#39;\r\n    }","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>try this:</p>\n\n<pre><code>import net.sf.json.JSONObject;\nimport net.sf.json.JSONSerializer;\nimport org.apache.commons.io.IOUtils; \n\n    public class JsonParsing {\n\n        public static void main(String[] args) throws Exception {\n            InputStream is = \n                    JsonParsing.class.getResourceAsStream( \"sample-json.txt\");\n            String jsonTxt = IOUtils.toString( is );\n\n            JSONObject json = (JSONObject) JSONSerializer.toJSON( jsonTxt );        \n            double coolness = json.getDouble( \"coolness\" );\n            int altitude = json.getInt( \"altitude\" );\n            JSONObject pilot = json.getJSONObject(\"pilot\");\n            String firstName = pilot.getString(\"firstName\");\n            String lastName = pilot.getString(\"lastName\");\n\n            System.out.println( \"Coolness: \" + coolness );\n            System.out.println( \"Altitude: \" + altitude );\n            System.out.println( \"Pilot: \" + lastName );\n        }\n    }\n</code></pre>\n\n<p>and this is your sample-json.txt , should be in json format</p>\n\n<pre><code>{\n 'foo':'bar',\n 'coolness':2.0,\n 'altitude':39000,\n 'pilot':\n     {\n         'firstName':'Buzz',\n         'lastName':'Aldrin'\n     },\n 'mission':'apollo 11'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233797,"reputation":1898,"user_id":499528,"accept_rate":50,"display_name":"janoulle"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1507656908,"creation_date":1384933282,"answer_id":20090084,"question_id":7463414,"body_markdown":"Thanks @Kit Ho for your answer. I used your code and found that I kept running into errors where my InputStream was always null and ClassNotFound exceptions when the JSONObject was being created. Here&#39;s my version of your code which does the trick for me:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import org.apache.commons.io.IOUtils;\r\n\r\n    import org.json.JSONObject;\r\n    public class JSONParsing {\r\n\t    public static void main(String[] args) throws Exception {\r\n\t\t    File f = new File(&quot;file.json&quot;);\r\n\t\t    if (f.exists()){\r\n\t\t\t    InputStream is = new FileInputStream(&quot;file.json&quot;);\r\n\t\t\t    String jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\r\n\t\t\t    System.out.println(jsonTxt);\r\n\t\t\t    JSONObject json = new JSONObject(jsonTxt);       \r\n\t\t\t    String a = json.getString(&quot;1000&quot;);\r\n\t\t\t    System.out.println(a);   \r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nI found this answer to be enlightening about the [difference between FileInputStream and getResourceAsStream][1]. Hope this helps someone else too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2308188/getresourceasstream-vs-fileinputstream/","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>Thanks @Kit Ho for your answer. I used your code and found that I kept running into errors where my InputStream was always null and ClassNotFound exceptions when the JSONObject was being created. Here's my version of your code which does the trick for me:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.InputStream;\nimport org.apache.commons.io.IOUtils;\n\nimport org.json.JSONObject;\npublic class JSONParsing {\n    public static void main(String[] args) throws Exception {\n        File f = new File(\"file.json\");\n        if (f.exists()){\n            InputStream is = new FileInputStream(\"file.json\");\n            String jsonTxt = IOUtils.toString(is, \"UTF-8\");\n            System.out.println(jsonTxt);\n            JSONObject json = new JSONObject(jsonTxt);       \n            String a = json.getString(\"1000\");\n            System.out.println(a);   \n        }\n    }\n}\n</code></pre>\n\n<p>I found this answer to be enlightening about the <a href=\"https://stackoverflow.com/questions/2308188/getresourceasstream-vs-fileinputstream/\">difference between FileInputStream and getResourceAsStream</a>. Hope this helps someone else too.</p>\n"},{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1490783556,"creation_date":1490783556,"answer_id":43091074,"question_id":7463414,"body_markdown":"With java 8 you can try this:\r\n\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class JSONUtil {\r\n    \r\n        public static JSONObject parseJSONFile(String filename) throws JSONException, IOException {\r\n            String content = new String(Files.readAllBytes(Paths.get(filename)));\r\n            return new JSONObject(content);\r\n        }\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException, JSONException {\r\n            String filename = &quot;path/to/file/abc.json&quot;;\r\n            JSONObject jsonObject = parseJSONFile(filename);\r\n    \t\t\r\n    \t\t//do anything you want with jsonObject\r\n        }\r\n    }","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>With java 8 you can try this:</p>\n\n<pre><code>import org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class JSONUtil {\n\n    public static JSONObject parseJSONFile(String filename) throws JSONException, IOException {\n        String content = new String(Files.readAllBytes(Paths.get(filename)));\n        return new JSONObject(content);\n    }\n\n    public static void main(String[] args) throws IOException, JSONException {\n        String filename = \"path/to/file/abc.json\";\n        JSONObject jsonObject = parseJSONFile(filename);\n\n        //do anything you want with jsonObject\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1678249,"reputation":518,"user_id":1543244,"accept_rate":100,"display_name":"Antariksh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490784794,"creation_date":1490784794,"answer_id":43091496,"question_id":7463414,"body_markdown":"Another way of doing the same could be using the Gson Class\r\n\r\n    String filename = &quot;path/to/file/abc.json&quot;;\r\n    Gson gson = new Gson();\r\n    JsonReader reader = new JsonReader(new FileReader(filename));\r\n    SampleClass data = gson.fromJson(reader, SampleClass.class);\r\n\r\nThis will give an object obtained after parsing the json string to work with.","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>Another way of doing the same could be using the Gson Class</p>\n\n<pre><code>String filename = \"path/to/file/abc.json\";\nGson gson = new Gson();\nJsonReader reader = new JsonReader(new FileReader(filename));\nSampleClass data = gson.fromJson(reader, SampleClass.class);\n</code></pre>\n\n<p>This will give an object obtained after parsing the json string to work with.</p>\n"},{"tags":[],"owner":{"account_id":450009,"reputation":1499,"user_id":845117,"display_name":"Dirk Schumacher"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620894081,"creation_date":1590862558,"answer_id":62106829,"question_id":7463414,"body_markdown":"On __Google&#39;e Gson__ library, for having a `JsonObject`, or more abstract a `JsonElement`:\r\n\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonParser;\r\n\r\n    JsonElement json = JsonParser.parseReader( new InputStreamReader(new FileInputStream(&quot;/someDir/someFile.json&quot;), &quot;UTF-8&quot;) );\r\n\r\nThis is not demanding a given Object structure for receiving/reading the json string.\r\n\r\nEdit 2021-May-13:\r\nAs I commented myself: This solution does not properly take care of closing streams!  \r\nThis does:  \r\n\r\n    JsonElement json = null;\r\n    try (Reader reader = new InputStreamReader(new FileInputStream(&quot;/someDir/someFile.json&quot;), &quot;UTF-8&quot;)) {\r\n        json = JsonParser.parseReader( reader );\r\n    } catch (Exception e) {\r\n        // do something\r\n    }\r\n\r\nAs one can see the code gets bloated when doing correctly. I would clean-code move the &#39;loading of a json from a file&#39; into a FileUtils.class; which probably already exists and does super nice adjustable Exception handling... \r\n","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>On <strong>Google'e Gson</strong> library, for having a <code>JsonObject</code>, or more abstract a <code>JsonElement</code>:</p>\n<pre><code>import com.google.gson.JsonElement;\nimport com.google.gson.JsonParser;\n\nJsonElement json = JsonParser.parseReader( new InputStreamReader(new FileInputStream(&quot;/someDir/someFile.json&quot;), &quot;UTF-8&quot;) );\n</code></pre>\n<p>This is not demanding a given Object structure for receiving/reading the json string.</p>\n<p>Edit 2021-May-13:\nAs I commented myself: This solution does not properly take care of closing streams!<br />\nThis does:</p>\n<pre><code>JsonElement json = null;\ntry (Reader reader = new InputStreamReader(new FileInputStream(&quot;/someDir/someFile.json&quot;), &quot;UTF-8&quot;)) {\n    json = JsonParser.parseReader( reader );\n} catch (Exception e) {\n    // do something\n}\n</code></pre>\n<p>As one can see the code gets bloated when doing correctly. I would clean-code move the 'loading of a json from a file' into a FileUtils.class; which probably already exists and does super nice adjustable Exception handling...</p>\n"},{"tags":[],"owner":{"account_id":20439837,"reputation":11,"user_id":14996845,"display_name":"Nee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614680356,"creation_date":1614679503,"answer_id":66437216,"question_id":7463414,"body_markdown":"Example of json which I am using: \r\n\r\n    &quot;identity&quot; : {\r\n      &quot;presentProvince&quot; : [ {\r\n        &quot;language&quot; : &quot;eng&quot;,\r\n        &quot;value&quot; : &quot;China&quot;\r\n      } ],\r\n      &quot;presentAddressLine1&quot; : [ {\r\n        &quot;language&quot; : &quot;eng&quot;,\r\n        &quot;value&quot; : &quot;bjbjbhjbhj&quot;\r\n      } ],\r\n     &quot;permanentAddressLine4&quot; : [ {\r\n        &quot;language&quot; : &quot;eng&quot;,\r\n        &quot;value&quot; : &quot;123456&quot;\r\n      } ]\r\n    } } \r\n   \r\nHere is the code to access language and value:\r\n\r\n    public static void JsonObjParsing() throws Exception {\r\n        File f = new File(&quot;id.json&quot;);\r\n        if (f.exists()){\r\n            InputStream is = new FileInputStream(f);\r\n            String jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\r\n            System.out.println(jsonTxt);\r\n                \r\n                \r\n            JSONObject json = new JSONObject(jsonTxt); \r\n               \r\n            JSONObject identity = json.getJSONObject(&quot;identity&quot;);\r\n                \r\n                \r\n            JSONArray identityitems = identity.getJSONArray(&quot;presentProvince&quot;);\r\n            for (Object o : identityitems) {\r\n                JSONObject jsonLineItem = (JSONObject) o;\r\n                String language = jsonLineItem.getString(&quot;language&quot;);\r\n                String value = jsonLineItem.getString(&quot;value&quot;);\r\n                System.out.println(language +&quot; &quot; + value);\r\n            }\r\n        } \r\n    }\r\n    \r\n    \r\n    public static void main(String[] args) throws Exception {\r\n    \tJsonObjParsing();\r\n\t}","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>Example of json which I am using:</p>\n<pre><code>&quot;identity&quot; : {\n  &quot;presentProvince&quot; : [ {\n    &quot;language&quot; : &quot;eng&quot;,\n    &quot;value&quot; : &quot;China&quot;\n  } ],\n  &quot;presentAddressLine1&quot; : [ {\n    &quot;language&quot; : &quot;eng&quot;,\n    &quot;value&quot; : &quot;bjbjbhjbhj&quot;\n  } ],\n &quot;permanentAddressLine4&quot; : [ {\n    &quot;language&quot; : &quot;eng&quot;,\n    &quot;value&quot; : &quot;123456&quot;\n  } ]\n} } \n</code></pre>\n<p>Here is the code to access language and value:</p>\n<pre><code>public static void JsonObjParsing() throws Exception {\n    File f = new File(&quot;id.json&quot;);\n    if (f.exists()){\n        InputStream is = new FileInputStream(f);\n        String jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\n        System.out.println(jsonTxt);\n            \n            \n        JSONObject json = new JSONObject(jsonTxt); \n           \n        JSONObject identity = json.getJSONObject(&quot;identity&quot;);\n            \n            \n        JSONArray identityitems = identity.getJSONArray(&quot;presentProvince&quot;);\n        for (Object o : identityitems) {\n            JSONObject jsonLineItem = (JSONObject) o;\n            String language = jsonLineItem.getString(&quot;language&quot;);\n            String value = jsonLineItem.getString(&quot;value&quot;);\n            System.out.println(language +&quot; &quot; + value);\n        }\n    } \n}\n\n\npublic static void main(String[] args) throws Exception {\n    JsonObjParsing();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639060412,"creation_date":1639060412,"answer_id":70291696,"question_id":7463414,"body_markdown":"A way of getting both array of json in file or simply json would be\r\n\r\n    InputStream inputStream= Employee.class.getResourceAsStream(&quot;/file.json&quot;);\r\n    CollectionType collectionType = mapper.getTypeFactory().constructCollectionType(List.class, Employee.class);\r\n    \r\n    List&lt;Employee&gt; lstEmployees = mapper.readValue(inputStream, collectionType);\r\n\r\nThe file.json needs to be placed in the resources folder. If your file only has a json block without json array square brackets [] , you can skip the CollectionType\r\n\r\n    InputStream inputStream= Employee.class.getResourceAsStream(&quot;/file.json&quot;);\r\n    Employee employee = mapper.readValue(inputStream, Employee.class);\r\n\r\nAlso refer here for original [answer][1] from where I have drawn.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48802352/convert-inputstream-to-list-of-objects","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>A way of getting both array of json in file or simply json would be</p>\n<pre><code>InputStream inputStream= Employee.class.getResourceAsStream(&quot;/file.json&quot;);\nCollectionType collectionType = mapper.getTypeFactory().constructCollectionType(List.class, Employee.class);\n\nList&lt;Employee&gt; lstEmployees = mapper.readValue(inputStream, collectionType);\n</code></pre>\n<p>The file.json needs to be placed in the resources folder. If your file only has a json block without json array square brackets [] , you can skip the CollectionType</p>\n<pre><code>InputStream inputStream= Employee.class.getResourceAsStream(&quot;/file.json&quot;);\nEmployee employee = mapper.readValue(inputStream, Employee.class);\n</code></pre>\n<p>Also refer here for original <a href=\"https://stackoverflow.com/questions/48802352/convert-inputstream-to-list-of-objects\">answer</a> from where I have drawn.</p>\n"},{"tags":[],"owner":{"account_id":24190393,"reputation":1,"user_id":18149656,"display_name":"Himanshu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644310178,"creation_date":1644310178,"answer_id":71030936,"question_id":7463414,"body_markdown":"    import org.springframework.transaction.annotation.Transactional;\r\n    import org.springframework.core.io.ByteArrayResource;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.io.File;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import net.minidev.json.JSONObject;\r\n        \r\n        String filename = &quot;xyz.json&quot;;\r\n        \r\n        @Transactional\r\n        \tpublic Object getFileInternalJsonData(String filename) {\r\n        \t\ttry {\r\n        \t\t\tByteArrayResource inputStream = new ByteArrayResource(Files.readAllBytes(Paths.get(&quot;D:\\MyData\\test\\&quot; + File.separator + filename)));\r\n        \t\t\treturn new ObjectMapper().readValue(inputStream.getInputStream(), Object.class);\r\n        \t\t} catch (Exception e) {\r\n        \t\t\treturn new JSONObject().appendField(&quot;error&quot;, e.getMessage());\r\n        \t\t}\r\n        \t}","title":"What’s the best way to load a JSONObject from a json text file?","body":"<pre><code>import org.springframework.transaction.annotation.Transactional;\nimport org.springframework.core.io.ByteArrayResource;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.io.File;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport net.minidev.json.JSONObject;\n    \n    String filename = &quot;xyz.json&quot;;\n    \n    @Transactional\n        public Object getFileInternalJsonData(String filename) {\n            try {\n                ByteArrayResource inputStream = new ByteArrayResource(Files.readAllBytes(Paths.get(&quot;D:\\MyData\\test\\&quot; + File.separator + filename)));\n                return new ObjectMapper().readValue(inputStream.getInputStream(), Object.class);\n            } catch (Exception e) {\n                return new JSONObject().appendField(&quot;error&quot;, e.getMessage());\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7594758,"reputation":8039,"user_id":5761243,"display_name":"Muhammed Fasil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664348299,"creation_date":1664348299,"answer_id":73877363,"question_id":7463414,"body_markdown":"You can try the below code, the main advantage for this code is you don&#39;t need to use any external dependency like **org.json.simple** \r\n\r\n    String resourceName = &quot;response.json&quot;;\r\n            //InputStream is = JSONMapperImpl.class.getResourceAsStream(resourceName);\r\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n            InputStream resourceStream = loader.getResourceAsStream(resourceName);\r\n            if (resourceStream == null) {\r\n                throw new NullPointerException(&quot;Cannot find resource file &quot; + resourceName);\r\n            }\r\n    \r\n            JSONTokener tokenizer = new JSONTokener(resourceStream);\r\n            JSONObject object = new JSONObject(tokenizer);\r\n\r\nIf you are facing any dependency issue then please add below dependency in your pom.xml file \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20220924&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>You can try the below code, the main advantage for this code is you don't need to use any external dependency like <strong>org.json.simple</strong></p>\n<pre><code>String resourceName = &quot;response.json&quot;;\n        //InputStream is = JSONMapperImpl.class.getResourceAsStream(resourceName);\n        ClassLoader loader = Thread.currentThread().getContextClassLoader();\n        InputStream resourceStream = loader.getResourceAsStream(resourceName);\n        if (resourceStream == null) {\n            throw new NullPointerException(&quot;Cannot find resource file &quot; + resourceName);\n        }\n\n        JSONTokener tokenizer = new JSONTokener(resourceStream);\n        JSONObject object = new JSONObject(tokenizer);\n</code></pre>\n<p>If you are facing any dependency issue then please add below dependency in your pom.xml file</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20220924&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":287407,"reputation":11529,"user_id":587196,"accept_rate":67,"display_name":"Larry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237937,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":7463501,"answer_count":9,"score":48,"last_activity_date":1664348299,"creation_date":1316370014,"question_id":7463414,"body_markdown":"What would be the easiest way to load a file containing JSON into a JSONObject.\r\n\r\nAt the moment I am using json-lib.\r\n\r\nThis is what I have, but it throws an exception:\r\n\r\n    XMLSerializer xml = new XMLSerializer();\r\n    JSON json = xml.readFromFile(&quot;samples/sample7.json”);     //line 507\r\n    System.out.println(json.toString(2));\r\n\r\nThe output is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.io.Reader.&lt;init&gt;(Reader.java:61)\r\n    \tat java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:55)\r\n    \tat net.sf.json.xml.XMLSerializer.readFromStream(XMLSerializer.java:386)\r\n    \tat net.sf.json.xml.XMLSerializer.readFromFile(XMLSerializer.java:370)\r\n    \tat corebus.test.deprecated.TestMain.main(TestMain.java:507)","title":"What’s the best way to load a JSONObject from a json text file?","body":"<p>What would be the easiest way to load a file containing JSON into a JSONObject.</p>\n\n<p>At the moment I am using json-lib.</p>\n\n<p>This is what I have, but it throws an exception:</p>\n\n<pre><code>XMLSerializer xml = new XMLSerializer();\nJSON json = xml.readFromFile(\"samples/sample7.json”);     //line 507\nSystem.out.println(json.toString(2));\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\n    at java.io.Reader.&lt;init&gt;(Reader.java:61)\n    at java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:55)\n    at net.sf.json.xml.XMLSerializer.readFromStream(XMLSerializer.java:386)\n    at net.sf.json.xml.XMLSerializer.readFromFile(XMLSerializer.java:370)\n    at corebus.test.deprecated.TestMain.main(TestMain.java:507)\n</code></pre>\n"},{"tags":["java","azure","databricks"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664210236,"post_id":73850191,"comment_id":130414144,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26443339,"reputation":1,"user_id":20087490,"display_name":"DIVYA K"},"score":0,"creation_date":1664278656,"post_id":73850191,"comment_id":130430038,"body_markdown":"In azure databricks, we are opening python file that we store in file storage. Now, we want those python files to be maintained in different sub directories and open the python file from those directories. For that, we need to create sub directories in azure databricks.","body":"In azure databricks, we are opening python file that we store in file storage. Now, we want those python files to be maintained in different sub directories and open the python file from those directories. For that, we need to create sub directories in azure databricks."}],"owner":{"account_id":26443339,"reputation":1,"user_id":20087490,"display_name":"DIVYA K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664346380,"creation_date":1664172874,"question_id":73850191,"body_markdown":"Currently we are working on a requirement, where we need to create sub directories in azure data bricks using java.\r\n\r\nFrom Databricks UI, we are able to create subdirectory. Whether we can create subdirectory from Java code.\r\n\r\n[folders created from databricks UI][1]\r\n[file inside created folder][2]\r\n\r\nUsing curl command, we are able to create subdirectory from terminal. But, when we use ProcessBuilder in Java code it is not creating subdirectory.\r\n\r\nCurl command for reference :\r\n\r\ncurl -n -X POST -H &#39;Authorization: Bearer ***&#39; -H &#39;Content-Type: application/json&#39; -d &#39;{ &quot;path&quot;:&quot;/Users/*.com/testfolder4&quot; }&#39; https://***.azuredatabricks.net/api/2.0/workspace/mkdirs\r\n\r\n  [1]: https://i.stack.imgur.com/XzmJh.png\r\n  [2]: https://i.stack.imgur.com/CZTnA.png","title":"Create sub directory in data bricks using java / spring boot","body":"<p>Currently we are working on a requirement, where we need to create sub directories in azure data bricks using java.</p>\n<p>From Databricks UI, we are able to create subdirectory. Whether we can create subdirectory from Java code.</p>\n<p><a href=\"https://i.stack.imgur.com/XzmJh.png\" rel=\"nofollow noreferrer\">folders created from databricks UI</a>\n<a href=\"https://i.stack.imgur.com/CZTnA.png\" rel=\"nofollow noreferrer\">file inside created folder</a></p>\n<p>Using curl command, we are able to create subdirectory from terminal. But, when we use ProcessBuilder in Java code it is not creating subdirectory.</p>\n<p>Curl command for reference :</p>\n<p>curl -n -X POST -H 'Authorization: Bearer <strong><em>' -H 'Content-Type: application/json' -d '{ &quot;path&quot;:&quot;/Users/</em>.com/testfolder4&quot; }' https://</strong>*.azuredatabricks.net/api/2.0/workspace/mkdirs</p>\n"},{"tags":["java","arrays","loops","compare"],"comments":[{"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"score":4,"creation_date":1323042206,"post_id":8379510,"comment_id":10341903,"body_markdown":"Smells like homework to me. What have you got so far?","body":"Smells like homework to me. What have you got so far?"},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1323042299,"post_id":8379510,"comment_id":10341920,"body_markdown":"What is the output you&#39;re trying to produce?","body":"What is the output you&#39;re trying to produce?"}],"answers":[{"tags":[],"owner":{"account_id":991233,"reputation":8691,"user_id":1008481,"accept_rate":91,"display_name":"Roman Byshko"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1508637312,"creation_date":1323042223,"answer_id":8379538,"question_id":8379510,"body_markdown":"Yes, you need two loops, and yes, nested.\r\n\r\n*pseudocode* it will look like:\r\n\r\n    for each in A do\r\n        for each in B do\r\n           if (current item of A equals to current item of B)\r\n               say yes!\r\n        done\r\n    done\r\n\r\nNow everything you need is to translate it to `Java`. Since it sounds like a homework or some exercise you should do it by yourself.\r\n\r\nAlso, think about what output you need. If you just need a true/false whether `a` and `b` have some common values, then you can exit the loops as soon as you find the first match. If instead you need to count the number of common elements between the arrays, you&#39;ll need to throw a counter into that set of nested loops. I&#39;ll leave it up to you to figure out that portion.","title":"Finding duplicate values between two arrays","body":"<p>Yes, you need two loops, and yes, nested.</p>\n\n<p><em>pseudocode</em> it will look like:</p>\n\n<pre><code>for each in A do\n    for each in B do\n       if (current item of A equals to current item of B)\n           say yes!\n    done\ndone\n</code></pre>\n\n<p>Now everything you need is to translate it to <code>Java</code>. Since it sounds like a homework or some exercise you should do it by yourself.</p>\n\n<p>Also, think about what output you need. If you just need a true/false whether <code>a</code> and <code>b</code> have some common values, then you can exit the loops as soon as you find the first match. If instead you need to count the number of common elements between the arrays, you'll need to throw a counter into that set of nested loops. I'll leave it up to you to figure out that portion.</p>\n"},{"tags":[],"owner":{"account_id":1084650,"reputation":2901,"user_id":1080648,"accept_rate":87,"display_name":"Jon Story"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1323042435,"creation_date":1323042435,"answer_id":8379552,"question_id":8379510,"body_markdown":"You just need two nested for loops\r\n\r\n    for(int i = 0; i &lt; a.length; i++)\r\n    {\r\n        for(int j = 0; j &lt; b.length; j++)\r\n        {\r\n            if(a[i] == b[j])\r\n            {\r\n                //value is in both arrays\r\n            }\r\n        }\r\n    }\r\n\r\nWhat this does is  go to the first value of a and compare to each value in b, then go to the next value of a and repeat.","title":"Finding duplicate values between two arrays","body":"<p>You just need two nested for loops</p>\n\n<pre><code>for(int i = 0; i &lt; a.length; i++)\n{\n    for(int j = 0; j &lt; b.length; j++)\n    {\n        if(a[i] == b[j])\n        {\n            //value is in both arrays\n        }\n    }\n}\n</code></pre>\n\n<p>What this does is  go to the first value of a and compare to each value in b, then go to the next value of a and repeat.</p>\n"},{"tags":[],"owner":{"account_id":977757,"reputation":18124,"user_id":998299,"display_name":"AusCBloke"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1323042478,"creation_date":1323042478,"answer_id":8379557,"question_id":8379510,"body_markdown":"Since you haven&#39;t got this tagged as homework, I&#39;ll give you the benefit of the doubt. As you said you&#39;ll need two loops; loop `foreach` `int` in `a[]` and `foreach` `int` in `b[]`. Then just compare the two values at each iteration, which gives you the simple code of:\r\n\r\n    for (int x : a) {\r\n       for (int y : b) {\r\n          if (x == y) {\r\n             System.out.println(&quot;a[] and b[] both contain &quot; + x);\r\n          }\r\n       }\r\n    }","title":"Finding duplicate values between two arrays","body":"<p>Since you haven't got this tagged as homework, I'll give you the benefit of the doubt. As you said you'll need two loops; loop <code>foreach</code> <code>int</code> in <code>a[]</code> and <code>foreach</code> <code>int</code> in <code>b[]</code>. Then just compare the two values at each iteration, which gives you the simple code of:</p>\n\n<pre><code>for (int x : a) {\n   for (int y : b) {\n      if (x == y) {\n         System.out.println(\"a[] and b[] both contain \" + x);\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1323042995,"creation_date":1323042995,"answer_id":8379600,"question_id":8379510,"body_markdown":"Depending on the data (its size, whether every value is unique, etc) and what you&#39;re trying to get from it (ie, whether each element of a is in b, or also its index in b), it may be beneficial to do a bit of overhead work before you do the meat of it. For instance, if you sort both arrays (which you&#39;ll only need to do once), you can start the inner loop where you stopped it last (since you know that you&#39;re looking for a number &gt;= the one you looked for last, so it&#39;s got to be at this index or greater), and you can also stop the inner loop sooner (since you know that if you&#39;re looking for X and you haven&#39;t found it before seeing a value &gt; X, then X isn&#39;t there). Another approach would be to load both values into a Set, which you can now probe efficiently.","title":"Finding duplicate values between two arrays","body":"<p>Depending on the data (its size, whether every value is unique, etc) and what you're trying to get from it (ie, whether each element of a is in b, or also its index in b), it may be beneficial to do a bit of overhead work before you do the meat of it. For instance, if you sort both arrays (which you'll only need to do once), you can start the inner loop where you stopped it last (since you know that you're looking for a number >= the one you looked for last, so it's got to be at this index or greater), and you can also stop the inner loop sooner (since you know that if you're looking for X and you haven't found it before seeing a value > X, then X isn't there). Another approach would be to load both values into a Set, which you can now probe efficiently.</p>\n"},{"tags":[],"owner":{"account_id":1410410,"reputation":1487,"user_id":1337136,"display_name":"erikreed"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1334754867,"creation_date":1334704308,"answer_id":10200537,"question_id":8379510,"body_markdown":"These solutions all take O(n^2) time. You should leverage a hashmap/hashset for a substantially faster O(n) solution:\r\n\r\n\r\n    void findDupes(int[] a, int[] b) {\r\n        HashSet&lt;Integer&gt; map = new HashSet&lt;Integer&gt;();\r\n        for (int i : a)\r\n            map.add(i);\r\n        for (int i : b) {\r\n            if (map.contains(i))\r\n                // found duplicate!   \r\n        }\r\n    }","title":"Finding duplicate values between two arrays","body":"<p>These solutions all take O(n^2) time. You should leverage a hashmap/hashset for a substantially faster O(n) solution:</p>\n\n<pre><code>void findDupes(int[] a, int[] b) {\n    HashSet&lt;Integer&gt; map = new HashSet&lt;Integer&gt;();\n    for (int i : a)\n        map.add(i);\n    for (int i : b) {\n        if (map.contains(i))\n            // found duplicate!   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14078448,"reputation":152,"user_id":10170112,"display_name":"Pablo Andr&#233;s Casta&#241;eda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598895444,"creation_date":1598895444,"answer_id":63675584,"question_id":8379510,"body_markdown":"\r\n\r\n    //O(n log(n)), Linear Space Complexity  \r\n    \r\n    void findDuplicates(int[] x, int[] y){\r\n    \tArrays.sort(x);\r\n    \tArrays.sort(y);\r\n    \tint i = 0,j = 0;\r\n    \twhile (i &lt; x.length &amp;&amp; j &lt; y.length) {\r\n    \t\tif(x[i] == y[j]){\r\n    \t\t\tSystem.out.println(x[i]);\r\n    \t\t\ti++;\r\n    \t\t\tj++;\r\n    \t    }else if (x[i] &lt; y[j])\r\n    \t\t\ti++;\r\n    \t\telse\r\n    \t\t\tj++;\r\n    \t}\r\n    }\r\n\r\n","title":"Finding duplicate values between two arrays","body":"<pre><code>//O(n log(n)), Linear Space Complexity  \n\nvoid findDuplicates(int[] x, int[] y){\n    Arrays.sort(x);\n    Arrays.sort(y);\n    int i = 0,j = 0;\n    while (i &lt; x.length &amp;&amp; j &lt; y.length) {\n        if(x[i] == y[j]){\n            System.out.println(x[i]);\n            i++;\n            j++;\n        }else if (x[i] &lt; y[j])\n            i++;\n        else\n            j++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26320651,"reputation":49,"user_id":19982705,"display_name":"Shaikot37"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664346363,"creation_date":1664346307,"answer_id":73877030,"question_id":8379510,"body_markdown":"```\r\nimport java.util.*;\r\nclass Test {\r\n    public static void main(String[] args) {\r\n        int[] a = {1,2,3,4,5};\r\n        int[] b = {4,5,6,7,8};\r\n        findDuplicate(a,b);\r\n    }\r\n    \r\n    static void findDuplicate(int[] a, int[] b){\r\n        HashMap&lt;Integer, Integer&gt; hash = new HashMap&lt;&gt;();\r\n        for(int i : a){\r\n            hash.put(i,1);\r\n        }\r\n        for(int j : b){\r\n            if(hash.containsKey(j)){\r\n                System.out.println(j);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Finding duplicate values between two arrays","body":"<pre><code>import java.util.*;\nclass Test {\n    public static void main(String[] args) {\n        int[] a = {1,2,3,4,5};\n        int[] b = {4,5,6,7,8};\n        findDuplicate(a,b);\n    }\n    \n    static void findDuplicate(int[] a, int[] b){\n        HashMap&lt;Integer, Integer&gt; hash = new HashMap&lt;&gt;();\n        for(int i : a){\n            hash.put(i,1);\n        }\n        for(int j : b){\n            if(hash.containsKey(j)){\n                System.out.println(j);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1079392,"reputation":317,"user_id":1076802,"accept_rate":45,"display_name":"user1076802"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53796,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":7,"score":6,"last_activity_date":1664346363,"creation_date":1323041914,"question_id":8379510,"body_markdown":"Let&#39;s say I have the following two arrays:\r\n\r\n    int[] a = [1,2,3,4,5];\r\n    int[] b = [8,1,3,9,4];\r\n\r\nI would like to take the first value of array `a` - 1 - and see if it is contained in array `b`. So, I would get that the &#39;1&#39; from `a` is in `b` even if it is not in the same position. Once I have gone through the comparison for the first element in `a`, I move on to the next number in array `a` and continue the process until I have completely gone through the first array.\r\n\r\nI know I need to do some looping (possibly nested?) but I can&#39;t quite figure out how I stick with just the first number in array `a` while looping through all the numbers in array `b`.\r\n\r\nThis seems to be fairly simple I just can&#39;t get my head around it...","title":"Finding duplicate values between two arrays","body":"<p>Let's say I have the following two arrays:</p>\n\n<pre><code>int[] a = [1,2,3,4,5];\nint[] b = [8,1,3,9,4];\n</code></pre>\n\n<p>I would like to take the first value of array <code>a</code> - 1 - and see if it is contained in array <code>b</code>. So, I would get that the '1' from <code>a</code> is in <code>b</code> even if it is not in the same position. Once I have gone through the comparison for the first element in <code>a</code>, I move on to the next number in array <code>a</code> and continue the process until I have completely gone through the first array.</p>\n\n<p>I know I need to do some looping (possibly nested?) but I can't quite figure out how I stick with just the first number in array <code>a</code> while looping through all the numbers in array <code>b</code>.</p>\n\n<p>This seems to be fairly simple I just can't get my head around it...</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":6635887,"reputation":1123,"user_id":5123074,"accept_rate":36,"display_name":"Александр Волошиновский"},"score":0,"creation_date":1664343178,"post_id":73876231,"comment_id":130446649,"body_markdown":"Did you try &quot;File-&gt;Invalidate Caches-&gt; Invalidate and restart&quot;?","body":"Did you try &quot;File-&gt;Invalidate Caches-&gt; Invalidate and restart&quot;?"},{"owner":{"account_id":25729604,"reputation":11,"user_id":19485392,"display_name":"Jemis Patel"},"score":0,"creation_date":1664348236,"post_id":73876231,"comment_id":130447948,"body_markdown":"yes , i do But that didn&#39;t work either","body":"yes , i do But that didn&#39;t work either"},{"owner":{"account_id":7302782,"reputation":158,"user_id":5564845,"display_name":"Saurabh"},"score":0,"creation_date":1665558856,"post_id":73876231,"comment_id":130725984,"body_markdown":"Check my answer here [Fixed initialize editor not working](https://stackoverflow.com/questions/73782792/failed-to-initialize-editor-when-update-android-studio/74037789#74037789)","body":"Check my answer here <a href=\"https://stackoverflow.com/questions/73782792/failed-to-initialize-editor-when-update-android-studio/74037789#74037789\">Fixed initialize editor not working</a>"}],"answers":[{"tags":[],"owner":{"account_id":18504694,"reputation":114,"user_id":13481265,"display_name":"Rishav Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664346220,"creation_date":1664346220,"answer_id":73877016,"question_id":73876231,"body_markdown":"File -&gt; Invalidate Cache -&gt; Restart\r\n\r\nSync Gradle/Clean Build","title":"How can fix the failed to initialize editor in android java","body":"<p>File -&gt; Invalidate Cache -&gt; Restart</p>\n<p>Sync Gradle/Clean Build</p>\n"}],"owner":{"account_id":25729604,"reputation":11,"user_id":19485392,"display_name":"Jemis Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664346220,"creation_date":1664339649,"question_id":73876231,"body_markdown":"After android dolphin apdate xml is dosen&#39;t work properly \r\n\r\nI found that problem - failed to initialize editor or layout preview dosn&#39;t show\r\n\r\ni tried this [link](https://stackoverflow.com/questions/73782792/failed-to-initialize-editor-when-update-android-studio/73784494#73784494) , but it dosn&#39;t work properly\r\n\r\nexample - [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LbPnI.png","title":"How can fix the failed to initialize editor in android java","body":"<p>After android dolphin apdate xml is dosen't work properly</p>\n<p>I found that problem - failed to initialize editor or layout preview dosn't show</p>\n<p>i tried this <a href=\"https://stackoverflow.com/questions/73782792/failed-to-initialize-editor-when-update-android-studio/73784494#73784494\">link</a> , but it dosn't work properly</p>\n<p>example - <a href=\"https://i.stack.imgur.com/LbPnI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LbPnI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","annotations","aspect"],"answers":[{"tags":[],"owner":{"account_id":18561496,"reputation":136,"user_id":13525411,"display_name":"Ezequiel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608228943,"creation_date":1608228943,"answer_id":65346196,"question_id":65345893,"body_markdown":"One option is to let the @Around definition less restrictive, add a restriction by package or something like that.\r\nInternally you can check if this is a Controller by this check bellow and then print the request/response:\r\n\r\n    @Pointcut(&quot;within(com.mypackage.controller..*)&quot;)\r\n    private void inControllerPackage() {\r\n    }\r\n\r\n    @Around(&quot;inControllerPackage()&quot;)\r\n    public Object logRequestResponse(ProceedingJoinPoint pjp) throws Throwable {\r\n        if (pjp.getSignature().getDeclaringType().isAnnotationPresent(RestController.class)) {\r\n           ...\r\n        } \r\n","title":"Invoke annotated aspect on all methods with a specific annotation","body":"<p>One option is to let the @Around definition less restrictive, add a restriction by package or something like that.\nInternally you can check if this is a Controller by this check bellow and then print the request/response:</p>\n<pre><code>@Pointcut(&quot;within(com.mypackage.controller..*)&quot;)\nprivate void inControllerPackage() {\n}\n\n@Around(&quot;inControllerPackage()&quot;)\npublic Object logRequestResponse(ProceedingJoinPoint pjp) throws Throwable {\n    if (pjp.getSignature().getDeclaringType().isAnnotationPresent(RestController.class)) {\n       ...\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4425071,"reputation":307,"user_id":3603757,"display_name":"adoalonso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664345963,"creation_date":1664345963,"answer_id":73876974,"question_id":65345893,"body_markdown":"Perhaps you should include the AOP in your controller-config\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n\txmlns:oxm=&quot;http://www.springframework.org/schema/oxm&quot;\r\n\txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd\r\n\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\r\n\t\thttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd\r\n\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd\r\n\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\r\n\t\thttp://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm-4.1.xsd\r\n\t\thttp://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.1.xsd&quot;&gt;\r\n\r\n\t&lt;mvc:default-servlet-handler /&gt;\r\n\r\n\t&lt;context:component-scan base-package=&quot;com.xyz.controller&quot; /&gt;\r\n\r\n\t&lt;aop:aspectj-autoproxy proxy-target-class=&quot;true&quot; /&gt;\r\n\r\n    &lt;bean id=&quot;whatever&quot; class=&quot;com.xyz.controller.MyRestController&quot;/&gt;\r\n\r\n&lt;/bean&gt;\r\n```\r\n\r\nand in your Aspect you can also include the within combined with annotation:\r\n\r\n```java\r\n@Around(value = &quot;@within(com.xyz.server.annotation.MyAnnotationForController) || @annotation(com.xyz.server.annotation.MyAnnotationForController)&quot;)\r\npublic Object ownersTimeZone(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    //whatever you need before\r\n    Object obj = joinPoint.proceed();\r\n    //whatever you need after\r\n    return obj;\r\n}\r\n\r\n```","title":"Invoke annotated aspect on all methods with a specific annotation","body":"<p>Perhaps you should include the AOP in your controller-config</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n    xmlns:oxm=&quot;http://www.springframework.org/schema/oxm&quot;\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.1.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.1.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\n        http://www.springframework.org/schema/oxm http://www.springframework.org/schema/oxm/spring-oxm-4.1.xsd\n        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.1.xsd&quot;&gt;\n\n    &lt;mvc:default-servlet-handler /&gt;\n\n    &lt;context:component-scan base-package=&quot;com.xyz.controller&quot; /&gt;\n\n    &lt;aop:aspectj-autoproxy proxy-target-class=&quot;true&quot; /&gt;\n\n    &lt;bean id=&quot;whatever&quot; class=&quot;com.xyz.controller.MyRestController&quot;/&gt;\n\n&lt;/bean&gt;\n</code></pre>\n<p>and in your Aspect you can also include the within combined with annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(value = &quot;@within(com.xyz.server.annotation.MyAnnotationForController) || @annotation(com.xyz.server.annotation.MyAnnotationForController)&quot;)\npublic Object ownersTimeZone(ProceedingJoinPoint joinPoint) throws Throwable {\n    //whatever you need before\n    Object obj = joinPoint.proceed();\n    //whatever you need after\n    return obj;\n}\n\n</code></pre>\n"}],"owner":{"account_id":7547368,"reputation":101,"user_id":5729921,"display_name":"PeXXeR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664345963,"creation_date":1608227559,"question_id":65345893,"body_markdown":"I have an application based on MVC and I want to log inputs/outputs from all my controllers.&lt;br&gt;\r\nAlso, each of my controller methods is annotated with some specific annotation (eg: `@MyControllerMethod`).&lt;br&gt;\r\nI wrote an Annotated Aspect which works fine when I use the annotation (eg: `LogRequestReply`) from the aspect on my controller methods.\r\n```\r\n@Around(&quot;@annotation(com.xyz.LogRequestReply)&quot;)\r\npublic Object logRequestResponse(ProceedingJoinPoint pjp) throws Throwable {\r\n```\r\n\r\n```\r\n@MyControllerMethod\r\n@LogRequestReply /* It invokes my logRequestResponse method */\r\npublic ResponseEntity controllerMethodA(...) {}\r\n```\r\n\r\nHowever, I have a lot of controller methods and each with annotation `MyControllerMethod`.&lt;br&gt;\r\nIs there a way I can make my aspect annotation make work on all controller methods by default, such that each of the methods automatically calls my aspect logger and I can log the inputs/outputs?&lt;br&gt;\r\n\r\n**Note:**\r\nI also looked into writing an interceptor extending from `HandlerInterceptorAdapter`. But it has its own complexity of being able to log request/response where the stream can only be read once.\r\n\r\nPlease suggest.","title":"Invoke annotated aspect on all methods with a specific annotation","body":"<p>I have an application based on MVC and I want to log inputs/outputs from all my controllers.<br>\nAlso, each of my controller methods is annotated with some specific annotation (eg: <code>@MyControllerMethod</code>).<br>\nI wrote an Annotated Aspect which works fine when I use the annotation (eg: <code>LogRequestReply</code>) from the aspect on my controller methods.</p>\n<pre><code>@Around(&quot;@annotation(com.xyz.LogRequestReply)&quot;)\npublic Object logRequestResponse(ProceedingJoinPoint pjp) throws Throwable {\n</code></pre>\n<pre><code>@MyControllerMethod\n@LogRequestReply /* It invokes my logRequestResponse method */\npublic ResponseEntity controllerMethodA(...) {}\n</code></pre>\n<p>However, I have a lot of controller methods and each with annotation <code>MyControllerMethod</code>.<br>\nIs there a way I can make my aspect annotation make work on all controller methods by default, such that each of the methods automatically calls my aspect logger and I can log the inputs/outputs?<br></p>\n<p><strong>Note:</strong>\nI also looked into writing an interceptor extending from <code>HandlerInterceptorAdapter</code>. But it has its own complexity of being able to log request/response where the stream can only be read once.</p>\n<p>Please suggest.</p>\n"},{"tags":["java","eval"],"comments":[{"owner":{"account_id":1517424,"reputation":8052,"user_id":1418097,"accept_rate":83,"display_name":"Display Name"},"score":2,"creation_date":1450207671,"post_id":2605032,"comment_id":56337134,"body_markdown":"I&#39;d suggest forgetting about Java for this task and use Clojure. Clojure allows you to parse and/or compile code at runtime (and at compile time) and run it, and also to generate code at compile time as well as many other things which are, by the way, pretty usual in the LISP world. Java is too boring. And Clojure can do everything that Java can, because it runs on JVM (although other implementations do exist, too)\nAnd it can be mixed with Java seamlessly, even inside one shared project.","body":"I&#39;d suggest forgetting about Java for this task and use Clojure. Clojure allows you to parse and/or compile code at runtime (and at compile time) and run it, and also to generate code at compile time as well as many other things which are, by the way, pretty usual in the LISP world. Java is too boring. And Clojure can do everything that Java can, because it runs on JVM (although other implementations do exist, too) And it can be mixed with Java seamlessly, even inside one shared project."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":10,"creation_date":1458748873,"post_id":2605032,"comment_id":60001389,"body_markdown":"This is *not* a duplicate of a question asking [how to evaluate an arithmetic expression](http://stackoverflow.com/questions/3422673/evaluating-a-math-expression-given-in-string-form) because it _specifically_ asks about eval().","body":"This is <i>not</i> a duplicate of a question asking <a href=\"http://stackoverflow.com/questions/3422673/evaluating-a-math-expression-given-in-string-form\">how to evaluate an arithmetic expression</a> because it <i>specifically</i> asks about eval()."}],"answers":[{"tags":[],"owner":{"account_id":41067,"reputation":127494,"user_id":119280,"accept_rate":73,"display_name":"DVK"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1270787018,"creation_date":1270786568,"answer_id":2605045,"question_id":2605032,"body_markdown":"**No**, you can not have a generic &quot;eval&quot; in Java (or any compiled language). Unless you&#39;re willing to write a Java compiler AND a JVM to be executed **inside of your Java program**.\r\n\r\n**Yes**, you can have some library to evaluate numeric algebraic expressions like the one above - [see this thread for discussion][1]. \r\n\r\n\r\n  [1]: http://forum.java.sun.com/thread.jspa?threadID=784915&amp;tstart=0 ","title":"Is there an eval() function in Java?","body":"<p><strong>No</strong>, you can not have a generic \"eval\" in Java (or any compiled language). Unless you're willing to write a Java compiler AND a JVM to be executed <strong>inside of your Java program</strong>.</p>\n\n<p><strong>Yes</strong>, you can have some library to evaluate numeric algebraic expressions like the one above - <a href=\"http://forum.java.sun.com/thread.jspa?threadID=784915&amp;tstart=0\" rel=\"noreferrer\">see this thread for discussion</a>. </p>\n"},{"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"down_vote_count":2,"up_vote_count":167,"is_accepted":true,"score":165,"last_activity_date":1442757472,"creation_date":1270786606,"answer_id":2605051,"question_id":2605032,"body_markdown":"You can use the [`ScriptEngine`][1] class and evaluate it as a Javascript string.\r\n\r\n    ScriptEngineManager manager = new ScriptEngineManager();\r\n    ScriptEngine engine = manager.getEngineByName(&quot;js&quot;);\r\n    Object result = engine.eval(&quot;4*5&quot;);\r\n\r\nThere may be a better way, but this one works.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html","title":"Is there an eval() function in Java?","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html\" rel=\"noreferrer\"><code>ScriptEngine</code></a> class and evaluate it as a Javascript string.</p>\n\n<pre><code>ScriptEngineManager manager = new ScriptEngineManager();\nScriptEngine engine = manager.getEngineByName(\"js\");\nObject result = engine.eval(\"4*5\");\n</code></pre>\n\n<p>There may be a better way, but this one works.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1622540803,"creation_date":1270786606,"answer_id":2605050,"question_id":2605032,"body_markdown":"There is no standard Java class or method that will do what you want.  Your options include:\r\n\r\n  - Select and use some third-party expression evaluation library.  For example [JEL][1] or any of the half dozen libraries listed [here][2].\r\n\r\n  - Wrap the expression in the Java source code for a class with an `eval` method, send that to the Java compiler, and then load the resulting compiled class.\r\n\r\n  - Use some scripting language that can be called from Java as an expression evaluator.  Possibilities include Javascript&lt;sup&gt;1&lt;/sup&gt;, BeanShell, and so on.  A JSR 223 compliant scripting language implementation can be called via the [Scripting API][3].\r\n\r\n  - Write your own expression evaluator from scratch.\r\n\r\nThe first approach is probably simplest.  The second and third approaches are a potential security risk if you get the expression to be evaluated from an untrusted user.  (Think code injection.)\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - Javascript in Java SE is a moving target.  From Java 6, a version of Mozilla&#39;s Rhino Javascript implementation was bundled with Java SE.  The in Java 8, it was superseded by Nashorn.  In Java 11, Nashorn was deprecated, and finally dropped from the core codebase.  As of 2021, both Rhino and Nashorn are being maintained as separate (non-Oracle) products, and Oracle&#39;s GraalVM has its own Javascript implementation.&lt;/sup&gt;\r\n\r\n\r\n  [1]: http://www.gnu.org/software/jel/\r\n  [2]: http://java-source.net/open-source/expression-languages\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/prog_guide/api.html","title":"Is there an eval() function in Java?","body":"<p>There is no standard Java class or method that will do what you want.  Your options include:</p>\n<ul>\n<li><p>Select and use some third-party expression evaluation library.  For example <a href=\"http://www.gnu.org/software/jel/\" rel=\"nofollow noreferrer\">JEL</a> or any of the half dozen libraries listed <a href=\"http://java-source.net/open-source/expression-languages\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p>Wrap the expression in the Java source code for a class with an <code>eval</code> method, send that to the Java compiler, and then load the resulting compiled class.</p>\n</li>\n<li><p>Use some scripting language that can be called from Java as an expression evaluator.  Possibilities include Javascript<sup>1</sup>, BeanShell, and so on.  A JSR 223 compliant scripting language implementation can be called via the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/prog_guide/api.html\" rel=\"nofollow noreferrer\">Scripting API</a>.</p>\n</li>\n<li><p>Write your own expression evaluator from scratch.</p>\n</li>\n</ul>\n<p>The first approach is probably simplest.  The second and third approaches are a potential security risk if you get the expression to be evaluated from an untrusted user.  (Think code injection.)</p>\n<hr />\n<p><sup>1 - Javascript in Java SE is a moving target.  From Java 6, a version of Mozilla's Rhino Javascript implementation was bundled with Java SE.  The in Java 8, it was superseded by Nashorn.  In Java 11, Nashorn was deprecated, and finally dropped from the core codebase.  As of 2021, both Rhino and Nashorn are being maintained as separate (non-Oracle) products, and Oracle's GraalVM has its own Javascript implementation.</sup></p>\n"},{"tags":[],"owner":{"account_id":6563,"reputation":5210,"user_id":11092,"accept_rate":100,"display_name":"Adisesha"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1270792556,"creation_date":1270792556,"answer_id":2605360,"question_id":2605032,"body_markdown":"As previous answers, there is no standard API in Java for this. \r\n\r\nYou can add groovy jar files to your path and groovy.util.Eval.me(&quot;4*5&quot;) gets your job done. ","title":"Is there an eval() function in Java?","body":"<p>As previous answers, there is no standard API in Java for this. </p>\n\n<p>You can add groovy jar files to your path and groovy.util.Eval.me(\"4*5\") gets your job done. </p>\n"},{"tags":[],"owner":{"account_id":1105395,"reputation":2153,"user_id":1096901,"accept_rate":70,"display_name":"Srneczek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1382426410,"creation_date":1382426410,"answer_id":19511500,"question_id":2605032,"body_markdown":"Writing your own library is not that hard as u might thing. Here is link for [Shunting-yard algorithm][1] with step by step algorithm explenation. Although, you will have to parse the input for tokens first. \r\n\r\nThere are 2 other questions wich can give you some information too: \r\n[Turn a String into a Math Expression?][2]\r\n[What&#39;s a good library for parsing mathematical expressions in java?][3]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Shunting-yard_algorithm\r\n  [2]: https://stackoverflow.com/questions/15084984/turn-a-string-into-a-math-expression\r\n  [3]: https://stackoverflow.com/questions/2226863/whats-a-good-library-for-parsing-mathematical-expressions-in-java","title":"Is there an eval() function in Java?","body":"<p>Writing your own library is not that hard as u might thing. Here is link for <a href=\"http://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Shunting-yard algorithm</a> with step by step algorithm explenation. Although, you will have to parse the input for tokens first. </p>\n\n<p>There are 2 other questions wich can give you some information too: \n<a href=\"https://stackoverflow.com/questions/15084984/turn-a-string-into-a-math-expression\">Turn a String into a Math Expression?</a>\n<a href=\"https://stackoverflow.com/questions/2226863/whats-a-good-library-for-parsing-mathematical-expressions-in-java\">What's a good library for parsing mathematical expressions in java?</a></p>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":3,"up_vote_count":38,"is_accepted":false,"score":35,"last_activity_date":1515952425,"creation_date":1418200313,"answer_id":27396372,"question_id":2605032,"body_markdown":"There are very few real use cases in which being able to evaluate a `String` as a fragment of Java code is necessary or desirable. That is, asking how to do this is really an [XY problem][1]: you actually have a different problem, which can be solved a different way.\r\n\r\nFirst ask yourself, where did this `String` that you wish to evaluate come from? Did another part of your program generate it, or was it input provided by the user?\r\n\r\n* **Another part of my program generated it**: so, you want one part of your program to decide the kind of operation to perform,  but not perform the operation, and a second part that performs the chosen operation. Instead of generating and then evaluating  a `String`, use the [Strategy][2], [Command][3] or [Builder][4] design pattern, as appropriate for your particular case.\r\n\r\n* **It is user input**: the user could input *anything*, including commands that, when executed, could cause your program to misbehave, crash, expose information that should be secret, damage persistent information (such as the content of a database), and other such nastiness.  The only way to prevent that would be to parse the `String` yourself,  check it was not malicious, and then evaluate it. But parsing it yourself is much of the work that the requested `eval`function would do, so you have saved yourself nothing. Worse still, checking that arbitrary `Java` was not malicious is *impossible*, because checking that is the [*halting problem*][5].\r\n\r\n* **It is user input, but the syntax and semantics of permitted text to evaluate is greatly restricted**: No general purpose facility can easily implement a general purpose parser and evaluator for whatever restricted syntax and semantics you have chosen. What you need to do is implement a parser and evaluator for your chosen syntax and semantics. If the task is simple, you could write a simple [recursive-descent][6] or finite-state-machine parser by hand. If the task is difficult, you could use a [compiler-compiler][7] (such as ANTLR) to do some of the work for you.\r\n\r\n* **I just want to implement a desktop calculator!**: A homework assignment, eh? If you could implement the evaluation of the input expression using a provided `eval` function, it would not be much of a homework assignment, would it? Your program would be three lines long. Your instructor probably expects you to write the code for a simple arithmetic parser/evaluator. There is well known algorithm, [shunting-yard][8], which you might find useful.\r\n\r\n\r\n  [1]: https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\r\n  [2]: http://en.wikipedia.org/wiki/Strategy_pattern\r\n  [3]: http://en.wikipedia.org/wiki/Command_pattern\r\n  [4]: http://en.wikipedia.org/wiki/Builder_pattern\r\n  [5]: http://en.wikipedia.org/wiki/Halting_problem\r\n  [6]: http://en.wikipedia.org/wiki/Recursive_descent_parser\r\n  [7]: http://en.wikipedia.org/wiki/Compiler-compiler\r\n  [8]: http://en.wikipedia.org/wiki/Shunting-yard_algorithm","title":"Is there an eval() function in Java?","body":"<p>There are very few real use cases in which being able to evaluate a <code>String</code> as a fragment of Java code is necessary or desirable. That is, asking how to do this is really an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>: you actually have a different problem, which can be solved a different way.</p>\n\n<p>First ask yourself, where did this <code>String</code> that you wish to evaluate come from? Did another part of your program generate it, or was it input provided by the user?</p>\n\n<ul>\n<li><p><strong>Another part of my program generated it</strong>: so, you want one part of your program to decide the kind of operation to perform,  but not perform the operation, and a second part that performs the chosen operation. Instead of generating and then evaluating  a <code>String</code>, use the <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"noreferrer\">Strategy</a>, <a href=\"http://en.wikipedia.org/wiki/Command_pattern\" rel=\"noreferrer\">Command</a> or <a href=\"http://en.wikipedia.org/wiki/Builder_pattern\" rel=\"noreferrer\">Builder</a> design pattern, as appropriate for your particular case.</p></li>\n<li><p><strong>It is user input</strong>: the user could input <em>anything</em>, including commands that, when executed, could cause your program to misbehave, crash, expose information that should be secret, damage persistent information (such as the content of a database), and other such nastiness.  The only way to prevent that would be to parse the <code>String</code> yourself,  check it was not malicious, and then evaluate it. But parsing it yourself is much of the work that the requested <code>eval</code>function would do, so you have saved yourself nothing. Worse still, checking that arbitrary <code>Java</code> was not malicious is <em>impossible</em>, because checking that is the <a href=\"http://en.wikipedia.org/wiki/Halting_problem\" rel=\"noreferrer\"><em>halting problem</em></a>.</p></li>\n<li><p><strong>It is user input, but the syntax and semantics of permitted text to evaluate is greatly restricted</strong>: No general purpose facility can easily implement a general purpose parser and evaluator for whatever restricted syntax and semantics you have chosen. What you need to do is implement a parser and evaluator for your chosen syntax and semantics. If the task is simple, you could write a simple <a href=\"http://en.wikipedia.org/wiki/Recursive_descent_parser\" rel=\"noreferrer\">recursive-descent</a> or finite-state-machine parser by hand. If the task is difficult, you could use a <a href=\"http://en.wikipedia.org/wiki/Compiler-compiler\" rel=\"noreferrer\">compiler-compiler</a> (such as ANTLR) to do some of the work for you.</p></li>\n<li><p><strong>I just want to implement a desktop calculator!</strong>: A homework assignment, eh? If you could implement the evaluation of the input expression using a provided <code>eval</code> function, it would not be much of a homework assignment, would it? Your program would be three lines long. Your instructor probably expects you to write the code for a simple arithmetic parser/evaluator. There is well known algorithm, <a href=\"http://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"noreferrer\">shunting-yard</a>, which you might find useful.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1552107,"reputation":722,"user_id":1444274,"display_name":"chAlexey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1429571782,"creation_date":1429571782,"answer_id":29760101,"question_id":2605032,"body_markdown":"I could advise you to use [Exp4j][1]. It is easy to understand as you can see from the following example code:\r\n\r\n    Expression e = new ExpressionBuilder(&quot;3 * sin(y) - 2 / (x - 2)&quot;)\r\n        .variables(&quot;x&quot;, &quot;y&quot;)\r\n        .build()\r\n        .setVariable(&quot;x&quot;, 2.3)\r\n        .setVariable(&quot;y&quot;, 3.14);\r\n    double result = e.evaluate();\r\n\r\n  [1]: http://www.objecthunter.net/exp4j/","title":"Is there an eval() function in Java?","body":"<p>I could advise you to use <a href=\"http://www.objecthunter.net/exp4j/\">Exp4j</a>. It is easy to understand as you can see from the following example code:</p>\n\n<pre><code>Expression e = new ExpressionBuilder(\"3 * sin(y) - 2 / (x - 2)\")\n    .variables(\"x\", \"y\")\n    .build()\n    .setVariable(\"x\", 2.3)\n    .setVariable(\"y\", 3.14);\ndouble result = e.evaluate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5320558,"reputation":408,"user_id":4244130,"accept_rate":80,"display_name":"VinceLomba"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516052715,"creation_date":1515945490,"answer_id":48251395,"question_id":2605032,"body_markdown":"A fun way to solve your problem could be coding an eval() function on your own!\r\nI&#39;ve done it for you!\r\n\r\nYou can use FunctionSolver library simply by typing **FunctionSolver.solveByX(*function*,*value*)** inside your code. The *function* attribute is a String which represents the function you want to solve, the *value* attribute is the value of the independent variable\r\n of your function (which MUST be x).\r\n\r\nIf you want to solve a function which contains more than one independent variable, you can use **FunctionSolver.solve(*function*,*values*)** where the *values* attribute is an [HashMap(String,Double)][1] which contains all your independent attributes (as Strings) and their respective values (as Doubles).\r\n\r\nAnother piece of information: I&#39;ve coded a simple version of **FunctionSolver**, so its supports only [Math methods][2] which return a double value and which accepts one or two double values as fields (just use **FunctionSolver.usableMathMethods()** if you&#39;re curious) (These methods are: *bs, sin, cos, tan, atan2, sqrt, log, log10, pow, exp, min, max, copySign, signum, IEEEremainder, acos, asin, atan, cbrt, ceil, cosh, expm1, floor, hypot, log1p, nextAfter, nextDown, nextUp, random, rint, sinh, tanh, toDegrees, toRadians, ulp)*. Also, that library supports the following operators: * / + - ^ (even if java normally does not support the ^ operator).\r\n\r\nOne last thing: while creating this library I had to use [reflections][3] to call [Math methods][2]. I think it&#39;s really cool, just [have a look at this][3] if you are interested in!\r\n\r\nThat&#39;s all, here it is the code (and the [library][4]):\r\n\r\n    package core;\r\n\r\n     import java.lang.reflect.InvocationTargetException;\r\n     import java.lang.reflect.Method;\r\n     import java.util.ArrayList;\r\n     import java.util.Arrays;\r\n     import java.util.HashMap;\r\n\r\n     public abstract class FunctionSolver {\r\n\t\r\n\tpublic static double solveNumericExpression (String expression) throws NoSuchMethodException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n\t\treturn solve(expression, new HashMap&lt;&gt;());\r\n\t}\r\n\t\r\n\tpublic static double solveByX (String function, double value) throws NoSuchMethodException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n\t\t\r\n\t\tHashMap&lt;String, Double&gt; values = new HashMap&lt;&gt;();\r\n\t\tvalues.put(&quot;x&quot;, value);\r\n\t\treturn solveComplexFunction(function, function, values);\r\n\t}\r\n\t\r\n\tpublic static double solve (String function, HashMap&lt;String,Double&gt; values) throws NoSuchMethodException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n\t\t\r\n\t\treturn solveComplexFunction(function, function, values);\r\n\t}\r\n\t\r\n\tprivate static double solveComplexFunction (String function, String motherFunction, HashMap&lt;String, Double&gt; values) throws NoSuchMethodException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\r\n\t\t\r\n\t\tint position = 0;\r\n\t\twhile(position &lt; function.length()) {\r\n\t\t\tif (alphabetic.contains(&quot;&quot;+function.charAt(position))) {\r\n\t\t\t\tif (position == 0 || !alphabetic.contains(&quot;&quot;+function.charAt(position-1))) {\r\n\t\t\t\t\tint endIndex = -1;\r\n\t\t\t\t\tfor (int j = position ; j &lt; function.length()-1 ; j++) {\r\n\t\t\t\t\t\tif (alphabetic.contains(&quot;&quot;+function.charAt(j)) \r\n\t\t\t\t\t\t\t\t&amp;&amp; !alphabetic.contains(&quot;&quot;+function.charAt(j+1))) {\r\n\t\t\t\t\t\t\tendIndex = j;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (endIndex == -1 &amp; alphabetic.contains(&quot;&quot;+function.charAt(function.length()-1))) {\r\n\t\t\t\t\t\tendIndex = function.length()-1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (endIndex != -1) {\r\n\t\t\t\t\t\tString alphabeticElement = function.substring(position, endIndex+1);\r\n\t\t\t\t\t\tif (Arrays.asList(usableMathMethods()).contains(alphabeticElement)) {\r\n\t\t\t\t\t\t\t//Start analyzing a Math function\r\n\t\t\t\t\t\t\tint closeParenthesisIndex = -1;\r\n\t\t\t\t\t\t\tint openedParenthesisquantity = 0;\r\n\t\t\t\t\t\t\tint commaIndex = -1;\r\n\t\t\t\t\t\t\tfor (int j = endIndex+1 ; j &lt; function.length() ; j++) {\r\n\t\t\t\t\t\t\t\tif (function.substring(j,j+1).equals(&quot;(&quot;)) {\r\n\t\t\t\t\t\t\t\t\topenedParenthesisquantity++;\r\n\t\t\t\t\t\t\t\t}else if (function.substring(j,j+1).equals(&quot;)&quot;)) {\r\n\t\t\t\t\t\t\t\t\topenedParenthesisquantity--;\r\n\t\t\t\t\t\t\t\t\tif (openedParenthesisquantity == 0) {\r\n\t\t\t\t\t\t\t\t\t\tcloseParenthesisIndex = j;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}else if (function.substring(j,j+1).equals(&quot;,&quot;) &amp; openedParenthesisquantity == 0) {\r\n\t\t\t\t\t\t\t\t\tif (commaIndex == -1) {\r\n\t\t\t\t\t\t\t\t\t\tcommaIndex = j;\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tthrow new IllegalArgumentException(&quot;The argument of math function (which is &quot;+alphabeticElement+&quot;) has too many commas&quot;);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (closeParenthesisIndex == -1) {\r\n\t\t\t\t\t\t\t\tthrow new IllegalArgumentException(&quot;The argument of a Math function (which is &quot;+alphabeticElement+&quot;) hasn&#39;t got the closing bracket )&quot;);\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t\tString functionArgument = function.substring(endIndex+2,closeParenthesisIndex);\r\n\t\t\t\t\t\t\tif (commaIndex != -1) {\r\n\t\t\t\t\t\t\t\tdouble firstParameter = solveComplexFunction(functionArgument.substring(0,commaIndex),motherFunction,values);\r\n\t\t\t\t\t\t\t\tdouble secondParameter = solveComplexFunction(functionArgument.substring(commaIndex+1),motherFunction,values);\r\n\t\t\t\t\t\t\t\tMethod mathMethod = Math.class.getDeclaredMethod(alphabeticElement, new Class&lt;?&gt;[] {double.class, double.class});\r\n\t\t\t\t\t\t\t\tmathMethod.setAccessible(true);\r\n\t\t\t\t\t\t\t\tString newKey = getNewKey(values);\r\n\t\t\t\t\t\t\t\tvalues.put(newKey, (Double) mathMethod.invoke(null, firstParameter, secondParameter));\r\n\t\t\t\t\t\t\t\tfunction = function.substring(0, position)+newKey\r\n\t\t\t\t\t\t\t\t\t\t   +((closeParenthesisIndex == function.length()-1)?(&quot;&quot;):(function.substring(closeParenthesisIndex+1)));\r\n\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\tdouble firstParameter = solveComplexFunction(functionArgument, motherFunction, values);\r\n\t\t\t\t\t\t\t\tMethod mathMethod = Math.class.getDeclaredMethod(alphabeticElement, new Class&lt;?&gt;[] {double.class});\r\n\t\t\t\t\t\t\t\tmathMethod.setAccessible(true);\r\n\t\t\t\t\t\t\t\tString newKey = getNewKey(values);\r\n\t\t\t\t\t\t\t\tvalues.put(newKey, (Double) mathMethod.invoke(null, firstParameter));\r\n\t\t\t\t\t\t\t\tfunction = function.substring(0, position)+newKey\r\n\t\t\t\t\t\t\t\t\t\t   +((closeParenthesisIndex == function.length()-1)?(&quot;&quot;):(function.substring(closeParenthesisIndex+1)));\r\n\t\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\t}else if (!values.containsKey(alphabeticElement)) {\r\n\t\t\t\t\t\t\tthrow new IllegalArgumentException(&quot;Found a group of letters (&quot;+alphabeticElement+&quot;) which is neither a variable nor a Math function: &quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tposition++;\r\n\t\t}\r\n\t\treturn solveBracketsFunction(function,motherFunction,values);\r\n\t}\r\n\r\n\tprivate static double solveBracketsFunction (String function,String motherFunction,HashMap&lt;String, Double&gt; values) throws IllegalArgumentException{\r\n\t\t\r\n\t\tfunction = function.replace(&quot; &quot;, &quot;&quot;);\r\n\t\tString openingBrackets = &quot;([{&quot;;\r\n\t\tString closingBrackets = &quot;)]}&quot;;\r\n\t\tint parenthesisIndex = 0;\r\n\t\tdo {\r\n\t\t\tint position = 0;\r\n\t\t\tint openParenthesisBlockIndex = -1;\r\n\t\t\tString currentOpeningBracket = openingBrackets.charAt(parenthesisIndex)+&quot;&quot;;\r\n\t\t\tString currentClosingBracket = closingBrackets.charAt(parenthesisIndex)+&quot;&quot;;\r\n\t\t\tif (contOccouranceIn(currentOpeningBracket,function) != contOccouranceIn(currentClosingBracket,function)) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Error: brackets are misused in the function &quot;+function);\r\n\t\t\t}\r\n\t\t\twhile (position &lt; function.length()) {\r\n\t\t\t\tif (function.substring(position,position+1).equals(currentOpeningBracket)) {\r\n\t\t\t\t\tif (position != 0 &amp;&amp; !operators.contains(function.substring(position-1,position))) {\r\n\t\t\t\t\t\tthrow new IllegalArgumentException(&quot;Error in function: there must be an operator following a &quot;+currentClosingBracket+&quot; breacket&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\topenParenthesisBlockIndex = position;\r\n\t\t\t\t}else if (function.substring(position,position+1).equals(currentClosingBracket)) {\r\n\t\t\t\t\tif (position != function.length()-1 &amp;&amp; !operators.contains(function.substring(position+1,position+2))) {\r\n\t\t\t\t\t\tthrow new IllegalArgumentException(&quot;Error in function: there must be an operator before a &quot;+currentClosingBracket+&quot; breacket&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString newKey = getNewKey(values);\r\n\t\t\t\t\tvalues.put(newKey, solveBracketsFunction(function.substring(openParenthesisBlockIndex+1,position),motherFunction, values));\r\n\t\t\t\t\tfunction = function.substring(0,openParenthesisBlockIndex)+newKey\r\n\t\t\t\t\t\t\t   +((position == function.length()-1)?(&quot;&quot;):(function.substring(position+1)));\r\n\t\t\t\t\tposition = -1;\r\n\t\t\t\t}\r\n\t\t\t\tposition++;\r\n\t\t\t}\r\n\t\t\tparenthesisIndex++;\r\n\t\t}while (parenthesisIndex &lt; openingBrackets.length());\r\n\t\treturn solveBasicFunction(function,motherFunction, values);\r\n\t}\r\n\r\n\tprivate static double solveBasicFunction (String function, String motherFunction, HashMap&lt;String, Double&gt; values) throws IllegalArgumentException{\r\n\t\t\r\n\t\tif (!firstContainsOnlySecond(function, alphanumeric+operators)) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;The function &quot;+function+&quot; is not a basic function&quot;);\r\n\t\t}\r\n\t\tif (function.contains(&quot;**&quot;) |\r\n\t\t\tfunction.contains(&quot;//&quot;) |\r\n\t\t\tfunction.contains(&quot;--&quot;) |\r\n\t\t\tfunction.contains(&quot;+*&quot;) |\r\n\t\t\tfunction.contains(&quot;+/&quot;) |\r\n\t\t\tfunction.contains(&quot;-*&quot;) |\r\n\t\t\tfunction.contains(&quot;-/&quot;)) {\r\n\t\t\t/*\r\n\t\t\t * ( -+ , +- , *- , *+ , /- , /+ )&gt; Those values are admitted\r\n\t\t\t */\r\n\t\t\tthrow new IllegalArgumentException(&quot;Operators are misused in the function&quot;);\r\n\t\t}\r\n\t\tfunction = function.replace(&quot; &quot;, &quot;&quot;);\r\n\t\tint position;\r\n\t\tint operatorIndex = 0;\r\n\t\tString currentOperator;\r\n\t\tdo {\r\n\t\t\tcurrentOperator = operators.substring(operatorIndex,operatorIndex+1);\r\n\t\t\tif (currentOperator.equals(&quot;*&quot;)) {\r\n\t\t\t\tcurrentOperator+=&quot;/&quot;;\r\n\t\t\t\toperatorIndex++;\r\n\t\t\t}else if (currentOperator.equals(&quot;+&quot;)) {\r\n\t\t\t\tcurrentOperator+=&quot;-&quot;;\r\n\t\t\t\toperatorIndex++;\r\n\t\t\t}\r\n\t\t\toperatorIndex++;\r\n\t\t\tposition = 0;\r\n\t\t\twhile (position &lt; function.length()) {\r\n\t\t\t\tif ((position == 0 &amp;&amp; !(&quot;&quot;+function.charAt(position)).equals(&quot;-&quot;) &amp;&amp; !(&quot;&quot;+function.charAt(position)).equals(&quot;+&quot;) &amp;&amp; operators.contains(&quot;&quot;+function.charAt(position))) ||\r\n\t\t\t\t\t(position == function.length()-1 &amp;&amp; operators.contains(&quot;&quot;+function.charAt(position)))){\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;Operators are misused in the function&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (currentOperator.contains(function.substring(position, position+1)) &amp; position != 0) {\r\n\t\t\t\t\tint firstTermBeginIndex = position;\r\n\t\t\t\t\twhile (firstTermBeginIndex &gt; 0) {\r\n\t\t\t\t\t\tif ((alphanumeric.contains(&quot;&quot;+function.charAt(firstTermBeginIndex))) &amp; (operators.contains(&quot;&quot;+function.charAt(firstTermBeginIndex-1)))){\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfirstTermBeginIndex--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (firstTermBeginIndex != 0 &amp;&amp; (function.charAt(firstTermBeginIndex-1) == &#39;-&#39; | function.charAt(firstTermBeginIndex-1) == &#39;+&#39;)) {\r\n\t\t\t\t\t\tif (firstTermBeginIndex == 1) {\r\n\t\t\t\t\t\t\tfirstTermBeginIndex--;\r\n\t\t\t\t\t\t}else if (operators.contains(&quot;&quot;+(function.charAt(firstTermBeginIndex-2)))){\r\n\t\t\t\t\t\t\tfirstTermBeginIndex--;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString firstTerm = function.substring(firstTermBeginIndex,position);\r\n\t\t\t\t\tint secondTermLastIndex = position;\r\n\t\t\t\t\twhile (secondTermLastIndex &lt; function.length()-1) {\r\n\t\t\t\t\t\tif ((alphanumeric.contains(&quot;&quot;+function.charAt(secondTermLastIndex))) &amp; (operators.contains(&quot;&quot;+function.charAt(secondTermLastIndex+1)))) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsecondTermLastIndex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString secondTerm = function.substring(position+1,secondTermLastIndex+1);\r\n\t\t\t\t\tdouble result;\r\n\t\t\t\t\tswitch (function.substring(position,position+1)) {\r\n\t\t\t\t\t\tcase &quot;*&quot;: result = solveSingleValue(firstTerm,values)*solveSingleValue(secondTerm,values); break;\r\n\t\t\t\t\t\tcase &quot;/&quot;: result = solveSingleValue(firstTerm,values)/solveSingleValue(secondTerm,values); break;\r\n\t\t\t\t\t\tcase &quot;+&quot;: result = solveSingleValue(firstTerm,values)+solveSingleValue(secondTerm,values); break;\r\n\t\t\t\t\t\tcase &quot;-&quot;: result = solveSingleValue(firstTerm,values)-solveSingleValue(secondTerm,values); break;\r\n\t\t\t\t\t\tcase &quot;^&quot;: result = Math.pow(solveSingleValue(firstTerm,values),solveSingleValue(secondTerm,values)); break;\r\n\t\t\t\t\t\tdefault: throw new IllegalArgumentException(&quot;Unknown operator: &quot;+currentOperator);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString newAttribute = getNewKey(values);\r\n\t\t\t\t\tvalues.put(newAttribute, result);\r\n\t\t\t\t\tfunction = function.substring(0,firstTermBeginIndex)+newAttribute+function.substring(secondTermLastIndex+1,function.length());\r\n\t\t\t\t\tdeleteValueIfPossible(firstTerm, values, motherFunction);\r\n\t\t\t\t\tdeleteValueIfPossible(secondTerm, values, motherFunction);\r\n\t\t\t\t\tposition = -1;\r\n\t\t\t\t}\r\n\t\t\t\tposition++;\r\n\t\t\t}\r\n\t\t}while (operatorIndex &lt; operators.length());\r\n\t\treturn solveSingleValue(function, values);\r\n\t}\r\n\t\r\n\tprivate static double solveSingleValue (String singleValue, HashMap&lt;String, Double&gt; values) throws IllegalArgumentException{\r\n\t\t\r\n\t\tif (isDouble(singleValue)) {\r\n\t\t\treturn Double.parseDouble(singleValue);\r\n\t\t}else if (firstContainsOnlySecond(singleValue, alphabetic)){\r\n\t\t\treturn getValueFromVariable(singleValue, values);\r\n\t\t}else if (firstContainsOnlySecond(singleValue, alphanumeric+&quot;-+&quot;)) {\r\n\t\t\tString[] composition = splitByLettersAndNumbers(singleValue);\r\n\t\t\tif (composition.length != 2) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Wrong expression: &quot;+singleValue);\r\n\t\t\t}else {\r\n\t\t\t\tif (composition[0].equals(&quot;-&quot;)) {\r\n\t\t\t\t\tcomposition[0] = &quot;-1&quot;;\r\n\t\t\t\t}else if (composition[1].equals(&quot;-&quot;)) {\r\n\t\t\t\t\tcomposition[1] = &quot;-1&quot;;\r\n\t\t\t\t}else if (composition[0].equals(&quot;+&quot;)) {\r\n\t\t\t\t\tcomposition[0] = &quot;+1&quot;;\r\n\t\t\t\t}else if (composition[1].equals(&quot;+&quot;)) {\r\n\t\t\t\t\tcomposition[1] = &quot;+1&quot;;\r\n\t\t\t\t}\r\n\t\t\t\tif (isDouble(composition[0])) {\r\n\t\t\t\t\treturn Double.parseDouble(composition[0])*getValueFromVariable(composition[1], values);\r\n\t\t\t\t}else if (isDouble(composition[1])){\r\n\t\t\t\t\treturn Double.parseDouble(composition[1])*getValueFromVariable(composition[0], values);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;Wrong expression: &quot;+singleValue);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Wrong expression: &quot;+singleValue);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static double getValueFromVariable (String variable, HashMap&lt;String, Double&gt; values) throws IllegalArgumentException{\r\n\t\t\r\n\t\tDouble val = values.get(variable);\r\n\t\tif (val == null) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Unknown variable: &quot;+variable);\r\n\t\t}else {\r\n\t\t\treturn val;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t * FunctionSolver help tools:\r\n\t * \r\n\t */\r\n\t\r\n\tprivate static final String alphabetic = &quot;abcdefghilmnopqrstuvzwykxy&quot;;\r\n\tprivate static final String numeric = &quot;0123456789.&quot;;\r\n\tprivate static final String alphanumeric = alphabetic+numeric;\r\n\tprivate static final String operators = &quot;^*/+-&quot;; //--&gt; Operators order in important!\r\n\t\r\n\tprivate static boolean firstContainsOnlySecond(String firstString, String secondString) {\r\n\t\t\r\n\t\tfor (int j = 0 ; j &lt; firstString.length() ; j++) {\r\n\t\t\tif (!secondString.contains(firstString.substring(j, j+1))) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tprivate static String getNewKey (HashMap&lt;String, Double&gt; hashMap) {\r\n\t\t\r\n\t\tString alpha = &quot;abcdefghilmnopqrstuvzyjkx&quot;;\r\n\t\tfor (int j = 0 ; j &lt; alpha.length() ; j++) {\r\n\t\t\tString k = alpha.substring(j,j+1);\r\n\t\t\tif (!hashMap.containsKey(k) &amp; !Arrays.asList(usableMathMethods()).contains(k)) {\r\n\t\t\t\treturn k;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int j = 0 ; j &lt; alpha.length() ; j++) {\r\n\t\t\tfor (int i = 0 ; i &lt; alpha.length() ; i++) {\r\n\t\t\t\tString k = alpha.substring(j,j+1)+alpha.substring(i,i+1);\r\n\t\t\t\tif (!hashMap.containsKey(k) &amp; !Arrays.asList(usableMathMethods()).contains(k)) {\r\n\t\t\t\t\treturn k;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow new NullPointerException();\r\n\t}\r\n\t\r\n\tpublic static String[] usableMathMethods () {\r\n\t\t\r\n\t\t/*\r\n\t\t *  Only methods that:\r\n\t\t *  return a double type\r\n\t\t *  present one or two parameters (which are double type)\r\n\t\t */\r\n\t\t\r\n\t\tMethod[] mathMethods = Math.class.getDeclaredMethods();\r\n\t\tArrayList&lt;String&gt; usableMethodsNames = new ArrayList&lt;&gt;();\r\n\t\tfor (Method method : mathMethods) {\r\n\t\t\tboolean usable = true;\r\n\t\t\tint argumentsCounter = 0;\r\n\t\t\tClass&lt;?&gt;[] methodParametersTypes = method.getParameterTypes();\r\n\t\t\tfor (Class&lt;?&gt; parameter : methodParametersTypes) {\r\n\t\t\t\tif (!parameter.getSimpleName().equalsIgnoreCase(&quot;double&quot;)) {\r\n\t\t\t\t\tusable = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}else {\r\n\t\t\t\t\targumentsCounter++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!method.getReturnType().getSimpleName().toLowerCase().equals(&quot;double&quot;)) {\r\n\t\t\t\tusable = false;\r\n\t\t\t}\r\n\t\t\tif (usable &amp; argumentsCounter&lt;=2) {\r\n\t\t\t\tusableMethodsNames.add(method.getName());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn usableMethodsNames.toArray(new String[usableMethodsNames.size()]);\r\n\t}\r\n\t\r\n\tprivate static boolean isDouble (String number) {\r\n\t\ttry {\r\n\t\t\tDouble.parseDouble(number);\r\n\t\t\treturn true;\r\n\t\t}catch (Exception ex) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static String[] splitByLettersAndNumbers (String val) {\r\n\t\tif (!firstContainsOnlySecond(val, alphanumeric+&quot;+-&quot;)) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Wrong passed value: &lt;&lt;&quot;+val+&quot;&gt;&gt;&quot;);\r\n\t\t}\r\n\t\tArrayList&lt;String&gt; response = new ArrayList&lt;&gt;();\r\n\t\tString searchingFor;\r\n\t\tint lastIndex = 0;\r\n\t\tif (firstContainsOnlySecond(&quot;&quot;+val.charAt(0), numeric+&quot;+-&quot;)) {\r\n\t\t\tsearchingFor = alphabetic;\r\n\t\t}else {\r\n\t\t\tsearchingFor = numeric+&quot;+-&quot;;\r\n\t\t}\r\n\t\tfor (int j = 0 ; j &lt; val.length() ; j++) {\r\n\t\t\tif (searchingFor.contains(val.charAt(j)+&quot;&quot;)) {\r\n\t\t\t\tresponse.add(val.substring(lastIndex, j));\r\n\t\t\t\tlastIndex = j;\r\n\t\t\t\tif (searchingFor.equals(numeric+&quot;+-&quot;)) {\r\n\t\t\t\t\tsearchingFor = alphabetic;\r\n\t\t\t\t}else {\r\n\t\t\t\t\tsearchingFor = numeric+&quot;+-&quot;;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tresponse.add(val.substring(lastIndex,val.length()));\r\n\t\treturn response.toArray(new String[response.size()]);\r\n\t}\r\n\t\r\n\tprivate static void deleteValueIfPossible (String val, HashMap&lt;String, Double&gt; values, String function) {\r\n\t\tif (values.get(val) != null &amp; function != null) {\r\n\t\t\tif (!function.contains(val)) {\r\n\t\t\t\tvalues.remove(val);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static int contOccouranceIn (String howManyOfThatString, String inThatString) {\r\n\t\treturn inThatString.length() - inThatString.replace(howManyOfThatString, &quot;&quot;).length();\r\n\t}\r\n     }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html\r\n  [3]: http://www.baeldung.com/java-method-reflection\r\n  [4]: https://drive.google.com/open?id=1hEjLh_qURwp82P6QZiscCBfil8pVXhA7","title":"Is there an eval() function in Java?","body":"<p>A fun way to solve your problem could be coding an eval() function on your own!\nI've done it for you!</p>\n\n<p>You can use FunctionSolver library simply by typing <strong>FunctionSolver.solveByX(<em>function</em>,<em>value</em>)</strong> inside your code. The <em>function</em> attribute is a String which represents the function you want to solve, the <em>value</em> attribute is the value of the independent variable\n of your function (which MUST be x).</p>\n\n<p>If you want to solve a function which contains more than one independent variable, you can use <strong>FunctionSolver.solve(<em>function</em>,<em>values</em>)</strong> where the <em>values</em> attribute is an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">HashMap(String,Double)</a> which contains all your independent attributes (as Strings) and their respective values (as Doubles).</p>\n\n<p>Another piece of information: I've coded a simple version of <strong>FunctionSolver</strong>, so its supports only <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html\" rel=\"noreferrer\">Math methods</a> which return a double value and which accepts one or two double values as fields (just use <strong>FunctionSolver.usableMathMethods()</strong> if you're curious) (These methods are: <em>bs, sin, cos, tan, atan2, sqrt, log, log10, pow, exp, min, max, copySign, signum, IEEEremainder, acos, asin, atan, cbrt, ceil, cosh, expm1, floor, hypot, log1p, nextAfter, nextDown, nextUp, random, rint, sinh, tanh, toDegrees, toRadians, ulp)</em>. Also, that library supports the following operators: * / + - ^ (even if java normally does not support the ^ operator).</p>\n\n<p>One last thing: while creating this library I had to use <a href=\"http://www.baeldung.com/java-method-reflection\" rel=\"noreferrer\">reflections</a> to call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html\" rel=\"noreferrer\">Math methods</a>. I think it's really cool, just <a href=\"http://www.baeldung.com/java-method-reflection\" rel=\"noreferrer\">have a look at this</a> if you are interested in!</p>\n\n<p>That's all, here it is the code (and the <a href=\"https://drive.google.com/open?id=1hEjLh_qURwp82P6QZiscCBfil8pVXhA7\" rel=\"noreferrer\">library</a>):</p>\n\n<pre><code>package core;\n\n import java.lang.reflect.InvocationTargetException;\n import java.lang.reflect.Method;\n import java.util.ArrayList;\n import java.util.Arrays;\n import java.util.HashMap;\n\n public abstract class FunctionSolver {\n\npublic static double solveNumericExpression (String expression) throws NoSuchMethodException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n    return solve(expression, new HashMap&lt;&gt;());\n}\n\npublic static double solveByX (String function, double value) throws NoSuchMethodException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n\n    HashMap&lt;String, Double&gt; values = new HashMap&lt;&gt;();\n    values.put(\"x\", value);\n    return solveComplexFunction(function, function, values);\n}\n\npublic static double solve (String function, HashMap&lt;String,Double&gt; values) throws NoSuchMethodException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n\n    return solveComplexFunction(function, function, values);\n}\n\nprivate static double solveComplexFunction (String function, String motherFunction, HashMap&lt;String, Double&gt; values) throws NoSuchMethodException, IllegalAccessException, IllegalArgumentException, InvocationTargetException {\n\n    int position = 0;\n    while(position &lt; function.length()) {\n        if (alphabetic.contains(\"\"+function.charAt(position))) {\n            if (position == 0 || !alphabetic.contains(\"\"+function.charAt(position-1))) {\n                int endIndex = -1;\n                for (int j = position ; j &lt; function.length()-1 ; j++) {\n                    if (alphabetic.contains(\"\"+function.charAt(j)) \n                            &amp;&amp; !alphabetic.contains(\"\"+function.charAt(j+1))) {\n                        endIndex = j;\n                        break;\n                    }\n                }\n                if (endIndex == -1 &amp; alphabetic.contains(\"\"+function.charAt(function.length()-1))) {\n                    endIndex = function.length()-1;\n                }\n                if (endIndex != -1) {\n                    String alphabeticElement = function.substring(position, endIndex+1);\n                    if (Arrays.asList(usableMathMethods()).contains(alphabeticElement)) {\n                        //Start analyzing a Math function\n                        int closeParenthesisIndex = -1;\n                        int openedParenthesisquantity = 0;\n                        int commaIndex = -1;\n                        for (int j = endIndex+1 ; j &lt; function.length() ; j++) {\n                            if (function.substring(j,j+1).equals(\"(\")) {\n                                openedParenthesisquantity++;\n                            }else if (function.substring(j,j+1).equals(\")\")) {\n                                openedParenthesisquantity--;\n                                if (openedParenthesisquantity == 0) {\n                                    closeParenthesisIndex = j;\n                                    break;\n                                }\n                            }else if (function.substring(j,j+1).equals(\",\") &amp; openedParenthesisquantity == 0) {\n                                if (commaIndex == -1) {\n                                    commaIndex = j;\n                                }else{\n                                    throw new IllegalArgumentException(\"The argument of math function (which is \"+alphabeticElement+\") has too many commas\");\n                                }\n                            }\n                        }\n                        if (closeParenthesisIndex == -1) {\n                            throw new IllegalArgumentException(\"The argument of a Math function (which is \"+alphabeticElement+\") hasn't got the closing bracket )\");\n                        }   \n                        String functionArgument = function.substring(endIndex+2,closeParenthesisIndex);\n                        if (commaIndex != -1) {\n                            double firstParameter = solveComplexFunction(functionArgument.substring(0,commaIndex),motherFunction,values);\n                            double secondParameter = solveComplexFunction(functionArgument.substring(commaIndex+1),motherFunction,values);\n                            Method mathMethod = Math.class.getDeclaredMethod(alphabeticElement, new Class&lt;?&gt;[] {double.class, double.class});\n                            mathMethod.setAccessible(true);\n                            String newKey = getNewKey(values);\n                            values.put(newKey, (Double) mathMethod.invoke(null, firstParameter, secondParameter));\n                            function = function.substring(0, position)+newKey\n                                       +((closeParenthesisIndex == function.length()-1)?(\"\"):(function.substring(closeParenthesisIndex+1)));\n                        }else {\n                            double firstParameter = solveComplexFunction(functionArgument, motherFunction, values);\n                            Method mathMethod = Math.class.getDeclaredMethod(alphabeticElement, new Class&lt;?&gt;[] {double.class});\n                            mathMethod.setAccessible(true);\n                            String newKey = getNewKey(values);\n                            values.put(newKey, (Double) mathMethod.invoke(null, firstParameter));\n                            function = function.substring(0, position)+newKey\n                                       +((closeParenthesisIndex == function.length()-1)?(\"\"):(function.substring(closeParenthesisIndex+1)));\n                        }   \n                    }else if (!values.containsKey(alphabeticElement)) {\n                        throw new IllegalArgumentException(\"Found a group of letters (\"+alphabeticElement+\") which is neither a variable nor a Math function: \");\n                    }\n                }\n            }\n        }\n        position++;\n    }\n    return solveBracketsFunction(function,motherFunction,values);\n}\n\nprivate static double solveBracketsFunction (String function,String motherFunction,HashMap&lt;String, Double&gt; values) throws IllegalArgumentException{\n\n    function = function.replace(\" \", \"\");\n    String openingBrackets = \"([{\";\n    String closingBrackets = \")]}\";\n    int parenthesisIndex = 0;\n    do {\n        int position = 0;\n        int openParenthesisBlockIndex = -1;\n        String currentOpeningBracket = openingBrackets.charAt(parenthesisIndex)+\"\";\n        String currentClosingBracket = closingBrackets.charAt(parenthesisIndex)+\"\";\n        if (contOccouranceIn(currentOpeningBracket,function) != contOccouranceIn(currentClosingBracket,function)) {\n            throw new IllegalArgumentException(\"Error: brackets are misused in the function \"+function);\n        }\n        while (position &lt; function.length()) {\n            if (function.substring(position,position+1).equals(currentOpeningBracket)) {\n                if (position != 0 &amp;&amp; !operators.contains(function.substring(position-1,position))) {\n                    throw new IllegalArgumentException(\"Error in function: there must be an operator following a \"+currentClosingBracket+\" breacket\");\n                }\n                openParenthesisBlockIndex = position;\n            }else if (function.substring(position,position+1).equals(currentClosingBracket)) {\n                if (position != function.length()-1 &amp;&amp; !operators.contains(function.substring(position+1,position+2))) {\n                    throw new IllegalArgumentException(\"Error in function: there must be an operator before a \"+currentClosingBracket+\" breacket\");\n                }\n                String newKey = getNewKey(values);\n                values.put(newKey, solveBracketsFunction(function.substring(openParenthesisBlockIndex+1,position),motherFunction, values));\n                function = function.substring(0,openParenthesisBlockIndex)+newKey\n                           +((position == function.length()-1)?(\"\"):(function.substring(position+1)));\n                position = -1;\n            }\n            position++;\n        }\n        parenthesisIndex++;\n    }while (parenthesisIndex &lt; openingBrackets.length());\n    return solveBasicFunction(function,motherFunction, values);\n}\n\nprivate static double solveBasicFunction (String function, String motherFunction, HashMap&lt;String, Double&gt; values) throws IllegalArgumentException{\n\n    if (!firstContainsOnlySecond(function, alphanumeric+operators)) {\n        throw new IllegalArgumentException(\"The function \"+function+\" is not a basic function\");\n    }\n    if (function.contains(\"**\") |\n        function.contains(\"//\") |\n        function.contains(\"--\") |\n        function.contains(\"+*\") |\n        function.contains(\"+/\") |\n        function.contains(\"-*\") |\n        function.contains(\"-/\")) {\n        /*\n         * ( -+ , +- , *- , *+ , /- , /+ )&gt; Those values are admitted\n         */\n        throw new IllegalArgumentException(\"Operators are misused in the function\");\n    }\n    function = function.replace(\" \", \"\");\n    int position;\n    int operatorIndex = 0;\n    String currentOperator;\n    do {\n        currentOperator = operators.substring(operatorIndex,operatorIndex+1);\n        if (currentOperator.equals(\"*\")) {\n            currentOperator+=\"/\";\n            operatorIndex++;\n        }else if (currentOperator.equals(\"+\")) {\n            currentOperator+=\"-\";\n            operatorIndex++;\n        }\n        operatorIndex++;\n        position = 0;\n        while (position &lt; function.length()) {\n            if ((position == 0 &amp;&amp; !(\"\"+function.charAt(position)).equals(\"-\") &amp;&amp; !(\"\"+function.charAt(position)).equals(\"+\") &amp;&amp; operators.contains(\"\"+function.charAt(position))) ||\n                (position == function.length()-1 &amp;&amp; operators.contains(\"\"+function.charAt(position)))){\n                throw new IllegalArgumentException(\"Operators are misused in the function\");\n            }\n            if (currentOperator.contains(function.substring(position, position+1)) &amp; position != 0) {\n                int firstTermBeginIndex = position;\n                while (firstTermBeginIndex &gt; 0) {\n                    if ((alphanumeric.contains(\"\"+function.charAt(firstTermBeginIndex))) &amp; (operators.contains(\"\"+function.charAt(firstTermBeginIndex-1)))){\n                        break;\n                    }\n                    firstTermBeginIndex--;\n                }\n                if (firstTermBeginIndex != 0 &amp;&amp; (function.charAt(firstTermBeginIndex-1) == '-' | function.charAt(firstTermBeginIndex-1) == '+')) {\n                    if (firstTermBeginIndex == 1) {\n                        firstTermBeginIndex--;\n                    }else if (operators.contains(\"\"+(function.charAt(firstTermBeginIndex-2)))){\n                        firstTermBeginIndex--;\n                    }\n                }\n                String firstTerm = function.substring(firstTermBeginIndex,position);\n                int secondTermLastIndex = position;\n                while (secondTermLastIndex &lt; function.length()-1) {\n                    if ((alphanumeric.contains(\"\"+function.charAt(secondTermLastIndex))) &amp; (operators.contains(\"\"+function.charAt(secondTermLastIndex+1)))) {\n                        break;\n                    }\n                    secondTermLastIndex++;\n                }\n                String secondTerm = function.substring(position+1,secondTermLastIndex+1);\n                double result;\n                switch (function.substring(position,position+1)) {\n                    case \"*\": result = solveSingleValue(firstTerm,values)*solveSingleValue(secondTerm,values); break;\n                    case \"/\": result = solveSingleValue(firstTerm,values)/solveSingleValue(secondTerm,values); break;\n                    case \"+\": result = solveSingleValue(firstTerm,values)+solveSingleValue(secondTerm,values); break;\n                    case \"-\": result = solveSingleValue(firstTerm,values)-solveSingleValue(secondTerm,values); break;\n                    case \"^\": result = Math.pow(solveSingleValue(firstTerm,values),solveSingleValue(secondTerm,values)); break;\n                    default: throw new IllegalArgumentException(\"Unknown operator: \"+currentOperator);\n                }\n                String newAttribute = getNewKey(values);\n                values.put(newAttribute, result);\n                function = function.substring(0,firstTermBeginIndex)+newAttribute+function.substring(secondTermLastIndex+1,function.length());\n                deleteValueIfPossible(firstTerm, values, motherFunction);\n                deleteValueIfPossible(secondTerm, values, motherFunction);\n                position = -1;\n            }\n            position++;\n        }\n    }while (operatorIndex &lt; operators.length());\n    return solveSingleValue(function, values);\n}\n\nprivate static double solveSingleValue (String singleValue, HashMap&lt;String, Double&gt; values) throws IllegalArgumentException{\n\n    if (isDouble(singleValue)) {\n        return Double.parseDouble(singleValue);\n    }else if (firstContainsOnlySecond(singleValue, alphabetic)){\n        return getValueFromVariable(singleValue, values);\n    }else if (firstContainsOnlySecond(singleValue, alphanumeric+\"-+\")) {\n        String[] composition = splitByLettersAndNumbers(singleValue);\n        if (composition.length != 2) {\n            throw new IllegalArgumentException(\"Wrong expression: \"+singleValue);\n        }else {\n            if (composition[0].equals(\"-\")) {\n                composition[0] = \"-1\";\n            }else if (composition[1].equals(\"-\")) {\n                composition[1] = \"-1\";\n            }else if (composition[0].equals(\"+\")) {\n                composition[0] = \"+1\";\n            }else if (composition[1].equals(\"+\")) {\n                composition[1] = \"+1\";\n            }\n            if (isDouble(composition[0])) {\n                return Double.parseDouble(composition[0])*getValueFromVariable(composition[1], values);\n            }else if (isDouble(composition[1])){\n                return Double.parseDouble(composition[1])*getValueFromVariable(composition[0], values);\n            }else {\n                throw new IllegalArgumentException(\"Wrong expression: \"+singleValue);\n            }\n        }\n    }else {\n        throw new IllegalArgumentException(\"Wrong expression: \"+singleValue);\n    }\n}\n\nprivate static double getValueFromVariable (String variable, HashMap&lt;String, Double&gt; values) throws IllegalArgumentException{\n\n    Double val = values.get(variable);\n    if (val == null) {\n        throw new IllegalArgumentException(\"Unknown variable: \"+variable);\n    }else {\n        return val;\n    }\n}\n\n/*\n * FunctionSolver help tools:\n * \n */\n\nprivate static final String alphabetic = \"abcdefghilmnopqrstuvzwykxy\";\nprivate static final String numeric = \"0123456789.\";\nprivate static final String alphanumeric = alphabetic+numeric;\nprivate static final String operators = \"^*/+-\"; //--&gt; Operators order in important!\n\nprivate static boolean firstContainsOnlySecond(String firstString, String secondString) {\n\n    for (int j = 0 ; j &lt; firstString.length() ; j++) {\n        if (!secondString.contains(firstString.substring(j, j+1))) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate static String getNewKey (HashMap&lt;String, Double&gt; hashMap) {\n\n    String alpha = \"abcdefghilmnopqrstuvzyjkx\";\n    for (int j = 0 ; j &lt; alpha.length() ; j++) {\n        String k = alpha.substring(j,j+1);\n        if (!hashMap.containsKey(k) &amp; !Arrays.asList(usableMathMethods()).contains(k)) {\n            return k;\n        }\n    }\n    for (int j = 0 ; j &lt; alpha.length() ; j++) {\n        for (int i = 0 ; i &lt; alpha.length() ; i++) {\n            String k = alpha.substring(j,j+1)+alpha.substring(i,i+1);\n            if (!hashMap.containsKey(k) &amp; !Arrays.asList(usableMathMethods()).contains(k)) {\n                return k;\n            }\n        }\n    }\n    throw new NullPointerException();\n}\n\npublic static String[] usableMathMethods () {\n\n    /*\n     *  Only methods that:\n     *  return a double type\n     *  present one or two parameters (which are double type)\n     */\n\n    Method[] mathMethods = Math.class.getDeclaredMethods();\n    ArrayList&lt;String&gt; usableMethodsNames = new ArrayList&lt;&gt;();\n    for (Method method : mathMethods) {\n        boolean usable = true;\n        int argumentsCounter = 0;\n        Class&lt;?&gt;[] methodParametersTypes = method.getParameterTypes();\n        for (Class&lt;?&gt; parameter : methodParametersTypes) {\n            if (!parameter.getSimpleName().equalsIgnoreCase(\"double\")) {\n                usable = false;\n                break;\n            }else {\n                argumentsCounter++;\n            }\n        }\n        if (!method.getReturnType().getSimpleName().toLowerCase().equals(\"double\")) {\n            usable = false;\n        }\n        if (usable &amp; argumentsCounter&lt;=2) {\n            usableMethodsNames.add(method.getName());\n        }\n    }\n    return usableMethodsNames.toArray(new String[usableMethodsNames.size()]);\n}\n\nprivate static boolean isDouble (String number) {\n    try {\n        Double.parseDouble(number);\n        return true;\n    }catch (Exception ex) {\n        return false;\n    }\n}\n\nprivate static String[] splitByLettersAndNumbers (String val) {\n    if (!firstContainsOnlySecond(val, alphanumeric+\"+-\")) {\n        throw new IllegalArgumentException(\"Wrong passed value: &lt;&lt;\"+val+\"&gt;&gt;\");\n    }\n    ArrayList&lt;String&gt; response = new ArrayList&lt;&gt;();\n    String searchingFor;\n    int lastIndex = 0;\n    if (firstContainsOnlySecond(\"\"+val.charAt(0), numeric+\"+-\")) {\n        searchingFor = alphabetic;\n    }else {\n        searchingFor = numeric+\"+-\";\n    }\n    for (int j = 0 ; j &lt; val.length() ; j++) {\n        if (searchingFor.contains(val.charAt(j)+\"\")) {\n            response.add(val.substring(lastIndex, j));\n            lastIndex = j;\n            if (searchingFor.equals(numeric+\"+-\")) {\n                searchingFor = alphabetic;\n            }else {\n                searchingFor = numeric+\"+-\";\n            }\n        }\n    }\n    response.add(val.substring(lastIndex,val.length()));\n    return response.toArray(new String[response.size()]);\n}\n\nprivate static void deleteValueIfPossible (String val, HashMap&lt;String, Double&gt; values, String function) {\n    if (values.get(val) != null &amp; function != null) {\n        if (!function.contains(val)) {\n            values.remove(val);\n        }\n    }\n}\n\nprivate static int contOccouranceIn (String howManyOfThatString, String inThatString) {\n    return inThatString.length() - inThatString.replace(howManyOfThatString, \"\").length();\n}\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3989533,"reputation":187,"user_id":3288957,"accept_rate":57,"display_name":"abubakkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531303786,"creation_date":1531303786,"answer_id":51282768,"question_id":2605032,"body_markdown":"As there are many answers, I&#39;m adding my implementation on top of `eval()` method with some additional features like support for factorial, evaluating complex expressions etc. \r\n\r\n    package evaluation;\r\n    \r\n    import java.math.BigInteger;\r\n    import java.util.EmptyStackException;\r\n    import java.util.Scanner;\r\n    import java.util.Stack;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptException;\r\n    \r\n    public class EvalPlus {\r\n    \tprivate static Scanner scanner = new Scanner(System.in);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;This Evaluation is based on BODMAS rule\\n&quot;);\r\n    \t\tevaluate();\r\n    \t}\r\n    \r\n    \tprivate static void evaluate() {\r\n    \t\tStringBuilder finalStr = new StringBuilder();\r\n    \t\tSystem.out.println(&quot;Enter an expression to evaluate:&quot;);\r\n    \t\tString expr = scanner.nextLine(); \r\n    \t\tif(isProperExpression(expr)) {\r\n    \t\t\texpr = replaceBefore(expr);\r\n    \t\t\tchar[] temp = expr.toCharArray();\r\n    \t\t\tString operators = &quot;(+-*/%)&quot;;\r\n    \t\t\tfor(int i = 0; i &lt; temp.length; i++) {\r\n    \t\t\t\tif((i == 0 &amp;&amp; temp[i] != &#39;*&#39;) || (i == temp.length-1 &amp;&amp; temp[i] != &#39;*&#39; &amp;&amp; temp[i] != &#39;!&#39;)) {\r\n    \t\t\t\t\tfinalStr.append(temp[i]);\r\n    \t\t\t\t} else if((i &gt; 0 &amp;&amp; i &lt; temp.length -1) || (i==temp.length-1 &amp;&amp; temp[i] == &#39;!&#39;)) {\r\n    \t\t\t\t\tif(temp[i] == &#39;!&#39;) {\r\n    \t\t\t\t\t\tStringBuilder str = new StringBuilder();\r\n    \t\t\t\t\t\tfor(int k = i-1; k &gt;= 0; k--) {\r\n    \t\t\t\t\t\t\tif(Character.isDigit(temp[k])) {\r\n    \t\t\t\t\t\t\t\tstr.insert(0, temp[k] );\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tLong prev = Long.valueOf(str.toString());\r\n    \t\t\t\t\t\tBigInteger val = new BigInteger(&quot;1&quot;);\r\n    \t\t\t\t\t\tfor(Long j = prev; j &gt; 1; j--) {\r\n    \t\t\t\t\t\t\tval = val.multiply(BigInteger.valueOf(j));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tfinalStr.setLength(finalStr.length() - str.length());\r\n    \t\t\t\t\t\tfinalStr.append(&quot;(&quot; + val + &quot;)&quot;);\r\n    \t\t\t\t\t\tif(temp.length &gt; i+1) {\r\n    \t\t\t\t\t\t\tchar next = temp[i+1];\r\n    \t\t\t\t\t\t\tif(operators.indexOf(next) == -1) { \r\n    \t\t\t\t\t\t\t\tfinalStr.append(&quot;*&quot;);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tfinalStr.append(temp[i]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\texpr = finalStr.toString();\r\n    \t\t\tif(expr != null &amp;&amp; !expr.isEmpty()) {\r\n    \t\t\t\tScriptEngineManager mgr = new ScriptEngineManager();\r\n    \t\t\t\tScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSystem.out.println(&quot;Result: &quot; + engine.eval(expr));\r\n    \t\t\t\t\tevaluate();\r\n    \t\t\t\t} catch (ScriptException e) {\r\n    \t\t\t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Please give an expression&quot;);\r\n    \t\t\t\tevaluate();\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Not a valid expression&quot;);\r\n    \t\t\tevaluate();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static String replaceBefore(String expr) {\r\n    \t\texpr = expr.replace(&quot;(&quot;, &quot;*(&quot;);\r\n    \t\texpr = expr.replace(&quot;+*&quot;, &quot;+&quot;).replace(&quot;-*&quot;, &quot;-&quot;).replace(&quot;**&quot;, &quot;*&quot;).replace(&quot;/*&quot;, &quot;/&quot;).replace(&quot;%*&quot;, &quot;%&quot;);\r\n    \t\treturn expr;\r\n    \t}\r\n    \r\n    \tprivate static boolean isProperExpression(String expr) {\r\n    \t\texpr = expr.replaceAll(&quot;[^()]&quot;, &quot;&quot;);\r\n    \t\tchar[] arr = expr.toCharArray();\r\n    \t\tStack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\r\n    \t\tint i =0;\r\n    \t\twhile(i &lt; arr.length) {\r\n    \t\t\ttry {\r\n    \t\t\t\tif(arr[i] == &#39;(&#39;) {\r\n    \t\t\t\t\tstack.push(arr[i]);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tstack.pop();\r\n    \t\t\t\t}\r\n    \t\t\t} catch (EmptyStackException e) {\r\n    \t\t\t\tstack.push(arr[i]);\r\n    \t\t\t}\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\treturn stack.isEmpty();\r\n    \t}\r\n    }\r\n\r\nPlease find the updated gist anytime [here][1]. Also comment if any issues are there. Thanks.\r\n\r\n\r\n  [1]: https://gist.github.com/saytosiddiq/3574871abae20995741f33085fe8d2a4","title":"Is there an eval() function in Java?","body":"<p>As there are many answers, I'm adding my implementation on top of <code>eval()</code> method with some additional features like support for factorial, evaluating complex expressions etc. </p>\n\n<pre><code>package evaluation;\n\nimport java.math.BigInteger;\nimport java.util.EmptyStackException;\nimport java.util.Scanner;\nimport java.util.Stack;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\n\npublic class EvalPlus {\n    private static Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        System.out.println(\"This Evaluation is based on BODMAS rule\\n\");\n        evaluate();\n    }\n\n    private static void evaluate() {\n        StringBuilder finalStr = new StringBuilder();\n        System.out.println(\"Enter an expression to evaluate:\");\n        String expr = scanner.nextLine(); \n        if(isProperExpression(expr)) {\n            expr = replaceBefore(expr);\n            char[] temp = expr.toCharArray();\n            String operators = \"(+-*/%)\";\n            for(int i = 0; i &lt; temp.length; i++) {\n                if((i == 0 &amp;&amp; temp[i] != '*') || (i == temp.length-1 &amp;&amp; temp[i] != '*' &amp;&amp; temp[i] != '!')) {\n                    finalStr.append(temp[i]);\n                } else if((i &gt; 0 &amp;&amp; i &lt; temp.length -1) || (i==temp.length-1 &amp;&amp; temp[i] == '!')) {\n                    if(temp[i] == '!') {\n                        StringBuilder str = new StringBuilder();\n                        for(int k = i-1; k &gt;= 0; k--) {\n                            if(Character.isDigit(temp[k])) {\n                                str.insert(0, temp[k] );\n                            } else {\n                                break;\n                            }\n                        }\n                        Long prev = Long.valueOf(str.toString());\n                        BigInteger val = new BigInteger(\"1\");\n                        for(Long j = prev; j &gt; 1; j--) {\n                            val = val.multiply(BigInteger.valueOf(j));\n                        }\n                        finalStr.setLength(finalStr.length() - str.length());\n                        finalStr.append(\"(\" + val + \")\");\n                        if(temp.length &gt; i+1) {\n                            char next = temp[i+1];\n                            if(operators.indexOf(next) == -1) { \n                                finalStr.append(\"*\");\n                            }\n                        }\n                    } else {\n                        finalStr.append(temp[i]);\n                    }\n                }\n            }\n            expr = finalStr.toString();\n            if(expr != null &amp;&amp; !expr.isEmpty()) {\n                ScriptEngineManager mgr = new ScriptEngineManager();\n                ScriptEngine engine = mgr.getEngineByName(\"JavaScript\");\n                try {\n                    System.out.println(\"Result: \" + engine.eval(expr));\n                    evaluate();\n                } catch (ScriptException e) {\n                    System.out.println(e.getMessage());\n                }\n            } else {\n                System.out.println(\"Please give an expression\");\n                evaluate();\n            }\n        } else {\n            System.out.println(\"Not a valid expression\");\n            evaluate();\n        }\n    }\n\n    private static String replaceBefore(String expr) {\n        expr = expr.replace(\"(\", \"*(\");\n        expr = expr.replace(\"+*\", \"+\").replace(\"-*\", \"-\").replace(\"**\", \"*\").replace(\"/*\", \"/\").replace(\"%*\", \"%\");\n        return expr;\n    }\n\n    private static boolean isProperExpression(String expr) {\n        expr = expr.replaceAll(\"[^()]\", \"\");\n        char[] arr = expr.toCharArray();\n        Stack&lt;Character&gt; stack = new Stack&lt;Character&gt;();\n        int i =0;\n        while(i &lt; arr.length) {\n            try {\n                if(arr[i] == '(') {\n                    stack.push(arr[i]);\n                } else {\n                    stack.pop();\n                }\n            } catch (EmptyStackException e) {\n                stack.push(arr[i]);\n            }\n            i++;\n        }\n        return stack.isEmpty();\n    }\n}\n</code></pre>\n\n<p>Please find the updated gist anytime <a href=\"https://gist.github.com/saytosiddiq/3574871abae20995741f33085fe8d2a4\" rel=\"nofollow noreferrer\">here</a>. Also comment if any issues are there. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1570395456,"creation_date":1538019104,"answer_id":52529029,"question_id":2605032,"body_markdown":"With Java 9, we get access to [`jshell`][1], so one can write something like this:\r\n\r\n    import jdk.jshell.JShell;\r\n    import java.lang.StringBuilder;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.IOException;\r\n    \r\n    public class Eval {\r\n        public static void main(String[] args) throws IOException {\r\n            try(JShell js = JShell.create(); BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {\r\n    \r\n                js.onSnippetEvent(snip -&gt; {\r\n                    if (snip.status() == jdk.jshell.Snippet.Status.VALID) {\r\n                        System.out.println(&quot;➜ &quot; + snip.value());\r\n                    }\r\n                });\r\n    \r\n                System.out.print(&quot;&gt; &quot;);\r\n                for (String line = br.readLine(); line != null; line = br.readLine()) {\r\n                    js.eval(js.sourceCodeAnalysis().analyzeCompletion(line).source());\r\n                    System.out.print(&quot;&gt; &quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSample run:\r\n\r\n    &gt; 1 + 2 / 4 * 3\r\n    ➜ 1\r\n    &gt; 32 * 121\r\n    ➜ 3872\r\n    &gt; 4 * 5\r\n    ➜ 20\r\n    &gt; 121 * 51\r\n    ➜ 6171\r\n    &gt;\r\n\r\nSlightly op, but that&#39;s what Java currently has to offer\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/jdk/jshell/package-summary.html","title":"Is there an eval() function in Java?","body":"<p>With Java 9, we get access to <a href=\"https://docs.oracle.com/javase/9/docs/api/jdk/jshell/package-summary.html\" rel=\"noreferrer\"><code>jshell</code></a>, so one can write something like this:</p>\n\n<pre><code>import jdk.jshell.JShell;\nimport java.lang.StringBuilder;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\n\npublic class Eval {\n    public static void main(String[] args) throws IOException {\n        try(JShell js = JShell.create(); BufferedReader br = new BufferedReader(new InputStreamReader(System.in))) {\n\n            js.onSnippetEvent(snip -&gt; {\n                if (snip.status() == jdk.jshell.Snippet.Status.VALID) {\n                    System.out.println(\"➜ \" + snip.value());\n                }\n            });\n\n            System.out.print(\"&gt; \");\n            for (String line = br.readLine(); line != null; line = br.readLine()) {\n                js.eval(js.sourceCodeAnalysis().analyzeCompletion(line).source());\n                System.out.print(\"&gt; \");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Sample run:</p>\n\n<pre><code>&gt; 1 + 2 / 4 * 3\n➜ 1\n&gt; 32 * 121\n➜ 3872\n&gt; 4 * 5\n➜ 20\n&gt; 121 * 51\n➜ 6171\n&gt;\n</code></pre>\n\n<p>Slightly op, but that's what Java currently has to offer</p>\n"},{"tags":[],"owner":{"account_id":16771392,"reputation":3,"user_id":12123738,"display_name":"jaya swamy"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1569487755,"creation_date":1569486482,"answer_id":58112587,"question_id":2605032,"body_markdown":"The following resolved the issue:\r\n\r\n```\r\nScriptEngineManager mgr = new ScriptEngineManager();\r\nScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\nString str = &quot;4*5&quot;;\r\nSystem.out.println(engine.eval(str));\r\n```","title":"Is there an eval() function in Java?","body":"<p>The following resolved the issue:</p>\n\n<pre><code>ScriptEngineManager mgr = new ScriptEngineManager();\nScriptEngine engine = mgr.getEngineByName(\"JavaScript\");\nString str = \"4*5\";\nSystem.out.println(engine.eval(str));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":281613,"reputation":1590,"user_id":578023,"accept_rate":96,"display_name":"That Realty Programmer Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582660031,"creation_date":1582660031,"answer_id":60402108,"question_id":2605032,"body_markdown":"There are some perfectly capable answers here. However for non-trivial script it may be desirable to retain the code in a cache, or for debugging purposes, or even to have dynamically self-updating code.\r\n\r\nTo that end, sometimes it&#39;s [simpler or more robust to interact with Java via command line][1]. [Create a temporary directory][2], [output your script][3] and any assets, [create the jar][4]. Finally [import your new code][5].\r\n\r\nIt&#39;s a bit beyond the scope of normal `eval()` use in most languages, though you could certainly implement eval by returning the result from some function in your jar. \r\n\r\nStill, thought I&#39;d mention this method as it does fully encapsulate everything Java can do without 3rd party tools, in case of desperation. This method allows me to turn HTML templates into objects and save them, avoiding the need to parse a template at runtime.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13467307/how-to-get-java-getruntime-exec-to-run-a-command-line-program-with-arguments\r\n  [2]: https://stackoverflow.com/questions/3634853/how-to-create-a-directory-in-java\r\n  [3]: https://www.baeldung.com/java-write-to-file\r\n  [4]: https://docs.oracle.com/javase/tutorial/deployment/jar/build.html\r\n  [5]: https://stackoverflow.com/questions/60764/how-to-load-jar-files-dynamically-at-runtime","title":"Is there an eval() function in Java?","body":"<p>There are some perfectly capable answers here. However for non-trivial script it may be desirable to retain the code in a cache, or for debugging purposes, or even to have dynamically self-updating code.</p>\n\n<p>To that end, sometimes it's <a href=\"https://stackoverflow.com/questions/13467307/how-to-get-java-getruntime-exec-to-run-a-command-line-program-with-arguments\">simpler or more robust to interact with Java via command line</a>. <a href=\"https://stackoverflow.com/questions/3634853/how-to-create-a-directory-in-java\">Create a temporary directory</a>, <a href=\"https://www.baeldung.com/java-write-to-file\" rel=\"nofollow noreferrer\">output your script</a> and any assets, <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/build.html\" rel=\"nofollow noreferrer\">create the jar</a>. Finally <a href=\"https://stackoverflow.com/questions/60764/how-to-load-jar-files-dynamically-at-runtime\">import your new code</a>.</p>\n\n<p>It's a bit beyond the scope of normal <code>eval()</code> use in most languages, though you could certainly implement eval by returning the result from some function in your jar. </p>\n\n<p>Still, thought I'd mention this method as it does fully encapsulate everything Java can do without 3rd party tools, in case of desperation. This method allows me to turn HTML templates into objects and save them, avoiding the need to parse a template at runtime.</p>\n"},{"tags":[],"owner":{"account_id":21135526,"reputation":1,"user_id":15539053,"display_name":"Melek Turan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617371323,"creation_date":1617371323,"answer_id":66920307,"question_id":2605032,"body_markdown":"\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    \r\n    class Calculate {\r\n        public static void main(String[] args) {\r\n            String  strng = &quot;8*-2*3*-1*10/2+6-2&quot;;\r\n            String[] oparator = {&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\r\n            List&lt;String&gt; op1 = new ArrayList&lt;&gt;();\r\n            String[] x = strng.split(&quot;&quot;);\r\n    \r\n            int sayac=0;\r\n            for (String i : x) {\r\n                sayac ++;\r\n                for (String c : oparator) {\r\n                    if (i.equals(c)) {\r\n    \r\n                       try {\r\n                           int j = Integer.parseInt(strng.substring(0, sayac - 1));\r\n                           op1.add(strng.substring(0, sayac - 1));\r\n                           op1.add(c);\r\n                           strng = strng.substring(sayac);\r\n                           sayac = 0;\r\n                       }catch (Exception e)\r\n                       {\r\n                           continue;\r\n                       }\r\n                    }\r\n    \r\n                }\r\n            }\r\n            op1.add(strng);\r\n    \r\n            ListIterator&lt;String&gt; it = op1.listIterator();\r\n            List&lt;List&gt; newlist = new ArrayList&lt;&gt;() ;\r\n    \r\n            while (it.hasNext()) {\r\n    \r\n                List&lt;String&gt; p= new ArrayList&lt;&gt;();\r\n                p.add(String.valueOf(it.nextIndex()));\r\n                p.add(it.next());\r\n                newlist.add(p);\r\n    \r\n            }\r\n    \r\n            int sayac2=0;\r\n            String oparatorvalue = &quot;*&quot;;\r\n            calculate(sayac2,newlist,oparatorvalue);\r\n            String oparatorvalue2 = &quot;/&quot;;\r\n            calculate(sayac2,newlist,oparatorvalue2);\r\n            String oparatorvalue3 = &quot;+&quot;;\r\n            calculate(sayac2,newlist,oparatorvalue3);\r\n            String oparatorvalue4 = &quot;-&quot;;\r\n            calculate(sayac2,newlist,oparatorvalue4);\r\n            System.out.println(&quot;Result:&quot;+newlist.get(0).get(1));\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        private static void calculate(int sayac2, List&lt;List&gt; newlist, String oparatorvalue) {\r\n            while (sayac2&lt;4){\r\n                try{\r\n                    for (List j : newlist) {\r\n                        if (j.get(1) == oparatorvalue) {\r\n                            Integer opindex = newlist.indexOf(j);\r\n                            Object sayi1 = newlist.get(opindex - 1).get(1);\r\n                            Object sayi2 = newlist.get(opindex + 1).get(1);\r\n                            int sonuc=0;\r\n                            if (oparatorvalue.equals(&quot;*&quot;)){\r\n    \r\n                             sonuc = Integer.parseInt(sayi1.toString()) * Integer.parseInt(sayi2.toString());\r\n                            }\r\n                            if (oparatorvalue.equals(&quot;/&quot;)){\r\n    \r\n                                sonuc = Integer.parseInt(sayi1.toString()) / Integer.parseInt(sayi2.toString());\r\n                            }\r\n                            if (oparatorvalue.equals(&quot;+&quot;)){\r\n    \r\n                                sonuc = Integer.parseInt(sayi1.toString()) + Integer.parseInt(sayi2.toString());\r\n                            }\r\n                            if (oparatorvalue.equals(&quot;-&quot;)){\r\n    \r\n                                sonuc = Integer.parseInt(sayi1.toString()) - Integer.parseInt(sayi2.toString());\r\n                            }\r\n                            newlist.remove(opindex - 1);\r\n                            newlist.remove(opindex - 1);\r\n                            newlist.remove(opindex - 1);\r\n                            List&lt;String&gt; sonuclist = new ArrayList&lt;&gt;();\r\n                            sonuclist.add(String.valueOf(opindex - 1));\r\n                            sonuclist.add(String.valueOf(sonuc));\r\n                            newlist.add(opindex - 1, sonuclist);\r\n                        }}}\r\n                catch (Exception e){\r\n                    continue;\r\n                }\r\n                sayac2++;}\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Is there an eval() function in Java?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.ListIterator;\n\nclass Calculate {\n    public static void main(String[] args) {\n        String  strng = &quot;8*-2*3*-1*10/2+6-2&quot;;\n        String[] oparator = {&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\n        List&lt;String&gt; op1 = new ArrayList&lt;&gt;();\n        String[] x = strng.split(&quot;&quot;);\n\n        int sayac=0;\n        for (String i : x) {\n            sayac ++;\n            for (String c : oparator) {\n                if (i.equals(c)) {\n\n                   try {\n                       int j = Integer.parseInt(strng.substring(0, sayac - 1));\n                       op1.add(strng.substring(0, sayac - 1));\n                       op1.add(c);\n                       strng = strng.substring(sayac);\n                       sayac = 0;\n                   }catch (Exception e)\n                   {\n                       continue;\n                   }\n                }\n\n            }\n        }\n        op1.add(strng);\n\n        ListIterator&lt;String&gt; it = op1.listIterator();\n        List&lt;List&gt; newlist = new ArrayList&lt;&gt;() ;\n\n        while (it.hasNext()) {\n\n            List&lt;String&gt; p= new ArrayList&lt;&gt;();\n            p.add(String.valueOf(it.nextIndex()));\n            p.add(it.next());\n            newlist.add(p);\n\n        }\n\n        int sayac2=0;\n        String oparatorvalue = &quot;*&quot;;\n        calculate(sayac2,newlist,oparatorvalue);\n        String oparatorvalue2 = &quot;/&quot;;\n        calculate(sayac2,newlist,oparatorvalue2);\n        String oparatorvalue3 = &quot;+&quot;;\n        calculate(sayac2,newlist,oparatorvalue3);\n        String oparatorvalue4 = &quot;-&quot;;\n        calculate(sayac2,newlist,oparatorvalue4);\n        System.out.println(&quot;Result:&quot;+newlist.get(0).get(1));\n\n\n    }\n\n\n    private static void calculate(int sayac2, List&lt;List&gt; newlist, String oparatorvalue) {\n        while (sayac2&lt;4){\n            try{\n                for (List j : newlist) {\n                    if (j.get(1) == oparatorvalue) {\n                        Integer opindex = newlist.indexOf(j);\n                        Object sayi1 = newlist.get(opindex - 1).get(1);\n                        Object sayi2 = newlist.get(opindex + 1).get(1);\n                        int sonuc=0;\n                        if (oparatorvalue.equals(&quot;*&quot;)){\n\n                         sonuc = Integer.parseInt(sayi1.toString()) * Integer.parseInt(sayi2.toString());\n                        }\n                        if (oparatorvalue.equals(&quot;/&quot;)){\n\n                            sonuc = Integer.parseInt(sayi1.toString()) / Integer.parseInt(sayi2.toString());\n                        }\n                        if (oparatorvalue.equals(&quot;+&quot;)){\n\n                            sonuc = Integer.parseInt(sayi1.toString()) + Integer.parseInt(sayi2.toString());\n                        }\n                        if (oparatorvalue.equals(&quot;-&quot;)){\n\n                            sonuc = Integer.parseInt(sayi1.toString()) - Integer.parseInt(sayi2.toString());\n                        }\n                        newlist.remove(opindex - 1);\n                        newlist.remove(opindex - 1);\n                        newlist.remove(opindex - 1);\n                        List&lt;String&gt; sonuclist = new ArrayList&lt;&gt;();\n                        sonuclist.add(String.valueOf(opindex - 1));\n                        sonuclist.add(String.valueOf(sonuc));\n                        newlist.add(opindex - 1, sonuclist);\n                    }}}\n            catch (Exception e){\n                continue;\n            }\n            sayac2++;}\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4596317,"reputation":902,"user_id":3728258,"display_name":"Vivek Vashistha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664345695,"creation_date":1664345695,"answer_id":73876930,"question_id":2605032,"body_markdown":"If you do not want to import heavy scripting library, you can use [SimpleExpressionEvaluator][1] directly into your code\r\n\r\n\r\n  [1]: https://github.com/vkvashistha/SimpleExpressionEvaluator/blob/main/src/main/java/com/geofriend/expressionevaluator/Expression.java\r\n\r\nUsage:\r\n```\r\nExpression.eval(&quot;1+2&quot;).asString(); // returns &quot;3.0&quot;\r\nExpression.eval(&quot;1+2&quot;).asInt(); // returns 3\r\nExpression.eval(&quot;2&gt;3&quot;).asString(); // returns &quot;false&quot;\r\nExpression.eval(&quot;2&gt;3&quot;).asBoolean(); // returns false\r\nExpression.eval(&quot;(3&gt;2)||((2&lt;4)&amp;&amp;(2&gt;1))&quot;).asString(); // returns &quot;true&quot;\r\n```\r\nWith variables:\r\n```\r\nHashMap&lt;String, Object&gt; st = new HashMap&lt;String, Object&gt;();  \r\nst.put(&quot;a&quot;,1);  \r\nst.put(&quot;b&quot;,2);  \r\nst.put(&quot;c&quot;,3);  \r\nst.put(&quot;d&quot;,4);  \r\nExpression.eval(&quot;a+b&quot;, st).asInt();  // or simply asString()\r\nExpression.eval(&quot;a&gt;b&quot;,st).asBoolean();  // or simply asString()\r\nExpression.eval(&quot;(c&gt;b)||((b&lt;d)&amp;&amp;(b&gt;a))&quot;,st).asBoolean();  // or simply asString()\r\nExpression.eval(&quot;(c&gt;2)||((2&lt;d)&amp;&amp;(b&gt;1))&quot;,st).asBoolean();  // or simply asString()\r\n```\r\nUsing ExpressionBuilder:\r\n```\r\nExpression.expressionBuilder().putSymbol(&quot;a&quot;,2).putSymbol(&quot;b&quot;,3).build(&quot;(b&gt;a)&quot;).evaluate()\r\n```","title":"Is there an eval() function in Java?","body":"<p>If you do not want to import heavy scripting library, you can use <a href=\"https://github.com/vkvashistha/SimpleExpressionEvaluator/blob/main/src/main/java/com/geofriend/expressionevaluator/Expression.java\" rel=\"nofollow noreferrer\">SimpleExpressionEvaluator</a> directly into your code</p>\n<p>Usage:</p>\n<pre><code>Expression.eval(&quot;1+2&quot;).asString(); // returns &quot;3.0&quot;\nExpression.eval(&quot;1+2&quot;).asInt(); // returns 3\nExpression.eval(&quot;2&gt;3&quot;).asString(); // returns &quot;false&quot;\nExpression.eval(&quot;2&gt;3&quot;).asBoolean(); // returns false\nExpression.eval(&quot;(3&gt;2)||((2&lt;4)&amp;&amp;(2&gt;1))&quot;).asString(); // returns &quot;true&quot;\n</code></pre>\n<p>With variables:</p>\n<pre><code>HashMap&lt;String, Object&gt; st = new HashMap&lt;String, Object&gt;();  \nst.put(&quot;a&quot;,1);  \nst.put(&quot;b&quot;,2);  \nst.put(&quot;c&quot;,3);  \nst.put(&quot;d&quot;,4);  \nExpression.eval(&quot;a+b&quot;, st).asInt();  // or simply asString()\nExpression.eval(&quot;a&gt;b&quot;,st).asBoolean();  // or simply asString()\nExpression.eval(&quot;(c&gt;b)||((b&lt;d)&amp;&amp;(b&gt;a))&quot;,st).asBoolean();  // or simply asString()\nExpression.eval(&quot;(c&gt;2)||((2&lt;d)&amp;&amp;(b&gt;1))&quot;,st).asBoolean();  // or simply asString()\n</code></pre>\n<p>Using ExpressionBuilder:</p>\n<pre><code>Expression.expressionBuilder().putSymbol(&quot;a&quot;,2).putSymbol(&quot;b&quot;,3).build(&quot;(b&gt;a)&quot;).evaluate()\n</code></pre>\n"}],"owner":{"account_id":106690,"reputation":5608,"user_id":284118,"accept_rate":56,"display_name":"karthi_ms"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231344,"favorite_count":0,"down_vote_count":0,"up_vote_count":169,"accepted_answer_id":2605051,"answer_count":14,"score":169,"last_activity_date":1664345695,"creation_date":1270786071,"question_id":2605032,"body_markdown":"I have a string like the following:\r\n\r\n    String str = &quot;4*5&quot;;\r\n\r\nNow I have to get the result of `20` by using the string.\r\n\r\nI know in some other languages the `eval()` function will do this.\r\nHow can I do this in Java?","title":"Is there an eval() function in Java?","body":"<p>I have a string like the following:</p>\n\n<pre><code>String str = \"4*5\";\n</code></pre>\n\n<p>Now I have to get the result of <code>20</code> by using the string.</p>\n\n<p>I know in some other languages the <code>eval()</code> function will do this.\nHow can I do this in Java?</p>\n"},{"tags":["java","algorithm","divide-and-conquer"],"comments":[{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1664342671,"post_id":73876431,"comment_id":130446564,"body_markdown":"Shouldn&#39;t it be `int k = numbers[numbers.length-1]`?","body":"Shouldn&#39;t it be <code>int k = numbers[numbers.length-1]</code>?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1664370768,"post_id":73876431,"comment_id":130456066,"body_markdown":"Please add a meaningful and useful title to this question.","body":"Please add a meaningful and useful title to this question."}],"answers":[{"tags":[],"owner":{"account_id":19516131,"reputation":54,"user_id":14278956,"display_name":"KeithZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664344799,"creation_date":1664344480,"answer_id":73876743,"question_id":73876431,"body_markdown":"The issue looks like its here with this code: \r\n\r\n```\r\n int k = numbers[numbers.length];\r\n int z = numbers[0];\r\n```\r\n\r\n\r\nThe correct code for this is, according to my eye at least: \r\n\r\n```\r\n int k = numbers[numbers.length - 1];\r\n int z = numbers[0];\r\n```\r\n\r\n\r\nCorrect this and the code will run.  When trying to assign number array length (I input 10 for size and this is used to assign number array to the value of size for testing purposes) to int k, its giving you the array index out of bounds exception because the input is +1 more than the index array length. With the input of 10 the output will be, with the correction: \r\n\r\nOUTPUT: \r\nEnter array size: 10\r\n\r\n\r\n45\r\nThe time taken by Linear Search is 67000 nanoseconds.\r\n45The time taken by Binary Search is 15400 nanoseconds.\r\n\r\n\r\nWhen you input 10, its out of bounds because the array starts at 0 and ends at 9 (when 10 is input by the user). So 10 is out of bounds. To do what youre trying to do, simply minus the 1 from the user input and that will give you the correct assigned length to int k. \r\n\r\nCheers!","title":"Please let me know where I am going wrong","body":"<p>The issue looks like its here with this code:</p>\n<pre><code> int k = numbers[numbers.length];\n int z = numbers[0];\n</code></pre>\n<p>The correct code for this is, according to my eye at least:</p>\n<pre><code> int k = numbers[numbers.length - 1];\n int z = numbers[0];\n</code></pre>\n<p>Correct this and the code will run.  When trying to assign number array length (I input 10 for size and this is used to assign number array to the value of size for testing purposes) to int k, its giving you the array index out of bounds exception because the input is +1 more than the index array length. With the input of 10 the output will be, with the correction:</p>\n<p>OUTPUT:\nEnter array size: 10</p>\n<p>45\nThe time taken by Linear Search is 67000 nanoseconds.\n45The time taken by Binary Search is 15400 nanoseconds.</p>\n<p>When you input 10, its out of bounds because the array starts at 0 and ends at 9 (when 10 is input by the user). So 10 is out of bounds. To do what youre trying to do, simply minus the 1 from the user input and that will give you the correct assigned length to int k.</p>\n<p>Cheers!</p>\n"}],"owner":{"account_id":10075433,"reputation":11,"user_id":7447717,"display_name":"Nidhi Berde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664564012,"accepted_answer_id":73876743,"answer_count":1,"score":0,"last_activity_date":1664344799,"creation_date":1664341782,"question_id":73876431,"body_markdown":"This is a program to find maximum subarray using Divide and Conquer.  \r\nI keep getting this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 10  \r\n   \tat Assignment1.main(Assignment1.java:67)\r\n\r\nI think I am passing incorrect variables in the function call but I&#39;m unsure\r\n\r\n~~~\r\nimport java.util.*;\r\n\r\npublic class Assignment1 {\r\n\tpublic static void main(String[] args){\r\n        \r\n\t\t\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Enter array size: &quot;);\r\n        int size = input.nextInt();\r\n        System.out.println();\r\n        //System.out.print(&quot;Enter array elements&quot;);\r\n        //System.out.println();\r\n\t\t\r\n\r\n        int[] numbers = new int[size];\r\n        for(int i=0; i&lt;numbers.length; i++){\r\n            numbers[i]= i;\r\n        }\r\n        \r\n        int k = numbers[numbers.length];\r\n        int z = numbers[0];\r\n        \r\n        // store the time now\r\n\t\tlong startTime = System.nanoTime();\r\n        // linear search for size (which is not in the array)\r\n        int output = bruteForce(numbers);\r\n        System.out.println();\r\n        System.out.print(output);\r\n        System.out.println();\r\n        // display the time elapsed\r\n\t\tSystem.out.println(&quot;The time taken by Linear Search is &quot; + (System.nanoTime() - startTime) + &quot; nanoseconds.&quot;);\r\n\t\t\r\n       /// prepare to measure the time elapsed again\r\n\t\tstartTime = System.nanoTime();\r\n        // binary search for size\r\n       \tint y = max_subarray(numbers,z,k);\r\n       \tSystem.out.print(y);\r\n        // display the time elapsed\r\n\t\tSystem.out.println(&quot;The time taken by Binary Search is &quot; + (System.nanoTime() - startTime) + &quot; nanoseconds.&quot;);\r\n\t\r\n\t}\r\n\r\n\tpublic static int bruteForce(int[] a) {\r\n    int n = a.length;\r\n    int maximumSubArraySum = Integer.MIN_VALUE;\r\n    int start = 0;\r\n    int end = 0;\r\n \r\n    for (int left = 0; left &lt; n; left++) {\r\n \r\n        int runningWindowSum = 0;\r\n \r\n        for (int right = left; right &lt; n; right++) {\r\n            runningWindowSum += a[right];\r\n \r\n            if (runningWindowSum &gt; maximumSubArraySum) {\r\n                maximumSubArraySum = runningWindowSum;\r\n                start = left;\r\n                end = right;\r\n            }\r\n        }\r\n    }\r\n    return maximumSubArraySum;\r\n    }\r\n    \r\n    public static int max(int a, int b, int c)\r\n  \t{\r\n    if (a&gt;=b &amp;&amp; a&gt;=c)\r\n      return a;\r\n    else if (b&gt;=a &amp;&amp; b&gt;=c)\r\n      return b;\r\n    return c;\r\n  \t}\r\n    \r\n    public static int max_subarray(int[] a, int low, int high) {\r\n    if (high == low)\r\n    {\r\n    \treturn a[high];\r\n    }\r\n    else {\r\n    \tint mid = ((low+high)/2);\r\n    \tint leftsum = max_subarray(a,low,mid);\r\n    \tint rightsum = max_subarray(a,mid+1,high);\r\n    \tint crosssum = maxCrossingSubarray(a,low,mid,high);\r\n    \treturn max(leftsum,crosssum,rightsum);\r\n    }}\r\n    \r\n    public static int maxCrossingSubarray(int[] a, int low, int mid, int high){\r\n    int leftsum = Integer.MIN_VALUE;\r\n    int sum =0;\r\n    for(int i=mid; i&gt;=low; i--){\r\n    sum += a[i];\r\n    if (sum&gt; leftsum)\r\n    {\r\n    \tleftsum = sum;\r\n    }}\r\n    \r\n    int rightsum = Integer.MIN_VALUE;\r\n    sum =0;\r\n    for(int j=mid+1; j&lt;=high; j++){\r\n    sum += a[j];\r\n    if (sum&gt; rightsum)\r\n    {\r\n    \trightsum = sum;\r\n    }}\r\n    \r\n    return(leftsum+rightsum);\r\n    }\r\n    \r\n}\r\n~~~\r\n","title":"Please let me know where I am going wrong","body":"<p>This is a program to find maximum subarray using Divide and Conquer.<br />\nI keep getting this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 10<br />\n    at Assignment1.main(Assignment1.java:67)</p>\n</blockquote>\n<p>I think I am passing incorrect variables in the function call but I'm unsure</p>\n<pre><code>import java.util.*;\n\npublic class Assignment1 {\n    public static void main(String[] args){\n        \n        \n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter array size: &quot;);\n        int size = input.nextInt();\n        System.out.println();\n        //System.out.print(&quot;Enter array elements&quot;);\n        //System.out.println();\n        \n\n        int[] numbers = new int[size];\n        for(int i=0; i&lt;numbers.length; i++){\n            numbers[i]= i;\n        }\n        \n        int k = numbers[numbers.length];\n        int z = numbers[0];\n        \n        // store the time now\n        long startTime = System.nanoTime();\n        // linear search for size (which is not in the array)\n        int output = bruteForce(numbers);\n        System.out.println();\n        System.out.print(output);\n        System.out.println();\n        // display the time elapsed\n        System.out.println(&quot;The time taken by Linear Search is &quot; + (System.nanoTime() - startTime) + &quot; nanoseconds.&quot;);\n        \n       /// prepare to measure the time elapsed again\n        startTime = System.nanoTime();\n        // binary search for size\n        int y = max_subarray(numbers,z,k);\n        System.out.print(y);\n        // display the time elapsed\n        System.out.println(&quot;The time taken by Binary Search is &quot; + (System.nanoTime() - startTime) + &quot; nanoseconds.&quot;);\n    \n    }\n\n    public static int bruteForce(int[] a) {\n    int n = a.length;\n    int maximumSubArraySum = Integer.MIN_VALUE;\n    int start = 0;\n    int end = 0;\n \n    for (int left = 0; left &lt; n; left++) {\n \n        int runningWindowSum = 0;\n \n        for (int right = left; right &lt; n; right++) {\n            runningWindowSum += a[right];\n \n            if (runningWindowSum &gt; maximumSubArraySum) {\n                maximumSubArraySum = runningWindowSum;\n                start = left;\n                end = right;\n            }\n        }\n    }\n    return maximumSubArraySum;\n    }\n    \n    public static int max(int a, int b, int c)\n    {\n    if (a&gt;=b &amp;&amp; a&gt;=c)\n      return a;\n    else if (b&gt;=a &amp;&amp; b&gt;=c)\n      return b;\n    return c;\n    }\n    \n    public static int max_subarray(int[] a, int low, int high) {\n    if (high == low)\n    {\n        return a[high];\n    }\n    else {\n        int mid = ((low+high)/2);\n        int leftsum = max_subarray(a,low,mid);\n        int rightsum = max_subarray(a,mid+1,high);\n        int crosssum = maxCrossingSubarray(a,low,mid,high);\n        return max(leftsum,crosssum,rightsum);\n    }}\n    \n    public static int maxCrossingSubarray(int[] a, int low, int mid, int high){\n    int leftsum = Integer.MIN_VALUE;\n    int sum =0;\n    for(int i=mid; i&gt;=low; i--){\n    sum += a[i];\n    if (sum&gt; leftsum)\n    {\n        leftsum = sum;\n    }}\n    \n    int rightsum = Integer.MIN_VALUE;\n    sum =0;\n    for(int j=mid+1; j&lt;=high; j++){\n    sum += a[j];\n    if (sum&gt; rightsum)\n    {\n        rightsum = sum;\n    }}\n    \n    return(leftsum+rightsum);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1664377786,"post_id":73875630,"comment_id":130458952,"body_markdown":"The PDF is certified, it allows &quot;comments&quot; but I don&#39;t know if this would include the widget annotation of a button.","body":"The PDF is certified, it allows &quot;comments&quot; but I don&#39;t know if this would include the widget annotation of a button."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1664379656,"post_id":73875630,"comment_id":130459730,"body_markdown":"If annotation changes are allowed, this includes changes of the appearance of a button.","body":"If annotation changes are allowed, this includes changes of the appearance of a button."}],"owner":{"account_id":26004573,"reputation":33,"user_id":19714479,"display_name":"cryingCat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664344558,"creation_date":1664332858,"question_id":73875630,"body_markdown":"I want to add a image to a digital signed pdf without invalid the digital signature. What i found is using a button and insert the image as a icon into the button. But this is only workable in acrobat. what about PDFbox? can it do the same as well?\r\n\r\nexample:\r\n\r\n[original pdf][1]\r\n\r\n[result i want][2]\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1V_FGNFeV8L6xXBAspSMnP90Tm8xnKIHc/view?usp=sharing\r\n  [2]: https://drive.google.com/file/d/1pSHo_lWJk7XGjnagIrCXVSl3IPbBCuP6/view?usp=sharing","title":"Can in add icon/image to a button field without invalid the digital cert using pdfbox?","body":"<p>I want to add a image to a digital signed pdf without invalid the digital signature. What i found is using a button and insert the image as a icon into the button. But this is only workable in acrobat. what about PDFbox? can it do the same as well?</p>\n<p>example:</p>\n<p><a href=\"https://drive.google.com/file/d/1V_FGNFeV8L6xXBAspSMnP90Tm8xnKIHc/view?usp=sharing\" rel=\"nofollow noreferrer\">original pdf</a></p>\n<p><a href=\"https://drive.google.com/file/d/1pSHo_lWJk7XGjnagIrCXVSl3IPbBCuP6/view?usp=sharing\" rel=\"nofollow noreferrer\">result i want</a></p>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664339886,"creation_date":1664339179,"answer_id":73876198,"question_id":73875388,"body_markdown":"Put those library in your gradle file.\r\n\r\n    //okhttp\r\n    implementation(platform(&quot;com.squareup.okhttp3:okhttp-bom:4.9.0&quot;))\r\n    implementation(&quot;com.squareup.okhttp3:okhttp&quot;)\r\n    implementation(&quot;com.squareup.okhttp3:logging-interceptor&quot;)\r\n    // gson\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n\r\nPut this line in your manifest..\r\n\r\n    &lt;application\r\n        ...\r\n        android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\nCreate new class as a `JsonUtils.java` in your project\r\n\r\n    public class JsonUtils {\r\n\r\n    public static String okhttpGET(String url) {\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .readTimeout(20000, TimeUnit.MILLISECONDS)\r\n                .writeTimeout(20000, TimeUnit.MILLISECONDS)\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .build();\r\n\r\n        try {\r\n            Response response = client.newCall(request).execute();\r\n            return response.body().string();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n    public static String okhttpPost(String url, RequestBody requestBody) {\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .readTimeout(25000, TimeUnit.MILLISECONDS)\r\n                .writeTimeout(25000, TimeUnit.MILLISECONDS)\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .post(requestBody)\r\n                .build();\r\n\r\n        try {\r\n            Response response = client.newCall(request).execute();\r\n            return response.body().string();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n    }\r\n\r\nNow time to read `Json` from `URL`, so here your url is `GET` method.\r\n\r\nso where you need to Read Json write just that code...\r\n\r\n    String json = JsonUtils.okhttpGET(&quot;https://jsonplaceholder.typicode.com/users&quot;);\r\n    \r\n    try{\r\n        JSONArray array = new JSONArray(json);\r\n        // continue decode your Json...\r\n           for (int i = 0; i &lt; main_array.length(); i++) {\r\n                JSONObject object = main_array.getJSONObject(i);\r\n\r\n                String id = object.getString(&quot;id&quot;);\r\n                String name = object.getString(&quot;name&quot;);\r\n                String username = object.getString(&quot;username&quot;);\r\n                String email = object.getString(&quot;email&quot;);\r\n\r\n                JSONObject address_object = object.getJSONObject(&quot;address&quot;);\r\n\r\n                String street = address_object.getString(&quot;street&quot;);\r\n                String suite = address_object.getString(&quot;suite&quot;);\r\n                String city = address_object.getString(&quot;city&quot;);\r\n                String zipcode = address_object.getString(&quot;zipcode&quot;);\r\n\r\n                JSONObject geo_object = address_object.getJSONObject(&quot;geo&quot;);\r\n\r\n                String lat = object.getString(&quot;lat&quot;);\r\n                String lng = object.getString(&quot;lng&quot;);\r\n\r\n                String phone = object.getString(&quot;phone&quot;);\r\n                String website = object.getString(&quot;website&quot;);\r\n                \r\n                JSONObject company_object = address_object.getJSONObject(&quot;company&quot;);\r\n\r\n                String company_name = object.getString(&quot;name&quot;);\r\n                String catchPhrase = object.getString(&quot;catchPhrase&quot;);\r\n                String bs = object.getString(&quot;bs&quot;);\r\n\r\n\r\n                // here you got all variables = id, name, username, email, street, suite, city, zipcode, lat, lng, phone, website, company_name, catchPhrase, bs\r\n            }\r\n    }catch(Exception e){\r\n        \r\n    }","title":"How can I analyse JSON in Java?","body":"<p>Put those library in your gradle file.</p>\n<pre><code>//okhttp\nimplementation(platform(&quot;com.squareup.okhttp3:okhttp-bom:4.9.0&quot;))\nimplementation(&quot;com.squareup.okhttp3:okhttp&quot;)\nimplementation(&quot;com.squareup.okhttp3:logging-interceptor&quot;)\n// gson\nimplementation 'com.google.code.gson:gson:2.9.0'\n</code></pre>\n<p>Put this line in your manifest..</p>\n<pre><code>&lt;application\n    ...\n    android:usesCleartextTraffic=&quot;true&quot;&gt;\n\n&lt;/application&gt;\n</code></pre>\n<p>Create new class as a <code>JsonUtils.java</code> in your project</p>\n<pre><code>public class JsonUtils {\n\npublic static String okhttpGET(String url) {\n    OkHttpClient client = new OkHttpClient.Builder()\n            .readTimeout(20000, TimeUnit.MILLISECONDS)\n            .writeTimeout(20000, TimeUnit.MILLISECONDS)\n            .build();\n\n    Request request = new Request.Builder()\n            .url(url)\n            .build();\n\n    try {\n        Response response = client.newCall(request).execute();\n        return response.body().string();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return &quot;&quot;;\n    }\n}\n\npublic static String okhttpPost(String url, RequestBody requestBody) {\n    OkHttpClient client = new OkHttpClient.Builder()\n            .readTimeout(25000, TimeUnit.MILLISECONDS)\n            .writeTimeout(25000, TimeUnit.MILLISECONDS)\n            .build();\n\n    Request request = new Request.Builder()\n            .url(url)\n            .post(requestBody)\n            .build();\n\n    try {\n        Response response = client.newCall(request).execute();\n        return response.body().string();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return &quot;&quot;;\n    }\n}\n}\n</code></pre>\n<p>Now time to read <code>Json</code> from <code>URL</code>, so here your url is <code>GET</code> method.</p>\n<p>so where you need to Read Json write just that code...</p>\n<pre><code>String json = JsonUtils.okhttpGET(&quot;https://jsonplaceholder.typicode.com/users&quot;);\n\ntry{\n    JSONArray array = new JSONArray(json);\n    // continue decode your Json...\n       for (int i = 0; i &lt; main_array.length(); i++) {\n            JSONObject object = main_array.getJSONObject(i);\n\n            String id = object.getString(&quot;id&quot;);\n            String name = object.getString(&quot;name&quot;);\n            String username = object.getString(&quot;username&quot;);\n            String email = object.getString(&quot;email&quot;);\n\n            JSONObject address_object = object.getJSONObject(&quot;address&quot;);\n\n            String street = address_object.getString(&quot;street&quot;);\n            String suite = address_object.getString(&quot;suite&quot;);\n            String city = address_object.getString(&quot;city&quot;);\n            String zipcode = address_object.getString(&quot;zipcode&quot;);\n\n            JSONObject geo_object = address_object.getJSONObject(&quot;geo&quot;);\n\n            String lat = object.getString(&quot;lat&quot;);\n            String lng = object.getString(&quot;lng&quot;);\n\n            String phone = object.getString(&quot;phone&quot;);\n            String website = object.getString(&quot;website&quot;);\n            \n            JSONObject company_object = address_object.getJSONObject(&quot;company&quot;);\n\n            String company_name = object.getString(&quot;name&quot;);\n            String catchPhrase = object.getString(&quot;catchPhrase&quot;);\n            String bs = object.getString(&quot;bs&quot;);\n\n\n            // here you got all variables = id, name, username, email, street, suite, city, zipcode, lat, lng, phone, website, company_name, catchPhrase, bs\n        }\n}catch(Exception e){\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11079440,"reputation":360,"user_id":8135043,"display_name":"Shahnawaz Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664340318,"creation_date":1664340318,"answer_id":73876303,"question_id":73875388,"body_markdown":"To parse json into an object there are a couple of libraries you can use which makes it easier to parse. One of which is GSON Library\r\n\r\nFirst add Gson to your app level gradle file.\r\n\r\n      implementation &#39;com.google.code.gson:gson:2.9.1&#39;\r\nAfter that you can use below code to parse your required json. This is an example to parse a JSONObject to an object class. Array can be parsed a bit differently\r\n\r\n    User userModel = new Gson().fromJson(\r\n                    json.optJSONObject(&quot;data&quot;).toString(),\r\n                    User.java)\r\n\r\nTo parse JsonArray as in your case below code can be used.\r\n\r\n    Gson gson = new Gson();\r\n    String jsonOutput =  json.optJSONArray(&quot;data&quot;).toString();\r\n    Type listType = new TypeToken&lt;List&lt;User&gt;&gt;(){}.getType();\r\n    List&lt;User&gt; userList = gson.fromJson(jsonOutput, listType);","title":"How can I analyse JSON in Java?","body":"<p>To parse json into an object there are a couple of libraries you can use which makes it easier to parse. One of which is GSON Library</p>\n<p>First add Gson to your app level gradle file.</p>\n<pre><code>  implementation 'com.google.code.gson:gson:2.9.1'\n</code></pre>\n<p>After that you can use below code to parse your required json. This is an example to parse a JSONObject to an object class. Array can be parsed a bit differently</p>\n<pre><code>User userModel = new Gson().fromJson(\n                json.optJSONObject(&quot;data&quot;).toString(),\n                User.java)\n</code></pre>\n<p>To parse JsonArray as in your case below code can be used.</p>\n<pre><code>Gson gson = new Gson();\nString jsonOutput =  json.optJSONArray(&quot;data&quot;).toString();\nType listType = new TypeToken&lt;List&lt;User&gt;&gt;(){}.getType();\nList&lt;User&gt; userList = gson.fromJson(jsonOutput, listType);\n</code></pre>\n"}],"owner":{"account_id":26464782,"reputation":13,"user_id":20106146,"display_name":"Suhas Kamath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73876303,"answer_count":2,"score":1,"last_activity_date":1664344322,"creation_date":1664329695,"question_id":73875388,"body_markdown":"I am doing a project for the Mobile Application Development unit.\r\nI am to read and parse the JSON from https://jsonplaceholder.typicode.com/users and display it in a list.\r\n\r\nI am unsure on how the JSON can be parsed.\r\n\r\nI am currently using the following script, but getting the JSONTypeMismatch error.\r\n\r\nAny help is appreciated. Thanks in advance.\r\n\r\n    try\r\n            {\r\n                URL url = new URL(&quot;https://jsonplaceholder.typicode.com/users&quot;);\r\n                con = (HttpURLConnection) url.openConnection();\r\n                con.connect();\r\n\r\n                JSONObject jBase = new JSONObject(IOUtils.toString(con.getInputStream(), StandardCharsets.UTF_8));\r\n\r\n                JSONArray data = new JSONArray(IOUtils.toString(con.getInputStream(), StandardCharsets.UTF_8));\r\n                \r\n\r\n                for (int i = 0; i &lt; data.length(); i++)\r\n                {\r\n                    JSONObject user = data.getJSONObject(i);\r\n                    users.add(new User(user.getInt(&quot;id&quot;), user.getString(&quot;name&quot;), user.getString(&quot;username&quot;), user.getString(&quot;email&quot;), user.getJSONObject(&quot;address&quot;), user.getString(&quot;phone&quot;), user.getString(&quot;website&quot;), user.getJSONObject(&quot;company&quot;)));\r\n                }\r\n            }\r\n            catch (MalformedURLException e) {Toast.makeText(getApplicationContext(), &quot;Malformed URL!&quot;, Toast.LENGTH_SHORT).show();}\r\n            catch (IOException e)           {Toast.makeText(getApplicationContext(), &quot;IOException!&quot;, Toast.LENGTH_SHORT).show();}\r\n            catch (IllegalStateException e) {Toast.makeText(getApplicationContext(), &quot;HTTP Error!&quot;, Toast.LENGTH_SHORT).show();}\r\n            catch (JSONException e)         {e.printStackTrace();}\r\n            finally                         {con.disconnect();}\r\n    ","title":"How can I analyse JSON in Java?","body":"<p>I am doing a project for the Mobile Application Development unit.\nI am to read and parse the JSON from <a href=\"https://jsonplaceholder.typicode.com/users\" rel=\"nofollow noreferrer\">https://jsonplaceholder.typicode.com/users</a> and display it in a list.</p>\n<p>I am unsure on how the JSON can be parsed.</p>\n<p>I am currently using the following script, but getting the JSONTypeMismatch error.</p>\n<p>Any help is appreciated. Thanks in advance.</p>\n<pre><code>try\n        {\n            URL url = new URL(&quot;https://jsonplaceholder.typicode.com/users&quot;);\n            con = (HttpURLConnection) url.openConnection();\n            con.connect();\n\n            JSONObject jBase = new JSONObject(IOUtils.toString(con.getInputStream(), StandardCharsets.UTF_8));\n\n            JSONArray data = new JSONArray(IOUtils.toString(con.getInputStream(), StandardCharsets.UTF_8));\n            \n\n            for (int i = 0; i &lt; data.length(); i++)\n            {\n                JSONObject user = data.getJSONObject(i);\n                users.add(new User(user.getInt(&quot;id&quot;), user.getString(&quot;name&quot;), user.getString(&quot;username&quot;), user.getString(&quot;email&quot;), user.getJSONObject(&quot;address&quot;), user.getString(&quot;phone&quot;), user.getString(&quot;website&quot;), user.getJSONObject(&quot;company&quot;)));\n            }\n        }\n        catch (MalformedURLException e) {Toast.makeText(getApplicationContext(), &quot;Malformed URL!&quot;, Toast.LENGTH_SHORT).show();}\n        catch (IOException e)           {Toast.makeText(getApplicationContext(), &quot;IOException!&quot;, Toast.LENGTH_SHORT).show();}\n        catch (IllegalStateException e) {Toast.makeText(getApplicationContext(), &quot;HTTP Error!&quot;, Toast.LENGTH_SHORT).show();}\n        catch (JSONException e)         {e.printStackTrace();}\n        finally                         {con.disconnect();}\n</code></pre>\n"},{"tags":["java","arrays","sum","arr","minmax"],"comments":[{"owner":{"account_id":19684587,"reputation":11,"user_id":14410854,"display_name":"hii"},"score":0,"creation_date":1664381625,"post_id":73874809,"comment_id":130460374,"body_markdown":"I was able to solve it using longs instead of ints!!","body":"I was able to solve it using longs instead of ints!!"}],"answers":[{"tags":[],"owner":{"account_id":18216119,"reputation":59,"user_id":13257777,"display_name":"mcieciel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664344144,"creation_date":1664344144,"answer_id":73876698,"question_id":73874809,"body_markdown":"Try sth like this of class Result:\r\n\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n\r\n    public class Result {\r\n\r\n      public static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n        // Write your code here\r\n        //initialize min and max sum\r\n        int minsum = 0;\r\n        int maxsum = 0;\r\n        int minVal = Collections.max(arr);\r\n        int maxVal = Collections.min(arr);\r\n        int sum = sum(arr);\r\n\r\n        minsum = sum - maxVal;\r\n        maxsum = sum - minVal;\r\n\r\n        //prints out results\r\n        System.out.println(minsum + &quot; &quot; + maxsum);\r\n\r\n      }\r\n\r\n      private static int sum(List&lt;Integer&gt; array) {\r\n        int sum = 0;\r\n        for (int value : array) {\r\n            sum += value;\r\n        }\r\n        return sum;\r\n      }\r\n}","title":"Min-Max Sum, given 5 ints find min sum and max sum","body":"<p>Try sth like this of class Result:</p>\n<pre><code>import java.util.Collections;\nimport java.util.List;\n\npublic class Result {\n\n  public static void miniMaxSum(List&lt;Integer&gt; arr) {\n    // Write your code here\n    //initialize min and max sum\n    int minsum = 0;\n    int maxsum = 0;\n    int minVal = Collections.max(arr);\n    int maxVal = Collections.min(arr);\n    int sum = sum(arr);\n\n    minsum = sum - maxVal;\n    maxsum = sum - minVal;\n\n    //prints out results\n    System.out.println(minsum + &quot; &quot; + maxsum);\n\n  }\n\n  private static int sum(List&lt;Integer&gt; array) {\n    int sum = 0;\n    for (int value : array) {\n        sum += value;\n    }\n    return sum;\n  }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":19684587,"reputation":11,"user_id":14410854,"display_name":"hii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664344144,"creation_date":1664322209,"question_id":73874809,"body_markdown":"Given five positive integers, find the minimum and maximum values that can be calculated by summing exactly four of the five integers. Then print the respective minimum and maximum values as a single line of two space-separated long integers.\r\n\r\nExample\r\n\r\narr = [1,3,5,7,9]\r\n\r\nThe minimum sum is 1 + 3 + 5 + 7 = 16 and the maximum sum is 3 + 5 + 7 + 9 = 24. The function prints\r\n\r\n16 24\r\n\r\nBasically, add the array each time excluding one element and check which is the min and max sum.\r\n\r\n```\r\nclass Result {\r\n\r\n    /*\r\n     * Complete the &#39;miniMaxSum&#39; function below.\r\n     *\r\n     * The function accepts INTEGER_ARRAY arr as parameter.\r\n     */\r\n\r\n    public static void miniMaxSum(List&lt;Integer&gt; arr) {\r\n    // Write your code here\r\n        //initialize min and max sum\r\n        int minsum = 0;\r\n        int maxsum = 0;\r\n        int minVal = arr.get(0);\r\n        int maxVal = arr.get(0);\r\n        \r\n        //sum of minsum\r\n        for(int i=0; i&lt;arr.size(); i++){\r\n           if(arr.get(i) &gt; maxVal){\r\n               maxVal = arr.get(i);\r\n           }\r\n            minsum += arr.get(i);\r\n        }\r\n        minsum= minsum - maxVal;\r\n        \r\n        //sum for maxsum\r\n        for(int i=0; i&lt;arr.size(); i++){\r\n            if(arr.get(i) &lt; minVal){\r\n                minVal = arr.get(i);\r\n            }\r\n            maxsum += arr.get(i);   \r\n        } \r\n        maxsum = maxsum - minVal;\r\n        \r\n        //prints out results\r\n        System.out.println(minsum + &quot; &quot; + maxsum);\r\n        \r\n    }\r\n\r\n}\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n        List&lt;Integer&gt; arr = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n            .map(Integer::parseInt)\r\n            .collect(toList());\r\n\r\n        Result.miniMaxSum(arr);\r\n\r\n        bufferedReader.close();\r\n    }\r\n}\r\n[first two results say they are correct then it says 10/15 failed][1]\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Lmd8.jpg","title":"Min-Max Sum, given 5 ints find min sum and max sum","body":"<p>Given five positive integers, find the minimum and maximum values that can be calculated by summing exactly four of the five integers. Then print the respective minimum and maximum values as a single line of two space-separated long integers.</p>\n<p>Example</p>\n<p>arr = [1,3,5,7,9]</p>\n<p>The minimum sum is 1 + 3 + 5 + 7 = 16 and the maximum sum is 3 + 5 + 7 + 9 = 24. The function prints</p>\n<p>16 24</p>\n<p>Basically, add the array each time excluding one element and check which is the min and max sum.</p>\n<pre><code>class Result {\n\n    /*\n     * Complete the 'miniMaxSum' function below.\n     *\n     * The function accepts INTEGER_ARRAY arr as parameter.\n     */\n\n    public static void miniMaxSum(List&lt;Integer&gt; arr) {\n    // Write your code here\n        //initialize min and max sum\n        int minsum = 0;\n        int maxsum = 0;\n        int minVal = arr.get(0);\n        int maxVal = arr.get(0);\n        \n        //sum of minsum\n        for(int i=0; i&lt;arr.size(); i++){\n           if(arr.get(i) &gt; maxVal){\n               maxVal = arr.get(i);\n           }\n            minsum += arr.get(i);\n        }\n        minsum= minsum - maxVal;\n        \n        //sum for maxsum\n        for(int i=0; i&lt;arr.size(); i++){\n            if(arr.get(i) &lt; minVal){\n                minVal = arr.get(i);\n            }\n            maxsum += arr.get(i);   \n        } \n        maxsum = maxsum - minVal;\n        \n        //prints out results\n        System.out.println(minsum + &quot; &quot; + maxsum);\n        \n    }\n\n}\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\n        List&lt;Integer&gt; arr = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .collect(toList());\n\n        Result.miniMaxSum(arr);\n\n        bufferedReader.close();\n    }\n}\n[first two results say they are correct then it says 10/15 failed][1]\n</code></pre>\n"},{"tags":["java","generics","lambda","variadic-functions","consumer"],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664156293,"creation_date":1664156293,"answer_id":73848916,"question_id":73824261,"body_markdown":"The most specific common supertype of `T[]`, `T[][]`, `T[][][]`, etc. is `Object[]`. So your method can take an `Object[]` (or equivalently, `Object...`) parameter, but that means you lose type safety -- the compiler will not check that the passed argument is type `T[]`, `T[][]`, `T[][][]`, etc.\r\n\r\n(Thankfully, we don&#39;t need to deal with arrays of primitive types. If we had to deal with arrays of primitive types, the only common supertype we can use is `Object`, and we would have to use the methods of `java.lang.reflect.Array` to interact with it generically. However, since we are only dealing with arrays of reference types, we can use the supertype of `Object[]`, and can use regular array operations on the `Object[]`.)\r\n\r\nSo your `iterate()` method can be something like this:\r\n\r\n    default void iterate(Object... obj) {\r\n        for (int i = 0; i &lt; obj.length; i++) {\r\n            if (obj[i] instanceof Object[]) {\r\n                iterate((Object[]) obj[i]);\r\n            } else {\r\n                 obj[i] = execute((T) obj[i]);\r\n            }\r\n        }\r\n    }\r\n\r\nAnother thing to mention is that this will only work when `T` isn&#39;t itself a subtype of `Object[]`. This method doesn&#39;t know what `T` is, and will simply recurse down to the first level that isn&#39;t an instance of `Object[]`, and assumes that that is `T`. But if `T` is itself an array-of-reference-type type, then this will recurse down too deeply into the component type of `T`.","title":"varargs with single and multi-dimentional arrays","body":"<p>The most specific common supertype of <code>T[]</code>, <code>T[][]</code>, <code>T[][][]</code>, etc. is <code>Object[]</code>. So your method can take an <code>Object[]</code> (or equivalently, <code>Object...</code>) parameter, but that means you lose type safety -- the compiler will not check that the passed argument is type <code>T[]</code>, <code>T[][]</code>, <code>T[][][]</code>, etc.</p>\n<p>(Thankfully, we don't need to deal with arrays of primitive types. If we had to deal with arrays of primitive types, the only common supertype we can use is <code>Object</code>, and we would have to use the methods of <code>java.lang.reflect.Array</code> to interact with it generically. However, since we are only dealing with arrays of reference types, we can use the supertype of <code>Object[]</code>, and can use regular array operations on the <code>Object[]</code>.)</p>\n<p>So your <code>iterate()</code> method can be something like this:</p>\n<pre><code>default void iterate(Object... obj) {\n    for (int i = 0; i &lt; obj.length; i++) {\n        if (obj[i] instanceof Object[]) {\n            iterate((Object[]) obj[i]);\n        } else {\n             obj[i] = execute((T) obj[i]);\n        }\n    }\n}\n</code></pre>\n<p>Another thing to mention is that this will only work when <code>T</code> isn't itself a subtype of <code>Object[]</code>. This method doesn't know what <code>T</code> is, and will simply recurse down to the first level that isn't an instance of <code>Object[]</code>, and assumes that that is <code>T</code>. But if <code>T</code> is itself an array-of-reference-type type, then this will recurse down too deeply into the component type of <code>T</code>.</p>\n"},{"tags":[],"owner":{"account_id":26419971,"reputation":3,"user_id":20067761,"display_name":"Little_Geek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664343466,"creation_date":1664343466,"answer_id":73876623,"question_id":73824261,"body_markdown":"The answer posted by `@newacct`, is correct. And it comes at a cost of manual type casting for following cases:\r\n\r\n    MyConsumer&lt;Integer&gt; m = n -&gt; n * n;\r\n    Object[] res = m.run(10);\r\n    for(Object i : res) {\r\n        System.out.println((Integer)i));\r\n    }\r\nor \r\n\r\n    MyConsumer&lt;Integer&gt; m = n -&gt; n * n;\r\n    Integer[][] a = new Integer[][]{{10, 100}, {20}};\r\n    Integer[][] b = new Integer[][]{{10}, {20}};\r\n    Object[] c = m.run(a, b);\r\n    for(Object res : c) {\r\n        for (Object[] i : (Object[][])res) {\r\n            for (Object j : i) {\r\n                System.out.println((Integer)j);\r\n            }\r\n        }\r\n    }","title":"varargs with single and multi-dimentional arrays","body":"<p>The answer posted by <code>@newacct</code>, is correct. And it comes at a cost of manual type casting for following cases:</p>\n<pre><code>MyConsumer&lt;Integer&gt; m = n -&gt; n * n;\nObject[] res = m.run(10);\nfor(Object i : res) {\n    System.out.println((Integer)i));\n}\n</code></pre>\n<p>or</p>\n<pre><code>MyConsumer&lt;Integer&gt; m = n -&gt; n * n;\nInteger[][] a = new Integer[][]{{10, 100}, {20}};\nInteger[][] b = new Integer[][]{{10}, {20}};\nObject[] c = m.run(a, b);\nfor(Object res : c) {\n    for (Object[] i : (Object[][])res) {\n        for (Object j : i) {\n            System.out.println((Integer)j);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26419971,"reputation":3,"user_id":20067761,"display_name":"Little_Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73848916,"answer_count":2,"score":0,"last_activity_date":1664343466,"creation_date":1663917752,"question_id":73824261,"body_markdown":"I have the following code in java working fine for var args and single dimensional arrays.    \r\n\r\n    public class Main {\r\n      public static void main(String[] args) throws ClassNotFoundException {\r\n        MyConsumer&lt;Integer&gt; method1 = n -&gt; n * n;\r\n        Integer[] result1 = method1.run(10);\r\n        for(Integer i : result1) {\r\n            System.out.println(i);\r\n        }\r\n        \r\n        MyConsumer&lt;Integer&gt; method3 = n -&gt; n * n;\r\n        Integer[] result3 = new Integer[]{10, 100};\r\n        method3.run(result3);\r\n        for(Integer i : result3) {\r\n            System.out.println(i);\r\n        }\r\n      }\r\n    }\r\n    interface MyConsumer&lt;T&gt; {\r\n        T execute(T args);\r\n        default T[] run(T ...args) throws ClassNotFoundException {\r\n            if (args.length &gt; 0) {\r\n                iterate(args);\r\n                return args;\r\n            }\r\n            return null;\r\n        }\r\n        default void iterate(T ...obj) {\r\n            for (int i = 0; i &lt; obj.length; i++) {\r\n                if (obj[i].getClass().isArray()) {\r\n                    iterate(obj[i]);\r\n                } else {\r\n                     obj[i] = execute(obj[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nNow I want this to work for multidimensional arrays as well, like for the following:\r\n\r\n    MyConsumer&lt;Integer&gt; method5 = n -&gt; n * n;\r\n    Integer[][] result5 = new Integer[][]{{10, 100}, {20}};\r\n    method5.run(result5);\r\n    for(Integer[] i : result5) {\r\n        for (Integer j : i) {\r\n            System.out.println(j);\r\n        }\r\n    }\r\n\r\nThe above fails to compile with the following error\r\n\r\n    error: method run in interface MyConsumer cannot be applied to given types;\r\n\r\nThe code in the interface will work for var args and all dimensional arrays, but the problem here is to accept a multi dimensional array as varargs parameter we have to define the parameter type and return type with that no.of dimensions like for -\r\n\r\n - 2 dimensional parameter type is `T[]... args` and return type is `T[][]`\r\n - 3 dimensional parameter type is `T[][]... args` and return type is `T[][][]`\r\n\r\nCan someone please suggest me the solution or other alternatives!!\r\nSolutions I thought are method overloading.\r\n\r\nThanks in advance!","title":"varargs with single and multi-dimentional arrays","body":"<p>I have the following code in java working fine for var args and single dimensional arrays.</p>\n<pre><code>public class Main {\n  public static void main(String[] args) throws ClassNotFoundException {\n    MyConsumer&lt;Integer&gt; method1 = n -&gt; n * n;\n    Integer[] result1 = method1.run(10);\n    for(Integer i : result1) {\n        System.out.println(i);\n    }\n    \n    MyConsumer&lt;Integer&gt; method3 = n -&gt; n * n;\n    Integer[] result3 = new Integer[]{10, 100};\n    method3.run(result3);\n    for(Integer i : result3) {\n        System.out.println(i);\n    }\n  }\n}\ninterface MyConsumer&lt;T&gt; {\n    T execute(T args);\n    default T[] run(T ...args) throws ClassNotFoundException {\n        if (args.length &gt; 0) {\n            iterate(args);\n            return args;\n        }\n        return null;\n    }\n    default void iterate(T ...obj) {\n        for (int i = 0; i &lt; obj.length; i++) {\n            if (obj[i].getClass().isArray()) {\n                iterate(obj[i]);\n            } else {\n                 obj[i] = execute(obj[i]);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now I want this to work for multidimensional arrays as well, like for the following:</p>\n<pre><code>MyConsumer&lt;Integer&gt; method5 = n -&gt; n * n;\nInteger[][] result5 = new Integer[][]{{10, 100}, {20}};\nmethod5.run(result5);\nfor(Integer[] i : result5) {\n    for (Integer j : i) {\n        System.out.println(j);\n    }\n}\n</code></pre>\n<p>The above fails to compile with the following error</p>\n<pre><code>error: method run in interface MyConsumer cannot be applied to given types;\n</code></pre>\n<p>The code in the interface will work for var args and all dimensional arrays, but the problem here is to accept a multi dimensional array as varargs parameter we have to define the parameter type and return type with that no.of dimensions like for -</p>\n<ul>\n<li>2 dimensional parameter type is <code>T[]... args</code> and return type is <code>T[][]</code></li>\n<li>3 dimensional parameter type is <code>T[][]... args</code> and return type is <code>T[][][]</code></li>\n</ul>\n<p>Can someone please suggest me the solution or other alternatives!!\nSolutions I thought are method overloading.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1664341565,"post_id":73876389,"comment_id":130446371,"body_markdown":"For every iteration of the inner loop, the range of elements is decreasing by 1 - why? I have no idea what this logic is trying to achieve.","body":"For every iteration of the inner loop, the range of elements is decreasing by 1 - why? I have no idea what this logic is trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664343391,"creation_date":1664342000,"answer_id":73876444,"question_id":73876389,"body_markdown":"This is a simple swap (bubble) sort algorithm.  For a list of length `N` to be sorted, it walks across the list `N - 1` times, swapping entries to move larger values towards the end of the list and smaller values towards the beginning.  After the first pass, the last item in the list is guaranteed to be in the right location.  So for the second pass, the inner loop doesn&#39;t have to consider the last possible swap.  After the second pass, the last two items are guaranteed to be in the right place, so the inner loop can now ignore the last two swaps.  After the third pass, the last three items are guaranteed to be in the right place. And so on and so on.\r\n\r\nThe `arrays.length - i - 1` expression is accounting for the fact that with each pass over the list, there is one less pair of items that has to be considered, per the explanation above.  Due to this expression, on the last pass over the list (the last iteration of the outer loop), only the first and second items in the list can possibly be out of order, so only a single comparison and possible swap is done in the last iteration.\r\n\r\n","title":"How does arrays.length - i - 1 work in this code (How does a bubble sort work)?","body":"<p>This is a simple swap (bubble) sort algorithm.  For a list of length <code>N</code> to be sorted, it walks across the list <code>N - 1</code> times, swapping entries to move larger values towards the end of the list and smaller values towards the beginning.  After the first pass, the last item in the list is guaranteed to be in the right location.  So for the second pass, the inner loop doesn't have to consider the last possible swap.  After the second pass, the last two items are guaranteed to be in the right place, so the inner loop can now ignore the last two swaps.  After the third pass, the last three items are guaranteed to be in the right place. And so on and so on.</p>\n<p>The <code>arrays.length - i - 1</code> expression is accounting for the fact that with each pass over the list, there is one less pair of items that has to be considered, per the explanation above.  Due to this expression, on the last pass over the list (the last iteration of the outer loop), only the first and second items in the list can possibly be out of order, so only a single comparison and possible swap is done in the last iteration.</p>\n"}],"owner":{"account_id":26460199,"reputation":3,"user_id":20102263,"display_name":"Thu Ra Lynn Htun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73876444,"answer_count":1,"score":0,"last_activity_date":1664343415,"creation_date":1664341350,"question_id":73876389,"body_markdown":"I have been learning data structure and algorithm in Java and I don&#39;t know how this line of code work in this code. At the second line of code , there is nested looping and I still don&#39;t understand how that line works. How does array.length - i - 1 work in my code? And the code is about bubble sorting.\r\nFollowing is the code snippet.\r\n\r\n\tfor(int i = 0; i &lt; array.length - 1 ; i++) {\r\n\t\tfor(int j = 0 ; j &lt; array.length - i - 1 ; j++) {\r\n\t\t\tif(array[j] &gt; array[j+1]) {\r\n\t\t\t\tint temp = array[j];\r\n\t\t\t\tarray[j] = array[j+1];\r\n\t\t\t\tarray[j+1] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n","title":"How does arrays.length - i - 1 work in this code (How does a bubble sort work)?","body":"<p>I have been learning data structure and algorithm in Java and I don't know how this line of code work in this code. At the second line of code , there is nested looping and I still don't understand how that line works. How does array.length - i - 1 work in my code? And the code is about bubble sorting.\nFollowing is the code snippet.</p>\n<pre><code>for(int i = 0; i &lt; array.length - 1 ; i++) {\n    for(int j = 0 ; j &lt; array.length - i - 1 ; j++) {\n        if(array[j] &gt; array[j+1]) {\n            int temp = array[j];\n            array[j] = array[j+1];\n            array[j+1] = temp;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","email","mailchimp"],"comments":[{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1435721558,"post_id":23862939,"comment_id":50313862,"body_markdown":"If that is your real `apikey` from MailChimp, I suggest you edit your post to remove it or obfuscate it so that your lists do not get hijacked","body":"If that is your real <code>apikey</code> from MailChimp, I suggest you edit your post to remove it or obfuscate it so that your lists do not get hijacked"}],"answers":[{"tags":[],"owner":{"account_id":7126025,"reputation":61,"user_id":5448929,"display_name":"aditya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1479743818,"creation_date":1444901588,"answer_id":33144855,"question_id":23862939,"body_markdown":"Try this:\r\n\r\n     MailChimpClient mailChimpClient = new MailChimpClient();\r\n     ListsMethod listsMethod = new ListsMethod();\r\n     listsMethod.apikey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\n     ListsResult listsResult = mailChimpClient.execute(listsMethod);\r\n     ListInformation data = listsResult.data.get(0);\r\n     System.out.println(data);\r\n     try {\r\n         CampaignCreateMethod campaignCreateMethod = new CampaignCreateMethod();\r\n\r\n         campaignCreateMethod.apikey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\n         campaignCreateMethod.type = CampaignType.regular;\r\n\r\n         MailChimpObject options = new MailChimpObject();\r\n\r\n         campaignCreateMethod.options = new MailChimpObject();\r\n         options.put(&quot;list_id&quot;, &quot;xxxxxxxxxxc&quot;);\r\n         options.put(&quot;subject&quot;, &quot;xxxxxxxxxxxxxxxx&quot;);\r\n         options.put(&quot;from_email&quot;, &quot;xxxx@ssss.in&quot;);\r\n         options.put(&quot;from_name&quot;, &quot;xxxxx&quot;);\r\n         options.put(&quot;authenticate&quot;, true);\r\n         options.put(&quot;title&quot;, &quot;xxxxxxx&quot;);\r\n         options.put(&quot;tracking&quot;, &quot;&quot;);\r\n         campaignCreateMethod.options = options;\r\n\r\n\r\n         String str = &quot;&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;h1 text-align = center&gt;hi&lt;/h1&gt; &lt;/head&gt;&lt;body text-align=centre&gt;&lt;a herf=&#39;https://apidocs.mailchimp.com/api/2.0/campaigns/create.php&#39;&gt;&lt;i&gt;My First CSS Example&lt;/i&gt;&lt;/a&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;/body&gt; &lt;/html&gt;&quot;;\r\n\r\n         MailChimpObject content = new MailChimpObject();\r\n         content.put(&quot;html&quot;, str);\r\n         //content.put(&quot;html_HEADER&quot;, &quot;xxxxxx&quot;);\r\n         //content.put(&quot;text&quot;, &quot;xxxxxx..... *|UNSUB|*&quot;);\r\n         //content.put(&quot;url&quot;, &quot;https://apidocs.mailchimp.com/api/1.3/campaigncreate.func.php&quot;);\r\n         // content.put(&quot;type_opts&quot;, &quot;regular&quot;);\r\n         // content.put(&quot;archive&quot;, &quot;&quot;);\r\n         //content.put(&quot;email_type_option&quot;, true);\r\n\r\n         //content.put(&quot;segment_opts&quot;, &quot;&quot;);\r\n         //content.put(&quot;template_id&quot;, 1);\r\n         //Set values for MailChimpObject\r\n         campaignCreateMethod.content = content;\r\n         Gson gson = new Gson();\r\n         String responseString = gson.toJson(content);\r\n         System.out.println(responseString);\r\n         String campaignId = mailChimpClient.execute(campaignCreateMethod);\r\n\r\n         CampaignSendNowMethod campaignSendNowMethod = new CampaignSendNowMethod();\r\n         campaignSendNowMethod.apikey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;;\r\n         campaignSendNowMethod.cid = campaignId;\r\n         mailChimpClient.execute(campaignSendNowMethod);\r\n     } catch (Exception ex) {\r\n         System.out.println(ex);\r\n     }\r\n        \t","title":"MailChimp API java integration","body":"<p>Try this:</p>\n\n<pre><code> MailChimpClient mailChimpClient = new MailChimpClient();\n ListsMethod listsMethod = new ListsMethod();\n listsMethod.apikey = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\";\n ListsResult listsResult = mailChimpClient.execute(listsMethod);\n ListInformation data = listsResult.data.get(0);\n System.out.println(data);\n try {\n     CampaignCreateMethod campaignCreateMethod = new CampaignCreateMethod();\n\n     campaignCreateMethod.apikey = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\";\n     campaignCreateMethod.type = CampaignType.regular;\n\n     MailChimpObject options = new MailChimpObject();\n\n     campaignCreateMethod.options = new MailChimpObject();\n     options.put(\"list_id\", \"xxxxxxxxxxc\");\n     options.put(\"subject\", \"xxxxxxxxxxxxxxxx\");\n     options.put(\"from_email\", \"xxxx@ssss.in\");\n     options.put(\"from_name\", \"xxxxx\");\n     options.put(\"authenticate\", true);\n     options.put(\"title\", \"xxxxxxx\");\n     options.put(\"tracking\", \"\");\n     campaignCreateMethod.options = options;\n\n\n     String str = \"&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;h1 text-align = center&gt;hi&lt;/h1&gt; &lt;/head&gt;&lt;body text-align=centre&gt;&lt;a herf='https://apidocs.mailchimp.com/api/2.0/campaigns/create.php'&gt;&lt;i&gt;My First CSS Example&lt;/i&gt;&lt;/a&gt;&lt;p&gt;This is a paragraph.&lt;/p&gt;&lt;/body&gt; &lt;/html&gt;\";\n\n     MailChimpObject content = new MailChimpObject();\n     content.put(\"html\", str);\n     //content.put(\"html_HEADER\", \"xxxxxx\");\n     //content.put(\"text\", \"xxxxxx..... *|UNSUB|*\");\n     //content.put(\"url\", \"https://apidocs.mailchimp.com/api/1.3/campaigncreate.func.php\");\n     // content.put(\"type_opts\", \"regular\");\n     // content.put(\"archive\", \"\");\n     //content.put(\"email_type_option\", true);\n\n     //content.put(\"segment_opts\", \"\");\n     //content.put(\"template_id\", 1);\n     //Set values for MailChimpObject\n     campaignCreateMethod.content = content;\n     Gson gson = new Gson();\n     String responseString = gson.toJson(content);\n     System.out.println(responseString);\n     String campaignId = mailChimpClient.execute(campaignCreateMethod);\n\n     CampaignSendNowMethod campaignSendNowMethod = new CampaignSendNowMethod();\n     campaignSendNowMethod.apikey = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\";\n     campaignSendNowMethod.cid = campaignId;\n     mailChimpClient.execute(campaignSendNowMethod);\n } catch (Exception ex) {\n     System.out.println(ex);\n }\n</code></pre>\n"}],"owner":{"account_id":2924513,"reputation":1113,"user_id":2506126,"accept_rate":16,"display_name":"TungHarry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6305,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664342512,"creation_date":1401080092,"question_id":23862939,"body_markdown":"I try integrate mailChimp API with java code. I refer [MailChimp api tutorial at Codenvy.com][1]\r\nBut in function :\r\n\r\n\r\n\r\n    public String execute() throws Exception{\r\n\r\n        ListsMethod listsMethod = new ListsMethod();\r\n        listsMethod.apikey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-us7&quot;;\r\n        ListsResult listsResult = mailChimpClient.execute(listsMethod);\r\n        ListInformation data = listsResult.data.get(0);\r\n\r\n        CampaignCreateMethod campaignCreateMethod = new CampaignCreateMethod();\r\n        campaignCreateMethod.apikey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-us7&quot;;\r\n        campaignCreateMethod.type = CampaignType.plaintext;\r\n        campaignCreateMethod.options = new Options(data.id, &quot;Test Campaign&quot;, &quot;abc@xyz.com&quot;, &quot;Codenvy&quot;, &quot;Codenvy Users&quot;);\r\n        campaignCreateMethod.content = new Content(&quot;This is a test campaign&quot;);\r\n        String campaignId = mailChimpClient.execute(campaignCreateMethod);\r\n\r\n        CampaignSendNowMethod campaignSendNowMethod = new CampaignSendNowMethod();\r\n        campaignSendNowMethod.apikey = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-us7&quot;;\r\n        campaignSendNowMethod.cid = campaignId;\r\n        mailChimpClient.execute(campaignSendNowMethod);\r\n\r\n        setMessage(&quot;You have successfully created a campaign and sent it to recipients.&quot;);\r\n        return &quot;SUCCESS&quot;;\r\n    }\r\n\r\nError at `campaignCreateMethod.options` and `campaignCreateMethod.content`. How can i fix it and how to get all `campaignId` in my account at mailchimp.com ?\r\n[Reference : Wrapped MailChimp API methods ][2]\r\n\r\n\r\n  [1]: http://docs.codenvy.com/user/tutorials/mailchimp-api-tutorial-3/#create-indexjsp-file-3\r\n  [2]: https://github.com/Ecwid/ecwid-mailchimp/wiki/Wrapped-MailChimp-API-methods","title":"MailChimp API java integration","body":"<p>I try integrate mailChimp API with java code. I refer <a href=\"http://docs.codenvy.com/user/tutorials/mailchimp-api-tutorial-3/#create-indexjsp-file-3\" rel=\"nofollow\">MailChimp api tutorial at Codenvy.com</a>\nBut in function :</p>\n\n<pre><code>public String execute() throws Exception{\n\n    ListsMethod listsMethod = new ListsMethod();\n    listsMethod.apikey = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-us7\";\n    ListsResult listsResult = mailChimpClient.execute(listsMethod);\n    ListInformation data = listsResult.data.get(0);\n\n    CampaignCreateMethod campaignCreateMethod = new CampaignCreateMethod();\n    campaignCreateMethod.apikey = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-us7\";\n    campaignCreateMethod.type = CampaignType.plaintext;\n    campaignCreateMethod.options = new Options(data.id, \"Test Campaign\", \"abc@xyz.com\", \"Codenvy\", \"Codenvy Users\");\n    campaignCreateMethod.content = new Content(\"This is a test campaign\");\n    String campaignId = mailChimpClient.execute(campaignCreateMethod);\n\n    CampaignSendNowMethod campaignSendNowMethod = new CampaignSendNowMethod();\n    campaignSendNowMethod.apikey = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-us7\";\n    campaignSendNowMethod.cid = campaignId;\n    mailChimpClient.execute(campaignSendNowMethod);\n\n    setMessage(\"You have successfully created a campaign and sent it to recipients.\");\n    return \"SUCCESS\";\n}\n</code></pre>\n\n<p>Error at <code>campaignCreateMethod.options</code> and <code>campaignCreateMethod.content</code>. How can i fix it and how to get all <code>campaignId</code> in my account at mailchimp.com ?\n<a href=\"https://github.com/Ecwid/ecwid-mailchimp/wiki/Wrapped-MailChimp-API-methods\" rel=\"nofollow\">Reference : Wrapped MailChimp API methods </a></p>\n"},{"tags":["java","android","android-recyclerview","onclicklistener"],"answers":[{"tags":[],"owner":{"account_id":16162870,"reputation":66,"user_id":11668500,"display_name":"Amit Balani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664342473,"creation_date":1663764711,"answer_id":73801065,"question_id":73800832,"body_markdown":"RecyclerView clicks doesn&#39;t work like that.\r\nFirstly you should write click event in onBindViewHolder\r\n\r\n    holder.itemView.setOnClickListener(view -&gt; onAttendanceClickListener.OnAttendanceClick(userId));\r\n\r\nPut this code in your onBindViewHolder and you are good to go!\r\nYou will receive click events in Activity.","title":"Nothing happens after I click item in recyclerview even after using interface","body":"<p>RecyclerView clicks doesn't work like that.\nFirstly you should write click event in onBindViewHolder</p>\n<pre><code>holder.itemView.setOnClickListener(view -&gt; onAttendanceClickListener.OnAttendanceClick(userId));\n</code></pre>\n<p>Put this code in your onBindViewHolder and you are good to go!\nYou will receive click events in Activity.</p>\n"}],"owner":{"account_id":24274307,"reputation":7,"user_id":18221824,"display_name":"Nobil Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73801065,"answer_count":1,"score":0,"last_activity_date":1664342473,"creation_date":1663763718,"question_id":73800832,"body_markdown":"I have made an android application using java, and I have made a click listener interface but nothing seems to happen and I can&#39;t figure out what is wrong with my code. Please help. \r\n\r\nFollowing is the code of my recyclerViewAdapter:\r\n\r\n    package com.example.ashwamedh.adapter;\r\n    \r\n    import android.content.Context;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.example.ashwamedh.R;\r\n    import com.example.ashwamedh.model.AdminConfirmation;\r\n    import com.example.ashwamedh.model.Attendance;\r\n    import com.example.ashwamedh.model.Confirmation;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.firebase.firestore.CollectionReference;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.google.firebase.firestore.QueryDocumentSnapshot;\r\n    import com.google.firebase.firestore.QuerySnapshot;\r\n    \r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    public class ManageAttendanceRecyclerViewAdapter extends RecyclerView.Adapter&lt;ManageAttendanceRecyclerViewAdapter.ViewHolder&gt; {\r\n        private List&lt;Confirmation&gt; practiceList;\r\n        private Context context;\r\n        private OnAttendanceClickListener onAttendanceClickListener;\r\n    \r\n        private CollectionReference collectionReference = FirebaseFirestore.getInstance().collection(&quot;Users&quot;);\r\n    \r\n        public ManageAttendanceRecyclerViewAdapter(List&lt;Confirmation&gt; practiceList, Context context, OnAttendanceClickListener onAttendanceClickListener) {\r\n            this.practiceList = practiceList;\r\n            this.context = context;\r\n            this.onAttendanceClickListener = onAttendanceClickListener;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ManageAttendanceRecyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(context)\r\n                    .inflate(R.layout.manage_attendance_row, parent, false);\r\n            return new ViewHolder(view, context);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ManageAttendanceRecyclerViewAdapter.ViewHolder holder, int position) {\r\n            Confirmation confirmation = practiceList.get(position);\r\n            holder.nameTextView.setText(confirmation.getUsername());\r\n            if (confirmation.getRemarkOrReason() == &quot;&quot;) {\r\n                holder.remarkOrReasonTextView.setText(&quot;null&quot;);\r\n            }else {\r\n                holder.remarkOrReasonTextView.setText(confirmation.getRemarkOrReason());\r\n            }\r\n            if (Objects.equals(confirmation.getConfirmation(), &quot;present&quot;)) {\r\n                holder.confirmation.setImageResource(R.drawable.ic_baseline_check_24);\r\n            } else if (Objects.equals(confirmation.getConfirmation(), &quot;absent&quot;)){\r\n                holder.confirmation.setImageResource(R.drawable.ic_baseline_close_24);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return practiceList.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n            private TextView nameTextView;\r\n            private ImageView confirmation;\r\n            private TextView remarkOrReasonTextView;\r\n    \r\n            OnAttendanceClickListener onAttendanceClickListener;\r\n    \r\n            public ViewHolder(@NonNull View itemView, Context ctx) {\r\n                super(itemView);\r\n    \r\n                this.onAttendanceClickListener = ManageAttendanceRecyclerViewAdapter.this.onAttendanceClickListener;\r\n    \r\n                context = ctx;\r\n                nameTextView = itemView.findViewById(R.id.manage_attendance_name_textview);\r\n                confirmation = itemView.findViewById(R.id.manage_attendance_confirmation);\r\n                remarkOrReasonTextView = itemView.findViewById(R.id.manage_attendance_remark_reason_textview);\r\n            }\r\n    \r\n            @Override\r\n            public void onClick(View view) {\r\n                int id = view.getId();\r\n                switch (id){\r\n                    case R.id.manage_attendance_row:\r\n                    Log.d(&quot;from recycler view&quot;, &quot;onClick: &quot; + &quot;row clicked&quot;);\r\n                    Confirmation confirmation = practiceList.get(getAdapterPosition());\r\n                    String userId = confirmation.getUserId();\r\n                    onAttendanceClickListener.OnAttendanceClick(userId);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nFollowing is the code of OnAttendanceClickListener:\r\n\r\n    package com.example.ashwamedh.adapter;\r\n    \r\n    public interface OnAttendanceClickListener {\r\n        void OnAttendanceClick(String userId);\r\n    }\r\n\r\nFollowing is the code of the activity where the recycler view is used and the interface implemented: \r\n\r\n    package com.example.ashwamedh;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.cardview.widget.CardView;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import android.content.Intent;\r\n    import android.content.res.ColorStateList;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.ImageButton;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.example.ashwamedh.adapter.ManageAttendanceRecyclerViewAdapter;\r\n    import com.example.ashwamedh.adapter.OnAttendanceClickListener;\r\n    import com.example.ashwamedh.model.Confirmation;\r\n    import com.example.ashwamedh.util.UserApi;\r\n    import com.google.android.gms.tasks.OnFailureListener;\r\n    import com.google.android.gms.tasks.OnSuccessListener;\r\n    import com.google.android.material.bottomnavigation.BottomNavigationView;\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n    import com.google.firebase.firestore.CollectionReference;\r\n    import com.google.firebase.firestore.FirebaseFirestore;\r\n    import com.google.firebase.firestore.QueryDocumentSnapshot;\r\n    import com.google.firebase.firestore.QuerySnapshot;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    \r\n    public class ManagePracticeConfirmationActivity extends AppCompatActivity implements OnAttendanceClickListener {\r\n        private static final String TAG = &quot;PRACTICE_CONFIRMATION&quot;;\r\n        private RecyclerView recyclerView;\r\n        private BottomNavigationView bottomNavigationView;\r\n        private CardView markAttendanceCardView;\r\n        private FloatingActionButton presentFab;\r\n        private FloatingActionButton absentFab;\r\n        private Button updateButton;\r\n        private TextView noPracticeTextView;\r\n        private ImageButton signOut;\r\n    \r\n        private Boolean isAdmin;\r\n        private String attendance;\r\n    \r\n        private ManageAttendanceRecyclerViewAdapter manageAttendanceRecyclerViewAdapter;\r\n        private String practiceDate;\r\n    \r\n        private List&lt;Confirmation&gt; practiceList;\r\n    \r\n        private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        private CollectionReference collectionReference = db.collection(&quot;Confirmations&quot;);\r\n        private CollectionReference userCollection = db.collection(&quot;Users&quot;);\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_manage_practice_confirmation);\r\n    \r\n            Objects.requireNonNull(getSupportActionBar()).hide();\r\n    \r\n            practiceList = new ArrayList&lt;&gt;();\r\n    \r\n            recyclerView = findViewById(R.id.manage_attendance_recycler_view);\r\n            bottomNavigationView = findViewById(R.id.bottomNavigationView);\r\n            markAttendanceCardView = findViewById(R.id.mark_attendance_cardView);\r\n            presentFab = findViewById(R.id.present_fab);\r\n            absentFab = findViewById(R.id.absent_fab);\r\n            updateButton = findViewById(R.id.update_attendance_button);\r\n            noPracticeTextView = findViewById(R.id.no_practice_textView);\r\n            signOut = findViewById(R.id.signOut_manage_attendance);\r\n    \r\n            absentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.absent_button_color)));\r\n            presentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.present_button_color)));\r\n    \r\n    \r\n            bottomNavigationView.setSelectedItemId(R.id.manage_practice_confirmation_button);\r\n    \r\n            markAttendanceCardView.setVisibility(View.INVISIBLE);\r\n    \r\n            UserApi userApi = UserApi.getInstance();\r\n            isAdmin = Objects.equals(userApi.getUsername(), &quot;ADMIN&quot;);\r\n    \r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            attendance = &quot;&quot;;\r\n    \r\n            Date today = Calendar.getInstance().getTime();\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            practiceDate = simpleDateFormat.format(today);\r\n    \r\n    \r\n            Log.d(TAG, &quot;onCreate: &quot; + Calendar.DAY_OF_WEEK);\r\n            if (Calendar.getInstance().get(Calendar.DAY_OF_WEEK) == Calendar.SATURDAY\r\n            || Calendar.getInstance().get(Calendar.DAY_OF_WEEK) == Calendar.SUNDAY) {\r\n                recyclerView.setVisibility(View.INVISIBLE);\r\n                noPracticeTextView.setVisibility(View.VISIBLE);\r\n            } else {\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                noPracticeTextView.setVisibility(View.INVISIBLE);\r\n            }\r\n    \r\n            bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    if (item.getItemId() == R.id.home_button) {\r\n                        Intent intent = new Intent(ManagePracticeConfirmationActivity.this, Dashboard.class);\r\n                        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        startActivity(intent);\r\n                        finish();\r\n                        return true;\r\n                    }\r\n                    if (item.getItemId() == R.id.council_button) {\r\n                        Intent intent = new Intent(ManagePracticeConfirmationActivity.this, CouncilActivity.class);\r\n                        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        startActivity(intent);\r\n                        finish();\r\n                        return true;\r\n                    }\r\n                    if (item.getItemId() == R.id.attendance_button) {\r\n                        Intent intent = new Intent(ManagePracticeConfirmationActivity.this, BatchmateAttendance.class);\r\n                        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        startActivity(intent);\r\n                        finish();\r\n                        return true;\r\n                    }\r\n                    if (item.getItemId() == R.id.manage_practice_confirmation_button) {\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            Date today = Calendar.getInstance().getTime();\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n            practiceDate = simpleDateFormat.format(today);\r\n            collectionReference.whereEqualTo(&quot;practiceDate&quot;, practiceDate)\r\n                    .get()\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                            if (!queryDocumentSnapshots.isEmpty()) {\r\n                                for (QueryDocumentSnapshot snapshot : queryDocumentSnapshots) {\r\n                                    Confirmation confirmation = snapshot.toObject(Confirmation.class);\r\n                                    practiceList.add(confirmation);\r\n                                }\r\n    \r\n    \r\n                                manageAttendanceRecyclerViewAdapter = new ManageAttendanceRecyclerViewAdapter(practiceList,\r\n                                        ManagePracticeConfirmationActivity.this,\r\n                                        ManagePracticeConfirmationActivity.this);\r\n                                recyclerView.setAdapter(manageAttendanceRecyclerViewAdapter);\r\n                                manageAttendanceRecyclerViewAdapter.notifyDataSetChanged();\r\n    \r\n                            }\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n    \r\n                        }\r\n                    });\r\n        }\r\n    \r\n        @Override\r\n        public void OnAttendanceClick(String userId) {\r\n            Log.d(TAG, &quot;OnAttendanceClick: &quot;+ isAdmin);\r\n            UserApi userApi = UserApi.getInstance();\r\n            isAdmin = Objects.equals(userApi.getUsername(), &quot;ADMIN&quot;);\r\n            if (isAdmin) {\r\n                markAttendanceCardView.setVisibility(View.VISIBLE);\r\n                presentFab.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        attendance = &quot;present&quot;;\r\n                        presentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.selected_button_color)));\r\n                        absentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.absent_button_color)));\r\n                    }\r\n                });\r\n                absentFab.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        attendance = &quot;absent&quot;;\r\n                        absentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.selected_button_color)));\r\n                        presentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.present_button_color)));\r\n                    }\r\n                });\r\n                updateButton.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        Confirmation confirmation = new Confirmation();\r\n                        confirmation.setUserId(userId);\r\n                        confirmation.setConfirmation(attendance);\r\n                        confirmation.setPracticeDate(practiceDate);\r\n                        if (Objects.equals(attendance, &quot;present&quot;)) {\r\n                            confirmation.setRemarkOrReason(&quot;PRESENT ON PRACTICE&quot;);\r\n                        } else if (Objects.equals(attendance, &quot;absent&quot;)){\r\n                            confirmation.setRemarkOrReason(&quot;ABSENT ON PRACTICE&quot;);\r\n                        }\r\n                        SimpleDateFormat documentDateFormat = new SimpleDateFormat(&quot;dd_MM_yyyy&quot;);\r\n                        String docDate = documentDateFormat.format(practiceDate);\r\n                        String docAddress = userId+&quot;_&quot;+docDate;\r\n                        collectionReference.document(docAddress)\r\n                                .set(confirmation)\r\n                                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void unused) {\r\n                                        Toast.makeText(ManagePracticeConfirmationActivity.this, &quot;Attendance marked!&quot;, Toast.LENGTH_SHORT)\r\n                                                .show();\r\n                                    }\r\n                                });\r\n                        attendance = &quot;&quot;;\r\n                        absentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.absent_button_color)));\r\n                        presentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.present_button_color)));\r\n                        markAttendanceCardView.setVisibility(View.INVISIBLE);\r\n                        manageAttendanceRecyclerViewAdapter.notifyDataSetChanged();\r\n                    }\r\n                });\r\n            } else {\r\n                Toast.makeText(ManagePracticeConfirmationActivity.this, &quot;Only admins can mark attendance!&quot;, Toast.LENGTH_SHORT)\r\n                        .show();\r\n            }\r\n        }\r\n    }\r\n\r\nPlease help me I am clueless of where is the error","title":"Nothing happens after I click item in recyclerview even after using interface","body":"<p>I have made an android application using java, and I have made a click listener interface but nothing seems to happen and I can't figure out what is wrong with my code. Please help.</p>\n<p>Following is the code of my recyclerViewAdapter:</p>\n<pre><code>package com.example.ashwamedh.adapter;\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.ashwamedh.R;\nimport com.example.ashwamedh.model.AdminConfirmation;\nimport com.example.ashwamedh.model.Attendance;\nimport com.example.ashwamedh.model.Confirmation;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.util.List;\nimport java.util.Objects;\n\npublic class ManageAttendanceRecyclerViewAdapter extends RecyclerView.Adapter&lt;ManageAttendanceRecyclerViewAdapter.ViewHolder&gt; {\n    private List&lt;Confirmation&gt; practiceList;\n    private Context context;\n    private OnAttendanceClickListener onAttendanceClickListener;\n\n    private CollectionReference collectionReference = FirebaseFirestore.getInstance().collection(&quot;Users&quot;);\n\n    public ManageAttendanceRecyclerViewAdapter(List&lt;Confirmation&gt; practiceList, Context context, OnAttendanceClickListener onAttendanceClickListener) {\n        this.practiceList = practiceList;\n        this.context = context;\n        this.onAttendanceClickListener = onAttendanceClickListener;\n    }\n\n    @NonNull\n    @Override\n    public ManageAttendanceRecyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context)\n                .inflate(R.layout.manage_attendance_row, parent, false);\n        return new ViewHolder(view, context);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ManageAttendanceRecyclerViewAdapter.ViewHolder holder, int position) {\n        Confirmation confirmation = practiceList.get(position);\n        holder.nameTextView.setText(confirmation.getUsername());\n        if (confirmation.getRemarkOrReason() == &quot;&quot;) {\n            holder.remarkOrReasonTextView.setText(&quot;null&quot;);\n        }else {\n            holder.remarkOrReasonTextView.setText(confirmation.getRemarkOrReason());\n        }\n        if (Objects.equals(confirmation.getConfirmation(), &quot;present&quot;)) {\n            holder.confirmation.setImageResource(R.drawable.ic_baseline_check_24);\n        } else if (Objects.equals(confirmation.getConfirmation(), &quot;absent&quot;)){\n            holder.confirmation.setImageResource(R.drawable.ic_baseline_close_24);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return practiceList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        private TextView nameTextView;\n        private ImageView confirmation;\n        private TextView remarkOrReasonTextView;\n\n        OnAttendanceClickListener onAttendanceClickListener;\n\n        public ViewHolder(@NonNull View itemView, Context ctx) {\n            super(itemView);\n\n            this.onAttendanceClickListener = ManageAttendanceRecyclerViewAdapter.this.onAttendanceClickListener;\n\n            context = ctx;\n            nameTextView = itemView.findViewById(R.id.manage_attendance_name_textview);\n            confirmation = itemView.findViewById(R.id.manage_attendance_confirmation);\n            remarkOrReasonTextView = itemView.findViewById(R.id.manage_attendance_remark_reason_textview);\n        }\n\n        @Override\n        public void onClick(View view) {\n            int id = view.getId();\n            switch (id){\n                case R.id.manage_attendance_row:\n                Log.d(&quot;from recycler view&quot;, &quot;onClick: &quot; + &quot;row clicked&quot;);\n                Confirmation confirmation = practiceList.get(getAdapterPosition());\n                String userId = confirmation.getUserId();\n                onAttendanceClickListener.OnAttendanceClick(userId);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Following is the code of OnAttendanceClickListener:</p>\n<pre><code>package com.example.ashwamedh.adapter;\n\npublic interface OnAttendanceClickListener {\n    void OnAttendanceClick(String userId);\n}\n</code></pre>\n<p>Following is the code of the activity where the recycler view is used and the interface implemented:</p>\n<pre><code>package com.example.ashwamedh;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.cardview.widget.CardView;\nimport androidx.core.content.ContextCompat;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.content.res.ColorStateList;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageButton;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.example.ashwamedh.adapter.ManageAttendanceRecyclerViewAdapter;\nimport com.example.ashwamedh.adapter.OnAttendanceClickListener;\nimport com.example.ashwamedh.model.Confirmation;\nimport com.example.ashwamedh.util.UserApi;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Objects;\n\npublic class ManagePracticeConfirmationActivity extends AppCompatActivity implements OnAttendanceClickListener {\n    private static final String TAG = &quot;PRACTICE_CONFIRMATION&quot;;\n    private RecyclerView recyclerView;\n    private BottomNavigationView bottomNavigationView;\n    private CardView markAttendanceCardView;\n    private FloatingActionButton presentFab;\n    private FloatingActionButton absentFab;\n    private Button updateButton;\n    private TextView noPracticeTextView;\n    private ImageButton signOut;\n\n    private Boolean isAdmin;\n    private String attendance;\n\n    private ManageAttendanceRecyclerViewAdapter manageAttendanceRecyclerViewAdapter;\n    private String practiceDate;\n\n    private List&lt;Confirmation&gt; practiceList;\n\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n    private CollectionReference collectionReference = db.collection(&quot;Confirmations&quot;);\n    private CollectionReference userCollection = db.collection(&quot;Users&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_manage_practice_confirmation);\n\n        Objects.requireNonNull(getSupportActionBar()).hide();\n\n        practiceList = new ArrayList&lt;&gt;();\n\n        recyclerView = findViewById(R.id.manage_attendance_recycler_view);\n        bottomNavigationView = findViewById(R.id.bottomNavigationView);\n        markAttendanceCardView = findViewById(R.id.mark_attendance_cardView);\n        presentFab = findViewById(R.id.present_fab);\n        absentFab = findViewById(R.id.absent_fab);\n        updateButton = findViewById(R.id.update_attendance_button);\n        noPracticeTextView = findViewById(R.id.no_practice_textView);\n        signOut = findViewById(R.id.signOut_manage_attendance);\n\n        absentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.absent_button_color)));\n        presentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.present_button_color)));\n\n\n        bottomNavigationView.setSelectedItemId(R.id.manage_practice_confirmation_button);\n\n        markAttendanceCardView.setVisibility(View.INVISIBLE);\n\n        UserApi userApi = UserApi.getInstance();\n        isAdmin = Objects.equals(userApi.getUsername(), &quot;ADMIN&quot;);\n\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        attendance = &quot;&quot;;\n\n        Date today = Calendar.getInstance().getTime();\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        practiceDate = simpleDateFormat.format(today);\n\n\n        Log.d(TAG, &quot;onCreate: &quot; + Calendar.DAY_OF_WEEK);\n        if (Calendar.getInstance().get(Calendar.DAY_OF_WEEK) == Calendar.SATURDAY\n        || Calendar.getInstance().get(Calendar.DAY_OF_WEEK) == Calendar.SUNDAY) {\n            recyclerView.setVisibility(View.INVISIBLE);\n            noPracticeTextView.setVisibility(View.VISIBLE);\n        } else {\n            recyclerView.setVisibility(View.VISIBLE);\n            noPracticeTextView.setVisibility(View.INVISIBLE);\n        }\n\n        bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                if (item.getItemId() == R.id.home_button) {\n                    Intent intent = new Intent(ManagePracticeConfirmationActivity.this, Dashboard.class);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    startActivity(intent);\n                    finish();\n                    return true;\n                }\n                if (item.getItemId() == R.id.council_button) {\n                    Intent intent = new Intent(ManagePracticeConfirmationActivity.this, CouncilActivity.class);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    startActivity(intent);\n                    finish();\n                    return true;\n                }\n                if (item.getItemId() == R.id.attendance_button) {\n                    Intent intent = new Intent(ManagePracticeConfirmationActivity.this, BatchmateAttendance.class);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    startActivity(intent);\n                    finish();\n                    return true;\n                }\n                if (item.getItemId() == R.id.manage_practice_confirmation_button) {\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        Date today = Calendar.getInstance().getTime();\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        practiceDate = simpleDateFormat.format(today);\n        collectionReference.whereEqualTo(&quot;practiceDate&quot;, practiceDate)\n                .get()\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                        if (!queryDocumentSnapshots.isEmpty()) {\n                            for (QueryDocumentSnapshot snapshot : queryDocumentSnapshots) {\n                                Confirmation confirmation = snapshot.toObject(Confirmation.class);\n                                practiceList.add(confirmation);\n                            }\n\n\n                            manageAttendanceRecyclerViewAdapter = new ManageAttendanceRecyclerViewAdapter(practiceList,\n                                    ManagePracticeConfirmationActivity.this,\n                                    ManagePracticeConfirmationActivity.this);\n                            recyclerView.setAdapter(manageAttendanceRecyclerViewAdapter);\n                            manageAttendanceRecyclerViewAdapter.notifyDataSetChanged();\n\n                        }\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n\n                    }\n                });\n    }\n\n    @Override\n    public void OnAttendanceClick(String userId) {\n        Log.d(TAG, &quot;OnAttendanceClick: &quot;+ isAdmin);\n        UserApi userApi = UserApi.getInstance();\n        isAdmin = Objects.equals(userApi.getUsername(), &quot;ADMIN&quot;);\n        if (isAdmin) {\n            markAttendanceCardView.setVisibility(View.VISIBLE);\n            presentFab.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    attendance = &quot;present&quot;;\n                    presentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.selected_button_color)));\n                    absentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.absent_button_color)));\n                }\n            });\n            absentFab.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    attendance = &quot;absent&quot;;\n                    absentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.selected_button_color)));\n                    presentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.present_button_color)));\n                }\n            });\n            updateButton.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    Confirmation confirmation = new Confirmation();\n                    confirmation.setUserId(userId);\n                    confirmation.setConfirmation(attendance);\n                    confirmation.setPracticeDate(practiceDate);\n                    if (Objects.equals(attendance, &quot;present&quot;)) {\n                        confirmation.setRemarkOrReason(&quot;PRESENT ON PRACTICE&quot;);\n                    } else if (Objects.equals(attendance, &quot;absent&quot;)){\n                        confirmation.setRemarkOrReason(&quot;ABSENT ON PRACTICE&quot;);\n                    }\n                    SimpleDateFormat documentDateFormat = new SimpleDateFormat(&quot;dd_MM_yyyy&quot;);\n                    String docDate = documentDateFormat.format(practiceDate);\n                    String docAddress = userId+&quot;_&quot;+docDate;\n                    collectionReference.document(docAddress)\n                            .set(confirmation)\n                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                @Override\n                                public void onSuccess(Void unused) {\n                                    Toast.makeText(ManagePracticeConfirmationActivity.this, &quot;Attendance marked!&quot;, Toast.LENGTH_SHORT)\n                                            .show();\n                                }\n                            });\n                    attendance = &quot;&quot;;\n                    absentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.absent_button_color)));\n                    presentFab.setBackgroundTintList(ColorStateList.valueOf(ContextCompat.getColor(ManagePracticeConfirmationActivity.this, R.color.present_button_color)));\n                    markAttendanceCardView.setVisibility(View.INVISIBLE);\n                    manageAttendanceRecyclerViewAdapter.notifyDataSetChanged();\n                }\n            });\n        } else {\n            Toast.makeText(ManagePracticeConfirmationActivity.this, &quot;Only admins can mark attendance!&quot;, Toast.LENGTH_SHORT)\n                    .show();\n        }\n    }\n}\n</code></pre>\n<p>Please help me I am clueless of where is the error</p>\n"},{"tags":["java","amazon-web-services","wso2","wso2-esb","mediator"],"answers":[{"tags":[],"owner":{"account_id":26106973,"reputation":61,"user_id":19801534,"display_name":"ahinsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664342304,"creation_date":1664342304,"answer_id":73876473,"question_id":73792908,"body_markdown":"Fixed it! Basically I was following the correct approach (i.e. adding the dependencies to the pom), but as I was adding it to the pom of the main mvn project, it wasn&#39;t getting reflected. It needs to be added to the pom of the class mediator and then built, before using importing it in the java class.\r\n\r\nAfter that you can build the class as you would normally and copy-paste it in the ESB_HOME lib.","title":"WSO2 class mediator: Amazon aws import for sqs queue not being recognized","body":"<p>Fixed it! Basically I was following the correct approach (i.e. adding the dependencies to the pom), but as I was adding it to the pom of the main mvn project, it wasn't getting reflected. It needs to be added to the pom of the class mediator and then built, before using importing it in the java class.</p>\n<p>After that you can build the class as you would normally and copy-paste it in the ESB_HOME lib.</p>\n"}],"owner":{"account_id":26106973,"reputation":61,"user_id":19801534,"display_name":"ahinsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73876473,"answer_count":1,"score":-1,"last_activity_date":1664342304,"creation_date":1663709835,"question_id":73792908,"body_markdown":"So I&#39;m trying to use the extended message support for sqs queue in wso2 integration studio. I&#39;ve tried it before using eclipse (you have to build a package by specifying the required dependencies in the pom and then build it, and then create a class and run it), and it worked here. I want to now find a way to use that code in a class mediator, but i&#39;m unsure how to go about it. \r\nI&#39;ve tried creating a class mediator in wso2, and then adding the aws dependencies to it&#39;s pom and then rebuilding, but still the import shows and error and says &#39;not found&#39; when I try to add it in the java class.\r\n\r\n","title":"WSO2 class mediator: Amazon aws import for sqs queue not being recognized","body":"<p>So I'm trying to use the extended message support for sqs queue in wso2 integration studio. I've tried it before using eclipse (you have to build a package by specifying the required dependencies in the pom and then build it, and then create a class and run it), and it worked here. I want to now find a way to use that code in a class mediator, but i'm unsure how to go about it.\nI've tried creating a class mediator in wso2, and then adding the aws dependencies to it's pom and then rebuilding, but still the import shows and error and says 'not found' when I try to add it in the java class.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1664209749,"post_id":73857123,"comment_id":130413981,"body_markdown":"So, what exactly have you tried and where are you stuck?","body":"So, what exactly have you tried and where are you stuck?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1664215245,"post_id":73857123,"comment_id":130415626,"body_markdown":"If you want to look up the priority for a location then the location should be the key in the Map with the priority as the value.","body":"If you want to look up the priority for a location then the location should be the key in the Map with the priority as the value."}],"answers":[{"tags":[],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664215802,"creation_date":1664215802,"answer_id":73858253,"question_id":73857123,"body_markdown":"I&#39;ve implemented logic like below:\r\n\r\n    List&lt;Student&gt; students = Arrays.asList(\r\n                    new Student(4, &quot;E4444&quot;, &quot;John&quot;),\r\n                    new Student(2, &quot;E2222&quot;, &quot;Mike&quot;),\r\n                    new Student(1, &quot;E1111&quot;, &quot;Jane&quot;),\r\n                    new Student(3, &quot;E3333&quot;, &quot;Victoria&quot;)\r\n            );\r\n    \r\n            Map&lt;Integer, DataConfig&gt; priorityConfig = getPriorityConfig();\r\n            Map&lt;String, Integer&gt; MAP = new HashMap&lt;&gt;();\r\n            // location and Pri\r\n            for (Map.Entry&lt;Integer, DataConfig&gt; entry : priorityConfig.entrySet()) {\r\n                MAP.put(entry.getValue().type + entry.getValue().location, entry.getKey());\r\n            }\r\n    \r\n            Map&lt;Integer, Student&gt; integerStudentMap = new HashMap&lt;&gt;();\r\n            for (Student s: students) {\r\n                Integer integer = MAP.get(s.getLocation());\r\n                integerStudentMap.put(integer, s);\r\n            }\r\n            Map&lt;Integer, Student&gt; collect = integerStudentMap.entrySet()\r\n                    .stream()\r\n                    .sorted(comparingByKey())\r\n                    .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; e.getValue(), (e1, e2) -&gt; e2));\r\n            System.out.println(collect);\r\n    \r\n            List&lt;Student&gt; list = new ArrayList&lt;&gt;(collect.values());\r\n            System.out.println(list);","title":"How to reset List based on Map priority","body":"<p>I've implemented logic like below:</p>\n<pre><code>List&lt;Student&gt; students = Arrays.asList(\n                new Student(4, &quot;E4444&quot;, &quot;John&quot;),\n                new Student(2, &quot;E2222&quot;, &quot;Mike&quot;),\n                new Student(1, &quot;E1111&quot;, &quot;Jane&quot;),\n                new Student(3, &quot;E3333&quot;, &quot;Victoria&quot;)\n        );\n\n        Map&lt;Integer, DataConfig&gt; priorityConfig = getPriorityConfig();\n        Map&lt;String, Integer&gt; MAP = new HashMap&lt;&gt;();\n        // location and Pri\n        for (Map.Entry&lt;Integer, DataConfig&gt; entry : priorityConfig.entrySet()) {\n            MAP.put(entry.getValue().type + entry.getValue().location, entry.getKey());\n        }\n\n        Map&lt;Integer, Student&gt; integerStudentMap = new HashMap&lt;&gt;();\n        for (Student s: students) {\n            Integer integer = MAP.get(s.getLocation());\n            integerStudentMap.put(integer, s);\n        }\n        Map&lt;Integer, Student&gt; collect = integerStudentMap.entrySet()\n                .stream()\n                .sorted(comparingByKey())\n                .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; e.getValue(), (e1, e2) -&gt; e2));\n        System.out.println(collect);\n\n        List&lt;Student&gt; list = new ArrayList&lt;&gt;(collect.values());\n        System.out.println(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664281760,"creation_date":1664281760,"answer_id":73867594,"question_id":73857123,"body_markdown":"In order to achieve what you want, there should be a map matching locations to their priorities (the opposite of what you actually have). Something like this:\r\n```java\r\nMap&lt;String, Integer&gt; locationPriorities = new HashMap&lt;&gt;();\r\nlocationPriorities.put(&quot;E1111&quot;, 1);\r\nlocationPriorities.put(&quot;E2222&quot;, 2);\r\n// etc...\r\n```\r\nor if you retrieve the mapping from somewhere else, you could still convert it to the format you want:\r\n```java\r\nMap&lt;String, Integer&gt; locationPriorities =\r\n    getPriorityConfig().entrySet()\r\n                       .stream()\r\n                       .collect(toMap(e -&gt; e.getValue().location, e -&gt; e.getKey()));\r\n```\r\n----\r\nOnce you have the mapping above the sorting becomes pretty straightforward. \r\n\r\nYou can either collect a new sorted list:\r\n```java\r\nList&lt;Student&gt; newStudents =\r\n    students.stream()\r\n            .sorted(comparing(s -&gt; locationPriorities.get(s.location)))\r\n            .collect(toList());\r\n```\r\nor sort the existing list in-place:\r\n```java\r\nstudents.sort(comparing(s -&gt; locationPriorities.get(s.location)));\r\n```\r\n----------\r\n\r\nMake sure to import these static methods (or use the qualified calls instead):\r\n```java\r\nimport static java.util.Comparator.comparing;\r\nimport static java.util.stream.Collectors.toList;\r\nimport static java.util.stream.Collectors.toMap;\r\n```","title":"How to reset List based on Map priority","body":"<p>In order to achieve what you want, there should be a map matching locations to their priorities (the opposite of what you actually have). Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; locationPriorities = new HashMap&lt;&gt;();\nlocationPriorities.put(&quot;E1111&quot;, 1);\nlocationPriorities.put(&quot;E2222&quot;, 2);\n// etc...\n</code></pre>\n<p>or if you retrieve the mapping from somewhere else, you could still convert it to the format you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; locationPriorities =\n    getPriorityConfig().entrySet()\n                       .stream()\n                       .collect(toMap(e -&gt; e.getValue().location, e -&gt; e.getKey()));\n</code></pre>\n<hr />\n<p>Once you have the mapping above the sorting becomes pretty straightforward.</p>\n<p>You can either collect a new sorted list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Student&gt; newStudents =\n    students.stream()\n            .sorted(comparing(s -&gt; locationPriorities.get(s.location)))\n            .collect(toList());\n</code></pre>\n<p>or sort the existing list in-place:</p>\n<pre class=\"lang-java prettyprint-override\"><code>students.sort(comparing(s -&gt; locationPriorities.get(s.location)));\n</code></pre>\n<hr />\n<p>Make sure to import these static methods (or use the qualified calls instead):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.Comparator.comparing;\nimport static java.util.stream.Collectors.toList;\nimport static java.util.stream.Collectors.toMap;\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1664332561,"accepted_answer_id":73858253,"answer_count":2,"score":-1,"last_activity_date":1664341642,"creation_date":1664209526,"question_id":73857123,"body_markdown":"In Java, I&#39;ve List and Map which holds similar parameter to lookup based on location fields and reset the List based on Priority.\r\n\r\nHow can we do it?\r\n\r\n    import lombok.AllArgsConstructor;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class Demo {\r\n    \r\n        private Map&lt;Integer, DataConfig&gt; getPriorityConfig() {\r\n            // Here 1, 2... etc are priorities\r\n            Map&lt;Integer, DataConfig&gt; MAP = new HashMap&lt;&gt;();\r\n            MAP.put(1, new DataConfig(&quot;E&quot;, &quot;3333&quot;));\r\n            MAP.put(2, new DataConfig(&quot;E&quot;, &quot;1111&quot;));\r\n            MAP.put(3, new DataConfig(&quot;E&quot;, &quot;5555&quot;));\r\n            MAP.put(4, new DataConfig(&quot;E&quot;, &quot;2222&quot;));\r\n            MAP.put(5, new DataConfig(&quot;E&quot;, &quot;4444&quot;));\r\n            return MAP;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Student&gt; students = Arrays.asList(\r\n                    new Student(4, &quot;E4444&quot;, &quot;John&quot;),\r\n                    new Student(2, &quot;E2222&quot;, &quot;Mike&quot;),\r\n                    new Student(1, &quot;E1111&quot;, &quot;Jane&quot;),\r\n                    new Student(3, &quot;E3333&quot;, &quot;Victoria&quot;)\r\n            );\r\n    \r\n            //  Arrange List based on Priority and create new List, output should be\r\n            // here E3333 has priority-1, E1111 has priority-2, E5555 has priority-3 etc\r\n            List&lt;Student&gt; newStudents = Arrays.asList(\r\n                    new Student(3, &quot;E3333&quot;, &quot;Victoria&quot;),\r\n                    new Student(1, &quot;E1111&quot;, &quot;Jane&quot;),\r\n                    new Student(2, &quot;E2222&quot;, &quot;Mike&quot;),\r\n                    new Student(4, &quot;E4444&quot;, &quot;John&quot;)\r\n            );\r\n            // For me its  very important to processed based on priority only\r\n        }\r\n    \r\n        @AllArgsConstructor\r\n        static class DataConfig {\r\n            private String type;\r\n            private String location;\r\n        }\r\n    \r\n        @AllArgsConstructor\r\n        static class Student {\r\n            private int id;\r\n            private String location;\r\n            private String name;\r\n        }\r\n    }","title":"How to reset List based on Map priority","body":"<p>In Java, I've List and Map which holds similar parameter to lookup based on location fields and reset the List based on Priority.</p>\n<p>How can we do it?</p>\n<pre><code>import lombok.AllArgsConstructor;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Demo {\n\n    private Map&lt;Integer, DataConfig&gt; getPriorityConfig() {\n        // Here 1, 2... etc are priorities\n        Map&lt;Integer, DataConfig&gt; MAP = new HashMap&lt;&gt;();\n        MAP.put(1, new DataConfig(&quot;E&quot;, &quot;3333&quot;));\n        MAP.put(2, new DataConfig(&quot;E&quot;, &quot;1111&quot;));\n        MAP.put(3, new DataConfig(&quot;E&quot;, &quot;5555&quot;));\n        MAP.put(4, new DataConfig(&quot;E&quot;, &quot;2222&quot;));\n        MAP.put(5, new DataConfig(&quot;E&quot;, &quot;4444&quot;));\n        return MAP;\n    }\n\n    public static void main(String[] args) {\n        List&lt;Student&gt; students = Arrays.asList(\n                new Student(4, &quot;E4444&quot;, &quot;John&quot;),\n                new Student(2, &quot;E2222&quot;, &quot;Mike&quot;),\n                new Student(1, &quot;E1111&quot;, &quot;Jane&quot;),\n                new Student(3, &quot;E3333&quot;, &quot;Victoria&quot;)\n        );\n\n        //  Arrange List based on Priority and create new List, output should be\n        // here E3333 has priority-1, E1111 has priority-2, E5555 has priority-3 etc\n        List&lt;Student&gt; newStudents = Arrays.asList(\n                new Student(3, &quot;E3333&quot;, &quot;Victoria&quot;),\n                new Student(1, &quot;E1111&quot;, &quot;Jane&quot;),\n                new Student(2, &quot;E2222&quot;, &quot;Mike&quot;),\n                new Student(4, &quot;E4444&quot;, &quot;John&quot;)\n        );\n        // For me its  very important to processed based on priority only\n    }\n\n    @AllArgsConstructor\n    static class DataConfig {\n        private String type;\n        private String location;\n    }\n\n    @AllArgsConstructor\n    static class Student {\n        private int id;\n        private String location;\n        private String name;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1664338028,"post_id":73875851,"comment_id":130445889,"body_markdown":"Post the url to have a look. In the &#39;2nd Method&#39;, you mentioned the xpath as: &quot;//button[contains(string(), &quot;Login&quot;)]&quot;, which is wrong. It should be - &quot;//button[contains(string(), \\&quot;Login\\&quot;)]&quot;.","body":"Post the url to have a look. In the &#39;2nd Method&#39;, you mentioned the xpath as: &quot;//button[contains(string(), &quot;Login&quot;)]&quot;, which is wrong. It should be - &quot;//button[contains(string(), \\&quot;Login\\&quot;)]&quot;."},{"owner":{"account_id":26464531,"reputation":3,"user_id":20105944,"display_name":"kdon"},"score":0,"creation_date":1664342019,"post_id":73875851,"comment_id":130446443,"body_markdown":"Thanks, AbiSaran  it worked I have used JavascriptExecutor and then it worked Thanks for your help.","body":"Thanks, AbiSaran  it worked I have used JavascriptExecutor and then it worked Thanks for your help."}],"answers":[{"tags":[],"owner":{"account_id":16585247,"reputation":541,"user_id":11984843,"display_name":"Ketan Pardeshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664341618,"creation_date":1664341618,"answer_id":73876415,"question_id":73875851,"body_markdown":"Update xpath as below. If this also does not work with normal click, try using java script executor.\r\n\r\n&quot;//button[contains(text(), &#39;Login&#39;)]&quot;","title":"Selenium Button not clickable","body":"<p>Update xpath as below. If this also does not work with normal click, try using java script executor.</p>\n<p>&quot;//button[contains(text(), 'Login')]&quot;</p>\n"}],"owner":{"account_id":26464531,"reputation":3,"user_id":20105944,"display_name":"kdon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73876415,"answer_count":1,"score":0,"last_activity_date":1664341618,"creation_date":1664335070,"question_id":73875851,"body_markdown":"After passing the username and password, I&#39;m trying to click on the login button.\r\nusername and password insert properly but it is not clicking the &quot;login&quot; button and fail the test. There are two login buttons that exist with different LinkText and I was able to capture the specific login button by following XPath.\r\n\r\n    &quot;//button[contains(string(), &quot;Login&quot;)]&quot;\r\n\r\n\r\n\r\nThis is the error message that I&#39;m getting \r\n\r\n&gt; Step failed\r\nElement is not clickable\r\n\r\nI have tried the below solutions as well but didn&#39;t work any of them\r\n\r\n \r\n\r\n      1st Method \r\n\r\n    WebDriverWait wait = new WebDriverWait(driver,30);\r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.linkText(&quot;Login&quot;)));\r\n    // click on the compose button as soon as the &quot;compose&quot; button is visible\r\n        driver.findElement(By.linkText(&quot;Login (en)&quot;)).click();\r\n        &lt;a href=&quot;http://LOGGER.info&quot; target=&quot;_blank&quot;&gt;LOGGER.info&lt;/a&gt;(&quot;clicked return on a button&quot;);\r\n        \r\n    2nd Method \r\n    \r\n    WebDriverWait myWaitVar = new WebDriverWait(driver,20);\r\n    WebElement el = myWaitVar.until(ExpectedConditions._elementToBeClickable_(By._xpath_(&quot;//button[contains(string(), &quot;Login&quot;)]&quot;)));\r\n    &lt;a href=&quot;http://el.click&quot; target=&quot;_blank&quot;&gt;el.click&lt;/a&gt;();\r\n    \r\n    3rd Method \r\n    \r\n    WebElement element = driver.findElement(By._linkText_(&quot; Login &quot;));\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(element).click().build().preform();\r\n\r\n\r\n   \r\n","title":"Selenium Button not clickable","body":"<p>After passing the username and password, I'm trying to click on the login button.\nusername and password insert properly but it is not clicking the &quot;login&quot; button and fail the test. There are two login buttons that exist with different LinkText and I was able to capture the specific login button by following XPath.</p>\n<pre><code>&quot;//button[contains(string(), &quot;Login&quot;)]&quot;\n</code></pre>\n<p>This is the error message that I'm getting</p>\n<blockquote>\n<p>Step failed\nElement is not clickable</p>\n</blockquote>\n<p>I have tried the below solutions as well but didn't work any of them</p>\n<pre><code>  1st Method \n\nWebDriverWait wait = new WebDriverWait(driver,30);\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.linkText(&quot;Login&quot;)));\n// click on the compose button as soon as the &quot;compose&quot; button is visible\n    driver.findElement(By.linkText(&quot;Login (en)&quot;)).click();\n    &lt;a href=&quot;http://LOGGER.info&quot; target=&quot;_blank&quot;&gt;LOGGER.info&lt;/a&gt;(&quot;clicked return on a button&quot;);\n    \n2nd Method \n\nWebDriverWait myWaitVar = new WebDriverWait(driver,20);\nWebElement el = myWaitVar.until(ExpectedConditions._elementToBeClickable_(By._xpath_(&quot;//button[contains(string(), &quot;Login&quot;)]&quot;)));\n&lt;a href=&quot;http://el.click&quot; target=&quot;_blank&quot;&gt;el.click&lt;/a&gt;();\n\n3rd Method \n\nWebElement element = driver.findElement(By._linkText_(&quot; Login &quot;));\nActions actions = new Actions(driver);\nactions.moveToElement(element).click().build().preform();\n</code></pre>\n"},{"tags":["java","multithreading","selector","java-nio"],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664341476,"creation_date":1664341476,"answer_id":73876399,"question_id":73876163,"body_markdown":"My guess is that a wakeup would be sufficient\r\n\r\n```\r\nclient.register(selectorIO, SelectionKey.OP_READ);\r\nselectorIO.wakeup();\r\n```\r\n\r\nOr just execute a task on the client thread where it registers the client on the same selectorIO it is waiting for. So the client thread should also check for a task queue as part of its loop (e.g. ConcurrentLinkedQueue) and call a selectorIO.wakup after placing the task in the task queue.","title":"Selector.select() not being unblocked even after I register a channel ready to read from another thread","body":"<p>My guess is that a wakeup would be sufficient</p>\n<pre><code>client.register(selectorIO, SelectionKey.OP_READ);\nselectorIO.wakeup();\n</code></pre>\n<p>Or just execute a task on the client thread where it registers the client on the same selectorIO it is waiting for. So the client thread should also check for a task queue as part of its loop (e.g. ConcurrentLinkedQueue) and call a selectorIO.wakup after placing the task in the task queue.</p>\n"}],"owner":{"account_id":1270404,"reputation":3896,"user_id":1226843,"accept_rate":58,"display_name":"Matthew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73876399,"answer_count":1,"score":1,"last_activity_date":1664341476,"creation_date":1664338765,"question_id":73876163,"body_markdown":"I am creating a server to handle many different connections at the same time. I create two `Selector`s, on for the serverSocketChannel to `accept` and then the other for the connections to read data.\r\n\r\nThe one selector successfully gets past the blocking `select()` function to accept the new connection. Then the goal is to register that SocketChannel that was accepted with the other selector that is currently blocked by it&#39;s `select()` function so that I can read the data when I need to. \r\n\r\nEverything seems to be set up correctly, but even after sending data, I am not getting past the other selector&#39;s `select()` function.\r\n\r\nHere is my server file:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.SelectionKey;\r\nimport java.nio.channels.Selector;\r\nimport java.nio.channels.ServerSocketChannel;\r\nimport java.nio.channels.SocketChannel;\r\nimport java.util.Iterator;\r\nimport java.util.Set;\r\nimport java.util.TreeSet;\r\n\r\npublic class Server implements Runnable\r\n{\r\n\t\r\n\tpublic Thread threadAccept;\r\n\tpublic Thread threadRead;\r\n\t\r\n\tprotected ServerSocketChannel serverSocket;\r\n\t\r\n\tprotected Selector selectorAccept;\r\n\tprotected Selector selectorIO;\r\n\r\n\tprotected Set&lt;Connection&gt; connections;\r\n\t\r\n\tprivate ByteBuffer buffer;\r\n\t\r\n\tpublic Server()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tselectorAccept = Selector.open();\r\n\t\t\tselectorIO = Selector.open();\r\n\t\t\t\r\n\t\t\tserverSocket = ServerSocketChannel.open();\r\n\t\t\tserverSocket.configureBlocking(false);\r\n\t\t\t\r\n\t\t\tInetSocketAddress hostAddress = new InetSocketAddress(&quot;localhost&quot;,4444);\r\n\t\t\tserverSocket.bind(hostAddress);\r\n\t\t\tint ops = serverSocket.validOps();\r\n\t\t\tSelectionKey selectKey = serverSocket.register(selectorAccept, ops);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tthreadAccept = new Thread(this);\r\n\t\t\tthreadAccept.start();\r\n\t\t\t\r\n\t\t\tthreadRead = new Thread(this);\r\n\t\t\tthreadRead.start();\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error &quot;+e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void run()\r\n\t{\r\n\t\tif(Thread.currentThread() == threadAccept)\r\n\t\t{\r\n\t\t\tacceptNewConnections();\r\n\t\t}\r\n\t\telse if(Thread.currentThread() == threadRead)\r\n\t\t{\r\n\t\t\treadData();\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void acceptNewConnections()\r\n\t{\r\n\t\tint numberOfKeys = 0;\r\n\t\t\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tnumberOfKeys = selectorAccept.select();\r\n\t\t\t\tSet&lt;SelectionKey&gt; keys = selectorAccept.selectedKeys();\r\n\t\t\t\tIterator&lt;SelectionKey&gt; itr = keys.iterator();\r\n\t\t\t\t\r\n\t\t\t\twhile(itr.hasNext())\r\n\t\t\t\t{\r\n\t\t\t\t\tSelectionKey key = itr.next();\r\n\t\t\t\t\tif(key.isAcceptable())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSocketChannel client = serverSocket.accept();\r\n\t\t\t\t\t\tclient.configureBlocking(false);\r\n\t\t\t\t\t\tclient.register(selectorIO, SelectionKey.OP_READ);\r\n\t\t\t\t\t\tSystem.out.println(&quot;New connection&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void readData()\r\n\t{\r\n\t\tint numberOfKeys = 0;\r\n\t\tByteBuffer buffer = ByteBuffer.allocate(256);\r\n\t\t\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;About to block on IO selector&quot;);\r\n\t\t\t\tnumberOfKeys = selectorIO.select();\r\n\t\t\t\tSystem.out.println(&quot;I NEVER GET HERE&quot;);\r\n\t\t\t\t\r\n\t\t\t\tSet&lt;SelectionKey&gt; keys = selectorIO.selectedKeys();\r\n\t\t\t\tIterator&lt;SelectionKey&gt; itr = keys.iterator();\r\n\t\t\t\t\r\n\t\t\t\twhile(itr.hasNext())\r\n\t\t\t\t{\r\n\t\t\t\t\tSelectionKey key = itr.next();\r\n\t\t\t\t\tif(key.isReadable())\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSocketChannel channel = (SocketChannel)key.channel();\r\n\t\t\t\t\t\tchannel.read(buffer);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString s = buffer.toString();\r\n\t\t\t\t\t\tSystem.out.println(s);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nAnd here is my main class to kick the server off and also create a client.\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tServer s = new Server();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tThread t = new Thread(new Runnable() {\r\n\t\t\tpublic void run()\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tSocket s = new Socket(&quot;localhost&quot;, 4444);\r\n\t\t\t\t\tbyte[] data = &quot;hello&quot;.getBytes();\r\n\t\t\t\t\ts.getOutputStream().write(data);\r\n\t\t\t\t\ts.getOutputStream().flush();\r\n\t\t\t\t} catch (UnknownHostException e)\r\n\t\t\t\t{\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (IOException e)\r\n\t\t\t\t{\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tt.start();\r\n\t}\r\n}\r\n\r\n```","title":"Selector.select() not being unblocked even after I register a channel ready to read from another thread","body":"<p>I am creating a server to handle many different connections at the same time. I create two <code>Selector</code>s, on for the serverSocketChannel to <code>accept</code> and then the other for the connections to read data.</p>\n<p>The one selector successfully gets past the blocking <code>select()</code> function to accept the new connection. Then the goal is to register that SocketChannel that was accepted with the other selector that is currently blocked by it's <code>select()</code> function so that I can read the data when I need to.</p>\n<p>Everything seems to be set up correctly, but even after sending data, I am not getting past the other selector's <code>select()</code> function.</p>\n<p>Here is my server file:</p>\n<pre><code>import java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SelectionKey;\nimport java.nio.channels.Selector;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.TreeSet;\n\npublic class Server implements Runnable\n{\n    \n    public Thread threadAccept;\n    public Thread threadRead;\n    \n    protected ServerSocketChannel serverSocket;\n    \n    protected Selector selectorAccept;\n    protected Selector selectorIO;\n\n    protected Set&lt;Connection&gt; connections;\n    \n    private ByteBuffer buffer;\n    \n    public Server()\n    {\n        try\n        {\n            selectorAccept = Selector.open();\n            selectorIO = Selector.open();\n            \n            serverSocket = ServerSocketChannel.open();\n            serverSocket.configureBlocking(false);\n            \n            InetSocketAddress hostAddress = new InetSocketAddress(&quot;localhost&quot;,4444);\n            serverSocket.bind(hostAddress);\n            int ops = serverSocket.validOps();\n            SelectionKey selectKey = serverSocket.register(selectorAccept, ops);\n            \n            \n            threadAccept = new Thread(this);\n            threadAccept.start();\n            \n            threadRead = new Thread(this);\n            threadRead.start();\n            \n        }\n        catch(Exception e)\n        {\n            System.out.println(&quot;Error &quot;+e);\n        }\n    }\n    \n    public void run()\n    {\n        if(Thread.currentThread() == threadAccept)\n        {\n            acceptNewConnections();\n        }\n        else if(Thread.currentThread() == threadRead)\n        {\n            readData();\n        }\n    }\n    \n    private void acceptNewConnections()\n    {\n        int numberOfKeys = 0;\n        \n        while(true)\n        {\n            try\n            {\n                numberOfKeys = selectorAccept.select();\n                Set&lt;SelectionKey&gt; keys = selectorAccept.selectedKeys();\n                Iterator&lt;SelectionKey&gt; itr = keys.iterator();\n                \n                while(itr.hasNext())\n                {\n                    SelectionKey key = itr.next();\n                    if(key.isAcceptable())\n                    {\n                        SocketChannel client = serverSocket.accept();\n                        client.configureBlocking(false);\n                        client.register(selectorIO, SelectionKey.OP_READ);\n                        System.out.println(&quot;New connection&quot;);\n                    }\n                }\n            }\n            catch(Exception e)\n            {\n                System.out.println(e);\n            }\n        }\n    }\n    \n    public void readData()\n    {\n        int numberOfKeys = 0;\n        ByteBuffer buffer = ByteBuffer.allocate(256);\n        \n        while(true)\n        {\n            try\n            {\n                System.out.println(&quot;About to block on IO selector&quot;);\n                numberOfKeys = selectorIO.select();\n                System.out.println(&quot;I NEVER GET HERE&quot;);\n                \n                Set&lt;SelectionKey&gt; keys = selectorIO.selectedKeys();\n                Iterator&lt;SelectionKey&gt; itr = keys.iterator();\n                \n                while(itr.hasNext())\n                {\n                    SelectionKey key = itr.next();\n                    if(key.isReadable())\n                    {\n                        SocketChannel channel = (SocketChannel)key.channel();\n                        channel.read(buffer);\n                        \n                        String s = buffer.toString();\n                        System.out.println(s);\n                    }\n                }\n            }\n            catch(Exception e)\n            {\n                System.out.println(e);\n            }\n        }\n    }\n    \n    \n}\n\n</code></pre>\n<p>And here is my main class to kick the server off and also create a client.</p>\n<pre><code>import java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        Server s = new Server();\n        \n        \n        \n        Thread t = new Thread(new Runnable() {\n            public void run()\n            {\n                try\n                {\n                    Socket s = new Socket(&quot;localhost&quot;, 4444);\n                    byte[] data = &quot;hello&quot;.getBytes();\n                    s.getOutputStream().write(data);\n                    s.getOutputStream().flush();\n                } catch (UnknownHostException e)\n                {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                } catch (IOException e)\n                {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n        });\n        \n        t.start();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","maven","gradle","intellij-idea"],"comments":[{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1664344347,"post_id":73876376,"comment_id":130446911,"body_markdown":"This is the similar questions.\nhttps://stackoverflow.com/questions/38096074/how-to-get-source-code-from-jar-file\nhttps://stackoverflow.com/questions/3171758/how-do-i-extract-source-code-from-a-jar-file\nhttps://stackoverflow.com/questions/5107187/extract-source-code-from-jar-file","body":"This is the similar questions. <a href=\"https://stackoverflow.com/questions/38096074/how-to-get-source-code-from-jar-file\" title=\"how to get source code from jar file\">stackoverflow.com/questions/38096074/&hellip;</a> <a href=\"https://stackoverflow.com/questions/3171758/how-do-i-extract-source-code-from-a-jar-file\" title=\"how do i extract source code from a jar file\">stackoverflow.com/questions/3171758/&hellip;</a> <a href=\"https://stackoverflow.com/questions/5107187/extract-source-code-from-jar-file\" title=\"extract source code from jar file\">stackoverflow.com/questions/5107187/&hellip;</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1664354102,"post_id":73876376,"comment_id":130449879,"body_markdown":"Please see the official documentation at https://www.jetbrains.com/help/idea/library.html#define-a-project-library on how to add external libraries to your project.","body":"Please see the official documentation at <a href=\"https://www.jetbrains.com/help/idea/library.html#define-a-project-library\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/library.html#define-a-project-librar&zwnj;&#8203;y</a> on how to add external libraries to your project."}],"owner":{"account_id":14915592,"reputation":37,"user_id":10769507,"display_name":"S. D. chowdhury "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664341235,"creation_date":1664341235,"question_id":73876376,"body_markdown":"I have an external jar file, which I want to add in my intellij project. I added it as a module. Now, it is visible under external libraries section. But, I&#39;m unable to use Or access or call the functions of that jar in my project. I don&#39;t get any import option. Please help. ","title":"Import jar issue in intellij project","body":"<p>I have an external jar file, which I want to add in my intellij project. I added it as a module. Now, it is visible under external libraries section. But, I'm unable to use Or access or call the functions of that jar in my project. I don't get any import option. Please help.</p>\n"},{"tags":["java","log4j","cxf","log4j2","slf4j"],"answers":[{"tags":[],"owner":{"account_id":3086648,"reputation":949,"user_id":2613639,"accept_rate":45,"display_name":"M A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664341076,"creation_date":1664341076,"answer_id":73876366,"question_id":73865699,"body_markdown":"After enabling cxf logs to `DEBUG` level, I came to know the interceptor was not adding to the chain, it was skipped by `bus` because I didn&#39;t method the `phase` to that interceptor. Along with the phase we also need to make sure that our interceptor must get chain before `LoggingOutInterceptor`.\r\n\r\nBy mentioning the phase it works perfectly. \r\n\r\n**logs**\r\n\r\n```\r\n2022-09-27T18:43:34,993 DEBUG [ClientImpl] -  Interceptors contributed by bus: [com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorOut@68205edc, org.apache.cxf.ws.policy.PolicyOutInterceptor@2ea3817d, org.apache.cxf.interceptor.LoggingOutInterceptor@21977a79]\r\n\r\nAdding interceptor com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorOut@68205edc to phase pre-stream\r\n\r\n  setup [PolicyOutInterceptor]\r\n  pre-logical [HolderOutInterceptor, SwAOutInterceptor, WrapperClassOutInterceptor, SoapHeaderOutFilterInterceptor]\r\n  post-logical [SoapPreProtocolOutInterceptor]\r\n  prepare-send [MessageSenderInterceptor]\r\n  pre-stream [AdaptorCXFLoggingInterceptorOut, LoggingOutInterceptor, AttachmentOutInterceptor, StaxOutInterceptor]\r\n  write [SoapOutInterceptor]\r\n  marshal [WrappedOutInterceptor, BareOutInterceptor]\r\n  send [WebServiceAddressLoggingInterceptor]\r\n```\r\n\r\n**cxf.xml**\r\n\r\n```\r\n    &lt;bean id=&quot;logOutbound&quot; class=&quot;com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorOut&quot;&gt;\r\n        &lt;constructor-arg value=&quot;pre-stream&quot;/&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\n**Interceptor**\r\n\r\n\r\n```\r\npublic class AdaptorCXFLoggingInterceptorOut extends LoggingOutInterceptor\r\n{\r\n\tpublic AdaptorCXFLoggingInterceptorOut(String phase)\r\n\t{\r\n\t\tsuper(phase);\r\n\t\taddBefore(LoggingOutInterceptor.class.getName());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected String formatLoggingMessage(LoggingMessage loggingMessage)\r\n\t{\r\n\t\tStringBuilder transactionId = new StringBuilder(&quot;\\nUnique-Identifier-ID : &quot;);\r\n\t\ttransactionId.append(MDC.get(&quot;TRANSACTION_ID&quot;));\r\n\t\tStringBuilder loggingMsg = new StringBuilder(loggingMessage.toString());\r\n\t\tint indexOfID = loggingMsg.indexOf(&quot;Address:&quot;);\r\n\t\tloggingMsg.insert(indexOfID-1, transactionId);\r\n\t\treturn loggingMsg.toString();\r\n\t}\r\n}\r\n```\r\n","title":"CustomOutInterceptor always get the instance of super class","body":"<p>After enabling cxf logs to <code>DEBUG</code> level, I came to know the interceptor was not adding to the chain, it was skipped by <code>bus</code> because I didn't method the <code>phase</code> to that interceptor. Along with the phase we also need to make sure that our interceptor must get chain before <code>LoggingOutInterceptor</code>.</p>\n<p>By mentioning the phase it works perfectly.</p>\n<p><strong>logs</strong></p>\n<pre><code>2022-09-27T18:43:34,993 DEBUG [ClientImpl] -  Interceptors contributed by bus: [com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorOut@68205edc, org.apache.cxf.ws.policy.PolicyOutInterceptor@2ea3817d, org.apache.cxf.interceptor.LoggingOutInterceptor@21977a79]\n\nAdding interceptor com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorOut@68205edc to phase pre-stream\n\n  setup [PolicyOutInterceptor]\n  pre-logical [HolderOutInterceptor, SwAOutInterceptor, WrapperClassOutInterceptor, SoapHeaderOutFilterInterceptor]\n  post-logical [SoapPreProtocolOutInterceptor]\n  prepare-send [MessageSenderInterceptor]\n  pre-stream [AdaptorCXFLoggingInterceptorOut, LoggingOutInterceptor, AttachmentOutInterceptor, StaxOutInterceptor]\n  write [SoapOutInterceptor]\n  marshal [WrappedOutInterceptor, BareOutInterceptor]\n  send [WebServiceAddressLoggingInterceptor]\n</code></pre>\n<p><strong>cxf.xml</strong></p>\n<pre><code>    &lt;bean id=&quot;logOutbound&quot; class=&quot;com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorOut&quot;&gt;\n        &lt;constructor-arg value=&quot;pre-stream&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p><strong>Interceptor</strong></p>\n<pre><code>public class AdaptorCXFLoggingInterceptorOut extends LoggingOutInterceptor\n{\n    public AdaptorCXFLoggingInterceptorOut(String phase)\n    {\n        super(phase);\n        addBefore(LoggingOutInterceptor.class.getName());\n    }\n\n    @Override\n    protected String formatLoggingMessage(LoggingMessage loggingMessage)\n    {\n        StringBuilder transactionId = new StringBuilder(&quot;\\nUnique-Identifier-ID : &quot;);\n        transactionId.append(MDC.get(&quot;TRANSACTION_ID&quot;));\n        StringBuilder loggingMsg = new StringBuilder(loggingMessage.toString());\n        int indexOfID = loggingMsg.indexOf(&quot;Address:&quot;);\n        loggingMsg.insert(indexOfID-1, transactionId);\n        return loggingMsg.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3086648,"reputation":949,"user_id":2613639,"accept_rate":45,"display_name":"M A."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664341076,"creation_date":1664272767,"question_id":73865699,"body_markdown":"To log SOAP request and response payloads, I&#39;ve enabled the cxf logging and was using the default interceptors which works seamlessly. But client also wants to add **Transaction-ID** with in the `LoggingMessage` information. To achieve this I&#39;ve created two new custom interceptors which extends the default `LoggingInInterceptor` and `LoggingOutInterceptor`.\r\n\r\nFor **inBounds** I overridden the method `formatLoggingMessage` and alter the message before logging into the console. This works perfect but for **outBounds** payloads instead of calling overridden method it calls the super class (LoggingOutInterceptor) method. I&#39;ve checked the config several times but unable to resolve this. \r\n\r\nFollowing is the code snippet.\r\n\r\n**AdaptorCXFLoggingInterceptorOut.java**\r\n\r\n```\r\npublic class AdaptorCXFLoggingInterceptorOut extends LoggingOutInterceptor\r\n{\r\n\r\n    @Override\r\n\tprotected String formatLoggingMessage(LoggingMessage loggingMessage)\r\n\t{\r\n\t\tStringBuilder transactionId = new StringBuilder(&quot;\\nTransaction-ID : &quot;);\r\n\t\ttransactionId.append(MDC.get(&quot;TRANSACTION_ID&quot;));\r\n\t\tStringBuilder loggingMsg = new StringBuilder(loggingMessage.toString());\r\n\t\tint indexOfID = loggingMsg.indexOf(&quot;Address:&quot;);\r\n\t\tloggingMsg.insert(indexOfID-1, transactionId);\r\n\t\treturn loggingMsg.toString();\r\n\t}\r\n```\r\n\r\n**cxf.xml**\r\n\r\n```\r\n    &lt;bean id=&quot;loggingFeature&quot; class=&quot;org.apache.cxf.feature.LoggingFeature&quot;&gt;\r\n        &lt;property name=&quot;prettyLogging&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;logInbound&quot; class=&quot;com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorIn&quot;/&gt;\r\n    &lt;bean id=&quot;logOutbound&quot; class=&quot;com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorOut&quot;/&gt;\r\n    &lt;cxf:bus&gt;\r\n        &lt;cxf:inInterceptors&gt;\r\n            &lt;ref bean=&quot;logInbound&quot;/&gt;\r\n        &lt;/cxf:inInterceptors&gt;\r\n        &lt;cxf:outInterceptors&gt;\r\n            &lt;ref bean=&quot;logOutbound&quot;/&gt;\r\n        &lt;/cxf:outInterceptors&gt;\r\n        &lt;cxf:features&gt;\r\n            &lt;ref bean=&quot;loggingFeature&quot; /&gt;\r\n        &lt;/cxf:features&gt;\r\n    &lt;/cxf:bus&gt;\r\n```\r\n\r\n**logs**\r\n\r\n```\r\n--------------------------------------\r\n2022-09-27T14:54:56,033 INFO  [ERSWSReseller] -  Inbound Message\r\n---------------------------\r\nID: 5 \r\n&lt;Transaction-ID&gt; &lt;--------- MISSING HERE\r\nAddress: http://localhost:8777/txe/reseller\r\nEncoding: UTF-8\r\nHttp-Method: POST\r\n----------------------------\r\nID: 5\r\nTransaction-ID : 16a21796-0d96-4b9f-9951-fe6a877097fd &lt;---- works for InBound\r\nResponse-Code: 200\r\nEncoding: UTF-8\r\nContent-Type: text/xml;charset=utf-8\r\n```\r\n\r\nIn the below image, we can see it&#39;s referring to the instance of super call instead of customOutInterceptor.\r\n\r\n[![Instance of super instead of customOutInterceptor][1]][1]\r\n\r\n\r\nCan someone please guide me, what I&#39;m missing here. Thanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8C5LA.png","title":"CustomOutInterceptor always get the instance of super class","body":"<p>To log SOAP request and response payloads, I've enabled the cxf logging and was using the default interceptors which works seamlessly. But client also wants to add <strong>Transaction-ID</strong> with in the <code>LoggingMessage</code> information. To achieve this I've created two new custom interceptors which extends the default <code>LoggingInInterceptor</code> and <code>LoggingOutInterceptor</code>.</p>\n<p>For <strong>inBounds</strong> I overridden the method <code>formatLoggingMessage</code> and alter the message before logging into the console. This works perfect but for <strong>outBounds</strong> payloads instead of calling overridden method it calls the super class (LoggingOutInterceptor) method. I've checked the config several times but unable to resolve this.</p>\n<p>Following is the code snippet.</p>\n<p><strong>AdaptorCXFLoggingInterceptorOut.java</strong></p>\n<pre><code>public class AdaptorCXFLoggingInterceptorOut extends LoggingOutInterceptor\n{\n\n    @Override\n    protected String formatLoggingMessage(LoggingMessage loggingMessage)\n    {\n        StringBuilder transactionId = new StringBuilder(&quot;\\nTransaction-ID : &quot;);\n        transactionId.append(MDC.get(&quot;TRANSACTION_ID&quot;));\n        StringBuilder loggingMsg = new StringBuilder(loggingMessage.toString());\n        int indexOfID = loggingMsg.indexOf(&quot;Address:&quot;);\n        loggingMsg.insert(indexOfID-1, transactionId);\n        return loggingMsg.toString();\n    }\n</code></pre>\n<p><strong>cxf.xml</strong></p>\n<pre><code>    &lt;bean id=&quot;loggingFeature&quot; class=&quot;org.apache.cxf.feature.LoggingFeature&quot;&gt;\n        &lt;property name=&quot;prettyLogging&quot; value=&quot;true&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;logInbound&quot; class=&quot;com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorIn&quot;/&gt;\n    &lt;bean id=&quot;logOutbound&quot; class=&quot;com.seamless.ers.interceptors.AdaptorCXFLoggingInterceptorOut&quot;/&gt;\n    &lt;cxf:bus&gt;\n        &lt;cxf:inInterceptors&gt;\n            &lt;ref bean=&quot;logInbound&quot;/&gt;\n        &lt;/cxf:inInterceptors&gt;\n        &lt;cxf:outInterceptors&gt;\n            &lt;ref bean=&quot;logOutbound&quot;/&gt;\n        &lt;/cxf:outInterceptors&gt;\n        &lt;cxf:features&gt;\n            &lt;ref bean=&quot;loggingFeature&quot; /&gt;\n        &lt;/cxf:features&gt;\n    &lt;/cxf:bus&gt;\n</code></pre>\n<p><strong>logs</strong></p>\n<pre><code>--------------------------------------\n2022-09-27T14:54:56,033 INFO  [ERSWSReseller] -  Inbound Message\n---------------------------\nID: 5 \n&lt;Transaction-ID&gt; &lt;--------- MISSING HERE\nAddress: http://localhost:8777/txe/reseller\nEncoding: UTF-8\nHttp-Method: POST\n----------------------------\nID: 5\nTransaction-ID : 16a21796-0d96-4b9f-9951-fe6a877097fd &lt;---- works for InBound\nResponse-Code: 200\nEncoding: UTF-8\nContent-Type: text/xml;charset=utf-8\n</code></pre>\n<p>In the below image, we can see it's referring to the instance of super call instead of customOutInterceptor.</p>\n<p><a href=\"https://i.stack.imgur.com/8C5LA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8C5LA.png\" alt=\"Instance of super instead of customOutInterceptor\" /></a></p>\n<p>Can someone please guide me, what I'm missing here. Thanks in advance.</p>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1664261832,"post_id":73863467,"comment_id":130424559,"body_markdown":"You want to reduce the used CPU by delaying a callback?","body":"You want to reduce the used CPU by delaying a callback?"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1664262504,"post_id":73863467,"comment_id":130424715,"body_markdown":"Yes because on load if the response is going too fast then I&#39;ll be hitting the same operation too quickly and it will increase the load.  So I am thinking doing this will at least reduce the occurence of a load test error because the test was too short due to a lack of think time between some operations.","body":"Yes because on load if the response is going too fast then I&#39;ll be hitting the same operation too quickly and it will increase the load.  So I am thinking doing this will at least reduce the occurence of a load test error because the test was too short due to a lack of think time between some operations."},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1664262566,"post_id":73863467,"comment_id":130424742,"body_markdown":"Sort of like throttling","body":"Sort of like throttling"}],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664340969,"creation_date":1664270031,"answer_id":73865096,"question_id":73863467,"body_markdown":"## OffTopic\r\nThere is something terrible wrong with your consumer. A fast response should not result in a retry.\r\n\r\nI would never built some throttling in a production-application.\r\n\r\n## OnTopic\r\n`delayUntil()` expects a function which doesn&#39;t fit well to your use-case.  \r\nI see only one way: Measure the timings.\r\n\r\nHere is an example.  \r\nCaution #1: Written by hand, there are some errors.  \r\nCaution #2: Spring-Magic is not part of the method. Serialization and Spring-Filters cannot be measured.\r\n\r\n```\r\npublic Mono&lt;EchoResponse&gt; echo(@RequestBody EchoRequest request) {\r\n\r\n    var startTime = LocalDateTime.now();\r\n\r\n    var hardWorkedObject = EchoResponse.builder()\r\n        .message(request.getMessage())\r\n        .timestamp(Instant.now())\r\n        .build())\r\n\r\n    var workedTime = Duration.between(startTime, LocalDateTime.now());\r\n    \r\n    if (workedTime.getMillis() &lt; 100) {\r\n       return Mono.just(hardWorkedObject)\r\n           .delayElement(Duration.ofMillis(workedTime.getMillis() - 100));\r\n    } else {\r\n       return Mono.just(hardWorkedObject);\r\n    }\r\n}\r\n```","title":"How do I ensure that there&#39;s a minimum time before a response in WebFlux but do not add a fixed delay?","body":"<h2>OffTopic</h2>\n<p>There is something terrible wrong with your consumer. A fast response should not result in a retry.</p>\n<p>I would never built some throttling in a production-application.</p>\n<h2>OnTopic</h2>\n<p><code>delayUntil()</code> expects a function which doesn't fit well to your use-case.<br />\nI see only one way: Measure the timings.</p>\n<p>Here is an example.<br />\nCaution #1: Written by hand, there are some errors.<br />\nCaution #2: Spring-Magic is not part of the method. Serialization and Spring-Filters cannot be measured.</p>\n<pre><code>public Mono&lt;EchoResponse&gt; echo(@RequestBody EchoRequest request) {\n\n    var startTime = LocalDateTime.now();\n\n    var hardWorkedObject = EchoResponse.builder()\n        .message(request.getMessage())\n        .timestamp(Instant.now())\n        .build())\n\n    var workedTime = Duration.between(startTime, LocalDateTime.now());\n    \n    if (workedTime.getMillis() &lt; 100) {\n       return Mono.just(hardWorkedObject)\n           .delayElement(Duration.ofMillis(workedTime.getMillis() - 100));\n    } else {\n       return Mono.just(hardWorkedObject);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664294033,"creation_date":1664294033,"answer_id":73870451,"question_id":73863467,"body_markdown":"First thing is to store the start time.  The value would be stored in the context using the following function.\r\n```\r\n    private Context writeStartTimeToContext(Context ctx) {\r\n        return ctx.put(&quot;startTime&quot;, System.currentTimeMillis());\r\n    }\r\n```\r\n\r\nNext there needs to be a method that takes in some source data and returns a Mono that is delayed for `delayUntil` to use.\r\n\r\n```\r\n  /**\r\n   * Provide a function to apply a minimum operation time\r\n   *\r\n   * @param i input type ignored\r\n   * @return a mono that is delayed until a target time.\r\n   * @param &lt;T&gt; input type that is ignored\r\n   */\r\n  private &lt;T&gt; Mono&lt;?&gt; applyMinimumOperationTime(T i) {\r\n\r\n    return Mono.deferContextual(\r\n            ctx -&gt;\r\n                Mono.just(\r\n                    authProperties.getMinimumOperationTimeInMillis()\r\n                        + (long) ctx.get(&quot;startTime&quot;)\r\n                        - System.currentTimeMillis()))\r\n        .filter(delayTime -&gt; delayTime &gt; 0)\r\n        .map(Duration::ofMillis)\r\n        .flatMap(delayTime -&gt; Mono.just(i).delayElement(delayTime));\r\n  }\r\n```\r\n\r\nThis can then be applied in the call chain *near the end* as\r\n\r\n```\r\nsomeOperationThatCouldBeVeryQuickThatProvidesAMono\r\n  ...\r\n  .delayUntil(this::applyMinimumOperationTime)\r\n  .contextWrite(this::writeStartTimeToContext)\r\n  ...;\r\n```\r\n\r\n[Example of how this is used](https://github.com/trajano/spring-cloud-demo/blob/rework/gateway/src/main/java/net/trajano/swarm/gateway/auth/AbstractAuthController.java).","title":"How do I ensure that there&#39;s a minimum time before a response in WebFlux but do not add a fixed delay?","body":"<p>First thing is to store the start time.  The value would be stored in the context using the following function.</p>\n<pre><code>    private Context writeStartTimeToContext(Context ctx) {\n        return ctx.put(&quot;startTime&quot;, System.currentTimeMillis());\n    }\n</code></pre>\n<p>Next there needs to be a method that takes in some source data and returns a Mono that is delayed for <code>delayUntil</code> to use.</p>\n<pre><code>  /**\n   * Provide a function to apply a minimum operation time\n   *\n   * @param i input type ignored\n   * @return a mono that is delayed until a target time.\n   * @param &lt;T&gt; input type that is ignored\n   */\n  private &lt;T&gt; Mono&lt;?&gt; applyMinimumOperationTime(T i) {\n\n    return Mono.deferContextual(\n            ctx -&gt;\n                Mono.just(\n                    authProperties.getMinimumOperationTimeInMillis()\n                        + (long) ctx.get(&quot;startTime&quot;)\n                        - System.currentTimeMillis()))\n        .filter(delayTime -&gt; delayTime &gt; 0)\n        .map(Duration::ofMillis)\n        .flatMap(delayTime -&gt; Mono.just(i).delayElement(delayTime));\n  }\n</code></pre>\n<p>This can then be applied in the call chain <em>near the end</em> as</p>\n<pre><code>someOperationThatCouldBeVeryQuickThatProvidesAMono\n  ...\n  .delayUntil(this::applyMinimumOperationTime)\n  .contextWrite(this::writeStartTimeToContext)\n  ...;\n</code></pre>\n<p><a href=\"https://github.com/trajano/spring-cloud-demo/blob/rework/gateway/src/main/java/net/trajano/swarm/gateway/auth/AbstractAuthController.java\" rel=\"nofollow noreferrer\">Example of how this is used</a>.</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664340969,"creation_date":1664261627,"question_id":73863467,"body_markdown":"I have an operation that executes relatively quick, but it is still high in CPU.  So I want to delay the response so that there&#39;s a minimum of 100ms\r\n\r\nI know I can simply do this\r\n\r\n```\r\n  @PostMapping(\r\n      path = &quot;/Echo/echo&quot;,\r\n      consumes = MediaType.APPLICATION_JSON_VALUE,\r\n      produces = MediaType.APPLICATION_JSON_VALUE)\r\n  public Mono&lt;EchoResponse&gt; echo(@RequestBody EchoRequest request) {\r\n\r\n    return Mono.just(\r\n            EchoResponse.builder().message(request.getMessage()).timestamp(Instant.now()).build())\r\n        .delayElement(Duration.ofMillis(100L));\r\n  }\r\n```\r\n\r\nBut that would always add `100ms` what I&#39;d want is to something like\r\n\r\n* original processing time is 10ms, then the response should take 100ms\r\n* original processing time is 100ms, then the response should take 100ms\r\n* original processing time is 120ms, then the response should take 120ms\r\n\r\nI am thinking I should be using delayUntil (now that I wrote this)","title":"How do I ensure that there&#39;s a minimum time before a response in WebFlux but do not add a fixed delay?","body":"<p>I have an operation that executes relatively quick, but it is still high in CPU.  So I want to delay the response so that there's a minimum of 100ms</p>\n<p>I know I can simply do this</p>\n<pre><code>  @PostMapping(\n      path = &quot;/Echo/echo&quot;,\n      consumes = MediaType.APPLICATION_JSON_VALUE,\n      produces = MediaType.APPLICATION_JSON_VALUE)\n  public Mono&lt;EchoResponse&gt; echo(@RequestBody EchoRequest request) {\n\n    return Mono.just(\n            EchoResponse.builder().message(request.getMessage()).timestamp(Instant.now()).build())\n        .delayElement(Duration.ofMillis(100L));\n  }\n</code></pre>\n<p>But that would always add <code>100ms</code> what I'd want is to something like</p>\n<ul>\n<li>original processing time is 10ms, then the response should take 100ms</li>\n<li>original processing time is 100ms, then the response should take 100ms</li>\n<li>original processing time is 120ms, then the response should take 120ms</li>\n</ul>\n<p>I am thinking I should be using delayUntil (now that I wrote this)</p>\n"},{"tags":["java","arrays","bubble-sort"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1633035497,"post_id":69398325,"comment_id":122661888,"body_markdown":"What value of M are you providing?","body":"What value of M are you providing?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633036465,"creation_date":1633035914,"answer_id":69398813,"question_id":69398325,"body_markdown":"&gt; count the number of swaps made after M runs of the outer loop.\r\n\r\nA couple observations.\r\n- you are sorting the values in descending order. Is that correct?\r\n- you need to only count the swaps while `m &gt; 0`.\r\n- after each outer loop, decrement `m by 1` (for each iteration of the outer loop).\r\n- you are not setting your `isDone` flag.\r\n\r\nHere is what I came up with. I changed `pass` to `swaps`.\r\n```\r\npublic class BubbleSort {\r\n\t\r\n\tstatic int totalBubbleSortSwaps(int[] array, int m) {\r\n\t\tint swaps = 0;\r\n\t\tboolean isDone;\r\n\t\tfor (int k = 0; k &lt; (array.length - 1); k++) {\r\n\t\t\tisDone = true;\r\n\t\t\tfor (int j = 0; j &lt; array.length - k - 1; j++) {\r\n\t\t\t\tif (array[j] &gt; array[j + 1]) {   // &lt;----- changed to &gt; from   &lt;\r\n\t\t\t\t\t isDone=false;\r\n\t\t\t\t\t\r\n\t\t\t\t\tint temp = array[j];\r\n\t\t\t\t\tarray[j] = array[j + 1];\r\n\t\t\t\t\tarray[j + 1] = temp;\r\n\t\t\t\t\tif (m &gt; 0) {\r\n\t\t\t\t\t\tswaps++;    // &lt;---- update swap count\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (isDone) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tm--;              &lt;---- decrement m\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn swaps;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int m = scanner.nextInt();\r\n            int size = scanner.nextInt();\r\n            int array[] = new int[size];\r\n            for (int i = 0; i &lt; size; i++) {\r\n                array[i] = scanner.nextInt();\r\n            }\r\n            System.out.println(totalBubbleSortSwaps(array, m));\r\n        }\r\n\t}\r\n}\r\n","title":"bubble sort problem number of passes (wrong output coming)","body":"<blockquote>\n<p>count the number of swaps made after M runs of the outer loop.</p>\n</blockquote>\n<p>A couple observations.</p>\n<ul>\n<li>you are sorting the values in descending order. Is that correct?</li>\n<li>you need to only count the swaps while <code>m &gt; 0</code>.</li>\n<li>after each outer loop, decrement <code>m by 1</code> (for each iteration of the outer loop).</li>\n<li>you are not setting your <code>isDone</code> flag.</li>\n</ul>\n<p>Here is what I came up with. I changed <code>pass</code> to <code>swaps</code>.</p>\n<pre><code>public class BubbleSort {\n    \n    static int totalBubbleSortSwaps(int[] array, int m) {\n        int swaps = 0;\n        boolean isDone;\n        for (int k = 0; k &lt; (array.length - 1); k++) {\n            isDone = true;\n            for (int j = 0; j &lt; array.length - k - 1; j++) {\n                if (array[j] &gt; array[j + 1]) {   // &lt;----- changed to &gt; from   &lt;\n                     isDone=false;\n                    \n                    int temp = array[j];\n                    array[j] = array[j + 1];\n                    array[j + 1] = temp;\n                    if (m &gt; 0) {\n                        swaps++;    // &lt;---- update swap count\n                    }\n                    \n                }\n            }\n            \n            if (isDone) {\n                break;\n            }\n            m--;              &lt;---- decrement m\n        }\n        \n        \n        return swaps;\n        \n    }\n    \n    public static void main(String[] args) {\n            Scanner scanner = new Scanner(System.in);\n            int m = scanner.nextInt();\n            int size = scanner.nextInt();\n            int array[] = new int[size];\n            for (int i = 0; i &lt; size; i++) {\n                array[i] = scanner.nextInt();\n            }\n            System.out.println(totalBubbleSortSwaps(array, m));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26178305,"reputation":1,"user_id":19862060,"display_name":" Jaya Madhuri "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661667058,"creation_date":1661667058,"answer_id":73516419,"question_id":69398325,"body_markdown":"    import java.util.Scanner;\r\n    class Source {\r\n        static int totalBubbleSortSwaps(int[] array, int m) {\r\n            int swaps = 0;\r\n         for (int k = 0; k &lt; m; k++) {\r\n              for (int j = 0; j &lt; array.length - k - 1; j++) {\r\n                    if (array[j] &lt; array[j + 1]) {   \r\n                        int temp = array[j];\r\n                        array[j] = array[j + 1];\r\n                        array[j + 1] = temp;\r\n                    swaps++;    \r\n                     }\r\n                }\r\n         }\r\n             return swaps;\r\n        }\r\n         public static void main(String[] args) {\r\n                Scanner scanner = new Scanner(System.in);\r\n     int m = scanner.nextInt();\r\n                int size = scanner.nextInt();\r\n                int array[] = new int[size];\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    array[i] = scanner.nextInt();\r\n                }\r\n                System.out.println(totalBubbleSortSwaps(array, m));\r\n            }\r\n        }","title":"bubble sort problem number of passes (wrong output coming)","body":"<pre><code>import java.util.Scanner;\nclass Source {\n    static int totalBubbleSortSwaps(int[] array, int m) {\n        int swaps = 0;\n     for (int k = 0; k &lt; m; k++) {\n          for (int j = 0; j &lt; array.length - k - 1; j++) {\n                if (array[j] &lt; array[j + 1]) {   \n                    int temp = array[j];\n                    array[j] = array[j + 1];\n                    array[j + 1] = temp;\n                swaps++;    \n                 }\n            }\n     }\n         return swaps;\n    }\n     public static void main(String[] args) {\n            Scanner scanner = new Scanner(System.in);\n int m = scanner.nextInt();\n            int size = scanner.nextInt();\n            int array[] = new int[size];\n            for (int i = 0; i &lt; size; i++) {\n                array[i] = scanner.nextInt();\n            }\n            System.out.println(totalBubbleSortSwaps(array, m));\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1705601,"reputation":547,"user_id":1564698,"accept_rate":82,"display_name":"Shourya Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664340628,"creation_date":1664340628,"answer_id":73876332,"question_id":69398325,"body_markdown":"The below code will give you the number of swaps done in bubble sort (descending order) when &quot;**M**&quot; iterations are done in the outer loop:\r\n\r\n    import java.util.*;\r\n    \r\n    public class BubbleSortSwaps {\r\n        public static void main(String[] args) {\r\n            try (Scanner scanner = new Scanner(System.in)) {\r\n                int M = scanner.nextInt();\r\n                int size = scanner.nextInt();\r\n                int array[] = new int[size];\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    array[i] = scanner.nextInt();\r\n                }\r\n                System.out.println(totalBubbleSortSwaps(array, M));\r\n            }\r\n        }\r\n    \r\n        static int totalBubbleSortSwaps(int[] array, int M) {\r\n            int size = array.length;\r\n            int totalSwaps = 0;\r\n            for (int i = 0; i &lt; M; i++) {\r\n                Boolean swap = false;\r\n                for (int j = 1; j &lt; size - i; j++) {\r\n                    int swapTemp = 0;\r\n                    if (array[j - 1] &lt; array[j]) {\r\n                        swapTemp = array[j - 1];\r\n                        array[j - 1] = array[j];\r\n                        array[j] = swapTemp;\r\n                        swap = true;\r\n                        totalSwaps++;\r\n                    }\r\n                }\r\n                if (!swap)\r\n                    break;\r\n            }\r\n            return totalSwaps;\r\n        }\r\n    }","title":"bubble sort problem number of passes (wrong output coming)","body":"<p>The below code will give you the number of swaps done in bubble sort (descending order) when &quot;<strong>M</strong>&quot; iterations are done in the outer loop:</p>\n<pre><code>import java.util.*;\n\npublic class BubbleSortSwaps {\n    public static void main(String[] args) {\n        try (Scanner scanner = new Scanner(System.in)) {\n            int M = scanner.nextInt();\n            int size = scanner.nextInt();\n            int array[] = new int[size];\n            for (int i = 0; i &lt; size; i++) {\n                array[i] = scanner.nextInt();\n            }\n            System.out.println(totalBubbleSortSwaps(array, M));\n        }\n    }\n\n    static int totalBubbleSortSwaps(int[] array, int M) {\n        int size = array.length;\n        int totalSwaps = 0;\n        for (int i = 0; i &lt; M; i++) {\n            Boolean swap = false;\n            for (int j = 1; j &lt; size - i; j++) {\n                int swapTemp = 0;\n                if (array[j - 1] &lt; array[j]) {\n                    swapTemp = array[j - 1];\n                    array[j - 1] = array[j];\n                    array[j] = swapTemp;\n                    swap = true;\n                    totalSwaps++;\n                }\n            }\n            if (!swap)\n                break;\n        }\n        return totalSwaps;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19993834,"reputation":1,"user_id":14654298,"display_name":"Nalayak Rana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1664340628,"creation_date":1633032671,"question_id":69398325,"body_markdown":"Write a bubble sort program that prints the number of swaps made after M number of iterations (In this case, ‘M’ should be an input value).\r\n\r\nFor example, if M = 0, the bubble sort program will perform 0 swaps in 0 iterations.\r\n\r\nIn bubble sort, an iteration is defined as the total number of times the outer loop runs. Assume that:\r\n1) M &lt;= the array size and\r\n2) the program sorts in descending order.\r\n\r\nThe code should ask the user to input the values for M, the array size, and finally the elements of the array. So, there will be three types of inputs — \r\n\r\nInput 1: The value of M\r\nInput 2: The size of the array\r\nInput 3: The elements inside the array\r\n\r\n\r\nSample Input: \r\n2 \r\n4\r\n1\r\n2 \r\n3\r\n4\r\n\r\nSample Output:\r\n5\r\n\r\nPlease help me in solving the Bubble Sort Problem. Here I run the program but I am getting 3 in place of 5.\r\n   \r\nhere&#39;s my code :\r\n \r\n\r\n    package com.company;\r\n        import java.util.*;\r\n        class Source {\r\n            static int totalBubbleSortSwaps(int[] array, int M) {\r\n            int pass=0;\r\n            boolean isDone;\r\n          for (int k = 0; k &lt; ( array.length-1 ); k++) {\r\n                isDone=true;\r\n                for (int j = 0; j &lt; array.length-k-1; j++) {\r\n                    if (array[j] &lt; array[j+1])\r\n                    {\r\n                        //isDone=false;\r\n                        int temp = array[j];\r\n                        array[j] = array[j+1];\r\n                        array[j+1] = temp;\r\n                        pass++;\r\n        \r\n                    }\r\n                }\r\n                if(isDone){\r\n                    break;\r\n                }\r\n        \r\n            }\r\n            //for (pass =1; pass &lt;m; ++pass){\r\n            //for (k = 0; k &lt; size; k++)\r\n           return pass;\r\n        \r\n        }\r\n            public static void main(String[] args) {\r\n                Scanner scanner = new Scanner(System.in);\r\n                int m = scanner.nextInt();\r\n                int size = scanner.nextInt();\r\n                int array[] = new int[size];\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    array[i] = scanner.nextInt();\r\n                }\r\n                System.out.println(totalBubbleSortSwaps(array, m));\r\n            }\r\n        }\r\n\r\n","title":"bubble sort problem number of passes (wrong output coming)","body":"<p>Write a bubble sort program that prints the number of swaps made after M number of iterations (In this case, ‘M’ should be an input value).</p>\n<p>For example, if M = 0, the bubble sort program will perform 0 swaps in 0 iterations.</p>\n<p>In bubble sort, an iteration is defined as the total number of times the outer loop runs. Assume that:</p>\n<ol>\n<li>M &lt;= the array size and</li>\n<li>the program sorts in descending order.</li>\n</ol>\n<p>The code should ask the user to input the values for M, the array size, and finally the elements of the array. So, there will be three types of inputs —</p>\n<p>Input 1: The value of M\nInput 2: The size of the array\nInput 3: The elements inside the array</p>\n<p>Sample Input:\n2\n4\n1\n2\n3\n4</p>\n<p>Sample Output:\n5</p>\n<p>Please help me in solving the Bubble Sort Problem. Here I run the program but I am getting 3 in place of 5.</p>\n<p>here's my code :</p>\n<pre><code>package com.company;\n    import java.util.*;\n    class Source {\n        static int totalBubbleSortSwaps(int[] array, int M) {\n        int pass=0;\n        boolean isDone;\n      for (int k = 0; k &lt; ( array.length-1 ); k++) {\n            isDone=true;\n            for (int j = 0; j &lt; array.length-k-1; j++) {\n                if (array[j] &lt; array[j+1])\n                {\n                    //isDone=false;\n                    int temp = array[j];\n                    array[j] = array[j+1];\n                    array[j+1] = temp;\n                    pass++;\n    \n                }\n            }\n            if(isDone){\n                break;\n            }\n    \n        }\n        //for (pass =1; pass &lt;m; ++pass){\n        //for (k = 0; k &lt; size; k++)\n       return pass;\n    \n    }\n        public static void main(String[] args) {\n            Scanner scanner = new Scanner(System.in);\n            int m = scanner.nextInt();\n            int size = scanner.nextInt();\n            int array[] = new int[size];\n            for (int i = 0; i &lt; size; i++) {\n                array[i] = scanner.nextInt();\n            }\n            System.out.println(totalBubbleSortSwaps(array, m));\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1664349616,"post_id":73876234,"comment_id":130448353,"body_markdown":"So if you have 123.9 and 123.91, do you want 9 and 91 respectively ?","body":"So if you have 123.9 and 123.91, do you want 9 and 91 respectively ?"},{"owner":{"account_id":26465793,"reputation":1,"user_id":20107013,"display_name":"Splilz"},"score":0,"creation_date":1664387967,"post_id":73876234,"comment_id":130462425,"body_markdown":"everything after the &quot;.&quot;.","body":"everything after the &quot;.&quot;."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666013632,"post_id":73876234,"comment_id":130827919,"body_markdown":"The &quot;duplicate&quot; is a C# question. How is it related to this question?","body":"The &quot;duplicate&quot; is a C# question. How is it related to this question?"}],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664340068,"creation_date":1664340068,"answer_id":73876280,"question_id":73876234,"body_markdown":"Well you can use String and split to derive your output:\r\n\r\n```JAVA\r\ndouble number = 123.456;\r\nString numberString = String.valueOf(number);\r\nString[] digits2 = numberString.split(&quot;\\\\.&quot;);\r\nSystem.out.println(digits2[1]);\r\n```\r\n\r\nAfter having this output, you can cast it to integer. Should not be that hard\r\n\r\n","title":"How can put what come after the decimal in a integer in java?","body":"<p>Well you can use String and split to derive your output:</p>\n<pre><code>double number = 123.456;\nString numberString = String.valueOf(number);\nString[] digits2 = numberString.split(&quot;\\\\.&quot;);\nSystem.out.println(digits2[1]);\n</code></pre>\n<p>After having this output, you can cast it to integer. Should not be that hard</p>\n"}],"owner":{"account_id":26465793,"reputation":1,"user_id":20107013,"display_name":"Splilz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1664340236,"answer_count":1,"score":-2,"last_activity_date":1664340567,"creation_date":1664339674,"question_id":73876234,"body_markdown":"For example if I had a (double 123.987) how can take what comes after the right of the decimal and make it A integer (987)?","title":"How can put what come after the decimal in a integer in java?","body":"<p>For example if I had a (double 123.987) how can take what comes after the right of the decimal and make it A integer (987)?</p>\n"},{"tags":["java","loops","while-loop","controls","flowchart"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664192847,"post_id":73853670,"comment_id":130407617,"body_markdown":"that is a simple conditional statement, hence the possible results: true and false. IF loopCount &lt; 10 THEN perform the true part ELSE perform the false part","body":"that is a simple conditional statement, hence the possible results: true and false. IF loopCount &lt; 10 THEN perform the true part ELSE perform the false part"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1664192911,"post_id":73853670,"comment_id":130407640,"body_markdown":"I don&#39;t know what the &quot;?&quot; means. Looks like a mistake / formatting error in the flow chart. About the solution: Think about what your proposed while statements mean. You can read them as if they are almost English and then reason. Hint: Both are wrong. The flowchart asks you to check if loopCount is less than 10, not less-or-equal or equal to 10.","body":"I don&#39;t know what the &quot;?&quot; means. Looks like a mistake / formatting error in the flow chart. About the solution: Think about what your proposed while statements mean. You can read them as if they are almost English and then reason. Hint: Both are wrong. The flowchart asks you to check if loopCount is less than 10, not less-or-equal or equal to 10."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664339858,"creation_date":1664195076,"answer_id":73854119,"question_id":73853670,"body_markdown":"&gt; *Q: What does `loopCount &lt; ? 10` mean?*\r\n\r\nIt looks to me like a typo.  It would make more sense if it was written as:\r\n\r\n    loopCount &lt; 10 ?\r\n\r\nOr in plain English as *&quot;is loopCount less that 10?&quot;*.\r\n\r\nThe entire flowchart&lt;sup&gt;1&lt;/sup&gt; can written in Java as a `while` loop, or a `for` loop.  \r\n\r\nHowever, neither of your attempts is exactly correct.  See Jesper&#39;s comment.\r\n\r\nWhat you need is a Java loop that performs the &quot;output&quot; with `loopCount` values 1 through 9 inclusive; i.e. nine times.\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - You can&#39;t translate the flowchart boxes and lines individually and assemble them into valid / working Java.  A literal translation would require `goto` statements for some of the lines, and Java doesn&#39;t support that.  (Old-school FORTRAN, COBOL and BASIC did!)  Instead, you have to extract the *meaning* of the flowchart, and *write* Java code that does the same thing.&lt;/sup&gt;\r\n\r\n","title":"What does this flowchart control statement mean?","body":"<blockquote>\n<p><em>Q: What does <code>loopCount &lt; ? 10</code> mean?</em></p>\n</blockquote>\n<p>It looks to me like a typo.  It would make more sense if it was written as:</p>\n<pre><code>loopCount &lt; 10 ?\n</code></pre>\n<p>Or in plain English as <em>&quot;is loopCount less that 10?&quot;</em>.</p>\n<p>The entire flowchart<sup>1</sup> can written in Java as a <code>while</code> loop, or a <code>for</code> loop.</p>\n<p>However, neither of your attempts is exactly correct.  See Jesper's comment.</p>\n<p>What you need is a Java loop that performs the &quot;output&quot; with <code>loopCount</code> values 1 through 9 inclusive; i.e. nine times.</p>\n<hr />\n<p><sup>1 - You can't translate the flowchart boxes and lines individually and assemble them into valid / working Java.  A literal translation would require <code>goto</code> statements for some of the lines, and Java doesn't support that.  (Old-school FORTRAN, COBOL and BASIC did!)  Instead, you have to extract the <em>meaning</em> of the flowchart, and <em>write</em> Java code that does the same thing.</sup></p>\n"}],"owner":{"account_id":26446039,"reputation":11,"user_id":20089885,"display_name":"haku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1664339858,"creation_date":1664192638,"question_id":73853670,"body_markdown":"[flowchart while loop][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xZYC9.png\r\n\r\nIn the picture above, the control statement is &quot;loopCount &lt; ? 10&quot;. What is the correct control statement of this one if written in code? (code should be written in a while loop, java)\r\n\r\n&quot;while(loopCount&lt;=10)&quot; or &quot;while(loopCount==10)&quot;?\r\n\r\nWhat does &quot;&lt; ?&quot; mean?\r\n\r\n","title":"What does this flowchart control statement mean?","body":"<p><a href=\"https://i.stack.imgur.com/xZYC9.png\" rel=\"nofollow noreferrer\">flowchart while loop</a></p>\n<p>In the picture above, the control statement is &quot;loopCount &lt; ? 10&quot;. What is the correct control statement of this one if written in code? (code should be written in a while loop, java)</p>\n<p>&quot;while(loopCount&lt;=10)&quot; or &quot;while(loopCount==10)&quot;?</p>\n<p>What does &quot;&lt; ?&quot; mean?</p>\n"},{"tags":["java","file"],"answers":[{"tags":[],"owner":{"account_id":20859888,"reputation":36,"user_id":15322375,"display_name":"Alpha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664303472,"creation_date":1664303472,"answer_id":73872306,"question_id":73872234,"body_markdown":"````lang-java \r\n   try {\r\n        FileWriter writer = new FileWriter(file);\r\n        writer.write(text);\r\n        writer.close;\r\n    catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n````\r\nthis should write text to a file, given that the file inputted is a txt file","title":"I want to store the user data on a notepad to find the mutual friend details and some more things but I&#39;m struggling to store as a txt file","body":"<pre class=\"lang-java prettyprint-override\"><code>   try {\n        FileWriter writer = new FileWriter(file);\n        writer.write(text);\n        writer.close;\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>this should write text to a file, given that the file inputted is a txt file</p>\n"}],"owner":{"account_id":25868014,"reputation":1,"user_id":19599320,"display_name":"Edhaya Murali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664339130,"creation_date":1664303105,"question_id":73872234,"body_markdown":"Main.java:\r\n    \r\n    package face;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main\r\n    {\r\n        public static void main (String[]args) throws Exception\r\n        {\r\n      Scanner sc=new Scanner(System.in);\r\n        int choice;\r\n                SignUp m = new SignUp();\r\n             while (true) {\r\n                    System.out.\r\n                            println(&quot;1)Customer Sign-up\\n2)Customer signin\\n3)Stop Program&quot;);\r\n                    choice = sc.nextInt();\r\n                    switch (choice) {\r\n                        case 1:\r\n                        \tm.customerSignUp();\r\n                        \tbreak;\r\n                        case 2:\r\n                        \tm.customerSignin();\r\n                            break;\r\n                        case 3:\r\n                            System.exit(0);\r\n                    }\r\n            }\r\n        }\r\n    }\r\n\r\nsignup.java:\r\n    \r\n    package face;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class SignUp implements Serializable {\r\n    \r\n        Scanner sc = new Scanner(System.in);\r\n    \r\n        ArrayList&lt;User&gt; customer = new ArrayList&lt;User&gt;();\r\n        Home home = new Home();\r\n       void customerSignUp() {\r\n            System.out.println(&quot;Enter the details to sign-up&quot;);\r\n            System.out.println(&quot;Enter the id&quot;);\r\n            int id = sc.nextInt();\r\n            System.out.println(&quot;enter the name&quot;);\r\n            String name = sc.next();\r\n            System.out.println(&quot;enter the pass&quot;);\r\n            String pass = sc.next();\r\n            System.out.println(&quot;Enter the age&quot;);\r\n            int age = sc.nextInt();\r\n            System.out.println(&quot;Enter the gender&quot;);\r\n            String gender = sc.next();\r\n           \r\n            int d = 0;\r\n            if (customer.size() &gt; 1) {\r\n                for (User c : customer) {\r\n                    if (c.id == (id)) {\r\n                        d++;\r\n                    }\r\n                }\r\n            }\r\n            if (d== 0) {\r\n                customer.add(new User(id, name, pass, age, gender));\r\n                System.out.println(&quot;Back to home page&quot;);\r\n            } else {\r\n                System.out.println(&quot;User id already exist&quot;);\r\n            }\r\n    \r\n            }\r\n        void customerSignin() {\r\n        \tSystem.out.println(&quot;Enter id: &quot;);\r\n            int id = sc.nextInt();\r\n            System.out.println(&quot;password to Login:&quot;);\r\n            String pass = sc.next();\r\n            int f = 0;\r\n           User currcustomer = null;\r\n            for (User c : customer) {\r\n                if (c.id == (id) &amp;&amp; c.password.equals(pass)) {\r\n                    currcustomer = c;\r\n                    f++;\r\n                    break;\r\n                }\r\n            }\r\n            if (f == 0) {\r\n                System.out.println(&quot;Invalid Login or Password&quot;);\r\n            } else {\r\n                System.out.println(&quot;Logined Successfully...\\nWelcome &quot; + currcustomer.name + &quot;\\nage &quot; + currcustomer.age\r\n                        + &quot;\\ngender &quot; + currcustomer.gender);\r\n                home.enterHome(currcustomer);\r\n            }\r\n            }\r\n        public void view() {\r\n            System.out.println(&quot;Enter the user name&quot;);\r\n            String name = sc.next();\r\n            for (User c : customer) {\r\n                if (name.equals(c.name)) {\r\n                    System.out.println(&quot;you found the user&quot; + c.name + &quot;\\nage &quot; + c.age + &quot;\\ngender &quot; + c.gender);\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;user name not found&quot;);\r\n                }\r\n            }\r\n            \r\n        }\r\n        public void viewAll(User user) {\r\n            if (customer.size() &gt; 1) {\r\n                for (User c : customer) {\r\n                    if (c.id != user.id)\r\n                        System.out.println(&quot;User: &quot; + c.name + &quot;\\nId: &quot; + c.id + &quot;\\nage &quot; + c.age + &quot;\\ngender &quot; + c.gender);\r\n                }\r\n                System.out.println(&quot;Do you like to raise a friend request to an account? \\n1.Yes  2.No&quot;);\r\n                int yes = sc.nextInt();\r\n                if (yes == 1) {\r\n                    System.out.println(&quot;Enter the account Id to whom you want to raise request:&quot;);\r\n                    int requesterId = sc.nextInt();\r\n                    raiseRequest(requesterId, user);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;There are no users yet other than u&quot;);\r\n            }\r\n        }\r\n        public void viewParticularAccount(User user, int targetId) {\r\n            User targetUser = null;\r\n            for (User c : customer) {\r\n                if (c.id != user.id &amp;&amp; c.id == targetId) {\r\n                    System.out.println(&quot;You are visiting: &quot; + c.name + &quot;\\nage &quot; + c.age + &quot;\\ngender &quot; + c.gender);\r\n                    targetUser = c;\r\n                }\r\n            }\r\n            if (targetUser != null) {\r\n                System.out.println(&quot;Do you like to raise a friend request to an account? \\n1.Yes  2.No&quot;);\r\n                int yes = sc.nextInt();\r\n                if (yes == 1) {\r\n                    System.out.println(&quot;Enter the account Id to whom you want to raise request:&quot;);\r\n                    int requesterId = sc.nextInt();\r\n                    raiseRequest(requesterId, user);\r\n                }\r\n                if (yes == 2) {\r\n                    System.out.println(&quot;Do you like to check the mutual friends list of this account? \\n1.Yes 2.No&quot;);\r\n                    int showMutualview = sc.nextInt();\r\n                    if (showMutualview == 1) {\r\n                        showMutualFriends(user, targetUser);\r\n                    }\r\n                }\r\n            } else {\r\n                System.out.println(&quot;There are no users with the given Id :-) &quot;);\r\n            }\r\n        }\r\n        public void raiseRequest(int requesterId, User user) {\r\n            for (User c : customer) {\r\n                if (c.id == requesterId) {\r\n                    c.requesters.add(user);\r\n                }\r\n            }\r\n        }\r\n        public void showMutualFriends(User user, User targetUser) {\r\n            for (User u : customer) {\r\n                if (user.friends.contains(u) &amp;&amp; targetUser.friends.contains(u)) {\r\n                    System.out.println(&quot;User : &quot; + u.name + &quot;\\nage &quot; + u.age + &quot;\\ngender &quot; + u.gender);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI created a signup program to get the user details and I stored temporarily, but I need to store it under text file in a notepad for the further programming purpose. But I don&#39;t know how to store the user details in a notepad as a txt file. I want to store the received user details in a notepad.","title":"I want to store the user data on a notepad to find the mutual friend details and some more things but I&#39;m struggling to store as a txt file","body":"<p>Main.java:</p>\n<pre><code>package face;\nimport java.util.Scanner;\n\npublic class Main\n{\n    public static void main (String[]args) throws Exception\n    {\n  Scanner sc=new Scanner(System.in);\n    int choice;\n            SignUp m = new SignUp();\n         while (true) {\n                System.out.\n                        println(&quot;1)Customer Sign-up\\n2)Customer signin\\n3)Stop Program&quot;);\n                choice = sc.nextInt();\n                switch (choice) {\n                    case 1:\n                        m.customerSignUp();\n                        break;\n                    case 2:\n                        m.customerSignin();\n                        break;\n                    case 3:\n                        System.exit(0);\n                }\n        }\n    }\n}\n</code></pre>\n<p>signup.java:</p>\n<pre><code>package face;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class SignUp implements Serializable {\n\n    Scanner sc = new Scanner(System.in);\n\n    ArrayList&lt;User&gt; customer = new ArrayList&lt;User&gt;();\n    Home home = new Home();\n   void customerSignUp() {\n        System.out.println(&quot;Enter the details to sign-up&quot;);\n        System.out.println(&quot;Enter the id&quot;);\n        int id = sc.nextInt();\n        System.out.println(&quot;enter the name&quot;);\n        String name = sc.next();\n        System.out.println(&quot;enter the pass&quot;);\n        String pass = sc.next();\n        System.out.println(&quot;Enter the age&quot;);\n        int age = sc.nextInt();\n        System.out.println(&quot;Enter the gender&quot;);\n        String gender = sc.next();\n       \n        int d = 0;\n        if (customer.size() &gt; 1) {\n            for (User c : customer) {\n                if (c.id == (id)) {\n                    d++;\n                }\n            }\n        }\n        if (d== 0) {\n            customer.add(new User(id, name, pass, age, gender));\n            System.out.println(&quot;Back to home page&quot;);\n        } else {\n            System.out.println(&quot;User id already exist&quot;);\n        }\n\n        }\n    void customerSignin() {\n        System.out.println(&quot;Enter id: &quot;);\n        int id = sc.nextInt();\n        System.out.println(&quot;password to Login:&quot;);\n        String pass = sc.next();\n        int f = 0;\n       User currcustomer = null;\n        for (User c : customer) {\n            if (c.id == (id) &amp;&amp; c.password.equals(pass)) {\n                currcustomer = c;\n                f++;\n                break;\n            }\n        }\n        if (f == 0) {\n            System.out.println(&quot;Invalid Login or Password&quot;);\n        } else {\n            System.out.println(&quot;Logined Successfully...\\nWelcome &quot; + currcustomer.name + &quot;\\nage &quot; + currcustomer.age\n                    + &quot;\\ngender &quot; + currcustomer.gender);\n            home.enterHome(currcustomer);\n        }\n        }\n    public void view() {\n        System.out.println(&quot;Enter the user name&quot;);\n        String name = sc.next();\n        for (User c : customer) {\n            if (name.equals(c.name)) {\n                System.out.println(&quot;you found the user&quot; + c.name + &quot;\\nage &quot; + c.age + &quot;\\ngender &quot; + c.gender);\n                break;\n            } else {\n                System.out.println(&quot;user name not found&quot;);\n            }\n        }\n        \n    }\n    public void viewAll(User user) {\n        if (customer.size() &gt; 1) {\n            for (User c : customer) {\n                if (c.id != user.id)\n                    System.out.println(&quot;User: &quot; + c.name + &quot;\\nId: &quot; + c.id + &quot;\\nage &quot; + c.age + &quot;\\ngender &quot; + c.gender);\n            }\n            System.out.println(&quot;Do you like to raise a friend request to an account? \\n1.Yes  2.No&quot;);\n            int yes = sc.nextInt();\n            if (yes == 1) {\n                System.out.println(&quot;Enter the account Id to whom you want to raise request:&quot;);\n                int requesterId = sc.nextInt();\n                raiseRequest(requesterId, user);\n            }\n        } else {\n            System.out.println(&quot;There are no users yet other than u&quot;);\n        }\n    }\n    public void viewParticularAccount(User user, int targetId) {\n        User targetUser = null;\n        for (User c : customer) {\n            if (c.id != user.id &amp;&amp; c.id == targetId) {\n                System.out.println(&quot;You are visiting: &quot; + c.name + &quot;\\nage &quot; + c.age + &quot;\\ngender &quot; + c.gender);\n                targetUser = c;\n            }\n        }\n        if (targetUser != null) {\n            System.out.println(&quot;Do you like to raise a friend request to an account? \\n1.Yes  2.No&quot;);\n            int yes = sc.nextInt();\n            if (yes == 1) {\n                System.out.println(&quot;Enter the account Id to whom you want to raise request:&quot;);\n                int requesterId = sc.nextInt();\n                raiseRequest(requesterId, user);\n            }\n            if (yes == 2) {\n                System.out.println(&quot;Do you like to check the mutual friends list of this account? \\n1.Yes 2.No&quot;);\n                int showMutualview = sc.nextInt();\n                if (showMutualview == 1) {\n                    showMutualFriends(user, targetUser);\n                }\n            }\n        } else {\n            System.out.println(&quot;There are no users with the given Id :-) &quot;);\n        }\n    }\n    public void raiseRequest(int requesterId, User user) {\n        for (User c : customer) {\n            if (c.id == requesterId) {\n                c.requesters.add(user);\n            }\n        }\n    }\n    public void showMutualFriends(User user, User targetUser) {\n        for (User u : customer) {\n            if (user.friends.contains(u) &amp;&amp; targetUser.friends.contains(u)) {\n                System.out.println(&quot;User : &quot; + u.name + &quot;\\nage &quot; + u.age + &quot;\\ngender &quot; + u.gender);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I created a signup program to get the user details and I stored temporarily, but I need to store it under text file in a notepad for the further programming purpose. But I don't know how to store the user details in a notepad as a txt file. I want to store the received user details in a notepad.</p>\n"},{"tags":["java","loops","joptionpane"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1664333843,"post_id":73875715,"comment_id":130445303,"body_markdown":"First of all, consider to try to improve the formatting of your code that you post in here and your code in general. Good formatting including using an indentation style that is uniform and consistent will help others (**us**!) to better understand your code, and more importantly, it will help **you** to better understand your code and thus fix your own bugs. Also it shows that you&#39;re willing to put in extra effort to make it easier for the volunteers here to help you, and that effort is **much** appreciated.","body":"First of all, consider to try to improve the formatting of your code that you post in here and your code in general. Good formatting including using an indentation style that is uniform and consistent will help others (<b>us</b>!) to better understand your code, and more importantly, it will help <b>you</b> to better understand your code and thus fix your own bugs. Also it shows that you&#39;re willing to put in extra effort to make it easier for the volunteers here to help you, and that effort is <b>much</b> appreciated."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1664334008,"post_id":73875715,"comment_id":130445327,"body_markdown":"You never parse `rating` for `rating2` **in** your loop.","body":"You never parse <code>rating</code> for <code>rating2</code> <b>in</b> your loop."}],"answers":[{"tags":[],"owner":{"account_id":15132666,"reputation":104,"user_id":10920028,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664333983,"creation_date":1664333983,"answer_id":73875739,"question_id":73875715,"body_markdown":"Within for loop try assigning the new value to the rating2\r\n\r\n rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabby \r\n\r\n-----------------------------------------------   \r\n\r\n rating2 = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabby \r\n   ","title":"How can I make my while loop run correctly?","body":"<p>Within for loop try assigning the new value to the rating2</p>\n<p>rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabby</p>\n<hr />\n<p>rating2 = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabby</p>\n"},{"tags":[],"owner":{"account_id":21644683,"reputation":1,"user_id":15966241,"display_name":"ak23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664336371,"creation_date":1664336371,"answer_id":73875974,"question_id":73875715,"body_markdown":"    while (true) { // creates infinite while loop\r\n    \r\n    \r\n    break; // ends an infinite loop\r\n    \r\n    \r\n    }\r\n\r\nYou have a `break;` expression in your if statement, so I&#39;m sure you understand how it works, but try just making the loop infinite, like shown above.","title":"How can I make my while loop run correctly?","body":"<pre><code>while (true) { // creates infinite while loop\n\n\nbreak; // ends an infinite loop\n\n\n}\n</code></pre>\n<p>You have a <code>break;</code> expression in your if statement, so I'm sure you understand how it works, but try just making the loop infinite, like shown above.</p>\n"},{"tags":[],"owner":{"account_id":19956259,"reputation":157,"user_id":14624844,"display_name":"Bob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664338581,"creation_date":1664338581,"answer_id":73876149,"question_id":73875715,"body_markdown":"more better may to solve it:\r\n1. parse `rating` to `rating2` in loop\r\n2. break if number between 1 and 10\r\n3. catch `NumberFormatException`, no need do anything, just ignore it\r\n\r\n``` java\r\npublic static void main(String[] args) {\r\n    int MIN = 1;\r\n    int MAX = 10;\r\n    String rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabbypatties on a scale of&quot;\r\n            + MIN + &quot;to&quot; + MAX + &quot;.With&quot; + MIN + &quot;meaning youhated it and&quot; + MAX + &quot;meaning you loved it.&quot;);\r\n    while (true) {\r\n        try {\r\n            int rating2 = Integer.parseInt(rating);\r\n            if (rating2 &gt;= MIN &amp;&amp; rating2 &lt;= MAX) {\r\n                break;\r\n            }\r\n        } catch (NumberFormatException ignored) {\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;You must enter a value between &quot; + MIN + &quot;and&quot; + MAX + &quot;.&quot;);\r\n        JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\r\n        rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabbypatties on a scale of&quot;\r\n                + MIN + &quot;to&quot; + MAX + &quot;.With&quot; + MIN + &quot;meaning youhated it and&quot; + MAX + &quot;meaning you loved it.&quot;);\r\n    }\r\n    JOptionPane.showMessageDialog(null, &quot;Thank you!&quot;);\r\n}\r\n```","title":"How can I make my while loop run correctly?","body":"<p>more better may to solve it:</p>\n<ol>\n<li>parse <code>rating</code> to <code>rating2</code> in loop</li>\n<li>break if number between 1 and 10</li>\n<li>catch <code>NumberFormatException</code>, no need do anything, just ignore it</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int MIN = 1;\n    int MAX = 10;\n    String rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabbypatties on a scale of&quot;\n            + MIN + &quot;to&quot; + MAX + &quot;.With&quot; + MIN + &quot;meaning youhated it and&quot; + MAX + &quot;meaning you loved it.&quot;);\n    while (true) {\n        try {\n            int rating2 = Integer.parseInt(rating);\n            if (rating2 &gt;= MIN &amp;&amp; rating2 &lt;= MAX) {\n                break;\n            }\n        } catch (NumberFormatException ignored) {\n        }\n        JOptionPane.showMessageDialog(null, &quot;You must enter a value between &quot; + MIN + &quot;and&quot; + MAX + &quot;.&quot;);\n        JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\n        rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabbypatties on a scale of&quot;\n                + MIN + &quot;to&quot; + MAX + &quot;.With&quot; + MIN + &quot;meaning youhated it and&quot; + MAX + &quot;meaning you loved it.&quot;);\n    }\n    JOptionPane.showMessageDialog(null, &quot;Thank you!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26465192,"reputation":19,"user_id":20106496,"display_name":"Smithens07"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1664338581,"creation_date":1664333738,"question_id":73875715,"body_markdown":"My code is supposed to ask the user to input a number between 1 and 10. If they input a number between 1 and 10, then it will say thank you and end there. If not, it should loop and say, Please input a number between 1 and 10, and Please try again. It will then make the user input again. My problem is that after the second input, it automatically ends the loop even if they make an incorrect input the second time. By the way, I am very new to coding so please go easy on me in the comments XD. Someone, please help, thanks. \r\nHere is my code:\r\n\r\n``` java\r\nimport javax.swing.*;\r\n\r\npublic class LoopLecture {\r\n    public static void main(String[] args) {\r\n        int MIN = 1;\r\n        int MAX = 10;\r\n        String rating;\r\n        rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabbypatties on a scale of&quot; \r\n                + MIN + &quot;to&quot; + MAX + &quot;.With&quot; + MIN + &quot;meaning youhated it and&quot; + MAX + &quot;meaning you loved it.&quot;);\r\n        int rating2 = Integer.parseInt(rating);\r\n        while (rating2 &lt; MIN || rating2 &gt; MAX) {\r\n            JOptionPane.showMessageDialog(null, &quot;You must enter a value between &quot; + MIN + &quot;and&quot; + MAX + &quot;.&quot;);\r\n                    JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\r\n            rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabbypatties on a scale of&quot; \r\n                    + MIN + &quot;to&quot; + MAX + &quot;.With&quot; + MIN + &quot;meaning youhated it and&quot; + MAX + &quot;meaning you loved it.&quot;);\r\n            if (rating2 &gt;= MIN &amp;&amp; rating2 &lt;= MAX)\r\n                break;\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;Thank you!&quot;);\r\n    }\r\n}\r\n```\r\n","title":"How can I make my while loop run correctly?","body":"<p>My code is supposed to ask the user to input a number between 1 and 10. If they input a number between 1 and 10, then it will say thank you and end there. If not, it should loop and say, Please input a number between 1 and 10, and Please try again. It will then make the user input again. My problem is that after the second input, it automatically ends the loop even if they make an incorrect input the second time. By the way, I am very new to coding so please go easy on me in the comments XD. Someone, please help, thanks.\nHere is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class LoopLecture {\n    public static void main(String[] args) {\n        int MIN = 1;\n        int MAX = 10;\n        String rating;\n        rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabbypatties on a scale of&quot; \n                + MIN + &quot;to&quot; + MAX + &quot;.With&quot; + MIN + &quot;meaning youhated it and&quot; + MAX + &quot;meaning you loved it.&quot;);\n        int rating2 = Integer.parseInt(rating);\n        while (rating2 &lt; MIN || rating2 &gt; MAX) {\n            JOptionPane.showMessageDialog(null, &quot;You must enter a value between &quot; + MIN + &quot;and&quot; + MAX + &quot;.&quot;);\n                    JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\n            rating = JOptionPane.showInputDialog(null, &quot;Please enter your rating of Krabbypatties on a scale of&quot; \n                    + MIN + &quot;to&quot; + MAX + &quot;.With&quot; + MIN + &quot;meaning youhated it and&quot; + MAX + &quot;meaning you loved it.&quot;);\n            if (rating2 &gt;= MIN &amp;&amp; rating2 &lt;= MAX)\n                break;\n        }\n        JOptionPane.showMessageDialog(null, &quot;Thank you!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1627731889,"post_id":68601695,"comment_id":121237881,"body_markdown":"You&#39;re calling `Toast.makeText` inside `DownloadTask` which runs on a different thread. That&#39;s what the error message is telling you. You can run the Toaster only on the main thread","body":"You&#39;re calling <code>Toast.makeText</code> inside <code>DownloadTask</code> which runs on a different thread. That&#39;s what the error message is telling you. You can run the Toaster only on the main thread"}],"answers":[{"tags":[],"owner":{"account_id":21992619,"reputation":156,"user_id":16265716,"display_name":"Rinkal Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627732316,"creation_date":1627732316,"answer_id":68601836,"question_id":68601695,"body_markdown":"     try {\r\n        //add her code\r\n     } catch (java.text.ParseException e) {\r\n        runOnUiThread(new Runnable(){\r\n          public void run() {\r\n              Toast.makeText(getApplicationContext(),&quot;Please key in \r\n                          the correct input&quot;,    \r\n                Toast.LENGTH_LONG).show();\r\n          }\r\n        });\r\n       e.printStackTrace();\r\n        return true; // attention here\r\n\r\n}","title":"caused by: Can&#39;t toast on a thread that has not called Looper.prepare()","body":"<pre><code> try {\n    //add her code\n } catch (java.text.ParseException e) {\n    runOnUiThread(new Runnable(){\n      public void run() {\n          Toast.makeText(getApplicationContext(),&quot;Please key in \n                      the correct input&quot;,    \n            Toast.LENGTH_LONG).show();\n      }\n    });\n   e.printStackTrace();\n    return true; // attention here\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":21205116,"reputation":1,"user_id":15594925,"display_name":"alimogh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664338327,"creation_date":1664337358,"answer_id":73876054,"question_id":68601695,"body_markdown":"\r\n**Method in onCreate :**\r\n\r\n    private void toastPublic(final String message){\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n        handler.post(new Runnable() {\r\n           public void run() {\r\n              Toast.makeText(getBaseContext(),&quot;&quot;+message, \r\n                 4 /*Toast.LENGTH_SHORT*/).show();\r\n        }});\r\n    }\r\n\r\n**Next : use in inside asyncTask or Thread**\r\n\r\n    ","title":"caused by: Can&#39;t toast on a thread that has not called Looper.prepare()","body":"<p><strong>Method in onCreate :</strong></p>\n<pre><code>private void toastPublic(final String message){\n    Handler handler = new Handler(Looper.getMainLooper());\n    handler.post(new Runnable() {\n       public void run() {\n          Toast.makeText(getBaseContext(),&quot;&quot;+message, \n             4 /*Toast.LENGTH_SHORT*/).show();\n    }});\n}\n</code></pre>\n<p><strong>Next : use in inside asyncTask or Thread</strong></p>\n"}],"owner":{"account_id":20646008,"reputation":17,"user_id":15157513,"display_name":"Yagami AMV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68601836,"answer_count":2,"score":-1,"last_activity_date":1664338327,"creation_date":1627731195,"question_id":68601695,"body_markdown":"\r\nSo whenever I Enter a city name in the EditText and press the button my app just crashes and does not show a toast \r\n\r\nshows this error in logcat : **used by: java.lang.NullPointerException: Can&#39;t toast on a thread that has not called Looper.prepare()**\r\n\r\nDoes anyone know who to fix this error?\r\nim using android studio \r\n\r\n\r\n```\r\npackage com.example.whatstheweather;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Context;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.net.URLEncoder;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText editText;\r\n    TextView resultTextView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        editText = findViewById(R.id.editTextTextPersonName);\r\n        resultTextView = findViewById(R.id.resultTextView);\r\n    }\r\n\r\n   public void getWeather(View view){\r\n\r\ntry {\r\n\r\n    DownloadTask task = new DownloadTask();\r\n    String encodedCityName = URLEncoder.encode(editText.getText().toString(), &quot;UTF-8&quot;);\r\n    task.execute(&quot;http://openweathermap.org/data/2.5/weather?q=&quot; + encodedCityName + &quot;&amp;APPID=9eebb30a9664baf113136d98e764ffb5&quot;);\r\n    InputMethodManager mgr = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    mgr.hideSoftInputFromWindow(editText.getWindowToken(), 0);\r\n}catch (Exception e){\r\n    e.printStackTrace();\r\n    Toast.makeText(getApplicationContext(),&quot;Could not find weather :(&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n}\r\n    }\r\n\r\n\r\n\r\n    public class DownloadTask extends AsyncTask&lt;String, Void, String &gt;{\r\n\r\n\r\n        @Override\r\n        protected String doInBackground(String... urls) {\r\n\r\n            String result = &quot;&quot;;\r\n            URL url;\r\n            HttpURLConnection urlConnection = null;\r\n\r\n            try {\r\n\r\n                url = new URL(urls[0]);\r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n                InputStream in = urlConnection.getInputStream();\r\n                InputStreamReader reader = new InputStreamReader(in);\r\n                int data = reader.read();\r\n\r\n                while(data != -1){\r\n                    char current = (char) data;\r\n                    result += current;\r\n                    data = reader.read();\r\n                }\r\n                return result;\r\n            }catch(Exception e){\r\n\r\n                e.printStackTrace();;\r\n                Toast.makeText(getApplicationContext(),&quot;Could not find weather :(&quot;,Toast.LENGTH_SHORT).show();\r\n                return null;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n            super.onPostExecute(s);\r\n            try {\r\n                JSONObject jsonObject = new JSONObject(s);\r\n                String weatherInfo = jsonObject.getString(&quot;weather&quot;);\r\n                JSONArray arr = new JSONArray(weatherInfo);\r\n                String message = &quot;&quot;;\r\n                for (int i = 0; i&lt; arr.length(); i++){\r\n                    JSONObject jsonPart =arr.getJSONObject(i);\r\n\r\n                    String main = jsonPart.getString(&quot;main&quot;);\r\n                    String description = jsonPart.getString(&quot;description&quot;);\r\n                    if (!main.equals(&quot;&quot;) &amp;&amp; !description.equals(&quot;&quot;)) {\r\n                        message += main + &quot;: &quot; + description + &quot;\\r\\n&quot;;\r\n\r\n                    }\r\n\r\n                }\r\n                if (!message.equals(&quot;&quot;)){\r\n\r\n                    resultTextView.setText(message);\r\n                }else{\r\n                    Toast.makeText(getApplicationContext(),&quot;Could not find weather :(&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n                Toast.makeText(getApplicationContext(),&quot;Could not find weather :(&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"caused by: Can&#39;t toast on a thread that has not called Looper.prepare()","body":"<p>So whenever I Enter a city name in the EditText and press the button my app just crashes and does not show a toast</p>\n<p>shows this error in logcat : <strong>used by: java.lang.NullPointerException: Can't toast on a thread that has not called Looper.prepare()</strong></p>\n<p>Does anyone know who to fix this error?\nim using android studio</p>\n<pre><code>package com.example.whatstheweather;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText editText;\n    TextView resultTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        editText = findViewById(R.id.editTextTextPersonName);\n        resultTextView = findViewById(R.id.resultTextView);\n    }\n\n   public void getWeather(View view){\n\ntry {\n\n    DownloadTask task = new DownloadTask();\n    String encodedCityName = URLEncoder.encode(editText.getText().toString(), &quot;UTF-8&quot;);\n    task.execute(&quot;http://openweathermap.org/data/2.5/weather?q=&quot; + encodedCityName + &quot;&amp;APPID=9eebb30a9664baf113136d98e764ffb5&quot;);\n    InputMethodManager mgr = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    mgr.hideSoftInputFromWindow(editText.getWindowToken(), 0);\n}catch (Exception e){\n    e.printStackTrace();\n    Toast.makeText(getApplicationContext(),&quot;Could not find weather :(&quot;,Toast.LENGTH_SHORT).show();\n\n}\n    }\n\n\n\n    public class DownloadTask extends AsyncTask&lt;String, Void, String &gt;{\n\n\n        @Override\n        protected String doInBackground(String... urls) {\n\n            String result = &quot;&quot;;\n            URL url;\n            HttpURLConnection urlConnection = null;\n\n            try {\n\n                url = new URL(urls[0]);\n                urlConnection = (HttpURLConnection) url.openConnection();\n                InputStream in = urlConnection.getInputStream();\n                InputStreamReader reader = new InputStreamReader(in);\n                int data = reader.read();\n\n                while(data != -1){\n                    char current = (char) data;\n                    result += current;\n                    data = reader.read();\n                }\n                return result;\n            }catch(Exception e){\n\n                e.printStackTrace();;\n                Toast.makeText(getApplicationContext(),&quot;Could not find weather :(&quot;,Toast.LENGTH_SHORT).show();\n                return null;\n\n            }\n\n        }\n\n        @Override\n        protected void onPostExecute(String s) {\n            super.onPostExecute(s);\n            try {\n                JSONObject jsonObject = new JSONObject(s);\n                String weatherInfo = jsonObject.getString(&quot;weather&quot;);\n                JSONArray arr = new JSONArray(weatherInfo);\n                String message = &quot;&quot;;\n                for (int i = 0; i&lt; arr.length(); i++){\n                    JSONObject jsonPart =arr.getJSONObject(i);\n\n                    String main = jsonPart.getString(&quot;main&quot;);\n                    String description = jsonPart.getString(&quot;description&quot;);\n                    if (!main.equals(&quot;&quot;) &amp;&amp; !description.equals(&quot;&quot;)) {\n                        message += main + &quot;: &quot; + description + &quot;\\r\\n&quot;;\n\n                    }\n\n                }\n                if (!message.equals(&quot;&quot;)){\n\n                    resultTextView.setText(message);\n                }else{\n                    Toast.makeText(getApplicationContext(),&quot;Could not find weather :(&quot;,Toast.LENGTH_SHORT).show();\n\n                }\n            }catch (Exception e){\n                e.printStackTrace();\n                Toast.makeText(getApplicationContext(),&quot;Could not find weather :(&quot;,Toast.LENGTH_SHORT).show();\n\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5464160,"reputation":447,"user_id":4345417,"display_name":"Bastis Programming Corner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420756176,"creation_date":1420756176,"answer_id":27850706,"question_id":27850593,"body_markdown":"You cannot directly manipulate the user interface from another thread. The main thread is responsible for all UI changes.\r\n\r\nFor a solution to a similiar problem see: https://stackoverflow.com/questions/3134683/android-toast-in-a-thread","title":"Error In Thread And not Showing my toast","body":"<p>You cannot directly manipulate the user interface from another thread. The main thread is responsible for all UI changes.</p>\n\n<p>For a solution to a similiar problem see: <a href=\"https://stackoverflow.com/questions/3134683/android-toast-in-a-thread\">Android: Toast in a thread</a></p>\n"},{"tags":[],"owner":{"account_id":4938217,"reputation":21556,"user_id":3975747,"display_name":"Ferdous Ahamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490299498,"creation_date":1490299498,"answer_id":42985969,"question_id":27850593,"body_markdown":"Just use **Activity**&#39;s `runOnUiThread` method from your thread:\r\n\r\n\r\n    runOnUiThread(new Runnable() {\r\n        public void run()\r\n        {\r\n            Toast.makeText(LoginActivity.this, &quot;Sleep Runing&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });","title":"Error In Thread And not Showing my toast","body":"<p>Just use <strong>Activity</strong>'s <code>runOnUiThread</code> method from your thread:</p>\n\n<pre><code>runOnUiThread(new Runnable() {\n    public void run()\n    {\n        Toast.makeText(LoginActivity.this, \"Sleep Runing\", Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21205116,"reputation":1,"user_id":15594925,"display_name":"alimogh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664337139,"creation_date":1664337139,"answer_id":73876036,"question_id":27850593,"body_markdown":"**Method in onCreate :**\r\n\r\n    private void toastPublic(final String message){\r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n        handler.post(new Runnable() {\r\n           public void run() {\r\n              Toast.makeText(getBaseContext(),&quot;&quot;+message, \r\n                 4 /*Toast.LENGTH_SHORT*/).show();\r\n        }});\r\n    }\r\n\r\n**Next : use in inside Thread**","title":"Error In Thread And not Showing my toast","body":"<p><strong>Method in onCreate :</strong></p>\n<pre><code>private void toastPublic(final String message){\n    Handler handler = new Handler(Looper.getMainLooper());\n    handler.post(new Runnable() {\n       public void run() {\n          Toast.makeText(getBaseContext(),&quot;&quot;+message, \n             4 /*Toast.LENGTH_SHORT*/).show();\n    }});\n}\n</code></pre>\n<p><strong>Next : use in inside Thread</strong></p>\n"}],"owner":{"account_id":5597520,"reputation":63,"user_id":4434806,"accept_rate":75,"display_name":"ProgramingGeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664337139,"creation_date":1420755678,"question_id":27850593,"body_markdown":"I am new here to Android. My application is crashing with errors after sleep runs (5000) and then  my toast is not showing in my `finally` block. What is causing these errors in my code?\r\n\r\n\r\n    public class LoginActivity extends ActionBarActivity {\r\n\r\n\tTextView textview;\r\n\tToast toast;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle ThisisLoginActivity) {\r\n\t\tsuper.onCreate(ThisisLoginActivity);\r\n\t\tsetContentView(R.layout.activity_login);\r\n\t\r\n\t\ttextview = (TextView) findViewById(R.id.textView1);\r\n\t\t\r\n\t\tThread thread = new Thread() {\r\n\t\t    public void run() {\r\n                try{\r\n\t\t\t\t    sleep(5000);\r\n\t\t\t\t} catch(InterruptedException e) {\r\n\t\t\t\t    e.printStackTrace();\r\n\t\t\t    }\r\n\t\t\t    finally {\r\n\t\t\t        toast =\tToast.makeText(getApplicationContext(), &quot;Sleep Runing&quot;, Toast.LENGTH_SHORT);\r\n                    toast.show();\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n\t}\r\n    }\r\n\r\nHere is my LogCat:\r\n\r\n \r\n\r\n    01-08 22:30:32.782: E/Trace(3503): error opening trace file: No such file or directory (2)\r\n    01-08 22:30:33.322: I/Choreographer(3503): Skipped 47 frames!  The application may be doing too                     much work on its main thread.\r\n    01-08 22:30:33.402: D/gralloc_goldfish(3503): Emulator without GPU emulation detected.\r\n    01-08 22:30:33.531: I/Choreographer(3503): Skipped 62 frames!  The application may be doing too      much work on its main thread.\r\n    01-08 22:30:39.122: I/Choreographer(3503): Skipped 31 frames!  The application may be doing too much work on its main thread.\r\n    01-08 22:30:39.272: I/Choreographer(3503): Skipped 43 frames!  The application may be doing too much work on its main thread.\r\n    01-08 22:30:45.772: W/dalvikvm(3503): threadid=11: thread exiting with uncaught exception (group=0x40a71930)\r\n    01-08 22:30:45.792: E/AndroidRuntime(3503): FATAL EXCEPTION: Thread-153\r\n    01-08 22:30:45.792: E/AndroidRuntime(3503): java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()\r\n    01-08 22:30:45.792: E/AndroidRuntime(3503): \tat android.os.Handler.&lt;init&gt;(Handler.java:197)\r\n    01-08 22:30:45.792: E/AndroidRuntime(3503): \tat android.os.Handler.&lt;init&gt;(Handler.java:111)\r\n    01-08 22:30:45.792: E/AndroidRuntime(3503): \tat android.widget.Toast$TN.&lt;init&gt;(Toast.java:324)\r\n    01-08 22:30:45.792: E/AndroidRuntime(3503): \tat android.widget.Toast.&lt;init&gt;(Toast.java:91)\r\n    01-08 22:30:45.792: E/AndroidRuntime(3503): \tat android.widget.Toast.makeText(Toast.java:238)\r\n    01-08 22:30:45.792: E/AndroidRuntime(3503): \tat com.example.incrementdecrement.LoginActivity$1.run(LoginActivity.java:48)\r\n    01-08 22:30:46.462: I/Choreographer(3503): Skipped 34 frames!  The application may be doing too much work on its main thread.","title":"Error In Thread And not Showing my toast","body":"<p>I am new here to Android. My application is crashing with errors after sleep runs (5000) and then  my toast is not showing in my <code>finally</code> block. What is causing these errors in my code?</p>\n\n<pre><code>public class LoginActivity extends ActionBarActivity {\n\nTextView textview;\nToast toast;\n\n@Override\nprotected void onCreate(Bundle ThisisLoginActivity) {\n    super.onCreate(ThisisLoginActivity);\n    setContentView(R.layout.activity_login);\n\n    textview = (TextView) findViewById(R.id.textView1);\n\n    Thread thread = new Thread() {\n        public void run() {\n            try{\n                sleep(5000);\n            } catch(InterruptedException e) {\n                e.printStackTrace();\n            }\n            finally {\n                toast = Toast.makeText(getApplicationContext(), \"Sleep Runing\", Toast.LENGTH_SHORT);\n                toast.show();\n            }\n        }\n    };\n    thread.start();\n}\n}\n</code></pre>\n\n<p>Here is my LogCat:</p>\n\n<pre><code>01-08 22:30:32.782: E/Trace(3503): error opening trace file: No such file or directory (2)\n01-08 22:30:33.322: I/Choreographer(3503): Skipped 47 frames!  The application may be doing too                     much work on its main thread.\n01-08 22:30:33.402: D/gralloc_goldfish(3503): Emulator without GPU emulation detected.\n01-08 22:30:33.531: I/Choreographer(3503): Skipped 62 frames!  The application may be doing too      much work on its main thread.\n01-08 22:30:39.122: I/Choreographer(3503): Skipped 31 frames!  The application may be doing too much work on its main thread.\n01-08 22:30:39.272: I/Choreographer(3503): Skipped 43 frames!  The application may be doing too much work on its main thread.\n01-08 22:30:45.772: W/dalvikvm(3503): threadid=11: thread exiting with uncaught exception (group=0x40a71930)\n01-08 22:30:45.792: E/AndroidRuntime(3503): FATAL EXCEPTION: Thread-153\n01-08 22:30:45.792: E/AndroidRuntime(3503): java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()\n01-08 22:30:45.792: E/AndroidRuntime(3503):     at android.os.Handler.&lt;init&gt;(Handler.java:197)\n01-08 22:30:45.792: E/AndroidRuntime(3503):     at android.os.Handler.&lt;init&gt;(Handler.java:111)\n01-08 22:30:45.792: E/AndroidRuntime(3503):     at android.widget.Toast$TN.&lt;init&gt;(Toast.java:324)\n01-08 22:30:45.792: E/AndroidRuntime(3503):     at android.widget.Toast.&lt;init&gt;(Toast.java:91)\n01-08 22:30:45.792: E/AndroidRuntime(3503):     at android.widget.Toast.makeText(Toast.java:238)\n01-08 22:30:45.792: E/AndroidRuntime(3503):     at com.example.incrementdecrement.LoginActivity$1.run(LoginActivity.java:48)\n01-08 22:30:46.462: I/Choreographer(3503): Skipped 34 frames!  The application may be doing too much work on its main thread.\n</code></pre>\n"},{"tags":["java","mongodb","filter","projection","nosql-aggregation"],"answers":[{"tags":[],"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664336673,"creation_date":1664336673,"answer_id":73876002,"question_id":73874642,"body_markdown":"I searched for `mongodb java aggregation` and Google yielded [this &quot;Java - Aggregation Pipeline&quot; article](https://www.mongodb.com/developer/languages/java/java-aggregation-pipeline/) from them. It walks through some examples, but also mentions that the Compass tool has an [Export Pipeline to Specific Language](https://www.mongodb.com/docs/compass/master/export-pipeline-to-language/) functionality.\r\n\r\nSo after opening Compass I used `CREATE NEW` -&gt; `Pipeline from text` and pasted in your MQL from above. After it was loaded I clicked `EXPORT TO LANGUAGE`, chose `JAVA` in the drop down, added `Include Import Statements` and it produced the following:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport org.bson.Document;\r\n\r\nArrays.asList(new Document(&quot;$project&quot;, \r\n    new Document(&quot;MonitoringLocationIdentifier&quot;, 1L)\r\n            .append(&quot;epochTimes&quot;, \r\n    new Document(&quot;$filter&quot;, \r\n    new Document(&quot;input&quot;, &quot;$epochTimes&quot;)\r\n                    .append(&quot;as&quot;, &quot;epochTime&quot;)\r\n                    .append(&quot;cond&quot;, \r\n    new Document(&quot;$and&quot;, Arrays.asList(new Document(&quot;$gte&quot;, Arrays.asList(&quot;$$epochTime&quot;, 0L)), \r\n                            new Document(&quot;$lte&quot;, Arrays.asList(&quot;$$epochTime&quot;, 558268020000L)))))))))\r\n```\r\n\r\n(There is also a `Include Driver Syntax` button that seems to be even more verbose if needed).\r\n\r\nSo I&#39;m no Java Driver wizard, but hope this helps anyway!","title":"In MongoDB Java Driver how do you use $filter","body":"<p>I searched for <code>mongodb java aggregation</code> and Google yielded <a href=\"https://www.mongodb.com/developer/languages/java/java-aggregation-pipeline/\" rel=\"nofollow noreferrer\">this &quot;Java - Aggregation Pipeline&quot; article</a> from them. It walks through some examples, but also mentions that the Compass tool has an <a href=\"https://www.mongodb.com/docs/compass/master/export-pipeline-to-language/\" rel=\"nofollow noreferrer\">Export Pipeline to Specific Language</a> functionality.</p>\n<p>So after opening Compass I used <code>CREATE NEW</code> -&gt; <code>Pipeline from text</code> and pasted in your MQL from above. After it was loaded I clicked <code>EXPORT TO LANGUAGE</code>, chose <code>JAVA</code> in the drop down, added <code>Include Import Statements</code> and it produced the following:</p>\n<pre><code>import java.util.Arrays;\nimport org.bson.Document;\n\nArrays.asList(new Document(&quot;$project&quot;, \n    new Document(&quot;MonitoringLocationIdentifier&quot;, 1L)\n            .append(&quot;epochTimes&quot;, \n    new Document(&quot;$filter&quot;, \n    new Document(&quot;input&quot;, &quot;$epochTimes&quot;)\n                    .append(&quot;as&quot;, &quot;epochTime&quot;)\n                    .append(&quot;cond&quot;, \n    new Document(&quot;$and&quot;, Arrays.asList(new Document(&quot;$gte&quot;, Arrays.asList(&quot;$$epochTime&quot;, 0L)), \n                            new Document(&quot;$lte&quot;, Arrays.asList(&quot;$$epochTime&quot;, 558268020000L)))))))))\n</code></pre>\n<p>(There is also a <code>Include Driver Syntax</code> button that seems to be even more verbose if needed).</p>\n<p>So I'm no Java Driver wizard, but hope this helps anyway!</p>\n"}],"owner":{"account_id":24799544,"reputation":1,"user_id":18682031,"display_name":"Matt Young"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664336673,"creation_date":1664320250,"question_id":73874642,"body_markdown":"I have a query that works in MQL. I need to translate it into Java. The query in MQL looks like this\r\n\r\n    db.&lt;collection&gt;.aggregate( [\r\n                {\r\n                    $project: {\r\n                        &quot;MonitoringLocationIdentifier&quot;: 1,\r\n                        epochTimes: {\r\n                            $filter: {\r\n                                input: &quot;$epochTimes&quot;,\r\n                                as: &quot;epochTime&quot;,\r\n                                cond: { $and: [ {$gte: [ &quot;$$epochTime&quot;, NumberLong(&quot;0&quot;) ]}, {$lte: [&quot;$$epochTime&quot;, NumberLong(&quot;558268020000&quot;)]} ]}\r\n                            }\r\n                        },\r\n                    }\r\n                }\r\n            ] )\r\n\r\n\r\n\r\nThe collection contains documents that look like this\r\n\r\n    {&quot;_id&quot; : ObjectId(&quot;633218dfec534a6fe90106b8&quot;), \r\n     &quot;MonitoringLocationIdentifier&quot;: &quot;Site1&quot;, \r\n     &quot;epochTimes&quot; : [ NumberLong(&quot;451058760000&quot;), NumberLong(&quot;558189720000&quot;), NumberLong(&quot;516460860000&quot;) ] }\r\n\r\nI am trying to get all the documents in the collection but filter the &quot;epochTimes&quot; for every document by a min/max.\r\n\r\nAny Java Driver wizards out there?","title":"In MongoDB Java Driver how do you use $filter","body":"<p>I have a query that works in MQL. I need to translate it into Java. The query in MQL looks like this</p>\n<pre><code>db.&lt;collection&gt;.aggregate( [\n            {\n                $project: {\n                    &quot;MonitoringLocationIdentifier&quot;: 1,\n                    epochTimes: {\n                        $filter: {\n                            input: &quot;$epochTimes&quot;,\n                            as: &quot;epochTime&quot;,\n                            cond: { $and: [ {$gte: [ &quot;$$epochTime&quot;, NumberLong(&quot;0&quot;) ]}, {$lte: [&quot;$$epochTime&quot;, NumberLong(&quot;558268020000&quot;)]} ]}\n                        }\n                    },\n                }\n            }\n        ] )\n</code></pre>\n<p>The collection contains documents that look like this</p>\n<pre><code>{&quot;_id&quot; : ObjectId(&quot;633218dfec534a6fe90106b8&quot;), \n &quot;MonitoringLocationIdentifier&quot;: &quot;Site1&quot;, \n &quot;epochTimes&quot; : [ NumberLong(&quot;451058760000&quot;), NumberLong(&quot;558189720000&quot;), NumberLong(&quot;516460860000&quot;) ] }\n</code></pre>\n<p>I am trying to get all the documents in the collection but filter the &quot;epochTimes&quot; for every document by a min/max.</p>\n<p>Any Java Driver wizards out there?</p>\n"},{"tags":["java","spring","design-patterns","code-cleanup"],"comments":[{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1664307390,"post_id":73872947,"comment_id":130440585,"body_markdown":"https://codereview.stackexchange.com/","body":"<a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664307529,"post_id":73872947,"comment_id":130440622,"body_markdown":"A pattern like that makes sense if you feel it makes sense, hard to tell where your code is going in the future.. injecting strategies is in general a really nice way to decouple code. Not sure how code duplication in services is related to that. If there is common functionality maybe it should go into another service used by both? Or they all extend a common base, ..","body":"A pattern like that makes sense if you feel it makes sense, hard to tell where your code is going in the future.. injecting strategies is in general a really nice way to decouple code. Not sure how code duplication in services is related to that. If there is common functionality maybe it should go into another service used by both? Or they all extend a common base, .."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664336599,"creation_date":1664336599,"answer_id":73875995,"question_id":73872947,"body_markdown":"&gt; does it make sense to call it Strategy and implement it this way or not\r\n\r\nI think these classes ‘BurgerStrategy’ and ‘PastaStrategy’ have common behaviour. Strategy pattern is used when you want to inject **one** strategy and use it. However, you are iterating through **all** behaviors. You did not set behaviour by getting one strategy and stick with it. So, in my honour opinion, I think it is better to avoid `Strategy` word here.\r\n\r\nSo strategy pattern would look like this. I am sorry, I am not Java guy. Let me show via C#. But I&#39;ve provided comments of how code could look in Java.\r\nThis is our abstraction of strategy:\r\n\r\n\tpublic interface ISoundBehaviour\r\n\t{\r\n\t\tvoid Make();\r\n\t}\r\n\r\nand its concrete implementation:\r\n\r\n\tpublic class DogSound : ISoundBehaviour // implements in Java\r\n\t{\r\n\t\tpublic void Make()\r\n\t\t{\r\n\t\t\tConsole.WriteLine(&quot;Woof&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic class CatSound : ISoundBehaviour\r\n\t{\r\n\t\tpublic void Make()\r\n\t\t{\r\n\t\t\tConsole.WriteLine(&quot;Meow&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\nAnd then we stick with one behaviour that can also be replaced:\r\n\r\n\tpublic class Dog\r\n\t{\r\n\t\tISoundBehaviour _soundBehaviour;\r\n\r\n\t\tpublic Dog(ISoundBehaviour soundBehaviour)\r\n\t\t{\r\n\t\t\t_soundBehaviour = soundBehaviour;\r\n\t\t}\r\n\r\n\t\tpublic void Bark()\r\n\t\t{ \r\n\t\t\t_soundBehaviour.Make();\r\n\t\t}\r\n\r\n\t\tpublic void SetAnotherSound(ISoundBehaviour anotherSoundBehaviour) \r\n\t\t{\r\n\t\t\t_soundBehaviour = anotherSoundBehaviour;\r\n\t\t}\r\n\t}\t\r\n\t\r\n\r\n&gt; how to handle duplications of the code in those two services, let’s say both share the same private methods.\t\r\n\r\nYou can create one base, abstract class. So basic idea is to put common logic into some base common class. Then we should create abstract method in abstract class. Why? By doing this, subclasses will have particular logic for concrete case.  Let me show an example.\r\n\r\nAn abstract class which has common behaviour:\r\n\r\n\tpublic abstract class BaseMeal\r\n\t{\r\n\t\t// I am not Java guy, but if I am not mistaken, in Java,\r\n\t\t// if you do not want method to be overriden, you shoud use `final` keyword\r\n\t\tpublic void CommonBehaviourHere()\r\n\t\t{ \r\n\t\t\t// put here code that can be shared among subclasses to avoid code duplication\r\n\t\t}\r\n\r\n\t\tpublic abstract void  UnCommonBehaviourShouldBeImplementedBySubclass();\r\n\t}\r\n\t\r\nAnd its concrete implementations:\r\n\r\n\tpublic class BurgerSubclass : BaseMeal // extends in Java\r\n\t{\r\n\t\tpublic override void UnCommonBehaviourShouldBeImplementedBySubclass()\r\n\t\t{\r\n\t\t\tthrow new NotImplementedException();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class PastaSubclass : BaseMeal // extends in Java\r\n\t{\r\n\t\tpublic override void UnCommonBehaviourShouldBeImplementedBySubclass()\r\n\t\t{\r\n\t\t\tthrow new NotImplementedException();\r\n\t\t}\r\n\t}","title":"What pattern should be used, strategy?","body":"<blockquote>\n<p>does it make sense to call it Strategy and implement it this way or not</p>\n</blockquote>\n<p>I think these classes ‘BurgerStrategy’ and ‘PastaStrategy’ have common behaviour. Strategy pattern is used when you want to inject <strong>one</strong> strategy and use it. However, you are iterating through <strong>all</strong> behaviors. You did not set behaviour by getting one strategy and stick with it. So, in my honour opinion, I think it is better to avoid <code>Strategy</code> word here.</p>\n<p>So strategy pattern would look like this. I am sorry, I am not Java guy. Let me show via C#. But I've provided comments of how code could look in Java.\nThis is our abstraction of strategy:</p>\n<pre><code>public interface ISoundBehaviour\n{\n    void Make();\n}\n</code></pre>\n<p>and its concrete implementation:</p>\n<pre><code>public class DogSound : ISoundBehaviour // implements in Java\n{\n    public void Make()\n    {\n        Console.WriteLine(&quot;Woof&quot;);\n    }\n}\n\n\npublic class CatSound : ISoundBehaviour\n{\n    public void Make()\n    {\n        Console.WriteLine(&quot;Meow&quot;);\n    }\n}\n</code></pre>\n<p>And then we stick with one behaviour that can also be replaced:</p>\n<pre><code>public class Dog\n{\n    ISoundBehaviour _soundBehaviour;\n\n    public Dog(ISoundBehaviour soundBehaviour)\n    {\n        _soundBehaviour = soundBehaviour;\n    }\n\n    public void Bark()\n    { \n        _soundBehaviour.Make();\n    }\n\n    public void SetAnotherSound(ISoundBehaviour anotherSoundBehaviour) \n    {\n        _soundBehaviour = anotherSoundBehaviour;\n    }\n}   \n</code></pre>\n<blockquote>\n<p>how to handle duplications of the code in those two services, let’s say both share the same private methods.</p>\n</blockquote>\n<p>You can create one base, abstract class. So basic idea is to put common logic into some base common class. Then we should create abstract method in abstract class. Why? By doing this, subclasses will have particular logic for concrete case.  Let me show an example.</p>\n<p>An abstract class which has common behaviour:</p>\n<pre><code>public abstract class BaseMeal\n{\n    // I am not Java guy, but if I am not mistaken, in Java,\n    // if you do not want method to be overriden, you shoud use `final` keyword\n    public void CommonBehaviourHere()\n    { \n        // put here code that can be shared among subclasses to avoid code duplication\n    }\n\n    public abstract void  UnCommonBehaviourShouldBeImplementedBySubclass();\n}\n</code></pre>\n<p>And its concrete implementations:</p>\n<pre><code>public class BurgerSubclass : BaseMeal // extends in Java\n{\n    public override void UnCommonBehaviourShouldBeImplementedBySubclass()\n    {\n        throw new NotImplementedException();\n    }\n}\n\npublic class PastaSubclass : BaseMeal // extends in Java\n{\n    public override void UnCommonBehaviourShouldBeImplementedBySubclass()\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":1,"score":-2,"last_activity_date":1664336599,"creation_date":1664307235,"question_id":73872947,"body_markdown":"I do have a service which needs to handle two types of meal. \r\n\r\n```\r\n@Service\r\nclass MealService {\r\n\r\n   private final List&lt;MealStrategy&gt; strategies;\r\n\r\n   MealService(…) {\r\n       this.strategies = strategies;\r\n   }\r\n\r\n   void handle() {\r\n       var foo = …;\r\n       var bar = …;\r\n       strategies.forEach(s -&gt; s.remove(foo, bar));\r\n   }\r\n}\r\n```\r\n\r\nThere are two strategies, ‘BurgerStrategy’ and ‘PastaStrategy’. Both implements Strategy interface with one method called remove which takes two parameters. \r\n\r\nBurgerStrategy class retrieves meals of enum type burger from the database and iterate over them and perform some operations. Similar stuff does the PastaStrategy.\r\n\r\nThe question is, does it make sense to call it Strategy and implement it this way or not?\r\n\r\nAlso, how to handle duplications of the code in those two services, let’s say both share the same private methods. Does it make sense to create a Helper class or something?","title":"What pattern should be used, strategy?","body":"<p>I do have a service which needs to handle two types of meal.</p>\n<pre><code>@Service\nclass MealService {\n\n   private final List&lt;MealStrategy&gt; strategies;\n\n   MealService(…) {\n       this.strategies = strategies;\n   }\n\n   void handle() {\n       var foo = …;\n       var bar = …;\n       strategies.forEach(s -&gt; s.remove(foo, bar));\n   }\n}\n</code></pre>\n<p>There are two strategies, ‘BurgerStrategy’ and ‘PastaStrategy’. Both implements Strategy interface with one method called remove which takes two parameters.</p>\n<p>BurgerStrategy class retrieves meals of enum type burger from the database and iterate over them and perform some operations. Similar stuff does the PastaStrategy.</p>\n<p>The question is, does it make sense to call it Strategy and implement it this way or not?</p>\n<p>Also, how to handle duplications of the code in those two services, let’s say both share the same private methods. Does it make sense to create a Helper class or something?</p>\n"},{"tags":["java","mysql","linux","jdbc"],"comments":[{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1664345330,"post_id":73875815,"comment_id":130447121,"body_markdown":"You can try : com.mysql.jdbc.Driver","body":"You can try : com.mysql.jdbc.Driver"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1664347446,"post_id":73875815,"comment_id":130447693,"body_markdown":"What is the build tool that you&#39;re using?","body":"What is the build tool that you&#39;re using?"},{"owner":{"account_id":20289103,"reputation":1,"user_id":14881135,"display_name":"SUNGHOON CHUNG"},"score":0,"creation_date":1664376037,"post_id":73875815,"comment_id":130458269,"body_markdown":"I tried com.mysql.jdbc.Driver and I use intelliJ","body":"I tried com.mysql.jdbc.Driver and I use intelliJ"}],"owner":{"account_id":20289103,"reputation":1,"user_id":14881135,"display_name":"SUNGHOON CHUNG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664334742,"creation_date":1664334742,"question_id":73875815,"body_markdown":"I build a jar file and this jar file was placed on the linux server.\r\nThis jar file catches files in specific folder and execute an insert query.\r\nBut I got this error.\r\nI have no idea how to solve this. I already searched and tried setting classpath and etc.\r\nHow can I build a jar with jdbc.driver jar?\r\nis there anyone who knows this?  \r\n\r\n        java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:264)\r\n        at \r\n        com.macrogenusa.cjp.ab1.server.DaoManager.updatePlateRun(DaoManager.java:33)\r\n        at UntarFromBoston.update(UntarFromBoston.java:211)\r\n        at UntarFromBoston.run(UntarFromBoston.java:43)\r\n        at UntarFromBoston.main(UntarFromBoston.java:215)\r\n","title":"ClassNotFoundException com.mysql.cj.jdbc.Driver","body":"<p>I build a jar file and this jar file was placed on the linux server.\nThis jar file catches files in specific folder and execute an insert query.\nBut I got this error.\nI have no idea how to solve this. I already searched and tried setting classpath and etc.\nHow can I build a jar with jdbc.driver jar?\nis there anyone who knows this?</p>\n<pre><code>    java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at \n    com.macrogenusa.cjp.ab1.server.DaoManager.updatePlateRun(DaoManager.java:33)\n    at UntarFromBoston.update(UntarFromBoston.java:211)\n    at UntarFromBoston.run(UntarFromBoston.java:43)\n    at UntarFromBoston.main(UntarFromBoston.java:215)\n</code></pre>\n"},{"tags":["java","string","recursion","methods"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1664331886,"post_id":73875531,"comment_id":130445061,"body_markdown":"*This code does not work* - how does it not work?","body":"<i>This code does not work</i> - how does it not work?"}],"answers":[{"tags":[],"owner":{"account_id":3809825,"reputation":64,"user_id":3161117,"display_name":"Weylin Piegorsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664332032,"creation_date":1664332032,"answer_id":73875571,"question_id":73875531,"body_markdown":"I kinda feel like this is a homework problem, but I&#39;ll bite.\r\n\r\nI don&#39;t specifically know java, so I can&#39;t comment on the details of the code.  But, if I&#39;m reading it correctly, it seems like you&#39;re taking an integer, converting it to a string, stripping characters and returning them to integers to process?  That seems convoluted.\r\n\r\nWhat about this pseudo-code?\r\n\r\n    int oddSum(n)\r\n    {\r\n        if (n &lt; 10)\r\n        {\r\n            if (n%2 == 1)\r\n                return n\r\n            else\r\n                return 0\r\n        }\r\n        return oddSum(n/10) + oddSum(n%10)\r\n    }","title":"What am I missing in this recursion?","body":"<p>I kinda feel like this is a homework problem, but I'll bite.</p>\n<p>I don't specifically know java, so I can't comment on the details of the code.  But, if I'm reading it correctly, it seems like you're taking an integer, converting it to a string, stripping characters and returning them to integers to process?  That seems convoluted.</p>\n<p>What about this pseudo-code?</p>\n<pre><code>int oddSum(n)\n{\n    if (n &lt; 10)\n    {\n        if (n%2 == 1)\n            return n\n        else\n            return 0\n    }\n    return oddSum(n/10) + oddSum(n%10)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12046428,"reputation":3,"user_id":9943668,"display_name":"Izvan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664332775,"creation_date":1664332775,"answer_id":73875627,"question_id":73875531,"body_markdown":"If anyone is curious\r\n```\r\npublic static int oddSums(int n){\r\n\t\t\tif(n&lt;10) {\r\n\t\t\t\tif(n%2==1) {\r\n\t\t\t\t\treturn n;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif((n%10)%2 == 1) {\r\n\t\t\t\treturn oddSums(n/10)+(n&amp;10);\r\n\t\t\t} else {\r\n\t\t\t\treturn oddSums(n&amp;10);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t}","title":"What am I missing in this recursion?","body":"<p>If anyone is curious</p>\n<pre><code>public static int oddSums(int n){\n            if(n&lt;10) {\n                if(n%2==1) {\n                    return n;\n                } else {\n                    return 0;\n                }\n            }\n            if((n%10)%2 == 1) {\n                return oddSums(n/10)+(n&amp;10);\n            } else {\n                return oddSums(n&amp;10);\n            }\n\n            \n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664333047,"creation_date":1664333047,"answer_id":73875647,"question_id":73875531,"body_markdown":"The root cause? You don&#39;t know how to debug, apparently.\r\n\r\nThe direct cause?\r\n\r\n&gt; `return oddSum(Integer.parseInt(nn.substring(1))+(int)nn.charAt(0));`\r\n\r\nThis line is buggy. You&#39;re invoking `oddSum` on:\r\n\r\n* Take the input number. Lop off the first digit.\r\n* Now add to that (numerically, not string concat), the ASCII code of the first character.\r\n\r\nFor input 12345 that means: `2345 + 49` = 2394, which makes no sense whatsoever. What you probably intended to do is:\r\n\r\n* Take the input number. Lop off the first digit. Feed that to `oddSum`.\r\n* Take whatever this recursive call to `oddSum` returns, and add the actual value of the digit to it (and not its ASCII code).\r\n\r\nThat&#39;s not what your line does - your parentheses are entirely in the wrong place, and `(int) nn.charAt(0)` does not get you the value of the first digit. It gets you the ASCII code of it. 0 is 48, 1 is 49, and so on.\r\n\r\nTo turn an ascii character into its digit value, you can do it &#39;mathematically&#39;:\r\n\r\n```\r\nint valueOfFirstDigit = nn.charAt(0) - &#39;0&#39;;\r\n```\r\n\r\nThis works because all 9 digits show up, in order, in the ASCII table. So, subtracting the ASCII value of the 0 character gives you 0, `&#39;1&#39; - &#39;0&#39;` is 1, etcetera.\r\n\r\nKeep in mind, character like &#39;a&#39; all turn into numbers in the computer&#39;s memory. So, which number? That&#39;s what the ASCII table is all about. The character &#39;0&#39; __does not__ turn into the number 0 in the system; it turns into 48, which is the ASCII code of the character &#39;0&#39;. Keep in mind, 0 the number is not at all equal to &#39;0&#39; the character.\r\n\r\nFix the parentheses issue, and fix your confusion between ASCII and int, and your take will work fine.\r\n\r\n## Debugging?\r\n\r\nYour root cause here is that you need to debug code. Coding isn&#39;t actually like the movies. You don&#39;t just code something and get it right in one go, nor do you fix any problems with code by dramatically and intently staring at it.\r\n\r\nYou debug.\r\n\r\nDebugging is simple. Line for line you figure out in your head what the code should be doing, and then you run the code and contrast what you think it should be doing, with what it is actually doing. Anytime you find a discrepancy, great. You found 1 bug. Fix it, and keep going, because bugs are herd animals.\r\n\r\nDebuggers let you do this - they give you tools to step through (run 1 line, and pause until you press the button to run the next line), and give you eyes on the values of whatever variables you care about, letting you do the job of checking what is actually going on, so that you can compare it to what you think should be happening.\r\n\r\nIf learning to use a debugger is a bridge too far, there&#39;s always the option to just toss a cavalcade of `System.out` statements at your code: Add one in between every line, printing the values of all relevant variables and results of all relevant expressions, and you just wasted a ton of time to recreate the abilities of a debugger. But, you don&#39;t have to learn how to use one, so I guess it&#39;s an option. Though I&#39;d just learn how to use a debugger.\r\n\r\nhad you done that, you&#39;d have figured this out on your own, I bet.\r\n","title":"What am I missing in this recursion?","body":"<p>The root cause? You don't know how to debug, apparently.</p>\n<p>The direct cause?</p>\n<blockquote>\n<p><code>return oddSum(Integer.parseInt(nn.substring(1))+(int)nn.charAt(0));</code></p>\n</blockquote>\n<p>This line is buggy. You're invoking <code>oddSum</code> on:</p>\n<ul>\n<li>Take the input number. Lop off the first digit.</li>\n<li>Now add to that (numerically, not string concat), the ASCII code of the first character.</li>\n</ul>\n<p>For input 12345 that means: <code>2345 + 49</code> = 2394, which makes no sense whatsoever. What you probably intended to do is:</p>\n<ul>\n<li>Take the input number. Lop off the first digit. Feed that to <code>oddSum</code>.</li>\n<li>Take whatever this recursive call to <code>oddSum</code> returns, and add the actual value of the digit to it (and not its ASCII code).</li>\n</ul>\n<p>That's not what your line does - your parentheses are entirely in the wrong place, and <code>(int) nn.charAt(0)</code> does not get you the value of the first digit. It gets you the ASCII code of it. 0 is 48, 1 is 49, and so on.</p>\n<p>To turn an ascii character into its digit value, you can do it 'mathematically':</p>\n<pre><code>int valueOfFirstDigit = nn.charAt(0) - '0';\n</code></pre>\n<p>This works because all 9 digits show up, in order, in the ASCII table. So, subtracting the ASCII value of the 0 character gives you 0, <code>'1' - '0'</code> is 1, etcetera.</p>\n<p>Keep in mind, character like 'a' all turn into numbers in the computer's memory. So, which number? That's what the ASCII table is all about. The character '0' <strong>does not</strong> turn into the number 0 in the system; it turns into 48, which is the ASCII code of the character '0'. Keep in mind, 0 the number is not at all equal to '0' the character.</p>\n<p>Fix the parentheses issue, and fix your confusion between ASCII and int, and your take will work fine.</p>\n<h2>Debugging?</h2>\n<p>Your root cause here is that you need to debug code. Coding isn't actually like the movies. You don't just code something and get it right in one go, nor do you fix any problems with code by dramatically and intently staring at it.</p>\n<p>You debug.</p>\n<p>Debugging is simple. Line for line you figure out in your head what the code should be doing, and then you run the code and contrast what you think it should be doing, with what it is actually doing. Anytime you find a discrepancy, great. You found 1 bug. Fix it, and keep going, because bugs are herd animals.</p>\n<p>Debuggers let you do this - they give you tools to step through (run 1 line, and pause until you press the button to run the next line), and give you eyes on the values of whatever variables you care about, letting you do the job of checking what is actually going on, so that you can compare it to what you think should be happening.</p>\n<p>If learning to use a debugger is a bridge too far, there's always the option to just toss a cavalcade of <code>System.out</code> statements at your code: Add one in between every line, printing the values of all relevant variables and results of all relevant expressions, and you just wasted a ton of time to recreate the abilities of a debugger. But, you don't have to learn how to use one, so I guess it's an option. Though I'd just learn how to use a debugger.</p>\n<p>had you done that, you'd have figured this out on your own, I bet.</p>\n"},{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664334473,"creation_date":1664334473,"answer_id":73875792,"question_id":73875531,"body_markdown":"The more efficient way of doing this is to trim the number one digit at a time.\r\nYou are using a string and the concatenation in your return statements are returning incorrect results. \r\n\r\n```\r\nExample of recursion:\r\n\r\nn = 123\r\nn % 10 will give you 3\r\nn = n / 10 will trim the 3\r\nn != 0, so call oddSum(12) + 3 [We add the 3 to call because it is odd]\r\n\r\nn = 12\r\nn % 10 will give you 2\r\nn = n / 10 will trim the 2\r\nn != 0, so call oddSum(1) [We don&#39;t add the 2 since it is even]\r\n\r\nn = 1\r\nn % 10 will give you 1\r\nn = n / 10 will give you 0\r\nreturn oddSum(0) + 1 [add this odd digit]\r\n\r\nSince n == 0 -&gt; base case reached, so the recursion stops [return 0]\r\nSum of all recursions will be 4.\r\n```\r\n\r\n```\r\npublic class SumOfOddDigits {\r\n\t\r\n\tpublic static int oddSum(int n) {\r\n\t\t/* Base case to exit recursion */\r\n        if(n &lt;= 0) {\r\n        \treturn 0;\r\n        }\r\n        /* Ternary statement that checks if the last digit is odd */\r\n        /* If so, call oddSum(n) and add the odd digit */\r\n        /* &#39;n&#39; will be divided by 10 and passed into oddSum recursively */\r\n        return (n % 10) % 2 == 1 ? oddSum(n / 10) + (n % 10) : oddSum(n /10);\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(oddSum(12345));\r\n\t}\r\n}\r\n```","title":"What am I missing in this recursion?","body":"<p>The more efficient way of doing this is to trim the number one digit at a time.\nYou are using a string and the concatenation in your return statements are returning incorrect results.</p>\n<pre><code>Example of recursion:\n\nn = 123\nn % 10 will give you 3\nn = n / 10 will trim the 3\nn != 0, so call oddSum(12) + 3 [We add the 3 to call because it is odd]\n\nn = 12\nn % 10 will give you 2\nn = n / 10 will trim the 2\nn != 0, so call oddSum(1) [We don't add the 2 since it is even]\n\nn = 1\nn % 10 will give you 1\nn = n / 10 will give you 0\nreturn oddSum(0) + 1 [add this odd digit]\n\nSince n == 0 -&gt; base case reached, so the recursion stops [return 0]\nSum of all recursions will be 4.\n</code></pre>\n<pre><code>public class SumOfOddDigits {\n    \n    public static int oddSum(int n) {\n        /* Base case to exit recursion */\n        if(n &lt;= 0) {\n            return 0;\n        }\n        /* Ternary statement that checks if the last digit is odd */\n        /* If so, call oddSum(n) and add the odd digit */\n        /* 'n' will be divided by 10 and passed into oddSum recursively */\n        return (n % 10) % 2 == 1 ? oddSum(n / 10) + (n % 10) : oddSum(n /10);\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(oddSum(12345));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12046428,"reputation":3,"user_id":9943668,"display_name":"Izvan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73875571,"answer_count":4,"score":-1,"last_activity_date":1664334473,"creation_date":1664331436,"question_id":73875531,"body_markdown":"So I am trying to recursive print all the sum of odd digits in a number. Like the number 12345 would be 9\r\nThis code does not work, but I do not understand why.\r\n```\r\npublic static int oddSum(int n){\r\n\t\t\tString nn = Integer.toString(n);\r\n\t\t\tif(nn.length()==1 &amp;&amp; Integer.parseInt(nn)%2==1) {\r\n\t\t\t\treturn Integer.parseInt(nn);\r\n\t\t\t} else if(nn.length()==1 &amp;&amp; Integer.parseInt(nn)%2==0) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\tif((int)nn.charAt(0)%2 == 1) {\r\n\t\t\t\treturn oddSum(Integer.parseInt(nn.substring(1))+(int)nn.charAt(0));\r\n\t\t\t} else {\r\n\t\t\t\treturn oddSum(Integer.parseInt(nn.substring(1)));\r\n\t\t\t}\r\n\t\t}\r\n```","title":"What am I missing in this recursion?","body":"<p>So I am trying to recursive print all the sum of odd digits in a number. Like the number 12345 would be 9\nThis code does not work, but I do not understand why.</p>\n<pre><code>public static int oddSum(int n){\n            String nn = Integer.toString(n);\n            if(nn.length()==1 &amp;&amp; Integer.parseInt(nn)%2==1) {\n                return Integer.parseInt(nn);\n            } else if(nn.length()==1 &amp;&amp; Integer.parseInt(nn)%2==0) {\n                return 0;\n            }\n            if((int)nn.charAt(0)%2 == 1) {\n                return oddSum(Integer.parseInt(nn.substring(1))+(int)nn.charAt(0));\n            } else {\n                return oddSum(Integer.parseInt(nn.substring(1)));\n            }\n        }\n</code></pre>\n"},{"tags":["java","spring","maven","jaxb","wsdl"],"comments":[{"owner":{"account_id":6207928,"reputation":2802,"user_id":4835230,"accept_rate":40,"display_name":"Khuzi"},"score":0,"creation_date":1520538703,"post_id":35108965,"comment_id":85368258,"body_markdown":"were you able to fix this issue?? If yes, how? I am also facing similar issue and I dont want to go ahead with `&lt;arg&gt;-XautoNameResolution&lt;/arg&gt;` option. I am interested for binding approach.","body":"were you able to fix this issue?? If yes, how? I am also facing similar issue and I dont want to go ahead with <code>&lt;arg&gt;-XautoNameResolution&lt;&#47;arg&gt;</code> option. I am interested for binding approach."},{"owner":{"account_id":2931095,"reputation":321,"user_id":2511298,"display_name":"Ahmed Hasn."},"score":0,"creation_date":1657018252,"post_id":35108965,"comment_id":128704511,"body_markdown":"for me all I had to do was to remove the package specification &lt;generatePackage&gt;","body":"for me all I had to do was to remove the package specification &lt;generatePackage&gt;"}],"answers":[{"tags":[],"owner":{"account_id":936963,"reputation":5575,"user_id":965730,"accept_rate":82,"display_name":"Hendrik Jander"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1664334371,"creation_date":1454339070,"answer_id":35133786,"question_id":35108965,"body_markdown":"The error message you are facing basically states that some names in the the `types`section of your wsdl are used two times. In your case **all** `&lt;element&gt;`tags have the same name as their corresponding types (defined as `&lt;complexType&gt;`).\r\n \r\n**Example:**\r\n\r\n      &lt;s:element name=&quot;SearchFlights&quot;&gt;\r\n        &lt;s:complexType&gt;\r\n          &lt;s:sequence&gt;\r\n            &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;SoapMessage&quot; type=&quot;tns:SearchFlights&quot; /&gt;\r\n          &lt;/s:sequence&gt;\r\n        &lt;/s:complexType&gt;\r\n      &lt;/s:element&gt;\r\n\r\n      &lt;s:complexType name=&quot;SearchFlights&quot;&gt;\r\n        &lt;s:complexContent mixed=&quot;false&quot;&gt;\r\n          &lt;s:extension base=&quot;tns:SoapMessageBase&quot;&gt;\r\n            &lt;s:sequence&gt;\r\n              &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;Request&quot; type=&quot;tns:SearchFlightsRequest&quot; /&gt;\r\n              &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;Response&quot; type=&quot;tns:SearchFlightsResponse&quot; /&gt;\r\n            &lt;/s:sequence&gt;\r\n          &lt;/s:extension&gt;\r\n        &lt;/s:complexContent&gt;\r\n      &lt;/s:complexType&gt;\r\n\r\n\r\nThis is quite uncommon.\r\n\r\n\r\nThere are basically two options to resolve these issues:\r\n\r\n**Use autoNameResolution**\r\n\r\n     &lt;plugin&gt;\r\n         &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;0.13.1&lt;/version&gt;\r\n         &lt;executions&gt;\r\n             &lt;execution&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;generate&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n             &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n         &lt;configuration&gt;\r\n\r\n             &lt;args&gt;\r\n                 &lt;arg&gt;-XautoNameResolution&lt;/arg&gt;\r\n             &lt;/args&gt;\r\n\r\n             &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n             &lt;generatePackage&gt;hello.wsdl&lt;/generatePackage&gt;\r\n             &lt;schemas&gt;\r\n                 &lt;schema&gt;\r\n                     &lt;url&gt;http://www5v80.elsyarres.net/service.asmx?wsdl&lt;/url&gt;\r\n                 &lt;/schema&gt;\r\n              &lt;/schemas&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nThe plugin will resolve all naming conflicts through appending numbers to every colliding name. In the above mentioned case of *SearchFlights* this will result in  *SearchFlights* and  *SearchFlights2* being generated.\r\n\r\n**A better way** would be to use a binding file to resolve all name conflicts in advance. Binding files mostly contain `XPATH`expression and transformation rules.\r\nA binding file that appends to *every* &lt;element&gt; declarations name is the following:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jaxws:bindings wsdlLocation=&quot;http://www5v80.elsyarres.net/service.asmx?wsdl&quot;\r\n                xmlns:jaxws=&quot;http://java.sun.com/xml/ns/jaxws&quot;\r\n                xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n                xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; version=&quot;2.1&quot;\r\n                xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    \r\n        &lt;jaxws:bindings node=&quot;wsdl:definitions/wsdl:types/xs:schema[@targetNamespace=&#39;ElsyArres.API&#39;]&quot;&gt;\r\n            &lt;jaxb:schemaBindings&gt;\r\n                &lt;jaxb:nameXmlTransform&gt;\r\n                    &lt;jaxb:elementName suffix=&quot;Elem&quot;/&gt;\r\n                &lt;/jaxb:nameXmlTransform&gt;\r\n            &lt;/jaxb:schemaBindings&gt;\r\n        &lt;/jaxws:bindings&gt;\r\n    &lt;/jaxws:bindings&gt;\r\n\r\n\r\n There are other options for `jaxb:nameXmlTransform` like suffixes and prepending to other kind of xml elements (like types).\r\n\r\nSadly i could not get to work this binding file with the `org.jvnet.jaxb2.maven2:maven-jaxb2-plugin`( but i am sure there is a working configuration)\r\n\r\nIt nevertheless works with the [`org.codehaus.mojo:jaxws-maven-plugin`][1] and the following configuration.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;bindingFiles&gt;\r\n             &lt;bindingFile&gt;${basedir}/src/main/resources/bindings.xjb&lt;/bindingFile&gt;\r\n            &lt;/bindingFiles&gt;\r\n            &lt;wsdlUrls&gt;\r\n                &lt;wsdlUrl&gt;http://www5v80.elsyarres.net/service.asmx?wsdl&lt;/wsdlUrl&gt;\r\n            &lt;/wsdlUrls&gt;\r\n            &lt;vmArgs&gt;\r\n                &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\r\n            &lt;/vmArgs&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html","title":"How to use a class customization to resolve file generating conflicts","body":"<p>The error message you are facing basically states that some names in the the <code>types</code>section of your wsdl are used two times. In your case <strong>all</strong> <code>&lt;element&gt;</code>tags have the same name as their corresponding types (defined as <code>&lt;complexType&gt;</code>).</p>\n<p><strong>Example:</strong></p>\n<pre><code>  &lt;s:element name=&quot;SearchFlights&quot;&gt;\n    &lt;s:complexType&gt;\n      &lt;s:sequence&gt;\n        &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;SoapMessage&quot; type=&quot;tns:SearchFlights&quot; /&gt;\n      &lt;/s:sequence&gt;\n    &lt;/s:complexType&gt;\n  &lt;/s:element&gt;\n\n  &lt;s:complexType name=&quot;SearchFlights&quot;&gt;\n    &lt;s:complexContent mixed=&quot;false&quot;&gt;\n      &lt;s:extension base=&quot;tns:SoapMessageBase&quot;&gt;\n        &lt;s:sequence&gt;\n          &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;Request&quot; type=&quot;tns:SearchFlightsRequest&quot; /&gt;\n          &lt;s:element minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot; name=&quot;Response&quot; type=&quot;tns:SearchFlightsResponse&quot; /&gt;\n        &lt;/s:sequence&gt;\n      &lt;/s:extension&gt;\n    &lt;/s:complexContent&gt;\n  &lt;/s:complexType&gt;\n</code></pre>\n<p>This is quite uncommon.</p>\n<p>There are basically two options to resolve these issues:</p>\n<p><strong>Use autoNameResolution</strong></p>\n<pre><code> &lt;plugin&gt;\n     &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n     &lt;version&gt;0.13.1&lt;/version&gt;\n     &lt;executions&gt;\n         &lt;execution&gt;\n             &lt;goals&gt;\n                 &lt;goal&gt;generate&lt;/goal&gt;\n             &lt;/goals&gt;\n         &lt;/execution&gt;\n     &lt;/executions&gt;\n     &lt;configuration&gt;\n\n         &lt;args&gt;\n             &lt;arg&gt;-XautoNameResolution&lt;/arg&gt;\n         &lt;/args&gt;\n\n         &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n         &lt;generatePackage&gt;hello.wsdl&lt;/generatePackage&gt;\n         &lt;schemas&gt;\n             &lt;schema&gt;\n                 &lt;url&gt;http://www5v80.elsyarres.net/service.asmx?wsdl&lt;/url&gt;\n             &lt;/schema&gt;\n          &lt;/schemas&gt;\n      &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>The plugin will resolve all naming conflicts through appending numbers to every colliding name. In the above mentioned case of <em>SearchFlights</em> this will result in  <em>SearchFlights</em> and  <em>SearchFlights2</em> being generated.</p>\n<p><strong>A better way</strong> would be to use a binding file to resolve all name conflicts in advance. Binding files mostly contain <code>XPATH</code>expression and transformation rules.\nA binding file that appends to <em>every</em>  declarations name is the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jaxws:bindings wsdlLocation=&quot;http://www5v80.elsyarres.net/service.asmx?wsdl&quot;\n            xmlns:jaxws=&quot;http://java.sun.com/xml/ns/jaxws&quot;\n            xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n            xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; version=&quot;2.1&quot;\n            xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n\n    &lt;jaxws:bindings node=&quot;wsdl:definitions/wsdl:types/xs:schema[@targetNamespace='ElsyArres.API']&quot;&gt;\n        &lt;jaxb:schemaBindings&gt;\n            &lt;jaxb:nameXmlTransform&gt;\n                &lt;jaxb:elementName suffix=&quot;Elem&quot;/&gt;\n            &lt;/jaxb:nameXmlTransform&gt;\n        &lt;/jaxb:schemaBindings&gt;\n    &lt;/jaxws:bindings&gt;\n&lt;/jaxws:bindings&gt;\n</code></pre>\n<p>There are other options for <code>jaxb:nameXmlTransform</code> like suffixes and prepending to other kind of xml elements (like types).</p>\n<p>Sadly i could not get to work this binding file with the <code>org.jvnet.jaxb2.maven2:maven-jaxb2-plugin</code>( but i am sure there is a working configuration)</p>\n<p>It nevertheless works with the <a href=\"https://jax-ws-commons.java.net/jaxws-maven-plugin/wsimport-mojo.html\" rel=\"noreferrer\"><code>org.codehaus.mojo:jaxws-maven-plugin</code></a> and the following configuration.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;bindingFiles&gt;\n         &lt;bindingFile&gt;${basedir}/src/main/resources/bindings.xjb&lt;/bindingFile&gt;\n        &lt;/bindingFiles&gt;\n        &lt;wsdlUrls&gt;\n            &lt;wsdlUrl&gt;http://www5v80.elsyarres.net/service.asmx?wsdl&lt;/wsdlUrl&gt;\n        &lt;/wsdlUrls&gt;\n        &lt;vmArgs&gt;\n            &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\n        &lt;/vmArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8504,"reputation":6233,"user_id":1961117,"accept_rate":92,"display_name":"trunkc"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1505914387,"creation_date":1505914387,"answer_id":46323525,"question_id":35108965,"body_markdown":"If the autoNameResolution fix \r\n\r\n     &lt;args&gt;\r\n         &lt;arg&gt;-XautoNameResolution&lt;/arg&gt;\r\n     &lt;/args&gt;\r\n\r\ndoesn&#39;t work, try: \r\n\r\n     &lt;args&gt;\r\n         &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\r\n     &lt;/args&gt;","title":"How to use a class customization to resolve file generating conflicts","body":"<p>If the autoNameResolution fix </p>\n\n<pre><code> &lt;args&gt;\n     &lt;arg&gt;-XautoNameResolution&lt;/arg&gt;\n &lt;/args&gt;\n</code></pre>\n\n<p>doesn't work, try: </p>\n\n<pre><code> &lt;args&gt;\n     &lt;arg&gt;-B-XautoNameResolution&lt;/arg&gt;\n &lt;/args&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1895890,"reputation":4097,"user_id":1712880,"accept_rate":27,"display_name":"Hamid Mohayeji"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1565715030,"creation_date":1538653603,"answer_id":52645903,"question_id":35108965,"body_markdown":"Removing `&lt;generatePackage&gt;&lt;/generatePackage&gt;` tag solves the problem. \r\n\r\nHowever, the consequence of this removal is that your packages will be created from the xml namespace. For example, the namespace `example.com/xyz` will result to the package `com.example.xyz`","title":"How to use a class customization to resolve file generating conflicts","body":"<p>Removing <code>&lt;generatePackage&gt;&lt;/generatePackage&gt;</code> tag solves the problem. </p>\n\n<p>However, the consequence of this removal is that your packages will be created from the xml namespace. For example, the namespace <code>example.com/xyz</code> will result to the package <code>com.example.xyz</code></p>\n"},{"tags":[],"owner":{"account_id":50594,"reputation":12311,"user_id":151004,"accept_rate":83,"display_name":"thoredge"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553679117,"creation_date":1553678796,"answer_id":55373718,"question_id":35108965,"body_markdown":"Removing generatePackage as hamid-mohayeji mentions fixes a lot of cases (at least cases where your xsds are sane). The setting tries to put all entities into the same namespace and that&#39;s bound to go wrong in non-simple cases. However omitting the package leaves you with packages created from the namespace. For example http://www.co.com/srvc/api/common would become package *com.co.srvc.api.common*. \r\n\r\nThis can be remedied by adding a simple binding file. Configure `&lt;bindingDirectory&gt;src/main/resources/bindings&lt;/bindingDirectory&gt;` in the pom and add a binding file something.xjb to the binding directory. Here you need to refer to individual relatively to this file.\r\n\r\nThis file sets packages for each xsd-file individually:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jaxb:bindings xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; jaxb:version=&quot;2.0&quot;&gt;\r\n    \r\n        &lt;jaxb:bindings schemaLocation=&quot;../schemas/common.xsd&quot;&gt;\r\n            &lt;jaxb:schemaBindings&gt;\r\n                &lt;jaxb:package name=&quot;com.mycomp.myapp.co.common&quot; /&gt;\r\n            &lt;/jaxb:schemaBindings&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n\r\n        ... more bindings\r\n\r\n    &lt;/jaxb:bindings&gt;","title":"How to use a class customization to resolve file generating conflicts","body":"<p>Removing generatePackage as hamid-mohayeji mentions fixes a lot of cases (at least cases where your xsds are sane). The setting tries to put all entities into the same namespace and that's bound to go wrong in non-simple cases. However omitting the package leaves you with packages created from the namespace. For example <a href=\"http://www.co.com/srvc/api/common\" rel=\"noreferrer\">http://www.co.com/srvc/api/common</a> would become package <em>com.co.srvc.api.common</em>. </p>\n\n<p>This can be remedied by adding a simple binding file. Configure <code>&lt;bindingDirectory&gt;src/main/resources/bindings&lt;/bindingDirectory&gt;</code> in the pom and add a binding file something.xjb to the binding directory. Here you need to refer to individual relatively to this file.</p>\n\n<p>This file sets packages for each xsd-file individually:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jaxb:bindings xmlns:jaxb=\"http://java.sun.com/xml/ns/jaxb\" jaxb:version=\"2.0\"&gt;\n\n    &lt;jaxb:bindings schemaLocation=\"../schemas/common.xsd\"&gt;\n        &lt;jaxb:schemaBindings&gt;\n            &lt;jaxb:package name=\"com.mycomp.myapp.co.common\" /&gt;\n        &lt;/jaxb:schemaBindings&gt;\n    &lt;/jaxb:bindings&gt;\n\n    ... more bindings\n\n&lt;/jaxb:bindings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1954866,"reputation":731,"user_id":1921128,"display_name":"Chintan Panchal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593409484,"creation_date":1593409484,"answer_id":62631951,"question_id":35108965,"body_markdown":"When you&#39;re using \r\n\r\n    jaxws-maven-plugin\r\n\r\n maven plugin to generate classes from WSDL use below arguments to resolve this issue.\r\n\r\n    &lt;execution&gt;\r\n     &lt;configuration&gt;\r\n        &lt;xjcArgs&gt;\r\n            &lt;xjcArg&gt;-XautoNameResolution&lt;/xjcArg&gt;\r\n        &lt;/xjcArgs&gt;\r\n     &lt;/configuration&gt;\r\n    &lt;/execution&gt;","title":"How to use a class customization to resolve file generating conflicts","body":"<p>When you're using</p>\n<pre><code>jaxws-maven-plugin\n</code></pre>\n<p>maven plugin to generate classes from WSDL use below arguments to resolve this issue.</p>\n<pre><code>&lt;execution&gt;\n &lt;configuration&gt;\n    &lt;xjcArgs&gt;\n        &lt;xjcArg&gt;-XautoNameResolution&lt;/xjcArg&gt;\n    &lt;/xjcArgs&gt;\n &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7314813,"reputation":457,"user_id":5572837,"display_name":"AGan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594333860,"creation_date":1594333860,"answer_id":62824689,"question_id":35108965,"body_markdown":"I had the same problem for xsd to jaxb and using jaxb2-maven-plugin from org.codehaus.mojo. There was a packageName under configuration creates all the generated files under the same package caused the issue\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;outputDirectory&gt;target/generated-sources/jaxb&lt;/outputDirectory&gt;\r\n\t\t\t&lt;schemaDirectory&gt;src/main/xsd&lt;/schemaDirectory&gt;\r\n\t\t\t&lt;schemaFiles&gt;test.xsd&lt;/schemaFiles&gt;\r\n\t\t\t&lt;!-- &lt;packageName&gt;com.example.myschema&lt;/packageName&gt; --&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n    ","title":"How to use a class customization to resolve file generating conflicts","body":"<p>I had the same problem for xsd to jaxb and using jaxb2-maven-plugin from org.codehaus.mojo. There was a packageName under configuration creates all the generated files under the same package caused the issue</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.5&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;xjc&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;target/generated-sources/jaxb&lt;/outputDirectory&gt;\n        &lt;schemaDirectory&gt;src/main/xsd&lt;/schemaDirectory&gt;\n        &lt;schemaFiles&gt;test.xsd&lt;/schemaFiles&gt;\n        &lt;!-- &lt;packageName&gt;com.example.myschema&lt;/packageName&gt; --&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3038295,"reputation":372,"user_id":2575875,"display_name":"Mert Aksoy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594826683,"creation_date":1594826683,"answer_id":62918318,"question_id":35108965,"body_markdown":"All the answers above didnt worked...\r\n\r\n**But this:**\r\n\r\n    &lt;configuration&gt;\r\n      &lt;defaultOptions&gt;\r\n        &lt;autoNameResolution&gt;true&lt;/autoNameResolution&gt;\r\n      &lt;/defaultOptions&gt;\r\n    &lt;/configuration&gt;","title":"How to use a class customization to resolve file generating conflicts","body":"<p>All the answers above didnt worked...</p>\n<p><strong>But this:</strong></p>\n<pre><code>&lt;configuration&gt;\n  &lt;defaultOptions&gt;\n    &lt;autoNameResolution&gt;true&lt;/autoNameResolution&gt;\n  &lt;/defaultOptions&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20620845,"reputation":46,"user_id":15137915,"display_name":"Sushma Kamavaram Ellur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612359836,"creation_date":1612359836,"answer_id":66028780,"question_id":35108965,"body_markdown":"     &lt;defaultOptions&gt;\r\n            &lt;autoNameResolution&gt;true&lt;/autoNameResolution&gt;\r\n    &lt;/defaultOptions&gt;\r\n\r\nThis worked for me for Apache CXF Plugin.\r\n","title":"How to use a class customization to resolve file generating conflicts","body":"<pre><code> &lt;defaultOptions&gt;\n        &lt;autoNameResolution&gt;true&lt;/autoNameResolution&gt;\n&lt;/defaultOptions&gt;\n</code></pre>\n<p>This worked for me for Apache CXF Plugin.</p>\n"}],"owner":{"account_id":5995715,"reputation":2883,"user_id":4710417,"accept_rate":59,"display_name":"Daniel Newtown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66694,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":35133786,"answer_count":8,"score":33,"last_activity_date":1664334371,"creation_date":1454200545,"question_id":35108965,"body_markdown":"I am trying to use Maven to generate JAXB files to be used by Spring framework, but Maven displays following errors:\r\n\r\n\r\nI understand that it is unable to generate files with the names, but I am not sure how to resolve the issue. So far, I visited following links. [1][1], [2][2], [3][3]\r\n\r\n    org.xml.sax.SAXParseException; systemId: http://www5v80.elsyarres.net/service.asmx?wsdl; lineNumber: 5; columnNumber: 39; A class/interface with the same name &quot;hello.wsdl.SearchFlights&quot; is already in use. Use a class customization to resolve this conflict.\r\n    ....\r\n    org.xml.sax.SAXParseException; systemId: http://www5v80.elsyarres.net/service.asmx?wsdl; lineNumber: 12; columnNumber: 43; (Relevant to above error) another &quot;SearchFlights&quot; is generated from here.\r\n    ....\r\n    org.xml.sax.SAXParseException; systemId: http://www5v80.elsyarres.net/service.asmx?wsdl; lineNumber: 371; columnNumber: 42; A class/interface with the same name &quot;hello.wsdl.GetFlightDetails&quot; is already in use. Use a class customization to resolve this conflict.\r\n    ....\r\n\r\nMaven plugin\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.12.3&lt;/version&gt;\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n\t\t\t\t&lt;generatePackage&gt;hello.wsdl&lt;/generatePackage&gt;\r\n\t\t\t\t&lt;schemas&gt;\r\n\t\t\t\t\t&lt;schema&gt;\r\n\t\t\t\t\t\t&lt;url&gt;http://www5v80.elsyarres.net/service.asmx?wsdl&lt;/url&gt;\r\n\t\t\t\t\t&lt;/schema&gt;\r\n\t\t\t\t&lt;/schemas&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\r\nI added following `package-info.java` file to the `hello.wsdl` package but it did not help.\r\n\r\n    @XmlSchema( \r\n        namespace = &quot;ElsyArres.API&quot;,\r\n        elementFormDefault = XmlNsForm.QUALIFIED) \r\n    package hello.wsdl;\r\n    \r\n    import javax.xml.bind.annotation.XmlNsForm;\r\n    import javax.xml.bind.annotation.XmlSchema;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29969057/how-to-use-a-class-customization-to-resolve-conflict-when-generating-jaxb-object\r\n  [2]: https://stackoverflow.com/questions/2409278/generating-java-classes-out-of-xmlschema-xsd-using-jaxb\r\n  [3]: https://spring.io/guides/gs/consuming-web-service/","title":"How to use a class customization to resolve file generating conflicts","body":"<p>I am trying to use Maven to generate JAXB files to be used by Spring framework, but Maven displays following errors:</p>\n\n<p>I understand that it is unable to generate files with the names, but I am not sure how to resolve the issue. So far, I visited following links. <a href=\"https://stackoverflow.com/questions/29969057/how-to-use-a-class-customization-to-resolve-conflict-when-generating-jaxb-object\">1</a>, <a href=\"https://stackoverflow.com/questions/2409278/generating-java-classes-out-of-xmlschema-xsd-using-jaxb\">2</a>, <a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"noreferrer\">3</a></p>\n\n<pre><code>org.xml.sax.SAXParseException; systemId: http://www5v80.elsyarres.net/service.asmx?wsdl; lineNumber: 5; columnNumber: 39; A class/interface with the same name \"hello.wsdl.SearchFlights\" is already in use. Use a class customization to resolve this conflict.\n....\norg.xml.sax.SAXParseException; systemId: http://www5v80.elsyarres.net/service.asmx?wsdl; lineNumber: 12; columnNumber: 43; (Relevant to above error) another \"SearchFlights\" is generated from here.\n....\norg.xml.sax.SAXParseException; systemId: http://www5v80.elsyarres.net/service.asmx?wsdl; lineNumber: 371; columnNumber: 42; A class/interface with the same name \"hello.wsdl.GetFlightDetails\" is already in use. Use a class customization to resolve this conflict.\n....\n</code></pre>\n\n<p>Maven plugin</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.12.3&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;generate&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n            &lt;generatePackage&gt;hello.wsdl&lt;/generatePackage&gt;\n            &lt;schemas&gt;\n                &lt;schema&gt;\n                    &lt;url&gt;http://www5v80.elsyarres.net/service.asmx?wsdl&lt;/url&gt;\n                &lt;/schema&gt;\n            &lt;/schemas&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>I added following <code>package-info.java</code> file to the <code>hello.wsdl</code> package but it did not help.</p>\n\n<pre><code>@XmlSchema( \n    namespace = \"ElsyArres.API\",\n    elementFormDefault = XmlNsForm.QUALIFIED) \npackage hello.wsdl;\n\nimport javax.xml.bind.annotation.XmlNsForm;\nimport javax.xml.bind.annotation.XmlSchema;\n</code></pre>\n"},{"tags":["java","timezone"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664334834,"post_id":73875681,"comment_id":130445442,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664342969,"post_id":73875681,"comment_id":130446604,"body_markdown":"Does this answer your question? [How to get Time Zone through IP Address in JAVA](https://stackoverflow.com/questions/13968483/how-to-get-time-zone-through-ip-address-in-java)? Also related: [How to get Time Zone through IP Address in PHP \\[duplicate\\]](https://stackoverflow.com/questions/743505/how-to-get-time-zone-through-ip-address-in-php). Search fore more.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13968483/how-to-get-time-zone-through-ip-address-in-java\">How to get Time Zone through IP Address in JAVA</a>? Also related: <a href=\"https://stackoverflow.com/questions/743505/how-to-get-time-zone-through-ip-address-in-php\">How to get Time Zone through IP Address in PHP &#91;duplicate&#93;</a>. Search fore more."}],"answers":[{"tags":[],"owner":{"account_id":15132666,"reputation":104,"user_id":10920028,"display_name":"Rajesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664333676,"creation_date":1664333676,"answer_id":73875709,"question_id":73875681,"body_markdown":"You can use the open api \r\n\r\nhttps://ipinfo.io/\r\n\r\nThis will give you the timezone for the IP address. \r\nBut remember, this is public IP address. ","title":"How can I get timezone by using IP address in Java?","body":"<p>You can use the open api</p>\n<p><a href=\"https://ipinfo.io/\" rel=\"nofollow noreferrer\">https://ipinfo.io/</a></p>\n<p>This will give you the timezone for the IP address.\nBut remember, this is public IP address.</p>\n"}],"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664333676,"creation_date":1664333410,"question_id":73875681,"body_markdown":"As described;&lt;br/&gt;\r\nNow I want to get timezone by IP address in Java, but I can&#39;t find anything really helpful with my ask;&lt;br/&gt;\r\nIf u have a better way to solve this pls share ur thoughts with me;\r\n","title":"How can I get timezone by using IP address in Java?","body":"<p>As described;<br/>\nNow I want to get timezone by IP address in Java, but I can't find anything really helpful with my ask;<br/>\nIf u have a better way to solve this pls share ur thoughts with me;</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1664355164,"post_id":73875671,"comment_id":130450292,"body_markdown":"Try to manually delete all [IDE directories](https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs) before reinstalling. If the problem remains please contact IntelliJ support at https://intellij-support.jetbrains.com/hc/en-us/requests/new and provide the IDE logs. (https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files)","body":"Try to manually delete all <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544519-Directories-used-by-the-IDE-to-store-settings-caches-plugins-and-logs\" rel=\"nofollow noreferrer\">IDE directories</a> before reinstalling. If the problem remains please contact IntelliJ support at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and provide the IDE logs. (<a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>)"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1664355194,"post_id":73875671,"comment_id":130450310,"body_markdown":"Also, try using the 2022.2 build from https://www.jetbrains.com/idea/download","body":"Also, try using the 2022.2 build from <a href=\"https://www.jetbrains.com/idea/download\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a>"}],"owner":{"account_id":10846107,"reputation":73,"user_id":7975529,"display_name":"Mukul Anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664333359,"creation_date":1664333359,"question_id":73875671,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0OGi3.png\r\n\r\nI was using Intellij 2020.2 and today suddenly after restarting my PC, I am facing this error.\r\n\r\nMissing essential plugins:\r\n\r\n  com.intellij.java\r\n  com.intellij.java.ide\r\n\r\nPlease reinstall IntelliJ IDEA from scratch.\r\n\r\nI&#39;ve tried reinstalling Intellij from scratch, as the error says, but nothing changes.","title":"Missing essential plugins: com.intellij.java com.intellij.java.ide","body":"<p><a href=\"https://i.stack.imgur.com/0OGi3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0OGi3.png\" alt=\"enter image description here\" /></a></p>\n<p>I was using Intellij 2020.2 and today suddenly after restarting my PC, I am facing this error.</p>\n<p>Missing essential plugins:</p>\n<p>com.intellij.java\ncom.intellij.java.ide</p>\n<p>Please reinstall IntelliJ IDEA from scratch.</p>\n<p>I've tried reinstalling Intellij from scratch, as the error says, but nothing changes.</p>\n"},{"tags":["java","c++","arrays","string","algorithm"],"comments":[{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":2,"creation_date":1664310265,"post_id":73873372,"comment_id":130441390,"body_markdown":"If strings have a fixed limit on their length, it&#39;s `O(n)` no matter how big is that max length. If there is no such max, it&#39;s `O(k)` where `k` is the total number of characters in all strings.","body":"If strings have a fixed limit on their length, it&#39;s <code>O(n)</code> no matter how big is that max length. If there is no such max, it&#39;s <code>O(k)</code> where <code>k</code> is the total number of characters in all strings."},{"owner":{"account_id":25330874,"reputation":1,"user_id":19150688,"display_name":"spookymath"},"score":0,"creation_date":1664311003,"post_id":73873372,"comment_id":130441609,"body_markdown":"@SergeyKalinichenko so does that make the complexity of the algorithm quadratic ?\nAssuming all strings are equal in size `m` as the size of every string, with `n` being the size of the array.\nOverall Complexity would be O(n*m) ~ O(n^2)","body":"@SergeyKalinichenko so does that make the complexity of the algorithm quadratic ? Assuming all strings are equal in size <code>m</code> as the size of every string, with <code>n</code> being the size of the array. Overall Complexity would be O(n*m) ~ O(n^2)"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1664311456,"post_id":73873372,"comment_id":130441730,"body_markdown":"If `m` is constant, `O(m*n)` is `O(n)` regardless of the value of `m` (10, 100, or 1,000,000, it does not matter), because we ignore all constants during the big-O analysis.","body":"If <code>m</code> is constant, <code>O(m*n)</code> is <code>O(n)</code> regardless of the value of <code>m</code> (10, 100, or 1,000,000, it does not matter), because we ignore all constants during the big-O analysis."},{"owner":{"account_id":25330874,"reputation":1,"user_id":19150688,"display_name":"spookymath"},"score":0,"creation_date":1664311877,"post_id":73873372,"comment_id":130441837,"body_markdown":"I have currently assumed &quot;m&quot; to be the size of all strings in the array.\nlets say the size of the string at index `i` is `mi`.\nOverall Complexity would be `O(m0 + m1 + m2 + m3 +... mn-1)`.\n\nWould this be considered linear or quadratic ?","body":"I have currently assumed &quot;m&quot; to be the size of all strings in the array. lets say the size of the string at index <code>i</code> is <code>mi</code>. Overall Complexity would be <code>O(m0 + m1 + m2 + m3 +... mn-1)</code>.  Would this be considered linear or quadratic ?"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1664314503,"post_id":73873372,"comment_id":130442487,"body_markdown":"In this case `m` is a number in its own rights, because by the time you finish computing it,  `n` is out of the picture, so the complexity is linear in `m`, i.e. `O(m)`.","body":"In this case <code>m</code> is a number in its own rights, because by the time you finish computing it,  <code>n</code> is out of the picture, so the complexity is linear in <code>m</code>, i.e. <code>O(m)</code>."}],"answers":[{"tags":[],"owner":{"account_id":26464738,"reputation":1,"user_id":20106115,"display_name":"emilyo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664330238,"creation_date":1664330238,"answer_id":73875427,"question_id":73873372,"body_markdown":"Technically, the time complexity would be O(n) because strings have a max length so O(k*n) (k being the max string length) works out to be O(n).\r\n\r\nBut to answer your question, yes, longer strings take longer to print. ","title":"Time Complexity of printing an Array of String","body":"<p>Technically, the time complexity would be O(n) because strings have a max length so O(k*n) (k being the max string length) works out to be O(n).</p>\n<p>But to answer your question, yes, longer strings take longer to print.</p>\n"},{"tags":[],"owner":{"account_id":13300935,"reputation":52,"user_id":9602466,"display_name":"Bramhacharya Sushant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664332381,"creation_date":1664332381,"answer_id":73875595,"question_id":73873372,"body_markdown":"O(k*n) is the correct time complexity because it has to iterate only the numbers of data it has. O(n^2) usually applies if you are having a loop inside a loop or an array inside an array or a multidimensional array.\r\n\r\nNow talking about strings it is a kinda multidimensional array that consists of a character array and an array of those character arrays. But you see the size of the array can differ so it cant be O(n^2). Instead, we can use O(k*n) where k refers to the max_length of string you have.\r\n\r\nNow you can clearly see how much string takes time to execute vs how much int takes time to execute.","title":"Time Complexity of printing an Array of String","body":"<p>O(k*n) is the correct time complexity because it has to iterate only the numbers of data it has. O(n^2) usually applies if you are having a loop inside a loop or an array inside an array or a multidimensional array.</p>\n<p>Now talking about strings it is a kinda multidimensional array that consists of a character array and an array of those character arrays. But you see the size of the array can differ so it cant be O(n^2). Instead, we can use O(k*n) where k refers to the max_length of string you have.</p>\n<p>Now you can clearly see how much string takes time to execute vs how much int takes time to execute.</p>\n"}],"owner":{"account_id":25330874,"reputation":1,"user_id":19150688,"display_name":"spookymath"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1664332381,"creation_date":1664309807,"question_id":73873372,"body_markdown":"Given the Pseudocode -\r\n\r\n```\r\nfunction PrintColours(): \r\n    colours = { &quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;, &quot;Grey&quot; } \r\n    \r\n    foreach colour in colours: \r\n        print(colour) \r\n```\r\n\r\nWhat should be the Overall Time Complexity of the Code. Is it O(n) or O(n^2) ?\r\n\r\nDoes it take longer time to print a longer string, or is it the same for all (as is the case in integers) ?","title":"Time Complexity of printing an Array of String","body":"<p>Given the Pseudocode -</p>\n<pre><code>function PrintColours(): \n    colours = { &quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;, &quot;Grey&quot; } \n    \n    foreach colour in colours: \n        print(colour) \n</code></pre>\n<p>What should be the Overall Time Complexity of the Code. Is it O(n) or O(n^2) ?</p>\n<p>Does it take longer time to print a longer string, or is it the same for all (as is the case in integers) ?</p>\n"},{"tags":["java","database","neo4j"],"answers":[{"tags":[],"owner":{"account_id":3490986,"reputation":17704,"user_id":2920686,"accept_rate":71,"display_name":"FrobberOfBits"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435065020,"creation_date":1435065020,"answer_id":31003730,"question_id":31002700,"body_markdown":"[Execute a cypher query from java](http://neo4j.com/docs/stable/tutorials-cypher-java.html).\r\n\r\nUse this query:\r\n\r\n    MATCH (n) RETURN count(n);\r\n\r\nIf the answer is zero, the database is empty.  If it&#39;s anything else, it&#39;s not.","title":"Verify if the database is empty in neo4j","body":"<p><a href=\"http://neo4j.com/docs/stable/tutorials-cypher-java.html\" rel=\"nofollow\">Execute a cypher query from java</a>.</p>\n\n<p>Use this query:</p>\n\n<pre><code>MATCH (n) RETURN count(n);\n</code></pre>\n\n<p>If the answer is zero, the database is empty.  If it's anything else, it's not.</p>\n"},{"tags":[],"owner":{"account_id":947871,"reputation":64267,"user_id":974731,"display_name":"cybersam"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1664331859,"creation_date":1435083777,"answer_id":31010580,"question_id":31002700,"body_markdown":"*UPDATED ANSWER*\r\n\r\nHere is an efficient Cypher query that returns a boolean `isEmpty` result.\r\n\r\n    OPTIONAL MATCH (n)\r\n    RETURN n IS NULL AS isEmpty\r\n    LIMIT 1;","title":"Verify if the database is empty in neo4j","body":"<p><em>UPDATED ANSWER</em></p>\n<p>Here is an efficient Cypher query that returns a boolean <code>isEmpty</code> result.</p>\n<pre><code>OPTIONAL MATCH (n)\nRETURN n IS NULL AS isEmpty\nLIMIT 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5027663,"reputation":323,"user_id":4038971,"display_name":"Portable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489639274,"creation_date":1489639274,"answer_id":42825442,"question_id":31002700,"body_markdown":"    match (n) \r\n    return 1 \r\n    limit 1\r\n\r\n\r\nI hope Neo4J would bother less processing this query, knowing it doesnt has to bother counting or bother filtering as suggested in previous answers","title":"Verify if the database is empty in neo4j","body":"<pre><code>match (n) \nreturn 1 \nlimit 1\n</code></pre>\n\n<p>I hope Neo4J would bother less processing this query, knowing it doesnt has to bother counting or bother filtering as suggested in previous answers</p>\n"}],"owner":{"account_id":5254521,"reputation":227,"user_id":4197766,"accept_rate":50,"display_name":"Jessica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1191,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1664331859,"creation_date":1435062169,"question_id":31002700,"body_markdown":"I&#39;m working on neo4j in java and I have one question. When I create a node, how can I verify that the database is empty?\r\n\r\nHere&#39;s my code to create a node:\r\n\r\n    br = new BufferedReader(new FileReader(csvFile));\r\n\t\t\t\r\n\t\t\twhile (br.ready()==true) {\r\n\t\t\t\ttransaction = graphDb.beginTx();\r\n\t\t\t\tint cont = 0;//limitador de tuplas por query\r\n\t\t\t\twhile ((line = br.readLine()) != null &amp;&amp; cont &lt; 10000) {\r\n\r\n\t\t\t\t\tString[] dado = line.split(cvsSplitBy);\r\n\r\n\t\t\t\t\t// inserir comando para criar o n&#243;s com a data\r\n\t\t\t\t\tNode no = graphDb.createNode();\r\n\t\t\t\t\tno.setProperty(&quot;data&quot;, dado[0]);\r\n\t\t\t\t\tno.setProperty(&quot;temperatura&quot;, dado[1]);\r\n\t\t\t\t\tno.setProperty(&quot;latitude&quot;, dado[2]);\r\n\t\t\t\t\tno.setProperty(&quot;longitude&quot;, dado[3]);\r\n\t\t\t\t\tno.setProperty(&quot;varia&#231;&#227;o&quot;, dado[4]);\r\n\r\n\t\t\t\t\tSystem.out.println(cont);\r\n\t\t\t\t\tcont++;\r\n\t\t\t\t}\r\n\t\t\t\ttransaction.success();\r\n\t\t\t\ttransaction.close();\r\n\t\t\t}","title":"Verify if the database is empty in neo4j","body":"<p>I'm working on neo4j in java and I have one question. When I create a node, how can I verify that the database is empty?</p>\n\n<p>Here's my code to create a node:</p>\n\n<pre><code>br = new BufferedReader(new FileReader(csvFile));\n\n        while (br.ready()==true) {\n            transaction = graphDb.beginTx();\n            int cont = 0;//limitador de tuplas por query\n            while ((line = br.readLine()) != null &amp;&amp; cont &lt; 10000) {\n\n                String[] dado = line.split(cvsSplitBy);\n\n                // inserir comando para criar o nós com a data\n                Node no = graphDb.createNode();\n                no.setProperty(\"data\", dado[0]);\n                no.setProperty(\"temperatura\", dado[1]);\n                no.setProperty(\"latitude\", dado[2]);\n                no.setProperty(\"longitude\", dado[3]);\n                no.setProperty(\"variação\", dado[4]);\n\n                System.out.println(cont);\n                cont++;\n            }\n            transaction.success();\n            transaction.close();\n        }\n</code></pre>\n"},{"tags":["java","wildfly"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1664474931,"post_id":73875524,"comment_id":130486454,"body_markdown":"Is `/opt/wildfly/bin/launch.sh` executable?","body":"Is <code>&#47;opt&#47;wildfly&#47;bin&#47;launch.sh</code> executable?"},{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1664793132,"post_id":73875524,"comment_id":130545098,"body_markdown":"Typo in &quot;EnvironmentFile&quot; (minus in front of the path) ?","body":"Typo in &quot;EnvironmentFile&quot; (minus in front of the path) ?"},{"owner":{"account_id":3389864,"reputation":418,"user_id":2844942,"display_name":"TheGabiRod"},"score":0,"creation_date":1669214614,"post_id":73875524,"comment_id":131594220,"body_markdown":"Verify the output of &quot;systemctl status wildfly.service&quot;, may be you can get some usefull information there.","body":"Verify the output of &quot;systemctl status wildfly.service&quot;, may be you can get some usefull information there."}],"owner":{"account_id":25659838,"reputation":11,"user_id":19425710,"display_name":"Sidev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664331396,"creation_date":1664331396,"question_id":73875524,"body_markdown":"I copy wildfly.service to /etc/systemd/system/ ,wildfly.conf to /etc/wildlfy/, launch.sh to wildfly/bin&lt;Br/&gt;\r\nbut when i try to use systemctl start wildfly to start the service\r\nthe service quit right away.&lt;br/&gt;\r\nhere is the message:\r\n```\r\n○ wildfly.service - The WildFly Application Server\r\n     Loaded: loaded (/etc/systemd/system/wildfly.service; enabled; vendor preset: enabled)\r\n     Active: inactive (dead) since Wed 2022-09-28 02:08:05 UTC; 10s ago\r\n    Process: 3549 ExecStart=/opt/wildfly/bin/launch.sh $WILDFLY_MODE $WILDFLY_CONFIG $WILDFLY_BIND (code=exited, status=0/SUCCESS)\r\n   Main PID: 3549 (code=exited, status=0/SUCCESS)\r\n        CPU: 49ms\r\n\r\nSep 28 02:08:05 test4 systemd[1]: Started The WildFly Application Server.\r\nSep 28 02:08:05 test4 systemd[1]: wildfly.service: Deactivated successfully.\r\n```\r\nWhen I directly execute /opt/wildfly/bin/launch.sh,the wildly could be started and I can visit the index page.\r\nhere is the wildfly.service\r\n```\r\n[Unit]\r\nDescription=The WildFly Application Server\r\nAfter=syslog.target network.target\r\nBefore=httpd.service\r\n\r\n[Service]\r\nEnvironment=LAUNCH_JBOSS_IN_BACKGROUND=1\r\nEnvironmentFile=-/etc/wildfly/wildfly.conf\r\nLimitNOFILE=102642\r\nPIDFile=/run/wildfly/wildfly.pid\r\nExecStart=/opt/wildfly/bin/launch.sh $WILDFLY_MODE $WILDFLY_CONFIG $WILDFLY_BIND\r\nStandardOutput=null\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\nWhat can I do to fix it","title":"I turn wildfly into a service and try to use systemctl to start it, but it exit right away","body":"<p>I copy wildfly.service to /etc/systemd/system/ ,wildfly.conf to /etc/wildlfy/, launch.sh to wildfly/bin<Br/>\nbut when i try to use systemctl start wildfly to start the service\nthe service quit right away.<br/>\nhere is the message:</p>\n<pre><code>○ wildfly.service - The WildFly Application Server\n     Loaded: loaded (/etc/systemd/system/wildfly.service; enabled; vendor preset: enabled)\n     Active: inactive (dead) since Wed 2022-09-28 02:08:05 UTC; 10s ago\n    Process: 3549 ExecStart=/opt/wildfly/bin/launch.sh $WILDFLY_MODE $WILDFLY_CONFIG $WILDFLY_BIND (code=exited, status=0/SUCCESS)\n   Main PID: 3549 (code=exited, status=0/SUCCESS)\n        CPU: 49ms\n\nSep 28 02:08:05 test4 systemd[1]: Started The WildFly Application Server.\nSep 28 02:08:05 test4 systemd[1]: wildfly.service: Deactivated successfully.\n</code></pre>\n<p>When I directly execute /opt/wildfly/bin/launch.sh,the wildly could be started and I can visit the index page.\nhere is the wildfly.service</p>\n<pre><code>[Unit]\nDescription=The WildFly Application Server\nAfter=syslog.target network.target\nBefore=httpd.service\n\n[Service]\nEnvironment=LAUNCH_JBOSS_IN_BACKGROUND=1\nEnvironmentFile=-/etc/wildfly/wildfly.conf\nLimitNOFILE=102642\nPIDFile=/run/wildfly/wildfly.pid\nExecStart=/opt/wildfly/bin/launch.sh $WILDFLY_MODE $WILDFLY_CONFIG $WILDFLY_BIND\nStandardOutput=null\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>What can I do to fix it</p>\n"},{"tags":["java","spring-boot","intellij-idea","localhost","http-status-code-200"],"comments":[{"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"score":0,"creation_date":1664307494,"post_id":73872384,"comment_id":130440612,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26461836,"reputation":1,"user_id":20103643,"display_name":"SNap97"},"score":0,"creation_date":1664307995,"post_id":73872384,"comment_id":130440747,"body_markdown":"This has nothing to do with the specific code I suspect. All of my other projects behave the same way.","body":"This has nothing to do with the specific code I suspect. All of my other projects behave the same way."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664305319,"creation_date":1664304942,"answer_id":73872558,"question_id":73872384,"body_markdown":"Check what&#39;s running on port 8080 using `sudo lsof -i :8080`. \r\n\r\nIt&#39;s likely you already have another service there. \r\n\r\n`localhost` can point to both IPv4 and IPv6 interfaces, so multiple apps can technically bind on the same port on `localhost`. \r\n\r\nThe solution would be to either [change your Spring Boot app port](https://www.baeldung.com/spring-boot-change-port) or kill the conflicting app / change its port.\r\n\r\nJava apps can be also forced to bind only to IPv4 interface using `-Djava.net.preferIPv4Stack=true` in the VM Options.","title":"Calling request localhost always returns status code 200","body":"<p>Check what's running on port 8080 using <code>sudo lsof -i :8080</code>.</p>\n<p>It's likely you already have another service there.</p>\n<p><code>localhost</code> can point to both IPv4 and IPv6 interfaces, so multiple apps can technically bind on the same port on <code>localhost</code>.</p>\n<p>The solution would be to either <a href=\"https://www.baeldung.com/spring-boot-change-port\" rel=\"nofollow noreferrer\">change your Spring Boot app port</a> or kill the conflicting app / change its port.</p>\n<p>Java apps can be also forced to bind only to IPv4 interface using <code>-Djava.net.preferIPv4Stack=true</code> in the VM Options.</p>\n"}],"owner":{"account_id":26461836,"reputation":1,"user_id":20103643,"display_name":"SNap97"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664331122,"creation_date":1664303884,"question_id":73872384,"body_markdown":"This is my very first question here. I am working on a Spring Boot application. Today I encountered a weird problem. \r\n\r\nWhen I run my app and call `POST http://localhost:8080/report` for example, I should get `pdf` in response or some type of error code if something went wrong, but instead I get status **200** OK without a body. \r\n\r\nWhen I tried to call a nonexistent service same thing happened. I put a breakpoint at the very first line of the implementation of this service but it never got there. \r\n\r\nI tried to reinstall Java, and IntelliJ, updated windows, and disabled the firewall. This morning it worked just fine. I don&#39;t really understand what happened and I&#39;m here to ask you what possibly could cause this.\r\n\r\nIt happened shortly after adding a certificate to Keystore, but I have done this so many times and this never happened before. Sorry for not being more specific, but I don&#39;t really know where to be specific because it suddenly stopped working.\r\n\r\n\r\nSince I am a windows user, I ran `netstat -ano -p tcp |find &quot;8080&quot;`, to check if the port is free. When the app is running I get  \r\n\r\n  \r\n\r\n    TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       12832\r\n\r\nwhen I stop the application, I do not get any output. Also tried changing the port to something else, but did not help.\r\n\r\n\r\n","title":"Calling request localhost always returns status code 200","body":"<p>This is my very first question here. I am working on a Spring Boot application. Today I encountered a weird problem.</p>\n<p>When I run my app and call <code>POST http://localhost:8080/report</code> for example, I should get <code>pdf</code> in response or some type of error code if something went wrong, but instead I get status <strong>200</strong> OK without a body.</p>\n<p>When I tried to call a nonexistent service same thing happened. I put a breakpoint at the very first line of the implementation of this service but it never got there.</p>\n<p>I tried to reinstall Java, and IntelliJ, updated windows, and disabled the firewall. This morning it worked just fine. I don't really understand what happened and I'm here to ask you what possibly could cause this.</p>\n<p>It happened shortly after adding a certificate to Keystore, but I have done this so many times and this never happened before. Sorry for not being more specific, but I don't really know where to be specific because it suddenly stopped working.</p>\n<p>Since I am a windows user, I ran <code>netstat -ano -p tcp |find &quot;8080&quot;</code>, to check if the port is free. When the app is running I get</p>\n<pre><code>TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       12832\n</code></pre>\n<p>when I stop the application, I do not get any output. Also tried changing the port to something else, but did not help.</p>\n"},{"tags":["java","audio","mp3","wav"],"comments":[{"owner":{"account_id":394686,"reputation":8118,"user_id":2750684,"accept_rate":91,"display_name":"Otra"},"score":1,"creation_date":1305725240,"post_id":6045384,"comment_id":55973123,"body_markdown":"Looks like you&#39;ll need a plugin of some sorts. JMF should have what you need. http://www.oracle.com/technetwork/java/javase/tech/index-jsp-140239.html","body":"Looks like you&#39;ll need a plugin of some sorts. JMF should have what you need. <a href=\"http://www.oracle.com/technetwork/java/javase/tech/index-jsp-140239.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/tech/index-jsp-140239.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":360595,"reputation":3659,"user_id":702669,"accept_rate":96,"display_name":"Stan"},"score":0,"creation_date":1305737427,"post_id":6045384,"comment_id":55973124,"body_markdown":"Well, i&#39;m not sure how to use these things, i&#39;ve never used them before. How can I implent it, how can I use it?","body":"Well, i&#39;m not sure how to use these things, i&#39;ve never used them before. How can I implent it, how can I use it?"},{"owner":{"account_id":1876057,"reputation":1944,"user_id":1697249,"accept_rate":84,"display_name":"joshreesjones"},"score":0,"creation_date":1400110926,"post_id":6045384,"comment_id":55973125,"body_markdown":"JFM was abandoned in 2003. It is not recommended that you use it.","body":"JFM was abandoned in 2003. It is not recommended that you use it."},{"owner":{"account_id":2456349,"reputation":1752,"user_id":2141469,"display_name":"Andr&#233; Willik Valenti"},"score":5,"creation_date":1430509240,"post_id":6045384,"comment_id":48107223,"body_markdown":"It&#39;s worth noting that, in a `main` method, it&#39;s necessary to add a `Thread.sleep` in order to hear the sound, or else the program will end before that happens. A useful way to do that is: `Thread.sleep(clip.getMicrosecondLength() / 1000);`","body":"It&#39;s worth noting that, in a <code>main</code> method, it&#39;s necessary to add a <code>Thread.sleep</code> in order to hear the sound, or else the program will end before that happens. A useful way to do that is: <code>Thread.sleep(clip.getMicrosecondLength() &#47; 1000);</code>"}],"answers":[{"tags":[],"owner":{"account_id":374247,"reputation":14568,"user_id":724357,"accept_rate":100,"display_name":"Spencer Rathbun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314304097,"creation_date":1305725351,"answer_id":6045516,"question_id":6045384,"body_markdown":"Do a search of freshmeat.net for JAVE (stands for Java Audio Video Encoder) Library (link [here](http://freshmeat.net/projects/jave)). It&#39;s a library for these kinds of things. I don&#39;t know if Java has a native mp3 function. \r\n\r\nYou will probably need to wrap the mp3 function and the wav function together, using inheritance and a simple wrapper function, if you want one method to run both types of files.","title":"Playing .mp3 and .wav in Java?","body":"<p>Do a search of freshmeat.net for JAVE (stands for Java Audio Video Encoder) Library (link <a href=\"http://freshmeat.net/projects/jave\" rel=\"nofollow\">here</a>). It's a library for these kinds of things. I don't know if Java has a native mp3 function. </p>\n\n<p>You will probably need to wrap the mp3 function and the wav function together, using inheritance and a simple wrapper function, if you want one method to run both types of files.</p>\n"},{"tags":[],"owner":{"account_id":4871,"reputation":48611,"user_id":7532,"accept_rate":87,"display_name":"Mark Heath"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1305801289,"creation_date":1305801289,"answer_id":6057304,"question_id":6045384,"body_markdown":"It&#39;s been a while since I used it, but [JavaLayer][1] is great for MP3 playback\r\n\r\n\r\n  [1]: http://www.javazoom.net/javalayer/javalayer.html","title":"Playing .mp3 and .wav in Java?","body":"<p>It's been a while since I used it, but <a href=\"http://www.javazoom.net/javalayer/javalayer.html\">JavaLayer</a> is great for MP3 playback</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1344417628,"creation_date":1305805637,"answer_id":6058147,"question_id":6045384,"body_markdown":"To add MP3 reading support to Java Sound, add the `mp3plugin.jar` of the JMF to the run-time class path of the application.\r\n\r\nNote that the `Clip` class has memory limitations that make it unsuitable for more than a few seconds of high quality sound.","title":"Playing .mp3 and .wav in Java?","body":"<p>To add MP3 reading support to Java Sound, add the <code>mp3plugin.jar</code> of the JMF to the run-time class path of the application.</p>\n\n<p>Note that the <code>Clip</code> class has memory limitations that make it unsuitable for more than a few seconds of high quality sound.</p>\n"},{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1306864540,"creation_date":1306864540,"answer_id":6191516,"question_id":6045384,"body_markdown":"I wrote a pure java mp3 player: [mp3transform][1].\r\n\r\n\r\n  [1]: http://code.google.com/p/mp3transform/","title":"Playing .mp3 and .wav in Java?","body":"<p>I wrote a pure java mp3 player: <a href=\"http://code.google.com/p/mp3transform/\">mp3transform</a>.</p>\n"},{"tags":[],"owner":{"account_id":1420446,"reputation":1310,"user_id":1345184,"display_name":"jasonwaste"},"down_vote_count":3,"up_vote_count":130,"is_accepted":true,"score":127,"last_activity_date":1566054501,"creation_date":1334872476,"answer_id":10237397,"question_id":6045384,"body_markdown":"Java FX has `Media` and `MediaPlayer` classes which will play mp3 files.\r\n\r\nExample code: \r\n\r\n    String bip = &quot;bip.mp3&quot;;\r\n    Media hit = new Media(new File(bip).toURI().toString());\r\n    MediaPlayer mediaPlayer = new MediaPlayer(hit);\r\n    mediaPlayer.play();\r\n\r\nYou will need the following import statements:\r\n\r\n    import java.io.File;\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;","title":"Playing .mp3 and .wav in Java?","body":"<p>Java FX has <code>Media</code> and <code>MediaPlayer</code> classes which will play mp3 files.</p>\n\n<p>Example code: </p>\n\n<pre><code>String bip = \"bip.mp3\";\nMedia hit = new Media(new File(bip).toURI().toString());\nMediaPlayer mediaPlayer = new MediaPlayer(hit);\nmediaPlayer.play();\n</code></pre>\n\n<p>You will need the following import statements:</p>\n\n<pre><code>import java.io.File;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1554961,"reputation":73,"user_id":1446384,"display_name":"Kasun Shamentha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1339261606,"creation_date":1339259524,"answer_id":10962641,"question_id":6045384,"body_markdown":"You need to install JMF first ([download using this link][1])\r\n\r\n    File f = new File(&quot;D:/Songs/preview.mp3&quot;);\r\n    MediaLocator ml = new MediaLocator(f.toURL());\r\n    Player p = Manager.createPlayer(ml);\r\n    p.start();\r\n\r\n\r\ndon&#39;t forget to add JMF jar files\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/download-142937.html","title":"Playing .mp3 and .wav in Java?","body":"<p>You need to install JMF first (<a href=\"http://www.oracle.com/technetwork/java/javase/download-142937.html\" rel=\"nofollow\">download using this link</a>)</p>\n\n<pre><code>File f = new File(\"D:/Songs/preview.mp3\");\nMediaLocator ml = new MediaLocator(f.toURL());\nPlayer p = Manager.createPlayer(ml);\np.start();\n</code></pre>\n\n<p>don't forget to add JMF jar files</p>\n"},{"tags":[],"owner":{"account_id":1769725,"reputation":199,"user_id":1614792,"display_name":"Gustavo Marques"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1345568610,"creation_date":1345568331,"answer_id":12059638,"question_id":6045384,"body_markdown":"you can play .wav only with java API:\r\n\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n\r\ncode:\r\n\r\n    AudioInputStream audioIn = AudioSystem.getAudioInputStream(MyClazz.class.getResource(&quot;music.wav&quot;));\r\n    Clip clip = AudioSystem.getClip();\r\n    clip.open(audioIn);\r\n    clip.start();\r\n\r\nAnd play .mp3 with jLayer","title":"Playing .mp3 and .wav in Java?","body":"<p>you can play .wav only with java API:</p>\n\n<pre><code>import javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>AudioInputStream audioIn = AudioSystem.getAudioInputStream(MyClazz.class.getResource(\"music.wav\"));\nClip clip = AudioSystem.getClip();\nclip.open(audioIn);\nclip.start();\n</code></pre>\n\n<p>And play .mp3 with jLayer</p>\n"},{"tags":[],"owner":{"account_id":235346,"reputation":2122,"user_id":502106,"display_name":"oldo"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1646223757,"creation_date":1374203225,"answer_id":17737483,"question_id":6045384,"body_markdown":"Using standard javax.sound API, lightweight Maven dependencies, completely Open Source (**Java 7** or later required), this should be able to play most WAVs, OGG Vorbis and MP3 files:\r\n\r\n**pom.xml**:\r\n\r\n     &lt;!-- \r\n        We have to explicitly instruct Maven to use tritonus-share 0.3.7-2 \r\n        and NOT 0.3.7-1, otherwise vorbisspi won&#39;t work.\r\n       --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tritonus-share&lt;/artifactId&gt;\r\n      &lt;version&gt;0.3.7-2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mp3spi&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.5-1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;vorbisspi&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.3-1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Code**:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    import javax.sound.sampled.AudioFormat;\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.DataLine.Info;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.SourceDataLine;\r\n    import javax.sound.sampled.UnsupportedAudioFileException;\r\n    \r\n    import static javax.sound.sampled.AudioSystem.getAudioInputStream;\r\n    import static javax.sound.sampled.AudioFormat.Encoding.PCM_SIGNED;\r\n    \r\n    public class AudioFilePlayer {\r\n     \r\n        public static void main(String[] args) {\r\n            final AudioFilePlayer player = new AudioFilePlayer ();\r\n            player.play(&quot;something.mp3&quot;);\r\n            player.play(&quot;something.ogg&quot;);\r\n        }\r\n     \r\n        public void play(String filePath) {\r\n            final File file = new File(filePath);\r\n     \r\n            try (final AudioInputStream in = getAudioInputStream(file)) {\r\n                 \r\n                final AudioFormat outFormat = getOutFormat(in.getFormat());\r\n                final Info info = new Info(SourceDataLine.class, outFormat);\r\n     \r\n                try (final SourceDataLine line =\r\n                         (SourceDataLine) AudioSystem.getLine(info)) {\r\n     \r\n                    if (line != null) {\r\n                        line.open(outFormat);\r\n                        line.start();\r\n                        stream(getAudioInputStream(outFormat, in), line);\r\n                        line.drain();\r\n                        line.stop();\r\n                    }\r\n                }\r\n     \r\n            } catch (UnsupportedAudioFileException \r\n                   | LineUnavailableException \r\n                   | IOException e) {\r\n                throw new IllegalStateException(e);\r\n            }\r\n        }\r\n     \r\n        private AudioFormat getOutFormat(AudioFormat inFormat) {\r\n            final int ch = inFormat.getChannels();\r\n\r\n            final float rate = inFormat.getSampleRate();\r\n            return new AudioFormat(PCM_SIGNED, rate, 16, ch, ch * 2, rate, false);\r\n        }\r\n     \r\n        private void stream(AudioInputStream in, SourceDataLine line) \r\n            throws IOException {\r\n            final byte[] buffer = new byte[4096];\r\n            for (int n = 0; n != -1; n = in.read(buffer, 0, buffer.length)) {\r\n                line.write(buffer, 0, n);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**References**:\r\n\r\n* http://odoepner.wordpress.com/2013/07/19/play-mp3-using-javax-sound-sampled-api-and-mp3spi/\r\n\r\n","title":"Playing .mp3 and .wav in Java?","body":"<p>Using standard javax.sound API, lightweight Maven dependencies, completely Open Source (<strong>Java 7</strong> or later required), this should be able to play most WAVs, OGG Vorbis and MP3 files:</p>\n<p><strong>pom.xml</strong>:</p>\n<pre><code> &lt;!-- \n    We have to explicitly instruct Maven to use tritonus-share 0.3.7-2 \n    and NOT 0.3.7-1, otherwise vorbisspi won't work.\n   --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\n  &lt;artifactId&gt;tritonus-share&lt;/artifactId&gt;\n  &lt;version&gt;0.3.7-2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\n  &lt;artifactId&gt;mp3spi&lt;/artifactId&gt;\n  &lt;version&gt;1.9.5-1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.soundlibs&lt;/groupId&gt;\n  &lt;artifactId&gt;vorbisspi&lt;/artifactId&gt;\n  &lt;version&gt;1.0.3-1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Code</strong>:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.DataLine.Info;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.SourceDataLine;\nimport javax.sound.sampled.UnsupportedAudioFileException;\n\nimport static javax.sound.sampled.AudioSystem.getAudioInputStream;\nimport static javax.sound.sampled.AudioFormat.Encoding.PCM_SIGNED;\n\npublic class AudioFilePlayer {\n \n    public static void main(String[] args) {\n        final AudioFilePlayer player = new AudioFilePlayer ();\n        player.play(&quot;something.mp3&quot;);\n        player.play(&quot;something.ogg&quot;);\n    }\n \n    public void play(String filePath) {\n        final File file = new File(filePath);\n \n        try (final AudioInputStream in = getAudioInputStream(file)) {\n             \n            final AudioFormat outFormat = getOutFormat(in.getFormat());\n            final Info info = new Info(SourceDataLine.class, outFormat);\n \n            try (final SourceDataLine line =\n                     (SourceDataLine) AudioSystem.getLine(info)) {\n \n                if (line != null) {\n                    line.open(outFormat);\n                    line.start();\n                    stream(getAudioInputStream(outFormat, in), line);\n                    line.drain();\n                    line.stop();\n                }\n            }\n \n        } catch (UnsupportedAudioFileException \n               | LineUnavailableException \n               | IOException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n \n    private AudioFormat getOutFormat(AudioFormat inFormat) {\n        final int ch = inFormat.getChannels();\n\n        final float rate = inFormat.getSampleRate();\n        return new AudioFormat(PCM_SIGNED, rate, 16, ch, ch * 2, rate, false);\n    }\n \n    private void stream(AudioInputStream in, SourceDataLine line) \n        throws IOException {\n        final byte[] buffer = new byte[4096];\n        for (int n = 0; n != -1; n = in.read(buffer, 0, buffer.length)) {\n            line.write(buffer, 0, n);\n        }\n    }\n}\n</code></pre>\n<p><strong>References</strong>:</p>\n<ul>\n<li><a href=\"http://odoepner.wordpress.com/2013/07/19/play-mp3-using-javax-sound-sampled-api-and-mp3spi/\" rel=\"nofollow noreferrer\">http://odoepner.wordpress.com/2013/07/19/play-mp3-using-javax-sound-sampled-api-and-mp3spi/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1087577,"reputation":1768,"user_id":1082933,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1394468663,"creation_date":1394468192,"answer_id":22305518,"question_id":6045384,"body_markdown":"I would recommend using the BasicPlayerAPI. It&#39;s open source, very simple and it doesn&#39;t require JavaFX.\r\nhttp://www.javazoom.net/jlgui/api.html\r\n\r\nAfter downloading and extracting the zip-file one should add the following jar-files to the build path of the project:\r\n\r\n - basicplayer3.0.jar\r\n - **all** the jars from the **lib** directory (inside BasicPlayer3.0)\r\n\r\nHere is a minimalistic usage example:\r\n\r\n\tString songName = &quot;HungryKidsofHungary-ScatteredDiamonds.mp3&quot;;\r\n\tString pathToMp3 = System.getProperty(&quot;user.dir&quot;) +&quot;/&quot;+ songName;\r\n\tBasicPlayer player = new BasicPlayer();\r\n\ttry {\r\n\t\tplayer.open(new URL(&quot;file:///&quot; + pathToMp3));\r\n\t\tplayer.play();\r\n\t} catch (BasicPlayerException | MalformedURLException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nRequired imports:\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import javazoom.jlgui.basicplayer.BasicPlayer;\r\n    import javazoom.jlgui.basicplayer.BasicPlayerException;\r\n\r\nThat&#39;s all you need to start playing music. The Player is starting and managing his own playback thread and provides **play, pause, resume, stop** and **seek** functionality.\r\n\r\nFor a more advanced usage you may take a look at the jlGui Music Player. It&#39;s an open source WinAmp clone: http://www.javazoom.net/jlgui/jlgui.html\r\n\r\nThe first class to look at would be **PlayerUI** (inside the package javazoom.jlgui.player.amp).\r\nIt demonstrates the advanced features of the BasicPlayer pretty well.\r\n","title":"Playing .mp3 and .wav in Java?","body":"<p>I would recommend using the BasicPlayerAPI. It's open source, very simple and it doesn't require JavaFX.\n<a href=\"http://www.javazoom.net/jlgui/api.html\">http://www.javazoom.net/jlgui/api.html</a></p>\n\n<p>After downloading and extracting the zip-file one should add the following jar-files to the build path of the project:</p>\n\n<ul>\n<li>basicplayer3.0.jar</li>\n<li><strong>all</strong> the jars from the <strong>lib</strong> directory (inside BasicPlayer3.0)</li>\n</ul>\n\n<p>Here is a minimalistic usage example:</p>\n\n<pre><code>String songName = \"HungryKidsofHungary-ScatteredDiamonds.mp3\";\nString pathToMp3 = System.getProperty(\"user.dir\") +\"/\"+ songName;\nBasicPlayer player = new BasicPlayer();\ntry {\n    player.open(new URL(\"file:///\" + pathToMp3));\n    player.play();\n} catch (BasicPlayerException | MalformedURLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Required imports:</p>\n\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URL;\nimport javazoom.jlgui.basicplayer.BasicPlayer;\nimport javazoom.jlgui.basicplayer.BasicPlayerException;\n</code></pre>\n\n<p>That's all you need to start playing music. The Player is starting and managing his own playback thread and provides <strong>play, pause, resume, stop</strong> and <strong>seek</strong> functionality.</p>\n\n<p>For a more advanced usage you may take a look at the jlGui Music Player. It's an open source WinAmp clone: <a href=\"http://www.javazoom.net/jlgui/jlgui.html\">http://www.javazoom.net/jlgui/jlgui.html</a></p>\n\n<p>The first class to look at would be <strong>PlayerUI</strong> (inside the package javazoom.jlgui.player.amp).\nIt demonstrates the advanced features of the BasicPlayer pretty well.</p>\n"},{"tags":[],"owner":{"account_id":4642728,"reputation":142,"user_id":3762070,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1442159052,"creation_date":1403321321,"answer_id":24337995,"question_id":6045384,"body_markdown":"The easiest way I found was to download the JLayer jar file from http://www.javazoom.net/javalayer/sources.html and to add it to the Jar library http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29\r\n\r\nHere is the code for the class\r\n\r\n    public class SimplePlayer {\r\n\r\n\t    public SimplePlayer(){\r\n\t\t\r\n\t\t    try{\r\n\t\t\t\r\n\t\t         FileInputStream fis = new FileInputStream(&quot;File location.&quot;);\r\n\t\t         Player playMP3 = new Player(fis);\r\n\t\t\r\n\t\t         playMP3.play();\r\n\t\t\r\n\t\t    }  catch(Exception e){\r\n                 System.out.println(e);\r\n               }\r\n\t    } \r\n    }\r\n\r\n and here are the imports\r\n\r\n    import javazoom.jl.player.*;\r\n    import java.io.FileInputStream;","title":"Playing .mp3 and .wav in Java?","body":"<p>The easiest way I found was to download the JLayer jar file from <a href=\"http://www.javazoom.net/javalayer/sources.html\" rel=\"noreferrer\">http://www.javazoom.net/javalayer/sources.html</a> and to add it to the Jar library <a href=\"http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29\" rel=\"noreferrer\">http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29</a></p>\n\n<p>Here is the code for the class</p>\n\n<pre><code>public class SimplePlayer {\n\n    public SimplePlayer(){\n\n        try{\n\n             FileInputStream fis = new FileInputStream(\"File location.\");\n             Player playMP3 = new Player(fis);\n\n             playMP3.play();\n\n        }  catch(Exception e){\n             System.out.println(e);\n           }\n    } \n}\n</code></pre>\n\n<p>and here are the imports</p>\n\n<pre><code>import javazoom.jl.player.*;\nimport java.io.FileInputStream;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1337709,"reputation":1053,"user_id":1292393,"accept_rate":100,"display_name":"Mr. Xymon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1664330961,"creation_date":1425474820,"answer_id":28855429,"question_id":6045384,"body_markdown":"To give the readers another alternative, I am suggesting JACo MP3 Player library, a cross platform java mp3 player. \r\n\r\nFeatures:\r\n\r\n - very low CPU usage (~2%) \r\n - incredible small library (~90KB)\r\n - doesn&#39;t need JMF (Java Media Framework)\r\n - easy to integrate in any application\r\n - easy to integrate in any web page (as applet).\r\n\r\nFor a complete list of its methods and attributes you can check its documentation [here][1].\r\n\r\nSample code:\r\n\r\n    import jaco.mp3.player.MP3Player;\r\n    import java.io.File;\r\n    \r\n    public class Example1 {\r\n      public static void main(String[] args) {\r\n        new MP3Player(new File(&quot;test.mp3&quot;)).play();\r\n      }\r\n    }\r\n\r\nFor more details, I created a simple tutorial [here][2] that includes a downloadable sourcecode.\r\n\r\nUPDATE(2022)\r\n\r\nThe download link at that page does not work anymore, but there is a [sourceforge project][3]\r\n\r\n\r\n  [1]: http://jacomp3player.sourceforge.net/guide/javadocs/jaco/mp3/player/MP3Player.html\r\n  [2]: https://sites.google.com/site/teachmemrxymon/java/how-to-use-mp3player-class\r\n  [3]: https://jacomp3player.sourceforge.net/","title":"Playing .mp3 and .wav in Java?","body":"<p>To give the readers another alternative, I am suggesting JACo MP3 Player library, a cross platform java mp3 player.</p>\n<p>Features:</p>\n<ul>\n<li>very low CPU usage (~2%)</li>\n<li>incredible small library (~90KB)</li>\n<li>doesn't need JMF (Java Media Framework)</li>\n<li>easy to integrate in any application</li>\n<li>easy to integrate in any web page (as applet).</li>\n</ul>\n<p>For a complete list of its methods and attributes you can check its documentation <a href=\"http://jacomp3player.sourceforge.net/guide/javadocs/jaco/mp3/player/MP3Player.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Sample code:</p>\n<pre><code>import jaco.mp3.player.MP3Player;\nimport java.io.File;\n\npublic class Example1 {\n  public static void main(String[] args) {\n    new MP3Player(new File(&quot;test.mp3&quot;)).play();\n  }\n}\n</code></pre>\n<p>For more details, I created a simple tutorial <a href=\"https://sites.google.com/site/teachmemrxymon/java/how-to-use-mp3player-class\" rel=\"nofollow noreferrer\">here</a> that includes a downloadable sourcecode.</p>\n<p>UPDATE(2022)</p>\n<p>The download link at that page does not work anymore, but there is a <a href=\"https://jacomp3player.sourceforge.net/\" rel=\"nofollow noreferrer\">sourceforge project</a></p>\n"},{"tags":[],"owner":{"account_id":13434516,"reputation":3,"user_id":9693350,"display_name":"Akila Lekamge"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1524600264,"creation_date":1524600264,"answer_id":50009953,"question_id":6045384,"body_markdown":"Use this library: import sun.audio.*;\r\n\r\n    public void Sound(String Path){\r\n\t\ttry{\r\n\t\t\tInputStream in = new FileInputStream(new File(Path));\r\n\t\t\tAudioStream audios = new AudioStream(in);\r\n\t\t\tAudioPlayer.player.start(audios);\r\n\t\t}\r\n\t\tcatch(Exception e){}\r\n\t}","title":"Playing .mp3 and .wav in Java?","body":"<p>Use this library: import sun.audio.*;</p>\n\n<pre><code>public void Sound(String Path){\n    try{\n        InputStream in = new FileInputStream(new File(Path));\n        AudioStream audios = new AudioStream(in);\n        AudioPlayer.player.start(audios);\n    }\n    catch(Exception e){}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14387232,"reputation":101,"user_id":10392878,"display_name":"niks"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1562439761,"creation_date":1562439761,"answer_id":56916894,"question_id":6045384,"body_markdown":"Using [MP3 Decoder/player/converter][1] Maven Dependency.\r\n\r\n    import javazoom.jl.decoder.JavaLayerException;\r\n    import javazoom.jl.player.Player;\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n\r\n    public class PlayAudio{\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n\r\n        try {\r\n            FileInputStream fileInputStream = new FileInputStream(&quot;mp.mp3&quot;);\r\n            Player player = new Player((fileInputStream));\r\n            player.play();\r\n            System.out.println(&quot;Song is playing&quot;);\r\n            while(true){\r\n                System.out.println(player.getPosition());\r\n            }\r\n        }catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javazoom/jlayer","title":"Playing .mp3 and .wav in Java?","body":"<p>Using <a href=\"https://mvnrepository.com/artifact/javazoom/jlayer\" rel=\"nofollow noreferrer\">MP3 Decoder/player/converter</a> Maven Dependency.</p>\n\n<pre><code>import javazoom.jl.decoder.JavaLayerException;\nimport javazoom.jl.player.Player;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\n\npublic class PlayAudio{\n\npublic static void main(String[] args) throws FileNotFoundException {\n\n    try {\n        FileInputStream fileInputStream = new FileInputStream(\"mp.mp3\");\n        Player player = new Player((fileInputStream));\n        player.play();\n        System.out.println(\"Song is playing\");\n        while(true){\n            System.out.println(player.getPosition());\n        }\n    }catch (Exception e){\n        System.out.println(e);\n    }\n\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16722653,"reputation":121,"user_id":12087120,"display_name":"Fridjato Part Fridjat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576141908,"creation_date":1576076307,"answer_id":59288554,"question_id":6045384,"body_markdown":"I have other methods for that, the first is :\r\n\r\n    public static void playAudio(String filePath){\r\n    \r\n        try{\r\n            InputStream mus = new FileInputStream(new File(filePath));\r\n            AudioStream aud = new AudioStream(mus);\r\n        }catch(Exception e){\r\n            JOptionPane.showMessageDialig(null, &quot;You have an Error&quot;);\r\n        }\r\n\r\nAnd the second is :\r\n\r\n    try{\r\n        JFXPanel x = JFXPanel();\r\n        String u = new File(&quot;021.mp3&quot;).toURI().toString();\r\n        new MediaPlayer(new Media(u)).play();\r\n    } catch(Exception e){\r\n        JOPtionPane.showMessageDialog(null, e);\r\n    }\r\n\r\nAnd if we want to make loop to this audio we use this method.\r\n\r\n    try{\r\n        AudioData d = new AudioStream(new FileInputStream(filePath)).getData();\r\n        ContinuousAudioDataStream s = new ContinuousAudioDataStream(d);\r\n        AudioPlayer.player.start(s);\r\n    } catch(Exception ex){\r\n        JOPtionPane.showMessageDialog(null, ex);\r\n    }\r\n\r\nif we want to stop this loop we add this libreries in the try:\r\n    \r\n    AudioPlayer.player.stop(s);\r\n\r\nfor this third method we add the folowing imports :\r\n\r\n    import java.io.FileInputStream;\r\n    import sun.audio.AudioData;\r\n    import sun.audio.AudioStream;\r\n    import sun.audio.ContinuousAudioDataStream;","title":"Playing .mp3 and .wav in Java?","body":"<p>I have other methods for that, the first is :</p>\n\n<pre><code>public static void playAudio(String filePath){\n\n    try{\n        InputStream mus = new FileInputStream(new File(filePath));\n        AudioStream aud = new AudioStream(mus);\n    }catch(Exception e){\n        JOptionPane.showMessageDialig(null, \"You have an Error\");\n    }\n</code></pre>\n\n<p>And the second is :</p>\n\n<pre><code>try{\n    JFXPanel x = JFXPanel();\n    String u = new File(\"021.mp3\").toURI().toString();\n    new MediaPlayer(new Media(u)).play();\n} catch(Exception e){\n    JOPtionPane.showMessageDialog(null, e);\n}\n</code></pre>\n\n<p>And if we want to make loop to this audio we use this method.</p>\n\n<pre><code>try{\n    AudioData d = new AudioStream(new FileInputStream(filePath)).getData();\n    ContinuousAudioDataStream s = new ContinuousAudioDataStream(d);\n    AudioPlayer.player.start(s);\n} catch(Exception ex){\n    JOPtionPane.showMessageDialog(null, ex);\n}\n</code></pre>\n\n<p>if we want to stop this loop we add this libreries in the try:</p>\n\n<pre><code>AudioPlayer.player.stop(s);\n</code></pre>\n\n<p>for this third method we add the folowing imports :</p>\n\n<pre><code>import java.io.FileInputStream;\nimport sun.audio.AudioData;\nimport sun.audio.AudioStream;\nimport sun.audio.ContinuousAudioDataStream;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6064119,"reputation":1809,"user_id":4735043,"display_name":"Jin Lim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612662742,"creation_date":1612662742,"answer_id":66083832,"question_id":6045384,"body_markdown":"Nothing worked. but this one perfectly &#128076; \r\n----\r\n\r\ngoogle and download Jlayer library first.\r\n\r\n\r\n```\r\nimport javazoom.jl.player.Player;\r\nimport java.io.FileInputStream;\r\n\r\npublic class MusicPlay {\r\n\r\n  public static void main(String[] args)  {\r\n\r\n    try{\r\n\r\n      FileInputStream fs = new FileInputStream(&quot;audio_file_path.mp3&quot;);\r\n      Player player = new Player(fs);\r\n      player.play();\r\n\r\n    } catch (Exception e){\r\n      // catch exceptions.\r\n    }\r\n\r\n  }\r\n}\r\n```","title":"Playing .mp3 and .wav in Java?","body":"<h2>Nothing worked. but this one perfectly 👌</h2>\n<p>google and download Jlayer library first.</p>\n<pre><code>import javazoom.jl.player.Player;\nimport java.io.FileInputStream;\n\npublic class MusicPlay {\n\n  public static void main(String[] args)  {\n\n    try{\n\n      FileInputStream fs = new FileInputStream(&quot;audio_file_path.mp3&quot;);\n      Player player = new Player(fs);\n      player.play();\n\n    } catch (Exception e){\n      // catch exceptions.\n    }\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":360595,"reputation":3659,"user_id":702669,"accept_rate":96,"display_name":"Stan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443066,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":10237397,"answer_count":15,"score":123,"last_activity_date":1664330961,"creation_date":1305724867,"question_id":6045384,"body_markdown":"How can I play an `.mp3` and a `.wav` file in my Java application? I am using Swing. I tried looking on the internet, for something like this example:\r\n\r\n    public void playSound() {\r\n        try {\r\n            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(new File(&quot;D:/MusicPlayer/fml.mp3&quot;).getAbsoluteFile());\r\n            Clip clip = AudioSystem.getClip();\r\n            clip.open(audioInputStream);\r\n            clip.start();\r\n        } catch(Exception ex) {\r\n            System.out.println(&quot;Error with playing sound.&quot;);\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\nBut, this will only play `.wav` files.\r\n\r\nThe same with:\r\n\r\nhttp://www.javaworld.com/javaworld/javatips/jw-javatip24.html\r\n\r\nI want to be able to play both `.mp3` files and `.wav` files with the same method.","title":"Playing .mp3 and .wav in Java?","body":"<p>How can I play an <code>.mp3</code> and a <code>.wav</code> file in my Java application? I am using Swing. I tried looking on the internet, for something like this example:</p>\n\n<pre><code>public void playSound() {\n    try {\n        AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(new File(\"D:/MusicPlayer/fml.mp3\").getAbsoluteFile());\n        Clip clip = AudioSystem.getClip();\n        clip.open(audioInputStream);\n        clip.start();\n    } catch(Exception ex) {\n        System.out.println(\"Error with playing sound.\");\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>But, this will only play <code>.wav</code> files.</p>\n\n<p>The same with:</p>\n\n<p><a href=\"http://www.javaworld.com/javaworld/javatips/jw-javatip24.html\" rel=\"noreferrer\">http://www.javaworld.com/javaworld/javatips/jw-javatip24.html</a></p>\n\n<p>I want to be able to play both <code>.mp3</code> files and <code>.wav</code> files with the same method.</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664332177,"post_id":73875459,"comment_id":130445091,"body_markdown":"There seems to be no dry-run capability for message sending and trying to figure out your own permssions by looking at policy documents probably fails already at getting to all of them or once you encounter conditionals and all the complex interactions of policies. So.. sending dummy messages actually sounds like a nice alternative. Or you always grant your code permission to do something else on that queue, like getQueueAttributes and assume that one implies the other","body":"There seems to be no dry-run capability for message sending and trying to figure out your own permssions by looking at policy documents probably fails already at getting to all of them or once you encounter conditionals and all the complex interactions of policies. So.. sending dummy messages actually sounds like a nice alternative. Or you always grant your code permission to do something else on that queue, like getQueueAttributes and assume that one implies the other"},{"owner":{"display_name":"user20106248"},"score":0,"creation_date":1670646858,"post_id":73875459,"comment_id":131927023,"body_markdown":"GetQueueAttributes permission doesn&#39;t imply SendMessage permission because those are two distinct permissions in the SQS policy configuration. Looks like sending a dummy message is unavoidable.","body":"GetQueueAttributes permission doesn&#39;t imply SendMessage permission because those are two distinct permissions in the SQS policy configuration. Looks like sending a dummy message is unavoidable."}],"owner":{"display_name":"user20106248"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664330776,"creation_date":1664330657,"question_id":73875459,"body_markdown":"If I try to write an event to SQS using the `publish` or `publishBatch` API, and my service is not granted write permission, then the API call will throw an `SqsException` with a `403` status code.\r\n\r\nIs there any way I can check if my service has write permission to SQS without explicitly writing to that SQS?\r\n\r\nIf I call `publish` or `publishBatch` to check if I can write, then I have to send a dummy message. Is there a way I can perform this check cleanly without writing a dummy message?\r\n\r\nI am using the Java SDK.","title":"Check write permission to SQS without writing to SQS","body":"<p>If I try to write an event to SQS using the <code>publish</code> or <code>publishBatch</code> API, and my service is not granted write permission, then the API call will throw an <code>SqsException</code> with a <code>403</code> status code.</p>\n<p>Is there any way I can check if my service has write permission to SQS without explicitly writing to that SQS?</p>\n<p>If I call <code>publish</code> or <code>publishBatch</code> to check if I can write, then I have to send a dummy message. Is there a way I can perform this check cleanly without writing a dummy message?</p>\n<p>I am using the Java SDK.</p>\n"},{"tags":["java","networking","minecraft"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1664572104,"post_id":73861651,"comment_id":130510447,"body_markdown":"Minecraft packets are completely separate from TCP packets as TCP doesn&#39;t care what you call a packet.","body":"Minecraft packets are completely separate from TCP packets as TCP doesn&#39;t care what you call a packet."}],"answers":[{"tags":[],"owner":{"account_id":23952877,"reputation":33,"user_id":17944179,"display_name":"LoserEXE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664329591,"creation_date":1664329591,"answer_id":73875376,"question_id":73861651,"body_markdown":"Hey i figured it out when you send the username you need to add a byte before it to indicate the length of the username this as probably in the wiki sorry about that ","title":"Minecraft Client Server Login Protocol - Malformed public key bytes","body":"<p>Hey i figured it out when you send the username you need to add a byte before it to indicate the length of the username this as probably in the wiki sorry about that</p>\n"}],"owner":{"account_id":23952877,"reputation":33,"user_id":17944179,"display_name":"LoserEXE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73875376,"answer_count":1,"score":-2,"last_activity_date":1664329591,"creation_date":1664244401,"question_id":73861651,"body_markdown":"I was able to get the server list ping to work fine but when I moved on to the login protocol, I&#39;m having some issues. \r\n\r\nAfter some analysis with Wireshark it looks like its sending the handshake and login packets in the same packet. I&#39;m starting off with a offline login. Fom what I understand from the [Wiki][1], if you set `hasSigData` to false you don&#39;t need to send a public key and all that stuff. All I&#39;m sending over is the username, `hasSigData` as false, and `hasPlayerUUID` as true with a UUID v3 derived from the string `OfflinePlayer:[username]`. \r\n\r\nI have two questions:\r\n\r\n 1. Am I even encoding the login packet right. Yes the server I&#39;m trying to log in to is in offline mode. \r\n 2. How do I separate the packets?\r\n\r\n## Packet Hex dump from wireshark ##\r\n\r\n[![][2]][2]\r\n\r\nI have marked out where the data starts and roughly where the handshake packet ends and the login packet begins.\r\n\r\n## Server response ##\r\n\r\n    /[My IP] lost connection: Internal Exception: io.netty.handler.codec.DecoderException: Malformed public key bytes\r\n\r\n## My code ##\r\n\r\n### LoginStart Packet (Offlne) ###\r\n\r\n    public static byte[] getLoginStartPacket(String name) throws IOException {\r\n        ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n        DataOutputStream loginStart = new DataOutputStream(buffer);\r\n\r\n        UUID uuid = UUID.nameUUIDFromBytes(name.getBytes(StandardCharsets.UTF_8));\r\n\r\n        loginStart.writeByte(PACKET_ID);\r\n        loginStart.writeChars(name);\r\n        loginStart.writeBoolean(false);\r\n        loginStart.writeBoolean(true);\r\n        MinecraftUUID.writeBytes(loginStart, uuid);\r\n\r\n        return buffer.toByteArray();\r\n    }\r\n\r\n### Sending Packet ###\r\n\r\n        byte[] handshakeMessage = Handshake.getHandshakePacket(\r\n                    this.port,\r\n                    this.serverAddress,\r\n                    this.protocolVersion,\r\n                    2);\r\n\r\n        VarInt.write(dataOutputStream, handshakeMessage.length);\r\n        dataOutputStream.write(handshakeMessage);\r\n\r\n        byte[] login = LoginOfflineStart.getLoginStartPacket(name);\r\n        VarInt.write(dataOutputStream, login.length);\r\n        dataOutputStream.write(login);\r\n\r\n\r\n  [1]: https://wiki.vg/Protocol#Login_Start\r\n  [2]: https://i.stack.imgur.com/jz6ah.png","title":"Minecraft Client Server Login Protocol - Malformed public key bytes","body":"<p>I was able to get the server list ping to work fine but when I moved on to the login protocol, I'm having some issues.</p>\n<p>After some analysis with Wireshark it looks like its sending the handshake and login packets in the same packet. I'm starting off with a offline login. Fom what I understand from the <a href=\"https://wiki.vg/Protocol#Login_Start\" rel=\"nofollow noreferrer\">Wiki</a>, if you set <code>hasSigData</code> to false you don't need to send a public key and all that stuff. All I'm sending over is the username, <code>hasSigData</code> as false, and <code>hasPlayerUUID</code> as true with a UUID v3 derived from the string <code>OfflinePlayer:[username]</code>.</p>\n<p>I have two questions:</p>\n<ol>\n<li>Am I even encoding the login packet right. Yes the server I'm trying to log in to is in offline mode.</li>\n<li>How do I separate the packets?</li>\n</ol>\n<h2>Packet Hex dump from wireshark</h2>\n<p><a href=\"https://i.stack.imgur.com/jz6ah.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jz6ah.png\" alt=\"\" /></a></p>\n<p>I have marked out where the data starts and roughly where the handshake packet ends and the login packet begins.</p>\n<h2>Server response</h2>\n<pre><code>/[My IP] lost connection: Internal Exception: io.netty.handler.codec.DecoderException: Malformed public key bytes\n</code></pre>\n<h2>My code</h2>\n<h3>LoginStart Packet (Offlne)</h3>\n<pre><code>public static byte[] getLoginStartPacket(String name) throws IOException {\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n    DataOutputStream loginStart = new DataOutputStream(buffer);\n\n    UUID uuid = UUID.nameUUIDFromBytes(name.getBytes(StandardCharsets.UTF_8));\n\n    loginStart.writeByte(PACKET_ID);\n    loginStart.writeChars(name);\n    loginStart.writeBoolean(false);\n    loginStart.writeBoolean(true);\n    MinecraftUUID.writeBytes(loginStart, uuid);\n\n    return buffer.toByteArray();\n}\n</code></pre>\n<h3>Sending Packet</h3>\n<pre><code>    byte[] handshakeMessage = Handshake.getHandshakePacket(\n                this.port,\n                this.serverAddress,\n                this.protocolVersion,\n                2);\n\n    VarInt.write(dataOutputStream, handshakeMessage.length);\n    dataOutputStream.write(handshakeMessage);\n\n    byte[] login = LoginOfflineStart.getLoginStartPacket(name);\n    VarInt.write(dataOutputStream, login.length);\n    dataOutputStream.write(login);\n</code></pre>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664328618,"creation_date":1664328618,"answer_id":73875304,"question_id":73874974,"body_markdown":"You are facing with a typical trap of `java.util.Date#Date(int, int, int)` constructor:\r\n\r\n```\r\nParams:\r\n year – the year minus 1900. \r\n month – the month between 0-11. \r\n date – the day of the month between 1-31.\r\n```\r\n\r\nPlease note **year – the year minus 1900**, i.e. all dates you are using in unit tests are in the far future.\r\n\r\nPS.\r\n\r\nI do believe that checking the type of exception thrown is not enough, because all three branches throws the same `IllegalArgumentException` - you need to check exception message as well.\r\n","title":"How make a JUnit test that checks whether a date you entered is invalid or not","body":"<p>You are facing with a typical trap of <code>java.util.Date#Date(int, int, int)</code> constructor:</p>\n<pre><code>Params:\n year – the year minus 1900. \n month – the month between 0-11. \n date – the day of the month between 1-31.\n</code></pre>\n<p>Please note <strong>year – the year minus 1900</strong>, i.e. all dates you are using in unit tests are in the far future.</p>\n<p>PS.</p>\n<p>I do believe that checking the type of exception thrown is not enough, because all three branches throws the same <code>IllegalArgumentException</code> - you need to check exception message as well.</p>\n"},{"tags":[],"owner":{"account_id":3625596,"reputation":390,"user_id":3023327,"accept_rate":50,"display_name":"Demian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664329009,"creation_date":1664329009,"answer_id":73875327,"question_id":73874974,"body_markdown":"Consider moving to new **java.time.LocalDate**\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    public class Appointment {\r\n        private String appointmentId;\r\n        private LocalDate appointmentDate;\r\n        private String description;\r\n    \r\n        public Appointment(String appointmentId, LocalDate appointmentDate, String description) {\r\n            if (appointmentId == null || appointmentId.length() &gt; 10) {\r\n                //We will want to test for the exception\r\n                throw new IllegalArgumentException(&quot;Invalid input&quot;);\r\n            }\r\n            if (appointmentDate == null || appointmentDate.isBefore(LocalDate.now())) {\r\n                throw new IllegalArgumentException(&quot;Invalid date&quot;);\r\n            }\r\n            if (description == null || description.length() &gt; 50) {\r\n                throw new IllegalArgumentException(&quot;Invalid description&quot;);\r\n            }\r\n            this.appointmentId = appointmentId;\r\n            this.appointmentDate = appointmentDate;\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getAppointmentId() {\r\n            return appointmentId;\r\n        }\r\n    \r\n        public LocalDate getAppointmentDate() {\r\n            return appointmentDate;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nand:\r\n\r\n    import Appointment;\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.util.Calendar;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    \r\n    class AppointmentTest {\r\n    \r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n        @Test\r\n        void testAppointment() {\r\n            Appointment appointment = new Appointment(&quot;12121212&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\r\n            assertTrue(appointment.getAppointmentId().equals(&quot;12121212&quot;));\r\n            assertTrue(appointment.getAppointmentDate().equals(LocalDate.of(2023, Calendar.MAY, 26)));\r\n            assertTrue(appointment.getDescription().equals(&quot;This appointment involves a couple things&quot;));\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void testAppointmentIdToLong() {\r\n            Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n                new Appointment(&quot;121212124545&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\r\n            });\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n        @Test\r\n        void testDateInThePast() {\r\n            Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n                new Appointment(&quot;34345612&quot;, LocalDate.of(2022, Calendar.JUNE, 26), &quot;This appointment involves a couple things&quot;);\r\n            });\r\n        }\r\n    \r\n        @Test\r\n        void testAppointmentDescriptionToLong() {\r\n            Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n                new Appointment(&quot;34345612&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment description is very long and many people would not bother to read the whole thing and just skip over some parts&quot;);\r\n            });\r\n        }\r\n    \r\n    }","title":"How make a JUnit test that checks whether a date you entered is invalid or not","body":"<p>Consider moving to new <strong>java.time.LocalDate</strong></p>\n<pre><code>import java.time.LocalDate;\n\npublic class Appointment {\n    private String appointmentId;\n    private LocalDate appointmentDate;\n    private String description;\n\n    public Appointment(String appointmentId, LocalDate appointmentDate, String description) {\n        if (appointmentId == null || appointmentId.length() &gt; 10) {\n            //We will want to test for the exception\n            throw new IllegalArgumentException(&quot;Invalid input&quot;);\n        }\n        if (appointmentDate == null || appointmentDate.isBefore(LocalDate.now())) {\n            throw new IllegalArgumentException(&quot;Invalid date&quot;);\n        }\n        if (description == null || description.length() &gt; 50) {\n            throw new IllegalArgumentException(&quot;Invalid description&quot;);\n        }\n        this.appointmentId = appointmentId;\n        this.appointmentDate = appointmentDate;\n        this.description = description;\n    }\n\n    public String getAppointmentId() {\n        return appointmentId;\n    }\n\n    public LocalDate getAppointmentDate() {\n        return appointmentDate;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n}\n</code></pre>\n<p>and:</p>\n<pre><code>import Appointment;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.time.LocalDate;\nimport java.util.Calendar;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n\nclass AppointmentTest {\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Test\n    void testAppointment() {\n        Appointment appointment = new Appointment(&quot;12121212&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\n        assertTrue(appointment.getAppointmentId().equals(&quot;12121212&quot;));\n        assertTrue(appointment.getAppointmentDate().equals(LocalDate.of(2023, Calendar.MAY, 26)));\n        assertTrue(appointment.getDescription().equals(&quot;This appointment involves a couple things&quot;));\n\n    }\n\n    @Test\n    void testAppointmentIdToLong() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;121212124545&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\n        });\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Test\n    void testDateInThePast() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;34345612&quot;, LocalDate.of(2022, Calendar.JUNE, 26), &quot;This appointment involves a couple things&quot;);\n        });\n    }\n\n    @Test\n    void testAppointmentDescriptionToLong() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;34345612&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment description is very long and many people would not bother to read the whole thing and just skip over some parts&quot;);\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25399218,"reputation":59,"user_id":19209006,"display_name":"MachoMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73875327,"answer_count":2,"score":0,"last_activity_date":1664329009,"creation_date":1664324009,"question_id":73874974,"body_markdown":"I am trying to make a JUnit test that checks whether the inputs for an Appointment object are valid or not. I have finished making all the tests, but whenever I run the test, all of the tests pass except for one. For some reason the test testDateInThePast() is failing. Can someone point out the problem? Here is my code:\r\n\r\nAppointment.java\r\n\r\n        package appointment;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class Appointment {\r\n    \tprivate String appointmentId;\r\n    \tprivate Date appointmentDate;\r\n    \tprivate String description;\r\n    \t\r\n    \tpublic Appointment(String appointmentId, Date appointmentDate, String description) {\r\n    \t\tif(appointmentId == null || appointmentId.length() &gt; 10) {\r\n    \t\t\t//We will want to test for the exception\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid input&quot;);\r\n    \t\t}\r\n    \t\tif(appointmentDate == null || appointmentDate.before(new Date())) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid date&quot;);\r\n    \t\t}\r\n    \t\tif(description == null || description.length() &gt; 50) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid description&quot;);\r\n    \t\t}\r\n    \t\tthis.appointmentId = appointmentId;\r\n    \t\tthis.appointmentDate = appointmentDate;\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \t\r\n    \tpublic String getAppointmentId() {\r\n    \t\treturn appointmentId;\r\n    \t}\r\n    \t\r\n    \tpublic Date getAppointmentDate() {\r\n    \t\treturn appointmentDate;\r\n    \t}\r\n    \t\r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAppointmentTest.java\r\n\r\n        package test;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import appointment.Appointment;\r\n    \r\n    class AppointmentTest {\r\n    \r\n    \t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \t@Test\r\n    \tvoid testAppointment() {\r\n    \t\tAppointment appointment = new Appointment(&quot;12121212&quot;, new Date(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\r\n    \t\tassertTrue(appointment.getAppointmentId().equals(&quot;12121212&quot;));\r\n    \t\tassertTrue(appointment.getAppointmentDate().equals(new Date(2023, Calendar.MAY, 26)));\r\n    \t\tassertTrue(appointment.getDescription().equals(&quot;This appointment involves a couple things&quot;));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tvoid testAppointmentIdToLong() {\r\n    \t\tAssertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n    \t\t\tnew Appointment(&quot;121212124545&quot;, new Date(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \t@Test\r\n    \tvoid testDateInThePast() {\r\n    \t\tAssertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n    \t\t\tnew Appointment(&quot;34345612&quot;, new Date(2022, Calendar.JUNE, 26), &quot;This appointment involves a couple things&quot;);\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tvoid testAppointmentDescriptionToLong() {\r\n    \t\tAssertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n    \t\t\tnew Appointment(&quot;34345612&quot;,  new Date(2023, Calendar.MAY, 26), &quot;This appointment description is very long and many people would not bother to read the whole thing and just skip over some parts&quot;);\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How make a JUnit test that checks whether a date you entered is invalid or not","body":"<p>I am trying to make a JUnit test that checks whether the inputs for an Appointment object are valid or not. I have finished making all the tests, but whenever I run the test, all of the tests pass except for one. For some reason the test testDateInThePast() is failing. Can someone point out the problem? Here is my code:</p>\n<p>Appointment.java</p>\n<pre><code>    package appointment;\n\nimport java.util.Date;\n\npublic class Appointment {\n    private String appointmentId;\n    private Date appointmentDate;\n    private String description;\n    \n    public Appointment(String appointmentId, Date appointmentDate, String description) {\n        if(appointmentId == null || appointmentId.length() &gt; 10) {\n            //We will want to test for the exception\n            throw new IllegalArgumentException(&quot;Invalid input&quot;);\n        }\n        if(appointmentDate == null || appointmentDate.before(new Date())) {\n            throw new IllegalArgumentException(&quot;Invalid date&quot;);\n        }\n        if(description == null || description.length() &gt; 50) {\n            throw new IllegalArgumentException(&quot;Invalid description&quot;);\n        }\n        this.appointmentId = appointmentId;\n        this.appointmentDate = appointmentDate;\n        this.description = description;\n    }\n    \n    public String getAppointmentId() {\n        return appointmentId;\n    }\n    \n    public Date getAppointmentDate() {\n        return appointmentDate;\n    }\n    \n    public String getDescription() {\n        return description;\n    }\n    \n}\n</code></pre>\n<p>AppointmentTest.java</p>\n<pre><code>    package test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport java.util.Calendar;\nimport java.util.Date;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport appointment.Appointment;\n\nclass AppointmentTest {\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Test\n    void testAppointment() {\n        Appointment appointment = new Appointment(&quot;12121212&quot;, new Date(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\n        assertTrue(appointment.getAppointmentId().equals(&quot;12121212&quot;));\n        assertTrue(appointment.getAppointmentDate().equals(new Date(2023, Calendar.MAY, 26)));\n        assertTrue(appointment.getDescription().equals(&quot;This appointment involves a couple things&quot;));\n        \n    }\n    \n    @Test\n    void testAppointmentIdToLong() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;121212124545&quot;, new Date(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\n        });\n    }\n    \n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Test\n    void testDateInThePast() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;34345612&quot;, new Date(2022, Calendar.JUNE, 26), &quot;This appointment involves a couple things&quot;);\n        });\n    }\n    \n    @Test\n    void testAppointmentDescriptionToLong() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;34345612&quot;,  new Date(2023, Calendar.MAY, 26), &quot;This appointment description is very long and many people would not bother to read the whole thing and just skip over some parts&quot;);\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":6,"creation_date":1664318352,"post_id":73874431,"comment_id":130443193,"body_markdown":"Note that `BufferedReader#read()` reads a single **character** as an `int`. You&#39;re seeing the codepoint for `3`, `2`, and `1`, respectively. Using `System.out.println((char) choice)` will give you the expected output, but that likely won&#39;t help with the rest of your program when you write it. You need to parse the character into an integer. Personally, I would do this with `BufferedReader#readLine()` and process the returned `String`. Or use `Scanner` and its `nextInt()` method.","body":"Note that <code>BufferedReader#read()</code> reads a single <b>character</b> as an <code>int</code>. You&#39;re seeing the codepoint for <code>3</code>, <code>2</code>, and <code>1</code>, respectively. Using <code>System.out.println((char) choice)</code> will give you the expected output, but that likely won&#39;t help with the rest of your program when you write it. You need to parse the character into an integer. Personally, I would do this with <code>BufferedReader#readLine()</code> and process the returned <code>String</code>. Or use <code>Scanner</code> and its <code>nextInt()</code> method."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1664321123,"post_id":73874431,"comment_id":130443572,"body_markdown":"Every text character has a numeric code (codepoint) associated with it.  The first 128 codepoints are called [ASCII](https://www.asciitable.com).  Look up the values you’re getting (49, 50, 51) under the ‘Dec’ columns in that table.  (Dec stands for decimal, which means base 10 numbers.  Hx means hexadecimal, which is base 16, and Oct means octal, which is base 8.)  When you find the row where the Dec value is 49, 50, or 51, look rightward:  what character (under the ‘Chr’ column) corresponds to each of those values?","body":"Every text character has a numeric code (codepoint) associated with it.  The first 128 codepoints are called <a href=\"https://www.asciitable.com\" rel=\"nofollow noreferrer\">ASCII</a>.  Look up the values you’re getting (49, 50, 51) under the ‘Dec’ columns in that table.  (Dec stands for decimal, which means base 10 numbers.  Hx means hexadecimal, which is base 16, and Oct means octal, which is base 8.)  When you find the row where the Dec value is 49, 50, or 51, look rightward:  what character (under the ‘Chr’ column) corresponds to each of those values?"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1664322466,"post_id":73874431,"comment_id":130443753,"body_markdown":"@Slaw, If your comment were an answer, I&#39;d upvote.","body":"@Slaw, If your comment were an answer, I&#39;d upvote."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1664329064,"post_id":73874431,"comment_id":130444686,"body_markdown":"@Mike I found some duplicates instead","body":"@Mike I found some duplicates instead"}],"owner":{"account_id":17940598,"reputation":15,"user_id":13035946,"display_name":"Malcolm Thompson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664328953,"answer_count":0,"score":0,"last_activity_date":1664328967,"creation_date":1664318234,"question_id":73874431,"body_markdown":"I&#39;m trying to use the BufferedReader class and I&#39;m getting a weird output compared to what I put in.\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    public class A1TCPClient {\r\n        public static void main(String[] args) throws Exception {\r\n        \r\n        System.out.println(&quot;Enter an integer 1, 2, or 3: &quot;);\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); //This basically like creating scanner class \r\n        int choice = br.read();\r\n        br.close();\r\n\r\n        System.out.println(choice);\r\n\r\n    }\r\nThis produces the output\r\n\r\n    Enter an integer 1, 2, or 3: \r\n    3          \r\n    51\r\nWith that I&#39;ll say 2 produces 50 and 1 produces 49... What went wrong here?\r\n\r\n","title":"Getting the wrong input with BufferedReader Class","body":"<p>I'm trying to use the BufferedReader class and I'm getting a weird output compared to what I put in.</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class A1TCPClient {\n    public static void main(String[] args) throws Exception {\n    \n    System.out.println(&quot;Enter an integer 1, 2, or 3: &quot;);\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); //This basically like creating scanner class \n    int choice = br.read();\n    br.close();\n\n    System.out.println(choice);\n\n}\n</code></pre>\n<p>This produces the output</p>\n<pre><code>Enter an integer 1, 2, or 3: \n3          \n51\n</code></pre>\n<p>With that I'll say 2 produces 50 and 1 produces 49... What went wrong here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664319666,"post_id":73874566,"comment_id":130443392,"body_markdown":"It would be better if you gave an example which just uses static data instead of including your user input code in the question, as that isn&#39;t the part you&#39;re asking about.","body":"It would be better if you gave an example which just uses static data instead of including your user input code in the question, as that isn&#39;t the part you&#39;re asking about."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1664332342,"post_id":73874566,"comment_id":130445115,"body_markdown":"What do you expect to happen if the count of `$` doesn’t match the array length?","body":"What do you expect to happen if the count of <code>$</code> doesn’t match the array length?"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664326894,"creation_date":1664320509,"answer_id":73874663,"question_id":73874566,"body_markdown":"Try this.\r\n\r\n    static Pattern PAT = Pattern.compile(&quot;\\\\$&quot;);\r\n\r\n    static String replaceWords(String s, String[] stickers) {\r\n        Iterator&lt;String&gt; i = Arrays.stream(stickers).iterator();\r\n        return PAT.matcher(s).replaceAll(m -&gt; i.next());\r\n    }\r\n\r\nand\r\n\r\n    String[] stickers= {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\r\n    String s = &quot;He$$$llo&quot;;\r\n    System.out.println(replaceWords(s, stickers));\r\n\r\noutput:\r\n\r\n    HeBEARRICESTEAKllo\r\n\r\n","title":"How can I replace each occurence of a specifc letter with a word from an array","body":"<p>Try this.</p>\n<pre><code>static Pattern PAT = Pattern.compile(&quot;\\\\$&quot;);\n\nstatic String replaceWords(String s, String[] stickers) {\n    Iterator&lt;String&gt; i = Arrays.stream(stickers).iterator();\n    return PAT.matcher(s).replaceAll(m -&gt; i.next());\n}\n</code></pre>\n<p>and</p>\n<pre><code>String[] stickers= {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\nString s = &quot;He$$$llo&quot;;\nSystem.out.println(replaceWords(s, stickers));\n</code></pre>\n<p>output:</p>\n<pre><code>HeBEARRICESTEAKllo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664328422,"creation_date":1664328422,"answer_id":73875282,"question_id":73874566,"body_markdown":"Acquire the number of tags (&quot;$&quot;) that need to be changed then iterate based on that number and sequentially change those tags with array elements. In the following method code, any number of tags can be supplied in any size of string. The tags will be sequentially changed based on what is contained as string elements within the supplied String[] Array.\r\n\r\nRead the comments in code:\r\n\r\n    /**\r\n     * This method will replace all of a specific string character tag encountered \r\n     * within a supplied string sequentially with a string element contained within \r\n     * the supplied String[] Array. \r\n     * &lt;p&gt;\r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\r\n     * \r\n     *    String[] array = {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\r\n     *    String inputString = &quot;He$$$ll$o Th$$er$e&quot;;\r\n     *    String modifiedString = replaceTagsWithArrayElements(inputString, &quot;$&quot;, array);\r\n     *    System.out.println(modifiedString);\r\n     * \r\n     * With the above example, the Console Window will display:\r\n     * \r\n     *    HeBEARRICESTEAKllBEARo ThRICESTEAKerBEARe&lt;/pre&gt;\r\n     * \r\n     * @param inputString (String) The supplied string to replace tags in. If \r\n     * null or an empty string is supplied then the same is returned.&lt;br&gt;\r\n     * \r\n     * @param tag (String) The tag within the string which needs to be sequentially \r\n     * replaced with supplied String[] array elements. The tag can only be a single \r\n     * character. If null or an empty string is supplied then an IllegalArumentException \r\n     * is thrown.&lt;br&gt;\r\n     * \r\n     * @param replacementArray (String[] Array) The supplied String[] Array which \r\n     * contains the strings that each encountered tag will be sequentially replaced \r\n     * with. If the supplied array is null or contains a length of 0 then an \r\n     * IllegalArumentException is thrown.&lt;br&gt;\r\n     * \r\n     * @return (String) The modified input string.\r\n     */\r\n    public static String replaceTagsWithArrayElements(String inputString, \r\n                             String tag, String[] replacementArray) {\r\n        // Validate Parameters..\r\n        if (inputString == null || inputString.isEmpty()) { \r\n            return inputString; \r\n        }\r\n        else if (tag == null || tag.length() &gt; 1) {\r\n            throw new IllegalArgumentException(&quot;replaceTagsWithArrayElements() &quot;\r\n                    + &quot;Method Error! Invalid Tag (&quot; + tag + &quot;) Supplied!&quot;);\r\n        }\r\n        else if (replacementArray.length == 0) {\r\n            throw new IllegalArgumentException(&quot;replaceTagsWithArrayElements() &quot;\r\n                    + &quot;Method Error! The supplied String[] Array is empty!&quot;);\r\n        }\r\n        \r\n        // Keep the supplied string intact. Use a worker variable (strg).\r\n        String strg = inputString;\r\n        \r\n        // See how many tags are contained within the supplied input string.\r\n        int numOfSigns = strg.replaceAll(&quot;[^&quot; + tag +&quot;]&quot;, &quot;&quot;).length();\r\n        \r\n        int ii = 0;  // index counter to supply String[] array element Strings\r\n        \r\n        // Iterate based on the number of tags...\r\n        for (int i = 0; i &lt; numOfSigns; i++) {\r\n            /* If the array index counter exceeds the length \r\n               of the array then reset the counter to 0.  */\r\n            if (ii &gt; replacementArray.length -1) { \r\n                ii = 0; \r\n            }\r\n            // Change the current Tag with the current array element.\r\n            strg = strg.substring(0, strg.indexOf(&quot;$&quot;)) \r\n                    + replacementArray[ii] + strg.substring(strg.indexOf(&quot;$&quot;) + 1);\r\n            ii++;  // Increment the array index counter by 1.\r\n        }\r\n        \r\n        return strg;   // Return the modified input string.\r\n    }\r\n    \r\nTo use the above method, you might do this:\r\n\r\n    String[] array = {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\r\n    String inputString = &quot;He$$$ll$o Th$$er$e&quot;;\r\n    String modifiedString = replaceTagsWithArrayElements(inputString, &quot;$&quot;, array);\r\n    System.out.println(modifiedString);\r\n\r\nThe Console Window should display:\r\n\r\n    HeBEARRICESTEAKllBEARo ThRICESTEAKerBEARe\r\n","title":"How can I replace each occurence of a specifc letter with a word from an array","body":"<p>Acquire the number of tags (&quot;$&quot;) that need to be changed then iterate based on that number and sequentially change those tags with array elements. In the following method code, any number of tags can be supplied in any size of string. The tags will be sequentially changed based on what is contained as string elements within the supplied String[] Array.</p>\n<p>Read the comments in code:</p>\n<pre><code>/**\n * This method will replace all of a specific string character tag encountered \n * within a supplied string sequentially with a string element contained within \n * the supplied String[] Array. \n * &lt;p&gt;\n * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\n * \n *    String[] array = {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\n *    String inputString = &quot;He$$$ll$o Th$$er$e&quot;;\n *    String modifiedString = replaceTagsWithArrayElements(inputString, &quot;$&quot;, array);\n *    System.out.println(modifiedString);\n * \n * With the above example, the Console Window will display:\n * \n *    HeBEARRICESTEAKllBEARo ThRICESTEAKerBEARe&lt;/pre&gt;\n * \n * @param inputString (String) The supplied string to replace tags in. If \n * null or an empty string is supplied then the same is returned.&lt;br&gt;\n * \n * @param tag (String) The tag within the string which needs to be sequentially \n * replaced with supplied String[] array elements. The tag can only be a single \n * character. If null or an empty string is supplied then an IllegalArumentException \n * is thrown.&lt;br&gt;\n * \n * @param replacementArray (String[] Array) The supplied String[] Array which \n * contains the strings that each encountered tag will be sequentially replaced \n * with. If the supplied array is null or contains a length of 0 then an \n * IllegalArumentException is thrown.&lt;br&gt;\n * \n * @return (String) The modified input string.\n */\npublic static String replaceTagsWithArrayElements(String inputString, \n                         String tag, String[] replacementArray) {\n    // Validate Parameters..\n    if (inputString == null || inputString.isEmpty()) { \n        return inputString; \n    }\n    else if (tag == null || tag.length() &gt; 1) {\n        throw new IllegalArgumentException(&quot;replaceTagsWithArrayElements() &quot;\n                + &quot;Method Error! Invalid Tag (&quot; + tag + &quot;) Supplied!&quot;);\n    }\n    else if (replacementArray.length == 0) {\n        throw new IllegalArgumentException(&quot;replaceTagsWithArrayElements() &quot;\n                + &quot;Method Error! The supplied String[] Array is empty!&quot;);\n    }\n    \n    // Keep the supplied string intact. Use a worker variable (strg).\n    String strg = inputString;\n    \n    // See how many tags are contained within the supplied input string.\n    int numOfSigns = strg.replaceAll(&quot;[^&quot; + tag +&quot;]&quot;, &quot;&quot;).length();\n    \n    int ii = 0;  // index counter to supply String[] array element Strings\n    \n    // Iterate based on the number of tags...\n    for (int i = 0; i &lt; numOfSigns; i++) {\n        /* If the array index counter exceeds the length \n           of the array then reset the counter to 0.  */\n        if (ii &gt; replacementArray.length -1) { \n            ii = 0; \n        }\n        // Change the current Tag with the current array element.\n        strg = strg.substring(0, strg.indexOf(&quot;$&quot;)) \n                + replacementArray[ii] + strg.substring(strg.indexOf(&quot;$&quot;) + 1);\n        ii++;  // Increment the array index counter by 1.\n    }\n    \n    return strg;   // Return the modified input string.\n}\n</code></pre>\n<p>To use the above method, you might do this:</p>\n<pre><code>String[] array = {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\nString inputString = &quot;He$$$ll$o Th$$er$e&quot;;\nString modifiedString = replaceTagsWithArrayElements(inputString, &quot;$&quot;, array);\nSystem.out.println(modifiedString);\n</code></pre>\n<p>The Console Window should display:</p>\n<pre><code>HeBEARRICESTEAKllBEARo ThRICESTEAKerBEARe\n</code></pre>\n"}],"owner":{"account_id":24409091,"reputation":7,"user_id":18336823,"display_name":"Nicolas Nino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1664328422,"creation_date":1664319501,"question_id":73874566,"body_markdown":"Im basically just trying to replace the character &#39;$&#39; with words that I have in this array. \r\nI also want it so that every time that character appears, it goes to the next word in the array. \r\n\r\nExample:\r\n\r\nArray = (&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;) \r\n\r\nString = &quot;He$$$llo&quot;\r\n\r\nOutput: HeBEARRICESTEAKllo\r\n\r\nAS you can see, it goes down sequentially through the array.\r\n\r\nThis is the code I have.\r\n\r\n```\r\n    private static String[] stickers= {&quot;PUMPKIN&quot;, &quot;BAT&quot;, &quot;WITCH&quot;, &quot;BAT&quot;};\r\n    public static void main(String[] args) {\r\n        int count=0;\r\n        char search = &#39;$&#39;;\r\n        String data_type,data,replacedata,updated_data;\r\n        Scanner scan = new Scanner(System.in);\r\n        do{\r\n            System.out.println(&quot;What type of data?&quot;);\r\n            data_type=scan.nextLine();\r\n            String updated_datatype = data_type.toLowerCase().replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n            System.out.println(&quot;Type your message: &quot;);\r\n            data=scan.nextLine();\r\n            for(int i=0;i&lt;data.length();i++){\r\n                if(data.charAt(i)==search)\r\n                    count++;\r\n            }\r\n            for(int j=0;j&lt;count;j++){\r\n                updated_data = data.replace(&quot;$&quot;, stickers[j]);\r\n                System.out.println(&quot;Your updated message is: &quot;+updated_data);\r\n            }\r\n            //System.out.println(&quot;Your word: &quot;+data+&quot; ,has this many occurances of $: &quot;+count);\r\n            //replacedata=data.replace(&#39;$&#39;, replacement&#39;&#39;)\r\n\r\n            //if (data_type==&quot;name&quot;);\r\n\r\n        }while(data_type!=&quot;exit&quot;);\r\n    }\r\n```\r\nAll this does for me is replace the all the characters with the element thats being iterated through the array. \r\n\r\nAlso, as you can tell, im fairly new to java and programming overall. Thanks!!\r\n","title":"How can I replace each occurence of a specifc letter with a word from an array","body":"<p>Im basically just trying to replace the character '$' with words that I have in this array.\nI also want it so that every time that character appears, it goes to the next word in the array.</p>\n<p>Example:</p>\n<p>Array = (&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;)</p>\n<p>String = &quot;He$$$llo&quot;</p>\n<p>Output: HeBEARRICESTEAKllo</p>\n<p>AS you can see, it goes down sequentially through the array.</p>\n<p>This is the code I have.</p>\n<pre><code>    private static String[] stickers= {&quot;PUMPKIN&quot;, &quot;BAT&quot;, &quot;WITCH&quot;, &quot;BAT&quot;};\n    public static void main(String[] args) {\n        int count=0;\n        char search = '$';\n        String data_type,data,replacedata,updated_data;\n        Scanner scan = new Scanner(System.in);\n        do{\n            System.out.println(&quot;What type of data?&quot;);\n            data_type=scan.nextLine();\n            String updated_datatype = data_type.toLowerCase().replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\n            System.out.println(&quot;Type your message: &quot;);\n            data=scan.nextLine();\n            for(int i=0;i&lt;data.length();i++){\n                if(data.charAt(i)==search)\n                    count++;\n            }\n            for(int j=0;j&lt;count;j++){\n                updated_data = data.replace(&quot;$&quot;, stickers[j]);\n                System.out.println(&quot;Your updated message is: &quot;+updated_data);\n            }\n            //System.out.println(&quot;Your word: &quot;+data+&quot; ,has this many occurances of $: &quot;+count);\n            //replacedata=data.replace('$', replacement'')\n\n            //if (data_type==&quot;name&quot;);\n\n        }while(data_type!=&quot;exit&quot;);\n    }\n</code></pre>\n<p>All this does for me is replace the all the characters with the element thats being iterated through the array.</p>\n<p>Also, as you can tell, im fairly new to java and programming overall. Thanks!!</p>\n"},{"tags":["java","performance","benchmarking","jit","microbenchmark"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":6,"creation_date":1273988704,"post_id":2842695,"comment_id":2885199,"body_markdown":"It&#39;s bedtime for me, so here&#39;s just a dumb comment with a link to get you started with reading the material: http://java.sun.com/docs/hotspot/HotSpotFAQ.html (check the &quot;Benchmarking&quot; chapters at bottom of TOC).","body":"It&#39;s bedtime for me, so here&#39;s just a dumb comment with a link to get you started with reading the material: <a href=\"http://java.sun.com/docs/hotspot/HotSpotFAQ.html\" rel=\"nofollow noreferrer\">java.sun.com/docs/hotspot/HotSpotFAQ.html</a> (check the &quot;Benchmarking&quot; chapters at bottom of TOC)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":11,"creation_date":1273994816,"post_id":2842695,"comment_id":2885428,"body_markdown":"Only 1 millionth as useful as benchmarking :-)","body":"Only 1 millionth as useful as benchmarking :-)"},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1275109664,"post_id":2842695,"comment_id":2987972,"body_markdown":"http://code.google.com/p/caliper/wiki/JavaMicrobenchmarks","body":"<a href=\"http://code.google.com/p/caliper/wiki/JavaMicrobenchmarks\" rel=\"nofollow noreferrer\">code.google.com/p/caliper/wiki/JavaMicrobenchmarks</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1664324370,"creation_date":1273988796,"answer_id":2842705,"question_id":2842695,"body_markdown":"*Note: This is a Java-centric answer, given the tags that the OP used.*\r\n\r\nThere is no definition of micro-benchmarking, but when I use it I mean a small artificial benchmark designed to test the performance of some specific hardware&lt;sup&gt;1&lt;/sup&gt; or language feature.  By contrast, a better (Java) benchmark is a real program designed to perform a real task.  (Drawing a hard line between the two cases is pointless, IMO, and I won&#39;t try.)\r\n\r\nThe danger of micro benchmarking is that it is easy to write a benchmark that gives results that are totally misleading.  Some common traps in Java micro-benchmarks are:\r\n\r\n  - writing code that the compiler can deduce does not useful work, and therefore optimize away entirely,\r\n  - not taking account of the &quot;lumpy&quot; nature of Java memory management (i.e. garbage collection), and\r\n  - not taking account of JVM startup effects; e.g. the time take to load and JIT compile classes, and (conversely) the execution speedup that happens once the methods have been JIT compiled.\r\n\r\nHowever, even once you have addressed the issues above, there is a systemic issue with micro-benchmarking that is impossible to address.  The code and behavior of a micro-benchmark frequently bears little relation to what you really care about; i.e. how *your* application is going to perform.  There are far too many &quot;hidden variables&quot; for you to be able to generalize from a micro-benchmark to typical Java programs, let alone to your program.\r\n\r\nFor these reasons, we regularly advise people *not to waste their time* with micro-benchmarks.  Instead, it is better to write simple and natural code, and use a profiler to identify areas that need to be hand optimized.  It usually turns out&lt;sup&gt;2&lt;/sup&gt; that the most significant performance problems in typical real-world applications are due to bad design of data structures and algorithms (including networking, database and threading-related bottlenecks) rather than the kind of fine-grained things that typical micro-benchmarks are trying to test.\r\n\r\n@BalusC has provided an excellent link to material on this topic in the [Hotspot FAQ][1] page.  And here is a link to an IBM whitepaper by [Brian Goetz][2].\r\n\r\nSee also: https://stackoverflow.com/questions/504103\r\n\r\n\r\n  [1]: http://java.sun.com/docs/hotspot/HotSpotFAQ.html#benchmarking_simple\r\n  [2]: http://www.ibm.com/developerworks/java/library/j-jtp12214/\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - Experts would not even try to do hardware benchmarking in Java.  There are too many &quot;complex things&quot; happening between the bytecodes and the hardware to draw valid / useful conclusions about hardware from the raw results.  You would be better off using a language that is closer to the hardware; e.g. C or even assembly code.&lt;br&gt;\r\n2 - I assert this without providing any supporting evidence.  And there are exceptions, of course.&lt;/sup&gt;","title":"What is microbenchmarking?","body":"<p><em>Note: This is a Java-centric answer, given the tags that the OP used.</em></p>\n<p>There is no definition of micro-benchmarking, but when I use it I mean a small artificial benchmark designed to test the performance of some specific hardware<sup>1</sup> or language feature.  By contrast, a better (Java) benchmark is a real program designed to perform a real task.  (Drawing a hard line between the two cases is pointless, IMO, and I won't try.)</p>\n<p>The danger of micro benchmarking is that it is easy to write a benchmark that gives results that are totally misleading.  Some common traps in Java micro-benchmarks are:</p>\n<ul>\n<li>writing code that the compiler can deduce does not useful work, and therefore optimize away entirely,</li>\n<li>not taking account of the &quot;lumpy&quot; nature of Java memory management (i.e. garbage collection), and</li>\n<li>not taking account of JVM startup effects; e.g. the time take to load and JIT compile classes, and (conversely) the execution speedup that happens once the methods have been JIT compiled.</li>\n</ul>\n<p>However, even once you have addressed the issues above, there is a systemic issue with micro-benchmarking that is impossible to address.  The code and behavior of a micro-benchmark frequently bears little relation to what you really care about; i.e. how <em>your</em> application is going to perform.  There are far too many &quot;hidden variables&quot; for you to be able to generalize from a micro-benchmark to typical Java programs, let alone to your program.</p>\n<p>For these reasons, we regularly advise people <em>not to waste their time</em> with micro-benchmarks.  Instead, it is better to write simple and natural code, and use a profiler to identify areas that need to be hand optimized.  It usually turns out<sup>2</sup> that the most significant performance problems in typical real-world applications are due to bad design of data structures and algorithms (including networking, database and threading-related bottlenecks) rather than the kind of fine-grained things that typical micro-benchmarks are trying to test.</p>\n<p>@BalusC has provided an excellent link to material on this topic in the <a href=\"http://java.sun.com/docs/hotspot/HotSpotFAQ.html#benchmarking_simple\" rel=\"nofollow noreferrer\">Hotspot FAQ</a> page.  And here is a link to an IBM whitepaper by <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp12214/\" rel=\"nofollow noreferrer\">Brian Goetz</a>.</p>\n<p>See also: <a href=\"https://stackoverflow.com/questions/504103\">How do I write a correct micro-benchmark in Java?</a></p>\n<hr />\n<p><sup>1 - Experts would not even try to do hardware benchmarking in Java.  There are too many &quot;complex things&quot; happening between the bytecodes and the hardware to draw valid / useful conclusions about hardware from the raw results.  You would be better off using a language that is closer to the hardware; e.g. C or even assembly code.<br>\n2 - I assert this without providing any supporting evidence.  And there are exceptions, of course.</sup></p>\n"},{"tags":[],"owner":{"account_id":117977,"reputation":51321,"user_id":308661,"display_name":"In silico"},"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1274135699,"creation_date":1273988835,"answer_id":2842707,"question_id":2842695,"body_markdown":"It means exactly what it says on the tin can - it&#39;s measuring the performance of something &quot;small&quot;, like a system call to the kernel of an operating system.\r\n\r\nThe danger is that people may use whatever results they obtain from microbenchmarking to dictate optimizations. And as we all know:\r\n\r\n&gt; We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of\r\n&gt; all evil&quot; -- Donald Knuth\r\n\r\nThere can be many factors that skew the result of microbenchmarks. Compiler optimizations is one of them. If the operation being measured takes so little time that whatever you use to measure it takes longer than the actual operation itself, your microbenchmarks will be skewed also.\r\n\r\nFor example, someone might take a microbenchmark of the overhead of `for` loops:\r\n\r\n    void TestForLoop()\r\n    {\r\n        time start = GetTime();\r\n\r\n        for(int i = 0; i &lt; 1000000000; ++i)\r\n        {\r\n        }\r\n\r\n        time elapsed = GetTime() - start;\r\n        time elapsedPerIteration = elapsed / 1000000000;\r\n        printf(&quot;Time elapsed for each iteration: %d\\n&quot;, elapsedPerIteration);\r\n    }\r\n\r\nObviously compilers can see that the loop does absolutely nothing and not generate any code for the loop at all. So the value of `elapsed` and `elapsedPerIteration` is pretty much useless.\r\n\r\nEven if the loop does something:\r\n\r\n    void TestForLoop()\r\n    {\r\n        int sum = 0;\r\n        time start = GetTime();\r\n\r\n        for(int i = 0; i &lt; 1000000000; ++i)\r\n        {\r\n            ++sum;\r\n        }\r\n\r\n        time elapsed = GetTime() - start;\r\n        time elapsedPerIteration = elapsed / 1000000000;\r\n        printf(&quot;Time elapsed for each iteration: %d\\n&quot;, elapsedPerIteration);\r\n    }\r\n\r\nThe compiler may see that the variable `sum` isn&#39;t going to be used for anything and optimize it away, and optimize away the for loop as well. But wait! What if we do this:\r\n\r\n    void TestForLoop()\r\n    {\r\n        int sum = 0;\r\n        time start = GetTime();\r\n\r\n        for(int i = 0; i &lt; 1000000000; ++i)\r\n        {\r\n            ++sum;\r\n        }\r\n\r\n        time elapsed = GetTime() - start;\r\n        time elapsedPerIteration = elapsed / 1000000000;\r\n        printf(&quot;Time elapsed for each iteration: %d\\n&quot;, elapsedPerIteration);\r\n        printf(&quot;Sum: %d\\n&quot;, sum); // Added\r\n    }\r\n\r\nThe compiler might be smart enough to realize that `sum` will always be a constant value, and optimize all that away as well. Many would be surprised at the optimizing capabilities of compilers these days.\r\n\r\nBut what about things that compilers can&#39;t optimize away?\r\n\r\n    void TestFileOpenPerformance()\r\n    {\r\n        FILE* file = NULL;\r\n        time start = GetTime();\r\n\r\n        for(int i = 0; i &lt; 1000000000; ++i)\r\n        {\r\n            file = fopen(&quot;testfile.dat&quot;);\r\n            fclose(file);\r\n        }\r\n\r\n        time elapsed = GetTime() - start;\r\n        time elapsedPerIteration = elapsed / 1000000000;\r\n        printf(&quot;Time elapsed for each file open: %d\\n&quot;, elapsedPerIteration);\r\n    }\r\n\r\nEven this is not a useful test! The operating system may see that the file is being opened very frequently, so it may preload it in memory to improve performance. Pretty much all operating systems do this. The same thing happens when you open applications - operating systems may figure out the top ~5 applications you open the most and preload the application code in memory when you boot up the computer!\r\n\r\nIn fact, there are countless variables that come into play: locality of reference (e.g. arrays vs. linked lists), effects of caches and memory bandwidth, compiler inlining, compiler implementation, compiler switches, number of processor cores, optimizations at the processor level, operating system schedulers, operating system background processes, etc.\r\n\r\nSo microbenchmarking isn&#39;t exactly a useful metric in a lot of cases. It definitely does not replace whole-program benchmarks with well-defined test cases (profiling). Write readable code first, then profile to see what needs to be done, if any.\r\n\r\nI would like to emphasize that microbenchmarks are not evil *per se*, but one has to use them carefully (that&#39;s true for lots of other things related to computers)","title":"What is microbenchmarking?","body":"<p>It means exactly what it says on the tin can - it's measuring the performance of something \"small\", like a system call to the kernel of an operating system.</p>\n\n<p>The danger is that people may use whatever results they obtain from microbenchmarking to dictate optimizations. And as we all know:</p>\n\n<blockquote>\n  <p>We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of\n  all evil\" -- Donald Knuth</p>\n</blockquote>\n\n<p>There can be many factors that skew the result of microbenchmarks. Compiler optimizations is one of them. If the operation being measured takes so little time that whatever you use to measure it takes longer than the actual operation itself, your microbenchmarks will be skewed also.</p>\n\n<p>For example, someone might take a microbenchmark of the overhead of <code>for</code> loops:</p>\n\n<pre><code>void TestForLoop()\n{\n    time start = GetTime();\n\n    for(int i = 0; i &lt; 1000000000; ++i)\n    {\n    }\n\n    time elapsed = GetTime() - start;\n    time elapsedPerIteration = elapsed / 1000000000;\n    printf(\"Time elapsed for each iteration: %d\\n\", elapsedPerIteration);\n}\n</code></pre>\n\n<p>Obviously compilers can see that the loop does absolutely nothing and not generate any code for the loop at all. So the value of <code>elapsed</code> and <code>elapsedPerIteration</code> is pretty much useless.</p>\n\n<p>Even if the loop does something:</p>\n\n<pre><code>void TestForLoop()\n{\n    int sum = 0;\n    time start = GetTime();\n\n    for(int i = 0; i &lt; 1000000000; ++i)\n    {\n        ++sum;\n    }\n\n    time elapsed = GetTime() - start;\n    time elapsedPerIteration = elapsed / 1000000000;\n    printf(\"Time elapsed for each iteration: %d\\n\", elapsedPerIteration);\n}\n</code></pre>\n\n<p>The compiler may see that the variable <code>sum</code> isn't going to be used for anything and optimize it away, and optimize away the for loop as well. But wait! What if we do this:</p>\n\n<pre><code>void TestForLoop()\n{\n    int sum = 0;\n    time start = GetTime();\n\n    for(int i = 0; i &lt; 1000000000; ++i)\n    {\n        ++sum;\n    }\n\n    time elapsed = GetTime() - start;\n    time elapsedPerIteration = elapsed / 1000000000;\n    printf(\"Time elapsed for each iteration: %d\\n\", elapsedPerIteration);\n    printf(\"Sum: %d\\n\", sum); // Added\n}\n</code></pre>\n\n<p>The compiler might be smart enough to realize that <code>sum</code> will always be a constant value, and optimize all that away as well. Many would be surprised at the optimizing capabilities of compilers these days.</p>\n\n<p>But what about things that compilers can't optimize away?</p>\n\n<pre><code>void TestFileOpenPerformance()\n{\n    FILE* file = NULL;\n    time start = GetTime();\n\n    for(int i = 0; i &lt; 1000000000; ++i)\n    {\n        file = fopen(\"testfile.dat\");\n        fclose(file);\n    }\n\n    time elapsed = GetTime() - start;\n    time elapsedPerIteration = elapsed / 1000000000;\n    printf(\"Time elapsed for each file open: %d\\n\", elapsedPerIteration);\n}\n</code></pre>\n\n<p>Even this is not a useful test! The operating system may see that the file is being opened very frequently, so it may preload it in memory to improve performance. Pretty much all operating systems do this. The same thing happens when you open applications - operating systems may figure out the top ~5 applications you open the most and preload the application code in memory when you boot up the computer!</p>\n\n<p>In fact, there are countless variables that come into play: locality of reference (e.g. arrays vs. linked lists), effects of caches and memory bandwidth, compiler inlining, compiler implementation, compiler switches, number of processor cores, optimizations at the processor level, operating system schedulers, operating system background processes, etc.</p>\n\n<p>So microbenchmarking isn't exactly a useful metric in a lot of cases. It definitely does not replace whole-program benchmarks with well-defined test cases (profiling). Write readable code first, then profile to see what needs to be done, if any.</p>\n\n<p>I would like to emphasize that microbenchmarks are not evil <em>per se</em>, but one has to use them carefully (that's true for lots of other things related to computers)</p>\n"},{"tags":[],"owner":{"account_id":26919,"reputation":9871,"user_id":70477,"accept_rate":67,"display_name":"Dan Davies Brackett"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1273989898,"creation_date":1273989898,"answer_id":2842730,"question_id":2842695,"body_markdown":"Microbenchmarking is benchmarking I don&#39;t think is worthwhile.  Effective benchmarking is benchmarking I think is worth the time.\r\n\r\nGenerally speaking, microbenchmarking is (as in silico says) attempting to measure the performance of some very granular task, which is both hard to do well and usually pointless in the context of actual performance headaches.","title":"What is microbenchmarking?","body":"<p>Microbenchmarking is benchmarking I don't think is worthwhile.  Effective benchmarking is benchmarking I think is worth the time.</p>\n\n<p>Generally speaking, microbenchmarking is (as in silico says) attempting to measure the performance of some very granular task, which is both hard to do well and usually pointless in the context of actual performance headaches.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1605817412,"creation_date":1273991402,"answer_id":2842778,"question_id":2842695,"body_markdown":"&gt; * What DOES it mean and what DOESN&#39;T it mean?\r\n\r\nI would say micro-benchmarking simply means measuring something tiny. Tiny is probably context dependent, but typically on the level of a single system call or something similar. Benchmarking refers to everything above. \r\n\r\n&gt; * What are some examples of what IS and ISN&#39;T microbenchmarking?\r\n\r\n[This](https://web.archive.org/web/20120419175805/http://blogs.microsoft.co.il/blogs/sasha/archive/2009/05/08/micro-benchmarking-considered-harmful.aspx) (archived) article lists *measuring time of a getpid() system call* and *measuring the time to copy memory using memcpy()* as examples of micro-benchmarking.\r\n\r\nAny measurement of an algorithm implementation etc would not count as micro-benchmarking. Especially result reports listing tasks with decreasing execution time probably seldom count as micro benchmarking.\r\n\r\n&gt; * What are the dangers of microbenchmarking and how do you avoid it?\r\n\r\nThe obvious danger is that it tempts developers to optimize the wrong parts of a program. Another danger is that it is notoriously difficult to do measurements of something small accurately. The easiest way to avoid it is probably just to get a good picture of where the most time is spent in the program.\r\n\r\nPeople usually say &quot;don&#39;t do micro-benchmarking&quot; but what they probably mean is &quot;don&#39;t make optimization decisions based on micro-benchmarks&quot;.\r\n\r\n&gt;  - (or is it a good thing?)\r\n\r\nIt&#39;s not at all a bad thing per se as others here, and many webpages seem to suggest. It has it&#39;s places. I work with program rewriting and runtime aspect weaving etc. We usually publish micro-benchmarks of our added instructions, not to guide any optimizations, but making sure that our extra code has close to no impact on the execution of the rewritten program.\r\n\r\nIt&#39;s an art however, especially in the context of a VM that has JIT, warm-up times etc. A well described approach for Java is descrbed [here](https://web.archive.org/web/20111225074029/http://www.cris.com:80/~Ttwang/tech/microbench.htm) (archived).","title":"What is microbenchmarking?","body":"<blockquote>\n<ul>\n<li>What DOES it mean and what DOESN'T it mean?</li>\n</ul>\n</blockquote>\n<p>I would say micro-benchmarking simply means measuring something tiny. Tiny is probably context dependent, but typically on the level of a single system call or something similar. Benchmarking refers to everything above.</p>\n<blockquote>\n<ul>\n<li>What are some examples of what IS and ISN'T microbenchmarking?</li>\n</ul>\n</blockquote>\n<p><a href=\"https://web.archive.org/web/20120419175805/http://blogs.microsoft.co.il/blogs/sasha/archive/2009/05/08/micro-benchmarking-considered-harmful.aspx\" rel=\"nofollow noreferrer\">This</a> (archived) article lists <em>measuring time of a getpid() system call</em> and <em>measuring the time to copy memory using memcpy()</em> as examples of micro-benchmarking.</p>\n<p>Any measurement of an algorithm implementation etc would not count as micro-benchmarking. Especially result reports listing tasks with decreasing execution time probably seldom count as micro benchmarking.</p>\n<blockquote>\n<ul>\n<li>What are the dangers of microbenchmarking and how do you avoid it?</li>\n</ul>\n</blockquote>\n<p>The obvious danger is that it tempts developers to optimize the wrong parts of a program. Another danger is that it is notoriously difficult to do measurements of something small accurately. The easiest way to avoid it is probably just to get a good picture of where the most time is spent in the program.</p>\n<p>People usually say &quot;don't do micro-benchmarking&quot; but what they probably mean is &quot;don't make optimization decisions based on micro-benchmarks&quot;.</p>\n<blockquote>\n<ul>\n<li>(or is it a good thing?)</li>\n</ul>\n</blockquote>\n<p>It's not at all a bad thing per se as others here, and many webpages seem to suggest. It has it's places. I work with program rewriting and runtime aspect weaving etc. We usually publish micro-benchmarks of our added instructions, not to guide any optimizations, but making sure that our extra code has close to no impact on the execution of the rewritten program.</p>\n<p>It's an art however, especially in the context of a VM that has JIT, warm-up times etc. A well described approach for Java is descrbed <a href=\"https://web.archive.org/web/20111225074029/http://www.cris.com:80/%7ETtwang/tech/microbench.htm\" rel=\"nofollow noreferrer\">here</a> (archived).</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619084419,"creation_date":1274023699,"answer_id":2844291,"question_id":2842695,"body_markdown":"Here are some good articles by Brian Goetz that explain why (micro)benchmarking is especially hard in Java:\r\n\r\n - [Dynamic compilation and performance measurement][1]\r\n - [Anatomy of a flawed microbenchmark][2]\r\n - [Garbage collection and performance][3]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20210228055617/https://www.ibm.com/developerworks/library/j-jtp12214/\r\n  [2]: https://web.archive.org/web/20090221111917/http://www.ibm.com/developerworks/java/library/j-jtp02225.html\r\n  [3]: https://web.archive.org/web/20090329224854/http://www.ibm.com/developerworks/java/library/j-jtp01274.html","title":"What is microbenchmarking?","body":"<p>Here are some good articles by Brian Goetz that explain why (micro)benchmarking is especially hard in Java:</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20210228055617/https://www.ibm.com/developerworks/library/j-jtp12214/\" rel=\"nofollow noreferrer\">Dynamic compilation and performance measurement</a></li>\n<li><a href=\"https://web.archive.org/web/20090221111917/http://www.ibm.com/developerworks/java/library/j-jtp02225.html\" rel=\"nofollow noreferrer\">Anatomy of a flawed microbenchmark</a></li>\n<li><a href=\"https://web.archive.org/web/20090329224854/http://www.ibm.com/developerworks/java/library/j-jtp01274.html\" rel=\"nofollow noreferrer\">Garbage collection and performance</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5136603,"reputation":161,"user_id":4115170,"display_name":"castilloRT"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594876702,"creation_date":1472918221,"answer_id":39308775,"question_id":2842695,"body_markdown":"The book &#39;Java Performance: The Definitive Guide&#39;\r\nhas this definition and example about microbenchmarks:\r\n\r\n1. Microbenchmarks\r\n    \r\n    A microbenchmark is a test designed to measure a very small unit\r\n    performance: the time to call a synchronized method versus a\r\n    non-synchronized method; the overhead in creating a thread versus using\r\n    a thread pool; the time to execute one arithmetic algoritm versus an\r\n    alternate implementation; and so on.\r\n    \r\n    Microbenchmarks may seem like a good idea, but they are very\r\n    difficult to write correctly. Consider the following code, which\r\n    is an attempt to write a microbenchmark that tests the performance of\r\n    different implementations of a method to compute the 50th Fibonacci\r\n    number:\r\n\r\n&gt;     public void doTest(){\r\n&gt;     double l;\r\n&gt;     long then = System.currentTimeMillis();\r\n&gt;     \r\n&gt;     for(int i = 0; i &lt; nLoops; i++){\r\n&gt;      l = fibImpl1(50);\r\n&gt;     }\r\n&gt;     \r\n&gt;     long now = system.currentTimeMillis();\r\n&gt;     System.out.println(&quot;Elapsed time: &quot; + (now - then))\r\n&gt;     \r\n&gt;     }\r\n&gt;     \r\n&gt;     ...\r\n&gt;     \r\n&gt;     private double fibImpl1(int n){\r\n&gt;     if(n &lt; 0) throw new IllegalArgumentException(&quot;Must be &gt; 0&quot;);\r\n&gt;     if(n == 0) return 0d;\r\n&gt;     if(n == 1) return 1d;\r\n&gt;     double d = fibImpl1(n - 2) + fibImpl(n - 1);\r\n&gt;     if(Double.isInfinited(d)) throw new ArithmeticException(&quot;Overflow&quot;);\r\n&gt;     return d;\r\n&gt;     }\r\n\r\nMicrobenchmarks must use their results.\r\n\r\nThe biggest problem with this code is that it never actually changes any program state. Because the result of the Fibonacci calculation is never used, the compiler is free to discard that calculation, A smart compiler (including current Java 7 and 8 compilers) will end up executing this code:\r\n\r\n&gt;     long then = System.currentTimeMillis();\r\n&gt;     long now = System.currentTimeMillis();\r\n&gt;     System.out.println(&quot;Elapsed time: &quot; + (now - then));\r\n\r\nAs a result, the elapsed time will be only a few milliseconds, regardless of the implementation of the Fibonacci method, or the number of times the loop is supposed to be executed.\r\n\r\nThere is a way around that particular issue: ensure that each result is read, nor simply written. In practice, changing the definition of l from a local variable to an instance variable (declared with the volatile keyword) will allow the performance of the method to be measured.\r\n\r\n\r\n\r\n","title":"What is microbenchmarking?","body":"<p>The book 'Java Performance: The Definitive Guide'\nhas this definition and example about microbenchmarks:</p>\n<ol>\n<li><p>Microbenchmarks</p>\n<p>A microbenchmark is a test designed to measure a very small unit\nperformance: the time to call a synchronized method versus a\nnon-synchronized method; the overhead in creating a thread versus using\na thread pool; the time to execute one arithmetic algoritm versus an\nalternate implementation; and so on.</p>\n<p>Microbenchmarks may seem like a good idea, but they are very\ndifficult to write correctly. Consider the following code, which\nis an attempt to write a microbenchmark that tests the performance of\ndifferent implementations of a method to compute the 50th Fibonacci\nnumber:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>public void doTest(){\ndouble l;\nlong then = System.currentTimeMillis();\n\nfor(int i = 0; i &lt; nLoops; i++){\n l = fibImpl1(50);\n}\n\nlong now = system.currentTimeMillis();\nSystem.out.println(&quot;Elapsed time: &quot; + (now - then))\n\n}\n\n...\n\nprivate double fibImpl1(int n){\nif(n &lt; 0) throw new IllegalArgumentException(&quot;Must be &gt; 0&quot;);\nif(n == 0) return 0d;\nif(n == 1) return 1d;\ndouble d = fibImpl1(n - 2) + fibImpl(n - 1);\nif(Double.isInfinited(d)) throw new ArithmeticException(&quot;Overflow&quot;);\nreturn d;\n}\n</code></pre>\n</blockquote>\n<p>Microbenchmarks must use their results.</p>\n<p>The biggest problem with this code is that it never actually changes any program state. Because the result of the Fibonacci calculation is never used, the compiler is free to discard that calculation, A smart compiler (including current Java 7 and 8 compilers) will end up executing this code:</p>\n<blockquote>\n<pre><code>long then = System.currentTimeMillis();\nlong now = System.currentTimeMillis();\nSystem.out.println(&quot;Elapsed time: &quot; + (now - then));\n</code></pre>\n</blockquote>\n<p>As a result, the elapsed time will be only a few milliseconds, regardless of the implementation of the Fibonacci method, or the number of times the loop is supposed to be executed.</p>\n<p>There is a way around that particular issue: ensure that each result is read, nor simply written. In practice, changing the definition of l from a local variable to an instance variable (declared with the volatile keyword) will allow the performance of the method to be measured.</p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28806,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":2842707,"answer_count":6,"score":90,"last_activity_date":1664324370,"creation_date":1273988479,"question_id":2842695,"body_markdown":"I&#39;ve heard this term used, but I&#39;m not entirely sure what it means, so:\r\n\r\n* What DOES it mean and what DOESN&#39;T it mean?\r\n* What are some examples of what IS and ISN&#39;T microbenchmarking?\r\n* What are the dangers of microbenchmarking and how do you avoid it?\r\n   * (or is it a good thing?)","title":"What is microbenchmarking?","body":"<p>I've heard this term used, but I'm not entirely sure what it means, so:</p>\n\n<ul>\n<li>What DOES it mean and what DOESN'T it mean?</li>\n<li>What are some examples of what IS and ISN'T microbenchmarking?</li>\n<li>What are the dangers of microbenchmarking and how do you avoid it?\n\n<ul>\n<li>(or is it a good thing?)</li>\n</ul></li>\n</ul>\n"},{"tags":["java","android","execution"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1664317718,"post_id":73874348,"comment_id":130443102,"body_markdown":"What&#39;s `I` in your `for` loop? Might that be a typo and it should actually be `i`? You&#39;re also missing an delcaration/ initialization for `array`.","body":"What&#39;s <code>I</code> in your <code>for</code> loop? Might that be a typo and it should actually be <code>i</code>? You&#39;re also missing an delcaration/ initialization for <code>array</code>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664317743,"post_id":73874348,"comment_id":130443105,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"score":0,"creation_date":1664318429,"post_id":73874348,"comment_id":130443207,"body_markdown":"Thanks, I updated the example to address the array and fix the I typo.","body":"Thanks, I updated the example to address the array and fix the I typo."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664318977,"post_id":73874348,"comment_id":130443288,"body_markdown":"That code is really incomplete and full of syntax errors it&#39;s really hard to understand. What you show couldn&#39;t produce a `IndexOutOfBoundsException` unless there are threads that modified `array` or maybe `magicList`. The exception you get should also include a line where it happened, that would very useful to know.","body":"That code is really incomplete and full of syntax errors it&#39;s really hard to understand. What you show couldn&#39;t produce a <code>IndexOutOfBoundsException</code> unless there are threads that modified <code>array</code> or maybe <code>magicList</code>. The exception you get should also include a line where it happened, that would very useful to know."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1664319233,"post_id":73874348,"comment_id":130443327,"body_markdown":"Also `case` is a reserved keyword which you cannot use as a variable/ parameter name.","body":"Also <code>case</code> is a reserved keyword which you cannot use as a variable/ parameter name."},{"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"score":0,"creation_date":1664319994,"post_id":73874348,"comment_id":130443436,"body_markdown":"Yes, thanks for the feedback. I tried to simply it and maybe made the code more confusing. And yes even with the simplification I made some errors. Hopefully the revised example is easier to understand. In the Google Play Console it doesn&#39;t provide with a line where the crash happened - as far as I know that only applies in Android Studio&#39;s Logcat.","body":"Yes, thanks for the feedback. I tried to simply it and maybe made the code more confusing. And yes even with the simplification I made some errors. Hopefully the revised example is easier to understand. In the Google Play Console it doesn&#39;t provide with a line where the crash happened - as far as I know that only applies in Android Studio&#39;s Logcat."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664320363,"post_id":73874348,"comment_id":130443485,"body_markdown":"if you have hardcoded `i &lt; 4` then yes, that code would always crash if `gameArray`  is not at least 4 long, in that code it&#39;s not changed from it&#39;s initial empty state from `new ArrayList&lt;&gt;()` at all before it hits that for loop. (in the version before it couldn&#39;t crash because you used .length()). Not sure what your actual code really does, but don&#39;t simplify the code to the point where it no longer correctly represents your actual code. Maybe post it as is and just replace irrelevant parts with comments. Java won&#39;t skip over code, it goes step by step through your code so that isn&#39;t it","body":"if you have hardcoded <code>i &lt; 4</code> then yes, that code would always crash if <code>gameArray</code>  is not at least 4 long, in that code it&#39;s not changed from it&#39;s initial empty state from <code>new ArrayList&lt;&gt;()</code> at all before it hits that for loop. (in the version before it couldn&#39;t crash because you used .length()). Not sure what your actual code really does, but don&#39;t simplify the code to the point where it no longer correctly represents your actual code. Maybe post it as is and just replace irrelevant parts with comments. Java won&#39;t skip over code, it goes step by step through your code so that isn&#39;t it"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664320798,"post_id":73874348,"comment_id":130443527,"body_markdown":"correction, `magicList` is empty, `gameArray` is whatever you pass in the method. `gameArray` still needs to be 4 long or ` gameArray.get(i)` fails.","body":"correction, <code>magicList</code> is empty, <code>gameArray</code> is whatever you pass in the method. <code>gameArray</code> still needs to be 4 long or ` gameArray.get(i)` fails."}],"answers":[{"tags":[],"owner":{"account_id":122115,"reputation":5060,"user_id":315702,"accept_rate":88,"display_name":"Mark McClelland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664324182,"creation_date":1664324182,"answer_id":73874992,"question_id":73874348,"body_markdown":"The short answer is NO — the `switch` statement itself is not asynchronous. It will be fully executed, and only after that will your `newMagicMethod()` be called.\r\n\r\nHowever, it seems that the code you provided is pseudo-code, since it wouldn&#39;t compile. For example, you can&#39;t declare an ArrayList inline within a method call, as you currently do here, where you presumably meant to use the `magicList` variable declared further up within `gameMethod()`:\r\n\r\n```\r\nnewMagicMethod(ArrayList magicList)\r\n```\r\n\r\nGiven that you&#39;ve only provided pseudo-code, here are a couple of things to consider:\r\n- Do you have any asynchronous calls in your `case` blocks? If so, you may have introduced a race condition where there&#39;s no guarantee that your collection will be populated before the call to `newMagicMethod()`.\r\n- Are you sure the logic in your `case` blocks guarantees that at least one object will end up in your collection? The most likely explanation here is that you failed to account for a scenario whereby your calls to `add()` will be bypassed. You can use breakpoints or logging to catch such unexpected scenarios.\r\n- Do you have a `default` block, where you log the fact that your collection will be empty, or maybe throw an exception? It&#39;s all-too-common for developers to assume they&#39;ve covered all cases in a `switch` statement, when in fact there are one or more cases for which they forgot to account.","title":"Java &amp; Order of Execution","body":"<p>The short answer is NO — the <code>switch</code> statement itself is not asynchronous. It will be fully executed, and only after that will your <code>newMagicMethod()</code> be called.</p>\n<p>However, it seems that the code you provided is pseudo-code, since it wouldn't compile. For example, you can't declare an ArrayList inline within a method call, as you currently do here, where you presumably meant to use the <code>magicList</code> variable declared further up within <code>gameMethod()</code>:</p>\n<pre><code>newMagicMethod(ArrayList magicList)\n</code></pre>\n<p>Given that you've only provided pseudo-code, here are a couple of things to consider:</p>\n<ul>\n<li>Do you have any asynchronous calls in your <code>case</code> blocks? If so, you may have introduced a race condition where there's no guarantee that your collection will be populated before the call to <code>newMagicMethod()</code>.</li>\n<li>Are you sure the logic in your <code>case</code> blocks guarantees that at least one object will end up in your collection? The most likely explanation here is that you failed to account for a scenario whereby your calls to <code>add()</code> will be bypassed. You can use breakpoints or logging to catch such unexpected scenarios.</li>\n<li>Do you have a <code>default</code> block, where you log the fact that your collection will be empty, or maybe throw an exception? It's all-too-common for developers to assume they've covered all cases in a <code>switch</code> statement, when in fact there are one or more cases for which they forgot to account.</li>\n</ul>\n"}],"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73874992,"answer_count":1,"score":-1,"last_activity_date":1664324182,"creation_date":1664317491,"question_id":73874348,"body_markdown":"I released my first Android app and I&#39;m attempting to troubleshoot some bugs that have resulted in crashes (as identified via the Google Play Console). \r\n\r\nThe code simplified the code as much as possible - the following method is called:\r\n\r\n```\r\nprivate void gameMethod(int switchCase, ArrayList gameArray) {\r\n\r\n\r\nboolean magicBoolean = false;\r\nArrayList magicList = new ArrayList&lt;&gt;();\r\n\r\nswitch(switchCase) {\r\n    case 1:\r\n          for(int i = 0; i &lt; 4; i++) {\r\n   \r\n              if(gameArray.get(i) == 2) {\r\n         \r\n                  magicBoolean = true;\r\n              } \r\n\r\n              if(magicBoolean) {\r\n                  magicList.add(gameArray.get(i));\r\n              } \r\n           }\r\n           break;\r\n\r\n     case 2:\r\n          // basic repeat of case 1\r\n          break;\r\n     case 3:\r\n          // basic repeat of case 1\r\n          break;\r\n                                                        \r\n}\r\n\r\n\r\nnewMagicMethod(ArrayList magicList);\r\n\r\n```\r\n\r\nAs you can see, the 2nd method (newMagicMethod) uses the magicList which is populated via the switch. The magicList size will never be 0, the first method is only called when the array has more than 1 item in it. \r\n\r\nIn my crash report it is telling me the following:\r\n\r\n**Exception java.lang.IndexOutOfBoundsException: Index: 0, Size: 0**\r\n\r\nSo I conclude that somehow the 2nd method is attempting to use the magicList (e.g find and use the 1st item on the list) and then crashes when the list is empty. \r\n\r\nMy question would be is there any way that the Java code would attempt to execute the call to the newMagicMethod() FIRST before the switch statement is executed. Obviously is this is the case this would explain how the arrayList could be empty and would cause a crash. Otherwise I have look for other reasons as to why the arrayList could be empty. \r\n\r\nIf I could confirm if code like this can execute out of order, I would figure out a way to resolve/define the order.\r\n","title":"Java &amp; Order of Execution","body":"<p>I released my first Android app and I'm attempting to troubleshoot some bugs that have resulted in crashes (as identified via the Google Play Console).</p>\n<p>The code simplified the code as much as possible - the following method is called:</p>\n<pre><code>private void gameMethod(int switchCase, ArrayList gameArray) {\n\n\nboolean magicBoolean = false;\nArrayList magicList = new ArrayList&lt;&gt;();\n\nswitch(switchCase) {\n    case 1:\n          for(int i = 0; i &lt; 4; i++) {\n   \n              if(gameArray.get(i) == 2) {\n         \n                  magicBoolean = true;\n              } \n\n              if(magicBoolean) {\n                  magicList.add(gameArray.get(i));\n              } \n           }\n           break;\n\n     case 2:\n          // basic repeat of case 1\n          break;\n     case 3:\n          // basic repeat of case 1\n          break;\n                                                        \n}\n\n\nnewMagicMethod(ArrayList magicList);\n\n</code></pre>\n<p>As you can see, the 2nd method (newMagicMethod) uses the magicList which is populated via the switch. The magicList size will never be 0, the first method is only called when the array has more than 1 item in it.</p>\n<p>In my crash report it is telling me the following:</p>\n<p><strong>Exception java.lang.IndexOutOfBoundsException: Index: 0, Size: 0</strong></p>\n<p>So I conclude that somehow the 2nd method is attempting to use the magicList (e.g find and use the 1st item on the list) and then crashes when the list is empty.</p>\n<p>My question would be is there any way that the Java code would attempt to execute the call to the newMagicMethod() FIRST before the switch statement is executed. Obviously is this is the case this would explain how the arrayList could be empty and would cause a crash. Otherwise I have look for other reasons as to why the arrayList could be empty.</p>\n<p>If I could confirm if code like this can execute out of order, I would figure out a way to resolve/define the order.</p>\n"},{"tags":["java","android","android-layout","android-activity"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1619808698,"post_id":67337779,"comment_id":119025709,"body_markdown":"sounds like a basic if/switch statement, no ?","body":"sounds like a basic if/switch statement, no ?"},{"owner":{"account_id":16893702,"reputation":13,"user_id":12216760,"display_name":"momo"},"score":0,"creation_date":1619810510,"post_id":67337779,"comment_id":119026324,"body_markdown":"@a_local_nobody yeah, i have the if else statement, but idk how to use the spinner, idk how to get the string array from XML file","body":"@a_local_nobody yeah, i have the if else statement, but idk how to use the spinner, idk how to get the string array from XML file"}],"answers":[{"tags":[],"owner":{"account_id":20349900,"reputation":36,"user_id":14926808,"display_name":"Zaleckz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619822629,"creation_date":1619808021,"answer_id":67338944,"question_id":67337779,"body_markdown":"You could either have a method in your second activity which updates the spinners adapter with a string array.\r\n\r\nOr you could have a public variable as an array which acts as your selected array. This array could be updated based on the selected state of the spinner. Then you can access this array from your second activity and use it when you set the adapter of your spinner. \r\n\r\nThe last one of the two is probably the easiest. \r\n\r\nHere is an example of how you could do it. First activity contains a spinner and a button which takes you to the second\r\n\r\nFirst activity:\r\n\r\n    //The spinner in the first activity\r\n    Spinner spinner;\r\n\r\n    //the lists that we use in our spinner\r\n    public List&lt;String&gt; asiaList = new ArrayList&lt;String&gt;();\r\n    public List&lt;String&gt; europeList = new ArrayList&lt;String&gt;();\r\n\r\n    //Our selected array\r\n    public List&lt;String&gt; selectedArray = new ArrayList&lt;String&gt;();\r\n\r\n\r\n    public static MainActivity mainActivity;\r\n\r\n    @SuppressLint(&quot;ResourceType&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mainActivity = this;\r\n\r\n\r\n        //Getting the xml arrays into our lists\r\n        getListInfo(getResources().getStringArray(R.array.asia), asiaList);\r\n        getListInfo(getResources().getStringArray(R.array.europe), europeList);\r\n\r\n\r\n\r\n        //Your spinner\r\n        spinner = findViewById(R.id.spinner1);\r\n\r\n        // Spinner Drop down elements\r\n        List&lt;String&gt; categories = new ArrayList&lt;String&gt;();\r\n\r\n        //Items in your first spinner;\r\n        categories.add(&quot;Asia&quot;);\r\n        categories.add(&quot;Europe&quot;);\r\n\r\n        // Creating adapter for spinner\r\n        ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, categories);\r\n\r\n        // Drop down layout style\r\n        dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        // attaching data adapter to spinner\r\n        spinner.setAdapter(dataAdapter);\r\n\r\n\r\n        //Isn&#39;t necessary and can be done by using spinner.getSelectedItemPosition()\r\n        // Spinner click listener\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                //If asia is selected\r\n                if(position == 0){\r\n                    selectedArray = asiaList;\r\n                }else{\r\n                    selectedArray = europeList;\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n    //function for your button to open next activity\r\n    public void OpenSecondActivity(View v){\r\n            Intent myIntent = new Intent(MainActivity.this, secondActivity.class);\r\n            startActivity(myIntent);\r\n    secondActivity.selectedArray = selectedArray;\r\n\r\n\r\n            \r\n\r\n    }\r\n\r\n\r\n    //Put xml strings into your array lists;\r\n    public void getListInfo(String[] strings, List&lt;String&gt; list){\r\n        for (int i = 0; i &lt; strings.length; i++) {\r\n            list.add(strings[i]);\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\nSecond Activity: \r\n\r\n    \r\n    //Spinner second class\r\n    Spinner spinner;\r\n\r\n    public static List&lt;String&gt; selectedArray = new ArrayList&lt;String&gt;();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_second);\r\n\r\n\r\n        spinner = findViewById(R.id.spinner2);\r\n\r\n\r\n        // Creating adapter for spinner and also reference the current list from first activity to get right info\r\n        ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, selectedArray);\r\n\r\n        // Drop down layout style\r\n        dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n        // attaching data adapter to spinner\r\n        spinner.setAdapter(dataAdapter);\r\n\r\n    }\r\n\r\n\r\n\r\nThe strings.xml:\r\n\r\n    &lt;string-array name=&quot;asia&quot;&gt;\r\n        &lt;item&gt;&quot;India&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;pakistan&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;China&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Japan&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Bangladesh&quot;&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;europe&quot;&gt;\r\n        &lt;item&gt;&quot;Sweden&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;England&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Spain&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Norway&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Germany&quot;&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n","title":"Android: Is there a way to switch the spinner array based on user input from other activity?","body":"<p>You could either have a method in your second activity which updates the spinners adapter with a string array.</p>\n<p>Or you could have a public variable as an array which acts as your selected array. This array could be updated based on the selected state of the spinner. Then you can access this array from your second activity and use it when you set the adapter of your spinner.</p>\n<p>The last one of the two is probably the easiest.</p>\n<p>Here is an example of how you could do it. First activity contains a spinner and a button which takes you to the second</p>\n<p>First activity:</p>\n<pre><code>//The spinner in the first activity\nSpinner spinner;\n\n//the lists that we use in our spinner\npublic List&lt;String&gt; asiaList = new ArrayList&lt;String&gt;();\npublic List&lt;String&gt; europeList = new ArrayList&lt;String&gt;();\n\n//Our selected array\npublic List&lt;String&gt; selectedArray = new ArrayList&lt;String&gt;();\n\n\npublic static MainActivity mainActivity;\n\n@SuppressLint(&quot;ResourceType&quot;)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mainActivity = this;\n\n\n    //Getting the xml arrays into our lists\n    getListInfo(getResources().getStringArray(R.array.asia), asiaList);\n    getListInfo(getResources().getStringArray(R.array.europe), europeList);\n\n\n\n    //Your spinner\n    spinner = findViewById(R.id.spinner1);\n\n    // Spinner Drop down elements\n    List&lt;String&gt; categories = new ArrayList&lt;String&gt;();\n\n    //Items in your first spinner;\n    categories.add(&quot;Asia&quot;);\n    categories.add(&quot;Europe&quot;);\n\n    // Creating adapter for spinner\n    ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, categories);\n\n    // Drop down layout style\n    dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    // attaching data adapter to spinner\n    spinner.setAdapter(dataAdapter);\n\n\n    //Isn't necessary and can be done by using spinner.getSelectedItemPosition()\n    // Spinner click listener\n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            //If asia is selected\n            if(position == 0){\n                selectedArray = asiaList;\n            }else{\n                selectedArray = europeList;\n            }\n\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n        }\n    });\n\n\n}\n//function for your button to open next activity\npublic void OpenSecondActivity(View v){\n        Intent myIntent = new Intent(MainActivity.this, secondActivity.class);\n        startActivity(myIntent);\nsecondActivity.selectedArray = selectedArray;\n\n\n        \n\n}\n\n\n//Put xml strings into your array lists;\npublic void getListInfo(String[] strings, List&lt;String&gt; list){\n    for (int i = 0; i &lt; strings.length; i++) {\n        list.add(strings[i]);\n    }\n\n\n}\n</code></pre>\n<p>Second Activity:</p>\n<pre><code>//Spinner second class\nSpinner spinner;\n\npublic static List&lt;String&gt; selectedArray = new ArrayList&lt;String&gt;();\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_second);\n\n\n    spinner = findViewById(R.id.spinner2);\n\n\n    // Creating adapter for spinner and also reference the current list from first activity to get right info\n    ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, selectedArray);\n\n    // Drop down layout style\n    dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n    // attaching data adapter to spinner\n    spinner.setAdapter(dataAdapter);\n\n}\n</code></pre>\n<p>The strings.xml:</p>\n<pre><code>&lt;string-array name=&quot;asia&quot;&gt;\n    &lt;item&gt;&quot;India&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;pakistan&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;China&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Japan&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Bangladesh&quot;&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=&quot;europe&quot;&gt;\n    &lt;item&gt;&quot;Sweden&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;England&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Spain&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Norway&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Germany&quot;&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7790296,"reputation":41,"user_id":5893527,"display_name":"G.Mendoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664323010,"creation_date":1664323010,"answer_id":73874880,"question_id":67337779,"body_markdown":"Based on https://developer.android.com/develop/ui/views/components/spinner#kotlin\r\n\r\nI adecuate the sample function in the above link to &quot;switch&quot; between Volume or Weight units arrays:\r\n\r\n    private fun refillSpinner(radioChoiceVolWei: Int) {\r\n        val fromSpinner: Spinner = findViewById(R.id.from_units)\r\n\r\n        // Create an ArrayAdapter using the string array and a default spinner layout\r\n        ArrayAdapter.createFromResource(\r\n            this,\r\n            radioChoiceVolWei, // Reference to the Res string-array\r\n            android.R.layout.simple_spinner_item\r\n        ).also { adapter -&gt;\r\n            // Specify the layout to use when the list of choices appears\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\r\n            // Apply the adapter to the spinner\r\n            fromSpinner.adapter = adapter\r\n        }\r\n    }\r\n\r\nThen I call the function with: \r\n\r\n        refillSpinner(R.array.weight_units_array)\r\n\r\nor\r\n\r\n        refillSpinner(R.array.volume_units_array)\r\n\r\nWhere the arrays are somehow like yours:\r\n\r\n    &lt;string-array name=&quot;weight_units_array&quot;&gt;\r\n        &lt;item&gt;kilogram&lt;/item&gt;\r\n        &lt;item&gt;gram&lt;/item&gt;\r\n        &lt;item&gt;ounce&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nand\r\n\r\n    &lt;string-array name=&quot;volume_units_array&quot;&gt;\r\n        &lt;item&gt;litre&lt;/item&gt;\r\n        &lt;item&gt;millilitre&lt;/item&gt;\r\n        &lt;item&gt;ounce&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nRegards.\r\n","title":"Android: Is there a way to switch the spinner array based on user input from other activity?","body":"<p>Based on <a href=\"https://developer.android.com/develop/ui/views/components/spinner#kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/components/spinner#kotlin</a></p>\n<p>I adecuate the sample function in the above link to &quot;switch&quot; between Volume or Weight units arrays:</p>\n<pre><code>private fun refillSpinner(radioChoiceVolWei: Int) {\n    val fromSpinner: Spinner = findViewById(R.id.from_units)\n\n    // Create an ArrayAdapter using the string array and a default spinner layout\n    ArrayAdapter.createFromResource(\n        this,\n        radioChoiceVolWei, // Reference to the Res string-array\n        android.R.layout.simple_spinner_item\n    ).also { adapter -&gt;\n        // Specify the layout to use when the list of choices appears\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n        // Apply the adapter to the spinner\n        fromSpinner.adapter = adapter\n    }\n}\n</code></pre>\n<p>Then I call the function with:</p>\n<pre><code>    refillSpinner(R.array.weight_units_array)\n</code></pre>\n<p>or</p>\n<pre><code>    refillSpinner(R.array.volume_units_array)\n</code></pre>\n<p>Where the arrays are somehow like yours:</p>\n<pre><code>&lt;string-array name=&quot;weight_units_array&quot;&gt;\n    &lt;item&gt;kilogram&lt;/item&gt;\n    &lt;item&gt;gram&lt;/item&gt;\n    &lt;item&gt;ounce&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;string-array name=&quot;volume_units_array&quot;&gt;\n    &lt;item&gt;litre&lt;/item&gt;\n    &lt;item&gt;millilitre&lt;/item&gt;\n    &lt;item&gt;ounce&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>Regards.</p>\n"}],"owner":{"account_id":16893702,"reputation":13,"user_id":12216760,"display_name":"momo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67338944,"answer_count":2,"score":0,"last_activity_date":1664323010,"creation_date":1619802060,"question_id":67337779,"body_markdown":"I am a beginner in Android development. I am trying to make an app for a class project. During registration (Registration activity) the user can choose any continent from the spinner. In another activity, the user gets to choose countries depending on what continent the user had chosen before from the spinner on registration activity. I already have different arrays in my string.xml file.\r\n\r\nMy thought process is, in the second activity, if the user chose Asia, this layout will have the spinner display countries in Asia. If the user chose Europe, the spinner will display countries in Europe (array from strings.xml)\r\nexample of my array on string.xml \r\n\r\n     &lt;string-array name=&quot;asia&quot;&gt;\r\n        &lt;item&gt;&quot;India&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;pakistan&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;China&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Japan&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Bangladesh&quot;&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n\r\nI also have a string array for Europe and other continents. I have a spinner on my layout, but I don&#39;t know how to implement the different arrays based on user input from first activity. I haven&#39;t assigned any arrays/options on my spinner yet. Any kind of help/suggestions/resource/advice is highly appreciated.","title":"Android: Is there a way to switch the spinner array based on user input from other activity?","body":"<p>I am a beginner in Android development. I am trying to make an app for a class project. During registration (Registration activity) the user can choose any continent from the spinner. In another activity, the user gets to choose countries depending on what continent the user had chosen before from the spinner on registration activity. I already have different arrays in my string.xml file.</p>\n<p>My thought process is, in the second activity, if the user chose Asia, this layout will have the spinner display countries in Asia. If the user chose Europe, the spinner will display countries in Europe (array from strings.xml)\nexample of my array on string.xml</p>\n<pre><code> &lt;string-array name=&quot;asia&quot;&gt;\n    &lt;item&gt;&quot;India&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;pakistan&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;China&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Japan&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Bangladesh&quot;&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>I also have a string array for Europe and other continents. I have a spinner on my layout, but I don't know how to implement the different arrays based on user input from first activity. I haven't assigned any arrays/options on my spinner yet. Any kind of help/suggestions/resource/advice is highly appreciated.</p>\n"},{"tags":["java","spring-boot","spring-security-oauth2","openfeign"],"comments":[{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":0,"creation_date":1664306555,"post_id":73869465,"comment_id":130440334,"body_markdown":"Have you checked a first Google result: https://www.baeldung.com/spring-cloud-feign-oauth-token ?","body":"Have you checked a first Google result: <a href=\"https://www.baeldung.com/spring-cloud-feign-oauth-token\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-feign-oauth-token</a> ?"},{"owner":{"display_name":"user19950573"},"score":0,"creation_date":1664331083,"post_id":73869465,"comment_id":130444945,"body_markdown":"I do. The problem here is I don&#39;t know how to get the OAuth2 token inside openfeign interceptor.","body":"I do. The problem here is I don&#39;t know how to get the OAuth2 token inside openfeign interceptor."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664322647,"creation_date":1664319908,"answer_id":73874612,"question_id":73869465,"body_markdown":"In the case you&#39;re on a [resource-server][1] and want to issue a request from that resource-server on behalf of the authenticated user, you should be able to \r\naccess the Bearer token from the `Authentication` instance in the security-context.\r\n\r\nDefault `Authentication` types are `JwtAuthenticationToken` for resource-servers with JWT decoder and `BearerTokenAuthentication` for those with introspection.\r\n\r\nYou can query directly the SecurityContext of the request:\r\n```Java\r\n    final AbstractOAuth2TokenAuthenticationToken&lt;? extends AbstractOAuth2Token&gt; auth = (AbstractOAuth2TokenAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\r\n    final String bearerToken = auth.getToken().getTokenValue();\r\n```\r\nor have it auto-magically injected as `@Controller` method parameter:\r\n```java\r\n@RestController\r\npublic class MyController {\r\n    @GetMapping(&quot;/reflect-bearer-token&quot;)\r\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\r\n    public String reflectBearerToken(AbstractOAuth2TokenAuthenticationToken&lt;? extends AbstractOAuth2Token&gt; auth) {\r\n        return auth.getToken().getTokenValue();\r\n}\r\n```\r\n\r\nFirst option (querying security-context) can be applied in a a feign `RequestInterceptor` to add an `Authorization` header with authenticated user Bearer to every request.\r\n\r\n  [1]: https://dzone.com/articles/spring-oauth2-resource-servers","title":"Spring boot pass OAuth2 credential to OpenFeign client","body":"<p>In the case you're on a <a href=\"https://dzone.com/articles/spring-oauth2-resource-servers\" rel=\"nofollow noreferrer\">resource-server</a> and want to issue a request from that resource-server on behalf of the authenticated user, you should be able to\naccess the Bearer token from the <code>Authentication</code> instance in the security-context.</p>\n<p>Default <code>Authentication</code> types are <code>JwtAuthenticationToken</code> for resource-servers with JWT decoder and <code>BearerTokenAuthentication</code> for those with introspection.</p>\n<p>You can query directly the SecurityContext of the request:</p>\n<pre><code>    final AbstractOAuth2TokenAuthenticationToken&lt;? extends AbstractOAuth2Token&gt; auth = (AbstractOAuth2TokenAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\n    final String bearerToken = auth.getToken().getTokenValue();\n</code></pre>\n<p>or have it auto-magically injected as <code>@Controller</code> method parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class MyController {\n    @GetMapping(&quot;/reflect-bearer-token&quot;)\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\n    public String reflectBearerToken(AbstractOAuth2TokenAuthenticationToken&lt;? extends AbstractOAuth2Token&gt; auth) {\n        return auth.getToken().getTokenValue();\n}\n</code></pre>\n<p>First option (querying security-context) can be applied in a a feign <code>RequestInterceptor</code> to add an <code>Authorization</code> header with authenticated user Bearer to every request.</p>\n"}],"owner":{"display_name":"user19950573"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73874612,"answer_count":1,"score":0,"last_activity_date":1664322647,"creation_date":1664289587,"question_id":73869465,"body_markdown":"I&#39;m having 2 services: service A (spring boot and `openfeign` for http client) and service B. My services are behind a gateway (APISIX), which is integrated with keycloak. Both services are configured OAuth2 to expose to public.\r\n\r\nThere is a use case, when a `logged in` user requests to service A, and service A requests to service B using `openfeign`. What is the proper way to pass OAuth2 credential to OpenFeign client when requesting to service B?\r\n\r\nThank you very much.","title":"Spring boot pass OAuth2 credential to OpenFeign client","body":"<p>I'm having 2 services: service A (spring boot and <code>openfeign</code> for http client) and service B. My services are behind a gateway (APISIX), which is integrated with keycloak. Both services are configured OAuth2 to expose to public.</p>\n<p>There is a use case, when a <code>logged in</code> user requests to service A, and service A requests to service B using <code>openfeign</code>. What is the proper way to pass OAuth2 credential to OpenFeign client when requesting to service B?</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","websphere-liberty"],"comments":[{"owner":{"account_id":4932543,"reputation":61,"user_id":3971808,"display_name":"Bill Holtzhauser"},"score":0,"creation_date":1605721294,"post_id":64888285,"comment_id":114740424,"body_markdown":"I looked at the Knowledge Center for Liberty and searched for the AES topics and found this one https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/cwlp_pwd_encrypt.html and from reading that it looks like the only file that can have the encryption in it is the server.xml. But I have not tried what you are doing, so I can not say for sure.  I think you already understand the steps in this video I made: https://youtu.be/pJ2GVR-I6dg","body":"I looked at the Knowledge Center for Liberty and searched for the AES topics and found this one <a href=\"https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/cwlp_pwd_encrypt.html\" rel=\"nofollow noreferrer\">ibm.com/support/knowledgecenter/SSAW57_liberty/&hellip;</a> and from reading that it looks like the only file that can have the encryption in it is the server.xml. But I have not tried what you are doing, so I can not say for sure.  I think you already understand the steps in this video I made: <a href=\"https://youtu.be/pJ2GVR-I6dg\" rel=\"nofollow noreferrer\">youtu.be/pJ2GVR-I6dg</a>"}],"answers":[{"tags":[],"owner":{"account_id":8468354,"reputation":739,"user_id":6351865,"display_name":"M. Broz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605731827,"creation_date":1605722116,"answer_id":64898636,"question_id":64888285,"body_markdown":"First, you need to enable the [passwordUtilities-1.0 feature][1]:\r\n\r\n    &lt;featureManager&gt;\r\n        &lt;feature&gt;passwordUtilities-1.0&lt;/feature&gt;\r\n    &lt;/featureManager&gt;\r\n\r\nThen, you can use the [com.ibm.websphere.crypto.PasswordUtil API][2] to decode the password:\r\n\r\n    String encodedPassword = System.getProperty(&quot;encKey&quot;);\r\n    String decodedPassword = PasswordUtil.decode(encodedPassword);\r\n\r\n\r\n  [1]: https://openliberty.io/docs/20.0.0.8/reference/feature/passwordUtilities-1.0.html\r\n  [2]: https://www.ibm.com/support/knowledgecenter/SSD28V_liberty/com.ibm.websphere.javadoc.liberty.doc/com.ibm.websphere.appserver.api.passwordUtil_1.0-javadoc/com/ibm/websphere/crypto/PasswordUtil.html","title":"Decode AES encryption in web application in IBM Liberty server","body":"<p>First, you need to enable the <a href=\"https://openliberty.io/docs/20.0.0.8/reference/feature/passwordUtilities-1.0.html\" rel=\"nofollow noreferrer\">passwordUtilities-1.0 feature</a>:</p>\n<pre><code>&lt;featureManager&gt;\n    &lt;feature&gt;passwordUtilities-1.0&lt;/feature&gt;\n&lt;/featureManager&gt;\n</code></pre>\n<p>Then, you can use the <a href=\"https://www.ibm.com/support/knowledgecenter/SSD28V_liberty/com.ibm.websphere.javadoc.liberty.doc/com.ibm.websphere.appserver.api.passwordUtil_1.0-javadoc/com/ibm/websphere/crypto/PasswordUtil.html\" rel=\"nofollow noreferrer\">com.ibm.websphere.crypto.PasswordUtil API</a> to decode the password:</p>\n<pre><code>String encodedPassword = System.getProperty(&quot;encKey&quot;);\nString decodedPassword = PasswordUtil.decode(encodedPassword);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605796063,"creation_date":1605796063,"answer_id":64913733,"question_id":64888285,"body_markdown":"Your encoded string is malformed\r\n\r\n`-DencKey={aes}{aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg==...`\r\n\r\nit should only have a single encryption preamble like \r\n\r\n`-DencKey={aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg==...`","title":"Decode AES encryption in web application in IBM Liberty server","body":"<p>Your encoded string is malformed</p>\n<p><code>-DencKey={aes}{aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg==...</code></p>\n<p>it should only have a single encryption preamble like</p>\n<p><code>-DencKey={aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg==...</code></p>\n"},{"tags":[],"owner":{"account_id":1095538,"reputation":1110,"user_id":1747983,"display_name":"Tilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664322072,"creation_date":1664305551,"answer_id":73872664,"question_id":64888285,"body_markdown":"for ppl who find this on their search to decode the PW: \r\nhere an example to decode with passwordUtilities feature\r\n\r\nhttps://github.com/TiloGit/liberty-pw-util/tree/master/dyn-pw\r\n\r\nhttps://gitlab.com/pppoudel/public_shared/-/tree/master/WLibertyPwdUtil\r\n\r\nblog post of it: \r\nhttps://purnapoudel.blogspot.com/2017/10/how-to-use-wlp-passwordutilities.html\r\n\r\nimportant to have the enc key set.\r\n```lang-xml\r\n &#160;&lt;variable name=&quot;wlp.password.encryption.key&quot; value=&quot;myEncKey123&quot;&gt;\r\n```\r\n\r\ncode example: \r\n```lang-jsp\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;%@page language=&quot;java&quot;\r\n\tcontentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;index&lt;/title&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n     &lt;%! String password=&quot;t3mp_pwD&quot;; %&gt;\r\n     &lt;h2&gt; This page shows how to use com.ibm.websphere.crypto.PasswordUtil to encrypt/decrypt password using xor or aes.&lt;/h2&gt;\r\n     &lt;hr/&gt;\r\n     &lt;h3&gt; Provided plain text password is:&lt;%= password %&gt;&lt;/h3&gt;\r\n     Note: encryption key &quot;replaceM3&quot; is being used for &quot;aes&quot; encryption/decryption. &lt;br/&gt;\r\n     &lt;br/&gt;\r\n     &lt;%! String xorEncodedVal=com.ibm.websphere.crypto.PasswordUtil.passwordEncode(password, &quot;xor&quot;);\r\n         String aesEncodedVal=com.ibm.websphere.crypto.PasswordUtil.passwordEncode(password, &quot;aes&quot;); %&gt;\r\n     &lt;h3&gt; xor encoded value is: &lt;%= xorEncodedVal %&gt; &lt;/h3&gt;\r\n     &lt;h3&gt; aes encrypted value is: &lt;%= aesEncodedVal %&gt; &lt;/h3&gt;\r\n     &lt;h3&gt; xor decoded value is: &lt;% out.println(com.ibm.websphere.crypto.PasswordUtil.passwordDecode(xorEncodedVal)); %&gt; &lt;/h3&gt;\r\n     &lt;h3&gt; aes decrypted value is: &lt;% out.println(com.ibm.websphere.crypto.PasswordUtil.passwordDecode(aesEncodedVal)); %&gt; &lt;/h3&gt; \r\n     \r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```","title":"Decode AES encryption in web application in IBM Liberty server","body":"<p>for ppl who find this on their search to decode the PW:\nhere an example to decode with passwordUtilities feature</p>\n<p><a href=\"https://github.com/TiloGit/liberty-pw-util/tree/master/dyn-pw\" rel=\"nofollow noreferrer\">https://github.com/TiloGit/liberty-pw-util/tree/master/dyn-pw</a></p>\n<p><a href=\"https://gitlab.com/pppoudel/public_shared/-/tree/master/WLibertyPwdUtil\" rel=\"nofollow noreferrer\">https://gitlab.com/pppoudel/public_shared/-/tree/master/WLibertyPwdUtil</a></p>\n<p>blog post of it:\n<a href=\"https://purnapoudel.blogspot.com/2017/10/how-to-use-wlp-passwordutilities.html\" rel=\"nofollow noreferrer\">https://purnapoudel.blogspot.com/2017/10/how-to-use-wlp-passwordutilities.html</a></p>\n<p>important to have the enc key set.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;variable name=&quot;wlp.password.encryption.key&quot; value=&quot;myEncKey123&quot;&gt;\n</code></pre>\n<p>code example:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;%@page language=&quot;java&quot;\n    contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;index&lt;/title&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n     &lt;%! String password=&quot;t3mp_pwD&quot;; %&gt;\n     &lt;h2&gt; This page shows how to use com.ibm.websphere.crypto.PasswordUtil to encrypt/decrypt password using xor or aes.&lt;/h2&gt;\n     &lt;hr/&gt;\n     &lt;h3&gt; Provided plain text password is:&lt;%= password %&gt;&lt;/h3&gt;\n     Note: encryption key &quot;replaceM3&quot; is being used for &quot;aes&quot; encryption/decryption. &lt;br/&gt;\n     &lt;br/&gt;\n     &lt;%! String xorEncodedVal=com.ibm.websphere.crypto.PasswordUtil.passwordEncode(password, &quot;xor&quot;);\n         String aesEncodedVal=com.ibm.websphere.crypto.PasswordUtil.passwordEncode(password, &quot;aes&quot;); %&gt;\n     &lt;h3&gt; xor encoded value is: &lt;%= xorEncodedVal %&gt; &lt;/h3&gt;\n     &lt;h3&gt; aes encrypted value is: &lt;%= aesEncodedVal %&gt; &lt;/h3&gt;\n     &lt;h3&gt; xor decoded value is: &lt;% out.println(com.ibm.websphere.crypto.PasswordUtil.passwordDecode(xorEncodedVal)); %&gt; &lt;/h3&gt;\n     &lt;h3&gt; aes decrypted value is: &lt;% out.println(com.ibm.websphere.crypto.PasswordUtil.passwordDecode(aesEncodedVal)); %&gt; &lt;/h3&gt; \n     \n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n"}],"owner":{"account_id":1476537,"reputation":69,"user_id":1386799,"display_name":"Bibin Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1664322072,"creation_date":1605681801,"question_id":64888285,"body_markdown":"Placed the AES encryption password in liberty server jvm.options file as below\r\n-DencKey={aes}{aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg== ........\r\n\r\nwhile retrieving in java application by using System.getProperty(&quot;encKey&quot;).\r\n\r\ngetting the exact value not the decrypted one.\r\n\r\nShould we do  decrypt manually or through configurations we can achieve the decrypted value ?","title":"Decode AES encryption in web application in IBM Liberty server","body":"<p>Placed the AES encryption password in liberty server jvm.options file as below\n-DencKey={aes}{aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg== ........</p>\n<p>while retrieving in java application by using System.getProperty(&quot;encKey&quot;).</p>\n<p>getting the exact value not the decrypted one.</p>\n<p>Should we do  decrypt manually or through configurations we can achieve the decrypted value ?</p>\n"},{"tags":["java","attributes","offset","collada","normals"],"answers":[{"tags":[],"owner":{"account_id":10036343,"reputation":61,"user_id":7420810,"display_name":"Anders Gustafsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664321795,"creation_date":1664321795,"answer_id":73874772,"question_id":71677530,"body_markdown":"The offset only describes how to read the list.\r\n\r\nIn this example you would read every second number, but starting at a given offset.\r\n```xml\r\n&lt;input semantic=&quot;VERTEX&quot; source=&quot;#some-mesh-vertices&quot; offset=&quot;0&quot;/&gt;\r\n&lt;input semantic=&quot;NORMAL&quot; source=&quot;#some-mesh-normals&quot; offset=&quot;1&quot;/&gt;\r\n&lt;p&gt;0 1 2 3 4 5 6 7&lt;/p&gt;\r\n```\r\n```\r\nvertexIndices = [0,2,4,6]\r\nnormalIndices = [1,3,5,7]\r\n```\r\nThese indices would then be used to get the actual values from their source.\r\n","title":"Collada geometry mesh triangles node&#39;s NORMAL offset attribute","body":"<p>The offset only describes how to read the list.</p>\n<p>In this example you would read every second number, but starting at a given offset.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;input semantic=&quot;VERTEX&quot; source=&quot;#some-mesh-vertices&quot; offset=&quot;0&quot;/&gt;\n&lt;input semantic=&quot;NORMAL&quot; source=&quot;#some-mesh-normals&quot; offset=&quot;1&quot;/&gt;\n&lt;p&gt;0 1 2 3 4 5 6 7&lt;/p&gt;\n</code></pre>\n<pre><code>vertexIndices = [0,2,4,6]\nnormalIndices = [1,3,5,7]\n</code></pre>\n<p>These indices would then be used to get the actual values from their source.</p>\n"}],"owner":{"account_id":16651827,"reputation":502,"user_id":12034466,"display_name":"qraqatit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664321795,"creation_date":1648644484,"question_id":71677530,"body_markdown":"I am trying to understand what exactly attribute &quot;offset&quot; does to values of the triangles/normals in a collada .dae file.\r\n\r\nFor example, let&#39;s say we have this in mesh node inside of a geometry node:\r\n\r\n    &lt;triangles count=&quot;4&quot;&gt;\r\n        &lt;input semantic=&quot;VERTEX&quot; source=&quot;#some-mesh-vertices&quot; offset=&quot;0&quot;/&gt;\r\n        &lt;input semantic=&quot;NORMAL&quot; source=&quot;#some-mesh-normals&quot; offset=&quot;1&quot;/&gt;\r\n        &lt;p&gt;0 0 1 0 2 0 2 0 1 0 3 1 4 2 5 2 6 2 6 2 5 2 7 2&lt;/p&gt;\r\n    &lt;/triangles&gt;\r\n\r\nDoes that value of &quot;1&quot; do something to the normals or to triangles...or to both? And what exactly...like does it moves the normals/triangles array elements, or adding some value to them? I am strugling to understand it as I am building arrays from it for 3D model in Java, so of course, without this knowledge it is giving me errors as that offset value has to have some meaning which I do not get yet.","title":"Collada geometry mesh triangles node&#39;s NORMAL offset attribute","body":"<p>I am trying to understand what exactly attribute &quot;offset&quot; does to values of the triangles/normals in a collada .dae file.</p>\n<p>For example, let's say we have this in mesh node inside of a geometry node:</p>\n<pre><code>&lt;triangles count=&quot;4&quot;&gt;\n    &lt;input semantic=&quot;VERTEX&quot; source=&quot;#some-mesh-vertices&quot; offset=&quot;0&quot;/&gt;\n    &lt;input semantic=&quot;NORMAL&quot; source=&quot;#some-mesh-normals&quot; offset=&quot;1&quot;/&gt;\n    &lt;p&gt;0 0 1 0 2 0 2 0 1 0 3 1 4 2 5 2 6 2 6 2 5 2 7 2&lt;/p&gt;\n&lt;/triangles&gt;\n</code></pre>\n<p>Does that value of &quot;1&quot; do something to the normals or to triangles...or to both? And what exactly...like does it moves the normals/triangles array elements, or adding some value to them? I am strugling to understand it as I am building arrays from it for 3D model in Java, so of course, without this knowledge it is giving me errors as that offset value has to have some meaning which I do not get yet.</p>\n"},{"tags":["java","stack","java-threads"],"answers":[{"tags":[],"owner":{"account_id":3569330,"reputation":423,"user_id":2980077,"display_name":"Arian Kiehr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431741161,"creation_date":1431737228,"answer_id":30270680,"question_id":30270646,"body_markdown":"Each thread has its own stack that holds a frame for each method executing on that thread as you can see [here](http://blog.jamesdbloom.com/JVMInternals.html) in the section &quot;Per Thread&quot;.","title":"Is there a stack space for every thread?","body":"<p>Each thread has its own stack that holds a frame for each method executing on that thread as you can see <a href=\"http://blog.jamesdbloom.com/JVMInternals.html\" rel=\"nofollow\">here</a> in the section \"Per Thread\".</p>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431737568,"creation_date":1431737568,"answer_id":30270711,"question_id":30270646,"body_markdown":"&gt;Or does the JRE allocate separate stacks for each threads?\r\n\r\nYes.[ The JVM is specified to do so](http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.2):\r\n\r\n&gt;**Each Java Virtual Machine thread has a private *Java Virtual Machine stack*, created at the same time as the thread.** A Java Virtual Machine stack stores frames. [...] Because the Java Virtual Machine stack is never manipulated directly except to push and pop frames, frames may be heap allocated.","title":"Is there a stack space for every thread?","body":"<blockquote>\n  <p>Or does the JRE allocate separate stacks for each threads?</p>\n</blockquote>\n\n<p>Yes.<a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.2\" rel=\"nofollow\"> The JVM is specified to do so</a>:</p>\n\n<blockquote>\n  <p><strong>Each Java Virtual Machine thread has a private <em>Java Virtual Machine stack</em>, created at the same time as the thread.</strong> A Java Virtual Machine stack stores frames. [...] Because the Java Virtual Machine stack is never manipulated directly except to push and pop frames, frames may be heap allocated.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664320238,"creation_date":1431739185,"answer_id":30270849,"question_id":30270646,"body_markdown":"&gt; Or does the JRE allocate separate stacks for each threads?\r\n\r\nConceptually yes.  (See this [JVM spec link][1], for example.)\r\n\r\nHow the spec&#39;s conceptualization gets implemented in a particular JVM is ... implementation specific.  However, my understanding is that current generation (e.g. Hotspot) JVMs allocate each thread stack in a separate block of memory requested from the OS; e.g. using a `mmap` syscall&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThere is certainly no wholesale copying of stack content when a thread switch occurs.  However thread context switching does entail saving and loading registers, and (indirectly) to extra load on memory cache and TLB entries.  This can be significant ... which is why excessive thread context switches (e.g. caused by lock contention or excessive wait/notify) can be bad for performance.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - Some JVMs include a read-only &quot;red-zone&quot; page at the end of each stack segment.  (This means that thread stack overflow triggers a memory fault, and the JVM doesn&#39;t need to explicitly check for stack overflow on each method call, which would be a significant performance hit.) Anyhow, my understanding is that the &quot;red-zone&quot; page requires the thread stacks to be requested using mmap. &lt;/sup&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.2","title":"Is there a stack space for every thread?","body":"<blockquote>\n<p>Or does the JRE allocate separate stacks for each threads?</p>\n</blockquote>\n<p>Conceptually yes.  (See this <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.2\" rel=\"nofollow noreferrer\">JVM spec link</a>, for example.)</p>\n<p>How the spec's conceptualization gets implemented in a particular JVM is ... implementation specific.  However, my understanding is that current generation (e.g. Hotspot) JVMs allocate each thread stack in a separate block of memory requested from the OS; e.g. using a <code>mmap</code> syscall<sup>1</sup>.</p>\n<p>There is certainly no wholesale copying of stack content when a thread switch occurs.  However thread context switching does entail saving and loading registers, and (indirectly) to extra load on memory cache and TLB entries.  This can be significant ... which is why excessive thread context switches (e.g. caused by lock contention or excessive wait/notify) can be bad for performance.</p>\n<hr />\n<p><sup>1 - Some JVMs include a read-only &quot;red-zone&quot; page at the end of each stack segment.  (This means that thread stack overflow triggers a memory fault, and the JVM doesn't need to explicitly check for stack overflow on each method call, which would be a significant performance hit.) Anyhow, my understanding is that the &quot;red-zone&quot; page requires the thread stacks to be requested using mmap. </sup></p>\n"},{"tags":[],"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431740171,"creation_date":1431740171,"answer_id":30270940,"question_id":30270646,"body_markdown":"Java threads are represented by thread objects, each thread is assigned a separate thread stack used for storing runtime data. The thread stack has a specific size (Can be set using VM option `java -Xss1m Application`). \r\n\r\nIf during runtime, the Thread tries to store more date than the stack size allows, a stack overflow error occurs.\r\n\r\n","title":"Is there a stack space for every thread?","body":"<p>Java threads are represented by thread objects, each thread is assigned a separate thread stack used for storing runtime data. The thread stack has a specific size (Can be set using VM option <code>java -Xss1m Application</code>). </p>\n\n<p>If during runtime, the Thread tries to store more date than the stack size allows, a stack overflow error occurs.</p>\n"}],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6955,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1664320238,"creation_date":1431736806,"question_id":30270646,"body_markdown":"If I understand correctly the stack is for local primities and references to the objects in the heap. So what happens if you have more than one threads? \r\n\r\nDo they share the same stack space at the same time (but different areas) or does the JRE switch contexts and load-deload the stack content when switching between threads? \r\n\r\nOr does the JRE allocate separate stacks for each threads?","title":"Is there a stack space for every thread?","body":"<p>If I understand correctly the stack is for local primities and references to the objects in the heap. So what happens if you have more than one threads? </p>\n\n<p>Do they share the same stack space at the same time (but different areas) or does the JRE switch contexts and load-deload the stack content when switching between threads? </p>\n\n<p>Or does the JRE allocate separate stacks for each threads?</p>\n"},{"tags":["java","spring","spring-framework-beans"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664319538,"post_id":73874515,"comment_id":130443378,"body_markdown":"Spring will gather implementations of an interface/extentions of a base class and inject them where a `List` is required. Try it.","body":"Spring will gather implementations of an interface/extentions of a base class and inject them where a <code>List</code> is required. Try it."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1664319542,"post_id":73874515,"comment_id":130443380,"body_markdown":"Yes!  Mark all `CreditValidator` implementations as an @Component, and spring will make a `List&lt;CreditValidator&gt;` available for injection (to avoid the `Array.asList(...)` ickyness).","body":"Yes!  Mark all <code>CreditValidator</code> implementations as an @Component, and spring will make a <code>List&lt;CreditValidator&gt;</code> available for injection (to avoid the <code>Array.asList(...)</code> ickyness)."}],"owner":{"account_id":26463753,"reputation":1,"user_id":20105301,"display_name":"Dazt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664319034,"creation_date":1664318961,"question_id":73874515,"body_markdown":"I hope you&#39;re doing well, I have a doubt when I try to create a method that can validate some business rules.\r\n\r\nIn this case, I have a class \r\n\r\n```\r\npublic class ValidationUtils {\r\n\r\n    final List&lt;CreditValidations&gt; creditValidations;\r\n\r\n    public ValidationUtils(){\r\n        creditValidations = Arrays.asList(\r\n            new ValidateAge(),\r\n            new ValidateSalary()\r\n        );\r\n    }\r\n\r\n    public ValidationRs passAllValidations(Client client){\r\n        final var validationsFailed = new ArrayList&lt;String&gt;();\r\n        boolean validationResult = false;\r\n        for (CreditValidations creditValidationClasses : creditValidations){\r\n            validationResult = Boolean.logicalXor(creditValidationClasses .validate(client,validationsFailed),\r\n                validationResult);\r\n        }\r\n        final var rs = new ValidationRs();\r\n        rs.setSuccessfulValidations(validationResult);\r\n        rs.setValidationsFailed(validationsFailed);\r\n        return rs;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nthis class has a method called &quot;passAllValidations&quot; That method can evaluate each CreditValidation implementation and join their results, Using this code I don&#39;t need to create more methods when I have a new validation, only extends the abstraction and create the new Validation class and inject it in the ValidationUtils constructor.   \r\n\r\nthe abstraction and implementation of CreditValidations look like \r\n\r\n```\r\npublic abstract class CreditValidations {\r\n\r\n    protected final String errorCode;\r\n\r\n    protected CreditValidations(final String errorCode) {\r\n        this.errorCode = errorCode;\r\n    }\r\n\r\n    protected abstract boolean validate(final Client client,final List&lt;String&gt; validationsFailed);\r\n\r\n    protected boolean evaluateValidation(boolean validationResult, List&lt;String&gt; validationsFailed){\r\n        if (!validationResult){\r\n            setCode(validationsFailed);\r\n        }\r\n        return  validationResult;\r\n    }\r\n\r\n    protected String getErrorCode() {\r\n        return this.errorCode;\r\n    }\r\n\r\n    protected void setCode(List&lt;String&gt; failedValidations) {\r\n        failedValidations.add(errorCode);\r\n    }\r\n}\r\n```\r\n```\r\npublic class ValidateAge extends CreditValidations {\r\n\r\n    public ValidateAge() {\r\n        super(CreditValidationErrorEnum.ERROR_VALIDATING_AGE.getCode());\r\n    }\r\n\r\n    @Override\r\n    public boolean validate(final Client client, List&lt;String&gt; validationsFailed) {\r\n        return this.evaluateValidation(client.getAge() &gt;= 18,validationsFailed);\r\n    }\r\n\r\n}\r\n```\r\n\r\nin summary, my question is referring to the dependency injection in the class ValidationUtils, I don&#39;t know if it way is correct or if Spring Framework has some things that help me to inject all of the CreditValidation implementations and avoid using Array.asList(new NewValidationClass()) or another design pattern which can help.\r\n\r\nThanks in advance. \r\n","title":"Inject several implementations of an abstraction in a class","body":"<p>I hope you're doing well, I have a doubt when I try to create a method that can validate some business rules.</p>\n<p>In this case, I have a class</p>\n<pre><code>public class ValidationUtils {\n\n    final List&lt;CreditValidations&gt; creditValidations;\n\n    public ValidationUtils(){\n        creditValidations = Arrays.asList(\n            new ValidateAge(),\n            new ValidateSalary()\n        );\n    }\n\n    public ValidationRs passAllValidations(Client client){\n        final var validationsFailed = new ArrayList&lt;String&gt;();\n        boolean validationResult = false;\n        for (CreditValidations creditValidationClasses : creditValidations){\n            validationResult = Boolean.logicalXor(creditValidationClasses .validate(client,validationsFailed),\n                validationResult);\n        }\n        final var rs = new ValidationRs();\n        rs.setSuccessfulValidations(validationResult);\n        rs.setValidationsFailed(validationsFailed);\n        return rs;\n    }\n\n\n}\n</code></pre>\n<p>this class has a method called &quot;passAllValidations&quot; That method can evaluate each CreditValidation implementation and join their results, Using this code I don't need to create more methods when I have a new validation, only extends the abstraction and create the new Validation class and inject it in the ValidationUtils constructor.</p>\n<p>the abstraction and implementation of CreditValidations look like</p>\n<pre><code>public abstract class CreditValidations {\n\n    protected final String errorCode;\n\n    protected CreditValidations(final String errorCode) {\n        this.errorCode = errorCode;\n    }\n\n    protected abstract boolean validate(final Client client,final List&lt;String&gt; validationsFailed);\n\n    protected boolean evaluateValidation(boolean validationResult, List&lt;String&gt; validationsFailed){\n        if (!validationResult){\n            setCode(validationsFailed);\n        }\n        return  validationResult;\n    }\n\n    protected String getErrorCode() {\n        return this.errorCode;\n    }\n\n    protected void setCode(List&lt;String&gt; failedValidations) {\n        failedValidations.add(errorCode);\n    }\n}\n</code></pre>\n<pre><code>public class ValidateAge extends CreditValidations {\n\n    public ValidateAge() {\n        super(CreditValidationErrorEnum.ERROR_VALIDATING_AGE.getCode());\n    }\n\n    @Override\n    public boolean validate(final Client client, List&lt;String&gt; validationsFailed) {\n        return this.evaluateValidation(client.getAge() &gt;= 18,validationsFailed);\n    }\n\n}\n</code></pre>\n<p>in summary, my question is referring to the dependency injection in the class ValidationUtils, I don't know if it way is correct or if Spring Framework has some things that help me to inject all of the CreditValidation implementations and avoid using Array.asList(new NewValidationClass()) or another design pattern which can help.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1664316495,"post_id":73873914,"comment_id":130442902,"body_markdown":"`public int getRowCount() {\n   return 0;\n }` uh oh!! Don&#39;t don&#39;t ***don&#39;t*** do this. Seriously. You&#39;re telling the model that it has no data, that it will *never* have data.","body":"<code>public int getRowCount() {    return 0;  }</code> uh oh!! Don&#39;t don&#39;t <b><i>don&#39;t</i></b> do this. Seriously. You&#39;re telling the model that it has no data, that it will <i>never</i> have data."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664316680,"post_id":73873914,"comment_id":130442935,"body_markdown":"addRow(Product product) should not just add data, it should also fire a table data changed event.","body":"addRow(Product product) should not just add data, it should also fire a table data changed event."},{"owner":{"account_id":26463293,"reputation":1,"user_id":20104908,"display_name":"Neonify"},"score":0,"creation_date":1664318357,"post_id":73873914,"comment_id":130443195,"body_markdown":"getRowCount() was giving me problems and that&#39;s why I changed it to 0 but completely overlooked to change it back. Thanks for that! I&#39;ve edited my question to the most up to date code. Still, nothing happens when I try to add new row.","body":"getRowCount() was giving me problems and that&#39;s why I changed it to 0 but completely overlooked to change it back. Thanks for that! I&#39;ve edited my question to the most up to date code. Still, nothing happens when I try to add new row."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664321988,"post_id":73873914,"comment_id":130443684,"body_markdown":"It seems your question has changed quite a lot, rendering existing answers mostly useless.  As of this writing, you have a TableModel defined *inside* your TableModel class.  Don’t do that.  Your `addRow` method needs to add to the source of data—namely, your `products` List.  Then it needs to call `fireTableRowsUpdated` to let the JTable know the model has changed.  Under no circumstances should a TableModel contain another TableModel.","body":"It seems your question has changed quite a lot, rendering existing answers mostly useless.  As of this writing, you have a TableModel defined <i>inside</i> your TableModel class.  Don’t do that.  Your <code>addRow</code> method needs to add to the source of data—namely, your <code>products</code> List.  Then it needs to call <code>fireTableRowsUpdated</code> to let the JTable know the model has changed.  Under no circumstances should a TableModel contain another TableModel."},{"owner":{"account_id":26463293,"reputation":1,"user_id":20104908,"display_name":"Neonify"},"score":0,"creation_date":1664322704,"post_id":73873914,"comment_id":130443794,"body_markdown":"I will delete those useless fields as it seems that it runs without it. Also, fireTableRowsUpdated helped me quiet a lot since only five mintues ago I&#39;ve realized that table actually shows new data by having it resized! Thanks!","body":"I will delete those useless fields as it seems that it runs without it. Also, fireTableRowsUpdated helped me quiet a lot since only five mintues ago I&#39;ve realized that table actually shows new data by having it resized! Thanks!"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1664332534,"post_id":73873914,"comment_id":130445145,"body_markdown":"*I want to retrieve whole row as a Object (in this case an instance of class Product) instead of having to retrieve each cell from same row and peice it together into a Product.* - See [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) for an example of how the Product object can be stored and retrieved as a single object.","body":"<i>I want to retrieve whole row as a Object (in this case an instance of class Product) instead of having to retrieve each cell from same row and peice it together into a Product.</i> - See <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> for an example of how the Product object can be stored and retrieved as a single object."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664316802,"creation_date":1664316647,"answer_id":73874261,"question_id":73873914,"body_markdown":"Your model returns 0 always from its `getRowCount()` method, and a JTable made with this model will show no rows of data ever. Instead, if you&#39;re overriding DefaultTableModel, then best not to override this method. Let the super&#39;s object handle it.\r\n\r\nAlso, you&#39;re trying to use two data nuclei for the model, the super&#39;s internal Vector as well as your own linked list of Product, and that&#39;s not good. Either use the super&#39;s data or extend AbstractTableModel. If you do extend the abstract model, then yes, override getRowCount and return the count of rows in the data, here the size of your linked list.","title":"JTable not showing data from custom table model","body":"<p>Your model returns 0 always from its <code>getRowCount()</code> method, and a JTable made with this model will show no rows of data ever. Instead, if you're overriding DefaultTableModel, then best not to override this method. Let the super's object handle it.</p>\n<p>Also, you're trying to use two data nuclei for the model, the super's internal Vector as well as your own linked list of Product, and that's not good. Either use the super's data or extend AbstractTableModel. If you do extend the abstract model, then yes, override getRowCount and return the count of rows in the data, here the size of your linked list.</p>\n"}],"owner":{"account_id":26463293,"reputation":1,"user_id":20104908,"display_name":"Neonify"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73874261,"answer_count":1,"score":-2,"last_activity_date":1664318831,"creation_date":1664313470,"question_id":73873914,"body_markdown":"I have JTable that&#39;s supposed to show data that&#39;s present in a model that&#39;s a custom class that extends DefaultTableModel. It is supposed to start as a blank table, and that works but unfortunately, whenever I try to add new row, it seems like model is not properly assigned to JTable (data doesn&#39;t show up on JTable at all).\r\n\r\nHere&#39;s **TableOrdersModel**:\r\n\r\n    public class TableOrdersModel extends AbstractTableModel{\r\n\tString tableHeaders[] = {&quot;KATEGORIJA&quot;, &quot;NAZIV&quot;, &quot;CENA&quot;, &quot;KOLIČINA&quot;}; \r\n    private LinkedList&lt;Product&gt; products;\r\n    private DefaultTableModel tableModel;\r\n\r\n    public TableOrdersModel(LinkedList&lt;Product&gt; products) {\r\n    \tthis.tableModel = new DefaultTableModel(0, tableHeaders.length);\r\n    \tthis.tableModel.setColumnIdentifiers(tableHeaders);\r\n        this.products = products;\r\n    }\r\n\r\n    public void addRow(Product product) {\r\n    \tproducts.add(product);\r\n    \ttableModel.addRow(new Object[]{product.getCategory(), product.getName(), product.getPrice(), product.getQuantity()});\r\n    }\r\n    \r\n    @Override \r\n    public int getColumnCount() { \r\n        return tableHeaders.length; \r\n    } \r\n    @Override \r\n    public String getColumnName(int index) { \r\n        return tableHeaders[index]; \r\n    }\r\n    @Override\r\n    public void setValueAt(Object value, int row, int col) {\r\n        fireTableCellUpdated(row, col);\r\n    }\r\n    \r\n    \r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n\r\n        Object value = null;\r\n        Product product = products.get(rowIndex);\r\n        switch (columnIndex) {\r\n            case 0:\r\n                value = product.getCategory();\r\n                break;\r\n            case 1:\r\n                value = product.getName();\r\n                break;\r\n            case 2:\r\n                value = product.getPrice();\r\n                break;\r\n            case 3:\r\n                value = product.getQuantity();\r\n                break;\r\n            default:\r\n            \tSystem.err.println(&quot;ERROR: Invalid column index.&quot;);\r\n        }\r\n\r\n        return value;\r\n\r\n    }\r\n    public Product getProductAt(int row) {\r\n        return products.get(row);\r\n    }\r\n\r\n\t@Override\r\n\tpublic int getRowCount() {\r\n\t\treturn products.size();\r\n\t}\r\n}\r\n\r\n\r\nAnd here&#39;s how I&#39;m trying to assign it:\r\n\r\n    void displayOrdersForThisTable(Table selectedTable) {\r\n\t\tLinkedList&lt;Product&gt; products = selectedTable.getOrders();\r\n\t\tIterator&lt;Product&gt; it = products.iterator();\r\n\t\t\r\n\t\tTableOrdersModel tableModel = (TableOrdersModel) table.getModel();\r\n\t\t\r\n\t\twhile(it.hasNext()) {\r\n\t\t\tProduct productIterator = it.next();\r\n\t\t\ttableModel.addRow(productIterator);\r\n\t\t}\r\n\r\nHere is how JTable is initialized:\r\n\r\n    private JTable getTable() {\r\n\t\tif (table == null) {\r\n\t\t\tTableOrdersModel tableModel = new TableOrdersModel(new LinkedList&lt;Product&gt;());\r\n\t\t\ttable = new JTable(tableModel) {\r\n\t\t\t\tpublic boolean editCellAt(int row, int column, java.util.EventObject e) {\r\n\t\t            return false;\r\n\t\t         }\r\n\t\t\t};\r\n\t\t\ttable.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 18));\r\n\t\t}\r\n\t\treturn table;\r\n\t}\r\n\r\nAlso, the reason why I&#39;m using a custom model is because of this post (https://stackoverflow.com/questions/12559287/how-to-set-a-custom-object-in-a-jtable-row) where I want to retrieve whole row as a Object (in this case an instance of class Product) instead of having to retrieve each cell from same row and peice it together into a Product.\r\n\r\n\r\nAny help is greatly appericiated, thanks!","title":"JTable not showing data from custom table model","body":"<p>I have JTable that's supposed to show data that's present in a model that's a custom class that extends DefaultTableModel. It is supposed to start as a blank table, and that works but unfortunately, whenever I try to add new row, it seems like model is not properly assigned to JTable (data doesn't show up on JTable at all).</p>\n<p>Here's <strong>TableOrdersModel</strong>:</p>\n<pre><code>public class TableOrdersModel extends AbstractTableModel{\nString tableHeaders[] = {&quot;KATEGORIJA&quot;, &quot;NAZIV&quot;, &quot;CENA&quot;, &quot;KOLIČINA&quot;}; \nprivate LinkedList&lt;Product&gt; products;\nprivate DefaultTableModel tableModel;\n\npublic TableOrdersModel(LinkedList&lt;Product&gt; products) {\n    this.tableModel = new DefaultTableModel(0, tableHeaders.length);\n    this.tableModel.setColumnIdentifiers(tableHeaders);\n    this.products = products;\n}\n\npublic void addRow(Product product) {\n    products.add(product);\n    tableModel.addRow(new Object[]{product.getCategory(), product.getName(), product.getPrice(), product.getQuantity()});\n}\n\n@Override \npublic int getColumnCount() { \n    return tableHeaders.length; \n} \n@Override \npublic String getColumnName(int index) { \n    return tableHeaders[index]; \n}\n@Override\npublic void setValueAt(Object value, int row, int col) {\n    fireTableCellUpdated(row, col);\n}\n\n\n@Override\npublic Object getValueAt(int rowIndex, int columnIndex) {\n\n    Object value = null;\n    Product product = products.get(rowIndex);\n    switch (columnIndex) {\n        case 0:\n            value = product.getCategory();\n            break;\n        case 1:\n            value = product.getName();\n            break;\n        case 2:\n            value = product.getPrice();\n            break;\n        case 3:\n            value = product.getQuantity();\n            break;\n        default:\n            System.err.println(&quot;ERROR: Invalid column index.&quot;);\n    }\n\n    return value;\n\n}\npublic Product getProductAt(int row) {\n    return products.get(row);\n}\n\n@Override\npublic int getRowCount() {\n    return products.size();\n}\n</code></pre>\n<p>}</p>\n<p>And here's how I'm trying to assign it:</p>\n<pre><code>void displayOrdersForThisTable(Table selectedTable) {\n    LinkedList&lt;Product&gt; products = selectedTable.getOrders();\n    Iterator&lt;Product&gt; it = products.iterator();\n    \n    TableOrdersModel tableModel = (TableOrdersModel) table.getModel();\n    \n    while(it.hasNext()) {\n        Product productIterator = it.next();\n        tableModel.addRow(productIterator);\n    }\n</code></pre>\n<p>Here is how JTable is initialized:</p>\n<pre><code>private JTable getTable() {\n    if (table == null) {\n        TableOrdersModel tableModel = new TableOrdersModel(new LinkedList&lt;Product&gt;());\n        table = new JTable(tableModel) {\n            public boolean editCellAt(int row, int column, java.util.EventObject e) {\n                return false;\n             }\n        };\n        table.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 18));\n    }\n    return table;\n}\n</code></pre>\n<p>Also, the reason why I'm using a custom model is because of this post (<a href=\"https://stackoverflow.com/questions/12559287/how-to-set-a-custom-object-in-a-jtable-row\">How to set a custom object in a JTable row</a>) where I want to retrieve whole row as a Object (in this case an instance of class Product) instead of having to retrieve each cell from same row and peice it together into a Product.</p>\n<p>Any help is greatly appericiated, thanks!</p>\n"},{"tags":["java","maven","sbt","dropwizard"],"comments":[{"owner":{"account_id":3792667,"reputation":551,"user_id":3148709,"accept_rate":88,"display_name":"Rohan"},"score":0,"creation_date":1520981067,"post_id":49262060,"comment_id":85537452,"body_markdown":"You can give default values to your properties in your `Configuration` objects, or make them not required. I *think* if they have default values or are not specified as `@NotEmpty` / `@NotNull`, then Dropwizard will not complain if you don&#39;t load a config file.","body":"You can give default values to your properties in your <code>Configuration</code> objects, or make them not required. I <i>think</i> if they have default values or are not specified as <code>@NotEmpty</code> / <code>@NotNull</code>, then Dropwizard will not complain if you don&#39;t load a config file."},{"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"score":0,"creation_date":1521057373,"post_id":49262060,"comment_id":85576170,"body_markdown":"Have a look at: https://stackoverflow.com/questions/46682279/dropwizard-is-a-yml-config-mandatory/47099122#47099122","body":"Have a look at: <a href=\"https://stackoverflow.com/questions/46682279/dropwizard-is-a-yml-config-mandatory/47099122#47099122\" title=\"dropwizard is a yml config mandatory\">stackoverflow.com/questions/46682279/&hellip;</a>"},{"owner":{"display_name":"user8080556"},"score":0,"creation_date":1521057673,"post_id":49262060,"comment_id":85576335,"body_markdown":"@condit thanks for the link, maybe my question was unclear, I meant the default in dropwizard is a yaml file in resources folder. Is there no default configuration. So that if I start the application without passing the config.yaml as parameter that he looks if there is a config file in the resource folder?","body":"@condit thanks for the link, maybe my question was unclear, I meant the default in dropwizard is a yaml file in resources folder. Is there no default configuration. So that if I start the application without passing the config.yaml as parameter that he looks if there is a config file in the resource folder?"}],"answers":[{"tags":[],"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1664317695,"creation_date":1521125556,"answer_id":49302650,"question_id":49262060,"body_markdown":"Use class [`ResourceConfigurationSourceProvider`](https://javadoc.io/doc/io.dropwizard/dropwizard-project/latest/io/dropwizard/configuration/ResourceConfigurationSourceProvider.html):\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    @Override\r\n    public void initialize(final Bootstrap&lt;ExampleConfiguration&gt; bootstrap) {  \r\n\t  bootstrap.setConfigurationSourceProvider(new ResourceConfigurationSourceProvider());\r\n      // The rest of initialize...\r\n    }\r\n\r\nAnd then invoke the application like:\r\n\r\n`java -jar APPLICATION.jar server /resource-config.yaml`\r\n\r\n(note the initial `/`)","title":"Start Dropwizard with config.yaml from resources","body":"<p>Use class <a href=\"https://javadoc.io/doc/io.dropwizard/dropwizard-project/latest/io/dropwizard/configuration/ResourceConfigurationSourceProvider.html\" rel=\"nofollow noreferrer\"><code>ResourceConfigurationSourceProvider</code></a>:</p>\n\n<pre><code>@Override\npublic void initialize(final Bootstrap&lt;ExampleConfiguration&gt; bootstrap) {  \n  bootstrap.setConfigurationSourceProvider(new ResourceConfigurationSourceProvider());\n  // The rest of initialize...\n}\n</code></pre>\n<p>And then invoke the application like:</p>\n<p><code>java -jar APPLICATION.jar server /resource-config.yaml</code></p>\n<p>(note the initial <code>/</code>)</p>\n"},{"tags":[],"owner":{"account_id":3477746,"reputation":23,"user_id":2910554,"display_name":"Paul Jose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643307421,"creation_date":1643307421,"answer_id":70883731,"question_id":49262060,"body_markdown":"&lt;p&gt;While this answer is very late, just thought I&#39;d put this here. There is a dirty little hack to make it work so that you don&#39;t have to provide config.yaml in your application arguments.&lt;/p&gt;\r\n&lt;p&gt;Basically, you can submit a new String[] args to the run() method in the dropwizard application.&lt;/p&gt;\r\n\r\n\r\n    public class ApplicationServer extends Application&lt;Config&gt; {\r\n\r\n      public static void main(String[] args) {\r\n        String[] appArgs = new String[2];\r\n        appArgs[0] = args[0]; // This will be the usual server argument\r\n        appArgs[1] = &quot;config.yaml&quot;;\r\n        \r\n        new ApplicationServer().run(appArgs);\r\n      }\r\n      \r\n      @Override\r\n      public void run(Config configuration, Environment environment) {\r\n        // Configure your resources and other application related things\r\n      }\r\n      \r\n    }\r\n\r\n&lt;p&gt;I used this little trick to specify which config file I wanted to run with. So instead of specifying config.yaml, I would give my second argument as DEV/UAT/STAGE/PROD and pass on the appropriate config file to the run method.&lt;/p&gt;\r\n","title":"Start Dropwizard with config.yaml from resources","body":"<p>While this answer is very late, just thought I'd put this here. There is a dirty little hack to make it work so that you don't have to provide config.yaml in your application arguments.</p>\n<p>Basically, you can submit a new String[] args to the run() method in the dropwizard application.</p>\n<pre><code>public class ApplicationServer extends Application&lt;Config&gt; {\n\n  public static void main(String[] args) {\n    String[] appArgs = new String[2];\n    appArgs[0] = args[0]; // This will be the usual server argument\n    appArgs[1] = &quot;config.yaml&quot;;\n    \n    new ApplicationServer().run(appArgs);\n  }\n  \n  @Override\n  public void run(Config configuration, Environment environment) {\n    // Configure your resources and other application related things\n  }\n  \n}\n</code></pre>\n<p>I used this little trick to specify which config file I wanted to run with. So instead of specifying config.yaml, I would give my second argument as DEV/UAT/STAGE/PROD and pass on the appropriate config file to the run method.</p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664318570,"creation_date":1664318570,"answer_id":73874468,"question_id":49262060,"body_markdown":"Also interesting to have a look at:\r\n[earlye/dropwizard-multi-config][1]\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.thenewentity&lt;/groupId&gt;\r\n  &lt;artifactId&gt;dropwizard-multi-config&lt;/artifactId&gt;\r\n  &lt;version&gt;{version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIt allows overriding and merging multiple config-files passed on the java command-line like:\r\n```shell\r\njava -jar sample.jar server -- sample.yaml override.yaml\r\n```\r\nHere you pass (1) `sample.yaml` as the primary configuration (e.g. having default values) and (2) `override.yaml` as the override. The effective config is a result from merging both in order of appearance: (1) defaults will be overwritten and merged with (2).\r\n\r\n  [1]: https://github.com/earlye/dropwizard-multi-config","title":"Start Dropwizard with config.yaml from resources","body":"<p>Also interesting to have a look at:\n<a href=\"https://github.com/earlye/dropwizard-multi-config\" rel=\"nofollow noreferrer\">earlye/dropwizard-multi-config</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.thenewentity&lt;/groupId&gt;\n  &lt;artifactId&gt;dropwizard-multi-config&lt;/artifactId&gt;\n  &lt;version&gt;{version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It allows overriding and merging multiple config-files passed on the java command-line like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar sample.jar server -- sample.yaml override.yaml\n</code></pre>\n<p>Here you pass (1) <code>sample.yaml</code> as the primary configuration (e.g. having default values) and (2) <code>override.yaml</code> as the override. The effective config is a result from merging both in order of appearance: (1) defaults will be overwritten and merged with (2).</p>\n"}],"owner":{"display_name":"user8080556"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3244,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49302650,"answer_count":3,"score":8,"last_activity_date":1664318570,"creation_date":1520961176,"question_id":49262060,"body_markdown":"I have a dropwizard question. I use Dropwizard with SBT (which works pretty fine).\r\nIf I run my application i package it with:\r\n\r\n    $ sbt clean assembly\r\n\r\nAnd than run the application with:\r\n\r\n    $ java -jar APPLICATION.jar server\r\n\r\nThe problem is with this command Dropwizard doesnt load my config file (config.yaml), which is in the resources located. \r\nRegarding the Dropwizard Docs I always have to give the config file as parameter like:\r\n\r\n    $ java -jar APPLICATION.jar server config.yaml\r\n\r\nThis works fine and it loads the application but is there any possibility to tell Dropwizard to load directly the config.yaml file, because my configuration in the config.yaml file is static and it is always the same. Settings like Database etc which are changing from Server Stage to Server Stage are made as Enviroment Variable which I load with EnvironmentVariableSubstitutor.\r\n\r\nThanks","title":"Start Dropwizard with config.yaml from resources","body":"<p>I have a dropwizard question. I use Dropwizard with SBT (which works pretty fine).\nIf I run my application i package it with:</p>\n\n<pre><code>$ sbt clean assembly\n</code></pre>\n\n<p>And than run the application with:</p>\n\n<pre><code>$ java -jar APPLICATION.jar server\n</code></pre>\n\n<p>The problem is with this command Dropwizard doesnt load my config file (config.yaml), which is in the resources located. \nRegarding the Dropwizard Docs I always have to give the config file as parameter like:</p>\n\n<pre><code>$ java -jar APPLICATION.jar server config.yaml\n</code></pre>\n\n<p>This works fine and it loads the application but is there any possibility to tell Dropwizard to load directly the config.yaml file, because my configuration in the config.yaml file is static and it is always the same. Settings like Database etc which are changing from Server Stage to Server Stage are made as Enviroment Variable which I load with EnvironmentVariableSubstitutor.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","utf-8","substring","java-11"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664294080,"post_id":73869716,"comment_id":130436424,"body_markdown":"Git bash &quot;handles Unicode correctly&quot; (not in &quot;windows-style&quot;)... https://stackoverflow.com/q/10651975/592355","body":"Git bash &quot;handles Unicode correctly&quot; (not in &quot;windows-style&quot;)... <a href=\"https://stackoverflow.com/q/10651975/592355\">stackoverflow.com/q/10651975/592355</a>"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1664318407,"creation_date":1664292987,"answer_id":73870242,"question_id":73869716,"body_markdown":"[Prior to JDK-18] and [JEP 400][1], `getBytes()` on a `String` uses the platforms default character encoding which is not guaranteed to be UTF-8. You would have to use `line.getBytes(StandardCharsets.UTF_8)` to ensure to always get the bytes according to the UTF-8 encoding.\r\n\r\nHowever, this is unnecessarily complicated. To remove the BOM, if present, you can simply use the string’s UTF-16 based API.\r\n\r\n```java\r\nif(line.startsWith(&quot;\\uFEFF&quot;)) line = line.substring(1);\r\n```\r\n\r\nNot only is this shorter, it is more efficient as it doesn’t convert the entire string to UTF-8, just to check the first char.\r\n\r\n---\r\n\r\nBut you also have to check the source of the string. It is possible that you have a similar problem at the file reading site, using the platform’s default encoding rather than reading the file as UTF-8.\r\n\r\nNote the differences between the APIs (prior to JDK&#160;18)\r\n\r\n - [`Files.newBufferedReader(path)`] always uses UTF-8\r\n - [`new FileReader(file)`] uses the platform’s default charset\r\n - [`new InputStreamReader(inputStream)`] also uses the platform’s default charset\r\n\r\nIf in doubt, always specify the intended charset.\r\n\r\n[`Files.newBufferedReader(path)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#newBufferedReader(java.nio.file.Path)\r\n[`new FileReader(file)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File)\r\n[`new InputStreamReader(inputStream)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html#%3Cinit%3E(java.io.InputStream)\r\n[Prior to JDK-18]: https://bugs.openjdk.org/browse/JDK-8260266\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/400","title":"Handle utf-8 with bom in java","body":"<p><a href=\"https://bugs.openjdk.org/browse/JDK-8260266\" rel=\"noreferrer\">Prior to JDK-18</a> and <a href=\"https://openjdk.org/jeps/400\" rel=\"noreferrer\">JEP 400</a>, <code>getBytes()</code> on a <code>String</code> uses the platforms default character encoding which is not guaranteed to be UTF-8. You would have to use <code>line.getBytes(StandardCharsets.UTF_8)</code> to ensure to always get the bytes according to the UTF-8 encoding.</p>\n<p>However, this is unnecessarily complicated. To remove the BOM, if present, you can simply use the string’s UTF-16 based API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(line.startsWith(&quot;\\uFEFF&quot;)) line = line.substring(1);\n</code></pre>\n<p>Not only is this shorter, it is more efficient as it doesn’t convert the entire string to UTF-8, just to check the first char.</p>\n<hr />\n<p>But you also have to check the source of the string. It is possible that you have a similar problem at the file reading site, using the platform’s default encoding rather than reading the file as UTF-8.</p>\n<p>Note the differences between the APIs (prior to JDK 18)</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#newBufferedReader(java.nio.file.Path)\" rel=\"noreferrer\"><code>Files.newBufferedReader(path)</code></a> always uses UTF-8</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File)\" rel=\"noreferrer\"><code>new FileReader(file)</code></a> uses the platform’s default charset</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html#%3Cinit%3E(java.io.InputStream)\" rel=\"noreferrer\"><code>new InputStreamReader(inputStream)</code></a> also uses the platform’s default charset</li>\n</ul>\n<p>If in doubt, always specify the intended charset.</p>\n"}],"owner":{"account_id":11239377,"reputation":1307,"user_id":8244247,"display_name":"Joseph Budin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73870242,"answer_count":1,"score":1,"last_activity_date":1664318407,"creation_date":1664290669,"question_id":73869716,"body_markdown":"I have some code removing the BOM header of the first line of a file like this  : \r\n\r\n    public static String removeBOMIndicator(String line) {\r\n        if (line.length() &gt; 1) {\r\n            byte[] bytes = line.getBytes();\r\n            if (bytes.length &gt;= 3 &amp;&amp; bytes[0] == (byte) 0xEF &amp;&amp; bytes[1] == (byte) 0xBB &amp;&amp; bytes[2] == (byte) 0xBF) {\r\n                line = line.substring(1);\r\n            }\r\n        }\r\n        return line;\r\n    }\r\n\r\nThis function works well and I created a test case to be sure it stays that way. The test passes without trouble when I launch it with IntelliJ or when our SonarQube instance runs it.\r\n\r\nHowever, when I launch the test using Git Bash (`mvn surefire:test -Dtest=RemoveBomHeadertTest`), the output of my function contains two characters `╗┐` at the start.\r\n\r\nIf I change my code to remove the 3 first characters instead of only the first one, then it works well in Git Bash, but in IntelliJ, I&#39;m missing the first two characters of my String.\r\n\r\nAny idea why the behaviour of `substring` might be different in these two cases ?","title":"Handle utf-8 with bom in java","body":"<p>I have some code removing the BOM header of the first line of a file like this  :</p>\n<pre><code>public static String removeBOMIndicator(String line) {\n    if (line.length() &gt; 1) {\n        byte[] bytes = line.getBytes();\n        if (bytes.length &gt;= 3 &amp;&amp; bytes[0] == (byte) 0xEF &amp;&amp; bytes[1] == (byte) 0xBB &amp;&amp; bytes[2] == (byte) 0xBF) {\n            line = line.substring(1);\n        }\n    }\n    return line;\n}\n</code></pre>\n<p>This function works well and I created a test case to be sure it stays that way. The test passes without trouble when I launch it with IntelliJ or when our SonarQube instance runs it.</p>\n<p>However, when I launch the test using Git Bash (<code>mvn surefire:test -Dtest=RemoveBomHeadertTest</code>), the output of my function contains two characters <code>╗┐</code> at the start.</p>\n<p>If I change my code to remove the 3 first characters instead of only the first one, then it works well in Git Bash, but in IntelliJ, I'm missing the first two characters of my String.</p>\n<p>Any idea why the behaviour of <code>substring</code> might be different in these two cases ?</p>\n"},{"tags":["java","kerberos"],"answers":[{"tags":[],"owner":{"account_id":23599,"reputation":3481,"user_id":59241,"accept_rate":76,"display_name":"Dikla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1245835232,"creation_date":1245835232,"answer_id":1037289,"question_id":1037009,"body_markdown":"\r\n&gt; The class com.sun.security.auth.module.Krb5LoginModule is Sun&#39;s implementation of a login module for the Kerberos version 5 protocol. Upon successful authentication the Ticket Granting Ticket (TGT) is stored in the Subject&#39;s private credentials set and the Kerberos principal is stored in the Subject&#39;s principal set.\r\n\r\n(Taken from [here][1])\r\n\r\nThis means that `LoginContext.login` is indeed equal to `kinit` in that after each of them, we have a TGT.\r\n\r\nThe service ticket will be obtained and used later - according to the action performed in `Subject.doAs()`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/guides/security/jgss/single-signon.html","title":"Kerberos Authentication in Java - does &quot;login&quot; action in java equals to &quot;kinit&quot;?","body":"<blockquote>\n  <p>The class com.sun.security.auth.module.Krb5LoginModule is Sun's implementation of a login module for the Kerberos version 5 protocol. Upon successful authentication the Ticket Granting Ticket (TGT) is stored in the Subject's private credentials set and the Kerberos principal is stored in the Subject's principal set.</p>\n</blockquote>\n\n<p>(Taken from <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/security/jgss/single-signon.html\" rel=\"noreferrer\">here</a>)</p>\n\n<p>This means that <code>LoginContext.login</code> is indeed equal to <code>kinit</code> in that after each of them, we have a TGT.</p>\n\n<p>The service ticket will be obtained and used later - according to the action performed in <code>Subject.doAs()</code>.</p>\n"},{"tags":[],"owner":{"account_id":19868807,"reputation":11,"user_id":14555457,"display_name":"tritbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664317836,"creation_date":1664317836,"answer_id":73874387,"question_id":1037009,"body_markdown":"Never use LoginContext.login because it doesn&#39;t support MIT Kerberos cred cache standard for popular OS like Windows, Linux, MacOSX and etc.\r\nJavaAPI is proprietary feature for Oracle environment\r\n\r\nkinit and MIT is C libraries and no one alternative replaces it.\r\n\r\nIf you need specific TGT service to do correctly it&#39;s only to use kinit source code to make your own module.\r\n\r\nOf course you must also use right way to get TGS without Java modules. \r\nNever use Jaas and krb5Module in Linux/Windows.\r\nOnly Sun GSS native is fit for any OS: https://docs.oracle.com/en/java/javase/11/security/accessing-native-gss-api.html\r\n\r\nThis is important unless you don&#39;t want to make your KDC servers failed by thousands of requests flood.","title":"Kerberos Authentication in Java - does &quot;login&quot; action in java equals to &quot;kinit&quot;?","body":"<p>Never use LoginContext.login because it doesn't support MIT Kerberos cred cache standard for popular OS like Windows, Linux, MacOSX and etc.\nJavaAPI is proprietary feature for Oracle environment</p>\n<p>kinit and MIT is C libraries and no one alternative replaces it.</p>\n<p>If you need specific TGT service to do correctly it's only to use kinit source code to make your own module.</p>\n<p>Of course you must also use right way to get TGS without Java modules.\nNever use Jaas and krb5Module in Linux/Windows.\nOnly Sun GSS native is fit for any OS: <a href=\"https://docs.oracle.com/en/java/javase/11/security/accessing-native-gss-api.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/security/accessing-native-gss-api.html</a></p>\n<p>This is important unless you don't want to make your KDC servers failed by thousands of requests flood.</p>\n"}],"owner":{"account_id":23599,"reputation":3481,"user_id":59241,"accept_rate":76,"display_name":"Dikla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6574,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":1037289,"answer_count":2,"score":5,"last_activity_date":1664317836,"creation_date":1245830742,"question_id":1037009,"body_markdown":"I&#39;m using GSSAPI in Java in order to login to an LDAP server using Kerberos authentication. I&#39;m a newbie to Kerberos, so I&#39;m sorry if this is an obvious question, but I couldn&#39;t find anything clear enough on the internet.\r\n\r\nI perform the following steps:\r\n\r\n 1. Define Login configuration by setting the system property `&quot;java.security.auth.login.config&quot;` to the configuration file path.\r\n 2. Call `LoginContext.login()` with the name of the configuration and a self defined callback handler\r\n 3. In case login succeeded, &quot;pretend to be&quot; the subject (by using `Subject.doAs()`), and connect to the LDAP server by creating a new `InitialLDAPContext` with the appropriate environment variables.\r\n\r\nNow, My problem is I don&#39;t understand which step correlates to which kerberos action?\r\nIs it correct to say that after the login action I only have a TGT? When do I get the service specific ticket?\r\n\r\nThanks,\r\nDikla","title":"Kerberos Authentication in Java - does &quot;login&quot; action in java equals to &quot;kinit&quot;?","body":"<p>I'm using GSSAPI in Java in order to login to an LDAP server using Kerberos authentication. I'm a newbie to Kerberos, so I'm sorry if this is an obvious question, but I couldn't find anything clear enough on the internet.</p>\n\n<p>I perform the following steps:</p>\n\n<ol>\n<li>Define Login configuration by setting the system property <code>\"java.security.auth.login.config\"</code> to the configuration file path.</li>\n<li>Call <code>LoginContext.login()</code> with the name of the configuration and a self defined callback handler</li>\n<li>In case login succeeded, \"pretend to be\" the subject (by using <code>Subject.doAs()</code>), and connect to the LDAP server by creating a new <code>InitialLDAPContext</code> with the appropriate environment variables.</li>\n</ol>\n\n<p>Now, My problem is I don't understand which step correlates to which kerberos action?\nIs it correct to say that after the login action I only have a TGT? When do I get the service specific ticket?</p>\n\n<p>Thanks,\nDikla</p>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":1,"creation_date":1664308537,"post_id":73873113,"comment_id":130440905,"body_markdown":"If you explain why you need to access all of those classes, we can help you in a better fashion. Also, do you create these classes or someone else uses these classes? Are you able to add some annotations to these classes?","body":"If you explain why you need to access all of those classes, we can help you in a better fashion. Also, do you create these classes or someone else uses these classes? Are you able to add some annotations to these classes?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664308778,"post_id":73873113,"comment_id":130440967,"body_markdown":"an annotation processor needs annotated types to find what it should process, once you have an element, I think you need to get to https://docs.oracle.com/javase/9/docs/api/javax/lang/model/element/TypeElement.html#getInterfaces-- to check what interfaces are implemented and filter","body":"an annotation processor needs annotated types to find what it should process, once you have an element, I think you need to get to <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/lang/model/element/TypeElement.html#getInterfaces--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/javax/lang/model/element/&hellip;</a> to check what interfaces are implemented and filter"},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1664308886,"post_id":73873113,"comment_id":130441014,"body_markdown":"@wolfenblut This classes already exist but I cannot edit them in any way.","body":"@wolfenblut This classes already exist but I cannot edit them in any way."},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1664308930,"post_id":73873113,"comment_id":130441031,"body_markdown":"@zapl Yes I&#39;m able to get the classes that have an annotation but these ones don&#39;t have one, but the ones that have need this ones.","body":"@zapl Yes I&#39;m able to get the classes that have an annotation but these ones don&#39;t have one, but the ones that have need this ones."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664309791,"post_id":73873113,"comment_id":130441266,"body_markdown":"An annotation processor can&#39;t find classes that are not annotated as far as I&#39;m aware. The compiler during compilation provides only those classes that have an annotation you are interested in. Maybe it&#39;s the wrong tool for the job. Postprocessing compiled java bytecode (statically or from within a classloader) could work but that gets even more complicated and fragile than annotation processors. Isn&#39;t there maybe a simpler solution to the problem you are trying to solve? Maybe cheat by extending those classes and put an annotation on them.","body":"An annotation processor can&#39;t find classes that are not annotated as far as I&#39;m aware. The compiler during compilation provides only those classes that have an annotation you are interested in. Maybe it&#39;s the wrong tool for the job. Postprocessing compiled java bytecode (statically or from within a classloader) could work but that gets even more complicated and fragile than annotation processors. Isn&#39;t there maybe a simpler solution to the problem you are trying to solve? Maybe cheat by extending those classes and put an annotation on them."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1664310122,"post_id":73873113,"comment_id":130441348,"body_markdown":"You can’t.  You’re not supposed to.  Java classes are loaded dynamically, so you can’t ever know “all classes” for any qualification, except service providers.  Perhaps you should describe why you believe you need this;  there’s probably a better way to accomplish what you want.","body":"You can’t.  You’re not supposed to.  Java classes are loaded dynamically, so you can’t ever know “all classes” for any qualification, except service providers.  Perhaps you should describe why you believe you need this;  there’s probably a better way to accomplish what you want."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664317827,"creation_date":1664317827,"answer_id":73874385,"question_id":73873113,"body_markdown":"Depends on your definition of &#39;all classes that implement an interface&#39;.\r\n\r\n## Just the ones that are being compiled right now\r\n\r\nThis is trickier than it looks like. Compilation is often _incremental_, meaning, even if you run a build that says &#39;compile everything&#39;, only those source files that actually need to be recompiled (because their source file has a more recent modification timestamp than the class files that spin off from it and it doesn&#39;t reference anything from sources that are marked for recompilation). So, &#39;being compiled right now&#39; is a smaller batch of files than you think.\r\n\r\nTo do this, it&#39;s easy. First, register yourself for the annotation `&quot;*&quot;`, which means, you want to trigger on every source file, annotated or not: `@SupportedAnnotationTypes(&quot;*&quot;)`.\r\n\r\nNext, in your `process` method, you can ask the `RoundEnv` for all classes. Go through them, check what interfaces they implement, and process everything that implements what you wanted.\r\n\r\n## Everything from my project\r\n\r\nThis is impossible. Classpath as a concept doesn&#39;t have a &#39;list&#39; abstraction, therefore, you can&#39;t just &#39;get everything that implements X&#39;.\r\n\r\nWhat you _can_ do, is spit out a textfile as part of your annotation processing, which lists the source file of everything that is relevant. You can then use the Filer during the final round (where `process` is called with a `roundEnv` indicating it is the final one) to read this text file (the classpath _does_ have the concept of &#39;give me the resource named FOO&#39;), then you ask the filer for each of the source (or class, whatever way you want to go) file and check if they still exist. If yes, then at least you know it hasn&#39;t changed at all. If it doesn&#39;t, then the programmer deleted it and you should act accordingly.\r\n\r\nThis is somewhat complicated and I&#39;m not aware of any frameworks. You&#39;ll have to build it yourself.\r\n\r\n## All classes anywhere on any machine anywhere in time or space.\r\n\r\nYeah, well. Not possible, duh.\r\n\r\n\r\n","title":"Get all classes that implement interface","body":"<p>Depends on your definition of 'all classes that implement an interface'.</p>\n<h2>Just the ones that are being compiled right now</h2>\n<p>This is trickier than it looks like. Compilation is often <em>incremental</em>, meaning, even if you run a build that says 'compile everything', only those source files that actually need to be recompiled (because their source file has a more recent modification timestamp than the class files that spin off from it and it doesn't reference anything from sources that are marked for recompilation). So, 'being compiled right now' is a smaller batch of files than you think.</p>\n<p>To do this, it's easy. First, register yourself for the annotation <code>&quot;*&quot;</code>, which means, you want to trigger on every source file, annotated or not: <code>@SupportedAnnotationTypes(&quot;*&quot;)</code>.</p>\n<p>Next, in your <code>process</code> method, you can ask the <code>RoundEnv</code> for all classes. Go through them, check what interfaces they implement, and process everything that implements what you wanted.</p>\n<h2>Everything from my project</h2>\n<p>This is impossible. Classpath as a concept doesn't have a 'list' abstraction, therefore, you can't just 'get everything that implements X'.</p>\n<p>What you <em>can</em> do, is spit out a textfile as part of your annotation processing, which lists the source file of everything that is relevant. You can then use the Filer during the final round (where <code>process</code> is called with a <code>roundEnv</code> indicating it is the final one) to read this text file (the classpath <em>does</em> have the concept of 'give me the resource named FOO'), then you ask the filer for each of the source (or class, whatever way you want to go) file and check if they still exist. If yes, then at least you know it hasn't changed at all. If it doesn't, then the programmer deleted it and you should act accordingly.</p>\n<p>This is somewhat complicated and I'm not aware of any frameworks. You'll have to build it yourself.</p>\n<h2>All classes anywhere on any machine anywhere in time or space.</h2>\n<p>Yeah, well. Not possible, duh.</p>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73874385,"answer_count":1,"score":-2,"last_activity_date":1664317827,"creation_date":1664308239,"question_id":73873113,"body_markdown":"I&#39;m implementing an annotation processor that needs all classes that implement an interface.\r\n\r\nThe main issue is that these classes can be anywhere, so there isn&#39;t an easy way to get them.\r\n\r\nI cannot edit this classes in any way.\r\n\r\nI need to get this classes to generate a Map.\r\n\r\nHow can I achieve this?\r\n\r\nThanks","title":"Get all classes that implement interface","body":"<p>I'm implementing an annotation processor that needs all classes that implement an interface.</p>\n<p>The main issue is that these classes can be anywhere, so there isn't an easy way to get them.</p>\n<p>I cannot edit this classes in any way.</p>\n<p>I need to get this classes to generate a Map.</p>\n<p>How can I achieve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","json","dictionary","data-structures","dataset"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1664292061,"post_id":73868777,"comment_id":130435587,"body_markdown":"Create a tree, fill items in the tree according to their level, print the tree. What do you have so far?","body":"Create a tree, fill items in the tree according to their level, print the tree. What do you have so far?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1664292839,"post_id":73868777,"comment_id":130435903,"body_markdown":"Also you&#39;re missing information here. How can you tell if `Item4` is a child of `Item3` and not a child of `Item2` ?  Or `Item8` is a child of `Item7` but not of `Item2` and `Item3` (which are also level 2 elements? )","body":"Also you&#39;re missing information here. How can you tell if <code>Item4</code> is a child of <code>Item3</code> and not a child of <code>Item2</code> ?  Or <code>Item8</code> is a child of <code>Item7</code> but not of <code>Item2</code> and <code>Item3</code> (which are also level 2 elements? )"}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664317717,"creation_date":1664317717,"answer_id":73874369,"question_id":73868777,"body_markdown":"### Logic\r\n\r\n- Iterate all the elements\r\n- Figure out the list where they belong to\r\n- Add them to that list\r\n- Mark the node as the list for the next level\r\n- Repeat\r\n\r\n\r\n### Details\r\n\r\nTo keep track of the list where a node will go, you can create a map `level -&gt; list`\r\n```\r\nvar map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\r\n```\r\n\r\nThen get the list for the current level and add the node \r\n\r\n```\r\nvar list = map.get(node.level());\r\nlist.add(node);\r\n```\r\n\r\nFinally, and the most important part, add that node&#39;s list as the list where the next level will go\r\n\r\nSo, then you add `item1`, all the nodes with level 2 will go in its list.\r\n\r\nWhen you add `item6` (which is also level 1) you will be replacing the place where level 2 go now (e.g. `item7`)\r\n\r\n```\r\nmap.put(node.level() + 1, node.list());\r\n```\r\n\r\n\r\nSo, putting all together it looks like this: \r\n\r\n```java\r\n    var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\r\n    map.put(1, new ArrayList&lt;&gt;());\r\n    for (var node: input) {\r\n      var list = map.get(node.level());\r\n      list.add(node);\r\n      map.put(node.level() + 1, node.list());\r\n    }\r\n```\r\n\r\n### Standalone Example\r\n\r\n```\r\nimport java.util.*;\r\n\r\n\r\nclass Main {\r\n\r\n  public static void main(String ... args) {\r\n    var input = Arrays.asList(\r\n          node(&quot;1&quot;, &quot;1&quot;,  &quot;Item1&quot;),\r\n          node(&quot;2&quot;, &quot;2&quot;,  &quot;Item2&quot;),\r\n          node(&quot;3&quot;, &quot;2&quot;,  &quot;Item3&quot;),\r\n          node(&quot;4&quot;, &quot;3&quot;,  &quot;Item4&quot;),\r\n          node(&quot;5&quot;, &quot;2&quot;,  &quot;Item5&quot;),\r\n          node(&quot;6&quot;, &quot;1&quot;,  &quot;Item6&quot;),\r\n          node(&quot;7&quot;, &quot;2&quot;,  &quot;Item7&quot;),\r\n          node(&quot;8&quot;, &quot;3&quot;,  &quot;Item8&quot;),\r\n          node(&quot;9&quot;, &quot;4&quot;,  &quot;Item9&quot;)\r\n    );\r\n    var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\r\n    map.put(1, new ArrayList&lt;&gt;()); // for top level\r\n    for (var node: input) {\r\n      var list = map.get(node.level());\r\n      list.add(node);\r\n      map.put(node.level() + 1, node.list());\r\n    }\r\n    System.out.println(map.get(1)); \r\n  }\r\n  static record Node(String id, int level, String name, List&lt;Node&gt; list){}\r\n  static Node node(String id, String level, String name) {\r\n    return new Node(id, Integer.valueOf(level), name, new ArrayList&lt;&gt;());\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nOutput: \r\n```\r\n[\r\n  Node[id=1, level=1, name=Item1, list=[\r\n    Node[id=2, level=2, name=Item2, list=[]],\r\n    Node[id=3, level=2, name=Item3, list=[\r\n      Node[id=4, level=3, name=Item4, list=[]]\r\n    ]],\r\n    Node[id=5, level=2, name=Item5, list=[]]]\r\n  ],\r\n  Node[id=6, level=1, name=Item6, list=[\r\n    Node[id=7, level=2, name=Item7, list=[\r\n      Node[id=8, level=3, name=Item8, list=[\r\n        Node[id=9, level=4, name=Item9, list=[]]\r\n      ]]\r\n    ]]\r\n  ]]\r\n]\r\n```\r\n\r\nFrom there you can walk the elements and transform it to JSON.","title":"Leveled List to JSON (JAVA)","body":"<h3>Logic</h3>\n<ul>\n<li>Iterate all the elements</li>\n<li>Figure out the list where they belong to</li>\n<li>Add them to that list</li>\n<li>Mark the node as the list for the next level</li>\n<li>Repeat</li>\n</ul>\n<h3>Details</h3>\n<p>To keep track of the list where a node will go, you can create a map <code>level -&gt; list</code></p>\n<pre><code>var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\n</code></pre>\n<p>Then get the list for the current level and add the node</p>\n<pre><code>var list = map.get(node.level());\nlist.add(node);\n</code></pre>\n<p>Finally, and the most important part, add that node's list as the list where the next level will go</p>\n<p>So, then you add <code>item1</code>, all the nodes with level 2 will go in its list.</p>\n<p>When you add <code>item6</code> (which is also level 1) you will be replacing the place where level 2 go now (e.g. <code>item7</code>)</p>\n<pre><code>map.put(node.level() + 1, node.list());\n</code></pre>\n<p>So, putting all together it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\n    map.put(1, new ArrayList&lt;&gt;());\n    for (var node: input) {\n      var list = map.get(node.level());\n      list.add(node);\n      map.put(node.level() + 1, node.list());\n    }\n</code></pre>\n<h3>Standalone Example</h3>\n<pre><code>import java.util.*;\n\n\nclass Main {\n\n  public static void main(String ... args) {\n    var input = Arrays.asList(\n          node(&quot;1&quot;, &quot;1&quot;,  &quot;Item1&quot;),\n          node(&quot;2&quot;, &quot;2&quot;,  &quot;Item2&quot;),\n          node(&quot;3&quot;, &quot;2&quot;,  &quot;Item3&quot;),\n          node(&quot;4&quot;, &quot;3&quot;,  &quot;Item4&quot;),\n          node(&quot;5&quot;, &quot;2&quot;,  &quot;Item5&quot;),\n          node(&quot;6&quot;, &quot;1&quot;,  &quot;Item6&quot;),\n          node(&quot;7&quot;, &quot;2&quot;,  &quot;Item7&quot;),\n          node(&quot;8&quot;, &quot;3&quot;,  &quot;Item8&quot;),\n          node(&quot;9&quot;, &quot;4&quot;,  &quot;Item9&quot;)\n    );\n    var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\n    map.put(1, new ArrayList&lt;&gt;()); // for top level\n    for (var node: input) {\n      var list = map.get(node.level());\n      list.add(node);\n      map.put(node.level() + 1, node.list());\n    }\n    System.out.println(map.get(1)); \n  }\n  static record Node(String id, int level, String name, List&lt;Node&gt; list){}\n  static Node node(String id, String level, String name) {\n    return new Node(id, Integer.valueOf(level), name, new ArrayList&lt;&gt;());\n  }\n\n}\n\n\n\n</code></pre>\n<p>Output:</p>\n<pre><code>[\n  Node[id=1, level=1, name=Item1, list=[\n    Node[id=2, level=2, name=Item2, list=[]],\n    Node[id=3, level=2, name=Item3, list=[\n      Node[id=4, level=3, name=Item4, list=[]]\n    ]],\n    Node[id=5, level=2, name=Item5, list=[]]]\n  ],\n  Node[id=6, level=1, name=Item6, list=[\n    Node[id=7, level=2, name=Item7, list=[\n      Node[id=8, level=3, name=Item8, list=[\n        Node[id=9, level=4, name=Item9, list=[]]\n      ]]\n    ]]\n  ]]\n]\n</code></pre>\n<p>From there you can walk the elements and transform it to JSON.</p>\n"}],"owner":{"account_id":17302469,"reputation":403,"user_id":12531920,"display_name":"Cesar Lopes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664317717,"creation_date":1664286616,"question_id":73868777,"body_markdown":"I&#39;m working with an API that retrievies data from a level structure dataset.\r\nIn the WebSite it shows a Json structure like this:\r\n\r\n    - Item1\r\n        - Item2\r\n        - Item3\r\n            - Item4\r\n        - Item5\r\n    - Item6\r\n        - Item7\r\n            - Item8\r\n                - Item9\r\n    ...\r\n\r\nThe problem is that when I retrieve the data from the API, it comes in a txt file with each element displayed in lines like this (I think that is because they are working with SQL): \r\n\r\n    id:&quot;1&quot;, Level:&quot;1&quot;, name: &quot;Item1&quot;\r\n    id:&quot;2&quot;, Level:&quot;2&quot;, name: &quot;Item2&quot;\r\n    id:&quot;3&quot;, Level:&quot;2&quot;, name: &quot;Item3&quot;\r\n    id:&quot;4&quot;, Level:&quot;3&quot;, name: &quot;Item4&quot;\r\n    id:&quot;5&quot;, Level:&quot;2&quot;, name: &quot;Item5&quot;\r\n    id:&quot;6&quot;, Level:&quot;1&quot;, name: &quot;Item6&quot;\r\n    id:&quot;7&quot;, Level:&quot;2&quot;, name: &quot;Item7&quot;\r\n    id:&quot;8&quot;, Level:&quot;3&quot;, name: &quot;Item8&quot;\r\n    id:&quot;9&quot;, Level:&quot;4&quot;, name: &quot;Item9&quot;\r\n    ...\r\n\r\nRight now I&#39;m converting each line to an object and storing all of them in a Map, with the id as a key. But I&#39;d like to convert this to a JSON to make it easier to see and program the level structure. The problem is that I can&#39;t know for sure how many levels there will be and how many elements there will be in each level. Can someone please help me with that?\r\n","title":"Leveled List to JSON (JAVA)","body":"<p>I'm working with an API that retrievies data from a level structure dataset.\nIn the WebSite it shows a Json structure like this:</p>\n<pre><code>- Item1\n    - Item2\n    - Item3\n        - Item4\n    - Item5\n- Item6\n    - Item7\n        - Item8\n            - Item9\n...\n</code></pre>\n<p>The problem is that when I retrieve the data from the API, it comes in a txt file with each element displayed in lines like this (I think that is because they are working with SQL):</p>\n<pre><code>id:&quot;1&quot;, Level:&quot;1&quot;, name: &quot;Item1&quot;\nid:&quot;2&quot;, Level:&quot;2&quot;, name: &quot;Item2&quot;\nid:&quot;3&quot;, Level:&quot;2&quot;, name: &quot;Item3&quot;\nid:&quot;4&quot;, Level:&quot;3&quot;, name: &quot;Item4&quot;\nid:&quot;5&quot;, Level:&quot;2&quot;, name: &quot;Item5&quot;\nid:&quot;6&quot;, Level:&quot;1&quot;, name: &quot;Item6&quot;\nid:&quot;7&quot;, Level:&quot;2&quot;, name: &quot;Item7&quot;\nid:&quot;8&quot;, Level:&quot;3&quot;, name: &quot;Item8&quot;\nid:&quot;9&quot;, Level:&quot;4&quot;, name: &quot;Item9&quot;\n...\n</code></pre>\n<p>Right now I'm converting each line to an object and storing all of them in a Map, with the id as a key. But I'd like to convert this to a JSON to make it easier to see and program the level structure. The problem is that I can't know for sure how many levels there will be and how many elements there will be in each level. Can someone please help me with that?</p>\n"},{"tags":["java","artifactory"],"answers":[{"tags":[],"owner":{"account_id":47032,"reputation":1768,"user_id":139163,"accept_rate":64,"display_name":"videoguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664317281,"creation_date":1664317281,"answer_id":73874323,"question_id":72091329,"body_markdown":"Below is modified version that gave me sorted list.\r\n\r\n\r\n    public static List&lt;String&gt; listChildren(RepositoryHandle aRepo, String folder, FileFilter filter)\r\n        {\r\n            List&lt;String&gt; children = null;\r\n            \r\n            if (null == aRepo || null == folder || folder.length() &lt;= 0)\r\n                return null;\r\n            try\r\n            {\r\n                folder = FilenameUtils.normalizeNoEndSeparator(folder, true);\r\n                ItemHandle folderItem = aRepo.folder(folder);\r\n                Folder folderInfo = folderItem.info();\r\n                List&lt;Item&gt; itemChildren = folderInfo.getChildren();\r\n                if (null == itemChildren)\r\n                    return null;\r\n                List&lt;org.jfrog.artifactory.client.model.File&gt; itemExtChildren = new ArrayList&lt;&gt;();\r\n                for(Item curItem: itemChildren)\r\n                {\r\n                    ItemHandle hItem = aRepo.file(folder+curItem.getUri());\r\n                    if (null == hItem)\r\n                        continue;\r\n                    org.jfrog.artifactory.client.model.File aFile = hItem.info();\r\n                    itemExtChildren.add(aFile);\r\n                }\r\n                Collections.sort(itemExtChildren, (org.jfrog.artifactory.client.model.File f1, org.jfrog.artifactory.client.model.File f2) -&gt; \r\n                                                  f1.getLastModified().compareTo(f2.getLastModified()));\r\n                children = new ArrayList&lt;&gt;(itemChildren.size());\r\n                String name;\r\n                for(Item curItem: itemExtChildren)\r\n                {\r\n                    name = curItem.getName();\r\n                    if (null != name)\r\n                    {\r\n                        if (null == filter ||\r\n                            filter.accept(new File(name)))\r\n                            children.add(name);\r\n                    }\r\n                } \r\n            }\r\n            catch (Throwable ex)\r\n            {\r\n            }\r\n            return children;\r\n        }\r\n\r\n","title":"How to get file list of an Artifactory folder sorted by last modified stamp from Java client","body":"<p>Below is modified version that gave me sorted list.</p>\n<pre><code>public static List&lt;String&gt; listChildren(RepositoryHandle aRepo, String folder, FileFilter filter)\n    {\n        List&lt;String&gt; children = null;\n        \n        if (null == aRepo || null == folder || folder.length() &lt;= 0)\n            return null;\n        try\n        {\n            folder = FilenameUtils.normalizeNoEndSeparator(folder, true);\n            ItemHandle folderItem = aRepo.folder(folder);\n            Folder folderInfo = folderItem.info();\n            List&lt;Item&gt; itemChildren = folderInfo.getChildren();\n            if (null == itemChildren)\n                return null;\n            List&lt;org.jfrog.artifactory.client.model.File&gt; itemExtChildren = new ArrayList&lt;&gt;();\n            for(Item curItem: itemChildren)\n            {\n                ItemHandle hItem = aRepo.file(folder+curItem.getUri());\n                if (null == hItem)\n                    continue;\n                org.jfrog.artifactory.client.model.File aFile = hItem.info();\n                itemExtChildren.add(aFile);\n            }\n            Collections.sort(itemExtChildren, (org.jfrog.artifactory.client.model.File f1, org.jfrog.artifactory.client.model.File f2) -&gt; \n                                              f1.getLastModified().compareTo(f2.getLastModified()));\n            children = new ArrayList&lt;&gt;(itemChildren.size());\n            String name;\n            for(Item curItem: itemExtChildren)\n            {\n                name = curItem.getName();\n                if (null != name)\n                {\n                    if (null == filter ||\n                        filter.accept(new File(name)))\n                        children.add(name);\n                }\n            } \n        }\n        catch (Throwable ex)\n        {\n        }\n        return children;\n    }\n</code></pre>\n"}],"owner":{"account_id":47032,"reputation":1768,"user_id":139163,"accept_rate":64,"display_name":"videoguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73874323,"answer_count":1,"score":0,"last_activity_date":1664317281,"creation_date":1651518964,"question_id":72091329,"body_markdown":"I am trying to get last modified time stamp on Artifactory file item, but it is coming as null.\r\nWhat am I doing wrong with this function?\r\n\r\n```\r\n    public static List&lt;File&gt; listChildren(RepositoryHandle aRepo, String folder, FileFilter filter)\r\n    {\r\n        List&lt;File&gt; children = null;\r\n        \r\n        if (null == aRepo || null == folder || folder.length() &lt;= 0)\r\n            return null;\r\n        try\r\n        {\r\n            folder = FilenameUtils.normalizeNoEndSeparator(folder, true);\r\n            ItemHandle folderItem = aRepo.folder(folder);\r\n            Folder folderInfo = folderItem.info();\r\n            List&lt;Item&gt; itemChildren = folderInfo.getChildren();\r\n            if (null == itemChildren)\r\n                return null;\r\n            children = new ArrayList&lt;&gt;(itemChildren.size());\r\n            String name;\r\n            File fileItem;\r\n            for(Item curItem: itemChildren)\r\n            {\r\n                \r\n                fileItem = new File(curItem.getUri());\r\n                Date timeStamp = curItem.getLastModified(); // This is coming as null\r\n                fileItem.setLastModified(curItem.getLastModified().getTime());\r\n                name = fileItem.getName();\r\n                if (null != name)\r\n                {\r\n                    if (null == filter ||\r\n                        filter.accept(fileItem))\r\n                        children.add(fileItem);\r\n                }\r\n            } \r\n            // Sort the list by last modified stamp so that the oldest is at the front\r\n            Collections.sort(children, Comparator.comparingLong(File::lastModified));\r\n        }\r\n        catch (Throwable ex)\r\n        {\r\n            ex.printStackTrace();\r\n        }\r\n        return children;\r\n    }\r\n```","title":"How to get file list of an Artifactory folder sorted by last modified stamp from Java client","body":"<p>I am trying to get last modified time stamp on Artifactory file item, but it is coming as null.\nWhat am I doing wrong with this function?</p>\n<pre><code>    public static List&lt;File&gt; listChildren(RepositoryHandle aRepo, String folder, FileFilter filter)\n    {\n        List&lt;File&gt; children = null;\n        \n        if (null == aRepo || null == folder || folder.length() &lt;= 0)\n            return null;\n        try\n        {\n            folder = FilenameUtils.normalizeNoEndSeparator(folder, true);\n            ItemHandle folderItem = aRepo.folder(folder);\n            Folder folderInfo = folderItem.info();\n            List&lt;Item&gt; itemChildren = folderInfo.getChildren();\n            if (null == itemChildren)\n                return null;\n            children = new ArrayList&lt;&gt;(itemChildren.size());\n            String name;\n            File fileItem;\n            for(Item curItem: itemChildren)\n            {\n                \n                fileItem = new File(curItem.getUri());\n                Date timeStamp = curItem.getLastModified(); // This is coming as null\n                fileItem.setLastModified(curItem.getLastModified().getTime());\n                name = fileItem.getName();\n                if (null != name)\n                {\n                    if (null == filter ||\n                        filter.accept(fileItem))\n                        children.add(fileItem);\n                }\n            } \n            // Sort the list by last modified stamp so that the oldest is at the front\n            Collections.sort(children, Comparator.comparingLong(File::lastModified));\n        }\n        catch (Throwable ex)\n        {\n            ex.printStackTrace();\n        }\n        return children;\n    }\n</code></pre>\n"},{"tags":["java","tuples"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":5,"creation_date":1664315920,"post_id":73874172,"comment_id":130442792,"body_markdown":"What&#39;s stopping your from writing your own Tuple with your own definition of what `equals` means? That method is one line of code. The `hashCode` method that you need to use it as your `Map`&#39;s key should be equally easy to write.","body":"What&#39;s stopping your from writing your own Tuple with your own definition of what <code>equals</code> means? That method is one line of code. The <code>hashCode</code> method that you need to use it as your <code>Map</code>&#39;s key should be equally easy to write."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1664316287,"post_id":73874172,"comment_id":130442868,"body_markdown":"How about representing your tuple as a set of two elements?","body":"How about representing your tuple as a set of two elements?"},{"owner":{"account_id":1324943,"reputation":150,"user_id":1269992,"display_name":"Brian Michalk"},"score":0,"creation_date":1664316761,"post_id":73874172,"comment_id":130442950,"body_markdown":"I am currently writing my own implementation, but after thinking about it, I thought someone else would have a library that does this.  I just don&#39;t like reinventing the wheel.","body":"I am currently writing my own implementation, but after thinking about it, I thought someone else would have a library that does this.  I just don&#39;t like reinventing the wheel."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1664316815,"post_id":73874172,"comment_id":130442959,"body_markdown":"To ask for a library, use [Software Recommendations Stack Exchange](https://softwarerecs.stackexchange.com/), not Stack Overflow. Explicitly off-topic here.","body":"To ask for a library, use <a href=\"https://softwarerecs.stackexchange.com/\">Software Recommendations Stack Exchange</a>, not Stack Overflow. Explicitly off-topic here."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664317064,"post_id":73874172,"comment_id":130443006,"body_markdown":"By the way, a couple of tips: (a) You can override `equals`/`hashCode` on a [`record`](https://openjdk.org/jeps/395), and implement `Comparable` there too. (b) Check *Google Guava* and *Eclipse Collections* for something that might do what you want (I&#39;ve no idea if they do).","body":"By the way, a couple of tips: (a) You can override <code>equals</code>/<code>hashCode</code> on a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\"><code>record</code></a>, and implement <code>Comparable</code> there too. (b) Check <i>Google Guava</i> and <i>Eclipse Collections</i> for something that might do what you want (I&#39;ve no idea if they do)."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664317149,"creation_date":1664317149,"answer_id":73874309,"question_id":73874172,"body_markdown":"As suggested, if you really wanted to you could use a `Set`, but much nicer to write your own, especially if you need to preserve the order of your two elements.\r\n```java\r\npublic class Eg {\r\n\r\n    public static void main(String[] args) {\r\n        Set&lt;String&gt; ab = new LinkedHashSet&lt;String&gt;(List.of(&quot;A&quot;, &quot;B&quot;));\r\n        Set&lt;String&gt; ba = new LinkedHashSet&lt;String&gt;(List.of(&quot;B&quot;, &quot;A&quot;));\r\n\r\n        System.out.println(ab.equals(ba));\r\n        System.out.println(ba.equals(ab));\r\n        System.out.println(ab.stream().findFirst().get());\r\n        System.out.println(ab.stream().skip(1).findFirst().get());\r\n        System.out.println(ba.stream().findFirst().get());\r\n        System.out.println(ba.stream().skip(1).findFirst().get());\r\n\r\n        MyTuple&lt;String&gt; mab = new MyTuple&lt;&gt;(&quot;A&quot;, &quot;B&quot;);\r\n        MyTuple&lt;String&gt; mba = new MyTuple&lt;&gt;(&quot;B&quot;, &quot;A&quot;);\r\n        System.out.println(mab.equals(mba));\r\n        System.out.println(mba.equals(mab));\r\n    }\r\n\r\n    public record MyTuple&lt;T&gt;(T first, T second) {\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return o instanceof MyTuple&lt;?&gt; other &amp;&amp;\r\n                    ((other.first.equals(first) &amp;&amp; other.second.equals(second)) ||\r\n                            (other.first.equals(second) &amp;&amp; other.second.equals(first)));\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(first, second);\r\n        }\r\n    }\r\n}\r\n```","title":"Java datatype that is symmetric pair?","body":"<p>As suggested, if you really wanted to you could use a <code>Set</code>, but much nicer to write your own, especially if you need to preserve the order of your two elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Eg {\n\n    public static void main(String[] args) {\n        Set&lt;String&gt; ab = new LinkedHashSet&lt;String&gt;(List.of(&quot;A&quot;, &quot;B&quot;));\n        Set&lt;String&gt; ba = new LinkedHashSet&lt;String&gt;(List.of(&quot;B&quot;, &quot;A&quot;));\n\n        System.out.println(ab.equals(ba));\n        System.out.println(ba.equals(ab));\n        System.out.println(ab.stream().findFirst().get());\n        System.out.println(ab.stream().skip(1).findFirst().get());\n        System.out.println(ba.stream().findFirst().get());\n        System.out.println(ba.stream().skip(1).findFirst().get());\n\n        MyTuple&lt;String&gt; mab = new MyTuple&lt;&gt;(&quot;A&quot;, &quot;B&quot;);\n        MyTuple&lt;String&gt; mba = new MyTuple&lt;&gt;(&quot;B&quot;, &quot;A&quot;);\n        System.out.println(mab.equals(mba));\n        System.out.println(mba.equals(mab));\n    }\n\n    public record MyTuple&lt;T&gt;(T first, T second) {\n        @Override\n        public boolean equals(Object o) {\n            return o instanceof MyTuple&lt;?&gt; other &amp;&amp;\n                    ((other.first.equals(first) &amp;&amp; other.second.equals(second)) ||\n                            (other.first.equals(second) &amp;&amp; other.second.equals(first)));\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(first, second);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1324943,"reputation":150,"user_id":1269992,"display_name":"Brian Michalk"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664319801,"answer_count":1,"score":0,"last_activity_date":1664317149,"creation_date":1664315682,"question_id":73874172,"body_markdown":"I would like to pre-calculate a similarity score of a group of elements.\r\nSo if the group has three elements, A, B, C, then there are scores for similarity:\r\nA,B: score1\r\nA,C: score2\r\nB,C: score3\r\nC,B: score3\r\n\r\nThe relationship is symmetric, so f(B,A) is the same as f(A,B).  I would like to do something like: HashMap&lt;Pair&lt;&gt;, Score&gt;, but so far of the tuple classes I have looked at, f(B,A).equals(f(A,B)) does not hold.\r\n\r\nIs there a Pair tuples implementation where Pair(A,B) == Pair(B,A)?","title":"Java datatype that is symmetric pair?","body":"<p>I would like to pre-calculate a similarity score of a group of elements.\nSo if the group has three elements, A, B, C, then there are scores for similarity:\nA,B: score1\nA,C: score2\nB,C: score3\nC,B: score3</p>\n<p>The relationship is symmetric, so f(B,A) is the same as f(A,B).  I would like to do something like: HashMap&lt;Pair&lt;&gt;, Score&gt;, but so far of the tuple classes I have looked at, f(B,A).equals(f(A,B)) does not hold.</p>\n<p>Is there a Pair tuples implementation where Pair(A,B) == Pair(B,A)?</p>\n"},{"tags":["java","javafx","canvas"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1664296602,"post_id":73870876,"comment_id":130437278,"body_markdown":"Create and post a [mre] demonstrating the issue. You might be able to solve this by setting a transform on the graphics context, or perhaps by setting appropriate stroke attributes (such as line cap).","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the issue. You might be able to solve this by setting a transform on the graphics context, or perhaps by setting appropriate stroke attributes (such as line cap)."},{"owner":{"account_id":26460680,"reputation":57,"user_id":20102671,"display_name":"Yubi"},"score":0,"creation_date":1664298222,"post_id":73870876,"comment_id":130437802,"body_markdown":"@James_D I added the example","body":"@James_D I added the example"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664298245,"post_id":73870876,"comment_id":130437816,"body_markdown":"That&#39;s not a [mre]. Can you create and post one?","body":"That&#39;s not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Can you create and post one?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664298380,"post_id":73870876,"comment_id":130437857,"body_markdown":"Also, it looks like you are modifying the canvas from a background thread. This is not allowed (see [documentation](https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/canvas/GraphicsContext.html)). Use the animation API if you want to animate something.","body":"Also, it looks like you are modifying the canvas from a background thread. This is not allowed (see <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/canvas/GraphicsContext.html\" rel=\"nofollow noreferrer\">documentation</a>). Use the animation API if you want to animate something."},{"owner":{"account_id":26460680,"reputation":57,"user_id":20102671,"display_name":"Yubi"},"score":0,"creation_date":1664300282,"post_id":73870876,"comment_id":130438462,"body_markdown":"Oh Sorry. I made a mistake reading the Task documentation saying something about FX Application Thread. Do you have a fix for this?\n\nI added the minimal reproducible example. Hope this is fine now. It should show the issue at the top and bottom very clear.\n\nYes I know that I should use animation API for stuff like this but its my task in school to do it like that.","body":"Oh Sorry. I made a mistake reading the Task documentation saying something about FX Application Thread. Do you have a fix for this?  I added the minimal reproducible example. Hope this is fine now. It should show the issue at the top and bottom very clear.  Yes I know that I should use animation API for stuff like this but its my task in school to do it like that."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664302787,"post_id":73870876,"comment_id":130439243,"body_markdown":"If you have to use a background thread, you should wrap the calls to the `GraphicsContext` in `Platform.runLater(...)`.","body":"If you have to use a background thread, you should wrap the calls to the <code>GraphicsContext</code> in <code>Platform.runLater(...)</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664306394,"post_id":73870876,"comment_id":130440296,"body_markdown":"And if you don&#39;t have to use a background, but you&#39;d like the graph to be incrementally drawn in front of the user, then use the `javafx.animation` API.","body":"And if you don&#39;t have to use a background, but you&#39;d like the graph to be incrementally drawn in front of the user, then use the <code>javafx.animation</code> API."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1664317118,"post_id":73870876,"comment_id":130443014,"body_markdown":"Unrelated to your question, but you might be interested in some similar plotting questions [Draw Cartesian Plane Graph with canvas in JavaFX](https://stackoverflow.com/questions/24005247/draw-cartesian-plane-graph-with-canvas-in-javafx/24008426#24008426) and [Making a zoomable coordinate system in JavaFX](https://stackoverflow.com/questions/68944897/making-a-zoomable-coordinate-system-in-javafx/68945835#68945835)","body":"Unrelated to your question, but you might be interested in some similar plotting questions <a href=\"https://stackoverflow.com/questions/24005247/draw-cartesian-plane-graph-with-canvas-in-javafx/24008426#24008426\">Draw Cartesian Plane Graph with canvas in JavaFX</a> and <a href=\"https://stackoverflow.com/questions/68944897/making-a-zoomable-coordinate-system-in-javafx/68945835#68945835\">Making a zoomable coordinate system in JavaFX</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664303271,"creation_date":1664303271,"answer_id":73872259,"question_id":73870876,"body_markdown":"One way to add some padding around the area in which you&#39;re drawing, without changing the coordinates you use, is to add a transform to the graphics context. Basically, you first scale the drawing area to make it smaller by ratios `(width-2*padding)/width` and `(height-2*padding)/height` (so the actual drawing area is reduced by a size `2*padding` in each dimension). Then translate by `padding` in each dimension. This looks like:\r\n\r\n    public class HelloApplication extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Canvas c = new Canvas(715,495);\r\n            GraphicsContext gc = c.getGraphicsContext2D();\r\n            VBox v = new VBox();\r\n            Pane p = new Pane();\r\n            p.getChildren().add(c);\r\n    \r\n    \r\n            Button b1 = new Button(&quot;Draw Sinus at Canvas&quot;);\r\n            b1.setOnAction(e -&gt; drawSinus(c, gc, 10));\r\n    \r\n            v.getChildren().addAll(b1, p);\r\n            Scene sc = new Scene(v);\r\n            stage.setScene(sc);\r\n            stage.setTitle(&quot;Drawing Lines - Dynamically at Runtime&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n    \r\n        private void drawSinus(Canvas c, GraphicsContext gc, double padding) {\r\n    \r\n    \r\n            double height = c.getHeight();\r\n            double width = c.getWidth();\r\n    \r\n            Affine transform = new Affine(Transform.scale((width-2*padding)/width, (height-2*padding)/height));\r\n            transform.appendTranslation(padding, padding);\r\n            gc.setTransform(transform);\r\n    \r\n            double multiplier = (2 * Math.PI)/width;\r\n            double x1 = 0;\r\n            double y1 = height/2;\r\n            double x2 = 1;\r\n            double y2 = 0;\r\n            int i = 0;\r\n            gc.setStroke(Color.BLACK);\r\n            gc.setLineWidth(10);\r\n    \r\n            while(i &lt; width) {\r\n                y2 = (height/2) - ((height/2) * Math.sin(x2 * multiplier));\r\n                gc.strokeLine(x1,y1,x2,y2);\r\n                x1 = x2;\r\n                y1 = y2;\r\n                x2++;\r\n                i++;\r\n            }\r\n    \r\n            // reset transform; may not be necessary depending on actual use case\r\n            gc.setTransform(new Affine());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nYou need to reset the transform if you want to, e.g., clear the entire canvas, including the padded area.\r\n\r\n","title":"apply padding to canvas in javafx","body":"<p>One way to add some padding around the area in which you're drawing, without changing the coordinates you use, is to add a transform to the graphics context. Basically, you first scale the drawing area to make it smaller by ratios <code>(width-2*padding)/width</code> and <code>(height-2*padding)/height</code> (so the actual drawing area is reduced by a size <code>2*padding</code> in each dimension). Then translate by <code>padding</code> in each dimension. This looks like:</p>\n<pre><code>public class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        Canvas c = new Canvas(715,495);\n        GraphicsContext gc = c.getGraphicsContext2D();\n        VBox v = new VBox();\n        Pane p = new Pane();\n        p.getChildren().add(c);\n\n\n        Button b1 = new Button(&quot;Draw Sinus at Canvas&quot;);\n        b1.setOnAction(e -&gt; drawSinus(c, gc, 10));\n\n        v.getChildren().addAll(b1, p);\n        Scene sc = new Scene(v);\n        stage.setScene(sc);\n        stage.setTitle(&quot;Drawing Lines - Dynamically at Runtime&quot;);\n        stage.show();\n    }\n\n\n    private void drawSinus(Canvas c, GraphicsContext gc, double padding) {\n\n\n        double height = c.getHeight();\n        double width = c.getWidth();\n\n        Affine transform = new Affine(Transform.scale((width-2*padding)/width, (height-2*padding)/height));\n        transform.appendTranslation(padding, padding);\n        gc.setTransform(transform);\n\n        double multiplier = (2 * Math.PI)/width;\n        double x1 = 0;\n        double y1 = height/2;\n        double x2 = 1;\n        double y2 = 0;\n        int i = 0;\n        gc.setStroke(Color.BLACK);\n        gc.setLineWidth(10);\n\n        while(i &lt; width) {\n            y2 = (height/2) - ((height/2) * Math.sin(x2 * multiplier));\n            gc.strokeLine(x1,y1,x2,y2);\n            x1 = x2;\n            y1 = y2;\n            x2++;\n            i++;\n        }\n\n        // reset transform; may not be necessary depending on actual use case\n        gc.setTransform(new Affine());\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>You need to reset the transform if you want to, e.g., clear the entire canvas, including the padded area.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664316872,"creation_date":1664316872,"answer_id":73874285,"question_id":73870876,"body_markdown":"Place the canvas a `StackPane` and [set padding on the StackPane](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/Region.html#setPadding(javafx.geometry.Insets)).\r\n\r\n    Canvas canvas = new Canvas(715,495);\r\n    StackPane stackPane = new StackPane(canvas);\r\n    stackPane.setPadding(new Insets(5));\r\n\r\nAdjust canvas and padding sizes as needed for your requirements. ","title":"apply padding to canvas in javafx","body":"<p>Place the canvas a <code>StackPane</code> and <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/Region.html#setPadding(javafx.geometry.Insets)\" rel=\"nofollow noreferrer\">set padding on the StackPane</a>.</p>\n<pre><code>Canvas canvas = new Canvas(715,495);\nStackPane stackPane = new StackPane(canvas);\nstackPane.setPadding(new Insets(5));\n</code></pre>\n<p>Adjust canvas and padding sizes as needed for your requirements.</p>\n"}],"owner":{"account_id":26460680,"reputation":57,"user_id":20102671,"display_name":"Yubi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73872259,"answer_count":2,"score":2,"last_activity_date":1664316872,"creation_date":1664296037,"question_id":73870876,"body_markdown":"I have to draw a sinus curve in a javafx canvas dot after dot and connect these. But as you can change the width of the line to it sometimes gets cut in width because the line is near the border. So is there a possibility to like make a padding or a border to avoid this? It would be possible to like manipulate the coordinates but tbh I dont want to do that as I think there should be a better solution.\r\n[Picture of the canvas][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lNWi3.png\r\n\r\nEDIT:\r\n\r\nThis is the code example to reproduce it in a javafx project\r\n\r\n```java\r\npublic class HelloApplication extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        Canvas c = new Canvas(715,495);\r\n        GraphicsContext gc = c.getGraphicsContext2D();\r\n        VBox v = new VBox();\r\n        Pane p = new Pane();\r\n        p.getChildren().add(c);\r\n\r\n\r\n        Button b1 = new Button(&quot;Draw Sinus at Canvas&quot;);\r\n        b1.setOnAction(e -&gt; drawSinus(c, gc));\r\n\r\n        v.getChildren().addAll(b1, p);\r\n        Scene sc = new Scene(v);\r\n        stage.setScene(sc);\r\n        stage.setTitle(&quot;Drawing Lines - Dynamically at Runtime&quot;);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    private void drawSinus(Canvas c, GraphicsContext gc) {\r\n        double height = c.getHeight();\r\n        double width = c.getWidth();\r\n        double multiplier = (2 * Math.PI)/width;\r\n        double x1 = 0;\r\n        double y1 = height/2;\r\n        double x2 = 1;\r\n        double y2 = 0;\r\n        int i = 0;\r\n        gc.setStroke(Color.BLACK);\r\n        gc.setLineWidth(10);\r\n\r\n        while(i &lt; width) {\r\n            y2 = (height/2) - ((height/2) * Math.sin(x2 * multiplier));\r\n            gc.strokeLine(x1,y1,x2,y2);\r\n            x1 = x2;\r\n            y1 = y2;\r\n            x2++;\r\n            i++;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}","title":"apply padding to canvas in javafx","body":"<p>I have to draw a sinus curve in a javafx canvas dot after dot and connect these. But as you can change the width of the line to it sometimes gets cut in width because the line is near the border. So is there a possibility to like make a padding or a border to avoid this? It would be possible to like manipulate the coordinates but tbh I dont want to do that as I think there should be a better solution.\n<a href=\"https://i.stack.imgur.com/lNWi3.png\" rel=\"nofollow noreferrer\">Picture of the canvas</a></p>\n<p>EDIT:</p>\n<p>This is the code example to reproduce it in a javafx project</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        Canvas c = new Canvas(715,495);\n        GraphicsContext gc = c.getGraphicsContext2D();\n        VBox v = new VBox();\n        Pane p = new Pane();\n        p.getChildren().add(c);\n\n\n        Button b1 = new Button(&quot;Draw Sinus at Canvas&quot;);\n        b1.setOnAction(e -&gt; drawSinus(c, gc));\n\n        v.getChildren().addAll(b1, p);\n        Scene sc = new Scene(v);\n        stage.setScene(sc);\n        stage.setTitle(&quot;Drawing Lines - Dynamically at Runtime&quot;);\n        stage.show();\n    }\n\n\n    private void drawSinus(Canvas c, GraphicsContext gc) {\n        double height = c.getHeight();\n        double width = c.getWidth();\n        double multiplier = (2 * Math.PI)/width;\n        double x1 = 0;\n        double y1 = height/2;\n        double x2 = 1;\n        double y2 = 0;\n        int i = 0;\n        gc.setStroke(Color.BLACK);\n        gc.setLineWidth(10);\n\n        while(i &lt; width) {\n            y2 = (height/2) - ((height/2) * Math.sin(x2 * multiplier));\n            gc.strokeLine(x1,y1,x2,y2);\n            x1 = x2;\n            y1 = y2;\n            x2++;\n            i++;\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8988,"page":1004,"page_size":100}
