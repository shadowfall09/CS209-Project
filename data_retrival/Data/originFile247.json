{"items":[{"tags":["java","maven","javaagents"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1587032929,"post_id":61245323,"comment_id":108351880,"body_markdown":"&quot;Caused by: java.lang.ClassNotFoundException: javassist.ClassPath&quot; - fix your classpath","body":"&quot;Caused by: java.lang.ClassNotFoundException: javassist.ClassPath&quot; - fix your classpath"}],"answers":[{"tags":[],"owner":{"account_id":270762,"reputation":153,"user_id":1829037,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607407275,"creation_date":1607406709,"answer_id":65193793,"question_id":61245323,"body_markdown":"I faced the same issue, you can refer to the pom.xml below, and see the difference with yours in hello-world project.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.richard&lt;/groupId&gt;\r\n    &lt;artifactId&gt;my-agent-test&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.richard.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n            &lt;version&gt;3.20.0-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"strange exception of &quot;java.lang.NoClassDefFoundError: javassist/ClassPath&quot; when running with commandline","body":"<p>I faced the same issue, you can refer to the pom.xml below, and see the difference with yours in hello-world project.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.richard&lt;/groupId&gt;\n    &lt;artifactId&gt;my-agent-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.richard.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.20.0-GA&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17957934,"reputation":1,"user_id":16604686,"display_name":"Дмитрий Силин"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692089486,"creation_date":1691729330,"answer_id":76880744,"question_id":61245323,"body_markdown":"There is something wrong with lookup paths. A possible workaround is to pack *javassist* into the JAR file containing the agent. To do that, perform the following:\r\n1. Unpack *javassist* via this command: `jar xf javassist.jar`. That will create `javassist` folder below the working directory, i.e. the folder from where you issued the command. Folder *javassist* will contain all class files of the library.\r\n2. Include the unpacked classes when building your JAR, i.e. use this command:  \r\n `jar -cvfm ./my-agent.jar manifest.mf ./my_classes ./javassist`","title":"strange exception of &quot;java.lang.NoClassDefFoundError: javassist/ClassPath&quot; when running with commandline","body":"<p>There is something wrong with lookup paths. A possible workaround is to pack <em>javassist</em> into the JAR file containing the agent. To do that, perform the following:</p>\n<ol>\n<li>Unpack <em>javassist</em> via this command: <code>jar xf javassist.jar</code>. That will create <code>javassist</code> folder below the working directory, i.e. the folder from where you issued the command. Folder <em>javassist</em> will contain all class files of the library.</li>\n<li>Include the unpacked classes when building your JAR, i.e. use this command:<br />\n<code>jar -cvfm ./my-agent.jar manifest.mf ./my_classes ./javassist</code></li>\n</ol>\n"}],"owner":{"account_id":11625942,"reputation":21,"user_id":8515704,"display_name":"lsongseven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1796,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692089486,"creation_date":1587023888,"question_id":61245323,"body_markdown":"I hava a agent class, it simply print two lines before and after another project&#39;s main() method. The agent class is as follows\r\n\r\n    public class Agent {\r\n\r\n    static String packageName = &quot;xxx.hello.world&quot;;\r\n\r\n    public static void premain(String agentArgs, Instrumentation inst) {\r\n\r\n\r\n        inst.addTransformer((classLoader, s, aClass, protectionDomain, bytes) -&gt; {\r\n            byte[] transformed = null;\r\n            CtClass cl = null;\r\n            try {\r\n                ClassPool pool = new ClassPool();\r\n                pool.insertClassPath(new LoaderClassPath(Thread.currentThread().getContextClassLoader()));\r\n                pool.importPackage(packageName);\r\n                cl = pool.makeClass(new ByteArrayInputStream(bytes));\r\n                CtMethod[] methods = cl.getDeclaredMethods();\r\n\r\n                for (CtMethod method : methods) {\r\n                    if (&quot;main&quot;.equals(method.getName())) {\r\n                        method.insertBefore(&quot;System.out.println(\\&quot;&lt;-----------before-------&gt;\\&quot;);&quot;);\r\n                        method.insertAfter(&quot;System.out.println(\\&quot;&lt;-----------end-------&gt;\\&quot;);&quot;);\r\n                    }\r\n                }\r\n                transformed = cl.toBytecode();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (cl != null) {\r\n                    cl.detach();\r\n                }\r\n            }\r\n            return transformed;\r\n\r\n        });\r\n    }}\r\n\r\n\r\n\r\nAnd I have another project named as &quot;HelloWorld&quot;, it simply print &quot;Hi, i am in main()&quot; in it&#39;s main method. The HelloWorld.class is as follows\r\n\r\n    public class HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hi, i am in main()&quot;);\r\n    }\r\n\r\n\r\nThen I package the agent as a jar named as &quot;agent.jar&quot;, and add &quot;-javaagent:xxx/yyy/agent.jar&quot; to vmoptions in IDEA, like this\r\n[![enter image description here][1]][1]\r\n\r\n\r\n After that , when I run the hello-world, I get what i want like\r\n\r\n    &lt;-----------before-------&gt;\r\n     Hi, i am in main()\r\n    &lt;-----------end-------&gt;\r\n\r\nHowever, when I try to run the hello-world as a jar like &quot;hello-world.jar&quot; in command line like\r\n\r\n    java -javaagent:xxx/yyy/agent.jar -jar hello-world.jar\r\nI get a strange error like \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javassist/ClassPath\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n        at java.lang.Class.getDeclaredMethod(Unknown Source)\r\n        at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(Unknown Source)\r\n        at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: javassist.ClassPath\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 5 more\r\n\r\nIt is quite strange because I think the two ways (in IDEA and in command line) are the same. And when i check the hello-world.jar, i can see the javassist/ClassPath.class.\r\n[![enter image description here][2]][2]\r\n\r\nCan any tell me why and how to fix this problem?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dkiZM.png\r\n  [2]: https://i.stack.imgur.com/53fOj.png","title":"strange exception of &quot;java.lang.NoClassDefFoundError: javassist/ClassPath&quot; when running with commandline","body":"<p>I hava a agent class, it simply print two lines before and after another project's main() method. The agent class is as follows</p>\n\n<pre><code>public class Agent {\n\nstatic String packageName = \"xxx.hello.world\";\n\npublic static void premain(String agentArgs, Instrumentation inst) {\n\n\n    inst.addTransformer((classLoader, s, aClass, protectionDomain, bytes) -&gt; {\n        byte[] transformed = null;\n        CtClass cl = null;\n        try {\n            ClassPool pool = new ClassPool();\n            pool.insertClassPath(new LoaderClassPath(Thread.currentThread().getContextClassLoader()));\n            pool.importPackage(packageName);\n            cl = pool.makeClass(new ByteArrayInputStream(bytes));\n            CtMethod[] methods = cl.getDeclaredMethods();\n\n            for (CtMethod method : methods) {\n                if (\"main\".equals(method.getName())) {\n                    method.insertBefore(\"System.out.println(\\\"&lt;-----------before-------&gt;\\\");\");\n                    method.insertAfter(\"System.out.println(\\\"&lt;-----------end-------&gt;\\\");\");\n                }\n            }\n            transformed = cl.toBytecode();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (cl != null) {\n                cl.detach();\n            }\n        }\n        return transformed;\n\n    });\n}}\n</code></pre>\n\n<p>And I have another project named as \"HelloWorld\", it simply print \"Hi, i am in main()\" in it's main method. The HelloWorld.class is as follows</p>\n\n<pre><code>public class HelloWorld {\npublic static void main(String[] args) {\n    System.out.println(\"Hi, i am in main()\");\n}\n</code></pre>\n\n<p>Then I package the agent as a jar named as \"agent.jar\", and add \"-javaagent:xxx/yyy/agent.jar\" to vmoptions in IDEA, like this\n<a href=\"https://i.stack.imgur.com/dkiZM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dkiZM.png\" alt=\"enter image description here\"></a></p>\n\n<p>After that , when I run the hello-world, I get what i want like</p>\n\n<pre><code>&lt;-----------before-------&gt;\n Hi, i am in main()\n&lt;-----------end-------&gt;\n</code></pre>\n\n<p>However, when I try to run the hello-world as a jar like \"hello-world.jar\" in command line like</p>\n\n<pre><code>java -javaagent:xxx/yyy/agent.jar -jar hello-world.jar\n</code></pre>\n\n<p>I get a strange error like </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: javassist/ClassPath\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n    at java.lang.Class.getDeclaredMethod(Unknown Source)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(Unknown Source)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: javassist.ClassPath\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 5 more\n</code></pre>\n\n<p>It is quite strange because I think the two ways (in IDEA and in command line) are the same. And when i check the hello-world.jar, i can see the javassist/ClassPath.class.\n<a href=\"https://i.stack.imgur.com/53fOj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53fOj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can any tell me why and how to fix this problem?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","aop","aspectj","spring-aop","feign"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1485426358,"post_id":41856687,"comment_id":70924599,"body_markdown":"Where does the `@Component` annotation come from? From Spring maybe? If so, do you use Spring AOP or AspectJ? How do you compile the code? And where does `@MeteredRemoteCall` come from? A special library or is it your own annotation? Can you please show the annotation source code? I think I know the answer to your question, but it depends on your answers to my questions.","body":"Where does the <code>@Component</code> annotation come from? From Spring maybe? If so, do you use Spring AOP or AspectJ? How do you compile the code? And where does <code>@MeteredRemoteCall</code> come from? A special library or is it your own annotation? Can you please show the annotation source code? I think I know the answer to your question, but it depends on your answers to my questions."},{"owner":{"account_id":7281026,"reputation":371,"user_id":5550788,"accept_rate":50,"display_name":"Anton Arsentyev"},"score":0,"creation_date":1485434237,"post_id":41856687,"comment_id":70928737,"body_markdown":"@kriegaex yes `@Component` annotation its Spring class, \nUpdated my question with new class","body":"@kriegaex yes <code>@Component</code> annotation its Spring class,  Updated my question with new class"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1488709672,"creation_date":1485438064,"answer_id":41874814,"question_id":41856687,"body_markdown":"Your situation is somewhat complex because you have several problems:\r\n\r\n* You use Spring AOP, an &quot;AOP lite&quot; framework based on dynamic proxies (JDK proxies for interfaces, CGLIB proxies for classes). It only works for Spring beans/components, but from what I see your `LoanClient` is not a Spring `@Component`.\r\n* Even if it was a Spring component, Feign creates its own JDK dynamic proxies via reflection. They are outside the control of Spring. Probably there is a way to wire them into Spring manually, either programmatically or via XML configuration. But there I cannot help you because I do not use Spring.\r\n* Spring AOP only supports a subset of AspectJ pointcuts. Specifically, it does not support `call()` but only `execution()`. I.e. it only weaves into the place where a method is executed, not the place where it is called.\r\n* But the execution takes place in a method implementing an interface and annotations on interface methods such as your `@MeteredRemoteCall` are never inherited by their implementing classes. In fact, method annotations are _never_ inherited in Java, only class-level annotations from class (not interface!) to respective subclass. I.e. even if your annotation class had an `@Inherited` meta annotation, it would not help for `@Target({ElementType.METHOD})`, only for `@Target({ElementType.TYPE})`. **Update:** Because I have answered this question several times before, I have just documented the problem and also a workaround in [Emulate annotation inheritance for interfaces and methods with AspectJ](https://stackoverflow.com/questions/42607015/emulate-annotation-inheritance-for-interfaces-and-methods).\r\n\r\nSo what can you do? The best option would be to [use full AspectJ via LTW](https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-using-aspectj) (load-time weaving) from within your Spring application. This enables you to use a `call()` pointcut instead of `execution()` which is implicitly used by Spring AOP. If you use `@annotation()` pointcuts on methods in AspectJ, it will match both calls and executions, as I will show you in a stand-alone example (no Spring, but the effect is the same as AspectJ with LTW in Spring):\r\n\r\n**Marker annotation:**\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface MeteredRemoteCall {}\r\n\r\n**Feign client:**\r\n\r\nThis sample client grabs full StackOverflow question pages (HTML source code) as strings.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    import feign.Param;\r\n    import feign.RequestLine;\r\n    \r\n    public interface StackOverflowClient {\r\n        @RequestLine(&quot;GET /questions/{questionId}&quot;)\r\n        @MeteredRemoteCall\r\n        String getQuestionPage(@Param(&quot;questionId&quot;) Long questionId);\r\n    }\r\n\r\n**Driver application:**\r\n\r\nThis application uses the Feign client interface in three different ways for demonstration purposes:\r\n\r\n1. Without Feign, manual instantiation via anonymous subclass\r\n2. Like #1, but this time with an extra marker annotation added to the implementing method\r\n3. Canonical usage via Feign\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import feign.Feign;\r\n    import feign.codec.StringDecoder;\r\n    \r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            StackOverflowClient soClient;\r\n            long questionId = 41856687L;\r\n    \r\n            soClient = new StackOverflowClient() {\r\n                @Override\r\n                public String getQuestionPage(Long loanId) {\r\n                    return &quot;StackOverflowClient without Feign&quot;;\r\n                }\r\n            };\r\n            System.out.println(&quot;  &quot; + soClient.getQuestionPage(questionId));\r\n    \r\n            soClient = new StackOverflowClient() {\r\n                @Override\r\n                @MeteredRemoteCall\r\n                public String getQuestionPage(Long loanId) {\r\n                    return &quot;StackOverflowClient without Feign + extra annotation&quot;;\r\n                }\r\n            };\r\n            System.out.println(&quot;  &quot; + soClient.getQuestionPage(questionId));\r\n    \r\n            // Create StackOverflowClient via Feign\r\n            String baseUrl = &quot;http://stackoverflow.com&quot;;\r\n            soClient = Feign\r\n                .builder()\r\n                .decoder(new StringDecoder())\r\n                .target(StackOverflowClient.class, baseUrl);\r\n            Matcher titleMatcher = Pattern\r\n                .compile(&quot;&lt;title&gt;([^&lt;]+)&lt;/title&gt;&quot;, Pattern.CASE_INSENSITIVE)\r\n                .matcher(soClient.getQuestionPage(questionId));\r\n            titleMatcher.find();\r\n            System.out.println(&quot;  &quot; + titleMatcher.group(1));\r\n        }\r\n    }\r\n\r\n**Console log without aspect:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n      StackOverflowClient without Feign\r\n      StackOverflowClient without Feign + extra annotation\r\n      java - How to use AOP with Feign calls - Stack Overflow\r\n\r\nAs you can see, in case #3 it just prints the question title of this very StackOverflow question. ;-) I am using the regex matcher in order to extract it from the HTML code because I did not want to print the full web page.\r\n\r\n**Aspect:**\r\n\r\nThis is basically your aspect with additional joinpoint logging.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.aspect;\r\n    \r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    \r\n    import de.scrum_master.app.MeteredRemoteCall;\r\n    \r\n    @Aspect\r\n    public class MetricAspect {\r\n        @Around(value = &quot;@annotation(annotation)&quot;, argNames = &quot;joinPoint, annotation&quot;)\r\n        public Object meterRemoteCall(ProceedingJoinPoint joinPoint, MeteredRemoteCall annotation)\r\n            throws Throwable\r\n        {\r\n            System.out.println(joinPoint);\r\n            return joinPoint.proceed();\r\n        }\r\n    }\r\n\r\n**Console log with aspect:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    call(String de.scrum_master.app.StackOverflowClient.getQuestionPage(Long))\r\n      StackOverflowClient without Feign\r\n    call(String de.scrum_master.app.StackOverflowClient.getQuestionPage(Long))\r\n    execution(String de.scrum_master.app.Application.2.getQuestionPage(Long))\r\n      StackOverflowClient without Feign + extra annotation\r\n    call(String de.scrum_master.app.StackOverflowClient.getQuestionPage(Long))\r\n      java - How to use AOP with Feign calls - Stack Overflow\r\n\r\nAs you can see, the following joinpoints get intercepted for each of the three cases:\r\n\r\n1. Only `call()` because even with manual instantiation the implementing class does not have the interface method&#39;s annotation. So `execution()` cannot be matched.\r\n2. Both `call()` and `execution()` because we manually added the marker annotation to the implementing class.\r\n3. Only `call()` because the dynamic proxy created by Feign does not have the interface method&#39;s annotation. So `execution()` cannot be matched.\r\n\r\nI hope this helps you understand what happened and why.\r\n\r\nBottom line: Use full AspectJ in order to let your pointcut match against `call()` joinpoints. Then your problem is solved.","title":"How to use AOP with Feign calls","body":"<p>Your situation is somewhat complex because you have several problems:</p>\n\n<ul>\n<li>You use Spring AOP, an \"AOP lite\" framework based on dynamic proxies (JDK proxies for interfaces, CGLIB proxies for classes). It only works for Spring beans/components, but from what I see your <code>LoanClient</code> is not a Spring <code>@Component</code>.</li>\n<li>Even if it was a Spring component, Feign creates its own JDK dynamic proxies via reflection. They are outside the control of Spring. Probably there is a way to wire them into Spring manually, either programmatically or via XML configuration. But there I cannot help you because I do not use Spring.</li>\n<li>Spring AOP only supports a subset of AspectJ pointcuts. Specifically, it does not support <code>call()</code> but only <code>execution()</code>. I.e. it only weaves into the place where a method is executed, not the place where it is called.</li>\n<li>But the execution takes place in a method implementing an interface and annotations on interface methods such as your <code>@MeteredRemoteCall</code> are never inherited by their implementing classes. In fact, method annotations are <em>never</em> inherited in Java, only class-level annotations from class (not interface!) to respective subclass. I.e. even if your annotation class had an <code>@Inherited</code> meta annotation, it would not help for <code>@Target({ElementType.METHOD})</code>, only for <code>@Target({ElementType.TYPE})</code>. <strong>Update:</strong> Because I have answered this question several times before, I have just documented the problem and also a workaround in <a href=\"https://stackoverflow.com/questions/42607015/emulate-annotation-inheritance-for-interfaces-and-methods\">Emulate annotation inheritance for interfaces and methods with AspectJ</a>.</li>\n</ul>\n\n<p>So what can you do? The best option would be to <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-using-aspectj\" rel=\"noreferrer\">use full AspectJ via LTW</a> (load-time weaving) from within your Spring application. This enables you to use a <code>call()</code> pointcut instead of <code>execution()</code> which is implicitly used by Spring AOP. If you use <code>@annotation()</code> pointcuts on methods in AspectJ, it will match both calls and executions, as I will show you in a stand-alone example (no Spring, but the effect is the same as AspectJ with LTW in Spring):</p>\n\n<p><strong>Marker annotation:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface MeteredRemoteCall {}\n</code></pre>\n\n<p><strong>Feign client:</strong></p>\n\n<p>This sample client grabs full StackOverflow question pages (HTML source code) as strings.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport feign.Param;\nimport feign.RequestLine;\n\npublic interface StackOverflowClient {\n    @RequestLine(\"GET /questions/{questionId}\")\n    @MeteredRemoteCall\n    String getQuestionPage(@Param(\"questionId\") Long questionId);\n}\n</code></pre>\n\n<p><strong>Driver application:</strong></p>\n\n<p>This application uses the Feign client interface in three different ways for demonstration purposes:</p>\n\n<ol>\n<li>Without Feign, manual instantiation via anonymous subclass</li>\n<li>Like #1, but this time with an extra marker annotation added to the implementing method</li>\n<li>Canonical usage via Feign</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport feign.Feign;\nimport feign.codec.StringDecoder;\n\npublic class Application {\n    public static void main(String[] args) {\n        StackOverflowClient soClient;\n        long questionId = 41856687L;\n\n        soClient = new StackOverflowClient() {\n            @Override\n            public String getQuestionPage(Long loanId) {\n                return \"StackOverflowClient without Feign\";\n            }\n        };\n        System.out.println(\"  \" + soClient.getQuestionPage(questionId));\n\n        soClient = new StackOverflowClient() {\n            @Override\n            @MeteredRemoteCall\n            public String getQuestionPage(Long loanId) {\n                return \"StackOverflowClient without Feign + extra annotation\";\n            }\n        };\n        System.out.println(\"  \" + soClient.getQuestionPage(questionId));\n\n        // Create StackOverflowClient via Feign\n        String baseUrl = \"http://stackoverflow.com\";\n        soClient = Feign\n            .builder()\n            .decoder(new StringDecoder())\n            .target(StackOverflowClient.class, baseUrl);\n        Matcher titleMatcher = Pattern\n            .compile(\"&lt;title&gt;([^&lt;]+)&lt;/title&gt;\", Pattern.CASE_INSENSITIVE)\n            .matcher(soClient.getQuestionPage(questionId));\n        titleMatcher.find();\n        System.out.println(\"  \" + titleMatcher.group(1));\n    }\n}\n</code></pre>\n\n<p><strong>Console log without aspect:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>  StackOverflowClient without Feign\n  StackOverflowClient without Feign + extra annotation\n  java - How to use AOP with Feign calls - Stack Overflow\n</code></pre>\n\n<p>As you can see, in case #3 it just prints the question title of this very StackOverflow question. ;-) I am using the regex matcher in order to extract it from the HTML code because I did not want to print the full web page.</p>\n\n<p><strong>Aspect:</strong></p>\n\n<p>This is basically your aspect with additional joinpoint logging.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\nimport de.scrum_master.app.MeteredRemoteCall;\n\n@Aspect\npublic class MetricAspect {\n    @Around(value = \"@annotation(annotation)\", argNames = \"joinPoint, annotation\")\n    public Object meterRemoteCall(ProceedingJoinPoint joinPoint, MeteredRemoteCall annotation)\n        throws Throwable\n    {\n        System.out.println(joinPoint);\n        return joinPoint.proceed();\n    }\n}\n</code></pre>\n\n<p><strong>Console log with aspect:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>call(String de.scrum_master.app.StackOverflowClient.getQuestionPage(Long))\n  StackOverflowClient without Feign\ncall(String de.scrum_master.app.StackOverflowClient.getQuestionPage(Long))\nexecution(String de.scrum_master.app.Application.2.getQuestionPage(Long))\n  StackOverflowClient without Feign + extra annotation\ncall(String de.scrum_master.app.StackOverflowClient.getQuestionPage(Long))\n  java - How to use AOP with Feign calls - Stack Overflow\n</code></pre>\n\n<p>As you can see, the following joinpoints get intercepted for each of the three cases:</p>\n\n<ol>\n<li>Only <code>call()</code> because even with manual instantiation the implementing class does not have the interface method's annotation. So <code>execution()</code> cannot be matched.</li>\n<li>Both <code>call()</code> and <code>execution()</code> because we manually added the marker annotation to the implementing class.</li>\n<li>Only <code>call()</code> because the dynamic proxy created by Feign does not have the interface method's annotation. So <code>execution()</code> cannot be matched.</li>\n</ol>\n\n<p>I hope this helps you understand what happened and why.</p>\n\n<p>Bottom line: Use full AspectJ in order to let your pointcut match against <code>call()</code> joinpoints. Then your problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":5221534,"reputation":314,"user_id":4174849,"display_name":"Omid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692089232,"creation_date":1692089232,"answer_id":76904532,"question_id":41856687,"body_markdown":"Maybe it is too late but it can be worked in an easier way. Your code was correct just a tiny bug was there. You should use @within instead of @annotation. I mean the correct code is something like this:\r\n\r\n    @Aspect\r\n    @Component // Spring Component annotation\r\n    public class MetricAspect {\r\n\r\n    @Around(value = &quot;@within(package.path.MeteredRemoteCall)&quot;, argNames = &quot;joinPoint&quot;)\r\n    public Object meterRemoteCall(ProceedingJoinPoint joinPoint) throws Throwable {\r\n      // do something\r\n      }\r\n    }","title":"How to use AOP with Feign calls","body":"<p>Maybe it is too late but it can be worked in an easier way. Your code was correct just a tiny bug was there. You should use @within instead of @annotation. I mean the correct code is something like this:</p>\n<pre><code>@Aspect\n@Component // Spring Component annotation\npublic class MetricAspect {\n\n@Around(value = &quot;@within(package.path.MeteredRemoteCall)&quot;, argNames = &quot;joinPoint&quot;)\npublic Object meterRemoteCall(ProceedingJoinPoint joinPoint) throws Throwable {\n  // do something\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":7281026,"reputation":371,"user_id":5550788,"accept_rate":50,"display_name":"Anton Arsentyev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3999,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41874814,"answer_count":2,"score":2,"last_activity_date":1692089232,"creation_date":1485361688,"question_id":41856687,"body_markdown":"I am interested in how to use Feign client in AOP.  For example:\r\n\r\n**API:**\r\n    \r\n    public interface LoanClient {\r\n        @RequestLine(&quot;GET /loans/{loanId}&quot;)\r\n        @MeteredRemoteCall(&quot;loans&quot;)\r\n        Loan getLoan(@Param(&quot;loanId&quot;) Long loanId);\r\n    }\r\n\r\n**Config:**\r\n    \r\n    @Aspect\r\n    @Component // Spring Component annotation\r\n    public class MetricAspect {\r\n\r\n        @Around(value = &quot;@annotation(annotation)&quot;, argNames = &quot;joinPoint, annotation&quot;)\r\n        public Object meterRemoteCall(ProceedingJoinPoint joinPoint, \r\n                            MeteredRemoteCall annotation) throws Throwable {\r\n        // do something\r\n      }\r\n    }\r\n\r\n\r\nBut I do not know how to &quot;intercept&quot; the api method call. Where did I go wrong?\r\n\r\n**UPDATE:**\r\n\r\nMy Spring class annotation:\r\n\r\n    @Target({ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MeteredRemoteCall {\r\n    \r\n        String serviceName();\r\n    }\r\n\r\n","title":"How to use AOP with Feign calls","body":"<p>I am interested in how to use Feign client in AOP.  For example:</p>\n\n<p><strong>API:</strong></p>\n\n<pre><code>public interface LoanClient {\n    @RequestLine(\"GET /loans/{loanId}\")\n    @MeteredRemoteCall(\"loans\")\n    Loan getLoan(@Param(\"loanId\") Long loanId);\n}\n</code></pre>\n\n<p><strong>Config:</strong></p>\n\n<pre><code>@Aspect\n@Component // Spring Component annotation\npublic class MetricAspect {\n\n    @Around(value = \"@annotation(annotation)\", argNames = \"joinPoint, annotation\")\n    public Object meterRemoteCall(ProceedingJoinPoint joinPoint, \n                        MeteredRemoteCall annotation) throws Throwable {\n    // do something\n  }\n}\n</code></pre>\n\n<p>But I do not know how to \"intercept\" the api method call. Where did I go wrong?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>My Spring class annotation:</p>\n\n<pre><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MeteredRemoteCall {\n\n    String serviceName();\n}\n</code></pre>\n"},{"tags":["java","jackson","rest-assured"],"comments":[{"owner":{"account_id":5889708,"reputation":6453,"user_id":4636715,"accept_rate":100,"display_name":"vahdet"},"score":0,"creation_date":1530038483,"post_id":51049449,"comment_id":89090094,"body_markdown":"Possible duplicate of [Jackson with JSON: Unrecognized field, not marked as ignorable](https://stackoverflow.com/questions/4486787/jackson-with-json-unrecognized-field-not-marked-as-ignorable)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4486787/jackson-with-json-unrecognized-field-not-marked-as-ignorable\">Jackson with JSON: Unrecognized field, not marked as ignorable</a>"}],"answers":[{"tags":[],"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692089134,"creation_date":1530256948,"answer_id":51096364,"question_id":51049449,"body_markdown":"You should actually not be ignoring unknown properties, because there are none. The response is exactly what you expect:\r\n\r\n    { \r\n      &quot;FaultId&quot;: &quot;User already exists&quot;,\r\n      &quot;fault&quot;: &quot;FAULT_USER_ALREADY_EXISTS&quot;\r\n    }\r\n\r\nBut your response class is misconfigured. Try annotating your fields with @JsonProperty.\r\n\r\n    public class RegistrationFailureResponse {\r\n        @JsonProperty private String FaultId;\r\n        @JsonProperty private String fault;\r\n    }\r\n","title":"In REST Assured, how do I solve UnrecognizedPropertyException when mapping response to an object?","body":"<p>You should actually not be ignoring unknown properties, because there are none. The response is exactly what you expect:</p>\n<pre><code>{ \n  &quot;FaultId&quot;: &quot;User already exists&quot;,\n  &quot;fault&quot;: &quot;FAULT_USER_ALREADY_EXISTS&quot;\n}\n</code></pre>\n<p>But your response class is misconfigured. Try annotating your fields with @JsonProperty.</p>\n<pre><code>public class RegistrationFailureResponse {\n    @JsonProperty private String FaultId;\n    @JsonProperty private String fault;\n}\n</code></pre>\n"}],"owner":{"account_id":4885061,"reputation":305,"user_id":3937767,"accept_rate":58,"display_name":"Aakash Goyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51096364,"answer_count":1,"score":4,"last_activity_date":1692089134,"creation_date":1530038056,"question_id":51049449,"body_markdown":"I am new to REST Assured API testing, I have already added jackson-databind, jackson-annotations and jackson-core All 2.9.6 versions to the library.\r\n\r\nBelow is my code:     \r\n\r\n    public class SerializeAndDeserialize {\r\n\r\n\t    @Test\r\n\t    public void RegistrationSuccessful()\r\n\t    {\t\r\n\t\t\r\n\t    \tRestAssured.baseURI =&quot;http://restapi.demoqa.com/customer&quot;;\r\n\t\t    RequestSpecification request = RestAssured.given();\r\n\t \r\n    \t\tJSONObject requestParams = new JSONObject();\r\n\t    \trequestParams.put(&quot;FirstName&quot;, &quot;Virkjdender&quot;); // Cast\r\n\t\t    requestParams.put(&quot;LastName&quot;, &quot;Scklxjingh&quot;);\r\n    \t\trequestParams.put(&quot;UserName&quot;, &quot;63userf2d3cn,mxd2011&quot;);\r\n    \t\trequestParams.put(&quot;Password&quot;, &quot;passwors000mxzmd1&quot;);\t\r\n\t    \trequestParams.put(&quot;Email&quot;,  &quot;ed26dfdasdf39@gmail.com&quot;);\t\r\n\t\t\r\n\t\t\r\n\t\t    request.body(requestParams.toJSONString());\r\n     \t\tResponse response = request.post(&quot;/register&quot;);\r\n\t \r\n\t    \tResponseBody body = response.getBody();\r\n\t\t    System.out.println(response.body().asString());\r\n    \t\tSystem.out.println(response.contentType());\r\n    \t\tSystem.out.println(response.getStatusCode());\t\t\r\n \t\t\r\n    \t\tif(response.statusCode() == 200)\r\n\t    \t{\r\n\t\t    \t// Deserialize the Response body into RegistrationFailureResponse\r\n\t    \t\tRegistrationFailureResponse responseBody = body.as(RegistrationFailureResponse.class);\t \r\n    \t\t\tAssert.assertEquals(&quot;User already exists&quot;, responseBody.FaultId);\r\n\t    \t\tAssert.assertEquals(&quot;FAULT_USER_ALREADY_EXISTS&quot;, responseBody.fault);\t\r\n\t\t    }\r\n    \t\telse if (response.statusCode() == 201)\r\n\t    \t{\r\n\t\t    \t// Deserialize the Response body into RegistrationSuccessResponse\r\n\t\t\t    RegistrationSuccessResponse responseBody = body.as(RegistrationSuccessResponse.class);\t\t\t\r\n    \t\t\tAssert.assertEquals(&quot;OPERATION_SUCCESS&quot;, responseBody.SuccessCode);\r\n\t    \t\tAssert.assertEquals(&quot;Operation completed successfully&quot;, responseBody.Message);\t\r\n\t\t    }\t\r\n    \t}\r\n    }\r\n\r\nAnd the related classes are below:\r\n\r\n    public class RegistrationFailureResponse {\t\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\t\r\n\r\n\t    String FaultId;\r\n\t    String fault;\t\r\n    }\r\n\r\nAnother one :\r\n     \r\n    public class RegistrationSuccessResponse {\t\r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n\t\r\n\t    public String SuccessCode;\t \r\n\t    public String Message;\r\n    }\r\n\r\nWhen I try to run the above code tyhrough Testng.xml file , I get following error:\r\n\r\n&gt;com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;FaultId&quot; (class RegistrationFailureResponse), not marked as ignorable (0 known properties: ])\r\n at [Source: (String)&quot;{\r\n    &quot;FaultId&quot;: &quot;User already exists&quot;,\r\n    &quot;fault&quot;: &quot;FAULT_USER_ALREADY_EXISTS&quot;\r\n}&quot;; line: 2, column: 17] (through reference chain: RegistrationFailureResponse[&quot;FaultId&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:60)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:822)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1152)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1589)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1567)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:294)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3042)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper$readValue$0.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n\t......\r\n\r\n\r\nPlease help, I googled the solutions but none of it is related to what I am facing here","title":"In REST Assured, how do I solve UnrecognizedPropertyException when mapping response to an object?","body":"<p>I am new to REST Assured API testing, I have already added jackson-databind, jackson-annotations and jackson-core All 2.9.6 versions to the library.</p>\n\n<p>Below is my code:     </p>\n\n<pre><code>public class SerializeAndDeserialize {\n\n    @Test\n    public void RegistrationSuccessful()\n    {   \n\n        RestAssured.baseURI =\"http://restapi.demoqa.com/customer\";\n        RequestSpecification request = RestAssured.given();\n\n        JSONObject requestParams = new JSONObject();\n        requestParams.put(\"FirstName\", \"Virkjdender\"); // Cast\n        requestParams.put(\"LastName\", \"Scklxjingh\");\n        requestParams.put(\"UserName\", \"63userf2d3cn,mxd2011\");\n        requestParams.put(\"Password\", \"passwors000mxzmd1\"); \n        requestParams.put(\"Email\",  \"ed26dfdasdf39@gmail.com\"); \n\n\n        request.body(requestParams.toJSONString());\n        Response response = request.post(\"/register\");\n\n        ResponseBody body = response.getBody();\n        System.out.println(response.body().asString());\n        System.out.println(response.contentType());\n        System.out.println(response.getStatusCode());       \n\n        if(response.statusCode() == 200)\n        {\n            // Deserialize the Response body into RegistrationFailureResponse\n            RegistrationFailureResponse responseBody = body.as(RegistrationFailureResponse.class);   \n            Assert.assertEquals(\"User already exists\", responseBody.FaultId);\n            Assert.assertEquals(\"FAULT_USER_ALREADY_EXISTS\", responseBody.fault);   \n        }\n        else if (response.statusCode() == 201)\n        {\n            // Deserialize the Response body into RegistrationSuccessResponse\n            RegistrationSuccessResponse responseBody = body.as(RegistrationSuccessResponse.class);          \n            Assert.assertEquals(\"OPERATION_SUCCESS\", responseBody.SuccessCode);\n            Assert.assertEquals(\"Operation completed successfully\", responseBody.Message);  \n        }   \n    }\n}\n</code></pre>\n\n<p>And the related classes are below:</p>\n\n<pre><code>public class RegistrationFailureResponse {  \n    @JsonIgnoreProperties(ignoreUnknown = true) \n\n    String FaultId;\n    String fault;   \n}\n</code></pre>\n\n<p>Another one :</p>\n\n<pre><code>public class RegistrationSuccessResponse {  \n    @JsonIgnoreProperties(ignoreUnknown = true)\n\n    public String SuccessCode;   \n    public String Message;\n}\n</code></pre>\n\n<p>When I try to run the above code tyhrough Testng.xml file , I get following error:</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field \"FaultId\" (class RegistrationFailureResponse), not marked as ignorable (0 known properties: ])\n   at [Source: (String)\"{\n      \"FaultId\": \"User already exists\",\n      \"fault\": \"FAULT_USER_ALREADY_EXISTS\"\n  }\"; line: 2, column: 17] (through reference chain: RegistrationFailureResponse[\"FaultId\"])\n      at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:60)\n      at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:822)\n      at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1152)\n      at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1589)\n      at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1567)\n      at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:294)\n      at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)\n      at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)\n      at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3042)\n      at com.fasterxml.jackson.databind.ObjectMapper$readValue$0.call(Unknown Source)\n      at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n      at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n      ......</p>\n</blockquote>\n\n<p>Please help, I googled the solutions but none of it is related to what I am facing here</p>\n"},{"tags":["java","oop","design-patterns","strategy-pattern"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1614185014,"post_id":66355002,"comment_id":117310360,"body_markdown":"It&#39;s not at all clear to me how the data flow is either before nor after. Maybe some sample code how a single data item is updated with all classes involved would help.","body":"It&#39;s not at all clear to me how the data flow is either before nor after. Maybe some sample code how a single data item is updated with all classes involved would help."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1614185199,"post_id":66355002,"comment_id":117310426,"body_markdown":"Strattegy is always kind of a weak pattern; I&#39;d go for an adapter on those different sources, which could be used compositionally by `PicData`. As far as usage, the `PicData` shouldn&#39;t really know anything about the `Connection`, rather some intermediary class would serialize/handle sending the data for it over the connections.","body":"Strattegy is always kind of a weak pattern; I&#39;d go for an adapter on those different sources, which could be used compositionally by <code>PicData</code>. As far as usage, the <code>PicData</code> shouldn&#39;t really know anything about the <code>Connection</code>, rather some intermediary class would serialize/handle sending the data for it over the connections."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1614185913,"post_id":66355002,"comment_id":117310770,"body_markdown":"@daniu Hi, I have provided link to the GitHub, there you can check how I am handling the data flow (IN CURRENT DESIGN) basically now the PlcDataOpcua handles also the connection so it keeps the data in PlcData up to date. So when I need to do something based on the change of some variable I subscribe to given variable. In my diagram for example the display would display all attributes of PlcData when ever the ConnectionStatus changes.","body":"@daniu Hi, I have provided link to the GitHub, there you can check how I am handling the data flow (IN CURRENT DESIGN) basically now the PlcDataOpcua handles also the connection so it keeps the data in PlcData up to date. So when I need to do something based on the change of some variable I subscribe to given variable. In my diagram for example the display would display all attributes of PlcData when ever the ConnectionStatus changes."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1614186878,"post_id":66355002,"comment_id":117311170,"body_markdown":"@Rogue do you mean to use adapter for connection? Could you be more specific?","body":"@Rogue do you mean to use adapter for connection? Could you be more specific?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1614192231,"post_id":66355002,"comment_id":117313338,"body_markdown":"@JakubZnamen&#225;ček no, the three `*Source` classes could be brought under a single adapter.","body":"@JakubZnamen&#225;ček no, the three <code>*Source</code> classes could be brought under a single adapter."},{"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"score":0,"creation_date":1614244863,"post_id":66355002,"comment_id":117328403,"body_markdown":"@Rogue could you give me an example how you would implement it, I am probably missing what it would help.","body":"@Rogue could you give me an example how you would implement it, I am probably missing what it would help."}],"answers":[{"tags":[],"owner":{"account_id":949945,"reputation":147,"user_id":8575545,"display_name":"mlntdrv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692088589,"creation_date":1692088589,"answer_id":76904468,"question_id":66355002,"body_markdown":"Your new design will require a so called billateral association between `PlcData` and `Connection`, meaning both should hold references to each other. This is combersome.\r\n\r\nInstead use the &#39;Replace bidirectional association with unidirectional&#39; refactoring. That way only `PlcData` will know about `Connection`, but not vice versa.\r\n\r\n`PlcData` is responsible for updating its own fields. `Connection` shouldn&#39;t know about this (it should only... connect). This means the `Connection#update*` methods belong to `PlcData`.\r\n\r\nPS: Also this smells more like the `Bridge` pattern. `Strategy` enapculates algorithms and I am not sure this is the case here.","title":"How to replace abstract class? (composition instead of inheritance) - concrete problem","body":"<p>Your new design will require a so called billateral association between <code>PlcData</code> and <code>Connection</code>, meaning both should hold references to each other. This is combersome.</p>\n<p>Instead use the 'Replace bidirectional association with unidirectional' refactoring. That way only <code>PlcData</code> will know about <code>Connection</code>, but not vice versa.</p>\n<p><code>PlcData</code> is responsible for updating its own fields. <code>Connection</code> shouldn't know about this (it should only... connect). This means the <code>Connection#update*</code> methods belong to <code>PlcData</code>.</p>\n<p>PS: Also this smells more like the <code>Bridge</code> pattern. <code>Strategy</code> enapculates algorithms and I am not sure this is the case here.</p>\n"}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692088589,"creation_date":1614184478,"question_id":66355002,"body_markdown":"my problem started when I wanted to write unit test for an abstract class (test the common methods) than I discovered it would be probably better to prefer composition instead of inheritance (I can use mocks for the part which is changing &quot;connection&quot;)\r\n\r\nNow I have hard time to come up with some design which would be correct so could someone help me here?\r\n\r\nWhole my code can be found [here](https://github.com/bzumik1/metalForming/tree/master/src/main/java/com/siemens/metal_forming/connection) but for simplicity I will try to describe it shortly here. I have class `PlcData` which represents current status of variables I need which are read from PLC. The `PlcData` represents subject in **observer pattern** and I subscribe to it with different classes (I also need to know what exact attribute has been changed that is why `PlcData` implements &quot;source&quot; interface for each attribute I need to observe, I also need to get all data when the attribute is changed because based on some other attributes I search in database - that is why I send whole `PlcData` when any attribute changes). I would like to keep the observers of `PlcData` independent on connection (how the `PlcData` reads/writes variables from PLC).\r\n\r\nHere is my original design with abstract `PlcData`:[![Current design][1]][1]\r\n\r\n\r\nI would like to achieve something like this (a lot of programmers confirmed me that this is the correct way) where the `PlcData` is concrete class (I could use also interface for it in future) and the connection is as attribute of `PlcData`:\r\n[![New design][2]][2]\r\n\r\nMy problem is that I don&#39;t know how to correctly implement this. The each concrete class of &quot;Connection&quot; will use some library and will have a lot of specifics here but it should handle the subscription, read, write to those &quot;important&quot; variables (serialNumber, measuredCurve ... - in real code I have more of them but they are exactly given). But I would like this to be invisible for `PlcData` &quot;user&quot; so he would just call some factory method `PlcDataProvider.getPlcData()` and he would get instance of PlcData with initialised connection and he would just subscribe to variables he needs (or write to those variables and the `PlcData` class would handle how to send them to PLC over the &quot;Connection&quot; interface.\r\n\r\n***MY BIGGEST PROBLEMS***\r\n\r\n1. I don&#39;t know how to correctly make the `Connection` updating the `PlcData` and how to  write to real PLC variables over it (I am really lost here and I end up with three methods for each attribute (writeSerialNumber, readSerialNumber, subscribeToSerialNumber and the `Connection` needs to keep track of `PlcData`)\r\n\r\n1. How to correctly create PlcData using some factory\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xD2Zo.jpg\r\n  [2]: https://i.stack.imgur.com/RZ6Np.jpg","title":"How to replace abstract class? (composition instead of inheritance) - concrete problem","body":"<p>my problem started when I wanted to write unit test for an abstract class (test the common methods) than I discovered it would be probably better to prefer composition instead of inheritance (I can use mocks for the part which is changing &quot;connection&quot;)</p>\n<p>Now I have hard time to come up with some design which would be correct so could someone help me here?</p>\n<p>Whole my code can be found <a href=\"https://github.com/bzumik1/metalForming/tree/master/src/main/java/com/siemens/metal_forming/connection\" rel=\"nofollow noreferrer\">here</a> but for simplicity I will try to describe it shortly here. I have class <code>PlcData</code> which represents current status of variables I need which are read from PLC. The <code>PlcData</code> represents subject in <strong>observer pattern</strong> and I subscribe to it with different classes (I also need to know what exact attribute has been changed that is why <code>PlcData</code> implements &quot;source&quot; interface for each attribute I need to observe, I also need to get all data when the attribute is changed because based on some other attributes I search in database - that is why I send whole <code>PlcData</code> when any attribute changes). I would like to keep the observers of <code>PlcData</code> independent on connection (how the <code>PlcData</code> reads/writes variables from PLC).</p>\n<p>Here is my original design with abstract <code>PlcData</code>:<a href=\"https://i.stack.imgur.com/xD2Zo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xD2Zo.jpg\" alt=\"Current design\" /></a></p>\n<p>I would like to achieve something like this (a lot of programmers confirmed me that this is the correct way) where the <code>PlcData</code> is concrete class (I could use also interface for it in future) and the connection is as attribute of <code>PlcData</code>:\n<a href=\"https://i.stack.imgur.com/RZ6Np.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZ6Np.jpg\" alt=\"New design\" /></a></p>\n<p>My problem is that I don't know how to correctly implement this. The each concrete class of &quot;Connection&quot; will use some library and will have a lot of specifics here but it should handle the subscription, read, write to those &quot;important&quot; variables (serialNumber, measuredCurve ... - in real code I have more of them but they are exactly given). But I would like this to be invisible for <code>PlcData</code> &quot;user&quot; so he would just call some factory method <code>PlcDataProvider.getPlcData()</code> and he would get instance of PlcData with initialised connection and he would just subscribe to variables he needs (or write to those variables and the <code>PlcData</code> class would handle how to send them to PLC over the &quot;Connection&quot; interface.</p>\n<p><em><strong>MY BIGGEST PROBLEMS</strong></em></p>\n<ol>\n<li><p>I don't know how to correctly make the <code>Connection</code> updating the <code>PlcData</code> and how to  write to real PLC variables over it (I am really lost here and I end up with three methods for each attribute (writeSerialNumber, readSerialNumber, subscribeToSerialNumber and the <code>Connection</code> needs to keep track of <code>PlcData</code>)</p>\n</li>\n<li><p>How to correctly create PlcData using some factory</p>\n</li>\n</ol>\n"},{"tags":["java","pytorch","openai-whisper","djl"],"answers":[{"tags":[],"owner":{"account_id":18830233,"reputation":21,"user_id":14698364,"display_name":"Cosmic Sparkle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692088147,"creation_date":1692088147,"answer_id":76904425,"question_id":76901982,"body_markdown":"Figured it out, posting here just in case others too encounter this.\r\n\r\nIn the processInput function of the WhisperTranslator, change the line below:\r\n\r\n    NDArray placeholder = ctx.getNDManager().create(&quot;&quot;).toDevice(device, true);\r\nwith\r\n\r\n    NDArray placeholder = ctx.getNDManager().create(new float[0]).toDevice(device, true);\r\n\r\nOf course the toDevice(gpu(0), copy=true) has to added too, in your extension of the WhisperTranslator class. (which for me is WhisperGPUTranslator, as described in the question)","title":"Whisper Zoo model on DJL with GPU: Getting error &quot;c10::intrusive_ptr&lt;c10::TensorImpl, c10::UndefinedTensorImpl&gt;::operator-&gt;() const+0xc&quot;","body":"<p>Figured it out, posting here just in case others too encounter this.</p>\n<p>In the processInput function of the WhisperTranslator, change the line below:</p>\n<pre><code>NDArray placeholder = ctx.getNDManager().create(&quot;&quot;).toDevice(device, true);\n</code></pre>\n<p>with</p>\n<pre><code>NDArray placeholder = ctx.getNDManager().create(new float[0]).toDevice(device, true);\n</code></pre>\n<p>Of course the toDevice(gpu(0), copy=true) has to added too, in your extension of the WhisperTranslator class. (which for me is WhisperGPUTranslator, as described in the question)</p>\n"}],"owner":{"account_id":18830233,"reputation":21,"user_id":14698364,"display_name":"Cosmic Sparkle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1692088147,"creation_date":1692044953,"question_id":76901982,"body_markdown":"I&#39;m trying to run the Whisper zoo model from DJL examples in GPU. \r\n\r\nIn the first run, I got the error that two devices were found - Cuda and CPU. \r\n\r\nAs I understood that this error occurs due to just the model being in the GPU and not the input, as a fix, I created two classes extending WhisperTranslator and WhisperTranslatorFactory, namely WhisperGPUTranslator and WhisperGPUTranslatorFactory. These classes were made so as to do NDArray.to(gpu(0)) on the processed input image-data.\r\n\r\nThis worked to help me start the application. However as soon as the inference is made, I get this error:\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f971f918000, pid=22329, tid=22431\r\n#\r\n# JRE version: OpenJDK Runtime Environment (11.0.20+8) (build 11.0.20+8-post-Ubuntu-1ubuntu123.04)\r\n# Java VM: OpenJDK 64-Bit Server VM (11.0.20+8-post-Ubuntu-1ubuntu123.04, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [0.23.0-libdjl_torch.so+0x118000]  c10::intrusive_ptr&lt;c10::TensorImpl, c10::UndefinedTensorImpl&gt;::operator-&gt;() const+0xc\r\n\r\n```\r\n\r\n\r\n\r\nTried changing the versions from DJL and DJL-Pytorch-Engine version from 23.0 to 21.1 (below which the example code doesn&#39;t compile). Got the exact same error every time.\r\n\r\nHoping someone here might have the insight on how to fix this. Please help.","title":"Whisper Zoo model on DJL with GPU: Getting error &quot;c10::intrusive_ptr&lt;c10::TensorImpl, c10::UndefinedTensorImpl&gt;::operator-&gt;() const+0xc&quot;","body":"<p>I'm trying to run the Whisper zoo model from DJL examples in GPU.</p>\n<p>In the first run, I got the error that two devices were found - Cuda and CPU.</p>\n<p>As I understood that this error occurs due to just the model being in the GPU and not the input, as a fix, I created two classes extending WhisperTranslator and WhisperTranslatorFactory, namely WhisperGPUTranslator and WhisperGPUTranslatorFactory. These classes were made so as to do NDArray.to(gpu(0)) on the processed input image-data.</p>\n<p>This worked to help me start the application. However as soon as the inference is made, I get this error:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f971f918000, pid=22329, tid=22431\n#\n# JRE version: OpenJDK Runtime Environment (11.0.20+8) (build 11.0.20+8-post-Ubuntu-1ubuntu123.04)\n# Java VM: OpenJDK 64-Bit Server VM (11.0.20+8-post-Ubuntu-1ubuntu123.04, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [0.23.0-libdjl_torch.so+0x118000]  c10::intrusive_ptr&lt;c10::TensorImpl, c10::UndefinedTensorImpl&gt;::operator-&gt;() const+0xc\n\n</code></pre>\n<p>Tried changing the versions from DJL and DJL-Pytorch-Engine version from 23.0 to 21.1 (below which the example code doesn't compile). Got the exact same error every time.</p>\n<p>Hoping someone here might have the insight on how to fix this. Please help.</p>\n"},{"tags":["java","spring-boot","dockerfile","render.com"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1692081998,"post_id":76903843,"comment_id":135573106,"body_markdown":"`release version 17 not supported` is pretty clear. Use a JDK17 image, you are now using a JDK11 image, which obviously won&#39;t support Java 17.","body":"<code>release version 17 not supported</code> is pretty clear. Use a JDK17 image, you are now using a JDK11 image, which obviously won&#39;t support Java 17."},{"owner":{"account_id":1127859,"reputation":897,"user_id":1114682,"accept_rate":9,"display_name":"Noriaki Takamizawa"},"score":0,"creation_date":1692086841,"post_id":76903843,"comment_id":135573837,"body_markdown":"Thanks for the quick response. After replaced maven:3.8.3-openjdk-17, this error is clear but encounter next error. Will post another issue.","body":"Thanks for the quick response. After replaced maven:3.8.3-openjdk-17, this error is clear but encounter next error. Will post another issue."}],"answers":[{"tags":[],"owner":{"account_id":1127859,"reputation":897,"user_id":1114682,"accept_rate":9,"display_name":"Noriaki Takamizawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692086954,"creation_date":1692086954,"answer_id":76904311,"question_id":76903843,"body_markdown":"Thanks @M. Deinum.\r\nI changed Dockerfile first line to below. It clear this error.\r\n```\r\nFROM maven:3.8.3-openjdk-17 AS build\r\n```","title":"How to write Dockerfile for Render.com deployment","body":"<p>Thanks @M. Deinum.\nI changed Dockerfile first line to below. It clear this error.</p>\n<pre><code>FROM maven:3.8.3-openjdk-17 AS build\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692087901,"creation_date":1692087171,"answer_id":76904333,"question_id":76903843,"body_markdown":"Your `Dockerfile` uses the following declaration\r\n\r\n```\r\nFROM maven:3.8.2-jdk-11 AS build\r\n```\r\n\r\nWhich means it will pull in a Docker Image with JDK11. \r\n\r\nThe error you get \r\n\r\n```\r\nproject QuickMaster: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\r\n```\r\n\r\nIndicates you need to use JDK17 instead of JDK11. So use a newer Docker image. Something like\r\n\r\n```\r\nFROM maven:3-eclipse-temurin-17 AS build\r\n```\r\n\r\nEven if compilation would succeed running would fail as that will, obviously, also require JDK17, where you now also have JDK11.\r\n\r\n```\r\nFROM openjdk:11-jdk-slim\r\n```\r\n\r\nShould be something like \r\n\r\n```\r\nFROM eclipse-temurin:17-alpine\r\n```\r\n\r\nYour whole Dockerfile should look something like this\r\n\r\n```docker\r\nFROM maven:3-eclipse-temurin-17 AS build\r\nCOPY . .\r\nRUN mvn clean package -Pprod -DskipTests\r\nFROM eclipse-temurin:17-alpine\r\nCOPY --from=build /target/backendaccountant-0.0.1-SNAPSHOT.jar demo.jar\r\nEXPOSE 8080\r\nENTRYPOINT [“java”,“-jar”,“demo.jar”]\r\n```\r\n\r\nThis will use JDK17 for both the build as well as running the application. ","title":"How to write Dockerfile for Render.com deployment","body":"<p>Your <code>Dockerfile</code> uses the following declaration</p>\n<pre><code>FROM maven:3.8.2-jdk-11 AS build\n</code></pre>\n<p>Which means it will pull in a Docker Image with JDK11.</p>\n<p>The error you get</p>\n<pre><code>project QuickMaster: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\n</code></pre>\n<p>Indicates you need to use JDK17 instead of JDK11. So use a newer Docker image. Something like</p>\n<pre><code>FROM maven:3-eclipse-temurin-17 AS build\n</code></pre>\n<p>Even if compilation would succeed running would fail as that will, obviously, also require JDK17, where you now also have JDK11.</p>\n<pre><code>FROM openjdk:11-jdk-slim\n</code></pre>\n<p>Should be something like</p>\n<pre><code>FROM eclipse-temurin:17-alpine\n</code></pre>\n<p>Your whole Dockerfile should look something like this</p>\n<pre><code>FROM maven:3-eclipse-temurin-17 AS build\nCOPY . .\nRUN mvn clean package -Pprod -DskipTests\nFROM eclipse-temurin:17-alpine\nCOPY --from=build /target/backendaccountant-0.0.1-SNAPSHOT.jar demo.jar\nEXPOSE 8080\nENTRYPOINT [“java”,“-jar”,“demo.jar”]\n</code></pre>\n<p>This will use JDK17 for both the build as well as running the application.</p>\n"}],"owner":{"account_id":1127859,"reputation":897,"user_id":1114682,"accept_rate":9,"display_name":"Noriaki Takamizawa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1692087901,"creation_date":1692081618,"question_id":76903843,"body_markdown":"I wrote sample Java spring boot code like this.\r\nhttps://github.com/hardreggaecafe/java_spring_boot_sample\r\n\r\nAnd everytime I deploy this code to Render.com, it fails.\r\nDockerfile is here.\r\n```\r\nFROM maven:3.8.2-jdk-11 AS build\r\nCOPY . .\r\nRUN mvn clean package -Pprod -DskipTests\r\nFROM openjdk:11-jdk-slim\r\nCOPY --from=build /target/backendaccountant-0.0.1-SNAPSHOT.jar demo.jar\r\nEXPOSE 8080\r\nENTRYPOINT [“java”,“-jar”,“demo.jar”]\r\n```\r\n\r\nError log is like this.\r\n```\r\nDownloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/3.5.0/plexus-utils-3.5.0.jar (267 kB at 6.4 MB/s)\r\nAug 15 03:30:33 PM  #11 13.84 Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-javac/2.13.0/plexus-compiler-javac-2.13.0.jar (23 kB at 518 kB/s)\r\nAug 15 03:30:33 PM  #11 14.03 [INFO] Changes detected - recompiling the module! :dependency\r\nAug 15 03:30:33 PM  #11 14.03 [INFO] Compiling 3 source files with javac [debug release 17] to target/classes\r\nAug 15 03:30:33 PM  #11 14.32 [INFO] ------------------------------------------------------------------------\r\nAug 15 03:30:33 PM  #11 14.32 [INFO] BUILD FAILURE\r\nAug 15 03:30:33 PM  #11 14.32 [INFO] ------------------------------------------------------------------------\r\nAug 15 03:30:33 PM  #11 14.32 [INFO] Total time:  11.972 s\r\nAug 15 03:30:33 PM  #11 14.32 [INFO] Finished at: 2023-08-15T06:30:33Z\r\nAug 15 03:30:33 PM  #11 14.32 [INFO] ------------------------------------------------------------------------\r\nAug 15 03:30:33 PM  #11 14.32 [WARNING] The requested profile &quot;prod&quot; could not be activated because it does not exist.\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project QuickMaster: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\nAug 15 03:30:33 PM  #11 14.33 [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\nAug 15 03:30:33 PM  #11 ERROR: process &quot;/bin/sh -c mvn clean package -Pprod -DskipTests&quot; did not complete successfully: exit code: 1\r\nAug 15 03:30:33 PM  ------\r\nAug 15 03:30:33 PM   &gt; [build 3/3] RUN mvn clean package -Pprod -DskipTests:\r\nAug 15 03:30:33 PM  #11 14.32 [INFO] Finished at: 2023-08-15T06:30:33Z\r\nAug 15 03:30:33 PM  #11 14.32 [INFO] ------------------------------------------------------------------------\r\nAug 15 03:30:33 PM  #11 14.32 [WARNING] The requested profile &quot;prod&quot; could not be activated because it does not exist.\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project QuickMaster: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\r\nAug 15 03:30:33 PM  #11 14.32 [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\nAug 15 03:30:33 PM  #11 14.33 [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\nAug 15 03:30:33 PM  ------\r\nAug 15 03:30:33 PM  Dockerfile:3\r\nAug 15 03:30:33 PM  --------------------\r\nAug 15 03:30:33 PM     1 |     FROM maven:3.8.2-jdk-11 AS build\r\nAug 15 03:30:33 PM     2 |     COPY . .\r\nAug 15 03:30:33 PM     3 | &gt;&gt;&gt; RUN mvn clean package -Pprod -DskipTests\r\nAug 15 03:30:33 PM     4 |     FROM openjdk:11-jdk-slim\r\nAug 15 03:30:33 PM     5 |     COPY --from=build /target/backendaccountant-0.0.1-SNAPSHOT.jar demo.jar\r\nAug 15 03:30:33 PM  --------------------\r\nAug 15 03:30:33 PM  error: failed to solve: process &quot;/bin/sh -c mvn clean package -Pprod -DskipTests&quot; did not complete successfully: exit code: 1\r\nAug 15 03:30:33 PM  error: exit status 1\r\n```\r\n\r\nSo what can I do? Please let me know. Thanks in advance.","title":"How to write Dockerfile for Render.com deployment","body":"<p>I wrote sample Java spring boot code like this.\n<a href=\"https://github.com/hardreggaecafe/java_spring_boot_sample\" rel=\"nofollow noreferrer\">https://github.com/hardreggaecafe/java_spring_boot_sample</a></p>\n<p>And everytime I deploy this code to Render.com, it fails.\nDockerfile is here.</p>\n<pre><code>FROM maven:3.8.2-jdk-11 AS build\nCOPY . .\nRUN mvn clean package -Pprod -DskipTests\nFROM openjdk:11-jdk-slim\nCOPY --from=build /target/backendaccountant-0.0.1-SNAPSHOT.jar demo.jar\nEXPOSE 8080\nENTRYPOINT [“java”,“-jar”,“demo.jar”]\n</code></pre>\n<p>Error log is like this.</p>\n<pre><code>Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/3.5.0/plexus-utils-3.5.0.jar (267 kB at 6.4 MB/s)\nAug 15 03:30:33 PM  #11 13.84 Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-compiler-javac/2.13.0/plexus-compiler-javac-2.13.0.jar (23 kB at 518 kB/s)\nAug 15 03:30:33 PM  #11 14.03 [INFO] Changes detected - recompiling the module! :dependency\nAug 15 03:30:33 PM  #11 14.03 [INFO] Compiling 3 source files with javac [debug release 17] to target/classes\nAug 15 03:30:33 PM  #11 14.32 [INFO] ------------------------------------------------------------------------\nAug 15 03:30:33 PM  #11 14.32 [INFO] BUILD FAILURE\nAug 15 03:30:33 PM  #11 14.32 [INFO] ------------------------------------------------------------------------\nAug 15 03:30:33 PM  #11 14.32 [INFO] Total time:  11.972 s\nAug 15 03:30:33 PM  #11 14.32 [INFO] Finished at: 2023-08-15T06:30:33Z\nAug 15 03:30:33 PM  #11 14.32 [INFO] ------------------------------------------------------------------------\nAug 15 03:30:33 PM  #11 14.32 [WARNING] The requested profile &quot;prod&quot; could not be activated because it does not exist.\nAug 15 03:30:33 PM  #11 14.32 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project QuickMaster: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\nAug 15 03:30:33 PM  #11 14.32 [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\nAug 15 03:30:33 PM  #11 14.32 [ERROR] Re-run Maven using the -X switch to enable full debug logging.\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\nAug 15 03:30:33 PM  #11 14.32 [ERROR] For more information about the errors and possible solutions, please read the following articles:\nAug 15 03:30:33 PM  #11 14.33 [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\nAug 15 03:30:33 PM  #11 ERROR: process &quot;/bin/sh -c mvn clean package -Pprod -DskipTests&quot; did not complete successfully: exit code: 1\nAug 15 03:30:33 PM  ------\nAug 15 03:30:33 PM   &gt; [build 3/3] RUN mvn clean package -Pprod -DskipTests:\nAug 15 03:30:33 PM  #11 14.32 [INFO] Finished at: 2023-08-15T06:30:33Z\nAug 15 03:30:33 PM  #11 14.32 [INFO] ------------------------------------------------------------------------\nAug 15 03:30:33 PM  #11 14.32 [WARNING] The requested profile &quot;prod&quot; could not be activated because it does not exist.\nAug 15 03:30:33 PM  #11 14.32 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:compile (default-compile) on project QuickMaster: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\nAug 15 03:30:33 PM  #11 14.32 [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\nAug 15 03:30:33 PM  #11 14.32 [ERROR] Re-run Maven using the -X switch to enable full debug logging.\nAug 15 03:30:33 PM  #11 14.32 [ERROR]\nAug 15 03:30:33 PM  #11 14.32 [ERROR] For more information about the errors and possible solutions, please read the following articles:\nAug 15 03:30:33 PM  #11 14.33 [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\nAug 15 03:30:33 PM  ------\nAug 15 03:30:33 PM  Dockerfile:3\nAug 15 03:30:33 PM  --------------------\nAug 15 03:30:33 PM     1 |     FROM maven:3.8.2-jdk-11 AS build\nAug 15 03:30:33 PM     2 |     COPY . .\nAug 15 03:30:33 PM     3 | &gt;&gt;&gt; RUN mvn clean package -Pprod -DskipTests\nAug 15 03:30:33 PM     4 |     FROM openjdk:11-jdk-slim\nAug 15 03:30:33 PM     5 |     COPY --from=build /target/backendaccountant-0.0.1-SNAPSHOT.jar demo.jar\nAug 15 03:30:33 PM  --------------------\nAug 15 03:30:33 PM  error: failed to solve: process &quot;/bin/sh -c mvn clean package -Pprod -DskipTests&quot; did not complete successfully: exit code: 1\nAug 15 03:30:33 PM  error: exit status 1\n</code></pre>\n<p>So what can I do? Please let me know. Thanks in advance.</p>\n"},{"tags":["java","jmx","javapolicy"],"comments":[{"owner":{"account_id":17474859,"reputation":2389,"user_id":12669945,"display_name":"Atmas"},"score":0,"creation_date":1629986200,"post_id":60872698,"comment_id":121836864,"body_markdown":"Have you considered just using an OS level firewall? (I.e.   not using java)","body":"Have you considered just using an OS level firewall? (I.e.   not using java)"},{"owner":{"account_id":1941777,"reputation":3143,"user_id":1747834,"accept_rate":58,"display_name":"Mikhail T."},"score":0,"creation_date":1630684102,"post_id":60872698,"comment_id":122032326,"body_markdown":"I have, but that requires `root`-privileges, which -- in our setup -- requires coordination with too many people to be feasible :(","body":"I have, but that requires <code>root</code>-privileges, which -- in our setup -- requires coordination with too many people to be feasible :("},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1691461839,"post_id":60872698,"comment_id":135491535,"body_markdown":"do you know (for sure) that the security manager is using your policy file?  Have you tried using `-Djava.security.policy=&lt;absolute_pathname&gt;` to tell the security manager which policy file to use?","body":"do you know (for sure) that the security manager is using your policy file?  Have you tried using <code>-Djava.security.policy=&lt;absolute_pathname&gt;</code> to tell the security manager which policy file to use?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1691462058,"post_id":60872698,"comment_id":135491552,"body_markdown":"Maybe there are other useful clues here: https://docs.oracle.com/javadb/10.10.1.2/adminguide/radminjmxenablepwdssl.html","body":"Maybe there are other useful clues here: <a href=\"https://docs.oracle.com/javadb/10.10.1.2/adminguide/radminjmxenablepwdssl.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javadb/10.10.1.2/adminguide/&hellip;</a>"},{"owner":{"account_id":1941777,"reputation":3143,"user_id":1747834,"accept_rate":58,"display_name":"Mikhail T."},"score":0,"creation_date":1691498374,"post_id":60872698,"comment_id":135497323,"body_markdown":"No, [that article](https://docs.oracle.com/javadb/10.10.1.2/adminguide/radminjmxenablepwdssl.html) is about authenticating by username/password -- I am looking for means to allow passwordless access to JMX, but only from a (small) group of IP-addresses.","body":"No, <a href=\"https://docs.oracle.com/javadb/10.10.1.2/adminguide/radminjmxenablepwdssl.html\" rel=\"nofollow noreferrer\">that article</a> is about authenticating by username/password -- I am looking for means to allow passwordless access to JMX, but only from a (small) group of IP-addresses."},{"owner":{"account_id":1941777,"reputation":3143,"user_id":1747834,"accept_rate":58,"display_name":"Mikhail T."},"score":0,"creation_date":1691601365,"post_id":60872698,"comment_id":135514901,"body_markdown":"The `${user.home}/.java.policy`, if available, is always loaded after the `${java.home}/lib/security/java.policy`, according to [Java documentation](https://docs.oracle.com/javase/tutorial/security/tour2/step4.html).","body":"The <code>${user.home}&#47;.java.policy</code>, if available, is always loaded after the <code>${java.home}&#47;lib&#47;security&#47;java.policy</code>, according to <a href=\"https://docs.oracle.com/javase/tutorial/security/tour2/step4.html\" rel=\"nofollow noreferrer\">Java documentation</a>."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1692048034,"post_id":60872698,"comment_id":135570383,"body_markdown":"@MikhailT. The policy file is probably ignored altogether due to `com.sun.management.jmxremote.authenticate=false`. At least dummy credentials like `guest:guest` should be used and set that property to true.","body":"@MikhailT. The policy file is probably ignored altogether due to <code>com.sun.management.jmxremote.authenticate=false</code>. At least dummy credentials like <code>guest:guest</code> should be used and set that property to true."}],"answers":[{"tags":[],"owner":{"account_id":4671622,"reputation":1328,"user_id":3783275,"accept_rate":75,"display_name":"Westranger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692087509,"creation_date":1692024700,"answer_id":76899999,"question_id":60872698,"body_markdown":"I think this is not Possible.\r\n\r\nThe JMXPrincipal, the [source code of e.g. OpenJDK JMX classes][1] show that you always require a user/role a wildcard does not imply that you don&#39;t need a user/ authentication. \r\nAlso all other classes (in the JMX Package) don&#39;t instantiate a Socket which uses the `java.net.SocketPermission` class. The `javax.management.remote.rmi.RMIConnectorServer` which is the only class which `extends JMXConnectorServer` and [which is instantiated][2] after the VM command line parameters are read uses the `SocketPermission`, via the [LoaderHandler][3]. Also looking at the policy examples from the OpenJDK there there you can either restrict JMX access to a user/role or you can restrict the general access the JVM via `permission java.net.SocketPermission`\r\n\r\n_**update one day later**_\r\n\r\nafter thinking a while about it maybe using only `SockePermission` may work. If you look into the code you can specify port ranges. Unfortunately it is not possible to specify a network address with its mask, but you could in general allow all IP&#39;s access to all port except the JMX port and afterwards add permissions for your IP. This also requires that you start you java process with \r\n\r\n    -Dcom.sun.management.jmxremote.port=9010\r\n    -Dcom.sun.management.jmxremote.rmi.port=9010\r\n\r\nand then the permission would look like this\r\n\r\n    grant {\r\n    \tpermission java.net.SocketPermission &quot;*:1-9009&quot;, &quot;listen,resolve,connect,accept&quot;;\r\n    \tpermission java.net.SocketPermission &quot;*:9011-65535&quot;, &quot;listen,resolve,connect,accept&quot;;\r\n    \tpermission java.net.SocketPermission &quot;127.0.0.1:9010&quot;, &quot;accept&quot;;\r\n        permission java.net.SocketPermission &quot;my.lan.ip.addr:9010&quot;, &quot;accept&quot;;\r\n    \tpermission java.net.SocketPermission &quot;another.lan.ip.addr:9010&quot;, &quot;accept&quot;;\r\n    }\r\n\r\n  [1]: https://github.com/openjdk/jdk/tree/master/src/java.management/share/classes/javax/management/remote\r\n  [2]: https://github.com/openjdk/jdk/blob/master/src/jdk.management.agent/share/classes/sun/management/jmxremote/ConnectorBootstrap.java\r\n  [3]: https://github.com/openjdk/jdk/blob/master/src/java.rmi/share/classes/sun/rmi/server/LoaderHandler.java\r\n","title":"How to limit access to JMX to only certain IP-addresses?","body":"<p>I think this is not Possible.</p>\n<p>The JMXPrincipal, the <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.management/share/classes/javax/management/remote\" rel=\"nofollow noreferrer\">source code of e.g. OpenJDK JMX classes</a> show that you always require a user/role a wildcard does not imply that you don't need a user/ authentication.\nAlso all other classes (in the JMX Package) don't instantiate a Socket which uses the <code>java.net.SocketPermission</code> class. The <code>javax.management.remote.rmi.RMIConnectorServer</code> which is the only class which <code>extends JMXConnectorServer</code> and <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.management.agent/share/classes/sun/management/jmxremote/ConnectorBootstrap.java\" rel=\"nofollow noreferrer\">which is instantiated</a> after the VM command line parameters are read uses the <code>SocketPermission</code>, via the <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.rmi/share/classes/sun/rmi/server/LoaderHandler.java\" rel=\"nofollow noreferrer\">LoaderHandler</a>. Also looking at the policy examples from the OpenJDK there there you can either restrict JMX access to a user/role or you can restrict the general access the JVM via <code>permission java.net.SocketPermission</code></p>\n<p><em><strong>update one day later</strong></em></p>\n<p>after thinking a while about it maybe using only <code>SockePermission</code> may work. If you look into the code you can specify port ranges. Unfortunately it is not possible to specify a network address with its mask, but you could in general allow all IP's access to all port except the JMX port and afterwards add permissions for your IP. This also requires that you start you java process with</p>\n<pre><code>-Dcom.sun.management.jmxremote.port=9010\n-Dcom.sun.management.jmxremote.rmi.port=9010\n</code></pre>\n<p>and then the permission would look like this</p>\n<pre><code>grant {\n    permission java.net.SocketPermission &quot;*:1-9009&quot;, &quot;listen,resolve,connect,accept&quot;;\n    permission java.net.SocketPermission &quot;*:9011-65535&quot;, &quot;listen,resolve,connect,accept&quot;;\n    permission java.net.SocketPermission &quot;127.0.0.1:9010&quot;, &quot;accept&quot;;\n    permission java.net.SocketPermission &quot;my.lan.ip.addr:9010&quot;, &quot;accept&quot;;\n    permission java.net.SocketPermission &quot;another.lan.ip.addr:9010&quot;, &quot;accept&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":1941777,"reputation":3143,"user_id":1747834,"accept_rate":58,"display_name":"Mikhail T."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692087509,"creation_date":1585243055,"question_id":60872698,"body_markdown":"I don&#39;t want to bother with SSL and passwords each time, but still don&#39;t want my program&#39;s JMX functionality reachable by others on the LAN.\r\n\r\nI populated my `~/.java.policy` thus:\r\n\r\n\tgrant principal javax.management.remote.JMXPrincipal &quot;*&quot; {\r\n\t\tpermission java.net.SocketPermission &quot;127.0.0.1&quot;, &quot;accept&quot;;\r\n\t\tpermission java.net.SocketPermission &quot;my.lan.ip.addr&quot;, &quot;accept&quot;;\r\n\t\tpermission java.net.SocketPermission &quot;another.lan.ip.addr&quot;, &quot;accept&quot;;\r\n\t\tpermission java.net.SocketPermission &quot;*&quot;, &quot;resolve&quot;;\r\n\t}\r\nUnfortunately, this does not seem to have an effect -- when the program is started with:\r\n\r\n* `-Djava.security.manager`\r\n* `-Dcom.sun.management.jmxremote.ssl=false`\r\n* `-Dcom.sun.management.jmxremote.authenticate=false`\r\n* `-Dcom.sun.management.jmxremote`\r\n* `-Dcom.sun.management.jmxremote.port=1234`\r\n\r\nits JMX functionality remains accessible from _anywhere_, not just from the few IPs listed.\r\n\r\nHow to do it correctly? Thank you!","title":"How to limit access to JMX to only certain IP-addresses?","body":"<p>I don't want to bother with SSL and passwords each time, but still don't want my program's JMX functionality reachable by others on the LAN.</p>\n\n<p>I populated my <code>~/.java.policy</code> thus:</p>\n\n<pre><code>grant principal javax.management.remote.JMXPrincipal \"*\" {\n    permission java.net.SocketPermission \"127.0.0.1\", \"accept\";\n    permission java.net.SocketPermission \"my.lan.ip.addr\", \"accept\";\n    permission java.net.SocketPermission \"another.lan.ip.addr\", \"accept\";\n    permission java.net.SocketPermission \"*\", \"resolve\";\n}\n</code></pre>\n\n<p>Unfortunately, this does not seem to have an effect -- when the program is started with:</p>\n\n<ul>\n<li><code>-Djava.security.manager</code></li>\n<li><code>-Dcom.sun.management.jmxremote.ssl=false</code></li>\n<li><code>-Dcom.sun.management.jmxremote.authenticate=false</code></li>\n<li><code>-Dcom.sun.management.jmxremote</code></li>\n<li><code>-Dcom.sun.management.jmxremote.port=1234</code></li>\n</ul>\n\n<p>its JMX functionality remains accessible from <em>anywhere</em>, not just from the few IPs listed.</p>\n\n<p>How to do it correctly? Thank you!</p>\n"},{"tags":["java","json","rest","blob"],"comments":[{"owner":{"account_id":5114922,"reputation":359,"user_id":4100399,"accept_rate":0,"display_name":"gbenga wale"},"score":0,"creation_date":1497735284,"post_id":44609535,"comment_id":76205961,"body_markdown":"This question already has an answer\nhttps://stackoverflow.com/questions/7947871/convert-a-string-to-a-byte-array-and-then-back-to-the-original-string and https://stackoverflow.com/questions/36560223/how-do-i-convert-a-jsonobject-to-a-byte-array-and-then-convert-this-byte-array-t/36560611","body":"This question already has an answer <a href=\"https://stackoverflow.com/questions/7947871/convert-a-string-to-a-byte-array-and-then-back-to-the-original-string\" title=\"convert a string to a byte array and then back to the original string\">stackoverflow.com/questions/7947871/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/36560223/how-do-i-convert-a-jsonobject-to-a-byte-array-and-then-convert-this-byte-array-t/36560611\" title=\"how do i convert a jsonobject to a byte array and then convert this byte array t\">stackoverflow.com/questions/36560223/&hellip;</a>"},{"owner":{"account_id":10791375,"reputation":1498,"user_id":7938769,"display_name":"tima"},"score":1,"creation_date":1497752441,"post_id":44609535,"comment_id":76208972,"body_markdown":"This question is the same as https://stackoverflow.com/questions/17400497/how-to-convert-blob-to-string-and-string-to-blob-in-java","body":"This question is the same as <a href=\"https://stackoverflow.com/questions/17400497/how-to-convert-blob-to-string-and-string-to-blob-in-java\" title=\"how to convert blob to string and string to blob in java\">stackoverflow.com/questions/17400497/&hellip;</a>"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1660197500,"post_id":44609535,"comment_id":129476918,"body_markdown":"@gbengawale He&#39;s asking for BLOB. Both your suggestions have nothing to do with blob.","body":"@gbengawale He&#39;s asking for BLOB. Both your suggestions have nothing to do with blob."}],"answers":[{"tags":[],"owner":{"account_id":11129897,"reputation":91,"user_id":8170173,"display_name":"Thangamudy Gurusamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498121252,"creation_date":1498121252,"answer_id":44694525,"question_id":44609535,"body_markdown":"Try this\r\n\r\n    String str = json.toString();\r\n    PreparedStatement ps1 = conn.prepareStatement(&quot;update table set blob=? where id=1&quot;);\r\n    Blob blob = conn.createBlob();\r\n    blob.setBytes(1, str.getBytes());\r\n    ps1.setBlob(1, blob);\r\n    ps1.executeUpdate();\r\n","title":"How to convert Json object to BLOB in java","body":"<p>Try this</p>\n\n<pre><code>String str = json.toString();\nPreparedStatement ps1 = conn.prepareStatement(\"update table set blob=? where id=1\");\nBlob blob = conn.createBlob();\nblob.setBytes(1, str.getBytes());\nps1.setBlob(1, blob);\nps1.executeUpdate();\n</code></pre>\n"}],"owner":{"account_id":6746900,"reputation":861,"user_id":5198256,"accept_rate":13,"display_name":"Asif Billa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692086580,"creation_date":1497734903,"question_id":44609535,"body_markdown":"I need to store HTTP REST API (POST, GET, PATCH, etc.) requests and responses into a database entry (Column as BLOB), so that we can audit the requests and responses later.\r\n\r\nAs part of the incoming HTTP POST request, the DTO object is coming as request body. I can extract the JSON object as a request body.\r\n\r\nHow can I convert that JSON object to BLOB in Java?","title":"How to convert Json object to BLOB in java","body":"<p>I need to store HTTP REST API (POST, GET, PATCH, etc.) requests and responses into a database entry (Column as BLOB), so that we can audit the requests and responses later.</p>\n\n<p>As part of the incoming HTTP POST request, the DTO object is coming as request body. I can extract the JSON object as a request body.</p>\n\n<p>How can I convert that JSON object to BLOB in Java?</p>\n"},{"tags":["java","android","sql-server","listview","gridview"],"comments":[{"owner":{"account_id":472002,"reputation":2120,"user_id":880181,"accept_rate":75,"display_name":"Tanim reja"},"score":0,"creation_date":1451471775,"post_id":34527630,"comment_id":56796738,"body_markdown":"are you trying to use sql server directly without any webservice? its impossible man","body":"are you trying to use sql server directly without any webservice? its impossible man"},{"owner":{"account_id":5623567,"reputation":1380,"user_id":4452649,"accept_rate":43,"display_name":"Reshma"},"score":0,"creation_date":1451471948,"post_id":34527630,"comment_id":56796817,"body_markdown":"yes, I am not using any web services.","body":"yes, I am not using any web services."}],"answers":[{"tags":[],"owner":{"account_id":472002,"reputation":2120,"user_id":880181,"accept_rate":75,"display_name":"Tanim reja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451472619,"creation_date":1451472619,"answer_id":34528003,"question_id":34527630,"body_markdown":"You cant access sql server directly ...\r\n\r\nFirst you need to make a web service because your database sits on your host not on your phone memory card ,  web service process a request from app and responds accordingly.That is, you pass some SQL query parameters from app to the web service and let your web service handle the request.\r\nThis web service can be of any type JAVA, PHP, etc.\r\nYou just need to use standard HTTP methods. [click][1]\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/android/android_php_mysql.htm","title":"How to retrieve data from sql server db in android","body":"<p>You cant access sql server directly ...</p>\n\n<p>First you need to make a web service because your database sits on your host not on your phone memory card ,  web service process a request from app and responds accordingly.That is, you pass some SQL query parameters from app to the web service and let your web service handle the request.\nThis web service can be of any type JAVA, PHP, etc.\nYou just need to use standard HTTP methods. <a href=\"http://www.tutorialspoint.com/android/android_php_mysql.htm\" rel=\"nofollow\">click</a></p>\n"},{"tags":[],"owner":{"account_id":3880125,"reputation":1337,"user_id":3212904,"accept_rate":50,"display_name":"Kristo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451476336,"creation_date":1451476336,"answer_id":34529063,"question_id":34527630,"body_markdown":"Here is an example of how you can display data gathered from a database in to a listview.\r\n\r\n        final ListView listView = getListView();\r\n\t\tfinal String[][] _customerData = MySQL.Get(&quot;SELECT Id,Name,Surname FROM customers&quot;);\r\n\t\tfinal List&lt;Integer&gt; _currentCustomerIDs = new ArrayList&lt;&gt;();\r\n\t\tfinal List&lt;String&gt; _nameList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tfor (String[] customer : _customerData)\r\n\t\t{\r\n\t\t\t_currentCustomerIDs.add(Integer.valueOf(customer[0]));\r\n\t\t\t_nameList.add(customer[2] + &quot; &quot; + customer[1]);\r\n\t\t}\r\n\t\tlistView.invalidateViews();\r\n\t\tlistView.setTextFilterEnabled(true);\r\n\t\tlistView.setAdapter(getListAdapter());\r\n\t\tsetListAdapter(new ArrayAdapter&lt;&gt;(this, R.layout.customer_list, _nameList.toArray()));\r\n\r\n You need to make a select query,\r\n then declare a list of integers,\r\n iterate through that list,\r\n add it to your arraylist,\r\n and finally add it to your listview.\r\n\r\nAbove is an example adding integers as well as strings to your list with data gathered from a jdbc database.\r\n\r\nGood luck, Hope it helps!","title":"How to retrieve data from sql server db in android","body":"<p>Here is an example of how you can display data gathered from a database in to a listview.</p>\n\n<pre><code>    final ListView listView = getListView();\n    final String[][] _customerData = MySQL.Get(\"SELECT Id,Name,Surname FROM customers\");\n    final List&lt;Integer&gt; _currentCustomerIDs = new ArrayList&lt;&gt;();\n    final List&lt;String&gt; _nameList = new ArrayList&lt;&gt;();\n\n    for (String[] customer : _customerData)\n    {\n        _currentCustomerIDs.add(Integer.valueOf(customer[0]));\n        _nameList.add(customer[2] + \" \" + customer[1]);\n    }\n    listView.invalidateViews();\n    listView.setTextFilterEnabled(true);\n    listView.setAdapter(getListAdapter());\n    setListAdapter(new ArrayAdapter&lt;&gt;(this, R.layout.customer_list, _nameList.toArray()));\n</code></pre>\n\n<p>You need to make a select query,\n then declare a list of integers,\n iterate through that list,\n add it to your arraylist,\n and finally add it to your listview.</p>\n\n<p>Above is an example adding integers as well as strings to your list with data gathered from a jdbc database.</p>\n\n<p>Good luck, Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":9411834,"reputation":296,"user_id":6998825,"display_name":"Hassan Badawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540453173,"creation_date":1492396935,"answer_id":43444424,"question_id":34527630,"body_markdown":"in that case you \r\n\r\n    button1.setOnClickListener(new View.OnClickListener(){\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n                String newValue = editText1.getText().toString().trim();\r\n\r\n                if (newValue.toString().trim().equals(&quot;&quot;)) {\r\n                    txtView1.setText(&quot;Please Enter ID&quot;);\r\n                }\r\n                else\r\n                {\r\n                    Connection con = connectionClass.CONN();\r\n\r\n                    if(con==null)\r\n                    {\r\n                        String msg=&quot;Error in SQL Connection&quot;;\r\n                    }\r\n                    else\r\n                    {\r\n\r\n                        try {\r\n\r\n                            st = con.createStatement();\r\n\r\n                            // set the result in result set then fetch it\r\n                            rs = st.executeQuery(&quot;Select * From Employees Where EmpId=&#39;&quot;+newValue+&quot;&#39;&quot;);\r\n\r\n                            if (rs.next()){\r\n                                Toast.makeText(getApplicationContext(),&quot; EmpId :. &quot; + rs.getString(&quot;EmpId&quot;)+&quot; EmpName :. &quot;+rs.getString(&quot;EmpName&quot;)+ &quot; Designation :. &quot; + rs.getString(&quot;Designation&quot;)+&quot; Gender :. &quot;+rs.getString(&quot;Gender&quot;)+&quot; etc..&quot;,LENGTH_LONG).show();\r\n\r\n                            }else{\r\n                                // you have no record\r\n\r\n                            }\r\n\r\n\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n        });\r\n    });\r\n\r\n","title":"How to retrieve data from sql server db in android","body":"<p>in that case you </p>\n\n<pre><code>button1.setOnClickListener(new View.OnClickListener(){\n\n    @Override\n    public void onClick(View v) {\n\n            String newValue = editText1.getText().toString().trim();\n\n            if (newValue.toString().trim().equals(\"\")) {\n                txtView1.setText(\"Please Enter ID\");\n            }\n            else\n            {\n                Connection con = connectionClass.CONN();\n\n                if(con==null)\n                {\n                    String msg=\"Error in SQL Connection\";\n                }\n                else\n                {\n\n                    try {\n\n                        st = con.createStatement();\n\n                        // set the result in result set then fetch it\n                        rs = st.executeQuery(\"Select * From Employees Where EmpId='\"+newValue+\"'\");\n\n                        if (rs.next()){\n                            Toast.makeText(getApplicationContext(),\" EmpId :. \" + rs.getString(\"EmpId\")+\" EmpName :. \"+rs.getString(\"EmpName\")+ \" Designation :. \" + rs.getString(\"Designation\")+\" Gender :. \"+rs.getString(\"Gender\")+\" etc..\",LENGTH_LONG).show();\n\n                        }else{\n                            // you have no record\n\n                        }\n\n\n                    }\n                }\n            }\n\n\n    });\n});\n</code></pre>\n"}],"owner":{"account_id":5623567,"reputation":1380,"user_id":4452649,"accept_rate":43,"display_name":"Reshma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20878,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692086580,"creation_date":1451471245,"question_id":34527630,"body_markdown":"this is the first time I am developing an android application. I want to bind some data with grid view or list view based employee id provided on the text box. How can I do that. Please help me to find a proper solution. Thank you.\r\n\r\n**ConnectionClass.java:**\r\n\r\n     import android.annotation.SuppressLint;\r\n     import android.os.StrictMode;\r\n     import android.util.Log;\r\n     import java.sql.SQLException;\r\n     import java.sql.Connection;\r\n     import java.sql.DriverManager;\r\n    \r\n    /**\r\n     * Created by H-PC on 16-Oct-15.\r\n     */\r\n    public class ConnectionClass {\r\n    \r\n        String ip = &quot;******&quot;;\r\n        String classs = &quot;net.sourceforge.jtds.jdbc.Driver&quot;;\r\n        String db = &quot;IDB&quot;;\r\n        String un = &quot;sa&quot;;\r\n        String password = &quot;admin123&quot;;\r\n    \r\n        @SuppressLint(&quot;NewApi&quot;)\r\n        public Connection CONN() {\r\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\r\n                    .permitAll().build();\r\n            StrictMode.setThreadPolicy(policy);\r\n            Connection conn = null;\r\n            String ConnURL = null;\r\n            try {\r\n    \r\n                Class.forName(classs);\r\n                ConnURL = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;;&quot;\r\n                        + &quot;databaseName=&quot; + db + &quot;;user=&quot; + un + &quot;;password=&quot;\r\n                        + password + &quot;;&quot;;\r\n                conn = DriverManager.getConnection(ConnURL);\r\n            } catch (SQLException se) {\r\n                Log.e(&quot;ERRO&quot;, se.getMessage());\r\n            } catch (ClassNotFoundException e) {\r\n                Log.e(&quot;ERRO&quot;, e.getMessage());\r\n            } catch (Exception e) {\r\n                Log.e(&quot;ERRO&quot;, e.getMessage());\r\n            }\r\n            return conn;\r\n        }\r\n    }\r\n\r\n    -------------------------------------------------------------------------------\r\n\r\n**MainActivity.java:**\r\n\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.design.widget.Snackbar;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    import android.view.View.OnClickListener;\r\n    import java.sql.Connection;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button button1;\r\n        TextView txtView1;\r\n        EditText editText1;\r\n        ConnectionClass connectionClass;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            connectionClass = new ConnectionClass();\r\n            button1=(Button)findViewById(R.id.btnSearch);\r\n            txtView1=(TextView)findViewById(R.id.searchLbl);\r\n            editText1=(EditText)findViewById(R.id.txtSearch);\r\n    \r\n            button1.setOnClickListener(new View.OnClickListener(){\r\n    \r\n            @Override\r\n            public void onClick(View v) {\r\n    \r\n                    String newValue = editText1.getText().toString().trim();\r\n    \r\n                    if (newValue.toString().trim().equals(&quot;&quot;)) {\r\n                        txtView1.setText(&quot;Please Enter ID&quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        Connection con = connectionClass.CONN();\r\n\r\n                    if(con==null)\r\n                    {\r\n                        String msg=&quot;Error in SQL Connection&quot;;\r\n                    }\r\n                    else\r\n                    {\r\n                        String query= &quot;Select * From Employees Where EmpId=&#39;&quot;+newValue+&quot;&#39;&quot;;\r\n                    }\r\n                    }\r\n                }\r\n    \r\n    \r\n            });\r\n            }\r\n        }\r\n\r\n    ---------------------------------------------------------------------------\r\n**Text**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:context=&quot;com.example.laptop37.myapplication2.MainActivity&quot;&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:orientation=&quot;horizontal&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_alignParentLeft=&quot;true&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;&gt;\r\n    \r\n    \r\n    \r\n                &lt;EditText\r\n                    android:layout_width=&quot;285dp&quot;\r\n                    android:layout_height=&quot;42dp&quot;\r\n                    android:id=&quot;@+id/txtSearch&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:textColor=&quot;@color/material_deep_teal_500&quot;\r\n                    android:hint=&quot;enter id&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;\r\n                    android:layout_below=&quot;@+id/textHeading&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;30px&quot;\r\n                    android:background=&quot;#b1e1b1&quot;\r\n                    android:layout_marginLeft=&quot;10px&quot;\r\n                    /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceLarge&quot;\r\n                    android:text=&quot;Employee Data&quot;\r\n                    android:id=&quot;@+id/textHeading&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:layout_alignParentTop=&quot;true&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;30px&quot;\r\n                    android:layout_alignParentRight=&quot;true&quot;\r\n                    android:layout_alignParentEnd=&quot;true&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:textColor=&quot;#2eb114&quot;\r\n                    android:textSize=&quot;70px&quot;\r\n                    /&gt;\r\n    \r\n                &lt;Button\r\n                    android:layout_width=&quot;85dp&quot;\r\n                    android:layout_height=&quot;42dp&quot;\r\n                    android:text=&quot;Search&quot;\r\n                    android:id=&quot;@+id/btnSearch&quot;\r\n                    android:layout_weight=&quot;0.43&quot;\r\n                    android:background=&quot;@color/background_material_dark&quot;\r\n                    android:textColor=&quot;#ffffff&quot;\r\n                    android:layout_gravity=&quot;center_vertical&quot;\r\n                    android:layout_alignBottom=&quot;@+id/txtSearch&quot;\r\n                    android:layout_toRightOf=&quot;@+id/txtSearch&quot;\r\n                    android:layout_toEndOf=&quot;@+id/txtSearch&quot;\r\n                    android:layout_marginLeft=&quot;10px&quot;\r\n                    android:layout_marginStart=&quot;10px&quot;\r\n                    android:layout_marginRight=&quot;10px&quot;\r\n                    /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:id=&quot;@+id/searchLbl&quot;\r\n                    android:layout_below=&quot;@+id/txtSearch&quot;\r\n                    android:layout_alignLeft=&quot;@+id/txtSearch&quot;\r\n                    android:layout_alignStart=&quot;@+id/txtSearch&quot;\r\n                    android:layout_marginTop=&quot;64dp&quot; /&gt;\r\n    \r\n                &lt;GridView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:id=&quot;@+id/gridViewEmp&quot;\r\n                    android:layout_alignRight=&quot;@+id/txtSearch&quot;\r\n                    android:layout_alignEnd=&quot;@+id/txtSearch&quot;\r\n                    android:layout_below=&quot;@+id/txtSearch&quot; /&gt;\r\n    \r\n    \r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;/android.support.design.widget.CoordinatorLayout&gt;\r\n    -------------------------------------------------------------------------------\r\n**Table(Employees) :**\r\n\r\n    EmpId EmpName Designation Gender Age Mob Address\r\n    ----- ------- ----------- ------ --- --- -------\r\n    1      asd    ttt           M     30     fghfhfh\r\n    2      dfg    yyy           F     26     fhgfhfhf\r\n    3      dfhh   ppp           M     47     fghhfghf\r\n\r\n    --------------------------------------------------------------------------------\r\n\r\n**Design:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FFYSu.jpg","title":"How to retrieve data from sql server db in android","body":"<p>this is the first time I am developing an android application. I want to bind some data with grid view or list view based employee id provided on the text box. How can I do that. Please help me to find a proper solution. Thank you.</p>\n\n<p><strong>ConnectionClass.java:</strong></p>\n\n<pre><code> import android.annotation.SuppressLint;\n import android.os.StrictMode;\n import android.util.Log;\n import java.sql.SQLException;\n import java.sql.Connection;\n import java.sql.DriverManager;\n\n/**\n * Created by H-PC on 16-Oct-15.\n */\npublic class ConnectionClass {\n\n    String ip = \"******\";\n    String classs = \"net.sourceforge.jtds.jdbc.Driver\";\n    String db = \"IDB\";\n    String un = \"sa\";\n    String password = \"admin123\";\n\n    @SuppressLint(\"NewApi\")\n    public Connection CONN() {\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder()\n                .permitAll().build();\n        StrictMode.setThreadPolicy(policy);\n        Connection conn = null;\n        String ConnURL = null;\n        try {\n\n            Class.forName(classs);\n            ConnURL = \"jdbc:jtds:sqlserver://\" + ip + \";\"\n                    + \"databaseName=\" + db + \";user=\" + un + \";password=\"\n                    + password + \";\";\n            conn = DriverManager.getConnection(ConnURL);\n        } catch (SQLException se) {\n            Log.e(\"ERRO\", se.getMessage());\n        } catch (ClassNotFoundException e) {\n            Log.e(\"ERRO\", e.getMessage());\n        } catch (Exception e) {\n            Log.e(\"ERRO\", e.getMessage());\n        }\n        return conn;\n    }\n}\n\n-------------------------------------------------------------------------------\n</code></pre>\n\n<p><strong>MainActivity.java:</strong></p>\n\n<pre><code>import android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.design.widget.Snackbar;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.Toolbar;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.view.View.OnClickListener;\nimport java.sql.Connection;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button1;\n    TextView txtView1;\n    EditText editText1;\n    ConnectionClass connectionClass;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        connectionClass = new ConnectionClass();\n        button1=(Button)findViewById(R.id.btnSearch);\n        txtView1=(TextView)findViewById(R.id.searchLbl);\n        editText1=(EditText)findViewById(R.id.txtSearch);\n\n        button1.setOnClickListener(new View.OnClickListener(){\n\n        @Override\n        public void onClick(View v) {\n\n                String newValue = editText1.getText().toString().trim();\n\n                if (newValue.toString().trim().equals(\"\")) {\n                    txtView1.setText(\"Please Enter ID\");\n                }\n                else\n                {\n                    Connection con = connectionClass.CONN();\n\n                if(con==null)\n                {\n                    String msg=\"Error in SQL Connection\";\n                }\n                else\n                {\n                    String query= \"Select * From Employees Where EmpId='\"+newValue+\"'\";\n                }\n                }\n            }\n\n\n        });\n        }\n    }\n\n---------------------------------------------------------------------------\n</code></pre>\n\n<p><strong>Text</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:context=\"com.example.laptop37.myapplication2.MainActivity\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;RelativeLayout\n            android:orientation=\"horizontal\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_alignParentLeft=\"true\"\n            android:layout_alignParentStart=\"true\"&gt;\n\n\n\n            &lt;EditText\n                android:layout_width=\"285dp\"\n                android:layout_height=\"42dp\"\n                android:id=\"@+id/txtSearch\"\n                android:layout_weight=\"1\"\n                android:textColor=\"@color/material_deep_teal_500\"\n                android:hint=\"enter id\"\n                android:layout_gravity=\"center_vertical\"\n                android:layout_below=\"@+id/textHeading\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_marginTop=\"30px\"\n                android:background=\"#b1e1b1\"\n                android:layout_marginLeft=\"10px\"\n                /&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textAppearance=\"?android:attr/textAppearanceLarge\"\n                android:text=\"Employee Data\"\n                android:id=\"@+id/textHeading\"\n                android:layout_weight=\"1\"\n                android:layout_alignParentTop=\"true\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_marginTop=\"30px\"\n                android:layout_alignParentRight=\"true\"\n                android:layout_alignParentEnd=\"true\"\n                android:textAlignment=\"center\"\n                android:textColor=\"#2eb114\"\n                android:textSize=\"70px\"\n                /&gt;\n\n            &lt;Button\n                android:layout_width=\"85dp\"\n                android:layout_height=\"42dp\"\n                android:text=\"Search\"\n                android:id=\"@+id/btnSearch\"\n                android:layout_weight=\"0.43\"\n                android:background=\"@color/background_material_dark\"\n                android:textColor=\"#ffffff\"\n                android:layout_gravity=\"center_vertical\"\n                android:layout_alignBottom=\"@+id/txtSearch\"\n                android:layout_toRightOf=\"@+id/txtSearch\"\n                android:layout_toEndOf=\"@+id/txtSearch\"\n                android:layout_marginLeft=\"10px\"\n                android:layout_marginStart=\"10px\"\n                android:layout_marginRight=\"10px\"\n                /&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/searchLbl\"\n                android:layout_below=\"@+id/txtSearch\"\n                android:layout_alignLeft=\"@+id/txtSearch\"\n                android:layout_alignStart=\"@+id/txtSearch\"\n                android:layout_marginTop=\"64dp\" /&gt;\n\n            &lt;GridView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/gridViewEmp\"\n                android:layout_alignRight=\"@+id/txtSearch\"\n                android:layout_alignEnd=\"@+id/txtSearch\"\n                android:layout_below=\"@+id/txtSearch\" /&gt;\n\n\n        &lt;/RelativeLayout&gt;\n    &lt;/RelativeLayout&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n-------------------------------------------------------------------------------\n</code></pre>\n\n<p><strong>Table(Employees) :</strong></p>\n\n<pre><code>EmpId EmpName Designation Gender Age Mob Address\n----- ------- ----------- ------ --- --- -------\n1      asd    ttt           M     30     fghfhfh\n2      dfg    yyy           F     26     fhgfhfhf\n3      dfhh   ppp           M     47     fghhfghf\n\n--------------------------------------------------------------------------------\n</code></pre>\n\n<p><strong>Design:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/FFYSu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FFYSu.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","hibernate","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691995917,"creation_date":1691995917,"answer_id":76896850,"question_id":76891108,"body_markdown":"It turns out that inner `SELECT` statements in hibernate 6 are relatively new feature.\r\n\r\nAlthough the inner `SELECT` works on its own, when used in the `LEFT JOIN` the values need aliases.\r\n\r\nSo this fragment: `SELECT MAX(w.healthCheck.catchDateTime), AVG(w.weight)` becomes `SELECT MAX(w.healthCheck.catchDateTime) AS weight_date, AVG(w.weight) AS avg_weight`\r\n\r\nPutting it all together :\r\n\r\n    @Service\r\n    @Transactional\r\n    public class CustomBirdRepositoryImpl implements CustomBirdRepository {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public Object customQuery(Long id) {\r\n        return entityManager.createQuery(\r\n                        &quot;SELECT MAX(h.catchDateTime), AVG(l.beakLength), AVG(l.tarsusLength),  AVG(l.tarsusWidth), b.name, b.id, weight_date, avg_weight FROM LengthMeasurements l &quot; +\r\n                                &quot;JOIN l.healthCheck h &quot; +\r\n                                &quot;JOIN h.bird b &quot; +\r\n                                &quot;LEFT JOIN(SELECT MAX(w.healthCheck.catchDateTime) AS weight_date, AVG(w.weight) AS avg_weight, w.healthCheck.bird.id as bid FROM WeightMeasurements w WHERE w.healthCheck.bird.id=:id) AS x &quot; +\r\n                                &quot;ON b.id = x.bid &quot; +\r\n                                &quot;WHERE b.id=:id &quot; +\r\n                                &quot;GROUP BY b.id, h.id ORDER BY l.healthCheck.catchDateTime DESC LIMIT 1&quot;)\r\n                .setParameter(&quot;id&quot;, id)\r\n                .getSingleResult();\r\n        }\r\n    }\r\n\r\nFor completeness CustomBirdRepository\r\n\r\n    @Repository\r\n    public interface CustomBirdRepository {\r\n        Object customQuery(Long id);\r\n    }","title":"Spring Boot 3.1.2 subselect query failing - Hibernate 6.2","body":"<p>It turns out that inner <code>SELECT</code> statements in hibernate 6 are relatively new feature.</p>\n<p>Although the inner <code>SELECT</code> works on its own, when used in the <code>LEFT JOIN</code> the values need aliases.</p>\n<p>So this fragment: <code>SELECT MAX(w.healthCheck.catchDateTime), AVG(w.weight)</code> becomes <code>SELECT MAX(w.healthCheck.catchDateTime) AS weight_date, AVG(w.weight) AS avg_weight</code></p>\n<p>Putting it all together :</p>\n<pre><code>@Service\n@Transactional\npublic class CustomBirdRepositoryImpl implements CustomBirdRepository {\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\n@Override\npublic Object customQuery(Long id) {\n    return entityManager.createQuery(\n                    &quot;SELECT MAX(h.catchDateTime), AVG(l.beakLength), AVG(l.tarsusLength),  AVG(l.tarsusWidth), b.name, b.id, weight_date, avg_weight FROM LengthMeasurements l &quot; +\n                            &quot;JOIN l.healthCheck h &quot; +\n                            &quot;JOIN h.bird b &quot; +\n                            &quot;LEFT JOIN(SELECT MAX(w.healthCheck.catchDateTime) AS weight_date, AVG(w.weight) AS avg_weight, w.healthCheck.bird.id as bid FROM WeightMeasurements w WHERE w.healthCheck.bird.id=:id) AS x &quot; +\n                            &quot;ON b.id = x.bid &quot; +\n                            &quot;WHERE b.id=:id &quot; +\n                            &quot;GROUP BY b.id, h.id ORDER BY l.healthCheck.catchDateTime DESC LIMIT 1&quot;)\n            .setParameter(&quot;id&quot;, id)\n            .getSingleResult();\n    }\n}\n</code></pre>\n<p>For completeness CustomBirdRepository</p>\n<pre><code>@Repository\npublic interface CustomBirdRepository {\n    Object customQuery(Long id);\n}\n</code></pre>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76896850,"answer_count":1,"score":0,"last_activity_date":1692086501,"creation_date":1691873990,"question_id":76891108,"body_markdown":"I would like to be able to use a native Hibernate query in Spring Boot 3.1.2. The reason for this is as I understand it, HQL can handle nested SELECTS (not in where) better than JPQL. \r\n\r\nMy model is \r\nBird has OneToMany on HealthCheck\r\nHealthCheck has OneToMany on Task (abstract)\r\nLengthMeasurements (extends Task)\r\nWeightMeasurement (extends Task)\r\n\r\n **Bird**   \r\n\r\n    public class Bird {\r\n    private Long id;\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\r\n    private List&lt;HealthCheck&gt; listHealthCheck = new ArrayList&lt;&gt;();\r\n\r\n**HealthCheck**\r\n\r\n    public class HealthCheck {\r\n    private Long id;\r\n\r\n    @JsonManagedReference\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    private Bird bird;\r\n    @JsonManagedReference\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy=&quot;healthCheck&quot;)\r\n    private List&lt;Task&gt; tasks;\r\n    private LocalDateTime catchDateTime;\r\n\r\n**Length Measurement**\r\n\r\n    public class LengthMeasurements extends Task {\r\n\r\n    private Double beakLength;\r\n    private Double legLength;\r\n    private Double armWidth;\r\n    private Double armDepth;\r\n\r\n**WeightMeasurement**\r\n\r\n    public class WeightMeasurements extends Task {\r\n        private Double weight;\r\n\r\nThe abstract class Task means I can&#39;t use hibernate path expressions.\r\n\r\nI want to ultimately construct a query the gets the most recent (based on check date) average of the most recent collection of measurements and the average of the most recent weights.\r\n\r\nSomething like:\r\n\r\n    +---------+-----------+---------------------+------------+-----------+-----------+--------------------+------------+\r\n    | bird.id | bird.name | recent measure date | avg length | avg width | avg depth | recent weight date | avg weight |\r\n    +---------+-----------+---------------------+------------+-----------+-----------+--------------------+------------+\r\n\r\n\r\nThere is a number of partial examples but they are old and the Spring Boot auto configuration interferes with what I have tried to date.\r\n\r\nTo give some context on my attempt so far I have the following code:\r\n\r\n    @Repository\r\n    public class CustomBirdRepositoryImpl {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n\r\n        final SessionFactory sf = entityManager\r\n                .unwrap( Session.class );\r\n\r\n        public void customHql(Long id) {\r\n        Session session = sf.openSession();\r\n\r\n        String hql = &quot; SELECT MAX(h.catchDateTime), AVG(l.beakLength), \r\n    AVG(l.tarsusLength),  AVG(l.tarsusWidth), b.name FROM LengthMeasurements l \r\n     JOIN l.healthCheck.bird b \r\n     JOIN l.healthCheck h \r\n     LEFT JOIN (SELECT MAX(w.healthCheck.catchDateTIme), AVG(w.weight), w.healthCheck.bird.id as bid FROM WeightMeasurements w WHERE w.healthCheck.bird.id=1) AS x\r\n     ON x.bid = w.healthCheck.bird.id\r\n     WHERE b.id=1 GROUP BY b.id, h.id ORDER BY l.healthCheck.catchDateTime DESC LIMIT 1&quot;;\r\n        org.hibernate.query.Query&lt;BirdDetailsDto&gt; query = session.createQuery(hql);\r\n\r\n        for(BirdDetailsDto b: query.getResultList()) {\r\n            b.toString();\r\n        }\r\n\r\n       }\r\n    }\r\n\r\nIf I try to run the query above in JPA I get:\r\n\r\n      src\\main\\java\\com\\nz\\kiwi\\repository\\BirdRepository.java:54: error: &#39;)&#39; expected\r\n        &quot;WHERE b.id = :id ORDER BY l.healthCheck.catchDate DESC LIMIT 1) lm&quot;;)\r\n\r\n**UPDATE**\r\n\r\nWhen trying the query in a Hibernate session I get the more informative error:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Component at index 0 has no alias, but alias is required\r\n\r\nHow can I perform this sub select statement?","title":"Spring Boot 3.1.2 subselect query failing - Hibernate 6.2","body":"<p>I would like to be able to use a native Hibernate query in Spring Boot 3.1.2. The reason for this is as I understand it, HQL can handle nested SELECTS (not in where) better than JPQL.</p>\n<p>My model is\nBird has OneToMany on HealthCheck\nHealthCheck has OneToMany on Task (abstract)\nLengthMeasurements (extends Task)\nWeightMeasurement (extends Task)</p>\n<p><strong>Bird</strong></p>\n<pre><code>public class Bird {\nprivate Long id;\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\nprivate List&lt;HealthCheck&gt; listHealthCheck = new ArrayList&lt;&gt;();\n</code></pre>\n<p><strong>HealthCheck</strong></p>\n<pre><code>public class HealthCheck {\nprivate Long id;\n\n@JsonManagedReference\n@ManyToOne(fetch = FetchType.EAGER, optional = false)\nprivate Bird bird;\n@JsonManagedReference\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy=&quot;healthCheck&quot;)\nprivate List&lt;Task&gt; tasks;\nprivate LocalDateTime catchDateTime;\n</code></pre>\n<p><strong>Length Measurement</strong></p>\n<pre><code>public class LengthMeasurements extends Task {\n\nprivate Double beakLength;\nprivate Double legLength;\nprivate Double armWidth;\nprivate Double armDepth;\n</code></pre>\n<p><strong>WeightMeasurement</strong></p>\n<pre><code>public class WeightMeasurements extends Task {\n    private Double weight;\n</code></pre>\n<p>The abstract class Task means I can't use hibernate path expressions.</p>\n<p>I want to ultimately construct a query the gets the most recent (based on check date) average of the most recent collection of measurements and the average of the most recent weights.</p>\n<p>Something like:</p>\n<pre><code>+---------+-----------+---------------------+------------+-----------+-----------+--------------------+------------+\n| bird.id | bird.name | recent measure date | avg length | avg width | avg depth | recent weight date | avg weight |\n+---------+-----------+---------------------+------------+-----------+-----------+--------------------+------------+\n</code></pre>\n<p>There is a number of partial examples but they are old and the Spring Boot auto configuration interferes with what I have tried to date.</p>\n<p>To give some context on my attempt so far I have the following code:</p>\n<pre><code>@Repository\npublic class CustomBirdRepositoryImpl {\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\n\n    final SessionFactory sf = entityManager\n            .unwrap( Session.class );\n\n    public void customHql(Long id) {\n    Session session = sf.openSession();\n\n    String hql = &quot; SELECT MAX(h.catchDateTime), AVG(l.beakLength), \nAVG(l.tarsusLength),  AVG(l.tarsusWidth), b.name FROM LengthMeasurements l \n JOIN l.healthCheck.bird b \n JOIN l.healthCheck h \n LEFT JOIN (SELECT MAX(w.healthCheck.catchDateTIme), AVG(w.weight), w.healthCheck.bird.id as bid FROM WeightMeasurements w WHERE w.healthCheck.bird.id=1) AS x\n ON x.bid = w.healthCheck.bird.id\n WHERE b.id=1 GROUP BY b.id, h.id ORDER BY l.healthCheck.catchDateTime DESC LIMIT 1&quot;;\n    org.hibernate.query.Query&lt;BirdDetailsDto&gt; query = session.createQuery(hql);\n\n    for(BirdDetailsDto b: query.getResultList()) {\n        b.toString();\n    }\n\n   }\n}\n</code></pre>\n<p>If I try to run the query above in JPA I get:</p>\n<pre><code>  src\\main\\java\\com\\nz\\kiwi\\repository\\BirdRepository.java:54: error: ')' expected\n    &quot;WHERE b.id = :id ORDER BY l.healthCheck.catchDate DESC LIMIT 1) lm&quot;;)\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>When trying the query in a Hibernate session I get the more informative error:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Component at index 0 has no alias, but alias is required\n</code></pre>\n<p>How can I perform this sub select statement?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692085603,"creation_date":1692085603,"answer_id":76904186,"question_id":76903640,"body_markdown":"`StaleElementReferenceException` indicates that the reference to an element is now stale i.e. the element no longer appears within the HTML DOM of the page.\r\n\r\n`WebElement` is not an object itself, it is a link to an object. \r\nClicking on menu item you triggered one of events:\r\n 1. Dropdown menu is disappeared and not exist anymore (so object is not exist, but link to it still present as far as you got it before)\r\n 2. Click on dropdown triggered transition to another page.\r\n\r\nIn any case to continue operations with dropdown, you need to open it again and get array of it&#39;s elements.\r\n\r\nDepends on you case it can be done triggering back via browser if transition on another page was performed and clicking on dropdown element or just clicking on it.\r\n\r\n","title":"Selenium Automation java","body":"<p><code>StaleElementReferenceException</code> indicates that the reference to an element is now stale i.e. the element no longer appears within the HTML DOM of the page.</p>\n<p><code>WebElement</code> is not an object itself, it is a link to an object.\nClicking on menu item you triggered one of events:</p>\n<ol>\n<li>Dropdown menu is disappeared and not exist anymore (so object is not exist, but link to it still present as far as you got it before)</li>\n<li>Click on dropdown triggered transition to another page.</li>\n</ol>\n<p>In any case to continue operations with dropdown, you need to open it again and get array of it's elements.</p>\n<p>Depends on you case it can be done triggering back via browser if transition on another page was performed and clicking on dropdown element or just clicking on it.</p>\n"}],"owner":{"account_id":22618955,"reputation":3,"user_id":16798063,"display_name":"Sameer Mohsin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692085603,"creation_date":1692078010,"question_id":76903640,"body_markdown":"I have this code which gets me the link and name of each mega menu and dropdown I want to click all the mega menu and dropdown and then continue when I try the .click method it shows Stale Reference. Any help will be appreciated.\r\n```\r\n public static void DropdownItemsDetails(List&lt;WebElement&gt; itemLists) {\r\n            for (int j = 0; j &lt; itemLists.size(); j++) {\r\n                WebElement dropdownItem = itemLists.get(j);\r\n\r\n                // Get the dropdown item text and link\r\n                String dropdownItemText = dropdownItem.getText();\r\n                String dropdownItemLink = dropdownItem.getAttribute(&quot;href&quot;);\r\n\r\n                // Print the link and name\r\n                System.out.println(&quot;Dropdown Item: &quot; + dropdownItemText);\r\n                System.out.println(&quot;Dropdown Item Link: &quot; + dropdownItemLink);\r\n            }\r\n        }\r\npublic static void countAndRetrieveNavbarItems() {\r\n            // xpath for mega menu.\r\n            List&lt;WebElement&gt; megaMenuXpath = driver.findElements(By.xpath(&quot;//div[contains(@class, &#39;navbar&#39;)]//a[contains(@class, &#39;menu&#39;)]&quot;));\r\n\r\n            // hover object creation\r\n            Actions actions = new Actions(driver);\r\n\r\n            // total navbar items\r\n            int megaMenuCount = megaMenuXpath.size();\r\n            System.out.println(&quot;Total Mega Menu Items: &quot; + megaMenuCount + &quot;\\n*************************&quot;);\r\n\r\n            // Iterate through both navbar items and dropdown items\r\n            for (int i = 0; i &lt; megaMenuCount; i++) {\r\n                System.out.println(&quot;==========================================================================================================&quot;);\r\n                WebElement megaMenuItem = megaMenuXpath.get(i);\r\n                // Perform hover action on the navbar item\r\n                actions.moveToElement(megaMenuItem).perform();\r\n                // Get the navbar item text and link\r\n                String navbarItemText = megaMenuItem.getText();\r\n                String navbarItemLink = megaMenuItem.getAttribute(&quot;href&quot;);\r\n                System.out.println(&quot;MegaMenu Name: &quot; + navbarItemText +&quot;\\n==============&quot;);\r\n                System.out.println(&quot;MegaMenu Link: &quot; + navbarItemLink+&quot;\\n==============&quot;);\r\n\r\n                // Check if the dropdown is present for the current navbar item\r\n                try {\r\n                    WebElement dropdownContent = megaMenuItem.findElement(By.xpath(&quot;.//following-sibling::div[contains(@class, &#39;dropdown-content&#39;)]&quot;));\r\n                    if (dropdownContent != null) {\r\n                        // Get all the dropdown items\r\n                        List&lt;WebElement&gt; dropdownItems = dropdownContent.findElements(By.tagName(&quot;a&quot;));\r\n                        System.out.println(&quot;Dropdown item count: &quot;+dropdownItems.size()+ &quot;\\n*************************&quot;);\r\n                        //get dropdown details\r\n                        DropdownItemsDetails(dropdownItems);\r\n                    }\r\n                } catch (NoSuchElementException e) {\r\n                    // Dropdown not present, continue with the next navbar item\r\n                    System.out.println(&quot;No dropdown for this menu: &quot;+navbarItemText);\r\n                    continue;\r\n                }\r\n                // if end validation\r\n            } // for end navbar item\r\n        }\r\n```\r\n\r\n\r\nI tried the megaMenuItem.click(); after System.out.println(&quot;MegaMenu Link: &quot; + navbarItemLink+&quot;\\n==============&quot;); this line it gave me this error:org.openqa.selenium.StaleElementReferenceException: stale element reference: stale element not found","title":"Selenium Automation java","body":"<p>I have this code which gets me the link and name of each mega menu and dropdown I want to click all the mega menu and dropdown and then continue when I try the .click method it shows Stale Reference. Any help will be appreciated.</p>\n<pre><code> public static void DropdownItemsDetails(List&lt;WebElement&gt; itemLists) {\n            for (int j = 0; j &lt; itemLists.size(); j++) {\n                WebElement dropdownItem = itemLists.get(j);\n\n                // Get the dropdown item text and link\n                String dropdownItemText = dropdownItem.getText();\n                String dropdownItemLink = dropdownItem.getAttribute(&quot;href&quot;);\n\n                // Print the link and name\n                System.out.println(&quot;Dropdown Item: &quot; + dropdownItemText);\n                System.out.println(&quot;Dropdown Item Link: &quot; + dropdownItemLink);\n            }\n        }\npublic static void countAndRetrieveNavbarItems() {\n            // xpath for mega menu.\n            List&lt;WebElement&gt; megaMenuXpath = driver.findElements(By.xpath(&quot;//div[contains(@class, 'navbar')]//a[contains(@class, 'menu')]&quot;));\n\n            // hover object creation\n            Actions actions = new Actions(driver);\n\n            // total navbar items\n            int megaMenuCount = megaMenuXpath.size();\n            System.out.println(&quot;Total Mega Menu Items: &quot; + megaMenuCount + &quot;\\n*************************&quot;);\n\n            // Iterate through both navbar items and dropdown items\n            for (int i = 0; i &lt; megaMenuCount; i++) {\n                System.out.println(&quot;==========================================================================================================&quot;);\n                WebElement megaMenuItem = megaMenuXpath.get(i);\n                // Perform hover action on the navbar item\n                actions.moveToElement(megaMenuItem).perform();\n                // Get the navbar item text and link\n                String navbarItemText = megaMenuItem.getText();\n                String navbarItemLink = megaMenuItem.getAttribute(&quot;href&quot;);\n                System.out.println(&quot;MegaMenu Name: &quot; + navbarItemText +&quot;\\n==============&quot;);\n                System.out.println(&quot;MegaMenu Link: &quot; + navbarItemLink+&quot;\\n==============&quot;);\n\n                // Check if the dropdown is present for the current navbar item\n                try {\n                    WebElement dropdownContent = megaMenuItem.findElement(By.xpath(&quot;.//following-sibling::div[contains(@class, 'dropdown-content')]&quot;));\n                    if (dropdownContent != null) {\n                        // Get all the dropdown items\n                        List&lt;WebElement&gt; dropdownItems = dropdownContent.findElements(By.tagName(&quot;a&quot;));\n                        System.out.println(&quot;Dropdown item count: &quot;+dropdownItems.size()+ &quot;\\n*************************&quot;);\n                        //get dropdown details\n                        DropdownItemsDetails(dropdownItems);\n                    }\n                } catch (NoSuchElementException e) {\n                    // Dropdown not present, continue with the next navbar item\n                    System.out.println(&quot;No dropdown for this menu: &quot;+navbarItemText);\n                    continue;\n                }\n                // if end validation\n            } // for end navbar item\n        }\n</code></pre>\n<p>I tried the megaMenuItem.click(); after System.out.println(&quot;MegaMenu Link: &quot; + navbarItemLink+&quot;\\n==============&quot;); this line it gave me this error:org.openqa.selenium.StaleElementReferenceException: stale element reference: stale element not found</p>\n"},{"tags":["java","list"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1539338011,"creation_date":1539338011,"answer_id":52776937,"question_id":52776889,"body_markdown":"You could use `Stream.allMatch()` by matching any contained list size (for example the first one) with all other contained lists : \r\n\r\n    boolean isSameLength = \r\n    myList.stream()\r\n          .allMatch(l -&gt; l.size() == myList.get(0).size())\r\n\r\nIt makes the first comparison helpless as it compares the same contained list but it is more readable that : \r\n\r\n    boolean isSameLength = \r\n    myList.stream()\r\n          .skip(1)\r\n          .allMatch(l -&gt; l.size() == myList.get(0).size())\r\n","title":"how to check if the lists in a list have the same length","body":"<p>You could use <code>Stream.allMatch()</code> by matching any contained list size (for example the first one) with all other contained lists : </p>\n\n<pre><code>boolean isSameLength = \nmyList.stream()\n      .allMatch(l -&gt; l.size() == myList.get(0).size())\n</code></pre>\n\n<p>It makes the first comparison helpless as it compares the same contained list but it is more readable that : </p>\n\n<pre><code>boolean isSameLength = \nmyList.stream()\n      .skip(1)\n      .allMatch(l -&gt; l.size() == myList.get(0).size())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539338859,"creation_date":1539338859,"answer_id":52777214,"question_id":52776889,"body_markdown":"You can also check using a counter variable, iterate your `myList` and get the size of `sublist`. If size of `myList`== `sublist` then assign `true` else assign `false` like following:\r\n\r\n    public static boolean isSameLength(List&lt;List&lt;Integer&gt;&gt; myList) {\r\n\t\tboolean isSame = false;\r\n\t\tfor (List&lt;Integer&gt; sublist : myList) {\r\n\t\t\tif (sublist.size() == myList.size()) {\r\n\t\t\t\tisSame = true;\r\n\t\t\t} else {\r\n\t\t\t\tisSame = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isSame;\r\n\t}","title":"how to check if the lists in a list have the same length","body":"<p>You can also check using a counter variable, iterate your <code>myList</code> and get the size of <code>sublist</code>. If size of <code>myList</code>== <code>sublist</code> then assign <code>true</code> else assign <code>false</code> like following:</p>\n\n<pre><code>public static boolean isSameLength(List&lt;List&lt;Integer&gt;&gt; myList) {\n    boolean isSame = false;\n    for (List&lt;Integer&gt; sublist : myList) {\n        if (sublist.size() == myList.size()) {\n            isSame = true;\n        } else {\n            isSame = false;\n        }\n    }\n    return isSame;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5234978,"reputation":144,"user_id":4780472,"display_name":"Raven221221221"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539358546,"creation_date":1539354050,"answer_id":52781547,"question_id":52776889,"body_markdown":"You cannot hope to say that *n* lists have the same length without visiting them. You **have** to go one-by-one. davidxxx&#39;s answer shows a really nice way with streams but visits all the lists anyway. The naive way may be\r\n\r\n    public static boolean sameLength(List&lt;List&gt; lists){\r\n        if(lists.get(0) == null){ //EDIT: as davidxxx pointed out this if is superfluous\r\n            return true;\r\n        }\r\n        int len = lists.get(0).size();\r\n        for (List list : lists) {\r\n            if(list.size() != len){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nMy IDE even suggests using functional operators with the above code like davidxxx said.","title":"how to check if the lists in a list have the same length","body":"<p>You cannot hope to say that <em>n</em> lists have the same length without visiting them. You <strong>have</strong> to go one-by-one. davidxxx's answer shows a really nice way with streams but visits all the lists anyway. The naive way may be</p>\n\n<pre><code>public static boolean sameLength(List&lt;List&gt; lists){\n    if(lists.get(0) == null){ //EDIT: as davidxxx pointed out this if is superfluous\n        return true;\n    }\n    int len = lists.get(0).size();\n    for (List list : lists) {\n        if(list.size() != len){\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>My IDE even suggests using functional operators with the above code like davidxxx said.</p>\n"},{"tags":[],"owner":{"account_id":9938803,"reputation":128,"user_id":7466089,"display_name":"Fabian Brand&#227;o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539364622,"creation_date":1539363374,"answer_id":52783977,"question_id":52776889,"body_markdown":"If you use Java 8, you can use lambda expressions to simplify your application. Look:\r\n\r\n    if (myList.stream().filter(integers -&gt; integers.size() == myList.get(0).size()).count() == myList.size()) {\r\n        System.out.println(&quot;The sub-lists have the same size&quot;);\r\n    }\r\n","title":"how to check if the lists in a list have the same length","body":"<p>If you use Java 8, you can use lambda expressions to simplify your application. Look:</p>\n\n<pre><code>if (myList.stream().filter(integers -&gt; integers.size() == myList.get(0).size()).count() == myList.size()) {\n    System.out.println(\"The sub-lists have the same size\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12639214,"reputation":17235,"user_id":9187350,"accept_rate":20,"display_name":"renatodamas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616616771,"creation_date":1616616771,"answer_id":66788659,"question_id":52776889,"body_markdown":"I propose the following:\r\n\r\n    myList.stream()\r\n        .map(e -&gt; e.size())\r\n        .distinct()\r\n        .limit(2)  // optimization\r\n        .count() == 1;\r\n\r\nBasically checking if there are any 2 lists with a different size.","title":"how to check if the lists in a list have the same length","body":"<p>I propose the following:</p>\n<pre><code>myList.stream()\n    .map(e -&gt; e.size())\n    .distinct()\n    .limit(2)  // optimization\n    .count() == 1;\n</code></pre>\n<p>Basically checking if there are any 2 lists with a different size.</p>\n"},{"tags":[],"owner":{"account_id":6202518,"reputation":937,"user_id":4831778,"accept_rate":67,"display_name":"M2E67"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692085598,"creation_date":1668596854,"answer_id":74459425,"question_id":52776889,"body_markdown":"```kotlin\r\nlistOfList.stream().map(list -&gt; list.size()).distinct().count() == 1\r\n```","title":"how to check if the lists in a list have the same length","body":"<pre class=\"lang-kotlin prettyprint-override\"><code>listOfList.stream().map(list -&gt; list.size()).distinct().count() == 1\n</code></pre>\n"}],"owner":{"account_id":10142806,"reputation":587,"user_id":7491982,"accept_rate":83,"display_name":"helen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3918,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52776937,"answer_count":6,"score":2,"last_activity_date":1692085598,"creation_date":1539337838,"question_id":52776889,"body_markdown":"I have a list of lists in Java. Here is the code:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; myList = new ArrayList&lt;&gt;();\r\n    myList.add(new ArrayList&lt;Integer&gt;());\r\n    myList.add(new ArrayList&lt;Integer&gt;());\r\n    myList.add(new ArrayList&lt;Integer&gt;());\r\n    \r\n    myList.get(0).add(1);\r\n    myList.get(0).add(2);\r\n    myList.get(0).add(3);\r\n    myList.get(1).add(4);\r\n    myList.get(1).add(5);\r\n    myList.get(1).add(6);\r\n    myList.get(2).add(7);\r\n    myList.get(2).add(8);\r\n    myList.get(2).add(9);\r\n\r\nHow to check if the lists that exist in myList have the same length? I know that I can check the length of each list by something like `myList.get(0).size()`, so what is an efficient and short way to check if all these lists have the same length (instead of checking one by one)?","title":"how to check if the lists in a list have the same length","body":"<p>I have a list of lists in Java. Here is the code:</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; myList = new ArrayList&lt;&gt;();\nmyList.add(new ArrayList&lt;Integer&gt;());\nmyList.add(new ArrayList&lt;Integer&gt;());\nmyList.add(new ArrayList&lt;Integer&gt;());\n\nmyList.get(0).add(1);\nmyList.get(0).add(2);\nmyList.get(0).add(3);\nmyList.get(1).add(4);\nmyList.get(1).add(5);\nmyList.get(1).add(6);\nmyList.get(2).add(7);\nmyList.get(2).add(8);\nmyList.get(2).add(9);\n</code></pre>\n\n<p>How to check if the lists that exist in myList have the same length? I know that I can check the length of each list by something like <code>myList.get(0).size()</code>, so what is an efficient and short way to check if all these lists have the same length (instead of checking one by one)?</p>\n"},{"tags":["java","for-loop","random","hashmap"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1692085245,"post_id":76904115,"comment_id":135573564,"body_markdown":"Do you know how Maps work? What do you think happens, when you deal a player two cards of the same type?","body":"Do you know how Maps work? What do you think happens, when you deal a player two cards of the same type?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1692085247,"post_id":76904115,"comment_id":135573565,"body_markdown":"Your approach to card shuffling is wrong, since you can randomly pick the same element twice or more times. Also, creating a `Card` class would make a lot of sense, instead of fooling around with two `String[]`.","body":"Your approach to card shuffling is wrong, since you can randomly pick the same element twice or more times. Also, creating a <code>Card</code> class would make a lot of sense, instead of fooling around with two <code>String[]</code>."},{"owner":{"account_id":22509443,"reputation":11,"user_id":16704582,"display_name":"vardhiro"},"score":0,"creation_date":1692085356,"post_id":76904115,"comment_id":135573580,"body_markdown":"Figured out the problem, was with Key of the maps, thanks for assistance !","body":"Figured out the problem, was with Key of the maps, thanks for assistance !"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692085423,"creation_date":1692085423,"answer_id":76904164,"question_id":76904115,"body_markdown":"You have several issues:\r\n\r\n1. In order for `nextInt()` to cover all the indices of your array, you should call `r.nextInt(type.length)` and `r.nextInt(colors.length)`.\r\n\r\n2. You can&#39;t use the card type as the key of your `Map`s, because such a `Map` cannot hold cards of the same type but different colors.\r\n\r\n3. Even without issue #2, there&#39;s a chance that you&#39;ll draw the same card twice, so you have to check for each card whether you already drew it, and if you did, draw another card. ","title":"HashMap extending to random length instead of 7 with for loop","body":"<p>You have several issues:</p>\n<ol>\n<li><p>In order for <code>nextInt()</code> to cover all the indices of your array, you should call <code>r.nextInt(type.length)</code> and <code>r.nextInt(colors.length)</code>.</p>\n</li>\n<li><p>You can't use the card type as the key of your <code>Map</code>s, because such a <code>Map</code> cannot hold cards of the same type but different colors.</p>\n</li>\n<li><p>Even without issue #2, there's a chance that you'll draw the same card twice, so you have to check for each card whether you already drew it, and if you did, draw another card.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22509443,"reputation":11,"user_id":16704582,"display_name":"vardhiro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1692085423,"creation_date":1692084932,"question_id":76904115,"body_markdown":"I have two arrays for a card game one of type and another of color in Java. I want to run a for loop of length 7 to assert random values to the HashMaps which would be the card list for each player. But though I run the loop 7 times some Lists fill upto 5 while some upto 6. Here&#39;s the code:\r\n```\t\r\nstatic HashMap&lt;String, String&gt; p1=new HashMap&lt;&gt;(),p2=new HashMap&lt;&gt;(),p3=new HashMap&lt;&gt;(),u=new HashMap&lt;&gt;();\r\n\t\r\n\tpublic static void ini(){\r\n\t\tString [] colors = {&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;};\r\n\t\tString [] type = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;+2&quot;,&quot;+4&quot;,&quot;w&quot;,&quot;r&quot;};\r\n\t\tRandom r = new Random();\r\n\t\tfor (int i = 0; i &lt; 7; i++){\r\n\t\t\tp1.put(type[r.nextInt(type.length-1)],colors[r.nextInt(colors.length-1)]);\r\n\t\t\tp2.put(type[r.nextInt(type.length-1)],colors[r.nextInt(colors.length-1)]);\r\n\t\t\tp3.put(type[r.nextInt(type.length-1)],colors[r.nextInt(colors.length-1)]);\r\n\t\t\tu.put(type[r.nextInt(type.length-1)],colors[r.nextInt(colors.length-1)]);\r\n\t\t}\t\t\t\r\n\t}\r\npublic static void main(String[] args){\r\n\t\tini();\r\n\t\tSystem.out.println(p1);\r\n\t\tSystem.out.println(p2);\r\n\t\tSystem.out.println(p3);\r\n\t\tSystem.out.println(u);\r\n\t}\r\n```\r\nAny help would be grateful!\r\n\r\nExpectation : 7 elements / List\r\nOutcome: 4 or 5 / List","title":"HashMap extending to random length instead of 7 with for loop","body":"<p>I have two arrays for a card game one of type and another of color in Java. I want to run a for loop of length 7 to assert random values to the HashMaps which would be the card list for each player. But though I run the loop 7 times some Lists fill upto 5 while some upto 6. Here's the code:</p>\n<pre><code>static HashMap&lt;String, String&gt; p1=new HashMap&lt;&gt;(),p2=new HashMap&lt;&gt;(),p3=new HashMap&lt;&gt;(),u=new HashMap&lt;&gt;();\n    \n    public static void ini(){\n        String [] colors = {&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;};\n        String [] type = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;+2&quot;,&quot;+4&quot;,&quot;w&quot;,&quot;r&quot;};\n        Random r = new Random();\n        for (int i = 0; i &lt; 7; i++){\n            p1.put(type[r.nextInt(type.length-1)],colors[r.nextInt(colors.length-1)]);\n            p2.put(type[r.nextInt(type.length-1)],colors[r.nextInt(colors.length-1)]);\n            p3.put(type[r.nextInt(type.length-1)],colors[r.nextInt(colors.length-1)]);\n            u.put(type[r.nextInt(type.length-1)],colors[r.nextInt(colors.length-1)]);\n        }           \n    }\npublic static void main(String[] args){\n        ini();\n        System.out.println(p1);\n        System.out.println(p2);\n        System.out.println(p3);\n        System.out.println(u);\n    }\n</code></pre>\n<p>Any help would be grateful!</p>\n<p>Expectation : 7 elements / List\nOutcome: 4 or 5 / List</p>\n"},{"tags":["java","url","jsoup"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1692084977,"post_id":76904081,"comment_id":135573518,"body_markdown":"It&#39;s being double encoded. `&amp;` is `%26` with url encoding, and `%` is `%25` with urlencoding.","body":"It&#39;s being double encoded. <code>&amp;</code> is <code>%26</code> with url encoding, and <code>%</code> is <code>%25</code> with urlencoding."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692085192,"post_id":76904081,"comment_id":135573554,"body_markdown":"Try using `https://www.valueresearchonline.com/stocks/who-owns-what?q=Ratnamani+Metals+&amp;+Tubes`","body":"Try using <code>https:&#47;&#47;www.valueresearchonline.com&#47;stocks&#47;who-owns-what?q=R&zwnj;&#8203;atnamani+Metals+&amp;+Tu&zwnj;&#8203;bes</code>"},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1692085978,"post_id":76904081,"comment_id":135573685,"body_markdown":"@Kayaman how to solve then ? I&#39;m replacing `&amp;` with `%26` before passing the url.","body":"@Kayaman how to solve then ? I&#39;m replacing <code>&amp;</code> with <code>%26</code> before passing the url."},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1692086008,"post_id":76904081,"comment_id":135573696,"body_markdown":"@g00se it&#39;s not working","body":"@g00se it&#39;s not working"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1692086127,"post_id":76904081,"comment_id":135573715,"body_markdown":"Looks like a Jsoup bug. Are you using the latest version?","body":"Looks like a Jsoup bug. Are you using the latest version?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1692086387,"post_id":76904081,"comment_id":135573766,"body_markdown":"BTW, is it allowed to scrape that site?","body":"BTW, is it allowed to scrape that site?"},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1692086720,"post_id":76904081,"comment_id":135573823,"body_markdown":"@Olivier I need to scrape company internal website / web app but just for query purpose I&#39;ve used this website. Let me check with latest version of jsoup and update","body":"@Olivier I need to scrape company internal website / web app but just for query purpose I&#39;ve used this website. Let me check with latest version of jsoup and update"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1692086807,"post_id":76904081,"comment_id":135573833,"body_markdown":"If it&#39;s for internal use, you should query an API instead of scraping HTML.","body":"If it&#39;s for internal use, you should query an API instead of scraping HTML."},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1692086915,"post_id":76904081,"comment_id":135573851,"body_markdown":"@Olivier ok, let me discuss this change if it&#39;s fine as well. As sometimes there can be bug in UI and not in API. You were right about Jsoup bug; it&#39;s working as expected with version 1.16.1 and was not working with 1.15.4 ( https://mvnrepository.com/artifact/org.jsoup/jsoup ). Thanks for quick help.","body":"@Olivier ok, let me discuss this change if it&#39;s fine as well. As sometimes there can be bug in UI and not in API. You were right about Jsoup bug; it&#39;s working as expected with version 1.16.1 and was not working with 1.15.4 ( <a href=\"https://mvnrepository.com/artifact/org.jsoup/jsoup\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.jsoup/jsoup</a> ). Thanks for quick help."}],"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692084489,"creation_date":1692084489,"question_id":76904081,"body_markdown":"I&#39;ve below code\r\n\r\n    Document doc = null;\r\n    \r\n    doc = Jsoup.connect(url).\r\n                                        ignoreContentType(true).\r\n                                        timeout(maxTimeout + (tryCount * maxTimeout)).\r\n                                        userAgent(&quot;Mozilla&quot;).\r\n                                        get();\r\n\r\nI&#39;m passing url value as \r\n\r\n`https://www.valueresearchonline.com/stocks/who-owns-what?q=Ratnamani+Metals+%26+Tubes` \r\n\r\nbut during debug mode, I see Document location value as\r\n\r\n `https://www.valueresearchonline.com/stocks/who-owns-what?q=Ratnamani+Metals+%2526+Tubes`\r\n\r\nwhy does `%26` is getting changed to `%2526` ?  This results in no data getting returned back.","title":"jsoup call is changing url parameter from &quot;%26&quot; to &quot;%2526&quot; during execution","body":"<p>I've below code</p>\n<pre><code>Document doc = null;\n\ndoc = Jsoup.connect(url).\n                                    ignoreContentType(true).\n                                    timeout(maxTimeout + (tryCount * maxTimeout)).\n                                    userAgent(&quot;Mozilla&quot;).\n                                    get();\n</code></pre>\n<p>I'm passing url value as</p>\n<p><code>https://www.valueresearchonline.com/stocks/who-owns-what?q=Ratnamani+Metals+%26+Tubes</code></p>\n<p>but during debug mode, I see Document location value as</p>\n<p><code>https://www.valueresearchonline.com/stocks/who-owns-what?q=Ratnamani+Metals+%2526+Tubes</code></p>\n<p>why does <code>%26</code> is getting changed to <code>%2526</code> ?  This results in no data getting returned back.</p>\n"},{"tags":["java","android","retrofit","interceptor","okhttp"],"comments":[{"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"score":0,"creation_date":1457010503,"post_id":35773028,"comment_id":59217355,"body_markdown":"What is the problem you are facing?","body":"What is the problem you are facing?"},{"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"score":0,"creation_date":1457010695,"post_id":35773028,"comment_id":59217491,"body_markdown":"I need to set this new json to response and then return this response, how to do that?","body":"I need to set this new json to response and then return this response, how to do that?"}],"answers":[{"tags":[],"owner":{"account_id":3512072,"reputation":17986,"user_id":2936153,"display_name":"Rohit5k2"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1457010786,"creation_date":1457010786,"answer_id":35773177,"question_id":35773028,"body_markdown":"Add this \r\n\r\n    MediaType contentType = response.body().contentType();\r\n    ResponseBody body = ResponseBody.create(contentType, jsonObject);\r\n    return response.newBuilder().body(body).build();\r\n\r\nafter your response modification. `jsonObject` is the modified JSON you want to return.","title":"How to change body in OkHttp Response?","body":"<p>Add this </p>\n\n<pre><code>MediaType contentType = response.body().contentType();\nResponseBody body = ResponseBody.create(contentType, jsonObject);\nreturn response.newBuilder().body(body).build();\n</code></pre>\n\n<p>after your response modification. <code>jsonObject</code> is the modified JSON you want to return.</p>\n"},{"tags":[],"owner":{"account_id":1335565,"reputation":191,"user_id":1278416,"display_name":"Aniket"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1477476072,"creation_date":1477476072,"answer_id":40259227,"question_id":35773028,"body_markdown":"Below is Response Intercepter class where you can intercept okkhttp responce and add your own response. and send it to retrofit.\r\n\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import okhttp3.Interceptor;\r\n    import okhttp3.MediaType;\r\n    import okhttp3.Request;\r\n    import okhttp3.ResponseBody;\r\n    import retrofit2.Response;\r\n    \r\n    public class ApiResponseInterceptor implements Interceptor {\r\n    \r\n        @Override\r\n        public okhttp3.Response intercept(Chain chain) throws IOException {\r\n            Request request = chain.request();\r\n            okhttp3.Response response = chain.proceed(request);\r\n            if(response.code() == 200) {\r\n                JSONObject jsonObject = new JSONObject();\r\n                try {\r\n                    jsonObject.put(&quot;code&quot;,200);\r\n                    jsonObject.put(&quot;status&quot;,&quot;OK&quot;);\r\n                    jsonObject.put(&quot;message&quot;,&quot;Successful&quot;);\r\n    \r\n                    MediaType contentType = response.body().contentType();\r\n                    ResponseBody body = ResponseBody.create(contentType, jsonObject.toString());\r\n                    return response.newBuilder().body(body).build();\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else if(response.code() == 403) {\r\n    \r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\n\r\nYow will get your modified response here in your retrofit callback\r\n\r\n\r\n    call.enqueue(new Callback&lt;EventResponce&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;EventResponce&gt; call, Response&lt;EventResponce&gt; response) {\r\n                    // you will get your own modified responce here\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;EventResponce&gt; call, Throwable t) {\r\n    \r\n                }\r\n            });","title":"How to change body in OkHttp Response?","body":"<p>Below is Response Intercepter class where you can intercept okkhttp responce and add your own response. and send it to retrofit.</p>\n\n<pre><code>import org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\n\nimport okhttp3.Interceptor;\nimport okhttp3.MediaType;\nimport okhttp3.Request;\nimport okhttp3.ResponseBody;\nimport retrofit2.Response;\n\npublic class ApiResponseInterceptor implements Interceptor {\n\n    @Override\n    public okhttp3.Response intercept(Chain chain) throws IOException {\n        Request request = chain.request();\n        okhttp3.Response response = chain.proceed(request);\n        if(response.code() == 200) {\n            JSONObject jsonObject = new JSONObject();\n            try {\n                jsonObject.put(\"code\",200);\n                jsonObject.put(\"status\",\"OK\");\n                jsonObject.put(\"message\",\"Successful\");\n\n                MediaType contentType = response.body().contentType();\n                ResponseBody body = ResponseBody.create(contentType, jsonObject.toString());\n                return response.newBuilder().body(body).build();\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        } else if(response.code() == 403) {\n\n        }\n        return response;\n    }\n}\n</code></pre>\n\n<p>Yow will get your modified response here in your retrofit callback</p>\n\n<pre><code>call.enqueue(new Callback&lt;EventResponce&gt;() {\n            @Override\n            public void onResponse(Call&lt;EventResponce&gt; call, Response&lt;EventResponce&gt; response) {\n                // you will get your own modified responce here\n            }\n\n            @Override\n            public void onFailure(Call&lt;EventResponce&gt; call, Throwable t) {\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":403363,"reputation":1203,"user_id":771072,"display_name":"linakis"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1495024588,"creation_date":1495024588,"answer_id":44025078,"question_id":35773028,"body_markdown":"As a minor change I wouldn&#39;t use the `string()` method cause it can be called only once on this request. You do use the `response.newBuilder()` so other interceptors down the chain will be able to call `string()` on your new one but I found myself wasting a couple of hours because I was actually calling it twice :P. \r\n\r\nSo i suggest something like the following\r\n\r\n    BufferedSource source = response.body().source();\r\n    source.request(Long.MAX_VALUE); // Buffer the entire body.\r\n    Buffer buffer = source.buffer();\r\n    String responseBodyString = buffer.clone().readString(Charset.forName(&quot;UTF-8&quot;));","title":"How to change body in OkHttp Response?","body":"<p>As a minor change I wouldn't use the <code>string()</code> method cause it can be called only once on this request. You do use the <code>response.newBuilder()</code> so other interceptors down the chain will be able to call <code>string()</code> on your new one but I found myself wasting a couple of hours because I was actually calling it twice :P. </p>\n\n<p>So i suggest something like the following</p>\n\n<pre><code>BufferedSource source = response.body().source();\nsource.request(Long.MAX_VALUE); // Buffer the entire body.\nBuffer buffer = source.buffer();\nString responseBodyString = buffer.clone().readString(Charset.forName(\"UTF-8\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7000543,"reputation":1437,"user_id":5366710,"display_name":"Pong Petrung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519373011,"creation_date":1519373011,"answer_id":48943587,"question_id":35773028,"body_markdown":"   \r\n\r\n       JSONObject postdata = new JSONObject();\r\n                try {\r\n       \r\n                    postdata.put(&quot;citizenId&quot;, &quot;2222222222222&quot;);\r\n                    postdata.put(&quot;accuracy&quot;, 3043.323);\r\n                    postdata.put(&quot;provider&quot;, &quot;wifi&quot;);\r\n                    postdata.put(&quot;gpsTime&quot;, 1111111111111L);\r\n                    postdata.put(&quot;lat&quot;, 23434.564);\r\n                    postdata.put(&quot;lng&quot;, 34343.5445);\r\n                    postdata.put(&quot;appId&quot;, &quot;201&quot;);\r\n        \r\n                } catch(JSONException e){\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n                RequestBody body = RequestBody.create(MEDIA_TYPE,postdata.toString());\r\n        \r\n                HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n                interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n                final OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\r\n        \r\n            //    final OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\r\n        \r\n        \r\n                final Request request = new Request.Builder()\r\n                        .url(base_url)\r\n                        .post(body)\r\n                        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        .addHeader(&quot;Authorization&quot;, &quot;JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvd25lcklkIjoyLCJvd25lclR5cGUiOiJMRUFERVIiLCJpYXQiOjE1MDE4Mjc4MDMsImV4cCI6MzMwMzc4Mjc4MDMsImF1ZCI6InNlbmRpdC5hc2lhIiwiaXNzIjoic2VsZiJ9.3Gpn3beZfdYsMOLTjksLwmxyfbrfqiojdm1n-gh6CXY&quot;)\r\n                        .addHeader(&quot;cache-control&quot;, &quot;no-cache&quot;)\r\n                        .build();\r\n        \r\n        \r\n                client.newCall(request).enqueue(new Callback() {\r\n        \r\n                    @SuppressLint(&quot;LongLogTag&quot;)\r\n                    @Override\r\n                    public void onResponse(Call call, Response response) throws IOException {\r\n        \r\n                        try {\r\n        //                    response = client.newCall(request).execute();\r\n        //                    Protocol protocol = response.protocol();\r\n        //                    assertEquals(Protocol.HTTP_1_1, protocol);\r\n        \r\n        //                    BufferedSource source = response.body().source();\r\n        //                    source.request(Long.MAX_VALUE); // Buffer the entire body.\r\n        //                    Buffer buffer = source.buffer();\r\n        //                    String responseBodyString = buffer.clone().readString(Charset.forName(&quot;UTF-8&quot;));\r\n        \r\n                            if(response.code() == 200) {\r\n                                JSONObject jsonObject = new JSONObject();\r\n                                try {\r\n                                    jsonObject.put(&quot;code&quot;,200);\r\n                                    jsonObject.put(&quot;status&quot;,&quot;OK&quot;);\r\n                                    jsonObject.put(&quot;message&quot;,&quot;Successful&quot;);\r\n        \r\n                                    MediaType contentType = response.body().contentType();\r\n                                    ResponseBody body = ResponseBody.create(contentType, jsonObject.toString());\r\n        \r\n                            BufferedSource source = response.body().source();\r\n                            source.request(Long.MAX_VALUE); // Buffer the entire body.\r\n                            Buffer buffer = source.buffer();\r\n                            String responseBodyString = buffer.clone().readString(Charset.forName(&quot;UTF-8&quot;));\r\n        \r\n                                    Log.e(&quot;response body responseBodyString &quot;, body.string());\r\n                                    Log.e(&quot;response body responseBodyString  &quot;, responseBodyString);\r\n                                } catch (JSONException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n        \r\n        \r\n                            Log.e(&quot;response&quot;, String.valueOf(response));\r\n                            Log.e(&quot;response body&quot;, String.valueOf(response.body()));\r\n        \r\n                        } }catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n          \r\n                    @Override\r\n                    public void onFailure(Call call, IOException e) {\r\n                        Log.e(&quot;response  onFailure &quot;, String.valueOf(e));\r\n                    }\r\n        \r\n                });\r\n\r\n","title":"How to change body in OkHttp Response?","body":"<pre><code>   JSONObject postdata = new JSONObject();\n            try {\n\n                postdata.put(\"citizenId\", \"2222222222222\");\n                postdata.put(\"accuracy\", 3043.323);\n                postdata.put(\"provider\", \"wifi\");\n                postdata.put(\"gpsTime\", 1111111111111L);\n                postdata.put(\"lat\", 23434.564);\n                postdata.put(\"lng\", 34343.5445);\n                postdata.put(\"appId\", \"201\");\n\n            } catch(JSONException e){\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            RequestBody body = RequestBody.create(MEDIA_TYPE,postdata.toString());\n\n            HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n            interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n            final OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\n\n        //    final OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\n\n\n            final Request request = new Request.Builder()\n                    .url(base_url)\n                    .post(body)\n                    .addHeader(\"Content-Type\", \"application/json\")\n                    .addHeader(\"Authorization\", \"JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvd25lcklkIjoyLCJvd25lclR5cGUiOiJMRUFERVIiLCJpYXQiOjE1MDE4Mjc4MDMsImV4cCI6MzMwMzc4Mjc4MDMsImF1ZCI6InNlbmRpdC5hc2lhIiwiaXNzIjoic2VsZiJ9.3Gpn3beZfdYsMOLTjksLwmxyfbrfqiojdm1n-gh6CXY\")\n                    .addHeader(\"cache-control\", \"no-cache\")\n                    .build();\n\n\n            client.newCall(request).enqueue(new Callback() {\n\n                @SuppressLint(\"LongLogTag\")\n                @Override\n                public void onResponse(Call call, Response response) throws IOException {\n\n                    try {\n    //                    response = client.newCall(request).execute();\n    //                    Protocol protocol = response.protocol();\n    //                    assertEquals(Protocol.HTTP_1_1, protocol);\n\n    //                    BufferedSource source = response.body().source();\n    //                    source.request(Long.MAX_VALUE); // Buffer the entire body.\n    //                    Buffer buffer = source.buffer();\n    //                    String responseBodyString = buffer.clone().readString(Charset.forName(\"UTF-8\"));\n\n                        if(response.code() == 200) {\n                            JSONObject jsonObject = new JSONObject();\n                            try {\n                                jsonObject.put(\"code\",200);\n                                jsonObject.put(\"status\",\"OK\");\n                                jsonObject.put(\"message\",\"Successful\");\n\n                                MediaType contentType = response.body().contentType();\n                                ResponseBody body = ResponseBody.create(contentType, jsonObject.toString());\n\n                        BufferedSource source = response.body().source();\n                        source.request(Long.MAX_VALUE); // Buffer the entire body.\n                        Buffer buffer = source.buffer();\n                        String responseBodyString = buffer.clone().readString(Charset.forName(\"UTF-8\"));\n\n                                Log.e(\"response body responseBodyString \", body.string());\n                                Log.e(\"response body responseBodyString  \", responseBodyString);\n                            } catch (JSONException e) {\n                                e.printStackTrace();\n                            }\n\n\n                        Log.e(\"response\", String.valueOf(response));\n                        Log.e(\"response body\", String.valueOf(response.body()));\n\n                    } }catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                @Override\n                public void onFailure(Call call, IOException e) {\n                    Log.e(\"response  onFailure \", String.valueOf(e));\n                }\n\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571880615,"creation_date":1571880615,"answer_id":58532925,"question_id":35773028,"body_markdown":"Here&#39;s a tight, complete example of adding an interceptor that modifies JSON to an  [`OkHttpClient`][1]. It uses [GSON][2] to manage the JSON.\r\n\r\n            client.addInterceptor(chain -&gt; {\r\n                final Request request = chain.request();\r\n                final String path = request.url().uri().getPath();\r\n                final Response response = chain.proceed(request);\r\n\r\n                String body = response.body().string();\r\n                final JsonElement element = new JsonParser().parse(body);\r\n                if (&quot;/the/endpoint/you/want/to/modify&quot;.equals(path)){\r\n                    final JsonObject object = element.getAsJsonObject();\r\n                    // v v v v v v All this for these lines v v v v v v v\r\n                    object.addProperty(&quot;some_json_name&quot;,&quot;some_json_value&quot;);\r\n                    object.addProperty(&quot;existing_property&quot;,&quot;updated_value&quot;);\r\n                    object.addProperty(&quot;numbers_work_too&quot;,1.2);\r\n                    // ^ ^ ^ ^ ^ ^ All this for these lines ^ ^ ^ ^ ^ ^ ^\r\n                    body = object.toString();\r\n                }\r\n                return response.newBuilder().body(ResponseBody.create(response.body().contentType(), body)).build();\r\n            });\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [2]: https://github.com/google/gson","title":"How to change body in OkHttp Response?","body":"<p>Here's a tight, complete example of adding an interceptor that modifies JSON to an  <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\"><code>OkHttpClient</code></a>. It uses <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a> to manage the JSON.</p>\n\n<pre><code>        client.addInterceptor(chain -&gt; {\n            final Request request = chain.request();\n            final String path = request.url().uri().getPath();\n            final Response response = chain.proceed(request);\n\n            String body = response.body().string();\n            final JsonElement element = new JsonParser().parse(body);\n            if (\"/the/endpoint/you/want/to/modify\".equals(path)){\n                final JsonObject object = element.getAsJsonObject();\n                // v v v v v v All this for these lines v v v v v v v\n                object.addProperty(\"some_json_name\",\"some_json_value\");\n                object.addProperty(\"existing_property\",\"updated_value\");\n                object.addProperty(\"numbers_work_too\",1.2);\n                // ^ ^ ^ ^ ^ ^ All this for these lines ^ ^ ^ ^ ^ ^ ^\n                body = object.toString();\n            }\n            return response.newBuilder().body(ResponseBody.create(response.body().contentType(), body)).build();\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11679511,"reputation":1329,"user_id":8551764,"display_name":"Mostafa Arian Nejad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692082563,"creation_date":1692082563,"answer_id":76903928,"question_id":35773028,"body_markdown":"The `create()` function has been deprecated and replaced with `.toResponseBody()` and `.asResponseBody()` extensions.\r\n\r\n\r\n    OkHttpClient.Builder().apply {\r\n        addInterceptor { chain -&gt;\r\n            // modifiedBodyString is created here ...\r\n\r\n            val contentType = response.body().contentType();\r\n\r\n            // Old approach (Deprecated):\r\n            val responseBody = ResponseBody.create(contentType, modifiedBodyString);\r\n\r\n            // New approach:\r\n            val responseBody = modifiedBodyString.toResponseBody(contentType)\r\n\r\n            response.newBuilder().body(responseBody).build(); \r\n        }\r\n    }.build()\r\n    \r\n\r\nI am using OkHttp version 4.10.0.","title":"How to change body in OkHttp Response?","body":"<p>The <code>create()</code> function has been deprecated and replaced with <code>.toResponseBody()</code> and <code>.asResponseBody()</code> extensions.</p>\n<pre><code>OkHttpClient.Builder().apply {\n    addInterceptor { chain -&gt;\n        // modifiedBodyString is created here ...\n\n        val contentType = response.body().contentType();\n\n        // Old approach (Deprecated):\n        val responseBody = ResponseBody.create(contentType, modifiedBodyString);\n\n        // New approach:\n        val responseBody = modifiedBodyString.toResponseBody(contentType)\n\n        response.newBuilder().body(responseBody).build(); \n    }\n}.build()\n</code></pre>\n<p>I am using OkHttp version 4.10.0.</p>\n"}],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35354,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":35773177,"answer_count":6,"score":26,"last_activity_date":1692082563,"creation_date":1457010350,"question_id":35773028,"body_markdown":"I&#39;m using retrofit. To catch response i&#39;m using Interceptor:\r\n  \r\n\r\n    OkHttpClient okHttpClient = new OkHttpClient();\r\n    okHttpClient.interceptors().add(myinterceptor);\r\n\r\nhere is code of interceptor:\r\n\r\n    new Interceptor() {\r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n            Request request = chain.request();\r\n            Response response = chain.proceed(request);\r\n            if (path.equals(&quot;/user&quot;)){\r\n                String stringJson = response.body().string();\r\n                JSONObject jsonObject = new JSONObject(stringJson);\r\n                jsonObject.put(&quot;key&quot;,1);\r\n                //here I need to set this new json to response and then return this response\r\n\r\nHow to change body in OkHttp Response?","title":"How to change body in OkHttp Response?","body":"<p>I'm using retrofit. To catch response i'm using Interceptor:</p>\n\n<pre><code>OkHttpClient okHttpClient = new OkHttpClient();\nokHttpClient.interceptors().add(myinterceptor);\n</code></pre>\n\n<p>here is code of interceptor:</p>\n\n<pre><code>new Interceptor() {\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        Request request = chain.request();\n        Response response = chain.proceed(request);\n        if (path.equals(\"/user\")){\n            String stringJson = response.body().string();\n            JSONObject jsonObject = new JSONObject(stringJson);\n            jsonObject.put(\"key\",1);\n            //here I need to set this new json to response and then return this response\n</code></pre>\n\n<p>How to change body in OkHttp Response?</p>\n"},{"tags":["java","android","kotlin","spell-checking"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1692080775,"post_id":76903252,"comment_id":135572938,"body_markdown":"Unclear if you&#39;ve seen the AOSP project linked at the end of your first link, LatinIME https://android.googlesource.com/platform/packages/inputmethods/LatinIME/ and more specifically https://android.googlesource.com/platform/packages/inputmethods/LatinIME/+/refs/heads/main/java/src/com/android/inputmethod/latin/spellcheck/","body":"Unclear if you&#39;ve seen the AOSP project linked at the end of your first link, LatinIME <a href=\"https://android.googlesource.com/platform/packages/inputmethods/LatinIME/\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/packages/inputmethods/&hellip;</a> and more specifically <a href=\"https://android.googlesource.com/platform/packages/inputmethods/LatinIME/+/refs/heads/main/java/src/com/android/inputmethod/latin/spellcheck/\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/packages/inputmethods/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692082269,"creation_date":1692082269,"answer_id":76903911,"question_id":76903252,"body_markdown":"Generally if you&#39;re writing spell check into the IME, you don&#39;t use the spell checker framework.  That&#39;s really of use if you want to link in an external library doing it at an application level.  For an IME, you generally just do spell checking on your own.  There is no requirement for an IME to use it.\r\n\r\nInstead, after every letter is tapped (or swiped, or whatever other input method you&#39;re using), you&#39;d feed the context around the cursor into whatever algorithm you wrote, take the suggestions returned, and display them (generally in a suggestions bar, although that also is up to you).","title":"How to implement spell checking on Android with Kotlin","body":"<p>Generally if you're writing spell check into the IME, you don't use the spell checker framework.  That's really of use if you want to link in an external library doing it at an application level.  For an IME, you generally just do spell checking on your own.  There is no requirement for an IME to use it.</p>\n<p>Instead, after every letter is tapped (or swiped, or whatever other input method you're using), you'd feed the context around the cursor into whatever algorithm you wrote, take the suggestions returned, and display them (generally in a suggestions bar, although that also is up to you).</p>\n"}],"owner":{"account_id":20265293,"reputation":372,"user_id":14862649,"display_name":"Grant Oganyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692082269,"creation_date":1692069652,"question_id":76903252,"body_markdown":"Coming from an iOS dev background, working on a custom android keyboard. I am trying to implement spell checking into the keyboard, but don&#39;t know how to do it.\r\n\r\nI found the [Spell checker framework](https://developer.android.com/develop/ui/views/touch-and-input/spell-checker-framework), but how I understood it, this framework only provides the blank abstract methods, while I need to implement spell checking myself. (Why..? If I created my own spell checker, surely I can make my own abstract methods to call it...)\r\n\r\nI also figured out spell checking like so:\r\n\r\n```kotlin\r\nval textServicesManager = context.getSystemService(Context.TEXT_SERVICES_MANAGER_SERVICE) as TextServicesManager\r\nval mSpellCheckerSession = textServicesManager.newSpellCheckerSession(null, null, mSpellCheckerSessionListener, true)\r\n```\r\n\r\nand then calling it with \r\n```kotlin\r\nmSpellCheckerSession?.getSuggestions(TextInfo(&quot;misspelled words&quot;), 5)\r\n```\r\n\r\nBut this method is asynchronous and I have to listen for results with  `onGetSuggestions`. This won&#39;t work for me, since my keyboard needs to spell check and correct users on the fly, after the word is typed. So I need a synchronous method.\r\n\r\nOn iOS we simply have [UITextChecker()](https://developer.apple.com/documentation/uikit/uitextchecker) from which we can synchronously ask for spelling corrections. Is there anything like that on Android? How can I get synchronous spelling suggestions?","title":"How to implement spell checking on Android with Kotlin","body":"<p>Coming from an iOS dev background, working on a custom android keyboard. I am trying to implement spell checking into the keyboard, but don't know how to do it.</p>\n<p>I found the <a href=\"https://developer.android.com/develop/ui/views/touch-and-input/spell-checker-framework\" rel=\"nofollow noreferrer\">Spell checker framework</a>, but how I understood it, this framework only provides the blank abstract methods, while I need to implement spell checking myself. (Why..? If I created my own spell checker, surely I can make my own abstract methods to call it...)</p>\n<p>I also figured out spell checking like so:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val textServicesManager = context.getSystemService(Context.TEXT_SERVICES_MANAGER_SERVICE) as TextServicesManager\nval mSpellCheckerSession = textServicesManager.newSpellCheckerSession(null, null, mSpellCheckerSessionListener, true)\n</code></pre>\n<p>and then calling it with</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mSpellCheckerSession?.getSuggestions(TextInfo(&quot;misspelled words&quot;), 5)\n</code></pre>\n<p>But this method is asynchronous and I have to listen for results with  <code>onGetSuggestions</code>. This won't work for me, since my keyboard needs to spell check and correct users on the fly, after the word is typed. So I need a synchronous method.</p>\n<p>On iOS we simply have <a href=\"https://developer.apple.com/documentation/uikit/uitextchecker\" rel=\"nofollow noreferrer\">UITextChecker()</a> from which we can synchronously ask for spelling corrections. Is there anything like that on Android? How can I get synchronous spelling suggestions?</p>\n"},{"tags":["java","generics","interface"],"comments":[{"owner":{"account_id":19373190,"reputation":411,"user_id":14166067,"display_name":"Hasan Raza"},"score":1,"creation_date":1689768169,"post_id":76721041,"comment_id":135259397,"body_markdown":"define the generic types T and V at the class level after that create an instance of Specifickeygenerator and call the generatekey method","body":"define the generic types T and V at the class level after that create an instance of Specifickeygenerator and call the generatekey method"},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":0,"creation_date":1689845166,"post_id":76721041,"comment_id":135272043,"body_markdown":"As said in the comment above, you have to add the generic and concrete types to the classes: `public interface KeyGenerator&lt;V, T&gt;` and `public class SomeSpecificKeyGenerator implements KeyGenerator&lt;SomeParameterClass, String&gt;`","body":"As said in the comment above, you have to add the generic and concrete types to the classes: <code>public interface KeyGenerator&lt;V, T&gt;</code> and <code>public class SomeSpecificKeyGenerator implements KeyGenerator&lt;SomeParameterClass, String&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":13965071,"reputation":1,"user_id":10085104,"display_name":"Nur Mohammad Rayhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692081766,"creation_date":1692081766,"answer_id":76903860,"question_id":76721041,"body_markdown":"you can write this way and getting no error\r\n```\r\npublic class SomeSpecificKeyGenerator implements KeyGenerator{\r\n    @Override\r\n    public &lt;T, V&gt; T generateKey(V parameters) {\r\n        return null;\r\n    }\r\n}\r\n```","title":"Implement an Interface method with different generic types for parameters and return","body":"<p>you can write this way and getting no error</p>\n<pre><code>public class SomeSpecificKeyGenerator implements KeyGenerator{\n    @Override\n    public &lt;T, V&gt; T generateKey(V parameters) {\n        return null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11537246,"reputation":11,"user_id":8454193,"display_name":"Saharsh Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692081766,"creation_date":1689767760,"question_id":76721041,"body_markdown":"I have an interface like this\r\n\r\n    public interface KeyGenerator {\r\n        &lt;T,V&gt; T generateKey(V parameters);\r\n    }\r\n\r\nand I want to implement this function, with these data types\r\n\r\n    public class SomeSpecificKeyGenerator implements KeyGenerator\r\n\r\n    public List&lt;String&gt; generateKey(SomeParameterClass parameters){\r\n        // do something\r\n    }\r\n\r\n\r\ngetting error, that the interface method must be implemented (which I am trying to, in the above snippet)","title":"Implement an Interface method with different generic types for parameters and return","body":"<p>I have an interface like this</p>\n<pre><code>public interface KeyGenerator {\n    &lt;T,V&gt; T generateKey(V parameters);\n}\n</code></pre>\n<p>and I want to implement this function, with these data types</p>\n<pre><code>public class SomeSpecificKeyGenerator implements KeyGenerator\n\npublic List&lt;String&gt; generateKey(SomeParameterClass parameters){\n    // do something\n}\n</code></pre>\n<p>getting error, that the interface method must be implemented (which I am trying to, in the above snippet)</p>\n"},{"tags":["java","class","oop","instance"],"comments":[{"owner":{"account_id":2508174,"reputation":6519,"user_id":2181238,"display_name":"Gaurang Tandon"},"score":1,"creation_date":1515553726,"post_id":17400664,"comment_id":83339516,"body_markdown":"Related concept: https://stackoverflow.com/questions/33994009/can-we-create-object-of-abstract-class","body":"Related concept: <a href=\"https://stackoverflow.com/questions/33994009/can-we-create-object-of-abstract-class\" title=\"can we create object of abstract class\">stackoverflow.com/questions/33994009/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2921966,"reputation":3572,"user_id":2504013,"accept_rate":86,"display_name":"JREN"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1372669297,"creation_date":1372669297,"answer_id":17400687,"question_id":17400664,"body_markdown":"You can&#39;t instantiate an interface directly, but you can instantiate a class that implements that interface:\r\n\r\n    public class RunClass implements Runnable {\r\n        // Class implementation\r\n    }\r\n\r\n    Runnable r = new RunClass();\r\n\r\nThis is basically the same as what you&#39;re doing inline. The brackets after new Runnable() will contain your implementation inline.","title":"Can I create an object for Interface?","body":"<p>You can't instantiate an interface directly, but you can instantiate a class that implements that interface:</p>\n\n<pre><code>public class RunClass implements Runnable {\n    // Class implementation\n}\n\nRunnable r = new RunClass();\n</code></pre>\n\n<p>This is basically the same as what you're doing inline. The brackets after new Runnable() will contain your implementation inline.</p>\n"},{"tags":[],"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1599019550,"creation_date":1372669311,"answer_id":17400690,"question_id":17400664,"body_markdown":"This is not creating the instance of Interface, it is creating a class that implements interface. So when you write:\r\n```java\r\nRunnable runnable = new Runnable() {\r\n    @Override\r\n    public void run() {\r\n        // TODO Auto-generated method stub\r\n\r\n    }\r\n};\r\n```\r\nYou are actually a creating a class that is implementing the Runnable interface.\r\nYou need to follow all rules here, here, we are overriding the run method for `Runnable`. There is similar thing for abstract class also. We can test using an example:\r\n```java\r\npublic abstract class AbstractClass {\r\n    public void someMethod() {\r\n        System.out.println(&quot;abstract class&quot;);\r\n    }\r\n}\r\n```\r\nand another class i.e. `TestClass`:\r\n```java\r\npublic class TestClass {\r\n    public static void main(String[] args) {\r\n        AbstractClass abstractClass = new AbstractClass() {\r\n            public void someMethod() {\r\n                System.out.println(&quot;concrete class method&quot;);\r\n            }\r\n        };\r\n        abstractClass.someMethod();\r\n    }\r\n}\r\n```\r\nThis will create the instance of a subclass in which we are overriding `someMethod()`;\r\nThis program prints:\r\n```none\r\nconcrete class method\r\n``` \r\nThis proves we are creating the instance of subclass.\r\n","title":"Can I create an object for Interface?","body":"<p>This is not creating the instance of Interface, it is creating a class that implements interface. So when you write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable runnable = new Runnable() {\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n\n    }\n};\n</code></pre>\n<p>You are actually a creating a class that is implementing the Runnable interface.\nYou need to follow all rules here, here, we are overriding the run method for <code>Runnable</code>. There is similar thing for abstract class also. We can test using an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractClass {\n    public void someMethod() {\n        System.out.println(&quot;abstract class&quot;);\n    }\n}\n</code></pre>\n<p>and another class i.e. <code>TestClass</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n    public static void main(String[] args) {\n        AbstractClass abstractClass = new AbstractClass() {\n            public void someMethod() {\n                System.out.println(&quot;concrete class method&quot;);\n            }\n        };\n        abstractClass.someMethod();\n    }\n}\n</code></pre>\n<p>This will create the instance of a subclass in which we are overriding <code>someMethod()</code>;\nThis program prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>concrete class method\n</code></pre>\n<p>This proves we are creating the instance of subclass.</p>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1372669848,"creation_date":1372669356,"answer_id":17400703,"question_id":17400664,"body_markdown":"&gt; Is it possible to creating object for an interface?\r\n\r\nNo. The code you&#39;ve shown creates an object from an *anonymous class*, which implements the interface. Under the covers, the JVM actually creates a class implementing the interface, and then creates an instance of that class.\r\n\r\n-----\r\n\r\nThe &quot;anonymous&quot; class generated *will* actually have a name, based on the name of the class in which this code appears, for instance `YourClass$1` or similar. E.g.:\r\n\r\n    public class AnonymousName {\r\n        public static final void main(String[] args) {\r\n            Runnable r = new Runnable() {\r\n                public void run() {\r\n                }\r\n            };\r\n          \r\n            System.out.println(r.getClass().getName());\r\n        }\r\n    }\r\n\r\n...outputs\r\n\r\n&lt;pre&gt;AnonymousName$1&lt;/pre&gt;\r\n\r\n(At least on Oracle&#39;s JVM; I don&#39;t know if the naming convention is in the JLS or if it&#39;s JVM-specific behavior.)","title":"Can I create an object for Interface?","body":"<blockquote>\n  <p>Is it possible to creating object for an interface?</p>\n</blockquote>\n\n<p>No. The code you've shown creates an object from an <em>anonymous class</em>, which implements the interface. Under the covers, the JVM actually creates a class implementing the interface, and then creates an instance of that class.</p>\n\n<hr>\n\n<p>The \"anonymous\" class generated <em>will</em> actually have a name, based on the name of the class in which this code appears, for instance <code>YourClass$1</code> or similar. E.g.:</p>\n\n<pre><code>public class AnonymousName {\n    public static final void main(String[] args) {\n        Runnable r = new Runnable() {\n            public void run() {\n            }\n        };\n\n        System.out.println(r.getClass().getName());\n    }\n}\n</code></pre>\n\n<p>...outputs</p>\n\n<pre>AnonymousName$1</pre>\n\n<p>(At least on Oracle's JVM; I don't know if the naming convention is in the JLS or if it's JVM-specific behavior.)</p>\n"},{"tags":[],"owner":{"account_id":2769071,"reputation":600,"user_id":2384046,"accept_rate":67,"display_name":"Gaurav Manral"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1372669395,"creation_date":1372669395,"answer_id":17400714,"question_id":17400664,"body_markdown":"we can not instatiate the interface (since do not have constructor).","title":"Can I create an object for Interface?","body":"<p>we can not instatiate the interface (since do not have constructor).</p>\n"},{"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1372669420,"creation_date":1372669420,"answer_id":17400721,"question_id":17400664,"body_markdown":"You can create an anonymous inner class:\r\n\r\n    Runnable r = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n        }\r\n    };\r\n\r\nTherefore you create a new `class` which implements the given `interface`.","title":"Can I create an object for Interface?","body":"<p>You can create an anonymous inner class:</p>\n\n<pre><code>Runnable r = new Runnable() {\n    @Override\n    public void run() {\n    }\n};\n</code></pre>\n\n<p>Therefore you create a new <code>class</code> which implements the given <code>interface</code>.</p>\n"},{"tags":[],"owner":{"account_id":1506247,"reputation":7562,"user_id":1427460,"accept_rate":64,"display_name":"bNd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372670111,"creation_date":1372670111,"answer_id":17400934,"question_id":17400664,"body_markdown":"What you are seeing is an  [anonymous inner class][1].\n\nit’s creating an instance of a new, anonymous,implementer of Runnable class.\n\n\n**Because an anonymous class definition is an expression, it must be part of a statement.** \n\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html","title":"Can I create an object for Interface?","body":"<p>What you are seeing is an  <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">anonymous inner class</a>.</p>\n<p>it’s creating an instance of a new, anonymous,implementer of Runnable class.</p>\n<p><strong>Because an anonymous class definition is an expression, it must be part of a statement.</strong></p>\n"},{"tags":[],"owner":{"account_id":7665196,"reputation":65,"user_id":5809106,"display_name":"Bugsy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522650724,"creation_date":1522649424,"answer_id":49606182,"question_id":17400664,"body_markdown":"Here&#39;s my understanding.\r\n\r\nAn interface \r\n\r\n    public Interface SomeInterface{\r\n    }\r\n\r\nYou can declare an Object for an interface. \r\n\r\n    SomeInterface anObject;\r\n\r\nYou cannot instantiate this object directly using this interface. \r\nHowever, let&#39;s say you have a class that implements this interface. \r\n\r\n    public class SomeClass implements SomeInterface {}\r\n\r\nThen you can do this,\r\n\r\n    anObject = new someClass();\r\n\r\n(This is conceptually of course (like pseudocode) actual code may vary depending on your classes and access modifiers etc.)\r\n\r\nI&#39;ll update as to why exactly we are doing this/what the point is as soon as I find out. \r\n\r\n\r\nNote: Some of this has been mentioned in above answers, just want the OP to know this whole thing too.\r\n","title":"Can I create an object for Interface?","body":"<p>Here's my understanding.</p>\n\n<p>An interface </p>\n\n<pre><code>public Interface SomeInterface{\n}\n</code></pre>\n\n<p>You can declare an Object for an interface. </p>\n\n<pre><code>SomeInterface anObject;\n</code></pre>\n\n<p>You cannot instantiate this object directly using this interface. \nHowever, let's say you have a class that implements this interface. </p>\n\n<pre><code>public class SomeClass implements SomeInterface {}\n</code></pre>\n\n<p>Then you can do this,</p>\n\n<pre><code>anObject = new someClass();\n</code></pre>\n\n<p>(This is conceptually of course (like pseudocode) actual code may vary depending on your classes and access modifiers etc.)</p>\n\n<p>I'll update as to why exactly we are doing this/what the point is as soon as I find out. </p>\n\n<p>Note: Some of this has been mentioned in above answers, just want the OP to know this whole thing too.</p>\n"},{"tags":[],"owner":{"account_id":13965071,"reputation":1,"user_id":10085104,"display_name":"Nur Mohammad Rayhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692081198,"creation_date":1692081198,"answer_id":76903811,"question_id":17400664,"body_markdown":"You cannot create Object of interface, but you can create Object of class that is **extends** interface.\r\n\r\nLike if you like to create an Object of ```Interface Laptop``` and declare method ```void writeCode()``` and implement this method in class ```class Development``` you can use concept of anonymous inner class concept.\r\n\r\nnow you can create object of anonymous inner class object reference or type of ```Interface Laptop```\r\n```\r\npublic interface Laptop {\r\n    public abstract void writeCode();\r\n}\r\n```\r\n\r\n```\r\npublic class Developer implements Laptop{\r\n    public void writeCode() {\r\n        System.out.println(&quot;In developer Class&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Laptop lap = new Laptop() {\r\n            @Override\r\n            public void writeCode() {\r\n                System.out.println(&quot;In new Method&quot;);\r\n            }\r\n        };\r\n\r\n        lap.writeCode();\r\n    }\r\n}\r\n```","title":"Can I create an object for Interface?","body":"<p>You cannot create Object of interface, but you can create Object of class that is <strong>extends</strong> interface.</p>\n<p>Like if you like to create an Object of <code>Interface Laptop</code> and declare method <code>void writeCode()</code> and implement this method in class <code>class Development</code> you can use concept of anonymous inner class concept.</p>\n<p>now you can create object of anonymous inner class object reference or type of <code>Interface Laptop</code></p>\n<pre><code>public interface Laptop {\n    public abstract void writeCode();\n}\n</code></pre>\n<pre><code>public class Developer implements Laptop{\n    public void writeCode() {\n        System.out.println(&quot;In developer Class&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Laptop lap = new Laptop() {\n            @Override\n            public void writeCode() {\n                System.out.println(&quot;In new Method&quot;);\n            }\n        };\n\n        lap.writeCode();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2990692,"reputation":139,"user_id":2538333,"display_name":"kalepu harish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66261,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":8,"score":13,"last_activity_date":1692081198,"creation_date":1372669230,"question_id":17400664,"body_markdown":"Is it possible to create an object for an interface?  If yes, how is it done? \r\nAccording to my view the following code says that we can:\r\n```java\r\nRunnable r = new Runnable() {\r\n    // some implementation\r\n}\r\n```","title":"Can I create an object for Interface?","body":"<p>Is it possible to create an object for an interface?  If yes, how is it done?\nAccording to my view the following code says that we can:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable r = new Runnable() {\n    // some implementation\n}\n</code></pre>\n"},{"tags":["java","unit-testing","jdbc","tdd"],"answers":[{"tags":[],"owner":{"account_id":5360,"reputation":36887,"user_id":8590,"accept_rate":100,"display_name":"seth"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1248061028,"creation_date":1248059899,"answer_id":1151586,"question_id":1151550,"body_markdown":"I don&#39;t know if you have seen it or not but there&#39;s [MockRunner][1].  It provides many classes that implement the interfaces of JDBC (as well as other J2EEclasses).  Here&#39;s [the JDBC mock objects][2].  There are also quite a few [examples][3].\r\n\r\n\r\n  [1]: http://mockrunner.sourceforge.net/\r\n  [2]: http://mockrunner.sourceforge.net/doc/api/com/mockrunner/mock/jdbc/package-tree.html\r\n  [3]: http://mockrunner.sourceforge.net/examplesjdbc.html","title":"Is there a set of stubs/mocks for JDBC available anywhere?","body":"<p>I don't know if you have seen it or not but there's <a href=\"http://mockrunner.sourceforge.net/\" rel=\"noreferrer\">MockRunner</a>.  It provides many classes that implement the interfaces of JDBC (as well as other J2EEclasses).  Here's <a href=\"http://mockrunner.sourceforge.net/doc/api/com/mockrunner/mock/jdbc/package-tree.html\" rel=\"noreferrer\">the JDBC mock objects</a>.  There are also quite a few <a href=\"http://mockrunner.sourceforge.net/examplesjdbc.html\" rel=\"noreferrer\">examples</a>.</p>\n"},{"tags":[],"owner":{"account_id":47591,"reputation":5499,"user_id":141042,"accept_rate":86,"display_name":"Geoffrey Wiseman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1248062197,"creation_date":1248062197,"answer_id":1151644,"question_id":1151550,"body_markdown":"It sounds like you&#39;re having issues in the DAO code itself?  Otherwise, the DAO layer is the obvious place to do your mocking, but if you&#39;re trying to test the DAO, then you&#39;ll need to mock that which comes beneath.\r\n\r\nPersonally, I tend to stay away from mocking large, complex libraries; if you really need to test the DAO layer directly and the DAO works directly with JDBC, you&#39;ve got three obvious choices:\r\n\r\n 1. Run an integrated test that includes the DAO and JDBC along with a Database\r\n 2. Add a layer above JDBC with a thinner interface, better suited for mocking.\r\n 3. Use JDBC mocks either of your own writing, or some of the items listed above.\r\n\r\nI would almost always choose #1 or #2.  Because there&#39;s a host of possibilities of errors in malformed SQL syntax and the like I tend to lean towards #1.  I realize, however, that that&#39;s not what you&#39;re asking for.  ;)","title":"Is there a set of stubs/mocks for JDBC available anywhere?","body":"<p>It sounds like you're having issues in the DAO code itself?  Otherwise, the DAO layer is the obvious place to do your mocking, but if you're trying to test the DAO, then you'll need to mock that which comes beneath.</p>\n\n<p>Personally, I tend to stay away from mocking large, complex libraries; if you really need to test the DAO layer directly and the DAO works directly with JDBC, you've got three obvious choices:</p>\n\n<ol>\n<li>Run an integrated test that includes the DAO and JDBC along with a Database</li>\n<li>Add a layer above JDBC with a thinner interface, better suited for mocking.</li>\n<li>Use JDBC mocks either of your own writing, or some of the items listed above.</li>\n</ol>\n\n<p>I would almost always choose #1 or #2.  Because there's a host of possibilities of errors in malformed SQL syntax and the like I tend to lean towards #1.  I realize, however, that that's not what you're asking for.  ;)</p>\n"},{"tags":[],"owner":{"account_id":44552,"reputation":4670,"user_id":130832,"display_name":"Mercer Traieste"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1248062354,"creation_date":1248062354,"answer_id":1151649,"question_id":1151550,"body_markdown":"You could test the database directly with [dbunit][1].\r\n\r\n\r\n  [1]: http://www.dbunit.org/","title":"Is there a set of stubs/mocks for JDBC available anywhere?","body":"<p>You could test the database directly with <a href=\"http://www.dbunit.org/\" rel=\"nofollow noreferrer\">dbunit</a>.</p>\n"},{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248079685,"creation_date":1248079685,"answer_id":1152413,"question_id":1151550,"body_markdown":"While I&#39;m a huge fan of unit testing in general I&#39;ve found it to be of limited value with DAOs.  \r\n\r\nWhat I&#39;ve seen is while it is entirely possible to write the tests (using any of the mocking APIs - [JMock][1], [EasyMock][2], etc), they typically work straight-off (the logic is so basic how couldn&#39;t they) only breaking when you change the code (adding a value for example) and that just makes them a burden on the code base. \r\n\r\nI think this is because my DAOs typically follow the form:\r\n\r\n - get connection.\r\n - create statement.\r\n - set values.\r\n - read values (for load operations).\r\n - clean-up.\r\n\r\nYou then make assumptions about how the JDBC driver will/is work(ing) and you get a test that&#39;s really doing nothing more than testing some simple code gets called in the order it is declared.  \r\n\r\nErrors originating from DAOs typically occur within the database (key violations, bugs in stored procs, etc) and unless you are running the system as a whole you aren&#39;t going to see these errors.\r\n\r\nThese days I tend to let the higher levels of testing - integration and the like - exercise the DAO code hitting the actual database in doing so and hopefully catching the sort of errors I mentioned sooner rather than later.\r\n\r\n\r\n  [1]: http://www.jmock.org/\r\n  [2]: http://easymock.org/","title":"Is there a set of stubs/mocks for JDBC available anywhere?","body":"<p>While I'm a huge fan of unit testing in general I've found it to be of limited value with DAOs.  </p>\n\n<p>What I've seen is while it is entirely possible to write the tests (using any of the mocking APIs - <a href=\"http://www.jmock.org/\" rel=\"nofollow noreferrer\">JMock</a>, <a href=\"http://easymock.org/\" rel=\"nofollow noreferrer\">EasyMock</a>, etc), they typically work straight-off (the logic is so basic how couldn't they) only breaking when you change the code (adding a value for example) and that just makes them a burden on the code base. </p>\n\n<p>I think this is because my DAOs typically follow the form:</p>\n\n<ul>\n<li>get connection.</li>\n<li>create statement.</li>\n<li>set values.</li>\n<li>read values (for load operations).</li>\n<li>clean-up.</li>\n</ul>\n\n<p>You then make assumptions about how the JDBC driver will/is work(ing) and you get a test that's really doing nothing more than testing some simple code gets called in the order it is declared.  </p>\n\n<p>Errors originating from DAOs typically occur within the database (key violations, bugs in stored procs, etc) and unless you are running the system as a whole you aren't going to see these errors.</p>\n\n<p>These days I tend to let the higher levels of testing - integration and the like - exercise the DAO code hitting the actual database in doing so and hopefully catching the sort of errors I mentioned sooner rather than later.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375391192,"creation_date":1375391192,"answer_id":18004556,"question_id":1151550,"body_markdown":"[jOOQ][1] ships with a [`MockConnection`][2] that can be provided with a [`MockDataProvider`][3], which is much easier to implement than the complete JDBC API. This blog post shows how to use the MockConnection:\r\nhttp://blog.jooq.org/2013/02/20/easy-mocking-of-your-database/\r\n\r\nAn example:\r\n\r\n    MockDataProvider provider = new MockDataProvider() {\r\n     \r\n        // Your contract is to return execution results, given a context\r\n        // object, which contains SQL statement(s), bind values, and some\r\n        // other context values\r\n        @Override\r\n        public MockResult[] execute(MockExecuteContext context) \r\n        throws SQLException {\r\n     \r\n            // Use ordinary jOOQ API to create an org.jooq.Result object.\r\n            // You can also use ordinary jOOQ API to load CSV files or\r\n            // other formats, here!\r\n            DSLContext create = DSL.using(...);\r\n            Result&lt;MyTableRecord&gt; result = create.newResult(MY_TABLE);\r\n            result.add(create.newRecord(MY_TABLE));\r\n     \r\n            // Now, return 1-many results, depending on whether this is\r\n            // a batch/multi-result context\r\n            return new MockResult[] {\r\n                new MockResult(1, result)\r\n            };\r\n        }\r\n    };\r\n     \r\n    // Put your provider into a MockConnection and use that connection\r\n    // in your application. In this case, with a jOOQ DSLContext:\r\n    Connection connection = new MockConnection(provider);\r\n    DSLContext create = DSL.using(connection, dialect);\r\n     \r\n    // Done! just use regular jOOQ API. It will return the values\r\n    // that you&#39;ve specified in your MockDataProvider\r\n    assertEquals(1, create.selectOne().fetch().size());\r\n\r\nThere is also the [`MockFileDatabase`][4], which helps you matching dummy results with SQL strings by writing a text file like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    # This is a sample test database for MockFileDatabase\r\n    # Its syntax is inspired from H2&#39;s test script files\r\n     \r\n    # When this query is executed...\r\n    select &#39;A&#39; from dual;\r\n    # ... then, return the following result\r\n    &gt; A\r\n    &gt; -\r\n    &gt; A\r\n    @ rows: 1\r\n     \r\n    # Just list all possible query / result combinations\r\n    select &#39;A&#39;, &#39;B&#39; from dual;\r\n    &gt; A B\r\n    &gt; - -\r\n    &gt; A B\r\n    @ rows: 1\r\n     \r\n    select &quot;TABLE1&quot;.&quot;ID1&quot;, &quot;TABLE1&quot;.&quot;NAME1&quot; from &quot;TABLE1&quot;;\r\n    &gt; ID1 NAME1\r\n    &gt; --- -----\r\n    &gt; 1   X\r\n    &gt; 2   Y\r\n    @ rows: 2\r\n\r\n\r\n  [1]: http://www.jooq.org &quot;jOOQ is an internal domain-specific language modelling typesafe SQL in Java&quot;\r\n  [2]: http://www.jooq.org/javadoc/latest/org/jooq/tools/jdbc/MockConnection.html\r\n  [3]: http://www.jooq.org/javadoc/latest/org/jooq/tools/jdbc/MockDataProvider.html\r\n  [4]: http://www.jooq.org/javadoc/latest/org/jooq/tools/jdbc/MockFileDatabase.html","title":"Is there a set of stubs/mocks for JDBC available anywhere?","body":"<p><a href=\"http://www.jooq.org\" rel=\"nofollow\" title=\"jOOQ is an internal domain-specific language modelling typesafe SQL in Java\">jOOQ</a> ships with a <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/tools/jdbc/MockConnection.html\" rel=\"nofollow\"><code>MockConnection</code></a> that can be provided with a <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/tools/jdbc/MockDataProvider.html\" rel=\"nofollow\"><code>MockDataProvider</code></a>, which is much easier to implement than the complete JDBC API. This blog post shows how to use the MockConnection:\n<a href=\"http://blog.jooq.org/2013/02/20/easy-mocking-of-your-database/\" rel=\"nofollow\">http://blog.jooq.org/2013/02/20/easy-mocking-of-your-database/</a></p>\n\n<p>An example:</p>\n\n<pre><code>MockDataProvider provider = new MockDataProvider() {\n\n    // Your contract is to return execution results, given a context\n    // object, which contains SQL statement(s), bind values, and some\n    // other context values\n    @Override\n    public MockResult[] execute(MockExecuteContext context) \n    throws SQLException {\n\n        // Use ordinary jOOQ API to create an org.jooq.Result object.\n        // You can also use ordinary jOOQ API to load CSV files or\n        // other formats, here!\n        DSLContext create = DSL.using(...);\n        Result&lt;MyTableRecord&gt; result = create.newResult(MY_TABLE);\n        result.add(create.newRecord(MY_TABLE));\n\n        // Now, return 1-many results, depending on whether this is\n        // a batch/multi-result context\n        return new MockResult[] {\n            new MockResult(1, result)\n        };\n    }\n};\n\n// Put your provider into a MockConnection and use that connection\n// in your application. In this case, with a jOOQ DSLContext:\nConnection connection = new MockConnection(provider);\nDSLContext create = DSL.using(connection, dialect);\n\n// Done! just use regular jOOQ API. It will return the values\n// that you've specified in your MockDataProvider\nassertEquals(1, create.selectOne().fetch().size());\n</code></pre>\n\n<p>There is also the <a href=\"http://www.jooq.org/javadoc/latest/org/jooq/tools/jdbc/MockFileDatabase.html\" rel=\"nofollow\"><code>MockFileDatabase</code></a>, which helps you matching dummy results with SQL strings by writing a text file like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># This is a sample test database for MockFileDatabase\n# Its syntax is inspired from H2's test script files\n\n# When this query is executed...\nselect 'A' from dual;\n# ... then, return the following result\n&gt; A\n&gt; -\n&gt; A\n@ rows: 1\n\n# Just list all possible query / result combinations\nselect 'A', 'B' from dual;\n&gt; A B\n&gt; - -\n&gt; A B\n@ rows: 1\n\nselect \"TABLE1\".\"ID1\", \"TABLE1\".\"NAME1\" from \"TABLE1\";\n&gt; ID1 NAME1\n&gt; --- -----\n&gt; 1   X\n&gt; 2   Y\n@ rows: 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3062553,"reputation":9128,"user_id":3347384,"accept_rate":36,"display_name":"cchantep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543438844,"creation_date":1388480020,"answer_id":20854532,"question_id":1151550,"body_markdown":"If you want to test persistence layer (ORM, DAO, ...) is acting as expected according various JDBC cases (e.g. when it gets such result set/update count, then it should do this and that), then Acolyte framework must be considered.\r\n\r\nIt allow to build JDBC connection you manage throught handler, so you choose what is returned for each query/update: https://github.com/cchantep/acolyte\r\n\r\nDisclosure: this is my framework.","title":"Is there a set of stubs/mocks for JDBC available anywhere?","body":"<p>If you want to test persistence layer (ORM, DAO, ...) is acting as expected according various JDBC cases (e.g. when it gets such result set/update count, then it should do this and that), then Acolyte framework must be considered.</p>\n\n<p>It allow to build JDBC connection you manage throught handler, so you choose what is returned for each query/update: <a href=\"https://github.com/cchantep/acolyte\" rel=\"nofollow noreferrer\">https://github.com/cchantep/acolyte</a></p>\n\n<p>Disclosure: this is my framework.</p>\n"},{"tags":[],"owner":{"account_id":199153,"reputation":462,"user_id":444252,"display_name":"HariKrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692079912,"creation_date":1692079912,"answer_id":76903734,"question_id":1151550,"body_markdown":"[Specmatic][1] JDBC stub does exactly this. Here is a video showcasing the power of JDBC stubbing in Specmatic. https://www.youtube.com/watch?v=2-zqzBvFjnc \r\n\r\nSpecmatic allows you to define / record and replay expectations. Expectations are mappings of queries and results, I am guessing that is what you are looking for when you mentioned this.\r\n\r\n&gt; validate the generated SQL and possibly send back some preprogrammed results\r\n\r\nHere is an example.\r\n\r\n    {\r\n      &quot;query&quot;: &quot;select product0_.id as id1_0_0_, product0_.cost as cost2_0_0_, product0_.name as name3_0_0_ from product product0_ where product0_.id=1&quot;,\r\n      &quot;response&quot;: {\r\n        &quot;rows&quot;: [\r\n          {\r\n            &quot;id1_0_0_&quot;: 1,\r\n            &quot;cost2_0_0_&quot;: 100,\r\n            &quot;name3_0_0_&quot;: &quot;Artificial Lamp&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nThese expectations can be written by hand or recorded based on actual interactions between the API and a real database. This allows you to verify that your application is only interacting with the database as intended by you.\r\n\r\nHere is a [detailed writeup][2].\r\n\r\nHope this helps.\r\n\r\nDisclosure: I am co-founder and CTO at [Specmatic][1]\r\n\r\n\r\n  [1]: https://specmatic.in/\r\n  [2]: https://specmatic.in/updates/jdbc-stubbing-with-specmatic-contract-testing/","title":"Is there a set of stubs/mocks for JDBC available anywhere?","body":"<p><a href=\"https://specmatic.in/\" rel=\"nofollow noreferrer\">Specmatic</a> JDBC stub does exactly this. Here is a video showcasing the power of JDBC stubbing in Specmatic. <a href=\"https://www.youtube.com/watch?v=2-zqzBvFjnc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=2-zqzBvFjnc</a></p>\n<p>Specmatic allows you to define / record and replay expectations. Expectations are mappings of queries and results, I am guessing that is what you are looking for when you mentioned this.</p>\n<blockquote>\n<p>validate the generated SQL and possibly send back some preprogrammed results</p>\n</blockquote>\n<p>Here is an example.</p>\n<pre><code>{\n  &quot;query&quot;: &quot;select product0_.id as id1_0_0_, product0_.cost as cost2_0_0_, product0_.name as name3_0_0_ from product product0_ where product0_.id=1&quot;,\n  &quot;response&quot;: {\n    &quot;rows&quot;: [\n      {\n        &quot;id1_0_0_&quot;: 1,\n        &quot;cost2_0_0_&quot;: 100,\n        &quot;name3_0_0_&quot;: &quot;Artificial Lamp&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>These expectations can be written by hand or recorded based on actual interactions between the API and a real database. This allows you to verify that your application is only interacting with the database as intended by you.</p>\n<p>Here is a <a href=\"https://specmatic.in/updates/jdbc-stubbing-with-specmatic-contract-testing/\" rel=\"nofollow noreferrer\">detailed writeup</a>.</p>\n<p>Hope this helps.</p>\n<p>Disclosure: I am co-founder and CTO at <a href=\"https://specmatic.in/\" rel=\"nofollow noreferrer\">Specmatic</a></p>\n"}],"owner":{"account_id":27818,"reputation":39950,"user_id":73772,"accept_rate":80,"display_name":"Emil H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5863,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":1151586,"answer_count":7,"score":6,"last_activity_date":1692079912,"creation_date":1248058260,"question_id":1151550,"body_markdown":"For the past few years I&#39;ve continuously struggled with unit testing database code and all the pain that comes with it. I found this existing thread which I found very enlightening:\r\n\r\n* [What&#39;s the best strategy for unit testing databases?][1]\r\n\r\nThe author of the accepted answer suggests that it might be useful to mock the entire database layer in order to validate the generated SQL. I didn&#39;t think much of it when I first read the answer a few months ago, but recently I have observed several bugs caused by incorrectly generated SQL, wrongly assigned fields, and so on. I do realize that JDBC is rather bloated and error prone to use, but it isn&#39;t an option to switch to something different at this point.\r\n\r\nThe application in question is a batch processor of data feeds, and uses JDBC directly rather than an ORM. All JDBC code is separated into distinct DAO objects where each object has its own interface and stub, besides the actual implementations. This has allowed me to achieve good test coverage of the business layer, but the testing of the database layer is virtually non-existant.\r\n\r\n**Is there an existing stub implementation of the JDBC (java.sql) interfaces that can be injected into DAO classes and used to validate the generated SQL and possibly send back some preprogrammed results?**\r\n\r\n  [1]: https://stackoverflow.com/questions/145131/whats-the-best-strategy-for-unit-testing-database-driven-applications","title":"Is there a set of stubs/mocks for JDBC available anywhere?","body":"<p>For the past few years I've continuously struggled with unit testing database code and all the pain that comes with it. I found this existing thread which I found very enlightening:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/145131/whats-the-best-strategy-for-unit-testing-database-driven-applications\">What's the best strategy for unit testing databases?</a></li>\n</ul>\n\n<p>The author of the accepted answer suggests that it might be useful to mock the entire database layer in order to validate the generated SQL. I didn't think much of it when I first read the answer a few months ago, but recently I have observed several bugs caused by incorrectly generated SQL, wrongly assigned fields, and so on. I do realize that JDBC is rather bloated and error prone to use, but it isn't an option to switch to something different at this point.</p>\n\n<p>The application in question is a batch processor of data feeds, and uses JDBC directly rather than an ORM. All JDBC code is separated into distinct DAO objects where each object has its own interface and stub, besides the actual implementations. This has allowed me to achieve good test coverage of the business layer, but the testing of the database layer is virtually non-existant.</p>\n\n<p><strong>Is there an existing stub implementation of the JDBC (java.sql) interfaces that can be injected into DAO classes and used to validate the generated SQL and possibly send back some preprogrammed results?</strong></p>\n"},{"tags":["java","jtable","netbeans-8"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1692067738,"post_id":76903098,"comment_id":135571988,"body_markdown":"*I have no idea how to do that.* - do what? There are multiple steps to your question.  1) you need to create a JFrame with a JTable 2) You need to be able to select an item for which you want to create the notice. 3) You need to create a pdf document based on the selected row in the table. Solve one step at a time. If you have a problem with a step then ask a specific question about that step.","body":"<i>I have no idea how to do that.</i> - do what? There are multiple steps to your question.  1) you need to create a JFrame with a JTable 2) You need to be able to select an item for which you want to create the notice. 3) You need to create a pdf document based on the selected row in the table. Solve one step at a time. If you have a problem with a step then ask a specific question about that step."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692067978,"post_id":76903098,"comment_id":135572002,"body_markdown":"I would suggest having a look at jasper reports","body":"I would suggest having a look at jasper reports"},{"owner":{"account_id":23146104,"reputation":1,"user_id":17248832,"display_name":"Silent Romance"},"score":0,"creation_date":1692078185,"post_id":76903098,"comment_id":135572659,"body_markdown":"@camickr\nIn the 3rd step you mentioned, that&#39;s where I have a problem.\nhow to do your third step, thanks.","body":"@camickr In the 3rd step you mentioned, that&#39;s where I have a problem. how to do your third step, thanks."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692086081,"post_id":76903098,"comment_id":135573708,"body_markdown":"Why pdf particularly?","body":"Why pdf particularly?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1692106296,"post_id":76903098,"comment_id":135577351,"body_markdown":"I have no idea. So your question has nothing to do with a JTable. The question is how to create a PDF document in Java. Keep your questions simple and straight to the point. You have been given a suggestion to use Jasper reports. I don&#39;t know what it is but that would be a place to start I guess.","body":"I have no idea. So your question has nothing to do with a JTable. The question is how to create a PDF document in Java. Keep your questions simple and straight to the point. You have been given a suggestion to use Jasper reports. I don&#39;t know what it is but that would be a place to start I guess."}],"owner":{"account_id":23146104,"reputation":1,"user_id":17248832,"display_name":"Silent Romance"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692077726,"creation_date":1692065904,"question_id":76903098,"body_markdown":"I&#39;m new at programming and now I&#39;m trying a project in jTable where I will select a row and it will fetch the data and it will be open in pdf form or document . I have no idea how to do that.\r\n\r\n\r\nThis is what I want to happened.\r\n```\r\n|** Name    | Book Borrowed       |Date of Return |Date Today**\r\n:--------    :-----------          :---------      :---------\r\n| Billy     | Webster Dictionary  |July 28, 2023  |August 15, 2023\r\n| Cecille   | Encyclopedia A-Bh   |August 30, 2023|August 15, 2023\r\n```\r\nIf I select Billy, it will open in pdf or document.\r\nLike this.\r\n\r\nDocument sample:\r\n\r\n[![https://i.stack.imgur.com/PMhqV.png][1]][1]\r\n\r\nI&#39;d really appreciate your help, thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PMhqV.png","title":"How to view jTable selected rows in PDF form","body":"<p>I'm new at programming and now I'm trying a project in jTable where I will select a row and it will fetch the data and it will be open in pdf form or document . I have no idea how to do that.</p>\n<p>This is what I want to happened.</p>\n<pre><code>|** Name    | Book Borrowed       |Date of Return |Date Today**\n:--------    :-----------          :---------      :---------\n| Billy     | Webster Dictionary  |July 28, 2023  |August 15, 2023\n| Cecille   | Encyclopedia A-Bh   |August 30, 2023|August 15, 2023\n</code></pre>\n<p>If I select Billy, it will open in pdf or document.\nLike this.</p>\n<p>Document sample:</p>\n<p><a href=\"https://i.stack.imgur.com/PMhqV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PMhqV.png\" alt=\"https://i.stack.imgur.com/PMhqV.png\" /></a></p>\n<p>I'd really appreciate your help, thanks.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"score":2,"creation_date":1405676824,"post_id":24821804,"comment_id":38533877,"body_markdown":"http://stackoverflow.com/questions/4945178/cannot-run-eclipse-jvm-terminated-exit-code-13","body":"<a href=\"http://stackoverflow.com/questions/4945178/cannot-run-eclipse-jvm-terminated-exit-code-13\" title=\"cannot run eclipse jvm terminated exit code 13\">stackoverflow.com/questions/4945178/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2431730,"reputation":1425,"user_id":2122484,"accept_rate":75,"display_name":"Naveen Ramawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405681773,"creation_date":1405676910,"answer_id":24822033,"question_id":24821804,"body_markdown":"Make sure that the JVM version (32/64 bit) you use matches the eclipse version (32/64 bit).&lt;br&gt;Add this line in your sts.ini file and test again &lt;br&gt;-vm &lt;br&gt;/ur_java_home/bin/javaw.exe","title":"STS(Spring Tool Suite) Not opening","body":"<p>Make sure that the JVM version (32/64 bit) you use matches the eclipse version (32/64 bit).<br>Add this line in your sts.ini file and test again <br>-vm <br>/ur_java_home/bin/javaw.exe</p>\n"},{"tags":[],"owner":{"account_id":898365,"reputation":504,"user_id":935148,"display_name":"Rao Pathangi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419457251,"creation_date":1419457251,"answer_id":27642393,"question_id":24821804,"body_markdown":"First location to check is whether your JDK is 32 bit or 64 bit. Next, sheck your sts.ini configuration values. Trial and error will see you through.","title":"STS(Spring Tool Suite) Not opening","body":"<p>First location to check is whether your JDK is 32 bit or 64 bit. Next, sheck your sts.ini configuration values. Trial and error will see you through.</p>\n"},{"tags":[],"owner":{"account_id":3160267,"reputation":633,"user_id":2671590,"display_name":"DoesEatOats"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569598205,"creation_date":1569598205,"answer_id":58137495,"question_id":24821804,"body_markdown":"I finally got this to work\r\nNote that is on my system.\r\n\r\n\r\n`\r\n    -vm\r\n    C:/Program Files/Java/jre1.8.0_144/bin/javaw.exe\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar\r\n    –launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.551.v20171108-1834\r\n    -product\r\n    com.springsource.sts.ide\r\n    –launcher.defaultAction\r\n    openFile\r\n    –launcher.XXMaxPermSize\r\n    384M\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.6\r\n    -Xmn128m\r\n    -Xms256m\r\n    -Xmx768m\r\n    -Xss4m\r\n    -XX:PermSize=128m\r\n    -XX:MaxPermSize=384m\r\n    -XX:CompileThreshold=1000\r\n    -XX:+CMSIncrementalPacing\r\n    -XX:+UnlockExperimentalVMOptions\r\n    -XX:+UseG1GC\r\n    -XX:+UseFastAccessorMethods`","title":"STS(Spring Tool Suite) Not opening","body":"<p>I finally got this to work\nNote that is on my system.</p>\n\n<p><code>\n    -vm\n    C:/Program Files/Java/jre1.8.0_144/bin/javaw.exe\n    -startup\n    plugins/org.eclipse.equinox.launcher_1.4.0.v20161219-1356.jar\n    –launcher.library\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.1.551.v20171108-1834\n    -product\n    com.springsource.sts.ide\n    –launcher.defaultAction\n    openFile\n    –launcher.XXMaxPermSize\n    384M\n    -vmargs\n    -Dosgi.requiredJavaVersion=1.6\n    -Xmn128m\n    -Xms256m\n    -Xmx768m\n    -Xss4m\n    -XX:PermSize=128m\n    -XX:MaxPermSize=384m\n    -XX:CompileThreshold=1000\n    -XX:+CMSIncrementalPacing\n    -XX:+UnlockExperimentalVMOptions\n    -XX:+UseG1GC\n    -XX:+UseFastAccessorMethods</code></p>\n"},{"tags":[],"owner":{"account_id":27777584,"reputation":1,"user_id":21206623,"display_name":"Naresh Manthrabuddi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678989880,"creation_date":1678515947,"answer_id":75703191,"question_id":24821804,"body_markdown":"I got the same issue on Mac. If it is Mac, below is the fix. \r\n\r\nGo to the terminal and run the below command &amp; enter your login password.\r\n```\r\nsudo codesign --force --sign - /Applications/SpringToolSuite4.app\r\n```","title":"STS(Spring Tool Suite) Not opening","body":"<p>I got the same issue on Mac. If it is Mac, below is the fix.</p>\n<p>Go to the terminal and run the below command &amp; enter your login password.</p>\n<pre><code>sudo codesign --force --sign - /Applications/SpringToolSuite4.app\n</code></pre>\n"}],"owner":{"account_id":4345694,"reputation":31,"user_id":3547674,"display_name":"user3547674"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1692076055,"creation_date":1405676302,"question_id":24821804,"body_markdown":"I am not able to open the spring tool suite in the centos.\r\n\r\nFollowing is the exception which is causing this problem.:\r\n\r\n    JVM terminated. Exit code=13\r\n    /opt/jdk1.7.0_60/bin/java\r\n    -Dorg.eclipse.swt.browser.IEVersion=10001\r\n    -Dosgi.requiredJavaVersion=1.7\r\n    -Xms40m\r\n    -Xmx768m\r\n    -XX:MaxPermSize=256m  //plugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\r\n    -jar /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE\r\n    -os linux\r\n    -ws gtk\r\n    -arch x86_64\r\n    -showsplash  \r\n    -launcher /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE/STS\r\n    -name STS\r\n    --launcher.library /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.200.v20130807-1835/eclipse_1506.so\r\n    -startup /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE//plugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\r\n    --launcher.overrideVmargs\r\n    -exitdata 30000d\r\n    -product org.springsource.sts.ide\r\n    -vm /opt/jdk1.7.0_60/bin/java\r\n    -vmargs\r\n    -Dorg.eclipse.swt.browser.IEVersion=10001\r\n    -Dosgi.requiredJavaVersion=1.7\r\n    -Xms40m\r\n    -Xmx768m\r\n    -XX:MaxPermSize=256m\r\n    -jar /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE//plugins /org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\r\n\r\nHere is the output of the `java -version` command :-\r\n\r\n    java version &quot;1.7.0_60&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_60-b19)\r\n    Java HotSpot(TM) Server VM (build 24.60-b09, mixed mode)\r\n\r\nAnd here is the output of the `which java` command :-\r\n\r\n    /usr/bin/java\r\n    ","title":"STS(Spring Tool Suite) Not opening","body":"<p>I am not able to open the spring tool suite in the centos.</p>\n\n<p>Following is the exception which is causing this problem.:</p>\n\n<pre><code>JVM terminated. Exit code=13\n/opt/jdk1.7.0_60/bin/java\n-Dorg.eclipse.swt.browser.IEVersion=10001\n-Dosgi.requiredJavaVersion=1.7\n-Xms40m\n-Xmx768m\n-XX:MaxPermSize=256m  //plugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\n-jar /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE\n-os linux\n-ws gtk\n-arch x86_64\n-showsplash  \n-launcher /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE/STS\n-name STS\n--launcher.library /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.200.v20130807-1835/eclipse_1506.so\n-startup /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE//plugins/org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\n--launcher.overrideVmargs\n-exitdata 30000d\n-product org.springsource.sts.ide\n-vm /opt/jdk1.7.0_60/bin/java\n-vmargs\n-Dorg.eclipse.swt.browser.IEVersion=10001\n-Dosgi.requiredJavaVersion=1.7\n-Xms40m\n-Xmx768m\n-XX:MaxPermSize=256m\n-jar /home/kapil/Desktop/springsource/sts-3.4.0.RELEASE//plugins /org.eclipse.equinox.launcher_1.3.0.v20130327-1440.jar\n</code></pre>\n\n<p>Here is the output of the <code>java -version</code> command :-</p>\n\n<pre><code>java version \"1.7.0_60\"\nJava(TM) SE Runtime Environment (build 1.7.0_60-b19)\nJava HotSpot(TM) Server VM (build 24.60-b09, mixed mode)\n</code></pre>\n\n<p>And here is the output of the <code>which java</code> command :-</p>\n\n<pre><code>/usr/bin/java\n</code></pre>\n"},{"tags":["java","jmc"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1692042444,"post_id":75938716,"comment_id":135569585,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692032730,"creation_date":1692032730,"answer_id":76900871,"question_id":75938716,"body_markdown":"The params of events gathered by the JFR are controlled the JFC files. The JDK is packed with 2 of them:\r\n\r\n    $JAVA_HOME/lib/jfr/default.jfc\r\n    $JAVA_HOME/lib/jfr/profile.jfc\r\n\r\nThe default.jfc will collect less events than the profile.jfc file. \r\n\r\nVerify which of them is used when your Java process is launched. That&#39;s regarding the JFC file. \r\n\r\nNow, there are 2 ways to start up a JFR file, continuous recording and profiling recording, that will depend on what you are using in the JVM options. \r\n\r\n**Continuous Recording**\r\n\r\nWhen to use it? The issue is intermittent, recording a JFR continuously is required until the issue is replicated. At that moment, dump the recording into a JFR file.\r\n\r\nA temporary repository can be configured where temporary JFR files will be created. By default, it&#39;s located at the /tmp folder or java.io.tmpdir system property. *Don&#39;t process the JFR files under the temporary repository, those are just temporary files, they are incomplete.*\r\n\r\nAbout disk=[true|false] Specifies whether to write temporary data to the disk repository. By default, this parameter is set to false. To enable it, set the parameter to true. (star)\r\n\r\nOnce the issue is replicated it, use the JFR.dump command to create the JFR file. At that point, when you already have the desired evidence, the JFR can be stopped with JFR.stop.\r\n\r\n    -XX:+UnlockCommercialFeatures -XX:+FlightRecorder -XX:FlightRecorderOptions=defaultrecording=true,disk=true,repository=&lt;PATH&gt;\r\n\r\nAn alternative to dump the file once the process exits:\r\n\r\n    -XX:FlightRecorderOptions=defaultrecording=true,dumponexit=true,dumponexitpath=&lt;PATH&gt;\r\n\r\nSet path to the location where the recording should be saved. If you specify a directory, a file with the date and time as the name is created in that directory. If you specify a file name, that name is used. If you do not specify a path, the recording will be saved in the current directory.\r\n\r\nExample of the sequence of command for continuous recording:\r\n\r\n    JFR.start name=myrecording maxage=30m settings=[TEMPLATE].jfc\r\n    \r\n    JFR.check (optional)\r\n    \r\n    JFR.dump\r\n    \r\n    JFR.stop\r\n\r\n\r\n**Profiling Recording**\r\n\r\nThe issue is consistent. How to replicate it or when it&#39;s going to occur is known, hence you need a period of time to collect a JFR when you are sure the issue will be replicated at least once.\r\n\r\n    -XX:+UnlockCommercialFeatures -XX:+FlightRecorder\r\n\r\nExample of a sequence of commands for profiling recording:\r\n\r\n    JFR.start name=myrecording filename=myrecording.jfr duration=10m settings=[TEMPLATE].jfc\r\n    \r\n    JFR.check (optional)\r\n    \r\n    JFR.stop (optional)\r\n\r\n\r\nAt this point, the questions are:\r\n\r\n 1. Which recording mode fits better with your issue? \r\n 2. Are you using the right JVM options for the recording mode?\r\n 3. Which JFC file are you using?\r\n 4. Are you executing the sequence of JFR commands corresponding with\r\n    the recording mode?","title":"JDK Mission Control","body":"<p>The params of events gathered by the JFR are controlled the JFC files. The JDK is packed with 2 of them:</p>\n<pre><code>$JAVA_HOME/lib/jfr/default.jfc\n$JAVA_HOME/lib/jfr/profile.jfc\n</code></pre>\n<p>The default.jfc will collect less events than the profile.jfc file.</p>\n<p>Verify which of them is used when your Java process is launched. That's regarding the JFC file.</p>\n<p>Now, there are 2 ways to start up a JFR file, continuous recording and profiling recording, that will depend on what you are using in the JVM options.</p>\n<p><strong>Continuous Recording</strong></p>\n<p>When to use it? The issue is intermittent, recording a JFR continuously is required until the issue is replicated. At that moment, dump the recording into a JFR file.</p>\n<p>A temporary repository can be configured where temporary JFR files will be created. By default, it's located at the /tmp folder or java.io.tmpdir system property. <em>Don't process the JFR files under the temporary repository, those are just temporary files, they are incomplete.</em></p>\n<p>About disk=[true|false] Specifies whether to write temporary data to the disk repository. By default, this parameter is set to false. To enable it, set the parameter to true. (star)</p>\n<p>Once the issue is replicated it, use the JFR.dump command to create the JFR file. At that point, when you already have the desired evidence, the JFR can be stopped with JFR.stop.</p>\n<pre><code>-XX:+UnlockCommercialFeatures -XX:+FlightRecorder -XX:FlightRecorderOptions=defaultrecording=true,disk=true,repository=&lt;PATH&gt;\n</code></pre>\n<p>An alternative to dump the file once the process exits:</p>\n<pre><code>-XX:FlightRecorderOptions=defaultrecording=true,dumponexit=true,dumponexitpath=&lt;PATH&gt;\n</code></pre>\n<p>Set path to the location where the recording should be saved. If you specify a directory, a file with the date and time as the name is created in that directory. If you specify a file name, that name is used. If you do not specify a path, the recording will be saved in the current directory.</p>\n<p>Example of the sequence of command for continuous recording:</p>\n<pre><code>JFR.start name=myrecording maxage=30m settings=[TEMPLATE].jfc\n\nJFR.check (optional)\n\nJFR.dump\n\nJFR.stop\n</code></pre>\n<p><strong>Profiling Recording</strong></p>\n<p>The issue is consistent. How to replicate it or when it's going to occur is known, hence you need a period of time to collect a JFR when you are sure the issue will be replicated at least once.</p>\n<pre><code>-XX:+UnlockCommercialFeatures -XX:+FlightRecorder\n</code></pre>\n<p>Example of a sequence of commands for profiling recording:</p>\n<pre><code>JFR.start name=myrecording filename=myrecording.jfr duration=10m settings=[TEMPLATE].jfc\n\nJFR.check (optional)\n\nJFR.stop (optional)\n</code></pre>\n<p>At this point, the questions are:</p>\n<ol>\n<li>Which recording mode fits better with your issue?</li>\n<li>Are you using the right JVM options for the recording mode?</li>\n<li>Which JFC file are you using?</li>\n<li>Are you executing the sequence of JFR commands corresponding with\nthe recording mode?</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692075399,"creation_date":1692067059,"answer_id":76903141,"question_id":75938716,"body_markdown":"The missing data could be because the TLAB events were disabled when **jdk.ObjectAllocationSample** event was introduced. See [JDK 16][1] release notes. The new event has less overhead and can always be enabled.\r\n\r\n\r\nYou need to upgrade JMC to a release where the new event is visualized, not sure if has been implemented yet, or you can enable the old events on command-line (works for JDK 17, or later)\r\n\r\n\r\n    $ java -XX:StartFlightRecording:\r\n        jdk.ObjectAllocationInNewTLAB#enabled=true,\r\n        jdk.ObjectAllocationOutsideTLAB#enabled=true\r\n        myapp\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/16-relnote-issues.html#JDK-8257602","title":"JDK Mission Control","body":"<p>The missing data could be because the TLAB events were disabled when <strong>jdk.ObjectAllocationSample</strong> event was introduced. See <a href=\"https://www.oracle.com/java/technologies/javase/16-relnote-issues.html#JDK-8257602\" rel=\"nofollow noreferrer\">JDK 16</a> release notes. The new event has less overhead and can always be enabled.</p>\n<p>You need to upgrade JMC to a release where the new event is visualized, not sure if has been implemented yet, or you can enable the old events on command-line (works for JDK 17, or later)</p>\n<pre><code>$ java -XX:StartFlightRecording:\n    jdk.ObjectAllocationInNewTLAB#enabled=true,\n    jdk.ObjectAllocationOutsideTLAB#enabled=true\n    myapp\n</code></pre>\n"}],"owner":{"account_id":16399104,"reputation":47,"user_id":11845679,"display_name":"Emrahall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692075399,"creation_date":1680693135,"question_id":75938716,"body_markdown":"[![enter image description here][1]][1]When opening the tab of memory in jdk mission control with jfr file, it&#39;s getting nothing. İs there any parameters to setting the process which is I get jfr file. I&#39;ve just added that parameter to enable flight recorder.\r\n\r\n    java -XX:+UnlockCommercialFeatures -XX:+FlightRecorder ... myapp\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zvupW.png","title":"JDK Mission Control","body":"<p><a href=\"https://i.stack.imgur.com/zvupW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zvupW.png\" alt=\"enter image description here\" /></a>When opening the tab of memory in jdk mission control with jfr file, it's getting nothing. İs there any parameters to setting the process which is I get jfr file. I've just added that parameter to enable flight recorder.</p>\n<pre><code>java -XX:+UnlockCommercialFeatures -XX:+FlightRecorder ... myapp\n</code></pre>\n"},{"tags":["java","android","alarm","audio-player"],"owner":{"account_id":29117607,"reputation":1,"user_id":22305982,"display_name":"Hemanshu Sojitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692073528,"creation_date":1692024383,"question_id":76899973,"body_markdown":"each time i enters seconds after alarm should start then click start button then when i want to stop it it won&#39;t happen .\r\n\r\n\r\nbelow is my Xml file\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity7&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/edit1&quot;\r\n        android:padding=&quot;5sp&quot;\r\n        android:inputType=&quot;number&quot;\r\n        android:layout_margin=&quot;5sp&quot;\r\n        /&gt;\r\n&lt;RelativeLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    &gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;start&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_margin=&quot;5sp&quot;\r\n        /&gt;\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Stop&quot;\r\n        android:id=&quot;@+id/button3&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:padding=&quot;5sp&quot;\r\n        android:layout_margin=&quot;5sp&quot;\r\n        /&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\nhere is my Activity file \r\n\r\n\r\n```\r\npackage com.example.implementation;\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.PendingIntent;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity7 extends AppCompatActivity {\r\n\r\n    Button button1, button2;\r\n    EditText et1;\r\n    PendingIntent pendingIntent;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main7);\r\n\r\n        button1 = findViewById(R.id.button2);\r\n        button2 = findViewById(R.id.button3);\r\n        et1 = findViewById(R.id.edit1);\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startAlert();\r\n            }\r\n        });\r\n        button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                stopAlert();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void startAlert() {\r\n        int i = Integer.parseInt(et1.getText().toString());\r\n        Intent intent = new Intent(this, MyBroadcastReceiver.class);\r\n        intent.putExtra(&quot;j&quot;, &quot;1&quot;);\r\n        pendingIntent = PendingIntent.getBroadcast(\r\n                this.getApplicationContext(), 1, intent, PendingIntent.FLAG_MUTABLE);\r\n        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n        alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis()\r\n                + (i * 1000), pendingIntent);\r\n        Toast.makeText(this, &quot;Alarm set in &quot; + i + &quot; seconds&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    private void stopAlert() {\r\n        Intent stopIntent = new Intent();\r\n        stopIntent.setAction(&quot;com.example.implementation.STOP_ALARM&quot;);\r\n        sendBroadcast(stopIntent);\r\n        pendingIntent.cancel();\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nhere is my brodcastreciver class file \r\n\r\n\r\n```\r\npackage com.example.implementation;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.media.MediaPlayer;\r\nimport android.util.Log;\r\n\r\npublic class MyBroadcastReceiver extends BroadcastReceiver {\r\n    MediaPlayer mp;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        String action = intent.getAction();\r\n        if (action != null &amp;&amp; action.equals(&quot;com.example.implementation.STOP_ALARM&quot;)) {\r\n            stopAlarm();\r\n        } else {\r\n            String jValue = intent.getStringExtra(&quot;j&quot;);\r\n            if (jValue != null &amp;&amp; jValue.equals(&quot;1&quot;)) {\r\n                startAlarm(context);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void startAlarm(Context context) {\r\n        // Start the alarm (play sound or perform other actions)\r\n        mp = MediaPlayer.create(context, R.raw.audio1);\r\n        mp.start();\r\n        Log.d(&quot;MyBroadcastReceiver&quot;, &quot;Alarm started&quot;);\r\n    }\r\n\r\n    private void stopAlarm() {\r\n        // Stop the alarm (if it&#39;s playing)\r\n        if (mp != null &amp;&amp; mp.isPlaying()) {\r\n            mp.stop();\r\n        }\r\n        if (mp != null) {\r\n            mp.release();\r\n            mp = null;\r\n        }\r\n        Log.d(&quot;MyBroadcastReceiver&quot;, &quot;Alarm stopped&quot;);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nthis is my mainfest file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Implementation&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity7&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity6&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity1&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity5&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity4&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity3&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity2&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.MyBroadcastReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.example.implementation.CUSTOM_ALARM_ACTION&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\n\r\nI Have Pushed Both Chat gpt and Bard To Their limits But problem isn&#39;t solving. I I came to a conclusion that My receiver is not receiving broadcast .","title":"I Am Unable to stop my Alarm using stop button, I could only start it","body":"<p>each time i enters seconds after alarm should start then click start button then when i want to stop it it won't happen .</p>\n<p>below is my Xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity7&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/edit1&quot;\n        android:padding=&quot;5sp&quot;\n        android:inputType=&quot;number&quot;\n        android:layout_margin=&quot;5sp&quot;\n        /&gt;\n&lt;RelativeLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    &gt;\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;start&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_margin=&quot;5sp&quot;\n        /&gt;\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Stop&quot;\n        android:id=&quot;@+id/button3&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:padding=&quot;5sp&quot;\n        android:layout_margin=&quot;5sp&quot;\n        /&gt;\n&lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>here is my Activity file</p>\n<pre><code>package com.example.implementation;\n\nimport android.app.AlarmManager;\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity7 extends AppCompatActivity {\n\n    Button button1, button2;\n    EditText et1;\n    PendingIntent pendingIntent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main7);\n\n        button1 = findViewById(R.id.button2);\n        button2 = findViewById(R.id.button3);\n        et1 = findViewById(R.id.edit1);\n        button1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startAlert();\n            }\n        });\n        button2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                stopAlert();\n            }\n        });\n\n    }\n\n    private void startAlert() {\n        int i = Integer.parseInt(et1.getText().toString());\n        Intent intent = new Intent(this, MyBroadcastReceiver.class);\n        intent.putExtra(&quot;j&quot;, &quot;1&quot;);\n        pendingIntent = PendingIntent.getBroadcast(\n                this.getApplicationContext(), 1, intent, PendingIntent.FLAG_MUTABLE);\n        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n        alarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis()\n                + (i * 1000), pendingIntent);\n        Toast.makeText(this, &quot;Alarm set in &quot; + i + &quot; seconds&quot;, Toast.LENGTH_LONG).show();\n    }\n\n    private void stopAlert() {\n        Intent stopIntent = new Intent();\n        stopIntent.setAction(&quot;com.example.implementation.STOP_ALARM&quot;);\n        sendBroadcast(stopIntent);\n        pendingIntent.cancel();\n    }\n\n}\n\n\n</code></pre>\n<p>here is my brodcastreciver class file</p>\n<pre><code>package com.example.implementation;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.media.MediaPlayer;\nimport android.util.Log;\n\npublic class MyBroadcastReceiver extends BroadcastReceiver {\n    MediaPlayer mp;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        String action = intent.getAction();\n        if (action != null &amp;&amp; action.equals(&quot;com.example.implementation.STOP_ALARM&quot;)) {\n            stopAlarm();\n        } else {\n            String jValue = intent.getStringExtra(&quot;j&quot;);\n            if (jValue != null &amp;&amp; jValue.equals(&quot;1&quot;)) {\n                startAlarm(context);\n            }\n        }\n    }\n\n    private void startAlarm(Context context) {\n        // Start the alarm (play sound or perform other actions)\n        mp = MediaPlayer.create(context, R.raw.audio1);\n        mp.start();\n        Log.d(&quot;MyBroadcastReceiver&quot;, &quot;Alarm started&quot;);\n    }\n\n    private void stopAlarm() {\n        // Stop the alarm (if it's playing)\n        if (mp != null &amp;&amp; mp.isPlaying()) {\n            mp.stop();\n        }\n        if (mp != null) {\n            mp.release();\n            mp = null;\n        }\n        Log.d(&quot;MyBroadcastReceiver&quot;, &quot;Alarm stopped&quot;);\n    }\n}\n\n\n</code></pre>\n<p>this is my mainfest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:enabled=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Implementation&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity7&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity6&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity1&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity5&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity4&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity3&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity2&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;receiver\n            android:name=&quot;.MyBroadcastReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.example.implementation.CUSTOM_ALARM_ACTION&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I Have Pushed Both Chat gpt and Bard To Their limits But problem isn't solving. I I came to a conclusion that My receiver is not receiving broadcast .</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1692068739,"post_id":76903211,"comment_id":135572045,"body_markdown":"the ternary operator is a condensed form of if-else that _returns a value_. Meaning, when you are using an int and a char together, it casts the char to an int value (ascii) since you cant return two different types. This should be an implicit cast. though I m not too sure why nothing happens when you use the primitive int literal 0","body":"the ternary operator is a condensed form of if-else that <i>returns a value</i>. Meaning, when you are using an int and a char together, it casts the char to an int value (ascii) since you cant return two different types. This should be an implicit cast. though I m not too sure why nothing happens when you use the primitive int literal 0"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1692069396,"post_id":76903211,"comment_id":135572081,"body_markdown":"ok, i did some reading up and based on what i read: alpha is a char and 0 is a value that fits into a char (int literal is a compile time constant) so it is still a char, however, if you use a int variable,  because an int has a range of values that does not fit into a char, but a char can fit into the int, the char &#39;A&#39; gets promoted to an int and the overall returned value is an int","body":"ok, i did some reading up and based on what i read: alpha is a char and 0 is a value that fits into a char (int literal is a compile time constant) so it is still a char, however, if you use a int variable,  because an int has a range of values that does not fit into a char, but a char can fit into the int, the char &#39;A&#39; gets promoted to an int and the overall returned value is an int"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1692069495,"post_id":76903211,"comment_id":135572091,"body_markdown":"You can try testing it out with the following `System.out.println(trueExp ? alpha : 65536); System.out.println(trueExp ? alpha : foo);` where 65536 is the max int value a char variable can store + 1","body":"You can try testing it out with the following <code>System.out.println(trueExp ? alpha : 65536); System.out.println(trueExp ? alpha : foo);</code> where 65536 is the max int value a char variable can store + 1"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1692070010,"post_id":76903211,"comment_id":135572124,"body_markdown":"I m kinda waiting for a more experienced member of SO to give an in depth answer, because i m kinda having a hard time putting it into words and using correct terminology","body":"I m kinda waiting for a more experienced member of SO to give an in depth answer, because i m kinda having a hard time putting it into words and using correct terminology"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692078319,"post_id":76903211,"comment_id":135572671,"body_markdown":"in short: since the literal `0` is a valid `char`, the expression can/will result in a `char` (if you used `-1` or a value greater than `65535`, which is not a valid `char`, the result will be an `int` - the first operand must be converted to `int`). For the second case, there is no option: the *smallest* type for `char` and `int` is `int`","body":"in short: since the literal <code>0</code> is a valid <code>char</code>, the expression can/will result in a <code>char</code> (if you used <code>-1</code> or a value greater than <code>65535</code>, which is not a valid <code>char</code>, the result will be an <code>int</code> - the first operand must be converted to <code>int</code>). For the second case, there is no option: the <i>smallest</i> type for <code>char</code> and <code>int</code> is <code>int</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1692078578,"post_id":76903211,"comment_id":135572695,"body_markdown":"For details, see the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.25.2): &quot; If one of the operands is of type T where T is byte, short, or char, and the other operand is a constant expression (&#167;15.29) of type int whose value is representable in type T, then the type of the conditional expression is T. ... Otherwise, general numeric promotion (&#167;5.6) is applied to the second and third operands, and the type of the conditional expression is the promoted type of the second and third operands.&quot;","body":"For details, see the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.25.2\" rel=\"nofollow noreferrer\">Java Language Specification</a>: &quot; If one of the operands is of type T where T is byte, short, or char, and the other operand is a constant expression (&#167;15.29) of type int whose value is representable in type T, then the type of the conditional expression is T. ... Otherwise, general numeric promotion (&#167;5.6) is applied to the second and third operands, and the type of the conditional expression is the promoted type of the second and third operands.&quot;"},{"owner":{"account_id":29226594,"reputation":1,"user_id":22391147,"display_name":"Alex.Ren"},"score":0,"creation_date":1692081677,"post_id":76903211,"comment_id":135573048,"body_markdown":"Thanks for all the answering, I think I figure it out. You guys are the best!","body":"Thanks for all the answering, I think I figure it out. You guys are the best!"}],"owner":{"account_id":29226594,"reputation":1,"user_id":22391147,"display_name":"Alex.Ren"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692072794,"creation_date":1692068521,"question_id":76903211,"body_markdown":"```\r\nchar alpha = &#39;A&#39;;\r\nint foo = 65;\r\nboolean trueExp = true;\r\nSystem.out.println(trueExp ? alpha : 0);\r\nSystem.out.println(trueExp ? alpha : foo);\r\n```\r\nCan somebody explain why the first output is&#39;A&#39; but the second one is 65?\r\n\r\nI tried different values of foo and it tirns out it doesn&#39;t matter. 65 is exactly the Ascii code for letter &#39;A&#39;. What I don&#39;t understand is why in the first output the &#39;A&#39; is treated as Ascii code but in the second one it&#39;s not.","title":"data types in ternary operators in Java","body":"<pre><code>char alpha = 'A';\nint foo = 65;\nboolean trueExp = true;\nSystem.out.println(trueExp ? alpha : 0);\nSystem.out.println(trueExp ? alpha : foo);\n</code></pre>\n<p>Can somebody explain why the first output is'A' but the second one is 65?</p>\n<p>I tried different values of foo and it tirns out it doesn't matter. 65 is exactly the Ascii code for letter 'A'. What I don't understand is why in the first output the 'A' is treated as Ascii code but in the second one it's not.</p>\n"},{"tags":["java","pdf","itext","ondemand"],"comments":[{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":1,"creation_date":1458574584,"post_id":36134854,"comment_id":59909054,"body_markdown":"Is it me, or is this question just non sense? Can you please rephrase it? Seems like you are making some assumptions about the PDF file format that are wrong.","body":"Is it me, or is this question just non sense? Can you please rephrase it? Seems like you are making some assumptions about the PDF file format that are wrong."}],"answers":[{"tags":[],"owner":{"account_id":1857684,"reputation":6670,"user_id":1682924,"display_name":"David van Driessche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458575453,"creation_date":1458575453,"answer_id":36135704,"question_id":36134854,"body_markdown":"You cannot do this in any way. Please read the PDF file format specification (here amongst other places http://www.adobe.com/devnet/pdf/pdf_reference.html).\r\n\r\nA PDF file contains &quot;objects&quot; and a page has both a page description recorded in a stream object and can (and mostly will) use various other objects that in all likelihood are scattered around the file.\r\n\r\nYou misunderstand how PDF files are built and you need to understand before you start stumbling around in trying to implement this or you&#39;re going to waste a lot of time.","title":"Split PDF using offset and length- IBM ONDEMAND (combined PDF)","body":"<p>You cannot do this in any way. Please read the PDF file format specification (here amongst other places <a href=\"http://www.adobe.com/devnet/pdf/pdf_reference.html\" rel=\"nofollow\">http://www.adobe.com/devnet/pdf/pdf_reference.html</a>).</p>\n\n<p>A PDF file contains \"objects\" and a page has both a page description recorded in a stream object and can (and mostly will) use various other objects that in all likelihood are scattered around the file.</p>\n\n<p>You misunderstand how PDF files are built and you need to understand before you start stumbling around in trying to implement this or you're going to waste a lot of time.</p>\n"},{"tags":[],"owner":{"account_id":2309566,"reputation":221,"user_id":2028011,"accept_rate":20,"display_name":"Magesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1458589957,"creation_date":1458589102,"answer_id":36140079,"question_id":36134854,"body_markdown":"This question need to be asked on IBM Ondemand forum. I thought i can make use of Itext to crack it down. As mentioned by  David we cannot deal with these kind of unstructured PDF by using Itext.  Below given the code snippet to solve the problem.\r\n\r\nBoth the PDF are merged using plain java. The merged file will have two EOF,header and trailer information. \r\n\r\nWhen you open in Acrobat it will read the last document information and display. When we pass the length and index to ondemand it will split the PDF and display as expected.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tString sourceFile1Path = &quot;C:\\\\sample1.PDF&quot;;\r\n\t\tString sourceFile2Path = &quot;C:\\\\sample1.PDF&quot;;\r\n\r\n\t\tString mergedFilePath = &quot;C:\\\\merged.PDF&quot;;\r\n\r\n\t\tFile[] files = new File[2];\r\n\t\tfiles[0] = new File(sourceFile1Path);\r\n\t\tfiles[1] = new File(sourceFile2Path);\r\n\r\n\t\tFile mergedFile = new File(mergedFilePath);\r\n\t\tfor (File file : files) {\r\n\t\t\tFileWriter fstream = null;\r\n\t\t\tBufferedWriter out = null;\r\n\t\t\tfstream = new FileWriter(mergedFile, true);\r\n\t\t\tout = new BufferedWriter(fstream);\r\n\r\n\t\t\tFileInputStream fis = new FileInputStream(file);\r\n\t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(fis));\r\n\r\n\t\t\tString aLine;\r\n\t\t\twhile ((aLine = in.readLine()) != null) {\r\n\t\t\t\tout.write(aLine);\r\n\t\t\t\tout.newLine();\r\n\t\t\t}\r\n            out.close();\r\n\t\t\tfstream.close();\r\n\t\t\tfis.close();\r\n\t\t\tin.close();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;File Length: &quot; + file.getName()\t+ &quot; : &quot; + new File(mergedFilePath).length());\r\n\t\t}\r\n\t}","title":"Split PDF using offset and length- IBM ONDEMAND (combined PDF)","body":"<p>This question need to be asked on IBM Ondemand forum. I thought i can make use of Itext to crack it down. As mentioned by  David we cannot deal with these kind of unstructured PDF by using Itext.  Below given the code snippet to solve the problem.</p>\n\n<p>Both the PDF are merged using plain java. The merged file will have two EOF,header and trailer information. </p>\n\n<p>When you open in Acrobat it will read the last document information and display. When we pass the length and index to ondemand it will split the PDF and display as expected.</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    String sourceFile1Path = \"C:\\\\sample1.PDF\";\n    String sourceFile2Path = \"C:\\\\sample1.PDF\";\n\n    String mergedFilePath = \"C:\\\\merged.PDF\";\n\n    File[] files = new File[2];\n    files[0] = new File(sourceFile1Path);\n    files[1] = new File(sourceFile2Path);\n\n    File mergedFile = new File(mergedFilePath);\n    for (File file : files) {\n        FileWriter fstream = null;\n        BufferedWriter out = null;\n        fstream = new FileWriter(mergedFile, true);\n        out = new BufferedWriter(fstream);\n\n        FileInputStream fis = new FileInputStream(file);\n        BufferedReader in = new BufferedReader(new InputStreamReader(fis));\n\n        String aLine;\n        while ((aLine = in.readLine()) != null) {\n            out.write(aLine);\n            out.newLine();\n        }\n        out.close();\n        fstream.close();\n        fis.close();\n        in.close();\n\n        System.out.println(\"File Length: \" + file.getName() + \" : \" + new File(mergedFilePath).length());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2309566,"reputation":221,"user_id":2028011,"accept_rate":20,"display_name":"Magesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1692071016,"creation_date":1458573255,"question_id":36134854,"body_markdown":"Need to get the offset and byte length of each page in a PDF.For Example first page offset value will be 0 and length will be the byte length of the page.\r\n\r\nI have a requirement to pass index file for a PDF to IBM Ondemand tool, it is a PDF repository. I need to merge individual PDF files calculate the offset and length of each PDF, create an index file with these two parameters and pass it to the tool. \r\n\r\nThe tool will make use of the index file to split the PDF(multiple PDF combined into single) based on the offset and length passed as properties (Index file).\r\n\r\nI used itext to get the beginning and end of the page using bookmark. Need to calculate the offset and length of the bytes for each page. \r\n\r\nSuggest is there is any way to get the index(start of the page) and end of the page in terms of bytes.\r\n\r\nAny help would be appreciated\r\n\r\n","title":"Split PDF using offset and length- IBM ONDEMAND (combined PDF)","body":"<p>Need to get the offset and byte length of each page in a PDF.For Example first page offset value will be 0 and length will be the byte length of the page.</p>\n\n<p>I have a requirement to pass index file for a PDF to IBM Ondemand tool, it is a PDF repository. I need to merge individual PDF files calculate the offset and length of each PDF, create an index file with these two parameters and pass it to the tool. </p>\n\n<p>The tool will make use of the index file to split the PDF(multiple PDF combined into single) based on the offset and length passed as properties (Index file).</p>\n\n<p>I used itext to get the beginning and end of the page using bookmark. Need to calculate the offset and length of the bytes for each page. </p>\n\n<p>Suggest is there is any way to get the index(start of the page) and end of the page in terms of bytes.</p>\n\n<p>Any help would be appreciated</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":2,"creation_date":1509003627,"post_id":7290777,"comment_id":80843977,"body_markdown":"please note that it is better to accept the best answer and not the first correct one. you stated yourself that the answer by peter lawrey might be better. for the sake of all people coming here in the future looking for the best answer: please consider accepting a different answer!","body":"please note that it is better to accept the best answer and not the first correct one. you stated yourself that the answer by peter lawrey might be better. for the sake of all people coming here in the future looking for the best answer: please consider accepting a different answer!"}],"answers":[{"tags":[],"owner":{"account_id":280425,"reputation":21283,"user_id":576119,"display_name":"momo"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1374183086,"creation_date":1315017392,"answer_id":7290812,"question_id":7290777,"body_markdown":"Java supports [Custom Serialization](http://www.oracle.com/technetwork/articles/java/javaserial-1536170.html). Read the section Customize the Default Protocol.\r\n\r\nTo quote:\r\n\r\n&gt; There is, however, a strange yet crafty solution. By using a built-in\r\n&gt; feature of the serialization mechanism, developers can enhance the\r\n&gt; normal process by providing two methods inside their class files.\r\n&gt; Those methods are: &lt;ul&gt;\r\n&gt;     &lt;li&gt;private void writeObject(ObjectOutputStream out) throws\r\n&gt; IOException;\r\n&gt;     &lt;li&gt;private void readObject(ObjectInputStream in) throws\r\n&gt; IOException, ClassNotFoundException; &lt;/ul&gt;\r\n\r\nIn this method, what you could do is serialize it into other forms if you need to such as the ArrayList for Location that you illustrated or JSON or other data format/method and reconstruct it back on readObject()\r\n\r\nWith your example, you add the following code:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\nprivate void writeObject(ObjectOutputStream oos)\r\nthrows IOException {\r\n    // default serialization \r\n    oos.defaultWriteObject();\r\n    // write the object\r\n    List&lt;Integer&gt; loc = new ArrayList&lt;Integer&gt;();\r\n    loc.add(location.x);\r\n    loc.add(location.y);\r\n    loc.add(location.z);\r\n    loc.add(location.uid);\r\n    oos.writeObject(loc);\r\n}\r\n\r\nprivate void readObject(ObjectInputStream ois)\r\nthrows ClassNotFoundException, IOException {\r\n    // default deserialization\r\n    ois.defaultReadObject();\r\n    List&lt;Integer&gt; loc = (List&lt;Integer&gt;)ois.readObject(); // Replace with real deserialization\r\n    location = new Location(loc.get(0), loc.get(1), loc.get(2), loc.get(3));\r\n    // ... more code\r\n\r\n}\r\n\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Java Custom Serialization","body":"<p>Java supports <a href=\"http://www.oracle.com/technetwork/articles/java/javaserial-1536170.html\">Custom Serialization</a>. Read the section Customize the Default Protocol.</p>\n\n<p>To quote:</p>\n\n<blockquote>\n  <p>There is, however, a strange yet crafty solution. By using a built-in\n  feature of the serialization mechanism, developers can enhance the\n  normal process by providing two methods inside their class files.\n  Those methods are: <ul>\n      <li>private void writeObject(ObjectOutputStream out) throws\n  IOException;\n      <li>private void readObject(ObjectInputStream in) throws\n  IOException, ClassNotFoundException; </ul></p>\n</blockquote>\n\n<p>In this method, what you could do is serialize it into other forms if you need to such as the ArrayList for Location that you illustrated or JSON or other data format/method and reconstruct it back on readObject()</p>\n\n<p>With your example, you add the following code:</p>\n\n<pre><code>\n\nprivate void writeObject(ObjectOutputStream oos)\nthrows IOException {\n    // default serialization \n    oos.defaultWriteObject();\n    // write the object\n    List loc = new ArrayList();\n    loc.add(location.x);\n    loc.add(location.y);\n    loc.add(location.z);\n    loc.add(location.uid);\n    oos.writeObject(loc);\n}\n\nprivate void readObject(ObjectInputStream ois)\nthrows ClassNotFoundException, IOException {\n    // default deserialization\n    ois.defaultReadObject();\n    List loc = (List)ois.readObject(); // Replace with real deserialization\n    location = new Location(loc.get(0), loc.get(1), loc.get(2), loc.get(3));\n    // ... more code\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1315036591,"creation_date":1315036591,"answer_id":7291889,"question_id":7290777,"body_markdown":"If it must be Java serialization, the only way I know of is to redefine the `readObject()` and `writeObject()` in all classes having a reference to an instance of `Location` as shown in Momo&#39;s answer. Note that this will not allow you to serialize a `Location[]`, and require you to subclass all `Collection&lt;Location&gt;` appearing in your code. Moreover, it requires the fields of type `Location` to be marked transient, which will exclude their definitions from being written to the serialization stream, possible foiling the detection of incompatible class changes. \r\n\r\nA better way would be to simply override `ObjectOutputStream.writeObject`. Alas, that method is `final`. You could override `ObjectOutputStream.writeObjectOverride()` instead, but that method can not delegate the default implementation, `ObjectOutputStream.writeObject0()` because that method is `private`. Of course, you could invoke the private method using reflection, but ...\r\n\r\nTherefore, I recommend verifying your constraints. Does it have to be Java serialization? Can you really not change the definition of class `Location`?\r\n\r\nIf you have the source code to class `Location`, it&#39;s quite trivial to add `implements Serializable` and add it to your classpath. Yes, you&#39;ll have to do this again whenever you upgrade the library, but it might be better than the alternative ...\r\n\r\n","title":"Java Custom Serialization","body":"<p>If it must be Java serialization, the only way I know of is to redefine the <code>readObject()</code> and <code>writeObject()</code> in all classes having a reference to an instance of <code>Location</code> as shown in Momo's answer. Note that this will not allow you to serialize a <code>Location[]</code>, and require you to subclass all <code>Collection&lt;Location&gt;</code> appearing in your code. Moreover, it requires the fields of type <code>Location</code> to be marked transient, which will exclude their definitions from being written to the serialization stream, possible foiling the detection of incompatible class changes. </p>\n\n<p>A better way would be to simply override <code>ObjectOutputStream.writeObject</code>. Alas, that method is <code>final</code>. You could override <code>ObjectOutputStream.writeObjectOverride()</code> instead, but that method can not delegate the default implementation, <code>ObjectOutputStream.writeObject0()</code> because that method is <code>private</code>. Of course, you could invoke the private method using reflection, but ...</p>\n\n<p>Therefore, I recommend verifying your constraints. Does it have to be Java serialization? Can you really not change the definition of class <code>Location</code>?</p>\n\n<p>If you have the source code to class <code>Location</code>, it's quite trivial to add <code>implements Serializable</code> and add it to your classpath. Yes, you'll have to do this again whenever you upgrade the library, but it might be better than the alternative ...</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1315038599,"creation_date":1315038599,"answer_id":7292035,"question_id":7290777,"body_markdown":"Similar to @momo&#39;s answer but without using a List and auto-boxed int values which will make it much more compact.\r\n\r\n\r\n    private void writeObject(ObjectOutputStream oos) throws IOException {\r\n        // default serialization \r\n        oos.defaultWriteObject();\r\n        // write the object\r\n        oos.writeInt(location.x);\r\n        oos.writeInt(location.y);\r\n        oos.writeInt(location.z);\r\n        oos.writeInt(location.uid);\r\n    }\r\n    \r\n    private void readObject(ObjectInputStream ois) throws ClassNotFoundException, IOException {\r\n        // default deserialization\r\n        ois.defaultReadObject();\r\n        location = new Location(ois.readInt(), ois.readInt(), ois.readInt(), ois.readInt());\r\n        // ... more code\r\n    \r\n    }\r\n\r\n","title":"Java Custom Serialization","body":"<p>Similar to @momo's answer but without using a List and auto-boxed int values which will make it much more compact.</p>\n\n<pre><code>private void writeObject(ObjectOutputStream oos) throws IOException {\n    // default serialization \n    oos.defaultWriteObject();\n    // write the object\n    oos.writeInt(location.x);\n    oos.writeInt(location.y);\n    oos.writeInt(location.z);\n    oos.writeInt(location.uid);\n}\n\nprivate void readObject(ObjectInputStream ois) throws ClassNotFoundException, IOException {\n    // default deserialization\n    ois.defaultReadObject();\n    location = new Location(ois.readInt(), ois.readInt(), ois.readInt(), ois.readInt());\n    // ... more code\n\n}\n</code></pre>\n"}],"owner":{"account_id":212518,"reputation":43399,"user_id":465378,"accept_rate":85,"display_name":"Alexis King"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80483,"favorite_count":0,"down_vote_count":1,"up_vote_count":68,"accepted_answer_id":7290812,"answer_count":3,"score":67,"last_activity_date":1692070513,"creation_date":1315016950,"question_id":7290777,"body_markdown":"I have an object that contains a few unserializable fields that I want to serialize. They are from a separate API that I cannot change, so making them Serializable is not an option. The main problem is the Location class. It contains four things that can be serialized that I&#39;d need, all ints. How can I use read/writeObject to create a custom serialization method that can do something like this:\r\n\r\n    // writeObject:\r\n    List&lt;Integer&gt; loc = new ArrayList&lt;Integer&gt;();\r\n    loc.add(location.x);\r\n    loc.add(location.y);\r\n    loc.add(location.z);\r\n    loc.add(location.uid);\r\n    // ... serialization code\r\n\r\n    // readObject:\r\n    List&lt;Integer&gt; loc = deserialize(); // Replace with real deserialization\r\n    location = new Location(loc.get(0), loc.get(1), loc.get(2), loc.get(3));\r\n    // ... more code\r\n\r\nHow can I do this?","title":"Java Custom Serialization","body":"<p>I have an object that contains a few unserializable fields that I want to serialize. They are from a separate API that I cannot change, so making them Serializable is not an option. The main problem is the Location class. It contains four things that can be serialized that I'd need, all ints. How can I use read/writeObject to create a custom serialization method that can do something like this:</p>\n\n<pre><code>// writeObject:\nList&lt;Integer&gt; loc = new ArrayList&lt;Integer&gt;();\nloc.add(location.x);\nloc.add(location.y);\nloc.add(location.z);\nloc.add(location.uid);\n// ... serialization code\n\n// readObject:\nList&lt;Integer&gt; loc = deserialize(); // Replace with real deserialization\nlocation = new Location(loc.get(0), loc.get(1), loc.get(2), loc.get(3));\n// ... more code\n</code></pre>\n\n<p>How can I do this?</p>\n"},{"tags":["java","java-8","java-stream","bigdecimal"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692055398,"post_id":76902648,"comment_id":135571148,"body_markdown":"The relevance of [tag:rest] and [tag:spring-data] escapes me.","body":"The relevance of <a href=\"https://stackoverflow.com/questions/tagged/rest\">rest</a> and <a href=\"https://stackoverflow.com/questions/tagged/spring-data\">spring-data</a> escapes me."}],"answers":[{"tags":[],"owner":{"account_id":18271532,"reputation":24,"user_id":13302222,"display_name":"Marzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692067271,"creation_date":1692067271,"answer_id":76903152,"question_id":76902648,"body_markdown":"1)if you want to sum them to a single Bigdecimal.\r\n replace the method reference `EstadoCuentaVendedorDto::getSaldoPendiente` to a lambda should work `dto-&gt;dto.getSaldoPendienteNoMoroso().add(dto.getSaldoPendienteMoroso())`\r\n\r\n2)if you want to do two sum in one groupBy. to define a class holds the two begdecimals and change the reduce \r\n```\r\nclass Holder{\r\nBigdecimal valA;\r\nBigdecimal valB;\r\n//all args constructor\r\n}\r\n\r\nCollectors.reducing(\r\n//create a empty Holder\r\nnew Holder(Bigdecimal.ZERO,Bigdecimal.ZERO),\r\n//save data from dto to holder\r\ndto-&gt;new Holder(dto.getSaldoPendienteNoMoroso(),dto.getSaldoPendienteMoroso()),\r\n// sum and return \r\n(a,b)-&gt;new Holder(a.getValA().add(b.getValA(),a.getValB().add(b.getValB)\r\n);\r\n\r\n```","title":"How to add more than two BigDecimals fields to calculate the sum in a By Collector grouping","body":"<p>1)if you want to sum them to a single Bigdecimal.\nreplace the method reference <code>EstadoCuentaVendedorDto::getSaldoPendiente</code> to a lambda should work <code>dto-&gt;dto.getSaldoPendienteNoMoroso().add(dto.getSaldoPendienteMoroso())</code></p>\n<p>2)if you want to do two sum in one groupBy. to define a class holds the two begdecimals and change the reduce</p>\n<pre><code>class Holder{\nBigdecimal valA;\nBigdecimal valB;\n//all args constructor\n}\n\nCollectors.reducing(\n//create a empty Holder\nnew Holder(Bigdecimal.ZERO,Bigdecimal.ZERO),\n//save data from dto to holder\ndto-&gt;new Holder(dto.getSaldoPendienteNoMoroso(),dto.getSaldoPendienteMoroso()),\n// sum and return \n(a,b)-&gt;new Holder(a.getValA().add(b.getValA(),a.getValB().add(b.getValB)\n);\n\n</code></pre>\n"}],"owner":{"account_id":19730530,"reputation":325,"user_id":19876130,"display_name":"jorge jesus achulla palacios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692067271,"creation_date":1692054799,"question_id":76902648,"body_markdown":"This is my method where I group the values ​​and perform a sum of all the outstanding balances of the client.\r\n\r\nBut I have two more values, which I need to calculate the sum:\r\n    ``` BigDecimal saldoPendienteMoroso; \r\n    BigDecimal saldoPendienteNoMoroso;``` \r\n\r\nMy problem is that, not if it can be sent in the same `groupingBy`:\r\n\r\n```public List&lt;EstadoCuentaVendedorDto&gt; agruparCliente(List&lt;EstadoCuentaVendedorDto&gt; data){\r\n        return data.stream().collect(Collectors.groupingBy(p -&gt; new TupleCliente(p.getNumeroDocumentoIdentidadCliente(),\r\n                        p.getRazonSocialCliente(),\r\n                        p.getNombreComercialCliente()\r\n                ), Collectors.reducing(BigDecimal.ZERO,\r\n                        EstadoCuentaVendedorDto::getSaldoPendiente,\r\n                        BigDecimal::add) ))\r\n\r\n                .entrySet()\r\n                .stream()\r\n\r\n                .map(p -&gt; new EstadoCuentaVendedorDto(p.getKey().getNumeroDocumentoIdentidadCliente(),\r\n                                p.getKey().getRazonSocialCliente(),\r\n                                p.getKey().getNombreComercialCliente(),\r\n                                p.getValue().setScale(2, BigDecimal.ROUND_HALF_EVEN)\r\n                        )\r\n                )\r\n                .collect(Collectors.toList());\r\n    }```","title":"How to add more than two BigDecimals fields to calculate the sum in a By Collector grouping","body":"<p>This is my method where I group the values ​​and perform a sum of all the outstanding balances of the client.</p>\n<p>But I have two more values, which I need to calculate the sum:\n<code> BigDecimal saldoPendienteMoroso;  BigDecimal saldoPendienteNoMoroso;</code></p>\n<p>My problem is that, not if it can be sent in the same <code>groupingBy</code>:</p>\n<pre><code>        return data.stream().collect(Collectors.groupingBy(p -&gt; new TupleCliente(p.getNumeroDocumentoIdentidadCliente(),\n                        p.getRazonSocialCliente(),\n                        p.getNombreComercialCliente()\n                ), Collectors.reducing(BigDecimal.ZERO,\n                        EstadoCuentaVendedorDto::getSaldoPendiente,\n                        BigDecimal::add) ))\n\n                .entrySet()\n                .stream()\n\n                .map(p -&gt; new EstadoCuentaVendedorDto(p.getKey().getNumeroDocumentoIdentidadCliente(),\n                                p.getKey().getRazonSocialCliente(),\n                                p.getKey().getNombreComercialCliente(),\n                                p.getValue().setScale(2, BigDecimal.ROUND_HALF_EVEN)\n                        )\n                )\n                .collect(Collectors.toList());\n    }```\n</code></pre>\n"},{"tags":["java","visual-studio-code","terminal"],"comments":[{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1692070129,"post_id":76902826,"comment_id":135572129,"body_markdown":"the code you have shown in your question post as text does not contain any such print statements. provide a [mre]. see also https://meta.stackoverflow.com/a/285557/11107541","body":"the code you have shown in your question post as text does not contain any such print statements. provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. see also <a href=\"https://meta.stackoverflow.com/a/285557/11107541\">meta.stackoverflow.com/a/285557/11107541</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1692067256,"creation_date":1692067256,"answer_id":76903151,"question_id":76902826,"body_markdown":"If you want clean output, add the following settings\r\n\r\n```json\r\n    &quot;code-runner.runInTerminal&quot;: false,\r\n    &quot;code-runner.clearPreviousOutput&quot;: true,\r\n    &quot;code-runner.showExecutionMessage&quot;: false,\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut the **OUTPUT** panel cannot receive user input, as you modified `&quot;code-runner.runInTerminal&quot;: true,`, you can let *Code Runner* run the script in the terminal. In this case your configuration is fine.\r\n\r\n```json\r\n    &quot;code-runner.executorMap&quot;: {\r\n        &quot;java&quot;: &quot;clear &amp;&amp; cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\r\n        &quot;python&quot;: &quot;clear &amp;&amp; python -u $fileName&quot;,\r\n    },\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x0LL5.png\r\n  [2]: https://i.stack.imgur.com/p6h5y.png","title":"How to set Code Runner on vscode to run Java Files correctly?","body":"<p>If you want clean output, add the following settings</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;code-runner.runInTerminal&quot;: false,\n    &quot;code-runner.clearPreviousOutput&quot;: true,\n    &quot;code-runner.showExecutionMessage&quot;: false,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x0LL5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x0LL5.png\" alt=\"enter image description here\" /></a></p>\n<p>But the <strong>OUTPUT</strong> panel cannot receive user input, as you modified <code>&quot;code-runner.runInTerminal&quot;: true,</code>, you can let <em>Code Runner</em> run the script in the terminal. In this case your configuration is fine.</p>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;code-runner.executorMap&quot;: {\n        &quot;java&quot;: &quot;clear &amp;&amp; cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;,\n        &quot;python&quot;: &quot;clear &amp;&amp; python -u $fileName&quot;,\n    },\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/p6h5y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p6h5y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28151801,"reputation":1,"user_id":21513195,"display_name":"qtta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76903151,"answer_count":1,"score":-2,"last_activity_date":1692067256,"creation_date":1692058815,"question_id":76902826,"body_markdown":"so I install Code Runner on Vscode because the main reason was that I wanted to hide the file path from the terminal so It&#39;s more clear what my Output is, I have a hard time to read all the output.\r\n\r\nAnd code runner have a few settings that we can change, the settings that I change were the following:\r\n\r\n* I change the Executor Map settings for Java and Python as you see below.\r\n[Java Executor Map Settings](https://i.stack.imgur.com/Rr0N1.png)\r\nBtw, the &quot;clear &amp;&amp;&quot; part it&#39;s so it hide the file path, so It&#39;s more clear and everything\r\n* Also I enabled that Code Runner runs on the terminal instead of the Output path\r\n\r\nAnd with this 2 simple settings applied the output of this code (Remember is Java):\r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe output is not what I expect it\r\n[Code Runner Output](https://i.stack.imgur.com/Og4Qi.png)\r\n\r\nI did the same thing with Python that looks like this:\r\n[Executor Map Settings for Python](https://i.stack.imgur.com/YN5ON.png)\r\n\r\nCode that I run:\r\n\r\n```\r\nprint(&quot;Hello World&quot;)\r\nprint(input(&quot;Name &quot;))\r\n```\r\n\r\n\r\nAnd the output looks like this:\r\n[Output](https://i.stack.imgur.com/ct4Fx.png)\r\n\r\nAs you can see the file path at start doesn&#39;t show\r\n\r\nI want the same results but with Java\r\n\r\n**If you want furder explanation let me know, I&#39;m not a native english speaker and I hope you could help me and understand me**","title":"How to set Code Runner on vscode to run Java Files correctly?","body":"<p>so I install Code Runner on Vscode because the main reason was that I wanted to hide the file path from the terminal so It's more clear what my Output is, I have a hard time to read all the output.</p>\n<p>And code runner have a few settings that we can change, the settings that I change were the following:</p>\n<ul>\n<li>I change the Executor Map settings for Java and Python as you see below.\n<a href=\"https://i.stack.imgur.com/Rr0N1.png\" rel=\"nofollow noreferrer\">Java Executor Map Settings</a>\nBtw, the &quot;clear &amp;&amp;&quot; part it's so it hide the file path, so It's more clear and everything</li>\n<li>Also I enabled that Code Runner runs on the terminal instead of the Output path</li>\n</ul>\n<p>And with this 2 simple settings applied the output of this code (Remember is Java):</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>The output is not what I expect it\n<a href=\"https://i.stack.imgur.com/Og4Qi.png\" rel=\"nofollow noreferrer\">Code Runner Output</a></p>\n<p>I did the same thing with Python that looks like this:\n<a href=\"https://i.stack.imgur.com/YN5ON.png\" rel=\"nofollow noreferrer\">Executor Map Settings for Python</a></p>\n<p>Code that I run:</p>\n<pre><code>print(&quot;Hello World&quot;)\nprint(input(&quot;Name &quot;))\n</code></pre>\n<p>And the output looks like this:\n<a href=\"https://i.stack.imgur.com/ct4Fx.png\" rel=\"nofollow noreferrer\">Output</a></p>\n<p>As you can see the file path at start doesn't show</p>\n<p>I want the same results but with Java</p>\n<p><strong>If you want furder explanation let me know, I'm not a native english speaker and I hope you could help me and understand me</strong></p>\n"},{"tags":["java","spring","react-native"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692078618,"post_id":76903115,"comment_id":135572702,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29226450,"reputation":58,"user_id":22391023,"display_name":"Yusuf Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692066402,"creation_date":1692066344,"question_id":76903115,"body_markdown":"I am developing a mobile phone app, and I am currently writing the backend for it with the Spring Framework in Java. I would like to support user sign-in with Google, Facebook, etc. via OAuth2.\r\n\r\nSpring supports OAuth2, and I got it to work with the Spring web app itself. However, the Spring app is going to be strictly a REST API that deals with user creation, sign in, and data. Therefore, I have run into the issue of figuring out what to do. I want this API to confirm OAuth2 logins and correlate that to registration/sign-in, accessing data, etc.\r\n\r\nI want the user to be able to sign-in through Google, Facebook, Apple, etc. on my mobile app frontend, but where my Spring backend is able to &quot;confirm&quot; the OAuth2 authentication &amp; sign-in after doing so. Then I can use the unique identifier tied to that to create an account for them in my own database.\r\n\r\nWhat would be an ideal approach for this?","title":"How use Spring OAuth2 authentication for user registration/sign-in for a mobile backend only?","body":"<p>I am developing a mobile phone app, and I am currently writing the backend for it with the Spring Framework in Java. I would like to support user sign-in with Google, Facebook, etc. via OAuth2.</p>\n<p>Spring supports OAuth2, and I got it to work with the Spring web app itself. However, the Spring app is going to be strictly a REST API that deals with user creation, sign in, and data. Therefore, I have run into the issue of figuring out what to do. I want this API to confirm OAuth2 logins and correlate that to registration/sign-in, accessing data, etc.</p>\n<p>I want the user to be able to sign-in through Google, Facebook, Apple, etc. on my mobile app frontend, but where my Spring backend is able to &quot;confirm&quot; the OAuth2 authentication &amp; sign-in after doing so. Then I can use the unique identifier tied to that to create an account for them in my own database.</p>\n<p>What would be an ideal approach for this?</p>\n"},{"tags":["java","php","android","mysql","localhost"],"comments":[{"owner":{"account_id":9714567,"reputation":798,"user_id":7641405,"display_name":"EraftYps"},"score":0,"creation_date":1592392249,"post_id":62427285,"comment_id":110407241,"body_markdown":"Instead of logging &quot;Catch 1&quot;, you should log the exception and include the error in the question.","body":"Instead of logging &quot;Catch 1&quot;, you should log the exception and include the error in the question."},{"owner":{"account_id":16145294,"reputation":61,"user_id":11655216,"display_name":"cesr"},"score":0,"creation_date":1592392488,"post_id":62427285,"comment_id":110407361,"body_markdown":"Thats what I tried but it didnt seem to work. But I figuerd it out and posted my solution. I hope it can help someone at least.","body":"Thats what I tried but it didnt seem to work. But I figuerd it out and posted my solution. I hope it can help someone at least."},{"owner":{"account_id":6023206,"reputation":7991,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1592395063,"post_id":62427285,"comment_id":110408637,"body_markdown":"`But in this code it always throws the &quot;Catch 1&quot; ` printing the exception and printing `Catch 1` isn&#39;t going to help you, you have to print the exception so that you can look at it and debug it","body":"<code>But in this code it always throws the &quot;Catch 1&quot; </code> printing the exception and printing <code>Catch 1</code> isn&#39;t going to help you, you have to print the exception so that you can look at it and debug it"},{"owner":{"account_id":16145294,"reputation":61,"user_id":11655216,"display_name":"cesr"},"score":0,"creation_date":1592404525,"post_id":62427285,"comment_id":110414187,"body_markdown":"As said above I tried to print the Error but I not managed to get the Error printed!","body":"As said above I tried to print the Error but I not managed to get the Error printed!"},{"owner":{"account_id":2063361,"reputation":31402,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":0,"creation_date":1592510514,"post_id":62427285,"comment_id":110460045,"body_markdown":"**Never store passwords in clear text or using MD5/SHA1!** Only store password hashes created using PHP&#39;s [`password_hash()`](https://php.net/manual/en/function.password-hash.php), which you can then verify using [`password_verify()`](https://php.net/manual/en/function.password-verify.php). Take a look at this post: [How to use password_hash](https://stackoverflow.com/q/30279321/1839439) and learn more about [bcrypt &amp; password hashing in PHP](https://stackoverflow.com/a/6337021/1839439)","body":"<b>Never store passwords in clear text or using MD5/SHA1!</b> Only store password hashes created using PHP&#39;s <a href=\"https://php.net/manual/en/function.password-hash.php\" rel=\"nofollow noreferrer\"><code>password_hash()</code></a>, which you can then verify using <a href=\"https://php.net/manual/en/function.password-verify.php\" rel=\"nofollow noreferrer\"><code>password_verify()</code></a>. Take a look at this post: <a href=\"https://stackoverflow.com/q/30279321/1839439\">How to use password_hash</a> and learn more about <a href=\"https://stackoverflow.com/a/6337021/1839439\">bcrypt &amp; password hashing in PHP</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1592513542,"post_id":62427285,"comment_id":110461343,"body_markdown":"What did you try to print the exception? You should do `ex.printStackTrace()` and then grab it out of the logcat - it will have a different tag, so make sure you don&#39;t have any tag filters.  We won&#39;t be able to know the problem without it.","body":"What did you try to print the exception? You should do <code>ex.printStackTrace()</code> and then grab it out of the logcat - it will have a different tag, so make sure you don&#39;t have any tag filters.  We won&#39;t be able to know the problem without it."},{"owner":{"account_id":16145294,"reputation":61,"user_id":11655216,"display_name":"cesr"},"score":0,"creation_date":1592557291,"post_id":62427285,"comment_id":110473847,"body_markdown":"Thanks for the comments I will edit my question and take your guys tipps to make my application secure! And sorry for not posting the error I just didnt know how to do it.","body":"Thanks for the comments I will edit my question and take your guys tipps to make my application secure! And sorry for not posting the error I just didnt know how to do it."},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1592565872,"post_id":62427285,"comment_id":110477776,"body_markdown":"Thanks for improving it!  I&#39;d vote to reopen, except now it&#39;s covered by https://stackoverflow.com/q/5806220/208273 and there&#39;s not a straightforward way to switch the close reason to &quot;Already has answers elsewhere.&quot;  Glad you figured it out!","body":"Thanks for improving it!  I&#39;d vote to reopen, except now it&#39;s covered by <a href=\"https://stackoverflow.com/q/5806220/208273\">stackoverflow.com/q/5806220/208273</a> and there&#39;s not a straightforward way to switch the close reason to &quot;Already has answers elsewhere.&quot;  Glad you figured it out!"}],"answers":[{"tags":[],"owner":{"account_id":16145294,"reputation":61,"user_id":11655216,"display_name":"cesr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592392420,"creation_date":1592392420,"answer_id":62427650,"question_id":62427285,"body_markdown":"I finally figured it out.\r\n\r\nI had the API running on a custom virtualhost, so the emulator could not connect to my custom virtualhost. I moved my API to the &quot;original&quot; localhost folder and edited my url in code.\r\nMy url now looks like this:\r\n```\r\nString url = &quot;http://10.0.2.2/test.php?username=&quot;+ username +&quot;&amp;password=&quot;+ password;\r\n```\r\nThe ip `10.0.2.2` I found out is a shortcut to your machines localhost.\r\n\r\nIf any questions occur I try my best to help!\r\n","title":"Connect my Android app trough an api to my server on my localhost","body":"<p>I finally figured it out.</p>\n\n<p>I had the API running on a custom virtualhost, so the emulator could not connect to my custom virtualhost. I moved my API to the \"original\" localhost folder and edited my url in code.\nMy url now looks like this:</p>\n\n<pre><code>String url = \"http://10.0.2.2/test.php?username=\"+ username +\"&amp;password=\"+ password;\n</code></pre>\n\n<p>The ip <code>10.0.2.2</code> I found out is a shortcut to your machines localhost.</p>\n\n<p>If any questions occur I try my best to help!</p>\n"}],"owner":{"account_id":16145294,"reputation":61,"user_id":11655216,"display_name":"cesr"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":62427650,"answer_count":1,"score":0,"last_activity_date":1692065191,"creation_date":1592391153,"question_id":62427285,"body_markdown":"I have a problem. I want to connect my android app to a PHP API which runs on my localhost. But in this code it always throws the &quot;Catch 1&quot; and I even tried to print the exception but it didn&#39;t work. \r\nHere is the code of my MainActivity:\r\n\r\n```\r\n    package com.example.dbtest;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n\r\n    import org.json.JSONObject;\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedReader;\r\n    import java.io.Console;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private EditText etUsername;\r\n    private EditText etPassword;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        etUsername = findViewById(R.id.editTextUsername);\r\n        etPassword = findViewById(R.id.editTextPassword);\r\n    }\r\n\r\n    public void register(View view) {\r\n        Log.d(&quot;MainActivity&quot;, &quot;Button clicked&quot;);\r\n        String username = etUsername.getText().toString();\r\n        String password = etPassword.getText().toString();\r\n        String url = &quot;http://app.test/test.php?username=&quot;+ username +&quot;&amp;password=&quot;+ password;\r\n        new MyAsyncTaskgetNews().execute(url);\r\n    }\r\n\r\n    public class MyAsyncTaskgetNews extends AsyncTask&lt;String, String, String&gt; {\r\n        @Override\r\n        protected void onPreExecute() {\r\n            //before works\r\n        }\r\n\r\n        @Override\r\n        protected String  doInBackground(String... params) {\r\n            Log.d(&quot;MainActivity&quot;,&quot;In Background&quot;);\r\n            // TODO Auto-generated method stub\r\n            try {\r\n                String NewsData;\r\n                //define the url we have to connect with\r\n                URL url = new URL(params[0]);\r\n                //make connect with url and send request\r\n                HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n                //waiting for 7000ms for response\r\n                urlConnection.setConnectTimeout(7000);//set timeout to 5 seconds\r\n\r\n                try {\r\n                    //getting the response data\r\n                    InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n                    //convert the stream to string\r\n                    NewsData = ConvertInputToStringNoChange(in);\r\n                    //send to display data\r\n                    publishProgress(NewsData);\r\n                } finally {\r\n                    //end connection\r\n                    urlConnection.disconnect();\r\n                }\r\n\r\n            }catch (Exception ex)\r\n            {\r\n                Log.d(&quot;MainActivity&quot;, &quot;Catch 1&quot;);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        protected void onProgressUpdate(String... progress) {\r\n            try {\r\n                Log.d(&quot;MainActivity&quot;,&quot;In Progress&quot;);\r\n                JSONObject json = new JSONObject(progress[0]);\r\n                //display response data\r\n                Toast.makeText(getApplicationContext(),json.getString(&quot;msg&quot;),Toast.LENGTH_LONG).show();\r\n\r\n            } catch (Exception ex) {\r\n                Log.d(&quot;MainActivity&quot;,&quot;Catch 2&quot;);\r\n            }\r\n        }\r\n\r\n        protected void onPostExecute(String  result2){\r\n        }\r\n    }\r\n\r\n    // this method convert any stream to string\r\n    public static String ConvertInputToStringNoChange(InputStream inputStream) {\r\n        BufferedReader bureader=new BufferedReader( new InputStreamReader(inputStream));\r\n        String line ;\r\n        String linereultcal=&quot;&quot;;\r\n\r\n        try{\r\n            while((line=bureader.readLine())!=null) {\r\n\r\n                linereultcal += line;\r\n\r\n            }\r\n            inputStream.close();\r\n\r\n\r\n        }catch (Exception ex){}\r\n\r\n        return linereultcal;\r\n    }\r\n}\r\n```\r\n\r\nMy PHP API is very simple so don&#39;t go too hard on me! But I checked multiple times that the API works I can successfully add data to my database! I think the problem is in my android code.\r\nHere is the code of my PHP API:\r\n\r\n```\r\n&lt;?php\r\n\r\n$host = &quot;localhost&quot;;\r\n$user = &quot;root&quot;;\r\n$DBpassword = &quot;admin123&quot;;\r\n$database = &quot;demo&quot;;\r\n$connect = mysqli_connect($host,$user,$DBpassword,$database);\r\n\r\nif(mysqli_connect_errno()) \r\n{\r\n    die(&quot;Error in connection: &quot; . mysqli_connect_errno());\r\n    return;\r\n}\r\n\r\n// get the data from html request\r\n$username = $_GET[&#39;username&#39;];\r\n$password = $_GET[&#39;password&#39;];\r\n\r\n// define the query\r\n$query = &quot;INSERT INTO user(username,password) values(&#39;$username&#39;,&#39;$password&#39;);&quot;;\r\n\r\n$result = mysqli_query($connect, $query);\r\n\r\nif(!$result) \r\n{\r\n    $output = &quot;{&#39;msg&#39;:&#39;Inserting failed&#39;}&quot;;\r\n}\r\nelse \r\n{\r\n    $output = &quot;{&#39;msg&#39;:&#39;Insterting succsessfull&#39;}&quot;;\r\n}\r\n\r\nprint($output);\r\n\r\nmysqli_close($connect);\r\n?&gt;\r\n```\r\n\r\nHere is my Stacktrace as requested!\r\n```\r\n2020-06-19 11:03:21.467 3017-3663/com.example.dbtest W/System.err: java.net.ConnectException: Connection refused\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:334)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:196)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.Socket.connect(Socket.java:605)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.Platform.connectSocket(Platform.java:113)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.Connection.connectSocket(Connection.java:196)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.Connection.connect(Connection.java:172)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.Connection.connectAndSetOwner(Connection.java:367)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.OkHttpClient$1.connectAndSetOwner(OkHttpClient.java:130)\r\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:329)\r\n2020-06-19 11:03:21.519 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:246)\r\n2020-06-19 11:03:21.519 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:457)\r\n2020-06-19 11:03:21.519 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:405)\r\n2020-06-19 11:03:21.519 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:243)\r\n2020-06-19 11:03:21.521 3017-3663/com.example.dbtest W/System.err:     at com.example.dbtest.MainActivity$MyAsyncTaskgetNews.doInBackground(MainActivity.java:69)\r\n2020-06-19 11:03:21.521 3017-3663/com.example.dbtest W/System.err:     at com.example.dbtest.MainActivity$MyAsyncTaskgetNews.doInBackground(MainActivity.java:44)\r\n2020-06-19 11:03:21.522 3017-3663/com.example.dbtest W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:305)\r\n2020-06-19 11:03:21.522 3017-3663/com.example.dbtest W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n2020-06-19 11:03:21.523 3017-3663/com.example.dbtest W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243)\r\n2020-06-19 11:03:21.523 3017-3663/com.example.dbtest W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\r\n2020-06-19 11:03:21.523 3017-3663/com.example.dbtest W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\r\n2020-06-19 11:03:21.523 3017-3663/com.example.dbtest W/System.err:     at java.lang.Thread.run(Thread.java:761)\r\n```\r\n\r\nDoes anyone have an idea what the problem could be? Any help is appreciated.\r\n\r\nPS: Sorry for my bad English, it&#39;s not my mother tongue.\r\n\r\n\r\n","title":"Connect my Android app trough an api to my server on my localhost","body":"<p>I have a problem. I want to connect my android app to a PHP API which runs on my localhost. But in this code it always throws the &quot;Catch 1&quot; and I even tried to print the exception but it didn't work.\nHere is the code of my MainActivity:</p>\n<pre><code>    package com.example.dbtest;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.os.AsyncTask;\n    import android.os.Bundle;\n    import android.util.Log;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.EditText;\n    import android.widget.Toast;\n\n    import org.json.JSONObject;\n\n    import java.io.BufferedInputStream;\n    import java.io.BufferedReader;\n    import java.io.Console;\n    import java.io.InputStream;\n    import java.io.InputStreamReader;\n    import java.net.HttpURLConnection;\n    import java.net.URL;\n\n    public class MainActivity extends AppCompatActivity {\n    private EditText etUsername;\n    private EditText etPassword;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        etUsername = findViewById(R.id.editTextUsername);\n        etPassword = findViewById(R.id.editTextPassword);\n    }\n\n    public void register(View view) {\n        Log.d(&quot;MainActivity&quot;, &quot;Button clicked&quot;);\n        String username = etUsername.getText().toString();\n        String password = etPassword.getText().toString();\n        String url = &quot;http://app.test/test.php?username=&quot;+ username +&quot;&amp;password=&quot;+ password;\n        new MyAsyncTaskgetNews().execute(url);\n    }\n\n    public class MyAsyncTaskgetNews extends AsyncTask&lt;String, String, String&gt; {\n        @Override\n        protected void onPreExecute() {\n            //before works\n        }\n\n        @Override\n        protected String  doInBackground(String... params) {\n            Log.d(&quot;MainActivity&quot;,&quot;In Background&quot;);\n            // TODO Auto-generated method stub\n            try {\n                String NewsData;\n                //define the url we have to connect with\n                URL url = new URL(params[0]);\n                //make connect with url and send request\n                HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n                //waiting for 7000ms for response\n                urlConnection.setConnectTimeout(7000);//set timeout to 5 seconds\n\n                try {\n                    //getting the response data\n                    InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n                    //convert the stream to string\n                    NewsData = ConvertInputToStringNoChange(in);\n                    //send to display data\n                    publishProgress(NewsData);\n                } finally {\n                    //end connection\n                    urlConnection.disconnect();\n                }\n\n            }catch (Exception ex)\n            {\n                Log.d(&quot;MainActivity&quot;, &quot;Catch 1&quot;);\n            }\n\n            return null;\n        }\n\n        protected void onProgressUpdate(String... progress) {\n            try {\n                Log.d(&quot;MainActivity&quot;,&quot;In Progress&quot;);\n                JSONObject json = new JSONObject(progress[0]);\n                //display response data\n                Toast.makeText(getApplicationContext(),json.getString(&quot;msg&quot;),Toast.LENGTH_LONG).show();\n\n            } catch (Exception ex) {\n                Log.d(&quot;MainActivity&quot;,&quot;Catch 2&quot;);\n            }\n        }\n\n        protected void onPostExecute(String  result2){\n        }\n    }\n\n    // this method convert any stream to string\n    public static String ConvertInputToStringNoChange(InputStream inputStream) {\n        BufferedReader bureader=new BufferedReader( new InputStreamReader(inputStream));\n        String line ;\n        String linereultcal=&quot;&quot;;\n\n        try{\n            while((line=bureader.readLine())!=null) {\n\n                linereultcal += line;\n\n            }\n            inputStream.close();\n\n\n        }catch (Exception ex){}\n\n        return linereultcal;\n    }\n}\n</code></pre>\n<p>My PHP API is very simple so don't go too hard on me! But I checked multiple times that the API works I can successfully add data to my database! I think the problem is in my android code.\nHere is the code of my PHP API:</p>\n<pre><code>&lt;?php\n\n$host = &quot;localhost&quot;;\n$user = &quot;root&quot;;\n$DBpassword = &quot;admin123&quot;;\n$database = &quot;demo&quot;;\n$connect = mysqli_connect($host,$user,$DBpassword,$database);\n\nif(mysqli_connect_errno()) \n{\n    die(&quot;Error in connection: &quot; . mysqli_connect_errno());\n    return;\n}\n\n// get the data from html request\n$username = $_GET['username'];\n$password = $_GET['password'];\n\n// define the query\n$query = &quot;INSERT INTO user(username,password) values('$username','$password');&quot;;\n\n$result = mysqli_query($connect, $query);\n\nif(!$result) \n{\n    $output = &quot;{'msg':'Inserting failed'}&quot;;\n}\nelse \n{\n    $output = &quot;{'msg':'Insterting succsessfull'}&quot;;\n}\n\nprint($output);\n\nmysqli_close($connect);\n?&gt;\n</code></pre>\n<p>Here is my Stacktrace as requested!</p>\n<pre><code>2020-06-19 11:03:21.467 3017-3663/com.example.dbtest W/System.err: java.net.ConnectException: Connection refused\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.PlainSocketImpl.socketConnect(Native Method)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:334)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:196)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:178)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:356)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at java.net.Socket.connect(Socket.java:605)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.Platform.connectSocket(Platform.java:113)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.Connection.connectSocket(Connection.java:196)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.Connection.connect(Connection.java:172)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.Connection.connectAndSetOwner(Connection.java:367)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.OkHttpClient$1.connectAndSetOwner(OkHttpClient.java:130)\n2020-06-19 11:03:21.518 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:329)\n2020-06-19 11:03:21.519 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:246)\n2020-06-19 11:03:21.519 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:457)\n2020-06-19 11:03:21.519 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:405)\n2020-06-19 11:03:21.519 3017-3663/com.example.dbtest W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:243)\n2020-06-19 11:03:21.521 3017-3663/com.example.dbtest W/System.err:     at com.example.dbtest.MainActivity$MyAsyncTaskgetNews.doInBackground(MainActivity.java:69)\n2020-06-19 11:03:21.521 3017-3663/com.example.dbtest W/System.err:     at com.example.dbtest.MainActivity$MyAsyncTaskgetNews.doInBackground(MainActivity.java:44)\n2020-06-19 11:03:21.522 3017-3663/com.example.dbtest W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:305)\n2020-06-19 11:03:21.522 3017-3663/com.example.dbtest W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n2020-06-19 11:03:21.523 3017-3663/com.example.dbtest W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:243)\n2020-06-19 11:03:21.523 3017-3663/com.example.dbtest W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n2020-06-19 11:03:21.523 3017-3663/com.example.dbtest W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n2020-06-19 11:03:21.523 3017-3663/com.example.dbtest W/System.err:     at java.lang.Thread.run(Thread.java:761)\n</code></pre>\n<p>Does anyone have an idea what the problem could be? Any help is appreciated.</p>\n<p>PS: Sorry for my bad English, it's not my mother tongue.</p>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1616776052,"post_id":66819246,"comment_id":118117687,"body_markdown":"Are you sure there were not exclusions defined in in Maven for these &quot;additional&quot; dependencies? Could you show the whole POM?","body":"Are you sure there were not exclusions defined in in Maven for these &quot;additional&quot; dependencies? Could you show the whole POM?"},{"owner":{"account_id":6847010,"reputation":1486,"user_id":5265472,"accept_rate":88,"display_name":"LunaticJape"},"score":0,"creation_date":1616780412,"post_id":66819246,"comment_id":118119495,"body_markdown":"The gradle file is generated by the maven migration plugin provided by gradle. I did not change anything manually.","body":"The gradle file is generated by the maven migration plugin provided by gradle. I did not change anything manually."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1616782754,"post_id":66819246,"comment_id":118120402,"body_markdown":"But maybe this migration plugin is not working 100% correctly? Couldn&#39;t you just show us the POM?","body":"But maybe this migration plugin is not working 100% correctly? Couldn&#39;t you just show us the POM?"}],"answers":[{"tags":[],"owner":{"account_id":2577405,"reputation":1258,"user_id":2234770,"accept_rate":97,"display_name":"snerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692045190,"creation_date":1692045190,"answer_id":76902004,"question_id":66819246,"body_markdown":"Gradle and Maven resolve dependency conflicts differently. The same raw dependency graph can therefore produce a different, final and resolved, dependency graph when both are used with default settings. \r\n\r\n[here is the section of the gradle docs that talk about the differences between how the two systems work.][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/dependency_resolution.html","title":"Why did new dependencies appear after migrating from maven to gradle","body":"<p>Gradle and Maven resolve dependency conflicts differently. The same raw dependency graph can therefore produce a different, final and resolved, dependency graph when both are used with default settings.</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/dependency_resolution.html\" rel=\"nofollow noreferrer\">here is the section of the gradle docs that talk about the differences between how the two systems work.</a></p>\n"},{"tags":[],"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692062577,"creation_date":1692062577,"answer_id":76902950,"question_id":66819246,"body_markdown":"This is a bug in Gradle: https://github.com/gradle/gradle/issues/26110\r\n\r\nOptional dependencies generally are treated correctly. But it seems Gradle does not ignore the surrounding spaces in the tag content while Maven ignores them.\r\n\r\nThe question is, where you have the POM from. I cannot find the mentioned dependency in any public Maven repository. It seems like this POM was somehow hand-crafted and not built by a tool, because any automatically generated POM should not have those spaces there and would thus be treated properly.\r\n\r\nSo if this is a POM you manually created, you could easily fix it by removing those spaces.","title":"Why did new dependencies appear after migrating from maven to gradle","body":"<p>This is a bug in Gradle: <a href=\"https://github.com/gradle/gradle/issues/26110\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/26110</a></p>\n<p>Optional dependencies generally are treated correctly. But it seems Gradle does not ignore the surrounding spaces in the tag content while Maven ignores them.</p>\n<p>The question is, where you have the POM from. I cannot find the mentioned dependency in any public Maven repository. It seems like this POM was somehow hand-crafted and not built by a tool, because any automatically generated POM should not have those spaces there and would thus be treated properly.</p>\n<p>So if this is a POM you manually created, you could easily fix it by removing those spaces.</p>\n"}],"owner":{"account_id":6847010,"reputation":1486,"user_id":5265472,"accept_rate":88,"display_name":"LunaticJape"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692062577,"creation_date":1616770451,"question_id":66819246,"body_markdown":"The app in my work is a maven application with a pom file inherited from a parent pom file. I followed the migration doc and did a scan for both maven and gradle build. But I noticed some dependency has a few additional child dependencies included in the gradle build? These dependencies are not existing and failed my build. How to fix it?\r\n\r\nHere is a comparison between the maven build report and the gradle build report.\r\n\r\n![](https://i.stack.imgur.com/2N9O9.jpg)\r\n\r\nThe top one is from gradle, the bottom one is from maven.\r\n\r\nUpdate:\r\nhere is the transitive dependencies that failed my gradle build. It seems `&lt;Optional&gt;true` does not work in gradle. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RoPad.png","title":"Why did new dependencies appear after migrating from maven to gradle","body":"<p>The app in my work is a maven application with a pom file inherited from a parent pom file. I followed the migration doc and did a scan for both maven and gradle build. But I noticed some dependency has a few additional child dependencies included in the gradle build? These dependencies are not existing and failed my build. How to fix it?</p>\n<p>Here is a comparison between the maven build report and the gradle build report.</p>\n<p><img src=\"https://i.stack.imgur.com/2N9O9.jpg\" alt=\"\" /></p>\n<p>The top one is from gradle, the bottom one is from maven.</p>\n<p>Update:\nhere is the transitive dependencies that failed my gradle build. It seems <code>&lt;Optional&gt;true</code> does not work in gradle.\n<a href=\"https://i.stack.imgur.com/RoPad.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RoPad.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1559923921,"post_id":56497893,"comment_id":99584753,"body_markdown":"Have you tried changing the return type of the method in your `flowRepo` interface to `Character`?  `char` is a primitive, and consequently `null` is _not_ a valid value for it.  `Character` is the respective wrapper class which _is_ a non-primitive `Object`, so `null` is fine there.","body":"Have you tried changing the return type of the method in your <code>flowRepo</code> interface to <code>Character</code>?  <code>char</code> is a primitive, and consequently <code>null</code> is <i>not</i> a valid value for it.  <code>Character</code> is the respective wrapper class which <i>is</i> a non-primitive <code>Object</code>, so <code>null</code> is fine there."},{"owner":{"account_id":15991795,"reputation":71,"user_id":11540767,"display_name":"Daya"},"score":0,"creation_date":1559935476,"post_id":56497893,"comment_id":99589503,"body_markdown":"Hi, I tried it just now and getting the null pointer exception now if (Character.toStringFl.findLatestSts(xrefId)) == null)\n\t\t\t\t\t{\n\t\t\t\t\t\t stepSts = &#39;N&#39;;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tstepSts = Fl.findLatestSts(xrefId);\n\t\t\t\t\t}  2019-06-07 15:23:24.808 ERROR 205008 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n\njava.lang.NullPointerException: null","body":"Hi, I tried it just now and getting the null pointer exception now if (Character.toStringFl.findLatestSts(xrefId)) == null) \t\t\t\t\t{ \t\t\t\t\t\t stepSts = &#39;N&#39;; \t\t\t\t\t} \t\t\t\t\telse \t\t\t\t\t{ \t\t\t\t\t\tstepSts = Fl.findLatestSts(xrefId); \t\t\t\t\t}  2019-06-07 15:23:24.808 ERROR 205008 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause  java.lang.NullPointerException: null"}],"answers":[{"tags":[],"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1576659282,"creation_date":1576659282,"answer_id":59388476,"question_id":56497893,"body_markdown":"Try to use `Character` instead of `char`. There is situation when your query return NULL and as you know primitive types in Java can not save Null inside. So, use Object of that type like `int -&gt; Integer, float -&gt; Float, char -&gt; Character`.\r\n\r\nOr, If you really need to work with primitive, put your method inside try-catch block, to handle that issue.","title":"org.springframework.aop.AopInvocationException: Null return value from advice does not match primitive return type for: public abstract char","body":"<p>Try to use <code>Character</code> instead of <code>char</code>. There is situation when your query return NULL and as you know primitive types in Java can not save Null inside. So, use Object of that type like <code>int -&gt; Integer, float -&gt; Float, char -&gt; Character</code>.</p>\n\n<p>Or, If you really need to work with primitive, put your method inside try-catch block, to handle that issue.</p>\n"},{"tags":[],"owner":{"account_id":20797851,"reputation":59,"user_id":15274531,"display_name":"lf.melo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692062347,"creation_date":1692062347,"answer_id":76902943,"question_id":56497893,"body_markdown":"Make sure you used the correct name for the repository, in my case I needed to fetch a user by email:\r\n\r\nWrong:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nCorret:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**JPA could not interpret the boolean query using &quot;find&quot; but using &quot;exists&quot;**\r\n\r\n  [1]: https://i.stack.imgur.com/lqqu8.png\r\n  [2]: https://i.stack.imgur.com/jRkdw.png","title":"org.springframework.aop.AopInvocationException: Null return value from advice does not match primitive return type for: public abstract char","body":"<p>Make sure you used the correct name for the repository, in my case I needed to fetch a user by email:</p>\n<p>Wrong:\n<a href=\"https://i.stack.imgur.com/lqqu8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqqu8.png\" alt=\"enter image description here\" /></a></p>\n<p>Corret:\n<a href=\"https://i.stack.imgur.com/jRkdw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jRkdw.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>JPA could not interpret the boolean query using &quot;find&quot; but using &quot;exists&quot;</strong></p>\n"}],"owner":{"account_id":15991795,"reputation":71,"user_id":11540767,"display_name":"Daya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27461,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1692062347,"creation_date":1559923676,"question_id":56497893,"body_markdown":"I have a table defined with column char and the repo I have defined a \r\nquery to return that column. Now when the data in the db table is null \r\nfor the specific condition its giving me the error: \r\n\r\n    org.springframework.aop.AopInvocationException: Null return value from \r\n    advice does not match primitive return type for: public abstract char\r\n\r\nBelow is the code snippet:\r\n```    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    \r\n    import com.marriott.sup.beans.StepWorkflow;\r\n    \r\n    public interface flowRepo extends JpaRepository&lt;StepWorkflow, Long&gt; {\r\n    \t\r\n    \t@Query(\r\n    \t\t\tvalue = &quot;SELECT s.status FROM flow s WHERE s.XREFID \r\n     = :xrefId order by &quot;\r\n    \t\t\t+ &quot;s.Datestarted desc limit 1&quot;,\r\n    \t\t\tnativeQuery = true)\r\n        public char findLatestSts(@Param(&quot;xrefId&quot;) Long xrefId);\r\n    \r\n    }\r\n    \r\n    public class flowService {\r\n    \t\r\n    \tpublic static char INPROGRESS = &#39;P&#39;;\r\n    \tpublic static char SUCCESS = &#39;S&#39;;\r\n    \tpublic static char ERROR = &#39;E&#39;;\r\n    \tpublic static char NOTSTARTED = &#39;N&#39;;\r\n    \r\n    \t@Autowired\r\n    \tprivate flowRepo Fl;\r\n    \r\n        /*some basic code in between and then i am trying to call the \r\n      function \r\n      defined in repo and assign it to a character variable\r\n    */\r\n    \r\n    Sts = Fl.findLatestSts(xrefId);\r\n    }\r\n```    \r\nI need this to not throw the error and instead assign some default value in case null.  Need help to fix the issue on how can I handle this.\r\n```\r\norg.springframework.aop.AopInvocationException: Null return value from advice does not match primitive return type for: public abstract char org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:226) at com.sun.proxy.$Proxy108.findLatestSts(Unknown Source) at com.marriott.sup.service.StepWorkflowService.getserverStepstatus(StepWorkflowService.java:79) at com.marriott.sup.web.SampleRestController.getServerStepStatus(SampleRestController.java:91) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n```","title":"org.springframework.aop.AopInvocationException: Null return value from advice does not match primitive return type for: public abstract char","body":"<p>I have a table defined with column char and the repo I have defined a \nquery to return that column. Now when the data in the db table is null \nfor the specific condition its giving me the error: </p>\n\n<pre><code>org.springframework.aop.AopInvocationException: Null return value from \nadvice does not match primitive return type for: public abstract char\n</code></pre>\n\n<p>Below is the code snippet:</p>\n\n<pre><code>    import org.springframework.data.jpa.repository.JpaRepository;\n    import org.springframework.data.jpa.repository.Query;\n    import org.springframework.data.repository.query.Param;\n\n    import com.marriott.sup.beans.StepWorkflow;\n\n    public interface flowRepo extends JpaRepository&lt;StepWorkflow, Long&gt; {\n\n        @Query(\n                value = \"SELECT s.status FROM flow s WHERE s.XREFID \n     = :xrefId order by \"\n                + \"s.Datestarted desc limit 1\",\n                nativeQuery = true)\n        public char findLatestSts(@Param(\"xrefId\") Long xrefId);\n\n    }\n\n    public class flowService {\n\n        public static char INPROGRESS = 'P';\n        public static char SUCCESS = 'S';\n        public static char ERROR = 'E';\n        public static char NOTSTARTED = 'N';\n\n        @Autowired\n        private flowRepo Fl;\n\n        /*some basic code in between and then i am trying to call the \n      function \n      defined in repo and assign it to a character variable\n    */\n\n    Sts = Fl.findLatestSts(xrefId);\n    }\n</code></pre>\n\n<p>I need this to not throw the error and instead assign some default value in case null.  Need help to fix the issue on how can I handle this.</p>\n\n<pre><code>org.springframework.aop.AopInvocationException: Null return value from advice does not match primitive return type for: public abstract char org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:226) at com.sun.proxy.$Proxy108.findLatestSts(Unknown Source) at com.marriott.sup.service.StepWorkflowService.getserverStepstatus(StepWorkflowService.java:79) at com.marriott.sup.web.SampleRestController.getServerStepStatus(SampleRestController.java:91) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n</code></pre>\n"},{"tags":["java","annotations","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1691979075,"post_id":76881429,"comment_id":135559226,"body_markdown":"Welcome to SO. Interesting question. Next time, please provide an [MCVE](https://stackoverflow.com/help/mcve) like I did in my answer. It took me some time to recreate your situation with the information you provided. BTW, your aspect declares `OneToOne`, while your error message says that you are trying to declare `OneToMany`. That does not make things any easier either.","body":"Welcome to SO. Interesting question. Next time, please provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> like I did in my answer. It took me some time to recreate your situation with the information you provided. BTW, your aspect declares <code>OneToOne</code>, while your error message says that you are trying to declare <code>OneToMany</code>. That does not make things any easier either."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692062016,"creation_date":1691978679,"answer_id":76895913,"question_id":76881429,"body_markdown":"You got the syntax slightly wrong:\r\n\r\n```java\r\ndeclare @field :\r\n  (@javax.persistence.OneToOne *) foo.bar.MyEntity : \r\n  @org.hibernate.annotations.Cache(usage = org.hibernate.annotations.CacheConcurrencyStrategy.READ_ONLY);\r\n```\r\n\r\nhas a problem: The parenthesised `(@javax.persistence.OneToOne *)` means to target a return type that is annotated. You ought to omit the parentheses, then the annotation will apply to the field definition as such. Here is a reproducer in plain Java + AspectJ with faked annotations:\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic enum CacheConcurrencyStrategy {\r\n  NONE, NONSTRICT_READ_WRITE, READ_ONLY, READ_WRITE, TRANSACTIONAL\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport static java.lang.annotation.ElementType.FIELD;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RUNTIME)\r\n@Target(FIELD)\r\npublic @interface Cache {\r\n  CacheConcurrencyStrategy usage();\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\nimport static java.lang.annotation.ElementType.FIELD;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RUNTIME)\r\n@Target(FIELD)\r\npublic @interface OneToMany {}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Application {\r\n  @OneToMany\r\n  int id;\r\n  String name;\r\n\r\n  public static void main(String[] args) throws NoSuchFieldException, SecurityException {\r\n    System.out.println(\r\n      Application.class\r\n        .getDeclaredField(&quot;id&quot;)\r\n        .getDeclaredAnnotation(Cache.class)\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nRunning this without any aspects will print `null` on the console. Now add this aspect:\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport de.scrum_master.app.Cache;\r\nimport de.scrum_master.app.OneToMany;\r\nimport de.scrum_master.app.CacheConcurrencyStrategy;\r\nimport de.scrum_master.app.Application;\r\n\r\npublic aspect FieldAnnotationAspect {\r\n  declare @field :\r\n    @OneToMany * Application.* : @Cache(usage = CacheConcurrencyStrategy.READ_ONLY);\r\n}\r\n```\r\n\r\nThe console log now says:\r\n\r\n```none\r\n@de.scrum_master.app.Cache(usage=READ_ONLY)\r\n```\r\n\r\nIt works, q.e.d. &#128521;","title":"Add a new annotation to a member annotated itself with a specific annotation","body":"<p>You got the syntax slightly wrong:</p>\n<pre class=\"lang-java prettyprint-override\"><code>declare @field :\n  (@javax.persistence.OneToOne *) foo.bar.MyEntity : \n  @org.hibernate.annotations.Cache(usage = org.hibernate.annotations.CacheConcurrencyStrategy.READ_ONLY);\n</code></pre>\n<p>has a problem: The parenthesised <code>(@javax.persistence.OneToOne *)</code> means to target a return type that is annotated. You ought to omit the parentheses, then the annotation will apply to the field definition as such. Here is a reproducer in plain Java + AspectJ with faked annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic enum CacheConcurrencyStrategy {\n  NONE, NONSTRICT_READ_WRITE, READ_ONLY, READ_WRITE, TRANSACTIONAL\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport static java.lang.annotation.ElementType.FIELD;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\n@Retention(RUNTIME)\n@Target(FIELD)\npublic @interface Cache {\n  CacheConcurrencyStrategy usage();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\nimport static java.lang.annotation.ElementType.FIELD;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.Target;\n\n@Retention(RUNTIME)\n@Target(FIELD)\npublic @interface OneToMany {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  @OneToMany\n  int id;\n  String name;\n\n  public static void main(String[] args) throws NoSuchFieldException, SecurityException {\n    System.out.println(\n      Application.class\n        .getDeclaredField(&quot;id&quot;)\n        .getDeclaredAnnotation(Cache.class)\n    );\n  }\n}\n</code></pre>\n<p>Running this without any aspects will print <code>null</code> on the console. Now add this aspect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport de.scrum_master.app.Cache;\nimport de.scrum_master.app.OneToMany;\nimport de.scrum_master.app.CacheConcurrencyStrategy;\nimport de.scrum_master.app.Application;\n\npublic aspect FieldAnnotationAspect {\n  declare @field :\n    @OneToMany * Application.* : @Cache(usage = CacheConcurrencyStrategy.READ_ONLY);\n}\n</code></pre>\n<p>The console log now says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>@de.scrum_master.app.Cache(usage=READ_ONLY)\n</code></pre>\n<p>It works, q.e.d. 😉</p>\n"}],"owner":{"account_id":29204341,"reputation":1,"user_id":22373766,"display_name":"kartoffel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692062016,"creation_date":1691738249,"question_id":76881429,"body_markdown":"I&#39;d like to add an annotation to every member of a class, where the member itself is annotated with a specific annotation. I&#39;ll have to extend third-party code, to make it ready for Hibernate Second Level Cache - in this case, to add i.e. `@org.hibernate.annotations.Cache(usage = org.hibernate.annotations.CacheConcurrencyStrategy.READ_ONLY)` to the specific fields\r\n\r\nI&#39;m using https://mvnrepository.com/artifact/org.aspectj/aspectjrt/1.9.9.1 and https://mvnrepository.com/artifact/org.aspectj/aspectjtools/1.9.9.1\r\n\r\n```\r\npublic aspect EntityAspect {        \r\n    declare @field : (@javax.persistence.OneToOne *) foo.bar.MyEntity : @org.hibernate.annotations.Cache(usage = org.hibernate.annotations.CacheConcurrencyStrategy.READ_ONLY);\r\n}\r\n```\r\n\r\nThe goal: Annotate every member of `foo.bar.MyEntity`, which has the `@OneToOne` annotation, additionally with `@Cache`.\r\n\r\nThe pattern seems to work, but AspectJ tells me\r\n\r\n```none\r\n[java]      [iajc] warning at declare @field : (@javax.persistence.OneToMany *) foo.bar.MyEntity : @org.hibernate.annotations.Cache(usage = org.hibernate.annotations.CacheConcurrencyStrategy.READ_ONLY);\r\n  [java]      [iajc]                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  [java]      [iajc] [..]\\EntityAspect.aj:5:0::0 does not match because annotation @javax.persistence.OneToMany has @Target{ElementType.FIELD,ElementType.METHOD} [Xlint:unmatchedTargetKind]\r\n```\r\n\r\nYes, the `@OneToMany` annotation has the `@Target` annotation - do I also have to declare that? And how?","title":"Add a new annotation to a member annotated itself with a specific annotation","body":"<p>I'd like to add an annotation to every member of a class, where the member itself is annotated with a specific annotation. I'll have to extend third-party code, to make it ready for Hibernate Second Level Cache - in this case, to add i.e. <code>@org.hibernate.annotations.Cache(usage = org.hibernate.annotations.CacheConcurrencyStrategy.READ_ONLY)</code> to the specific fields</p>\n<p>I'm using <a href=\"https://mvnrepository.com/artifact/org.aspectj/aspectjrt/1.9.9.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.aspectj/aspectjrt/1.9.9.1</a> and <a href=\"https://mvnrepository.com/artifact/org.aspectj/aspectjtools/1.9.9.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.aspectj/aspectjtools/1.9.9.1</a></p>\n<pre><code>public aspect EntityAspect {        \n    declare @field : (@javax.persistence.OneToOne *) foo.bar.MyEntity : @org.hibernate.annotations.Cache(usage = org.hibernate.annotations.CacheConcurrencyStrategy.READ_ONLY);\n}\n</code></pre>\n<p>The goal: Annotate every member of <code>foo.bar.MyEntity</code>, which has the <code>@OneToOne</code> annotation, additionally with <code>@Cache</code>.</p>\n<p>The pattern seems to work, but AspectJ tells me</p>\n<pre class=\"lang-none prettyprint-override\"><code>[java]      [iajc] warning at declare @field : (@javax.persistence.OneToMany *) foo.bar.MyEntity : @org.hibernate.annotations.Cache(usage = org.hibernate.annotations.CacheConcurrencyStrategy.READ_ONLY);\n  [java]      [iajc]                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  [java]      [iajc] [..]\\EntityAspect.aj:5:0::0 does not match because annotation @javax.persistence.OneToMany has @Target{ElementType.FIELD,ElementType.METHOD} [Xlint:unmatchedTargetKind]\n</code></pre>\n<p>Yes, the <code>@OneToMany</code> annotation has the <code>@Target</code> annotation - do I also have to declare that? And how?</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-webclient","publisher"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692038388,"post_id":76901098,"comment_id":135568941,"body_markdown":"Reactor doesn&#39;t provide any caching layer, but you can use any existing library or a plain `Map` for caching, then check for an existing value before making the call. And put one on `doOnNext`.","body":"Reactor doesn&#39;t provide any caching layer, but you can use any existing library or a plain <code>Map</code> for caching, then check for an existing value before making the call. And put one on <code>doOnNext</code>."},{"owner":{"account_id":1253038,"reputation":1357,"user_id":1213050,"accept_rate":50,"display_name":"Jack Johnson"},"score":0,"creation_date":1692039140,"post_id":76901098,"comment_id":135569033,"body_markdown":"Thanks @IgorArtamonov! Yes my original plan was to use a hashmap... something like: `HashMap&lt;String, Mono&lt;String&gt;&gt; cache = new HashMap&lt;String, Mono&lt;String&gt;&gt;();` where the key would be the fileName and then the value would be the Mono&lt;String&gt; but i&#39;m having problems figuring out how to get the response from the webClient call... it seems like it just keeps making the requests to the extensionUrl until all files are iterated... then they all return &quot;finished retrieving&quot; back to back to back.  That defeats the purpose of my cache","body":"Thanks @IgorArtamonov! Yes my original plan was to use a hashmap... something like: <code>HashMap&lt;String, Mono&lt;String&gt;&gt; cache = new HashMap&lt;String, Mono&lt;String&gt;&gt;();</code> where the key would be the fileName and then the value would be the Mono&lt;String&gt; but i&#39;m having problems figuring out how to get the response from the webClient call... it seems like it just keeps making the requests to the extensionUrl until all files are iterated... then they all return &quot;finished retrieving&quot; back to back to back.  That defeats the purpose of my cache"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1692043898,"post_id":76901098,"comment_id":135569803,"body_markdown":"I think this article answers your question: https://www.baeldung.com/spring-webflux-cacheable","body":"I think this article answers your question: <a href=\"https://www.baeldung.com/spring-webflux-cacheable\" rel=\"nofollow noreferrer\">baeldung.com/spring-webflux-cacheable</a>"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1692139009,"post_id":76901098,"comment_id":135583020,"body_markdown":"here are some hints https://stackoverflow.com/a/71533892/9068895","body":"here are some hints <a href=\"https://stackoverflow.com/a/71533892/9068895\">stackoverflow.com/a/71533892/9068895</a>"}],"answers":[{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692061365,"creation_date":1692051894,"answer_id":76902472,"question_id":76901098,"body_markdown":"Reactor doesn&#39;t provide any caching layer, but you can use any existing library or a plain `Map` for caching, then check for an existing value before making the call. And put one on `doOnNext`.\r\n\r\nCaching an original `Mono` itself may not work because it depends on actual implementation and in many cases a new subscription to it will cause a new request (but see below).\r\n\r\nSo the simplest implementation would be:\r\n\r\n    private Map&lt;String, String&gt; cache = new ConcurrentHashMap();\r\n\r\n    public Mono&lt;String&gt; getExtension(String fileName) {\r\n       String existing = cache.get(fileName);\r\n       if (existing != null) {\r\n           return Mono.just(existing);\r\n       }\r\n   \r\n       return webClient.get().uri(extensionUrl + &quot;?file=&quot; + fileName).retrieve()\r\n           .bodyToMono(String[].class)\r\n           .map(....)\r\n           .doOnNext(value -&gt; cache.put(fileName, value));\r\n    }\r\n\r\nIf you want to avoid duplicate in-flight requests as well, then it makes sense to cache the `Mono`. But in this case I would suggest to ether use it with `.cache()`, or even use a `Sinks.One` as an intermediary.\r\n\r\nThe simplified code would look like:\r\n\r\n    private Map&lt;String, Mono&lt;String&gt;&gt; cache = new ConcurrentHashMap();\r\n\r\n    public Mono&lt;String&gt; getExtension(String fileName) {\r\n       Mono&lt;String&gt; existing = cache.get(fileName);\r\n       if (existing != null) {\r\n           return existing;\r\n       }\r\n   \r\n       Mono&lt;String&gt; requested = webClient.get().uri(extensionUrl + &quot;?file=&quot; + fileName).retrieve()\r\n           .bodyToMono(String[].class)\r\n           .map(....)\r\n           // you probably don&#39;t want to keep failed requests in cache\r\n           .doOnError(t -&gt; cache.remove(fileName))\r\n           .cache();\r\n       cache.put(fileName, requested);\r\n\r\n       return requested;\r\n    }","title":"Is there a way to cache responses using Mono from a WebClient call?","body":"<p>Reactor doesn't provide any caching layer, but you can use any existing library or a plain <code>Map</code> for caching, then check for an existing value before making the call. And put one on <code>doOnNext</code>.</p>\n<p>Caching an original <code>Mono</code> itself may not work because it depends on actual implementation and in many cases a new subscription to it will cause a new request (but see below).</p>\n<p>So the simplest implementation would be:</p>\n<pre><code>private Map&lt;String, String&gt; cache = new ConcurrentHashMap();\n\npublic Mono&lt;String&gt; getExtension(String fileName) {\n   String existing = cache.get(fileName);\n   if (existing != null) {\n       return Mono.just(existing);\n   }\n\n   return webClient.get().uri(extensionUrl + &quot;?file=&quot; + fileName).retrieve()\n       .bodyToMono(String[].class)\n       .map(....)\n       .doOnNext(value -&gt; cache.put(fileName, value));\n}\n</code></pre>\n<p>If you want to avoid duplicate in-flight requests as well, then it makes sense to cache the <code>Mono</code>. But in this case I would suggest to ether use it with <code>.cache()</code>, or even use a <code>Sinks.One</code> as an intermediary.</p>\n<p>The simplified code would look like:</p>\n<pre><code>private Map&lt;String, Mono&lt;String&gt;&gt; cache = new ConcurrentHashMap();\n\npublic Mono&lt;String&gt; getExtension(String fileName) {\n   Mono&lt;String&gt; existing = cache.get(fileName);\n   if (existing != null) {\n       return existing;\n   }\n\n   Mono&lt;String&gt; requested = webClient.get().uri(extensionUrl + &quot;?file=&quot; + fileName).retrieve()\n       .bodyToMono(String[].class)\n       .map(....)\n       // you probably don't want to keep failed requests in cache\n       .doOnError(t -&gt; cache.remove(fileName))\n       .cache();\n   cache.put(fileName, requested);\n\n   return requested;\n}\n</code></pre>\n"}],"owner":{"account_id":1253038,"reputation":1357,"user_id":1213050,"accept_rate":50,"display_name":"Jack Johnson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76902472,"answer_count":1,"score":0,"last_activity_date":1692061365,"creation_date":1692034834,"question_id":76901098,"body_markdown":"Is there a way to cache the response from a call if the inputs are the same?  For example, if the fileName is the same, I don&#39;t want to make the request out with my webClient again since it takes a while for the response.\r\n    \r\n    Flux.fromIterable(files).flatMap(\r\n      file -&gt; {\r\n         Mono&lt;String&gt; extension = getExtension(file.getName());\r\n       });\r\n\r\n    public Mono&lt;String&gt; getExtension(String fileName) {\r\n      return webClient.get().uri(extensionUrl + &quot;?file=&quot; + fileName).retrieve()\r\n        .bodyToMono(String[].class)\r\n        .map(\r\n          extensions -&gt; {\r\n            System.out.println(&quot;finished retrieving&quot;);\r\n            return extensions[0];\r\n          });\r\n    }","title":"Is there a way to cache responses using Mono from a WebClient call?","body":"<p>Is there a way to cache the response from a call if the inputs are the same?  For example, if the fileName is the same, I don't want to make the request out with my webClient again since it takes a while for the response.</p>\n<pre><code>Flux.fromIterable(files).flatMap(\n  file -&gt; {\n     Mono&lt;String&gt; extension = getExtension(file.getName());\n   });\n\npublic Mono&lt;String&gt; getExtension(String fileName) {\n  return webClient.get().uri(extensionUrl + &quot;?file=&quot; + fileName).retrieve()\n    .bodyToMono(String[].class)\n    .map(\n      extensions -&gt; {\n        System.out.println(&quot;finished retrieving&quot;);\n        return extensions[0];\n      });\n}\n</code></pre>\n"},{"tags":["java","spring","eclipse","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1692044955,"post_id":76901912,"comment_id":135569961,"body_markdown":"Change the working directory in the IntelliJ IDEA run configuration settings.","body":"Change the working directory in the IntelliJ IDEA run configuration settings."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692060833,"creation_date":1692060833,"answer_id":76902903,"question_id":76901912,"body_markdown":"File operations work relative to the current working directory, which you can set in IntelliJ IDEA Run configuration.\r\n\r\nExample for Spring Boot:\r\n\r\n[![Boot working directory][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xWgKK.png","title":"Using maven multi module, spring boot - issue with Creating Directory in IntelliJ vs. Eclipse","body":"<p>File operations work relative to the current working directory, which you can set in IntelliJ IDEA Run configuration.</p>\n<p>Example for Spring Boot:</p>\n<p><a href=\"https://i.stack.imgur.com/xWgKK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xWgKK.png\" alt=\"Boot working directory\" /></a></p>\n"}],"owner":{"account_id":12493462,"reputation":175,"user_id":9254213,"display_name":"Ismail Bouaddi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76902903,"answer_count":1,"score":1,"last_activity_date":1692060833,"creation_date":1692044137,"question_id":76901912,"body_markdown":" I have a Spring boot maven mutliple module project where I&#39;m trying to create a directory in my code using the Files.createDirectories method. The project is structured as follows:\r\n\r\n```\r\n-GlobalProject :                                                                                                                                                                                                      \r\n    CommonProject:                                                                                                                                                                                       \r\n    WebParentPrject:\r\n         backendPorject:                                                                                                                                                   \r\n         frontendProoject: \r\n```\r\nI want to create a directory named user-images in the backendPorject directory. The following code(in backendproject) works fine in Eclipse, but it&#39;s not behaving as expected in IntelliJ:\r\n```\r\npublic class FileUploadUtil {\r\n\r\n    public static void saveFile(String uploadDir, String fileName, MultipartFile multipartFile) throws IOException {\r\n        Path uploadPath = Paths.get(uploadDir);\r\n        if(!Files.exists(uploadPath))\r\n        {\r\n            Path directories = Files.createDirectories(uploadPath);\r\n            System.out.println(directories);\r\n        }\r\n        try (InputStream inputStream = multipartFile.getInputStream()){\r\n            Path filePath = uploadPath.resolve(fileName);\r\n            Files.copy(inputStream,filePath, StandardCopyOption.REPLACE_EXISTING);\r\n        }catch (IOException exception){\r\n            throw new IOException(&quot;Could not save file : &quot;+fileName,exception);\r\n        }\r\n    }\r\n```\r\n\r\nIn Eclipse, the directory is created within the backendProject directory, but in IntelliJ, the directory is being created in the root directory of the entire project (MyProject). I want the directory to be created in the backendProject directory in both IDEs.\r\n\r\nCould someone help me understand why the behavior is different between Eclipse and IntelliJ, and how I can modify my code to ensure consistent behavior in both IDEs?","title":"Using maven multi module, spring boot - issue with Creating Directory in IntelliJ vs. Eclipse","body":"<p>I have a Spring boot maven mutliple module project where I'm trying to create a directory in my code using the Files.createDirectories method. The project is structured as follows:</p>\n<pre><code>-GlobalProject :                                                                                                                                                                                                      \n    CommonProject:                                                                                                                                                                                       \n    WebParentPrject:\n         backendPorject:                                                                                                                                                   \n         frontendProoject: \n</code></pre>\n<p>I want to create a directory named user-images in the backendPorject directory. The following code(in backendproject) works fine in Eclipse, but it's not behaving as expected in IntelliJ:</p>\n<pre><code>public class FileUploadUtil {\n\n    public static void saveFile(String uploadDir, String fileName, MultipartFile multipartFile) throws IOException {\n        Path uploadPath = Paths.get(uploadDir);\n        if(!Files.exists(uploadPath))\n        {\n            Path directories = Files.createDirectories(uploadPath);\n            System.out.println(directories);\n        }\n        try (InputStream inputStream = multipartFile.getInputStream()){\n            Path filePath = uploadPath.resolve(fileName);\n            Files.copy(inputStream,filePath, StandardCopyOption.REPLACE_EXISTING);\n        }catch (IOException exception){\n            throw new IOException(&quot;Could not save file : &quot;+fileName,exception);\n        }\n    }\n</code></pre>\n<p>In Eclipse, the directory is created within the backendProject directory, but in IntelliJ, the directory is being created in the root directory of the entire project (MyProject). I want the directory to be created in the backendProject directory in both IDEs.</p>\n<p>Could someone help me understand why the behavior is different between Eclipse and IntelliJ, and how I can modify my code to ensure consistent behavior in both IDEs?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1692059946,"post_id":76902837,"comment_id":135571484,"body_markdown":"I think that you need to debug it and see what is not being set correctly e.g. what is the value of `sirenStop = stop.load`","body":"I think that you need to debug it and see what is not being set correctly e.g. what is the value of <code>sirenStop = stop.load</code>"}],"answers":[{"tags":[],"owner":{"account_id":28978643,"reputation":100,"user_id":22197081,"display_name":"Rainy sidewalks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692060807,"creation_date":1692060384,"answer_id":76902890,"question_id":76902837,"body_markdown":"i think the problem is that you are using &quot;stop&quot; for both the SoundPool object and the Button object.\r\ntry this one and let me know if it work or not .\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    MediaPlayer gbTheme;\r\n    SoundPool stop;\r\n    SoundPool loop;\r\n    int sirenLoop;\r\n    int sirenStop;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n        getSupportActionBar().hide();\r\n        stop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\r\n        sirenStop = stop.load(getApplicationContext(), R.raw.ecto_siren_stop, 1);\r\n        gbTheme = MediaPlayer.create(this, R.raw.ghostbusters_theme);\r\n        loop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\r\n        sirenLoop = loop.load(getApplicationContext(), R.raw.ecto_siren_time_loopable, 1);\r\n        Button on = (Button)findViewById(R.id.turnOnButton);\r\n        on.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                sirenLoop = loop.play(sirenLoop, 1, 1, 1, -1, 1);\r\n            }\r\n        });\r\n        Button off = (Button)findViewById(R.id.turnOffButton);\r\n        off.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                loop.stop(sirenLoop);\r\n                sirenStop = stop.play(sirenStop, 1, 1, 1, 0, 1);\r\n            }\r\n        });\r\n        Button play = (Button)findViewById(R.id.playButton);\r\n        play.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                gbTheme.start();\r\n                gbTheme.setLooping(true);\r\n            }\r\n        });\r\n        Button stopButton = (Button)findViewById(R.id.stopButton);\r\n        stopButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                gbTheme.pause();\r\n                gbTheme.seekTo(0);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nand if that does not works try to use different audio stream for the SoundPools.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    MediaPlayer gbTheme;\r\n    SoundPool stop;\r\n    SoundPool loop;\r\n    int sirenLoop;\r\n    int sirenStop;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n        getSupportActionBar().hide();\r\n        stop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\r\n        sirenStop = stop.load(getApplicationContext(), R.raw.ecto_siren_stop, 1);\r\n        gbTheme = MediaPlayer.create(this, R.raw.ghostbusters_theme);\r\n        loop = new SoundPool(10, AudioManager.STREAM_ALARM, 0); // Use STREAM_ALARM for SoundPools\r\n        sirenLoop = loop.load(getApplicationContext(), R.raw.ecto_siren_time_loopable, 1);\r\n        Button on = (Button)findViewById(R.id.turnOnButton);\r\n        on.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                sirenLoop = loop.play(sirenLoop, 1, 1, 1, -1, 1);\r\n            }\r\n        });\r\n        Button off = (Button)findViewById(R.id.turnOffButton);\r\n        off.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                loop.stop(sirenLoop);\r\n                sirenStop = stop.play(sirenStop, 1, 1, 1, 0, 1);\r\n            }\r\n        });\r\n        Button play = (Button)findViewById(R.id.playButton);\r\n        play.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                gbTheme.start();\r\n                gbTheme.setLooping(true);\r\n            }\r\n        });\r\n        Button stopButton = (Button)findViewById(R.id.stopButton);\r\n        stopButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                gbTheme.pause();\r\n                gbTheme.seekTo(0);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n","title":"How to play a SoundPool with a MediaPlayer at the same time?","body":"<p>i think the problem is that you are using &quot;stop&quot; for both the SoundPool object and the Button object.\ntry this one and let me know if it work or not .</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nMediaPlayer gbTheme;\nSoundPool stop;\nSoundPool loop;\nint sirenLoop;\nint sirenStop;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n    getSupportActionBar().hide();\n    stop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\n    sirenStop = stop.load(getApplicationContext(), R.raw.ecto_siren_stop, 1);\n    gbTheme = MediaPlayer.create(this, R.raw.ghostbusters_theme);\n    loop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\n    sirenLoop = loop.load(getApplicationContext(), R.raw.ecto_siren_time_loopable, 1);\n    Button on = (Button)findViewById(R.id.turnOnButton);\n    on.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            sirenLoop = loop.play(sirenLoop, 1, 1, 1, -1, 1);\n        }\n    });\n    Button off = (Button)findViewById(R.id.turnOffButton);\n    off.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            loop.stop(sirenLoop);\n            sirenStop = stop.play(sirenStop, 1, 1, 1, 0, 1);\n        }\n    });\n    Button play = (Button)findViewById(R.id.playButton);\n    play.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            gbTheme.start();\n            gbTheme.setLooping(true);\n        }\n    });\n    Button stopButton = (Button)findViewById(R.id.stopButton);\n    stopButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            gbTheme.pause();\n            gbTheme.seekTo(0);\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>and if that does not works try to use different audio stream for the SoundPools.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nMediaPlayer gbTheme;\nSoundPool stop;\nSoundPool loop;\nint sirenLoop;\nint sirenStop;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n    getSupportActionBar().hide();\n    stop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\n    sirenStop = stop.load(getApplicationContext(), R.raw.ecto_siren_stop, 1);\n    gbTheme = MediaPlayer.create(this, R.raw.ghostbusters_theme);\n    loop = new SoundPool(10, AudioManager.STREAM_ALARM, 0); // Use STREAM_ALARM for SoundPools\n    sirenLoop = loop.load(getApplicationContext(), R.raw.ecto_siren_time_loopable, 1);\n    Button on = (Button)findViewById(R.id.turnOnButton);\n    on.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            sirenLoop = loop.play(sirenLoop, 1, 1, 1, -1, 1);\n        }\n    });\n    Button off = (Button)findViewById(R.id.turnOffButton);\n    off.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            loop.stop(sirenLoop);\n            sirenStop = stop.play(sirenStop, 1, 1, 1, 0, 1);\n        }\n    });\n    Button play = (Button)findViewById(R.id.playButton);\n    play.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            gbTheme.start();\n            gbTheme.setLooping(true);\n        }\n    });\n    Button stopButton = (Button)findViewById(R.id.stopButton);\n    stopButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            gbTheme.pause();\n            gbTheme.seekTo(0);\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":21661541,"reputation":5,"user_id":15980615,"display_name":"Gman97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76902890,"answer_count":1,"score":0,"last_activity_date":1692060807,"creation_date":1692059005,"question_id":76902837,"body_markdown":"I am trying to play the SoundPools with a MediaPlayer at the same time with a button press and every time I played the SoundPools when the MediaPlayer is playing, it doesn&#39;t play. Here is my code:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    MediaPlayer gbTheme;\r\n    SoundPool stop;\r\n    SoundPool loop;\r\n    int sirenLoop;\r\n    int sirenStop;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n        getSupportActionBar().hide();\r\n        stop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\r\n        sirenStop = stop.load(getApplicationContext(), R.raw.ecto_siren_stop, 1);\r\n        gbTheme = MediaPlayer.create(this, R.raw.ghostbusters_theme);\r\n        loop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\r\n        sirenLoop = loop.load(getApplicationContext(), R.raw.ecto_siren_time_loopable, 1);\r\n        Button on = (Button)findViewById(R.id.turnOnButton);\r\n        on.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                sirenLoop = loop.play(sirenLoop, 1, 1, 1, -1, 1);\r\n            }\r\n        });\r\n        Button off = (Button)findViewById(R.id.turnOffButton);\r\n        off.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                loop.stop(sirenLoop);\r\n                sirenStop = stop.play(sirenStop, 1, 1, 1, 0, 1);\r\n            }\r\n        });\r\n        Button play = (Button)findViewById(R.id.playButton);\r\n        play.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                gbTheme.start();\r\n                gbTheme.setLooping(true);\r\n            }\r\n        });\r\n        Button stop = (Button)findViewById(R.id.stopButton);\r\n        stop.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                gbTheme.pause();\r\n                gbTheme.seekTo(0);\r\n            }\r\n        });\r\n```\r\n\r\n\r\nWhat I am trying to do is play both sounds at the same time when the &#39;Turn On&#39; or &#39;Turn Off&#39; buttons are pressed when MediaPlayer is already playing.","title":"How to play a SoundPool with a MediaPlayer at the same time?","body":"<p>I am trying to play the SoundPools with a MediaPlayer at the same time with a button press and every time I played the SoundPools when the MediaPlayer is playing, it doesn't play. Here is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    MediaPlayer gbTheme;\n    SoundPool stop;\n    SoundPool loop;\n    int sirenLoop;\n    int sirenStop;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        this.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n        getSupportActionBar().hide();\n        stop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\n        sirenStop = stop.load(getApplicationContext(), R.raw.ecto_siren_stop, 1);\n        gbTheme = MediaPlayer.create(this, R.raw.ghostbusters_theme);\n        loop = new SoundPool(10, AudioManager.STREAM_MUSIC, 0);\n        sirenLoop = loop.load(getApplicationContext(), R.raw.ecto_siren_time_loopable, 1);\n        Button on = (Button)findViewById(R.id.turnOnButton);\n        on.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                sirenLoop = loop.play(sirenLoop, 1, 1, 1, -1, 1);\n            }\n        });\n        Button off = (Button)findViewById(R.id.turnOffButton);\n        off.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                loop.stop(sirenLoop);\n                sirenStop = stop.play(sirenStop, 1, 1, 1, 0, 1);\n            }\n        });\n        Button play = (Button)findViewById(R.id.playButton);\n        play.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                gbTheme.start();\n                gbTheme.setLooping(true);\n            }\n        });\n        Button stop = (Button)findViewById(R.id.stopButton);\n        stop.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                gbTheme.pause();\n                gbTheme.seekTo(0);\n            }\n        });\n</code></pre>\n<p>What I am trying to do is play both sounds at the same time when the 'Turn On' or 'Turn Off' buttons are pressed when MediaPlayer is already playing.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-ses","tls1.3"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1692059204,"post_id":76902834,"comment_id":135571425,"body_markdown":"&quot;Any reason this doesn&#39;t work?&quot; - uh, because it&#39;s not supported yet? Your requirements need to change as there is zero reason to require 1.3 at this point.","body":"&quot;Any reason this doesn&#39;t work?&quot; - uh, because it&#39;s not supported yet? Your requirements need to change as there is zero reason to require 1.3 at this point."},{"owner":{"account_id":2375911,"reputation":1262,"user_id":2079271,"display_name":"Gowthaman"},"score":0,"creation_date":1692059414,"post_id":76902834,"comment_id":135571451,"body_markdown":"@stdunbar This is from the documentation `For STARTTLS connections, Amazon SES supports TLS 1.2, TLS 1.3, and SSLv2Hello.` \n\nhttps://docs.aws.amazon.com/ses/latest/dg/security-protocols.html","body":"@stdunbar This is from the documentation <code>For STARTTLS connections, Amazon SES supports TLS 1.2, TLS 1.3, and SSLv2Hello.</code>   <a href=\"https://docs.aws.amazon.com/ses/latest/dg/security-protocols.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/ses/latest/dg/security-protocols.html</a>"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1692060276,"post_id":76902834,"comment_id":135571499,"body_markdown":"But [this post](https://aws.amazon.com/blogs/security/tls-1-2-required-for-aws-endpoints/) and [this one](https://aws.amazon.com/blogs/security/tls-1-2-required-for-aws-endpoints/) - the last posted about 1.5 months ago - indicate that this is all very much still in progress.  TLS 1.2 is a fully supported protocol and no publicly facing service will have deprecated it yet.","body":"But <a href=\"https://aws.amazon.com/blogs/security/tls-1-2-required-for-aws-endpoints/\" rel=\"nofollow noreferrer\">this post</a> and <a href=\"https://aws.amazon.com/blogs/security/tls-1-2-required-for-aws-endpoints/\" rel=\"nofollow noreferrer\">this one</a> - the last posted about 1.5 months ago - indicate that this is all very much still in progress.  TLS 1.2 is a fully supported protocol and no publicly facing service will have deprecated it yet."}],"owner":{"account_id":2375911,"reputation":1262,"user_id":2079271,"display_name":"Gowthaman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692058970,"creation_date":1692058970,"question_id":76902834,"body_markdown":"I have a Java application that connects to the AWS SMTP server to send emails. We upgraded to Java 17 and wanted the default TLS version to be 1.3. The application is using JavaMail and we set the protocol value using the below command\r\n\r\n    javaMailProperties.setProperty(&quot;mail.smtp.ssl.protocols&quot;,&quot;TLSv1.3 TLSv1.2&quot;);\r\n\r\nEven though my application has TLSv1.3 enabled, the emails that are sent by AWS Simple Email Service (SES) are using TLSv1.2.\r\n\r\nI have verified the application supports TLSv1.3 by using the following code in the application\r\n\r\n   \r\n\r\n    try{\r\n\r\n         logger.info(&quot;List of supported SSL Protocols - &quot; + \r\n         Arrays.toString(SSLContext.getDefault().getSupportedSSLParameters().getProtocols()));\r\n    }\r\n    catch (Exception e){\r\n       logger.error(&quot;SSLContext Error&quot; + e);\r\n    }\r\n\r\nThe output for the above snippet is\r\n\r\n    [TLSv1.3, TLSv1.2, TLSv1.1, TLSv1, SSLv3, SSLv2Hello]\r\n\r\nI used openssl command to verify whether I can connect to AWS SMTP server using TLSv1.3 using the following command\r\n\r\n    openssl s_client -crlf -quiet -starttls smtp -connect email-smtp.us-east-1.amazonaws.com:587 -tls1_3\r\n\r\nI got the below error\r\n\r\n    4582575616:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70\r\n\r\nBut tls1_2 works\r\n\r\n    openssl s_client -crlf -quiet -starttls smtp -connect email-smtp.us-east-1.amazonaws.com:587 -tls1_2\r\n\r\nOutput\r\n\r\n    depth=2 C = US, O = Amazon, CN = Amazon Root CA 1\r\n    verify return:1\r\n    depth=1 C = US, O = Amazon, CN = Amazon RSA 2048 M01\r\n    verify return:1\r\n    depth=0 CN = email-smtp.us-east-1.amazonaws.com\r\n    verify return:1\r\n    250 Ok\r\n    451 4.4.2 Timeout waiting for data from client.\r\n\r\nI do not see any configuration in AWS console in SES to accept TLSv1.3. Any reason this doesn&#39;t work? Is it possible to use TLSv1.3? Any help is appreciated.\r\n","title":"AWS SES SMTP not accepting TLSv1.3","body":"<p>I have a Java application that connects to the AWS SMTP server to send emails. We upgraded to Java 17 and wanted the default TLS version to be 1.3. The application is using JavaMail and we set the protocol value using the below command</p>\n<pre><code>javaMailProperties.setProperty(&quot;mail.smtp.ssl.protocols&quot;,&quot;TLSv1.3 TLSv1.2&quot;);\n</code></pre>\n<p>Even though my application has TLSv1.3 enabled, the emails that are sent by AWS Simple Email Service (SES) are using TLSv1.2.</p>\n<p>I have verified the application supports TLSv1.3 by using the following code in the application</p>\n<pre><code>try{\n\n     logger.info(&quot;List of supported SSL Protocols - &quot; + \n     Arrays.toString(SSLContext.getDefault().getSupportedSSLParameters().getProtocols()));\n}\ncatch (Exception e){\n   logger.error(&quot;SSLContext Error&quot; + e);\n}\n</code></pre>\n<p>The output for the above snippet is</p>\n<pre><code>[TLSv1.3, TLSv1.2, TLSv1.1, TLSv1, SSLv3, SSLv2Hello]\n</code></pre>\n<p>I used openssl command to verify whether I can connect to AWS SMTP server using TLSv1.3 using the following command</p>\n<pre><code>openssl s_client -crlf -quiet -starttls smtp -connect email-smtp.us-east-1.amazonaws.com:587 -tls1_3\n</code></pre>\n<p>I got the below error</p>\n<pre><code>4582575616:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70\n</code></pre>\n<p>But tls1_2 works</p>\n<pre><code>openssl s_client -crlf -quiet -starttls smtp -connect email-smtp.us-east-1.amazonaws.com:587 -tls1_2\n</code></pre>\n<p>Output</p>\n<pre><code>depth=2 C = US, O = Amazon, CN = Amazon Root CA 1\nverify return:1\ndepth=1 C = US, O = Amazon, CN = Amazon RSA 2048 M01\nverify return:1\ndepth=0 CN = email-smtp.us-east-1.amazonaws.com\nverify return:1\n250 Ok\n451 4.4.2 Timeout waiting for data from client.\n</code></pre>\n<p>I do not see any configuration in AWS console in SES to accept TLSv1.3. Any reason this doesn't work? Is it possible to use TLSv1.3? Any help is appreciated.</p>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1567662341,"post_id":57799040,"comment_id":102030658,"body_markdown":"So which one returns `Optional&lt;Ticket&gt;`, `TicketService.findById` or `TicketRepository.findById`?","body":"So which one returns <code>Optional&lt;Ticket&gt;</code>, <code>TicketService.findById</code> or <code>TicketRepository.findById</code>?"},{"owner":{"account_id":12543099,"reputation":1284,"user_id":9127397,"display_name":"Mateusz Gebroski"},"score":0,"creation_date":1567662518,"post_id":57799040,"comment_id":102030715,"body_markdown":"TicketRepository returns Optional of Ticket  where TicketService returns just Ticket","body":"TicketRepository returns Optional of Ticket  where TicketService returns just Ticket"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1567664142,"post_id":57799040,"comment_id":102031231,"body_markdown":"&quot;I know that ticketService is not Mock but if I will remove this line it will throw..&quot;. Yes, but you have to remove the line. Because it&#39;s **not** a mock yet you&#39;re trying to mock a method call on it. Your root problem is the last stacktrace, i.e. why is `null` returned.","body":"&quot;I know that ticketService is not Mock but if I will remove this line it will throw..&quot;. Yes, but you have to remove the line. Because it&#39;s <b>not</b> a mock yet you&#39;re trying to mock a method call on it. Your root problem is the last stacktrace, i.e. why is <code>null</code> returned."},{"owner":{"account_id":12543099,"reputation":1284,"user_id":9127397,"display_name":"Mateusz Gebroski"},"score":0,"creation_date":1567665300,"post_id":57799040,"comment_id":102031645,"body_markdown":"I know but  other methods where this repository method is used passes.","body":"I know but  other methods where this repository method is used passes."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1567665679,"post_id":57799040,"comment_id":102031786,"body_markdown":"Did you remove the `when(ticketService.findById(ticket.getId())).thenReturn(ticket);` line already? You&#39;re not going to get anywhere if you don&#39;t remove it.","body":"Did you remove the <code>when(ticketService.findById(ticket.getId())).thenReturn(tick&zwnj;&#8203;et);</code> line already? You&#39;re not going to get anywhere if you don&#39;t remove it."},{"owner":{"account_id":12543099,"reputation":1284,"user_id":9127397,"display_name":"Mateusz Gebroski"},"score":0,"creation_date":1567665729,"post_id":57799040,"comment_id":102031811,"body_markdown":"Yes, I have removed it and still null is thrown.","body":"Yes, I have removed it and still null is thrown."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1567665790,"post_id":57799040,"comment_id":102031842,"body_markdown":"Good. At least now you&#39;ve found your real problem. Now it&#39;s time for you to debug why `null` is returned (not thrown).","body":"Good. At least now you&#39;ve found your real problem. Now it&#39;s time for you to debug why <code>null</code> is returned (not thrown)."},{"owner":{"account_id":12543099,"reputation":1284,"user_id":9127397,"display_name":"Mateusz Gebroski"},"score":0,"creation_date":1567665952,"post_id":57799040,"comment_id":102031911,"body_markdown":"I have attached screenshot from debugger also.","body":"I have attached screenshot from debugger also."},{"owner":{"account_id":12543099,"reputation":1284,"user_id":9127397,"display_name":"Mateusz Gebroski"},"score":0,"creation_date":1567666947,"post_id":57799040,"comment_id":102032345,"body_markdown":"Found the solution, this was Lombok issue. Thank you @Kayaman","body":"Found the solution, this was Lombok issue. Thank you @Kayaman"}],"answers":[{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567663510,"creation_date":1567662729,"answer_id":57799152,"question_id":57799040,"body_markdown":"**Changes to be made:**\r\n\r\n1.    `thenReturn(Optional.of(ticket));`\r\n\r\nThe argument inside `thenReturn` because of `Optional.of()` cannot be `null`. Instead use `Optional.ofNullable(T value)`. Returns an Optional describing the specified value, if non-null, otherwise returns an empty.\r\n\r\n2. Change `when(ticketService.findById(ticket.getId())).thenReturn(ticket);` to `doReturn(ticket).when(ticketService).findById(ticket.getId())`\r\n\r\n&gt; Read This:\r\n&gt; https://groups.google.com/forum/?fromgroups#!topic/mockito/9WUvkhZUy90","title":"org.mockito.exceptions.misusing.WrongTypeOfReturnValue:","body":"<p><strong>Changes to be made:</strong></p>\n\n<ol>\n<li><code>thenReturn(Optional.of(ticket));</code></li>\n</ol>\n\n<p>The argument inside <code>thenReturn</code> because of <code>Optional.of()</code> cannot be <code>null</code>. Instead use <code>Optional.ofNullable(T value)</code>. Returns an Optional describing the specified value, if non-null, otherwise returns an empty.</p>\n\n<ol start=\"2\">\n<li>Change <code>when(ticketService.findById(ticket.getId())).thenReturn(ticket);</code> to <code>doReturn(ticket).when(ticketService).findById(ticket.getId())</code></li>\n</ol>\n\n<blockquote>\n  <p>Read This:\n  <a href=\"https://groups.google.com/forum/?fromgroups#!topic/mockito/9WUvkhZUy90\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/?fromgroups#!topic/mockito/9WUvkhZUy90</a></p>\n</blockquote>\n"}],"owner":{"account_id":12543099,"reputation":1284,"user_id":9127397,"display_name":"Mateusz Gebroski"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12593,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1692057805,"creation_date":1567662037,"question_id":57799040,"body_markdown":"I am trying to perform simple unit test but still it throws null or some strange error like:\r\n\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\n    Ticket cannot be returned by findById()\r\n    findById() should return Optional\r\n\r\nWhy is that? Instead code will event not compile.\r\n\r\n\r\nTest looks like that:\r\n\r\n    @Test\r\n    void updateTicketByOrderAmount() {\r\n    \r\n        OrderedTicket orderedTicket = OrderedTicketDatasource.getOrderedTicket();\r\n    \r\n        Ticket ticket = TicketDatasource.getTicket();\r\n    \r\n        when(ticketRepository.findById(ticket.getId())).thenReturn(Optional.of(ticket));\r\n    \r\n        when(ticketService.findById(ticket.getId())).thenReturn(ticket);\r\n    \r\n        Ticket actual = ticketService.updateTicketByOrderAmount(orderedTicket);\r\n    \r\n        assertNotNull(actual);\r\n    \r\n    }\r\n\r\n\r\nand implementation: \r\n\r\n    @Override\r\n        @Transactional\r\n        public Ticket updateTicketByOrderAmount(OrderedTicket orderedTicket) {\r\n            Ticket found = findById(orderedTicket.getTicket().getId());\r\n    \r\n            decreaseInStockAmount(orderedTicket, found);\r\n    \r\n            return ticketMapper.ticketDTOtoTicket(\r\n                    saveOrUpdateTicket(\r\n                            ticketMapper.ticketToTicketDTO(found)\r\n                    )\r\n            );\r\n        }\r\n    \r\n     @Override\r\n        public Ticket findById(Long id) {\r\n            return ticketRepository.findById(id).orElseThrow(ResourceNotFoundException::new);\r\n        }\r\n    \r\n    \r\n     private void decreaseInStockAmount(OrderedTicket ticket, Ticket found) {\r\n            found.setInStock(\r\n                    found.getInStock() - ticket.getAmount()\r\n            );\r\n        }\r\n\r\n\r\nFull stacktrace:\r\n\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\n    Ticket cannot be returned by findById()\r\n    findById() should return Optional\r\n    ***\r\n    If you&#39;re unsure why you&#39;re getting above error read on.\r\n    Due to the nature of the syntax above problem might occur because:\r\n    1. This exception *might* occur in wrongly written multi-threaded tests.\r\n       Please refer to Mockito FAQ on limitations of concurrency testing.\r\n    2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n       - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n    \r\n    \r\n    \tat server.eventooserver.api.v1.service.TicketServiceImplTest.updateTicketByOrderAmount(TicketServiceImplTest.java:90)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:170)\r\n    \tat org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:166)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:113)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:74)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\n\r\n\r\nIt points directly to \r\n\r\n    when(ticketService.findById(ticket.getId())).thenReturn(ticket);\r\n\r\nBut why is that?\r\n\r\nWhat is more I am attaching how mock are initialized:\r\n\r\n       @Mock\r\n        TicketRepository ticketRepository;\r\n    \r\n        TicketService ticketService;\r\n    \r\n        public TicketServiceImplTest() {\r\n            MockitoAnnotations.initMocks(this);\r\n            ticketService = new TicketServiceImpl(ticketRepository);\r\n        }\r\n\r\n\r\n\r\nI know that ticketService is not Mock but if I will remove this line it will throw:\r\n\r\n    org.opentest4j.AssertionFailedError: expected: not &lt;null&gt;\r\n    \r\n    \tat org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:38)\r\n    \tat org.junit.jupiter.api.Assertions.fail(Assertions.java:84)\r\n    \tat org.junit.jupiter.api.AssertNotNull.failNull(AssertNotNull.java:47)\r\n    \tat org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:36)\r\n    \tat org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:31)\r\n    \tat org.junit.jupiter.api.Assertions.assertNotNull(Assertions.java:258)\r\n    \tat server.eventooserver.api.v1.service.TicketServiceImplTest.updateTicketByOrderAmount(TicketServiceImplTest.java:94)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:170)\r\n    \tat org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:166)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:113)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n    \tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:74)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\n\r\n\r\nAnd screenshot from debugger \r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5DLMW.png","title":"org.mockito.exceptions.misusing.WrongTypeOfReturnValue:","body":"<p>I am trying to perform simple unit test but still it throws null or some strange error like:</p>\n\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nTicket cannot be returned by findById()\nfindById() should return Optional\n</code></pre>\n\n<p>Why is that? Instead code will event not compile.</p>\n\n<p>Test looks like that:</p>\n\n<pre><code>@Test\nvoid updateTicketByOrderAmount() {\n\n    OrderedTicket orderedTicket = OrderedTicketDatasource.getOrderedTicket();\n\n    Ticket ticket = TicketDatasource.getTicket();\n\n    when(ticketRepository.findById(ticket.getId())).thenReturn(Optional.of(ticket));\n\n    when(ticketService.findById(ticket.getId())).thenReturn(ticket);\n\n    Ticket actual = ticketService.updateTicketByOrderAmount(orderedTicket);\n\n    assertNotNull(actual);\n\n}\n</code></pre>\n\n<p>and implementation: </p>\n\n<pre><code>@Override\n    @Transactional\n    public Ticket updateTicketByOrderAmount(OrderedTicket orderedTicket) {\n        Ticket found = findById(orderedTicket.getTicket().getId());\n\n        decreaseInStockAmount(orderedTicket, found);\n\n        return ticketMapper.ticketDTOtoTicket(\n                saveOrUpdateTicket(\n                        ticketMapper.ticketToTicketDTO(found)\n                )\n        );\n    }\n\n @Override\n    public Ticket findById(Long id) {\n        return ticketRepository.findById(id).orElseThrow(ResourceNotFoundException::new);\n    }\n\n\n private void decreaseInStockAmount(OrderedTicket ticket, Ticket found) {\n        found.setInStock(\n                found.getInStock() - ticket.getAmount()\n        );\n    }\n</code></pre>\n\n<p>Full stacktrace:</p>\n\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nTicket cannot be returned by findById()\nfindById() should return Optional\n***\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\n\n    at server.eventooserver.api.v1.service.TicketServiceImplTest.updateTicketByOrderAmount(TicketServiceImplTest.java:90)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:170)\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:166)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:113)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:74)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>It points directly to </p>\n\n<pre><code>when(ticketService.findById(ticket.getId())).thenReturn(ticket);\n</code></pre>\n\n<p>But why is that?</p>\n\n<p>What is more I am attaching how mock are initialized:</p>\n\n<pre><code>   @Mock\n    TicketRepository ticketRepository;\n\n    TicketService ticketService;\n\n    public TicketServiceImplTest() {\n        MockitoAnnotations.initMocks(this);\n        ticketService = new TicketServiceImpl(ticketRepository);\n    }\n</code></pre>\n\n<p>I know that ticketService is not Mock but if I will remove this line it will throw:</p>\n\n<pre><code>org.opentest4j.AssertionFailedError: expected: not &lt;null&gt;\n\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:38)\n    at org.junit.jupiter.api.Assertions.fail(Assertions.java:84)\n    at org.junit.jupiter.api.AssertNotNull.failNull(AssertNotNull.java:47)\n    at org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:36)\n    at org.junit.jupiter.api.AssertNotNull.assertNotNull(AssertNotNull.java:31)\n    at org.junit.jupiter.api.Assertions.assertNotNull(Assertions.java:258)\n    at server.eventooserver.api.v1.service.TicketServiceImplTest.updateTicketByOrderAmount(TicketServiceImplTest.java:94)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:170)\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:166)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:113)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:58)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:74)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>And screenshot from debugger \n<a href=\"https://i.stack.imgur.com/5DLMW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5DLMW.png\" alt=\"enter image description here\"></a> </p>\n"},{"tags":["java","android","user-interface","android-recyclerview","selection"],"comments":[{"owner":{"account_id":3874601,"reputation":3286,"user_id":3208969,"accept_rate":43,"display_name":"SaravanaRaja"},"score":0,"creation_date":1412368911,"post_id":26076965,"comment_id":41060165,"body_markdown":"Take a look [LINK 1](http://antonioleiva.com/recyclerview/) [LINK 2](http://www.grokkingandroid.com/first-glance-androids-recyclerview/) it may help U","body":"Take a look <a href=\"http://antonioleiva.com/recyclerview/\" rel=\"nofollow noreferrer\">LINK 1</a> <a href=\"http://www.grokkingandroid.com/first-glance-androids-recyclerview/\" rel=\"nofollow noreferrer\">LINK 2</a> it may help U"},{"owner":{"account_id":5043336,"reputation":13459,"user_id":4407266,"accept_rate":95,"display_name":"Aditya Vyas-Lakhan"},"score":0,"creation_date":1467875746,"post_id":26076965,"comment_id":63900010,"body_markdown":"http://stackoverflow.com/questions/38222410/recyclerview-with-footer-not-able-to-delete-last-item","body":"<a href=\"http://stackoverflow.com/questions/38222410/recyclerview-with-footer-not-able-to-delete-last-item\" title=\"recyclerview with footer not able to delete last item\">stackoverflow.com/questions/38222410/&hellip;</a>"},{"owner":{"account_id":2401597,"reputation":9579,"user_id":3240381,"accept_rate":74,"display_name":"Cabezas"},"score":1,"creation_date":1485952115,"post_id":26076965,"comment_id":71137206,"body_markdown":"You can see [this example in Github](https://github.com/CabezasGonzalezJavier/FullRecycleView/tree/master/app/src/main/java/com/thedeveloperworldisyours/fullrecycleview/vertical) Happy code!!!!","body":"You can see <a href=\"https://github.com/CabezasGonzalezJavier/FullRecycleView/tree/master/app/src/main/java/com/thedeveloperworldisyours/fullrecycleview/vertical\" rel=\"nofollow noreferrer\">this example in Github</a> Happy code!!!!"}],"answers":[{"tags":[],"owner":{"account_id":1588297,"reputation":6298,"user_id":1472186,"accept_rate":75,"display_name":"paradite"},"down_vote_count":2,"up_vote_count":315,"is_accepted":true,"score":313,"last_activity_date":1640218511,"creation_date":1412996777,"answer_id":26310638,"question_id":26076965,"body_markdown":"I have done something similar.\r\nIn your `MyAdapter`:\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n        public CardView mCardView;\r\n        public TextView mTextViewTitle;\r\n        public TextView mTextViewContent;\r\n        public ImageView mImageViewContentPic;\r\n        \r\n        public ImageView imgViewRemoveIcon;\r\n        public ViewHolder(View v) {\r\n            super(v);\r\n            mCardView = (CardView) v.findViewById(R.id.card_view);\r\n            mTextViewTitle = (TextView) v.findViewById(R.id.item_title);\r\n            mTextViewContent = (TextView) v.findViewById(R.id.item_content);\r\n            mImageViewContentPic = (ImageView) v.findViewById(R.id.item_content_pic);\r\n            //......\r\n            imgViewRemoveIcon = (ImageView) v.findViewById(R.id.remove_icon);\r\n\r\n            mTextViewContent.setOnClickListener(this);\r\n            imgViewRemoveIcon.setOnClickListener(this);\r\n            v.setOnClickListener(this);\r\n            mTextViewContent.setOnLongClickListener(new View.OnLongClickListener() {\r\n                @Override\r\n                public boolean onLongClick(View view) {\r\n                    if (mItemClickListener != null) {\r\n                        mItemClickListener.onItemClick(view, getPosition());\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            //Log.d(&quot;View: &quot;, v.toString());\r\n            //Toast.makeText(v.getContext(), mTextViewTitle.getText() + &quot; position = &quot; + getPosition(), Toast.LENGTH_SHORT).show();\r\n            if(v.equals(imgViewRemoveIcon)){\r\n                removeAt(getPosition());\r\n            }else if (mItemClickListener != null) {\r\n                mItemClickListener.onItemClick(v, getPosition());\r\n            }\r\n        }\r\n    }\r\n\r\n    public void setOnItemClickListener(final OnItemClickListener mItemClickListener) {\r\n        this.mItemClickListener = mItemClickListener;\r\n    }\r\n    public void removeAt(int position) {\r\n        mDataset.remove(position);\r\n        notifyItemRemoved(position);\r\n        notifyItemRangeChanged(position, mDataSet.size());\r\n    }\r\n\r\n**Edit:**\r\n\r\n`getPosition()` is deprecated now, use `getAdapterPosition()` instead.\r\n","title":"Android RecyclerView addition &amp; removal of items","body":"<p>I have done something similar.\nIn your <code>MyAdapter</code>:</p>\n<pre><code>public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n    public CardView mCardView;\n    public TextView mTextViewTitle;\n    public TextView mTextViewContent;\n    public ImageView mImageViewContentPic;\n    \n    public ImageView imgViewRemoveIcon;\n    public ViewHolder(View v) {\n        super(v);\n        mCardView = (CardView) v.findViewById(R.id.card_view);\n        mTextViewTitle = (TextView) v.findViewById(R.id.item_title);\n        mTextViewContent = (TextView) v.findViewById(R.id.item_content);\n        mImageViewContentPic = (ImageView) v.findViewById(R.id.item_content_pic);\n        //......\n        imgViewRemoveIcon = (ImageView) v.findViewById(R.id.remove_icon);\n\n        mTextViewContent.setOnClickListener(this);\n        imgViewRemoveIcon.setOnClickListener(this);\n        v.setOnClickListener(this);\n        mTextViewContent.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View view) {\n                if (mItemClickListener != null) {\n                    mItemClickListener.onItemClick(view, getPosition());\n                }\n                return false;\n            }\n        });\n    }\n\n\n    @Override\n    public void onClick(View v) {\n        //Log.d(&quot;View: &quot;, v.toString());\n        //Toast.makeText(v.getContext(), mTextViewTitle.getText() + &quot; position = &quot; + getPosition(), Toast.LENGTH_SHORT).show();\n        if(v.equals(imgViewRemoveIcon)){\n            removeAt(getPosition());\n        }else if (mItemClickListener != null) {\n            mItemClickListener.onItemClick(v, getPosition());\n        }\n    }\n}\n\npublic void setOnItemClickListener(final OnItemClickListener mItemClickListener) {\n    this.mItemClickListener = mItemClickListener;\n}\npublic void removeAt(int position) {\n    mDataset.remove(position);\n    notifyItemRemoved(position);\n    notifyItemRangeChanged(position, mDataSet.size());\n}\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p><code>getPosition()</code> is deprecated now, use <code>getAdapterPosition()</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":7537434,"reputation":1684,"user_id":5723268,"accept_rate":67,"display_name":"Zahra.HY"},"down_vote_count":1,"up_vote_count":78,"is_accepted":false,"score":77,"last_activity_date":1675872969,"creation_date":1467532526,"answer_id":38167883,"question_id":26076965,"body_markdown":"first of all, item should be removed from the list! \r\n\r\n      mDataSet.remove(getAdapterPosition());\r\n\r\nthen:\r\n\r\n      notifyItemRemoved(getAdapterPosition());\r\n      notifyItemRangeChanged(getAdapterPosition(), mDataSet.size()-getAdapterPosition());","title":"Android RecyclerView addition &amp; removal of items","body":"<p>first of all, item should be removed from the list!</p>\n<pre><code>  mDataSet.remove(getAdapterPosition());\n</code></pre>\n<p>then:</p>\n<pre><code>  notifyItemRemoved(getAdapterPosition());\n  notifyItemRangeChanged(getAdapterPosition(), mDataSet.size()-getAdapterPosition());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3428224,"reputation":154,"user_id":2873396,"accept_rate":75,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467875507,"creation_date":1467875507,"answer_id":38239509,"question_id":26076965,"body_markdown":"I tried all the above answers, but inserting or removing items to recyclerview causes problem with the position in the dataSet. Ended up using    `delete(getAdapterPosition());` inside the viewHolder which worked great at finding the position of items.","title":"Android RecyclerView addition &amp; removal of items","body":"<p>I tried all the above answers, but inserting or removing items to recyclerview causes problem with the position in the dataSet. Ended up using    <code>delete(getAdapterPosition());</code> inside the viewHolder which worked great at finding the position of items.</p>\n"},{"tags":[],"owner":{"account_id":6102174,"reputation":1735,"user_id":4760884,"accept_rate":80,"display_name":"Horatio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475170178,"creation_date":1475170178,"answer_id":39776555,"question_id":26076965,"body_markdown":"The problem I had was I was removing an item from the list that was no longer associated with the adapter to make sure you are modifying the correct adapter you can implement a method like this in your adapter:\r\n\r\n    public void removeItemAtPosition(int position) {\r\n        items.remove(position);\r\n    }\r\n\r\nAnd call it in your fragment or activity like this: \r\n\r\n    adapter.removeItemAtPosition(position);","title":"Android RecyclerView addition &amp; removal of items","body":"<p>The problem I had was I was removing an item from the list that was no longer associated with the adapter to make sure you are modifying the correct adapter you can implement a method like this in your adapter:</p>\n\n<pre><code>public void removeItemAtPosition(int position) {\n    items.remove(position);\n}\n</code></pre>\n\n<p>And call it in your fragment or activity like this: </p>\n\n<pre><code>adapter.removeItemAtPosition(position);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3626293,"reputation":3505,"user_id":3023833,"display_name":"Mostafa Anter"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1579907706,"creation_date":1479682770,"answer_id":40710448,"question_id":26076965,"body_markdown":"if still item not removed use this magic method :)\r\n\r\n    private void deleteItem(int position) {\r\n            mDataSet.remove(position);\r\n            notifyItemRemoved(position);\r\n            notifyItemRangeChanged(position, mDataSet.size());\r\n            holder.itemView.setVisibility(View.GONE);\r\n    }\r\n\r\nKotlin version\r\n\r\n    private fun deleteItem(position: Int) {\r\n        mDataSet.removeAt(position)\r\n        notifyItemRemoved(position)\r\n        notifyItemRangeChanged(position, mDataSet.size)\r\n        holder.itemView.visibility = View.GONE\r\n    }","title":"Android RecyclerView addition &amp; removal of items","body":"<p>if still item not removed use this magic method :)</p>\n\n<pre><code>private void deleteItem(int position) {\n        mDataSet.remove(position);\n        notifyItemRemoved(position);\n        notifyItemRangeChanged(position, mDataSet.size());\n        holder.itemView.setVisibility(View.GONE);\n}\n</code></pre>\n\n<p>Kotlin version</p>\n\n<pre><code>private fun deleteItem(position: Int) {\n    mDataSet.removeAt(position)\n    notifyItemRemoved(position)\n    notifyItemRangeChanged(position, mDataSet.size)\n    holder.itemView.visibility = View.GONE\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4226546,"reputation":971,"user_id":3459944,"display_name":"Hassan Jamil"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1503781150,"creation_date":1503781150,"answer_id":45899633,"question_id":26076965,"body_markdown":"Possibly a duplicate answer but quite useful for me. You can implement the method given below in `RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;` \r\nand can use this method as per your requirements, I hope it will work for you\r\n\r\n    public void removeItem(@NonNull Object object) {\r\n            mDataSetList.remove(object);\r\n            notifyDataSetChanged();\r\n        }","title":"Android RecyclerView addition &amp; removal of items","body":"<p>Possibly a duplicate answer but quite useful for me. You can implement the method given below in <code>RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;</code> \nand can use this method as per your requirements, I hope it will work for you</p>\n\n<pre><code>public void removeItem(@NonNull Object object) {\n        mDataSetList.remove(object);\n        notifyDataSetChanged();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9161047,"reputation":900,"user_id":6812333,"display_name":"Tarun Umath"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1534836271,"creation_date":1506664708,"answer_id":46482582,"question_id":26076965,"body_markdown":" \r\n\r\n      String str = arrayList.get(position);\r\n      arrayList.remove(str);\r\n      MyAdapter.this.notifyDataSetChanged();\r\n                   ","title":"Android RecyclerView addition &amp; removal of items","body":"<pre><code>  String str = arrayList.get(position);\n  arrayList.remove(str);\n  MyAdapter.this.notifyDataSetChanged();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9549572,"reputation":401,"user_id":7094167,"display_name":"Sayed Mohammad Amin Emrani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508929087,"creation_date":1508929087,"answer_id":46930618,"question_id":26076965,"body_markdown":"if you want to remove item you should do this:\r\nfirst remove item:\r\n\r\n    phones.remove(position);\r\nin next step you should notify your recycler adapter that you remove an item by this code:\r\n\r\n    notifyItemRemoved(position);\r\n    notifyItemRangeChanged(position, phones.size());\r\n\r\nbut if you change an item do this:\r\nfirst change a parameter of your object like this:\r\n\r\n    Service s = services.get(position);\r\n    s.done = &quot;Cancel service&quot;;\r\n    services.set(position,s);\r\nor new it like this :\r\n\r\n    Service s = new Service();\r\n    services.set(position,s);\r\nthen notify your recycler adapter that you modify an item by this code:\r\n\r\n    notifyItemChanged(position);\r\n    notifyItemRangeChanged(position, services.size());\r\n\r\nhope helps you.","title":"Android RecyclerView addition &amp; removal of items","body":"<p>if you want to remove item you should do this:\nfirst remove item:</p>\n\n<pre><code>phones.remove(position);\n</code></pre>\n\n<p>in next step you should notify your recycler adapter that you remove an item by this code:</p>\n\n<pre><code>notifyItemRemoved(position);\nnotifyItemRangeChanged(position, phones.size());\n</code></pre>\n\n<p>but if you change an item do this:\nfirst change a parameter of your object like this:</p>\n\n<pre><code>Service s = services.get(position);\ns.done = \"Cancel service\";\nservices.set(position,s);\n</code></pre>\n\n<p>or new it like this :</p>\n\n<pre><code>Service s = new Service();\nservices.set(position,s);\n</code></pre>\n\n<p>then notify your recycler adapter that you modify an item by this code:</p>\n\n<pre><code>notifyItemChanged(position);\nnotifyItemRangeChanged(position, services.size());\n</code></pre>\n\n<p>hope helps you.</p>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491507,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1519445701,"creation_date":1519445701,"answer_id":48959300,"question_id":26076965,"body_markdown":"Here are some visual supplemental examples. See [my fuller answer][1] for examples of adding and removing a range.\r\n\r\n\r\n##Add single item\r\n\r\nAdd &quot;Pig&quot; at index `2`.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/VGB85.gif&quot; width=&quot;200&quot; alt=&quot;Insert single item&quot;&gt;\r\n\r\n    String item = &quot;Pig&quot;;\r\n    int insertIndex = 2;\r\n    data.add(insertIndex, item);\r\n    adapter.notifyItemInserted(insertIndex);\r\n\r\n##Remove single item\r\n\r\nRemove &quot;Pig&quot; from the list.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/je91J.gif&quot; width=&quot;200&quot; alt=&quot;Remove single item&quot;&gt;\r\n\r\n    int removeIndex = 2;\r\n    data.remove(removeIndex);\r\n    adapter.notifyItemRemoved(removeIndex);\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48959184/3681880","title":"Android RecyclerView addition &amp; removal of items","body":"<p>Here are some visual supplemental examples. See <a href=\"https://stackoverflow.com/a/48959184/3681880\">my fuller answer</a> for examples of adding and removing a range.</p>\n\n<h2>Add single item</h2>\n\n<p>Add \"Pig\" at index <code>2</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/VGB85.gif\" width=\"200\" alt=\"Insert single item\"></p>\n\n<pre><code>String item = \"Pig\";\nint insertIndex = 2;\ndata.add(insertIndex, item);\nadapter.notifyItemInserted(insertIndex);\n</code></pre>\n\n<h2>Remove single item</h2>\n\n<p>Remove \"Pig\" from the list.</p>\n\n<p><img src=\"https://i.stack.imgur.com/je91J.gif\" width=\"200\" alt=\"Remove single item\"></p>\n\n<pre><code>int removeIndex = 2;\ndata.remove(removeIndex);\nadapter.notifyItemRemoved(removeIndex);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9550799,"reputation":825,"user_id":7095029,"accept_rate":67,"display_name":"ci0ccarellia"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1637849649,"creation_date":1529406954,"answer_id":50927082,"question_id":26076965,"body_markdown":"# The Problem\r\n`RecyclerView` was built to display data in an efficient and responsive manner.\r\nUsually you have a dataset which is passed to your adapter and is looped through to display your data.\r\nHere your dataset is:\r\n\r\n    private ArrayList&lt;String&gt; mDataset;\r\n\r\nThe point is that RecyclerView is not connected to your dataset, and therefore is unaware of your dataset changes.\r\n\r\nIt just reads data once and displays it through your ViewHolder, but a change to your dataset will not propagate to your UI.\r\n\r\nThis means that whenever you make a deletion/addition on your data list, those changes won&#39;t be reflected to your RecyclerView directly. (i.e. you remove the item at index 5, but the 6th element remains in your recycler view).\r\n\r\n# A (old school) solution\r\n`RecyclerView` exposes some methods for you to communicate your dataset changes, reflecting those changes directly on your list items.\r\n\r\nThe standard Android APIs allow you to bind the process of data *removal* (for the purpose of the question) with the process of View removal.\r\n\r\nThe methods we are talking about are:\r\n```kotlin\r\nnotifyItemChanged(index: Int)\r\nnotifyItemInserted(index: Int)\r\nnotifyItemRemoved(index: Int)\r\nnotifyItemRangeChanged(startPosition: Int, itemCount: Int)\r\nnotifyItemRangeInserted(startPosition: Int, itemCount: Int)\r\nnotifyItemRangeRemoved(startPosition: Int, itemCount: Int)\r\n```\r\n\r\n# A Complete (old school) Solution\r\nIf you don&#39;t *properly* specify what happens on each addition, change or removal of items, `RecyclerView` list items are animated unresponsively because of a lack of information about how to move the different views around the list.\r\n\r\nThe following code will allow RecyclerView to precisely play the animation with regards to the view that is being removed (And as a side note, it fixes any `IndexOutOfBoundException`s, marked by the stacktrace as &quot;data inconsistency&quot;).\r\n```kotlin\r\nvoid remove(position: Int) {\r\n    dataset.removeAt(position)\r\n    notifyItemChanged(position)\r\n    notifyItemRangeRemoved(position, 1)\r\n}\r\n```\r\n\r\nUnder the hood, if we look into `RecyclerView` we can find documentation explaining that the second parameter we pass to `notifyItemRangeRemoved ` is the number of items that **are removed** from the dataset, not the total number of items (As wrongly reported in some others information sources).\r\n\r\n        /**\r\n         * Notify any registered observers that the &lt;code&gt;itemCount&lt;/code&gt; items previously\r\n         * located at &lt;code&gt;positionStart&lt;/code&gt; have been removed from the data set. The items\r\n         * previously located at and after &lt;code&gt;positionStart + itemCount&lt;/code&gt; may now be found\r\n         * at &lt;code&gt;oldPosition - itemCount&lt;/code&gt;.\r\n         *\r\n         * &lt;p&gt;This is a structural change event. Representations of other existing items in the data\r\n         * set are still considered up to date and will not be rebound, though their positions\r\n         * may be altered.&lt;/p&gt;\r\n         *\r\n         * @param positionStart Previous position of the first item that was removed\r\n         * @param itemCount Number of items removed from the data set\r\n         */\r\n        public final void notifyItemRangeRemoved(int positionStart, int itemCount) {\r\n            mObservable.notifyItemRangeRemoved(positionStart, itemCount);\r\n        }\r\n\r\n \r\n# Open source solutions\r\nYou can let a library like [FastAdapter][1], [Epoxy][2] or [Groupie][3] take care of the business, and even use an [observable recycler view][4] with data binding.\r\n\r\n# New ListAdapter\r\nGoogle recently introduced a new way of writing the recycler view adapter, which works really well and supports reactive data.\r\n\r\nIt is a new approach and requires a bit of refactoring, but it is 100% worth switching to it, as it makes everything smoother.\r\n\r\n[here][5] is the documentation, and [here][6] a medium article explaining it\r\n\r\n  [1]: https://github.com/mikepenz/FastAdapter\r\n  [2]: https://github.com/airbnb/epoxy\r\n  [3]: https://github.com/lisawray/groupie\r\n  [4]: https://stackoverflow.com/questions/34019978/android-data-binding-observable-list-to-recyclerviews-adapter\r\n  [5]: https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\r\n  [6]: https://medium.com/androiddevelopers/adapting-to-listadapter-341da4218f5b","title":"Android RecyclerView addition &amp; removal of items","body":"<h1>The Problem</h1>\n<p><code>RecyclerView</code> was built to display data in an efficient and responsive manner.\nUsually you have a dataset which is passed to your adapter and is looped through to display your data.\nHere your dataset is:</p>\n<pre><code>private ArrayList&lt;String&gt; mDataset;\n</code></pre>\n<p>The point is that RecyclerView is not connected to your dataset, and therefore is unaware of your dataset changes.</p>\n<p>It just reads data once and displays it through your ViewHolder, but a change to your dataset will not propagate to your UI.</p>\n<p>This means that whenever you make a deletion/addition on your data list, those changes won't be reflected to your RecyclerView directly. (i.e. you remove the item at index 5, but the 6th element remains in your recycler view).</p>\n<h1>A (old school) solution</h1>\n<p><code>RecyclerView</code> exposes some methods for you to communicate your dataset changes, reflecting those changes directly on your list items.</p>\n<p>The standard Android APIs allow you to bind the process of data <em>removal</em> (for the purpose of the question) with the process of View removal.</p>\n<p>The methods we are talking about are:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>notifyItemChanged(index: Int)\nnotifyItemInserted(index: Int)\nnotifyItemRemoved(index: Int)\nnotifyItemRangeChanged(startPosition: Int, itemCount: Int)\nnotifyItemRangeInserted(startPosition: Int, itemCount: Int)\nnotifyItemRangeRemoved(startPosition: Int, itemCount: Int)\n</code></pre>\n<h1>A Complete (old school) Solution</h1>\n<p>If you don't <em>properly</em> specify what happens on each addition, change or removal of items, <code>RecyclerView</code> list items are animated unresponsively because of a lack of information about how to move the different views around the list.</p>\n<p>The following code will allow RecyclerView to precisely play the animation with regards to the view that is being removed (And as a side note, it fixes any <code>IndexOutOfBoundException</code>s, marked by the stacktrace as &quot;data inconsistency&quot;).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>void remove(position: Int) {\n    dataset.removeAt(position)\n    notifyItemChanged(position)\n    notifyItemRangeRemoved(position, 1)\n}\n</code></pre>\n<p>Under the hood, if we look into <code>RecyclerView</code> we can find documentation explaining that the second parameter we pass to <code>notifyItemRangeRemoved </code> is the number of items that <strong>are removed</strong> from the dataset, not the total number of items (As wrongly reported in some others information sources).</p>\n<pre><code>    /**\n     * Notify any registered observers that the &lt;code&gt;itemCount&lt;/code&gt; items previously\n     * located at &lt;code&gt;positionStart&lt;/code&gt; have been removed from the data set. The items\n     * previously located at and after &lt;code&gt;positionStart + itemCount&lt;/code&gt; may now be found\n     * at &lt;code&gt;oldPosition - itemCount&lt;/code&gt;.\n     *\n     * &lt;p&gt;This is a structural change event. Representations of other existing items in the data\n     * set are still considered up to date and will not be rebound, though their positions\n     * may be altered.&lt;/p&gt;\n     *\n     * @param positionStart Previous position of the first item that was removed\n     * @param itemCount Number of items removed from the data set\n     */\n    public final void notifyItemRangeRemoved(int positionStart, int itemCount) {\n        mObservable.notifyItemRangeRemoved(positionStart, itemCount);\n    }\n</code></pre>\n<h1>Open source solutions</h1>\n<p>You can let a library like <a href=\"https://github.com/mikepenz/FastAdapter\" rel=\"nofollow noreferrer\">FastAdapter</a>, <a href=\"https://github.com/airbnb/epoxy\" rel=\"nofollow noreferrer\">Epoxy</a> or <a href=\"https://github.com/lisawray/groupie\" rel=\"nofollow noreferrer\">Groupie</a> take care of the business, and even use an <a href=\"https://stackoverflow.com/questions/34019978/android-data-binding-observable-list-to-recyclerviews-adapter\">observable recycler view</a> with data binding.</p>\n<h1>New ListAdapter</h1>\n<p>Google recently introduced a new way of writing the recycler view adapter, which works really well and supports reactive data.</p>\n<p>It is a new approach and requires a bit of refactoring, but it is 100% worth switching to it, as it makes everything smoother.</p>\n<p><a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/ListAdapter\" rel=\"nofollow noreferrer\">here</a> is the documentation, and <a href=\"https://medium.com/androiddevelopers/adapting-to-listadapter-341da4218f5b\" rel=\"nofollow noreferrer\">here</a> a medium article explaining it</p>\n"},{"tags":[],"owner":{"account_id":6724779,"reputation":1030,"user_id":5922271,"display_name":"roshan posakya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531200424,"creation_date":1531200424,"answer_id":51257783,"question_id":26076965,"body_markdown":"     //////// set the position\r\n     holder.cancel.setTag(position);\r\n    \r\n    \r\n    ///// click to remove an item from recycler view and an array list\r\n    holder.cancel.setOnClickListener(new View.OnClickListener() {\r\n              @Override\r\n              public void onClick(View view) {\r\n    \r\n                int positionToRemove = (int)view.getTag(); //get the position of the view to delete stored in the tag\r\n                mDataset.remove(positionToRemove);\r\n                notifyDataSetChanged();\r\n                    }\r\n                });\r\n\r\n","title":"Android RecyclerView addition &amp; removal of items","body":"<pre><code> //////// set the position\n holder.cancel.setTag(position);\n\n\n///// click to remove an item from recycler view and an array list\nholder.cancel.setOnClickListener(new View.OnClickListener() {\n          @Override\n          public void onClick(View view) {\n\n            int positionToRemove = (int)view.getTag(); //get the position of the view to delete stored in the tag\n            mDataset.remove(positionToRemove);\n            notifyDataSetChanged();\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4571931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534836849,"creation_date":1534836849,"answer_id":51943751,"question_id":26076965,"body_markdown":"make interface into custom adapter class and handling click event on recycler view..\r\n\r\n     onItemClickListner onItemClickListner;\r\n\r\n    public void setOnItemClickListner(CommentsAdapter.onItemClickListner onItemClickListner) {\r\n        this.onItemClickListner = onItemClickListner;\r\n    }\r\n\r\n    public interface onItemClickListner {\r\n        void onClick(Contact contact);//pass your object types.\r\n    }\r\n        @Override\r\n    public void onBindViewHolder(ItemViewHolder holder, int position) {\r\n        // below code handle click event on recycler view item.\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                onItemClickListner.onClick(mContectList.get(position));\r\n            }\r\n        });\r\n    }\r\n\r\nafter define adapter and bind into recycler view called below code..\r\n\r\n            adapter.setOnItemClickListner(new CommentsAdapter.onItemClickListner() {\r\n            @Override\r\n            public void onClick(Contact contact) {\r\n                contectList.remove(contectList.get(contectList.indexOf(contact)));\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }","title":"Android RecyclerView addition &amp; removal of items","body":"<p>make interface into custom adapter class and handling click event on recycler view..</p>\n\n<pre><code> onItemClickListner onItemClickListner;\n\npublic void setOnItemClickListner(CommentsAdapter.onItemClickListner onItemClickListner) {\n    this.onItemClickListner = onItemClickListner;\n}\n\npublic interface onItemClickListner {\n    void onClick(Contact contact);//pass your object types.\n}\n    @Override\npublic void onBindViewHolder(ItemViewHolder holder, int position) {\n    // below code handle click event on recycler view item.\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            onItemClickListner.onClick(mContectList.get(position));\n        }\n    });\n}\n</code></pre>\n\n<p>after define adapter and bind into recycler view called below code..</p>\n\n<pre><code>        adapter.setOnItemClickListner(new CommentsAdapter.onItemClickListner() {\n        @Override\n        public void onClick(Contact contact) {\n            contectList.remove(contectList.get(contectList.indexOf(contact)));\n            adapter.notifyDataSetChanged();\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13733259,"reputation":1173,"user_id":9910265,"display_name":"Mohamed Ben Romdhane"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596656520,"creation_date":1548338013,"answer_id":54348258,"question_id":26076965,"body_markdown":"\r\n\r\n\r\n\r\n      public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n    private Context context;\r\n    private List&lt;cardview_widgets&gt; list;\r\n\r\n    public MyAdapter(Context context, List&lt;cardview_widgets&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n        View view = LayoutInflater.from(this.context).inflate(R.layout.fragment1_one_item,\r\n                viewGroup, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        TextView txtValue;\r\n        TextView txtCategory;\r\n        ImageView imgInorEx;\r\n        ImageView imgCategory;\r\n        TextView txtDate;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtValue= itemView.findViewById(R.id.id_values);\r\n            txtCategory= itemView.findViewById(R.id.id_category);\r\n            imgInorEx= itemView.findViewById(R.id.id_inorex);\r\n            imgCategory= itemView.findViewById(R.id.id_imgcategory);\r\n            txtDate= itemView.findViewById(R.id.id_date);\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final MyViewHolder myViewHolder, int i) {\r\n\r\n        myViewHolder.txtValue.setText(String.valueOf(list.get(i).getValuee()));\r\n        myViewHolder.txtCategory.setText(list.get(i).getCategory());\r\n        myViewHolder.imgInorEx.setBackgroundColor(list.get(i).getImg_inorex());\r\n        myViewHolder.imgCategory.setImageResource(list.get(i).getImg_category());\r\n        myViewHolder.txtDate.setText(list.get(i).getDate());\r\n        myViewHolder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                list.remove(myViewHolder.getAdapterPosition());\r\n                notifyDataSetChanged();\r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }}      \r\n\r\ni hope this help you.","title":"Android RecyclerView addition &amp; removal of items","body":"<pre><code>  public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\nprivate Context context;\nprivate List&lt;cardview_widgets&gt; list;\n\npublic MyAdapter(Context context, List&lt;cardview_widgets&gt; list) {\n    this.context = context;\n    this.list = list;\n}\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\n    View view = LayoutInflater.from(this.context).inflate(R.layout.fragment1_one_item,\n            viewGroup, false);\n    return new MyViewHolder(view);\n}\n\npublic static class MyViewHolder extends RecyclerView.ViewHolder {\n    TextView txtValue;\n    TextView txtCategory;\n    ImageView imgInorEx;\n    ImageView imgCategory;\n    TextView txtDate;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        txtValue= itemView.findViewById(R.id.id_values);\n        txtCategory= itemView.findViewById(R.id.id_category);\n        imgInorEx= itemView.findViewById(R.id.id_inorex);\n        imgCategory= itemView.findViewById(R.id.id_imgcategory);\n        txtDate= itemView.findViewById(R.id.id_date);\n    }\n}\n\n@NonNull\n@Override\npublic void onBindViewHolder(@NonNull final MyViewHolder myViewHolder, int i) {\n\n    myViewHolder.txtValue.setText(String.valueOf(list.get(i).getValuee()));\n    myViewHolder.txtCategory.setText(list.get(i).getCategory());\n    myViewHolder.imgInorEx.setBackgroundColor(list.get(i).getImg_inorex());\n    myViewHolder.imgCategory.setImageResource(list.get(i).getImg_category());\n    myViewHolder.txtDate.setText(list.get(i).getDate());\n    myViewHolder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View v) {\n            list.remove(myViewHolder.getAdapterPosition());\n            notifyDataSetChanged();\n            return false;\n        }\n    });\n}\n\n@Override\npublic int getItemCount() {\n    return list.size();\n}}      \n</code></pre>\n<p>i hope this help you.</p>\n"},{"tags":[],"owner":{"account_id":10229625,"reputation":187,"user_id":7550898,"display_name":"forestbaba"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1576609107,"creation_date":1549641144,"answer_id":54596007,"question_id":26076965,"body_markdown":"Incase Anyone wants to implement something like this  in Main class instead of Adapter class, you can use:\r\n\r\n    public void removeAt(int position) {\r\n        peopleListUser.remove(position);\r\n\r\n        friendsListRecycler.getAdapter().notifyItemRemoved(position);\r\n        friendsListRecycler.getAdapter().notifyItemRangeChanged(position, peopleListUser.size());\r\n    }\r\n\r\nwhere friendsListRecycler is the Adapter name\r\n","title":"Android RecyclerView addition &amp; removal of items","body":"<p>Incase Anyone wants to implement something like this  in Main class instead of Adapter class, you can use:</p>\n\n<pre><code>public void removeAt(int position) {\n    peopleListUser.remove(position);\n\n    friendsListRecycler.getAdapter().notifyItemRemoved(position);\n    friendsListRecycler.getAdapter().notifyItemRangeChanged(position, peopleListUser.size());\n}\n</code></pre>\n\n<p>where friendsListRecycler is the Adapter name</p>\n"},{"tags":[],"owner":{"account_id":15049793,"reputation":1414,"user_id":10861790,"display_name":"Diako Hasani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563025291,"creation_date":1563025291,"answer_id":57019704,"question_id":26076965,"body_markdown":"To Method `onBindViewHolder` Write This Code\r\n\r\n    holder.remove.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Cursor del=dbAdapter.ExecuteQ(&quot;delete from TblItem where Id=&quot;+values.get(position).getId());\r\n                    values.remove(position);\r\n                    notifyDataSetChanged();\r\n                }\r\n            });\r\n\r\n","title":"Android RecyclerView addition &amp; removal of items","body":"<p>To Method <code>onBindViewHolder</code> Write This Code</p>\n\n<pre><code>holder.remove.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Cursor del=dbAdapter.ExecuteQ(\"delete from TblItem where Id=\"+values.get(position).getId());\n                values.remove(position);\n                notifyDataSetChanged();\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12638560,"reputation":956,"user_id":9186913,"display_name":"raj kavadia"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1572459749,"creation_date":1572459749,"answer_id":58631582,"question_id":26076965,"body_markdown":"In case you are wondering like I did where can we get the adapter position in the method getadapterposition(); its in viewholder object.so you have to put your code like this\r\n\r\n    mdataset.remove(holder.getadapterposition());\r\n\r\n","title":"Android RecyclerView addition &amp; removal of items","body":"<p>In case you are wondering like I did where can we get the adapter position in the method getadapterposition(); its in viewholder object.so you have to put your code like this</p>\n\n<pre><code>mdataset.remove(holder.getadapterposition());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7832532,"reputation":1060,"user_id":5921933,"accept_rate":38,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574829232,"creation_date":1574829232,"answer_id":59063060,"question_id":26076965,"body_markdown":"&gt; In the activity:\r\n\r\n    mAdapter.updateAt(pos, text, completed);\r\n    mAdapter.removeAt(pos);\r\n\r\n\r\n&gt; In the your adapter:\r\n\r\n    void removeAt(int position) {\r\n        list.remove(position);\r\n        notifyItemRemoved(position);\r\n        notifyItemRangeChanged(position, list.size());\r\n    }\r\n\r\n    void updateAt(int position, String text, Boolean completed) {\r\n        TodoEntity todoEntity = list.get(position);\r\n        todoEntity.setText(text);\r\n        todoEntity.setCompleted(completed);\r\n        notifyItemChanged(position);\r\n    }","title":"Android RecyclerView addition &amp; removal of items","body":"<blockquote>\n  <p>In the activity:</p>\n</blockquote>\n\n<pre><code>mAdapter.updateAt(pos, text, completed);\nmAdapter.removeAt(pos);\n</code></pre>\n\n<blockquote>\n  <p>In the your adapter:</p>\n</blockquote>\n\n<pre><code>void removeAt(int position) {\n    list.remove(position);\n    notifyItemRemoved(position);\n    notifyItemRangeChanged(position, list.size());\n}\n\nvoid updateAt(int position, String text, Boolean completed) {\n    TodoEntity todoEntity = list.get(position);\n    todoEntity.setText(text);\n    todoEntity.setCompleted(completed);\n    notifyItemChanged(position);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17660120,"reputation":67,"user_id":12818749,"display_name":"Mohammad Zolghadr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611268815,"creation_date":1611268815,"answer_id":65836833,"question_id":26076965,"body_markdown":"you must to remove this item from arrayList of data \r\n\r\n   \r\n\r\n    myDataset.remove(holder.getAdapterPosition());\r\n    notifyItemRemoved(holder.getAdapterPosition());\r\n    notifyItemRangeChanged(holder.getAdapterPosition(), getItemCount());","title":"Android RecyclerView addition &amp; removal of items","body":"<p>you must to remove this item from arrayList of data</p>\n<pre><code>myDataset.remove(holder.getAdapterPosition());\nnotifyItemRemoved(holder.getAdapterPosition());\nnotifyItemRangeChanged(holder.getAdapterPosition(), getItemCount());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23331518,"reputation":29,"user_id":17407846,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656234365,"creation_date":1656234365,"answer_id":72760229,"question_id":26076965,"body_markdown":"in 2022, after trying everything the whole internet given below is the answer\r\n\r\n\r\nIn MyViewHolder class\r\n\r\n    private myAdapter adapter;\r\n\r\ninside MyViewHolder function initalise adapter\r\n\r\n    adapter = myAdapter.this\r\n\r\n\r\ninside onclick\r\n\r\n    int position = getAdapterPosition()\r\n    list.remove(position);\r\n                adapter.notifyItemRemoved(position);","title":"Android RecyclerView addition &amp; removal of items","body":"<p>in 2022, after trying everything the whole internet given below is the answer</p>\n<p>In MyViewHolder class</p>\n<pre><code>private myAdapter adapter;\n</code></pre>\n<p>inside MyViewHolder function initalise adapter</p>\n<pre><code>adapter = myAdapter.this\n</code></pre>\n<p>inside onclick</p>\n<pre><code>int position = getAdapterPosition()\nlist.remove(position);\n            adapter.notifyItemRemoved(position);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3524972,"reputation":828,"user_id":2946353,"display_name":"Prilaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692057550,"creation_date":1692057550,"answer_id":76902768,"question_id":26076965,"body_markdown":"Part of methods are deprecated in RecyclerView. So relevant for use is `viewHolder.getAbsoluteAdapterPosition()` or `viewHolder.getBindingAdapterPosition()`\r\n\r\nsimplified code snippet inside any click listener or callback:\r\n\r\n    val adapterPosition = viewHolder.getBindingAdapterPosition()\r\n    items.removeAt(adapterPosition)\r\n    notifyItemRemoved(adapterPosition)","title":"Android RecyclerView addition &amp; removal of items","body":"<p>Part of methods are deprecated in RecyclerView. So relevant for use is <code>viewHolder.getAbsoluteAdapterPosition()</code> or <code>viewHolder.getBindingAdapterPosition()</code></p>\n<p>simplified code snippet inside any click listener or callback:</p>\n<pre><code>val adapterPosition = viewHolder.getBindingAdapterPosition()\nitems.removeAt(adapterPosition)\nnotifyItemRemoved(adapterPosition)\n</code></pre>\n"}],"owner":{"account_id":3912446,"reputation":2199,"user_id":3237355,"accept_rate":56,"display_name":"Twentyonehundred"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335847,"favorite_count":0,"down_vote_count":1,"up_vote_count":171,"accepted_answer_id":26310638,"answer_count":20,"score":170,"last_activity_date":1692057550,"creation_date":1411836661,"question_id":26076965,"body_markdown":"I have a RecyclerView with an TextView text box and a cross button ImageView. I have a button outside of the recyclerview that makes the cross button ImageView visible / gone.\r\n\r\nI&#39;m looking to remove an item from the recylerview, when that items cross button ImageView is pressed.\r\n\r\nMy adapter:\r\n\r\n    \r\n    public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; implements View.OnClickListener, View.OnLongClickListener {\r\n\r\n        private ArrayList&lt;String&gt; mDataset;\r\n        private static Context sContext;\r\n\r\n        public MyAdapter(Context context, ArrayList&lt;String&gt; myDataset) {\r\n            mDataset = myDataset;\r\n            sContext = context;\r\n        }\r\n\r\n        @Override\r\n        public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.my_text_view, parent, false);\r\n\r\n            ViewHolder holder = new ViewHolder(v);\r\n            holder.mNameTextView.setOnClickListener(MyAdapter.this);\r\n            holder.mNameTextView.setOnLongClickListener(MyAdapter.this);\r\n\r\n            holder.mNameTextView.setTag(holder);\r\n\r\n            return holder;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(ViewHolder holder, int position) {\r\n\r\n            holder.mNameTextView.setText(mDataset.get(position));\r\n\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return mDataset.size();\r\n        }\r\n\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            ViewHolder holder = (ViewHolder) view.getTag();\r\n            if (view.getId() == holder.mNameTextView.getId()) {\r\n                Toast.makeText(sContext, holder.mNameTextView.getText(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n\r\n        @Override\r\n        public boolean onLongClick(View view) {\r\n            ViewHolder holder = (ViewHolder) view.getTag();\r\n            if (view.getId() == holder.mNameTextView.getId()) {\r\n                mDataset.remove(holder.getPosition());\r\n\r\n                notifyDataSetChanged();\r\n\r\n                Toast.makeText(sContext, &quot;Item &quot; + holder.mNameTextView.getText() + &quot; has been removed from list&quot;,\r\n                        Toast.LENGTH_SHORT).show();\r\n            }\r\n            return false;\r\n        }\r\n\r\n        public static class ViewHolder extends RecyclerView.ViewHolder {\r\n            public TextView mNumberRowTextView;\r\n            public TextView mNameTextView;\r\n\r\n\r\n            public ViewHolder(View v) {\r\n                super(v);\r\n\r\n                mNameTextView = (TextView) v.findViewById(R.id.nameTextView);\r\n            }\r\n        }\r\n    }\r\n\r\nMy layout is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:id=&quot;@+id/layout&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/nameTextView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:background=&quot;@drawable/greyline&quot;/&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/crossButton&quot;\r\n            android:layout_width=&quot;16dp&quot;\r\n            android:layout_height=&quot;16dp&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            android:layout_marginLeft=&quot;50dp&quot;\r\n            android:src=&quot;@drawable/cross&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nHow can I get something like an onClick working for my crossButton ImageView? Is there a better way? Maybe changing the whole item onclick into a remove the item? The recyclerview shows a list of locations that need to be edited. Any technical advice or comments / suggestions on best implementation would be hugely appreciated.","title":"Android RecyclerView addition &amp; removal of items","body":"<p>I have a RecyclerView with an TextView text box and a cross button ImageView. I have a button outside of the recyclerview that makes the cross button ImageView visible / gone.</p>\n\n<p>I'm looking to remove an item from the recylerview, when that items cross button ImageView is pressed.</p>\n\n<p>My adapter:</p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; implements View.OnClickListener, View.OnLongClickListener {\n\n    private ArrayList&lt;String&gt; mDataset;\n    private static Context sContext;\n\n    public MyAdapter(Context context, ArrayList&lt;String&gt; myDataset) {\n        mDataset = myDataset;\n        sContext = context;\n    }\n\n    @Override\n    public MyAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.my_text_view, parent, false);\n\n        ViewHolder holder = new ViewHolder(v);\n        holder.mNameTextView.setOnClickListener(MyAdapter.this);\n        holder.mNameTextView.setOnLongClickListener(MyAdapter.this);\n\n        holder.mNameTextView.setTag(holder);\n\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n\n        holder.mNameTextView.setText(mDataset.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mDataset.size();\n    }\n\n\n    @Override\n    public void onClick(View view) {\n        ViewHolder holder = (ViewHolder) view.getTag();\n        if (view.getId() == holder.mNameTextView.getId()) {\n            Toast.makeText(sContext, holder.mNameTextView.getText(), Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n    @Override\n    public boolean onLongClick(View view) {\n        ViewHolder holder = (ViewHolder) view.getTag();\n        if (view.getId() == holder.mNameTextView.getId()) {\n            mDataset.remove(holder.getPosition());\n\n            notifyDataSetChanged();\n\n            Toast.makeText(sContext, \"Item \" + holder.mNameTextView.getText() + \" has been removed from list\",\n                    Toast.LENGTH_SHORT).show();\n        }\n        return false;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n        public TextView mNumberRowTextView;\n        public TextView mNameTextView;\n\n\n        public ViewHolder(View v) {\n            super(v);\n\n            mNameTextView = (TextView) v.findViewById(R.id.nameTextView);\n        }\n    }\n}\n</code></pre>\n\n<p>My layout is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"horizontal\"\n    android:gravity=\"center_vertical\"\n    android:id=\"@+id/layout\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/nameTextView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"18sp\"\n        android:padding=\"5dp\"\n        android:background=\"@drawable/greyline\"/&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/crossButton\"\n        android:layout_width=\"16dp\"\n        android:layout_height=\"16dp\"\n        android:visibility=\"gone\"\n        android:layout_marginLeft=\"50dp\"\n        android:src=\"@drawable/cross\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>How can I get something like an onClick working for my crossButton ImageView? Is there a better way? Maybe changing the whole item onclick into a remove the item? The recyclerview shows a list of locations that need to be edited. Any technical advice or comments / suggestions on best implementation would be hugely appreciated.</p>\n"},{"tags":["java","arrays","stringbuilder"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1692055623,"post_id":76902678,"comment_id":135571171,"body_markdown":"Define &quot;works&quot;. What are you trying to accomplish? What is `sb`? Please show a complete code example that we can copy/paste, compile, and run ourselves without any additional errors than what you are asking about. This means you need to declare all variables that you use and include valid `System.out.println()` calls rather than just a comment.","body":"Define &quot;works&quot;. What are you trying to accomplish? What is <code>sb</code>? Please show a complete code example that we can copy/paste, compile, and run ourselves without any additional errors than what you are asking about. This means you need to declare all variables that you use and include valid <code>System.out.println()</code> calls rather than just a comment."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1692055674,"post_id":76902678,"comment_id":135571175,"body_markdown":"Also, if your question is about arrays, maybe you should do something simpler like an `int[]` to illustrate what you are doing rather than a `StringBuilder[]`.","body":"Also, if your question is about arrays, maybe you should do something simpler like an <code>int[]</code> to illustrate what you are doing rather than a <code>StringBuilder[]</code>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1692055935,"post_id":76902678,"comment_id":135571196,"body_markdown":"Your first loop pulls an element from the array, then assigns the variable a new reference, so element now points to somewhere else, not what&#39;s in the array.  The second assigns the reference to the array element directly","body":"Your first loop pulls an element from the array, then assigns the variable a new reference, so element now points to somewhere else, not what&#39;s in the array.  The second assigns the reference to the array element directly"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1694137625,"post_id":76902678,"comment_id":135855149,"body_markdown":"Does this answer your question? [Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?](https://stackoverflow.com/questions/15844443/why-doesnt-assigning-to-the-iteration-variable-in-a-foreach-loop-change-the-und)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15844443/why-doesnt-assigning-to-the-iteration-variable-in-a-foreach-loop-change-the-und\">Why doesn&#39;t assigning to the iteration variable in a foreach loop change the underlying data?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692056829,"creation_date":1692056829,"answer_id":76902733,"question_id":76902678,"body_markdown":"The `for-each` loop hides the iterator, so your first approach will not work. Another solution would be generating a `Stream&lt;StringBuilder&gt;` and then converting that to an array. Assuming you want an array of `n` `StringBuilder`(s) that might look something like,\r\n\r\n\tStringBuilder[] sb = Stream.generate(() -&gt; new StringBuilder()).limit(n)\r\n\t\t\t.toArray(size -&gt; new StringBuilder[size]);\r\n\r\nNote that a `forEach` loop over the array indices would also work\r\n\r\n\tIntStream.range(0, sb.length).forEach(i -&gt; sb[i] = new StringBuilder());","title":"Questions about StringBuilder Array","body":"<p>The <code>for-each</code> loop hides the iterator, so your first approach will not work. Another solution would be generating a <code>Stream&lt;StringBuilder&gt;</code> and then converting that to an array. Assuming you want an array of <code>n</code> <code>StringBuilder</code>(s) that might look something like,</p>\n<pre><code>StringBuilder[] sb = Stream.generate(() -&gt; new StringBuilder()).limit(n)\n        .toArray(size -&gt; new StringBuilder[size]);\n</code></pre>\n<p>Note that a <code>forEach</code> loop over the array indices would also work</p>\n<pre><code>IntStream.range(0, sb.length).forEach(i -&gt; sb[i] = new StringBuilder());\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user22390653"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692057174,"creation_date":1692057174,"answer_id":76902750,"question_id":76902678,"body_markdown":"This [answer][1] is super helpful and explains in detail about what `element` actually is in your first `for-each` loop. It&#39;s an instance of an [iterator][2], not the actual member of the `StringBuilder` array `sb`.\r\n\r\nYour second approach works because you are populating individual array elements `sb[i]` with value `&quot;&quot;`.   \r\n\r\n  \r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/85206/22390653\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html","title":"Questions about StringBuilder Array","body":"<p>This <a href=\"https://stackoverflow.com/a/85206/22390653\">answer</a> is super helpful and explains in detail about what <code>element</code> actually is in your first <code>for-each</code> loop. It's an instance of an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">iterator</a>, not the actual member of the <code>StringBuilder</code> array <code>sb</code>.</p>\n<p>Your second approach works because you are populating individual array elements <code>sb[i]</code> with value <code>&quot;&quot;</code>.</p>\n"}],"owner":{"account_id":29225936,"reputation":1,"user_id":22390627,"display_name":"hello xx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1692057174,"creation_date":1692055451,"question_id":76902678,"body_markdown":"I&#39;m trying to initialize a StringBuilder with &quot;&quot;. These are 2 samples, the first one doesn&#39;t work while the second one works. Can anyone explain a bit more? Is this because StingBuilder is an object?\r\n\r\n        for (StringBuilder element : sb){\r\n            element = new StringBuilder(&quot;&quot;); \r\n        } // this solution doesn&#39;t work, print sb[0] = null\r\n\r\n        for(int i=0; i&lt;sb.length; i++){\r\n            sb[i] = new StringBuilder(&quot;&quot;);\r\n        }\r\n\r\nI&#39;m expecting both would work.","title":"Questions about StringBuilder Array","body":"<p>I'm trying to initialize a StringBuilder with &quot;&quot;. These are 2 samples, the first one doesn't work while the second one works. Can anyone explain a bit more? Is this because StingBuilder is an object?</p>\n<pre><code>    for (StringBuilder element : sb){\n        element = new StringBuilder(&quot;&quot;); \n    } // this solution doesn't work, print sb[0] = null\n\n    for(int i=0; i&lt;sb.length; i++){\n        sb[i] = new StringBuilder(&quot;&quot;);\n    }\n</code></pre>\n<p>I'm expecting both would work.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1523127323,"post_id":49710330,"comment_id":86435271,"body_markdown":"Why do you add a &quot;module&quot;? Just add the directory.","body":"Why do you add a &quot;module&quot;? Just add the directory."},{"owner":{"account_id":4963389,"reputation":72151,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"score":0,"creation_date":1523130157,"post_id":49710330,"comment_id":86436081,"body_markdown":"What do you see when clicking on the little arrow next to Project","body":"What do you see when clicking on the little arrow next to Project"},{"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"score":0,"creation_date":1523135562,"post_id":49710330,"comment_id":86437584,"body_markdown":"@baao: I see what you can see in the screenshot. Project is already opened in the Screenshot.","body":"@baao: I see what you can see in the screenshot. Project is already opened in the Screenshot."},{"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"score":0,"creation_date":1523135623,"post_id":49710330,"comment_id":86437598,"body_markdown":"@JB Nizet. No Creating directory is not the solution. Already tried. After creating directory the context is still not java, because I can&#39;t create a class in that folder.","body":"@JB Nizet. No Creating directory is not the solution. Already tried. After creating directory the context is still not java, because I can&#39;t create a class in that folder."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1523135677,"post_id":49710330,"comment_id":86437615,"body_markdown":"That&#39;s normal. Java classes go into src/main/java. Not in src.","body":"That&#39;s normal. Java classes go into src/main/java. Not in src."},{"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"score":1,"creation_date":1523138044,"post_id":49710330,"comment_id":86438198,"body_markdown":"src/main/java is also not there. That is not the point. It is not normal to manually add this folders. That is the point. See my answer. In my oppinion this should be a task for the IDE and not for the developer. I even was not able to add folders manually. I had to configure this hidden magical checkbox in my answer.","body":"src/main/java is also not there. That is not the point. It is not normal to manually add this folders. That is the point. See my answer. In my oppinion this should be a task for the IDE and not for the developer. I even was not able to add folders manually. I had to configure this hidden magical checkbox in my answer."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":1,"creation_date":1523186749,"post_id":49710330,"comment_id":86447617,"body_markdown":"Sorry, there is a bug in 2018.1 version when the project structure for a new Gradle project is not created automatically:  https://youtrack.jetbrains.com/issue/IDEA-189674 I hope it will be fixed soon.","body":"Sorry, there is a bug in 2018.1 version when the project structure for a new Gradle project is not created automatically:  <a href=\"https://youtrack.jetbrains.com/issue/IDEA-189674\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-189674</a> I hope it will be fixed soon."}],"answers":[{"tags":[],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1528792526,"creation_date":1523136261,"answer_id":49712129,"question_id":49710330,"body_markdown":"**For Windows** the solution is. To go manually into:\r\nFile -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Gradle -&gt; check the &quot;Create directories for empty content roots automatically&quot;.\r\n\r\n**For Mac** the solution is. To go manually into:\r\nIntellij IDEA -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle -&gt; check the &quot;Create directories for empty content roots automatically&quot;.\r\n","title":"src folder not created when creating simple Intellij java gradle Project","body":"<p><strong>For Windows</strong> the solution is. To go manually into:\nFile -> Settings -> Build, Execution, Deployment -> Gradle -> check the \"Create directories for empty content roots automatically\".</p>\n\n<p><strong>For Mac</strong> the solution is. To go manually into:\nIntellij IDEA -> Preferences -> Build, Execution, Deployment -> Build Tools -> Gradle -> check the \"Create directories for empty content roots automatically\".</p>\n"},{"tags":[],"owner":{"account_id":3771669,"reputation":121,"user_id":3133668,"display_name":"Rehan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1527080401,"creation_date":1527080401,"answer_id":50489107,"question_id":49710330,"body_markdown":"@here\r\nA quick fix that worked for me. Once you have created the gradle project as mentioned in the question\r\n\r\n- open the gradle sidebar on the right hand side.\r\n- click settings\r\n- a new dialog box will appear.\r\n- In this dialog box check the option &quot;create directories for empty contents roots automatically&quot;\r\n- then click apply and src folders will be created for you .. \r\n\r\nImages are attached for clarity.\r\n\r\n[Open the gradle sidebar on the right hand side.][1]\r\n\r\n[Check the option &quot;create directories for empty contents roots automatically&quot;][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3pLtb.png\r\n  [2]: https://i.stack.imgur.com/bPUuN.png","title":"src folder not created when creating simple Intellij java gradle Project","body":"<p>@here\nA quick fix that worked for me. Once you have created the gradle project as mentioned in the question</p>\n\n<ul>\n<li>open the gradle sidebar on the right hand side.</li>\n<li>click settings</li>\n<li>a new dialog box will appear.</li>\n<li>In this dialog box check the option \"create directories for empty contents roots automatically\"</li>\n<li>then click apply and src folders will be created for you .. </li>\n</ul>\n\n<p>Images are attached for clarity.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3pLtb.png\" rel=\"noreferrer\">Open the gradle sidebar on the right hand side.</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/bPUuN.png\" rel=\"noreferrer\">Check the option \"create directories for empty contents roots automatically\"</a></p>\n"},{"tags":[],"owner":{"account_id":13656967,"reputation":31,"user_id":9853190,"display_name":"Richard Shin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531022547,"creation_date":1531022547,"answer_id":51228735,"question_id":49710330,"body_markdown":"If enabling the &quot;Create directories for empty content roots automatically&quot; setting does not show the src directory, check the project structure and try creating and deleting a dummy module.&lt;br&gt;&lt;br&gt;\r\n\r\n1. File -&gt; Project Structure -&gt; Modules -&gt; Project Name -&gt; Confirm that src is part of the hierarchy and exit out of the pop up&lt;br&gt;\r\n2. Right click on the root folder of the project -&gt; New -&gt; Module &lt;br&gt;\r\n3. The IDE may have refreshed, along with the visibility of the src folder","title":"src folder not created when creating simple Intellij java gradle Project","body":"<p>If enabling the \"Create directories for empty content roots automatically\" setting does not show the src directory, check the project structure and try creating and deleting a dummy module.<br><br></p>\n\n<ol>\n<li>File -> Project Structure -> Modules -> Project Name -> Confirm that src is part of the hierarchy and exit out of the pop up<br></li>\n<li>Right click on the root folder of the project -> New -> Module <br></li>\n<li>The IDE may have refreshed, along with the visibility of the src folder</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5043431,"reputation":387,"user_id":4050148,"accept_rate":40,"display_name":"justAnotherGuy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538078243,"creation_date":1538078243,"answer_id":52544273,"question_id":49710330,"body_markdown":"None of the above worked for me. Finally, had to go raw.\r\n\r\n    gradle init --type java-library\r\n\r\nFollowed [Mkyong&#39;s page on gradle init][1]\r\n\r\nThen, simply &#39;Open&#39; project in Intellij. Then updated project settings related to JAVA_HOME and Gradle home (Chances are these were related to my specific installation). \r\n\r\n  [1]: https://www.mkyong.com/gradle/gradle-create-java-project-structure-automatically/\r\n\r\n","title":"src folder not created when creating simple Intellij java gradle Project","body":"<p>None of the above worked for me. Finally, had to go raw.</p>\n\n<pre><code>gradle init --type java-library\n</code></pre>\n\n<p>Followed <a href=\"https://www.mkyong.com/gradle/gradle-create-java-project-structure-automatically/\" rel=\"nofollow noreferrer\">Mkyong's page on gradle init</a></p>\n\n<p>Then, simply 'Open' project in Intellij. Then updated project settings related to JAVA_HOME and Gradle home (Chances are these were related to my specific installation). </p>\n"},{"tags":[],"owner":{"account_id":14900980,"reputation":29,"user_id":10759808,"display_name":"sososocke"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1544186599,"creation_date":1544186599,"answer_id":53669818,"question_id":49710330,"body_markdown":"Add a directory named &#39;src&#39;. Right click on it and then click Mark Directory as Sources Root.\r\n","title":"src folder not created when creating simple Intellij java gradle Project","body":"<p>Add a directory named 'src'. Right click on it and then click Mark Directory as Sources Root.</p>\n"},{"tags":[],"owner":{"account_id":9816239,"reputation":444,"user_id":7272663,"display_name":"ASB"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1692055738,"creation_date":1584221589,"answer_id":60687501,"question_id":49710330,"body_markdown":"Just right-click on your project directory and choose `New -&gt; Directory`.&lt;br&gt; Select all four to be created.\r\n1. src/main/java\r\n2. src/main/resource\r\n3. src/test/java\r\n4. src/test/resource\r\n\r\n[![right click on project directory][1]][1]\r\n\r\n\r\n[![choose the four choices][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gUBFs.png\r\n  [2]: https://i.stack.imgur.com/qgS6w.png\r\n\r\nfound the answer here: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206806425-Source-Directories-Not-Being-Created-In-New-Project","title":"src folder not created when creating simple Intellij java gradle Project","body":"<p>Just right-click on your project directory and choose <code>New -&gt; Directory</code>.<br> Select all four to be created.</p>\n<ol>\n<li>src/main/java</li>\n<li>src/main/resource</li>\n<li>src/test/java</li>\n<li>src/test/resource</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/gUBFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gUBFs.png\" alt=\"right click on project directory\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qgS6w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qgS6w.png\" alt=\"choose the four choices\" /></a></p>\n<p>found the answer here: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206806425-Source-Directories-Not-Being-Created-In-New-Project\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206806425-Source-Directories-Not-Being-Created-In-New-Project</a></p>\n"},{"tags":[],"owner":{"account_id":13410743,"reputation":570,"user_id":9677320,"display_name":"Tri Dawn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641046774,"creation_date":1641046323,"answer_id":70549407,"question_id":49710330,"body_markdown":"As of January 2022 with Intellij IDEA 2021.1.3 and Gradle 6.8\r\n-------------------------------------------------------------\r\n\r\n**First of all, right-click your project main folder ...**\r\n\r\n[![First Step][1]][1]\r\n\r\n\r\n**Go to &gt; New &gt; Directory...**\r\n\r\n[![Second Step][2]][2]\r\n\r\n**After clicking the &quot;Directory&quot; option, this will open a dialog containing available options of &quot;Gradle Source Sets&quot; to add.**\r\n\r\n[![Third Step][3]][3]\r\n\r\n**You can select what *&quot;Gradle Source Sets&quot;* you want to add. In my case, I have already added the *&quot;src/main/kotlin&quot;* (Notice it&#39;s not displayed in the options).**\r\n\r\n  [1]: https://i.stack.imgur.com/LIxzF.png\r\n  [2]: https://i.stack.imgur.com/9F57w.png\r\n  [3]: https://i.stack.imgur.com/pzV2P.png","title":"src folder not created when creating simple Intellij java gradle Project","body":"<h2>As of January 2022 with Intellij IDEA 2021.1.3 and Gradle 6.8</h2>\n<p><strong>First of all, right-click your project main folder ...</strong></p>\n<p><a href=\"https://i.stack.imgur.com/LIxzF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LIxzF.png\" alt=\"First Step\" /></a></p>\n<p><strong>Go to &gt; New &gt; Directory...</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9F57w.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9F57w.png\" alt=\"Second Step\" /></a></p>\n<p><strong>After clicking the &quot;Directory&quot; option, this will open a dialog containing available options of &quot;Gradle Source Sets&quot; to add.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pzV2P.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pzV2P.png\" alt=\"Third Step\" /></a></p>\n<p><strong>You can select what <em>&quot;Gradle Source Sets&quot;</em> you want to add. In my case, I have already added the <em>&quot;src/main/kotlin&quot;</em> (Notice it's not displayed in the options).</strong></p>\n"}],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54517,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":49712129,"answer_count":7,"score":54,"last_activity_date":1692055738,"creation_date":1523123960,"question_id":49710330,"body_markdown":"I am following the instructions to create a simple IntelliJ Project with Gradle support and the src folder is not created (I guess this is the base of any Java Project)\r\nhttps://www.jetbrains.com/help/idea/getting-started-with-gradle.html\r\n\r\n1. New Project: I check Gradle and Java - next\r\n2. Added Artefact ID -&gt; next\r\n3. &quot;Use auto-import&quot;, &quot;using explicit module groups&quot;, &quot;create separate Module per source set&quot;, &quot;Use default Gradle wrapper&quot; -&gt; next\r\n4. Give a project name -&gt; next\r\n\r\nI have no src folder. I am not able to add a new class.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen doing the same without gradle I have the src folder. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FSHNp.png\r\n\r\n\r\n**UPDATE**\r\nAdding a module called &quot;src&quot; works, but then I have a module called src and a folder in it called src. But this is a hack. Just bought IntelliJ for 200 bucks and I hope this can be solved in a more professional way :-)\r\n\r\n","title":"src folder not created when creating simple Intellij java gradle Project","body":"<p>I am following the instructions to create a simple IntelliJ Project with Gradle support and the src folder is not created (I guess this is the base of any Java Project)\n<a href=\"https://www.jetbrains.com/help/idea/getting-started-with-gradle.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/getting-started-with-gradle.html</a></p>\n\n<ol>\n<li>New Project: I check Gradle and Java - next</li>\n<li>Added Artefact ID -> next</li>\n<li>\"Use auto-import\", \"using explicit module groups\", \"create separate Module per source set\", \"Use default Gradle wrapper\" -> next</li>\n<li>Give a project name -> next</li>\n</ol>\n\n<p>I have no src folder. I am not able to add a new class.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FSHNp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FSHNp.png\" alt=\"enter image description here\"></a></p>\n\n<p>When doing the same without gradle I have the src folder. </p>\n\n<p><strong>UPDATE</strong>\nAdding a module called \"src\" works, but then I have a module called src and a folder in it called src. But this is a hack. Just bought IntelliJ for 200 bucks and I hope this can be solved in a more professional way :-)</p>\n"},{"tags":["java","jtextfield","swingx"],"answers":[{"tags":[],"owner":{"account_id":8912177,"reputation":29,"user_id":6651974,"display_name":"g_haxor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471886912,"creation_date":1471886912,"answer_id":39085423,"question_id":39085261,"body_markdown":"The columns property of JTextField is used to determine the preferred width of the object. If an initial String is provided as in your example `new JTextField(&quot;abc&quot;, 3);` then the field is painted to match the text size. Otherwise, the columns allow parallel stacking of text within the `JTextField` itself. Therefore, the reason you get whitespace after the `&quot;abc&quot;` in your example is because it defaults to place the string in the first column, then two columns of whitespace. ","title":"What is the width of a &quot;column&quot; for a JTextField?","body":"<p>The columns property of JTextField is used to determine the preferred width of the object. If an initial String is provided as in your example <code>new JTextField(\"abc\", 3);</code> then the field is painted to match the text size. Otherwise, the columns allow parallel stacking of text within the <code>JTextField</code> itself. Therefore, the reason you get whitespace after the <code>\"abc\"</code> in your example is because it defaults to place the string in the first column, then two columns of whitespace. </p>\n"},{"tags":[],"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1513126407,"creation_date":1513126407,"answer_id":47783938,"question_id":39085261,"body_markdown":"If you are using a standard `JTextField`, the columns specifies the preferred width of the component as some multiple of `getColumnWidth()`.\r\n\r\nThe method `getColumnWidth()` defines the width in pixels of each column.  The documentation states: &quot;By default this is defined to be the width of the character &#39;m&#39; for the font used.&quot;\r\n\r\nThe text field may display at a different size if the layout manager modifies it.","title":"What is the width of a &quot;column&quot; for a JTextField?","body":"<p>If you are using a standard <code>JTextField</code>, the columns specifies the preferred width of the component as some multiple of <code>getColumnWidth()</code>.</p>\n\n<p>The method <code>getColumnWidth()</code> defines the width in pixels of each column.  The documentation states: \"By default this is defined to be the width of the character 'm' for the font used.\"</p>\n\n<p>The text field may display at a different size if the layout manager modifies it.</p>\n"},{"tags":[],"owner":{"account_id":2125071,"reputation":316,"user_id":1887468,"display_name":"BUDDHIKA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692054932,"creation_date":1692054932,"answer_id":76902658,"question_id":39085261,"body_markdown":"Thanks for the  Enwired&#39;s answer. This bugged me for some time. \r\nTo further elaborate Enwired&#39;s answer, it is the number of m&#39;s that the JTextField can display on the screen (panel or window).\r\n\r\nObservations\r\n\r\n    new JTextField(&quot;mmm&quot;, 3);   // this 3 is number of &#39;m&#39; that we allow to fit in, please note that &#39;mmm&#39; and &#39;abc&#39; widths are different even though they are same character count, that is 3\r\n\r\nFor the above code it will display a JTextField with 3 m&#39;s width. (we can type more m&#39;s on this JTextField, but on the TextField it shows only 3m&#39;s)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf we type &quot;abc&quot; on this, there is still remaining space on the text field where we can accommodate another character like shown below,\r\n\r\n[![enter image description here][2]][2] \r\n\r\n    new JTextField(&quot;mmm&quot;, 3);\r\n\r\nso, the conclusion seems to be it (argument value 3) is not the number of characters that we can fit into JTextField, but the number of &#39;m&#39; that we can fit in.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4c4gW.png\r\n  [2]: https://i.stack.imgur.com/uUTqr.png","title":"What is the width of a &quot;column&quot; for a JTextField?","body":"<p>Thanks for the  Enwired's answer. This bugged me for some time.\nTo further elaborate Enwired's answer, it is the number of m's that the JTextField can display on the screen (panel or window).</p>\n<p>Observations</p>\n<pre><code>new JTextField(&quot;mmm&quot;, 3);   // this 3 is number of 'm' that we allow to fit in, please note that 'mmm' and 'abc' widths are different even though they are same character count, that is 3\n</code></pre>\n<p>For the above code it will display a JTextField with 3 m's width. (we can type more m's on this JTextField, but on the TextField it shows only 3m's)</p>\n<p><a href=\"https://i.stack.imgur.com/4c4gW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4c4gW.png\" alt=\"enter image description here\" /></a></p>\n<p>If we type &quot;abc&quot; on this, there is still remaining space on the text field where we can accommodate another character like shown below,</p>\n<p><a href=\"https://i.stack.imgur.com/uUTqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uUTqr.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>new JTextField(&quot;mmm&quot;, 3);\n</code></pre>\n<p>so, the conclusion seems to be it (argument value 3) is not the number of characters that we can fit into JTextField, but the number of 'm' that we can fit in.</p>\n"}],"owner":{"account_id":3716605,"reputation":108,"user_id":3092671,"display_name":"user3092671"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7066,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692054932,"creation_date":1471886317,"question_id":39085261,"body_markdown":"Per the `JTextField` doc, you can set the width of the field delineated in “columns”, but cannot find a definition for “columns”.\r\n\r\nMoreover, doing something like this:\r\n\r\n    new JTextField(&quot;abc&quot;, 3);\r\n\r\nResults in a text field of width populated with the string `abc` and then extra whitespace afterwards.\r\n\r\nCan someone clarify the the definition of columns as used in the `JTextField` constructor?","title":"What is the width of a &quot;column&quot; for a JTextField?","body":"<p>Per the <code>JTextField</code> doc, you can set the width of the field delineated in “columns”, but cannot find a definition for “columns”.</p>\n\n<p>Moreover, doing something like this:</p>\n\n<pre><code>new JTextField(\"abc\", 3);\n</code></pre>\n\n<p>Results in a text field of width populated with the string <code>abc</code> and then extra whitespace afterwards.</p>\n\n<p>Can someone clarify the the definition of columns as used in the <code>JTextField</code> constructor?</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691799179,"post_id":76887089,"comment_id":135545034,"body_markdown":"By definition, the `java.time.Instant` class *always* represents a moment as seen in UTC, an offset of zero hours-minutes-seconds from UTC.","body":"By definition, the <code>java.time.Instant</code> class <i>always</i> represents a moment as seen in UTC, an offset of zero hours-minutes-seconds from UTC."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691822801,"post_id":76887089,"comment_id":135546279,"body_markdown":"You are using the **wrong data type** in MySQL. To track a moment, a specific point on the timeline, in MySQL, use the type `TIMESTAMP`. You are using `DATETIME` which tracks a date and time-of-day but lacks the context of a time zone or offset. Transferring a MySQL `DATETIME` value to/from a Java `Instant` value makes no sense. The equivalent of MySQL `DATETIME` in Java is `java.time.LocalDateTime`. See [doc](https://dev.mysql.com/doc/refman/8.0/en/datetime.html).","body":"You are using the <b>wrong data type</b> in MySQL. To track a moment, a specific point on the timeline, in MySQL, use the type <code>TIMESTAMP</code>. You are using <code>DATETIME</code> which tracks a date and time-of-day but lacks the context of a time zone or offset. Transferring a MySQL <code>DATETIME</code> value to/from a Java <code>Instant</code> value makes no sense. The equivalent of MySQL <code>DATETIME</code> in Java is <code>java.time.LocalDateTime</code>. See <a href=\"https://dev.mysql.com/doc/refman/8.0/en/datetime.html\" rel=\"nofollow noreferrer\">doc</a>."},{"owner":{"account_id":15907779,"reputation":211,"user_id":11478495,"display_name":"Anthony Alba"},"score":0,"creation_date":1691896717,"post_id":76887089,"comment_id":135552202,"body_markdown":"@BasilBourque - a Java java.time.* mapping to TIMESTAMP column has some undesirable MySQL automatic timezone conversions where we don&#39;t have control over the database timezone. Also we try to keep the existing JDBC URL - which doesn&#39;t set the timezone.","body":"@BasilBourque - a Java java.time.* mapping to TIMESTAMP column has some undesirable MySQL automatic timezone conversions where we don&#39;t have control over the database timezone. Also we try to keep the existing JDBC URL - which doesn&#39;t set the timezone."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691959584,"post_id":76887089,"comment_id":135557809,"body_markdown":"No, in JDBC 4.2 and later, the MySQL type `TIMESTAMP` maps to `java.time.OffsetDateTime`. The default time zone of your database server, of your database session, and of your JVM are all irrelevant. If you cannot get that to work, you should post a Question on *that* topic. Your Question here is nonsensical, per my second Comment.","body":"No, in JDBC 4.2 and later, the MySQL type <code>TIMESTAMP</code> maps to <code>java.time.OffsetDateTime</code>. The default time zone of your database server, of your database session, and of your JVM are all irrelevant. If you cannot get that to work, you should post a Question on <i>that</i> topic. Your Question here is nonsensical, per my second Comment."}],"owner":{"account_id":15907779,"reputation":211,"user_id":11478495,"display_name":"Anthony Alba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692054916,"creation_date":1691795175,"question_id":76887089,"body_markdown":"I know about the `jdbc.time_zone = UTC` setting from [Vlad Mihalcea](https://stackoverflow.com/users/1025118/vlad-mihalcea)&#39;s article:\r\n\r\n https://vladmihalcea.com/how-to-store-date-time-and-timestamps-in-utc-time-zone-with-jdbc-and-hibernate/\r\n\r\nso that Hibernate will persist java.time.* objects in UTC. In practice Instant always seems to use UTC regardless of this setting (which I guess makes sense).\r\n\r\nI couldn&#39;t find this documented anywhere though. So I just wanted to get confirmation that Instant will be always be persisted/retrieved as UTC, regardless of the `jdbc.time_zone` setting. Has this always been the case since Hibernate 5.2 when `jdbc_time_zone` was introduced?\r\n\r\nIn case it matters: in this particular case the target column is a MySQL 8 DATETIME(3), the connector is mysql-connector-jar:8.0.33, and Hibernate is 6.2.x.\r\n\r\nWith logging turned on\r\n\r\n```\r\n... other stuff ...\r\n21:15:15.282 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [4] as [TIMESTAMP_UTC] - [2023-08-11T13:15:15.244980506Z]\r\n21:15:15.282 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [5] as [TIMESTAMP_UTC] - [2023-08-18T13:15:15.189442027Z]\r\n21:15:15.282 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [6] as [TIMESTAMP_UTC] - [2023-08-11T13:15:15.244980506Z]\r\n... other stuff ...\r\n```","title":"Hibernate 6 Instant always uses UTC? - does not need jdbc.time_zone setting","body":"<p>I know about the <code>jdbc.time_zone = UTC</code> setting from <a href=\"https://stackoverflow.com/users/1025118/vlad-mihalcea\">Vlad Mihalcea</a>'s article:</p>\n<p><a href=\"https://vladmihalcea.com/how-to-store-date-time-and-timestamps-in-utc-time-zone-with-jdbc-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/how-to-store-date-time-and-timestamps-in-utc-time-zone-with-jdbc-and-hibernate/</a></p>\n<p>so that Hibernate will persist java.time.* objects in UTC. In practice Instant always seems to use UTC regardless of this setting (which I guess makes sense).</p>\n<p>I couldn't find this documented anywhere though. So I just wanted to get confirmation that Instant will be always be persisted/retrieved as UTC, regardless of the <code>jdbc.time_zone</code> setting. Has this always been the case since Hibernate 5.2 when <code>jdbc_time_zone</code> was introduced?</p>\n<p>In case it matters: in this particular case the target column is a MySQL 8 DATETIME(3), the connector is mysql-connector-jar:8.0.33, and Hibernate is 6.2.x.</p>\n<p>With logging turned on</p>\n<pre><code>... other stuff ...\n21:15:15.282 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [4] as [TIMESTAMP_UTC] - [2023-08-11T13:15:15.244980506Z]\n21:15:15.282 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [5] as [TIMESTAMP_UTC] - [2023-08-18T13:15:15.189442027Z]\n21:15:15.282 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [6] as [TIMESTAMP_UTC] - [2023-08-11T13:15:15.244980506Z]\n... other stuff ...\n</code></pre>\n"},{"tags":["java","sql","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692002430,"post_id":884154,"comment_id":135561854,"body_markdown":"Similar: https://stackoverflow.com/q/24175307/642706 &amp; https://stackoverflow.com/q/4406935/642706","body":"Similar: <a href=\"https://stackoverflow.com/q/24175307/642706\">stackoverflow.com/q/24175307/642706</a> &amp; <a href=\"https://stackoverflow.com/q/4406935/642706\">stackoverflow.com/q/4406935/642706</a>"}],"answers":[{"tags":[],"owner":{"account_id":34878,"reputation":5531,"user_id":98632,"display_name":"mtpettyp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263665407,"creation_date":1242755698,"answer_id":884190,"question_id":884154,"body_markdown":"In your hibernate.cfg.xml:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n              &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n              &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;\r\n                org.hibernate.dialect.MySQLDialect\r\n            &lt;/property&gt;    \r\n            &lt;property name=&quot;connection.datasource&quot;&gt;SampleDS&lt;/property&gt;        \r\n        &lt;/session-factory&gt;\r\n    \r\n    &lt;/hibernate-configuration&gt;\r\n\r\n","title":"Hibernate using an instance of javax.sql.DataSource","body":"<p>In your hibernate.cfg.xml:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n          \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n          \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"dialect\"&gt;\n            org.hibernate.dialect.MySQLDialect\n        &lt;/property&gt;    \n        &lt;property name=\"connection.datasource\"&gt;SampleDS&lt;/property&gt;        \n    &lt;/session-factory&gt;\n\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1242756202,"creation_date":1242756202,"answer_id":884229,"question_id":884154,"body_markdown":"If you&#39;re using spring initialization and a spring session factory bean you can simply pass in the data source like this\r\n\r\n    \r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        ...\r\n    &lt;/bean&gt;\r\nwhere the dataSource reference is defined elsewhere.","title":"Hibernate using an instance of javax.sql.DataSource","body":"<p>If you're using spring initialization and a spring session factory bean you can simply pass in the data source like this</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    ...\n&lt;/bean&gt;\n</code></pre>\n\n<p>where the dataSource reference is defined elsewhere.</p>\n"},{"tags":[],"owner":{"account_id":31084,"reputation":128374,"user_id":85134,"display_name":"araqnid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1242756234,"creation_date":1242756234,"answer_id":884234,"question_id":884154,"body_markdown":"If the data source is available through JNDI, you just need to set the hibernate.connection.datasource property of the configuration - mtpettyp&#39;s answer demonstrates that.\r\n\r\nIf you&#39;re not in an environment where your data sources come from JNDI, provide your own ConnectionProvider implementation, and either pass it to the Settings object before building the session factory, or specify its class name in the hibernate.connection.provider_class property. If you provide an instance to Settings, you can probably instantiate the standard DatasourceConnectionProvider and give it your DataSource.\r\n","title":"Hibernate using an instance of javax.sql.DataSource","body":"<p>If the data source is available through JNDI, you just need to set the hibernate.connection.datasource property of the configuration - mtpettyp's answer demonstrates that.</p>\n\n<p>If you're not in an environment where your data sources come from JNDI, provide your own ConnectionProvider implementation, and either pass it to the Settings object before building the session factory, or specify its class name in the hibernate.connection.provider_class property. If you provide an instance to Settings, you can probably instantiate the standard DatasourceConnectionProvider and give it your DataSource.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692053653,"creation_date":1692044945,"answer_id":76901981,"question_id":884154,"body_markdown":"**Caveat:** I don’t really know what I am doing here. I am new to Hibernate and Jakarta Persistence. I cobbled together this code with various pieces from various sources, and monkeyed around until it worked. \r\n\r\nI could not find anything close to being a complete example of how to configure Hibernate/Jakarta Persistence in code-only (no XML files, no JNDI) using an existing `DataSource` instance. So I posted this here. Hopefully it can help others.\r\n\r\n\r\n----------\r\n\r\n\r\nHere is an example using [Java SE][1], without any [Jakarta EE][2] application server. \r\n\r\nI used:\r\n\r\n - Server: MySQL 8.1.0 on Linux in Docker Desktop 4.22.0 app for Apple Silicon (aarch64)\r\n - Client: Hibernate Core 6.2.7.Final which brought in Jakarta Persistence 3.1.0, with the JDBC driver MySQL Connector/J 8.1.0, in IntelliJ IDEA 2023.2.1 Preview, in Java 20.0.2, on macOS Ventura on a MacBook Pro with Apple M1 Pro chip.\r\n\r\n&#128073;&#127996; I configured Hibernate strictly with the code seen below. I did *not* write any configuration XML file.\r\n\r\n## `DataSource` code\r\n\r\n[`javax.sql.DataSource`][3] in the interface bundled with Java SE. We need an implementation of that interface. In this example, we use an implementation provided by the JDBC driver, *MySQL Connector/J*, in the class `com.mysql.cj.jdbc.MysqlDataSource`. \r\n\r\nWe set up an instance of that `DataSource` implementation in the following method.\r\n\r\n```java\r\nprivate DataSource configureDataSource ( )\r\n{\r\n    com.mysql.cj.jdbc.MysqlDataSource dataSource = new com.mysql.cj.jdbc.MysqlDataSource ( );\r\n    dataSource.setDatabaseName ( &quot;bogus_&quot; );\r\n    dataSource.setServerName ( &quot;localhost&quot; );\r\n    dataSource.setPort ( 8090 );\r\n    dataSource.setUser ( &quot;root&quot; );\r\n    dataSource.setPassword ( &quot;&quot; );  // WARNING: Risky business, leaving your server unprotected, without security. \r\n    return dataSource;\r\n}\r\n```\r\n\r\nFor more info, see the [*Configuration Properties*][4] of the *Connector/J* manual.\r\n\r\n## Hibernate code\r\n\r\nHaving that `DataSource` instance in hand, we can use Hibernate to connect to the database server, execute a query, and package the retrieved data as an object. \r\n\r\n\r\n```java\r\nConfiguration cfg = new Configuration ( );\r\ncfg.getProperties ( ).put ( Environment.DATASOURCE , this.dataSource );\r\ncfg.addAnnotatedClass ( Book.class );\r\nServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder ( ).applySettings ( cfg.getProperties ( ) ).build ( );\r\n\r\ntry ( SessionFactory sessionFactory = cfg.buildSessionFactory ( serviceRegistry ) )\r\n{\r\n    Session session = sessionFactory.openSession ( );\r\n    Query jpqlQuery = session.createQuery ( &quot;SELECT b FROM Book b WHERE b.title=:title&quot; , Book.class );\r\n    jpqlQuery.setParameter ( &quot;title&quot; , &quot;Our First Book&quot; );\r\n    Book book = ( Book ) jpqlQuery.getSingleResult ( );\r\n    System.out.println ( &quot;Retrieved via Hibernate… book = &quot; + book );\r\n}\r\n```\r\n\r\n&gt;Retrieved via Hibernate… book = Book{id=1, title=&#39;Our First Book&#39;, createdOn=2023-08-14T20:26:20.708102Z}\r\n\r\n## Full example code\r\n\r\nFirst the `Book` class. We expect Hibernate to instantiate an object of this class.\r\n\r\n```java\r\npackage work.basil.example.hibernate;\r\n\r\nimport jakarta.persistence.* ;\r\n\r\nimport java.time.OffsetDateTime;\r\n\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String title;\r\n\r\n    @Column(name = &quot;created_on&quot;)\r\n    private OffsetDateTime createdOn;\r\n\r\n    // Accessors\r\n\r\n    public Long getId ( )\r\n    {\r\n        return id;\r\n    }\r\n\r\n    public void setId ( Long id )\r\n    {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle ( )\r\n    {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle ( String title )\r\n    {\r\n        this.title = title;\r\n    }\r\n\r\n    public OffsetDateTime getCreatedOn ( )\r\n    {\r\n        return createdOn;\r\n    }\r\n\r\n    public void setCreatedOn ( OffsetDateTime createdOn )\r\n    {\r\n        this.createdOn = createdOn;\r\n    }\r\n\r\n    // Object overrides\r\n\r\n    @Override\r\n    public String toString ( )\r\n    {\r\n        return &quot;Book{&quot; +\r\n               &quot;id=&quot; + id +\r\n               &quot;, title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n               &quot;, createdOn=&quot; + createdOn +\r\n               &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nAnd our complete example application code. This code:\r\n\r\n 1. Re-creates a single table, `book`. Then repopulates that table with a single row. Both steps use straight JDBC, no Hibernate.\r\n 2. Uses Hibernate to query for our single row, and instantiate a `Book` object with that retrieved data.\r\n\r\n```java\r\npackage work.basil.example.hibernate;\r\n\r\nimport jakarta.persistence.*;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.cfg.Environment;\r\nimport org.hibernate.service.ServiceRegistry;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.*;\r\nimport java.time.Instant;\r\nimport java.time.OffsetDateTime;\r\nimport java.time.*;\r\nimport java.time.ZonedDateTime;\r\n\r\npublic class App\r\n{\r\n    final DataSource dataSource;\r\n\r\n    private void demo ( )\r\n    {\r\n        this.dropTable ( );\r\n        this.createTable ( );\r\n        this.insertRow ( );\r\n        this.dumpRows ( );\r\n        this.dumpHibernate ( );\r\n    }\r\n\r\n    private void dumpHibernate ( )\r\n    {\r\n        Configuration cfg = new Configuration ( );\r\n        cfg.getProperties ( ).put ( Environment.DATASOURCE , this.dataSource );\r\n        cfg.addAnnotatedClass ( Book.class );\r\n        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder ( ).applySettings ( cfg.getProperties ( ) ).build ( );\r\n\r\n        try ( SessionFactory sessionFactory = cfg.buildSessionFactory ( serviceRegistry ) )\r\n        {\r\n            Session session = sessionFactory.openSession ( );\r\n            Query jpqlQuery = session.createQuery ( &quot;SELECT b FROM Book b WHERE b.title=:title&quot; , Book.class );\r\n            jpqlQuery.setParameter ( &quot;title&quot; , &quot;Our First Book&quot; );\r\n            Book book = ( Book ) jpqlQuery.getSingleResult ( );\r\n            System.out.println ( &quot;Retrieved via Hibernate… book = &quot; + book );\r\n        }\r\n    }\r\n\r\n    private void dumpRows ( )\r\n    {\r\n        String sql = &quot;&quot;&quot;\r\n                SELECT *\r\n                FROM book\r\n                 ;\r\n                 &quot;&quot;&quot;;\r\n        try (\r\n                Connection connection = this.dataSource.getConnection ( ) ;\r\n                Statement statement = connection.createStatement ( ) ;\r\n                ResultSet resultSet = statement.executeQuery ( sql ) ;\r\n        )\r\n        {\r\n            record BookRecord( Long id , String title , OffsetDateTime odt ) { }\r\n            while ( resultSet.next ( ) )\r\n            {\r\n                Long id = resultSet.getLong ( &quot;id&quot; );\r\n                String title = resultSet.getString ( &quot;title&quot; );\r\n                OffsetDateTime odt = resultSet.getObject ( &quot;created_on&quot; , OffsetDateTime.class );\r\n                System.out.println ( new BookRecord ( id , title , odt ).toString ( ) );\r\n            }\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n    private void insertRow ( )\r\n    {\r\n        String sql = &quot;&quot;&quot;\r\n                INSERT INTO book\r\n                ( title , created_on )\r\n                VALUES\r\n                ( ? , ? )\r\n                 ;\r\n                 &quot;&quot;&quot;;\r\n        try (\r\n                Connection connection = this.dataSource.getConnection ( ) ;\r\n                PreparedStatement preparedStatement = connection.prepareStatement ( sql ) ;\r\n        )\r\n        {\r\n            ZonedDateTime zdt = ZonedDateTime.now ( ZoneId.of ( &quot;America/Edmonton&quot; ) ); // Capture the current moment as seen in a particular time zone.\r\n            OffsetDateTime odt = zdt.toOffsetDateTime ( );  // Discard the time zone, keeping only a mere offset-from-UTC. Not an improvement, but standard SQL does not support only offsets, not time zones.\r\n            Instant instant = odt.toInstant ( );  // Adjust to an offset from UTC of zero hours-minutes-seeconds.\r\n            System.out.println ( &quot;zdt = &quot; + zdt );  // Be aware: All three of these date-time objects represent the very same moment, the same point on the timeline.\r\n            System.out.println ( &quot;odt = &quot; + odt );\r\n            System.out.println ( &quot;instant = &quot; + instant );\r\n            preparedStatement.setString ( 1 , &quot;Our First Book&quot; );\r\n            preparedStatement.setString ( 2 , odt.toString ( ) );\r\n            preparedStatement.executeUpdate ( );\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n    private void dropTable ( )\r\n    {\r\n        String sql = &quot;&quot;&quot;\r\n                DROP TABLE IF EXISTS book\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection connection = this.dataSource.getConnection ( ) ;\r\n                Statement statement = connection.createStatement ( ) ;\r\n        )\r\n        {\r\n            statement.executeUpdate ( sql );\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n    private void createTable ( )\r\n    {\r\n        String sql = &quot;&quot;&quot;\r\n                CREATE TABLE book (\r\n                    id BIGINT AUTO_INCREMENT PRIMARY KEY ,\r\n                    title VARCHAR(255) NOT NULL ,\r\n                    created_on TIMESTAMP(6) NOT NULL\r\n                ) ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection connection = this.dataSource.getConnection ( ) ;\r\n                Statement statement = connection.createStatement ( ) ;\r\n        )\r\n        {\r\n            statement.executeUpdate ( sql );\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n\r\n    // Constructor\r\n    public App ( )\r\n    {\r\n        this.dataSource = this.configureDataSource ( );\r\n    }\r\n\r\n    private DataSource configureDataSource ( )\r\n    {\r\n        com.mysql.cj.jdbc.MysqlDataSource dataSource = new com.mysql.cj.jdbc.MysqlDataSource ( );\r\n        dataSource.setDatabaseName ( &quot;bogus_&quot; );\r\n        dataSource.setServerName ( &quot;localhost&quot; );\r\n        dataSource.setPort ( 8090 );\r\n        dataSource.setUser ( &quot;root&quot; );\r\n        dataSource.setPassword ( &quot;&quot; );  // WARNING: Risky business, leaving your server unprotected, without security.\r\n        return dataSource;\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void dumpTime ( )\r\n    {\r\n        String sql = &quot;SELECT CURRENT_TIMESTAMP  ;&quot;;\r\n        try (\r\n                Connection connection = this.dataSource.getConnection ( ) ;\r\n                Statement statement = connection.createStatement ( ) ;\r\n                ResultSet resultSet = statement.executeQuery ( sql ) ;\r\n        )\r\n        {\r\n            while ( resultSet.next ( ) )\r\n            {\r\n                String now = resultSet.getString ( 1 );\r\n                System.out.println ( now + &quot;\\n&quot; );\r\n            }\r\n        }\r\n        catch ( SQLException e )\r\n        {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen run:\r\n\r\n```none\r\nzdt = 2023-08-14T14:26:20.708102-06:00[America/Edmonton]\r\nodt = 2023-08-14T14:26:20.708102-06:00\r\ninstant = 2023-08-14T20:26:20.708102Z\r\nBookRecord[id=1, title=Our First Book, odt=2023-08-14T20:26:20.708102-07:00]\r\nAug 14, 2023 1:26:20 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 6.2.7.Final\r\nAug 14, 2023 1:26:20 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000406: Using bytecode reflection optimizer\r\nAug 14, 2023 1:26:21 PM org.hibernate.bytecode.internal.BytecodeProviderInitiator buildBytecodeProvider\r\nINFO: HHH000021: Bytecode provider name : bytebuddy\r\nAug 14, 2023 1:26:21 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nRetrieved via Hibernate… book = Book{id=1, title=&#39;Our First Book&#39;, createdOn=2023-08-14T20:26:20.708102Z}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\r\n  [2]: https://jakarta.ee/\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/DataSource.html\r\n  [4]: https://dev.mysql.com/doc/connector-j/8.1/en/connector-j-reference-configuration-properties.html","title":"Hibernate using an instance of javax.sql.DataSource","body":"<p><strong>Caveat:</strong> I don’t really know what I am doing here. I am new to Hibernate and Jakarta Persistence. I cobbled together this code with various pieces from various sources, and monkeyed around until it worked.</p>\n<p>I could not find anything close to being a complete example of how to configure Hibernate/Jakarta Persistence in code-only (no XML files, no JNDI) using an existing <code>DataSource</code> instance. So I posted this here. Hopefully it can help others.</p>\n<hr />\n<p>Here is an example using <a href=\"https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\" rel=\"nofollow noreferrer\">Java SE</a>, without any <a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">Jakarta EE</a> application server.</p>\n<p>I used:</p>\n<ul>\n<li>Server: MySQL 8.1.0 on Linux in Docker Desktop 4.22.0 app for Apple Silicon (aarch64)</li>\n<li>Client: Hibernate Core 6.2.7.Final which brought in Jakarta Persistence 3.1.0, with the JDBC driver MySQL Connector/J 8.1.0, in IntelliJ IDEA 2023.2.1 Preview, in Java 20.0.2, on macOS Ventura on a MacBook Pro with Apple M1 Pro chip.</li>\n</ul>\n<p>👉🏼 I configured Hibernate strictly with the code seen below. I did <em>not</em> write any configuration XML file.</p>\n<h2><code>DataSource</code> code</h2>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>javax.sql.DataSource</code></a> in the interface bundled with Java SE. We need an implementation of that interface. In this example, we use an implementation provided by the JDBC driver, <em>MySQL Connector/J</em>, in the class <code>com.mysql.cj.jdbc.MysqlDataSource</code>.</p>\n<p>We set up an instance of that <code>DataSource</code> implementation in the following method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private DataSource configureDataSource ( )\n{\n    com.mysql.cj.jdbc.MysqlDataSource dataSource = new com.mysql.cj.jdbc.MysqlDataSource ( );\n    dataSource.setDatabaseName ( &quot;bogus_&quot; );\n    dataSource.setServerName ( &quot;localhost&quot; );\n    dataSource.setPort ( 8090 );\n    dataSource.setUser ( &quot;root&quot; );\n    dataSource.setPassword ( &quot;&quot; );  // WARNING: Risky business, leaving your server unprotected, without security. \n    return dataSource;\n}\n</code></pre>\n<p>For more info, see the <a href=\"https://dev.mysql.com/doc/connector-j/8.1/en/connector-j-reference-configuration-properties.html\" rel=\"nofollow noreferrer\"><em>Configuration Properties</em></a> of the <em>Connector/J</em> manual.</p>\n<h2>Hibernate code</h2>\n<p>Having that <code>DataSource</code> instance in hand, we can use Hibernate to connect to the database server, execute a query, and package the retrieved data as an object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration cfg = new Configuration ( );\ncfg.getProperties ( ).put ( Environment.DATASOURCE , this.dataSource );\ncfg.addAnnotatedClass ( Book.class );\nServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder ( ).applySettings ( cfg.getProperties ( ) ).build ( );\n\ntry ( SessionFactory sessionFactory = cfg.buildSessionFactory ( serviceRegistry ) )\n{\n    Session session = sessionFactory.openSession ( );\n    Query jpqlQuery = session.createQuery ( &quot;SELECT b FROM Book b WHERE b.title=:title&quot; , Book.class );\n    jpqlQuery.setParameter ( &quot;title&quot; , &quot;Our First Book&quot; );\n    Book book = ( Book ) jpqlQuery.getSingleResult ( );\n    System.out.println ( &quot;Retrieved via Hibernate… book = &quot; + book );\n}\n</code></pre>\n<blockquote>\n<p>Retrieved via Hibernate… book = Book{id=1, title='Our First Book', createdOn=2023-08-14T20:26:20.708102Z}</p>\n</blockquote>\n<h2>Full example code</h2>\n<p>First the <code>Book</code> class. We expect Hibernate to instantiate an object of this class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.hibernate;\n\nimport jakarta.persistence.* ;\n\nimport java.time.OffsetDateTime;\n\n@Entity\n@Table(name = &quot;book&quot;)\npublic class Book {\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n\n    private String title;\n\n    @Column(name = &quot;created_on&quot;)\n    private OffsetDateTime createdOn;\n\n    // Accessors\n\n    public Long getId ( )\n    {\n        return id;\n    }\n\n    public void setId ( Long id )\n    {\n        this.id = id;\n    }\n\n    public String getTitle ( )\n    {\n        return title;\n    }\n\n    public void setTitle ( String title )\n    {\n        this.title = title;\n    }\n\n    public OffsetDateTime getCreatedOn ( )\n    {\n        return createdOn;\n    }\n\n    public void setCreatedOn ( OffsetDateTime createdOn )\n    {\n        this.createdOn = createdOn;\n    }\n\n    // Object overrides\n\n    @Override\n    public String toString ( )\n    {\n        return &quot;Book{&quot; +\n               &quot;id=&quot; + id +\n               &quot;, title='&quot; + title + '\\'' +\n               &quot;, createdOn=&quot; + createdOn +\n               '}';\n    }\n}\n</code></pre>\n<p>And our complete example application code. This code:</p>\n<ol>\n<li>Re-creates a single table, <code>book</code>. Then repopulates that table with a single row. Both steps use straight JDBC, no Hibernate.</li>\n<li>Uses Hibernate to query for our single row, and instantiate a <code>Book</code> object with that retrieved data.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.hibernate;\n\nimport jakarta.persistence.*;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.Session;\nimport org.hibernate.cfg.Environment;\nimport org.hibernate.service.ServiceRegistry;\n\nimport javax.sql.DataSource;\nimport java.sql.*;\nimport java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.*;\nimport java.time.ZonedDateTime;\n\npublic class App\n{\n    final DataSource dataSource;\n\n    private void demo ( )\n    {\n        this.dropTable ( );\n        this.createTable ( );\n        this.insertRow ( );\n        this.dumpRows ( );\n        this.dumpHibernate ( );\n    }\n\n    private void dumpHibernate ( )\n    {\n        Configuration cfg = new Configuration ( );\n        cfg.getProperties ( ).put ( Environment.DATASOURCE , this.dataSource );\n        cfg.addAnnotatedClass ( Book.class );\n        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder ( ).applySettings ( cfg.getProperties ( ) ).build ( );\n\n        try ( SessionFactory sessionFactory = cfg.buildSessionFactory ( serviceRegistry ) )\n        {\n            Session session = sessionFactory.openSession ( );\n            Query jpqlQuery = session.createQuery ( &quot;SELECT b FROM Book b WHERE b.title=:title&quot; , Book.class );\n            jpqlQuery.setParameter ( &quot;title&quot; , &quot;Our First Book&quot; );\n            Book book = ( Book ) jpqlQuery.getSingleResult ( );\n            System.out.println ( &quot;Retrieved via Hibernate… book = &quot; + book );\n        }\n    }\n\n    private void dumpRows ( )\n    {\n        String sql = &quot;&quot;&quot;\n                SELECT *\n                FROM book\n                 ;\n                 &quot;&quot;&quot;;\n        try (\n                Connection connection = this.dataSource.getConnection ( ) ;\n                Statement statement = connection.createStatement ( ) ;\n                ResultSet resultSet = statement.executeQuery ( sql ) ;\n        )\n        {\n            record BookRecord( Long id , String title , OffsetDateTime odt ) { }\n            while ( resultSet.next ( ) )\n            {\n                Long id = resultSet.getLong ( &quot;id&quot; );\n                String title = resultSet.getString ( &quot;title&quot; );\n                OffsetDateTime odt = resultSet.getObject ( &quot;created_on&quot; , OffsetDateTime.class );\n                System.out.println ( new BookRecord ( id , title , odt ).toString ( ) );\n            }\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n\n    private void insertRow ( )\n    {\n        String sql = &quot;&quot;&quot;\n                INSERT INTO book\n                ( title , created_on )\n                VALUES\n                ( ? , ? )\n                 ;\n                 &quot;&quot;&quot;;\n        try (\n                Connection connection = this.dataSource.getConnection ( ) ;\n                PreparedStatement preparedStatement = connection.prepareStatement ( sql ) ;\n        )\n        {\n            ZonedDateTime zdt = ZonedDateTime.now ( ZoneId.of ( &quot;America/Edmonton&quot; ) ); // Capture the current moment as seen in a particular time zone.\n            OffsetDateTime odt = zdt.toOffsetDateTime ( );  // Discard the time zone, keeping only a mere offset-from-UTC. Not an improvement, but standard SQL does not support only offsets, not time zones.\n            Instant instant = odt.toInstant ( );  // Adjust to an offset from UTC of zero hours-minutes-seeconds.\n            System.out.println ( &quot;zdt = &quot; + zdt );  // Be aware: All three of these date-time objects represent the very same moment, the same point on the timeline.\n            System.out.println ( &quot;odt = &quot; + odt );\n            System.out.println ( &quot;instant = &quot; + instant );\n            preparedStatement.setString ( 1 , &quot;Our First Book&quot; );\n            preparedStatement.setString ( 2 , odt.toString ( ) );\n            preparedStatement.executeUpdate ( );\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n\n    private void dropTable ( )\n    {\n        String sql = &quot;&quot;&quot;\n                DROP TABLE IF EXISTS book\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection connection = this.dataSource.getConnection ( ) ;\n                Statement statement = connection.createStatement ( ) ;\n        )\n        {\n            statement.executeUpdate ( sql );\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n\n    private void createTable ( )\n    {\n        String sql = &quot;&quot;&quot;\n                CREATE TABLE book (\n                    id BIGINT AUTO_INCREMENT PRIMARY KEY ,\n                    title VARCHAR(255) NOT NULL ,\n                    created_on TIMESTAMP(6) NOT NULL\n                ) ;\n                &quot;&quot;&quot;;\n        try (\n                Connection connection = this.dataSource.getConnection ( ) ;\n                Statement statement = connection.createStatement ( ) ;\n        )\n        {\n            statement.executeUpdate ( sql );\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n\n\n    // Constructor\n    public App ( )\n    {\n        this.dataSource = this.configureDataSource ( );\n    }\n\n    private DataSource configureDataSource ( )\n    {\n        com.mysql.cj.jdbc.MysqlDataSource dataSource = new com.mysql.cj.jdbc.MysqlDataSource ( );\n        dataSource.setDatabaseName ( &quot;bogus_&quot; );\n        dataSource.setServerName ( &quot;localhost&quot; );\n        dataSource.setPort ( 8090 );\n        dataSource.setUser ( &quot;root&quot; );\n        dataSource.setPassword ( &quot;&quot; );  // WARNING: Risky business, leaving your server unprotected, without security.\n        return dataSource;\n    }\n\n    public static void main ( String[] args )\n    {\n        App app = new App ( );\n        app.demo ( );\n    }\n\n    private void dumpTime ( )\n    {\n        String sql = &quot;SELECT CURRENT_TIMESTAMP  ;&quot;;\n        try (\n                Connection connection = this.dataSource.getConnection ( ) ;\n                Statement statement = connection.createStatement ( ) ;\n                ResultSet resultSet = statement.executeQuery ( sql ) ;\n        )\n        {\n            while ( resultSet.next ( ) )\n            {\n                String now = resultSet.getString ( 1 );\n                System.out.println ( now + &quot;\\n&quot; );\n            }\n        }\n        catch ( SQLException e )\n        {\n            throw new RuntimeException ( e );\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>zdt = 2023-08-14T14:26:20.708102-06:00[America/Edmonton]\nodt = 2023-08-14T14:26:20.708102-06:00\ninstant = 2023-08-14T20:26:20.708102Z\nBookRecord[id=1, title=Our First Book, odt=2023-08-14T20:26:20.708102-07:00]\nAug 14, 2023 1:26:20 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 6.2.7.Final\nAug 14, 2023 1:26:20 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000406: Using bytecode reflection optimizer\nAug 14, 2023 1:26:21 PM org.hibernate.bytecode.internal.BytecodeProviderInitiator buildBytecodeProvider\nINFO: HHH000021: Bytecode provider name : bytebuddy\nAug 14, 2023 1:26:21 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nRetrieved via Hibernate… book = Book{id=1, title='Our First Book', createdOn=2023-08-14T20:26:20.708102Z}\n</code></pre>\n"}],"owner":{"account_id":15533,"reputation":34400,"user_id":32899,"accept_rate":92,"display_name":"Ben Noland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2911,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":884234,"answer_count":4,"score":1,"last_activity_date":1692053653,"creation_date":1242755314,"question_id":884154,"body_markdown":"Is it possible to configure Hibernate to use a javax.sql.DataSource instance?\r\n\r\nMy application already has an instance of javax.sql.DataSource and I&#39;d rather not re-configure the database url, user, password, driver etc just for hibernate.","title":"Hibernate using an instance of javax.sql.DataSource","body":"<p>Is it possible to configure Hibernate to use a javax.sql.DataSource instance?</p>\n\n<p>My application already has an instance of javax.sql.DataSource and I'd rather not re-configure the database url, user, password, driver etc just for hibernate.</p>\n"},{"tags":["java","encryption","sharedpreferences"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":2,"creation_date":1691968853,"post_id":76894745,"comment_id":135558498,"body_markdown":"In your &quot;decrypt&quot; and &quot;decryptData&quot; methods you are using &quot;generateIV()&quot;. Although you don&#39;t show the code I&#39;m assuming you are generating a **new** initializing vector, but you need to store the IV used on encryption and use the stored IV for decryption later. B.t.w.: why don&#39;t you use **Encrypted Shared Preferences** ?","body":"In your &quot;decrypt&quot; and &quot;decryptData&quot; methods you are using &quot;generateIV()&quot;. Although you don&#39;t show the code I&#39;m assuming you are generating a <b>new</b> initializing vector, but you need to store the IV used on encryption and use the stored IV for decryption later. B.t.w.: why don&#39;t you use <b>Encrypted Shared Preferences</b> ?"},{"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"score":0,"creation_date":1692001879,"post_id":76894745,"comment_id":135561762,"body_markdown":"Just noticed I missed to add that part, it is now added. I have not looked into encrypted shared preferences, how would they help me in my case? Does it remove the need to encrypt and remove passwords every time?","body":"Just noticed I missed to add that part, it is now added. I have not looked into encrypted shared preferences, how would they help me in my case? Does it remove the need to encrypt and remove passwords every time?"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1692003905,"post_id":76894745,"comment_id":135562142,"body_markdown":"**Encrypted Shared Preferences** storing credentials the same like Shared Preferences but secured by an AES-GCM based encryption scheme, so you don&#39;t need to have your own crypto scheme that can easily get insecure (e.g. if you are using an IV that was not generated securely and random). Second: your &quot;PasswordUtils.hashPassword&quot; method may be insecure [not shown here] e.g. because a key derivation like PBKDF2 is using a much to short number of iterations like 1..9999. So there are a lot of reasons to use the Encrypted Shared Preferences.","body":"<b>Encrypted Shared Preferences</b> storing credentials the same like Shared Preferences but secured by an AES-GCM based encryption scheme, so you don&#39;t need to have your own crypto scheme that can easily get insecure (e.g. if you are using an IV that was not generated securely and random). Second: your &quot;PasswordUtils.hashPassword&quot; method may be insecure [not shown here] e.g. because a key derivation like PBKDF2 is using a much to short number of iterations like 1..9999. So there are a lot of reasons to use the Encrypted Shared Preferences."},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1692004042,"post_id":76894745,"comment_id":135562166,"body_markdown":"Just one hickup on Encrypted Shared Preferences: as the key that is used to generate the &quot;MasterKey&quot; is stored within your Android&#39;s keystore it is NOT part of any backup mechanism by Google, so if you change your device the app on the new device needs to setup all the keys again.","body":"Just one hickup on Encrypted Shared Preferences: as the key that is used to generate the &quot;MasterKey&quot; is stored within your Android&#39;s keystore it is NOT part of any backup mechanism by Google, so if you change your device the app on the new device needs to setup all the keys again."},{"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"score":0,"creation_date":1692018974,"post_id":76894745,"comment_id":135565023,"body_markdown":"Alright so what do you think is the best way to go at the moment? I know that my encryption works, the password gets encrypted its just during the comparison section where the password never gets passed through the sharedpreferences to the variable im storing the decrypted password.","body":"Alright so what do you think is the best way to go at the moment? I know that my encryption works, the password gets encrypted its just during the comparison section where the password never gets passed through the sharedpreferences to the variable im storing the decrypted password."},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1692049295,"post_id":76894745,"comment_id":135570525,"body_markdown":"As you didn&#39;t show the crypto code parts it is impossible to give an advice, just the general advice &quot;don&#39;t run your own crypto&quot;.","body":"As you didn&#39;t show the crypto code parts it is impossible to give an advice, just the general advice &quot;don&#39;t run your own crypto&quot;."},{"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"score":0,"creation_date":1692053641,"post_id":76894745,"comment_id":135570985,"body_markdown":"Added the entire cryptoutils class that im using, hopefully it clears some of the question marks!","body":"Added the entire cryptoutils class that im using, hopefully it clears some of the question marks!"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1692081814,"post_id":76894745,"comment_id":135573079,"body_markdown":"Your issue persists because - as mentioned in my first comment - you are **generating a new IV when DECRYPTING**. As your algorithm is &quot;AES/CBC/PKCS7Padding&quot; the decrypt method will throw an exception and returns &quot;null&quot; - that is the result you are seeing - nothing. Store the IV generated when encrypt (e.g. in Shared Preferences) and use it for decryption.","body":"Your issue persists because - as mentioned in my first comment - you are <b>generating a new IV when DECRYPTING</b>. As your algorithm is &quot;AES/CBC/PKCS7Padding&quot; the decrypt method will throw an exception and returns &quot;null&quot; - that is the result you are seeing - nothing. Store the IV generated when encrypt (e.g. in Shared Preferences) and use it for decryption."},{"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"score":0,"creation_date":1692087838,"post_id":76894745,"comment_id":135574016,"body_markdown":"Ive tried several changes now, even asked chatGPT as a final precaution if I missed anything but it did not work. For instance in my encrypt method Im generating a secret key that is mapped to the iv generated by the method generateIV(). Then in decrypt I just use the secret key, is that what causes the problem? Otherwise I can&#39;t see what the problem is in the code.","body":"Ive tried several changes now, even asked chatGPT as a final precaution if I missed anything but it did not work. For instance in my encrypt method Im generating a secret key that is mapped to the iv generated by the method generateIV(). Then in decrypt I just use the secret key, is that what causes the problem? Otherwise I can&#39;t see what the problem is in the code."},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1692092254,"post_id":76894745,"comment_id":135574747,"body_markdown":"You remember an early comment of mine - &quot;don&#39;t roll out your own crypto&quot; ? See my previous comment - save the generated IV on encryption and use THIS IV for decryption. What part of this statement seems to be unclear ?","body":"You remember an early comment of mine - &quot;don&#39;t roll out your own crypto&quot; ? See my previous comment - save the generated IV on encryption and use THIS IV for decryption. What part of this statement seems to be unclear ?"}],"owner":{"account_id":22675559,"reputation":11,"user_id":16846655,"display_name":"ArtinM00"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692053603,"creation_date":1691952335,"question_id":76894745,"body_markdown":"Im making an app in android studio using Java which is going to be like a password vault. So the user registers, logs in and can then add login details to various websites, the details get encrypted and the user has to re enter their main account password to decrypt the details. The problem im having is that during the decrypting process when im comparing the input password with the encrypted password, the encrypted password variable never gets updated. \r\n\r\nThis class is the registration activity, the page where the user first registers themselves. \r\n\r\n```\r\n// Create a new User instance (This will integrate with the Room database)\r\n            User newUser = new User(firstName, lastName, email, password);\r\n\r\n            // Use ExecutorService to insert the user on a background thread\r\n            executorService.submit(() -&gt; {\r\n                try {\r\n                    AppDatabase.getInstance(RegisterActivity.this).userDao().insertUser(newUser);\r\n\r\n                    // Log success\r\n                    Log.d(&quot;Registration&quot;, &quot;User registered successfully: &quot; + newUser.getEmail());\r\n\r\n                    // Store the password in SharedPreferences\r\n                    storeUserPassword(RegisterActivity.this, password);\r\n                    //storeUserPassword(RegisterActivity.this, password);\r\n\r\n                    // Show a toast message on the main thread\r\n                    mainHandler.post(() -&gt; {\r\n                        String message = &quot;Registration successful for &quot; + firstName + &quot; &quot; + lastName;\r\n                        Toast.makeText(RegisterActivity.this, message, Toast.LENGTH_SHORT).show();\r\n                    });\r\n\r\n                    // Navigate back to the login activity on the main thread\r\n                    mainHandler.post(() -&gt; onBackPressed());\r\n                } catch (Exception e) {\r\n                    // Log error\r\n                    Log.e(&quot;Registration&quot;, &quot;Error inserting user: &quot; + e.getMessage());\r\n\r\n                    // Show a toast message on the main thread\r\n                    mainHandler.post(() -&gt; Toast.makeText(RegisterActivity.this, &quot;Error during registration&quot;, Toast.LENGTH_LONG).show());\r\n                }\r\n            });\r\n        });\r\n```\r\n\r\n\r\n```\r\nprivate void storeUserPassword(Context context, String password) {\r\n        try {\r\n            // Generate a salt and hash the password\r\n            String hashedPassword = PasswordUtils.hashPassword(password);\r\n\r\n            // Store the hashed password in SharedPreferences\r\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, MODE_PRIVATE);\r\n            sharedPreferences.edit()\r\n                    .putString(&quot;userPassword&quot;, hashedPassword)\r\n                    .apply();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            // Handle hashing and storage error\r\n        }\r\n    }\r\n```\r\n\r\nThis is the password entry adapter class\r\n\r\n```\r\nconfirmButton.setOnClickListener(v -&gt; {\r\n            String enteredPassword = passwordEditText.getText().toString();\r\n            // Check if the entered password is correct\r\n            if (verifyPassword(context, enteredPassword)) {\r\n                passwordDialog.dismiss();\r\n                // Decrypt and show the login details dialog\r\n                showDecryptedPasswordDetailsDialog(entry);\r\n            } else {\r\n                Toast.makeText(context, &quot;Incorrect password&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n```\r\n\r\n```\r\nprivate boolean verifyPassword(Context context, String enteredPassword) {\r\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\r\n        String storedHashedPassword = sharedPreferences.getString(&quot;userPassword&quot;, &quot;&quot;);\r\n\r\n        String enteredHashedPassword = PasswordUtils.hashPassword(enteredPassword);\r\n\r\n        Log.d(&quot;PasswordDebug&quot;, &quot;Stored Hash: &quot; + storedHashedPassword);\r\n        Log.d(&quot;PasswordDebug&quot;, &quot;Entered Hash: &quot; + enteredHashedPassword);\r\n\r\n        return enteredHashedPassword.equals(storedHashedPassword);\r\n    }\r\n```\r\n\r\n```\r\nprivate String decryptData(String encryptedData, String userPassword) {\r\n        try {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\r\n            keyStore.load(null);\r\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\r\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\r\n\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\r\n\r\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\r\n            byte[] decryptedData = cipher.doFinal(decodedData);\r\n\r\n            return CryptoUtils.decrypt(new String(decryptedData, StandardCharsets.UTF_8), secretKey);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nThis is the code that is supposed to take the encrypted password and decrypt it and set its string value to the sharedpreferences object which im retrieving the string value from to then make the comparison\r\n```\r\npublic static String decrypt(String encryptedText, SecretKey secretKey) {\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(generateIV()));\r\n\r\n            byte[] decodedData = Base64.decode(encryptedText, Base64.DEFAULT);\r\n            byte[] decryptedBytes = cipher.doFinal(decodedData);\r\n\r\n            return new String(decryptedBytes, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\n```\r\n public static byte[] generateIV() {\r\n        SecureRandom secureRandom = new SecureRandom();\r\n        byte[] iv = new byte[16]; // 16 bytes for AES IV\r\n        secureRandom.nextBytes(iv);\r\n        return iv;\r\n    }\r\n```\r\n\r\nThis is the CryptoUtils class where the encryption and decryption happens\r\n\r\n```\r\npublic class CryptoUtils {\r\n\r\n    private static final String KEY_ALIAS = &quot;my_secret_key_alias&quot;;\r\n    private static final int GCM_IV_LENGTH = 12; // 96 bits\r\n\r\n    public static SecretKey generateSecretKey() throws Exception {\r\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\r\n        KeyGenParameterSpec keyGenParameterSpec = new KeyGenParameterSpec.Builder(KEY_ALIAS,\r\n                KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n                .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\r\n                .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\r\n                .build();\r\n        keyGenerator.init(keyGenParameterSpec);\r\n        return keyGenerator.generateKey();\r\n    }\r\n\r\n    public static byte[] generateIV() {\r\n        SecureRandom secureRandom = new SecureRandom();\r\n        byte[] iv = new byte[16]; // 16 bytes for AES IV\r\n        secureRandom.nextBytes(iv);\r\n        return iv;\r\n    }\r\n\r\n\r\n    public static String encrypt(String input, SecretKey secretKey, byte[] iv) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, new IvParameterSpec(iv));\r\n        byte[] encryptedBytes = cipher.doFinal(input.getBytes());\r\n        return Base64.encodeToString(encryptedBytes, Base64.DEFAULT);\r\n    }\r\n\r\n\r\n    public static String decrypt(String encryptedText, SecretKey secretKey) {\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(generateIV()));\r\n\r\n            byte[] decodedData = Base64.decode(encryptedText, Base64.DEFAULT);\r\n            byte[] decryptedBytes = cipher.doFinal(decodedData);\r\n\r\n            return new String(decryptedBytes, StandardCharsets.UTF_8);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen im debugging it is just an empty string value. So I even hardcoded the encrypted password so they would definitely match but then since they are string objects they can be the &quot;same&quot; objects but their hashcodes differ, and that is where my problem got bigger. Im completely out of ideas on how to keep debugging. If you do not understand or have a hard time trying to follow the logic, please tell me so I can show you more of the code. ","title":"Cannot find solution to decryption problem using sharedpreferences","body":"<p>Im making an app in android studio using Java which is going to be like a password vault. So the user registers, logs in and can then add login details to various websites, the details get encrypted and the user has to re enter their main account password to decrypt the details. The problem im having is that during the decrypting process when im comparing the input password with the encrypted password, the encrypted password variable never gets updated.</p>\n<p>This class is the registration activity, the page where the user first registers themselves.</p>\n<pre><code>// Create a new User instance (This will integrate with the Room database)\n            User newUser = new User(firstName, lastName, email, password);\n\n            // Use ExecutorService to insert the user on a background thread\n            executorService.submit(() -&gt; {\n                try {\n                    AppDatabase.getInstance(RegisterActivity.this).userDao().insertUser(newUser);\n\n                    // Log success\n                    Log.d(&quot;Registration&quot;, &quot;User registered successfully: &quot; + newUser.getEmail());\n\n                    // Store the password in SharedPreferences\n                    storeUserPassword(RegisterActivity.this, password);\n                    //storeUserPassword(RegisterActivity.this, password);\n\n                    // Show a toast message on the main thread\n                    mainHandler.post(() -&gt; {\n                        String message = &quot;Registration successful for &quot; + firstName + &quot; &quot; + lastName;\n                        Toast.makeText(RegisterActivity.this, message, Toast.LENGTH_SHORT).show();\n                    });\n\n                    // Navigate back to the login activity on the main thread\n                    mainHandler.post(() -&gt; onBackPressed());\n                } catch (Exception e) {\n                    // Log error\n                    Log.e(&quot;Registration&quot;, &quot;Error inserting user: &quot; + e.getMessage());\n\n                    // Show a toast message on the main thread\n                    mainHandler.post(() -&gt; Toast.makeText(RegisterActivity.this, &quot;Error during registration&quot;, Toast.LENGTH_LONG).show());\n                }\n            });\n        });\n</code></pre>\n<pre><code>private void storeUserPassword(Context context, String password) {\n        try {\n            // Generate a salt and hash the password\n            String hashedPassword = PasswordUtils.hashPassword(password);\n\n            // Store the hashed password in SharedPreferences\n            SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, MODE_PRIVATE);\n            sharedPreferences.edit()\n                    .putString(&quot;userPassword&quot;, hashedPassword)\n                    .apply();\n        } catch (Exception e) {\n            e.printStackTrace();\n            // Handle hashing and storage error\n        }\n    }\n</code></pre>\n<p>This is the password entry adapter class</p>\n<pre><code>confirmButton.setOnClickListener(v -&gt; {\n            String enteredPassword = passwordEditText.getText().toString();\n            // Check if the entered password is correct\n            if (verifyPassword(context, enteredPassword)) {\n                passwordDialog.dismiss();\n                // Decrypt and show the login details dialog\n                showDecryptedPasswordDetailsDialog(entry);\n            } else {\n                Toast.makeText(context, &quot;Incorrect password&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n</code></pre>\n<pre><code>private boolean verifyPassword(Context context, String enteredPassword) {\n        SharedPreferences sharedPreferences = context.getSharedPreferences(&quot;MyPrefs&quot;, Context.MODE_PRIVATE);\n        String storedHashedPassword = sharedPreferences.getString(&quot;userPassword&quot;, &quot;&quot;);\n\n        String enteredHashedPassword = PasswordUtils.hashPassword(enteredPassword);\n\n        Log.d(&quot;PasswordDebug&quot;, &quot;Stored Hash: &quot; + storedHashedPassword);\n        Log.d(&quot;PasswordDebug&quot;, &quot;Entered Hash: &quot; + enteredHashedPassword);\n\n        return enteredHashedPassword.equals(storedHashedPassword);\n    }\n</code></pre>\n<pre><code>private String decryptData(String encryptedData, String userPassword) {\n        try {\n            KeyStore keyStore = KeyStore.getInstance(&quot;AndroidKeyStore&quot;);\n            keyStore.load(null);\n            KeyStore.SecretKeyEntry secretKeyEntry = (KeyStore.SecretKeyEntry) keyStore.getEntry(&quot;password_key&quot;, null);\n            SecretKey secretKey = secretKeyEntry.getSecretKey();\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(CryptoUtils.generateIV()));\n\n            byte[] decodedData = Base64.decode(encryptedData, Base64.DEFAULT);\n            byte[] decryptedData = cipher.doFinal(decodedData);\n\n            return CryptoUtils.decrypt(new String(decryptedData, StandardCharsets.UTF_8), secretKey);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return &quot;&quot;;\n        }\n    }\n</code></pre>\n<p>This is the code that is supposed to take the encrypted password and decrypt it and set its string value to the sharedpreferences object which im retrieving the string value from to then make the comparison</p>\n<pre><code>public static String decrypt(String encryptedText, SecretKey secretKey) {\n        try {\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(generateIV()));\n\n            byte[] decodedData = Base64.decode(encryptedText, Base64.DEFAULT);\n            byte[] decryptedBytes = cipher.doFinal(decodedData);\n\n            return new String(decryptedBytes, StandardCharsets.UTF_8);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<pre><code> public static byte[] generateIV() {\n        SecureRandom secureRandom = new SecureRandom();\n        byte[] iv = new byte[16]; // 16 bytes for AES IV\n        secureRandom.nextBytes(iv);\n        return iv;\n    }\n</code></pre>\n<p>This is the CryptoUtils class where the encryption and decryption happens</p>\n<pre><code>public class CryptoUtils {\n\n    private static final String KEY_ALIAS = &quot;my_secret_key_alias&quot;;\n    private static final int GCM_IV_LENGTH = 12; // 96 bits\n\n    public static SecretKey generateSecretKey() throws Exception {\n        KeyGenerator keyGenerator = KeyGenerator.getInstance(KeyProperties.KEY_ALGORITHM_AES, &quot;AndroidKeyStore&quot;);\n        KeyGenParameterSpec keyGenParameterSpec = new KeyGenParameterSpec.Builder(KEY_ALIAS,\n                KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n                .setBlockModes(KeyProperties.BLOCK_MODE_GCM)\n                .setEncryptionPaddings(KeyProperties.ENCRYPTION_PADDING_NONE)\n                .build();\n        keyGenerator.init(keyGenParameterSpec);\n        return keyGenerator.generateKey();\n    }\n\n    public static byte[] generateIV() {\n        SecureRandom secureRandom = new SecureRandom();\n        byte[] iv = new byte[16]; // 16 bytes for AES IV\n        secureRandom.nextBytes(iv);\n        return iv;\n    }\n\n\n    public static String encrypt(String input, SecretKey secretKey, byte[] iv) throws Exception {\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey, new IvParameterSpec(iv));\n        byte[] encryptedBytes = cipher.doFinal(input.getBytes());\n        return Base64.encodeToString(encryptedBytes, Base64.DEFAULT);\n    }\n\n\n    public static String decrypt(String encryptedText, SecretKey secretKey) {\n        try {\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7Padding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, new IvParameterSpec(generateIV()));\n\n            byte[] decodedData = Base64.decode(encryptedText, Base64.DEFAULT);\n            byte[] decryptedBytes = cipher.doFinal(decodedData);\n\n            return new String(decryptedBytes, StandardCharsets.UTF_8);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n}\n</code></pre>\n<p>When im debugging it is just an empty string value. So I even hardcoded the encrypted password so they would definitely match but then since they are string objects they can be the &quot;same&quot; objects but their hashcodes differ, and that is where my problem got bigger. Im completely out of ideas on how to keep debugging. If you do not understand or have a hard time trying to follow the logic, please tell me so I can show you more of the code.</p>\n"},{"tags":["java","spring-boot","cors"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1691784190,"post_id":76886033,"comment_id":135543589,"body_markdown":"Edit your question and show the client code.","body":"Edit your question and show the client code."},{"owner":{"account_id":22430289,"reputation":21,"user_id":16636236,"display_name":"Jess Y."},"score":0,"creation_date":1692053440,"post_id":76886033,"comment_id":135570969,"body_markdown":"@jub0bs Hi there, I added in my Axios and App.js code, thanks","body":"@jub0bs Hi there, I added in my Axios and App.js code, thanks"}],"owner":{"account_id":22430289,"reputation":21,"user_id":16636236,"display_name":"Jess Y."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692053369,"creation_date":1691779245,"question_id":76886033,"body_markdown":"**Just a note: I have looked over 2 pages of Stack Overflow posts by others having the same problem, and I tried the many different ways on how to handle CORS but I&#39;m still struggling with the issue. :/**\r\n\r\n\r\nHi all, I&#39;ve been having trouble tackling this for awhile but I&#39;ve been experiencing a CORS issue when I deployed my React project on Render. I also deployed the other part of the backend project(Java Springboot) as web service on Render. So the front-end is attempting to make http requests to the backend but it says:\r\nAccess to XMLHttpRequest at &#39;https://movie-gold-v2.onrender.com/api/v1/movies&#39; from origin &#39;https://movie-gold-v1.onrender.com&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nI have attempted //@CrossOrigin(origins = {&quot;https://movie-gold-v1.onrender.com&quot;}) on my RestController\r\nI also attempted @CrossOrigins(&quot;*&quot;);\r\nAttempted @CrossOrigins(&quot;https://movie-gold-v1.onrender.com&quot;);\r\n\r\nand even created a WebConfig.java file after that didn&#39;t work:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(&quot;https://movie-gold-v1.onrender.com&quot;)\r\n                    .allowedMethods(&quot;HEAD&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                    .allowedHeaders(&quot;*&quot;);\r\n        }\r\n    }\r\n    \r\nThen attempted other Configuration files such as:\r\n\r\n\r\n    \r\n    @Configuration\r\n    @Profile(&quot;development&quot;)\r\n    public class DevConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;).allowedOrigins(&quot;https://movie-gold-v1.onrender.com&quot;);\r\n        }\r\n    }\r\n\r\nEven attempted a CorsConfig file:\r\n\r\n        @Component\r\n    public class CorsConfig {\r\n    \r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n    \r\n            return new WebMvcConfigurer() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry\r\n                            .addMapping(&quot;/**&quot;)\r\n                            .allowedMethods(CorsConfiguration.ALL)\r\n                            .allowedHeaders(CorsConfiguration.ALL)\r\n                            .allowedOriginPatterns(CorsConfiguration.ALL);\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nAnd here is my MovieController file for reference:\r\n\r\n        @RestController\r\n    //@CrossOrigin(origins = &quot;https://movie-gold-v1.onrender.com&quot;, allowedHeaders = &quot;*&quot;)\r\n    //@CrossOrigin(origins = {&quot;https://movie-gold-v1.onrender.com&quot;})\r\n    //@CrossOrigin(origins = &quot;*&quot;)\r\n    @RequestMapping(&quot;/api/v1/movies&quot;)\r\n    \r\n    public class MovieController {\r\n    \r\n        @Autowired\r\n        private MovieService service;\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;Movie&gt;&gt; getMovies() {\r\n            List&lt;Movie&gt; movies = service.findAllMovies();\r\n            return new ResponseEntity&lt;&gt;(movies, HttpStatus.OK);\r\n        }\r\n    \r\n        @GetMapping(&quot;/{imdbId}&quot;)\r\n        public ResponseEntity&lt;Movie&gt; getSingleMovie(@PathVariable String imdbId) {\r\n            Optional&lt;Movie&gt; movie = service.findMovieByImdbId(imdbId);\r\n            if (movie.isPresent()) {\r\n                Movie fetchedMovie = movie.get();\r\n                return new ResponseEntity&lt;&gt;(fetchedMovie, HttpStatus.OK);\r\n            } else {\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n**Front End**, \r\nAxiosConfig.js\r\n\r\n    import axios from &#39;axios&#39;;\r\n    \r\n    export default axios.create({\r\n        // baseURL:&#39;http://localhost:8080&#39;,\r\n        baseURL: &#39;https://movie-gold-v2.onrender.com&#39;,\r\n    });\r\n\r\nApp.js:\r\n\r\n    function App() {\r\n    \r\n      const [movies, setMovies] = useState();\r\n      const [movie, setMovie] = useState();\r\n      const [reviews, setReviews] = useState([]);\r\n    \r\n      const getMovies = async () =&gt;{\r\n        \r\n        try\r\n        {\r\n          // const response = await api.get(&quot;/api/v1/movies&quot;);\r\n          const response = await api.get(&quot;https://movie-gold-v2.onrender.com/api/v1/movies&quot;);\r\n    \r\n          setMovies(response.data);\r\n    \r\n        } \r\n        catch(err)\r\n        {\r\n          console.log(err);\r\n        }\r\n      }\r\n    \r\n      const getMovieData = async (movieId) =&gt; {\r\n         \r\n        try \r\n        {\r\n            //  const response = await api.get(`/api/v1/movies/${movieId}`);\r\n             const response = await api.get(`https://movie-gold-v2.onrender.com/api/v1/movies/${movieId}`);\r\n    \r\n            const singleMovie = response.data;\r\n    \r\n            setMovie(singleMovie);\r\n    \r\n            setReviews(singleMovie.reviews);\r\n            \r\n    \r\n        } \r\n        catch (error) \r\n        {\r\n          console.error(error);\r\n        }\r\n    \r\n      }\r\n    \r\n      useEffect(() =&gt; {\r\n        getMovies();\r\n      },[])\r\n    \r\n      return (\r\n        &lt;div className=&quot;App&quot;&gt;\r\n          &lt;Header/&gt;\r\n          &lt;Routes&gt;\r\n              &lt;Route path=&quot;/&quot; element={&lt;Layout/&gt;}&gt;\r\n                &lt;Route path=&quot;/&quot; element={&lt;Home movies={movies} /&gt;} &gt;&lt;/Route&gt;\r\n                &lt;Route path=&quot;/Trailer/:ytTrailerId&quot; element={&lt;Trailer/&gt;}&gt;&lt;/Route&gt;\r\n                &lt;Route path=&quot;/Reviews/:movieId&quot; element ={&lt;Reviews getMovieData = {getMovieData} movie={movie} reviews ={reviews} setReviews = {setReviews} /&gt;}&gt;&lt;/Route&gt;\r\n                &lt;Route path=&quot;*&quot; element = {&lt;NotFound/&gt;}&gt;&lt;/Route&gt;\r\n              &lt;/Route&gt;\r\n          &lt;/Routes&gt;\r\n    \r\n        &lt;/div&gt;\r\n      );\r\n    }\r\n\r\nHere is my pom.xml file in case:\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;unicorndev&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;movies&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;movies&lt;/name&gt;\r\n    \t&lt;description&gt;A simple API related to movies&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\n\r\nIt seems I&#39;ve attempted almost everything under the sun. I&#39;ve been at this for almost a week and it&#39;s making me pull my hair out. I don&#39;t know if I will get downvoted for this from asking a question that&#39;s so common, but I just don&#39;t know what I might have missed, even after reading over the documentation and other posts. If anyone can check it out, thank you so much!\r\n","title":"Java Springboot: Issue with CORS and error and Access-Control-Allow-Origin header","body":"<p><strong>Just a note: I have looked over 2 pages of Stack Overflow posts by others having the same problem, and I tried the many different ways on how to handle CORS but I'm still struggling with the issue. :/</strong></p>\n<p>Hi all, I've been having trouble tackling this for awhile but I've been experiencing a CORS issue when I deployed my React project on Render. I also deployed the other part of the backend project(Java Springboot) as web service on Render. So the front-end is attempting to make http requests to the backend but it says:\nAccess to XMLHttpRequest at 'https://movie-gold-v2.onrender.com/api/v1/movies' from origin 'https://movie-gold-v1.onrender.com' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>I have attempted //@CrossOrigin(origins = {&quot;https://movie-gold-v1.onrender.com&quot;}) on my RestController\nI also attempted @CrossOrigins(&quot;*&quot;);\nAttempted @CrossOrigins(&quot;https://movie-gold-v1.onrender.com&quot;);</p>\n<p>and even created a WebConfig.java file after that didn't work:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;https://movie-gold-v1.onrender.com&quot;)\n                .allowedMethods(&quot;HEAD&quot;,&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n                .allowedHeaders(&quot;*&quot;);\n    }\n}\n</code></pre>\n<p>Then attempted other Configuration files such as:</p>\n<pre><code>@Configuration\n@Profile(&quot;development&quot;)\npublic class DevConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;).allowedOrigins(&quot;https://movie-gold-v1.onrender.com&quot;);\n    }\n}\n</code></pre>\n<p>Even attempted a CorsConfig file:</p>\n<pre><code>    @Component\npublic class CorsConfig {\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry\n                        .addMapping(&quot;/**&quot;)\n                        .allowedMethods(CorsConfiguration.ALL)\n                        .allowedHeaders(CorsConfiguration.ALL)\n                        .allowedOriginPatterns(CorsConfiguration.ALL);\n            }\n        };\n    }\n}\n</code></pre>\n<p>And here is my MovieController file for reference:</p>\n<pre><code>    @RestController\n//@CrossOrigin(origins = &quot;https://movie-gold-v1.onrender.com&quot;, allowedHeaders = &quot;*&quot;)\n//@CrossOrigin(origins = {&quot;https://movie-gold-v1.onrender.com&quot;})\n//@CrossOrigin(origins = &quot;*&quot;)\n@RequestMapping(&quot;/api/v1/movies&quot;)\n\npublic class MovieController {\n\n    @Autowired\n    private MovieService service;\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Movie&gt;&gt; getMovies() {\n        List&lt;Movie&gt; movies = service.findAllMovies();\n        return new ResponseEntity&lt;&gt;(movies, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{imdbId}&quot;)\n    public ResponseEntity&lt;Movie&gt; getSingleMovie(@PathVariable String imdbId) {\n        Optional&lt;Movie&gt; movie = service.findMovieByImdbId(imdbId);\n        if (movie.isPresent()) {\n            Movie fetchedMovie = movie.get();\n            return new ResponseEntity&lt;&gt;(fetchedMovie, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>Front End</strong>,\nAxiosConfig.js</p>\n<pre><code>import axios from 'axios';\n\nexport default axios.create({\n    // baseURL:'http://localhost:8080',\n    baseURL: 'https://movie-gold-v2.onrender.com',\n});\n</code></pre>\n<p>App.js:</p>\n<pre><code>function App() {\n\n  const [movies, setMovies] = useState();\n  const [movie, setMovie] = useState();\n  const [reviews, setReviews] = useState([]);\n\n  const getMovies = async () =&gt;{\n    \n    try\n    {\n      // const response = await api.get(&quot;/api/v1/movies&quot;);\n      const response = await api.get(&quot;https://movie-gold-v2.onrender.com/api/v1/movies&quot;);\n\n      setMovies(response.data);\n\n    } \n    catch(err)\n    {\n      console.log(err);\n    }\n  }\n\n  const getMovieData = async (movieId) =&gt; {\n     \n    try \n    {\n        //  const response = await api.get(`/api/v1/movies/${movieId}`);\n         const response = await api.get(`https://movie-gold-v2.onrender.com/api/v1/movies/${movieId}`);\n\n        const singleMovie = response.data;\n\n        setMovie(singleMovie);\n\n        setReviews(singleMovie.reviews);\n        \n\n    } \n    catch (error) \n    {\n      console.error(error);\n    }\n\n  }\n\n  useEffect(() =&gt; {\n    getMovies();\n  },[])\n\n  return (\n    &lt;div className=&quot;App&quot;&gt;\n      &lt;Header/&gt;\n      &lt;Routes&gt;\n          &lt;Route path=&quot;/&quot; element={&lt;Layout/&gt;}&gt;\n            &lt;Route path=&quot;/&quot; element={&lt;Home movies={movies} /&gt;} &gt;&lt;/Route&gt;\n            &lt;Route path=&quot;/Trailer/:ytTrailerId&quot; element={&lt;Trailer/&gt;}&gt;&lt;/Route&gt;\n            &lt;Route path=&quot;/Reviews/:movieId&quot; element ={&lt;Reviews getMovieData = {getMovieData} movie={movie} reviews ={reviews} setReviews = {setReviews} /&gt;}&gt;&lt;/Route&gt;\n            &lt;Route path=&quot;*&quot; element = {&lt;NotFound/&gt;}&gt;&lt;/Route&gt;\n          &lt;/Route&gt;\n      &lt;/Routes&gt;\n\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n<p>Here is my pom.xml file in case:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;unicorndev&lt;/groupId&gt;\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;movies&lt;/name&gt;\n    &lt;description&gt;A simple API related to movies&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>It seems I've attempted almost everything under the sun. I've been at this for almost a week and it's making me pull my hair out. I don't know if I will get downvoted for this from asking a question that's so common, but I just don't know what I might have missed, even after reading over the documentation and other posts. If anyone can check it out, thank you so much!</p>\n"},{"tags":["java","zip","io"],"comments":[{"owner":{"account_id":39436,"reputation":4160,"user_id":113727,"accept_rate":90,"display_name":"dm76"},"score":0,"creation_date":1268147230,"post_id":1050560,"comment_id":2390674,"body_markdown":"I know this is an rather old post but have you solved that issue ?\nI&#39;m having the same problem right now ; It only seems to affect an executable file so far... when I unzip it &quot;by hand&quot; the permission is correct","body":"I know this is an rather old post but have you solved that issue ? I&#39;m having the same problem right now ; It only seems to affect an executable file so far... when I unzip it &quot;by hand&quot; the permission is correct"},{"owner":{"account_id":26792,"reputation":524,"user_id":70020,"accept_rate":60,"display_name":"Raymond Kroeker"},"score":0,"creation_date":1268236587,"post_id":1050560,"comment_id":2400085,"body_markdown":"I have not in fact solved it.  My last approach vector was going to be to pull apart apache&#39;s ant task for manipulating zip files and determine what they are doing.","body":"I have not in fact solved it.  My last approach vector was going to be to pull apart apache&#39;s ant task for manipulating zip files and determine what they are doing."},{"owner":{"account_id":39436,"reputation":4160,"user_id":113727,"accept_rate":90,"display_name":"dm76"},"score":0,"creation_date":1268411590,"post_id":1050560,"comment_id":2418607,"body_markdown":"Ant can do that only since 1.8, using the new feature of Java.io.File in java 6 (see my answer below)","body":"Ant can do that only since 1.8, using the new feature of Java.io.File in java 6 (see my answer below)"}],"answers":[{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1533045110,"creation_date":1246042433,"answer_id":1050646,"question_id":1050560,"body_markdown":"Look at [Apache Commons Compress][1] and look at TarArchiveEntry, that should preserve the file permissions like you want it to.\r\n\r\n    TarArchiveEntry entry = tarInput.getNextTarEntry();\r\n\r\nHere are the [javadocs][2].  I think I&#39;ve gone Commons mad...\r\n\r\n  [1]: http://commons.apache.org/compress/\r\n  [2]: http://commons.apache.org/compress/apidocs/index.html","title":"Maintain file permissions when extracting from a zip file using JDK 5 api","body":"<p>Look at <a href=\"http://commons.apache.org/compress/\" rel=\"nofollow noreferrer\">Apache Commons Compress</a> and look at TarArchiveEntry, that should preserve the file permissions like you want it to.</p>\n\n<pre><code>TarArchiveEntry entry = tarInput.getNextTarEntry();\n</code></pre>\n\n<p>Here are the <a href=\"http://commons.apache.org/compress/apidocs/index.html\" rel=\"nofollow noreferrer\">javadocs</a>.  I think I've gone Commons mad...</p>\n"},{"tags":[],"owner":{"account_id":39436,"reputation":4160,"user_id":113727,"accept_rate":90,"display_name":"dm76"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1533045249,"creation_date":1268394899,"answer_id":2432466,"question_id":1050560,"body_markdown":"I think it is actually impossible to keep the permissions correctly.\r\n\r\nPermissions are very OS specific: while POSIX file permissions allow the user to set whether you can read, write or execute a file for the file owner, the group and others, the NTFS file system has a similar system but the concept for an execute permission is inexistant. And the early FAT/FAT32 file syste, do not have file permissions at all (a part from the read-only attribute).\r\n\r\nBeing cross-platform, it would be difficult for java to set the permission properly on the newly created (unzipped) files depending on the underlying OS....\r\n\r\nThat said, Java 6 has a new [java.io.File class][1] that allows you to set permissions (with methods like setExecutable(), setReadable(), etc...)\r\n\r\nThese helped me a lot, especially the setExecutable() which was my main concerned when having to unzip executables on a Linux file system. And you don&#39;t have to bother about figuring out what OS you are running on as the method will simply do nothing if running under Windows or other systems without the concept of executable files.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html","title":"Maintain file permissions when extracting from a zip file using JDK 5 api","body":"<p>I think it is actually impossible to keep the permissions correctly.</p>\n\n<p>Permissions are very OS specific: while POSIX file permissions allow the user to set whether you can read, write or execute a file for the file owner, the group and others, the NTFS file system has a similar system but the concept for an execute permission is inexistant. And the early FAT/FAT32 file syste, do not have file permissions at all (a part from the read-only attribute).</p>\n\n<p>Being cross-platform, it would be difficult for java to set the permission properly on the newly created (unzipped) files depending on the underlying OS....</p>\n\n<p>That said, Java 6 has a new <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">java.io.File class</a> that allows you to set permissions (with methods like setExecutable(), setReadable(), etc...)</p>\n\n<p>These helped me a lot, especially the setExecutable() which was my main concerned when having to unzip executables on a Linux file system. And you don't have to bother about figuring out what OS you are running on as the method will simply do nothing if running under Windows or other systems without the concept of executable files.</p>\n"},{"tags":[],"owner":{"account_id":152312,"reputation":4229,"user_id":366749,"display_name":"Patrice M."},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1533836979,"creation_date":1481823401,"answer_id":41170167,"question_id":1050560,"body_markdown":"Essentially, you can&#39;t STORE (unix) file permissions in Zip/Jar files, so you can&#39;t preserve them when extracting your jar (they were lost when the jar was created to begin with). See this question: https://stackoverflow.com/questions/28178375/creating-a-jar-file-preserving-file-permissions\r\n\r\nIf you need the file permissions preserved in the archive and restored when extracting, you need to consider the alternative .tar or .tar.gz / .tar.bz2 format, which is also natively supported by most Java build tools (Ant, Gradle, Maven...)","title":"Maintain file permissions when extracting from a zip file using JDK 5 api","body":"<p>Essentially, you can't STORE (unix) file permissions in Zip/Jar files, so you can't preserve them when extracting your jar (they were lost when the jar was created to begin with). See this question: <a href=\"https://stackoverflow.com/questions/28178375/creating-a-jar-file-preserving-file-permissions\">creating a jar file - preserving file permissions</a></p>\n\n<p>If you need the file permissions preserved in the archive and restored when extracting, you need to consider the alternative .tar or .tar.gz / .tar.bz2 format, which is also natively supported by most Java build tools (Ant, Gradle, Maven...)</p>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550806159,"creation_date":1550806159,"answer_id":54819653,"question_id":1050560,"body_markdown":"As tracked in this OpenJDK bug: https://bugs.openjdk.java.net/browse/JDK-6194856:\r\n\r\n&gt; The &quot;standard&quot; zip file format does not have any way to store\r\n&gt; &quot;executable file&quot; meta-information, since it was originally designed\r\n&gt; for MS-DOS filesystems.\r\n&gt; \r\n&gt; In order to preserve Unix information like file modes, the zip\r\n&gt; handling code would have to handle extensions to the zip file format.\r\n&gt; Other zip implementations have such extensions.\r\n&gt; \r\n&gt; There are some extensions to the file format that would allow maintaining\r\n&gt; this kind of information, but it can never be guaranteed (there is no\r\n&gt; requirement that zip files contain such &quot;extended&quot; metadata) and it\r\n&gt; would be a lot of work to implement and (especially!) test.\r\n\r\nAlso see this answer:\r\nhttps://stackoverflow.com/questions/13633488/can-i-store-unix-permissions-in-a-zip-file-built-with-apache-ant\r\n\r\nNon-standard Java libraries may implement this (such as apache-commons).","title":"Maintain file permissions when extracting from a zip file using JDK 5 api","body":"<p>As tracked in this OpenJDK bug: <a href=\"https://bugs.openjdk.java.net/browse/JDK-6194856\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-6194856</a>:</p>\n\n<blockquote>\n  <p>The \"standard\" zip file format does not have any way to store\n  \"executable file\" meta-information, since it was originally designed\n  for MS-DOS filesystems.</p>\n  \n  <p>In order to preserve Unix information like file modes, the zip\n  handling code would have to handle extensions to the zip file format.\n  Other zip implementations have such extensions.</p>\n  \n  <p>There are some extensions to the file format that would allow maintaining\n  this kind of information, but it can never be guaranteed (there is no\n  requirement that zip files contain such \"extended\" metadata) and it\n  would be a lot of work to implement and (especially!) test.</p>\n</blockquote>\n\n<p>Also see this answer:\n<a href=\"https://stackoverflow.com/questions/13633488/can-i-store-unix-permissions-in-a-zip-file-built-with-apache-ant\">Can i store unix permissions in a zip file (built with apache ant)?</a></p>\n\n<p>Non-standard Java libraries may implement this (such as apache-commons).</p>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619597156,"creation_date":1617357874,"answer_id":66917683,"question_id":1050560,"body_markdown":"The unix permissions are stored in the zip, either in the entry external attributes, or in the extra fields (using the &quot;Asi&quot; extra field, tagged with the 0x756E id). `java.util.zip.ZipEntry` exposes the extra fields and the Asi field could be read if there is one, but the external attributes are not accessible. So it&#39;s not possible to restore the files permissions in all cases using only the JDK zip implementation.\r\n\r\nFortunately the [Apache Commons Compress][1] project has its own [ZipFile][2] implementation which parses the external attributes, the permissions are exposed with the [ZipArchiveEntry.getUnixMode()][3] method. Then with Ant&#39;s [PermissionUtils][4] class and the Java NIO API, the permissions can be applied back to the file extracted with:\r\n\r\n    Files.setPosixFilePermissions(path, PermissionUtils.permissionsFromMode(entry.getUnixMode()));\r\n\r\n\r\n  [1]: https://commons.apache.org/commons\r\n  [2]: https://commons.apache.org/compress/apidocs/org/apache/commons/compress/archivers/zip/ZipFile.html\r\n  [3]: http://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/zip/ZipArchiveEntry.html#getUnixMode--\r\n  [4]: https://github.com/apache/ant/blob/rel/1.10.9/src/main/org/apache/tools/ant/util/PermissionUtils.java","title":"Maintain file permissions when extracting from a zip file using JDK 5 api","body":"<p>The unix permissions are stored in the zip, either in the entry external attributes, or in the extra fields (using the &quot;Asi&quot; extra field, tagged with the 0x756E id). <code>java.util.zip.ZipEntry</code> exposes the extra fields and the Asi field could be read if there is one, but the external attributes are not accessible. So it's not possible to restore the files permissions in all cases using only the JDK zip implementation.</p>\n<p>Fortunately the <a href=\"https://commons.apache.org/commons\" rel=\"nofollow noreferrer\">Apache Commons Compress</a> project has its own <a href=\"https://commons.apache.org/compress/apidocs/org/apache/commons/compress/archivers/zip/ZipFile.html\" rel=\"nofollow noreferrer\">ZipFile</a> implementation which parses the external attributes, the permissions are exposed with the <a href=\"http://commons.apache.org/proper/commons-compress/apidocs/org/apache/commons/compress/archivers/zip/ZipArchiveEntry.html#getUnixMode--\" rel=\"nofollow noreferrer\">ZipArchiveEntry.getUnixMode()</a> method. Then with Ant's <a href=\"https://github.com/apache/ant/blob/rel/1.10.9/src/main/org/apache/tools/ant/util/PermissionUtils.java\" rel=\"nofollow noreferrer\">PermissionUtils</a> class and the Java NIO API, the permissions can be applied back to the file extracted with:</p>\n<pre><code>Files.setPosixFilePermissions(path, PermissionUtils.permissionsFromMode(entry.getUnixMode()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650330858,"creation_date":1650330858,"answer_id":71918635,"question_id":1050560,"body_markdown":"I actually sat there looking over these answers and was stuck with this issue but then I realized I was doing something rather silly. \r\n\r\nI was extracting to a temp folder, then using `FileUtils.copyDirectory` to copy the files from the temp folder to the new folder. \r\n\r\nInstead of doing a copy, I changed to a move operation. now it worked.\r\n\r\nI can confirm, on Ubuntu Linux 22.04, this maintains file permissions.\r\n\r\nUses:\r\n`implementation group: &#39;org.rauschig&#39;, name: &#39;jarchivelib&#39;, version: &#39;1.2.0&#39;`\r\n\r\n\r\n```\r\nimport org.rauschig.jarchivelib.ArchiveFormat;\r\nimport org.rauschig.jarchivelib.Archiver;\r\nimport org.rauschig.jarchivelib.ArchiverFactory;\r\nimport org.rauschig.jarchivelib.CompressionType;\r\n\r\n  public static void unzip(File zipFile, File targetDirectory) throws IOException, IllegalAccessException {\r\n    Archiver archiver = ArchiverFactory.createArchiver(ArchiveFormat.ZIP);\r\n    archiver.extract(zipFile, targetDirectory);\r\n  }\r\n\r\n  public static void unTarGz(File tarFile, File targetDirectory) throws IOException {\r\n    Archiver archiver = ArchiverFactory.createArchiver(ArchiveFormat.TAR, CompressionType.GZIP);\r\n    archiver.extract(tarFile, targetDirectory);\r\n  }\r\n```\r\n\r\n","title":"Maintain file permissions when extracting from a zip file using JDK 5 api","body":"<p>I actually sat there looking over these answers and was stuck with this issue but then I realized I was doing something rather silly.</p>\n<p>I was extracting to a temp folder, then using <code>FileUtils.copyDirectory</code> to copy the files from the temp folder to the new folder.</p>\n<p>Instead of doing a copy, I changed to a move operation. now it worked.</p>\n<p>I can confirm, on Ubuntu Linux 22.04, this maintains file permissions.</p>\n<p>Uses:\n<code>implementation group: 'org.rauschig', name: 'jarchivelib', version: '1.2.0'</code></p>\n<pre><code>import org.rauschig.jarchivelib.ArchiveFormat;\nimport org.rauschig.jarchivelib.Archiver;\nimport org.rauschig.jarchivelib.ArchiverFactory;\nimport org.rauschig.jarchivelib.CompressionType;\n\n  public static void unzip(File zipFile, File targetDirectory) throws IOException, IllegalAccessException {\n    Archiver archiver = ArchiverFactory.createArchiver(ArchiveFormat.ZIP);\n    archiver.extract(zipFile, targetDirectory);\n  }\n\n  public static void unTarGz(File tarFile, File targetDirectory) throws IOException {\n    Archiver archiver = ArchiverFactory.createArchiver(ArchiveFormat.TAR, CompressionType.GZIP);\n    archiver.extract(tarFile, targetDirectory);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12613823,"reputation":156,"user_id":9171964,"display_name":"Amine Aouffen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692053194,"creation_date":1692053194,"answer_id":76902555,"question_id":1050560,"body_markdown":"If you use Apache Commons Compress , you can set the readonly flag using the external attributes. \r\n\r\nThe flag will be preserved after extraction in windows. \r\n``` java \r\nzipEntry.setVersionMadeBy(0x0000); // 00 is for MSDOS/Windows\r\nzipEntry.setExternalAttributes(zipEntry.getExternalAttributes() | 0x00000001L); // First bit = 1 -&gt; Readonly flag in windows\r\n```\r\nfor more information please refer to the ZIP format spec. https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.9.TXT","title":"Maintain file permissions when extracting from a zip file using JDK 5 api","body":"<p>If you use Apache Commons Compress , you can set the readonly flag using the external attributes.</p>\n<p>The flag will be preserved after extraction in windows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>zipEntry.setVersionMadeBy(0x0000); // 00 is for MSDOS/Windows\nzipEntry.setExternalAttributes(zipEntry.getExternalAttributes() | 0x00000001L); // First bit = 1 -&gt; Readonly flag in windows\n</code></pre>\n<p>for more information please refer to the ZIP format spec. <a href=\"https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.9.TXT\" rel=\"nofollow noreferrer\">https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.9.TXT</a></p>\n"}],"owner":{"account_id":26792,"reputation":524,"user_id":70020,"accept_rate":60,"display_name":"Raymond Kroeker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13749,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":41170167,"answer_count":7,"score":21,"last_activity_date":1692053194,"creation_date":1246041144,"question_id":1050560,"body_markdown":"I am using java.util.Zip and java.util.ZipEntry to successfully extra a zip file&#39;s contents to disk.  I would like to maintain the file permissions set when extracting on a *nix file-system.\r\n\r\nCan anyone point me to the &quot;correct&quot; way to do this? ","title":"Maintain file permissions when extracting from a zip file using JDK 5 api","body":"<p>I am using java.util.Zip and java.util.ZipEntry to successfully extra a zip file's contents to disk.  I would like to maintain the file permissions set when extracting on a *nix file-system.</p>\n\n<p>Can anyone point me to the \"correct\" way to do this? </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1692049339,"post_id":76902302,"comment_id":135570529,"body_markdown":"Do you need a leading `/` before the first `data` (i.e. `/data/data...`)?","body":"Do you need a leading <code>&#47;</code> before the first <code>data</code> (i.e. <code>&#47;data&#47;data...</code>)?"},{"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1692058152,"post_id":76902302,"comment_id":135571346,"body_markdown":"Don&#39;t make up a Uri to something that does not exist.","body":"Don&#39;t make up a Uri to something that does not exist."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692053118,"creation_date":1692053118,"answer_id":76902549,"question_id":76902302,"body_markdown":"There is no `ContentProvider` registered in your device (or probably any device) that has an authority of `data`. ","title":"Unknown URL content://","body":"<p>There is no <code>ContentProvider</code> registered in your device (or probably any device) that has an authority of <code>data</code>.</p>\n"}],"owner":{"account_id":2974483,"reputation":81,"user_id":2525840,"display_name":"ackfloverstow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692053118,"creation_date":1692049125,"question_id":76902302,"body_markdown":"Here is my code:\r\n\r\n```\r\npublic Uri getOutputMediaFileUri() {\r\n\r\n        //CODE - MDC\r\n        ContextWrapper myCW = new ContextWrapper(myContext);\r\n        ContentResolver resolver = myCW.getContentResolver();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;name&quot;);\r\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\r\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS);\r\n\r\n\r\n        Uri uri = null;\r\n\r\n        uri = Uri.parse(&quot;content://&quot; + &quot;data/data/com.555.number/shared_prefs/IMG.jpg&quot;);\r\n\r\n        try {\r\n            uri = resolver.insert(uri, contentValues);\r\n        }\r\n        catch(Exception ex) {\r\n            String msg = ex.getMessage();\r\n        }\r\n\r\n\r\n\r\n        return uri;\r\n    }\r\n```\r\n\r\n\r\nEvery time I run this code I get the error: java.lang.IllegalArgumentException: Unknown URL content://data/data/com.ebs.ecount/shared_prefs/IMG.jpg.  Please help to solve this issue.  ","title":"Unknown URL content://","body":"<p>Here is my code:</p>\n<pre><code>public Uri getOutputMediaFileUri() {\n\n        //CODE - MDC\n        ContextWrapper myCW = new ContextWrapper(myContext);\n        ContentResolver resolver = myCW.getContentResolver();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;name&quot;);\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS);\n\n\n        Uri uri = null;\n\n        uri = Uri.parse(&quot;content://&quot; + &quot;data/data/com.555.number/shared_prefs/IMG.jpg&quot;);\n\n        try {\n            uri = resolver.insert(uri, contentValues);\n        }\n        catch(Exception ex) {\n            String msg = ex.getMessage();\n        }\n\n\n\n        return uri;\n    }\n</code></pre>\n<p>Every time I run this code I get the error: java.lang.IllegalArgumentException: Unknown URL content://data/data/com.ebs.ecount/shared_prefs/IMG.jpg.  Please help to solve this issue.</p>\n"},{"tags":["java","osgi","apache-karaf"],"answers":[{"tags":[],"owner":{"account_id":29112503,"reputation":16,"user_id":22301988,"display_name":"Jgarnica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692053051,"creation_date":1692052957,"answer_id":76902540,"question_id":76879947,"body_markdown":"When a bundle is waiting for a dependency the status of the bundle is `grace period` and after a while if the dependency is not resolved and the bundle reach the timeout, the bundle will trigger a timeout exception.\r\n\r\nMy recommendation is isolate your application with minimal dependencies and start your `Karaf` instance in debug mode and put some break points to try figure out the root cause, there is no a silver bullet for this case.\r\n\r\nFor example in my project I have some bundles waiting for DB/datasource dependencies, so if my DB is down or the credentials or wrong then my some bundles never will be resolved properly and I will get the timeout exception in the `Karaf.log` \r\n\r\n\r\nif you can share a minimal reproducible example I can give a look.","title":"Unable to start container for blueprint bundle exception after Karaf restarting","body":"<p>When a bundle is waiting for a dependency the status of the bundle is <code>grace period</code> and after a while if the dependency is not resolved and the bundle reach the timeout, the bundle will trigger a timeout exception.</p>\n<p>My recommendation is isolate your application with minimal dependencies and start your <code>Karaf</code> instance in debug mode and put some break points to try figure out the root cause, there is no a silver bullet for this case.</p>\n<p>For example in my project I have some bundles waiting for DB/datasource dependencies, so if my DB is down or the credentials or wrong then my some bundles never will be resolved properly and I will get the timeout exception in the <code>Karaf.log</code></p>\n<p>if you can share a minimal reproducible example I can give a look.</p>\n"}],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692053051,"creation_date":1691711119,"question_id":76879947,"body_markdown":"I&#39;m using Karaf 4.2.16. When I start Karaf for the first time, I have no issues and all works fine. If I restart Karaf and try to run for the second time, I got the following exception after Grace Period passed (10 mins):\r\n```\r\n2023-08-10T05:38:55,140 | ERROR | Blueprint Extender: 3 | BlueprintContainerImpl           | 212 - org.apache.aries.blueprint.core - 1.10.3 | Unable to start container for blueprint bundle com.my_app.access.auth.cdo/4.0.0.SNAPSHOT due to unresolved dependencies [(objectClass=com.my_app.common.util.ICdoSessionFactory)]\r\njava.util.concurrent.TimeoutException: null\r\n        at org.apache.aries.blueprint.container.BlueprintContainerImpl$1.run(BlueprintContainerImpl.java:393) [bundleFile:1.10.3]\r\n        at org.apache.aries.blueprint.utils.threading.impl.DiscardableRunnable.run(DiscardableRunnable.java:45) [bundleFile:1.10.3]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_382]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_382]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_382]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_382]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_382]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_382]\r\n        at java.lang.Thread.run(Thread.java:750) [?:1.8.0_382]\r\n\r\n```\r\n\r\nTo fix that, I need to remove data directory; however, it doesn&#39;t look like the right solution.\r\n\r\nA weird thing here is that the failed bundles are still in Active state and the application seems to work fine.\r\n\r\n```\r\nkaraf@root()&gt; list -l | grep access.auth.cdo\r\n45 │ Active   │ 100 │ 4.0.0.SNAPSHOT            │ mvn:com.my_app.access/com.my_app.access.auth.cdo/4.0.0-SNAPSHOT\r\nkaraf@root()&gt; list -l | grep common.util\r\n61 │ Active   │  60 │ 4.0.0.SNAPSHOT            │ mvn:com.my_app.common/com.my_app.common.util/4.0.0-SNAPSHOT\r\n\r\n```\r\n\r\nAny ideas?","title":"Unable to start container for blueprint bundle exception after Karaf restarting","body":"<p>I'm using Karaf 4.2.16. When I start Karaf for the first time, I have no issues and all works fine. If I restart Karaf and try to run for the second time, I got the following exception after Grace Period passed (10 mins):</p>\n<pre><code>2023-08-10T05:38:55,140 | ERROR | Blueprint Extender: 3 | BlueprintContainerImpl           | 212 - org.apache.aries.blueprint.core - 1.10.3 | Unable to start container for blueprint bundle com.my_app.access.auth.cdo/4.0.0.SNAPSHOT due to unresolved dependencies [(objectClass=com.my_app.common.util.ICdoSessionFactory)]\njava.util.concurrent.TimeoutException: null\n        at org.apache.aries.blueprint.container.BlueprintContainerImpl$1.run(BlueprintContainerImpl.java:393) [bundleFile:1.10.3]\n        at org.apache.aries.blueprint.utils.threading.impl.DiscardableRunnable.run(DiscardableRunnable.java:45) [bundleFile:1.10.3]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_382]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_382]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_382]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_382]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_382]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_382]\n        at java.lang.Thread.run(Thread.java:750) [?:1.8.0_382]\n\n</code></pre>\n<p>To fix that, I need to remove data directory; however, it doesn't look like the right solution.</p>\n<p>A weird thing here is that the failed bundles are still in Active state and the application seems to work fine.</p>\n<pre><code>karaf@root()&gt; list -l | grep access.auth.cdo\n45 │ Active   │ 100 │ 4.0.0.SNAPSHOT            │ mvn:com.my_app.access/com.my_app.access.auth.cdo/4.0.0-SNAPSHOT\nkaraf@root()&gt; list -l | grep common.util\n61 │ Active   │  60 │ 4.0.0.SNAPSHOT            │ mvn:com.my_app.common/com.my_app.common.util/4.0.0-SNAPSHOT\n\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","optimization"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1692054376,"post_id":76902518,"comment_id":135571046,"body_markdown":"See [_Longest palindromic substring_](https://en.wikipedia.org/wiki/Longest_palindromic_substring) for an _O(n)_ algorithm.","body":"See <a href=\"https://en.wikipedia.org/wiki/Longest_palindromic_substring\" rel=\"nofollow noreferrer\"><i>Longest palindromic substring</i></a> for an <i>O(n)</i> algorithm."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1692062779,"post_id":76902518,"comment_id":135571677,"body_markdown":"Creating and garbage-collecting many objects takes time.  For large strings, you will be creating a lot of StringBuffer objects, and a lot of additional String objects by calling `substring` and by calling StringBuffer’s `toString`.  Pass start and end indices to isPalindrome, and use String’s `charAt` method to do the check yourself instead of relying on StringBuffer.reverse.","body":"Creating and garbage-collecting many objects takes time.  For large strings, you will be creating a lot of StringBuffer objects, and a lot of additional String objects by calling <code>substring</code> and by calling StringBuffer’s <code>toString</code>.  Pass start and end indices to isPalindrome, and use String’s <code>charAt</code> method to do the check yourself instead of relying on StringBuffer.reverse."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1693906331,"post_id":76902518,"comment_id":135817853,"body_markdown":"@VGR seems widely unknown, [`append` with range](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#append(java.lang.CharSequence,int,int)) eliminates the need for `substring` and [`contentEquals(java.lang.CharSequence)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#contentEquals(java.lang.CharSequence)) eliminates the need for `toString().equals(…)` when comparing a `String` with a `StringBuffer` or `StringBuilder`. So a lot of object creation/string copying can be avoided, still, the time complexity doesn’t change.","body":"@VGR seems widely unknown, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#append(java.lang.CharSequence,int,int)\" rel=\"nofollow noreferrer\"><code>append</code> with range</a> eliminates the need for <code>substring</code> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#contentEquals(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>contentEquals(java.lang.CharSequence)</code></a> eliminates the need for <code>toString().equals(…)</code> when comparing a <code>String</code> with a <code>StringBuffer</code> or <code>StringBuilder</code>. So a lot of object creation/string copying can be avoided, still, the time complexity doesn’t change."}],"owner":{"account_id":26025358,"reputation":1,"user_id":19732359,"display_name":"bpaul18"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692053007,"creation_date":1692052519,"question_id":76902518,"body_markdown":"I am solving this problem (https://leetcode.com/problems/longest-palindromic-substring/) and my solution works (I am using sliding window technique) however it is just not efficient enough to pass longer input values. I was wondering if someone could explain why (at least this version) of sliding window is not efficient enough. \r\nI have seen the answers that solve it fast enough but this is more of a question as to why this doesn&#39;t work\r\n\r\nI have tried adding early exit cases, I have tried getting rid of unnecessary overhead of variables, however it is still not enough.\r\n\r\n    public String longestPalindrome(String s) {\r\n        /*Use sliding window technique*/\r\n\r\n        //Since we are finding the longest palindrome, start windowSize at the length of the string - 1\r\n        int windowSize = s.length() - 1;\r\n\r\n        //Loops through string\r\n        for (int i = 0; i &lt; s.length(); ++i) {\r\n            //Basically if i + windowSize goes over length, reset i to check slidingWindow at index 0 and decrement windowSize\r\n            if (i + windowSize &gt;= s.length()) {\r\n                i = 0;\r\n                windowSize -= 1;\r\n            }\r\n\r\n            //This is the window substring we are checking\r\n            String window = s.substring(i, windowSize + i + 1);\r\n\r\n            //This is an early exit statement\r\n            if (isPalindrome(window)) { return window; }\r\n\r\n            if (windowSize == 0) break;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private Boolean isPalindrome(String s) {\r\n        return new StringBuffer(s).reverse().toString().equals(s);\r\n    }","title":"Reasons why my solution is not efficient (Largest Palindrome Substring, Leet Code)","body":"<p>I am solving this problem (<a href=\"https://leetcode.com/problems/longest-palindromic-substring/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/longest-palindromic-substring/</a>) and my solution works (I am using sliding window technique) however it is just not efficient enough to pass longer input values. I was wondering if someone could explain why (at least this version) of sliding window is not efficient enough.\nI have seen the answers that solve it fast enough but this is more of a question as to why this doesn't work</p>\n<p>I have tried adding early exit cases, I have tried getting rid of unnecessary overhead of variables, however it is still not enough.</p>\n<pre><code>public String longestPalindrome(String s) {\n    /*Use sliding window technique*/\n\n    //Since we are finding the longest palindrome, start windowSize at the length of the string - 1\n    int windowSize = s.length() - 1;\n\n    //Loops through string\n    for (int i = 0; i &lt; s.length(); ++i) {\n        //Basically if i + windowSize goes over length, reset i to check slidingWindow at index 0 and decrement windowSize\n        if (i + windowSize &gt;= s.length()) {\n            i = 0;\n            windowSize -= 1;\n        }\n\n        //This is the window substring we are checking\n        String window = s.substring(i, windowSize + i + 1);\n\n        //This is an early exit statement\n        if (isPalindrome(window)) { return window; }\n\n        if (windowSize == 0) break;\n    }\n    return null;\n}\n\nprivate Boolean isPalindrome(String s) {\n    return new StringBuffer(s).reverse().toString().equals(s);\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":9023130,"reputation":339,"user_id":6723462,"display_name":"Anil"},"score":1,"creation_date":1636827938,"post_id":69956907,"comment_id":123663376,"body_markdown":"I partially suspect the iffy encoding in folder name `/&#208;•&#208;Ÿ/`","body":"I partially suspect the iffy encoding in folder name <code>&#47;&#208;•&#208;Ÿ&#47;</code>"},{"owner":{"account_id":9023130,"reputation":339,"user_id":6723462,"display_name":"Anil"},"score":0,"creation_date":1636828012,"post_id":69956907,"comment_id":123663391,"body_markdown":"Could you try renaming the folders without spaces or encoding","body":"Could you try renaming the folders without spaces or encoding"},{"owner":{"account_id":19187261,"reputation":17,"user_id":14017781,"display_name":"Alexandar Zhelev"},"score":0,"creation_date":1636920735,"post_id":69956907,"comment_id":123680745,"body_markdown":"That fixed it, thanks. I&#39;ve used Cyrillic letters and that was the problem.","body":"That fixed it, thanks. I&#39;ve used Cyrillic letters and that was the problem."}],"answers":[{"tags":[],"owner":{"account_id":6391567,"reputation":2356,"user_id":4957508,"display_name":"Jeff Schaller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678387309,"creation_date":1678387309,"answer_id":75688795,"question_id":69956907,"body_markdown":"Based on seeing the folder name `&#208;•&#208;Ÿ`, rename the folders without spaces or encoding.","title":"Cannot find IntelliJ IDEA project files","body":"<p>Based on seeing the folder name <code>Ð•ÐŸ</code>, rename the folders without spaces or encoding.</p>\n"},{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692051972,"creation_date":1692051972,"answer_id":76902477,"question_id":69956907,"body_markdown":"I found this question from a Google search. Note that my project didn&#39;t have any encoding or space issues as per the accepted answer - just an old legacy project that I was opening in IntelliJ. For me, the issue appears to have been something to do with initialization. Simply rebuilding the project worked for me.","title":"Cannot find IntelliJ IDEA project files","body":"<p>I found this question from a Google search. Note that my project didn't have any encoding or space issues as per the accepted answer - just an old legacy project that I was opening in IntelliJ. For me, the issue appears to have been something to do with initialization. Simply rebuilding the project worked for me.</p>\n"},{"tags":[],"owner":{"account_id":28982649,"reputation":1,"user_id":22200159,"display_name":"Ghada Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692052406,"creation_date":1692052406,"answer_id":76902513,"question_id":69956907,"body_markdown":"check if you renamed the location of java projects \r\n-open the pervious projects from your pc then take the location and enter it in the eclipse then open it   ","title":"Cannot find IntelliJ IDEA project files","body":"<p>check if you renamed the location of java projects\n-open the pervious projects from your pc then take the location and enter it in the eclipse then open it</p>\n"}],"owner":{"account_id":19187261,"reputation":17,"user_id":14017781,"display_name":"Alexandar Zhelev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692052406,"creation_date":1636826412,"question_id":69956907,"body_markdown":"I&#39;m trying to build my project, but IntelliJ gives me this error:\r\n\r\n    Internal error (java.io.IOException): Cannot find IntelliJ IDEA project files at C:/Users/Alex/Documents/University/VII. Semestur/&#208;•&#208;Ÿ/Compiler_students_IntelliJ\r\n    \r\n    at org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:101)\r\n    \tat org.jetbrains.jps.model.serialization.impl.JpsSerializationManagerImpl.loadModel(JpsSerializationManagerImpl.java:24)\r\n    \tat org.jetbrains.jps.cmdline.JpsModelLoaderImpl.loadModel(JpsModelLoaderImpl.java:34)\r\n    \tat org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:64)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:279)\r\n    \tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:132)\r\n    \tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:219)\r\n\r\n\r\nI&#39;ve checked all folders and cannot understand why these files are being labeled as missing.","title":"Cannot find IntelliJ IDEA project files","body":"<p>I'm trying to build my project, but IntelliJ gives me this error:</p>\n<pre><code>Internal error (java.io.IOException): Cannot find IntelliJ IDEA project files at C:/Users/Alex/Documents/University/VII. Semestur/Ð•ÐŸ/Compiler_students_IntelliJ\n\nat org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:101)\n    at org.jetbrains.jps.model.serialization.impl.JpsSerializationManagerImpl.loadModel(JpsSerializationManagerImpl.java:24)\n    at org.jetbrains.jps.cmdline.JpsModelLoaderImpl.loadModel(JpsModelLoaderImpl.java:34)\n    at org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:64)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:279)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:132)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:219)\n</code></pre>\n<p>I've checked all folders and cannot understand why these files are being labeled as missing.</p>\n"},{"tags":["java","iso8583","jpos","openiso8583.net","iso8583-1993"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687570968,"post_id":76511361,"comment_id":134960058,"body_markdown":"All TCP connections are full-duplex, and this does not mean &#39;asynchronous&#39;. Your question,or the error message, doesn&#39;t make sense.","body":"All TCP connections are full-duplex, and this does not mean &#39;asynchronous&#39;. Your question,or the error message, doesn&#39;t make sense."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692055597,"post_id":76511361,"comment_id":135571166,"body_markdown":"And furthermore all TCP/IP connections are &#39;dedicated&#39;.","body":"And furthermore all TCP/IP connections are &#39;dedicated&#39;."}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692051736,"creation_date":1687261630,"answer_id":76514385,"question_id":76511361,"body_markdown":"You just need to follow the excellent first two [jPOS tutorials][1].\r\n\r\nThe first one, [implementing a jPOS Gateway](http://jpos.org/doc/tutorials/jpos-gateway.pdf), will guide you through the steps to write a simple jPOS gateway.\r\n\r\nThe second, [customizing your Gateway](http://jpos.org/doc/tutorials/jpos-custom-gateway.pdf), will tell you how to add your own code to the application.\r\n\r\nIf you need to provide an API to interact with another network, the third one will guide you on how to do that.\r\n\r\nIt&#39;s really easy, you don&#39;t have to do almost anything to write a Full duplex, asynchronous, single session TCP connection. Most jPOS (and ISO8583 in general) implementations are like that, so jPOS provides support for that out of the box. You just need to use a MUX, a Channel, and most probably a transaction manager, and those tutorials will show you how.\r\n\r\nGiven what the OP has added as additional information, and also context from [this question,](https://stackoverflow.com/q/76474958/3444205) I&#39;m assuming he is deveolping (*) his API with Spring.\r\n\r\nYou can add a component to start `Q2` with Spring like this:\r\n\r\n```java\r\n@Component\r\npublic class Q2Boot {\r\n    private Q2 q2;\r\n\r\n    @Autowired\r\n    private ApplicationArguments args;\r\n\r\n    @PostConstruct\r\n    public void init () {\r\n        q2 = new Q2(args.getSourceArgs());\r\n        q2.start();\r\n    }\r\n\r\n    @PreDestroy\r\n    public void destroy () {\r\n        if (q2 != null)\r\n            q2.shutdown(true);\r\n        q2 = null;\r\n    }\r\n}\r\n\r\n```\r\nSource: https://gist.github.com/ar/86a4a24384d029c35f784079007393b0\r\n\r\nIn the `deploy` directory, just put your channel and your multiplexer, following example taken from jPOS gateway tutorial, customized with values provided in your code:\r\n\r\n`10_channel.xml`:\r\n```xml\r\n&lt;channel-adaptor name=&#39;jpos-channel&#39; class=&quot;org.jpos.q2.iso.ChannelAdaptor&quot;\r\nlogger=&quot;Q2&quot;&gt;\r\n  &lt;channel class=&quot;org.jpos.iso.channel.NACChannel&quot;\r\n  packager=&quot;org.jpos.iso.packager.GenericPackager&quot;&gt;\r\n  &lt;property name=&quot;host&quot; value=&quot;161.107.88.248&quot; /&gt; \r\n  &lt;property name=&quot;port&quot; value=&quot;5000&quot; /&gt; \r\n  &lt;property name=&quot;packager-config&quot; value=&quot;PackISO.xml&quot;/&gt;\r\n  &lt;/channel&gt;\r\n  &lt;in&gt;jpos-send&lt;/in&gt; \r\n  &lt;out&gt;jpos-receive&lt;/out&gt; \r\n&lt;/channel-adaptor&gt;\r\n```\r\n\r\n`20_mux.xml`:\r\n```xml\r\n&lt;mux class=&quot;org.jpos.q2.iso.QMUX&quot; logger=&quot;Q2&quot; name=&quot;dest-mux&quot;&gt;\r\n  &lt;in&gt;jpos-receive&lt;/in&gt; \r\n  &lt;out&gt;jpos-send&lt;/out&gt; \r\n  &lt;ready&gt;jpos-channel.ready&lt;/ready&gt; \r\n&lt;/mux\r\n```\r\n\r\nThen in your code you just need to:\r\n```java\r\nISOMsg isoMsg = new ISOMsg();\r\nisoMsg.setHeader(&quot;ISO099002002&quot;.getBytes());\r\nisoMsg.setMTI(&quot;0200&quot;);\r\nisoMsg.set(7, parm1);\r\n// ... other sets\r\nISOMsg response = QMUX.getMUX(&quot;dest-mux&quot;).request(isoMsg);\r\n```\r\n\r\nOf course, you will need to add the logic to catch all potential errors.\r\n\r\n(*) Tag `primavera` is spanish for spring.\r\n\r\n  [1]: http://www.jpos.org/tutorials","title":"&#191;How to establish a Dedicated TCP/IP Connection and Full-Duplex (asynchronous) and with a single TCP session with jpos?","body":"<p>You just need to follow the excellent first two <a href=\"http://www.jpos.org/tutorials\" rel=\"nofollow noreferrer\">jPOS tutorials</a>.</p>\n<p>The first one, <a href=\"http://jpos.org/doc/tutorials/jpos-gateway.pdf\" rel=\"nofollow noreferrer\">implementing a jPOS Gateway</a>, will guide you through the steps to write a simple jPOS gateway.</p>\n<p>The second, <a href=\"http://jpos.org/doc/tutorials/jpos-custom-gateway.pdf\" rel=\"nofollow noreferrer\">customizing your Gateway</a>, will tell you how to add your own code to the application.</p>\n<p>If you need to provide an API to interact with another network, the third one will guide you on how to do that.</p>\n<p>It's really easy, you don't have to do almost anything to write a Full duplex, asynchronous, single session TCP connection. Most jPOS (and ISO8583 in general) implementations are like that, so jPOS provides support for that out of the box. You just need to use a MUX, a Channel, and most probably a transaction manager, and those tutorials will show you how.</p>\n<p>Given what the OP has added as additional information, and also context from <a href=\"https://stackoverflow.com/q/76474958/3444205\">this question,</a> I'm assuming he is deveolping (*) his API with Spring.</p>\n<p>You can add a component to start <code>Q2</code> with Spring like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Q2Boot {\n    private Q2 q2;\n\n    @Autowired\n    private ApplicationArguments args;\n\n    @PostConstruct\n    public void init () {\n        q2 = new Q2(args.getSourceArgs());\n        q2.start();\n    }\n\n    @PreDestroy\n    public void destroy () {\n        if (q2 != null)\n            q2.shutdown(true);\n        q2 = null;\n    }\n}\n\n</code></pre>\n<p>Source: <a href=\"https://gist.github.com/ar/86a4a24384d029c35f784079007393b0\" rel=\"nofollow noreferrer\">https://gist.github.com/ar/86a4a24384d029c35f784079007393b0</a></p>\n<p>In the <code>deploy</code> directory, just put your channel and your multiplexer, following example taken from jPOS gateway tutorial, customized with values provided in your code:</p>\n<p><code>10_channel.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;channel-adaptor name='jpos-channel' class=&quot;org.jpos.q2.iso.ChannelAdaptor&quot;\nlogger=&quot;Q2&quot;&gt;\n  &lt;channel class=&quot;org.jpos.iso.channel.NACChannel&quot;\n  packager=&quot;org.jpos.iso.packager.GenericPackager&quot;&gt;\n  &lt;property name=&quot;host&quot; value=&quot;161.107.88.248&quot; /&gt; \n  &lt;property name=&quot;port&quot; value=&quot;5000&quot; /&gt; \n  &lt;property name=&quot;packager-config&quot; value=&quot;PackISO.xml&quot;/&gt;\n  &lt;/channel&gt;\n  &lt;in&gt;jpos-send&lt;/in&gt; \n  &lt;out&gt;jpos-receive&lt;/out&gt; \n&lt;/channel-adaptor&gt;\n</code></pre>\n<p><code>20_mux.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mux class=&quot;org.jpos.q2.iso.QMUX&quot; logger=&quot;Q2&quot; name=&quot;dest-mux&quot;&gt;\n  &lt;in&gt;jpos-receive&lt;/in&gt; \n  &lt;out&gt;jpos-send&lt;/out&gt; \n  &lt;ready&gt;jpos-channel.ready&lt;/ready&gt; \n&lt;/mux\n</code></pre>\n<p>Then in your code you just need to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ISOMsg isoMsg = new ISOMsg();\nisoMsg.setHeader(&quot;ISO099002002&quot;.getBytes());\nisoMsg.setMTI(&quot;0200&quot;);\nisoMsg.set(7, parm1);\n// ... other sets\nISOMsg response = QMUX.getMUX(&quot;dest-mux&quot;).request(isoMsg);\n</code></pre>\n<p>Of course, you will need to add the logic to catch all potential errors.</p>\n<p>(*) Tag <code>primavera</code> is spanish for spring.</p>\n"}],"owner":{"account_id":28799262,"reputation":21,"user_id":22056639,"display_name":"Raul Roa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1687560427,"accepted_answer_id":76514385,"answer_count":1,"score":0,"last_activity_date":1692051736,"creation_date":1687234182,"question_id":76511361,"body_markdown":"I am new to JPOS, I need to connect to a TCP/IP connection to send different iso messages like 0800, 0200, but to connect to the server it tells me that the TCP/IP connection type must be Dedicated and Full-Duplex (asynchronous) and will establish a single TCP session.\r\n\r\n\r\nto explain better, I have developed some java classes for iso messages, which send the message and receive the response. But since I have developed it to send the message, I always have to connect to the socket and after I receive the response, I disconnect. That class I have in java is called from a REST api that has the message data. From my java class I would instantiate it by jpos-2.1.8.jar. But the company where I connect tells me that a transactional connection scheme is not allowed where for each Transaction it connects, sends a request, receives a response and disconnects. It tells me that it must be a TCP/IP connection type, it must be Dedicated and Full-Duplex (asynchronous) and it will establish a single TCP Session.\r\n\r\n\r\nThis is one of the java classes that I have developed\r\n\r\n```\r\npublic Map&lt;String, Object&gt; msj0200(String parm1,String parm2, String parm3, String parm4,String parm5, String parm6,String parm7,String parm8) throws ISOException, Throwable {\r\n\t\r\n\tCreate Packager based on XML that contain DE type\r\n\t\tGenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\r\n\t       \r\n\t    NACChannel c = new NACChannel();\r\n\t    c.setHost(&quot;161.107.88.248&quot;);\r\n\t    c.setPort(5000);\r\n\t    c.setTimeout(10000);\r\n\t    c.setPackager(packager);\r\n\t       \r\n\t   // Create ISO Message\r\n\t\tISOMsg isoMsg = new ISOMsg();\r\n\t\tisoMsg.setHeader(&quot;ISO099002002&quot;.getBytes());\r\n\t\tisoMsg.setMTI(&quot;0200&quot;);\r\n\t\tisoMsg.set(7, parm1);\r\n\t\tisoMsg.set(11, parm2);\r\n\t\tisoMsg.set(48, parm3);\r\n\t\tisoMsg.set(70, parm4);\r\n\t\tisoMsg.set(22, parm5);\r\n\t\tisoMsg.set(33, parm6);\r\n\t\tisoMsg.set(45, parm7);\r\n\t\tisoMsg.set(49, parm8);\r\n\t\tisoMsg.setPackager(packager);\r\n\r\n        ///I connected\r\n\t\tc.connect();\r\n\t\t\r\n\t\t///I send the message\r\n\t\tc.send(isoMsg);\r\n\t\t\r\n\t\t///I get the answer del socket\r\n\t\tISOMsg response = c.receive();\r\n\t\t\r\n\t\t//Here I have the logic to return the response to the rest api\r\n\t\t\r\n\t\t///and then i disconnect\r\n\t\tc.disconnect();\r\n```\r\n\r\nTo make the explanation more graphic, I now have the development\r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\nWhat I understand you must create the jPOS Gateway to be able to send the messages with a permanent session and full duplex.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0RErD.jpg\r\n  [2]: https://i.stack.imgur.com/Sn3iP.jpg\r\n\r\nand excuse me how I tell you I&#39;m new to this tpc/ip and Jpos. I hope you can understand my problem. thanks in advance","title":"&#191;How to establish a Dedicated TCP/IP Connection and Full-Duplex (asynchronous) and with a single TCP session with jpos?","body":"<p>I am new to JPOS, I need to connect to a TCP/IP connection to send different iso messages like 0800, 0200, but to connect to the server it tells me that the TCP/IP connection type must be Dedicated and Full-Duplex (asynchronous) and will establish a single TCP session.</p>\n<p>to explain better, I have developed some java classes for iso messages, which send the message and receive the response. But since I have developed it to send the message, I always have to connect to the socket and after I receive the response, I disconnect. That class I have in java is called from a REST api that has the message data. From my java class I would instantiate it by jpos-2.1.8.jar. But the company where I connect tells me that a transactional connection scheme is not allowed where for each Transaction it connects, sends a request, receives a response and disconnects. It tells me that it must be a TCP/IP connection type, it must be Dedicated and Full-Duplex (asynchronous) and it will establish a single TCP Session.</p>\n<p>This is one of the java classes that I have developed</p>\n<pre><code>public Map&lt;String, Object&gt; msj0200(String parm1,String parm2, String parm3, String parm4,String parm5, String parm6,String parm7,String parm8) throws ISOException, Throwable {\n    \n    Create Packager based on XML that contain DE type\n        GenericPackager packager = new GenericPackager(&quot;PackISO.xml&quot;);\n           \n        NACChannel c = new NACChannel();\n        c.setHost(&quot;161.107.88.248&quot;);\n        c.setPort(5000);\n        c.setTimeout(10000);\n        c.setPackager(packager);\n           \n       // Create ISO Message\n        ISOMsg isoMsg = new ISOMsg();\n        isoMsg.setHeader(&quot;ISO099002002&quot;.getBytes());\n        isoMsg.setMTI(&quot;0200&quot;);\n        isoMsg.set(7, parm1);\n        isoMsg.set(11, parm2);\n        isoMsg.set(48, parm3);\n        isoMsg.set(70, parm4);\n        isoMsg.set(22, parm5);\n        isoMsg.set(33, parm6);\n        isoMsg.set(45, parm7);\n        isoMsg.set(49, parm8);\n        isoMsg.setPackager(packager);\n\n        ///I connected\n        c.connect();\n        \n        ///I send the message\n        c.send(isoMsg);\n        \n        ///I get the answer del socket\n        ISOMsg response = c.receive();\n        \n        //Here I have the logic to return the response to the rest api\n        \n        ///and then i disconnect\n        c.disconnect();\n</code></pre>\n<p>To make the explanation more graphic, I now have the development</p>\n<p><a href=\"https://i.stack.imgur.com/0RErD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0RErD.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What I understand you must create the jPOS Gateway to be able to send the messages with a permanent session and full duplex.</p>\n<p><a href=\"https://i.stack.imgur.com/Sn3iP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sn3iP.jpg\" alt=\"enter image description here\" /></a></p>\n<p>and excuse me how I tell you I'm new to this tpc/ip and Jpos. I hope you can understand my problem. thanks in advance</p>\n"},{"tags":["java","css","javafx","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692051386,"creation_date":1692051386,"answer_id":76902446,"question_id":76889910,"body_markdown":"It is a bug in ControlsFX 11.0.2. \r\n\r\nYou might want to file an issue on the project, or create a pull request for it. You can link back to this answer if you do.\r\n\r\nThe skin calculates the range-bar (the inner blue section of the track) length incorrectly for a vertically oriented range slider which has different height/width dimensions for the thumbs.\r\n\r\nThe error is in [this line of the skin code][1]:\r\n\r\n    if (orientation) rangeEnd = x; else rangeStart = y + thumbWidth;\r\n\r\nIt should use the `thumbHeight` for the `rangeStart` calculation when the orientation is vertical:\r\n\r\n    if (orientation) rangeEnd = x; else rangeStart = y + thumbHeight;\r\n\r\nYou can patch your local version to fix the bug until the bug in the underlying library is fixed.\r\n\r\n * Copy the ControlsFX `RangeSliderSkin` and `ImplUtils` code into your project, renaming the skin and package.  \r\n * Modify the skin code to fix the bug.\r\n * Configure your code to use your own implementation of the skin.\r\n\r\nExample usage code for a custom (fixed) skin named `MyRangeSliderSkin`.\r\n\r\n    RangeSlider rangeSliderTest = new RangeSlider();\r\n    rangeSliderTest.setSkin(new MyRangeSliderSkin(rangeSliderTest));\r\n    rangeSliderTest.setOrientation(Orientation.VERTICAL);\r\n\r\nOnce you do that, you get the desired result.\r\n\r\n[![working slider][2]][2]\r\n\r\n  [1]: https://github.com/controlsfx/controlsfx/blob/master/controlsfx/src/main/java/impl/org/controlsfx/skin/RangeSliderSkin.java#L405\r\n  [2]: https://i.stack.imgur.com/bGjyf.png\r\n","title":"Java ControlsFX RangeSlider CSS issue","body":"<p>It is a bug in ControlsFX 11.0.2.</p>\n<p>You might want to file an issue on the project, or create a pull request for it. You can link back to this answer if you do.</p>\n<p>The skin calculates the range-bar (the inner blue section of the track) length incorrectly for a vertically oriented range slider which has different height/width dimensions for the thumbs.</p>\n<p>The error is in <a href=\"https://github.com/controlsfx/controlsfx/blob/master/controlsfx/src/main/java/impl/org/controlsfx/skin/RangeSliderSkin.java#L405\" rel=\"nofollow noreferrer\">this line of the skin code</a>:</p>\n<pre><code>if (orientation) rangeEnd = x; else rangeStart = y + thumbWidth;\n</code></pre>\n<p>It should use the <code>thumbHeight</code> for the <code>rangeStart</code> calculation when the orientation is vertical:</p>\n<pre><code>if (orientation) rangeEnd = x; else rangeStart = y + thumbHeight;\n</code></pre>\n<p>You can patch your local version to fix the bug until the bug in the underlying library is fixed.</p>\n<ul>\n<li>Copy the ControlsFX <code>RangeSliderSkin</code> and <code>ImplUtils</code> code into your project, renaming the skin and package.</li>\n<li>Modify the skin code to fix the bug.</li>\n<li>Configure your code to use your own implementation of the skin.</li>\n</ul>\n<p>Example usage code for a custom (fixed) skin named <code>MyRangeSliderSkin</code>.</p>\n<pre><code>RangeSlider rangeSliderTest = new RangeSlider();\nrangeSliderTest.setSkin(new MyRangeSliderSkin(rangeSliderTest));\nrangeSliderTest.setOrientation(Orientation.VERTICAL);\n</code></pre>\n<p>Once you do that, you get the desired result.</p>\n<p><a href=\"https://i.stack.imgur.com/bGjyf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGjyf.png\" alt=\"working slider\" /></a></p>\n"}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76902446,"answer_count":1,"score":1,"last_activity_date":1692051386,"creation_date":1691853227,"question_id":76889910,"body_markdown":"I have a issue styling the thumbs of the RangeSlider - the track gets a wrong color:\r\n\r\nConsider this example:\r\n\r\n    package org.example;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Orientation;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    import org.controlsfx.control.RangeSlider;\r\n    \r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            RangeSlider rangeSliderTest = new RangeSlider();\r\n            rangeSliderTest.setOrientation(Orientation.VERTICAL);\r\n    \r\n            HBox hBoxWithRangeSlider = new HBox();\r\n            hBoxWithRangeSlider.setId(&quot;hBoxWithRangeSlider&quot;);\r\n            hBoxWithRangeSlider.getChildren().add(rangeSliderTest);\r\n    \r\n            var scene = new Scene(new StackPane(hBoxWithRangeSlider), 200, 400);\r\n            scene.getStylesheets().add(&quot;_1_styles.css&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            launch();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nAnd this CSS to style it:\r\n\r\n    .root{\r\n      -fx-focus-color:#00a8ff;\r\n    }\r\n    \r\n    .range-slider .low-thumb {\r\n      -fx-pref-height: 10;\r\n      -fx-pref-width: 20;\r\n    }\r\n    \r\n    .range-slider .high-thumb {\r\n      -fx-pref-height: 10;\r\n      -fx-pref-width: 20;\r\n    }\r\n    \r\n    #hBoxWithRangeSlider{\r\n      -fx-padding: 20 20 20 20;\r\n      -fx-alignment: center;\r\n    }\r\n\r\nIt will give this:\r\n\r\n[![RangeSlider CSS issue][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vmdFA.png\r\n\r\nAs you can see there is a issue with the high-thumb, the track is white, it should be blue. It is strange, because if I remove all the high-thumb styling from the .css, then the high-thumb will still be styled.\r\n\r\nEDIT: Issue is only present when Orientation.VERTICALis used.\r\n\r\n\r\n\r\n","title":"Java ControlsFX RangeSlider CSS issue","body":"<p>I have a issue styling the thumbs of the RangeSlider - the track gets a wrong color:</p>\n<p>Consider this example:</p>\n<pre><code>package org.example;\n\nimport javafx.application.Application;\nimport javafx.geometry.Orientation;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\nimport org.controlsfx.control.RangeSlider;\n\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        RangeSlider rangeSliderTest = new RangeSlider();\n        rangeSliderTest.setOrientation(Orientation.VERTICAL);\n\n        HBox hBoxWithRangeSlider = new HBox();\n        hBoxWithRangeSlider.setId(&quot;hBoxWithRangeSlider&quot;);\n        hBoxWithRangeSlider.getChildren().add(rangeSliderTest);\n\n        var scene = new Scene(new StackPane(hBoxWithRangeSlider), 200, 400);\n        scene.getStylesheets().add(&quot;_1_styles.css&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n\n        launch();\n\n    }\n\n}\n</code></pre>\n<p>And this CSS to style it:</p>\n<pre><code>.root{\n  -fx-focus-color:#00a8ff;\n}\n\n.range-slider .low-thumb {\n  -fx-pref-height: 10;\n  -fx-pref-width: 20;\n}\n\n.range-slider .high-thumb {\n  -fx-pref-height: 10;\n  -fx-pref-width: 20;\n}\n\n#hBoxWithRangeSlider{\n  -fx-padding: 20 20 20 20;\n  -fx-alignment: center;\n}\n</code></pre>\n<p>It will give this:</p>\n<p><a href=\"https://i.stack.imgur.com/vmdFA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vmdFA.png\" alt=\"RangeSlider CSS issue\" /></a></p>\n<p>As you can see there is a issue with the high-thumb, the track is white, it should be blue. It is strange, because if I remove all the high-thumb styling from the .css, then the high-thumb will still be styled.</p>\n<p>EDIT: Issue is only present when Orientation.VERTICALis used.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":29225364,"reputation":21,"user_id":22390211,"display_name":"Tanishq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692051174,"creation_date":1692051174,"answer_id":76902435,"question_id":76523833,"body_markdown":"Refer to this answer: https://github.com/xamarin/Xamarin.Forms/issues/15341. With multiple files, you need to use `result.data.clipData`.\r\n\r\n```kotlin\r\nval returnedValue: Array&lt;Uri&gt;? =\r\n  if (result.resultCode != Activity.RESULT_OK) {\r\n    null\r\n  } else if (data?.clipData != null) {\r\n    // The files are in data.clipData if the user selected multiple files\r\n    // https://github.com/xamarin/Xamarin.Forms/issues/15341\r\n    val clipData = data.clipData!!\r\n\r\n    (0 until clipData.itemCount).map { clipData.getItemAt(it).uri }.toTypedArray()\r\n  } else {\r\n    WebChromeClient.FileChooserParams.parseResult(result.resultCode, data)\r\n  }\r\n```","title":"Issues with multi-file selection and camera image import in Android web app","body":"<p>Refer to this answer: <a href=\"https://github.com/xamarin/Xamarin.Forms/issues/15341\" rel=\"nofollow noreferrer\">https://github.com/xamarin/Xamarin.Forms/issues/15341</a>. With multiple files, you need to use <code>result.data.clipData</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val returnedValue: Array&lt;Uri&gt;? =\n  if (result.resultCode != Activity.RESULT_OK) {\n    null\n  } else if (data?.clipData != null) {\n    // The files are in data.clipData if the user selected multiple files\n    // https://github.com/xamarin/Xamarin.Forms/issues/15341\n    val clipData = data.clipData!!\n\n    (0 until clipData.itemCount).map { clipData.getItemAt(it).uri }.toTypedArray()\n  } else {\n    WebChromeClient.FileChooserParams.parseResult(result.resultCode, data)\n  }\n</code></pre>\n"}],"owner":{"account_id":28866266,"reputation":1,"user_id":22108961,"display_name":"oneStar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692051174,"creation_date":1687354170,"question_id":76523833,"body_markdown":"There is an issue I am not solving.\r\n\r\nI&#39;m a web developer and I&#39;m tinkering with Android code.\r\n\r\nSince I lack basic knowledge, I ask the developers for help.\r\n\r\n1. The web app is shown through the web view, and you need to select and register multiple images among the parts that register the content.\r\n2. There was no multi-select function in the existing Android code, so I put it through Google search.\r\n3. So now multi-selection seems to work well.\r\n4. However, as soon as I click &#39;OK&#39; on the image file taken with the camera, the app is terminated.\r\n\r\n\r\n\r\nThis is the code I used and am modifying.\r\n\r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        @Override\r\n        public boolean onShowFileChooser(WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback, FileChooserParams fileChooserParams) {\r\n            Log.d(TAG, &quot;***** onShowFileChooser()&quot;);\r\n            //return super.onShowFileChooser(webView, filePathCallback, fileChooserParams);\r\n\r\n            /* 파일 업로드 */\r\n//            if (mFilePathCallback != null) {\r\n//                //파일을 한번 오픈했으면 mFilePathCallback 를 초기화를 해줘야함\r\n//                // -- 그렇지 않으면 다시 파일 오픈 시 열리지 않는 경우 발생\r\n//                mFilePathCallback.onReceiveValue(null);\r\n//                mFilePathCallback = null;\r\n//            }\r\n//            mFilePathCallback = filePathCallback;\r\n\r\n            if (filePathCallbackLollipop != null) {\r\n                filePathCallbackLollipop.onReceiveValue(null);\r\n                filePathCallbackLollipop = null;\r\n            }\r\n            filePathCallbackLollipop = filePathCallback;\r\n\r\n            boolean isCapture = fileChooserParams.isCaptureEnabled();\r\n            runCamera(isCapture);\r\n\r\n            //권한 체크\r\n//            if(권한 여부) {\r\n\r\n//             //권한이 있으면 처리\r\n//             Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n//             intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n//             intent.setType(&quot;*/*&quot;);  //모든 contentType 파일 표시\r\n// //            intent.setType(&quot;image/*&quot;);  //contentType 이 image 인 파일만 표시\r\n//             startActivityForResult(intent, 0);\r\n\r\n            return true;\r\n        }\r\n..............\r\n private void runCamera(boolean _isCapture) {\r\n            Intent intentCamera = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n//        intentCamera.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            File path = getFilesDir();\r\n            File file = new File(path, &quot;picture.png&quot;); // sample.png 는 카메라로 찍었을 때 저장될 파일명이므로 사용자 마음대로\r\n            // File 객체의 URI 를 얻는다.\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                String strpa = getApplicationContext().getPackageName();\r\n                cameraImageUri = FileProvider.getUriForFile(getApplicationContext(), strpa + &quot;.provider&quot;, file);\r\n            } else {\r\n                cameraImageUri = Uri.fromFile(file);\r\n            }\r\n            intentCamera.putExtra(MediaStore.EXTRA_OUTPUT, cameraImageUri);\r\n\r\n            Intent fileIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            fileIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n            fileIntent.setType(&quot;*/*&quot;);  //모든 contentType 파일 표시\r\n            fileIntent.setType(&quot;image/*&quot;);  //contentType 이 image 인 파일만 표시\r\n\r\n            if (!_isCapture) { // 선택팝업 카메라, 갤러리 둘다 띄우고 싶을 때\r\n                Intent pickIntent = new Intent(Intent.ACTION_PICK);\r\n                pickIntent.setType(MediaStore.Images.Media.CONTENT_TYPE);\r\n                pickIntent.setData(MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                pickIntent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true); // 멀티 다중 선택을 지원하기 위해 추가\r\n\r\n                String pickTitle = &quot;사진 가져올 방법을 선택하세요.&quot;;\r\n                Intent chooserIntent = Intent.createChooser(pickIntent, pickTitle);\r\n\r\n                // 카메라 intent 포함시키기..\r\n\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) {\r\n                    startActivityForResult(chooserIntent, FILECHOOSER_LOLLIPOP_REQ_CODE);\r\n                    chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, new Parcelable[]{ fileIntent });\r\n                    return;\r\n                } else {\r\n                    chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, new Parcelable[]{ intentCamera, fileIntent });\r\n                    startActivityForResult(chooserIntent, FILECHOOSER_LOLLIPOP_REQ_CODE);\r\n                }\r\n            } else {// 바로 카메라 실행..\r\n                int PERMISSION_ALL = 3;\r\n                String[] PERMISSIONS = {\r\n                        Manifest.permission.CAMERA,\r\n                };\r\n\r\n                ActivityCompat.requestPermissions(MainActivity.this, PERMISSIONS, PERMISSION_ALL);\r\n\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) {\r\n                    return;\r\n                }\r\n                startActivityForResult(intentCamera, FILECHOOSER_LOLLIPOP_REQ_CODE);\r\n            }\r\n        }\r\n....................................\r\n\r\n @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n//        switch (requestCode) {\r\n//            case FILECHOOSER_NORMAL_REQ_CODE:\r\n//                if (resultCode == RESULT_OK) {\r\n//                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n//                        mFilePathCallback.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, data));\r\n//                    } else {\r\n//                        mFilePathCallback.onReceiveValue(new Uri[]{data.getData()});\r\n//                    }\r\n//                    mFilePathCallback = null;\r\n//                } else {\r\n//                    if (mFilePathCallback != null) {\r\n//                        mFilePathCallback.onReceiveValue(null);\r\n//                        mFilePathCallback = null;\r\n//                    }\r\n//                }\r\n//                break;\r\n//            default:\r\n//                break;\r\n//        }\r\n\r\n        Log.d(&quot;requestCode: &quot;, String.valueOf(requestCode));\r\n        Log.d(&quot;resultCode : &quot;, String.valueOf(resultCode));\r\n\r\n        switch (requestCode) {\r\n            case FILECHOOSER_NORMAL_REQ_CODE:\r\n                if (resultCode == RESULT_OK) {\r\n                    if (filePathCallbackNormal == null) return;\r\n                    Uri result = (data == null || resultCode != RESULT_OK) ? null : data.getData();\r\n                    //  onReceiveValue 로 파일을 전송한다.\r\n                    filePathCallbackNormal.onReceiveValue(result);\r\n                    filePathCallbackNormal = null;\r\n                }\r\n                break;\r\n            case FILECHOOSER_LOLLIPOP_REQ_CODE:\r\n                if (resultCode == RESULT_OK) {\r\n                    if (filePathCallbackLollipop == null) return;\r\n                    if (data == null)\r\n                        data = new Intent();\r\n                    if (data.getData() == null)\r\n                        data.setData(cameraImageUri);\r\n\r\n                    filePathCallbackLollipop.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, data));\r\n                    filePathCallbackLollipop = null;\r\n                } else {\r\n                    if (filePathCallbackLollipop != null) {   //  resultCode에 RESULT_OK가 들어오지 않으면 null 처리하지 한다.(이렇게 하지 않으면 다음부터 input 태그를 클릭해도 반응하지 않음)\r\n                        filePathCallbackLollipop.onReceiveValue(null);\r\n                        filePathCallbackLollipop = null;\r\n                    }\r\n\r\n                    if (filePathCallbackNormal != null) {\r\n                        filePathCallbackNormal.onReceiveValue(null);\r\n                        filePathCallbackNormal = null;\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n\r\n                break;\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n}\r\n\r\n```\r\n","title":"Issues with multi-file selection and camera image import in Android web app","body":"<p>There is an issue I am not solving.</p>\n<p>I'm a web developer and I'm tinkering with Android code.</p>\n<p>Since I lack basic knowledge, I ask the developers for help.</p>\n<ol>\n<li>The web app is shown through the web view, and you need to select and register multiple images among the parts that register the content.</li>\n<li>There was no multi-select function in the existing Android code, so I put it through Google search.</li>\n<li>So now multi-selection seems to work well.</li>\n<li>However, as soon as I click 'OK' on the image file taken with the camera, the app is terminated.</li>\n</ol>\n<p>This is the code I used and am modifying.</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n        @Override\n        public boolean onShowFileChooser(WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback, FileChooserParams fileChooserParams) {\n            Log.d(TAG, &quot;***** onShowFileChooser()&quot;);\n            //return super.onShowFileChooser(webView, filePathCallback, fileChooserParams);\n\n            /* 파일 업로드 */\n//            if (mFilePathCallback != null) {\n//                //파일을 한번 오픈했으면 mFilePathCallback 를 초기화를 해줘야함\n//                // -- 그렇지 않으면 다시 파일 오픈 시 열리지 않는 경우 발생\n//                mFilePathCallback.onReceiveValue(null);\n//                mFilePathCallback = null;\n//            }\n//            mFilePathCallback = filePathCallback;\n\n            if (filePathCallbackLollipop != null) {\n                filePathCallbackLollipop.onReceiveValue(null);\n                filePathCallbackLollipop = null;\n            }\n            filePathCallbackLollipop = filePathCallback;\n\n            boolean isCapture = fileChooserParams.isCaptureEnabled();\n            runCamera(isCapture);\n\n            //권한 체크\n//            if(권한 여부) {\n\n//             //권한이 있으면 처리\n//             Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n//             intent.addCategory(Intent.CATEGORY_OPENABLE);\n//             intent.setType(&quot;*/*&quot;);  //모든 contentType 파일 표시\n// //            intent.setType(&quot;image/*&quot;);  //contentType 이 image 인 파일만 표시\n//             startActivityForResult(intent, 0);\n\n            return true;\n        }\n..............\n private void runCamera(boolean _isCapture) {\n            Intent intentCamera = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n//        intentCamera.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            File path = getFilesDir();\n            File file = new File(path, &quot;picture.png&quot;); // sample.png 는 카메라로 찍었을 때 저장될 파일명이므로 사용자 마음대로\n            // File 객체의 URI 를 얻는다.\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                String strpa = getApplicationContext().getPackageName();\n                cameraImageUri = FileProvider.getUriForFile(getApplicationContext(), strpa + &quot;.provider&quot;, file);\n            } else {\n                cameraImageUri = Uri.fromFile(file);\n            }\n            intentCamera.putExtra(MediaStore.EXTRA_OUTPUT, cameraImageUri);\n\n            Intent fileIntent = new Intent(Intent.ACTION_GET_CONTENT);\n            fileIntent.addCategory(Intent.CATEGORY_OPENABLE);\n            fileIntent.setType(&quot;*/*&quot;);  //모든 contentType 파일 표시\n            fileIntent.setType(&quot;image/*&quot;);  //contentType 이 image 인 파일만 표시\n\n            if (!_isCapture) { // 선택팝업 카메라, 갤러리 둘다 띄우고 싶을 때\n                Intent pickIntent = new Intent(Intent.ACTION_PICK);\n                pickIntent.setType(MediaStore.Images.Media.CONTENT_TYPE);\n                pickIntent.setData(MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                pickIntent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true); // 멀티 다중 선택을 지원하기 위해 추가\n\n                String pickTitle = &quot;사진 가져올 방법을 선택하세요.&quot;;\n                Intent chooserIntent = Intent.createChooser(pickIntent, pickTitle);\n\n                // 카메라 intent 포함시키기..\n\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) {\n                    startActivityForResult(chooserIntent, FILECHOOSER_LOLLIPOP_REQ_CODE);\n                    chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, new Parcelable[]{ fileIntent });\n                    return;\n                } else {\n                    chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, new Parcelable[]{ intentCamera, fileIntent });\n                    startActivityForResult(chooserIntent, FILECHOOSER_LOLLIPOP_REQ_CODE);\n                }\n            } else {// 바로 카메라 실행..\n                int PERMISSION_ALL = 3;\n                String[] PERMISSIONS = {\n                        Manifest.permission.CAMERA,\n                };\n\n                ActivityCompat.requestPermissions(MainActivity.this, PERMISSIONS, PERMISSION_ALL);\n\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) {\n                    return;\n                }\n                startActivityForResult(intentCamera, FILECHOOSER_LOLLIPOP_REQ_CODE);\n            }\n        }\n....................................\n\n @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n//        switch (requestCode) {\n//            case FILECHOOSER_NORMAL_REQ_CODE:\n//                if (resultCode == RESULT_OK) {\n//                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n//                        mFilePathCallback.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, data));\n//                    } else {\n//                        mFilePathCallback.onReceiveValue(new Uri[]{data.getData()});\n//                    }\n//                    mFilePathCallback = null;\n//                } else {\n//                    if (mFilePathCallback != null) {\n//                        mFilePathCallback.onReceiveValue(null);\n//                        mFilePathCallback = null;\n//                    }\n//                }\n//                break;\n//            default:\n//                break;\n//        }\n\n        Log.d(&quot;requestCode: &quot;, String.valueOf(requestCode));\n        Log.d(&quot;resultCode : &quot;, String.valueOf(resultCode));\n\n        switch (requestCode) {\n            case FILECHOOSER_NORMAL_REQ_CODE:\n                if (resultCode == RESULT_OK) {\n                    if (filePathCallbackNormal == null) return;\n                    Uri result = (data == null || resultCode != RESULT_OK) ? null : data.getData();\n                    //  onReceiveValue 로 파일을 전송한다.\n                    filePathCallbackNormal.onReceiveValue(result);\n                    filePathCallbackNormal = null;\n                }\n                break;\n            case FILECHOOSER_LOLLIPOP_REQ_CODE:\n                if (resultCode == RESULT_OK) {\n                    if (filePathCallbackLollipop == null) return;\n                    if (data == null)\n                        data = new Intent();\n                    if (data.getData() == null)\n                        data.setData(cameraImageUri);\n\n                    filePathCallbackLollipop.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, data));\n                    filePathCallbackLollipop = null;\n                } else {\n                    if (filePathCallbackLollipop != null) {   //  resultCode에 RESULT_OK가 들어오지 않으면 null 처리하지 한다.(이렇게 하지 않으면 다음부터 input 태그를 클릭해도 반응하지 않음)\n                        filePathCallbackLollipop.onReceiveValue(null);\n                        filePathCallbackLollipop = null;\n                    }\n\n                    if (filePathCallbackNormal != null) {\n                        filePathCallbackNormal.onReceiveValue(null);\n                        filePathCallbackNormal = null;\n                    }\n                }\n                break;\n            default:\n\n                break;\n        }\n        super.onActivityResult(requestCode, resultCode, data);\n}\n\n</code></pre>\n"},{"tags":["java","eclipse","gradle","java-home"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692050649,"creation_date":1604148137,"answer_id":64621806,"question_id":64621647,"body_markdown":"Sounds like the right place to edit this is in the eclipse preferences, and/or that eclipse is picking this up from an erroneously set `JAVA_HOME` environment variable.\r\n\r\nWindow &gt; Preferences &gt; search the filterbox for &#39;installed&#39; to get to &#39;Installed JREs&#39;, remove any entries that don&#39;t seem right and add your coretto install here.\r\n\r\nNext check Window &gt; Preferences &gt; Gradle &gt; Arguments &gt; Java Home, and fix things here. Most likely you can just select &#39;workspace JRE&#39; and that should fix the problem.\r\n\r\nIf that doesn&#39;t work out, there&#39;s always the option of adding to your `~/.gradle` file a single line with:\r\n\r\n```\r\norg.gradle.java.home=/path/to/coretto\r\n```\r\n","title":"Supplied javaHome is not a valid folder in eclipse","body":"<p>Sounds like the right place to edit this is in the eclipse preferences, and/or that eclipse is picking this up from an erroneously set <code>JAVA_HOME</code> environment variable.</p>\n<p>Window &gt; Preferences &gt; search the filterbox for 'installed' to get to 'Installed JREs', remove any entries that don't seem right and add your coretto install here.</p>\n<p>Next check Window &gt; Preferences &gt; Gradle &gt; Arguments &gt; Java Home, and fix things here. Most likely you can just select 'workspace JRE' and that should fix the problem.</p>\n<p>If that doesn't work out, there's always the option of adding to your <code>~/.gradle</code> file a single line with:</p>\n<pre><code>org.gradle.java.home=/path/to/coretto\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27796132,"reputation":1,"user_id":21221615,"display_name":"user21221615"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676484625,"creation_date":1676484625,"answer_id":75463864,"question_id":64621647,"body_markdown":"I received an update to my VM and the previous Pref&gt;Gradle&gt;Arg&gt;Java Home no longer existed.  I cut and pasted in one that did... Unfortunately, this did not work. I had to come through Eclipse and use the file navigation to get to the new Java Home I wanted to use. (Then do a Gradle&gt;Refresh Gradle Project to get it to take). ","title":"Supplied javaHome is not a valid folder in eclipse","body":"<p>I received an update to my VM and the previous Pref&gt;Gradle&gt;Arg&gt;Java Home no longer existed.  I cut and pasted in one that did... Unfortunately, this did not work. I had to come through Eclipse and use the file navigation to get to the new Java Home I wanted to use. (Then do a Gradle&gt;Refresh Gradle Project to get it to take).</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4043,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64621806,"answer_count":2,"score":1,"last_activity_date":1692050649,"creation_date":1604146843,"question_id":64621647,"body_markdown":"I have migrated a workspace to a new machine with a different java distribution.\r\nThe old machine had java-11-openjdk-amd64.\r\nThe new one has only corretto.\r\n\r\nUpon opening the old workspace on the new machine I get some `problem`s, such as\r\n\r\n&gt; Supplied javaHome is not a valid folder. You supplied: /usr/lib/jvm/java-11-openjdk-amd64\t\r\n&gt; line 0 Gradle Error Marker\r\n\r\nSo in the workspace I deleted `.metadata` and I searched the workspace (and `~/.eclipse`, `~/.gradle` just in case) for references to the old version with\r\n\r\n`grep -r &quot;/usr/lib/jvm/java-11-o&quot;`\r\n\r\nThere are no results.\r\nI have made sure that no eclipse processes are running (`ps -aux | grep eclipse`) and restarted eclipse, but the errors remain. What else can I do before creating new project and manually copying the code?","title":"Supplied javaHome is not a valid folder in eclipse","body":"<p>I have migrated a workspace to a new machine with a different java distribution.\nThe old machine had java-11-openjdk-amd64.\nThe new one has only corretto.</p>\n<p>Upon opening the old workspace on the new machine I get some <code>problem</code>s, such as</p>\n<blockquote>\n<p>Supplied javaHome is not a valid folder. You supplied: /usr/lib/jvm/java-11-openjdk-amd64\nline 0 Gradle Error Marker</p>\n</blockquote>\n<p>So in the workspace I deleted <code>.metadata</code> and I searched the workspace (and <code>~/.eclipse</code>, <code>~/.gradle</code> just in case) for references to the old version with</p>\n<p><code>grep -r &quot;/usr/lib/jvm/java-11-o&quot;</code></p>\n<p>There are no results.\nI have made sure that no eclipse processes are running (<code>ps -aux | grep eclipse</code>) and restarted eclipse, but the errors remain. What else can I do before creating new project and manually copying the code?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5762184,"reputation":757,"user_id":4548231,"display_name":"sawprogramming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692050370,"creation_date":1692050370,"answer_id":76902381,"question_id":76901860,"body_markdown":"Well to answer my question: I&#39;ve found a solution that makes it *possible* to do this, but it requires reflection. I&#39;d certainly like to see a better solution!\r\n\r\n~~~java\r\npublic void registerBar(final BeanDefinitionRegistry registry) {\r\n    // Use reflection to get the writeMethod of property the class we want to autowire.\r\n    final Method writeMethod;\r\n    try {\r\n        writeMethod = Bar.class.getMethod(&quot;setFoos&quot;, List.class);\r\n    } catch (final NoSuchMethodException e) {\r\n        throw new Error(e);\r\n    }\r\n\r\n    // Create an overriden instance of the MethodParameter to add the desired @Qualifier annotation to it.\r\n    final MethodParameter writeMethodParameter = new MethodParameter(writeMethod, 0) {\r\n        @Override\r\n        public @NonNull Annotation[] getParameterAnnotations() {\r\n            // Call the super method to get the existing annotations on the function, then add the desired\r\n            // @Qualifier annotation to the list.\r\n            Annotation[] annotations = super.getParameterAnnotations();\r\n            annotations                         = Arrays.copyOf(annotations, annotations.length + 1);\r\n            annotations[annotations.length - 1] = new Qualifier() {\r\n                @Override\r\n                public @NonNull String value() {\r\n                    return &quot;A&quot;;\r\n                }\r\n\r\n                @Override\r\n                public Class&lt;? extends Annotation&gt; annotationType() {\r\n                    return Qualifier.class;\r\n                }\r\n\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;@org.springframework.beans.factory.annotation.Qualifier(\\&quot;&quot; + value() + &quot;\\&quot;)&quot;;\r\n                }\r\n            };\r\n\r\n            // Use reflection to set the private parameterAnnotations field on the super class; this hack to \r\n            // funtionally declare a @Qualifier annotation does not work if the private field is not set.\r\n            try {\r\n                final Field field = getClass().getSuperclass().getDeclaredField(&quot;parameterAnnotations&quot;);\r\n                field.setAccessible (true);\r\n                field.set           (this, annotations);\r\n            } catch (final NoSuchFieldException | IllegalAccessException e) {\r\n                throw new Error(e);\r\n            }\r\n\r\n            return annotations;\r\n        }\r\n    };\r\n\r\n    final BeanDefinition beanDefinition = (\r\n        BeanDefinitionBuilder.genericBeanDefinition(Bar.class)\r\n            .addPropertyValue (&quot;id&quot;,  &quot;bar_0001&quot;),\r\n            .addPropertyValue (&quot;...&quot;, &quot;...&quot;)\r\n            .addPropertyValue (&quot;foos&quot;, new DependencyDescriptor(writeMethodParameter, true))\r\n        .getBeanDefinition()\r\n    );\r\n\r\n    beanDefinitionRegistry.registerBeanDefinition(&quot;bar&quot;, beanDefinition);\r\n}\r\n~~~","title":"Inject property value with qualifiers using functionally defined BeanDefinitions","body":"<p>Well to answer my question: I've found a solution that makes it <em>possible</em> to do this, but it requires reflection. I'd certainly like to see a better solution!</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void registerBar(final BeanDefinitionRegistry registry) {\n    // Use reflection to get the writeMethod of property the class we want to autowire.\n    final Method writeMethod;\n    try {\n        writeMethod = Bar.class.getMethod(&quot;setFoos&quot;, List.class);\n    } catch (final NoSuchMethodException e) {\n        throw new Error(e);\n    }\n\n    // Create an overriden instance of the MethodParameter to add the desired @Qualifier annotation to it.\n    final MethodParameter writeMethodParameter = new MethodParameter(writeMethod, 0) {\n        @Override\n        public @NonNull Annotation[] getParameterAnnotations() {\n            // Call the super method to get the existing annotations on the function, then add the desired\n            // @Qualifier annotation to the list.\n            Annotation[] annotations = super.getParameterAnnotations();\n            annotations                         = Arrays.copyOf(annotations, annotations.length + 1);\n            annotations[annotations.length - 1] = new Qualifier() {\n                @Override\n                public @NonNull String value() {\n                    return &quot;A&quot;;\n                }\n\n                @Override\n                public Class&lt;? extends Annotation&gt; annotationType() {\n                    return Qualifier.class;\n                }\n\n                @Override\n                public String toString() {\n                    return &quot;@org.springframework.beans.factory.annotation.Qualifier(\\&quot;&quot; + value() + &quot;\\&quot;)&quot;;\n                }\n            };\n\n            // Use reflection to set the private parameterAnnotations field on the super class; this hack to \n            // funtionally declare a @Qualifier annotation does not work if the private field is not set.\n            try {\n                final Field field = getClass().getSuperclass().getDeclaredField(&quot;parameterAnnotations&quot;);\n                field.setAccessible (true);\n                field.set           (this, annotations);\n            } catch (final NoSuchFieldException | IllegalAccessException e) {\n                throw new Error(e);\n            }\n\n            return annotations;\n        }\n    };\n\n    final BeanDefinition beanDefinition = (\n        BeanDefinitionBuilder.genericBeanDefinition(Bar.class)\n            .addPropertyValue (&quot;id&quot;,  &quot;bar_0001&quot;),\n            .addPropertyValue (&quot;...&quot;, &quot;...&quot;)\n            .addPropertyValue (&quot;foos&quot;, new DependencyDescriptor(writeMethodParameter, true))\n        .getBeanDefinition()\n    );\n\n    beanDefinitionRegistry.registerBeanDefinition(&quot;bar&quot;, beanDefinition);\n}\n</code></pre>\n"}],"owner":{"account_id":5762184,"reputation":757,"user_id":4548231,"display_name":"sawprogramming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692050370,"creation_date":1692043473,"question_id":76901860,"body_markdown":"I&#39;m using Spring 6. Say I have the following beans defined somewhere in the application&#39;s classpath.\r\n\r\n~~~java\r\n// &quot;A&quot;-qualified Foo instances\r\n@Bean @Qualifier(&quot;A&quot;) adventure () { return new Foo(&quot;Adventure&quot;); }\r\n@Bean @Qualifier(&quot;A&quot;) afternoon () { return new Foo(&quot;Afternoon&quot;); }\r\n@Bean @Qualifier(&quot;A&quot;) air       () { return new Foo(&quot;Air&quot;);       }\r\n@Bean @Qualifier(&quot;A&quot;) animal    () { return new Foo(&quot;Animal&quot;);    }\r\n@Bean @Qualifier(&quot;A&quot;) apple     () { return new Foo(&quot;Apple&quot;);     }\r\n@Bean @Qualifier(&quot;A&quot;) award     () { return new Foo(&quot;Award&quot;);     }\r\n\r\n// &quot;B&quot;-qualified Foo instances\r\n@Bean @Qualifier(&quot;B&quot;) basket  () { return new Foo(&quot;Basket&quot;);  }\r\n@Bean @Qualifier(&quot;B&quot;) bee     () { return new Foo(&quot;Bee&quot;);     }\r\n@Bean @Qualifier(&quot;B&quot;) blanket () { return new Foo(&quot;Blanket&quot;); }\r\n@Bean @Qualifier(&quot;B&quot;) bicycle () { return new Foo(&quot;Bicycle&quot;); }\r\n@Bean @Qualifier(&quot;B&quot;) bucket  () { return new Foo(&quot;Bucket&quot;);  }\r\n@Bean @Qualifier(&quot;B&quot;) button  () { return new Foo(&quot;Button&quot;);  }\r\n~~~\r\n\r\nWith annotations hard-coded in a class file, I could normally autowire all &quot;A&quot;-qualified instances of `Foo` into a property like so:\r\n~~~java\r\n@Autowired\r\npublic void setFoos(@Qualifier(&quot;A&quot;) final List&lt;Foo&gt; foos) { \r\n   this.foos = foos;\r\n}\r\n~~~\r\n\r\nIs it also possible to inject property values using a `Qualifier` when functionally registering `BeanDefinitions`? I&#39;m thinking that if it was possible, it would look something like this:\r\n~~~java\r\npublic void registerBar(final BeanDefinitionRegistry registry) {\r\n    final BeanDefinition beanDefinition = (\r\n        BeanDefinitionBuilder.genericBeanDefinition(Bar.class)\r\n            .addPropertyValue (&quot;id&quot;,  &quot;bar_0001&quot;),\r\n            .addPropertyValue (&quot;...&quot;, &quot;...&quot;)\r\n            .addPropertyValue (&quot;foos&quot;, new QualifiedRuntimeBeanReference(Foo.class, &quot;A&quot;))\r\n        .getBeanDefinition()\r\n    );\r\n   beanDefinitionRegistry.registerBeanDefinition(&quot;bar&quot;, beanDefinition);\r\n}\r\n~~~\r\n\r\n\r\nIt doesn&#39;t seem like what I&#39;m asking about is supported in a straightforward way. I see a little bit of discussion that appears related in [the Spring Framework project on GitHub][1], but the solution there doesn&#39;t seem to consider qualifiers.\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/23032","title":"Inject property value with qualifiers using functionally defined BeanDefinitions","body":"<p>I'm using Spring 6. Say I have the following beans defined somewhere in the application's classpath.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// &quot;A&quot;-qualified Foo instances\n@Bean @Qualifier(&quot;A&quot;) adventure () { return new Foo(&quot;Adventure&quot;); }\n@Bean @Qualifier(&quot;A&quot;) afternoon () { return new Foo(&quot;Afternoon&quot;); }\n@Bean @Qualifier(&quot;A&quot;) air       () { return new Foo(&quot;Air&quot;);       }\n@Bean @Qualifier(&quot;A&quot;) animal    () { return new Foo(&quot;Animal&quot;);    }\n@Bean @Qualifier(&quot;A&quot;) apple     () { return new Foo(&quot;Apple&quot;);     }\n@Bean @Qualifier(&quot;A&quot;) award     () { return new Foo(&quot;Award&quot;);     }\n\n// &quot;B&quot;-qualified Foo instances\n@Bean @Qualifier(&quot;B&quot;) basket  () { return new Foo(&quot;Basket&quot;);  }\n@Bean @Qualifier(&quot;B&quot;) bee     () { return new Foo(&quot;Bee&quot;);     }\n@Bean @Qualifier(&quot;B&quot;) blanket () { return new Foo(&quot;Blanket&quot;); }\n@Bean @Qualifier(&quot;B&quot;) bicycle () { return new Foo(&quot;Bicycle&quot;); }\n@Bean @Qualifier(&quot;B&quot;) bucket  () { return new Foo(&quot;Bucket&quot;);  }\n@Bean @Qualifier(&quot;B&quot;) button  () { return new Foo(&quot;Button&quot;);  }\n</code></pre>\n<p>With annotations hard-coded in a class file, I could normally autowire all &quot;A&quot;-qualified instances of <code>Foo</code> into a property like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\npublic void setFoos(@Qualifier(&quot;A&quot;) final List&lt;Foo&gt; foos) { \n   this.foos = foos;\n}\n</code></pre>\n<p>Is it also possible to inject property values using a <code>Qualifier</code> when functionally registering <code>BeanDefinitions</code>? I'm thinking that if it was possible, it would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void registerBar(final BeanDefinitionRegistry registry) {\n    final BeanDefinition beanDefinition = (\n        BeanDefinitionBuilder.genericBeanDefinition(Bar.class)\n            .addPropertyValue (&quot;id&quot;,  &quot;bar_0001&quot;),\n            .addPropertyValue (&quot;...&quot;, &quot;...&quot;)\n            .addPropertyValue (&quot;foos&quot;, new QualifiedRuntimeBeanReference(Foo.class, &quot;A&quot;))\n        .getBeanDefinition()\n    );\n   beanDefinitionRegistry.registerBeanDefinition(&quot;bar&quot;, beanDefinition);\n}\n</code></pre>\n<p>It doesn't seem like what I'm asking about is supported in a straightforward way. I see a little bit of discussion that appears related in <a href=\"https://github.com/spring-projects/spring-framework/issues/23032\" rel=\"nofollow noreferrer\">the Spring Framework project on GitHub</a>, but the solution there doesn't seem to consider qualifiers.</p>\n"},{"tags":["java","if-statement","syntax-error","do-while","user-experience"],"comments":[{"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"score":3,"creation_date":1692043791,"post_id":76901865,"comment_id":135569786,"body_markdown":"You need to place `break` after each `case`, otherwise it will fall through and execute the other cases. This is a frequent mistake, esp. as some languages have other conventions where they will implicitly `break` (IMO the saner behavior).","body":"You need to place <code>break</code> after each <code>case</code>, otherwise it will fall through and execute the other cases. This is a frequent mistake, esp. as some languages have other conventions where they will implicitly <code>break</code> (IMO the saner behavior)."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1692044535,"post_id":76901865,"comment_id":135569902,"body_markdown":"`} while (set = false);` is an assignment, not a comparison","body":"<code>} while (set = false);</code> is an assignment, not a comparison"},{"owner":{"account_id":27139155,"reputation":1,"user_id":20709971,"display_name":"Chance H"},"score":0,"creation_date":1692046747,"post_id":76901865,"comment_id":135570205,"body_markdown":"thanks you! You two were spot on and now it looks great. Thank you for the help!","body":"thanks you! You two were spot on and now it looks great. Thank you for the help!"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1692051415,"post_id":76901865,"comment_id":135570773,"body_markdown":"Not a solution as such, but there is a series on the “Marco Codes” YouTube channel where Marco builds a text editor in Java. It’s quite interesting","body":"Not a solution as such, but there is a series on the “Marco Codes” YouTube channel where Marco builds a text editor in Java. It’s quite interesting"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692050317,"creation_date":1692050317,"answer_id":76902377,"question_id":76901865,"body_markdown":"The way you wrote the switch, it &#39;falls through&#39;. Here&#39;s a simple snippet to show how fall-through works:\r\n\r\n```\r\nint x = 5;\r\nswitch (x) {\r\ncase 5: System.out.print(&quot;5&quot;);\r\ncase 4: System.out.print(&quot;4&quot;);\r\ncase 3: System.out.print(&quot;3&quot;);\r\ncase 2: System.out.print(&quot;2&quot;);\r\ncase 1: System.out.print(&quot;1&quot;);\r\n}\r\n```\r\n\r\nThe above would print `54321`. Not just `5`.\r\n\r\nYou need breaks at the end of _every_ case statement:\r\n\r\n```\r\nint x = 5;\r\nswitch (x) {\r\ncase 5: System.out.print(&quot;5&quot;); break;\r\ncase 4: System.out.print(&quot;4&quot;); break;\r\ncase 3: System.out.print(&quot;3&quot;); break;\r\ncase 2: System.out.print(&quot;2&quot;); break;\r\ncase 1: System.out.print(&quot;1&quot;); break;\r\n}\r\n```\r\n\r\nNow it would print just `5`. Many java linting tools, including IDEs, can be configured to require that `break` (they will mark your code as problematic if you fail to write one at the end of every case block but the last), or possibly a comment with the word &#39;fallthrough&#39; in it someplace, to indicate you _want_ the fallthrough behaviour.\r\n\r\nHowever, there are better options; other forms of switch that don&#39;t suffer from this conundrum. In fact, these days (JDK17+) switch is rather flexible. With arrow-notation, case blocks no longer fall through:\r\n\r\n```\r\nint x = 5;\r\nswitch (x) {\r\ncase 5 -&gt; System.out.print(&quot;5&quot;);\r\ncase 4 -&gt; System.out.print(&quot;4&quot;);\r\ncase 3 -&gt; System.out.print(&quot;3&quot;);\r\ncase 2 -&gt; System.out.print(&quot;2&quot;);\r\ncase 1 -&gt; System.out.print(&quot;1&quot;);\r\n}\r\n```\r\n\r\nNow it prints simply `5`.\r\n\r\nYou can also write switches as expressions:\r\n\r\n```\r\nint x = 5;\r\nString wordified = switch(x) {\r\n  case 5 -&gt; &quot;Five&quot;;\r\n  case 4 -&gt; &quot;Four&quot;;\r\n  case 3,2,1 -&gt; &quot;Low&quot;;\r\n  default -&gt; &quot;Who knows&quot;;\r\n};\r\n\r\nSystem.out.println(wordified);\r\n```\r\n\r\nprints `Five`. In this mode, your cases have to &#39;exhaustive&#39; (cover every value the input type could possibly have. Which, for `int`, would require about 4 billion entries, obviously not feasible. But with a `default` block it&#39;s now exhaustive. Non-exhaustive switches used as expressions give you a compiler error that tell you that your switch isn&#39;t exhaustive.\r\n\r\nNB: If you&#39;re thinking: Say, that fallthrough thing, that&#39;s pretty stupid! Yeah, probably. Java v1.0 bent over backwards to look, syntactically, as close to C as possible, given that C was absolutely dominant at the time in the kinds of environments java wanted to be popular in. This explains a ton of &#39;what were they thinking&#39; syntax choices (and C, itself, has similarly &#39;rooted in the mists of history&#39; explanations for _their_ choices, and so on, until you&#39;re Indiana Jones spelunking through the 1950s to figure out why things turned out the way they are. Fun hobby, though). Don&#39;t knock it - it worked. Java was more popular than C within about a decade of its release, and still is.","title":"If-statement boolean logic not working within my switch statement","body":"<p>The way you wrote the switch, it 'falls through'. Here's a simple snippet to show how fall-through works:</p>\n<pre><code>int x = 5;\nswitch (x) {\ncase 5: System.out.print(&quot;5&quot;);\ncase 4: System.out.print(&quot;4&quot;);\ncase 3: System.out.print(&quot;3&quot;);\ncase 2: System.out.print(&quot;2&quot;);\ncase 1: System.out.print(&quot;1&quot;);\n}\n</code></pre>\n<p>The above would print <code>54321</code>. Not just <code>5</code>.</p>\n<p>You need breaks at the end of <em>every</em> case statement:</p>\n<pre><code>int x = 5;\nswitch (x) {\ncase 5: System.out.print(&quot;5&quot;); break;\ncase 4: System.out.print(&quot;4&quot;); break;\ncase 3: System.out.print(&quot;3&quot;); break;\ncase 2: System.out.print(&quot;2&quot;); break;\ncase 1: System.out.print(&quot;1&quot;); break;\n}\n</code></pre>\n<p>Now it would print just <code>5</code>. Many java linting tools, including IDEs, can be configured to require that <code>break</code> (they will mark your code as problematic if you fail to write one at the end of every case block but the last), or possibly a comment with the word 'fallthrough' in it someplace, to indicate you <em>want</em> the fallthrough behaviour.</p>\n<p>However, there are better options; other forms of switch that don't suffer from this conundrum. In fact, these days (JDK17+) switch is rather flexible. With arrow-notation, case blocks no longer fall through:</p>\n<pre><code>int x = 5;\nswitch (x) {\ncase 5 -&gt; System.out.print(&quot;5&quot;);\ncase 4 -&gt; System.out.print(&quot;4&quot;);\ncase 3 -&gt; System.out.print(&quot;3&quot;);\ncase 2 -&gt; System.out.print(&quot;2&quot;);\ncase 1 -&gt; System.out.print(&quot;1&quot;);\n}\n</code></pre>\n<p>Now it prints simply <code>5</code>.</p>\n<p>You can also write switches as expressions:</p>\n<pre><code>int x = 5;\nString wordified = switch(x) {\n  case 5 -&gt; &quot;Five&quot;;\n  case 4 -&gt; &quot;Four&quot;;\n  case 3,2,1 -&gt; &quot;Low&quot;;\n  default -&gt; &quot;Who knows&quot;;\n};\n\nSystem.out.println(wordified);\n</code></pre>\n<p>prints <code>Five</code>. In this mode, your cases have to 'exhaustive' (cover every value the input type could possibly have. Which, for <code>int</code>, would require about 4 billion entries, obviously not feasible. But with a <code>default</code> block it's now exhaustive. Non-exhaustive switches used as expressions give you a compiler error that tell you that your switch isn't exhaustive.</p>\n<p>NB: If you're thinking: Say, that fallthrough thing, that's pretty stupid! Yeah, probably. Java v1.0 bent over backwards to look, syntactically, as close to C as possible, given that C was absolutely dominant at the time in the kinds of environments java wanted to be popular in. This explains a ton of 'what were they thinking' syntax choices (and C, itself, has similarly 'rooted in the mists of history' explanations for <em>their</em> choices, and so on, until you're Indiana Jones spelunking through the 1950s to figure out why things turned out the way they are. Fun hobby, though). Don't knock it - it worked. Java was more popular than C within about a decade of its release, and still is.</p>\n"}],"owner":{"account_id":27139155,"reputation":1,"user_id":20709971,"display_name":"Chance H"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692050317,"creation_date":1692043498,"question_id":76901865,"body_markdown":"I am writing a function for a personal project and am trying to create a function that will center lines of text onto the console. I found a solution for Strings less than a line long, but am encountering difficulties with larger Strings. Code is behaving erratically and I think the logic is not working correctly due to some issue unknown to me. I don&#39;t have a ton of experience with switch statements but figured it was a good time to learn through doing. So if the answer is obvious don&#39;t be mad.\r\n\r\n\r\nTo explain the code I input a String words that I want to split into 2 smaller Strings that are centered on a 200 (fullscreen) character wide console(might upscale later to allow more lines). My idea is to have three preferences on where to split the line: periods, commas and finally spaces. I am trying to use a do-while loop to attempt each preference in order and find an acceptable splitting spot between 175 and 200 character. All of my issues on inside the splitWords(String words) function but I included the function that calls it for holisticness. \r\n\r\nThis is the written code:\r\n```\r\npublic static void printCenter(String words){ //assumes a 200 character wide console\r\n\r\n\t\tint x = words.length();\r\n\t\tint y = (200-x);\r\n\t\tint z= y/2;\r\n\r\n\t\tif(x&lt;175){ //no need for formatting second line\r\n\t\t\tfor(int i=z; i&gt;0; i--){\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\t\tSystem.out.print(words);\r\n\t\t\tfor(int i=z; i&gt;0; i--){\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t\tif(x&gt;=175){\r\n\t\t\tString[] split = splitWords(words);\r\n\t\t\tString words1 = split[0];\r\n\t\t\tString words2 = split[1];\r\n\r\n\t\t\tint x1 = words1.length();\r\n\t\t\tint x2 = words2.length();\r\n\t\t\tint y1 = (200-x1);\r\n\t\t\tint y2 = (200-x2);\r\n\t\t\tint z1= y1/2;\r\n\t\t\tint z2= y2/2;\r\n\r\n\t\t\tSystem.out.println(&quot;Split at: &quot; + x1 + &quot;\\t Output below&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\r\n\t\t\tfor(int i=z1; i&gt;0; i--){\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\t\tSystem.out.print(words1);\r\n\t\t\tfor(int i=z1; i&gt;0; i--){\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tfor(int i=z2; i&gt;0; i--){\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\t\tSystem.out.print(words2);\r\n\t\t\tfor(int i=z2; i&gt;0; i--){\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\r\n\t}\r\npublic static String[] splitWords(String words){\r\n\tString line1 = &quot;&quot;;\r\n\tString line2 = &quot;&quot;;\r\n\tint splithere = 0;\r\n\t//strings used to create new substrings\r\n\tString firstpref = &quot;. &quot;;\r\n\tString secondpref = &quot;, &quot;;\r\n\tString lastpref = &quot; &quot;;\r\n\tint tries = 0;\r\n\tboolean set = false;\r\n\tSystem.out.println(&quot;started&quot;);\r\n\tdo{\r\n\t\tswitch(tries){\r\n\t\t\tcase 0:\r\n\t\t\t\tint num = words.indexOf(firstpref,175);\r\n\t\t\t\tif(num&lt;200){\r\n\t\t\t\t\tSystem.out.print(&quot;this should be less than 200: &quot; + num);\r\n\t\t\t\t\tsplithere = words.indexOf(firstpref,175);\r\n\t\t\t\t\tset=true;\r\n\t\t\t\t\tSystem.out.println(&quot;found valid split during pass: &quot; + tries + &quot; at: &quot; + splithere);\r\n\t\t\t\t}\r\n\t\t\tcase 1:\r\n\t\t\t\tif(words.indexOf(secondpref,175)&lt;200){\r\n\t\t\t\t\tsplithere = words.indexOf(firstpref,175);\r\n\t\t\t\t\tset=true;\r\n\t\t\t\t\tSystem.out.println(&quot;found valid split during pass: &quot; + tries + &quot; at: &quot; + splithere);\r\n\t\t\t\t}\r\n\t\t\tcase 2:\r\n\t\t\t\tif(words.indexOf(lastpref,175)&lt;200){\r\n\t\t\t\t\tsplithere = words.indexOf(firstpref,175);\r\n\t\t\t\t\tset=true;\r\n\t\t\t\t\tSystem.out.println(&quot;found valid split during pass: &quot; + tries + &quot; at: &quot; + splithere);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\ttries++;\r\n\t}while(set = false);\r\n\r\n\tline1 = words.substring(0,splithere);\r\n\tline2 = words.substring(splithere,words.length());\r\n\tString[] output = {line1,line2};\r\n\tSystem.out.println(&quot; ended with boolean = &quot; + set);\r\n\treturn output;\r\n\t}\r\n```\r\n\r\n\r\nHere is a sample output from a 347 character string:\r\n\r\n&gt; started\r\nfound valid split during pass: 0 at: 235\r\n ended with boolean = false\r\nSplit at: 235    Output below:\r\n\r\n&gt; You are at a junction in the middle of town. To the west, through a guard post, lies the heart of the village, protected and highly guarded this area is home to politicians, great scribes and hunters and most importantly, cheif&#39;s perch (String splits here). The older dirt road running North ends in a T with a decorated stone road running East.\r\n\r\nYou can see from my code that I have tried to insert messages to help me diagnose the problem. It seems to me like the If statement inside the switch is running some of it&#39;s code even when the If statement is off. How else can you explain the console printing out the &quot;found valid split during pass 0 at: 235&quot; when that String should never have a number greater than 200 as defined by the boolean logic in the If statement.\r\n\r\nAnother vexxing issue is that the do-while loop ends while set=false. You can see this in the output text on the console. I cannot see why it doesn&#39;t increment tries++ and run the loop again with a new switch statement.","title":"If-statement boolean logic not working within my switch statement","body":"<p>I am writing a function for a personal project and am trying to create a function that will center lines of text onto the console. I found a solution for Strings less than a line long, but am encountering difficulties with larger Strings. Code is behaving erratically and I think the logic is not working correctly due to some issue unknown to me. I don't have a ton of experience with switch statements but figured it was a good time to learn through doing. So if the answer is obvious don't be mad.</p>\n<p>To explain the code I input a String words that I want to split into 2 smaller Strings that are centered on a 200 (fullscreen) character wide console(might upscale later to allow more lines). My idea is to have three preferences on where to split the line: periods, commas and finally spaces. I am trying to use a do-while loop to attempt each preference in order and find an acceptable splitting spot between 175 and 200 character. All of my issues on inside the splitWords(String words) function but I included the function that calls it for holisticness.</p>\n<p>This is the written code:</p>\n<pre><code>public static void printCenter(String words){ //assumes a 200 character wide console\n\n        int x = words.length();\n        int y = (200-x);\n        int z= y/2;\n\n        if(x&lt;175){ //no need for formatting second line\n            for(int i=z; i&gt;0; i--){\n                System.out.print(&quot; &quot;);\n            }\n                System.out.print(words);\n            for(int i=z; i&gt;0; i--){\n                System.out.print(&quot; &quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n        if(x&gt;=175){\n            String[] split = splitWords(words);\n            String words1 = split[0];\n            String words2 = split[1];\n\n            int x1 = words1.length();\n            int x2 = words2.length();\n            int y1 = (200-x1);\n            int y2 = (200-x2);\n            int z1= y1/2;\n            int z2= y2/2;\n\n            System.out.println(&quot;Split at: &quot; + x1 + &quot;\\t Output below&quot;);\n            System.out.println(&quot;&quot;);\n\n            for(int i=z1; i&gt;0; i--){\n                System.out.print(&quot; &quot;);\n            }\n                System.out.print(words1);\n            for(int i=z1; i&gt;0; i--){\n                System.out.print(&quot; &quot;);\n            }\n            for(int i=z2; i&gt;0; i--){\n                System.out.print(&quot; &quot;);\n            }\n                System.out.print(words2);\n            for(int i=z2; i&gt;0; i--){\n                System.out.print(&quot; &quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n\n    }\npublic static String[] splitWords(String words){\n    String line1 = &quot;&quot;;\n    String line2 = &quot;&quot;;\n    int splithere = 0;\n    //strings used to create new substrings\n    String firstpref = &quot;. &quot;;\n    String secondpref = &quot;, &quot;;\n    String lastpref = &quot; &quot;;\n    int tries = 0;\n    boolean set = false;\n    System.out.println(&quot;started&quot;);\n    do{\n        switch(tries){\n            case 0:\n                int num = words.indexOf(firstpref,175);\n                if(num&lt;200){\n                    System.out.print(&quot;this should be less than 200: &quot; + num);\n                    splithere = words.indexOf(firstpref,175);\n                    set=true;\n                    System.out.println(&quot;found valid split during pass: &quot; + tries + &quot; at: &quot; + splithere);\n                }\n            case 1:\n                if(words.indexOf(secondpref,175)&lt;200){\n                    splithere = words.indexOf(firstpref,175);\n                    set=true;\n                    System.out.println(&quot;found valid split during pass: &quot; + tries + &quot; at: &quot; + splithere);\n                }\n            case 2:\n                if(words.indexOf(lastpref,175)&lt;200){\n                    splithere = words.indexOf(firstpref,175);\n                    set=true;\n                    System.out.println(&quot;found valid split during pass: &quot; + tries + &quot; at: &quot; + splithere);\n                }\n        }\n        tries++;\n    }while(set = false);\n\n    line1 = words.substring(0,splithere);\n    line2 = words.substring(splithere,words.length());\n    String[] output = {line1,line2};\n    System.out.println(&quot; ended with boolean = &quot; + set);\n    return output;\n    }\n</code></pre>\n<p>Here is a sample output from a 347 character string:</p>\n<blockquote>\n<p>started\nfound valid split during pass: 0 at: 235\nended with boolean = false\nSplit at: 235    Output below:</p>\n</blockquote>\n<blockquote>\n<p>You are at a junction in the middle of town. To the west, through a guard post, lies the heart of the village, protected and highly guarded this area is home to politicians, great scribes and hunters and most importantly, cheif's perch (String splits here). The older dirt road running North ends in a T with a decorated stone road running East.</p>\n</blockquote>\n<p>You can see from my code that I have tried to insert messages to help me diagnose the problem. It seems to me like the If statement inside the switch is running some of it's code even when the If statement is off. How else can you explain the console printing out the &quot;found valid split during pass 0 at: 235&quot; when that String should never have a number greater than 200 as defined by the boolean logic in the If statement.</p>\n<p>Another vexxing issue is that the do-while loop ends while set=false. You can see this in the output text on the console. I cannot see why it doesn't increment tries++ and run the loop again with a new switch statement.</p>\n"},{"tags":["java","constructor","overloading","factory-method","constructor-overloading"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692021338,"post_id":76899556,"comment_id":135565588,"body_markdown":"Why would you need all those constructors? What is wrong with an all arguments constructor? Why would you need them for all possible combinations, are they even used?","body":"Why would you need all those constructors? What is wrong with an all arguments constructor? Why would you need them for all possible combinations, are they even used?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692021369,"post_id":76899556,"comment_id":135565596,"body_markdown":"You should only write the code that is useful to someone *now*. So only write those combinations of constructors that you actually need. If more are needed later, then add them later. And yes, using a Builder is a fine solution to prevent having to write a ton of constructors.","body":"You should only write the code that is useful to someone <i>now</i>. So only write those combinations of constructors that you actually need. If more are needed later, then add them later. And yes, using a Builder is a fine solution to prevent having to write a ton of constructors."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1692021381,"post_id":76899556,"comment_id":135565601,"body_markdown":"well, if you think there are going to be more variables you are going to be adding, its always good to refactor your code now to use a design pattern. If it was only a few variables, it would be a lot of boiler plate, so theres always a trade off. Of course, this is very opinion-based, so it ultimately is up to you","body":"well, if you think there are going to be more variables you are going to be adding, its always good to refactor your code now to use a design pattern. If it was only a few variables, it would be a lot of boiler plate, so theres always a trade off. Of course, this is very opinion-based, so it ultimately is up to you"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1692021442,"post_id":76899556,"comment_id":135565618,"body_markdown":"This looks like a good application of the [Builder Pattern](https://en.wikipedia.org/wiki/Builder_pattern).","body":"This looks like a good application of the <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder Pattern</a>."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1692021464,"post_id":76899556,"comment_id":135565623,"body_markdown":"@M.Deinum if the class is public, then for the convenience of the end user of the class","body":"@M.Deinum if the class is public, then for the convenience of the end user of the class"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692021673,"post_id":76899556,"comment_id":135565673,"body_markdown":"How is plowing through 20 constructors easier then have 1 well documented one (or a few possible permutations with defaults). Also if every permutation is possible why even use a constructor, instead create a default no-args constructor and use setters to set the needed values (and initialize with defaults).","body":"How is plowing through 20 constructors easier then have 1 well documented one (or a few possible permutations with defaults). Also if every permutation is possible why even use a constructor, instead create a default no-args constructor and use setters to set the needed values (and initialize with defaults)."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1692021861,"post_id":76899556,"comment_id":135565724,"body_markdown":"I probable need to use Build Pattern for more flexibility, thank you all","body":"I probable need to use Build Pattern for more flexibility, thank you all"},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1692022202,"post_id":76899556,"comment_id":135565817,"body_markdown":"@M.Deinum Yes you&#39;re completely right, so instead of providing setters for the class itself, I want to create setters only for Builder object(the main class will be immutable)","body":"@M.Deinum Yes you&#39;re completely right, so instead of providing setters for the class itself, I want to create setters only for Builder object(the main class will be immutable)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1692022416,"post_id":76899556,"comment_id":135565869,"body_markdown":"Seconding Andy&#39;s advice regarding the builder pattern: you can keep a non-public constructor that accepts the `Builder` object itself, assigning fields from the builder. No more updating a lengthy constructor call, just add lines for handling a new field in the builder and target object. If you have a specific question regarding introducing the builder pattern into this code, then update/edit your question to clarify where you&#39;re stuck.","body":"Seconding Andy&#39;s advice regarding the builder pattern: you can keep a non-public constructor that accepts the <code>Builder</code> object itself, assigning fields from the builder. No more updating a lengthy constructor call, just add lines for handling a new field in the builder and target object. If you have a specific question regarding introducing the builder pattern into this code, then update/edit your question to clarify where you&#39;re stuck."},{"owner":{"account_id":7929673,"reputation":56,"user_id":5987998,"display_name":"Zack Peterson"},"score":0,"creation_date":1692025819,"post_id":76899556,"comment_id":135566653,"body_markdown":"I&#39;d like to add that you can just initialize the class variables to default values inline, and then you don&#39;t have to rely on constructors to set the defaults. The defaults will be overwritten when you set them through a constructor or otherwise, so you can have constructors with just a couple subsets of fields that you need.","body":"I&#39;d like to add that you can just initialize the class variables to default values inline, and then you don&#39;t have to rely on constructors to set the defaults. The defaults will be overwritten when you set them through a constructor or otherwise, so you can have constructors with just a couple subsets of fields that you need."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1692026450,"post_id":76899556,"comment_id":135566778,"body_markdown":"@ZackPeterson it&#39;s buried in a comment, but &quot;the main class will be immutable&quot; suggests that your solution wouldn&#39;t work, since the fields would no longer be able to be `final`. It could work in a builder itself, though.","body":"@ZackPeterson it&#39;s buried in a comment, but &quot;the main class will be immutable&quot; suggests that your solution wouldn&#39;t work, since the fields would no longer be able to be <code>final</code>. It could work in a builder itself, though."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1692049915,"creation_date":1692022966,"answer_id":76899781,"question_id":76899556,"body_markdown":"Essentially, no. As a concept this doesn&#39;t scale. In two ways.\r\n\r\n# Why your style doesn&#39;t work\r\n\r\n## Combinatory explosion\r\n\r\nImagine you have 6 fields, and they all have default values. That means you&#39;re creating 2-to-the-6 different constructors (64 constructors). Aside from the fact that this is nuts on its face and certainly unmaintainable, even if you decide to use some automated tooling or annotation processors to generate them, there&#39;s a 65536 limit to the number you can have due to class file limits.\r\n\r\n## Type conflicts\r\n\r\nImagine you have 2 fields (`a` and `b`), and they all have default values. Both fields are of type `int`. You can&#39;t do it - the constructor that takes only `a` and leaves `b` at default value conflicts with the constructor that takes only `b` and leaves `a` at default value - both have the signature `YourType(int)`.\r\n\r\n# The common solutions\r\n\r\n## Left-to-right only\r\n\r\nInstead of creating the combinatory explosion, only pad on. So, given a hypothetical class with 3 fields (`int a; int b; String c;`), you have 4 constructors:\r\n\r\n* `()`\r\n* `(int a)`\r\n* `(int a, int b)`\r\n* `(int a, int b, String c)`\r\n\r\nIn other words, a given &#39;field&#39; is required if any field &#39;below it&#39; is also provided. Then order your fields in a sensible order. This keeps the number of constructors you have managable (if they&#39;re _all_ defaulted, 1+n, which is linear to the number of fields you have, instead of a fac(n) explosion). It&#39;s also more or less what java programmers expect, and it matches various other languages that work similarly.\r\n\r\n## Only full-and-none\r\n\r\nThe only constructors that exist is the no-args one because various tools need it, and the all-args one.\r\n\r\n## Sensible\r\n\r\nThink about the API, about how code that uses your class would operate. Is there a limited set of common and obvious ways to construct it? If yes, write those constructors. By definition there is no way to tell which ones you should write given a list of field types - you need to explain exactly what your type represents and what it does, it&#39;s &quot;in the eye of the beholder&quot;. API design has a whiff of artistry to it. You decide how you think it should be used.\r\n\r\n## Builders\r\n\r\nThis is the true fire-and-forget works-for-every-situation solution. You write a builder. The nature of builders means that your API users (the code that invokes stuff on this class / on instances of this class) end up writing something like this.\r\n\r\n```\r\n// given:\r\n\r\nclass Bridge {\r\n  int yearBuilt;\r\n  int span;\r\n  String name;\r\n}\r\n\r\n// do not construct like this:\r\nnew Bridge(1937, 1280, &quot;Golden Gate&quot;);\r\n```\r\n\r\nThe reason you don&#39;t build like that is not _just_ because it makes it very tricky to make every argument optional. It&#39;s also that the call itself becomes unreadable. Is that a bridge built in 1937 with a max span of 1280 meters, or is that a bridge built in 1280 with a max span of 1937 meters? Can&#39;t tell from this call without having the javadoc or getting my IDE to highlight the names of those params.\r\n\r\ninstead, you make your library users write this:\r\n\r\n```\r\nBridge.builder()\r\n  .buildYear(1937)\r\n  .maxSpan(1280)\r\n  .name(&quot;Golden Gate&quot;)\r\n  .build();\r\n```\r\n\r\nThis has all sorts of advantages:\r\n\r\n* Every parameter can be defaulted/optional without a `fac(n)` explosion - it&#39;s linear to the number of fields.\r\n* You can create multiple alternate ways to specify a given field value. Perhaps `.buildDate(LocalDate.of(1937, 4, 19))` and also `.buildDate(1937, Month.APRIL, 19)` - if you really want that, at least it doesn&#39;t make the combinatory explosion effect even worse.\r\n* Callers have readable code - now just looking at that code there&#39;s no chance I confuse span from build year.\r\n* Later additions with defaults don&#39;t break existing code. Adding an non-defaulted thing - that&#39;s trickier.\r\n* It is relatively common, so should be familiar to your average java coder.\r\n\r\nThe downside is that it&#39;s a _ton_ of boilerplate to write a builder and all the boilerplatey methods that are needed to make it work (not _just_ a &#39;setter&#39; in the build class for every field, but also `builder()`, `build()`, a private constructor, and so on).\r\n\r\nProject Lombok generates all that for you though: [`@Builder` documentation](https://projectlombok.org/features/Builder). Even if you can&#39;t use lombok / do not like it, the docs contain an example of the &#39;vanilla&#39; version of what `@Builder` generates, which serves as example of how to do it on your own.\r\n","title":"Do I need to overload the constructor | factory method for each combination of constructor&#39;s | factory method&#39;s arguments?","body":"<p>Essentially, no. As a concept this doesn't scale. In two ways.</p>\n<h1>Why your style doesn't work</h1>\n<h2>Combinatory explosion</h2>\n<p>Imagine you have 6 fields, and they all have default values. That means you're creating 2-to-the-6 different constructors (64 constructors). Aside from the fact that this is nuts on its face and certainly unmaintainable, even if you decide to use some automated tooling or annotation processors to generate them, there's a 65536 limit to the number you can have due to class file limits.</p>\n<h2>Type conflicts</h2>\n<p>Imagine you have 2 fields (<code>a</code> and <code>b</code>), and they all have default values. Both fields are of type <code>int</code>. You can't do it - the constructor that takes only <code>a</code> and leaves <code>b</code> at default value conflicts with the constructor that takes only <code>b</code> and leaves <code>a</code> at default value - both have the signature <code>YourType(int)</code>.</p>\n<h1>The common solutions</h1>\n<h2>Left-to-right only</h2>\n<p>Instead of creating the combinatory explosion, only pad on. So, given a hypothetical class with 3 fields (<code>int a; int b; String c;</code>), you have 4 constructors:</p>\n<ul>\n<li><code>()</code></li>\n<li><code>(int a)</code></li>\n<li><code>(int a, int b)</code></li>\n<li><code>(int a, int b, String c)</code></li>\n</ul>\n<p>In other words, a given 'field' is required if any field 'below it' is also provided. Then order your fields in a sensible order. This keeps the number of constructors you have managable (if they're <em>all</em> defaulted, 1+n, which is linear to the number of fields you have, instead of a fac(n) explosion). It's also more or less what java programmers expect, and it matches various other languages that work similarly.</p>\n<h2>Only full-and-none</h2>\n<p>The only constructors that exist is the no-args one because various tools need it, and the all-args one.</p>\n<h2>Sensible</h2>\n<p>Think about the API, about how code that uses your class would operate. Is there a limited set of common and obvious ways to construct it? If yes, write those constructors. By definition there is no way to tell which ones you should write given a list of field types - you need to explain exactly what your type represents and what it does, it's &quot;in the eye of the beholder&quot;. API design has a whiff of artistry to it. You decide how you think it should be used.</p>\n<h2>Builders</h2>\n<p>This is the true fire-and-forget works-for-every-situation solution. You write a builder. The nature of builders means that your API users (the code that invokes stuff on this class / on instances of this class) end up writing something like this.</p>\n<pre><code>// given:\n\nclass Bridge {\n  int yearBuilt;\n  int span;\n  String name;\n}\n\n// do not construct like this:\nnew Bridge(1937, 1280, &quot;Golden Gate&quot;);\n</code></pre>\n<p>The reason you don't build like that is not <em>just</em> because it makes it very tricky to make every argument optional. It's also that the call itself becomes unreadable. Is that a bridge built in 1937 with a max span of 1280 meters, or is that a bridge built in 1280 with a max span of 1937 meters? Can't tell from this call without having the javadoc or getting my IDE to highlight the names of those params.</p>\n<p>instead, you make your library users write this:</p>\n<pre><code>Bridge.builder()\n  .buildYear(1937)\n  .maxSpan(1280)\n  .name(&quot;Golden Gate&quot;)\n  .build();\n</code></pre>\n<p>This has all sorts of advantages:</p>\n<ul>\n<li>Every parameter can be defaulted/optional without a <code>fac(n)</code> explosion - it's linear to the number of fields.</li>\n<li>You can create multiple alternate ways to specify a given field value. Perhaps <code>.buildDate(LocalDate.of(1937, 4, 19))</code> and also <code>.buildDate(1937, Month.APRIL, 19)</code> - if you really want that, at least it doesn't make the combinatory explosion effect even worse.</li>\n<li>Callers have readable code - now just looking at that code there's no chance I confuse span from build year.</li>\n<li>Later additions with defaults don't break existing code. Adding an non-defaulted thing - that's trickier.</li>\n<li>It is relatively common, so should be familiar to your average java coder.</li>\n</ul>\n<p>The downside is that it's a <em>ton</em> of boilerplate to write a builder and all the boilerplatey methods that are needed to make it work (not <em>just</em> a 'setter' in the build class for every field, but also <code>builder()</code>, <code>build()</code>, a private constructor, and so on).</p>\n<p>Project Lombok generates all that for you though: <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\"><code>@Builder</code> documentation</a>. Even if you can't use lombok / do not like it, the docs contain an example of the 'vanilla' version of what <code>@Builder</code> generates, which serves as example of how to do it on your own.</p>\n"}],"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76899781,"answer_count":1,"score":-1,"last_activity_date":1692049915,"creation_date":1692021225,"question_id":76899556,"body_markdown":"\r\nI have 4 instance variables that can be initialized by default, is the code written below appropriate? The number of constructors is growing a terrible pace, will I use the [Builder object](https://en.wikipedia.org/wiki/Builder_pattern) that have getters and setters?\r\n\r\n``` Java\r\n class Example {\r\n    private int a;\r\n    private String s;\r\n    private Object object;\r\n    private boolean aBoolean;\r\n\r\n\r\n    public Example(int a1, String s1, Object object1, boolean aBoolean1) {\r\n        a = a1;\r\n        s = s1;\r\n        object = object1;\r\n        aBoolean = aBoolean1;\r\n    }\r\n\r\n    public Example(int a1, String s1, Object object1) {\r\n        this(a1, s1, object1, true);\r\n    }\r\n\r\n    public Example(int a1, String s1) {\r\n        this(a1, s1, new Object(), true);\r\n    }\r\n\r\n    public Example(int a1,boolean aBoolean1) {\r\n        this(a1, &quot;a String&quot;, new Object(), aBoolean1);\r\n    }\r\n// ...(for all other combinations)\r\n}\r\n```","title":"Do I need to overload the constructor | factory method for each combination of constructor&#39;s | factory method&#39;s arguments?","body":"<p>I have 4 instance variables that can be initialized by default, is the code written below appropriate? The number of constructors is growing a terrible pace, will I use the <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder object</a> that have getters and setters?</p>\n<pre><code> class Example {\n    private int a;\n    private String s;\n    private Object object;\n    private boolean aBoolean;\n\n\n    public Example(int a1, String s1, Object object1, boolean aBoolean1) {\n        a = a1;\n        s = s1;\n        object = object1;\n        aBoolean = aBoolean1;\n    }\n\n    public Example(int a1, String s1, Object object1) {\n        this(a1, s1, object1, true);\n    }\n\n    public Example(int a1, String s1) {\n        this(a1, s1, new Object(), true);\n    }\n\n    public Example(int a1,boolean aBoolean1) {\n        this(a1, &quot;a String&quot;, new Object(), aBoolean1);\n    }\n// ...(for all other combinations)\n}\n</code></pre>\n"},{"tags":["java","maven","classnotfoundexception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692038841,"post_id":76901432,"comment_id":135568996,"body_markdown":"How are you a. building it, and b. running it?","body":"How are you a. building it, and b. running it?"},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692038964,"post_id":76901432,"comment_id":135569008,"body_markdown":"@g00se Building it with maven by right clicking package and clicking run. This causes maven to build the jar and place it in the target directory. I run it by going to the directory of the jar and type cmd and then type ``java -jar JByteMod-Remastered-2.1.4.jar`` so that I get a console stack trace of possible issues.","body":"@g00se Building it with maven by right clicking package and clicking run. This causes maven to build the jar and place it in the target directory. I run it by going to the directory of the jar and type cmd and then type <code>java -jar JByteMod-Remastered-2.1.4.jar</code> so that I get a console stack trace of possible issues."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1692039628,"post_id":76901432,"comment_id":135569136,"body_markdown":"This does not do so by default in IntelliJ, usually it will build it internally. You&#39;d want to execute a maven goal `mvn clean compile package` first, and see what happens. The rest is up to your `pom.xml` configuration.","body":"This does not do so by default in IntelliJ, usually it will build it internally. You&#39;d want to execute a maven goal <code>mvn clean compile package</code> first, and see what happens. The rest is up to your <code>pom.xml</code> configuration."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1692039818,"post_id":76901432,"comment_id":135569170,"body_markdown":"Sounds like you need to work on your packaging with Maven.  Try the maven-assembly-plugin: https://stackoverflow.com/questions/16222748/building-a-fat-jar-using-maven.  I would not mix Maven with /lib.  Add the JARs to your local .m2 and call for them in your pom.xml.  Install them to a central Maven repo if you need that JAR to be available to others.","body":"Sounds like you need to work on your packaging with Maven.  Try the maven-assembly-plugin: <a href=\"https://stackoverflow.com/questions/16222748/building-a-fat-jar-using-maven\" title=\"building a fat jar using maven\">stackoverflow.com/questions/16222748/&hellip;</a>.  I would not mix Maven with /lib.  Add the JARs to your local .m2 and call for them in your pom.xml.  Install them to a central Maven repo if you need that JAR to be available to others."},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692040014,"post_id":76901432,"comment_id":135569190,"body_markdown":"@Rogue Ok I tried that and it took longer but worked without any errors, but I still get the same error message. It even says ``Loading JByteMod-Remastered\\lib\\weblaf-complete-1.29-fixed.jar(com/alee/laf/WebLookAndFeel.class)]``. This has never been an issue before when using external jars with maven so I am not sure why its a problem now.","body":"@Rogue Ok I tried that and it took longer but worked without any errors, but I still get the same error message. It even says <code>Loading JByteMod-Remastered\\lib\\weblaf-complete-1.29-fixed.jar(com&#47;a&zwnj;&#8203;lee&#47;laf&#47;WebLookAndFe&zwnj;&#8203;el.class)]</code>. This has never been an issue before when using external jars with maven so I am not sure why its a problem now."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692041048,"post_id":76901432,"comment_id":135569387,"body_markdown":"*I run it by going to the directory of the jar and type cmd and then type java -jar JByteMod-Remastered-2.1.4.jar* that won&#39;t cut it unless you&#39;ve got a fat jar plug-in configured in Maven. Looks like you haven&#39;t","body":"<i>I run it by going to the directory of the jar and type cmd and then type java -jar JByteMod-Remastered-2.1.4.jar</i> that won&#39;t cut it unless you&#39;ve got a fat jar plug-in configured in Maven. Looks like you haven&#39;t"},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692041716,"post_id":76901432,"comment_id":135569473,"body_markdown":"@duffymo I am not sure where this .m2 folder is at because I dont see it in my projects directory. Maybe its in mavens installation directory but that does not make sense because why would I include my jar files in there when I only want them to be used in this one project. I also dont see why everyone else who has used this repo has been fine so there must be a way to make it work as is. I deleted the added library and tried this again with the same outcome.","body":"@duffymo I am not sure where this .m2 folder is at because I dont see it in my projects directory. Maybe its in mavens installation directory but that does not make sense because why would I include my jar files in there when I only want them to be used in this one project. I also dont see why everyone else who has used this repo has been fine so there must be a way to make it work as is. I deleted the added library and tried this again with the same outcome."},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692041811,"post_id":76901432,"comment_id":135569488,"body_markdown":"@g00se I also tried it by doing ``mvn clean compile package`` with the same outcomes. I did however notice that my jar file&#39;s size is smaller than it should by the exact amount of the missing lib. But I am not sure why its not being added.","body":"@g00se I also tried it by doing <code>mvn clean compile package</code> with the same outcomes. I did however notice that my jar file&#39;s size is smaller than it should by the exact amount of the missing lib. But I am not sure why its not being added."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692043485,"post_id":76901432,"comment_id":135569734,"body_markdown":"You didn&#39;t post your pom but I suspect you are not using a fat jar plugin. If so just configure one and use it","body":"You didn&#39;t post your pom but I suspect you are not using a fat jar plugin. If so just configure one and use it"},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692045086,"post_id":76901432,"comment_id":135569977,"body_markdown":"@g00se I did post the pom I linked it in my first sentence.","body":"@g00se I did post the pom I linked it in my first sentence."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692047084,"post_id":76901432,"comment_id":135570260,"body_markdown":"Sorry - didn&#39;t realize you were using it straight from the clone. Shall inspect","body":"Sorry - didn&#39;t realize you were using it straight from the clone. Shall inspect"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1692047318,"post_id":76901432,"comment_id":135570291,"body_markdown":".m2 is not in your project repository; it&#39;s the local directory where Maven will look for dependencies.  It&#39;s not possible to use Maven without understanding what .m2 is.","body":".m2 is not in your project repository; it&#39;s the local directory where Maven will look for dependencies.  It&#39;s not possible to use Maven without understanding what .m2 is."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692047540,"post_id":76901432,"comment_id":135570323,"body_markdown":"I suspect that is only one of *several* problems you&#39;re experiencing. [Always post the *full* stack trace](https://technojeeves.com/index.php/aliasjava1/17-errors)\nThat will build and run for me, but *only* with Java 8 ( or probably lower). For one thing, it relies on the JRE scripting support, which was removed in later versions.","body":"I suspect that is only one of <i>several</i> problems you&#39;re experiencing. <a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">Always post the <i>full</i> stack trace</a> That will build and run for me, but <i>only</i> with Java 8 ( or probably lower). For one thing, it relies on the JRE scripting support, which was removed in later versions."},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692047685,"post_id":76901432,"comment_id":135570343,"body_markdown":"@g00se I did post the complete stack trace (theres no other errors or missing components). Also, I am in fact using Java 8 (to compile the project and on my pc since its set as my javas home) but like I said many other people have been able to use this successfully, so I don&#39;t see the issue. I am also not getting any compilation errors.","body":"@g00se I did post the complete stack trace (theres no other errors or missing components). Also, I am in fact using Java 8 (to compile the project and on my pc since its set as my javas home) but like I said many other people have been able to use this successfully, so I don&#39;t see the issue. I am also not getting any compilation errors."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692048168,"post_id":76901432,"comment_id":135570397,"body_markdown":"OK. If you&#39;re *certain* you&#39;re using a Java 8 compiler then go to the command line and do: `mvn clean package` followed by `java -jar weblaf-complete-1.29-fixed.jar` (Note the version number) That ends up in /tmp for me","body":"OK. If you&#39;re <i>certain</i> you&#39;re using a Java 8 compiler then go to the command line and do: <code>mvn clean package</code> followed by <code>java -jar weblaf-complete-1.29-fixed.jar</code> (Note the version number) That ends up in /tmp for me"},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692048460,"post_id":76901432,"comment_id":135570433,"body_markdown":"@g00se Where do I type the ``weblaf`` command? I type ``mvn clean package`` in the directory of JByteMod-Remastered but typing ``java -jar weblaf-complete-1.29-fixed.jar`` in that same cmd results in ``Error: Unable to access jarfile weblaf-complete-1.29-fixed.jar``. DO you instead want me to type ``cmd`` inside the libs folder and then type that command? Because doing that results in errors but I am not sure where this /tmp is.","body":"@g00se Where do I type the <code>weblaf</code> command? I type <code>mvn clean package</code> in the directory of JByteMod-Remastered but typing <code>java -jar weblaf-complete-1.29-fixed.jar</code> in that same cmd results in <code>Error: Unable to access jarfile weblaf-complete-1.29-fixed.jar</code>. DO you instead want me to type <code>cmd</code> inside the libs folder and then type that command? Because doing that results in errors but I am not sure where this /tmp is."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692048711,"post_id":76901432,"comment_id":135570467,"body_markdown":"Sorry - that was wrong! This is what happens for me (so this will guide you to the right name) Love the way Shade gets its names the wrong way around: `[INFO] Replacing /tmp/JByteMod-Remastered/target/JByteMod-Remastered-2.1.4.jar with /tmp/JByteMod-Remastered/target/JByteMod-Remastered-2.1.4-shaded.jar` So the correct jar is the one *without* the substring &#39;shaded&#39; in its name. For you it might be in a different place since I run Maven from the /tmp tree. You will see that message or similar towards the end of your whole output","body":"Sorry - that was wrong! This is what happens for me (so this will guide you to the right name) Love the way Shade gets its names the wrong way around: <code>[INFO] Replacing &#47;tmp&#47;JByteMod-Remastered&#47;target&#47;JByteMod-Remastered-2.1.4.ja&zwnj;&#8203;r with &#47;tmp&#47;JByteMod-Remastered&#47;target&#47;JByteMod-Remastered-2.1.4-sh&zwnj;&#8203;aded.jar</code> So the correct jar is the one <i>without</i> the substring &#39;shaded&#39; in its name. For you it might be in a different place since I run Maven from the /tmp tree. You will see that message or similar towards the end of your whole output"},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692049076,"post_id":76901432,"comment_id":135570508,"body_markdown":"@g00se The jars in lib were not actually getting shaded until I added the above resource edit (check my original post). But after making that fix my jar got larger by the size of weblaf. That being said maven right now just compiles me the shaded version which does not contain ``-shaded`` in the name. Without that change I never get a shaded version. That being said I am having a hard time understanding what you are wanting me to do.","body":"@g00se The jars in lib were not actually getting shaded until I added the above resource edit (check my original post). But after making that fix my jar got larger by the size of weblaf. That being said maven right now just compiles me the shaded version which does not contain <code>-shaded</code> in the name. Without that change I never get a shaded version. That being said I am having a hard time understanding what you are wanting me to do."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692049598,"post_id":76901432,"comment_id":135570558,"body_markdown":"There&#39;s definitely no reason to change anything. There are some &#39;problems&#39; that get warned about by Maven but they are probably not relevant to your current issue. I would start by deleting your cloned repo and reclone it. You could use Git to avoid that but I&#39;d play safe and do the deletion","body":"There&#39;s definitely no reason to change anything. There are some &#39;problems&#39; that get warned about by Maven but they are probably not relevant to your current issue. I would start by deleting your cloned repo and reclone it. You could use Git to avoid that but I&#39;d play safe and do the deletion"},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1692049937,"post_id":76901432,"comment_id":135570600,"body_markdown":"@g00se I think I fixed that one issue thanks to looking into one of your suggestions, but I ran into a new issue. Check my posts Edit 2 for the new issue. Also, I appreciate you trying to help.","body":"@g00se I think I fixed that one issue thanks to looking into one of your suggestions, but I ran into a new issue. Check my posts Edit 2 for the new issue. Also, I appreciate you trying to help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692050970,"post_id":76901432,"comment_id":135570721,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254913/discussion-between-g00se-and-unsure).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254913/discussion-between-g00se-and-unsure\">continue this discussion in chat</a>."}],"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692049869,"creation_date":1692038698,"question_id":76901432,"body_markdown":"I cloned [this repo](https://github.com/xBrownieCodezV2/JByteMod-Remastered/tree/master) and I am trying to compile it because the releases dont work despite it working for everyone else I have talked to. The problem is when I compile it and run it, I get this error.\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/alee/laf/WebLookAndFeel\r\n        at me.grax.jbytemod.res.LanguageRes.fixUnicodeSupport(LanguageRes.java:33)\r\n        at me.grax.jbytemod.res.LanguageRes.&lt;init&gt;(LanguageRes.java:27)\r\n        at me.grax.jbytemod.JByteMod.initialize(JByteMod.java:173)\r\n        at me.grax.jbytemod.JByteMod.main(JByteMod.java:222)\r\nCaused by: java.lang.ClassNotFoundException: com.alee.laf.WebLookAndFeel\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 4 more\r\n```\r\nHowever, when I actually go to the fixUnicodeSupport() method, I dont get any errors inside of InteillJ. The method looks like the following but when I click on ``WebLookAndFeel`` and click go-to it takes me to the class. \r\n```\r\n    private void fixUnicodeSupport() {\r\n        for (String translation : map.values()) {\r\n            for (char c : translation.toCharArray()) {\r\n                if (!WebLookAndFeel.globalControlFont.canDisplay(c)) {\r\n                    WebLookAndFeel.globalControlFont = fixFont(WebLookAndFeel.globalControlFont);\r\n                    WebLookAndFeel.globalTooltipFont = fixFont(WebLookAndFeel.globalTooltipFont);\r\n                    WebLookAndFeel.globalAlertFont = fixFont(WebLookAndFeel.globalAlertFont);\r\n                    WebLookAndFeel.globalMenuFont = fixFont(WebLookAndFeel.globalMenuFont);\r\n                    WebLookAndFeel.globalAcceleratorFont = fixFont(WebLookAndFeel.globalAcceleratorFont);\r\n                    WebLookAndFeel.globalTitleFont = fixFont(WebLookAndFeel.globalTitleFont);\r\n                    WebLookAndFeel.globalTextFont = fixFont(WebLookAndFeel.globalTextFont);\r\n                    JByteMod.LOGGER.log(&quot;Updated WebLaF fonts for unicode support&quot;);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        JByteMod.LOGGER.log(&quot;Unicode check finished!&quot;);\r\n    }\r\n```\r\nThis project contains the ``weblaf-complete-1.29-fixed.jar`` inside the lib folder and I even changed its maven path to the hard coded path which I know exists and everything does compile fine, but I still get that error. I then decided to go into Project Structure -&gt; Libraries and then add the lib to that (which is how you normally do it without maven) but that also did not work. So why exactly am I getting a class not found error when its clearly there since I can visit the class and InteilJ does not show any errors which normally happens when a class is actually missing. \r\n\r\nEdit:\r\n\r\n I even tried to add the following resource to my pom (the pom is linked above) which does increase the jar&#39;s size (since it now included the libs) but I still get the same error.\r\n```\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${project.basedir}&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;lib/*.jar&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n```\r\n\r\nEdit 2:\r\n\r\nMy environment variables are set to jdk 8 (both user and for system). However, when I instead run this jar file by doing ``&quot;C:\\Program Files\\Java\\jdk1.8.0_291\\bin\\java.exe&quot; -jar JByteMod-Remastered-2.1.4.jar`` which ensures it is ran with Java 8 I now get a new error.\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n        at java.lang.Class.getMethod0(Class.java:3018)\r\n        at java.lang.Class.getMethod(Class.java:1784)\r\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\r\nCaused by: java.lang.ClassNotFoundException: com.sun.tools.attach.VirtualMachine\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n```\r\nI am not sure why this is happening, but I know ``attach`` which is used for hooking vm&#39;s in Java has been removed after Java 8 but I already checked, and that jar is still inside my jdk 8. I also included ``attach-1.7`` inside my lib folder which should be shaded into the final jar file. I also know that JNI allows java to access native interfaces and use code from C++ and vis versa. But that does not exactly help me determine what is causing this error.","title":"How to fix java.lang.NoClassDefFoundError when class exists?","body":"<p>I cloned <a href=\"https://github.com/xBrownieCodezV2/JByteMod-Remastered/tree/master\" rel=\"nofollow noreferrer\">this repo</a> and I am trying to compile it because the releases dont work despite it working for everyone else I have talked to. The problem is when I compile it and run it, I get this error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/alee/laf/WebLookAndFeel\n        at me.grax.jbytemod.res.LanguageRes.fixUnicodeSupport(LanguageRes.java:33)\n        at me.grax.jbytemod.res.LanguageRes.&lt;init&gt;(LanguageRes.java:27)\n        at me.grax.jbytemod.JByteMod.initialize(JByteMod.java:173)\n        at me.grax.jbytemod.JByteMod.main(JByteMod.java:222)\nCaused by: java.lang.ClassNotFoundException: com.alee.laf.WebLookAndFeel\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 4 more\n</code></pre>\n<p>However, when I actually go to the fixUnicodeSupport() method, I dont get any errors inside of InteillJ. The method looks like the following but when I click on <code>WebLookAndFeel</code> and click go-to it takes me to the class.</p>\n<pre><code>    private void fixUnicodeSupport() {\n        for (String translation : map.values()) {\n            for (char c : translation.toCharArray()) {\n                if (!WebLookAndFeel.globalControlFont.canDisplay(c)) {\n                    WebLookAndFeel.globalControlFont = fixFont(WebLookAndFeel.globalControlFont);\n                    WebLookAndFeel.globalTooltipFont = fixFont(WebLookAndFeel.globalTooltipFont);\n                    WebLookAndFeel.globalAlertFont = fixFont(WebLookAndFeel.globalAlertFont);\n                    WebLookAndFeel.globalMenuFont = fixFont(WebLookAndFeel.globalMenuFont);\n                    WebLookAndFeel.globalAcceleratorFont = fixFont(WebLookAndFeel.globalAcceleratorFont);\n                    WebLookAndFeel.globalTitleFont = fixFont(WebLookAndFeel.globalTitleFont);\n                    WebLookAndFeel.globalTextFont = fixFont(WebLookAndFeel.globalTextFont);\n                    JByteMod.LOGGER.log(&quot;Updated WebLaF fonts for unicode support&quot;);\n                    return;\n                }\n            }\n        }\n        JByteMod.LOGGER.log(&quot;Unicode check finished!&quot;);\n    }\n</code></pre>\n<p>This project contains the <code>weblaf-complete-1.29-fixed.jar</code> inside the lib folder and I even changed its maven path to the hard coded path which I know exists and everything does compile fine, but I still get that error. I then decided to go into Project Structure -&gt; Libraries and then add the lib to that (which is how you normally do it without maven) but that also did not work. So why exactly am I getting a class not found error when its clearly there since I can visit the class and InteilJ does not show any errors which normally happens when a class is actually missing.</p>\n<p>Edit:</p>\n<p>I even tried to add the following resource to my pom (the pom is linked above) which does increase the jar's size (since it now included the libs) but I still get the same error.</p>\n<pre><code>            &lt;resource&gt;\n                &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;lib/*.jar&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n</code></pre>\n<p>Edit 2:</p>\n<p>My environment variables are set to jdk 8 (both user and for system). However, when I instead run this jar file by doing <code>&quot;C:\\Program Files\\Java\\jdk1.8.0_291\\bin\\java.exe&quot; -jar JByteMod-Remastered-2.1.4.jar</code> which ensures it is ran with Java 8 I now get a new error.</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/tools/attach/VirtualMachine\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n        at java.lang.Class.getMethod0(Class.java:3018)\n        at java.lang.Class.getMethod(Class.java:1784)\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\nCaused by: java.lang.ClassNotFoundException: com.sun.tools.attach.VirtualMachine\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n</code></pre>\n<p>I am not sure why this is happening, but I know <code>attach</code> which is used for hooking vm's in Java has been removed after Java 8 but I already checked, and that jar is still inside my jdk 8. I also included <code>attach-1.7</code> inside my lib folder which should be shaded into the final jar file. I also know that JNI allows java to access native interfaces and use code from C++ and vis versa. But that does not exactly help me determine what is causing this error.</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692049462,"creation_date":1597929649,"answer_id":63506040,"question_id":63497123,"body_markdown":"&gt; and delete files post processing.\r\n\r\nSo, file does not exist in local directory any more. Since you don&#39;t filter remote files, they are downloaded again as a new local copy.\r\n\r\nThe `FileSystemPersistentAcceptOnceFileListFilter` logic is based on the `file.lastModified()` and if it is different from an existing entry, it is replaced and therefore pushed downstream.\r\n\r\nConsider using an `SftpPersistentAcceptOnceFileListFilter` on the `sftpInboundFileSynchronizer`. This way the same file (if the same `lastModified`) is not going to be pulled from SFTP.\r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/5.3.2.RELEASE/reference/html/sftp.html#sftp-inbound","title":"SFTP Integration - SftpInboundFileSynchronizer - How not to download same file again","body":"<blockquote>\n<p>and delete files post processing.</p>\n</blockquote>\n<p>So, file does not exist in local directory any more. Since you don't filter remote files, they are downloaded again as a new local copy.</p>\n<p>The <code>FileSystemPersistentAcceptOnceFileListFilter</code> logic is based on the <code>file.lastModified()</code> and if it is different from an existing entry, it is replaced and therefore pushed downstream.</p>\n<p>Consider using an <code>SftpPersistentAcceptOnceFileListFilter</code> on the <code>sftpInboundFileSynchronizer</code>. This way the same file (if the same <code>lastModified</code>) is not going to be pulled from SFTP.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/5.3.2.RELEASE/reference/html/sftp.html#sftp-inbound\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/5.3.2.RELEASE/reference/html/sftp.html#sftp-inbound</a></p>\n"}],"owner":{"account_id":1770510,"reputation":45,"user_id":1615399,"display_name":"Raghav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63506040,"answer_count":1,"score":1,"last_activity_date":1692049462,"creation_date":1597887344,"question_id":63497123,"body_markdown":"In my current application, using spring-batch job, I trigger the process to SFTP remote files to local directory, process it and delete files post processing. \r\n\r\n```java\r\n\r\n    @Bean(&quot;ftpMessageSource&quot;)\r\n    @EndpointId(&quot;streamInboundAdapter&quot;)\r\n    @InboundChannelAdapter(channel = &quot;sftpChannel&quot;, poller = @Poller(fixedDelay = &quot;5000&quot;), autoStartup = &quot;false&quot;)\r\n    public MessageSource&lt;File&gt; sftpMessageSource() {\r\n        SftpInboundFileSynchronizingMessageSource source =\r\n                new SftpInboundFileSynchronizingMessageSource(sftpInboundFileSynchronizer());\r\n        source.setLocalDirectory(new File(&quot;sftp-inbound&quot;));\r\n        source.setAutoCreateLocalDirectory(true);\r\n        source.setLocalFilter(new FileSystemPersistentAcceptOnceFileListFilter(metadataStore(),&quot;&quot;));\r\n        source.setMaxFetchSize(10);\r\n        return source;\r\n    }\r\n\r\n\r\n\t@Bean(name=&quot;fileStore&quot;)\r\n    public PropertiesPersistingMetadataStore metadataStore() {\r\n        PropertiesPersistingMetadataStore metadataStore = new PropertiesPersistingMetadataStore();\r\n        metadataStore.setBaseDirectory(&quot;filestore&quot;);\r\n        metadataStore.setFileName(&quot;filestore.properties&quot;);\r\n        metadataStore.afterPropertiesSet();\r\n        return metadataStore;\r\n    }\r\n\r\n```\r\n\r\n\r\nAs every file is processed, I make an entry of filename to fileStore.properties file.\r\n\r\n```java\r\n    \r\nmetadataStore.put(file.getName(),file.getName());\r\n\r\n\r\n```\r\n\r\nOne issue, I ran into next time processing (w/o restarting server and kicking off the same process again) is - process gets same set of files again for processing.\r\n\r\nI do not want to SFTP processed files, can you please point out which configuration I am missing to avoid downloading same files again. \r\n\r\n\r\n","title":"SFTP Integration - SftpInboundFileSynchronizer - How not to download same file again","body":"<p>In my current application, using spring-batch job, I trigger the process to SFTP remote files to local directory, process it and delete files post processing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean(&quot;ftpMessageSource&quot;)\n    @EndpointId(&quot;streamInboundAdapter&quot;)\n    @InboundChannelAdapter(channel = &quot;sftpChannel&quot;, poller = @Poller(fixedDelay = &quot;5000&quot;), autoStartup = &quot;false&quot;)\n    public MessageSource&lt;File&gt; sftpMessageSource() {\n        SftpInboundFileSynchronizingMessageSource source =\n                new SftpInboundFileSynchronizingMessageSource(sftpInboundFileSynchronizer());\n        source.setLocalDirectory(new File(&quot;sftp-inbound&quot;));\n        source.setAutoCreateLocalDirectory(true);\n        source.setLocalFilter(new FileSystemPersistentAcceptOnceFileListFilter(metadataStore(),&quot;&quot;));\n        source.setMaxFetchSize(10);\n        return source;\n    }\n\n\n    @Bean(name=&quot;fileStore&quot;)\n    public PropertiesPersistingMetadataStore metadataStore() {\n        PropertiesPersistingMetadataStore metadataStore = new PropertiesPersistingMetadataStore();\n        metadataStore.setBaseDirectory(&quot;filestore&quot;);\n        metadataStore.setFileName(&quot;filestore.properties&quot;);\n        metadataStore.afterPropertiesSet();\n        return metadataStore;\n    }\n\n</code></pre>\n<p>As every file is processed, I make an entry of filename to fileStore.properties file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \nmetadataStore.put(file.getName(),file.getName());\n\n\n</code></pre>\n<p>One issue, I ran into next time processing (w/o restarting server and kicking off the same process again) is - process gets same set of files again for processing.</p>\n<p>I do not want to SFTP processed files, can you please point out which configuration I am missing to avoid downloading same files again.</p>\n"},{"tags":["java","maven","cucumber-jvm"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1479812628,"post_id":40739443,"comment_id":68706176,"body_markdown":"Check your cucumber-java jar in maven dependencies, the package with the annotation code should be present in that. You might want to include cucumber-html in the dependency, though it has got nothing to with the error.","body":"Check your cucumber-java jar in maven dependencies, the package with the annotation code should be present in that. You might want to include cucumber-html in the dependency, though it has got nothing to with the error."}],"answers":[{"tags":[],"owner":{"account_id":7955034,"reputation":2789,"user_id":6004650,"accept_rate":80,"display_name":"MikeJRamsey56"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480257880,"creation_date":1480257880,"answer_id":40830187,"question_id":40739443,"body_markdown":"Try @When, @Given. Capitalization is important.","title":"package cucumber.api.java.en does not exist cucumber","body":"<p>Try @When, @Given. Capitalization is important.</p>\n"},{"tags":[],"owner":{"account_id":17496386,"reputation":9,"user_id":12687518,"display_name":"Aditya Anand"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1578638242,"creation_date":1578638242,"answer_id":59676596,"question_id":40739443,"body_markdown":"Place your TestRunner.java class and the step definitions under src/test/java directory and feature files under src/test/resources directory","title":"package cucumber.api.java.en does not exist cucumber","body":"<p>Place your TestRunner.java class and the step definitions under src/test/java directory and feature files under src/test/resources directory</p>\n"},{"tags":[],"owner":{"account_id":18546644,"reputation":109,"user_id":13513826,"display_name":"Rose8525"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589490478,"creation_date":1589490478,"answer_id":61807403,"question_id":40739443,"body_markdown":"In my project I updated POM.XML with this and it&#39;s works:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n        &lt;artifactId&gt;CucumberBasic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        \r\n    &lt;/project&gt;","title":"package cucumber.api.java.en does not exist cucumber","body":"<p>In my project I updated POM.XML with this and it's works:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;CucumberBasic&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;4.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;4.2.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":9659085,"reputation":93,"user_id":7167748,"accept_rate":0,"display_name":"Stephen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15895,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1692047170,"creation_date":1479810594,"question_id":40739443,"body_markdown":"I am trying to run my cucumber tests with maven and junit. When i use the cucumber keywords @given, @when etc., it is showing error as **package cucumber.api.java.en does not exist**. I tried with maven version 3.3.9 and below is my pom.xml. I don&#39;t know whether it is a dependency mismatch or anything else. Can any one help me in this.\r\n\r\n\r\n**pom.xml:**\r\n\r\n         &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.12.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n     &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;\r\n                    maven-compiler-plugin\r\n                &lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;!-- &lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt; --&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n","title":"package cucumber.api.java.en does not exist cucumber","body":"<p>I am trying to run my cucumber tests with maven and junit. When i use the cucumber keywords @given, @when etc., it is showing error as <strong>package cucumber.api.java.en does not exist</strong>. I tried with maven version 3.3.9 and below is my pom.xml. I don't know whether it is a dependency mismatch or anything else. Can any one help me in this.</p>\n\n<p><strong>pom.xml:</strong></p>\n\n<pre><code>     &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.19.1&lt;/version&gt;\n        &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt; --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n        &lt;version&gt;3.3.9&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;\n                maven-compiler-plugin\n            &lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;!-- &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt; --&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","smtp","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394233550,"creation_date":1394233550,"answer_id":22262436,"question_id":22260110,"body_markdown":"The server disagrees with you about whether the address is valid.\r\n\r\nYou didn&#39;t include the code where you send the message so I can&#39;t tell if you&#39;re authenticating to the server.  If you&#39;re not, that may be why the server is rejecting your address.","title":"What could be causing SMTPSenderFailedException: 501 5.1.7 Invalid address using java mail?","body":"<p>The server disagrees with you about whether the address is valid.</p>\n\n<p>You didn't include the code where you send the message so I can't tell if you're authenticating to the server.  If you're not, that may be why the server is rejecting your address.</p>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692047170,"creation_date":1394224256,"question_id":22260110,"body_markdown":"Unfortunately, this is at a customer site, so we can&#39;t debug. Apparently it&#39;s been verified that both the to and from emails are valid. They are apparently using &#39;open authentication&#39; because it is behind their firewall, so in that case our Properties and Session looks like this:\r\n\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.smtp.host&quot;, configuredHost);\r\n    props.put(&quot;mail.smtp.port&quot;, configuredPort);\r\n    props.put(&quot;mail.smtp.auth.login.disable&quot;, &quot;true&quot;);\r\n    Session session = Session.getDefaultInstance(props, null);\r\n    Message message = new MimeMessage(session);\r\n    message.setFrom(new InternetAddress(fromEmail));\r\n    message.setRecipient(Message.RecipientType.TO, new InternetAddress(toEmail));\r\n    message.setSubject(subject);\r\n    message.setContent(messageBody, &quot;text/html&quot;);\r\n    message.setSentDate(new Date());\r\n\r\nThis code is in use at other sites, and working. So what issue in their environment could be causing this?","title":"What could be causing SMTPSenderFailedException: 501 5.1.7 Invalid address using java mail?","body":"<p>Unfortunately, this is at a customer site, so we can't debug. Apparently it's been verified that both the to and from emails are valid. They are apparently using 'open authentication' because it is behind their firewall, so in that case our Properties and Session looks like this:</p>\n\n<pre><code>Properties props = new Properties();\nprops.put(\"mail.smtp.host\", configuredHost);\nprops.put(\"mail.smtp.port\", configuredPort);\nprops.put(\"mail.smtp.auth.login.disable\", \"true\");\nSession session = Session.getDefaultInstance(props, null);\nMessage message = new MimeMessage(session);\nmessage.setFrom(new InternetAddress(fromEmail));\nmessage.setRecipient(Message.RecipientType.TO, new InternetAddress(toEmail));\nmessage.setSubject(subject);\nmessage.setContent(messageBody, \"text/html\");\nmessage.setSentDate(new Date());\n</code></pre>\n\n<p>This code is in use at other sites, and working. So what issue in their environment could be causing this?</p>\n"},{"tags":["java","sql-server","azure","jtds","azure-sql-managed-instance"],"answers":[{"tags":[],"owner":{"account_id":3008825,"reputation":322,"user_id":2552742,"display_name":"user2552742"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619679891,"creation_date":1619679891,"answer_id":67312519,"question_id":67310070,"body_markdown":"Solved the issue by chance. Just need to append &quot;;ssl=request&quot; to the connection string. It looks like by default SSL/TLS is disabled. The error message about TLS version is misleading. Hope this help someone in the future.","title":"Is there anyway to connect to Azure SQL Server using jTDS with TLS 1.2?","body":"<p>Solved the issue by chance. Just need to append &quot;;ssl=request&quot; to the connection string. It looks like by default SSL/TLS is disabled. The error message about TLS version is misleading. Hope this help someone in the future.</p>\n"},{"tags":[],"owner":{"account_id":15115227,"reputation":25331,"user_id":10907864,"display_name":"Promise Preston"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1663364329,"creation_date":1633628301,"answer_id":69485550,"question_id":67310070,"body_markdown":"Had this same issue when trying to connect a .Net application to a Azure SQL database in Azure managed instance.\r\n\r\nHere&#39;s how I solved it.\r\n\r\nMy previous JDBC URL was this:\r\n\r\n    jdbc:jtds:sqlserver://my-example-instance.c656df8582985.database.windows.net:1433\r\n\r\nI just added `ssl=require` to the end of the URL, so it became:\r\n\r\n    jdbc:jtds:sqlserver://my-example-instance.c656df8582985.database.windows.net:1433;ssl=require\r\n","title":"Is there anyway to connect to Azure SQL Server using jTDS with TLS 1.2?","body":"<p>Had this same issue when trying to connect a .Net application to a Azure SQL database in Azure managed instance.</p>\n<p>Here's how I solved it.</p>\n<p>My previous JDBC URL was this:</p>\n<pre><code>jdbc:jtds:sqlserver://my-example-instance.c656df8582985.database.windows.net:1433\n</code></pre>\n<p>I just added <code>ssl=require</code> to the end of the URL, so it became:</p>\n<pre><code>jdbc:jtds:sqlserver://my-example-instance.c656df8582985.database.windows.net:1433;ssl=require\n</code></pre>\n"}],"owner":{"account_id":3008825,"reputation":322,"user_id":2552742,"display_name":"user2552742"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6090,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692047123,"creation_date":1619661556,"question_id":67310070,"body_markdown":"Our Java app use jTDS 1.3.1 to connect to SQL Server, which works fine until a client trying to put the database on Azure SQL. The connection failed with the following exception:\r\n\r\n&gt; java.sql.SQLException: Reason: Login failed due to client TLS version being less than minimal TLS version allowed by the server.\r\n\r\nI checked the documentation of jTDS, can&#39;t see anyway to specify TLS version. Besides replacing it with MS JDBC driver, has anyone succeeded with other work around? \r\n\r\nI don&#39;t have access to Azure SQL, so I cannot test if reducing the TLS version to 1.0 would work.\r\n","title":"Is there anyway to connect to Azure SQL Server using jTDS with TLS 1.2?","body":"<p>Our Java app use jTDS 1.3.1 to connect to SQL Server, which works fine until a client trying to put the database on Azure SQL. The connection failed with the following exception:</p>\n<blockquote>\n<p>java.sql.SQLException: Reason: Login failed due to client TLS version being less than minimal TLS version allowed by the server.</p>\n</blockquote>\n<p>I checked the documentation of jTDS, can't see anyway to specify TLS version. Besides replacing it with MS JDBC driver, has anyone succeeded with other work around?</p>\n<p>I don't have access to Azure SQL, so I cannot test if reducing the TLS version to 1.0 would work.</p>\n"},{"tags":["java","intellij-idea","formatting"],"owner":{"account_id":1884341,"reputation":1,"user_id":1703868,"display_name":"Jeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692046851,"answer_count":0,"score":0,"last_activity_date":1692045820,"creation_date":1692045785,"question_id":76902049,"body_markdown":"One of the projects I am working expects &#39;.&#39; to be formatted in the following way:\r\n\r\n     Foo().\r\n      Fum().\r\n      Fee();\r\n\r\nBy default, IntelliJ formats &#39;.&#39; the following way, which violates the standards I am asked to follow and can not change. \r\n\r\n     Foo()\r\n      .Fum()\r\n      .Fee();\r\n\r\nHow do I make intellij not place a . after a whitespace, which is explicitly forbidden?\r\n\r\n\r\nI went through various guides in java style settings and did not find any option that resolved the issue. I asked people I respected and they too did not know of any solution.","title":"Change IntelliJ formatting default behavior","body":"<p>One of the projects I am working expects '.' to be formatted in the following way:</p>\n<pre><code> Foo().\n  Fum().\n  Fee();\n</code></pre>\n<p>By default, IntelliJ formats '.' the following way, which violates the standards I am asked to follow and can not change.</p>\n<pre><code> Foo()\n  .Fum()\n  .Fee();\n</code></pre>\n<p>How do I make intellij not place a . after a whitespace, which is explicitly forbidden?</p>\n<p>I went through various guides in java style settings and did not find any option that resolved the issue. I asked people I respected and they too did not know of any solution.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","rocksdb","rocksdb-java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691758644,"post_id":76883049,"comment_id":135538822,"body_markdown":"I&#39;m not sure I understand the question. Metrics would mostly all have default values of zero. Are you asking about the ConfigSetter?","body":"I&#39;m not sure I understand the question. Metrics would mostly all have default values of zero. Are you asking about the ConfigSetter?"},{"owner":{"account_id":29205717,"reputation":1,"user_id":22374849,"display_name":"shalaka"},"score":0,"creation_date":1691990564,"post_id":76883049,"comment_id":135560072,"body_markdown":"@OneCricketeer I need to print the default values of them in my code.","body":"@OneCricketeer I need to print the default values of them in my code."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692045701,"post_id":76883049,"comment_id":135570059,"body_markdown":"As mentioned, there is no &quot;default&quot;. Count/Average/Rate metrics would all start at zero for example. Also, you typically wouldn&#39;t write code to read the metrics. You can use tools like Prometheus JMX Exporter or Jolokia to expose the metrics, or otherwise use [JMX remote monitoring](https://docs.oracle.com/en/java/javase/11/management/monitoring-and-management-using-jmx-technology.html#GUID-F08985BB-629A-4FBF-A0CB-8762DF7590E0) ... You also don&#39;t have access to &quot;set custom metrics&quot; internal to the RocksDB API. For that, you need to add MBeans to your app, such as by using MicroMeter.","body":"As mentioned, there is no &quot;default&quot;. Count/Average/Rate metrics would all start at zero for example. Also, you typically wouldn&#39;t write code to read the metrics. You can use tools like Prometheus JMX Exporter or Jolokia to expose the metrics, or otherwise use <a href=\"https://docs.oracle.com/en/java/javase/11/management/monitoring-and-management-using-jmx-technology.html#GUID-F08985BB-629A-4FBF-A0CB-8762DF7590E0\" rel=\"nofollow noreferrer\">JMX remote monitoring</a> ... You also don&#39;t have access to &quot;set custom metrics&quot; internal to the RocksDB API. For that, you need to add MBeans to your app, such as by using MicroMeter."},{"owner":{"account_id":29205717,"reputation":1,"user_id":22374849,"display_name":"shalaka"},"score":0,"creation_date":1693570312,"post_id":76883049,"comment_id":135782074,"body_markdown":"How to populate these matrix on Grafana ?","body":"How to populate these matrix on Grafana ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693574948,"post_id":76883049,"comment_id":135783062,"body_markdown":"Metrics... Not matrix... I don&#39;t know what you want to plot. But here&#39;s one that&#39;s for apps running in Kubernetes https://grafana.com/grafana/dashboards/13966-kafka-streams-dashboard/","body":"Metrics... Not matrix... I don&#39;t know what you want to plot. But here&#39;s one that&#39;s for apps running in Kubernetes <a href=\"https://grafana.com/grafana/dashboards/13966-kafka-streams-dashboard/\" rel=\"nofollow noreferrer\">grafana.com/grafana/dashboards/13966-kafka-streams-dashboard</a>"},{"owner":{"account_id":29205717,"reputation":1,"user_id":22374849,"display_name":"shalaka"},"score":0,"creation_date":1693837325,"post_id":76883049,"comment_id":135809205,"body_markdown":"okay any idea about Prometheus application ?","body":"okay any idea about Prometheus application ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693865754,"post_id":76883049,"comment_id":135813349,"body_markdown":"Just add the JMX exporter to your Kafka Streams app https://github.com/prometheus/jmx_exporter","body":"Just add the JMX exporter to your Kafka Streams app <a href=\"https://github.com/prometheus/jmx_exporter\" rel=\"nofollow noreferrer\">github.com/prometheus/jmx_exporter</a>"},{"owner":{"account_id":29205717,"reputation":1,"user_id":22374849,"display_name":"shalaka"},"score":0,"creation_date":1694776995,"post_id":76883049,"comment_id":135939040,"body_markdown":"I am able to see only few metrics listed below by adding JMX reporter.                                                 prefix-scan-latency-avg ,range-latency-avg ,record-e2e-latency-max , range-rate ,flush-rate . Any idea about rocks dB metrics  ? @OneCricketeer","body":"I am able to see only few metrics listed below by adding JMX reporter.                                                 prefix-scan-latency-avg ,range-latency-avg ,record-e2e-latency-max , range-rate ,flush-rate . Any idea about rocks dB metrics  ? @OneCricketeer"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694795334,"post_id":76883049,"comment_id":135942780,"body_markdown":"Well, RocksDB isnt a Java process, so it shouldn&#39;t have JMX metrics unless the Kafka API has other ways to extract those. You&#39;d need to look at the Kafka source code to find those, however. As the wiki says - &quot;_RocksDB&#39;s statistics can be accessed programmatically via JNI_&quot;. So if the Kafka code actually does that or not, I do not know","body":"Well, RocksDB isnt a Java process, so it shouldn&#39;t have JMX metrics unless the Kafka API has other ways to extract those. You&#39;d need to look at the Kafka source code to find those, however. As the wiki says - &quot;<i>RocksDB&#39;s statistics can be accessed programmatically via JNI</i>&quot;. So if the Kafka code actually does that or not, I do not know"},{"owner":{"account_id":29205717,"reputation":1,"user_id":22374849,"display_name":"shalaka"},"score":0,"creation_date":1695792664,"post_id":76883049,"comment_id":136069949,"body_markdown":"We can print the metrics using MetricsReporter class of Kafka.","body":"We can print the metrics using MetricsReporter class of Kafka."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695809514,"post_id":76883049,"comment_id":136072857,"body_markdown":"Yes. And rather than print, you can also register them all in a Prometheus registry, or JMX beans","body":"Yes. And rather than print, you can also register them all in a Prometheus registry, or JMX beans"}],"owner":{"account_id":29205717,"reputation":1,"user_id":22374849,"display_name":"shalaka"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692045754,"creation_date":1691752381,"question_id":76883049,"body_markdown":"I need to use metrics mentioned in https://cwiki.apache.org/confluence/display/KAFKA/KIP-471%3A+Expose+RocksDB+Metrics+in+Kafka+Stream in java.\r\nIs there any sample document available for printing the default values using java code ?\r\nIn case any different values need to be set then what will be code snippet ?\r\nI need to print default values for those metrics.\r\n\r\n","title":"How to configure RocksDB matrics using kafka streams 3.2.0 in java?","body":"<p>I need to use metrics mentioned in <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-471%3A+Expose+RocksDB+Metrics+in+Kafka+Stream\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/KAFKA/KIP-471%3A+Expose+RocksDB+Metrics+in+Kafka+Stream</a> in java.\nIs there any sample document available for printing the default values using java code ?\nIn case any different values need to be set then what will be code snippet ?\nI need to print default values for those metrics.</p>\n"},{"tags":["java","reflection","set"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1692042132,"post_id":76901732,"comment_id":135569548,"body_markdown":"Judging by the [tag:reflection] tag, you already know how to approach this. Have you made an attempt? Where are you stuck?","body":"Judging by the <a href=\"https://stackoverflow.com/questions/tagged/reflection\">reflection</a> tag, you already know how to approach this. Have you made an attempt? Where are you stuck?"},{"owner":{"account_id":8595449,"reputation":5,"user_id":6438600,"display_name":"Chiranjivi Agarwal"},"score":0,"creation_date":1692042522,"post_id":76901732,"comment_id":135569598,"body_markdown":"I&#39;m very new to reflection, and tried using the getField() method. But its confusing me. I&#39;m I heading the right way here ? Can you help me with a pseudo-code please ?\nThank you :)","body":"I&#39;m very new to reflection, and tried using the getField() method. But its confusing me. I&#39;m I heading the right way here ? Can you help me with a pseudo-code please ? Thank you :)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1692043411,"post_id":76901732,"comment_id":135569726,"body_markdown":"Instead of `attribute1`, `attribute2`..., put everything into an array: `attribute[0]`, `attribute[1]`... Then checking it as as simple as walking over an array.","body":"Instead of <code>attribute1</code>, <code>attribute2</code>..., put everything into an array: <code>attribute[0]</code>, <code>attribute[1]</code>... Then checking it as as simple as walking over an array."},{"owner":{"account_id":8595449,"reputation":5,"user_id":6438600,"display_name":"Chiranjivi Agarwal"},"score":0,"creation_date":1692043777,"post_id":76901732,"comment_id":135569782,"body_markdown":"Actually this class maps a config file written in Json to a pojo, so an array isn&#39;t possible in this case :). The attribute names have to match the config names, and it also has to match the json schema","body":"Actually this class maps a config file written in Json to a pojo, so an array isn&#39;t possible in this case :). The attribute names have to match the config names, and it also has to match the json schema"}],"answers":[{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692045715,"creation_date":1692044056,"answer_id":76901905,"question_id":76901732,"body_markdown":"*You can check using two approaches as shown below:*\r\n\r\n**1) Using java reflection:**\r\n\r\nYou can create a method in the class as shown below and check whether all the attributes are null or not.\r\n\r\n    public boolean checkAllAttributesNullOrNot() throws IllegalAccessException {\r\n        boolean allNull = true;\r\n        for (Field f : getClass().getDeclaredFields())\r\n            if (f.get(this) != null \r\n             &amp;&amp; !(f.get(this) instanceof Set &amp;&amp; ((Set&lt;?&gt;) f.get(this)).isEmpty())) {\r\n                allNull = false;\r\n                break;\r\n            }\r\n        return allNull;\r\n    }\r\n\r\n**2) Using java 8 stream API:**\r\n\r\nYou can try the stream API to check whether all the attributes of a class are null or not as shown below:\r\n\r\n    public boolean checkAllAttributesNullOrNot() {\r\n            return Stream.of(attribute1, attribute2, attribute3)\r\n                         .allMatch(x -&gt; x == null || x.isEmpty());\r\n        }","title":"[Java]: Get all attributes of a specified type in a class","body":"<p><em>You can check using two approaches as shown below:</em></p>\n<p><strong>1) Using java reflection:</strong></p>\n<p>You can create a method in the class as shown below and check whether all the attributes are null or not.</p>\n<pre><code>public boolean checkAllAttributesNullOrNot() throws IllegalAccessException {\n    boolean allNull = true;\n    for (Field f : getClass().getDeclaredFields())\n        if (f.get(this) != null \n         &amp;&amp; !(f.get(this) instanceof Set &amp;&amp; ((Set&lt;?&gt;) f.get(this)).isEmpty())) {\n            allNull = false;\n            break;\n        }\n    return allNull;\n}\n</code></pre>\n<p><strong>2) Using java 8 stream API:</strong></p>\n<p>You can try the stream API to check whether all the attributes of a class are null or not as shown below:</p>\n<pre><code>public boolean checkAllAttributesNullOrNot() {\n        return Stream.of(attribute1, attribute2, attribute3)\n                     .allMatch(x -&gt; x == null || x.isEmpty());\n    }\n</code></pre>\n"}],"owner":{"account_id":8595449,"reputation":5,"user_id":6438600,"display_name":"Chiranjivi Agarwal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76901905,"answer_count":1,"score":0,"last_activity_date":1692045715,"creation_date":1692042000,"question_id":76901732,"body_markdown":"I&#39;ve a class A defined as\r\n```\r\nclass A {\r\n  Set&lt;String&gt; attribute1;\r\n  Set&lt;String&gt; attribute2;\r\n  .\r\n  .\r\n  .\r\n}\r\n```\r\n\r\nI want to create a method that checks if all of the attributes are empty. Apart from a really long if condition, do you have any recommendations how this can be done neatly ?\r\n\r\nI tried creating a really long if condition that works, but I want something cleaner. \r\n\r\n` if (attribute1.isEmpty() &amp;&amp; attribute2.isEmpty() ....) `","title":"[Java]: Get all attributes of a specified type in a class","body":"<p>I've a class A defined as</p>\n<pre><code>class A {\n  Set&lt;String&gt; attribute1;\n  Set&lt;String&gt; attribute2;\n  .\n  .\n  .\n}\n</code></pre>\n<p>I want to create a method that checks if all of the attributes are empty. Apart from a really long if condition, do you have any recommendations how this can be done neatly ?</p>\n<p>I tried creating a really long if condition that works, but I want something cleaner.</p>\n<p><code>if (attribute1.isEmpty() &amp;&amp; attribute2.isEmpty() ....)</code></p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692036918,"post_id":76901262,"comment_id":135568719,"body_markdown":"So, if type is &quot;eventA&quot; it can&#39;t be mapped to an EventB object, right?","body":"So, if type is &quot;eventA&quot; it can&#39;t be mapped to an EventB object, right?"},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1692039514,"post_id":76901262,"comment_id":135569113,"body_markdown":"Does this answer your question? [Jackson deserialization of type with different objects](https://stackoverflow.com/questions/20143114/jackson-deserialization-of-type-with-different-objects)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20143114/jackson-deserialization-of-type-with-different-objects\">Jackson deserialization of type with different objects</a>"},{"owner":{"account_id":13188234,"reputation":75,"user_id":9525450,"display_name":"diridev"},"score":0,"creation_date":1692039729,"post_id":76901262,"comment_id":135569156,"body_markdown":"@DiegoBorba right now it can, instead I&#39;d like the second call to `readValue` in the code above to throw an exception.","body":"@DiegoBorba right now it can, instead I&#39;d like the second call to <code>readValue</code> in the code above to throw an exception."},{"owner":{"account_id":13188234,"reputation":75,"user_id":9525450,"display_name":"diridev"},"score":0,"creation_date":1692040287,"post_id":76901262,"comment_id":135569251,"body_markdown":"@AleZalazar I think in that question the OP wants to deserialize 2 different json to the same class.","body":"@AleZalazar I think in that question the OP wants to deserialize 2 different json to the same class."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692040510,"post_id":76901262,"comment_id":135569289,"body_markdown":"The `type` is used for something or just to check the type that you want to `readValue`?","body":"The <code>type</code> is used for something or just to check the type that you want to <code>readValue</code>?"},{"owner":{"account_id":13188234,"reputation":75,"user_id":9525450,"display_name":"diridev"},"score":0,"creation_date":1692040909,"post_id":76901262,"comment_id":135569355,"body_markdown":"@DiegoBorba yes I call `getType()` somewhere else in the program. Using `type` to also solve this particular problem is just something I thought could maybe be possible, but any other solution would of course be ok as well.","body":"@DiegoBorba yes I call <code>getType()</code> somewhere else in the program. Using <code>type</code> to also solve this particular problem is just something I thought could maybe be possible, but any other solution would of course be ok as well."},{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1692041240,"post_id":76901262,"comment_id":135569407,"body_markdown":"@diridev The referred question might be different but its proposed solutions can solve this question, or in general provides means to customize deserialization behavior as desired, which is the actual meaning of the question.","body":"@diridev The referred question might be different but its proposed solutions can solve this question, or in general provides means to customize deserialization behavior as desired, which is the actual meaning of the question."},{"owner":{"account_id":13188234,"reputation":75,"user_id":9525450,"display_name":"diridev"},"score":0,"creation_date":1692044170,"post_id":76901262,"comment_id":135569852,"body_markdown":"@AleZalazar okay so maybe it could work writing a deserializer for the `Event` class that instantiates the correct subclass based on `type` in the json. Then you could downcast it to the actual subclass like `EventA eventA = (EventA) mapper.readValue(jsonString, Event.class)`.","body":"@AleZalazar okay so maybe it could work writing a deserializer for the <code>Event</code> class that instantiates the correct subclass based on <code>type</code> in the json. Then you could downcast it to the actual subclass like <code>EventA eventA = (EventA) mapper.readValue(jsonString, Event.class)</code>."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692044875,"creation_date":1692044875,"answer_id":76901975,"question_id":76901262,"body_markdown":"In my opinion, the best solution is **customize deserialization**, this way:\r\n\r\n##### EventDeserializer\r\n```java\r\npublic class EventDeserializer&lt;T extends Event&gt; extends StdDeserializer&lt;T&gt; {\r\n\r\n\tpublic EventDeserializer() {\r\n\t\tthis(null);\r\n\t}\r\n\r\n\tpublic EventDeserializer(Class&lt;?&gt; vc) {\r\n\t\tsuper(vc);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic T deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n\t\t// Node\r\n\t\tJsonNode node = jp.getCodec().readTree(jp);\r\n\r\n\t\t// Fields\r\n\t\tString eventId = node.get(&quot;gameProposalId&quot;).asText();\r\n\t\tString type = node.get(&quot;type&quot;).asText();\r\n\r\n\t\t// Automatically checks the type\r\n\t\tif (type.equals(&quot;eventA&quot;)) {\r\n\t\t\treturn (T) new EventA(eventId);\r\n\r\n\t\t} else if (type.equals(&quot;eventB&quot;)) {\r\n\t\t\treturn (T) new EventB(eventId);\r\n\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe `EventDeserializer` **automatically checks the type**  based on the `type` field.\r\n\r\nFor it to work, you need to change the annotations in your classes. This way:\r\n\r\n##### Event\r\n```java\r\n@JsonDeserialize(using = EventDeserializer.class)\r\npublic abstract class Event {\r\n\tprivate final String eventId;\r\n\r\n\tpublic Event(String eventId) {\r\n\t\tthis.eventId = eventId;\r\n\t}\r\n}\r\n```\r\n\r\nThe `@JsonDeserialize` annotation specify the custom deserializer class.\r\n\r\nSo now you dont need the `@JsonCreator` and `@JsonProperty` annotations:\r\n\r\n##### EventA\r\n```java\r\npublic class EventA extends Event {\r\n\tprivate final String type = &quot;eventA&quot;;\r\n\r\n\tpublic EventA(String eventId) {\r\n\t\tsuper(eventId);\r\n\t}\r\n\r\n\tpublic String getType() {\r\n\t\treturn type;\r\n\t}\r\n}\r\n```\r\n\r\n##### EventB\r\n```java\r\npublic class EventB extends Event {\r\n\tprivate final String type = &quot;eventB&quot;;\r\n\r\n\tpublic EventB(String eventId) {\r\n\t\tsuper(eventId);\r\n\t}\r\n\r\n\tpublic String getType() {\r\n\t\treturn type;\r\n\t}\r\n}\r\n```\r\n\r\nNow, if you try to instance a `EventB` with one JSON with `type == &quot;eventA&quot;`, it will throw a `java.lang.ClassCastException`:\r\n\r\n```java\r\nfinal String json = &quot;{\\&quot;gameProposalId\\&quot;:\\&quot;foo\\&quot;, \\&quot;type\\&quot;: \\&quot;eventA\\&quot;}&quot;;\r\n\r\n// Instance the object normaly\r\nEventA eventA = new ObjectMapper().readValue(json, EventA.class);\r\n\r\n// Throws: java.lang.ClassCastException: EventA cannot be cast to EventB\r\nEventB eventB = new ObjectMapper().readValue(json, EventB.class);\r\n```\r\n\r\nI hope it helps :)","title":"Jackson - allow deserialization only if json field value matches class attribute value","body":"<p>In my opinion, the best solution is <strong>customize deserialization</strong>, this way:</p>\n<h5>EventDeserializer</h5>\n<pre class=\"lang-java prettyprint-override\"><code>public class EventDeserializer&lt;T extends Event&gt; extends StdDeserializer&lt;T&gt; {\n\n    public EventDeserializer() {\n        this(null);\n    }\n\n    public EventDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public T deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        // Node\n        JsonNode node = jp.getCodec().readTree(jp);\n\n        // Fields\n        String eventId = node.get(&quot;gameProposalId&quot;).asText();\n        String type = node.get(&quot;type&quot;).asText();\n\n        // Automatically checks the type\n        if (type.equals(&quot;eventA&quot;)) {\n            return (T) new EventA(eventId);\n\n        } else if (type.equals(&quot;eventB&quot;)) {\n            return (T) new EventB(eventId);\n\n        } else {\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>The <code>EventDeserializer</code> <strong>automatically checks the type</strong>  based on the <code>type</code> field.</p>\n<p>For it to work, you need to change the annotations in your classes. This way:</p>\n<h5>Event</h5>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using = EventDeserializer.class)\npublic abstract class Event {\n    private final String eventId;\n\n    public Event(String eventId) {\n        this.eventId = eventId;\n    }\n}\n</code></pre>\n<p>The <code>@JsonDeserialize</code> annotation specify the custom deserializer class.</p>\n<p>So now you dont need the <code>@JsonCreator</code> and <code>@JsonProperty</code> annotations:</p>\n<h5>EventA</h5>\n<pre class=\"lang-java prettyprint-override\"><code>public class EventA extends Event {\n    private final String type = &quot;eventA&quot;;\n\n    public EventA(String eventId) {\n        super(eventId);\n    }\n\n    public String getType() {\n        return type;\n    }\n}\n</code></pre>\n<h5>EventB</h5>\n<pre class=\"lang-java prettyprint-override\"><code>public class EventB extends Event {\n    private final String type = &quot;eventB&quot;;\n\n    public EventB(String eventId) {\n        super(eventId);\n    }\n\n    public String getType() {\n        return type;\n    }\n}\n</code></pre>\n<p>Now, if you try to instance a <code>EventB</code> with one JSON with <code>type == &quot;eventA&quot;</code>, it will throw a <code>java.lang.ClassCastException</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String json = &quot;{\\&quot;gameProposalId\\&quot;:\\&quot;foo\\&quot;, \\&quot;type\\&quot;: \\&quot;eventA\\&quot;}&quot;;\n\n// Instance the object normaly\nEventA eventA = new ObjectMapper().readValue(json, EventA.class);\n\n// Throws: java.lang.ClassCastException: EventA cannot be cast to EventB\nEventB eventB = new ObjectMapper().readValue(json, EventB.class);\n</code></pre>\n<p>I hope it helps :)</p>\n"}],"owner":{"account_id":13188234,"reputation":75,"user_id":9525450,"display_name":"diridev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76901975,"answer_count":1,"score":-1,"last_activity_date":1692044875,"creation_date":1692036608,"question_id":76901262,"body_markdown":"I have the following classes:\r\n```java\r\npublic abstract class Event {\r\n    private final String eventId;\r\n\r\n    public Event(String eventId) {\r\n        this.eventId = eventId;\r\n    }\r\n}\r\n\r\npublic class EventA extends Event {\r\n    private final String type = &quot;eventA&quot;;\r\n\r\n    @JsonCreator\r\n    public EventA(@JsonProperty(&quot;eventId&quot;) String eventId) {\r\n        super(eventId);\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n}\r\n\r\npublic class EventB extends Event {\r\n    private final String type = &quot;eventB&quot;;\r\n\r\n    @JsonCreator\r\n    public EventB(@JsonProperty(&quot;eventId&quot;) String eventId) {\r\n        super(eventId);\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n}\r\n```\r\nProblem is now I can deserialize to both classes and have an `EventB` with `type==&quot;eventA&quot;`:\r\n```java\r\nEventA eventA = new ObjectMapper().readValue(\r\n    &quot;{\\&quot;gameProposalId\\&quot;:\\&quot;foo\\&quot;, \\&quot;type\\&quot;: \\&quot;eventA\\&quot;}&quot;,\r\n    EventA.class);\r\n\r\n// This will result in EventB with type==&quot;eventA&quot;\r\nEventB eventB = new ObjectMapper().readValue(\r\n    &quot;{\\&quot;gameProposalId\\&quot;:\\&quot;foo\\&quot;, \\&quot;type\\&quot;: \\&quot;eventA\\&quot;}&quot;,\r\n    EventB.class);\r\n```\r\nIs there a way to instead compare the value of the `type` field in the json to the default value of `type` in the class you are trying to deserialize to, and throw an exception if they don&#39;t match?","title":"Jackson - allow deserialization only if json field value matches class attribute value","body":"<p>I have the following classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Event {\n    private final String eventId;\n\n    public Event(String eventId) {\n        this.eventId = eventId;\n    }\n}\n\npublic class EventA extends Event {\n    private final String type = &quot;eventA&quot;;\n\n    @JsonCreator\n    public EventA(@JsonProperty(&quot;eventId&quot;) String eventId) {\n        super(eventId);\n    }\n\n    public String getType() {\n        return type;\n    }\n}\n\npublic class EventB extends Event {\n    private final String type = &quot;eventB&quot;;\n\n    @JsonCreator\n    public EventB(@JsonProperty(&quot;eventId&quot;) String eventId) {\n        super(eventId);\n    }\n\n    public String getType() {\n        return type;\n    }\n}\n</code></pre>\n<p>Problem is now I can deserialize to both classes and have an <code>EventB</code> with <code>type==&quot;eventA&quot;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EventA eventA = new ObjectMapper().readValue(\n    &quot;{\\&quot;gameProposalId\\&quot;:\\&quot;foo\\&quot;, \\&quot;type\\&quot;: \\&quot;eventA\\&quot;}&quot;,\n    EventA.class);\n\n// This will result in EventB with type==&quot;eventA&quot;\nEventB eventB = new ObjectMapper().readValue(\n    &quot;{\\&quot;gameProposalId\\&quot;:\\&quot;foo\\&quot;, \\&quot;type\\&quot;: \\&quot;eventA\\&quot;}&quot;,\n    EventB.class);\n</code></pre>\n<p>Is there a way to instead compare the value of the <code>type</code> field in the json to the default value of <code>type</code> in the class you are trying to deserialize to, and throw an exception if they don't match?</p>\n"},{"tags":["java","spring","spring-boot","lombok"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1692032743,"post_id":76900835,"comment_id":135568020,"body_markdown":"Maybe add `@Builder.Default` to the `id` field?","body":"Maybe add <code>@Builder.Default</code> to the <code>id</code> field?"}],"answers":[{"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692044601,"creation_date":1692044601,"answer_id":76901946,"question_id":76900835,"body_markdown":"`lombok.Data` Is a better to use annotation for `@Entity` classes. It gives you `@Getter`, `@Setter` and `@NoArgsConstructor` which is exactly what JPA needs. ","title":"Lombok builder Warning - initializing expression","body":"<p><code>lombok.Data</code> Is a better to use annotation for <code>@Entity</code> classes. It gives you <code>@Getter</code>, <code>@Setter</code> and <code>@NoArgsConstructor</code> which is exactly what JPA needs.</p>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76901946,"answer_count":1,"score":0,"last_activity_date":1692044601,"creation_date":1692032476,"question_id":76900835,"body_markdown":"I have this POJO:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;,\r\n            uniqueConstraints = {\r\n                    @UniqueConstraint(columnNames = &quot;username&quot;),\r\n                    @UniqueConstraint(columnNames = &quot;email&quot;)\r\n            })\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotBlank\r\n        @Size(max = 50)\r\n        private String username;\r\n    \r\n    }\r\n\r\n\r\nbut I have this warning and I don&#39;t know how to fix it \r\n\r\n     @Builder will ignore the initializing expression entirely. If you want the initializing expression to serve as default, add @Builder.Default. If it is not supposed to be settable during building, make the field final.\r\n\r\n","title":"Lombok builder Warning - initializing expression","body":"<p>I have this POJO:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;,\n        uniqueConstraints = {\n                @UniqueConstraint(columnNames = &quot;username&quot;),\n                @UniqueConstraint(columnNames = &quot;email&quot;)\n        })\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 50)\n    private String username;\n\n}\n</code></pre>\n<p>but I have this warning and I don't know how to fix it</p>\n<pre><code> @Builder will ignore the initializing expression entirely. If you want the initializing expression to serve as default, add @Builder.Default. If it is not supposed to be settable during building, make the field final.\n</code></pre>\n"},{"tags":["java","jar","exe","launch4j"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692052212,"post_id":76901917,"comment_id":135570861,"body_markdown":"Your internal vm is too old (8) as your classes have been compiled with 17. But why use Launch4j when your [own tools](https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9)\n can do what you want (`jlink`, `jpackage`)? Easy fix pro tem is recompile to Java 8","body":"Your internal vm is too old (8) as your classes have been compiled with 17. But why use Launch4j when your <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">own tools</a>  can do what you want (<code>jlink</code>, <code>jpackage</code>)? Easy fix pro tem is recompile to Java 8"},{"owner":{"account_id":27788139,"reputation":3,"user_id":21215124,"display_name":"Ariel"},"score":0,"creation_date":1692122421,"post_id":76901917,"comment_id":135580684,"body_markdown":"@g00se I&#39;m trying to use `jpackage`, but there are still some issues. I installed .NET SDK and Wix (version 4.0.1), but I got these errors `[10:54:46.989] Can not find WiX tools (light.exe, candle.exe)\n[10:54:46.989] Download WiX 3.0 or later from https://wixtoolset.org and add it to the PATH.\nError: Invalid or unsupported type: [exe]`","body":"@g00se I&#39;m trying to use <code>jpackage</code>, but there are still some issues. I installed .NET SDK and Wix (version 4.0.1), but I got these errors <code>[10:54:46.989] Can not find WiX tools (light.exe, candle.exe) [10:54:46.989] Download WiX 3.0 or later from https:&#47;&#47;wixtoolset.org and add it to the PATH. Error: Invalid or unsupported type: [exe]</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692124377,"post_id":76901917,"comment_id":135581021,"body_markdown":"So - did you do what it told you to do?","body":"So - did you do what it told you to do?"},{"owner":{"account_id":27788139,"reputation":3,"user_id":21215124,"display_name":"Ariel"},"score":0,"creation_date":1692132091,"post_id":76901917,"comment_id":135582131,"body_markdown":"@g00se I did. I installed .NET SDK and Wix, and added them to the PATH, but it still told me to install Wix","body":"@g00se I did. I installed .NET SDK and Wix, and added them to the PATH, but it still told me to install Wix"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692133296,"post_id":76901917,"comment_id":135582310,"body_markdown":"Could you open cmd.exe and let me know what `echo %PATH%` prints?","body":"Could you open cmd.exe and let me know what <code>echo %PATH%</code> prints?"},{"owner":{"account_id":27788139,"reputation":3,"user_id":21215124,"display_name":"Ariel"},"score":0,"creation_date":1692134687,"post_id":76901917,"comment_id":135582516,"body_markdown":"I am afraid I cannot give you the entire output, but here are the related ones: `C:\\Program Files\\dotnet\\;C:\\Program Files\\Java\\jdk-20\\bin;C:\\Users\\user\\.dotnet\\tools\\wix.exe;C:\\Users\\user\\.dotnet\\tools`","body":"I am afraid I cannot give you the entire output, but here are the related ones: <code>C:\\Program Files\\dotnet\\;C:\\Program Files\\Java\\jdk-20\\bin;C:\\Users\\user\\.dotnet\\tools\\wix.exe;C:&zwnj;&#8203;\\Users\\user\\.dotnet\\&zwnj;&#8203;tools</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692135032,"post_id":76901917,"comment_id":135582561,"body_markdown":"Just an idea, but you didn&#39;t by any chance keep the same console window open *after* installation of Wix/.NET as the one you had *before* they were installed, did you? If, so it wouldn&#39;t have picked the change up. So test with a new console","body":"Just an idea, but you didn&#39;t by any chance keep the same console window open <i>after</i> installation of Wix/.NET as the one you had <i>before</i> they were installed, did you? If, so it wouldn&#39;t have picked the change up. So test with a new console"},{"owner":{"account_id":27788139,"reputation":3,"user_id":21215124,"display_name":"Ariel"},"score":0,"creation_date":1692140548,"post_id":76901917,"comment_id":135583173,"body_markdown":"@g00se I used wix v3 instead and it worked!","body":"@g00se I used wix v3 instead and it worked!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692141065,"post_id":76901917,"comment_id":135583203,"body_markdown":"Great. Hope my web page helped","body":"Great. Hope my web page helped"}],"owner":{"account_id":27788139,"reputation":3,"user_id":21215124,"display_name":"Ariel"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692044208,"creation_date":1692044169,"question_id":76901917,"body_markdown":"I want to use Launch4j to convert my JAR file into Windows executable, so users of my Java program do not need to install Java on their device, but I am encountering some issues.\r\n\r\nI exported my Java program as a runnable JAR file, which can be run in cmd (`java -DAPI_KEY=&quot;my-api-key&quot; -jar .\\test.jar`); however, when I use Launch4j to generate a exe file and execute it in cmd, it does not work. Here&#39;s the error message:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Test has been compiled by a more \r\nrecent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only \r\nrecognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(Unknown Source)\r\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.access$100(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:59)\r\n```\r\n\r\n\r\nI am assuming that the configuration settings in Launch4j is not set up correctly since JAR file works but not the exe file. Here is the output folder structure:\r\n\r\n\r\n```\r\n.\r\n|- jre\r\n|  |- bin\r\n|  |- legal\r\n|  |- lib\r\n|  |- ...\r\n|\r\n|- somedata.xlse\r\n|\r\n|- Test.exe\r\n```\r\n\r\nHere is my settings in Lauch4j:\r\n\r\n1. Basic\r\n- Output file: Path\\to\\Test.exe\r\n- Jar: Path\\to\\test.jar\r\n\r\n2. Header\r\n- Header type: Console\r\n\r\n3. Single instance\r\n- Allow only a single instance of the application: Checked\r\n- Mutex name: Test\r\n\r\n4. JRE\r\n- JRE paths: jre (I copied the jre files to the same folder as Test.exe)\r\n- Min JRE version: 1.8.0\r\n- JVM options: -DAPI_KEY=&quot;my-api-key&quot; (The environmental variable that does not get exported from Java IDE)\r\n\r\n\r\nThe desired out come is that I want to run the exe file automatically at 11am everyday. I will place this exe file on a server that does not get turned off along with a batch script to run it. If anyone can let me know why the exe file is not working, that would be great!\r\n\r\nAny input is appreciated.","title":"Jar File to Windows Exe Using Launch4j","body":"<p>I want to use Launch4j to convert my JAR file into Windows executable, so users of my Java program do not need to install Java on their device, but I am encountering some issues.</p>\n<p>I exported my Java program as a runnable JAR file, which can be run in cmd (<code>java -DAPI_KEY=&quot;my-api-key&quot; -jar .\\test.jar</code>); however, when I use Launch4j to generate a exe file and execute it in cmd, it does not work. Here's the error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Test has been compiled by a more \nrecent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only \nrecognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.access$100(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:59)\n</code></pre>\n<p>I am assuming that the configuration settings in Launch4j is not set up correctly since JAR file works but not the exe file. Here is the output folder structure:</p>\n<pre><code>.\n|- jre\n|  |- bin\n|  |- legal\n|  |- lib\n|  |- ...\n|\n|- somedata.xlse\n|\n|- Test.exe\n</code></pre>\n<p>Here is my settings in Lauch4j:</p>\n<ol>\n<li>Basic</li>\n</ol>\n<ul>\n<li>Output file: Path\\to\\Test.exe</li>\n<li>Jar: Path\\to\\test.jar</li>\n</ul>\n<ol start=\"2\">\n<li>Header</li>\n</ol>\n<ul>\n<li>Header type: Console</li>\n</ul>\n<ol start=\"3\">\n<li>Single instance</li>\n</ol>\n<ul>\n<li>Allow only a single instance of the application: Checked</li>\n<li>Mutex name: Test</li>\n</ul>\n<ol start=\"4\">\n<li>JRE</li>\n</ol>\n<ul>\n<li>JRE paths: jre (I copied the jre files to the same folder as Test.exe)</li>\n<li>Min JRE version: 1.8.0</li>\n<li>JVM options: -DAPI_KEY=&quot;my-api-key&quot; (The environmental variable that does not get exported from Java IDE)</li>\n</ul>\n<p>The desired out come is that I want to run the exe file automatically at 11am everyday. I will place this exe file on a server that does not get turned off along with a batch script to run it. If anyone can let me know why the exe file is not working, that would be great!</p>\n<p>Any input is appreciated.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692029723,"post_id":76900476,"comment_id":135567428,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29112314,"reputation":1,"user_id":22301840,"display_name":"Ruben iraheta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692044177,"creation_date":1692028874,"question_id":76900476,"body_markdown":"I have a list of sizes that I get from Firebase with java Android Studio and I want to make a size selector with chips, that is, a new chip is created for each size. example:\r\n\r\n![enter image description here](https://i.stack.imgur.com/ckvIw.jpg)\r\n\r\n\r\n\r\nChips o radio buttom","title":"Chips Selector Android Studio","body":"<p>I have a list of sizes that I get from Firebase with java Android Studio and I want to make a size selector with chips, that is, a new chip is created for each size. example:</p>\n<p><img src=\"https://i.stack.imgur.com/ckvIw.jpg\" alt=\"enter image description here\" /></p>\n<p>Chips o radio buttom</p>\n"},{"tags":["java","apache-kafka","google-cloud-dataflow","apache-beam","apache-beam-kafkaio"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691938850,"post_id":76877110,"comment_id":135555635,"body_markdown":"In general, if you want to stop &quot;after X minutes&quot; you&#39;d use batch consumer, not streaming. Otherwise, I&#39;m not sure Beam exposes any information about the &quot;end&quot; of the topic. It&#39;ll just idlely poll for more data. You&#39;d need an external thread to monitor Kafka consumer position/lag","body":"In general, if you want to stop &quot;after X minutes&quot; you&#39;d use batch consumer, not streaming. Otherwise, I&#39;m not sure Beam exposes any information about the &quot;end&quot; of the topic. It&#39;ll just idlely poll for more data. You&#39;d need an external thread to monitor Kafka consumer position/lag"},{"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"score":0,"creation_date":1692013752,"post_id":76877110,"comment_id":135563977,"body_markdown":"I absolutely agree with you but architecture of this app is strange and I can&#39;t change it. so I need any ugly solution","body":"I absolutely agree with you but architecture of this app is strange and I can&#39;t change it. so I need any ugly solution"}],"owner":{"account_id":16796337,"reputation":71,"user_id":12142726,"display_name":"ovod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692044144,"creation_date":1691680563,"question_id":76877110,"body_markdown":"I have pipeline which is consuming data from Kafka topic(topic uses compaction!). How can I terminate after reading all messages? for ex stop emitting messages after x amount of time has passed after the last message and terminate the read gracefully\r\nI know that I can create custom consumer for that but are another way exist?\r\nthanks in advance\r\nProblem: I need to use withMaxNumRecords for GroupByKey operation(works only for bounded sources), but this value can be wrong when compaction is on and KafkaReader from beam can&#39;t break the loop \r\n\r\n        private static PTransform&lt;PBegin, PCollection&lt;KafkaRecord&lt;String, GenericRecord&gt;&gt;&gt; getCountryRecords(String kafkaBroker,\r\n        String topic, Map&lt;String, Object&gt; kafkaProperties, Properties properties) {\r\n        return KafkaIO.&lt;String, GenericRecord&gt;read()\r\n            .withBootstrapServers(kafkaBroker)\r\n            .withConsumerFactoryFn(new ConsumerFactoryFn(topic, properties))\r\n            .withTopic(topic)\r\n            //.withMaxNumRecords(number)\r\n            .withKeyDeserializer(StringDeserializer.class)\r\n            .withValueDeserializerAndCoder((Class) KafkaAvroDeserializer.class, NullableCoder.of(AvroGenericCoder.of(Entity.getClassSchema())))\r\n            .withConsumerConfigUpdates(kafkaProperties)\r\n            .withConsumerConfigUpdates(ImmutableMap.of(&quot;auto.offset.reset&quot;, (Object) &quot;earliest&quot;))\r\n            .withConsumerConfigUpdates(ImmutableMap.of(&quot;specific.avro.reader&quot;, (Object) &quot;true&quot;))\r\n            .withConsumerConfigUpdates(ImmutableMap.of(&quot;enhanced.avro.schema.support&quot;, (Object) &quot;true&quot;));\r\n    }\r\nhere I&#39;m trying to close consumer after polling all messages from topic\r\n\r\n     private static class ConsumerFactoryFn implements SerializableFunction&lt;Map&lt;String, Object&gt;, Consumer&lt;byte[], byte[]&gt;&gt; {\r\n        String topic;\r\n        Properties properties;\r\n\r\n        public ConsumerFactoryFn(String topic, Properties properties) {\r\n            this.topic = topic;\r\n            this.properties = properties;\r\n        }\r\n\r\n        public Consumer&lt;byte[], byte[]&gt; apply(Map&lt;String, Object&gt; config) {\r\n            return new CustomCountryConsumer(new HashMap&lt;&gt;(config), topic, properties);\r\n        }\r\n    }\r\n\r\n    static class CustomCountryConsumer extends KafkaConsumer {\r\n        Properties properties;\r\n        String topic;\r\n\r\n        public CustomCountryConsumer(Map&lt;String, Object&gt; configs, String topic, Properties properties) {\r\n            super(configs);\r\n            this.topic = topic;\r\n            this.properties = properties;\r\n        }\r\n\r\n        @Override\r\n        public ConsumerRecords poll(long timeoutMs) {\r\n            int emptyPollCount = 0;\r\n            int maxRetryPollCount = 5;\r\n            Consumer&lt;byte[], byte[]&gt; consumer = new KafkaConsumer&lt;&gt;(PropertiesProvider.getConsumerKafkaProperties(properties));\r\n            consumer.subscribe(Arrays.asList(topic));\r\n            List&lt;TopicPartition&gt; partitions = consumer.partitionsFor(topic).stream()\r\n                .map(p -&gt; new TopicPartition(topic, p.partition())).collect(Collectors.toList());\r\n\r\n            Map&lt;TopicPartition, Long&gt; partitionLastOffsetMap = consumer.endOffsets(partitions);\r\n\r\n            Map&lt;TopicPartition, Boolean&gt; partitionIsConsumedMap = new HashMap&lt;&gt;();\r\n            partitionLastOffsetMap.keySet().forEach(el -&gt; partitionIsConsumedMap.put(el, false));\r\n\r\n            ConsumerRecords&lt;byte[], byte[]&gt; records;\r\n\r\n            while (true) {\r\n                records = consumer.poll(java.time.Duration.ofMillis(1000));\r\n\r\n                if (records.isEmpty()) {\r\n                    emptyPollCount++;\r\n                    if (emptyPollCount &gt;= maxRetryPollCount) {\r\n                        consumer.close();\r\n\r\n                        break;\r\n                    }\r\n                } else {\r\n                    emptyPollCount = 0;\r\n                }\r\n\r\n                for (ConsumerRecord&lt;byte[], byte[]&gt; record : records) {\r\n\r\n                    long currentOffset = record.offset();\r\n\r\n                    TopicPartition topicPartition = new TopicPartition(record.topic(), record.partition());\r\n                    if (currentOffset == partitionLastOffsetMap.get(topicPartition) - 1) {\r\n                        partitionIsConsumedMap.put(topicPartition, true);\r\n                    }\r\n                }\r\n                if (partitionIsConsumedMap.values().stream().allMatch(Boolean.TRUE::equals)) {\r\n                    consumer.close();\r\n                    break;\r\n                }\r\n\r\n            }\r\n            return records;\r\n\r\n        }\r\n    }\r\n\r\n but this approach doesn&#39;t work, KafkaUnboundedReader continue polling and I don&#39;t know how to stop it(need to call close() for it somehow)","title":"Apache Beam pipeline reading from Kafka","body":"<p>I have pipeline which is consuming data from Kafka topic(topic uses compaction!). How can I terminate after reading all messages? for ex stop emitting messages after x amount of time has passed after the last message and terminate the read gracefully\nI know that I can create custom consumer for that but are another way exist?\nthanks in advance\nProblem: I need to use withMaxNumRecords for GroupByKey operation(works only for bounded sources), but this value can be wrong when compaction is on and KafkaReader from beam can't break the loop</p>\n<pre><code>    private static PTransform&lt;PBegin, PCollection&lt;KafkaRecord&lt;String, GenericRecord&gt;&gt;&gt; getCountryRecords(String kafkaBroker,\n    String topic, Map&lt;String, Object&gt; kafkaProperties, Properties properties) {\n    return KafkaIO.&lt;String, GenericRecord&gt;read()\n        .withBootstrapServers(kafkaBroker)\n        .withConsumerFactoryFn(new ConsumerFactoryFn(topic, properties))\n        .withTopic(topic)\n        //.withMaxNumRecords(number)\n        .withKeyDeserializer(StringDeserializer.class)\n        .withValueDeserializerAndCoder((Class) KafkaAvroDeserializer.class, NullableCoder.of(AvroGenericCoder.of(Entity.getClassSchema())))\n        .withConsumerConfigUpdates(kafkaProperties)\n        .withConsumerConfigUpdates(ImmutableMap.of(&quot;auto.offset.reset&quot;, (Object) &quot;earliest&quot;))\n        .withConsumerConfigUpdates(ImmutableMap.of(&quot;specific.avro.reader&quot;, (Object) &quot;true&quot;))\n        .withConsumerConfigUpdates(ImmutableMap.of(&quot;enhanced.avro.schema.support&quot;, (Object) &quot;true&quot;));\n}\n</code></pre>\n<p>here I'm trying to close consumer after polling all messages from topic</p>\n<pre><code> private static class ConsumerFactoryFn implements SerializableFunction&lt;Map&lt;String, Object&gt;, Consumer&lt;byte[], byte[]&gt;&gt; {\n    String topic;\n    Properties properties;\n\n    public ConsumerFactoryFn(String topic, Properties properties) {\n        this.topic = topic;\n        this.properties = properties;\n    }\n\n    public Consumer&lt;byte[], byte[]&gt; apply(Map&lt;String, Object&gt; config) {\n        return new CustomCountryConsumer(new HashMap&lt;&gt;(config), topic, properties);\n    }\n}\n\nstatic class CustomCountryConsumer extends KafkaConsumer {\n    Properties properties;\n    String topic;\n\n    public CustomCountryConsumer(Map&lt;String, Object&gt; configs, String topic, Properties properties) {\n        super(configs);\n        this.topic = topic;\n        this.properties = properties;\n    }\n\n    @Override\n    public ConsumerRecords poll(long timeoutMs) {\n        int emptyPollCount = 0;\n        int maxRetryPollCount = 5;\n        Consumer&lt;byte[], byte[]&gt; consumer = new KafkaConsumer&lt;&gt;(PropertiesProvider.getConsumerKafkaProperties(properties));\n        consumer.subscribe(Arrays.asList(topic));\n        List&lt;TopicPartition&gt; partitions = consumer.partitionsFor(topic).stream()\n            .map(p -&gt; new TopicPartition(topic, p.partition())).collect(Collectors.toList());\n\n        Map&lt;TopicPartition, Long&gt; partitionLastOffsetMap = consumer.endOffsets(partitions);\n\n        Map&lt;TopicPartition, Boolean&gt; partitionIsConsumedMap = new HashMap&lt;&gt;();\n        partitionLastOffsetMap.keySet().forEach(el -&gt; partitionIsConsumedMap.put(el, false));\n\n        ConsumerRecords&lt;byte[], byte[]&gt; records;\n\n        while (true) {\n            records = consumer.poll(java.time.Duration.ofMillis(1000));\n\n            if (records.isEmpty()) {\n                emptyPollCount++;\n                if (emptyPollCount &gt;= maxRetryPollCount) {\n                    consumer.close();\n\n                    break;\n                }\n            } else {\n                emptyPollCount = 0;\n            }\n\n            for (ConsumerRecord&lt;byte[], byte[]&gt; record : records) {\n\n                long currentOffset = record.offset();\n\n                TopicPartition topicPartition = new TopicPartition(record.topic(), record.partition());\n                if (currentOffset == partitionLastOffsetMap.get(topicPartition) - 1) {\n                    partitionIsConsumedMap.put(topicPartition, true);\n                }\n            }\n            if (partitionIsConsumedMap.values().stream().allMatch(Boolean.TRUE::equals)) {\n                consumer.close();\n                break;\n            }\n\n        }\n        return records;\n\n    }\n}\n</code></pre>\n<p>but this approach doesn't work, KafkaUnboundedReader continue polling and I don't know how to stop it(need to call close() for it somehow)</p>\n"},{"tags":["java","math","sublist"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1692042069,"post_id":76901591,"comment_id":135569540,"body_markdown":"https://stackoverflow.com/questions/2895342/java-how-can-i-split-an-arraylist-in-multiple-small-arraylists","body":"<a href=\"https://stackoverflow.com/questions/2895342/java-how-can-i-split-an-arraylist-in-multiple-small-arraylists\" title=\"java how can i split an arraylist in multiple small arraylists\">stackoverflow.com/questions/2895342/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692041655,"creation_date":1692041655,"answer_id":76901708,"question_id":76901591,"body_markdown":"A quick hack just to show the logic, ignoring some of your details:\r\n\r\n        List list = new ArrayList(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;));\r\n\r\n        float noOfChunks = 5f;\r\n        int chunkSize = (int) Math.ceil(list.size() / noOfChunks);\r\n\r\n        int chunkNo = 0;\r\n        while (list.size() &gt; 0) {\r\n            System.out.println(chunkNo);\r\n            for(int i = 0; i &lt; chunkSize; i++) {\r\n                System.out.println(&quot;  &quot; + list.get(0));\r\n                list.remove(list.get(0));\r\n                if (list.isEmpty()) {\r\n                    break;\r\n                }\r\n            }\r\n            chunkNo++;\r\n        }\r\n\r\nThe total size is divided by `noOfChunks` and rounded up, giving a rough chunk size, which is the processed chunk by chunk. Don&#39;t copy the inner part of the loop. It is just a way of mocking the processing part.","title":"How to create an equal(ish)-sized subList of objects based on number of parts passed in?","body":"<p>A quick hack just to show the logic, ignoring some of your details:</p>\n<pre><code>    List list = new ArrayList(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;));\n\n    float noOfChunks = 5f;\n    int chunkSize = (int) Math.ceil(list.size() / noOfChunks);\n\n    int chunkNo = 0;\n    while (list.size() &gt; 0) {\n        System.out.println(chunkNo);\n        for(int i = 0; i &lt; chunkSize; i++) {\n            System.out.println(&quot;  &quot; + list.get(0));\n            list.remove(list.get(0));\n            if (list.isEmpty()) {\n                break;\n            }\n        }\n        chunkNo++;\n    }\n</code></pre>\n<p>The total size is divided by <code>noOfChunks</code> and rounded up, giving a rough chunk size, which is the processed chunk by chunk. Don't copy the inner part of the loop. It is just a way of mocking the processing part.</p>\n"}],"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692043996,"creation_date":1692040495,"question_id":76901591,"body_markdown":"I have an arrayList of N objects containing a few fields like so:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;firstName&quot;: &quot;Todd&quot;,\r\n        &quot;lastName&quot;: &quot;Jones&quot;\r\n    },\r\n    {\r\n        &quot;firstName&quot;: &quot;Mike&quot;,\r\n        &quot;lastName&quot;: &quot;Johnson&quot;\r\n    },\r\n{\r\n        &quot;firstName&quot;: &quot;Tina&quot;,\r\n        &quot;lastName&quot;: &quot;Jones&quot;\r\n    },\r\n    {\r\n        &quot;firstName&quot;: &quot;Tommy&quot;,\r\n        &quot;lastName&quot;: &quot;Wiseau&quot;\r\n    },\r\n    ....\r\n]\r\n\r\n```\r\n\r\nI am trying to split a processing job into equal(ish) parts based on a passed in index of what chunk I&#39;m currently on and how many total chunks there are.\r\n\r\nI currently have some logic I&#39;ve started that tries to do this, but I think where I am failing is that my math doesn&#39;t account for not being equally divisible. What is the best way to make sure I am always getting the correct indices in my subList? \r\n\r\n(Example: 9 name objects, want part 1 of 2 equally split arrays)\r\n\r\nThis is my current logic that isn&#39;t working:\r\n\r\n```\r\nfinal int namesCount = names.size();\r\nfinal int namesDividedCount = namesCount / numOfChunks;\r\nint startIndex, endIndex;\r\n\r\nif (chunkIndex == 1) {\r\n  startIndex = 0;\r\n  endIndex = namesDividedCount;\r\n} else if (chunkIndex == numOfChunks) {\r\n  startIndex = namesCount - namesDividedCount;\r\n  endIndex = namesCount;\r\n} else {\r\n  startIndex = ((chunkIndex - 1) * namesDividedCount) + 1;\r\n  endIndex = chunkIndex * namesDividedCount;\r\n}\r\nreturn names.subList(startIndex, endIndex);\r\n```","title":"How to create an equal(ish)-sized subList of objects based on number of parts passed in?","body":"<p>I have an arrayList of N objects containing a few fields like so:</p>\n<pre><code>[\n    {\n        &quot;firstName&quot;: &quot;Todd&quot;,\n        &quot;lastName&quot;: &quot;Jones&quot;\n    },\n    {\n        &quot;firstName&quot;: &quot;Mike&quot;,\n        &quot;lastName&quot;: &quot;Johnson&quot;\n    },\n{\n        &quot;firstName&quot;: &quot;Tina&quot;,\n        &quot;lastName&quot;: &quot;Jones&quot;\n    },\n    {\n        &quot;firstName&quot;: &quot;Tommy&quot;,\n        &quot;lastName&quot;: &quot;Wiseau&quot;\n    },\n    ....\n]\n\n</code></pre>\n<p>I am trying to split a processing job into equal(ish) parts based on a passed in index of what chunk I'm currently on and how many total chunks there are.</p>\n<p>I currently have some logic I've started that tries to do this, but I think where I am failing is that my math doesn't account for not being equally divisible. What is the best way to make sure I am always getting the correct indices in my subList?</p>\n<p>(Example: 9 name objects, want part 1 of 2 equally split arrays)</p>\n<p>This is my current logic that isn't working:</p>\n<pre><code>final int namesCount = names.size();\nfinal int namesDividedCount = namesCount / numOfChunks;\nint startIndex, endIndex;\n\nif (chunkIndex == 1) {\n  startIndex = 0;\n  endIndex = namesDividedCount;\n} else if (chunkIndex == numOfChunks) {\n  startIndex = namesCount - namesDividedCount;\n  endIndex = namesCount;\n} else {\n  startIndex = ((chunkIndex - 1) * namesDividedCount) + 1;\n  endIndex = chunkIndex * namesDividedCount;\n}\nreturn names.subList(startIndex, endIndex);\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1691947799,"post_id":76894479,"comment_id":135556613,"body_markdown":"For those of us who may be ignorant, please clarify just what you mean by &quot;tp&quot; and &quot;op&quot;.","body":"For those of us who may be ignorant, please clarify just what you mean by &quot;tp&quot; and &quot;op&quot;."},{"owner":{"account_id":29217842,"reputation":1,"user_id":22384236,"display_name":"rorack"},"score":0,"creation_date":1691948067,"post_id":76894479,"comment_id":135556637,"body_markdown":"tp means teleport, and op means Overpowered.","body":"tp means teleport, and op means Overpowered."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691954790,"post_id":76894479,"comment_id":135557335,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":1,"creation_date":1692017795,"post_id":76894479,"comment_id":135564748,"body_markdown":"@rorack isn&#39;t OP - operator when it comes to Minecraft?","body":"@rorack isn&#39;t OP - operator when it comes to Minecraft?"}],"answers":[{"tags":[],"owner":{"account_id":16014501,"reputation":61,"user_id":11557623,"display_name":"Ka&#39;Eios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691965863,"creation_date":1691965863,"answer_id":76895457,"question_id":76894479,"body_markdown":"The issue here is that command executed by clicking a message are always executed by the user who clicked.\r\n\r\nA way to solve that issue is to use an [HashMap][1] that has Player has a Key and Location as a value. Each time a player execute the command, you add couple (player, location) to the HashMap, this way you can recover player saved position at any time.\r\n\r\nThen you create a new command (/backtohome for example) and make create it to recover player saved position from the HashMap and teleport it back.\r\n\r\nCode :\r\n\r\n```JAVA\r\n\r\nprivate Map&lt;Player, Location&gt; positions = new HashMap&lt;&gt;();\r\n\r\n@Override\r\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n        if(cmd.getName().equalsIgnoreCase(&quot;home&quot;)) {\r\n            if (sender instanceof Player) {\r\n                Player p = (Player) sender;\r\n\r\n                double x = p.getLocation().getX();\r\n                double y = p.getLocation().getY();\r\n                double z = p.getLocation().getZ();\r\n\r\n                TextComponent message = new TextComponent(&quot;[Click ME]&quot;);\r\n                message.setColor(ChatColor.GOLD);\r\n                message.setBold(true);\r\n                message.setClickEvent(new ClickEvent(ClickEvent.Action.RUN_COMMAND, &quot;/backtohome&quot;);\r\n                message.setHoverEvent(new HoverEvent(HoverEvent.Action.SHOW_TEXT,\r\n                        new ComponentBuilder(&quot;Click HERE&quot;).color(ChatColor.GRAY).italic(true).create()));\r\n\r\n                p.teleport(p.getBedSpawnLocation());\r\n\r\n                // Add player position to hashmap\r\n                positions.put(p, p.getLocation());\r\n\r\n                p.spigot().sendMessage(message);\r\n                p.sendMessage(&quot;You have arrived home successfully&quot;);\r\n            }\r\n        } else if (cmd.getName().equalsIgnoreCase(&quot;backtohome&quot;)) {\r\n            if(sender instanceof Player) {\r\n                Player p = (Player) sender;\r\n                // Verify back position exist\r\n                if(!positions.containsKey(p)) return;\r\n                // Teleport back\r\n                p.teleport(positions.get(p));\r\n                // Clear previous pos\r\n                positions.remove(p);\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n```\r\n\r\n      \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html","title":"Minecraft Plugin - How to teleport a player without requiring operator","body":"<p>The issue here is that command executed by clicking a message are always executed by the user who clicked.</p>\n<p>A way to solve that issue is to use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a> that has Player has a Key and Location as a value. Each time a player execute the command, you add couple (player, location) to the HashMap, this way you can recover player saved position at any time.</p>\n<p>Then you create a new command (/backtohome for example) and make create it to recover player saved position from the HashMap and teleport it back.</p>\n<p>Code :</p>\n<pre><code>\nprivate Map&lt;Player, Location&gt; positions = new HashMap&lt;&gt;();\n\n@Override\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n        if(cmd.getName().equalsIgnoreCase(&quot;home&quot;)) {\n            if (sender instanceof Player) {\n                Player p = (Player) sender;\n\n                double x = p.getLocation().getX();\n                double y = p.getLocation().getY();\n                double z = p.getLocation().getZ();\n\n                TextComponent message = new TextComponent(&quot;[Click ME]&quot;);\n                message.setColor(ChatColor.GOLD);\n                message.setBold(true);\n                message.setClickEvent(new ClickEvent(ClickEvent.Action.RUN_COMMAND, &quot;/backtohome&quot;);\n                message.setHoverEvent(new HoverEvent(HoverEvent.Action.SHOW_TEXT,\n                        new ComponentBuilder(&quot;Click HERE&quot;).color(ChatColor.GRAY).italic(true).create()));\n\n                p.teleport(p.getBedSpawnLocation());\n\n                // Add player position to hashmap\n                positions.put(p, p.getLocation());\n\n                p.spigot().sendMessage(message);\n                p.sendMessage(&quot;You have arrived home successfully&quot;);\n            }\n        } else if (cmd.getName().equalsIgnoreCase(&quot;backtohome&quot;)) {\n            if(sender instanceof Player) {\n                Player p = (Player) sender;\n                // Verify back position exist\n                if(!positions.containsKey(p)) return;\n                // Teleport back\n                p.teleport(positions.get(p));\n                // Clear previous pos\n                positions.remove(p);\n            }\n        }\n\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":29217842,"reputation":1,"user_id":22384236,"display_name":"rorack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692043367,"creation_date":1691947504,"question_id":76894479,"body_markdown":"```java\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n        if(cmd.getName().equalsIgnoreCase(&quot;home&quot;)) {\r\n            if (sender instanceof Player) {\r\n                Player p = (Player) sender;\r\n\r\n                double x = p.getLocation().getX();\r\n                double y = p.getLocation().getY();\r\n                double z = p.getLocation().getZ();\r\n\r\n                TextComponent message = new TextComponent(&quot;[Click ME]&quot;);\r\n                message.setColor(ChatColor.GOLD);\r\n                message.setBold(true);\r\n                message.setClickEvent(new ClickEvent(ClickEvent.Action.RUN_COMMAND, &quot;/tp &quot; + p.getName() + &quot; &quot; + (int)x + &quot; &quot; + (int)y + &quot; &quot; + (int)z));\r\n                message.setHoverEvent(new HoverEvent(HoverEvent.Action.SHOW_TEXT,\r\n                        new ComponentBuilder(&quot;Click HERE&quot;).color(ChatColor.GRAY).italic(true).create()));\r\n\r\n                p.teleport(p.getBedSpawnLocation());\r\n\r\n                p.spigot().sendMessage(message);\r\n                p.sendMessage(&quot;You have arrived home successfully&quot;);\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n```\r\n\r\nI don&#39;t know how to teleport without being an operator.\r\n\r\nI want to move to the bed when using the command, and move to the position before using the command when clicking [Click ME].","title":"Minecraft Plugin - How to teleport a player without requiring operator","body":"<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n        if(cmd.getName().equalsIgnoreCase(&quot;home&quot;)) {\n            if (sender instanceof Player) {\n                Player p = (Player) sender;\n\n                double x = p.getLocation().getX();\n                double y = p.getLocation().getY();\n                double z = p.getLocation().getZ();\n\n                TextComponent message = new TextComponent(&quot;[Click ME]&quot;);\n                message.setColor(ChatColor.GOLD);\n                message.setBold(true);\n                message.setClickEvent(new ClickEvent(ClickEvent.Action.RUN_COMMAND, &quot;/tp &quot; + p.getName() + &quot; &quot; + (int)x + &quot; &quot; + (int)y + &quot; &quot; + (int)z));\n                message.setHoverEvent(new HoverEvent(HoverEvent.Action.SHOW_TEXT,\n                        new ComponentBuilder(&quot;Click HERE&quot;).color(ChatColor.GRAY).italic(true).create()));\n\n                p.teleport(p.getBedSpawnLocation());\n\n                p.spigot().sendMessage(message);\n                p.sendMessage(&quot;You have arrived home successfully&quot;);\n            }\n        }\n\n        return true;\n    }\n</code></pre>\n<p>I don't know how to teleport without being an operator.</p>\n<p>I want to move to the bed when using the command, and move to the position before using the command when clicking [Click ME].</p>\n"},{"tags":["java","spring-boot","jetty","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692043187,"creation_date":1692043187,"answer_id":76901837,"question_id":76901595,"body_markdown":"The error tells you that when attempting to set a Header Value, the value would exceed the configured output buffer.\r\n\r\nWhat is your configured output buffer size?\r\n\r\nBy default the HttpClient.requestBufferSize is 4096 bytes.\r\n\r\nIf that seems sane, then also, check your HttpClient to ensure it&#39;s not picking up extra Cookies.\r\nThe Jetty HttpClient will use the JDK CookieStore / CookieManager and those will remember Cookies for quite a while, sometimes far longer than you expect.  An excess of Cookies can also trigger this error as you have no room left for your headers if you have a ton of Cookies being automatically added.","title":"Why am I getting org.eclipse.jetty.http.BadMessageException: 500: Request header too large","body":"<p>The error tells you that when attempting to set a Header Value, the value would exceed the configured output buffer.</p>\n<p>What is your configured output buffer size?</p>\n<p>By default the HttpClient.requestBufferSize is 4096 bytes.</p>\n<p>If that seems sane, then also, check your HttpClient to ensure it's not picking up extra Cookies.\nThe Jetty HttpClient will use the JDK CookieStore / CookieManager and those will remember Cookies for quite a while, sometimes far longer than you expect.  An excess of Cookies can also trigger this error as you have no room left for your headers if you have a ton of Cookies being automatically added.</p>\n"}],"owner":{"account_id":4902239,"reputation":153,"user_id":3950069,"display_name":"Mansoor Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692043187,"creation_date":1692040541,"question_id":76901595,"body_markdown":"I have the following WebClient configuration in a spring boot reactive service:\r\n\r\n```\r\npublic WebClient createWebClient(ObjectMapper objectMapper) {\r\n    ExchangeStrategies strategies = ExchangeStrategies\r\n        .builder()\r\n        .codecs(clientDefaultCodecsConfigurer -&gt; {\r\n          clientDefaultCodecsConfigurer.defaultCodecs().enableLoggingRequestDetails(true);\r\n          clientDefaultCodecsConfigurer.defaultCodecs().jackson2JsonEncoder(\r\n              new Jackson2JsonEncoder(objectMapper, MediaType.APPLICATION_JSON));\r\n          clientDefaultCodecsConfigurer.defaultCodecs().jackson2JsonDecoder(\r\n              new Jackson2JsonDecoder(objectMapper, MediaType.APPLICATION_JSON));\r\n        }).build();\r\n\r\n    SslContextFactory sslContextFactory = new SslContextFactory();\r\n    HttpClient httpClient = new HttpClient(sslContextFactory) {\r\n      @Override\r\n      public Request newRequest(URI uri) {\r\n\r\n        Request request = super.newRequest(uri);\r\n        request.timeout(requestTimeoutInSeconds, TimeUnit.SECONDS);\r\n        return requestLogEnhancer.enhance(request);\r\n      }\r\n    };\r\n\r\n    httpClient.setMaxRequestsQueuedPerDestination(maxRequestsPerDestination);\r\n    httpClient.setMaxConnectionsPerDestination(maxConnectionsPerDestination);\r\n    httpClient.setIdleTimeout(idleTimeoutInMilliSeconds);\r\n\r\n    WebClient.Builder webClient = WebClient\r\n        .builder()\r\n        .clientConnector(new JettyClientHttpConnector(httpClient))\r\n        .exchangeStrategies(strategies)\r\n        .defaultHeader(HTTP.USER_AGENT, USER_AGENT_VALUE);\r\n\r\n    return webClient.build();\r\n  }\r\n```\r\nThis WebClient is used for API calls to other services.\r\n\r\nThe service was running fine for more than a month but 1 of the instances suddenly started getting the following exception:\r\n\r\n```\r\norg.eclipse.jetty.http.BadMessageException: 500: Request header too large\r\n\tat org.eclipse.jetty.http.HttpGenerator.generateRequest(HttpGenerator.java:279)\r\n\tat org.eclipse.jetty.client.http.HttpSenderOverHTTP$HeadersCallback.process(HttpSenderOverHTTP.java:231)\r\n\tat org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\r\n\tat org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:224)\r\n\tat org.eclipse.jetty.client.http.HttpSenderOverHTTP.sendHeaders(HttpSenderOverHTTP.java:62)\r\n\tat org.eclipse.jetty.client.HttpSender.send(HttpSender.java:214)\r\n\tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.send(HttpChannelOverHTTP.java:85)\r\n\tat org.eclipse.jetty.client.HttpChannel.send(HttpChannel.java:128)\r\n\tat org.eclipse.jetty.client.HttpConnection.send(HttpConnection.java:201)\r\n\tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP$Delegate.send(HttpConnectionOverHTTP.java:255)\r\n\tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.send(HttpConnectionOverHTTP.java:122)\r\n\tat org.eclipse.jetty.client.http.HttpDestinationOverHTTP.send(HttpDestinationOverHTTP.java:38)\r\n\tat org.eclipse.jetty.client.HttpDestination.process(HttpDestination.java:346)\r\n\tat org.eclipse.jetty.client.HttpDestination.process(HttpDestination.java:304)\r\n\tat org.eclipse.jetty.client.HttpDestination.send(HttpDestination.java:294)\r\n\tat org.eclipse.jetty.client.HttpDestination.succeeded(HttpDestination.java:228)\r\n\tat org.eclipse.jetty.client.AbstractConnectionPool.proceed(AbstractConnectionPool.java:153)\r\n\tat org.eclipse.jetty.client.AbstractConnectionPool$1.succeeded(AbstractConnectionPool.java:131)\r\n\tat org.eclipse.jetty.client.AbstractConnectionPool$1.succeeded(AbstractConnectionPool.java:123)\r\n\tat org.eclipse.jetty.util.Promise$Wrapper.succeeded(Promise.java:130)\r\n\tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onOpen(HttpConnectionOverHTTP.java:130)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection.onOpen(SslConnection.java:267)\r\n\tat org.eclipse.jetty.io.SelectorManager.connectionOpened(SelectorManager.java:324)\r\n\tat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:253)\r\n\tat org.eclipse.jetty.io.ManagedSelector.access$1800(ManagedSelector.java:60)\r\n\tat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:889)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.nio.BufferOverflowException: null\r\n\tat java.nio.Buffer.nextPutIndex(Buffer.java:521)\r\n\tat java.nio.HeapByteBuffer.put(HeapByteBuffer.java:169)\r\n\tat org.eclipse.jetty.http.HttpGenerator.putSanitisedValue(HttpGenerator.java:932)\r\n\tat org.eclipse.jetty.http.HttpGenerator.putTo(HttpGenerator.java:954)\r\n\tat org.eclipse.jetty.http.HttpGenerator.generateHeaders(HttpGenerator.java:645)\r\n\tat org.eclipse.jetty.http.HttpGenerator.generateRequest(HttpGenerator.java:250)\r\n\t... 28 common frames omitted\r\n```\r\n\r\n\r\nAfter restarting the service, this exception didn&#39;t happen anymore but I am afraid this might happen again. What could be the root cause for this exception? How can this be reproduced and resolved?","title":"Why am I getting org.eclipse.jetty.http.BadMessageException: 500: Request header too large","body":"<p>I have the following WebClient configuration in a spring boot reactive service:</p>\n<pre><code>public WebClient createWebClient(ObjectMapper objectMapper) {\n    ExchangeStrategies strategies = ExchangeStrategies\n        .builder()\n        .codecs(clientDefaultCodecsConfigurer -&gt; {\n          clientDefaultCodecsConfigurer.defaultCodecs().enableLoggingRequestDetails(true);\n          clientDefaultCodecsConfigurer.defaultCodecs().jackson2JsonEncoder(\n              new Jackson2JsonEncoder(objectMapper, MediaType.APPLICATION_JSON));\n          clientDefaultCodecsConfigurer.defaultCodecs().jackson2JsonDecoder(\n              new Jackson2JsonDecoder(objectMapper, MediaType.APPLICATION_JSON));\n        }).build();\n\n    SslContextFactory sslContextFactory = new SslContextFactory();\n    HttpClient httpClient = new HttpClient(sslContextFactory) {\n      @Override\n      public Request newRequest(URI uri) {\n\n        Request request = super.newRequest(uri);\n        request.timeout(requestTimeoutInSeconds, TimeUnit.SECONDS);\n        return requestLogEnhancer.enhance(request);\n      }\n    };\n\n    httpClient.setMaxRequestsQueuedPerDestination(maxRequestsPerDestination);\n    httpClient.setMaxConnectionsPerDestination(maxConnectionsPerDestination);\n    httpClient.setIdleTimeout(idleTimeoutInMilliSeconds);\n\n    WebClient.Builder webClient = WebClient\n        .builder()\n        .clientConnector(new JettyClientHttpConnector(httpClient))\n        .exchangeStrategies(strategies)\n        .defaultHeader(HTTP.USER_AGENT, USER_AGENT_VALUE);\n\n    return webClient.build();\n  }\n</code></pre>\n<p>This WebClient is used for API calls to other services.</p>\n<p>The service was running fine for more than a month but 1 of the instances suddenly started getting the following exception:</p>\n<pre><code>org.eclipse.jetty.http.BadMessageException: 500: Request header too large\n    at org.eclipse.jetty.http.HttpGenerator.generateRequest(HttpGenerator.java:279)\n    at org.eclipse.jetty.client.http.HttpSenderOverHTTP$HeadersCallback.process(HttpSenderOverHTTP.java:231)\n    at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\n    at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:224)\n    at org.eclipse.jetty.client.http.HttpSenderOverHTTP.sendHeaders(HttpSenderOverHTTP.java:62)\n    at org.eclipse.jetty.client.HttpSender.send(HttpSender.java:214)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.send(HttpChannelOverHTTP.java:85)\n    at org.eclipse.jetty.client.HttpChannel.send(HttpChannel.java:128)\n    at org.eclipse.jetty.client.HttpConnection.send(HttpConnection.java:201)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP$Delegate.send(HttpConnectionOverHTTP.java:255)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.send(HttpConnectionOverHTTP.java:122)\n    at org.eclipse.jetty.client.http.HttpDestinationOverHTTP.send(HttpDestinationOverHTTP.java:38)\n    at org.eclipse.jetty.client.HttpDestination.process(HttpDestination.java:346)\n    at org.eclipse.jetty.client.HttpDestination.process(HttpDestination.java:304)\n    at org.eclipse.jetty.client.HttpDestination.send(HttpDestination.java:294)\n    at org.eclipse.jetty.client.HttpDestination.succeeded(HttpDestination.java:228)\n    at org.eclipse.jetty.client.AbstractConnectionPool.proceed(AbstractConnectionPool.java:153)\n    at org.eclipse.jetty.client.AbstractConnectionPool$1.succeeded(AbstractConnectionPool.java:131)\n    at org.eclipse.jetty.client.AbstractConnectionPool$1.succeeded(AbstractConnectionPool.java:123)\n    at org.eclipse.jetty.util.Promise$Wrapper.succeeded(Promise.java:130)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onOpen(HttpConnectionOverHTTP.java:130)\n    at org.eclipse.jetty.io.ssl.SslConnection.onOpen(SslConnection.java:267)\n    at org.eclipse.jetty.io.SelectorManager.connectionOpened(SelectorManager.java:324)\n    at org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:253)\n    at org.eclipse.jetty.io.ManagedSelector.access$1800(ManagedSelector.java:60)\n    at org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:889)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.nio.BufferOverflowException: null\n    at java.nio.Buffer.nextPutIndex(Buffer.java:521)\n    at java.nio.HeapByteBuffer.put(HeapByteBuffer.java:169)\n    at org.eclipse.jetty.http.HttpGenerator.putSanitisedValue(HttpGenerator.java:932)\n    at org.eclipse.jetty.http.HttpGenerator.putTo(HttpGenerator.java:954)\n    at org.eclipse.jetty.http.HttpGenerator.generateHeaders(HttpGenerator.java:645)\n    at org.eclipse.jetty.http.HttpGenerator.generateRequest(HttpGenerator.java:250)\n    ... 28 common frames omitted\n</code></pre>\n<p>After restarting the service, this exception didn't happen anymore but I am afraid this might happen again. What could be the root cause for this exception? How can this be reproduced and resolved?</p>\n"},{"tags":["java","ssh","sshj"],"owner":{"account_id":16017591,"reputation":43,"user_id":11559860,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692042544,"creation_date":1692042544,"question_id":76901790,"body_markdown":"I&#39;m seeing a situation where an SshClient (fromthe SSHJ library) is connected and then left idle long enough that the SSH connection times out (&quot;timed out waiting for input: auto-logout&quot;. I want to gracefully trigger some behavior when this timeout happens, but cannot find any way to programmatically detect it. I would have assumed the Transport&#39;s disconnectListener would handle this, but none of the code I put in there is executed by the timeout. Is there some listener or hook somewhere that I can use to tell when my connection has timed out?","title":"How to detect SSH timeout with SSHJ SshClient","body":"<p>I'm seeing a situation where an SshClient (fromthe SSHJ library) is connected and then left idle long enough that the SSH connection times out (&quot;timed out waiting for input: auto-logout&quot;. I want to gracefully trigger some behavior when this timeout happens, but cannot find any way to programmatically detect it. I would have assumed the Transport's disconnectListener would handle this, but none of the code I put in there is executed by the timeout. Is there some listener or hook somewhere that I can use to tell when my connection has timed out?</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":0,"creation_date":1692130330,"post_id":76901785,"comment_id":135581886,"body_markdown":"I ended up using `CONCAT` and `GROUP_CONCAT` to aggregate the JSON blobs instead, since `JSON_ARRAYAGG` doesn&#39;t support `DISTINCT`. So this is not important to me any more, other than to just know how I could have done it.","body":"I ended up using <code>CONCAT</code> and <code>GROUP_CONCAT</code> to aggregate the JSON blobs instead, since <code>JSON_ARRAYAGG</code> doesn&#39;t support <code>DISTINCT</code>. So this is not important to me any more, other than to just know how I could have done it."}],"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692042490,"creation_date":1692042490,"question_id":76901785,"body_markdown":"I&#39;m trying to implement this SQL criteria:\r\n\r\n```sql\r\nMATCH(col1, col2, ..., colN) AGAINST ...\r\n```\r\n\r\nI have it working with a single column, configured as:\r\n\r\n```java\r\n// register the &quot;function&quot; in custom MySQL dialect\r\nregisterFunction(&quot;FULLTEXT_MATCH_BOOLEAN&quot;, new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;MATCH(?1) AGAINST(?2 IN BOOLEAN MODE)&quot;));\r\n\r\n\r\n// implement the function\r\npublic Predicate fulltextMatch(Expression&lt;String&gt; searchText, Path&lt;String&gt; path)\r\n{\r\n    final var allArgs = new Expression&lt;?&gt;[]{\r\n        path\r\n        searchText,\r\n    };\r\n\r\n    return criteriaBuilder.greaterThan(criteriaBuilder.function(&quot;FULLTEXT_MATCH_BOOLEAN&quot;, Double.class, allArgs), 0D);\r\n}\r\n```\r\n\r\nHowever, as you can see, the call to `fulltextMatch` only supports a single column. I need to support 1-many columns but am not sure how to create a compound/multiple path. The goal is to be able to call this method as:\r\n\r\n```java\r\nkeywordPredicates.add(h.fulltextMatch(keyword, colZ));       // single col\r\nkeywordPredicates.add(h.fulltextMatch(keyword, col1, col2)); // multiple cols\r\n```\r\n\r\nHere&#39;s the updated method with the missing piece:\r\n\r\n```java\r\npublic Predicate fulltextMatch(Expression&lt;String&gt; searchText, Path&lt;String&gt; ...paths)\r\n{\r\n    final var allArgs = new Expression&lt;?&gt;[]{\r\n        // TODO: get compound &quot;list&quot; of paths as single expression\r\n        searchText,\r\n    };\r\n\r\n    return criteriaBuilder.greaterThan(criteriaBuilder.function(&quot;FULLTEXT_MATCH_BOOLEAN&quot;, Double.class, allArgs), 0D);\r\n```\r\n\r\nI&#39;d like to avoid having to register multiple functions, e.g. (bad):\r\n\r\n```java\r\nregisterFunction(&quot;FULLTEXT_MATCH_BOOLEAN_1&quot;, new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;MATCH(?1) AGAINST(?2 IN BOOLEAN MODE)&quot;));\r\nregisterFunction(&quot;FULLTEXT_MATCH_BOOLEAN_2&quot;, new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;MATCH(?1, ?2) AGAINST(?3 IN BOOLEAN MODE)&quot;));\r\n// and so on\r\n```","title":"Multi-column MATCH/AGAINST with Hibernate (MySQL)","body":"<p>I'm trying to implement this SQL criteria:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>MATCH(col1, col2, ..., colN) AGAINST ...\n</code></pre>\n<p>I have it working with a single column, configured as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// register the &quot;function&quot; in custom MySQL dialect\nregisterFunction(&quot;FULLTEXT_MATCH_BOOLEAN&quot;, new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;MATCH(?1) AGAINST(?2 IN BOOLEAN MODE)&quot;));\n\n\n// implement the function\npublic Predicate fulltextMatch(Expression&lt;String&gt; searchText, Path&lt;String&gt; path)\n{\n    final var allArgs = new Expression&lt;?&gt;[]{\n        path\n        searchText,\n    };\n\n    return criteriaBuilder.greaterThan(criteriaBuilder.function(&quot;FULLTEXT_MATCH_BOOLEAN&quot;, Double.class, allArgs), 0D);\n}\n</code></pre>\n<p>However, as you can see, the call to <code>fulltextMatch</code> only supports a single column. I need to support 1-many columns but am not sure how to create a compound/multiple path. The goal is to be able to call this method as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>keywordPredicates.add(h.fulltextMatch(keyword, colZ));       // single col\nkeywordPredicates.add(h.fulltextMatch(keyword, col1, col2)); // multiple cols\n</code></pre>\n<p>Here's the updated method with the missing piece:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Predicate fulltextMatch(Expression&lt;String&gt; searchText, Path&lt;String&gt; ...paths)\n{\n    final var allArgs = new Expression&lt;?&gt;[]{\n        // TODO: get compound &quot;list&quot; of paths as single expression\n        searchText,\n    };\n\n    return criteriaBuilder.greaterThan(criteriaBuilder.function(&quot;FULLTEXT_MATCH_BOOLEAN&quot;, Double.class, allArgs), 0D);\n</code></pre>\n<p>I'd like to avoid having to register multiple functions, e.g. (bad):</p>\n<pre class=\"lang-java prettyprint-override\"><code>registerFunction(&quot;FULLTEXT_MATCH_BOOLEAN_1&quot;, new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;MATCH(?1) AGAINST(?2 IN BOOLEAN MODE)&quot;));\nregisterFunction(&quot;FULLTEXT_MATCH_BOOLEAN_2&quot;, new SQLFunctionTemplate(StandardBasicTypes.BOOLEAN, &quot;MATCH(?1, ?2) AGAINST(?3 IN BOOLEAN MODE)&quot;));\n// and so on\n</code></pre>\n"},{"tags":["java","maven","jersey","dropwizard","jakarta-migration"],"owner":{"account_id":22034853,"reputation":31,"user_id":16301533,"display_name":"Joseph Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692042102,"creation_date":1691794821,"question_id":76887068,"body_markdown":"As I understand it, Jakarta replaced the Javax namespace a bit ago, and Jersey did the necessary work to support this change as of v3.0. I&#39;ve got a legacy project that I&#39;ve been trying to drag from Dropwizard 2.0.25 to 4.0.1 with some great deal of pain. It&#39;s a maven project running on Java 13. Right now I&#39;m able to run `mvn clean install` just fine, but when running the application, this stack trace appears\r\n\r\n    java.lang.NoClassDefFoundError: javax/ws/rs/core/HttpHeaders\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\r\n\tat org.glassfish.jersey.server.model.IntrospectionModeller$2.run(IntrospectionModeller.java:237)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\r\n\tat org.glassfish.jersey.server.model.IntrospectionModeller.getAllDeclaredMethods(IntrospectionModeller.java:231)\r\n\tat org.glassfish.jersey.server.model.IntrospectionModeller.checkForNonPublicMethodIssues(IntrospectionModeller.java:151)\r\n\tat org.glassfish.jersey.server.model.IntrospectionModeller.doCreateResourceBuilder(IntrospectionModeller.java:98)\r\n\tat org.glassfish.jersey.server.model.IntrospectionModeller.access$000(IntrospectionModeller.java:59)\r\n\tat org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:91)\r\n\tat org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:88)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\r\n\tat org.glassfish.jersey.server.model.IntrospectionModeller.createResourceBuilder(IntrospectionModeller.java:88)\r\n\tat org.glassfish.jersey.server.model.Resource.from(Resource.java:781)\r\n\tat org.glassfish.jersey.server.ResourceBagConfigurator.init(ResourceBagConfigurator.java:55)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:335)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$1(ApplicationHandler.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:296)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:261)\r\n\tat org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:339)\r\n\tat jakarta.servlet.GenericServlet.init(GenericServlet.java:178)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:725)\r\n\tat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:749)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:902)\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat io.dropwizard.metrics.jetty11.InstrumentedHandler.doStart(InstrumentedHandler.java:157)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.handler.gzip.GzipHandler.doStart(GzipHandler.java:221)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.handler.StatisticsHandler.doStart(StatisticsHandler.java:253)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:470)\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:415)\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\tat io.dropwizard.core.cli.ServerCommand.run(ServerCommand.java:52)\r\n\tat io.dropwizard.core.cli.EnvironmentCommand.run(EnvironmentCommand.java:67)\r\n\tat io.dropwizard.core.cli.ConfiguredCommand.run(ConfiguredCommand.java:98)\r\n\tat io.dropwizard.core.cli.Cli.run(Cli.java:78)\r\n\tat io.dropwizard.core.Application.run(Application.java:94)\r\n\tat com.myservice.thisservice.MyServiceApplicaiton.main(MyServiceApplication.java:39)\r\n    Caused by: java.lang.ClassNotFoundException: javax.ws.rs.core.HttpHeaders\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\r\n\tat       java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 77 more\r\n\r\n\r\nI&#39;ve removed all references to javax in my imports and pom.xml. There is one transient dependency on javax.inject coming from Google Dagger that I hope isn&#39;t causing the issue, but I doubt it. I&#39;m explicitly excluding javax dependencies like so in my application pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n      &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dagger&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.myservice.myservice&lt;/groupId&gt;\r\n      &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; &lt;!-- this is a custom dependency for my company --&gt;\r\n      &lt;groupId&gt;com.mycompany.auth&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dropwizard-auth-bundle&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.lz4&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lz4-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.vdurmont&lt;/groupId&gt;\r\n      &lt;artifactId&gt;semver4j&lt;/artifactId&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dropwizard-json-logging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.datadoghq&lt;/groupId&gt;\r\n      &lt;artifactId&gt;java-dogstatsd-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.coursera&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dropwizard-metrics-datadog&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.coursera&lt;/groupId&gt;\r\n      &lt;artifactId&gt;metrics-datadog&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n      &lt;artifactId&gt;dynamodb-enhanced&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.mycompany.tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tools-events-java-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nAnd like so in my parent pom.xml\r\n\r\n    &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.32&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dagger&lt;/artifactId&gt;\r\n        &lt;version&gt;${dagger.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;${guava.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.vdurmont&lt;/groupId&gt;\r\n        &lt;artifactId&gt;semver4j&lt;/artifactId&gt;\r\n        &lt;version&gt;${semver4j.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.lz4&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lz4-java&lt;/artifactId&gt;\r\n        &lt;version&gt;${xx-hash.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.glassfish.hk2.external&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.inject&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mycompany.auth&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dropwizard-auth-bundle&lt;/artifactId&gt;\r\n        &lt;version&gt;${dropwizard-auth-bundle.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;${junit.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n        &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dropwizard-json-logging&lt;/artifactId&gt;\r\n        &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.datadoghq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java-dogstatsd-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${dogstatsd.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.coursera&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dropwizard-metrics-datadog&lt;/artifactId&gt;\r\n        &lt;version&gt;${datadog.metrics.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.coursera&lt;/groupId&gt;\r\n        &lt;artifactId&gt;metrics-datadog&lt;/artifactId&gt;\r\n        &lt;version&gt;${datadog.metrics.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dynamodb-enhanced&lt;/artifactId&gt;\r\n        &lt;version&gt;${awssdk.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n        &lt;version&gt;${awssdk.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;${httpcomponents.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n        &lt;version&gt;${jedis.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mycompany.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tools-events-java-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${tools-events-java-client.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\nWhat am I doing wrong?\r\n\r\nI&#39;ve included my parent and applicaiton pom.xml files, the stack trace and the context above.\r\n","title":"Can&#39;t find Javax class in latest Jersey/Dropwizard version in Maven project","body":"<p>As I understand it, Jakarta replaced the Javax namespace a bit ago, and Jersey did the necessary work to support this change as of v3.0. I've got a legacy project that I've been trying to drag from Dropwizard 2.0.25 to 4.0.1 with some great deal of pain. It's a maven project running on Java 13. Right now I'm able to run <code>mvn clean install</code> just fine, but when running the application, this stack trace appears</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/ws/rs/core/HttpHeaders\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\nat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\nat org.glassfish.jersey.server.model.IntrospectionModeller$2.run(IntrospectionModeller.java:237)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:312)\nat org.glassfish.jersey.server.model.IntrospectionModeller.getAllDeclaredMethods(IntrospectionModeller.java:231)\nat org.glassfish.jersey.server.model.IntrospectionModeller.checkForNonPublicMethodIssues(IntrospectionModeller.java:151)\nat org.glassfish.jersey.server.model.IntrospectionModeller.doCreateResourceBuilder(IntrospectionModeller.java:98)\nat org.glassfish.jersey.server.model.IntrospectionModeller.access$000(IntrospectionModeller.java:59)\nat org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:91)\nat org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:88)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\nat org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\nat org.glassfish.jersey.server.model.IntrospectionModeller.createResourceBuilder(IntrospectionModeller.java:88)\nat org.glassfish.jersey.server.model.Resource.from(Resource.java:781)\nat org.glassfish.jersey.server.ResourceBagConfigurator.init(ResourceBagConfigurator.java:55)\nat org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:335)\nat org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$1(ApplicationHandler.java:297)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\nat org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\nat org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:296)\nat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:261)\nat org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\nat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\nat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:339)\nat jakarta.servlet.GenericServlet.init(GenericServlet.java:178)\nat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\nat org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\nat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:725)\nat java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\nat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:749)\nat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\nat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:902)\nat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\nat io.dropwizard.metrics.jetty11.InstrumentedHandler.doStart(InstrumentedHandler.java:157)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:121)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\nat org.eclipse.jetty.server.handler.gzip.GzipHandler.doStart(GzipHandler.java:221)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\nat org.eclipse.jetty.server.handler.StatisticsHandler.doStart(StatisticsHandler.java:253)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\nat org.eclipse.jetty.server.Server.start(Server.java:470)\nat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\nat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\nat org.eclipse.jetty.server.Server.doStart(Server.java:415)\nat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\nat io.dropwizard.core.cli.ServerCommand.run(ServerCommand.java:52)\nat io.dropwizard.core.cli.EnvironmentCommand.run(EnvironmentCommand.java:67)\nat io.dropwizard.core.cli.ConfiguredCommand.run(ConfiguredCommand.java:98)\nat io.dropwizard.core.cli.Cli.run(Cli.java:78)\nat io.dropwizard.core.Application.run(Application.java:94)\nat com.myservice.thisservice.MyServiceApplicaiton.main(MyServiceApplication.java:39)\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.core.HttpHeaders\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:602)\nat       java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 77 more\n</code></pre>\n<p>I've removed all references to javax in my imports and pom.xml. There is one transient dependency on javax.inject coming from Google Dagger that I hope isn't causing the issue, but I doubt it. I'm explicitly excluding javax dependencies like so in my application pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n  &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\n  &lt;artifactId&gt;dagger&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.myservice.myservice&lt;/groupId&gt;\n  &lt;artifactId&gt;api&lt;/artifactId&gt;\n  &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n  &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt; &lt;!-- this is a custom dependency for my company --&gt;\n  &lt;groupId&gt;com.mycompany.auth&lt;/groupId&gt;\n  &lt;artifactId&gt;dropwizard-auth-bundle&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.lz4&lt;/groupId&gt;\n  &lt;artifactId&gt;lz4-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.vdurmont&lt;/groupId&gt;\n  &lt;artifactId&gt;semver4j&lt;/artifactId&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n  &lt;artifactId&gt;dropwizard-json-logging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.datadoghq&lt;/groupId&gt;\n  &lt;artifactId&gt;java-dogstatsd-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.coursera&lt;/groupId&gt;\n  &lt;artifactId&gt;dropwizard-metrics-datadog&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.coursera&lt;/groupId&gt;\n  &lt;artifactId&gt;metrics-datadog&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n  &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n  &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n  &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n  &lt;artifactId&gt;dynamodb-enhanced&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n  &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.mycompany.tools&lt;/groupId&gt;\n  &lt;artifactId&gt;tools-events-java-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And like so in my parent pom.xml</p>\n<pre><code>&lt;dependencyManagement&gt;\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;version&gt;2.3.32&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\n    &lt;artifactId&gt;dagger&lt;/artifactId&gt;\n    &lt;version&gt;${dagger.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;${guava.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.vdurmont&lt;/groupId&gt;\n    &lt;artifactId&gt;semver4j&lt;/artifactId&gt;\n    &lt;version&gt;${semver4j.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.lz4&lt;/groupId&gt;\n    &lt;artifactId&gt;lz4-java&lt;/artifactId&gt;\n    &lt;version&gt;${xx-hash.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n    &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n    &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;org.glassfish.hk2.external&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.inject&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.mycompany.auth&lt;/groupId&gt;\n    &lt;artifactId&gt;dropwizard-auth-bundle&lt;/artifactId&gt;\n    &lt;version&gt;${dropwizard-auth-bundle.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;${junit.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;${junit.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;${mockito.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;${lombok.version}&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-core&lt;/artifactId&gt;\n    &lt;version&gt;${swagger.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n    &lt;version&gt;${swagger.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n    &lt;artifactId&gt;dropwizard-json-logging&lt;/artifactId&gt;\n    &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.datadoghq&lt;/groupId&gt;\n    &lt;artifactId&gt;java-dogstatsd-client&lt;/artifactId&gt;\n    &lt;version&gt;${dogstatsd.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.coursera&lt;/groupId&gt;\n    &lt;artifactId&gt;dropwizard-metrics-datadog&lt;/artifactId&gt;\n    &lt;version&gt;${datadog.metrics.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.coursera&lt;/groupId&gt;\n    &lt;artifactId&gt;metrics-datadog&lt;/artifactId&gt;\n    &lt;version&gt;${datadog.metrics.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n      &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n    &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n    &lt;version&gt;${aws-java-sdk.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;dynamodb-enhanced&lt;/artifactId&gt;\n    &lt;version&gt;${awssdk.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n    &lt;version&gt;${awssdk.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;${httpcomponents.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n    &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;version&gt;${jedis.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.mycompany.tools&lt;/groupId&gt;\n    &lt;artifactId&gt;tools-events-java-client&lt;/artifactId&gt;\n    &lt;version&gt;${tools-events-java-client.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n  \n<p>What am I doing wrong?</p>\n<p>I've included my parent and applicaiton pom.xml files, the stack trace and the context above.</p>\n"},{"tags":["java","data-structures","immutability"],"comments":[{"owner":{"account_id":24554,"reputation":13200,"user_id":62544,"accept_rate":79,"display_name":"uriDium"},"score":2,"creation_date":1239284695,"post_id":734110,"comment_id":545651,"body_markdown":"Not sure if the functional-programming tag here is appropriate. I take functional programming to mean languages like Haskell and Lisp. :)","body":"Not sure if the functional-programming tag here is appropriate. I take functional programming to mean languages like Haskell and Lisp. :)"},{"owner":{"display_name":"user41871"},"score":12,"creation_date":1239289406,"post_id":734110,"comment_id":545983,"body_markdown":"I think functional because persistent data structures are common to functional programming languages. I&#39;m guessing he wants to be able to do something in Java that he&#39;s easily able to do in some functional language.\n\nWhy community wiki? This seems like a solid programming question to me.","body":"I think functional because persistent data structures are common to functional programming languages. I&#39;m guessing he wants to be able to do something in Java that he&#39;s easily able to do in some functional language.  Why community wiki? This seems like a solid programming question to me."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1239289148,"creation_date":1239283302,"answer_id":734198,"question_id":734110,"body_markdown":"I guess the obvious choices are:\r\n\r\n o Switch to a transient data structure (builder) for the update. This is quite normal. `StringBuilder` for `String` manipulation for example. As your example.\r\n\r\n    Person p3 =\r\n        Builder.update(p)\r\n        .withAddress(\r\n            Builder.update(p.address())\r\n           .withCity(&quot;Berlin&quot;)\r\n           .build()\r\n        )\r\n        .build();\r\n\r\n o Always use persistent structures. Although there appears to be lots of copying, you should actually be sharing almost all state, so it is nowhere near as bad as it looks.\r\n\r\n    final Person p3 = p\r\n        .withAddress(\r\n            p.address().withCity(&quot;Berlin&quot;)\r\n        );\r\n\r\n o Explode the data structure into lots of variables and recombine with one huge and confusing constructor.\r\n\r\n    final Person p3 = Person.of(\r\n        p.name(),\r\n        Address.of(\r\n           p.house(), p.street(), &quot;Berlin&quot;, p.country()\r\n        ),\r\n        p.x(),\r\n        p.y(),\r\n        p.z()\r\n     );\r\n\r\n\r\n o Use call back interfaces to provide the new data. Even more boilerplate.\r\n\r\n    final Person p3 = Person.of(new PersonInfo(\r\n        public String  name   () { return p.name(); )\r\n        public Address address() { return Address.of(new AddressInfo() {\r\n           private final Address a = p.address();\r\n           public String house  () { return a.house()  ; }\r\n           public String street () { return a.street() ; }\r\n           public String city   () { return &quot;Berlin&quot;   ; }\r\n           public String country() { return a.country(); }\r\n        })),\r\n        public Xxx     x() { return p.x(); }\r\n        public Yyy     y() { return p.y(); }\r\n        public Zzz     z() { return p.z(); }\r\n     });\r\n\r\n o Use nasty hacks to make fields transiently available to code.\r\n\r\n    final Person p3 = new PersonExploder(p) {{\r\n        a = new AddressExploder(a) {{\r\n            city = &quot;Berlin&quot;;\r\n        }}.get();\r\n    }}.get();\r\n\r\n(Funnily enough I was just put down a copy of Purely Functional Data Structures by Chris Okasaki.)\r\n\r\n","title":"Persistent data structures in Java","body":"<p>I guess the obvious choices are:</p>\n\n<p>o Switch to a transient data structure (builder) for the update. This is quite normal. <code>StringBuilder</code> for <code>String</code> manipulation for example. As your example.</p>\n\n<pre><code>Person p3 =\n    Builder.update(p)\n    .withAddress(\n        Builder.update(p.address())\n       .withCity(\"Berlin\")\n       .build()\n    )\n    .build();\n</code></pre>\n\n<p>o Always use persistent structures. Although there appears to be lots of copying, you should actually be sharing almost all state, so it is nowhere near as bad as it looks.</p>\n\n<pre><code>final Person p3 = p\n    .withAddress(\n        p.address().withCity(\"Berlin\")\n    );\n</code></pre>\n\n<p>o Explode the data structure into lots of variables and recombine with one huge and confusing constructor.</p>\n\n<pre><code>final Person p3 = Person.of(\n    p.name(),\n    Address.of(\n       p.house(), p.street(), \"Berlin\", p.country()\n    ),\n    p.x(),\n    p.y(),\n    p.z()\n );\n</code></pre>\n\n<p>o Use call back interfaces to provide the new data. Even more boilerplate.</p>\n\n<pre><code>final Person p3 = Person.of(new PersonInfo(\n    public String  name   () { return p.name(); )\n    public Address address() { return Address.of(new AddressInfo() {\n       private final Address a = p.address();\n       public String house  () { return a.house()  ; }\n       public String street () { return a.street() ; }\n       public String city   () { return \"Berlin\"   ; }\n       public String country() { return a.country(); }\n    })),\n    public Xxx     x() { return p.x(); }\n    public Yyy     y() { return p.y(); }\n    public Zzz     z() { return p.z(); }\n });\n</code></pre>\n\n<p>o Use nasty hacks to make fields transiently available to code.</p>\n\n<pre><code>final Person p3 = new PersonExploder(p) {{\n    a = new AddressExploder(a) {{\n        city = \"Berlin\";\n    }}.get();\n}}.get();\n</code></pre>\n\n<p>(Funnily enough I was just put down a copy of Purely Functional Data Structures by Chris Okasaki.)</p>\n"},{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239284528,"creation_date":1239284528,"answer_id":734294,"question_id":734110,"body_markdown":"It is very difficult, if not impossible, to make things immutable that ain&#39;t designed so.\r\n\r\nIf you can design from ground up:\r\n\r\n- use only final fields\r\n- do not reference non immutable objects\r\n","title":"Persistent data structures in Java","body":"<p>It is very difficult, if not impossible, to make things immutable that ain't designed so.</p>\n\n<p>If you can design from ground up:</p>\n\n<ul>\n<li>use only final fields</li>\n<li>do not reference non immutable objects</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17898,"reputation":80772,"user_id":40516,"accept_rate":89,"display_name":"Juliet"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1239288993,"creation_date":1239286889,"answer_id":734462,"question_id":734110,"body_markdown":"Builders will make your code too verbose to be usable. In practice, almost all immutable data structures I&#39;ve seen pass in state through the constructor. For what its worth, here are a nice series of posts describing immutable data structures in C# (which should convert readily into Java):\r\n\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2007/11/13/immutability-in-c-part-one-kinds-of-immutability.aspx&quot;&gt;Part 1: Kinds of Immutability&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2007/12/04/immutability-in-c-part-two-a-simple-immutable-stack.aspx&quot;&gt;Part 2: Simple Immutable Stack&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2007/12/06/immutability-in-c-part-three-a-covariant-immutable-stack.aspx&quot;&gt;Part 3: Covariant Immutable Stack&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2007/12/10/immutability-in-c-part-four-an-immutable-queue.aspx&quot;&gt;Part 4: Immutable Queue&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2007/12/13/immutability-in-c-part-five-lolz.aspx&quot;&gt;Part 5: Lolz!&lt;/a&gt; (included for completeness)\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2007/12/18/immutability-in-c-part-six-a-simple-binary-tree.aspx&quot;&gt;Part 6: Simple Binary Tree&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2007/12/19/immutability-in-c-part-seven-more-on-binary-trees.aspx&quot;&gt;Part 7: More on Binary Trees&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2008/01/18/immutability-in-c-part-eight-even-more-on-binary-trees.aspx&quot;&gt;Part 8: Even More on Binary Trees&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2008/01/21/immutability-in-c-part-nine-academic-plus-my-avl-tree-implementation.aspx&quot;&gt;Part 9: AVL Tree Implementation&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2008/01/22/immutability-in-c-part-10-a-double-ended-queue.aspx&quot;&gt;Part 10: Double-ended Queue&lt;/a&gt;\r\n  - &lt;a href=&quot;http://blogs.msdn.com/ericlippert/archive/2008/02/12/immutability-in-c-part-eleven-a-working-double-ended-queue.aspx&quot;&gt;Part 11: Working Double-ended Queue Implementation&lt;/a&gt;\r\n\r\nC# and Java are extremely verbose, so the code in these articles is quite scary. I recommend learning OCaml, F#, or Scala and familiarizing yourself with immutability with those languages. Once you master the technique, you&#39;ll be able to apply the same coding style to Java much more easily.","title":"Persistent data structures in Java","body":"<p>Builders will make your code too verbose to be usable. In practice, almost all immutable data structures I've seen pass in state through the constructor. For what its worth, here are a nice series of posts describing immutable data structures in C# (which should convert readily into Java):</p>\n\n<ul>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2007/11/13/immutability-in-c-part-one-kinds-of-immutability.aspx\" rel=\"noreferrer\">Part 1: Kinds of Immutability</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2007/12/04/immutability-in-c-part-two-a-simple-immutable-stack.aspx\" rel=\"noreferrer\">Part 2: Simple Immutable Stack</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2007/12/06/immutability-in-c-part-three-a-covariant-immutable-stack.aspx\" rel=\"noreferrer\">Part 3: Covariant Immutable Stack</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2007/12/10/immutability-in-c-part-four-an-immutable-queue.aspx\" rel=\"noreferrer\">Part 4: Immutable Queue</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2007/12/13/immutability-in-c-part-five-lolz.aspx\" rel=\"noreferrer\">Part 5: Lolz!</a> (included for completeness)</li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2007/12/18/immutability-in-c-part-six-a-simple-binary-tree.aspx\" rel=\"noreferrer\">Part 6: Simple Binary Tree</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2007/12/19/immutability-in-c-part-seven-more-on-binary-trees.aspx\" rel=\"noreferrer\">Part 7: More on Binary Trees</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2008/01/18/immutability-in-c-part-eight-even-more-on-binary-trees.aspx\" rel=\"noreferrer\">Part 8: Even More on Binary Trees</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2008/01/21/immutability-in-c-part-nine-academic-plus-my-avl-tree-implementation.aspx\" rel=\"noreferrer\">Part 9: AVL Tree Implementation</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2008/01/22/immutability-in-c-part-10-a-double-ended-queue.aspx\" rel=\"noreferrer\">Part 10: Double-ended Queue</a></li>\n<li><a href=\"http://blogs.msdn.com/ericlippert/archive/2008/02/12/immutability-in-c-part-eleven-a-working-double-ended-queue.aspx\" rel=\"noreferrer\">Part 11: Working Double-ended Queue Implementation</a></li>\n</ul>\n\n<p>C# and Java are extremely verbose, so the code in these articles is quite scary. I recommend learning OCaml, F#, or Scala and familiarizing yourself with immutability with those languages. Once you master the technique, you'll be able to apply the same coding style to Java much more easily.</p>\n"},{"tags":[],"owner":{"account_id":10628,"reputation":5791,"user_id":20161,"accept_rate":50,"display_name":"Pat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1239295314,"creation_date":1239295314,"answer_id":735004,"question_id":734110,"body_markdown":"Do you want immutability :\r\n\r\n 1. so external code cannot change the data?\r\n 2. so once set a value cannot be changed?\r\n\r\nIn both cases there are easier ways to accomplish the desired result.\r\n\r\nStopping external code from changing the data is easy with interfaces:\r\n\r\n    public interface Person {\r\n       String getName();\r\n       Address getAddress();\r\n    }\r\n    public interface PersonImplementor extends Person {\r\n       void setName(String name);\r\n       void setAddress(Address address);\r\n    }\r\n    \r\n    public interface Address {\r\n        String getCity();\r\n    }\r\n    \r\n    \r\n    public interface AddressImplementor {\r\n        void setCity(String city);\r\n    }\r\n\r\nThen to stop changes to a value once set is also &quot;easy&quot; using java.util.concurrent.atomic.AtomicReference (although hibernate or some other persistence layer usage may need to be modified):\r\n\r\n    class PersonImpl implements PersonImplementor {\r\n        private AtomicReference&lt;String&gt; name;\r\n        private AtomicReference&lt;Address&gt; address;\r\n    \r\n        public void setName(String name) {\r\n            if ( !this.name.compareAndSet(name, name) \r\n               &amp;&amp; !this.name.compareAndSet(null, name)) {\r\n                throw new IllegalStateException(&quot;name already set to &quot;+this.name.get()+&quot; cannot set to &quot;+name);\r\n            }\r\n        }\r\n        // .. similar code follows....\r\n    }\r\n\r\nBut why do you need anything more than just interfaces to accomplish the task?","title":"Persistent data structures in Java","body":"<p>Do you want immutability :</p>\n\n<ol>\n<li>so external code cannot change the data?</li>\n<li>so once set a value cannot be changed?</li>\n</ol>\n\n<p>In both cases there are easier ways to accomplish the desired result.</p>\n\n<p>Stopping external code from changing the data is easy with interfaces:</p>\n\n<pre><code>public interface Person {\n   String getName();\n   Address getAddress();\n}\npublic interface PersonImplementor extends Person {\n   void setName(String name);\n   void setAddress(Address address);\n}\n\npublic interface Address {\n    String getCity();\n}\n\n\npublic interface AddressImplementor {\n    void setCity(String city);\n}\n</code></pre>\n\n<p>Then to stop changes to a value once set is also \"easy\" using java.util.concurrent.atomic.AtomicReference (although hibernate or some other persistence layer usage may need to be modified):</p>\n\n<pre><code>class PersonImpl implements PersonImplementor {\n    private AtomicReference&lt;String&gt; name;\n    private AtomicReference&lt;Address&gt; address;\n\n    public void setName(String name) {\n        if ( !this.name.compareAndSet(name, name) \n           &amp;&amp; !this.name.compareAndSet(null, name)) {\n            throw new IllegalStateException(\"name already set to \"+this.name.get()+\" cannot set to \"+name);\n        }\n    }\n    // .. similar code follows....\n}\n</code></pre>\n\n<p>But why do you need anything more than just interfaces to accomplish the task?</p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1239300913,"creation_date":1239300913,"answer_id":735330,"question_id":734110,"body_markdown":"Have a look at [Functional Java][1]. Currently provided persistent datastructures include:\r\n\r\n - Singly-linked list (fj.data.List)\r\n - Lazy singly-linked list (fj.data.Stream)\r\n - Nonempty list (fj.data.NonEmptyList)\r\n - Optional value (a container of length 0 or 1) (fj.data.Option)\r\n - Set (fj.data.Set)\r\n - Multi-way tree (a.k.a. rose tree) (fj.data.Tree)\r\n - Immutable map (fj.data.TreeMap)\r\n - Products (tuples) of arity 1-8 (fj.P1..P8)\r\n - Vectors of arity 2-8 (fj.data.vector.V2..V8)\r\n - Pointed list (fj.data.Zipper)\r\n - Pointed tree (fj.data.TreeZipper)\r\n - Type-safe, generic heterogeneous list (fj.data.hlist.HList)\r\n - Immutable arrays (fj.data.Array)\r\n - Disjoint union datatype (fj.data.Either)\r\n\r\nA number of usage examples are provided with the binary distribution. The source is available under a BSD license from [Google Code][2].\r\n\r\n\r\n  [1]: http://functionaljava.org\r\n  [2]: http://code.google.com/p/functionaljava","title":"Persistent data structures in Java","body":"<p>Have a look at <a href=\"http://functionaljava.org\" rel=\"noreferrer\">Functional Java</a>. Currently provided persistent datastructures include:</p>\n\n<ul>\n<li>Singly-linked list (fj.data.List)</li>\n<li>Lazy singly-linked list (fj.data.Stream)</li>\n<li>Nonempty list (fj.data.NonEmptyList)</li>\n<li>Optional value (a container of length 0 or 1) (fj.data.Option)</li>\n<li>Set (fj.data.Set)</li>\n<li>Multi-way tree (a.k.a. rose tree) (fj.data.Tree)</li>\n<li>Immutable map (fj.data.TreeMap)</li>\n<li>Products (tuples) of arity 1-8 (fj.P1..P8)</li>\n<li>Vectors of arity 2-8 (fj.data.vector.V2..V8)</li>\n<li>Pointed list (fj.data.Zipper)</li>\n<li>Pointed tree (fj.data.TreeZipper)</li>\n<li>Type-safe, generic heterogeneous list (fj.data.hlist.HList)</li>\n<li>Immutable arrays (fj.data.Array)</li>\n<li>Disjoint union datatype (fj.data.Either)</li>\n</ul>\n\n<p>A number of usage examples are provided with the binary distribution. The source is available under a BSD license from <a href=\"http://code.google.com/p/functionaljava\" rel=\"noreferrer\">Google Code</a>.</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1239362650,"creation_date":1239362650,"answer_id":737357,"question_id":734110,"body_markdown":"Follow a very simple tentative with dynamic proxy:    \r\n\r\n    class ImmutableBuilder {\r\n\r\n        static &lt;T&gt; T of(Immutable immutable) {\r\n            Class&lt;?&gt; targetClass = immutable.getTargetClass();\r\n            return (T) Proxy.newProxyInstance(targetClass.getClassLoader(),\r\n                new Class&lt;?&gt;[]{targetClass},\r\n                immutable);\r\n        }\r\n\r\n        public static &lt;T&gt; T of(Class&lt;T&gt; aClass) {\r\n            return of(new Immutable(aClass, new HashMap&lt;String, Object&gt;()));\r\n        }\r\n    }\r\n\r\n    class Immutable implements InvocationHandler {\r\n\r\n        private final Class&lt;?&gt; targetClass;\r\n        private final Map&lt;String, Object&gt; fields;\r\n\r\n        public Immutable(Class&lt;?&gt; aTargetClass, Map&lt;String, Object&gt; immutableFields) {\r\n            targetClass = aTargetClass;\r\n            fields = immutableFields;\r\n        }\r\n\r\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n            if (method.getName().equals(&quot;toString&quot;)) { \r\n                // XXX: toString() result can be cached\r\n                return fields.toString();\r\n            }\r\n\r\n            if (method.getName().equals(&quot;hashCode&quot;)) { \r\n                // XXX: hashCode() result can be cached\r\n                return fields.hashCode();\r\n            }\r\n\r\n            // XXX: naming policy here\r\n            String fieldName = method.getName(); \r\n\r\n            if (method.getReturnType().equals(targetClass)) {\r\n              Map&lt;String, Object&gt; newFields = new HashMap&lt;String, Object&gt;(fields);\r\n              newFields.put(fieldName, args[0]);\r\n              return ImmutableBuilder.of(new Immutable(targetClass, newFields));\r\n            } else {\r\n                return fields.get(fieldName);\r\n            }\r\n        }\r\n\r\n        public Class&lt;?&gt; getTargetClass() {\r\n            return targetClass;\r\n        }\r\n    }\r\n\r\nusage:\r\n\r\n    interface Person {\r\n        String name();\r\n        Person name(String name);\r\n        int age();\r\n        Person age(int age);\r\n    }\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            Person mark = ImmutableBuilder.of(Person.class).name(&quot;mark&quot;).age(32);\r\n            Person john = mark.name(&quot;john&quot;).age(24);\r\n            System.out.println(mark);\r\n            System.out.println(john);\r\n        }\r\n    }\r\n\r\ngrow directions:\r\n\r\n - naming policy (getName, withName, name) \r\n - caching toString(), hashCode()\r\n - equals() implementations should be straightforward (although not implemented)\r\n \r\nhope it helps :)\r\n\r\n\r\n ","title":"Persistent data structures in Java","body":"<p>Follow a very simple tentative with dynamic proxy:    </p>\n\n<pre><code>class ImmutableBuilder {\n\n    static &lt;T&gt; T of(Immutable immutable) {\n        Class&lt;?&gt; targetClass = immutable.getTargetClass();\n        return (T) Proxy.newProxyInstance(targetClass.getClassLoader(),\n            new Class&lt;?&gt;[]{targetClass},\n            immutable);\n    }\n\n    public static &lt;T&gt; T of(Class&lt;T&gt; aClass) {\n        return of(new Immutable(aClass, new HashMap&lt;String, Object&gt;()));\n    }\n}\n\nclass Immutable implements InvocationHandler {\n\n    private final Class&lt;?&gt; targetClass;\n    private final Map&lt;String, Object&gt; fields;\n\n    public Immutable(Class&lt;?&gt; aTargetClass, Map&lt;String, Object&gt; immutableFields) {\n        targetClass = aTargetClass;\n        fields = immutableFields;\n    }\n\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        if (method.getName().equals(\"toString\")) { \n            // XXX: toString() result can be cached\n            return fields.toString();\n        }\n\n        if (method.getName().equals(\"hashCode\")) { \n            // XXX: hashCode() result can be cached\n            return fields.hashCode();\n        }\n\n        // XXX: naming policy here\n        String fieldName = method.getName(); \n\n        if (method.getReturnType().equals(targetClass)) {\n          Map&lt;String, Object&gt; newFields = new HashMap&lt;String, Object&gt;(fields);\n          newFields.put(fieldName, args[0]);\n          return ImmutableBuilder.of(new Immutable(targetClass, newFields));\n        } else {\n            return fields.get(fieldName);\n        }\n    }\n\n    public Class&lt;?&gt; getTargetClass() {\n        return targetClass;\n    }\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>interface Person {\n    String name();\n    Person name(String name);\n    int age();\n    Person age(int age);\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Person mark = ImmutableBuilder.of(Person.class).name(\"mark\").age(32);\n        Person john = mark.name(\"john\").age(24);\n        System.out.println(mark);\n        System.out.println(john);\n    }\n}\n</code></pre>\n\n<p>grow directions:</p>\n\n<ul>\n<li>naming policy (getName, withName, name) </li>\n<li>caching toString(), hashCode()</li>\n<li>equals() implementations should be straightforward (although not implemented)</li>\n</ul>\n\n<p>hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1258570595,"creation_date":1258570595,"answer_id":1758236,"question_id":734110,"body_markdown":"I implemented a few persistent data structures in Java. All open source (GPL) on Google code for anyone who is interested:\r\n\r\n[http://code.google.com/p/mikeralib/source/browse/#svn/trunk/Mikera/src/mikera/persistent][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/mikeralib/source/browse/#svn/trunk/Mikera/src/mikera/persistent\r\n\r\nThe main ones I have so far are:\r\n\r\n - Persistent mutable test object\r\n - Persistent hash maps\r\n - Persistent vectors/lists\r\n - Persistent sets (including a specialised persistent set of ints)","title":"Persistent data structures in Java","body":"<p>I implemented a few persistent data structures in Java. All open source (GPL) on Google code for anyone who is interested:</p>\n\n<p><a href=\"http://code.google.com/p/mikeralib/source/browse/#svn/trunk/Mikera/src/mikera/persistent\" rel=\"noreferrer\">http://code.google.com/p/mikeralib/source/browse/#svn/trunk/Mikera/src/mikera/persistent</a></p>\n\n<p>The main ones I have so far are:</p>\n\n<ul>\n<li>Persistent mutable test object</li>\n<li>Persistent hash maps</li>\n<li>Persistent vectors/lists</li>\n<li>Persistent sets (including a specialised persistent set of ints)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1702622,"reputation":13343,"user_id":1562315,"accept_rate":80,"display_name":"Thumbnail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458106820,"creation_date":1429008262,"answer_id":29625343,"question_id":734110,"body_markdown":"Google Guava now hosts a variety of [immutable/persistent data structures][1]. \r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ImmutableCollectionsExplained","title":"Persistent data structures in Java","body":"<p>Google Guava now hosts a variety of <a href=\"https://github.com/google/guava/wiki/ImmutableCollectionsExplained\" rel=\"nofollow\">immutable/persistent data structures</a>. </p>\n"},{"tags":[],"owner":{"account_id":117598,"reputation":553,"user_id":307901,"display_name":"Anders Eriksson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692041655,"creation_date":1692041655,"answer_id":76901709,"question_id":734110,"body_markdown":"See https://github.com/GlenKPeterson/Paguro for persistent data structures for Java. \r\n\r\nSome of the other answers suggested libraries for immutability, which is fine but not what asked for. Paguro is a library that provide true persistent data structure that allow mutation and still preserve the previous version of itself! ","title":"Persistent data structures in Java","body":"<p>See <a href=\"https://github.com/GlenKPeterson/Paguro\" rel=\"nofollow noreferrer\">https://github.com/GlenKPeterson/Paguro</a> for persistent data structures for Java.</p>\n<p>Some of the other answers suggested libraries for immutability, which is fine but not what asked for. Paguro is a library that provide true persistent data structure that allow mutation and still preserve the previous version of itself!</p>\n"}],"owner":{"account_id":5580,"reputation":3140,"user_id":9069,"display_name":"ordnungswidrig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19309,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":734198,"answer_count":9,"score":18,"last_activity_date":1692041655,"creation_date":1239282026,"question_id":734110,"body_markdown":"Does anyone know a library or some at least some research on creating and using persistent data structures in Java? I don&#39;t refer to persistence as long term storage but persistence in terms of immutability (see [Wikipedia entry][1]).\r\n\r\nI&#39;m currently exploring different ways to model an api for persistent structures. Using builders seems to be a interesting solution:\r\n\r\n    // create persistent instance\r\n    Person p = Builder.create(Person.class)\r\n                 .withName(&quot;Joe&quot;)\r\n                 .withAddress(Builder.create(Address.class)\r\n                     .withCity(&quot;paris&quot;)\r\n                     .build())\r\n                  .build();\r\n\r\n    // change persistent instance, i.e. create a new one \r\n    Person p2 = Builder.update(p).withName(&quot;Jack&quot;);\r\n\r\n    Person p3 = Builder.update(p)\r\n                  .withAddress(Builder.update(p.address())\r\n                    .withCity(&quot;Berlin&quot;)\r\n                    .build)\r\n                .build();\r\n\r\nBut this still feels somewhat boilerplated. Any ideas?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Persistent_data_structure","title":"Persistent data structures in Java","body":"<p>Does anyone know a library or some at least some research on creating and using persistent data structures in Java? I don't refer to persistence as long term storage but persistence in terms of immutability (see <a href=\"http://en.wikipedia.org/wiki/Persistent_data_structure\" rel=\"noreferrer\">Wikipedia entry</a>).</p>\n\n<p>I'm currently exploring different ways to model an api for persistent structures. Using builders seems to be a interesting solution:</p>\n\n<pre><code>// create persistent instance\nPerson p = Builder.create(Person.class)\n             .withName(\"Joe\")\n             .withAddress(Builder.create(Address.class)\n                 .withCity(\"paris\")\n                 .build())\n              .build();\n\n// change persistent instance, i.e. create a new one \nPerson p2 = Builder.update(p).withName(\"Jack\");\n\nPerson p3 = Builder.update(p)\n              .withAddress(Builder.update(p.address())\n                .withCity(\"Berlin\")\n                .build)\n            .build();\n</code></pre>\n\n<p>But this still feels somewhat boilerplated. Any ideas?</p>\n"},{"tags":["java","compiler-errors","textview","findviewbyid","android-viewbinding"],"owner":{"account_id":29221129,"reputation":1,"user_id":22386845,"display_name":"Julien Lamhene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692041634,"creation_date":1692002411,"question_id":76897462,"body_markdown":"I have this code in android studio, who put some TextView elements from a xml in a table, but for some of them, the reference is not detected, so i&#39;m obligated to use findViewById\r\n\r\n```\r\nprivate ActivitySurfaceBinding ui;\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ui = ActivitySurfaceBinding.inflate(getLayoutInflater());\r\n        setContentView(ui.getRoot());\r\n        TextView[] labels = new TextView[]{\r\n        ui.heightPave, ui.lengthPave, findViewById(R.id.widthPave), \r\n        ui.heightPaveUnit, ui.lengthPaveUnit,findViewById(R.id.widthPaveUnit),\r\n        ui.rayonCyl, ui.rayonCylUnit, findViewById(R.id.rayOrDiamCyl), \r\n        ui.heightCyl, ui.heightCylUnit, findViewById(R.id.heightCyl), \r\n        findViewById(R.id.heightCylUnit), findViewById(R.id.diametreCyl),\r\n        findViewById(R.id.diametreCylUnit)\r\n};\r\n```\r\n\r\nFor now, what i have tried to resolve it is :\r\n\r\n- Update Android studio\r\n- Clean / Rebuil the project\r\n- Sync the project\r\n- Check compilation error\r\n- Invalidate caches\r\n- Deactivate and reactivate viewbinding in gradle file\r\n\r\nBut none of them worked.\r\n","title":"Some elements in view binding cannot be resolved","body":"<p>I have this code in android studio, who put some TextView elements from a xml in a table, but for some of them, the reference is not detected, so i'm obligated to use findViewById</p>\n<pre><code>private ActivitySurfaceBinding ui;\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ui = ActivitySurfaceBinding.inflate(getLayoutInflater());\n        setContentView(ui.getRoot());\n        TextView[] labels = new TextView[]{\n        ui.heightPave, ui.lengthPave, findViewById(R.id.widthPave), \n        ui.heightPaveUnit, ui.lengthPaveUnit,findViewById(R.id.widthPaveUnit),\n        ui.rayonCyl, ui.rayonCylUnit, findViewById(R.id.rayOrDiamCyl), \n        ui.heightCyl, ui.heightCylUnit, findViewById(R.id.heightCyl), \n        findViewById(R.id.heightCylUnit), findViewById(R.id.diametreCyl),\n        findViewById(R.id.diametreCylUnit)\n};\n</code></pre>\n<p>For now, what i have tried to resolve it is :</p>\n<ul>\n<li>Update Android studio</li>\n<li>Clean / Rebuil the project</li>\n<li>Sync the project</li>\n<li>Check compilation error</li>\n<li>Invalidate caches</li>\n<li>Deactivate and reactivate viewbinding in gradle file</li>\n</ul>\n<p>But none of them worked.</p>\n"},{"tags":["java","macos"],"answers":[{"tags":[],"owner":{"account_id":15201,"reputation":10627,"user_id":31884,"accept_rate":89,"display_name":"Simon Groenewolt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1277390813,"creation_date":1277390813,"answer_id":3111065,"question_id":3111016,"body_markdown":"You probably set it in the `.bashrc` or `.profile` file in your homedirectory, remove it from there and you should be fine when you start a new terminal.","title":"Permanently removing a JAVA_TOOL_OPTIONS environment variable","body":"<p>You probably set it in the <code>.bashrc</code> or <code>.profile</code> file in your homedirectory, remove it from there and you should be fine when you start a new terminal.</p>\n"},{"tags":[],"owner":{"account_id":3682858,"reputation":241,"user_id":3067407,"display_name":"twistsm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441901123,"creation_date":1441901123,"answer_id":32506752,"question_id":3111016,"body_markdown":"It seems like you have that variable in your environment. All you need to do is to remove it from env:\r\n\r\n1. Just write `unset JAVA_TOOL_OPTIONS` in your terminal. \r\n3. Set that line in the ~/.bashrc file to be sure that it will not abuse you next time you run console.","title":"Permanently removing a JAVA_TOOL_OPTIONS environment variable","body":"<p>It seems like you have that variable in your environment. All you need to do is to remove it from env:</p>\n\n<ol>\n<li>Just write <code>unset JAVA_TOOL_OPTIONS</code> in your terminal. </li>\n<li>Set that line in the ~/.bashrc file to be sure that it will not abuse you next time you run console.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2166845,"reputation":392,"user_id":1919793,"display_name":"theSparky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692041577,"creation_date":1692041265,"answer_id":76901673,"question_id":3111016,"body_markdown":"Or if you are on Windows:\r\n\r\n    C:\\dev&gt;java -jar helloworld.jar\r\n    Picked up JAVA_TOOL_OPTIONS: -Djava.vendor=&#39;Sun Microsystems Inc.&#39;\r\n    Hello World\r\n\r\nSuppress by:\r\n 1. Run `setx JAVA_TOOL_OPTIONS &quot;&quot;`\r\n 2. Restart the terminal window\r\n\r\nResult:\r\n\r\n    C:\\dev&gt;java -jar helloworld.jar\r\n    Hello World","title":"Permanently removing a JAVA_TOOL_OPTIONS environment variable","body":"<p>Or if you are on Windows:</p>\n<pre><code>C:\\dev&gt;java -jar helloworld.jar\nPicked up JAVA_TOOL_OPTIONS: -Djava.vendor='Sun Microsystems Inc.'\nHello World\n</code></pre>\n<p>Suppress by:</p>\n<ol>\n<li>Run <code>setx JAVA_TOOL_OPTIONS &quot;&quot;</code></li>\n<li>Restart the terminal window</li>\n</ol>\n<p>Result:</p>\n<pre><code>C:\\dev&gt;java -jar helloworld.jar\nHello World\n</code></pre>\n"}],"owner":{"account_id":157424,"reputation":63,"user_id":375369,"display_name":"Tom Loudon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3111065,"answer_count":3,"score":1,"last_activity_date":1692041577,"creation_date":1277390541,"question_id":3111016,"body_markdown":"I am trying to run [jake][1] on OS X 10.6.4 but get the message `Narwhal on Rhino requires Java 1.5 or higher.  You have JAVA_TOOL_OPTIONS:.-Xmx512m`. This is left over from a previous project where someone told me to set it to get Flash to export without dying.\r\n\r\nI have java 1.6 installed. The JAVA_TOOL_OPTIONS seems to be the issue. I removed it using `unset JAVA_TOOL_OPTIONS`. This worked until I reopened Terminal. The `JAVA_TOOL_OPTIONS` environment variable comes back.\r\n\r\nAny ideas on how I can permanently get rid of this?\r\n\r\n\r\n  [1]: http://github.com/jcoglan/jake","title":"Permanently removing a JAVA_TOOL_OPTIONS environment variable","body":"<p>I am trying to run <a href=\"http://github.com/jcoglan/jake\" rel=\"nofollow noreferrer\">jake</a> on OS X 10.6.4 but get the message <code>Narwhal on Rhino requires Java 1.5 or higher.  You have JAVA_TOOL_OPTIONS:.-Xmx512m</code>. This is left over from a previous project where someone told me to set it to get Flash to export without dying.</p>\n\n<p>I have java 1.6 installed. The JAVA_TOOL_OPTIONS seems to be the issue. I removed it using <code>unset JAVA_TOOL_OPTIONS</code>. This worked until I reopened Terminal. The <code>JAVA_TOOL_OPTIONS</code> environment variable comes back.</p>\n\n<p>Any ideas on how I can permanently get rid of this?</p>\n"},{"tags":["java","generics"],"owner":{"account_id":218720,"reputation":715,"user_id":475191,"accept_rate":33,"display_name":"David Harris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692041519,"creation_date":1692041103,"question_id":76901657,"body_markdown":"I’m working with an interface that defines a single generic parameter.  I have a class that implements that interface and ultimately I need to create a variable of type `Class&lt;? extends MyInterface&lt;?&gt;&gt;` using that implementation.   But it seems I can only do that under very specific circumstances.  Below is a quick code snippet that demonstrates the issue:\r\n\r\n    public class Testing {\r\n    \t//This won&#39;t compile, I&#39;m getting the following error\r\n    \t//Type mismatch: cannot convert from Class&lt;Testing.MyImpl&gt; to Class&lt;? extends Testing.MyInterface&lt;?&gt;&gt;\r\n    \tClass&lt;? extends MyInterface&lt;?&gt;&gt; type = MyImpl.class;\r\n    \t\r\n    \t//This won&#39;t compile, I&#39;m getting the following error\r\n    \t//Type mismatch: cannot convert from Class&lt;Testing.MyImpl&gt; to Class&lt;? extends Testing.MyInterface&lt;?&gt;&gt;\r\n    \tClass&lt;? extends MyInterface&lt;?&gt;&gt; type2 = MyImpl2.class;\r\n    \t\r\n    \t//This compiles\r\n    \tClass&lt;? extends MyInterface&lt;?&gt;&gt; type3 = MyImpl3.class;\r\n    \r\n    \tpublic static interface MyInterface&lt;T&gt; { }\r\n    \t\r\n    \tpublic static class MyImpl&lt;T extends Object&gt; implements MyInterface&lt;T&gt;{ }\r\n    \t\r\n    \tpublic static class MyImpl2 implements MyInterface{ }\r\n    \t\r\n    \tpublic static class MyImpl3 implements MyInterface&lt;Object&gt;{ }\r\n    }\r\n\r\nI get `&quot;Type mismatch: cannot convert from Class&lt;Testing.MyImpl&gt; to Class&lt;? extends Testing.MyInterface&lt;?&gt;&gt;&quot;` \r\nI really need an implementation like MyImpl that defines its own generic but I need to pass the MyImpl.class value to an annotation that expects the value to be of type  `Class&lt;? extends MyInterface&lt;?&gt;&gt;` So I can do a simple cast to solve the complication problem. (Attempting to do so results in `The value for annotation attribute Type.value must be a class literal`)\r\n\r\nIs there any generic&#39;s magic I can do to make `Class&lt;? extends MyInterface&lt;?&gt;&gt; type = MyImpl.class;` compile, without having to cast it?\r\n\r\nI&#39;m using Java 17.\r\n\r\nThank you for looking at this!","title":"Extracting class representing parent generic interface","body":"<p>I’m working with an interface that defines a single generic parameter.  I have a class that implements that interface and ultimately I need to create a variable of type <code>Class&lt;? extends MyInterface&lt;?&gt;&gt;</code> using that implementation.   But it seems I can only do that under very specific circumstances.  Below is a quick code snippet that demonstrates the issue:</p>\n<pre><code>public class Testing {\n    //This won't compile, I'm getting the following error\n    //Type mismatch: cannot convert from Class&lt;Testing.MyImpl&gt; to Class&lt;? extends Testing.MyInterface&lt;?&gt;&gt;\n    Class&lt;? extends MyInterface&lt;?&gt;&gt; type = MyImpl.class;\n    \n    //This won't compile, I'm getting the following error\n    //Type mismatch: cannot convert from Class&lt;Testing.MyImpl&gt; to Class&lt;? extends Testing.MyInterface&lt;?&gt;&gt;\n    Class&lt;? extends MyInterface&lt;?&gt;&gt; type2 = MyImpl2.class;\n    \n    //This compiles\n    Class&lt;? extends MyInterface&lt;?&gt;&gt; type3 = MyImpl3.class;\n\n    public static interface MyInterface&lt;T&gt; { }\n    \n    public static class MyImpl&lt;T extends Object&gt; implements MyInterface&lt;T&gt;{ }\n    \n    public static class MyImpl2 implements MyInterface{ }\n    \n    public static class MyImpl3 implements MyInterface&lt;Object&gt;{ }\n}\n</code></pre>\n<p>I get <code>&quot;Type mismatch: cannot convert from Class&lt;Testing.MyImpl&gt; to Class&lt;? extends Testing.MyInterface&lt;?&gt;&gt;&quot;</code>\nI really need an implementation like MyImpl that defines its own generic but I need to pass the MyImpl.class value to an annotation that expects the value to be of type  <code>Class&lt;? extends MyInterface&lt;?&gt;&gt;</code> So I can do a simple cast to solve the complication problem. (Attempting to do so results in <code>The value for annotation attribute Type.value must be a class literal</code>)</p>\n<p>Is there any generic's magic I can do to make <code>Class&lt;? extends MyInterface&lt;?&gt;&gt; type = MyImpl.class;</code> compile, without having to cast it?</p>\n<p>I'm using Java 17.</p>\n<p>Thank you for looking at this!</p>\n"},{"tags":["java","generics","type-parameter"],"comments":[{"owner":{"account_id":2259221,"reputation":2223,"user_id":1989690,"accept_rate":95,"display_name":"hammerfest"},"score":0,"creation_date":1475743429,"post_id":39890989,"comment_id":67068710,"body_markdown":"How is the class header look like in which getContainerImplementationForType() method is present?","body":"How is the class header look like in which getContainerImplementationForType() method is present?"},{"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"score":0,"creation_date":1475743905,"post_id":39890989,"comment_id":67069064,"body_markdown":"It&#39;s a plain simple class, no type parameters etc. `getContainerImplementationForType()` could also be a static method for that matter.","body":"It&#39;s a plain simple class, no type parameters etc. <code>getContainerImplementationForType()</code> could also be a static method for that matter."}],"answers":[{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692041332,"creation_date":1692040860,"answer_id":76901625,"question_id":39890989,"body_markdown":"As the javadoc states, [getGenericInterfaces()](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getGenericInterfaces--) only returns **static** type values from the source code: \r\n&gt; If a superinterface is a parameterized type, the Type object returned for it must accurately reflect the actual type parameters used in the **source code**.\r\n\r\n...while in your source code it&#39;s **dynamic** `T`.\r\n\r\nTo put it another way: in Java, generic type information is not stored in RAM as a part of object instances and what reflection really does is mostly just providing static info from bytecode (like from `*.class` files). Thus, to be able to obtain the value of a type argument passed to a super class / implemented interface, this info must be hardcoded in the bytecode of **each** subclass/implementer on which you will call `getGenericInterfaces()` / `getGenericSuperclass()`. OTOH, in your source code there&#39;s only just **one** implementer, who is **generic**, so you will have just 1 class-file without any static type info (because it&#39;s generic). As explained, when a `Container` instance is created it will not hold any reference to the class that was used as `T` argument (you can only create a custom field/method in your anonymous class referencing `type` argument of `getContainerImplementationForType(type)`).\r\n\r\nIf you must use reflection to obtain the type value, then the only solution is exactly as you pointed: to dynamically create each time `getContainerImplementationForType(type)` is called, a bytecode (dynamic ByteBuddy/ASM class) that will store the given type value.&lt;br/&gt;\r\nAs mentioned, an alternative to reflection may be to add to your anonymous class (and to `Container` interface if it&#39;s under your control) a method like `getContainerType()`, that will return `type` argument of `getContainerImplementationForType(type)`.","title":"Capturing type parameter in anonymous class","body":"<p>As the javadoc states, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getGenericInterfaces--\" rel=\"nofollow noreferrer\">getGenericInterfaces()</a> only returns <strong>static</strong> type values from the source code:</p>\n<blockquote>\n<p>If a superinterface is a parameterized type, the Type object returned for it must accurately reflect the actual type parameters used in the <strong>source code</strong>.</p>\n</blockquote>\n<p>...while in your source code it's <strong>dynamic</strong> <code>T</code>.</p>\n<p>To put it another way: in Java, generic type information is not stored in RAM as a part of object instances and what reflection really does is mostly just providing static info from bytecode (like from <code>*.class</code> files). Thus, to be able to obtain the value of a type argument passed to a super class / implemented interface, this info must be hardcoded in the bytecode of <strong>each</strong> subclass/implementer on which you will call <code>getGenericInterfaces()</code> / <code>getGenericSuperclass()</code>. OTOH, in your source code there's only just <strong>one</strong> implementer, who is <strong>generic</strong>, so you will have just 1 class-file without any static type info (because it's generic). As explained, when a <code>Container</code> instance is created it will not hold any reference to the class that was used as <code>T</code> argument (you can only create a custom field/method in your anonymous class referencing <code>type</code> argument of <code>getContainerImplementationForType(type)</code>).</p>\n<p>If you must use reflection to obtain the type value, then the only solution is exactly as you pointed: to dynamically create each time <code>getContainerImplementationForType(type)</code> is called, a bytecode (dynamic ByteBuddy/ASM class) that will store the given type value.<br/>\nAs mentioned, an alternative to reflection may be to add to your anonymous class (and to <code>Container</code> interface if it's under your control) a method like <code>getContainerType()</code>, that will return <code>type</code> argument of <code>getContainerImplementationForType(type)</code>.</p>\n"}],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692041332,"creation_date":1475741984,"question_id":39890989,"body_markdown":"I would like to dynamically create a class which implements a given given interface and binds a type parameter of that interface. That&#39;s my interface definition:\r\n\r\n    public interface Container&lt;T&gt; {}\r\n\r\nMy initial thought was to use an anonymous class for this, like so:\r\n\r\n    public &lt;T&gt; Class&lt;?&gt; getContainerImplementationForType(Class&lt;T&gt; type) {\r\n        return new Container&lt;T&gt; { ... }.getClass();\r\n    }\r\n\r\nBut if I examine the returned class object, the type parameter `T` of this implementation is not bound to whatever has been passed as `type` but it&#39;s still just a type variable `T`.\r\n\r\nI got a vague idea why this is not working but am wondering how to achieve my goal. Is creating the type manually using ASM, ByteBuddy or similar to only way to go? I reckon dynamic proxies also won&#39;t work as I couldn&#39;t find a way to specify type parameter bounds for `Container` when obtaining a proxy class.","title":"Capturing type parameter in anonymous class","body":"<p>I would like to dynamically create a class which implements a given given interface and binds a type parameter of that interface. That's my interface definition:</p>\n\n<pre><code>public interface Container&lt;T&gt; {}\n</code></pre>\n\n<p>My initial thought was to use an anonymous class for this, like so:</p>\n\n<pre><code>public &lt;T&gt; Class&lt;?&gt; getContainerImplementationForType(Class&lt;T&gt; type) {\n    return new Container&lt;T&gt; { ... }.getClass();\n}\n</code></pre>\n\n<p>But if I examine the returned class object, the type parameter <code>T</code> of this implementation is not bound to whatever has been passed as <code>type</code> but it's still just a type variable <code>T</code>.</p>\n\n<p>I got a vague idea why this is not working but am wondering how to achieve my goal. Is creating the type manually using ASM, ByteBuddy or similar to only way to go? I reckon dynamic proxies also won't work as I couldn't find a way to specify type parameter bounds for <code>Container</code> when obtaining a proxy class.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1663853646,"post_id":73815416,"comment_id":130340830,"body_markdown":"What do you mean by &quot;sub-table&quot;. Is it like every record in B has an equivalent in A and adds additional data? And do C records have a foreign key to A or B records? (Your description isn&#39;t that clear to me). Could you maybe add a more concrete example and what you&#39;d envision the JPA/Hibernate entities to be?","body":"What do you mean by &quot;sub-table&quot;. Is it like every record in B has an equivalent in A and adds additional data? And do C records have a foreign key to A or B records? (Your description isn&#39;t that clear to me). Could you maybe add a more concrete example and what you&#39;d envision the JPA/Hibernate entities to be?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663946633,"post_id":73815416,"comment_id":130366603,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6027993,"reputation":126,"user_id":19785805,"display_name":"Alexander Kashpirovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692041240,"creation_date":1663857218,"answer_id":73816485,"question_id":73815416,"body_markdown":"It not needed in table B in your case. There is `@OneToMany` between A and B.\r\n\r\n    @Entity\r\n    @Table(name=&quot;A&quot;)\r\n    public class A {\r\n       ....\r\n       @OneToMany(mappedBy=&quot;a&quot;)\r\n       private B b;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name=&quot;C&quot;)\r\n    public class C {\r\n       ...\r\n       @OneToOne\r\n       @JoinColumn(name=&quot;ref_to_a&quot;)\r\n       private A a;\r\n    }\r\n\r\nAdditional table B is required if `@ManyToMany` association take place.","title":"Hibernate relation between a sub table and related table","body":"<p>It not needed in table B in your case. There is <code>@OneToMany</code> between A and B.</p>\n<pre><code>@Entity\n@Table(name=&quot;A&quot;)\npublic class A {\n   ....\n   @OneToMany(mappedBy=&quot;a&quot;)\n   private B b;\n}\n\n@Entity\n@Table(name=&quot;C&quot;)\npublic class C {\n   ...\n   @OneToOne\n   @JoinColumn(name=&quot;ref_to_a&quot;)\n   private A a;\n}\n</code></pre>\n<p>Additional table B is required if <code>@ManyToMany</code> association take place.</p>\n"}],"owner":{"account_id":8496927,"reputation":34,"user_id":6371250,"display_name":"aparajith vangal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692041240,"creation_date":1663852888,"question_id":73815416,"body_markdown":"Have a relation between a sub table and a related table using the primary table. Any thoughts about how to go about the hibernate relation.\r\n\r\nA &lt;---&gt; B (One to One relation) B is a sub-table of A.\r\n\r\nB &lt;---&gt; C (B has One to Many Relation with C Using A) ","title":"Hibernate relation between a sub table and related table","body":"<p>Have a relation between a sub table and a related table using the primary table. Any thoughts about how to go about the hibernate relation.</p>\n<p>A &lt;---&gt; B (One to One relation) B is a sub-table of A.</p>\n<p>B &lt;---&gt; C (B has One to Many Relation with C Using A)</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs","aws-java-sdk-2.x"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692035421,"creation_date":1692035421,"answer_id":76901148,"question_id":76901023,"body_markdown":"As specified in the AWS SDK Java V2 Dev Guide, when you create a Java V2 Service client object, you specify a region. Regions enable you to access AWS services that physically reside in a specific geographic area. \r\n\r\nRegions are never specified using an AWS service opertion Request object. They are always specified using Service Clients. For example, \r\n \r\n\r\n     SqsClient sqs = SqsClient.builder()\r\n                .region(Region.US_WEST_2)\r\n                .credentialsProvider(ProfileCredentialsProvider.create())\r\n                .build();\r\n\r\nThat is simply how the Java V2 SDK works. You can read more about this topic in the AWS DEV guide here. \r\n\r\n \r\n[AWS region selection][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/region-selection.html","title":"How to make SqsClient region agnostic","body":"<p>As specified in the AWS SDK Java V2 Dev Guide, when you create a Java V2 Service client object, you specify a region. Regions enable you to access AWS services that physically reside in a specific geographic area.</p>\n<p>Regions are never specified using an AWS service opertion Request object. They are always specified using Service Clients. For example,</p>\n<pre><code> SqsClient sqs = SqsClient.builder()\n            .region(Region.US_WEST_2)\n            .credentialsProvider(ProfileCredentialsProvider.create())\n            .build();\n</code></pre>\n<p>That is simply how the Java V2 SDK works. You can read more about this topic in the AWS DEV guide here.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/region-selection.html\" rel=\"nofollow noreferrer\">AWS region selection</a></p>\n"}],"owner":{"account_id":27779103,"reputation":5,"user_id":21207803,"display_name":"medaliama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76901148,"answer_count":1,"score":0,"last_activity_date":1692040736,"creation_date":1692034144,"question_id":76901023,"body_markdown":"I see that in docs that for [SqsClient][1], the `region` must be set in advance, making this client tied to a specific region only. my question is, is it possible to make SqsClient region agnostic, so, requests for different regions can be made using the same client. so, I&#39;m thinking like specifying the region for each operation in queue Url. but when I checked [GetQueueUrlRequest][2], it also doesnt have `region` field. Is this by design? Is there no way to make SqsClient region agnostic?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sqs/SqsClient.html\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sqs/model/GetQueueUrlRequest.html","title":"How to make SqsClient region agnostic","body":"<p>I see that in docs that for <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sqs/SqsClient.html\" rel=\"nofollow noreferrer\">SqsClient</a>, the <code>region</code> must be set in advance, making this client tied to a specific region only. my question is, is it possible to make SqsClient region agnostic, so, requests for different regions can be made using the same client. so, I'm thinking like specifying the region for each operation in queue Url. but when I checked <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/sqs/model/GetQueueUrlRequest.html\" rel=\"nofollow noreferrer\">GetQueueUrlRequest</a>, it also doesnt have <code>region</code> field. Is this by design? Is there no way to make SqsClient region agnostic?</p>\n<p>Thanks</p>\n"},{"tags":["java","list","debugging","arraylist"],"comments":[{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1692020098,"post_id":76899383,"comment_id":135565292,"body_markdown":"Yes - you&#39;ve added `list` to `ans` twice. That&#39;s two references to the same object. Instead of `list.clear()` I suspect you want `list = new ArrayList&lt;&gt;();` so that you create a *new* list, instead of only clearing the existing one (which is still referenced in `ans`).","body":"Yes - you&#39;ve added <code>list</code> to <code>ans</code> twice. That&#39;s two references to the same object. Instead of <code>list.clear()</code> I suspect you want <code>list = new ArrayList&lt;&gt;();</code> so that you create a <i>new</i> list, instead of only clearing the existing one (which is still referenced in <code>ans</code>)."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1692020103,"post_id":76899383,"comment_id":135565294,"body_markdown":"You add the same List twice to your `List&lt;List&lt;Integer&gt;&gt; ans` instead of adding 2 different List objects. Doing `and.add(list)` will **not** create a copy of `List&lt;Integer&gt; list`. So any modification you do on that list will be visible everywhere that List is referenced.","body":"You add the same List twice to your <code>List&lt;List&lt;Integer&gt;&gt; ans</code> instead of adding 2 different List objects. Doing <code>and.add(list)</code> will <b>not</b> create a copy of <code>List&lt;Integer&gt; list</code>. So any modification you do on that list will be visible everywhere that List is referenced."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1692020131,"post_id":76899383,"comment_id":135565301,"body_markdown":"Does this answer your question? [Why does my ArrayList contain N copies of the last item added to the list?](https://stackoverflow.com/questions/19843506/why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19843506/why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list\">Why does my ArrayList contain N copies of the last item added to the list?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692022875,"creation_date":1692020976,"answer_id":76899511,"question_id":76899383,"body_markdown":"```java\r\nans.add(list);\r\n```\r\n\r\nHere you add reference to the object `list`, but it&#39;s a refference not a copy, so whatever you change in `list` it&#39;s also reflected in `ans`. If you add `System.out.println(ans)` after `System.out.println(list)`, \r\n\r\n```java\r\nans.add(list);\r\nSystem.out.println(ans);\r\nlist.clear();\r\nSystem.out.println(list);\r\nSystem.out.println(ans);\r\n```\r\n\r\nYou&#39;ll see `[[]]`. So, content of the reference is empty. And then at the end of the script you simply add once more refence to `list`, so simply - whatever you have in `list`, you have twice in `ans`.\r\nSolution for you is to add copy of the object instead of reference - use:\r\n\r\n```java\r\nans.add(new ArrayList&lt;&gt;(list));\r\n```\r\n\r\ninstead of:\r\n\r\n```java\r\nans.add(list);\r\n```\r\n\r\nboth times in your code\r\n\r\nand if it&#39;s fine for you to use standard Java, you can simplify your code like:\r\n\r\n```java\r\npublic List&lt;List&lt;Integer&gt;&gt; findDifference(Integer[] nums1, Integer[] nums2) {\r\n    Set&lt;Integer&gt; set1 = Set.of(nums1);\r\n    Set&lt;Integer&gt; set2 = Set.of(nums2);\r\n    Set&lt;Integer&gt; set1_not2 = new HashSet&lt;&gt;(set1);\r\n    set1_not2.removeAll(set2);\r\n\r\n    Set&lt;Integer&gt; set2_not1 = new HashSet&lt;&gt;(set2);\r\n    set2_not1.removeAll(set1);\r\n\r\n    return List.of(new ArrayList&lt;&gt;(set1_not2), new ArrayList&lt;&gt;(set2_not1));\r\n}\r\n```","title":"&quot;add()&quot; function showing unusual behavior after clearing list and then adding again to the same list","body":"<pre class=\"lang-java prettyprint-override\"><code>ans.add(list);\n</code></pre>\n<p>Here you add reference to the object <code>list</code>, but it's a refference not a copy, so whatever you change in <code>list</code> it's also reflected in <code>ans</code>. If you add <code>System.out.println(ans)</code> after <code>System.out.println(list)</code>,</p>\n<pre class=\"lang-java prettyprint-override\"><code>ans.add(list);\nSystem.out.println(ans);\nlist.clear();\nSystem.out.println(list);\nSystem.out.println(ans);\n</code></pre>\n<p>You'll see <code>[[]]</code>. So, content of the reference is empty. And then at the end of the script you simply add once more refence to <code>list</code>, so simply - whatever you have in <code>list</code>, you have twice in <code>ans</code>.\nSolution for you is to add copy of the object instead of reference - use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ans.add(new ArrayList&lt;&gt;(list));\n</code></pre>\n<p>instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ans.add(list);\n</code></pre>\n<p>both times in your code</p>\n<p>and if it's fine for you to use standard Java, you can simplify your code like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;List&lt;Integer&gt;&gt; findDifference(Integer[] nums1, Integer[] nums2) {\n    Set&lt;Integer&gt; set1 = Set.of(nums1);\n    Set&lt;Integer&gt; set2 = Set.of(nums2);\n    Set&lt;Integer&gt; set1_not2 = new HashSet&lt;&gt;(set1);\n    set1_not2.removeAll(set2);\n\n    Set&lt;Integer&gt; set2_not1 = new HashSet&lt;&gt;(set2);\n    set2_not1.removeAll(set1);\n\n    return List.of(new ArrayList&lt;&gt;(set1_not2), new ArrayList&lt;&gt;(set2_not1));\n}\n</code></pre>\n"}],"owner":{"account_id":22946976,"reputation":49,"user_id":17078836,"display_name":"Vishal Sangole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76899511,"answer_count":1,"score":1,"last_activity_date":1692040526,"creation_date":1692019922,"question_id":76899383,"body_markdown":"Given two 0-indexed integer arrays `nums1` and `nums2`, return a list answer of size 2 where:\r\n\r\n - `answer[0]` is a list of all distinct integers in `nums1` which are not present in `nums2`.\r\n - `answer[1]` is a list of all distinct integers in `nums2` which are not present in `nums1`.\r\n\r\n*Note that the integers in the lists may be returned in any order.*\r\n\r\nI have purposefully left print statement in there for debugging purpose.\r\n\r\n\r\n    class Solution {\r\n        public List&lt;List&lt;Integer&gt;&gt; findDifference(int[] nums1, int[] nums2) {\r\n            Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;();\r\n            Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;();\r\n            List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n            for(int i : nums2){\r\n                set2.add(i);\r\n            }\r\n            List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n            for(int i : nums1){\r\n                set1.add(i);\r\n                if(!set2.contains(i)) list.add(i);\r\n            }\r\n            System.out.println(list);\r\n            ans.add(list);\r\n            System.out.println(ans);\r\n            list.clear();\r\n            System.out.println(list);\r\n            for(int i : nums2){\r\n                if(set1.add(i)) {\r\n                    list.add(i);\r\n                }\r\n            }\r\n            System.out.println(list);\r\n            ans.add(list);\r\n            System.out.println(ans);\r\n    \r\n            return ans;\r\n        }\r\n    }\r\n\r\ninput:\r\n\r\n    nums1 = [1,2,3]\r\n    nums2 = [2,4,6]\r\n\r\noutput:\r\n\r\n    [1, 3]\r\n    [[1, 3]]\r\n    []\r\n    [4, 6]\r\n    [[4, 6], [4, 6]]\r\n\r\nFinal value of `ans` is supposed to be `[[1,3],[4,6]]` instead of `[[4, 6], [4, 6]]`.\r\nAnyone one know why is it happening?","title":"&quot;add()&quot; function showing unusual behavior after clearing list and then adding again to the same list","body":"<p>Given two 0-indexed integer arrays <code>nums1</code> and <code>nums2</code>, return a list answer of size 2 where:</p>\n<ul>\n<li><code>answer[0]</code> is a list of all distinct integers in <code>nums1</code> which are not present in <code>nums2</code>.</li>\n<li><code>answer[1]</code> is a list of all distinct integers in <code>nums2</code> which are not present in <code>nums1</code>.</li>\n</ul>\n<p><em>Note that the integers in the lists may be returned in any order.</em></p>\n<p>I have purposefully left print statement in there for debugging purpose.</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; findDifference(int[] nums1, int[] nums2) {\n        Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;();\n        Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;();\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\n        for(int i : nums2){\n            set2.add(i);\n        }\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        for(int i : nums1){\n            set1.add(i);\n            if(!set2.contains(i)) list.add(i);\n        }\n        System.out.println(list);\n        ans.add(list);\n        System.out.println(ans);\n        list.clear();\n        System.out.println(list);\n        for(int i : nums2){\n            if(set1.add(i)) {\n                list.add(i);\n            }\n        }\n        System.out.println(list);\n        ans.add(list);\n        System.out.println(ans);\n\n        return ans;\n    }\n}\n</code></pre>\n<p>input:</p>\n<pre><code>nums1 = [1,2,3]\nnums2 = [2,4,6]\n</code></pre>\n<p>output:</p>\n<pre><code>[1, 3]\n[[1, 3]]\n[]\n[4, 6]\n[[4, 6], [4, 6]]\n</code></pre>\n<p>Final value of <code>ans</code> is supposed to be <code>[[1,3],[4,6]]</code> instead of <code>[[4, 6], [4, 6]]</code>.\nAnyone one know why is it happening?</p>\n"},{"tags":["java","spring-boot","spring-mvc","exception","error-handling"],"comments":[{"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1692031802,"post_id":76900620,"comment_id":135567818,"body_markdown":"Throw exceptions in any site not a bad practice by itself, you need consider if the exception you want throw coming from the &quot;correct&quot; layer. For example if you have a repository and you have a exception from the repository you should throw the exception from there and not from the service. And the solution you want came just replacing the empty optional return, and throw a specific exception you previously configured for trigger the controller advice","body":"Throw exceptions in any site not a bad practice by itself, you need consider if the exception you want throw coming from the &quot;correct&quot; layer. For example if you have a repository and you have a exception from the repository you should throw the exception from there and not from the service. And the solution you want came just replacing the empty optional return, and throw a specific exception you previously configured for trigger the controller advice"},{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1692033375,"post_id":76900620,"comment_id":135568148,"body_markdown":"So I can add ```throws``` keyword to controller and service methods and it won&#39;t be considered bad practice? Custom exceptions require to be handled in some way, either by ```try/catch``` or by annotating methods by ```throws```","body":"So I can add <code>throws</code> keyword to controller and service methods and it won&#39;t be considered bad practice? Custom exceptions require to be handled in some way, either by <code>try&#47;catch</code> or by annotating methods by <code>throws</code>"}],"answers":[{"tags":[],"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692040281,"creation_date":1692040281,"answer_id":76901567,"question_id":76900620,"body_markdown":"This is just my personal opinion, and there&#39;s no wrong answer here. Personally, I say throw your exceptions in the Service layer. I&#39;ve found that in general it&#39;s best for your controller layer to be a simple pass through. The reason for this is that controllers are meant to define a request coming in through HTTP but your services should be usable and accessible through any call pattern. For instance lets say you want to add a GraphQL or an SQS call pattern. Your service layer should behave exactly the same in all circumstances, and should throw the same exceptions. Now you have an agnostic service layer that handles all your logic, and the caller is irrelevant. ","title":"Exception handling in Spring - Controller or Service layer","body":"<p>This is just my personal opinion, and there's no wrong answer here. Personally, I say throw your exceptions in the Service layer. I've found that in general it's best for your controller layer to be a simple pass through. The reason for this is that controllers are meant to define a request coming in through HTTP but your services should be usable and accessible through any call pattern. For instance lets say you want to add a GraphQL or an SQS call pattern. Your service layer should behave exactly the same in all circumstances, and should throw the same exceptions. Now you have an agnostic service layer that handles all your logic, and the caller is irrelevant.</p>\n"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76901567,"answer_count":1,"score":0,"last_activity_date":1692040281,"creation_date":1692030185,"question_id":76900620,"body_markdown":"I have simple REST endpoint:\r\n\r\n```\r\n    @PatchMapping(value = &quot;/{projectId}/change-owner/{volunteerId}&quot;)\r\n    public ResponseEntity&lt;ProjectDTO&gt; changeProjectOwner(@PathVariable Long projectId,\r\n                                                         @PathVariable Long volunteerId\r\n    ) {\r\n\r\n        Project foundProject = projectService.findProject(projectId).orElseThrow(() -&gt; new EntityNotFoundException(PROJECT_NOT_FOUND_MESSAGE));\r\n        Volunteer foundVolunteer = volunteerService.findVolunteer(volunteerId).orElseThrow(() -&gt; new EntityNotFoundException(VOLUNTEER_NOT_FOUND_MESSAGE));\r\n\r\n        ProjectDTO projectDTO = projectService.changeOwner(foundVolunteer, foundProject).orElseThrow(() -&gt; new AccessDeniedException(PERMISSION_DENIED_MESSAGE));\r\n\r\n        return new ResponseEntity&lt;&gt;(projectDTO, HttpStatus.OK);\r\n    }\r\n```\r\n\r\nand service corresponding to it:\r\n\r\n```\r\n    public Optional&lt;ProjectDTO&gt; changeOwner(Volunteer user, Project project) {\r\n\r\n        if (this.isVolunteerProjectOwner(volunteerService.getLoggedVolunteer(), project) || authenticationService.checkIfAdmin(volunteerService.getLoggedVolunteer())) {\r\n\r\n            project.setOwnerVolunteer(user);\r\n\r\n            projectRepository.save(project);\r\n\r\n            return Optional.of(projectMapper.mapProjectToDTO(project));\r\n        }\r\n\r\n        return Optional.empty();\r\n    }\r\n```\r\n\r\nI feel that something is wrong with this approach. I have many endpoints like this, but I cannot really design error handling for more specific scenarios since service is able to return ```Optional.empty()``` in case of failure. I am wondering whether I should throw exceptions within service layer. I am using ```@RestControllerAdvice``` and ```@ExceptionHandler``` annotations. If I decided to throw exceptions within services, that would mean that I have to annotate controller with ```throws``` keyword which is considered a bad practice (as far as I know). Generally I heard that throwing exceptions in services is not a good practice. But if I put all error checks within controller, I will break SRP principle, and code would be tightly organised that is why I don&#39;t want to put all ```if``` within controllers since all code would appear messy. I am confused whether I should move all logic to controllers and handle specific scenarios or put ```throws (some exception)``` on controller and make ```@RestControllerAdvice``` take care of it.","title":"Exception handling in Spring - Controller or Service layer","body":"<p>I have simple REST endpoint:</p>\n<pre><code>    @PatchMapping(value = &quot;/{projectId}/change-owner/{volunteerId}&quot;)\n    public ResponseEntity&lt;ProjectDTO&gt; changeProjectOwner(@PathVariable Long projectId,\n                                                         @PathVariable Long volunteerId\n    ) {\n\n        Project foundProject = projectService.findProject(projectId).orElseThrow(() -&gt; new EntityNotFoundException(PROJECT_NOT_FOUND_MESSAGE));\n        Volunteer foundVolunteer = volunteerService.findVolunteer(volunteerId).orElseThrow(() -&gt; new EntityNotFoundException(VOLUNTEER_NOT_FOUND_MESSAGE));\n\n        ProjectDTO projectDTO = projectService.changeOwner(foundVolunteer, foundProject).orElseThrow(() -&gt; new AccessDeniedException(PERMISSION_DENIED_MESSAGE));\n\n        return new ResponseEntity&lt;&gt;(projectDTO, HttpStatus.OK);\n    }\n</code></pre>\n<p>and service corresponding to it:</p>\n<pre><code>    public Optional&lt;ProjectDTO&gt; changeOwner(Volunteer user, Project project) {\n\n        if (this.isVolunteerProjectOwner(volunteerService.getLoggedVolunteer(), project) || authenticationService.checkIfAdmin(volunteerService.getLoggedVolunteer())) {\n\n            project.setOwnerVolunteer(user);\n\n            projectRepository.save(project);\n\n            return Optional.of(projectMapper.mapProjectToDTO(project));\n        }\n\n        return Optional.empty();\n    }\n</code></pre>\n<p>I feel that something is wrong with this approach. I have many endpoints like this, but I cannot really design error handling for more specific scenarios since service is able to return <code>Optional.empty()</code> in case of failure. I am wondering whether I should throw exceptions within service layer. I am using <code>@RestControllerAdvice</code> and <code>@ExceptionHandler</code> annotations. If I decided to throw exceptions within services, that would mean that I have to annotate controller with <code>throws</code> keyword which is considered a bad practice (as far as I know). Generally I heard that throwing exceptions in services is not a good practice. But if I put all error checks within controller, I will break SRP principle, and code would be tightly organised that is why I don't want to put all <code>if</code> within controllers since all code would appear messy. I am confused whether I should move all logic to controllers and handle specific scenarios or put <code>throws (some exception)</code> on controller and make <code>@RestControllerAdvice</code> take care of it.</p>\n"},{"tags":["java","gradle","build","lombok","spigot"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1682623046,"post_id":76123684,"comment_id":134249229,"body_markdown":"Worked fine locally.  Did you try in a terminal where `JAVA_HOME` is properly set as a baseline?","body":"Worked fine locally.  Did you try in a terminal where <code>JAVA_HOME</code> is properly set as a baseline?"},{"owner":{"account_id":18714921,"reputation":78,"user_id":13644171,"display_name":"harvanchik"},"score":2,"creation_date":1682651504,"post_id":76123684,"comment_id":134252723,"body_markdown":"After trying in a terminal, it worked fine.  So it must be a problem with IntelliJ.  Though, I&#39;m not sure how to solve this problem still.","body":"After trying in a terminal, it worked fine.  So it must be a problem with IntelliJ.  Though, I&#39;m not sure how to solve this problem still."},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":1,"creation_date":1682687092,"post_id":76123684,"comment_id":134259007,"body_markdown":"The usual...  Close IJ.  Delete `.idea/`.  Delete `.build/` (all of them). Remove from recent projects.  Re-open project.  Open project settings.  Set JDK.  Open Terminal Settings.  Set JAVA_HOME.  Open Gradle Settings.  Set Gradle Java SDK.... Whatever other settings IntelliJ may want that day.","body":"The usual...  Close IJ.  Delete <code>.idea&#47;</code>.  Delete <code>.build&#47;</code> (all of them). Remove from recent projects.  Re-open project.  Open project settings.  Set JDK.  Open Terminal Settings.  Set JAVA_HOME.  Open Gradle Settings.  Set Gradle Java SDK.... Whatever other settings IntelliJ may want that day."},{"owner":{"account_id":371244,"reputation":443,"user_id":17825391,"display_name":"user213769"},"score":0,"creation_date":1693330766,"post_id":76123684,"comment_id":135745586,"body_markdown":"yup. For me, a project cleanup did the trick. I&#39;m assuming it&#39;s some IntelliJ quirk that causes this.","body":"yup. For me, a project cleanup did the trick. I&#39;m assuming it&#39;s some IntelliJ quirk that causes this."}],"answers":[{"tags":[],"owner":{"account_id":18980564,"reputation":1,"user_id":13852028,"display_name":"Yizhong Tan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692040254,"creation_date":1692040254,"answer_id":76901565,"question_id":76123684,"body_markdown":"I encountered the same question. \r\nIn my situation, I degrade the lombok&#39;s version to 6.5.0, there was no error any more.","title":"Configuration with name &#39;mainSourceElements&#39; not found","body":"<p>I encountered the same question.\nIn my situation, I degrade the lombok's version to 6.5.0, there was no error any more.</p>\n"}],"owner":{"account_id":18714921,"reputation":78,"user_id":13644171,"display_name":"harvanchik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692040254,"creation_date":1682620875,"question_id":76123684,"body_markdown":"I am new to Gradle, and when I try adding a plugin to the `build.gradle` file, I get an error. My Gradle version is `8.1.1`.\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &quot;io.freefair.lombok&quot; version &quot;8.0.1&quot;\r\n}\r\n\r\ngroup = &#39;me.harvanchik&#39;\r\nversion = &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        name = &quot;papermc-repo&quot;\r\n        url = &quot;https://repo.papermc.io/repository/maven-public/&quot;\r\n    }\r\n    maven {\r\n        name = &quot;sonatype&quot;\r\n        url = &quot;https://oss.sonatype.org/content/groups/public/&quot;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compileOnly &quot;io.papermc.paper:paper-api:1.19.4-R0.1-SNAPSHOT&quot;\r\n}\r\n\r\ndef targetJavaVersion = 17\r\njava {\r\n    def javaVersion = JavaVersion.toVersion(targetJavaVersion)\r\n    sourceCompatibility = javaVersion\r\n    targetCompatibility = javaVersion\r\n    if (JavaVersion.current() &lt; javaVersion) {\r\n        toolchain.languageVersion = JavaLanguageVersion.of(targetJavaVersion)\r\n    }\r\n}\r\n\r\njar {\r\n    destinationDirectory.set(file(&quot;C:/my/path/plugins&quot;))\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n    if (targetJavaVersion &gt;= 10 || JavaVersion.current().isJava10Compatible()) {\r\n        options.release = targetJavaVersion\r\n    }\r\n}\r\n\r\nprocessResources {\r\n    def props = [version: version]\r\n    inputs.properties props\r\n    filteringCharset &#39;UTF-8&#39;\r\n    filesMatching(&#39;plugin.yml&#39;) {\r\n        expand props\r\n    }\r\n}\r\n```\r\n```\r\nAn exception occurred applying plugin request [id: &#39;io.freefair.lombok&#39;, version: &#39;8.0.1&#39;]\r\n&gt; Failed to apply plugin &#39;io.freefair.lombok&#39;.\r\n   &gt; Configuration with name &#39;mainSourceElements&#39; not found.\r\n```\r\n\r\nI have tried upgrading the Gradle version (it&#39;s up to date now), reinitializing the project, and restarted IDE and computer.  Nothing seems to have worked.","title":"Configuration with name &#39;mainSourceElements&#39; not found","body":"<p>I am new to Gradle, and when I try adding a plugin to the <code>build.gradle</code> file, I get an error. My Gradle version is <code>8.1.1</code>.</p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;io.freefair.lombok&quot; version &quot;8.0.1&quot;\n}\n\ngroup = 'me.harvanchik'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n    maven {\n        name = &quot;papermc-repo&quot;\n        url = &quot;https://repo.papermc.io/repository/maven-public/&quot;\n    }\n    maven {\n        name = &quot;sonatype&quot;\n        url = &quot;https://oss.sonatype.org/content/groups/public/&quot;\n    }\n}\n\ndependencies {\n    compileOnly &quot;io.papermc.paper:paper-api:1.19.4-R0.1-SNAPSHOT&quot;\n}\n\ndef targetJavaVersion = 17\njava {\n    def javaVersion = JavaVersion.toVersion(targetJavaVersion)\n    sourceCompatibility = javaVersion\n    targetCompatibility = javaVersion\n    if (JavaVersion.current() &lt; javaVersion) {\n        toolchain.languageVersion = JavaLanguageVersion.of(targetJavaVersion)\n    }\n}\n\njar {\n    destinationDirectory.set(file(&quot;C:/my/path/plugins&quot;))\n}\n\ntasks.withType(JavaCompile).configureEach {\n    if (targetJavaVersion &gt;= 10 || JavaVersion.current().isJava10Compatible()) {\n        options.release = targetJavaVersion\n    }\n}\n\nprocessResources {\n    def props = [version: version]\n    inputs.properties props\n    filteringCharset 'UTF-8'\n    filesMatching('plugin.yml') {\n        expand props\n    }\n}\n</code></pre>\n<pre><code>An exception occurred applying plugin request [id: 'io.freefair.lombok', version: '8.0.1']\n&gt; Failed to apply plugin 'io.freefair.lombok'.\n   &gt; Configuration with name 'mainSourceElements' not found.\n</code></pre>\n<p>I have tried upgrading the Gradle version (it's up to date now), reinitializing the project, and restarted IDE and computer.  Nothing seems to have worked.</p>\n"},{"tags":["java","jakarta-ee","jaxb"],"answers":[{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369152407,"creation_date":1369151867,"answer_id":16674369,"question_id":16653519,"body_markdown":"Based on the stack trace you are using [**EclipseLink MOXy**][1] as your [**JAXB (JSR-222)**][2] provider.  We added support for the reference implementations `com.sun.xml.bind.CharacterEscapeHandler` in EclipseLink 2.4.  Prior to that release of EclipseLink you would get the exception that you are seeing.\r\n\r\n**UPDATE**\r\n\r\nIt is possible that you are hittin the following bug, which has been fixed in the EclipseLink 2.5.1 stream.\r\n\r\n  - http://bugs.eclipse.org/406593\r\n\r\nYou can download a nightly build from the following location:\r\n\r\n  - http://www.eclipse.org/eclipselink/downloads/nightly.php\r\n\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/moxy.php\r\n  [2]: http://jcp.org/en/jsr/detail?id=222","title":"JAXB Marshal setProperty com.sun.xml.bind.CharacterEscapeHandler","body":"<p>Based on the stack trace you are using <a href=\"http://www.eclipse.org/eclipselink/moxy.php\" rel=\"nofollow\"><strong>EclipseLink MOXy</strong></a> as your <a href=\"http://jcp.org/en/jsr/detail?id=222\" rel=\"nofollow\"><strong>JAXB (JSR-222)</strong></a> provider.  We added support for the reference implementations <code>com.sun.xml.bind.CharacterEscapeHandler</code> in EclipseLink 2.4.  Prior to that release of EclipseLink you would get the exception that you are seeing.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It is possible that you are hittin the following bug, which has been fixed in the EclipseLink 2.5.1 stream.</p>\n\n<ul>\n<li><a href=\"http://bugs.eclipse.org/406593\" rel=\"nofollow\">http://bugs.eclipse.org/406593</a></li>\n</ul>\n\n<p>You can download a nightly build from the following location:</p>\n\n<ul>\n<li><a href=\"http://www.eclipse.org/eclipselink/downloads/nightly.php\" rel=\"nofollow\">http://www.eclipse.org/eclipselink/downloads/nightly.php</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24543922,"reputation":1,"user_id":18454062,"display_name":"Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647177221,"creation_date":1647177221,"answer_id":71457092,"question_id":16653519,"body_markdown":"Check the class path，com.sun.xml.bind.CharacterEscapeHandler. In addition，check  mavan dependency\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.6&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.6&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIf useing dependency ,it will report an error.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n ","title":"JAXB Marshal setProperty com.sun.xml.bind.CharacterEscapeHandler","body":"<p>Check the class path，com.sun.xml.bind.CharacterEscapeHandler. In addition，check  mavan dependency</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.6&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.6&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>If useing dependency ,it will report an error.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2792341,"reputation":41,"user_id":2402327,"display_name":"apo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10277,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1692040010,"creation_date":1369065600,"question_id":16653519,"body_markdown":"I am trying to override the  escape of special characters in JAXB encoding.\r\nFor this I am using an interface that implements `CharacterEscapeHandler`.\r\n\r\nHere is the interface: \r\n\r\n\r\n\r\n\r\n    package project1;\r\n    import com.sun.xml.bind.marshaller.CharacterEscapeHandler;\r\n    import java.io.IOException;\r\n    import java.io.Writer;\r\n    public class MinimumEsc implements CharacterEscapeHandler {\r\n        private MinimumEsc( ) {\r\n                    \r\n            System.out.println(&quot;Function called&quot;);\r\n            \r\n                    \r\n        }  // no instanciation please\r\n        \r\n        public static final CharacterEscapeHandler theInstance = new MinimumEsc(); \r\n        \r\n\r\n        public void escape(char[] ch, int start, int length, boolean isAttVal, Writer out) throws IOException {\r\n                // avoid calling the Writerwrite method too much by assuming\r\n                // that the escaping occurs rarely.\r\n                // profiling revealed that this is faster than the naive code.\r\n            \r\n                System.out.println(&quot;Function called&quot;);\r\n                int limit = start+length;\r\n                for (int i = start; i &lt; limit; i++) {\r\n                    char c = ch[i];\r\n                    if( c==&#39;&amp;&#39; || c==&#39;&lt;&#39; || c==&#39;&gt;&#39; || (c==&#39;\\&quot;&#39; &amp;&amp; isAttVal) ) {\r\n                        if(i!=start)\r\n                            out.write(ch,start,i-start);\r\n                        start = i+1;\r\n                     switch (ch[i]) {\r\n                        case &#39;&amp;&#39; :\r\n                            out.write(&quot;&amp;amp2;&quot;);\r\n                            break;\r\n                        case &#39;&lt;&#39; :\r\n                            out.write(&quot;&amp;lt2;&quot;);\r\n                            break;\r\n                        case &#39;&gt;&#39; :\r\n                            out.write(&quot;&amp;gt2;&quot;);\r\n                            break;\r\n                        case &#39;\\&quot;&#39; :\r\n                            out.write(&quot;&amp;quot2;&quot;);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n        \r\n                if( start!=limit )\r\n                    out.write(ch,start,limit-start);\r\n            }\r\n    }\r\n\r\nFrom My main class i am trying to call the `marshal` method:\r\n\r\n\r\n    public static void main(String[] args){\r\n        System.out.println(&quot;hello world&quot;);\r\n        \r\n\r\n    \r\n        try{\r\n            //generate the java object\r\n            Shiporder so = new Shiporder();\r\n            so.setOrderid(&quot;123456&quot;);\r\n            so.setOrderperson(&quot;Elio  &lt; &gt; &#39; \\&quot;  e  &lt;&gt; \\&quot; Khattar&quot;);\r\n            \r\n            \r\n            //generate the file\r\n            File f = new File(&quot;C:\\\\tst_encode.xml&quot;);\r\n            if(!f.exists()){\r\n              f.createNewFile();\r\n            }\r\n            \r\n            \r\n            JAXBContext context = JAXBContext.newInstance(&quot;xsdobjects&quot;);\r\n            Marshaller jaxbMarshaller = context.createMarshaller();\r\n         //  Marshaller jaxbMarshaller=  new JAXBContext().newMarshaller();\r\n\r\n   \r\n            System.out.println(CharacterEscapeHandler.class.getName());\r\n            CharacterEscapeHandler escapeHandler =  MinimumEsc.theInstance;\r\n            jaxbMarshaller.setProperty(&quot;com.sun.xml.bind.characterEscapeHandler&quot;,escapeHandler);\r\n           \r\n            \r\n            \r\n            jaxbMarshaller.marshal(so, f);\r\n        }catch(JAXBException e){\r\n            e.getCause();\r\n            e.getErrorCode();\r\n            e.printStackTrace();\r\n            \r\n        }catch(IOException ioe){\r\n            ioe.printStackTrace();        \r\n        }\r\n    }\r\n\r\nI am getting this error messgae when i run it: \r\n\r\n    javax.xml.bind.PropertyException: name: com.sun.xml.bind.characterEscapeHandler value: project1.MinimumEsc@100bac2\r\n    \tat org.eclipse.persistence.jaxb.JAXBMarshaller.setProperty(JAXBMarshaller.java:520)\r\n    \tat project1.Class1.main(Class1.java:56)\r\n\r\ncan please any one help me? I have spent the last 5 hours searching the web for it and trying many solutions. Any help is highly appreciated. Thank you \r\n\r\n\r\n\r\n","title":"JAXB Marshal setProperty com.sun.xml.bind.CharacterEscapeHandler","body":"<p>I am trying to override the  escape of special characters in JAXB encoding.\nFor this I am using an interface that implements <code>CharacterEscapeHandler</code>.</p>\n\n<p>Here is the interface: </p>\n\n<pre><code>package project1;\nimport com.sun.xml.bind.marshaller.CharacterEscapeHandler;\nimport java.io.IOException;\nimport java.io.Writer;\npublic class MinimumEsc implements CharacterEscapeHandler {\n    private MinimumEsc( ) {\n\n        System.out.println(\"Function called\");\n\n\n    }  // no instanciation please\n\n    public static final CharacterEscapeHandler theInstance = new MinimumEsc(); \n\n\n    public void escape(char[] ch, int start, int length, boolean isAttVal, Writer out) throws IOException {\n            // avoid calling the Writerwrite method too much by assuming\n            // that the escaping occurs rarely.\n            // profiling revealed that this is faster than the naive code.\n\n            System.out.println(\"Function called\");\n            int limit = start+length;\n            for (int i = start; i &lt; limit; i++) {\n                char c = ch[i];\n                if( c=='&amp;' || c=='&lt;' || c=='&gt;' || (c=='\\\"' &amp;&amp; isAttVal) ) {\n                    if(i!=start)\n                        out.write(ch,start,i-start);\n                    start = i+1;\n                 switch (ch[i]) {\n                    case '&amp;' :\n                        out.write(\"&amp;amp2;\");\n                        break;\n                    case '&lt;' :\n                        out.write(\"&amp;lt2;\");\n                        break;\n                    case '&gt;' :\n                        out.write(\"&amp;gt2;\");\n                        break;\n                    case '\\\"' :\n                        out.write(\"&amp;quot2;\");\n                        break;\n                    }\n                }\n            }\n\n            if( start!=limit )\n                out.write(ch,start,limit-start);\n        }\n}\n</code></pre>\n\n<p>From My main class i am trying to call the <code>marshal</code> method:</p>\n\n<pre><code>public static void main(String[] args){\n    System.out.println(\"hello world\");\n\n\n\n    try{\n        //generate the java object\n        Shiporder so = new Shiporder();\n        so.setOrderid(\"123456\");\n        so.setOrderperson(\"Elio  &lt; &gt; ' \\\"  e  &lt;&gt; \\\" Khattar\");\n\n\n        //generate the file\n        File f = new File(\"C:\\\\tst_encode.xml\");\n        if(!f.exists()){\n          f.createNewFile();\n        }\n\n\n        JAXBContext context = JAXBContext.newInstance(\"xsdobjects\");\n        Marshaller jaxbMarshaller = context.createMarshaller();\n     //  Marshaller jaxbMarshaller=  new JAXBContext().newMarshaller();\n\n\n        System.out.println(CharacterEscapeHandler.class.getName());\n        CharacterEscapeHandler escapeHandler =  MinimumEsc.theInstance;\n        jaxbMarshaller.setProperty(\"com.sun.xml.bind.characterEscapeHandler\",escapeHandler);\n\n\n\n        jaxbMarshaller.marshal(so, f);\n    }catch(JAXBException e){\n        e.getCause();\n        e.getErrorCode();\n        e.printStackTrace();\n\n    }catch(IOException ioe){\n        ioe.printStackTrace();        \n    }\n}\n</code></pre>\n\n<p>I am getting this error messgae when i run it: </p>\n\n<pre><code>javax.xml.bind.PropertyException: name: com.sun.xml.bind.characterEscapeHandler value: project1.MinimumEsc@100bac2\n    at org.eclipse.persistence.jaxb.JAXBMarshaller.setProperty(JAXBMarshaller.java:520)\n    at project1.Class1.main(Class1.java:56)\n</code></pre>\n\n<p>can please any one help me? I have spent the last 5 hours searching the web for it and trying many solutions. Any help is highly appreciated. Thank you </p>\n"},{"tags":["java","spring-boot","hibernate","repository","hibernate-entitymanager"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692043084,"post_id":76901544,"comment_id":135569670,"body_markdown":"can you share pom.xml file or gradle build file ? Just update the question with details","body":"can you share pom.xml file or gradle build file ? Just update the question with details"},{"owner":{"account_id":3194053,"reputation":409,"user_id":2697661,"display_name":"tworogue"},"score":0,"creation_date":1693825037,"post_id":76901544,"comment_id":135806818,"body_markdown":"Looks like a dependency conflict to me.","body":"Looks like a dependency conflict to me."}],"owner":{"account_id":18261376,"reputation":1,"user_id":13294087,"display_name":"Mohammed Ayyad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692039969,"creation_date":1692039969,"question_id":76901544,"body_markdown":"I upgraded the application I have from java 8 to java 17, and springboot 3. and the app stopped running.\r\nI have one repo:\r\n\r\nI used ListCrudRepository instead of PagingAndSortingRepository which is not used in the current springboot version\r\n\r\n```\r\n@Repository\r\npublic interface UserRepo extends ListCrudRepository&lt;User, Long&gt; {\r\n\tOptional&lt;User&gt; findByUsername(String username);\r\n\tOptional&lt;User&gt; findByUsernameAndLkpUserType(String username, LkpUserType lkpUserType);\r\n\tOptional&lt;User&gt; findByEmail(String email);\r\n\tOptional&lt;User&gt; findByRid(Long rid);\r\n\t\r\n\tPage&lt;User&gt; findAllByLkpUserType(LkpUserType lkpUserType, Pageable pageable);\r\n}\r\n```\r\n\r\nBelow you can find the full stack when i try to run the app.\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled. \r\n2023-Aug-14 21:58:35 [restartedMain] ERROR o.s.b.SpringApplication                            - Application run failed \r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Receiver class org.hibernate.envers.internal.entities.RevisionTypeType does not define or inherit an implementation of the resolved method &#39;abstract int getSqlType()&#39; of interface org.hibernate.usertype.UserType.\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) [spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.healthcare.thelab.ThelabApplication.main(ThelabApplication.java:21) [classes/:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\r\n```\r\n\r\n\r\nI reviewed all the recommanded dependencies but nothing is working.","title":"Running SpringBoot 3 application with Security Configuration","body":"<p>I upgraded the application I have from java 8 to java 17, and springboot 3. and the app stopped running.\nI have one repo:</p>\n<p>I used ListCrudRepository instead of PagingAndSortingRepository which is not used in the current springboot version</p>\n<pre><code>@Repository\npublic interface UserRepo extends ListCrudRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n    Optional&lt;User&gt; findByUsernameAndLkpUserType(String username, LkpUserType lkpUserType);\n    Optional&lt;User&gt; findByEmail(String email);\n    Optional&lt;User&gt; findByRid(Long rid);\n    \n    Page&lt;User&gt; findAllByLkpUserType(LkpUserType lkpUserType, Pageable pageable);\n}\n</code></pre>\n<p>Below you can find the full stack when i try to run the app.</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled. \n2023-Aug-14 21:58:35 [restartedMain] ERROR o.s.b.SpringApplication                            - Application run failed \norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Receiver class org.hibernate.envers.internal.entities.RevisionTypeType does not define or inherit an implementation of the resolved method 'abstract int getSqlType()' of interface org.hibernate.usertype.UserType.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) [spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-3.1.2.jar:3.1.2]\n    at com.healthcare.thelab.ThelabApplication.main(ThelabApplication.java:21) [classes/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n\n</code></pre>\n<p>I reviewed all the recommanded dependencies but nothing is working.</p>\n"},{"tags":["java","string","if-statement","for-loop","return"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1476388886,"post_id":40029839,"comment_id":67337002,"body_markdown":"You meant `indexOf(s.charAt(i))`, and you need to exit the loop, otherwise you&#39;ll find the *last* index of a vowel. Voting to close as &quot;can no longer be reproduced&quot;, since it&#39;s unlikely this will be of any use to others.","body":"You meant <code>indexOf(s.charAt(i))</code>, and you need to exit the loop, otherwise you&#39;ll find the <i>last</i> index of a vowel. Voting to close as &quot;can no longer be reproduced&quot;, since it&#39;s unlikely this will be of any use to others."},{"owner":{"account_id":4454172,"reputation":4092,"user_id":3625036,"accept_rate":75,"display_name":"ItamarG3"},"score":0,"creation_date":1476389114,"post_id":40029839,"comment_id":67337119,"body_markdown":"did you manage to work it out?","body":"did you manage to work it out?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1476389269,"post_id":40029839,"comment_id":67337215,"body_markdown":"*FYI:* Method name is misleading. `isVowel()` sounds like it should return a boolean, and doesn&#39;t indicate what an `int` return value would be. Good name might be `indexOfFirstVowel()`.","body":"<i>FYI:</i> Method name is misleading. <code>isVowel()</code> sounds like it should return a boolean, and doesn&#39;t indicate what an <code>int</code> return value would be. Good name might be <code>indexOfFirstVowel()</code>."},{"owner":{"account_id":9432909,"reputation":41,"user_id":7015821,"display_name":"suck_at_coding18"},"score":0,"creation_date":1476390513,"post_id":40029839,"comment_id":67337890,"body_markdown":"I haven&#39;t figured it out yet. I did what Andreas suggested but now its giving me an error. I put a break in the if statement but i&#39;m not sure how else to end the loop. @ItamarGreen","body":"I haven&#39;t figured it out yet. I did what Andreas suggested but now its giving me an error. I put a break in the if statement but i&#39;m not sure how else to end the loop. @ItamarGreen"},{"owner":{"account_id":4454172,"reputation":4092,"user_id":3625036,"accept_rate":75,"display_name":"ItamarG3"},"score":0,"creation_date":1476390540,"post_id":40029839,"comment_id":67337907,"body_markdown":"putting a break ends the loop","body":"putting a break ends the loop"}],"answers":[{"tags":[],"owner":{"account_id":2115342,"reputation":1106,"user_id":1879800,"display_name":"Matthew Diana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476389782,"creation_date":1476389782,"answer_id":40030176,"question_id":40029839,"body_markdown":"Utilize a private static method to check if a certain character is a vowel:\r\n\r\n\tpublic static int firstVowelPos(String s) {\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tchar c = s.charAt(i);\r\n\t\t\tif (isVowel(c))\r\n\t\t\t\treturn s.indexOf(c);\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\t\r\n\r\n    private static boolean isVowel(char c) {\r\n\t\t  return &quot;AEIOUaeiou&quot;.indexOf(c) != -1;\r\n\t}\r\n\r\nIf you don&#39;t need to check for vowels anywhere else in your code, this can be simplified by moving the vowel checking into your conditional statement:\r\n\r\n\tpublic static int firstVowelPos(String s) {\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tchar c = s.charAt(i);\r\n\t\t\tif (&quot;AEIOUaeiou&quot;.indexOf(c) != -1)\r\n\t\t\t\treturn s.indexOf(c);\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\t","title":"Finding the index of the first vowel in a string","body":"<p>Utilize a private static method to check if a certain character is a vowel:</p>\n\n<pre><code>public static int firstVowelPos(String s) {\n    for (int i = 0; i &lt; s.length(); i++) {\n        char c = s.charAt(i);\n        if (isVowel(c))\n            return s.indexOf(c);\n    }\n    return -1;\n}   \n\nprivate static boolean isVowel(char c) {\n      return \"AEIOUaeiou\".indexOf(c) != -1;\n}\n</code></pre>\n\n<p>If you don't need to check for vowels anywhere else in your code, this can be simplified by moving the vowel checking into your conditional statement:</p>\n\n<pre><code>public static int firstVowelPos(String s) {\n    for (int i = 0; i &lt; s.length(); i++) {\n        char c = s.charAt(i);\n        if (\"AEIOUaeiou\".indexOf(c) != -1)\n            return s.indexOf(c);\n    }\n    return -1;\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5550463,"reputation":359,"user_id":4403738,"accept_rate":56,"display_name":"gameCoder95"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476390459,"creation_date":1476390459,"answer_id":40030363,"question_id":40029839,"body_markdown":"The reason why your method isn&#39;t returning anything is because it&#39;s checking for the index of an integer within a string of all vowels. What you should do is check the character at i within s, see if it&#39;s a vowel, and then return that index.\r\n\r\nAlso, I would recommend renaming your method to something like &quot;indexFirstVowel&quot;. Below is a possible solution if you want to try it:\r\n\r\n    public class Vowel\r\n    {\r\n\r\n         public static void main(String[] args)\r\n         {\r\n            int x = indexFirstVowel(&quot;Hello World&quot;);\r\n         }\r\n\r\n\r\n         public static int indexFirstVowel(String s)\r\n         {\r\n            for(int i = 0; i &lt; s.length(); i++)\r\n            {\r\n                  switch(s.charAt(i))\r\n                  {\r\n                      case &#39;a&#39;:\r\n                      case &#39;e&#39;:\r\n                      case &#39;i&#39;:\r\n                      case &#39;o&#39;:\r\n                      case &#39;u&#39;:\r\n                      case &#39;A&#39;:\r\n                      case &#39;E&#39;:\r\n                      case &#39;I&#39;:\r\n                      case &#39;O&#39;:\r\n                      case &#39;U&#39;:\r\n                         return i;\r\n                      default:\r\n                         break;\r\n                  }\r\n             }\r\n\r\n              return -1;\r\n         }\r\n    }","title":"Finding the index of the first vowel in a string","body":"<p>The reason why your method isn't returning anything is because it's checking for the index of an integer within a string of all vowels. What you should do is check the character at i within s, see if it's a vowel, and then return that index.</p>\n\n<p>Also, I would recommend renaming your method to something like \"indexFirstVowel\". Below is a possible solution if you want to try it:</p>\n\n<pre><code>public class Vowel\n{\n\n     public static void main(String[] args)\n     {\n        int x = indexFirstVowel(\"Hello World\");\n     }\n\n\n     public static int indexFirstVowel(String s)\n     {\n        for(int i = 0; i &lt; s.length(); i++)\n        {\n              switch(s.charAt(i))\n              {\n                  case 'a':\n                  case 'e':\n                  case 'i':\n                  case 'o':\n                  case 'u':\n                  case 'A':\n                  case 'E':\n                  case 'I':\n                  case 'O':\n                  case 'U':\n                     return i;\n                  default:\n                     break;\n              }\n         }\n\n          return -1;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26029835,"reputation":192,"user_id":19736238,"display_name":"ScottyA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692039167,"creation_date":1692039167,"answer_id":76901475,"question_id":40029839,"body_markdown":"**Swift 5.8** I wrote a simple function to find the index of the first vowel in a string:\r\n\r\n    func findIndexOfFirstVowel(_ word: String) -&gt; Int {\r\n        word.map { $0.lowercased() }.firstIndex(where: { $0 == &quot;a&quot; || $0 == &quot;e&quot; || $0 == &quot;i&quot; || $0 == &quot;o&quot; || $0 == &quot;u&quot; })!\r\n    }\r\n\r\nI don&#39;t recommend force unwrapping in production code, and there may be a more efficient way to check for vowels. Nonetheless, I wanted to offer this as an alternate solution. ","title":"Finding the index of the first vowel in a string","body":"<p><strong>Swift 5.8</strong> I wrote a simple function to find the index of the first vowel in a string:</p>\n<pre><code>func findIndexOfFirstVowel(_ word: String) -&gt; Int {\n    word.map { $0.lowercased() }.firstIndex(where: { $0 == &quot;a&quot; || $0 == &quot;e&quot; || $0 == &quot;i&quot; || $0 == &quot;o&quot; || $0 == &quot;u&quot; })!\n}\n</code></pre>\n<p>I don't recommend force unwrapping in production code, and there may be a more efficient way to check for vowels. Nonetheless, I wanted to offer this as an alternate solution.</p>\n"}],"owner":{"account_id":9432909,"reputation":41,"user_id":7015821,"display_name":"suck_at_coding18"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4034,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1692039167,"creation_date":1476388622,"question_id":40029839,"body_markdown":"So i&#39;m having trouble finding the index of the first vowel in a string. This is the code I came up with but its not returning anything.\r\nIts supposed to return the index of the first vowel for example if the string was &quot;Hello World&quot; it should return 1 because the index of the first vowel is &#39;e&#39;. If there is no vowel in the given string it should return -1.\r\n\r\n    public class Vowel\r\n    {\r\n        public static int isVowel(String s)\r\n        {\r\n    \t    int a = -1;\r\n    \t    for(int i = 0; i &lt; s.length(); i++)\r\n    \t    {\r\n    \t\t    if(&quot;aeiouAEIOU&quot;.indexOf(i) &gt;= 0)\r\n                {\r\n                    a = i; \t\r\n    \t        }\r\n    \t\t}\r\n    \t    return a;\r\n        }\r\n    }","title":"Finding the index of the first vowel in a string","body":"<p>So i'm having trouble finding the index of the first vowel in a string. This is the code I came up with but its not returning anything.\nIts supposed to return the index of the first vowel for example if the string was \"Hello World\" it should return 1 because the index of the first vowel is 'e'. If there is no vowel in the given string it should return -1.</p>\n\n<pre><code>public class Vowel\n{\n    public static int isVowel(String s)\n    {\n        int a = -1;\n        for(int i = 0; i &lt; s.length(); i++)\n        {\n            if(\"aeiouAEIOU\".indexOf(i) &gt;= 0)\n            {\n                a = i;  \n            }\n        }\n        return a;\n    }\n}\n</code></pre>\n"},{"tags":["java","jakarta-ee","jasper-reports","jasperserver","dynamic-jasper"],"comments":[{"owner":{"account_id":1651190,"reputation":3119,"user_id":1521776,"display_name":"MrsTang"},"score":0,"creation_date":1357558851,"post_id":13889113,"comment_id":19678881,"body_markdown":"did you create a font extension with the Bangla font?","body":"did you create a font extension with the Bangla font?"},{"owner":{"account_id":1804135,"reputation":1832,"user_id":1641661,"accept_rate":74,"display_name":"Śhāhēēd"},"score":0,"creation_date":1357621903,"post_id":13889113,"comment_id":19703203,"body_markdown":"For your realization this question edited, where you will find the extension &amp; fonts.xml. So if you have any doubt just inform me. Thanks","body":"For your realization this question edited, where you will find the extension &amp; fonts.xml. So if you have any doubt just inform me. Thanks"},{"owner":{"account_id":1327441,"reputation":3821,"user_id":1271985,"accept_rate":79,"display_name":"sarwar026"},"score":0,"creation_date":1496129418,"post_id":13889113,"comment_id":75520380,"body_markdown":"@ShahedHossain: did you find any solution? I am in the same problem.","body":"@ShahedHossain: did you find any solution? I am in the same problem."},{"owner":{"account_id":1804135,"reputation":1832,"user_id":1641661,"accept_rate":74,"display_name":"Śhāhēēd"},"score":0,"creation_date":1496217714,"post_id":13889113,"comment_id":75564941,"body_markdown":"Mr. [sarwar026](https://stackoverflow.com/users/1271985) not yet! Possible causes the [iText](https://mvnrepository.com/artifact/com.lowagie/itext) version that not supported. You can render pdf with latest version of [iText](https://mvnrepository.com/artifact/com.lowagie/itext). Where jasper using very old version of [iText](https://mvnrepository.com/artifact/com.lowagie/itext)","body":"Mr. <a href=\"https://stackoverflow.com/users/1271985\">sarwar026</a> not yet! Possible causes the <a href=\"https://mvnrepository.com/artifact/com.lowagie/itext\" rel=\"nofollow noreferrer\">iText</a> version that not supported. You can render pdf with latest version of <a href=\"https://mvnrepository.com/artifact/com.lowagie/itext\" rel=\"nofollow noreferrer\">iText</a>. Where jasper using very old version of <a href=\"https://mvnrepository.com/artifact/com.lowagie/itext\" rel=\"nofollow noreferrer\">iText</a>"},{"owner":{"account_id":1804135,"reputation":1832,"user_id":1641661,"accept_rate":74,"display_name":"Śhāhēēd"},"score":0,"creation_date":1529487626,"post_id":13889113,"comment_id":88887393,"body_markdown":"Expected to be work with `net.sf.jasperreports:jasperreports:jar` for version [6.0.0](https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.0.0), [6.0.2](https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.0.2) or [6.0.3](https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.0.3).","body":"Expected to be work with <code>net.sf.jasperreports:jasperreports:jar</code> for version <a href=\"https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.0.0\" rel=\"nofollow noreferrer\">6.0.0</a>, <a href=\"https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.0.2\" rel=\"nofollow noreferrer\">6.0.2</a> or <a href=\"https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports/6.0.3\" rel=\"nofollow noreferrer\">6.0.3</a>."}],"answers":[{"tags":[],"owner":{"account_id":1578496,"reputation":41,"user_id":1464394,"display_name":"Raj Kapur Saha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529899970,"creation_date":1529899970,"answer_id":51016196,"question_id":13889113,"body_markdown":"I have way-around for this problem, first need to use Bijoy encoding then use any Bijoy unicode font (DestinyMJ).\r\n\r\nগোপালগঞ্জ bijoy encoding - &gt; †MvcvjM&#196;\r\n\r\n{NAME_BN} = &#39;†MvcvjM&#196;&#39;;\r\n\r\n&lt;textFieldExpression&gt;&lt;![CDATA[$F{NAME_BN}]]&gt;&lt;/textFieldExpression&gt;\r\n\r\nit will print গোপালগঞ্জ correctly.","title":"How to render Bangla SolaimanLipi Font in Jasper PDF report","body":"<p>I have way-around for this problem, first need to use Bijoy encoding then use any Bijoy unicode font (DestinyMJ).</p>\n\n<p>গোপালগঞ্জ bijoy encoding - > †MvcvjMÄ</p>\n\n<p>{NAME_BN} = '†MvcvjMÄ';</p>\n\n<p></p>\n\n<p>it will print গোপালগঞ্জ correctly.</p>\n"}],"owner":{"account_id":1804135,"reputation":1832,"user_id":1641661,"accept_rate":74,"display_name":"Śhāhēēd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2768,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1692039011,"creation_date":1355543207,"question_id":13889113,"body_markdown":"We are using Jasper report 4.x. It working fine with Unicode char set like arabic, Bangla with SolaimanLipi in Jasper Viewer after embedding font on jasperreports-fonts-4.5.0 . But When I trying for pdf report. Arabic &amp; English font are rendered well, But Bangla font are not rendered hope fully. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;BANGLA&quot; language=&quot;groovy&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;2f940500-af46-4cbf-97d6-710e159ff606&quot;&gt;\r\n    \t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;property name=&quot;ireport.y&quot; value=&quot;0&quot;/&gt;\r\n    \t&lt;queryString&gt;\r\n    \t\t&lt;![CDATA[SELECT\r\n         t01i001.`F_ID` AS ID,\r\n         t01i001.`F_REVISION` AS REVISION,\r\n         t01i001.`F_REGISTER_DATE` AS REGISTER_DATE,\r\n         t01i001.`F_REGISTER_USER` AS REGISTER_USER,\r\n         t01i001.`F_REVISION_DATE` AS REVISION_DATE,\r\n         t01i001.`F_REVISION_USER` AS REVISION_USER,\r\n         t01i001.`F_NAME_BN` AS NAME_BN,\r\n         t01i001.`F_NAME_EN` AS NAME_EN\r\n    FROM\r\n         `t01i001` t01i001]]&gt;\r\n    \t&lt;/queryString&gt;\r\n    \t&lt;field name=&quot;ID&quot; class=&quot;java.lang.Long&quot;/&gt;\r\n    \t&lt;field name=&quot;REVISION&quot; class=&quot;java.lang.Long&quot;/&gt;\r\n    \t&lt;field name=&quot;REGISTER_DATE&quot; class=&quot;java.sql.Timestamp&quot;/&gt;\r\n    \t&lt;field name=&quot;REGISTER_USER&quot; class=&quot;java.lang.Integer&quot;/&gt;\r\n    \t&lt;field name=&quot;REVISION_DATE&quot; class=&quot;java.sql.Timestamp&quot;/&gt;\r\n    \t&lt;field name=&quot;REVISION_USER&quot; class=&quot;java.lang.Integer&quot;/&gt;\r\n    \t&lt;field name=&quot;NAME_BN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;field name=&quot;NAME_EN&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;background&gt;\r\n    \t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/background&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/title&gt;\r\n    \t&lt;pageHeader&gt;\r\n    \t\t&lt;band height=&quot;35&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/pageHeader&gt;\r\n    \t&lt;columnHeader&gt;\r\n    \t\t&lt;band height=&quot;20&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement uuid=&quot;9e2ca429-638e-4bf0-a2f9-a40c5edbecf7&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[ID]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement uuid=&quot;e502c14f-a347-4fe5-bd15-fbf85d7ebeee&quot; x=&quot;100&quot; y=&quot;0&quot; width=&quot;214&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[NAME_EN]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement uuid=&quot;156fd960-8182-437f-8a9b-90a89467b1bc&quot; x=&quot;314&quot; y=&quot;0&quot; width=&quot;241&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[NAME_BN]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/columnHeader&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;20&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement uuid=&quot;1f6fc0f9-33da-4c1c-b97f-4d9e1c975958&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{ID}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement uuid=&quot;1986cb1d-ca64-4edc-b74b-c6a49f2549cc&quot; x=&quot;100&quot; y=&quot;0&quot; width=&quot;214&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{NAME_EN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement uuid=&quot;4d439fed-f786-44cb-bf31-128a9e8ee3a2&quot; x=&quot;314&quot; y=&quot;0&quot; width=&quot;241&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;SolaimanLipi&quot; isPdfEmbedded=&quot;true&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{NAME_BN}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/detail&gt;\r\n    \t&lt;columnFooter&gt;\r\n    \t\t&lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/columnFooter&gt;\r\n    \t&lt;pageFooter&gt;\r\n    \t\t&lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/pageFooter&gt;\r\n    \t&lt;summary&gt;\r\n    \t\t&lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/summary&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\nHere i used jasperreports_extension.properties\r\n\r\n    net.sf.jasperreports.extension.registry.factory.simple.font.families=net.sf.jasperreports.engine.fonts.SimpleFontExtensionsRegistryFactory\r\n    net.sf.jasperreports.extension.simple.font.families.dejavu=net/sf/jasperreports/fonts/fonts.xml\r\n\r\nIn fonts.xml made following entries \r\n\r\n    &lt;fontFamily name=&quot;SolaimanLipi&quot;&gt;\r\n           &lt;normal&gt;net/sf/jasperreports/fonts/rdp/SOLAIMANLIPI.ttf&lt;/normal&gt;\r\n           &lt;bold&gt;net/sf/jasperreports/fonts/rdp/SOLAIMANLIPI.ttf&lt;/bold&gt;\r\n           &lt;italic&gt;net/sf/jasperreports/fonts/rdp/SOLAIMANLIPI.ttf&lt;/italic&gt;\r\n           &lt;boldItalic&gt;net/sf/jasperreports/fonts/rdp/SOLAIMANLIPI.ttf&lt;/boldItalic&gt;\r\n           &lt;pdfEncoding&gt;Identity-H&lt;/pdfEncoding&gt;\r\n           &lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\r\n    &lt;/fontFamily&gt;\r\n\r\nThen I rebuild the jar file with own font set\r\n\r\nFor example where it rendered as below:\r\n\r\n 1. গ োপালগঞ্ জ  instead of গোপালগঞ্জ\r\n 2. মুন্ সীগঞ্ জ  instead of মুন্সীগঞ্জ\r\n 3. ময়মনস িংহ  instead of ময়মনসিংহ\r\n\r\nI just made a virtual realization as above. Any solution?\r\n","title":"How to render Bangla SolaimanLipi Font in Jasper PDF report","body":"<p>We are using Jasper report 4.x. It working fine with Unicode char set like arabic, Bangla with SolaimanLipi in Jasper Viewer after embedding font on jasperreports-fonts-4.5.0 . But When I trying for pdf report. Arabic &amp; English font are rendered well, But Bangla font are not rendered hope fully. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"BANGLA\" language=\"groovy\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"2f940500-af46-4cbf-97d6-710e159ff606\"&gt;\n    &lt;property name=\"ireport.zoom\" value=\"1.0\"/&gt;\n    &lt;property name=\"ireport.x\" value=\"0\"/&gt;\n    &lt;property name=\"ireport.y\" value=\"0\"/&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[SELECT\n     t01i001.`F_ID` AS ID,\n     t01i001.`F_REVISION` AS REVISION,\n     t01i001.`F_REGISTER_DATE` AS REGISTER_DATE,\n     t01i001.`F_REGISTER_USER` AS REGISTER_USER,\n     t01i001.`F_REVISION_DATE` AS REVISION_DATE,\n     t01i001.`F_REVISION_USER` AS REVISION_USER,\n     t01i001.`F_NAME_BN` AS NAME_BN,\n     t01i001.`F_NAME_EN` AS NAME_EN\nFROM\n     `t01i001` t01i001]]&gt;\n    &lt;/queryString&gt;\n    &lt;field name=\"ID\" class=\"java.lang.Long\"/&gt;\n    &lt;field name=\"REVISION\" class=\"java.lang.Long\"/&gt;\n    &lt;field name=\"REGISTER_DATE\" class=\"java.sql.Timestamp\"/&gt;\n    &lt;field name=\"REGISTER_USER\" class=\"java.lang.Integer\"/&gt;\n    &lt;field name=\"REVISION_DATE\" class=\"java.sql.Timestamp\"/&gt;\n    &lt;field name=\"REVISION_USER\" class=\"java.lang.Integer\"/&gt;\n    &lt;field name=\"NAME_BN\" class=\"java.lang.String\"/&gt;\n    &lt;field name=\"NAME_EN\" class=\"java.lang.String\"/&gt;\n    &lt;background&gt;\n        &lt;band splitType=\"Stretch\"/&gt;\n    &lt;/background&gt;\n    &lt;title&gt;\n        &lt;band height=\"79\" splitType=\"Stretch\"/&gt;\n    &lt;/title&gt;\n    &lt;pageHeader&gt;\n        &lt;band height=\"35\" splitType=\"Stretch\"/&gt;\n    &lt;/pageHeader&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=\"20\" splitType=\"Stretch\"&gt;\n            &lt;staticText&gt;\n                &lt;reportElement uuid=\"9e2ca429-638e-4bf0-a2f9-a40c5edbecf7\" x=\"0\" y=\"0\" width=\"100\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;text&gt;&lt;![CDATA[ID]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement uuid=\"e502c14f-a347-4fe5-bd15-fbf85d7ebeee\" x=\"100\" y=\"0\" width=\"214\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;text&gt;&lt;![CDATA[NAME_EN]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;staticText&gt;\n                &lt;reportElement uuid=\"156fd960-8182-437f-8a9b-90a89467b1bc\" x=\"314\" y=\"0\" width=\"241\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;text&gt;&lt;![CDATA[NAME_BN]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=\"20\" splitType=\"Stretch\"&gt;\n            &lt;textField&gt;\n                &lt;reportElement uuid=\"1f6fc0f9-33da-4c1c-b97f-4d9e1c975958\" x=\"0\" y=\"0\" width=\"100\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{ID}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement uuid=\"1986cb1d-ca64-4edc-b74b-c6a49f2549cc\" x=\"100\" y=\"0\" width=\"214\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{NAME_EN}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement uuid=\"4d439fed-f786-44cb-bf31-128a9e8ee3a2\" x=\"314\" y=\"0\" width=\"241\" height=\"20\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"SolaimanLipi\" isPdfEmbedded=\"true\"/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$F{NAME_BN}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n    &lt;columnFooter&gt;\n        &lt;band height=\"45\" splitType=\"Stretch\"/&gt;\n    &lt;/columnFooter&gt;\n    &lt;pageFooter&gt;\n        &lt;band height=\"54\" splitType=\"Stretch\"/&gt;\n    &lt;/pageFooter&gt;\n    &lt;summary&gt;\n        &lt;band height=\"42\" splitType=\"Stretch\"/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p>Here i used jasperreports_extension.properties</p>\n\n<pre><code>net.sf.jasperreports.extension.registry.factory.simple.font.families=net.sf.jasperreports.engine.fonts.SimpleFontExtensionsRegistryFactory\nnet.sf.jasperreports.extension.simple.font.families.dejavu=net/sf/jasperreports/fonts/fonts.xml\n</code></pre>\n\n<p>In fonts.xml made following entries </p>\n\n<pre><code>&lt;fontFamily name=\"SolaimanLipi\"&gt;\n       &lt;normal&gt;net/sf/jasperreports/fonts/rdp/SOLAIMANLIPI.ttf&lt;/normal&gt;\n       &lt;bold&gt;net/sf/jasperreports/fonts/rdp/SOLAIMANLIPI.ttf&lt;/bold&gt;\n       &lt;italic&gt;net/sf/jasperreports/fonts/rdp/SOLAIMANLIPI.ttf&lt;/italic&gt;\n       &lt;boldItalic&gt;net/sf/jasperreports/fonts/rdp/SOLAIMANLIPI.ttf&lt;/boldItalic&gt;\n       &lt;pdfEncoding&gt;Identity-H&lt;/pdfEncoding&gt;\n       &lt;pdfEmbedded&gt;true&lt;/pdfEmbedded&gt;\n&lt;/fontFamily&gt;\n</code></pre>\n\n<p>Then I rebuild the jar file with own font set</p>\n\n<p>For example where it rendered as below:</p>\n\n<ol>\n<li>গ োপালগঞ্ জ  instead of গোপালগঞ্জ</li>\n<li>মুন্ সীগঞ্ জ  instead of মুন্সীগঞ্জ</li>\n<li>ময়মনস িংহ  instead of ময়মনসিংহ</li>\n</ol>\n\n<p>I just made a virtual realization as above. Any solution?</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":13093029,"reputation":2934,"user_id":9459816,"display_name":"Erubiel"},"score":0,"creation_date":1535576771,"post_id":52085949,"comment_id":91122460,"body_markdown":"`PdfFontFactory.createFont(FONTrus, &quot;CP1251&quot;, true);` Shouldn&#39;t this be just FONT instead of FONTrus? `PdfFontFactory.createFont(FONT, &quot;CP1251&quot;, true);`","body":"<code>PdfFontFactory.createFont(FONTrus, &quot;CP1251&quot;, true);</code> Shouldn&#39;t this be just FONT instead of FONTrus? <code>PdfFontFactory.createFont(FONT, &quot;CP1251&quot;, true);</code>"},{"owner":{"account_id":14220651,"reputation":149,"user_id":10273150,"display_name":"heavywar"},"score":0,"creation_date":1535577973,"post_id":52085949,"comment_id":91122912,"body_markdown":"public static final String FONTrus = &quot;./src/main/resources/OlgaCTT.ttf&quot;;","body":"public static final String FONTrus = &quot;./src/main/resources/OlgaCTT.ttf&quot;;"},{"owner":{"account_id":5528694,"reputation":1896,"user_id":4389432,"display_name":"Paulo Soares"},"score":3,"creation_date":1535580877,"post_id":52085949,"comment_id":91123835,"body_markdown":"Isn&#39;t it a problem with the source file encoding?","body":"Isn&#39;t it a problem with the source file encoding?"},{"owner":{"account_id":14220651,"reputation":149,"user_id":10273150,"display_name":"heavywar"},"score":0,"creation_date":1535617737,"post_id":52085949,"comment_id":91134780,"body_markdown":"in itext 5 work.","body":"in itext 5 work."},{"owner":{"account_id":241321,"reputation":1567,"user_id":512061,"display_name":"Micha&#235;l Demey"},"score":1,"creation_date":1535633059,"post_id":52085949,"comment_id":91144979,"body_markdown":"String b probably has the wrong encoding, don&#39;t use text like that, but use the unicode representation.","body":"String b probably has the wrong encoding, don&#39;t use text like that, but use the unicode representation."}],"answers":[{"tags":[],"owner":{"account_id":9781391,"reputation":358,"user_id":7249306,"display_name":"Denis Abakumov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692037697,"creation_date":1692037697,"answer_id":76901348,"question_id":52085949,"body_markdown":"The issue is definitely NOT in the way you define the string variables. It is in the fact that, although you setFont() for text B, you don&#39;t use it when creating a new Paragraph. So:\r\n\r\n```java\r\nParagraph paragraph1 = new Paragraph()\r\n                        .add(b).setFontSize(15);\r\n```\r\nshould be:\r\n\r\n```java\r\nParagraph paragraph1 = new Paragraph()\r\n                        .add(text1).setFontSize(15);\r\n```\r\n\r\nMind the `.add(text1)` vs `add(b)`.\r\nWith this fix only, both lines are output in the PDF.","title":"Cyrillic does not work in Itext 7","body":"<p>The issue is definitely NOT in the way you define the string variables. It is in the fact that, although you setFont() for text B, you don't use it when creating a new Paragraph. So:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Paragraph paragraph1 = new Paragraph()\n                        .add(b).setFontSize(15);\n</code></pre>\n<p>should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Paragraph paragraph1 = new Paragraph()\n                        .add(text1).setFontSize(15);\n</code></pre>\n<p>Mind the <code>.add(text1)</code> vs <code>add(b)</code>.\nWith this fix only, both lines are output in the PDF.</p>\n"}],"owner":{"account_id":14220651,"reputation":149,"user_id":10273150,"display_name":"heavywar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692037697,"creation_date":1535576145,"question_id":52085949,"body_markdown":" \r\n\r\n    PdfFont fontrus = PdfFontFactory.createFont(FONTrus, &quot;CP1251&quot;, true); \r\n    String a = &quot;\\u041e\\u0442\\u043a\\u0443\\u0434\\u0430 \\u0442\\u044b?&quot;; \r\n    String b = &quot;Привет мир&quot;; \r\n    \r\n    Text text = new Text(a);\r\n    \r\n     \r\n    Text text1 = new Text(b);   \r\n    text.setFont(fontrus);\r\n    text1.setFont(fontrus); \r\n    Paragraph paragraph = new Paragraph()\r\n                            .add(text).setFontSize(15);\r\n    Paragraph paragraph1 = new Paragraph()\r\n                            .add(b).setFontSize(15);\r\n        \r\n             \r\n\r\n**work**-\r\n\r\n&gt; String a = &quot;\\u041e\\u0442\\u043a\\u0443\\u0434\\u0430 \\u0442\\u044b?&quot;;\r\n\r\n**don&#39;t work -**\r\n\r\n    \r\n\r\n&gt;  String b = &quot;Привет мир&quot;;\r\n\r\n[enter image description here][1]\r\n   \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cKFPC.png\r\n\r\nEverything works in itext 5, but does not work in itext7\r\n\r\n","title":"Cyrillic does not work in Itext 7","body":"<pre><code>PdfFont fontrus = PdfFontFactory.createFont(FONTrus, \"CP1251\", true); \nString a = \"\\u041e\\u0442\\u043a\\u0443\\u0434\\u0430 \\u0442\\u044b?\"; \nString b = \"Привет мир\"; \n\nText text = new Text(a);\n\n\nText text1 = new Text(b);   \ntext.setFont(fontrus);\ntext1.setFont(fontrus); \nParagraph paragraph = new Paragraph()\n                        .add(text).setFontSize(15);\nParagraph paragraph1 = new Paragraph()\n                        .add(b).setFontSize(15);\n</code></pre>\n\n<p><strong>work</strong>-</p>\n\n<blockquote>\n  <p>String a = \"\\u041e\\u0442\\u043a\\u0443\\u0434\\u0430 \\u0442\\u044b?\";</p>\n</blockquote>\n\n<p><strong>don't work -</strong></p>\n\n<blockquote>\n  <p>String b = \"Привет мир\";</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/cKFPC.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Everything works in itext 5, but does not work in itext7</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":7221833,"reputation":1,"user_id":5511989,"display_name":"sagar kulkarni"},"score":0,"creation_date":1692040209,"post_id":76894452,"comment_id":135569231,"body_markdown":"Found the cause. After creating font using PdfFontFactory.createFont(&quot;Helvetica-Bold&quot;, PdfEncodings.WINANSI, PdfFontFactory.EmbeddingStrategy.PREFER_EMBEDDED) the font now look same. SetBold() seems different than directly creating bold font","body":"Found the cause. After creating font using PdfFontFactory.createFont(&quot;Helvetica-Bold&quot;, PdfEncodings.WINANSI, PdfFontFactory.EmbeddingStrategy.PREFER_EMBEDDED) the font now look same. SetBold() seems different than directly creating bold font"}],"owner":{"account_id":7221833,"reputation":1,"user_id":5511989,"display_name":"sagar kulkarni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692037341,"creation_date":1691947130,"question_id":76894452,"body_markdown":"We were already using itextpdf v5.5.13.2 due to vulnerability\r\nwe have migrated to v8.0.0. Now after migrating to v8.0.0, even if we use same bold font with same size, the text looks stretched vertically, also character spacing reduced in v8. For small font sizes v8 text looks blurry.Image comparison attached.\r\n\r\nSample program in v5.5.13.2\r\n\r\n\r\n```\r\nFont font = FontFactory.getFont(&quot;Helvetica&quot;, 8, Font.BOLD);\r\nParagraph paragraph = new Paragraph(&quot;Transaction Details for &quot;, font);\r\ndocument.add(paragraph);\r\n```\r\n\r\n\r\n\r\nSample in v8.0.0\r\n\r\n```\r\nPdfFont font = PdfFontFactory.createFont(&quot;Helvetica&quot;);\r\nStyle style = new Style();\r\nstyle.setBold();\r\nstyle.setFontSize(8);\r\nstyle.setFont(font);\r\nParagraph paragraph = new Paragraph(&quot;Transaction Details for&quot;).addStyle(style);\r\ndocument.add(paragraph);\r\n```\r\n`\r\n\r\nI tried with setting characterSpacing in v8. But unable to reduce vertical stretching of the font in v8. Also it looks like bold thickness in v8 is different than that of v5. For small size fonts its a issue. \r\nAlso we can&#39;t change the font size in v8 and make it bigger. \r\nKindly advice.  \r\n\r\nHere is the image that shows the behaviour under small sizes.\r\n\r\n![comparison-sample][1] \r\n\r\n\r\nBold thickness comparison -\r\n\r\n![Bold-thickness][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3SuGy.png\r\n  [2]: https://i.stack.imgur.com/tuVze.png","title":"itextpdf v8.0.0 bold text doesn&#39;t look same as that of v5.5.13.2 even same font name &amp; size is used. Perticularly for small bold font sizes","body":"<p>We were already using itextpdf v5.5.13.2 due to vulnerability\nwe have migrated to v8.0.0. Now after migrating to v8.0.0, even if we use same bold font with same size, the text looks stretched vertically, also character spacing reduced in v8. For small font sizes v8 text looks blurry.Image comparison attached.</p>\n<p>Sample program in v5.5.13.2</p>\n<pre><code>Font font = FontFactory.getFont(&quot;Helvetica&quot;, 8, Font.BOLD);\nParagraph paragraph = new Paragraph(&quot;Transaction Details for &quot;, font);\ndocument.add(paragraph);\n</code></pre>\n<p>Sample in v8.0.0</p>\n<pre><code>PdfFont font = PdfFontFactory.createFont(&quot;Helvetica&quot;);\nStyle style = new Style();\nstyle.setBold();\nstyle.setFontSize(8);\nstyle.setFont(font);\nParagraph paragraph = new Paragraph(&quot;Transaction Details for&quot;).addStyle(style);\ndocument.add(paragraph);\n</code></pre>\n<p>`</p>\n<p>I tried with setting characterSpacing in v8. But unable to reduce vertical stretching of the font in v8. Also it looks like bold thickness in v8 is different than that of v5. For small size fonts its a issue.\nAlso we can't change the font size in v8 and make it bigger.\nKindly advice.</p>\n<p>Here is the image that shows the behaviour under small sizes.</p>\n<p><img src=\"https://i.stack.imgur.com/3SuGy.png\" alt=\"comparison-sample\" /></p>\n<p>Bold thickness comparison -</p>\n<p><img src=\"https://i.stack.imgur.com/tuVze.png\" alt=\"Bold-thickness\" /></p>\n"},{"tags":["java","basic-authentication","retrofit"],"comments":[{"owner":{"account_id":2674531,"reputation":83,"user_id":2311226,"display_name":"Coinhunter"},"score":1,"creation_date":1396365761,"post_id":22789866,"comment_id":34749544,"body_markdown":"Feeling like a dum-dum, so here&#39;s a real protip: do not use https when connecting to localhost.","body":"Feeling like a dum-dum, so here&#39;s a real protip: do not use https when connecting to localhost."}],"answers":[{"tags":[],"owner":{"account_id":1799622,"reputation":5635,"user_id":1638277,"accept_rate":59,"display_name":"avianey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410254455,"creation_date":1410254455,"answer_id":25740963,"question_id":22789866,"body_markdown":"You can use [java.net.Authenticator][1] to configure basic auth. globally for every request send by your application, see :\r\n\r\n - http://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html\r\n - http://developer.android.com/reference/java/net/Authenticator.html#getPasswordAuthentication()\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/Authenticator.html#setDefault(java.net.Authenticator)","title":"retrofit Basic auth with requestInterceptor","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Authenticator.html#setDefault(java.net.Authenticator)\" rel=\"nofollow\">java.net.Authenticator</a> to configure basic auth. globally for every request send by your application, see :</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/net/http-auth.html</a></li>\n<li><a href=\"http://developer.android.com/reference/java/net/Authenticator.html#getPasswordAuthentication()\" rel=\"nofollow\">http://developer.android.com/reference/java/net/Authenticator.html#getPasswordAuthentication()</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1753937,"reputation":436,"user_id":1602390,"display_name":"Fawad Badar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463142117,"creation_date":1463142117,"answer_id":37209940,"question_id":22789866,"body_markdown":"For someone still looking for answer (Retrofit 2.0.2)\r\n\r\n     public class ServiceFactory {  \r\n        public static ApiClient createService(String authToken, String userName, String password) {\r\n                OkHttpClient defaultHttpClient = new OkHttpClient.Builder()\r\n                        .addInterceptor(\r\n                                chain -&gt; {\r\n                                    Request request = chain.request().newBuilder()\r\n                                            .headers(getJsonHeader(authToken))\r\n                                            .build();\r\n                                    return chain.proceed(request);\r\n                                })\r\n                        .authenticator(getBasicAuthenticator(userName, password))\r\n                        .build();\r\n                return getService(defaultHttpClient);\r\n            }\r\n            private static Headers getJsonHeader(String authToken) {\r\n                Headers.Builder builder = new Headers.Builder();\r\n                builder.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n                builder.add(&quot;Accept&quot;, &quot;application/json&quot;);\r\n                if (authToken != null &amp;&amp; !authToken.isEmpty()) {\r\n                    builder.add(&quot;X-MY-Auth&quot;, authToken);\r\n                }\r\n                return builder.build();\r\n            }\r\n            private static Authenticator getBasicAuthenticator(final String userName, final String password) {\r\n                return (route, response) -&gt; {\r\n                    String credential = Credentials.basic(userName, password);\r\n                    return response.request().newBuilder().header(&quot;Authorization&quot;, credential).build();\r\n                };\r\n            }\r\n              private static ApiClient getService(OkHttpClient defaultHttpClient) {\r\n                return new Retrofit.Builder()\r\n                        .baseUrl(BASE_URL)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\r\n                        .client(defaultHttpClient)\r\n                        .build()\r\n                        .create(ApiClient.class);\r\n            }\r\n    }","title":"retrofit Basic auth with requestInterceptor","body":"<p>For someone still looking for answer (Retrofit 2.0.2)</p>\n\n<pre><code> public class ServiceFactory {  \n    public static ApiClient createService(String authToken, String userName, String password) {\n            OkHttpClient defaultHttpClient = new OkHttpClient.Builder()\n                    .addInterceptor(\n                            chain -&gt; {\n                                Request request = chain.request().newBuilder()\n                                        .headers(getJsonHeader(authToken))\n                                        .build();\n                                return chain.proceed(request);\n                            })\n                    .authenticator(getBasicAuthenticator(userName, password))\n                    .build();\n            return getService(defaultHttpClient);\n        }\n        private static Headers getJsonHeader(String authToken) {\n            Headers.Builder builder = new Headers.Builder();\n            builder.add(\"Content-Type\", \"application/json\");\n            builder.add(\"Accept\", \"application/json\");\n            if (authToken != null &amp;&amp; !authToken.isEmpty()) {\n                builder.add(\"X-MY-Auth\", authToken);\n            }\n            return builder.build();\n        }\n        private static Authenticator getBasicAuthenticator(final String userName, final String password) {\n            return (route, response) -&gt; {\n                String credential = Credentials.basic(userName, password);\n                return response.request().newBuilder().header(\"Authorization\", credential).build();\n            };\n        }\n          private static ApiClient getService(OkHttpClient defaultHttpClient) {\n            return new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n                    .client(defaultHttpClient)\n                    .build()\n                    .create(ApiClient.class);\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":2674531,"reputation":83,"user_id":2311226,"display_name":"Coinhunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3653,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1692037299,"creation_date":1396364969,"question_id":22789866,"body_markdown":"I&#39;ve been trying to get basic authentication to work with retrofit and a requestInterceptor, but I keep getting connection refused. I started from the retrofit example at https://github.com/square/retrofit \r\nLink to file I started with: https://github.com/square/retrofit/blob/master/retrofit-samples/github-client/src/main/java/com/example/retrofit/GitHubClient.java\r\n\r\n    import java.util.List;\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n\r\n    import retrofit.RequestInterceptor;\r\n    import retrofit.RestAdapter;\r\n    import retrofit.client.OkClient;\r\n\r\n    public class Client {\r\n        private static final String API_URL = &quot;https://localhost:3000/v1&quot;;\r\n        private static RestAdapter restAdapter = null;\r\n\r\n        public RestAdapter getAdapter() {\r\n            return restAdapter;\r\n        }\r\n\r\n        public static void init(final String username, final String password) {\r\n            OkHttpClient okHttpClient = new OkHttpClient();\r\n\r\n            RequestInterceptor requestInterceptor = new RequestInterceptor() {\r\n                @Override\r\n                public void intercept(RequestFacade request) {\r\n                    request.addHeader(&quot;Authorization&quot;, &quot;Basic NTMzYWM5MmYxZTIxYmMwMDAwZWJlNTBlOmQ=&quot;);\r\n                    //getToken(username, password)\r\n                }\r\n            };\r\n\r\n            restAdapter = new RestAdapter.Builder()\r\n                .setEndpoint(API_URL)\r\n                .setRequestInterceptor(requestInterceptor)\r\n                .build();\r\n\r\n            //.setClient(new OkClient(okHttpClient))\r\n        }\r\n\r\n        public static void main(String... args) {\r\n            // Create a REST adapter.\r\n            init(&quot;533ac92f1e21bc0000ebe50e&quot;, &quot;d&quot;); //Currently not doing anything with these, supplying B64 coded value directly instead.\r\n\r\n            // Create an instance of our GitHub API interface.\r\n            IM2HDataStore m2hDataStore = restAdapter.create(IM2HDataStore.class);\r\n\r\n            // Fetch and print a list of the samples.\r\n            List&lt;PositionSample&gt; samples = m2hDataStore.positionSamples();\r\n            for (PositionSample sample : samples) {\r\n                System.out.println(sample.get_id());\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\nSo the problem is this. I have a server running locally on my machine and I&#39;ve successfully performed requests to it with CocoaRestClient so the problem is not with the server. Here&#39;s a stack trace of the error: \r\n\r\n    Exception in thread &quot;main&quot; retrofit.RetrofitError: java.net.ConnectException: Connection refused\r\n        at retrofit.RetrofitError.networkError(RetrofitError.java:27)\r\n        at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:421)\r\n        at retrofit.RestAdapter$RestHandler.invoke(RestAdapter.java:284)\r\n        at com.sun.proxy.$Proxy0.positionSamples(Unknown Source)\r\n        at se.springworks.api.client.M2HClient.main(M2HClient.java:65)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\n    Caused by: java.net.ConnectException: Connection refused\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:382)\r\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:241)\r\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:228)\r\n        at java.net.Socket.connect(Socket.java:527)\r\n        at com.squareup.okhttp.internal.Platform.connectSocket(Platform.java:123)\r\n        at com.squareup.okhttp.Connection.connect(Connection.java:98)\r\n        at com.squareup.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:236)\r\n        at com.squareup.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:180)\r\n        at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:366)\r\n        at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:319)\r\n        at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:484)\r\n        at com.squareup.okhttp.internal.http.DelegatingHttpsURLConnection.getResponseCode(DelegatingHttpsURLConnection.java:105)\r\n        at com.squareup.okhttp.internal.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:25)\r\n        at retrofit.client.UrlConnectionClient.readResponse(UrlConnectionClient.java:71)\r\n        at retrofit.client.UrlConnectionClient.execute(UrlConnectionClient.java:38)\r\n        at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:358)\r\n        ... 8 more\r\n\r\nSo... connection refused.. any advice?","title":"retrofit Basic auth with requestInterceptor","body":"<p>I've been trying to get basic authentication to work with retrofit and a requestInterceptor, but I keep getting connection refused. I started from the retrofit example at <a href=\"https://github.com/square/retrofit\" rel=\"noreferrer\">https://github.com/square/retrofit</a> \nLink to file I started with: <a href=\"https://github.com/square/retrofit/blob/master/retrofit-samples/github-client/src/main/java/com/example/retrofit/GitHubClient.java\" rel=\"noreferrer\">https://github.com/square/retrofit/blob/master/retrofit-samples/github-client/src/main/java/com/example/retrofit/GitHubClient.java</a></p>\n\n<pre><code>import java.util.List;\n\nimport javax.xml.bind.DatatypeConverter;\n\nimport retrofit.RequestInterceptor;\nimport retrofit.RestAdapter;\nimport retrofit.client.OkClient;\n\npublic class Client {\n    private static final String API_URL = \"https://localhost:3000/v1\";\n    private static RestAdapter restAdapter = null;\n\n    public RestAdapter getAdapter() {\n        return restAdapter;\n    }\n\n    public static void init(final String username, final String password) {\n        OkHttpClient okHttpClient = new OkHttpClient();\n\n        RequestInterceptor requestInterceptor = new RequestInterceptor() {\n            @Override\n            public void intercept(RequestFacade request) {\n                request.addHeader(\"Authorization\", \"Basic NTMzYWM5MmYxZTIxYmMwMDAwZWJlNTBlOmQ=\");\n                //getToken(username, password)\n            }\n        };\n\n        restAdapter = new RestAdapter.Builder()\n            .setEndpoint(API_URL)\n            .setRequestInterceptor(requestInterceptor)\n            .build();\n\n        //.setClient(new OkClient(okHttpClient))\n    }\n\n    public static void main(String... args) {\n        // Create a REST adapter.\n        init(\"533ac92f1e21bc0000ebe50e\", \"d\"); //Currently not doing anything with these, supplying B64 coded value directly instead.\n\n        // Create an instance of our GitHub API interface.\n        IM2HDataStore m2hDataStore = restAdapter.create(IM2HDataStore.class);\n\n        // Fetch and print a list of the samples.\n        List&lt;PositionSample&gt; samples = m2hDataStore.positionSamples();\n        for (PositionSample sample : samples) {\n            System.out.println(sample.get_id());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>So the problem is this. I have a server running locally on my machine and I've successfully performed requests to it with CocoaRestClient so the problem is not with the server. Here's a stack trace of the error: </p>\n\n<pre><code>Exception in thread \"main\" retrofit.RetrofitError: java.net.ConnectException: Connection refused\n    at retrofit.RetrofitError.networkError(RetrofitError.java:27)\n    at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:421)\n    at retrofit.RestAdapter$RestHandler.invoke(RestAdapter.java:284)\n    at com.sun.proxy.$Proxy0.positionSamples(Unknown Source)\n    at se.springworks.api.client.M2HClient.main(M2HClient.java:65)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nCaused by: java.net.ConnectException: Connection refused\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:382)\n    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:241)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:228)\n    at java.net.Socket.connect(Socket.java:527)\n    at com.squareup.okhttp.internal.Platform.connectSocket(Platform.java:123)\n    at com.squareup.okhttp.Connection.connect(Connection.java:98)\n    at com.squareup.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:236)\n    at com.squareup.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:180)\n    at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:366)\n    at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:319)\n    at com.squareup.okhttp.internal.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:484)\n    at com.squareup.okhttp.internal.http.DelegatingHttpsURLConnection.getResponseCode(DelegatingHttpsURLConnection.java:105)\n    at com.squareup.okhttp.internal.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:25)\n    at retrofit.client.UrlConnectionClient.readResponse(UrlConnectionClient.java:71)\n    at retrofit.client.UrlConnectionClient.execute(UrlConnectionClient.java:38)\n    at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:358)\n    ... 8 more\n</code></pre>\n\n<p>So... connection refused.. any advice?</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1672841525,"post_id":75006598,"comment_id":132363645,"body_markdown":"Is it possible you are using a different token?","body":"Is it possible you are using a different token?"},{"owner":{"account_id":27431439,"reputation":1,"user_id":20928067,"display_name":"Trakses"},"score":0,"creation_date":1672841804,"post_id":75006598,"comment_id":132363769,"body_markdown":"I don&#39;t think so.","body":"I don&#39;t think so."},{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1672842525,"post_id":75006598,"comment_id":132364056,"body_markdown":"Are you sure that the bot is actually running? Try adding a print statement to the beginning of your listener and see if it prints anything.","body":"Are you sure that the bot is actually running? Try adding a print statement to the beginning of your listener and see if it prints anything."},{"owner":{"account_id":27431439,"reputation":1,"user_id":20928067,"display_name":"Trakses"},"score":0,"creation_date":1672843696,"post_id":75006598,"comment_id":132364502,"body_markdown":"Other functions work normally","body":"Other functions work normally"}],"answers":[{"tags":[],"owner":{"account_id":26786877,"reputation":1,"user_id":20380929,"display_name":"Wxjtxqk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692036864,"creation_date":1692036864,"answer_id":76901286,"question_id":75006598,"body_markdown":"Change for this:\r\n\r\n                Modal modal = Modal.create(&quot;test-modal&quot;, &quot;test text&quot;)\r\n                    .addActionRows(ActionRow.of(test_name), ActionRow.of(message))\r\n                    .build();\r\n","title":"JDA Discord using modals (slash commands) working only on debug mode","body":"<p>Change for this:</p>\n<pre><code>            Modal modal = Modal.create(&quot;test-modal&quot;, &quot;test text&quot;)\n                .addActionRows(ActionRow.of(test_name), ActionRow.of(message))\n                .build();\n</code></pre>\n"}],"owner":{"account_id":27431439,"reputation":1,"user_id":20928067,"display_name":"Trakses"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692036864,"creation_date":1672841031,"question_id":75006598,"body_markdown":"im using first time discord modals (slash commands) on JDA. When I export the bot and turn it on, the commands appear under / (slash commands) they do not work, it shows &quot;The application is not responding&quot;\r\n\r\n```\r\nJDA jda = JDABuilder.createDefault(token)\r\n                .setActivity(Activity.listening(&quot;TEST&quot;))\r\n                .addEventListeners(new TestCommand())\r\n                .build().awaitReady();\r\n\r\n\r\n\r\n\r\n\r\n        Guild guild = jda.getGuildById(&quot;SERVER_ID&quot;);\r\n\r\n\r\n        if (guild != null){\r\n            guild.upsertCommand(&quot;test&quot;, &quot;test command&quot;).queue();\r\n        }\r\n```\r\n\r\n*TestCommand*\r\n\r\n```\r\n@Override\r\n    public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\r\n\r\n        if (event.getName().equals(&quot;test&quot;)){\r\n\r\n            TextInput test_name = TextInput.create(&quot;test-name&quot;, &quot;Name&quot;, TextInputStyle.SHORT)\r\n                    .setPlaceholder(&quot;test text&quot;)\r\n                    .setMinLength(1)\r\n                    .setRequired(true)\r\n                    .build();\r\n\r\n            TextInput message = TextInput.create(&quot;test-message&quot;,&quot;Message&quot;, TextInputStyle.PARAGRAPH)\r\n                    .setMinLength(10)\r\n                    .setMaxLength(100)\r\n                    .setRequired(true)\r\n                    .setValue(&quot;test text.&quot;)\r\n                    .build();\r\n\r\n            Modal modal = Modal.create(&quot;test-modal&quot;, &quot;test text&quot;)\r\n                    .addActionRows(ActionRow.of(name), ActionRow.of(message))\r\n                    .build();\r\n\r\n            event.replyModal(modal).queue();\r\n```\r\n\r\nIf turn it on IntelliJ debug mode and enable the bot without exporting, the slash commands / work normally.","title":"JDA Discord using modals (slash commands) working only on debug mode","body":"<p>im using first time discord modals (slash commands) on JDA. When I export the bot and turn it on, the commands appear under / (slash commands) they do not work, it shows &quot;The application is not responding&quot;</p>\n<pre><code>JDA jda = JDABuilder.createDefault(token)\n                .setActivity(Activity.listening(&quot;TEST&quot;))\n                .addEventListeners(new TestCommand())\n                .build().awaitReady();\n\n\n\n\n\n        Guild guild = jda.getGuildById(&quot;SERVER_ID&quot;);\n\n\n        if (guild != null){\n            guild.upsertCommand(&quot;test&quot;, &quot;test command&quot;).queue();\n        }\n</code></pre>\n<p><em>TestCommand</em></p>\n<pre><code>@Override\n    public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\n\n        if (event.getName().equals(&quot;test&quot;)){\n\n            TextInput test_name = TextInput.create(&quot;test-name&quot;, &quot;Name&quot;, TextInputStyle.SHORT)\n                    .setPlaceholder(&quot;test text&quot;)\n                    .setMinLength(1)\n                    .setRequired(true)\n                    .build();\n\n            TextInput message = TextInput.create(&quot;test-message&quot;,&quot;Message&quot;, TextInputStyle.PARAGRAPH)\n                    .setMinLength(10)\n                    .setMaxLength(100)\n                    .setRequired(true)\n                    .setValue(&quot;test text.&quot;)\n                    .build();\n\n            Modal modal = Modal.create(&quot;test-modal&quot;, &quot;test text&quot;)\n                    .addActionRows(ActionRow.of(name), ActionRow.of(message))\n                    .build();\n\n            event.replyModal(modal).queue();\n</code></pre>\n<p>If turn it on IntelliJ debug mode and enable the bot without exporting, the slash commands / work normally.</p>\n"},{"tags":["java","spring-boot","singleton","spring-boot-starter"],"answers":[{"tags":[],"owner":{"account_id":2689996,"reputation":354,"user_id":2323527,"display_name":"s_qw23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692036725,"creation_date":1692036725,"answer_id":76901276,"question_id":76900458,"body_markdown":"This is syntactic sugar for\r\n\r\n    public String impl1(@RequestParam @Qualifier(&quot;impl1&quot;)Implementation1 impl) \r\n\r\nIf you take a look at the definition of @RequestParam you should see the actual scope of the parameter (which should be Session).\r\n\r\nChanging that scope would be a difficult proposition since you would have ro handle concurrent requests using the same object. ","title":"Spring boot giving different hashcode for singleton scoped bean","body":"<p>This is syntactic sugar for</p>\n<pre><code>public String impl1(@RequestParam @Qualifier(&quot;impl1&quot;)Implementation1 impl) \n</code></pre>\n<p>If you take a look at the definition of @RequestParam you should see the actual scope of the parameter (which should be Session).</p>\n<p>Changing that scope would be a difficult proposition since you would have ro handle concurrent requests using the same object.</p>\n"}],"owner":{"account_id":28446986,"reputation":21,"user_id":21765587,"display_name":"Piyush Lovanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692036725,"creation_date":1692028601,"question_id":76900458,"body_markdown":"```\r\n@Component\r\n@Qualifier(&quot;impl1&quot;)\r\npublic class Implementation1 implements BaseInterface{\t\r\n\t@Override\r\n\tpublic String process() {\r\n\t\treturn &quot;Implementation1&quot;;\r\n\t}\r\n\r\n}\r\n\r\n@RestController\r\npublic class HomeController {\r\n\t\r\n\t@GetMapping(&quot;/impl1&quot;)\r\n\t@Autowired\r\n\tpublic String impl1(@Qualifier(&quot;impl1&quot;)Implementation1 impl) {\r\n\t\treturn impl.process()+&quot; &quot;+impl.hashCode();\r\n\t}\r\n}\r\n```\r\n\r\nBy default all the beans are supposed be of singleton scope in spring boot application, and so I suppose their hashCode should be same as well. But that is not the case for me. Please let me know if I am missing something here.\r\n\r\nAbove are the Controller and Bean class, BaseInterface is a simple interface with process() abstract method.\r\nYet for each Request I am getting a different hashCode. Had it been treated as a singleton the hashCOde should have been same for each request.\r\n\r\nI expect there to be same hash code each time","title":"Spring boot giving different hashcode for singleton scoped bean","body":"<pre><code>@Component\n@Qualifier(&quot;impl1&quot;)\npublic class Implementation1 implements BaseInterface{  \n    @Override\n    public String process() {\n        return &quot;Implementation1&quot;;\n    }\n\n}\n\n@RestController\npublic class HomeController {\n    \n    @GetMapping(&quot;/impl1&quot;)\n    @Autowired\n    public String impl1(@Qualifier(&quot;impl1&quot;)Implementation1 impl) {\n        return impl.process()+&quot; &quot;+impl.hashCode();\n    }\n}\n</code></pre>\n<p>By default all the beans are supposed be of singleton scope in spring boot application, and so I suppose their hashCode should be same as well. But that is not the case for me. Please let me know if I am missing something here.</p>\n<p>Above are the Controller and Bean class, BaseInterface is a simple interface with process() abstract method.\nYet for each Request I am getting a different hashCode. Had it been treated as a singleton the hashCOde should have been same for each request.</p>\n<p>I expect there to be same hash code each time</p>\n"},{"tags":["java","spring","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":1352610,"reputation":1933,"user_id":1291778,"accept_rate":50,"display_name":"aeskreis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692035414,"creation_date":1692035414,"answer_id":76901147,"question_id":76901029,"body_markdown":"In general, unless it&#39;s absolutely necessary, you should always opt for Singleton-scope. It&#39;s generally rare in fact to use any other type of scope and it&#39;s only done in very specialized circumstances. \r\n\r\nThe question you should always ask when deciding on a scope is &quot;What state will this object need to maintain?&quot;. In general, the answer should be &quot;none&quot;. You should always strive for stateless beans whenever possible. However if there is state you want to be able to inject into objects, then the question is, what is the scope of this state? So for instance, is this state scoped to the request, is it scoped to a specific call of a method, is it scoped to a user session? \r\n\r\nWith that said, always the default should be to make your components stateless, and deviate from that only when it&#39;s necessary or advantageous. ","title":"Which scope is generally used for spring beans?","body":"<p>In general, unless it's absolutely necessary, you should always opt for Singleton-scope. It's generally rare in fact to use any other type of scope and it's only done in very specialized circumstances.</p>\n<p>The question you should always ask when deciding on a scope is &quot;What state will this object need to maintain?&quot;. In general, the answer should be &quot;none&quot;. You should always strive for stateless beans whenever possible. However if there is state you want to be able to inject into objects, then the question is, what is the scope of this state? So for instance, is this state scoped to the request, is it scoped to a specific call of a method, is it scoped to a user session?</p>\n<p>With that said, always the default should be to make your components stateless, and deviate from that only when it's necessary or advantageous.</p>\n"}],"owner":{"account_id":22999518,"reputation":1,"user_id":17123684,"display_name":"Nagarjun Selvaprabhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692036173,"creation_date":1692034189,"question_id":76901029,"body_markdown":"For a Spring-based Java web application, how can I structure the controller, service, DAO class efficiently using Spring beans?\r\n\r\nCurrently my structure is like this \r\n\r\n`TestController.class` (Prototype scope) → `TestAPI.class` (Prototype scope) → `TestService.class` (Singleton scope i.e default)\r\n\r\nI&#39;ve used Singleton scope in `TestService.class` because it contains only utils.\r\n\r\nIs this is right practice or should I go with thread, session based scope? \r\nWhat&#39;s the industry wide practice for this? ","title":"Which scope is generally used for spring beans?","body":"<p>For a Spring-based Java web application, how can I structure the controller, service, DAO class efficiently using Spring beans?</p>\n<p>Currently my structure is like this</p>\n<p><code>TestController.class</code> (Prototype scope) → <code>TestAPI.class</code> (Prototype scope) → <code>TestService.class</code> (Singleton scope i.e default)</p>\n<p>I've used Singleton scope in <code>TestService.class</code> because it contains only utils.</p>\n<p>Is this is right practice or should I go with thread, session based scope?\nWhat's the industry wide practice for this?</p>\n"},{"tags":["java","maven","build","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692036150,"creation_date":1692036150,"answer_id":76901212,"question_id":76900783,"body_markdown":"`-Ob` turns off certain rounds of optimizations, thus making builds faster. It might make sense to use `-Ob` during development, and turn it off for production builds","title":"Difference between normal build and build with -Ob in GraalVM","body":"<p><code>-Ob</code> turns off certain rounds of optimizations, thus making builds faster. It might make sense to use <code>-Ob</code> during development, and turn it off for production builds</p>\n"}],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692036150,"creation_date":1692031995,"question_id":76900783,"body_markdown":"I&#39;m new to `GraalVM` and I found that to build a Java application (spring-boot in my case) with maven in a `GraalVM` environment, the command is \r\n\r\n    mvn clean -Pnative native:compile\r\n\r\nNow, at the end of the build logs, it says that there is an alternative way to build the same application in a faster way.\r\n\r\n    QBM:  Use the quick build mode (&#39;-Ob&#39;) to speed up builds during development.\r\n\r\nSo, my question is what are the differences between normal build and quick build (`-Ob`)? Are there any demerits for using quick build? Definitely, the normal build is doing something that the quick build is not doing because of which it takes more time, right? Any ideas about which one to prefer and what time to prefer?","title":"Difference between normal build and build with -Ob in GraalVM","body":"<p>I'm new to <code>GraalVM</code> and I found that to build a Java application (spring-boot in my case) with maven in a <code>GraalVM</code> environment, the command is</p>\n<pre><code>mvn clean -Pnative native:compile\n</code></pre>\n<p>Now, at the end of the build logs, it says that there is an alternative way to build the same application in a faster way.</p>\n<pre><code>QBM:  Use the quick build mode ('-Ob') to speed up builds during development.\n</code></pre>\n<p>So, my question is what are the differences between normal build and quick build (<code>-Ob</code>)? Are there any demerits for using quick build? Definitely, the normal build is doing something that the quick build is not doing because of which it takes more time, right? Any ideas about which one to prefer and what time to prefer?</p>\n"},{"tags":["java","sql-server","tibco","tibco-business-works","tibco-designer"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1689977509,"post_id":76739575,"comment_id":135293989,"body_markdown":"The certificate validation error suggests that you&#39;re trying to connect to an SQL Server instance that you built yourself, which uses a self-signed X.509 certificate by default, or that your Java runtime&#39;s trust store doesn&#39;t contain any Root/ICA certificates that are used to sign AzureSQL certificates. Probably have a read through the [Using encryption](https://learn.microsoft.com/en-us/sql/connect/jdbc/using-ssl-encryption) document tree to understand what&#39;s happening and how to configure JDBC connection string properties to accomodate.","body":"The certificate validation error suggests that you&#39;re trying to connect to an SQL Server instance that you built yourself, which uses a self-signed X.509 certificate by default, or that your Java runtime&#39;s trust store doesn&#39;t contain any Root/ICA certificates that are used to sign AzureSQL certificates. Probably have a read through the <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-ssl-encryption\" rel=\"nofollow noreferrer\">Using encryption</a> document tree to understand what&#39;s happening and how to configure JDBC connection string properties to accomodate."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1689977538,"post_id":76739575,"comment_id":135293991,"body_markdown":"You might even need to import certificates into your trust store as per [Configuring the client for encryption](https://learn.microsoft.com/en-us/sql/connect/jdbc/configuring-the-client-for-ssl-encryption).","body":"You might even need to import certificates into your trust store as per <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/configuring-the-client-for-ssl-encryption\" rel=\"nofollow noreferrer\">Configuring the client for encryption</a>."},{"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"score":0,"creation_date":1690105556,"post_id":76739575,"comment_id":135304260,"body_markdown":"@AlwaysLearning at the end of the error message it was mentioning &quot;unable to find valid certification path to requested target&quot;. Is it referring to cacert location?","body":"@AlwaysLearning at the end of the error message it was mentioning &quot;unable to find valid certification path to requested target&quot;. Is it referring to cacert location?"},{"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"score":0,"creation_date":1690107938,"post_id":76739575,"comment_id":135304514,"body_markdown":"Also trying to figure out which certificate to add. The one used for *.database.windows.net","body":"Also trying to figure out which certificate to add. The one used for *.database.windows.net"}],"owner":{"account_id":14577408,"reputation":161,"user_id":10528903,"display_name":"Nick"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692035909,"creation_date":1689955738,"question_id":76739575,"body_markdown":"I am trying to connect from TIBCO BWCE 2.8.2 studio to Azure using ActiveDirectoryServicePrincipal. All settings are set as described by TIBCO. However, I still receive the following error:\r\n\r\nMake sure all required jar files exist at folder &#39;AzureLib&#39;\r\n\r\nAlso the location bwce\\2.8\\config\\design\\thirdparty\\AzureLib does contain the following jar.\r\n\r\nmssql-jdbc-12.2.0.jre8\r\nmssql-jdbc-12.2.0.jre11\r\n\r\nIs there another Jar required?\r\n\r\nUpdate:\r\nReceiving now the following error:\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Failed to authenticate the user &lt;&gt; in Active Directory (Authentication=ActiveDirectoryServicePrincipal). javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n ","title":"TIBCO BWCE 2.8.2 connecting to Azure for SQL server gives error. Make sure all required jar files exist at folder &#39;AzureLib&#39; from Local to Cloud","body":"<p>I am trying to connect from TIBCO BWCE 2.8.2 studio to Azure using ActiveDirectoryServicePrincipal. All settings are set as described by TIBCO. However, I still receive the following error:</p>\n<p>Make sure all required jar files exist at folder 'AzureLib'</p>\n<p>Also the location bwce\\2.8\\config\\design\\thirdparty\\AzureLib does contain the following jar.</p>\n<p>mssql-jdbc-12.2.0.jre8\nmssql-jdbc-12.2.0.jre11</p>\n<p>Is there another Jar required?</p>\n<p>Update:\nReceiving now the following error:\ncom.microsoft.sqlserver.jdbc.SQLServerException: Failed to authenticate the user &lt;&gt; in Active Directory (Authentication=ActiveDirectoryServicePrincipal). javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n"},{"tags":["java","visual-studio-code","editor"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692033270,"post_id":76900891,"comment_id":135568113,"body_markdown":"Are you using [`Java Extension Pack`](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack)?","body":"Are you using <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\"><code>Java Extension Pack</code></a>?"},{"owner":{"account_id":12318272,"reputation":33,"user_id":10451250,"display_name":"Ryan Goudie"},"score":0,"creation_date":1692033420,"post_id":76900891,"comment_id":135568152,"body_markdown":"I am using both [Java Extension Pack](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) and [Language Support for Java(TM) by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java)","body":"I am using both <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Java Extension Pack</a> and <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language Support for Java(TM) by Red Hat</a>"}],"answers":[{"tags":[],"owner":{"account_id":20692183,"reputation":56,"user_id":17001958,"display_name":"Junaid Aslam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692034864,"creation_date":1692034864,"answer_id":76901100,"question_id":76900891,"body_markdown":"Visual Studio Code doesn&#39;t provide a built-in way to pin specific actions like &quot;Run Java&quot; or &quot;Debug Java&quot; directly to the top toolbar. The toolbar primarily displays the most frequently used actions and is not highly customizable in terms of adding new buttons directly to it.\r\n\r\nThe keyboard shortcut approach you&#39;ve mentioned is one of the common ways to quickly trigger specific actions in VSCode, including running and debugging Java code.","title":"It it possible to pin &#39;Run Java&#39; and &#39;Debug Java&#39; to the top bar in VSCode","body":"<p>Visual Studio Code doesn't provide a built-in way to pin specific actions like &quot;Run Java&quot; or &quot;Debug Java&quot; directly to the top toolbar. The toolbar primarily displays the most frequently used actions and is not highly customizable in terms of adding new buttons directly to it.</p>\n<p>The keyboard shortcut approach you've mentioned is one of the common ways to quickly trigger specific actions in VSCode, including running and debugging Java code.</p>\n"},{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692035455,"creation_date":1692035455,"answer_id":76901151,"question_id":76900891,"body_markdown":"You can use [`Custom CSS and JS Loader`][1], it&#39;s a tool for **customizing the appearance of the Visual Studio Code** editor by applying custom CSS styles. \r\n\r\nThis extension allows you to **override the default styles of VS Code&#39;s interface elements**, so you can create a personalized theme for VS Code that aligns with your preferences. \r\n\r\nWith it you can inject buttons using JS!\r\n\r\nSee also: [How can I add custom CSS styles to VS Code?][2]\r\n\r\n\r\n  [1]: https://github.com/be5invis/vscode-custom-css\r\n  [2]: https://stackoverflow.com/questions/75859763/how-can-i-add-custom-css-styles-to-vs-code/75860227#75860227","title":"It it possible to pin &#39;Run Java&#39; and &#39;Debug Java&#39; to the top bar in VSCode","body":"<p>You can use <a href=\"https://github.com/be5invis/vscode-custom-css\" rel=\"nofollow noreferrer\"><code>Custom CSS and JS Loader</code></a>, it's a tool for <strong>customizing the appearance of the Visual Studio Code</strong> editor by applying custom CSS styles.</p>\n<p>This extension allows you to <strong>override the default styles of VS Code's interface elements</strong>, so you can create a personalized theme for VS Code that aligns with your preferences.</p>\n<p>With it you can inject buttons using JS!</p>\n<p>See also: <a href=\"https://stackoverflow.com/questions/75859763/how-can-i-add-custom-css-styles-to-vs-code/75860227#75860227\">How can I add custom CSS styles to VS Code?</a></p>\n"}],"owner":{"account_id":12318272,"reputation":33,"user_id":10451250,"display_name":"Ryan Goudie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76901151,"answer_count":2,"score":2,"last_activity_date":1692035455,"creation_date":1692032865,"question_id":76900891,"body_markdown":"Other than creating a Keyboard Shortcuts , is it possible to pin the &#39;run java&#39; &amp; &#39;debug java&#39; options to the top of VSCode instead of having it hidden behind the run button.\r\n\r\nI have created a keyboard shortcut but I am just interested in having the buttons displayed at the top in the use cases i use them. I have explored VSCode , Java Debugger and Java Tester settings to find a related setting.","title":"It it possible to pin &#39;Run Java&#39; and &#39;Debug Java&#39; to the top bar in VSCode","body":"<p>Other than creating a Keyboard Shortcuts , is it possible to pin the 'run java' &amp; 'debug java' options to the top of VSCode instead of having it hidden behind the run button.</p>\n<p>I have created a keyboard shortcut but I am just interested in having the buttons displayed at the top in the use cases i use them. I have explored VSCode , Java Debugger and Java Tester settings to find a related setting.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9745,"page":247,"page_size":100}
