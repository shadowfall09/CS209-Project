{"items":[{"tags":["java","eclipse","spring-boot","rest"],"comments":[{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1651611691,"post_id":72105348,"comment_id":127404002,"body_markdown":"I would highly recommend only having one type similar to what you suggested. Perhaps with an Overloaded constructor that applies the price, gender, etc. **NOTE: I AM A STUDENT AND WE HAVE NOT COVERED LISTS YET, THIS ANSWER IS BASED OFF CLASS FORMATTING/USE**","body":"I would highly recommend only having one type similar to what you suggested. Perhaps with an Overloaded constructor that applies the price, gender, etc. <b>NOTE: I AM A STUDENT AND WE HAVE NOT COVERED LISTS YET, THIS ANSWER IS BASED OFF CLASS FORMATTING/USE</b>"},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1651613576,"post_id":72105348,"comment_id":127404497,"body_markdown":"In reference to @Johnnes&#39; suggestion; here is a link explaining what an enum is too in case you (like me XD) just learned through this example what they are. https://www.tutorialspoint.com/Enum-in-Java","body":"In reference to @Johnnes&#39; suggestion; here is a link explaining what an enum is too in case you (like me XD) just learned through this example what they are. <a href=\"https://www.tutorialspoint.com/Enum-in-Java\" rel=\"nofollow noreferrer\">tutorialspoint.com/Enum-in-Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651612095,"creation_date":1651612095,"answer_id":72105479,"question_id":72105348,"body_markdown":"**Example of this comment:**\r\n&quot;I would highly recommend only having one [class] type similar to what you suggested&quot;\r\n\r\nDefault constructor\r\n\r\n    public class Shoes\r\n    {\r\n        this(null, 0, 0);\r\n    }\r\nOverloaded constructor\r\n\r\n    public class Shoes(String gender, double size, double price)\r\n    {\r\n        this.gender = gender;\r\n        this.size = size;\r\n        this.price = price;\r\n    }","title":"RESTful web service: How can I take this data without printing out the other","body":"<p><strong>Example of this comment:</strong>\n&quot;I would highly recommend only having one [class] type similar to what you suggested&quot;</p>\n<p>Default constructor</p>\n<pre><code>public class Shoes\n{\n    this(null, 0, 0);\n}\n</code></pre>\n<p>Overloaded constructor</p>\n<pre><code>public class Shoes(String gender, double size, double price)\n{\n    this.gender = gender;\n    this.size = size;\n    this.price = price;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23095038,"reputation":146,"user_id":17205307,"display_name":"Johannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651876656,"creation_date":1651613115,"answer_id":72105624,"question_id":72105348,"body_markdown":"I see 2 options: Either having 2 classes, one for each type of shoe\r\nor defining the type inside your class and not having two sizes of which one is always empty. Since you have a limited amount of possible types I suggest you use an enum for modeling the type.\r\n\r\n    public enum ShoeType {\r\n        MEN,\r\n        WOMEN\r\n    }\r\n\r\n    public class Shoe {\r\n        private ShoeType type;\r\n        private double size;\r\n        private double price;\r\n        // getter, setter, constructor...\r\n    }\r\n\r\n","title":"RESTful web service: How can I take this data without printing out the other","body":"<p>I see 2 options: Either having 2 classes, one for each type of shoe\nor defining the type inside your class and not having two sizes of which one is always empty. Since you have a limited amount of possible types I suggest you use an enum for modeling the type.</p>\n<pre><code>public enum ShoeType {\n    MEN,\n    WOMEN\n}\n\npublic class Shoe {\n    private ShoeType type;\n    private double size;\n    private double price;\n    // getter, setter, constructor...\n}\n</code></pre>\n"}],"owner":{"account_id":24366402,"reputation":9,"user_id":18300083,"display_name":"Evelyn Thai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651876656,"creation_date":1651611184,"question_id":72105348,"body_markdown":"I want to just take the data from menSize and its price but it keep printing out the womenSize eventhought it doesn&#39;t add anything in it.\r\n\r\nDo I need to seperate menSize class and womenSize class or is there any way to fix it:\r\n\r\nHere is my Getter and Setter of Shoes class:\r\n\r\n\r\nprivate double menSize; \r\n\r\n\tprivate double price; \r\n\r\n\tprivate double womenSize; \r\n\r\n\r\nThis is my ShoesController class:\r\n\r\n@GetMapping(&quot;menshoes&quot;)\r\n\tpublic List&lt;Shoes&gt; getMenShoes() {\r\n\r\n\t\tList&lt;Shoes&gt; menShoesList = new ArrayList&lt;&gt;(); // Create ArrayList holding men sizes\r\n\t\twhile (true) {\r\n\t\t\tfor (double i = 2; i &lt;= 12; i += 0.5) { // set sizes : 2 , 2.5 ,... until 12\r\n\t\t\t\tShoes shoe = new Shoes();\r\n\t\t\t\tshoe.setMenSize(i);\r\n\t\t\t\tshoe.setPrice(4); // Set price to $4\r\n\t\t\t\tmenShoesList.add(shoe); // add size to ArrayList\r\n\t\t\t}\r\n\t\t\treturn menShoesList;\r\n\t\t}\r\n\t}\r\n\r\n\t@GetMapping(&quot;womenshoes&quot;)\r\n\tpublic List&lt;Shoes&gt; getWomenShoes() {\r\n\t\tList&lt;Shoes&gt; womenShoesList = new ArrayList&lt;&gt;(); // Create ArrayList holding women sizes\r\n\t\twhile (true) {\r\n\t\t\tfor (double i = 5; i &lt;= 12; i += 0.5) { // set sizes : 5, 5.5 , ... until 12\r\n\t\t\t\tShoes shoe2 = new Shoes();\r\n\t\t\t\tshoe2.setWomenSize(i);\r\n\t\t\t\tshoe2.setPrice(4); // Set price to $4\r\n\t\t\t\twomenShoesList.add(shoe2); // add size to ArrayList\r\n\t\t\t}\r\n\t\t\treturn womenShoesList;\r\n\t\t}\r\n\t}\r\n\r\nThe output when I search for localhost:8080/menshoes are (I just take 3 for examples):\r\n\r\n[{&quot;menSize&quot;:2.0,&quot;price&quot;:&quot;$4.00&quot;,&quot;womenSize&quot;:0.0},{&quot;menSize&quot;:2.5,&quot;price&quot;:&quot;$4.00&quot;,&quot;womenSize&quot;:0.0},{&quot;menSize&quot;:3.0,&quot;price&quot;:&quot;$4.00&quot;,&quot;womenSize&quot;:0.0}","title":"RESTful web service: How can I take this data without printing out the other","body":"<p>I want to just take the data from menSize and its price but it keep printing out the womenSize eventhought it doesn't add anything in it.</p>\n<p>Do I need to seperate menSize class and womenSize class or is there any way to fix it:</p>\n<p>Here is my Getter and Setter of Shoes class:</p>\n<p>private double menSize;</p>\n<pre><code>private double price; \n\nprivate double womenSize; \n</code></pre>\n<p>This is my ShoesController class:</p>\n<p>@GetMapping(&quot;menshoes&quot;)\npublic List getMenShoes() {</p>\n<pre><code>    List&lt;Shoes&gt; menShoesList = new ArrayList&lt;&gt;(); // Create ArrayList holding men sizes\n    while (true) {\n        for (double i = 2; i &lt;= 12; i += 0.5) { // set sizes : 2 , 2.5 ,... until 12\n            Shoes shoe = new Shoes();\n            shoe.setMenSize(i);\n            shoe.setPrice(4); // Set price to $4\n            menShoesList.add(shoe); // add size to ArrayList\n        }\n        return menShoesList;\n    }\n}\n\n@GetMapping(&quot;womenshoes&quot;)\npublic List&lt;Shoes&gt; getWomenShoes() {\n    List&lt;Shoes&gt; womenShoesList = new ArrayList&lt;&gt;(); // Create ArrayList holding women sizes\n    while (true) {\n        for (double i = 5; i &lt;= 12; i += 0.5) { // set sizes : 5, 5.5 , ... until 12\n            Shoes shoe2 = new Shoes();\n            shoe2.setWomenSize(i);\n            shoe2.setPrice(4); // Set price to $4\n            womenShoesList.add(shoe2); // add size to ArrayList\n        }\n        return womenShoesList;\n    }\n}\n</code></pre>\n<p>The output when I search for localhost:8080/menshoes are (I just take 3 for examples):</p>\n<p>[{&quot;menSize&quot;:2.0,&quot;price&quot;:&quot;$4.00&quot;,&quot;womenSize&quot;:0.0},{&quot;menSize&quot;:2.5,&quot;price&quot;:&quot;$4.00&quot;,&quot;womenSize&quot;:0.0},{&quot;menSize&quot;:3.0,&quot;price&quot;:&quot;$4.00&quot;,&quot;womenSize&quot;:0.0}</p>\n"},{"tags":["java","swing","user-interface","jframe"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1651872311,"post_id":72147421,"comment_id":127476455,"body_markdown":"You create a new `LoginBrowser lb` (which you never set visible) and call `dispose()` on that. It&#39;s not the same `LoginBrowser` as the one you created earlier.","body":"You create a new <code>LoginBrowser lb</code> (which you never set visible) and call <code>dispose()</code> on that. It&#39;s not the same <code>LoginBrowser</code> as the one you created earlier."},{"owner":{"account_id":25220157,"reputation":1,"user_id":19056741,"display_name":"schoggi_23"},"score":0,"creation_date":1651874114,"post_id":72147421,"comment_id":127476761,"body_markdown":"How would I make the instantiation accessible to both classes?","body":"How would I make the instantiation accessible to both classes?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651875637,"post_id":72147421,"comment_id":127476980,"body_markdown":"Just call `dispose()` directly or `this.dispose()`","body":"Just call <code>dispose()</code> directly or <code>this.dispose()</code>"},{"owner":{"account_id":25220157,"reputation":1,"user_id":19056741,"display_name":"schoggi_23"},"score":0,"creation_date":1651876158,"post_id":72147421,"comment_id":127477068,"body_markdown":"@MadProgrammer thank you very much! I originally coded the UI without the design feature and changing over caused me a couple issues like this one.","body":"@MadProgrammer thank you very much! I originally coded the UI without the design feature and changing over caused me a couple issues like this one."}],"answers":[{"tags":[],"owner":{"account_id":25220157,"reputation":1,"user_id":19056741,"display_name":"schoggi_23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651876334,"creation_date":1651876334,"answer_id":72147994,"question_id":72147421,"body_markdown":"Instead of instantiating class with key: \r\n\r\n      LoginBrowser lb = new LoginBrowser(loginInfo);\r\n       lb.dispose(); // dispose login browser\r\n\r\nSimply use this. to control JFrame from within design feature of netbeans:\r\n\r\n    this.dispose();\r\n\r\n","title":"JFrame not &quot;disposing&quot; on actionperformed method","body":"<p>Instead of instantiating class with key:</p>\n<pre><code>  LoginBrowser lb = new LoginBrowser(loginInfo);\n   lb.dispose(); // dispose login browser\n</code></pre>\n<p>Simply use this. to control JFrame from within design feature of netbeans:</p>\n<pre><code>this.dispose();\n</code></pre>\n"}],"owner":{"account_id":25220157,"reputation":1,"user_id":19056741,"display_name":"schoggi_23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651876334,"creation_date":1651871524,"question_id":72147421,"body_markdown":"**Background:** I am creating a login browser page before my main UI(myGUI) page is displayed. I am using a HashMap to store the correct username and password combinations. The key is put in a getter method where I then access it from the LoginBrowser class constructor, where I build the actual UI.\r\n\r\n**Problem:** Currently, the key values are stored correctly and login is successful. It properly loads up the main UI after the correct credentials are entered. I tried to instantiate the class with the key inside and then call the dispose method. However, the login browser UI does not go away afterwards. What is wrong with my instantiation and how would I solve it? \r\n\r\n**My current code:** \r\n\r\n***Main method:***\r\n\r\n        public static void main(String[] args) {\r\n            \r\n           IdAndPasswords s = new IdAndPasswords();        \r\n    \r\n           java.awt.EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                   LoginBrowser lb = new LoginBrowser(s.getInfo());\r\n                    lb.setVisible(true);\r\n                    //myGUI.requestFocusInWindow(); // makes sure textfield or other components don&#39;t auto focus on start-up\r\n                    lb.setTitle(&quot;Chat App&quot;);\r\n                    lb.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                }\r\n            }); \r\n        }\r\n\r\n***Login Browser Class Contructor:***\r\n\r\n     HashMap&lt;String,String&gt; loginInfo = new HashMap&lt;String,String&gt;();\r\n    \r\n    /**\r\n     * Creates new form LoginBrowser\r\n     * @param loginOG\r\n     */\r\n    public LoginBrowser(HashMap&lt;String,String&gt; loginOG) {\r\n    \r\n        initComponents();\r\n        this.loginInfo = loginOG;\r\n     \r\n    }\r\n\r\n***Login Browser Action Performed method:***\r\n\r\n    /*\r\n    If login button to perform actions\r\n    when pressed\r\n    */\r\n    private void loginBtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        if(evt.getSource()==loginBtn) {\r\n           String userIDNew = usernameText.getText(); // get text of JTextfield\r\n           String passwordNew = String.valueOf(passwordText.getPassword()); // get text of JPasswordfield and convert\r\n           \r\n        if(loginInfo.containsKey(userIDNew)) { // key\r\n             // if entered characters in strings match up, \r\n             // display message and get rid of login browser\r\n            if(loginInfo.get(userIDNew).equals(passwordNew)) {\r\n                JOptionPane.showMessageDialog(rootPane, &quot;Login successful&quot;);\r\n                IdAndPasswords s = new IdAndPasswords();         \r\n                LoginBrowser lb = new LoginBrowser(loginInfo);\r\n                lb.dispose(); // dispose login browser\r\n        // Once old form is disposed, open main gui form\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                myGUI myGUI = new myGUI(userIDNew);\r\n                myGUI.setVisible(true);\r\n                //myGUI.requestFocusInWindow(); // makes sure textfield or other components don&#39;t auto focus on start-up\r\n                myGUI.setTitle(&quot;Chat App&quot;);\r\n                myGUI.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            }\r\n        });\r\n            // tell user if info entered is incorrect\r\n            } else {\r\n                JOptionPane.showMessageDialog(rootPane, &quot;Incorrect Password&quot;);\r\n               }\r\n            } else {\r\n                JOptionPane.showMessageDialog(rootPane, &quot;Incorrect Username&quot;);\r\n           }        \r\n       }\r\n    } \r\n\r\n      \r\n\r\n","title":"JFrame not &quot;disposing&quot; on actionperformed method","body":"<p><strong>Background:</strong> I am creating a login browser page before my main UI(myGUI) page is displayed. I am using a HashMap to store the correct username and password combinations. The key is put in a getter method where I then access it from the LoginBrowser class constructor, where I build the actual UI.</p>\n<p><strong>Problem:</strong> Currently, the key values are stored correctly and login is successful. It properly loads up the main UI after the correct credentials are entered. I tried to instantiate the class with the key inside and then call the dispose method. However, the login browser UI does not go away afterwards. What is wrong with my instantiation and how would I solve it?</p>\n<p><strong>My current code:</strong></p>\n<p><em><strong>Main method:</strong></em></p>\n<pre><code>    public static void main(String[] args) {\n        \n       IdAndPasswords s = new IdAndPasswords();        \n\n       java.awt.EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n               LoginBrowser lb = new LoginBrowser(s.getInfo());\n                lb.setVisible(true);\n                //myGUI.requestFocusInWindow(); // makes sure textfield or other components don't auto focus on start-up\n                lb.setTitle(&quot;Chat App&quot;);\n                lb.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            }\n        }); \n    }\n</code></pre>\n<p><em><strong>Login Browser Class Contructor:</strong></em></p>\n<pre><code> HashMap&lt;String,String&gt; loginInfo = new HashMap&lt;String,String&gt;();\n\n/**\n * Creates new form LoginBrowser\n * @param loginOG\n */\npublic LoginBrowser(HashMap&lt;String,String&gt; loginOG) {\n\n    initComponents();\n    this.loginInfo = loginOG;\n \n}\n</code></pre>\n<p><em><strong>Login Browser Action Performed method:</strong></em></p>\n<pre><code>/*\nIf login button to perform actions\nwhen pressed\n*/\nprivate void loginBtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    if(evt.getSource()==loginBtn) {\n       String userIDNew = usernameText.getText(); // get text of JTextfield\n       String passwordNew = String.valueOf(passwordText.getPassword()); // get text of JPasswordfield and convert\n       \n    if(loginInfo.containsKey(userIDNew)) { // key\n         // if entered characters in strings match up, \n         // display message and get rid of login browser\n        if(loginInfo.get(userIDNew).equals(passwordNew)) {\n            JOptionPane.showMessageDialog(rootPane, &quot;Login successful&quot;);\n            IdAndPasswords s = new IdAndPasswords();         \n            LoginBrowser lb = new LoginBrowser(loginInfo);\n            lb.dispose(); // dispose login browser\n    // Once old form is disposed, open main gui form\n    java.awt.EventQueue.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            myGUI myGUI = new myGUI(userIDNew);\n            myGUI.setVisible(true);\n            //myGUI.requestFocusInWindow(); // makes sure textfield or other components don't auto focus on start-up\n            myGUI.setTitle(&quot;Chat App&quot;);\n            myGUI.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        }\n    });\n        // tell user if info entered is incorrect\n        } else {\n            JOptionPane.showMessageDialog(rootPane, &quot;Incorrect Password&quot;);\n           }\n        } else {\n            JOptionPane.showMessageDialog(rootPane, &quot;Incorrect Username&quot;);\n       }        \n   }\n} \n\n  \n</code></pre>\n"},{"tags":["java","search","data-structures","hashmap","equals"],"answers":[{"tags":[],"owner":{"account_id":903400,"reputation":1513,"user_id":938899,"accept_rate":75,"display_name":"Alexey Berezkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1333899997,"creation_date":1333899997,"answer_id":10064099,"question_id":10064051,"body_markdown":"You have to override ``hashCode()`` method when overriding ``equals()`` so that equal objects must have the same hash code. Refer to http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object).","title":"What datastructure to use for finding the intersection of 2 trees","body":"<p>You have to override <code>hashCode()</code> method when overriding <code>equals()</code> so that equal objects must have the same hash code. Refer to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object</a>).</p>\n"}],"owner":{"account_id":1350594,"reputation":1052,"user_id":1290385,"accept_rate":75,"display_name":"Ferenc Dajka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10064099,"answer_count":1,"score":0,"last_activity_date":1651876318,"creation_date":1333899633,"question_id":10064051,"body_markdown":"I have two tree, which contains nodes, after I&#39;ve created them, I take all the nodes of the first tree to a linkedlist, and the second ones to a hashmap, as the keys of the map. I would like to find two nodes from the trees, which has the same variable called: states (long type). So after the creation I call:\r\n\r\n    List&lt;Node&gt; list;\r\n    HashMap&lt;Node, Node&gt; hashtable;\r\n\r\n    ...create nodes, take them to the collections\r\n\r\n    for(Node n : list){\r\n        if(hashtable.containsKey(n)){\r\n            //doSomething          \r\n        }\r\n    }\r\n\r\nI&#39;m using hashmap, because it is very fast, though I have 4000000 (4 million) nodes. I&#39;ve overridden the equals method of the Node class, but seems like the containskey method checks the hashcodes, however as far as I understood it only has to check the equals method [link to java reference][1]. So the question is what datastructure should I use, to check this thing, or how should i rewrite the code?\r\n\r\nHere&#39;s my equals method:\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n        if(obj instanceof Node){\r\n            Node node = (Node)obj;\r\n            return (states == node.getStates());\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Map.html#containsKey%28java.lang.Object%29","title":"What datastructure to use for finding the intersection of 2 trees","body":"<p>I have two tree, which contains nodes, after I've created them, I take all the nodes of the first tree to a linkedlist, and the second ones to a hashmap, as the keys of the map. I would like to find two nodes from the trees, which has the same variable called: states (long type). So after the creation I call:</p>\n<pre><code>List&lt;Node&gt; list;\nHashMap&lt;Node, Node&gt; hashtable;\n\n...create nodes, take them to the collections\n\nfor(Node n : list){\n    if(hashtable.containsKey(n)){\n        //doSomething          \n    }\n}\n</code></pre>\n<p>I'm using hashmap, because it is very fast, though I have 4000000 (4 million) nodes. I've overridden the equals method of the Node class, but seems like the containskey method checks the hashcodes, however as far as I understood it only has to check the equals method <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Map.html#containsKey%28java.lang.Object%29\" rel=\"nofollow noreferrer\">link to java reference</a>. So the question is what datastructure should I use, to check this thing, or how should i rewrite the code?</p>\n<p>Here's my equals method:</p>\n<pre><code>    @Override\n    public boolean equals(Object obj) {\n    if(obj instanceof Node){\n        Node node = (Node)obj;\n        return (states == node.getStates());\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1706574,"reputation":13314,"user_id":1565512,"display_name":"MikeM"},"score":1,"creation_date":1651876100,"post_id":72147835,"comment_id":127477054,"body_markdown":"Your issue may be fixed by putting a maximum on the number of digits that can occur between commas. For example: `&quot;(?&lt;=\\\\G\\\\d{1,10},\\\\d{1,10},\\\\d{1,10}),&quot;`","body":"Your issue may be fixed by putting a maximum on the number of digits that can occur between commas. For example: <code>&quot;(?&lt;=\\\\G\\\\d{1,10},\\\\d{1,10},\\\\d{1,10}),&quot;</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1651876631,"post_id":72147835,"comment_id":127477142,"body_markdown":"I am using Java 17 and compiler doesn&#39;t generate any problems with this code. IntelliJ complained about it BUT still despite this problem ***allowed me to run*** your code. It looks like your IDE is trying to prevent you from doing something not wise (using bug in regex which can be fixed an any moment), even if it is *legal*.","body":"I am using Java 17 and compiler doesn&#39;t generate any problems with this code. IntelliJ complained about it BUT still despite this problem <b><i>allowed me to run</i></b> your code. It looks like your IDE is trying to prevent you from doing something not wise (using bug in regex which can be fixed an any moment), even if it is <i>legal</i>."},{"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"score":0,"creation_date":1651876911,"post_id":72147835,"comment_id":127477196,"body_markdown":"I am now using `\\\\d{1,3}` as recommended by @MikeM. Thanks to all for cross checking.","body":"I am now using <code>\\\\d{1,3}</code> as recommended by @MikeM. Thanks to all for cross checking."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1651875926,"creation_date":1651875926,"answer_id":72147952,"question_id":72147835,"body_markdown":"There are various cases where unbounded repetition in lookahead/behind is not allowed. However, this isn&#39;t one of them.\r\n\r\nYou&#39;ve found an IntelliJ bug. That bug is being reported by intellij (not `javac`). It is incorrectly thinking this is one of those cases where you can&#39;t do that.\r\n\r\nTell intellij to stop whinging. It&#39;s somewhat likely that you can&#39;t do that. File a bug report, I guess. Point is, if you take that source file and just run `javac ThatFile.java` it compiles and runs without issues.\r\n\r\nYou can work around it by &#39;faking out&#39; intellij. It&#39;s doing a compile time check on that string because intellij realizes that, being a constant, it can do that. You can probably dodge intellij&#39;s broken analysis here by making it a dynamic string. For example:\r\n\r\n```java\r\ndata.split((System.currentTimeMillis() &lt; 0 ? &quot;A?&quot; : &quot;&quot;) + &quot;(?&lt;=.. rest of regex here ..&quot;);\r\n```\r\n\r\nIntelliJ is now likely to determine that the string is dynamic and therefore cannot be analysed. Thus, it won&#39;t.\r\n\r\nBut, before jumping through such silly hoops, there may be a setting in intellij somewhere about &#39;smart analysis of regex literals&#39; or whatnot. Turn it off, at least, until this bug is fixed.\r\n","title":"Java regex repetition not allowed inside lookbehind","body":"<p>There are various cases where unbounded repetition in lookahead/behind is not allowed. However, this isn't one of them.</p>\n<p>You've found an IntelliJ bug. That bug is being reported by intellij (not <code>javac</code>). It is incorrectly thinking this is one of those cases where you can't do that.</p>\n<p>Tell intellij to stop whinging. It's somewhat likely that you can't do that. File a bug report, I guess. Point is, if you take that source file and just run <code>javac ThatFile.java</code> it compiles and runs without issues.</p>\n<p>You can work around it by 'faking out' intellij. It's doing a compile time check on that string because intellij realizes that, being a constant, it can do that. You can probably dodge intellij's broken analysis here by making it a dynamic string. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>data.split((System.currentTimeMillis() &lt; 0 ? &quot;A?&quot; : &quot;&quot;) + &quot;(?&lt;=.. rest of regex here ..&quot;);\n</code></pre>\n<p>IntelliJ is now likely to determine that the string is dynamic and therefore cannot be analysed. Thus, it won't.</p>\n<p>But, before jumping through such silly hoops, there may be a setting in intellij somewhere about 'smart analysis of regex literals' or whatnot. Turn it off, at least, until this bug is fixed.</p>\n"}],"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72147952,"answer_count":1,"score":0,"last_activity_date":1651875926,"creation_date":1651874870,"question_id":72147835,"body_markdown":"I am looking for a way to split a string after every 3rd comma. I have found an old answer from 2013 https://stackoverflow.com/questions/17892284/split-a-string-at-every-3rd-comma-in-java which I think is outdated. If I copy paste the accepted answer as is I get a compile error saying\r\n\r\n&gt; repetition not allowed inside lookbehind\r\n\r\nI am using Intellij with Java 11, if that matters\r\n\r\nBelow the example from accepted answer from the linked post\r\n\r\n    String data = &quot;0,0,1,2,4,5,3,4,6&quot;;\r\n    String[] array = data.split(&quot;(?&lt;=\\\\G\\\\d+,\\\\d+,\\\\d+),&quot;); \r\n    for(String s : array){\r\n        System.out.println(s);\r\n    }\r\n\r\nWhat is the proper way if the above is not correct anymore?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YVM1f.png","title":"Java regex repetition not allowed inside lookbehind","body":"<p>I am looking for a way to split a string after every 3rd comma. I have found an old answer from 2013 <a href=\"https://stackoverflow.com/questions/17892284/split-a-string-at-every-3rd-comma-in-java\">Split a String at every 3rd comma in Java</a> which I think is outdated. If I copy paste the accepted answer as is I get a compile error saying</p>\n<blockquote>\n<p>repetition not allowed inside lookbehind</p>\n</blockquote>\n<p>I am using Intellij with Java 11, if that matters</p>\n<p>Below the example from accepted answer from the linked post</p>\n<pre><code>String data = &quot;0,0,1,2,4,5,3,4,6&quot;;\nString[] array = data.split(&quot;(?&lt;=\\\\G\\\\d+,\\\\d+,\\\\d+),&quot;); \nfor(String s : array){\n    System.out.println(s);\n}\n</code></pre>\n<p>What is the proper way if the above is not correct anymore?</p>\n<p><a href=\"https://i.stack.imgur.com/YVM1f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVM1f.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","google-cloud-platform","google-cloud-dataflow"],"comments":[{"owner":{"account_id":14233114,"reputation":765,"user_id":10281741,"display_name":"sudo"},"score":0,"creation_date":1632491481,"post_id":69165407,"comment_id":122514404,"body_markdown":"Have you set GOOGLE_APPLICATION_CREDENTIALS  to the service account or to the path of the key file?","body":"Have you set GOOGLE_APPLICATION_CREDENTIALS  to the service account or to the path of the key file?"},{"owner":{"account_id":8383230,"reputation":57,"user_id":6294462,"display_name":"thatGuy"},"score":1,"creation_date":1633017396,"post_id":69165407,"comment_id":122655793,"body_markdown":"I have tried this but with no success. Could the company&#39;s proxy or firewall create this issue ?","body":"I have tried this but with no success. Could the company&#39;s proxy or firewall create this issue ?"},{"owner":{"account_id":22051802,"reputation":113,"user_id":16315981,"display_name":"Jaime Lopez"},"score":1,"creation_date":1633087499,"post_id":69165407,"comment_id":122672892,"body_markdown":"In order to discard if it&#39;s an issue related with the proxy could you please confirm me from where what machine you are running it with no issues and which gives you the issue?","body":"In order to discard if it&#39;s an issue related with the proxy could you please confirm me from where what machine you are running it with no issues and which gives you the issue?"},{"owner":{"account_id":14233114,"reputation":765,"user_id":10281741,"display_name":"sudo"},"score":0,"creation_date":1633115859,"post_id":69165407,"comment_id":122683701,"body_markdown":"If you are behind a proxy did you set it up in your Maven settings?","body":"If you are behind a proxy did you set it up in your Maven settings?"}],"owner":{"account_id":8383230,"reputation":57,"user_id":6294462,"display_name":"thatGuy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1651875824,"creation_date":1631547032,"question_id":69165407,"body_markdown":"I am creating and staging gcp dataflow template in cloud storage with following command:\r\n\r\nmvn -X compile exec:java -Dexec.mainClass=main.java.TemplatePipeline -Dexec.args=&quot;--runner=DataflowRunner --project=hv-hcap-development --stagingLocation=gs://my-bucket/staging --templateLocation=gs://my-bucket/templates/template1&quot;\r\n\r\nThe build is failing with following error:\r\n\r\n```\r\n[INFO]\r\n[INFO] --- exec-maven-plugin:1.6.0:java (default-cli) @ ingestion-streaming ---\r\n[WARNING]\r\njava.lang.RuntimeException: Unable to verify that GCS bucket gs://ingestion-streaming exists.\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:86)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\r\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\r\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\r\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:834)\r\nCaused by: java.io.IOException: Error getting access token for service account: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken (ServiceAccountCredentials.java:612)\r\n    at com.google.auth.oauth2.OAuth2Credentials.refresh (OAuth2Credentials.java:164)\r\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata (OAuth2Credentials.java:149)\r\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata (ServiceAccountCredentials.java:946)\r\n    at com.google.auth.http.HttpCredentialsAdapter.initialize (HttpCredentialsAdapter.java:91)\r\n    at com.google.cloud.hadoop.util.ChainingHttpRequestInitializer.initialize (ChainingHttpRequestInitializer.java:52)\r\n    at com.google.api.client.http.HttpRequestFactory.buildRequest (HttpRequestFactory.java:91)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest (AbstractGoogleClientRequest.java:404)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:514)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:455)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute (AbstractGoogleClientRequest.java:565)\r\n    at com.google.cloud.hadoop.util.ResilientOperation$AbstractGoogleClientRequestExecutor.call (ResilientOperation.java:171)\r\n    at com.google.cloud.hadoop.util.ResilientOperation.retry (ResilientOperation.java:67)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.getBucket (GcsUtil.java:489)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:477)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:450)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:83)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\r\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\r\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\r\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:834)\r\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    at sun.security.ssl.Alert.createSSLException (Alert.java:131)\r\n    at sun.security.ssl.TransportContext.fatal (TransportContext.java:369)\r\n    at sun.security.ssl.TransportContext.fatal (TransportContext.java:312)\r\n    at sun.security.ssl.TransportContext.fatal (TransportContext.java:307)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts (CertificateMessage.java:1357)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate (CertificateMessage.java:1232)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume (CertificateMessage.java:1175)\r\n    at sun.security.ssl.SSLHandshake.consume (SSLHandshake.java:392)\r\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:478)\r\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:456)\r\n    at sun.security.ssl.TransportContext.dispatch (TransportContext.java:199)\r\n    at sun.security.ssl.SSLTransport.decode (SSLTransport.java:171)\r\n    at sun.security.ssl.SSLSocketImpl.decode (SSLSocketImpl.java:1369)\r\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord (SSLSocketImpl.java:1278)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:401)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:373)\r\n    at sun.net.www.protocol.https.HttpsClient.afterConnect (HttpsClient.java:567)\r\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect (AbstractDelegateHttpsURLConnection.java:197)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0 (HttpURLConnection.java:1367)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream (HttpURLConnection.java:1342)\r\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream (HttpsURLConnectionImpl.java:246)\r\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:113)\r\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:84)\r\n    at com.google.api.client.http.HttpRequest.execute (HttpRequest.java:1012)\r\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken (ServiceAccountCredentials.java:609)\r\n    at com.google.auth.oauth2.OAuth2Credentials.refresh (OAuth2Credentials.java:164)\r\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata (OAuth2Credentials.java:149)\r\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata (ServiceAccountCredentials.java:946)\r\n    at com.google.auth.http.HttpCredentialsAdapter.initialize (HttpCredentialsAdapter.java:91)\r\n    at com.google.cloud.hadoop.util.ChainingHttpRequestInitializer.initialize (ChainingHttpRequestInitializer.java:52)\r\n    at com.google.api.client.http.HttpRequestFactory.buildRequest (HttpRequestFactory.java:91)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest (AbstractGoogleClientRequest.java:404)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:514)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:455)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute (AbstractGoogleClientRequest.java:565)\r\n    at com.google.cloud.hadoop.util.ResilientOperation$AbstractGoogleClientRequestExecutor.call (ResilientOperation.java:171)\r\n    at com.google.cloud.hadoop.util.ResilientOperation.retry (ResilientOperation.java:67)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.getBucket (GcsUtil.java:489)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:477)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:450)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:83)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\r\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\r\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\r\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:834)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    at sun.security.validator.PKIXValidator.doBuild (PKIXValidator.java:439)\r\n    at sun.security.validator.PKIXValidator.engineValidate (PKIXValidator.java:306)\r\n    at sun.security.validator.Validator.validate (Validator.java:264)\r\n    at sun.security.ssl.X509TrustManagerImpl.validate (X509TrustManagerImpl.java:313)\r\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted (X509TrustManagerImpl.java:222)\r\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted (X509TrustManagerImpl.java:129)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts (CertificateMessage.java:1341)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate (CertificateMessage.java:1232)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume (CertificateMessage.java:1175)\r\n    at sun.security.ssl.SSLHandshake.consume (SSLHandshake.java:392)\r\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:478)\r\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:456)\r\n    at sun.security.ssl.TransportContext.dispatch (TransportContext.java:199)\r\n    at sun.security.ssl.SSLTransport.decode (SSLTransport.java:171)\r\n    at sun.security.ssl.SSLSocketImpl.decode (SSLSocketImpl.java:1369)\r\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord (SSLSocketImpl.java:1278)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:401)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:373)\r\n    at sun.net.www.protocol.https.HttpsClient.afterConnect (HttpsClient.java:567)\r\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect (AbstractDelegateHttpsURLConnection.java:197)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0 (HttpURLConnection.java:1367)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream (HttpURLConnection.java:1342)\r\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream (HttpsURLConnectionImpl.java:246)\r\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:113)\r\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:84)\r\n    at com.google.api.client.http.HttpRequest.execute (HttpRequest.java:1012)\r\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken (ServiceAccountCredentials.java:609)\r\n    at com.google.auth.oauth2.OAuth2Credentials.refresh (OAuth2Credentials.java:164)\r\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata (OAuth2Credentials.java:149)\r\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata (ServiceAccountCredentials.java:946)\r\n    at com.google.auth.http.HttpCredentialsAdapter.initialize (HttpCredentialsAdapter.java:91)\r\n    at com.google.cloud.hadoop.util.ChainingHttpRequestInitializer.initialize (ChainingHttpRequestInitializer.java:52)\r\n    at com.google.api.client.http.HttpRequestFactory.buildRequest (HttpRequestFactory.java:91)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest (AbstractGoogleClientRequest.java:404)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:514)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:455)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute (AbstractGoogleClientRequest.java:565)\r\n    at com.google.cloud.hadoop.util.ResilientOperation$AbstractGoogleClientRequestExecutor.call (ResilientOperation.java:171)\r\n    at com.google.cloud.hadoop.util.ResilientOperation.retry (ResilientOperation.java:67)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.getBucket (GcsUtil.java:489)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:477)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:450)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:83)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\r\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\r\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\r\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:834)\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    at sun.security.provider.certpath.SunCertPathBuilder.build (SunCertPathBuilder.java:141)\r\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild (SunCertPathBuilder.java:126)\r\n    at java.security.cert.CertPathBuilder.build (CertPathBuilder.java:297)\r\n    at sun.security.validator.PKIXValidator.doBuild (PKIXValidator.java:434)\r\n    at sun.security.validator.PKIXValidator.engineValidate (PKIXValidator.java:306)\r\n    at sun.security.validator.Validator.validate (Validator.java:264)\r\n    at sun.security.ssl.X509TrustManagerImpl.validate (X509TrustManagerImpl.java:313)\r\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted (X509TrustManagerImpl.java:222)\r\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted (X509TrustManagerImpl.java:129)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts (CertificateMessage.java:1341)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate (CertificateMessage.java:1232)\r\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume (CertificateMessage.java:1175)\r\n    at sun.security.ssl.SSLHandshake.consume (SSLHandshake.java:392)\r\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:478)\r\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:456)\r\n    at sun.security.ssl.TransportContext.dispatch (TransportContext.java:199)\r\n    at sun.security.ssl.SSLTransport.decode (SSLTransport.java:171)\r\n    at sun.security.ssl.SSLSocketImpl.decode (SSLSocketImpl.java:1369)\r\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord (SSLSocketImpl.java:1278)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:401)\r\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:373)\r\n    at sun.net.www.protocol.https.HttpsClient.afterConnect (HttpsClient.java:567)\r\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect (AbstractDelegateHttpsURLConnection.java:197)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0 (HttpURLConnection.java:1367)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream (HttpURLConnection.java:1342)\r\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream (HttpsURLConnectionImpl.java:246)\r\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:113)\r\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:84)\r\n    at com.google.api.client.http.HttpRequest.execute (HttpRequest.java:1012)\r\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken (ServiceAccountCredentials.java:609)\r\n    at com.google.auth.oauth2.OAuth2Credentials.refresh (OAuth2Credentials.java:164)\r\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata (OAuth2Credentials.java:149)\r\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata (ServiceAccountCredentials.java:946)\r\n    at com.google.auth.http.HttpCredentialsAdapter.initialize (HttpCredentialsAdapter.java:91)\r\n    at com.google.cloud.hadoop.util.ChainingHttpRequestInitializer.initialize (ChainingHttpRequestInitializer.java:52)\r\n    at com.google.api.client.http.HttpRequestFactory.buildRequest (HttpRequestFactory.java:91)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest (AbstractGoogleClientRequest.java:404)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:514)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:455)\r\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute (AbstractGoogleClientRequest.java:565)\r\n    at com.google.cloud.hadoop.util.ResilientOperation$AbstractGoogleClientRequestExecutor.call (ResilientOperation.java:171)\r\n    at com.google.cloud.hadoop.util.ResilientOperation.retry (ResilientOperation.java:67)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.getBucket (GcsUtil.java:489)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:477)\r\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:450)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:83)\r\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\r\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\r\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\r\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\r\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\r\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n    at java.lang.Thread.run (Thread.java:834)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  01:47 min\r\n[INFO] Finished at: 2021-09-12T19:12:20-07:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project ingestion-streaming: An exception occured while executing the Java class. Unable to verify that GCS bucket gs://bucket_name exists.: Error getting access token for service account: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -&gt; [Help 1]\r\n[ERROR]\r\n```\r\n\r\n\r\nI have logged in to GCP from terminal using gcloud auth login and set the GOOGLE_APPLICATION_CREDENTIALS to the service account\r\n\r\nI have tried to run this in a different machine and it works, therefore the bucket exists, the service account has owner access.\r\n\r\nAny help to resolve this is much appreciated.","title":"Unable to verify that GCS bucket exists while creating and staging Dataflow template","body":"<p>I am creating and staging gcp dataflow template in cloud storage with following command:</p>\n<p>mvn -X compile exec:java -Dexec.mainClass=main.java.TemplatePipeline -Dexec.args=&quot;--runner=DataflowRunner --project=hv-hcap-development --stagingLocation=gs://my-bucket/staging --templateLocation=gs://my-bucket/templates/template1&quot;</p>\n<p>The build is failing with following error:</p>\n<pre><code>[INFO]\n[INFO] --- exec-maven-plugin:1.6.0:java (default-cli) @ ingestion-streaming ---\n[WARNING]\njava.lang.RuntimeException: Unable to verify that GCS bucket gs://ingestion-streaming exists.\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:86)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:834)\nCaused by: java.io.IOException: Error getting access token for service account: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken (ServiceAccountCredentials.java:612)\n    at com.google.auth.oauth2.OAuth2Credentials.refresh (OAuth2Credentials.java:164)\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata (OAuth2Credentials.java:149)\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata (ServiceAccountCredentials.java:946)\n    at com.google.auth.http.HttpCredentialsAdapter.initialize (HttpCredentialsAdapter.java:91)\n    at com.google.cloud.hadoop.util.ChainingHttpRequestInitializer.initialize (ChainingHttpRequestInitializer.java:52)\n    at com.google.api.client.http.HttpRequestFactory.buildRequest (HttpRequestFactory.java:91)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest (AbstractGoogleClientRequest.java:404)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:514)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:455)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute (AbstractGoogleClientRequest.java:565)\n    at com.google.cloud.hadoop.util.ResilientOperation$AbstractGoogleClientRequestExecutor.call (ResilientOperation.java:171)\n    at com.google.cloud.hadoop.util.ResilientOperation.retry (ResilientOperation.java:67)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.getBucket (GcsUtil.java:489)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:477)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:450)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:83)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:834)\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alert.createSSLException (Alert.java:131)\n    at sun.security.ssl.TransportContext.fatal (TransportContext.java:369)\n    at sun.security.ssl.TransportContext.fatal (TransportContext.java:312)\n    at sun.security.ssl.TransportContext.fatal (TransportContext.java:307)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts (CertificateMessage.java:1357)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate (CertificateMessage.java:1232)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume (CertificateMessage.java:1175)\n    at sun.security.ssl.SSLHandshake.consume (SSLHandshake.java:392)\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:478)\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:456)\n    at sun.security.ssl.TransportContext.dispatch (TransportContext.java:199)\n    at sun.security.ssl.SSLTransport.decode (SSLTransport.java:171)\n    at sun.security.ssl.SSLSocketImpl.decode (SSLSocketImpl.java:1369)\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord (SSLSocketImpl.java:1278)\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:401)\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:373)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect (HttpsClient.java:567)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect (AbstractDelegateHttpsURLConnection.java:197)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0 (HttpURLConnection.java:1367)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream (HttpURLConnection.java:1342)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream (HttpsURLConnectionImpl.java:246)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:113)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:84)\n    at com.google.api.client.http.HttpRequest.execute (HttpRequest.java:1012)\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken (ServiceAccountCredentials.java:609)\n    at com.google.auth.oauth2.OAuth2Credentials.refresh (OAuth2Credentials.java:164)\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata (OAuth2Credentials.java:149)\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata (ServiceAccountCredentials.java:946)\n    at com.google.auth.http.HttpCredentialsAdapter.initialize (HttpCredentialsAdapter.java:91)\n    at com.google.cloud.hadoop.util.ChainingHttpRequestInitializer.initialize (ChainingHttpRequestInitializer.java:52)\n    at com.google.api.client.http.HttpRequestFactory.buildRequest (HttpRequestFactory.java:91)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest (AbstractGoogleClientRequest.java:404)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:514)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:455)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute (AbstractGoogleClientRequest.java:565)\n    at com.google.cloud.hadoop.util.ResilientOperation$AbstractGoogleClientRequestExecutor.call (ResilientOperation.java:171)\n    at com.google.cloud.hadoop.util.ResilientOperation.retry (ResilientOperation.java:67)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.getBucket (GcsUtil.java:489)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:477)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:450)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:83)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:834)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild (PKIXValidator.java:439)\n    at sun.security.validator.PKIXValidator.engineValidate (PKIXValidator.java:306)\n    at sun.security.validator.Validator.validate (Validator.java:264)\n    at sun.security.ssl.X509TrustManagerImpl.validate (X509TrustManagerImpl.java:313)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted (X509TrustManagerImpl.java:222)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted (X509TrustManagerImpl.java:129)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts (CertificateMessage.java:1341)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate (CertificateMessage.java:1232)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume (CertificateMessage.java:1175)\n    at sun.security.ssl.SSLHandshake.consume (SSLHandshake.java:392)\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:478)\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:456)\n    at sun.security.ssl.TransportContext.dispatch (TransportContext.java:199)\n    at sun.security.ssl.SSLTransport.decode (SSLTransport.java:171)\n    at sun.security.ssl.SSLSocketImpl.decode (SSLSocketImpl.java:1369)\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord (SSLSocketImpl.java:1278)\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:401)\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:373)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect (HttpsClient.java:567)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect (AbstractDelegateHttpsURLConnection.java:197)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0 (HttpURLConnection.java:1367)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream (HttpURLConnection.java:1342)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream (HttpsURLConnectionImpl.java:246)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:113)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:84)\n    at com.google.api.client.http.HttpRequest.execute (HttpRequest.java:1012)\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken (ServiceAccountCredentials.java:609)\n    at com.google.auth.oauth2.OAuth2Credentials.refresh (OAuth2Credentials.java:164)\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata (OAuth2Credentials.java:149)\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata (ServiceAccountCredentials.java:946)\n    at com.google.auth.http.HttpCredentialsAdapter.initialize (HttpCredentialsAdapter.java:91)\n    at com.google.cloud.hadoop.util.ChainingHttpRequestInitializer.initialize (ChainingHttpRequestInitializer.java:52)\n    at com.google.api.client.http.HttpRequestFactory.buildRequest (HttpRequestFactory.java:91)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest (AbstractGoogleClientRequest.java:404)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:514)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:455)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute (AbstractGoogleClientRequest.java:565)\n    at com.google.cloud.hadoop.util.ResilientOperation$AbstractGoogleClientRequestExecutor.call (ResilientOperation.java:171)\n    at com.google.cloud.hadoop.util.ResilientOperation.retry (ResilientOperation.java:67)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.getBucket (GcsUtil.java:489)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:477)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:450)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:83)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:834)\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.build (SunCertPathBuilder.java:141)\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild (SunCertPathBuilder.java:126)\n    at java.security.cert.CertPathBuilder.build (CertPathBuilder.java:297)\n    at sun.security.validator.PKIXValidator.doBuild (PKIXValidator.java:434)\n    at sun.security.validator.PKIXValidator.engineValidate (PKIXValidator.java:306)\n    at sun.security.validator.Validator.validate (Validator.java:264)\n    at sun.security.ssl.X509TrustManagerImpl.validate (X509TrustManagerImpl.java:313)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted (X509TrustManagerImpl.java:222)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted (X509TrustManagerImpl.java:129)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts (CertificateMessage.java:1341)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate (CertificateMessage.java:1232)\n    at sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume (CertificateMessage.java:1175)\n    at sun.security.ssl.SSLHandshake.consume (SSLHandshake.java:392)\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:478)\n    at sun.security.ssl.HandshakeContext.dispatch (HandshakeContext.java:456)\n    at sun.security.ssl.TransportContext.dispatch (TransportContext.java:199)\n    at sun.security.ssl.SSLTransport.decode (SSLTransport.java:171)\n    at sun.security.ssl.SSLSocketImpl.decode (SSLSocketImpl.java:1369)\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord (SSLSocketImpl.java:1278)\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:401)\n    at sun.security.ssl.SSLSocketImpl.startHandshake (SSLSocketImpl.java:373)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect (HttpsClient.java:567)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect (AbstractDelegateHttpsURLConnection.java:197)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0 (HttpURLConnection.java:1367)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream (HttpURLConnection.java:1342)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream (HttpsURLConnectionImpl.java:246)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:113)\n    at com.google.api.client.http.javanet.NetHttpRequest.execute (NetHttpRequest.java:84)\n    at com.google.api.client.http.HttpRequest.execute (HttpRequest.java:1012)\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken (ServiceAccountCredentials.java:609)\n    at com.google.auth.oauth2.OAuth2Credentials.refresh (OAuth2Credentials.java:164)\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata (OAuth2Credentials.java:149)\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata (ServiceAccountCredentials.java:946)\n    at com.google.auth.http.HttpCredentialsAdapter.initialize (HttpCredentialsAdapter.java:91)\n    at com.google.cloud.hadoop.util.ChainingHttpRequestInitializer.initialize (ChainingHttpRequestInitializer.java:52)\n    at com.google.api.client.http.HttpRequestFactory.buildRequest (HttpRequestFactory.java:91)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest (AbstractGoogleClientRequest.java:404)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:514)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed (AbstractGoogleClientRequest.java:455)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute (AbstractGoogleClientRequest.java:565)\n    at com.google.cloud.hadoop.util.ResilientOperation$AbstractGoogleClientRequestExecutor.call (ResilientOperation.java:171)\n    at com.google.cloud.hadoop.util.ResilientOperation.retry (ResilientOperation.java:67)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.getBucket (GcsUtil.java:489)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:477)\n    at org.apache.beam.sdk.extensions.gcp.util.GcsUtil.bucketAccessible (GcsUtil.java:450)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.verifyPathIsAccessible (GcsPathValidator.java:83)\n    at org.apache.beam.sdk.extensions.gcp.storage.GcsPathValidator.validateOutputFilePrefixSupported (GcsPathValidator.java:53)\n    at org.apache.beam.runners.dataflow.DataflowRunner.fromOptions (DataflowRunner.java:285)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.apache.beam.sdk.util.InstanceBuilder.buildFromMethod (InstanceBuilder.java:217)\n    at org.apache.beam.sdk.util.InstanceBuilder.build (InstanceBuilder.java:158)\n    at org.apache.beam.sdk.PipelineRunner.fromOptions (PipelineRunner.java:55)\n    at org.apache.beam.sdk.Pipeline.create (Pipeline.java:155)\n    at com.ford.datafactory.ingestion.streaming.StreamingPipeline.main (StreamingPipeline.java:41)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:834)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  01:47 min\n[INFO] Finished at: 2021-09-12T19:12:20-07:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project ingestion-streaming: An exception occured while executing the Java class. Unable to verify that GCS bucket gs://bucket_name exists.: Error getting access token for service account: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target -&gt; [Help 1]\n[ERROR]\n</code></pre>\n<p>I have logged in to GCP from terminal using gcloud auth login and set the GOOGLE_APPLICATION_CREDENTIALS to the service account</p>\n<p>I have tried to run this in a different machine and it works, therefore the bucket exists, the service account has owner access.</p>\n<p>Any help to resolve this is much appreciated.</p>\n"},{"tags":["java","spring","mocking","mockito"],"comments":[{"owner":{"account_id":11766240,"reputation":578,"user_id":14056755,"display_name":"Marcin Rzepecki"},"score":0,"creation_date":1651742352,"post_id":72124695,"comment_id":127437005,"body_markdown":"The easiest way is to get rid of the static methods mocking and replace it with a simple object. I see no reason to not do it from the code sample you have provided.","body":"The easiest way is to get rid of the static methods mocking and replace it with a simple object. I see no reason to not do it from the code sample you have provided."}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651772509,"creation_date":1651743665,"answer_id":72125083,"question_id":72124695,"body_markdown":"You can try `when...thenAnswer...` on `MockedStatic` provided by Mockito.\r\n\r\n```java\r\ntry (MockedStatic&lt;FileDownloader&gt; mockedFileDownloader = Mockito.mockStatic(FileDownloader.class)) {\r\n    mockedFileDownloader.when(() -&gt; FileDownloader.downloadFile(repoUrl, filename))\r\n        .thenAnswer(invocation -&gt; {\r\n            // copy from local location x to y depending on arguments\r\n            return null;\r\n        });\r\n}\r\n```","title":"How do I mock a static void method (not with doNothing or invocation -&gt; null) using Mockito.mockedStatic?","body":"<p>You can try <code>when...thenAnswer...</code> on <code>MockedStatic</code> provided by Mockito.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;FileDownloader&gt; mockedFileDownloader = Mockito.mockStatic(FileDownloader.class)) {\n    mockedFileDownloader.when(() -&gt; FileDownloader.downloadFile(repoUrl, filename))\n        .thenAnswer(invocation -&gt; {\n            // copy from local location x to y depending on arguments\n            return null;\n        });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651875772,"creation_date":1651744587,"answer_id":72125246,"question_id":72124695,"body_markdown":"Since all your static classes seem to have only one method you can simply mock the entire class. \r\n\r\n    Mockito.mockStatic(FileDownloader.class, invocationOnMock -&gt; {\r\n        System.out.println(&quot;Do Something that simulates the download&quot;);\r\n        return null;\r\n    });\r\n\r\n    FileDownloader.downloadFile(&quot;someRepo&quot;, &quot;someFile&quot;);\r\n\r\n\r\n**EDIT:**\r\n \r\nOnly mocking a single Method in the class would also be possible with a hacky workaround. \r\n\r\n        MockedStatic&lt;FileDownloader&gt; your_mocked_call = mockStatic(FileDownloader.class, invoca -&gt; {\r\n            if (invoca.getMethod().getName().equals(&quot;downloadFile&quot;)) {\r\n                // custom code here\r\n                System.out.println(&quot;aaaaaaaaaaaaaaaaaaa&quot;);\r\n            }\r\n            return null;\r\n        });\r\n\r\nI would however suggest to use the solution provided by Kai-Sheng Yang https://stackoverflow.com/a/72125083/10254476. It is the indended way by mockito. My original simple approach is only simple as long as the entire class can be mocked. \r\n\r\n** always remember to call `your_mocked_call.close();` otherwise the static mock stays open even after the testClass is finished. ","title":"How do I mock a static void method (not with doNothing or invocation -&gt; null) using Mockito.mockedStatic?","body":"<p>Since all your static classes seem to have only one method you can simply mock the entire class.</p>\n<pre><code>Mockito.mockStatic(FileDownloader.class, invocationOnMock -&gt; {\n    System.out.println(&quot;Do Something that simulates the download&quot;);\n    return null;\n});\n\nFileDownloader.downloadFile(&quot;someRepo&quot;, &quot;someFile&quot;);\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>Only mocking a single Method in the class would also be possible with a hacky workaround.</p>\n<pre><code>    MockedStatic&lt;FileDownloader&gt; your_mocked_call = mockStatic(FileDownloader.class, invoca -&gt; {\n        if (invoca.getMethod().getName().equals(&quot;downloadFile&quot;)) {\n            // custom code here\n            System.out.println(&quot;aaaaaaaaaaaaaaaaaaa&quot;);\n        }\n        return null;\n    });\n</code></pre>\n<p>I would however suggest to use the solution provided by Kai-Sheng Yang <a href=\"https://stackoverflow.com/a/72125083/10254476\">https://stackoverflow.com/a/72125083/10254476</a>. It is the indended way by mockito. My original simple approach is only simple as long as the entire class can be mocked.</p>\n<p>** always remember to call <code>your_mocked_call.close();</code> otherwise the static mock stays open even after the testClass is finished.</p>\n"}],"owner":{"account_id":5161187,"reputation":221,"user_id":4132818,"accept_rate":50,"display_name":"Bryan Tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651875772,"creation_date":1651741909,"question_id":72124695,"body_markdown":"I have the following classes\r\n\r\n```\r\nclass FileDownloader {\r\n    public static void downloadFile(String repoUrl, String filename) throws IOException {\r\n        // Downloads file from internet\r\n    }\r\n}\r\n\r\nclass FileDownloaderAndProcessor {\r\n    public static void downloadAndProcessFile() throws IOException {\r\n        //run some processing to figure out what to download\r\n        FileDownloader.downloadFile(a, b);\r\n        //run various processing on downloaded file\r\n    }\r\n}\r\n```\r\n\r\nI used to mock FileDownloader with PowerMockito.doAnswer, where I could basically mock the downloadFiles function by copying a local file from one place to another to simulate the download, then run various tests on the postproccessing\r\n\r\n```\r\nPowerMockito.doAnswer(invocation -&gt; {\r\n//copy from local location x to y depending on arguments\r\n}.when(FileDownloader.class, &quot;downloadFile&quot;).etc etc\r\n```\r\n\r\nDue to a recent spring upgrade, we can no longer use powermock and are migrating to MockedStatic. However, I don&#39;t see the doAnswer functionality in MockedStatic. I really don&#39;t want the tests to require an internet connection to run. How do I mock this void method?\r\n\r\nMockito version:\r\norg.mockito:mockito-core:jar:4.0.0\r\norg.mockito:mockito-inline:jar:4.0.0\r\n","title":"How do I mock a static void method (not with doNothing or invocation -&gt; null) using Mockito.mockedStatic?","body":"<p>I have the following classes</p>\n<pre><code>class FileDownloader {\n    public static void downloadFile(String repoUrl, String filename) throws IOException {\n        // Downloads file from internet\n    }\n}\n\nclass FileDownloaderAndProcessor {\n    public static void downloadAndProcessFile() throws IOException {\n        //run some processing to figure out what to download\n        FileDownloader.downloadFile(a, b);\n        //run various processing on downloaded file\n    }\n}\n</code></pre>\n<p>I used to mock FileDownloader with PowerMockito.doAnswer, where I could basically mock the downloadFiles function by copying a local file from one place to another to simulate the download, then run various tests on the postproccessing</p>\n<pre><code>PowerMockito.doAnswer(invocation -&gt; {\n//copy from local location x to y depending on arguments\n}.when(FileDownloader.class, &quot;downloadFile&quot;).etc etc\n</code></pre>\n<p>Due to a recent spring upgrade, we can no longer use powermock and are migrating to MockedStatic. However, I don't see the doAnswer functionality in MockedStatic. I really don't want the tests to require an internet connection to run. How do I mock this void method?</p>\n<p>Mockito version:\norg.mockito:mockito-core:jar:4.0.0\norg.mockito:mockito-inline:jar:4.0.0</p>\n"},{"tags":["java","oracle","jsch","loadjava"],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651873140,"creation_date":1651873140,"answer_id":72147623,"question_id":72146228,"body_markdown":"### Yes\r\n\r\nUse something like:\r\n\r\n``` console\r\nloadjava -user USERNAME/PASSWORD@SID JSch.jar\r\n```\r\n\r\nThen create a static class method which uses the classes loaded from the Jar file:\r\n\r\n``` sql\r\nCREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED MyJavaSource AS\r\nimport org.millea9805.jsch.JSchSomething;\r\n\r\npublic class MyClass {\r\n    public static String function_name()\r\n    {\r\n        JSchSomething.doSomething();\r\n        return &quot;Something&quot;;\r\n    }\r\n}\r\n/\r\n```\r\n\r\nThen you can create a PL/SQL wrapper around the static Java method:\r\n\r\n``` plsql\r\nCREATE OR REPLACE FUNCTION DO_SOMETHING()\r\nRETURN VARCHAR2\r\nAS LANGUAGE JAVA\r\nNAME &#39;MyClass.function_name() return java.lang.String&#39;;\r\n/\r\n```\r\n\r\nA more detailed example using the XZ library to unzip BLOBs is [here](https://stackoverflow.com/questions/59249878/how-to-read-and-extract-zip-entries-from-java-sql-blob-type-zip-file-without-hav/59250531#59250531).","title":"Oracle loadjava JSch","body":"<h3>Yes</h3>\n<p>Use something like:</p>\n<pre><code>loadjava -user USERNAME/PASSWORD@SID JSch.jar\n</code></pre>\n<p>Then create a static class method which uses the classes loaded from the Jar file:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED MyJavaSource AS\nimport org.millea9805.jsch.JSchSomething;\n\npublic class MyClass {\n    public static String function_name()\n    {\n        JSchSomething.doSomething();\n        return &quot;Something&quot;;\n    }\n}\n/\n</code></pre>\n<p>Then you can create a PL/SQL wrapper around the static Java method:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION DO_SOMETHING()\nRETURN VARCHAR2\nAS LANGUAGE JAVA\nNAME 'MyClass.function_name() return java.lang.String';\n/\n</code></pre>\n<p>A more detailed example using the XZ library to unzip BLOBs is <a href=\"https://stackoverflow.com/questions/59249878/how-to-read-and-extract-zip-entries-from-java-sql-blob-type-zip-file-without-hav/59250531#59250531\">here</a>.</p>\n"}],"owner":{"account_id":25219323,"reputation":23,"user_id":19056027,"display_name":"millea9805"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72147623,"answer_count":1,"score":2,"last_activity_date":1651873140,"creation_date":1651863598,"question_id":72146228,"body_markdown":"I am wondering if using **loadjava** to load the Java package called **JSch.jar** in an Oracle database and then loading another .java file, that utilizes the JSch package to connect over SSH, would be able to be executed within an Oracle database through a function or procedure.\r\n\r\nI ask this before trying because I need to reach out to a DBA to try and load everything. I want to make sure it is doable because I am not very skilled in java as of yet and wouldn&#39;t know if something was impossible or if it just needs fixed.\r\n\r\nThanks.","title":"Oracle loadjava JSch","body":"<p>I am wondering if using <strong>loadjava</strong> to load the Java package called <strong>JSch.jar</strong> in an Oracle database and then loading another .java file, that utilizes the JSch package to connect over SSH, would be able to be executed within an Oracle database through a function or procedure.</p>\n<p>I ask this before trying because I need to reach out to a DBA to try and load everything. I want to make sure it is doable because I am not very skilled in java as of yet and wouldn't know if something was impossible or if it just needs fixed.</p>\n<p>Thanks.</p>\n"},{"tags":["java","multithreading","collections","volatile"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":3,"creation_date":1651872521,"post_id":72147542,"comment_id":127476485,"body_markdown":"The keyword `volatile` describes the reference, not the object to which it points. You can create a thread-safe list with `Collections.synchronizedList( new ArrayList&lt;&gt;())`, or the older class `Vector`.","body":"The keyword <code>volatile</code> describes the reference, not the object to which it points. You can create a thread-safe list with <code>Collections.synchronizedList( new ArrayList&lt;&gt;())</code>, or the older class <code>Vector</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1652100914,"post_id":72147542,"comment_id":127516989,"body_markdown":"Who is “they”? Why should we care about what “they say” when you can’t name them nor provide a link to a source?","body":"Who is “they”? Why should we care about what “they say” when you can’t name them nor provide a link to a source?"}],"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651873106,"answer_count":0,"score":0,"last_activity_date":1651873035,"creation_date":1651872475,"question_id":72147542,"body_markdown":"Trying to understand the theory about `volatile`.\r\nThey say, `volatile` provides happens-before, so changes done in thread 1 should be visible in thread 2.\r\n\r\nWhat if we will put volatile for Collection?\r\nWill java provide visibility in Thread 2 for changes done in Thread 1 ?\r\nAnd why?\r\n\r\n    public class Vol {\r\n    \tvolatile List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \t\r\n    \t// thread 1\r\n    \tpublic void put(String s) {\r\n    \t\tlist.add(s);\r\n    \t}\r\n    \t\r\n    \t// thread 2\r\n    \tpublic List&lt;String&gt; get(){ // all changes are visible? &quot;Why&quot; for No\\Yes answer\r\n    \t\treturn list;\r\n    \t}\r\n    }","title":"Will volatile work for Collections and objects?","body":"<p>Trying to understand the theory about <code>volatile</code>.\nThey say, <code>volatile</code> provides happens-before, so changes done in thread 1 should be visible in thread 2.</p>\n<p>What if we will put volatile for Collection?\nWill java provide visibility in Thread 2 for changes done in Thread 1 ?\nAnd why?</p>\n<pre><code>public class Vol {\n    volatile List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    \n    // thread 1\n    public void put(String s) {\n        list.add(s);\n    }\n    \n    // thread 2\n    public List&lt;String&gt; get(){ // all changes are visible? &quot;Why&quot; for No\\Yes answer\n        return list;\n    }\n}\n</code></pre>\n"},{"tags":["java","macos","openssl","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":119664,"reputation":437,"user_id":311514,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651872928,"creation_date":1651872928,"answer_id":72147595,"question_id":72147594,"body_markdown":"Confident that the libs were not found, I updated my ~/.zshrc to include \r\n\r\n```export DYLD_LIBRARY_PATH=&quot;/usr/local/opt/openssl/lib&quot;```\r\n\r\nMy code worked again now that the library could be found.\r\n\r\nIf there is a better way to make this work, I would be interested in knowing it.","title":"OSX + Java + OpenSSL + org.apache.commons:commons-crypto = SegFault in OpenSslNative:initIDs","body":"<p>Confident that the libs were not found, I updated my ~/.zshrc to include</p>\n<p><code>export DYLD_LIBRARY_PATH=&quot;/usr/local/opt/openssl/lib&quot;</code></p>\n<p>My code worked again now that the library could be found.</p>\n<p>If there is a better way to make this work, I would be interested in knowing it.</p>\n"}],"owner":{"account_id":119664,"reputation":437,"user_id":311514,"display_name":"Chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1651872928,"creation_date":1651872928,"question_id":72147594,"body_markdown":"I had a simple Java class using Apache:commons-crypto to do encryption/decryption that was SegFaulting on me.\r\n\r\nOn OSX, I used Homebrew to install the latest OpenSSL to use.  \r\n\r\nTracing down the issue, it occurred in the OpenSslNative:initIDs JNI linked native code somewhere. I found the c code here: \r\n\r\n```https://github.com/apache/commons-crypto/blob/master/src/main/native/org/apache/commons/crypto/cipher/OpenSslNative.c```\r\n```https://github.com/apache/commons-crypto/blob/master/lib/include/config.h```\r\n\r\nScanning through the code, I found that on OSX, the &quot;libcrypto.dylib&quot; is referenced. That library was correctly linked into the /usr/local/opt/openssl/lib directory. \r\n\r\n","title":"OSX + Java + OpenSSL + org.apache.commons:commons-crypto = SegFault in OpenSslNative:initIDs","body":"<p>I had a simple Java class using Apache:commons-crypto to do encryption/decryption that was SegFaulting on me.</p>\n<p>On OSX, I used Homebrew to install the latest OpenSSL to use.</p>\n<p>Tracing down the issue, it occurred in the OpenSslNative:initIDs JNI linked native code somewhere. I found the c code here:</p>\n<p><code>https://github.com/apache/commons-crypto/blob/master/src/main/native/org/apache/commons/crypto/cipher/OpenSslNative.c</code>\n<code>https://github.com/apache/commons-crypto/blob/master/lib/include/config.h</code></p>\n<p>Scanning through the code, I found that on OSX, the &quot;libcrypto.dylib&quot; is referenced. That library was correctly linked into the /usr/local/opt/openssl/lib directory.</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651380348,"post_id":72071783,"comment_id":127349159,"body_markdown":"Try rename `factory` parameter to `nativeProducerFactory`, or rename that method&#39;s bean name to just `factory`","body":"Try rename <code>factory</code> parameter to <code>nativeProducerFactory</code>, or rename that method&#39;s bean name to just <code>factory</code>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1651392713,"post_id":72071783,"comment_id":127350649,"body_markdown":"Unfortunately it&#39;s not working.","body":"Unfortunately it&#39;s not working."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1651405054,"post_id":72071783,"comment_id":127352666,"body_markdown":"The problem comes from `@RefreshScope` declared for the bean. Do you know what might be the reason for using it(I received this code, no idea what is the intention here)","body":"The problem comes from <code>@RefreshScope</code> declared for the bean. Do you know what might be the reason for using it(I received this code, no idea what is the intention here)"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651414320,"post_id":72071783,"comment_id":127354679,"body_markdown":"Unless `bootstrapServers` is being updated in the code, I don&#39;t think you want that annotation since there&#39;s nothing to refresh on the factory","body":"Unless <code>bootstrapServers</code> is being updated in the code, I don&#39;t think you want that annotation since there&#39;s nothing to refresh on the factory"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1651415218,"post_id":72071783,"comment_id":127354899,"body_markdown":"Yes, I need this functionality.","body":"Yes, I need this functionality."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651415745,"post_id":72071783,"comment_id":127355048,"body_markdown":"Okay, well, as the error says, you only have a bean for `ProducerFactory&lt;String, String&gt;`, not one for `ProducerFactory&lt;Object , Object&gt;`","body":"Okay, well, as the error says, you only have a bean for <code>ProducerFactory&lt;String, String&gt;</code>, not one for <code>ProducerFactory&lt;Object , Object&gt;</code>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1651415775,"post_id":72071783,"comment_id":127355055,"body_markdown":"I updated the post. Can you advise, please?","body":"I updated the post. Can you advise, please?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1651495364,"post_id":72071783,"comment_id":127370806,"body_markdown":"I&#39;m not familiar with the RefreshScope annotation beyond what the Javadoc says, but I read another answer that said it should be applied to the beans rather than the whole configuration class. Overall, though, modifying your KafkaProducer bootstrap servers without closing the instance and recreating it should be avoided, and you can do this without beans","body":"I&#39;m not familiar with the RefreshScope annotation beyond what the Javadoc says, but I read another answer that said it should be applied to the beans rather than the whole configuration class. Overall, though, modifying your KafkaProducer bootstrap servers without closing the instance and recreating it should be avoided, and you can do this without beans"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651872330,"creation_date":1651872330,"answer_id":72147525,"question_id":72071783,"body_markdown":"The issue is related to the `@RefreshScope` on the `@Configuration` class. Better define `@RefreshScope` for the specific `@Bean`.\r\n\r\nAccrding to [Spring Cloud Context - Refresh Scope](https://cloud.spring.io/spring-cloud-static/spring-cloud-commons/2.1.2.RELEASE/multi/multi__spring_cloud_context_application_context_services.html#refresh-scope)\r\n\r\n&gt; `@RefreshScope` works (technically) on an `@Configuration` class, but it\r\n&gt; might lead to surprising behavior. For example, it does not mean that\r\n&gt; all the `@Beans` defined in that class are themselves in `@RefreshScope`.\r\n&gt; Specifically, anything that depends on those beans cannot rely on them\r\n&gt; being updated when a refresh is initiated, unless it is itself in\r\n&gt; `@RefreshScope`. In that case, it is rebuilt on a refresh and its\r\n&gt; dependencies are re-injected. At that point, they are re-initialized\r\n&gt; from the refreshed `@Configuration`)\r\n\r\nTha&#39;s why it&#39;s working when you move it to the `@Bean`.","title":"No qualifying bean of type &#39;org.springframework.kafka.core.ProducerFactory&lt;java.lang.Object, java.lang.Object&gt;&#39;","body":"<p>The issue is related to the <code>@RefreshScope</code> on the <code>@Configuration</code> class. Better define <code>@RefreshScope</code> for the specific <code>@Bean</code>.</p>\n<p>Accrding to <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-commons/2.1.2.RELEASE/multi/multi__spring_cloud_context_application_context_services.html#refresh-scope\" rel=\"nofollow noreferrer\">Spring Cloud Context - Refresh Scope</a></p>\n<blockquote>\n<p><code>@RefreshScope</code> works (technically) on an <code>@Configuration</code> class, but it\nmight lead to surprising behavior. For example, it does not mean that\nall the <code>@Beans</code> defined in that class are themselves in <code>@RefreshScope</code>.\nSpecifically, anything that depends on those beans cannot rely on them\nbeing updated when a refresh is initiated, unless it is itself in\n<code>@RefreshScope</code>. In that case, it is rebuilt on a refresh and its\ndependencies are re-injected. At that point, they are re-initialized\nfrom the refreshed <code>@Configuration</code>)</p>\n</blockquote>\n<p>Tha's why it's working when you move it to the <code>@Bean</code>.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72147525,"answer_count":1,"score":0,"last_activity_date":1651872330,"creation_date":1651348979,"question_id":72071783,"body_markdown":"I use this kafka configuration with spring cloud and spring boot 2.6.6:\r\n\r\n    @Configuration\r\n    @RefreshScope\r\n    public class KafkaProducerConfig {\r\n    \r\n      @Bean(name = &quot;nativeProducerFactory&quot;)\r\n      @Primary\r\n      @RefreshScope\r\n      public ProducerFactory&lt;String, String&gt; nativeProducerFactory() {\r\n        final Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(properties);\r\n      }\r\n    \r\n      @Bean(name = &quot;nativeKafkaTemplate&quot;)\r\n      public KafkaTemplate&lt;String, String&gt; nativeKafkaTemplate(\r\n          @Autowired final ProducerFactory&lt;String, String&gt; factory) {\r\n        return new KafkaTemplate&lt;&gt;(factory);\r\n      }\r\n\r\n\r\nBut when I start the project I get this error:\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.kafka.core.ProducerFactory&lt;java.lang.Object, java.lang.Object&gt;&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2072)\r\n    \tat org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration.&lt;init&gt;(KafkaAnnotationDrivenConfiguration.java:93)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n    \tat com.atlas.psp.AtlasRouterApplication.main(AtlasRouterApplication.java:48)\r\n    21:45:59.271 [main] ERROR LoggingFailureAnalysisReporter[report:40] - \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of method kafkaTemplate in org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration required a bean of type &#39;org.springframework.kafka.core.ProducerFactory&#39; that could not be found.\r\n    \r\n    The following candidates were found but could not be injected:\r\n    \t- User-defined bean method &#39;nativeProducerFactory&#39; in &#39;KafkaProducerConfig&#39;\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider revisiting the entries above or defining a bean of type &#39;org.springframework.kafka.core.ProducerFactory&#39; in your configuration.\r\n\r\nDo you know how I can fix this issue?\r\n\r\nWhen I remove `@RefreshScope` from the bean it&#39;s working fine. Do you know how I can fix this issue?\r\n\r\nP.S Looks like adding `@RefreshScope` also like this solves the error:\r\n\r\n  \r\n\r\n      @Bean(name = &quot;nativeKafkaTemplate&quot;)\r\n      @RefreshScope\r\n      public KafkaTemplate&lt;String, String&gt; nativeKafkaTemplate(\r\n          @Autowired final ProducerFactory&lt;String, String&gt; factory) {\r\n        return new KafkaTemplate&lt;&gt;(factory);\r\n      }\r\n\r\nBut I think that is incorrect. Any idea what should be the correct way to fix this?","title":"No qualifying bean of type &#39;org.springframework.kafka.core.ProducerFactory&lt;java.lang.Object, java.lang.Object&gt;&#39;","body":"<p>I use this kafka configuration with spring cloud and spring boot 2.6.6:</p>\n<pre><code>@Configuration\n@RefreshScope\npublic class KafkaProducerConfig {\n\n  @Bean(name = &quot;nativeProducerFactory&quot;)\n  @Primary\n  @RefreshScope\n  public ProducerFactory&lt;String, String&gt; nativeProducerFactory() {\n    final Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n    properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(properties);\n  }\n\n  @Bean(name = &quot;nativeKafkaTemplate&quot;)\n  public KafkaTemplate&lt;String, String&gt; nativeKafkaTemplate(\n      @Autowired final ProducerFactory&lt;String, String&gt; factory) {\n    return new KafkaTemplate&lt;&gt;(factory);\n  }\n</code></pre>\n<p>But when I start the project I get this error:</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.kafka.core.ProducerFactory&lt;java.lang.Object, java.lang.Object&gt;' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2072)\n    at org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration.&lt;init&gt;(KafkaAnnotationDrivenConfiguration.java:93)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at com.atlas.psp.AtlasRouterApplication.main(AtlasRouterApplication.java:48)\n21:45:59.271 [main] ERROR LoggingFailureAnalysisReporter[report:40] - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method kafkaTemplate in org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration required a bean of type 'org.springframework.kafka.core.ProducerFactory' that could not be found.\n\nThe following candidates were found but could not be injected:\n    - User-defined bean method 'nativeProducerFactory' in 'KafkaProducerConfig'\n\n\nAction:\n\nConsider revisiting the entries above or defining a bean of type 'org.springframework.kafka.core.ProducerFactory' in your configuration.\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p>When I remove <code>@RefreshScope</code> from the bean it's working fine. Do you know how I can fix this issue?</p>\n<p>P.S Looks like adding <code>@RefreshScope</code> also like this solves the error:</p>\n<pre><code>  @Bean(name = &quot;nativeKafkaTemplate&quot;)\n  @RefreshScope\n  public KafkaTemplate&lt;String, String&gt; nativeKafkaTemplate(\n      @Autowired final ProducerFactory&lt;String, String&gt; factory) {\n    return new KafkaTemplate&lt;&gt;(factory);\n  }\n</code></pre>\n<p>But I think that is incorrect. Any idea what should be the correct way to fix this?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651860155,"post_id":72144276,"comment_id":127473304,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1651871604,"post_id":72144276,"comment_id":127476328,"body_markdown":"*&quot;there are characters (e.g. a simple J) that the tool recognizes as a special character&quot;* - what do you mean by that?","body":"<i>&quot;there are characters (e.g. a simple J) that the tool recognizes as a special character&quot;</i> - what do you mean by that?"}],"owner":{"account_id":25217213,"reputation":1,"user_id":19054201,"display_name":"Jo&#227;o Alves Rodrigues"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651871641,"creation_date":1651852297,"question_id":72144276,"body_markdown":"I&#39;m using PDFBox to replace text in a template and there are characters (e.g. a simple J) that the tool recognizes as a special character. Any help to solve this problem?\r\n\r\n```lang.java\r\npublic static PDDocument replaceText(PDDocument document, Map&lt;String, String&gt; mapVars) throws IOException {\r\n\t\r\n    for (PDPage page : document.getPages()) {\r\n        PDFStreamParser parser = new PDFStreamParser(page);\r\n        parser.parse();\r\n        List&lt;?&gt; tokens = parser.getTokens();\r\n\r\n        for (int j = 0; j &lt; tokens.size(); j++) {\r\n            Object next = tokens.get(j);\r\n            if (next instanceof Operator) {\r\n                Operator op = (Operator) next;\r\n\r\n                String pstring = &quot;&quot;;\r\n                int prej = 0;\r\n\r\n               if (op.getName().equals(&quot;TJ&quot;)) {\r\n                    COSArray previous = (COSArray) tokens.get(j - 1);\r\n                    \r\n                    for (int k = 0; k &lt; previous.size(); k++) {\r\n                        Object arrElement = previous.getObject(k);\r\n                        if (arrElement instanceof COSString) {\r\n                            COSString cosString = (COSString) arrElement;\r\n                            String string = cosString.getString();\r\n\r\n                            if (j == prej) {\r\n                                pstring += string;\r\n                            } else {\r\n                                prej = j;\r\n                                pstring = string;\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                    if (mapVars.containsKey(pstring.trim())) {\r\n                    \tString replacement = mapVars.get(pstring.trim());\r\n                    \tCOSString sx = new COSString(replacement);\r\n                    \tsx.setValue(replacement.getBytes());\r\n                    \tprevious.clear();\r\n                    \tprevious.add(0, sx);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        PDStream updatedStream = new PDStream(document);\r\n        OutputStream out = updatedStream.createOutputStream(COSName.FLATE_DECODE);\r\n        ContentStreamWriter tokenWriter = new ContentStreamWriter(out);\r\n        tokenWriter.writeTokens(tokens);\r\n        out.close();\r\n        page.setContents(updatedStream);\r\n    }\r\n\r\n    return document;\r\n}\r\n```","title":"I&#39;m using PDFBox to replace text, strange characters","body":"<p>I'm using PDFBox to replace text in a template and there are characters (e.g. a simple J) that the tool recognizes as a special character. Any help to solve this problem?</p>\n<pre><code>public static PDDocument replaceText(PDDocument document, Map&lt;String, String&gt; mapVars) throws IOException {\n    \n    for (PDPage page : document.getPages()) {\n        PDFStreamParser parser = new PDFStreamParser(page);\n        parser.parse();\n        List&lt;?&gt; tokens = parser.getTokens();\n\n        for (int j = 0; j &lt; tokens.size(); j++) {\n            Object next = tokens.get(j);\n            if (next instanceof Operator) {\n                Operator op = (Operator) next;\n\n                String pstring = &quot;&quot;;\n                int prej = 0;\n\n               if (op.getName().equals(&quot;TJ&quot;)) {\n                    COSArray previous = (COSArray) tokens.get(j - 1);\n                    \n                    for (int k = 0; k &lt; previous.size(); k++) {\n                        Object arrElement = previous.getObject(k);\n                        if (arrElement instanceof COSString) {\n                            COSString cosString = (COSString) arrElement;\n                            String string = cosString.getString();\n\n                            if (j == prej) {\n                                pstring += string;\n                            } else {\n                                prej = j;\n                                pstring = string;\n                            }\n                        }\n                    }\n                    \n                    if (mapVars.containsKey(pstring.trim())) {\n                        String replacement = mapVars.get(pstring.trim());\n                        COSString sx = new COSString(replacement);\n                        sx.setValue(replacement.getBytes());\n                        previous.clear();\n                        previous.add(0, sx);\n                    }\n                }\n            }\n        }\n        PDStream updatedStream = new PDStream(document);\n        OutputStream out = updatedStream.createOutputStream(COSName.FLATE_DECODE);\n        ContentStreamWriter tokenWriter = new ContentStreamWriter(out);\n        tokenWriter.writeTokens(tokens);\n        out.close();\n        page.setContents(updatedStream);\n    }\n\n    return document;\n}\n</code></pre>\n"},{"tags":["java","r","rjdbc"],"answers":[{"tags":[],"owner":{"account_id":13003819,"reputation":3561,"user_id":9399042,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651871589,"creation_date":1651871589,"answer_id":72147425,"question_id":72143900,"body_markdown":"I feel your install and update pain. The [rJava CRAN entry][1] says:\r\n\r\n&gt; SystemRequirements:\tJava JDK 1.2 or higher (for JRI/REngine JDK 1.4 or higher), GNU make\r\n\r\nSo pretty bare minimum version. I can vouch that I&#39;ve used Java 8 to connect. In the [rJava release notes][2], JDK-17 and 12 seem to have caused problems historically.\r\n\r\nThe detail that has tripped up multiple of my colleagues is that you have to make sure you have the **JDK** installed. At our company only the JRE is installed by default on our laptops and people assume this satisfies the system requirement. \r\n\r\n\r\n  [1]: https://cran.r-project.org/web/packages/rJava/index.html\r\n  [2]: https://cran.r-project.org/web/packages/rJava/NEWS","title":"Which version of Java do I need for this","body":"<p>I feel your install and update pain. The <a href=\"https://cran.r-project.org/web/packages/rJava/index.html\" rel=\"nofollow noreferrer\">rJava CRAN entry</a> says:</p>\n<blockquote>\n<p>SystemRequirements:   Java JDK 1.2 or higher (for JRI/REngine JDK 1.4 or higher), GNU make</p>\n</blockquote>\n<p>So pretty bare minimum version. I can vouch that I've used Java 8 to connect. In the <a href=\"https://cran.r-project.org/web/packages/rJava/NEWS\" rel=\"nofollow noreferrer\">rJava release notes</a>, JDK-17 and 12 seem to have caused problems historically.</p>\n<p>The detail that has tripped up multiple of my colleagues is that you have to make sure you have the <strong>JDK</strong> installed. At our company only the JRE is installed by default on our laptops and people assume this satisfies the system requirement.</p>\n"}],"owner":{"account_id":5414136,"reputation":944,"user_id":4309821,"display_name":"Joe Crozier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72147425,"answer_count":1,"score":0,"last_activity_date":1651871589,"creation_date":1651850623,"question_id":72143900,"body_markdown":"I&#39;m trying to use R and the R package rjdbc to connect to an Oracle database.  Unfortunately, due to my company&#39;s strict IT department, every step of the process is kinda complicated, allow me to explain:\r\n\r\n - For every bit of software we install, we need to get IT to do it for us, and only certain software versions are approved.  I cant easily update them to newer versions\r\n - Our RStudio is version 1.3.1093\r\n - Our R is 4.1.2\r\n - We&#39;ll need to get Java installed, and I was tasked with figuring out which version of Java we should install.  As far as I can tell, the version my company can easily install (without much barking up the food chain) is &quot;Java 8&quot;.\r\n\r\nSo my question is:  To connect to an Oracle database, with those versions of R and R studio, is Java 8 &quot;fine&quot;?  Or will we have compatibility issues?\r\n\r\n","title":"Which version of Java do I need for this","body":"<p>I'm trying to use R and the R package rjdbc to connect to an Oracle database.  Unfortunately, due to my company's strict IT department, every step of the process is kinda complicated, allow me to explain:</p>\n<ul>\n<li>For every bit of software we install, we need to get IT to do it for us, and only certain software versions are approved.  I cant easily update them to newer versions</li>\n<li>Our RStudio is version 1.3.1093</li>\n<li>Our R is 4.1.2</li>\n<li>We'll need to get Java installed, and I was tasked with figuring out which version of Java we should install.  As far as I can tell, the version my company can easily install (without much barking up the food chain) is &quot;Java 8&quot;.</li>\n</ul>\n<p>So my question is:  To connect to an Oracle database, with those versions of R and R studio, is Java 8 &quot;fine&quot;?  Or will we have compatibility issues?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648333186,"creation_date":1648333186,"answer_id":71632246,"question_id":71629033,"body_markdown":"You seems to be using Maven and you probably imported your project in Eclipse as Maven project.\r\n\r\nThe problem with Maven and Eclipse is that usually Maven project are split as project aggregator (a `pom.xml` with only `&lt;module&gt;`) which m2e will import: such aggregator project use a directory hierarchy.\r\n\r\nEclipse, on the other hand, does not scan files as file system file, but as project related file: that&#39;s the main reason for your duplicate. The child project being contained in its parent, the same file is shown twice because for Eclipse, these are two distinct path. \r\n\r\nAnd since for the parent project, the file is simply a regular file it does not offer anything beside syntax highlighting.\r\n\r\nYou can:\r\n\r\n- close each aggregator project one by one; for Eclipse, there are no really useful anyway.\r\n- don&#39;t import them (and I wish m2e-core would suggest it).\r\n\r\nYou could also create a bug or vote for this one which seems related: https://bugs.eclipse.org/bugs/show_bug.cgi?id=533440\r\n\r\nNote that this also affect other screen such as Show Resources (which is the subject of bug 533440).\r\n\r\n\r\n\r\n","title":"Eclipse search opens up Java file that has no syntax highlight or source code link when the project is nested?","body":"<p>You seems to be using Maven and you probably imported your project in Eclipse as Maven project.</p>\n<p>The problem with Maven and Eclipse is that usually Maven project are split as project aggregator (a <code>pom.xml</code> with only <code>&lt;module&gt;</code>) which m2e will import: such aggregator project use a directory hierarchy.</p>\n<p>Eclipse, on the other hand, does not scan files as file system file, but as project related file: that's the main reason for your duplicate. The child project being contained in its parent, the same file is shown twice because for Eclipse, these are two distinct path.</p>\n<p>And since for the parent project, the file is simply a regular file it does not offer anything beside syntax highlighting.</p>\n<p>You can:</p>\n<ul>\n<li>close each aggregator project one by one; for Eclipse, there are no really useful anyway.</li>\n<li>don't import them (and I wish m2e-core would suggest it).</li>\n</ul>\n<p>You could also create a bug or vote for this one which seems related: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=533440\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=533440</a></p>\n<p>Note that this also affect other screen such as Show Resources (which is the subject of bug 533440).</p>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651869798,"creation_date":1651868556,"answer_id":72146990,"question_id":71629033,"body_markdown":"The workaround I am using:: \r\n#### workaround 01 \r\nFind the files in the nest projects as I did before, then get the class name, then `ctrl shift t` to search that class again. \r\n  - Cons: \r\n    - You have to manually copy and search the class name. \r\n    - There are possible other classes with same name (and you have to tell which one you want to go to). \r\n    - You will not be able to jump to the desire line. \r\n#### workaround 02 \r\nJust search in the whole `workspace`. And directly open in the file in the child-project (ignore the results from parent-project). \r\n  - Cons: \r\n    - Time consuming when search the whole workspace (though, you can terminate it when you get the desire files, hopefully no missing results when you do that).\r\n    - There are a lot duplicate / unnecessary results. \r\n    - You may not want to search the whole workspace.\r\n","title":"Eclipse search opens up Java file that has no syntax highlight or source code link when the project is nested?","body":"<p>The workaround I am using::</p>\n<h4>workaround 01</h4>\n<p>Find the files in the nest projects as I did before, then get the class name, then <code>ctrl shift t</code> to search that class again.</p>\n<ul>\n<li>Cons:\n<ul>\n<li>You have to manually copy and search the class name.</li>\n<li>There are possible other classes with same name (and you have to tell which one you want to go to).</li>\n<li>You will not be able to jump to the desire line.</li>\n</ul>\n</li>\n</ul>\n<h4>workaround 02</h4>\n<p>Just search in the whole <code>workspace</code>. And directly open in the file in the child-project (ignore the results from parent-project).</p>\n<ul>\n<li>Cons:\n<ul>\n<li>Time consuming when search the whole workspace (though, you can terminate it when you get the desire files, hopefully no missing results when you do that).</li>\n<li>There are a lot duplicate / unnecessary results.</li>\n<li>You may not want to search the whole workspace.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651869798,"creation_date":1648305890,"question_id":71629033,"body_markdown":"\r\n***Situation::***\r\n\r\n- Trying to search and open up a Java file. In a nest project.\r\n\r\n[![Search nest project][1]][1]\r\n[![Get file from Eclipse][2]][2]\r\n  \r\n- And so, we have the file here, these 2 files the exactly same file,\r\n  \r\n  - but, when the project is nested inside, Eclipse search opens up the file that has **no syntax highlight** or source code link (ie: unable to ctrl click on the code).\r\n\r\n    (ie: Eclipse opens up the Java file as if the Java file is not on a build path)\r\n\r\n    (though, if I search directly on that nested project, instead of on the parent project, then things are fine)\r\n  \r\n  - I have to manually open up the file in the Project Explorer, to get the file with syntax highlight or source code link.\r\n\r\n***Ask::***\r\n\r\n- How can I let Eclipse **directly open up the Java file with syntax highlight** (when I search on the parent project)\r\n  \r\n  (so that I dont need to manually search &amp; click all the way through)? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T2tNZ.png\r\n  [2]: https://i.stack.imgur.com/ItN1z.png","title":"Eclipse search opens up Java file that has no syntax highlight or source code link when the project is nested?","body":"<p><em><strong>Situation::</strong></em></p>\n<ul>\n<li>Trying to search and open up a Java file. In a nest project.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/T2tNZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T2tNZ.png\" alt=\"Search nest project\" /></a>\n<a href=\"https://i.stack.imgur.com/ItN1z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ItN1z.png\" alt=\"Get file from Eclipse\" /></a></p>\n<ul>\n<li><p>And so, we have the file here, these 2 files the exactly same file,</p>\n<ul>\n<li><p>but, when the project is nested inside, Eclipse search opens up the file that has <strong>no syntax highlight</strong> or source code link (ie: unable to ctrl click on the code).</p>\n<p>(ie: Eclipse opens up the Java file as if the Java file is not on a build path)</p>\n<p>(though, if I search directly on that nested project, instead of on the parent project, then things are fine)</p>\n</li>\n<li><p>I have to manually open up the file in the Project Explorer, to get the file with syntax highlight or source code link.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><em><strong>Ask::</strong></em></p>\n<ul>\n<li><p>How can I let Eclipse <strong>directly open up the Java file with syntax highlight</strong> (when I search on the parent project)</p>\n<p>(so that I dont need to manually search &amp; click all the way through)?</p>\n</li>\n</ul>\n"},{"tags":["java","log4j","mdc"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635936172,"creation_date":1635935748,"answer_id":69823359,"question_id":69822992,"body_markdown":"This is a bug. However, Log4j is marked as end-of-life since August 5, 2015 (http://logging.apache.org/log4j/1.2/) and\r\n\r\n&gt; Users of Log4j 1 are recommended to upgrade to Apache Log4j 2\r\n\r\nSpecifically the problem with MDC and Java 9 is well known: [Log4j 1.2 is broken on Java 9](https://blogs.apache.org/logging/entry/moving_on_to_log4j_2), but it is unlikely that anyone will fix this ever.","title":"Why log4j stop running MDC logic if Java version is 11, 11.1x, etc","body":"<p>This is a bug. However, Log4j is marked as end-of-life since August 5, 2015 (<a href=\"http://logging.apache.org/log4j/1.2/\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/1.2/</a>) and</p>\n<blockquote>\n<p>Users of Log4j 1 are recommended to upgrade to Apache Log4j 2</p>\n</blockquote>\n<p>Specifically the problem with MDC and Java 9 is well known: <a href=\"https://blogs.apache.org/logging/entry/moving_on_to_log4j_2\" rel=\"nofollow noreferrer\">Log4j 1.2 is broken on Java 9</a>, but it is unlikely that anyone will fix this ever.</p>\n"},{"tags":[],"owner":{"account_id":3394001,"reputation":933,"user_id":2848150,"display_name":"MhagnumDw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651869203,"creation_date":1651868817,"answer_id":72147021,"question_id":69822992,"body_markdown":"If you can&#39;t switch to log4j2 for whatever reason or can&#39;t use another log provider, then you can copy the [org.apache.log4j.helpers.Loader][1] class from log4j1 into your project keeping the original package name (org.apache.log4j.helpers).\r\n\r\nThen in the `Loader.java` inside your project:\r\n- comment the part of the static block that deals with the java version, [here][2];\r\n- comment the `boolean java1 = true` class variable;\r\n- change the `isJava1()` method to always return `true`;\r\n- locations that reference the `java1` variable must call the `isJava1()` method.\r\n\r\nNow MDC works on Log4j1 + Java9+.\r\n\r\n  [1]: https://github.com/apache/logging-log4j1/blob/v1_2_17/src/main/java/org/apache/log4j/helpers/Loader.java\r\n  [2]: https://github.com/apache/logging-log4j1/blob/v1_2_17/src/main/java/org/apache/log4j/helpers/Loader.java#L42-L50","title":"Why log4j stop running MDC logic if Java version is 11, 11.1x, etc","body":"<p>If you can't switch to log4j2 for whatever reason or can't use another log provider, then you can copy the <a href=\"https://github.com/apache/logging-log4j1/blob/v1_2_17/src/main/java/org/apache/log4j/helpers/Loader.java\" rel=\"nofollow noreferrer\">org.apache.log4j.helpers.Loader</a> class from log4j1 into your project keeping the original package name (org.apache.log4j.helpers).</p>\n<p>Then in the <code>Loader.java</code> inside your project:</p>\n<ul>\n<li>comment the part of the static block that deals with the java version, <a href=\"https://github.com/apache/logging-log4j1/blob/v1_2_17/src/main/java/org/apache/log4j/helpers/Loader.java#L42-L50\" rel=\"nofollow noreferrer\">here</a>;</li>\n<li>comment the <code>boolean java1 = true</code> class variable;</li>\n<li>change the <code>isJava1()</code> method to always return <code>true</code>;</li>\n<li>locations that reference the <code>java1</code> variable must call the <code>isJava1()</code> method.</li>\n</ul>\n<p>Now MDC works on Log4j1 + Java9+.</p>\n"}],"owner":{"account_id":16502422,"reputation":23,"user_id":11923409,"display_name":"wenbin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1068,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69823359,"answer_count":2,"score":2,"last_activity_date":1651869203,"creation_date":1635933990,"question_id":69822992,"body_markdown":"I use MDC for helping log4j loging more information. Everything works well until I updated java version to 11. \r\nThis is my log4j config (pseodo code)\r\n```\r\nlog4j.appender.R.layout.ConversionPattern = [%-4p] %d{yyyy-MM-dd HH:mm:ss,SSS} [%t] [%X{request-id}] %l %m%n\r\n```\r\nThis what I did for MDC\r\n```\r\nMDC.put(&quot;request-id&quot;,&quot;example-request-id&quot;)\r\n```\r\nBy expectation, there should be request-id being logged. However it doesn&#39;t work if Java version is 11.\r\n\r\n\r\n**Following is my findings from log4j code.**\r\n\r\nThere is a code in &quot;org.apache.log4j.helpers.Loader&quot; to set `java1`,\r\n```\r\n    String prop = OptionConverter.getSystemProperty(&quot;java.version&quot;, null);\r\n    \r\n    if(prop != null) {\r\n      int i = prop.indexOf(&#39;.&#39;);\r\n      if(i != -1) {\t\r\n\t    if(prop.charAt(i+1) != &#39;1&#39;)\r\n\t    java1 = false;\r\n      } \r\n    }\r\n```\r\nAnd then, some code in &quot;org.apache.log4j.MDC#MDC&quot; to stop logic.\r\n```\r\nvoid put0(String key, Object o) {\r\n    if(java1 || tlm == null) {\r\n      return;\r\n    }\r\n...\r\n}\r\n```\r\n\r\nIn summary, the MDC wouldn&#39;t work if the java version were 11,12,13,..., 11.1x, 12.1x,..., ect. Isn&#39;t this look like a bug?\r\n\r\n","title":"Why log4j stop running MDC logic if Java version is 11, 11.1x, etc","body":"<p>I use MDC for helping log4j loging more information. Everything works well until I updated java version to 11.\nThis is my log4j config (pseodo code)</p>\n<pre><code>log4j.appender.R.layout.ConversionPattern = [%-4p] %d{yyyy-MM-dd HH:mm:ss,SSS} [%t] [%X{request-id}] %l %m%n\n</code></pre>\n<p>This what I did for MDC</p>\n<pre><code>MDC.put(&quot;request-id&quot;,&quot;example-request-id&quot;)\n</code></pre>\n<p>By expectation, there should be request-id being logged. However it doesn't work if Java version is 11.</p>\n<p><strong>Following is my findings from log4j code.</strong></p>\n<p>There is a code in &quot;org.apache.log4j.helpers.Loader&quot; to set <code>java1</code>,</p>\n<pre><code>    String prop = OptionConverter.getSystemProperty(&quot;java.version&quot;, null);\n    \n    if(prop != null) {\n      int i = prop.indexOf('.');\n      if(i != -1) { \n        if(prop.charAt(i+1) != '1')\n        java1 = false;\n      } \n    }\n</code></pre>\n<p>And then, some code in &quot;org.apache.log4j.MDC#MDC&quot; to stop logic.</p>\n<pre><code>void put0(String key, Object o) {\n    if(java1 || tlm == null) {\n      return;\n    }\n...\n}\n</code></pre>\n<p>In summary, the MDC wouldn't work if the java version were 11,12,13,..., 11.1x, 12.1x,..., ect. Isn't this look like a bug?</p>\n"},{"tags":["java","c++","idioms","builder-pattern"],"comments":[{"owner":{"account_id":5460139,"reputation":173006,"user_id":4342498,"accept_rate":50,"display_name":"NathanOliver"},"score":3,"creation_date":1651865743,"post_id":72146555,"comment_id":127474905,"body_markdown":"The &quot;built-in&quot; feature for this in C++ is [Designated Intiializers](https://en.cppreference.com/w/cpp/language/aggregate_initialization#Designated_initializers).  You could self implement the builder pattern, but IIRC it doesn&#39;t map 100% into C++.","body":"The &quot;built-in&quot; feature for this in C++ is <a href=\"https://en.cppreference.com/w/cpp/language/aggregate_initialization#Designated_initializers\" rel=\"nofollow noreferrer\">Designated Intiializers</a>.  You could self implement the builder pattern, but IIRC it doesn&#39;t map 100% into C++."},{"owner":{"account_id":23710598,"reputation":59302,"user_id":17732522,"display_name":"user17732522"},"score":0,"creation_date":1651866019,"post_id":72146555,"comment_id":127474995,"body_markdown":"Not knowing anything about it and almost nothing about Java, but just reading some of https://docs.automapper.org/en/stable/Getting-started.html, its functionality seems far outside of what the C++ core language allows. There is no reflection that would make it possible for a library to inspect names of members/types and act based on that.","body":"Not knowing anything about it and almost nothing about Java, but just reading some of <a href=\"https://docs.automapper.org/en/stable/Getting-started.html\" rel=\"nofollow noreferrer\">docs.automapper.org/en/stable/Getting-started.html</a>, its functionality seems far outside of what the C++ core language allows. There is no reflection that would make it possible for a library to inspect names of members/types and act based on that."},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":0,"creation_date":1651866090,"post_id":72146555,"comment_id":127475010,"body_markdown":"Ah @user17732522, my bad. I just meant to give a specific example I use in Java. I don&#39;t really need most of the features of AutoMapper. Just looking for a library that enables similar grammar.","body":"Ah @user17732522, my bad. I just meant to give a specific example I use in Java. I don&#39;t really need most of the features of AutoMapper. Just looking for a library that enables similar grammar."},{"owner":{"account_id":11421497,"reputation":58712,"user_id":8372853,"display_name":"cigien"},"score":1,"creation_date":1651887176,"post_id":72146555,"comment_id":127478482,"body_markdown":"Duplicate of https://stackoverflow.com/questions/15381832 but since there&#39;s already a more up to date answer posted here, this might as well be the target.","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/15381832\">stackoverflow.com/questions/15381832</a> but since there&#39;s already a more up to date answer posted here, this might as well be the target."}],"answers":[{"tags":[],"owner":{"account_id":2375956,"reputation":234234,"user_id":2079303,"display_name":"eerorika"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651867603,"creation_date":1651865771,"answer_id":72146594,"question_id":72146555,"body_markdown":"A common pattern is aggregate initialisation:\r\n\r\n    Foo foo = {\r\n        .bar=43,\r\n        .baz=&quot;hello, world!&quot;,\r\n        .enableCache=true,\r\n    };\r\n\r\nNote that designated initialisers such as used here were introduced in C++20. Prior to that, you could only initialise sub objects positionally.\r\n\r\nAnother pattern, common in absence of designated initialisers, is value initialisation followed by assignment of data members:\r\n\r\n    Foo foo = {};\r\n    foo.bar = 43;\r\n    foo.baz = &quot;hello, world!&quot;;\r\n    foo.enableCache = true;\r\n\r\nUsage of neither pattern requires the use of a library.","title":"Is there an alternative to the builder pattern that is preferred in C++?","body":"<p>A common pattern is aggregate initialisation:</p>\n<pre><code>Foo foo = {\n    .bar=43,\n    .baz=&quot;hello, world!&quot;,\n    .enableCache=true,\n};\n</code></pre>\n<p>Note that designated initialisers such as used here were introduced in C++20. Prior to that, you could only initialise sub objects positionally.</p>\n<p>Another pattern, common in absence of designated initialisers, is value initialisation followed by assignment of data members:</p>\n<pre><code>Foo foo = {};\nfoo.bar = 43;\nfoo.baz = &quot;hello, world!&quot;;\nfoo.enableCache = true;\n</code></pre>\n<p>Usage of neither pattern requires the use of a library.</p>\n"},{"tags":[],"owner":{"account_id":5347096,"reputation":11925,"user_id":4262344,"accept_rate":50,"display_name":"Goswin von Brederlow"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1651868288,"creation_date":1651865867,"answer_id":72146612,"question_id":72146555,"body_markdown":"You just have to fix the type error:\r\n\r\n    Foo foo = (*new FooBuilder())\r\n        .setBar(43)\r\n        .setBaz(&quot;hello, world!&quot;)\r\n        .enableCache(true)\r\n        .build();\r\n\r\nThe rest is defining your functions propertly to always return a FooBuilder&amp; (except build returns a Foo).\r\n\r\nThat&#39;s assuming FooBuilder is something that accumulates options from various sources and doesn&#39;t just assign member variables. If your code is really like your example where you create the builder, assign all the options and build the Foo then just use a constructor or aggregate initialization:\r\n\r\n    Foo foo = {\r\n        .bar=43,\r\n        .baz=&quot;hello, world!&quot;,\r\n        .enableCache=true,\r\n    };\r\n\r\nUpdate: Here is the use case I had in mind when retaining the `new`:\r\n\r\n    FooBuilder *builer = nullptr;\r\n    if (use_bla_builder) {\r\n        builder = new Bla::FooBuilder();\r\n    } else {\r\n        builder = new Blub::FooBuilder();\r\n    }\r\n    Foo foo = (*builder)\r\n        .setBar(43)\r\n        .setBaz(&quot;hello, world!&quot;)\r\n        .enableCache(true)\r\n        .build();\r\n    delete builder;\r\n\r\nNote: The builder is abstract while the Foo it builds is concrete.\r\n","title":"Is there an alternative to the builder pattern that is preferred in C++?","body":"<p>You just have to fix the type error:</p>\n<pre><code>Foo foo = (*new FooBuilder())\n    .setBar(43)\n    .setBaz(&quot;hello, world!&quot;)\n    .enableCache(true)\n    .build();\n</code></pre>\n<p>The rest is defining your functions propertly to always return a FooBuilder&amp; (except build returns a Foo).</p>\n<p>That's assuming FooBuilder is something that accumulates options from various sources and doesn't just assign member variables. If your code is really like your example where you create the builder, assign all the options and build the Foo then just use a constructor or aggregate initialization:</p>\n<pre><code>Foo foo = {\n    .bar=43,\n    .baz=&quot;hello, world!&quot;,\n    .enableCache=true,\n};\n</code></pre>\n<p>Update: Here is the use case I had in mind when retaining the <code>new</code>:</p>\n<pre><code>FooBuilder *builer = nullptr;\nif (use_bla_builder) {\n    builder = new Bla::FooBuilder();\n} else {\n    builder = new Blub::FooBuilder();\n}\nFoo foo = (*builder)\n    .setBar(43)\n    .setBaz(&quot;hello, world!&quot;)\n    .enableCache(true)\n    .build();\ndelete builder;\n</code></pre>\n<p>Note: The builder is abstract while the Foo it builds is concrete.</p>\n"},{"tags":[],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651868899,"creation_date":1651868899,"answer_id":72147034,"question_id":72146555,"body_markdown":"If it&#39;s your code, you can approximate it by having your settings return *this as follows:\r\n\r\n    class Foo {\r\n    public:\r\n         Foo &amp; setter1(int value) { ...; return *this; }\r\n         Foo &amp; setter2(int value) { ...; return *this; }\r\n    };\r\n\r\n    Foo foo;\r\n    foo.setter1(1)\r\n       .setter2(2);\r\n\r\nOr pointers or smart pointers, or whatever. I&#39;ve taken to doing this because it makes for slightly cleaner code. Clearly, if your constructor does a lot, you&#39;re still doing a lot. You also have a problem if Foo is a subclass, and some of your setter calls are on the base class, because suddenly you don&#39;t have a Foo being returned, but a BaseFoo.\r\n\r\nSo it&#39;s not perfect.\r\n\r\nI&#39;ve seen self-implemented builder patterns that actually are a proper builder, but frankly, I think that&#39;s a lot of overhead with zero gain.\r\n\r\n    ","title":"Is there an alternative to the builder pattern that is preferred in C++?","body":"<p>If it's your code, you can approximate it by having your settings return *this as follows:</p>\n<pre><code>class Foo {\npublic:\n     Foo &amp; setter1(int value) { ...; return *this; }\n     Foo &amp; setter2(int value) { ...; return *this; }\n};\n\nFoo foo;\nfoo.setter1(1)\n   .setter2(2);\n</code></pre>\n<p>Or pointers or smart pointers, or whatever. I've taken to doing this because it makes for slightly cleaner code. Clearly, if your constructor does a lot, you're still doing a lot. You also have a problem if Foo is a subclass, and some of your setter calls are on the base class, because suddenly you don't have a Foo being returned, but a BaseFoo.</p>\n<p>So it's not perfect.</p>\n<p>I've seen self-implemented builder patterns that actually are a proper builder, but frankly, I think that's a lot of overhead with zero gain.</p>\n"}],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":72146594,"answer_count":3,"score":2,"last_activity_date":1651868899,"creation_date":1651865577,"question_id":72146555,"body_markdown":"I&#39;m coming from Java where the builder pattern is used heavily, _e.g._\r\n\r\n    Foo foo = new FooBuilder()\r\n        .setBar(43)\r\n        .setBaz(&quot;hello, world!&quot;)\r\n        .enableCache(true)\r\n        .build();\r\n\r\nAutomapper for example is popular library that generates this pattern via Java annotations.\r\n\r\nI don&#39;t see any such library for C++—only gists and blog posts online with example ad hoc implementations.\r\n\r\nDoes the lack of a library imply that the builder pattern is not preferred in C++? What is the alternative or preferred idiom then?\r\n\r\nMaybe it helps to describe what I actually want. I like the grammar that the builder pattern affords me, for example if there are 20 fields I could set (_e.g._ a large configuration),  but may only set 4 or may set all 20, without having to create explicit constructors for each case.","title":"Is there an alternative to the builder pattern that is preferred in C++?","body":"<p>I'm coming from Java where the builder pattern is used heavily, <em>e.g.</em></p>\n<pre><code>Foo foo = new FooBuilder()\n    .setBar(43)\n    .setBaz(&quot;hello, world!&quot;)\n    .enableCache(true)\n    .build();\n</code></pre>\n<p>Automapper for example is popular library that generates this pattern via Java annotations.</p>\n<p>I don't see any such library for C++—only gists and blog posts online with example ad hoc implementations.</p>\n<p>Does the lack of a library imply that the builder pattern is not preferred in C++? What is the alternative or preferred idiom then?</p>\n<p>Maybe it helps to describe what I actually want. I like the grammar that the builder pattern affords me, for example if there are 20 fields I could set (<em>e.g.</em> a large configuration),  but may only set 4 or may set all 20, without having to create explicit constructors for each case.</p>\n"},{"tags":["java","spring","tomcat","spring-security"],"owner":{"account_id":2939068,"reputation":2834,"user_id":2517384,"accept_rate":81,"display_name":"MeetJoeBlack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651868285,"creation_date":1651862280,"question_id":72146021,"body_markdown":"I&#39;m trying to setup static content serving on my Tomcat 9 server \r\nSo I specified it inside **server.xml**\r\n\r\n    &lt;Host name=&quot;${serverhost}&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;false&quot; deployOnStartup=&quot;false&quot;&gt;\r\n       ....\r\n       &lt;Context path=&quot;/staticfiles&quot; docBase=&quot;${staticfiles.folder}&quot; reloadable=&quot;false&quot;/&gt;\r\n       ....\r\n       &lt;Context path=&quot;&quot; docBase=&quot;application&quot; reloadable=&quot;false&quot;&gt;\r\n        ....\r\nOn top of that I set up spring sercurity filter for */staticfiles* path::\r\n\r\n    &lt;security:http use-expressions=&quot;true&quot; entry-point-ref=&quot;authenticationEntryPoint&quot; access-decision-manager-ref=&quot;accessDecisionManager&quot; disable-url-rewriting=&quot;true&quot;\r\n                   pattern=&quot;/staticfiles/**&quot;\r\n                   create-session=&quot;never&quot; security-context-repository-ref=&quot;oAuth2EapiCompositeSecurityContextRepository&quot;&gt;\r\n        &lt;security:csrf disabled=&quot;true&quot;/&gt;\r\n        &lt;security:headers disabled=&quot;true&quot;/&gt;\r\n        &lt;security:http-basic/&gt;\r\n        &lt;security:form-login authentication-failure-handler-ref=&quot;authFailureHandler&quot; authentication-success-handler-ref=&quot;authSuccessHandler&quot;\r\n                             username-parameter=&quot;j_username&quot;\r\n                             password-parameter=&quot;j_password&quot;\r\n                             login-processing-url=&quot;/j_spring_security_check&quot;/&gt;\r\n        &lt;security:anonymous enabled=&quot;false&quot;/&gt;\r\n        &lt;security:intercept-url pattern=&quot;/staticfiles/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;security:intercept-url pattern=&quot;/**&quot; access=&quot;denyAll&quot;/&gt;\r\n        &lt;security:custom-filter ref=&quot;fileTransferResourceServerFilter&quot; before=&quot;PRE_AUTH_FILTER&quot;/&gt;\r\n    &lt;/security:http&gt; \r\n\r\nweb.xml mapping\r\n \r\n\r\n     &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n     &lt;url-pattern&gt;/staticfiles/*&lt;/url-pattern&gt;\r\n\r\nIt allows to access all the static files **without any authentication** still\r\n\r\n*GET apphost.com/statifiles/333/test.jpg* doesn&#39;t ask for authentication, so seems like Spring Security filter chain doesnt match this path somehow, but all the other application endpoints are secured (with corresponding security patterns)\r\n\r\nSo seems like Tomcat somehow use it&#39;s own filter to serve static content, I tried to put \r\n\r\n     &lt;Context path=&quot;/staticfiles&quot; docBase=&quot;${staticfiles.folder}&quot; reloadable=&quot;false&quot;/&gt;\r\ninside \r\n\r\n     &lt;Context path=&quot;&quot; docBase=&quot;application&quot; reloadable=&quot;false&quot;&gt;\r\nwhich actually makes it work so Spring protecting this path with basic auth **but after sucessfull login it responds with 404 all the time**, seems like Spring doesn&#39;t fallback to Tomcat static content servlet after Spring Security filters\r\n","title":"Tomcat static content path security with Spring","body":"<p>I'm trying to setup static content serving on my Tomcat 9 server\nSo I specified it inside <strong>server.xml</strong></p>\n<pre><code>&lt;Host name=&quot;${serverhost}&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;false&quot; deployOnStartup=&quot;false&quot;&gt;\n   ....\n   &lt;Context path=&quot;/staticfiles&quot; docBase=&quot;${staticfiles.folder}&quot; reloadable=&quot;false&quot;/&gt;\n   ....\n   &lt;Context path=&quot;&quot; docBase=&quot;application&quot; reloadable=&quot;false&quot;&gt;\n    ....\n</code></pre>\n<p>On top of that I set up spring sercurity filter for <em>/staticfiles</em> path::</p>\n<pre><code>&lt;security:http use-expressions=&quot;true&quot; entry-point-ref=&quot;authenticationEntryPoint&quot; access-decision-manager-ref=&quot;accessDecisionManager&quot; disable-url-rewriting=&quot;true&quot;\n               pattern=&quot;/staticfiles/**&quot;\n               create-session=&quot;never&quot; security-context-repository-ref=&quot;oAuth2EapiCompositeSecurityContextRepository&quot;&gt;\n    &lt;security:csrf disabled=&quot;true&quot;/&gt;\n    &lt;security:headers disabled=&quot;true&quot;/&gt;\n    &lt;security:http-basic/&gt;\n    &lt;security:form-login authentication-failure-handler-ref=&quot;authFailureHandler&quot; authentication-success-handler-ref=&quot;authSuccessHandler&quot;\n                         username-parameter=&quot;j_username&quot;\n                         password-parameter=&quot;j_password&quot;\n                         login-processing-url=&quot;/j_spring_security_check&quot;/&gt;\n    &lt;security:anonymous enabled=&quot;false&quot;/&gt;\n    &lt;security:intercept-url pattern=&quot;/staticfiles/**&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;security:intercept-url pattern=&quot;/**&quot; access=&quot;denyAll&quot;/&gt;\n    &lt;security:custom-filter ref=&quot;fileTransferResourceServerFilter&quot; before=&quot;PRE_AUTH_FILTER&quot;/&gt;\n&lt;/security:http&gt; \n</code></pre>\n<p>web.xml mapping</p>\n<pre><code> &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n &lt;url-pattern&gt;/staticfiles/*&lt;/url-pattern&gt;\n</code></pre>\n<p>It allows to access all the static files <strong>without any authentication</strong> still</p>\n<p><em>GET apphost.com/statifiles/333/test.jpg</em> doesn't ask for authentication, so seems like Spring Security filter chain doesnt match this path somehow, but all the other application endpoints are secured (with corresponding security patterns)</p>\n<p>So seems like Tomcat somehow use it's own filter to serve static content, I tried to put</p>\n<pre><code> &lt;Context path=&quot;/staticfiles&quot; docBase=&quot;${staticfiles.folder}&quot; reloadable=&quot;false&quot;/&gt;\n</code></pre>\n<p>inside</p>\n<pre><code> &lt;Context path=&quot;&quot; docBase=&quot;application&quot; reloadable=&quot;false&quot;&gt;\n</code></pre>\n<p>which actually makes it work so Spring protecting this path with basic auth <strong>but after sucessfull login it responds with 404 all the time</strong>, seems like Spring doesn't fallback to Tomcat static content servlet after Spring Security filters</p>\n"},{"tags":["java","git","gradle","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1651869571,"post_id":72146901,"comment_id":127475875,"body_markdown":"See https://www.jetbrains.com/help/idea/work-with-gradle-projects.html#gradle_composite_build and https://blog.jetbrains.com/idea/2017/03/webinar-recording-composite-builds-with-gradle.","body":"See <a href=\"https://www.jetbrains.com/help/idea/work-with-gradle-projects.html#gradle_composite_build\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> and <a href=\"https://blog.jetbrains.com/idea/2017/03/webinar-recording-composite-builds-with-gradle\" rel=\"nofollow noreferrer\">blog.jetbrains.com/idea/2017/03/&hellip;</a>."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1651872301,"post_id":72146901,"comment_id":127476452,"body_markdown":"The usual approach is to package these into a library jar and then use that jar in your other projects.","body":"The usual approach is to package these into a library jar and then use that jar in your other projects."},{"owner":{"account_id":25219685,"reputation":87,"user_id":19056337,"display_name":"Wewius"},"score":0,"creation_date":1651876489,"post_id":72146901,"comment_id":127477119,"body_markdown":"That jar file would be located on my local machine, right? Or is there a way to import/include such a jar file into any project from a cloud location?\n\n(I also don&#39;t know how to make a &quot;library jar&quot;. Can you please explain this further?)","body":"That jar file would be located on my local machine, right? Or is there a way to import/include such a jar file into any project from a cloud location?  (I also don&#39;t know how to make a &quot;library jar&quot;. Can you please explain this further?)"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1651879178,"post_id":72146901,"comment_id":127477509,"body_markdown":"You can publish your JAR to a public Maven repository so you and others can easily use  it by reference it as a dependency in your pom. Or you can use an internal repository like Nexus if it is close sourced.","body":"You can publish your JAR to a public Maven repository so you and others can easily use  it by reference it as a dependency in your pom. Or you can use an internal repository like Nexus if it is close sourced."},{"owner":{"account_id":25219685,"reputation":87,"user_id":19056337,"display_name":"Wewius"},"score":0,"creation_date":1651880667,"post_id":72146901,"comment_id":127477730,"body_markdown":"That sounds like it could be what I&#39;m looking for. I use gradle for my projects. Would it work with that too? I&#39;m not yet very familiar with maven.","body":"That sounds like it could be what I&#39;m looking for. I use gradle for my projects. Would it work with that too? I&#39;m not yet very familiar with maven."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1651934588,"post_id":72146901,"comment_id":127485887,"body_markdown":"afaik gradle uses [maven](http://mavenrepository.com) at the back.","body":"afaik gradle uses <a href=\"http://mavenrepository.com\" rel=\"nofollow noreferrer\">maven</a> at the back."}],"owner":{"account_id":25219685,"reputation":87,"user_id":19056337,"display_name":"Wewius"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651867959,"creation_date":1651867959,"question_id":72146901,"body_markdown":"I&#39;m a beginning programmer and I apologize if my questions is trivial but I haven&#39;t found a sufficient answer to my problem.\r\n\r\nI have a git repository called &quot;toolbox&quot; with some utility classes that I frequently use in other projects. Until now, I have manually copied those class files from this project in other projects whenever I needed them.\r\n\r\nThis if of course not a good way of doing it. I frequently add new features and fixes in whatever project I&#39;m currently working on to these files. It makes version management a nightmare.\r\n\r\nWhat I&#39;d like to to is to import the toolbox-classes directly into the IntelliJ-Project(s) (which is also on the same git as the toolbox repo) and whenever I make a change to those files in the toolbox-repo I want the other projects to be able to automatically pull those changes as well.\r\n\r\nIf possible I&#39;d also like to be able to share my toolbox-repo easily with others who might need those classes. But that is not a requirement. I&#39;d just be nice to be able to do so.\r\n\r\nI tried to use git submodule. It included the entire toolbox-repo in the target-repo but unfortunately I wasn&#39;t able to use the utility classes. I asked someone more experienced and they told me that I need to define &quot;SourceSet&quot; in the gradle.build but I wasn&#39;t able to configure that due to my lack of knowledge.\r\n\r\n**How can I include/import/use my utility classes from my toolbox-repo within other projects?**\r\n\r\nThanks for any advice.","title":"How can I use my utility classes in different git-projects at once?","body":"<p>I'm a beginning programmer and I apologize if my questions is trivial but I haven't found a sufficient answer to my problem.</p>\n<p>I have a git repository called &quot;toolbox&quot; with some utility classes that I frequently use in other projects. Until now, I have manually copied those class files from this project in other projects whenever I needed them.</p>\n<p>This if of course not a good way of doing it. I frequently add new features and fixes in whatever project I'm currently working on to these files. It makes version management a nightmare.</p>\n<p>What I'd like to to is to import the toolbox-classes directly into the IntelliJ-Project(s) (which is also on the same git as the toolbox repo) and whenever I make a change to those files in the toolbox-repo I want the other projects to be able to automatically pull those changes as well.</p>\n<p>If possible I'd also like to be able to share my toolbox-repo easily with others who might need those classes. But that is not a requirement. I'd just be nice to be able to do so.</p>\n<p>I tried to use git submodule. It included the entire toolbox-repo in the target-repo but unfortunately I wasn't able to use the utility classes. I asked someone more experienced and they told me that I need to define &quot;SourceSet&quot; in the gradle.build but I wasn't able to configure that due to my lack of knowledge.</p>\n<p><strong>How can I include/import/use my utility classes from my toolbox-repo within other projects?</strong></p>\n<p>Thanks for any advice.</p>\n"},{"tags":["java","android-studio","jar"],"comments":[{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":0,"creation_date":1440222093,"post_id":32152489,"comment_id":52194229,"body_markdown":"Jar files will not have comments.. Use Javadoc command.","body":"Jar files will not have comments.. Use Javadoc command."},{"owner":{"account_id":260263,"reputation":16332,"user_id":543711,"accept_rate":93,"display_name":"iTurki"},"score":0,"creation_date":1440222290,"post_id":32152489,"comment_id":52194275,"body_markdown":"@Prashant But Javadoc task will generate html Doc. My goal is to allow the user of the jar file to see Doc comments in the editor. Is this possible?","body":"@Prashant But Javadoc task will generate html Doc. My goal is to allow the user of the jar file to see Doc comments in the editor. Is this possible?"},{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":0,"creation_date":1440222600,"post_id":32152489,"comment_id":52194333,"body_markdown":"Then I think you can include source code also in jar.","body":"Then I think you can include source code also in jar."},{"owner":{"account_id":260263,"reputation":16332,"user_id":543711,"accept_rate":93,"display_name":"iTurki"},"score":0,"creation_date":1440222960,"post_id":32152489,"comment_id":52194426,"body_markdown":"@Prashant I couldn&#39;t figure out how to do that. Should I pass a specific parameter to the task? Or run a different task?","body":"@Prashant I couldn&#39;t figure out how to do that. Should I pass a specific parameter to the task? Or run a different task?"},{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":0,"creation_date":1440223159,"post_id":32152489,"comment_id":52194471,"body_markdown":"while generating jar you can include source code.","body":"while generating jar you can include source code."},{"owner":{"account_id":260263,"reputation":16332,"user_id":543711,"accept_rate":93,"display_name":"iTurki"},"score":0,"creation_date":1440223468,"post_id":32152489,"comment_id":52194542,"body_markdown":"@Prashant Running a `jar` task does not prompt me for anything.","body":"@Prashant Running a <code>jar</code> task does not prompt me for anything."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1440230795,"post_id":32152489,"comment_id":52196212,"body_markdown":"Some JAR files *do* contain documentation, and there is nothing stopping you from creating such a one yourself, but most JaR files contain object code only.","body":"Some JAR files <i>do</i> contain documentation, and there is nothing stopping you from creating such a one yourself, but most JaR files contain object code only."}],"answers":[{"tags":[],"owner":{"account_id":272069,"reputation":605,"user_id":562953,"accept_rate":25,"display_name":"Koby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440226874,"creation_date":1440220588,"answer_id":32152588,"question_id":32152489,"body_markdown":"There is a separate Gradle task to generate javadoc. Try adding the following: \r\n\r\n    task javadocJar(type: Jar, dependsOn:javadoc) { \r\n     classifier = &#39;javadoc&#39; \r\n     from javadoc.destinationDir }\r\n\r\nAnd then run:\r\n\r\n    gradle javadocJar\r\n\r\nSee if that helps.\r\n\r\nIn addition to the above, you can try and add the following to make to generate a single jar with both compiled classes and javadoc:\r\n\r\n    jar {\r\n\t    from javadoc.destinationDir\r\n    }\r\n\r\n    jar.dependsOn javadoc\r\n\r\nI don&#39;t know if that&#39;s the right decision to bundle everything in the same jar. I prefer keeping the jars separate and maybe find another way to make the IDE use the javadoc jar file. Maybe try adding the javadoc jar as another dependency of the module.\r\n","title":"Why JAR Files Do Not Contain Documentation?","body":"<p>There is a separate Gradle task to generate javadoc. Try adding the following: </p>\n\n<pre><code>task javadocJar(type: Jar, dependsOn:javadoc) { \n classifier = 'javadoc' \n from javadoc.destinationDir }\n</code></pre>\n\n<p>And then run:</p>\n\n<pre><code>gradle javadocJar\n</code></pre>\n\n<p>See if that helps.</p>\n\n<p>In addition to the above, you can try and add the following to make to generate a single jar with both compiled classes and javadoc:</p>\n\n<pre><code>jar {\n    from javadoc.destinationDir\n}\n\njar.dependsOn javadoc\n</code></pre>\n\n<p>I don't know if that's the right decision to bundle everything in the same jar. I prefer keeping the jars separate and maybe find another way to make the IDE use the javadoc jar file. Maybe try adding the javadoc jar as another dependency of the module.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1629845124,"creation_date":1440222512,"answer_id":32152811,"question_id":32152489,"body_markdown":"The *javadocs* are the documents that are generated from the *javadoc comments* in your source code.  They are not part of a normal JAR file because that would unnecessarily bloat the JAR files ... with stuff that someone *running* to code doesn&#39;t need.\r\n\r\nThe javadocs can be generated by a Gradle task, by the `javadoc` command (if you have a Java SDK installed) and by various other tools.  You can then read them using a web browser.\r\n\r\nOn the other hand, IDEs can often render the javadoc comments in source code and display them as pop-ups, etcetera.  (Some people would call this &quot;javadocs&quot;, but I think that is an overstatement, since you typically can&#39;t navigate the documentation ... like you can with read javadoc documents.) \r\n\r\nIn order to render the javadoc comments, the IDE needs the source code.  JAR files don&#39;t (normally) contain any source code or javadocs.  Instead, the normal way to deal with this is to tell the IDE where the source code is, either by pointing it at a source code directory, a ZIP file containing source code, or URL for downloading the source code.\r\n\r\n(I don&#39;t use Android Studio, so I can tell you exactly how to do this.  However, I imagine that the IDE&#39;s online help explains how to do it ...)\r\n\r\n---------------------\r\n\r\nIt seems that your end goal here is to distribute your libraries in a way that allows programmers to see the javadoc comments.  \r\n\r\nThe simple way to do that is to distribute source code.  [This Q&amp;A][1] describes how to get Gradle to generate a separate archive containing the source code, or add the source code to the JAR containing your compiled code&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nIf that isn&#39;t acceptable, you may need to generate the javadocs as HTML&lt;sup&gt;2&lt;/sup&gt; and provide the HTML tree as a separate ZIP file that a programmer can unzip and read with a web browser.  Alternatively, put the javadocs up on a website.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - I would not recommend this.  People who just want to use the JAR as a binary are liable to complain about &quot;bloat&quot;.&lt;br&gt;\r\n2 - If neither providing source code or javadoc HTML documentation is acceptable, I don&#39;t think there is a pragmatic solution.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle","title":"Why JAR Files Do Not Contain Documentation?","body":"<p>The <em>javadocs</em> are the documents that are generated from the <em>javadoc comments</em> in your source code.  They are not part of a normal JAR file because that would unnecessarily bloat the JAR files ... with stuff that someone <em>running</em> to code doesn't need.</p>\n<p>The javadocs can be generated by a Gradle task, by the <code>javadoc</code> command (if you have a Java SDK installed) and by various other tools.  You can then read them using a web browser.</p>\n<p>On the other hand, IDEs can often render the javadoc comments in source code and display them as pop-ups, etcetera.  (Some people would call this &quot;javadocs&quot;, but I think that is an overstatement, since you typically can't navigate the documentation ... like you can with read javadoc documents.)</p>\n<p>In order to render the javadoc comments, the IDE needs the source code.  JAR files don't (normally) contain any source code or javadocs.  Instead, the normal way to deal with this is to tell the IDE where the source code is, either by pointing it at a source code directory, a ZIP file containing source code, or URL for downloading the source code.</p>\n<p>(I don't use Android Studio, so I can tell you exactly how to do this.  However, I imagine that the IDE's online help explains how to do it ...)</p>\n<hr />\n<p>It seems that your end goal here is to distribute your libraries in a way that allows programmers to see the javadoc comments.</p>\n<p>The simple way to do that is to distribute source code.  <a href=\"https://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle\">This Q&amp;A</a> describes how to get Gradle to generate a separate archive containing the source code, or add the source code to the JAR containing your compiled code<sup>1</sup>.</p>\n<p>If that isn't acceptable, you may need to generate the javadocs as HTML<sup>2</sup> and provide the HTML tree as a separate ZIP file that a programmer can unzip and read with a web browser.  Alternatively, put the javadocs up on a website.</p>\n<hr />\n<p><sup>1 - I would not recommend this.  People who just want to use the JAR as a binary are liable to complain about &quot;bloat&quot;.<br>\n2 - If neither providing source code or javadoc HTML documentation is acceptable, I don't think there is a pragmatic solution.</sup></p>\n"},{"tags":[],"owner":{"account_id":18496411,"reputation":139,"user_id":13474737,"display_name":"Vaibhav Mojidra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651867737,"creation_date":1651867737,"answer_id":72146861,"question_id":32152489,"body_markdown":"**Yes This is possible**\r\n\r\nHi, This is possible but with a small change like in the jar file.\r\n\r\nFirst of all, from a code point of view jar file contains only compiled &quot;.class&quot; files and not source files &quot;.java&quot;\r\n\r\nSo if you need a doc to be applied with a jar by this I mean not the index.html which gets created but the comment that appears whenever a person uses the jar API and calls a method with a suggestion.\r\n\r\nExample :\r\n[![enter image description here][1]][1]\r\n\r\n\r\nFor that, we need to also add a source file while generating .jar file.\r\n\r\nSteps for the same:\r\n\r\n 1. Type comments/java docs in code\r\n\r\n[![enter image description here][2]][2]\r\n\r\n 2. Generate Docs\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n 3. This will create a doc folder in project folder\r\n\r\n[![enter image description here][5]][5]\r\n\r\n 4. Now create jar file\r\n\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n 5. **Make sure you choose this option** as shown below\r\n\r\n[![enter image description here][8]][8]\r\n\r\n 6. Almost done just test it by importing jar to another project and it should the suggestions as per docs\r\n\r\n[![enter image description here][9]][9]\r\n[![enter image description here][10]][10]\r\n\r\n\r\n\r\n***Very Important this can be harmful as you are including source files.java in your jar so before making make sure if you need this or not.!!!!***\r\n\r\nHope this gave your answer\r\n\r\n**Any questions you can contact me over:** [VaibhavMojidra.com][11]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RQip3.jpg\r\n  [2]: https://i.stack.imgur.com/RZO6a.jpg\r\n  [3]: https://i.stack.imgur.com/UZSoq.jpg\r\n  [4]: https://i.stack.imgur.com/bi6Uu.jpg\r\n  [5]: https://i.stack.imgur.com/S5vAi.png\r\n  [6]: https://i.stack.imgur.com/FDUAh.jpg\r\n  [7]: https://i.stack.imgur.com/aHZQE.jpg\r\n  [8]: https://i.stack.imgur.com/98lXQ.jpg\r\n  [9]: https://i.stack.imgur.com/XYp9R.jpg\r\n  [10]: https://i.stack.imgur.com/0kpIT.jpg\r\n  [11]: https://vaibhavmojidra.github.io/site/","title":"Why JAR Files Do Not Contain Documentation?","body":"<p><strong>Yes This is possible</strong></p>\n<p>Hi, This is possible but with a small change like in the jar file.</p>\n<p>First of all, from a code point of view jar file contains only compiled &quot;.class&quot; files and not source files &quot;.java&quot;</p>\n<p>So if you need a doc to be applied with a jar by this I mean not the index.html which gets created but the comment that appears whenever a person uses the jar API and calls a method with a suggestion.</p>\n<p>Example :\n<a href=\"https://i.stack.imgur.com/RQip3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RQip3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>For that, we need to also add a source file while generating .jar file.</p>\n<p>Steps for the same:</p>\n<ol>\n<li>Type comments/java docs in code</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/RZO6a.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZO6a.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Generate Docs</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/UZSoq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UZSoq.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/bi6Uu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bi6Uu.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>This will create a doc folder in project folder</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/S5vAi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S5vAi.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Now create jar file</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/FDUAh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDUAh.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/aHZQE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aHZQE.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li><strong>Make sure you choose this option</strong> as shown below</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/98lXQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/98lXQ.jpg\" alt=\"enter image description here\" /></a></p>\n<ol start=\"6\">\n<li>Almost done just test it by importing jar to another project and it should the suggestions as per docs</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/XYp9R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XYp9R.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/0kpIT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0kpIT.jpg\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>Very Important this can be harmful as you are including source files.java in your jar so before making make sure if you need this or not.!!!!</strong></em></p>\n<p>Hope this gave your answer</p>\n<p><strong>Any questions you can contact me over:</strong> <a href=\"https://vaibhavmojidra.github.io/site/\" rel=\"nofollow noreferrer\">VaibhavMojidra.com</a></p>\n"}],"owner":{"account_id":260263,"reputation":16332,"user_id":543711,"accept_rate":93,"display_name":"iTurki"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3080,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":32152811,"answer_count":3,"score":5,"last_activity_date":1651867737,"creation_date":1440219497,"question_id":32152489,"body_markdown":"I&#39;m in the process of writing a small Java library that contains a related code that I usually include in most of my android app. I decided to export the library as a jar file then drop the file in the libs folder of my future projects.\r\n\r\nUsing Android Studio:\r\n\r\n- I created a Java Library module and put my code in it. And I added some comments to some of the method, following [this][1].\r\n- Then, I ran the jar task in gradle, which gave me the .jar file in build/libs directory of my module.\r\n\r\nNow, when I used this jar in one of my android apps, Everything works as expected, **except** the Doc part. When I hover over the classes and methods of my library, I don&#39;t see the Doc comments that I wrote.\r\n\r\n\r\n**Q1:** Am I missing another step? &lt;br /&gt;\r\n**Q2:** Are jar files supposed to have no comments?\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/index-137868.html","title":"Why JAR Files Do Not Contain Documentation?","body":"<p>I'm in the process of writing a small Java library that contains a related code that I usually include in most of my android app. I decided to export the library as a jar file then drop the file in the libs folder of my future projects.</p>\n\n<p>Using Android Studio:</p>\n\n<ul>\n<li>I created a Java Library module and put my code in it. And I added some comments to some of the method, following <a href=\"http://www.oracle.com/technetwork/articles/java/index-137868.html\" rel=\"noreferrer\">this</a>.</li>\n<li>Then, I ran the jar task in gradle, which gave me the .jar file in build/libs directory of my module.</li>\n</ul>\n\n<p>Now, when I used this jar in one of my android apps, Everything works as expected, <strong>except</strong> the Doc part. When I hover over the classes and methods of my library, I don't see the Doc comments that I wrote.</p>\n\n<p><strong>Q1:</strong> Am I missing another step? <br />\n<strong>Q2:</strong> Are jar files supposed to have no comments?</p>\n"},{"tags":["java","android","unicode","itext"],"answers":[{"tags":[],"owner":{"account_id":25216334,"reputation":96,"user_id":19053429,"display_name":"thomas lee ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651867548,"creation_date":1651867548,"answer_id":72146831,"question_id":72146779,"body_markdown":"I believe the problem is the font that you decided to use when exporting. **Some fonts do not support non-Latin characters.** \r\n\r\nAs a result you can use fonts like:\r\n\r\n - CODE2000\r\n - Arial Unicode MS\r\n\r\nTo use it with itextpdf I refrenced this: [Click here][1]\r\n\r\n    font = PdfFontFactory.createFont(FontConstants.CODE2000)\r\n    text1.setFont(font);\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/itext/itext_setting_font.htm","title":"PDF from HTML with only alphabetic (Latin) using itextpdf","body":"<p>I believe the problem is the font that you decided to use when exporting. <strong>Some fonts do not support non-Latin characters.</strong></p>\n<p>As a result you can use fonts like:</p>\n<ul>\n<li>CODE2000</li>\n<li>Arial Unicode MS</li>\n</ul>\n<p>To use it with itextpdf I refrenced this: <a href=\"https://www.tutorialspoint.com/itext/itext_setting_font.htm\" rel=\"nofollow noreferrer\">Click here</a></p>\n<pre><code>font = PdfFontFactory.createFont(FontConstants.CODE2000)\ntext1.setFont(font);\n</code></pre>\n"}],"owner":{"account_id":22259144,"reputation":131,"user_id":16490858,"display_name":"Dejo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1651867548,"creation_date":1651867095,"question_id":72146779,"body_markdown":"I believe that the answer to my question is very easy for those who have had experience with this, and I thank you in advance. \r\n\r\nNamely, I managed to export a PDF file from TextView ```bodyText``` and ```titleText```, but my problem is that only alphabetic (Latin) letters can be seen in that PDF file, I can&#39;t see an example in Arabic, Cyrillic, Indian or Hebrew, etc. Can anyone help me, thanks !!!!!!!!\r\n\r\nIn Gradle I use: ```implementation &#39;com.itextpdf.tool:xmlworker:5.5.3&#39;```\r\n\r\n    OutputStream file = new FileOutputStream(new File(&quot;MyPath&quot;));\r\n                                \r\n    Document document = new Document (PageSize.A4);\r\n    \r\n    PdfWriter.getInstance(document, file);\r\n                                \r\n    document.open();\r\n                                \r\n    Paragraph title = new Paragraph();\r\n    title.add(titleText.getText().toString());\r\n    title.setSpacingAfter(12.0f);\r\n    title.setAlignment(Element.ALIGN_CENTER);\r\n    document.add(title);\r\n    document.add(new Paragraph(&quot;\\n&quot;));\r\n    HTMLWorker htmlWorker = new HTMLWorker(document);\r\n    htmlWorker.parse(new StringReader(Html.toHtml((Spanned) bodyText.getText())));\r\n        \r\n    document.close();\r\n    file.close();","title":"PDF from HTML with only alphabetic (Latin) using itextpdf","body":"<p>I believe that the answer to my question is very easy for those who have had experience with this, and I thank you in advance.</p>\n<p>Namely, I managed to export a PDF file from TextView <code>bodyText</code> and <code>titleText</code>, but my problem is that only alphabetic (Latin) letters can be seen in that PDF file, I can't see an example in Arabic, Cyrillic, Indian or Hebrew, etc. Can anyone help me, thanks !!!!!!!!</p>\n<p>In Gradle I use: <code>implementation 'com.itextpdf.tool:xmlworker:5.5.3'</code></p>\n<pre><code>OutputStream file = new FileOutputStream(new File(&quot;MyPath&quot;));\n                            \nDocument document = new Document (PageSize.A4);\n\nPdfWriter.getInstance(document, file);\n                            \ndocument.open();\n                            \nParagraph title = new Paragraph();\ntitle.add(titleText.getText().toString());\ntitle.setSpacingAfter(12.0f);\ntitle.setAlignment(Element.ALIGN_CENTER);\ndocument.add(title);\ndocument.add(new Paragraph(&quot;\\n&quot;));\nHTMLWorker htmlWorker = new HTMLWorker(document);\nhtmlWorker.parse(new StringReader(Html.toHtml((Spanned) bodyText.getText())));\n    \ndocument.close();\nfile.close();\n</code></pre>\n"},{"tags":["java","javascript","rhino"],"answers":[{"tags":[],"owner":{"account_id":1296202,"reputation":21,"user_id":1247193,"display_name":"JSRound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332358756,"creation_date":1332358756,"answer_id":9811666,"question_id":9747314,"body_markdown":"not easy to find a good tutorial.\r\nYou can check the Chapter 12 of the book &quot;Javascript: The Definitive Guide 6th Edition&quot;, to get some very good insights.\r\nBut, if you don&#39;t like java I think it&#39;s going to be a nightmare.","title":"Tutorials for Mozilla Rhino","body":"<p>not easy to find a good tutorial.\nYou can check the Chapter 12 of the book \"Javascript: The Definitive Guide 6th Edition\", to get some very good insights.\nBut, if you don't like java I think it's going to be a nightmare.</p>\n"},{"tags":[],"owner":{"account_id":424820,"reputation":7682,"user_id":805031,"accept_rate":92,"display_name":"TryTryAgain"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1651867283,"creation_date":1332360003,"answer_id":9811952,"question_id":9747314,"body_markdown":"The best thing to do is [play with the examples supplied][1].\r\n\r\nAlso, I have found these to be helpful:\r\n\r\n - If you are on windows [this is how to setup your environment][2] and a simple intro (having you compile and run your first file).\r\n\r\n - This talks about how [Rhino ECMAScript Engine is part of Java6][3] and how to leverage Java and scripting with the Java Scripting API.\r\n\r\n - [This video from Google IO 2008][4] was very helpful\r\n\r\n - Rhino absolutely depends on one&#39;s inclination and interest in Java and JavaScript.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20140304184825/https://developer.mozilla.org/en-US/docs/Rhino/Examples\r\n  [2]: https://web.archive.org/web/20130429162119/http://www.rhino-tutorial.buss.hk/tutorials/compile-javascript-file\r\n  [3]: http://www.ibm.com/developerworks/java/library/j-5things9/index.html\r\n  [4]: http://www.youtube.com/watch?v=BttI-y9VzXQ","title":"Tutorials for Mozilla Rhino","body":"<p>The best thing to do is <a href=\"https://web.archive.org/web/20140304184825/https://developer.mozilla.org/en-US/docs/Rhino/Examples\" rel=\"nofollow noreferrer\">play with the examples supplied</a>.</p>\n<p>Also, I have found these to be helpful:</p>\n<ul>\n<li><p>If you are on windows <a href=\"https://web.archive.org/web/20130429162119/http://www.rhino-tutorial.buss.hk/tutorials/compile-javascript-file\" rel=\"nofollow noreferrer\">this is how to setup your environment</a> and a simple intro (having you compile and run your first file).</p>\n</li>\n<li><p>This talks about how <a href=\"http://www.ibm.com/developerworks/java/library/j-5things9/index.html\" rel=\"nofollow noreferrer\">Rhino ECMAScript Engine is part of Java6</a> and how to leverage Java and scripting with the Java Scripting API.</p>\n</li>\n<li><p><a href=\"http://www.youtube.com/watch?v=BttI-y9VzXQ\" rel=\"nofollow noreferrer\">This video from Google IO 2008</a> was very helpful</p>\n</li>\n<li><p>Rhino absolutely depends on one's inclination and interest in Java and JavaScript.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1088354,"reputation":2157,"user_id":1083552,"accept_rate":43,"display_name":"Abhinav Kulshreshtha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16651,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":9811952,"answer_count":2,"score":14,"last_activity_date":1651867283,"creation_date":1331959213,"question_id":9747314,"body_markdown":"Can any one suggest a good tutorial for Mozilla rhino. What i want to do is to validate a form in java swing with javascript.  \r\nThe official tutorial page on the mozilla website is not clear about actual coding, it only shows its features in code fragments.\r\n\r\nThere was also a page about scripting java inside javascript. Would it be better to use it instead of JSP for small applications, personally i didn&#39;t like java in web development compared to PHP.","title":"Tutorials for Mozilla Rhino","body":"<p>Can any one suggest a good tutorial for Mozilla rhino. What i want to do is to validate a form in java swing with javascript.<br>\nThe official tutorial page on the mozilla website is not clear about actual coding, it only shows its features in code fragments.</p>\n\n<p>There was also a page about scripting java inside javascript. Would it be better to use it instead of JSP for small applications, personally i didn't like java in web development compared to PHP.</p>\n"},{"tags":["java","linux","ansible"],"comments":[{"owner":{"account_id":5284837,"reputation":40467,"user_id":9401096,"display_name":"Zeitounator"},"score":4,"creation_date":1651826226,"post_id":72138184,"comment_id":127460690,"body_markdown":"Rather than trying to fix your command (which will basically [come down to fix a quoting issue](https://gist.github.com/zeitounator/d5a83caba4efcb41c15eb7a8d0ac0b49)): using wget in shell is a bad practice. See the [`get_url`](https://docs.ansible.com/ansible/latest/collections/ansible/builtin/get_url_module.html) or [`uri`](https://docs.ansible.com/ansible/latest/collections/ansible/builtin/uri_module.html) modules","body":"Rather than trying to fix your command (which will basically <a href=\"https://gist.github.com/zeitounator/d5a83caba4efcb41c15eb7a8d0ac0b49\" rel=\"nofollow noreferrer\">come down to fix a quoting issue</a>): using wget in shell is a bad practice. See the <a href=\"https://docs.ansible.com/ansible/latest/collections/ansible/builtin/get_url_module.html\" rel=\"nofollow noreferrer\"><code>get_url</code></a> or <a href=\"https://docs.ansible.com/ansible/latest/collections/ansible/builtin/uri_module.html\" rel=\"nofollow noreferrer\"><code>uri</code></a> modules"},{"owner":{"account_id":25190005,"reputation":13,"user_id":19030292,"display_name":"rahimts"},"score":1,"creation_date":1651827120,"post_id":72138184,"comment_id":127461031,"body_markdown":"Thank you. Yes, instead of trying to fix the quoting issue I used get_url.","body":"Thank you. Yes, instead of trying to fix the quoting issue I used get_url."},{"owner":{"account_id":5284837,"reputation":40467,"user_id":9401096,"display_name":"Zeitounator"},"score":1,"creation_date":1651827424,"post_id":72138184,"comment_id":127461132,"body_markdown":"Note that fixing the quotes is perfectly feasible (as demonstrated in my above link for any future similar need) but using shell is still a bad practice here. Good move if you have it working with `get_url`.","body":"Note that fixing the quotes is perfectly feasible (as demonstrated in my above link for any future similar need) but using shell is still a bad practice here. Good move if you have it working with <code>get_url</code>."}],"answers":[{"tags":[],"owner":{"account_id":9097660,"reputation":9383,"user_id":6771046,"display_name":"U880D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651841783,"creation_date":1651835741,"answer_id":72140601,"question_id":72138184,"body_markdown":"One working approach with the `shell` module can be \r\n\r\n```yaml\r\n---\r\n- hosts: test\r\n  become: false\r\n  gather_facts: false\r\n\r\n  tasks:\r\n\r\n  - name: Download Java\r\n    shell:\r\n      cmd: &#39;curl -x &quot;localhost:3128&quot; -O https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.rpm&#39;\r\n      chdir: &quot;/home/{{ ansible_user }}&quot;\r\n      warn: false\r\n    register: result\r\n\r\n  - name: Show result\r\n    debug:\r\n      msg: &quot;{{ result }}&quot;\r\n```\r\n\r\nAn other one with the `get_url` module. \r\n\r\n```yaml\r\n  - name: Download Java\r\n    get_url:\r\n      url: &quot;https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.rpm&quot;\r\n      dest: &quot;/home/{{ ansible_user }}&quot;\r\n      use_proxy: true\r\n    register: result\r\n    environment:\r\n      HTTP_PROXY: &quot;localhost:3128&quot;\r\n      HTTPS_PROXY: &quot;localhost:3128&quot;\r\n\r\n  - name: Show result\r\n    debug:\r\n      msg: &quot;{{ result }}&quot;\r\n```\r\n\r\n","title":"How to run a Java download command using shell in ansible","body":"<p>One working approach with the <code>shell</code> module can be</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>---\n- hosts: test\n  become: false\n  gather_facts: false\n\n  tasks:\n\n  - name: Download Java\n    shell:\n      cmd: 'curl -x &quot;localhost:3128&quot; -O https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.rpm'\n      chdir: &quot;/home/{{ ansible_user }}&quot;\n      warn: false\n    register: result\n\n  - name: Show result\n    debug:\n      msg: &quot;{{ result }}&quot;\n</code></pre>\n<p>An other one with the <code>get_url</code> module.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  - name: Download Java\n    get_url:\n      url: &quot;https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.rpm&quot;\n      dest: &quot;/home/{{ ansible_user }}&quot;\n      use_proxy: true\n    register: result\n    environment:\n      HTTP_PROXY: &quot;localhost:3128&quot;\n      HTTPS_PROXY: &quot;localhost:3128&quot;\n\n  - name: Show result\n    debug:\n      msg: &quot;{{ result }}&quot;\n</code></pre>\n"}],"owner":{"account_id":25190005,"reputation":13,"user_id":19030292,"display_name":"rahimts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651866894,"creation_date":1651824584,"question_id":72138184,"body_markdown":"I want to download and install Java in one our VMs using Ansible. I tried with `yum` and that was successful but, as part of requirement I was asked to do it another way.\r\n\r\nTo do so, I tried\r\n```yaml\r\n- name: &quot;[version-update] Download Java &quot;\r\n  shell: \r\n    args:\r\n      chdir: /opt/xcal/apps\r\n```\r\nWhere the command to execute is\r\n```shell\r\nwget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.rpm\r\n```\r\nBut, while trying this the editor is showing errors.  \r\nI tried this command with a double quotes surrounding it and just pasting it but both are throwing errors.\r\n\r\nI understand\r\n```\r\n&quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;\r\n```\r\nThis is the part that&#39;s causing the issue. Is there a way to include this in the command as well?","title":"How to run a Java download command using shell in ansible","body":"<p>I want to download and install Java in one our VMs using Ansible. I tried with <code>yum</code> and that was successful but, as part of requirement I was asked to do it another way.</p>\n<p>To do so, I tried</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- name: &quot;[version-update] Download Java &quot;\n  shell: \n    args:\n      chdir: /opt/xcal/apps\n</code></pre>\n<p>Where the command to execute is</p>\n<pre class=\"lang-sh prettyprint-override\"><code>wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.rpm\n</code></pre>\n<p>But, while trying this the editor is showing errors.<br />\nI tried this command with a double quotes surrounding it and just pasting it but both are throwing errors.</p>\n<p>I understand</p>\n<pre><code>&quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;\n</code></pre>\n<p>This is the part that's causing the issue. Is there a way to include this in the command as well?</p>\n"},{"tags":["java","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1651752503,"post_id":72125894,"comment_id":127440492,"body_markdown":"Does &quot;java.lang.ClassNotFoundException: org.springframework.web.servlet.view.InternalResourceViewResoulver&quot; sound actionable?","body":"Does &quot;java.lang.ClassNotFoundException: org.springframework.web.servlet.view.InternalResourceViewRes&zwnj;&#8203;oulver&quot; sound actionable?"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1651844857,"post_id":72125894,"comment_id":127467475,"body_markdown":"What if you spell InternalResourceViewResolver correctly?","body":"What if you spell InternalResourceViewResolver correctly?"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651866762,"creation_date":1651866762,"answer_id":72146728,"question_id":72125894,"body_markdown":"It looks like you made a typo in dispatcher-servlet file.\r\n\r\n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResoulver&quot;&gt;\r\n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/JSP/&quot;&gt;&lt;/property&gt;\r\n   &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; &gt;&lt;/property&gt;\r\n    &lt;/bean&gt; \r\n\r\nInstead of InternalResourceViewRes**ou**lver type InternalResourceViewRes**o**lver","title":"IM getting &quot;HTTP Status 500 - Servlet.init() for servlet dispatcher threw exception&quot; error,new to spring-mvc and java","body":"<p>It looks like you made a typo in dispatcher-servlet file.</p>\n<pre><code>&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResoulver&quot;&gt;\n&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/JSP/&quot;&gt;&lt;/property&gt;\n</code></pre>\n<p>\n</p>\n<p>Instead of InternalResourceViewRes<strong>ou</strong>lver type InternalResourceViewRes<strong>o</strong>lver</p>\n"}],"owner":{"account_id":24944696,"reputation":1,"user_id":18810150,"display_name":"rajesh devika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2886,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1651866762,"creation_date":1651747418,"question_id":72125894,"body_markdown":"I&#39;m new to java ,self-learning through video&#39;s and stackoverflow , I cannot find where I committed error in this code. \r\n\r\nthis is my web.xml :\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;Spring-mvc&lt;/display-name&gt;\r\n    \r\n      &lt;servlet&gt;\r\n      &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n    \r\nthis is my dispatcher-servlet page:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\r\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n            \r\n            &lt;context:component-scan base-package=&quot;com.controller&quot;/&gt;    \r\n            \r\n        &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResoulver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/JSP/&quot;&gt;&lt;/property&gt;\r\n       &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; &gt;&lt;/property&gt;\r\n         &lt;/bean&gt;    \r\n           &lt;/beans&gt;\r\n\r\nthis is my controller java class:\r\n\r\n    package com.controller;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    @RequestMapping(&quot;/display&quot;)\r\n    public class Control {\r\n     \r\n    //@RequestMapping(&quot;/display&quot;)\r\n    public  ModelAndView reqandres(HttpServletRequest req) {\r\n    \t\r\n    String nme=req.getParameter(&quot;name&quot;);\t\r\n    \r\n    \r\n    \r\n    \r\n    return new ModelAndView(&quot;display&quot;,&quot;message&quot;,nme);\r\n    }\r\n    }\r\nthis is my login-page:index.jsp\r\n\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;form action =&quot;display&quot; method=&quot;get&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;Name&quot; placeholder=&quot;enter username&quot; &gt;&lt;br&gt;&lt;br&gt;\r\n      &lt;input type= &quot;password&quot; name=&quot;passWord&quot; placeholder=&quot;enter password&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n      &lt;input   type=&quot;submit&quot; value=&quot;submit&quot;&gt;   \r\n      &lt;/form&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nthis is my view page (display.jsp):\r\n\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n        pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;form action =&quot;display&quot; method=&quot;get&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;Name&quot; placeholder=&quot;enter username&quot; &gt;&lt;br&gt;&lt;br&gt;\r\n      &lt;input type= &quot;password&quot; name=&quot;passWord&quot; placeholder=&quot;enter password&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n      &lt;input   type=&quot;submit&quot; value=&quot;submit&quot;&gt;   \r\n      &lt;/form&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nthis is error I&#39;m  getting:\r\n\r\n    HTTP Status 500 - Servlet.init() for servlet dispatcher threw exception\r\n    \r\n    \r\n    type Exception report\r\n    \r\n    message Servlet.init() for servlet dispatcher threw exception\r\n    \r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n    \r\n    exception\r\n    javax.servlet.ServletException: Servlet.init() for servlet dispatcher threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    \r\n    \r\n    root cause\r\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.web.servlet.view.InternalResourceViewResoulver] for bean with name &#39;org.springframework.web.servlet.view.InternalResourceViewResoulver#0&#39; defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.web.servlet.view.InternalResourceViewResoulver\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1380)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:670)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:637)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1489)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1007)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:741)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    \r\n    \r\n    root cause\r\n    java.lang.ClassNotFoundException: org.springframework.web.servlet.view.InternalResourceViewResoulver\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1332)\r\n    \torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1166)\r\n    \torg.springframework.util.ClassUtils.forName(ClassUtils.java:255)\r\n    \torg.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:437)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1428)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1372)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:670)\r\n    \torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:637)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1489)\r\n    \torg.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1007)\r\n    \torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:741)\r\n    \torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\r\n    \torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n    \torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\r\n    \torg.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\r\n    \torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\r\n    \torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\r\n    \torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tjava.lang.Thread.run(Unknown Source)\r\n    \r\n    \r\n    note The full stack trace of the root cause is available in the Apache Tomcat/8.0.36 logs.\r\n    \r\n    \r\n    Apache Tomcat/8.0.36\r\n\r\n\r\nthis is what I&#39;m getting in console:","title":"IM getting &quot;HTTP Status 500 - Servlet.init() for servlet dispatcher threw exception&quot; error,new to spring-mvc and java","body":"<p>I'm new to java ,self-learning through video's and stackoverflow , I cannot find where I committed error in this code.</p>\n<p>this is my web.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n  &lt;display-name&gt;Spring-mvc&lt;/display-name&gt;\n\n  &lt;servlet&gt;\n  &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>this is my dispatcher-servlet page:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n        \n        &lt;context:component-scan base-package=&quot;com.controller&quot;/&gt;    \n        \n    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResoulver&quot;&gt;\n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/JSP/&quot;&gt;&lt;/property&gt;\n   &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; &gt;&lt;/property&gt;\n     &lt;/bean&gt;    \n       &lt;/beans&gt;\n</code></pre>\n<p>this is my controller java class:</p>\n<pre><code>package com.controller;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\n@RequestMapping(&quot;/display&quot;)\npublic class Control {\n \n//@RequestMapping(&quot;/display&quot;)\npublic  ModelAndView reqandres(HttpServletRequest req) {\n    \nString nme=req.getParameter(&quot;name&quot;);    \n\n\n\n\nreturn new ModelAndView(&quot;display&quot;,&quot;message&quot;,nme);\n}\n}\n</code></pre>\n<p>this is my login-page:index.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form action =&quot;display&quot; method=&quot;get&quot;&gt;&lt;br&gt;&lt;br&gt;\n  &lt;input type=&quot;text&quot; name=&quot;Name&quot; placeholder=&quot;enter username&quot; &gt;&lt;br&gt;&lt;br&gt;\n  &lt;input type= &quot;password&quot; name=&quot;passWord&quot; placeholder=&quot;enter password&quot;&gt;&lt;br&gt;&lt;br&gt;\n  &lt;input   type=&quot;submit&quot; value=&quot;submit&quot;&gt;   \n  &lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>this is my view page (display.jsp):</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form action =&quot;display&quot; method=&quot;get&quot;&gt;&lt;br&gt;&lt;br&gt;\n  &lt;input type=&quot;text&quot; name=&quot;Name&quot; placeholder=&quot;enter username&quot; &gt;&lt;br&gt;&lt;br&gt;\n  &lt;input type= &quot;password&quot; name=&quot;passWord&quot; placeholder=&quot;enter password&quot;&gt;&lt;br&gt;&lt;br&gt;\n  &lt;input   type=&quot;submit&quot; value=&quot;submit&quot;&gt;   \n  &lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>this is error I'm  getting:</p>\n<pre><code>HTTP Status 500 - Servlet.init() for servlet dispatcher threw exception\n\n\ntype Exception report\n\nmessage Servlet.init() for servlet dispatcher threw exception\n\ndescription The server encountered an internal error that prevented it from fulfilling this request.\n\nexception\njavax.servlet.ServletException: Servlet.init() for servlet dispatcher threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\n\n\nroot cause\norg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.web.servlet.view.InternalResourceViewResoulver] for bean with name 'org.springframework.web.servlet.view.InternalResourceViewResoulver#0' defined in ServletContext resource [/WEB-INF/dispatcher-servlet.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.web.servlet.view.InternalResourceViewResoulver\n    org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1380)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:670)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:637)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1489)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1007)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:741)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\n\n\nroot cause\njava.lang.ClassNotFoundException: org.springframework.web.servlet.view.InternalResourceViewResoulver\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1332)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1166)\n    org.springframework.util.ClassUtils.forName(ClassUtils.java:255)\n    org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:437)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1428)\n    org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1372)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:670)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:637)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1489)\n    org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1007)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:741)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:676)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:642)\n    org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:690)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:558)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1099)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Unknown Source)\n\n\nnote The full stack trace of the root cause is available in the Apache Tomcat/8.0.36 logs.\n\n\nApache Tomcat/8.0.36\n</code></pre>\n<p>this is what I'm getting in console:</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":5,"creation_date":1651866927,"post_id":72146713,"comment_id":127475244,"body_markdown":"Just a note, I recommend reducing the amount of bold you use.  The more bold characters you use, the less it means and the harder it is to actually read your question.","body":"Just a note, I recommend reducing the amount of bold you use.  The more bold characters you use, the less it means and the harder it is to actually read your question."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1651867230,"post_id":72146713,"comment_id":127475315,"body_markdown":"@skyho Please show your attempts you have tried and the problems/error messages you get from your attempts. Also explain how the several solutions from the linked question does not solve your problem.","body":"@skyho Please show your attempts you have tried and the problems/error messages you get from your attempts. Also explain how the several solutions from the linked question does not solve your problem."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1651868284,"post_id":72146713,"comment_id":127475556,"body_markdown":"If I had to write it myself, I&#39;d most probably write a class implementing `Map&lt;K, V&gt;`, and managing an internal `Map&lt;K, TimedEntity&lt;V&gt;&gt;`. I&#39;d most probably only delete entries when they are queried and timed-out, or when a new entry should be added, but capacity is reached.","body":"If I had to write it myself, I&#39;d most probably write a class implementing <code>Map&lt;K, V&gt;</code>, and managing an internal <code>Map&lt;K, TimedEntity&lt;V&gt;&gt;</code>. I&#39;d most probably only delete entries when they are queried and timed-out, or when a new entry should be added, but capacity is reached."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1651869706,"post_id":72146713,"comment_id":127475906,"body_markdown":"Bluntly, this problem is much too hard to solve in a StackOverflow answer.  Use an existing library like [Caffeine](https://github.com/ben-manes/caffeine).","body":"Bluntly, this problem is much too hard to solve in a StackOverflow answer.  Use an existing library like <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1651870384,"post_id":72146713,"comment_id":127476076,"body_markdown":"[Does this help in any way?](https://gist.github.com/pcan/16faf4e59942678377e0)","body":"<a href=\"https://gist.github.com/pcan/16faf4e59942678377e0\" rel=\"nofollow noreferrer\">Does this help in any way?</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651902337,"post_id":72146713,"comment_id":127479891,"body_markdown":"Perhaps [`ExpiringMap`](https://github.com/jhalterman/expiringmap#expiration-policies). (I’ve not used it.)","body":"Perhaps <a href=\"https://github.com/jhalterman/expiringmap#expiration-policies\" rel=\"nofollow noreferrer\"><code>ExpiringMap</code></a>. (I’ve not used it.)"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651902267,"answer_count":0,"score":0,"last_activity_date":1651866670,"creation_date":1651866670,"question_id":72146713,"body_markdown":"[There is no answer to my question here!][1]\r\n\r\nFor example, there is a ,\r\n\r\n```java\r\nMap &lt;K,V&gt; map = new ConcurrentHashMap&lt;&gt;()\r\n\r\n```\r\n\r\n **V** - some object that can be in the **Map** for no more than **300 ms**. When we add an element to the **Map** (or it could be a **Queue** data structure), a **timer** would be turned on, which would delete the element after **300 ms**.\r\n\r\n At the same time, if an element is in this primitive cache, then when accessing it, you need to update the **timer** for this object (that is, start counting from the beginning, for this requested object). \r\n\r\nIn fact, this is an **LRU cache**, it has a certain **size**, removes the least used element from it (I know how to do this part), but at the same time, **each** serviced **element** must have an independent **timer** that will **remove** such an **element** from this **cache**, and when such **element** (in that **cache**) updating, the **timer** for such an element must be reset to zero, and if no one requires the **item** during the specified time, the **element** is automatically **deleted** from the **cache**.\r\n\r\nWho has any ideas how this could be organized?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3802370/java-time-based-map-cache-with-expiring-keys","title":"How can I organize the removal of elements from the Map by timer (standalone)?","body":"<p><a href=\"https://stackoverflow.com/questions/3802370/java-time-based-map-cache-with-expiring-keys\">There is no answer to my question here!</a></p>\n<p>For example, there is a ,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt;K,V&gt; map = new ConcurrentHashMap&lt;&gt;()\n\n</code></pre>\n<p><strong>V</strong> - some object that can be in the <strong>Map</strong> for no more than <strong>300 ms</strong>. When we add an element to the <strong>Map</strong> (or it could be a <strong>Queue</strong> data structure), a <strong>timer</strong> would be turned on, which would delete the element after <strong>300 ms</strong>.</p>\n<p>At the same time, if an element is in this primitive cache, then when accessing it, you need to update the <strong>timer</strong> for this object (that is, start counting from the beginning, for this requested object).</p>\n<p>In fact, this is an <strong>LRU cache</strong>, it has a certain <strong>size</strong>, removes the least used element from it (I know how to do this part), but at the same time, <strong>each</strong> serviced <strong>element</strong> must have an independent <strong>timer</strong> that will <strong>remove</strong> such an <strong>element</strong> from this <strong>cache</strong>, and when such <strong>element</strong> (in that <strong>cache</strong>) updating, the <strong>timer</strong> for such an element must be reset to zero, and if no one requires the <strong>item</strong> during the specified time, the <strong>element</strong> is automatically <strong>deleted</strong> from the <strong>cache</strong>.</p>\n<p>Who has any ideas how this could be organized?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11058360,"reputation":1,"user_id":8120547,"display_name":"user8120547"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651855182,"creation_date":1651855182,"answer_id":72144818,"question_id":72143421,"body_markdown":"try this in Gradle.build\r\n\r\n  buildTypes {\r\n\r\n        release {\r\n\r\n            **debuggable true** \r\n\r\n            minifyEnabled false\r\n\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n\r\n        }\r\n\r\n    }\r\n\r\n","title":"Android application works with debugger but not in release mode","body":"<p>try this in Gradle.build</p>\n<p>buildTypes {</p>\n<pre><code>    release {\n\n        **debuggable true** \n\n        minifyEnabled false\n\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9167097,"reputation":124,"user_id":6816215,"accept_rate":57,"display_name":"Zarar Mahmud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651866463,"creation_date":1651848577,"question_id":72143421,"body_markdown":"I have been trying to implement a debouncer for my application, I am trying to reduce requests to the server using this debouncer, eventually, I managed to implement the debouncer but, it seems to work only when I am using the debugger to debug the app. \r\n\r\nThis is how I implemented the debugger\r\n\r\n```\r\npublic class NewDebouncedRunnable implements Runnable {\r\n\r\n    private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n    private final Runnable operation;\r\n    private final long delayMillis;\r\n    private ScheduledFuture&lt;?&gt; scheduledFuture;\r\n\r\n    private long lastRunTime = -1;\r\n    private boolean isQueued = false;\r\n    private Context context;\r\n\r\n    public NewDebouncedRunnable(Context context,Runnable operation, String name, long delayMillis) {\r\n        this.operation = operation;\r\n        this.delayMillis = delayMillis;\r\n        this.context = context;\r\n    }\r\n\r\n    public void synchronized run() {\r\n\r\n        if(lastRunTime==-1){\r\n            Toasty.success(context,&quot;LastRunTime reset&quot;,0).show();\r\n        }\r\n\r\n        long currentTime = getCurrentTimeMillis();\r\n\r\n        System.out.println(currentTime-lastRunTime);\r\n\r\n        if (shouldRunNow(currentTime)) {\r\n            // we&#39;ve never called this before, call it now\r\n            System.out.println(&quot;Registered&quot;);\r\n            lastRunTime = currentTime;\r\n            operation.run();\r\n        } else {\r\n            System.out.println(&quot;Queued&quot;);\r\n            if(scheduledFuture!=null){\r\n                scheduledFuture.cancel(true);\r\n            }\r\n            schedule(this::scheduledRun, delayMillis);\r\n        }\r\n    }\r\n\r\n    private void scheduledRun() {\r\n        Log.d(&quot;SCHEDULED RUN&quot;,&quot;running scheduled task&quot;);\r\n        lastRunTime = getCurrentTimeMillis();\r\n        isQueued = false;\r\n        operation.run();\r\n    }\r\n\r\n    private boolean shouldRunNow(long currentTime) {\r\n        return currentTime-lastRunTime &gt; delayMillis;\r\n    }\r\n\r\n   \r\n    private void schedule(Runnable call, long delayMillis) {\r\n        scheduledFuture = scheduler.schedule(call, delayMillis, TimeUnit.MILLISECONDS);\r\n    }\r\n\r\n  \r\n    long getCurrentTimeMillis() {\r\n        return System.currentTimeMillis();\r\n    }\r\n}\r\n```\r\n\r\nThis is my Debounced Runnable instance\r\n\r\n```\r\n NewDebouncedRunnable increaseOrderItemDebounce = new NewDebouncedRunnable(context,new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try{\r\n                    Log.d(&quot;DEBOUNCE&quot;,&quot;Debounced run&quot;);\r\n                    \r\n                    HelperClass.getInstance().updateOrderItem(context, item, item.getQuantity(), new HelperClass.ResponseListener&lt;ResponseAddUpdateToCart&gt;() {\r\n                        @Override\r\n                        public void onSuccess(ResponseAddUpdateToCart response) {\r\n                            Toasty.success(context,&quot;Cart Updated&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(String error) {\r\n\r\n                        }\r\n                    });\r\n\r\n                 \r\n                }catch(Exception ex){\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        },&quot;&quot;,20000);\r\n```\r\n\r\nThis is how I set my onClickListener for the button\r\n\r\n```\r\n holder.btnPlus.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                item.setQuantity(item.getQuantity()+1);\r\n                increaseOrderItemDebounce.run();\r\n            }\r\n        });\r\n```\r\n\r\nI should also note that the button is part of a recycler view, after making a successful request to the server, the adapter is notified that items have changed using `adapter.notifyItemRangeChanged()`like this \r\n\r\n```\r\nif (orderListAdapter != null &amp;&amp; orderlistRview.getLayoutManager() != null) {\r\n                Parcelable recyclerViewState = orderlistRview.getLayoutManager().onSaveInstanceState();\r\n      \r\n                orderlistRview.getLayoutManager().onRestoreInstanceState(recyclerViewState);\r\n         \r\n                orderListAdapter.notifyItemRangeChanged(0,orderListAdapter.getItemCount());\r\n\r\n            }\r\n```\r\n\r\nThe main issue I am facing here is that every time I click the button in regular mode the `lastRunTime` variable is reset, resulting in continuous requests to the server but when I am running the app using a debugger and setting breakpoints, it is working as it is intended to.","title":"Android application works with debugger but not in release mode","body":"<p>I have been trying to implement a debouncer for my application, I am trying to reduce requests to the server using this debouncer, eventually, I managed to implement the debouncer but, it seems to work only when I am using the debugger to debug the app.</p>\n<p>This is how I implemented the debugger</p>\n<pre><code>public class NewDebouncedRunnable implements Runnable {\n\n    private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n    private final Runnable operation;\n    private final long delayMillis;\n    private ScheduledFuture&lt;?&gt; scheduledFuture;\n\n    private long lastRunTime = -1;\n    private boolean isQueued = false;\n    private Context context;\n\n    public NewDebouncedRunnable(Context context,Runnable operation, String name, long delayMillis) {\n        this.operation = operation;\n        this.delayMillis = delayMillis;\n        this.context = context;\n    }\n\n    public void synchronized run() {\n\n        if(lastRunTime==-1){\n            Toasty.success(context,&quot;LastRunTime reset&quot;,0).show();\n        }\n\n        long currentTime = getCurrentTimeMillis();\n\n        System.out.println(currentTime-lastRunTime);\n\n        if (shouldRunNow(currentTime)) {\n            // we've never called this before, call it now\n            System.out.println(&quot;Registered&quot;);\n            lastRunTime = currentTime;\n            operation.run();\n        } else {\n            System.out.println(&quot;Queued&quot;);\n            if(scheduledFuture!=null){\n                scheduledFuture.cancel(true);\n            }\n            schedule(this::scheduledRun, delayMillis);\n        }\n    }\n\n    private void scheduledRun() {\n        Log.d(&quot;SCHEDULED RUN&quot;,&quot;running scheduled task&quot;);\n        lastRunTime = getCurrentTimeMillis();\n        isQueued = false;\n        operation.run();\n    }\n\n    private boolean shouldRunNow(long currentTime) {\n        return currentTime-lastRunTime &gt; delayMillis;\n    }\n\n   \n    private void schedule(Runnable call, long delayMillis) {\n        scheduledFuture = scheduler.schedule(call, delayMillis, TimeUnit.MILLISECONDS);\n    }\n\n  \n    long getCurrentTimeMillis() {\n        return System.currentTimeMillis();\n    }\n}\n</code></pre>\n<p>This is my Debounced Runnable instance</p>\n<pre><code> NewDebouncedRunnable increaseOrderItemDebounce = new NewDebouncedRunnable(context,new Runnable() {\n            @Override\n            public void run() {\n                try{\n                    Log.d(&quot;DEBOUNCE&quot;,&quot;Debounced run&quot;);\n                    \n                    HelperClass.getInstance().updateOrderItem(context, item, item.getQuantity(), new HelperClass.ResponseListener&lt;ResponseAddUpdateToCart&gt;() {\n                        @Override\n                        public void onSuccess(ResponseAddUpdateToCart response) {\n                            Toasty.success(context,&quot;Cart Updated&quot;, Toast.LENGTH_SHORT).show();\n                        }\n\n                        @Override\n                        public void onFailure(String error) {\n\n                        }\n                    });\n\n                 \n                }catch(Exception ex){\n                    ex.printStackTrace();\n                }\n            }\n        },&quot;&quot;,20000);\n</code></pre>\n<p>This is how I set my onClickListener for the button</p>\n<pre><code> holder.btnPlus.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                item.setQuantity(item.getQuantity()+1);\n                increaseOrderItemDebounce.run();\n            }\n        });\n</code></pre>\n<p>I should also note that the button is part of a recycler view, after making a successful request to the server, the adapter is notified that items have changed using <code>adapter.notifyItemRangeChanged()</code>like this</p>\n<pre><code>if (orderListAdapter != null &amp;&amp; orderlistRview.getLayoutManager() != null) {\n                Parcelable recyclerViewState = orderlistRview.getLayoutManager().onSaveInstanceState();\n      \n                orderlistRview.getLayoutManager().onRestoreInstanceState(recyclerViewState);\n         \n                orderListAdapter.notifyItemRangeChanged(0,orderListAdapter.getItemCount());\n\n            }\n</code></pre>\n<p>The main issue I am facing here is that every time I click the button in regular mode the <code>lastRunTime</code> variable is reset, resulting in continuous requests to the server but when I am running the app using a debugger and setting breakpoints, it is working as it is intended to.</p>\n"},{"tags":["java","tree","binary-tree","instance","abstraction"],"comments":[{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1651901252,"post_id":72146681,"comment_id":127479760,"body_markdown":"Can you include your  `TreeNode` class? Where did you define `infix_string`?","body":"Can you include your  <code>TreeNode</code> class? Where did you define <code>infix_string</code>?"}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651866417,"creation_date":1651866417,"question_id":72146681,"body_markdown":"I am using a binary tree to convert prefix expression into infix, and then solving them.\r\nThat part works fully.\r\n\r\n**My issue is the input loop I set up is adding on the new expression to the old tree, resulting in an error.**\r\nI have tried clearing the linked list, and manually created a method to empty out the tree.\r\nBut every time, the output I have is showing the new expression appended to the previous one, rather than creating a whole new tree.\r\n\r\n        public static void main(final String[] args) {\r\n            Scanner listener = new Scanner(System.in);\r\n            System.out.println();\r\n            System.out.println(&quot;Enter a prefix expression Separated by space!! (Enter &#39;done&#39; to end): &quot;);\r\n            String line = listener.nextLine();\r\n            while(!line.equalsIgnoreCase(&quot;done&quot;)){\r\n            System.out.println(line);\r\n                if(line.length()&lt;=1){ System.out.println(&quot;Invalid expression&quot;); listener.close(); return;}\r\n    \r\n                instances(line);\r\n                line =  new String();\r\n                line = listener.nextLine();\r\n            }\r\n            listener.close();\r\n        }\r\n        public static void instances(String input){\r\n            System.out.println(&quot;The input expression was \\n\\t&quot;+ input +&quot;\\n&quot;);\r\n            String[] in = input.split(&quot; &quot;);\r\n            LinkedList&lt;String&gt; queue = new LinkedList&lt;&gt;(Arrays.asList(in));\r\n            TreeNode root = new TreeNode(queue, null);\r\n            System.out.println(&quot;Expression as infix: &quot;);\r\n            inOrder(root);\r\n            System.out.println(infix_string);\r\n            String[] infix = infix_string.split(&quot; &quot;);\r\n            Stack infix_stack = new Stack(infix);\r\n            System.out.print(&quot;\\t&quot; + infix_stack + &quot; = &quot;);\r\n            infix_stack.answer();\r\n            System.out.println();\r\n            System.out.println(&quot;Enter a prefix expression Separated by space!! (Enter &#39;done&#39; to end): &quot;);\r\n            queue.clear();\r\n            clearTree(root);\r\n        }\r\n    \r\n        public static void clearTree(TreeNode root){\r\n            if(root != null){\r\n                clearTree(root.left);\r\n                clearTree(root.right);\r\n                root=null;\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W21dl.png","title":"Binary tree not clearing with each loop iteration","body":"<p>I am using a binary tree to convert prefix expression into infix, and then solving them.\nThat part works fully.</p>\n<p><strong>My issue is the input loop I set up is adding on the new expression to the old tree, resulting in an error.</strong>\nI have tried clearing the linked list, and manually created a method to empty out the tree.\nBut every time, the output I have is showing the new expression appended to the previous one, rather than creating a whole new tree.</p>\n<pre><code>    public static void main(final String[] args) {\n        Scanner listener = new Scanner(System.in);\n        System.out.println();\n        System.out.println(&quot;Enter a prefix expression Separated by space!! (Enter 'done' to end): &quot;);\n        String line = listener.nextLine();\n        while(!line.equalsIgnoreCase(&quot;done&quot;)){\n        System.out.println(line);\n            if(line.length()&lt;=1){ System.out.println(&quot;Invalid expression&quot;); listener.close(); return;}\n\n            instances(line);\n            line =  new String();\n            line = listener.nextLine();\n        }\n        listener.close();\n    }\n    public static void instances(String input){\n        System.out.println(&quot;The input expression was \\n\\t&quot;+ input +&quot;\\n&quot;);\n        String[] in = input.split(&quot; &quot;);\n        LinkedList&lt;String&gt; queue = new LinkedList&lt;&gt;(Arrays.asList(in));\n        TreeNode root = new TreeNode(queue, null);\n        System.out.println(&quot;Expression as infix: &quot;);\n        inOrder(root);\n        System.out.println(infix_string);\n        String[] infix = infix_string.split(&quot; &quot;);\n        Stack infix_stack = new Stack(infix);\n        System.out.print(&quot;\\t&quot; + infix_stack + &quot; = &quot;);\n        infix_stack.answer();\n        System.out.println();\n        System.out.println(&quot;Enter a prefix expression Separated by space!! (Enter 'done' to end): &quot;);\n        queue.clear();\n        clearTree(root);\n    }\n\n    public static void clearTree(TreeNode root){\n        if(root != null){\n            clearTree(root.left);\n            clearTree(root.right);\n            root=null;\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/W21dl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W21dl.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1510352035,"post_id":47230879,"comment_id":81414636,"body_markdown":"This is really a TestNG question and has nothing to do with Selenium. i would remove the tag lest it confuse others. Have you looked at the TestNG documentation? I&#39;m sure it would describe at least one way to do this.","body":"This is really a TestNG question and has nothing to do with Selenium. i would remove the tag lest it confuse others. Have you looked at the TestNG documentation? I&#39;m sure it would describe at least one way to do this."}],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1510455858,"creation_date":1510455858,"answer_id":47245046,"question_id":47230879,"body_markdown":"There are at-least two ways of doing this dynamically.\r\n\r\n 1. Using an implementation of `org.testng.IAnnotationTransformer`. Here you basically implement the interface `org.testng.IAnnotationTransformer` and within its `transform()` method, you inspect the incoming `testMethod` `java.lang.reflect.Method` object to check if its name matches with what you want to run or not run. You can specify the intent to run/not run a bunch of methods via a JVM argument. If there&#39;s a match, then you basically disable the test method via `annotation.setEnabled(false)` here `annotation` is of type `org.testng.annotations.ITestAnnotation`. You would need to wire in this listener via a service loader (or) using the `&lt;listeners&gt;` tag in your suite xml file. For more information on listeners in general, you can take a look my blog post [here][1]\r\n 2. The other option is to make use of a beanshell. The below sample shows you how to use the beanshell. You can read more about how to work with beanshells, from my blog post [here][2].\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;47230879_Suite&quot; parallel=&quot;false&quot; verbose=&quot;2&quot;&gt;\r\n        &lt;test name=&quot;47230879_test&quot; verbose=&quot;2&quot;&gt;\r\n            &lt;method-selectors&gt;\r\n                &lt;method-selector&gt;\r\n                    &lt;script language=&quot;beanshell&quot;&gt;\r\n                        &lt;![CDATA[\r\n                            try {\r\n                                input = System.getProperty(&quot;methods&quot;,&quot;&quot;);\r\n                                if (input.trim().isEmpty()) {\r\n                                    return true;\r\n                                }\r\n                                methods= input.split(&quot;,&quot;);\r\n                                for (int i =0; i&lt; methods.length; i++) {\r\n                                    if (method.getName().equals(methods[i])) {\r\n                                        return true;\r\n                                    }\r\n                                }\r\n                                return false;\r\n                            } catch( e ) {\r\n                                print(e);\r\n                            }\r\n                        ]]&gt;\r\n                    &lt;/script&gt;\r\n                &lt;/method-selector&gt;\r\n            &lt;/method-selectors&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;com.rationaleemotions.stackoverflow.qn47230879.TestclassSample&quot;/&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nThe test class looks like below\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.rationaleemotions.stackoverflow.qn47230879;\r\n    \r\n    import org.testng.annotations.Test;\r\n    \r\n    public class TestclassSample {\r\n        @Test\r\n        public void a() {\r\n            System.err.println(&quot;a()&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void b() {\r\n            System.err.println(&quot;b()&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void c() {\r\n            System.err.println(&quot;c()&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void d() {\r\n            System.err.println(&quot;d()&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void e() {\r\n            System.err.println(&quot;e()&quot;);\r\n        }\r\n    }\r\n\r\nIf you run the suite without specifying any methods via JVM arguments, all methods get run, but if you specify a bunch of method names via JVM argument `-Dmethods=a,b,c` (for e.g.,) then only those methods get executed.\r\n\r\n  [1]: https://rationaleemotions.wordpress.com/2012/01/27/listen-to-what-i-have-to-say-about-testng-listeners/\r\n  [2]: https://rationaleemotions.wordpress.com/2013/08/21/beanshell-and-testng/\r\n","title":"How to only execute the first test in a Test class with TestNG","body":"<p>There are at-least two ways of doing this dynamically.</p>\n\n<ol>\n<li>Using an implementation of <code>org.testng.IAnnotationTransformer</code>. Here you basically implement the interface <code>org.testng.IAnnotationTransformer</code> and within its <code>transform()</code> method, you inspect the incoming <code>testMethod</code> <code>java.lang.reflect.Method</code> object to check if its name matches with what you want to run or not run. You can specify the intent to run/not run a bunch of methods via a JVM argument. If there's a match, then you basically disable the test method via <code>annotation.setEnabled(false)</code> here <code>annotation</code> is of type <code>org.testng.annotations.ITestAnnotation</code>. You would need to wire in this listener via a service loader (or) using the <code>&lt;listeners&gt;</code> tag in your suite xml file. For more information on listeners in general, you can take a look my blog post <a href=\"https://rationaleemotions.wordpress.com/2012/01/27/listen-to-what-i-have-to-say-about-testng-listeners/\" rel=\"nofollow noreferrer\">here</a></li>\n<li>The other option is to make use of a beanshell. The below sample shows you how to use the beanshell. You can read more about how to work with beanshells, from my blog post <a href=\"https://rationaleemotions.wordpress.com/2013/08/21/beanshell-and-testng/\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"47230879_Suite\" parallel=\"false\" verbose=\"2\"&gt;\n    &lt;test name=\"47230879_test\" verbose=\"2\"&gt;\n        &lt;method-selectors&gt;\n            &lt;method-selector&gt;\n                &lt;script language=\"beanshell\"&gt;\n                    &lt;![CDATA[\n                        try {\n                            input = System.getProperty(\"methods\",\"\");\n                            if (input.trim().isEmpty()) {\n                                return true;\n                            }\n                            methods= input.split(\",\");\n                            for (int i =0; i&lt; methods.length; i++) {\n                                if (method.getName().equals(methods[i])) {\n                                    return true;\n                                }\n                            }\n                            return false;\n                        } catch( e ) {\n                            print(e);\n                        }\n                    ]]&gt;\n                &lt;/script&gt;\n            &lt;/method-selector&gt;\n        &lt;/method-selectors&gt;\n        &lt;classes&gt;\n            &lt;class name=\"com.rationaleemotions.stackoverflow.qn47230879.TestclassSample\"/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p>The test class looks like below</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.rationaleemotions.stackoverflow.qn47230879;\n\nimport org.testng.annotations.Test;\n\npublic class TestclassSample {\n    @Test\n    public void a() {\n        System.err.println(\"a()\");\n    }\n\n    @Test\n    public void b() {\n        System.err.println(\"b()\");\n    }\n\n    @Test\n    public void c() {\n        System.err.println(\"c()\");\n    }\n\n    @Test\n    public void d() {\n        System.err.println(\"d()\");\n    }\n\n    @Test\n    public void e() {\n        System.err.println(\"e()\");\n    }\n}\n</code></pre>\n\n<p>If you run the suite without specifying any methods via JVM arguments, all methods get run, but if you specify a bunch of method names via JVM argument <code>-Dmethods=a,b,c</code> (for e.g.,) then only those methods get executed.</p>\n"}],"owner":{"account_id":8423799,"reputation":628,"user_id":6321777,"accept_rate":43,"display_name":"rHenderson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":47245046,"answer_count":1,"score":-3,"last_activity_date":1651866314,"creation_date":1510346872,"question_id":47230879,"body_markdown":"I&#39;m putting together a navigation test suite to exercise a little bit of functionality on each page of my company&#39;s internal application with Java / Selenium / TestNG.\r\n\r\nSay I have a test class called ApplicationsIT in my NavigationTests directory.  Within this class, I have 10 @Tests annotations so every time I run the full NavigationTests suite all 10 Tests run.\r\n\r\nBut, for the sake of time, is there a way for me to only run the first test in each test class?\r\n\r\nI tried messing with the &quot;(alwaysRun = false)&quot; tags but it didn&#39;t seem to work how I&#39;d expected.\r\n\r\nI know this is a poorly constructed question/post so I&#39;d be happy to clarify anything I can.","title":"How to only execute the first test in a Test class with TestNG","body":"<p>I'm putting together a navigation test suite to exercise a little bit of functionality on each page of my company's internal application with Java / Selenium / TestNG.</p>\n\n<p>Say I have a test class called ApplicationsIT in my NavigationTests directory.  Within this class, I have 10 @Tests annotations so every time I run the full NavigationTests suite all 10 Tests run.</p>\n\n<p>But, for the sake of time, is there a way for me to only run the first test in each test class?</p>\n\n<p>I tried messing with the \"(alwaysRun = false)\" tags but it didn't seem to work how I'd expected.</p>\n\n<p>I know this is a poorly constructed question/post so I'd be happy to clarify anything I can.</p>\n"},{"tags":["java","automation","accessibility","autohotkey"],"comments":[{"owner":{"account_id":32792,"reputation":1721,"user_id":91258,"accept_rate":77,"display_name":"Dave"},"score":0,"creation_date":1425508522,"post_id":17564086,"comment_id":45997730,"body_markdown":"I want to use AutoHotKey with a java application as well.  Did you ever find a solution to this?","body":"I want to use AutoHotKey with a java application as well.  Did you ever find a solution to this?"},{"owner":{"account_id":3027550,"reputation":170,"user_id":2567206,"display_name":"Brett Banks"},"score":0,"creation_date":1425514783,"post_id":17564086,"comment_id":45999938,"body_markdown":"Unfortunately I did not. I ended up using a hacky solution the AHK script would pull the Java window forward, interact with the inputs and buttons using relative coordinates, and then push the Java window back again.","body":"Unfortunately I did not. I ended up using a hacky solution the AHK script would pull the Java window forward, interact with the inputs and buttons using relative coordinates, and then push the Java window back again."},{"owner":{"account_id":4030991,"reputation":24462,"user_id":3357935,"accept_rate":82,"display_name":"Stevoisiak"},"score":0,"creation_date":1506701312,"post_id":17564086,"comment_id":79940151,"body_markdown":"If you need to check if a Java app has finished loading, you can try [checking the mouse status](https://stackoverflow.com/a/23708478/3357935) or the [color of a specific pixel on the page](https://stackoverflow.com/a/23947684/3357935).","body":"If you need to check if a Java app has finished loading, you can try <a href=\"https://stackoverflow.com/a/23708478/3357935\">checking the mouse status</a> or the <a href=\"https://stackoverflow.com/a/23947684/3357935\">color of a specific pixel on the page</a>."},{"owner":{"account_id":4030991,"reputation":24462,"user_id":3357935,"accept_rate":82,"display_name":"Stevoisiak"},"score":0,"creation_date":1506977340,"post_id":17564086,"comment_id":80021807,"body_markdown":"You may be able to use the Java Access Bridge API. (See [How to send to unseen controls in a Java app](https://autohotkey.com/board/topic/95343-how-to-send-to-unseen-controls-in-a-java-app/?p=601593))","body":"You may be able to use the Java Access Bridge API. (See <a href=\"https://autohotkey.com/board/topic/95343-how-to-send-to-unseen-controls-in-a-java-app/?p=601593\" rel=\"nofollow noreferrer\">How to send to unseen controls in a Java app</a>)"},{"owner":{"account_id":11543081,"reputation":3399,"user_id":11985743,"display_name":"Xiddoc"},"score":0,"creation_date":1616852277,"post_id":17564086,"comment_id":118135654,"body_markdown":"You could make it fullscreen, then interact with specific coordinates.","body":"You could make it fullscreen, then interact with specific coordinates."}],"answers":[{"tags":[],"owner":{"account_id":2641574,"reputation":589,"user_id":2285092,"display_name":"Dean Householder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651865437,"creation_date":1651865437,"answer_id":72146536,"question_id":17564086,"body_markdown":"One option is to set the [CoordMode][1] to Relative (Or Window which does the same thing), and then you can use [Click][2] or [MouseMove][3] with hard-coded pixels relative to the top left corner of the window. You can find the coordinates you need with the Window Spy.\r\n\r\nAnother option, if you&#39;re unsure the hard-coded pixels will be reliable, is you can use the [FindText][4] library which allows you to specify what the text/icon is within the window and automate clicks based off of a certain number of pixels nearby that. So for example, if there&#39;s always the text &quot;Name:&quot; and an input box to the right of it, you can build a search for &quot;me: [&quot; (left edge of the input box pixels) and then click to the right of that. The library is impressive and uses the built-in [ImageSearch][5] command in AutoHotkey.\r\n\r\nThe successor of this library is called [AutomateMyTask][6], which I haven&#39;t tried yet, but it claims that you can build your whole click script within a gui that this tool provides. Check it out!\r\n\r\n  [1]: https://www.autohotkey.com/docs/commands/CoordMode.htm\r\n  [2]: https://www.autohotkey.com/docs/commands/Click.htm\r\n  [3]: https://www.autohotkey.com/docs/commands/MouseMove.htm\r\n  [4]: https://www.the-automator.com/find-and-click-image-send-text-to-it/\r\n  [5]: https://www.autohotkey.com/docs/commands/ImageSearch.htm\r\n  [6]: https://www.the-automator.com/automatemytask/","title":"How do I automate a Java application with AutoHotkey?","body":"<p>One option is to set the <a href=\"https://www.autohotkey.com/docs/commands/CoordMode.htm\" rel=\"nofollow noreferrer\">CoordMode</a> to Relative (Or Window which does the same thing), and then you can use <a href=\"https://www.autohotkey.com/docs/commands/Click.htm\" rel=\"nofollow noreferrer\">Click</a> or <a href=\"https://www.autohotkey.com/docs/commands/MouseMove.htm\" rel=\"nofollow noreferrer\">MouseMove</a> with hard-coded pixels relative to the top left corner of the window. You can find the coordinates you need with the Window Spy.</p>\n<p>Another option, if you're unsure the hard-coded pixels will be reliable, is you can use the <a href=\"https://www.the-automator.com/find-and-click-image-send-text-to-it/\" rel=\"nofollow noreferrer\">FindText</a> library which allows you to specify what the text/icon is within the window and automate clicks based off of a certain number of pixels nearby that. So for example, if there's always the text &quot;Name:&quot; and an input box to the right of it, you can build a search for &quot;me: [&quot; (left edge of the input box pixels) and then click to the right of that. The library is impressive and uses the built-in <a href=\"https://www.autohotkey.com/docs/commands/ImageSearch.htm\" rel=\"nofollow noreferrer\">ImageSearch</a> command in AutoHotkey.</p>\n<p>The successor of this library is called <a href=\"https://www.the-automator.com/automatemytask/\" rel=\"nofollow noreferrer\">AutomateMyTask</a>, which I haven't tried yet, but it claims that you can build your whole click script within a gui that this tool provides. Check it out!</p>\n"}],"owner":{"account_id":3027550,"reputation":170,"user_id":2567206,"display_name":"Brett Banks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3886,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1651865437,"creation_date":1373438747,"question_id":17564086,"body_markdown":"I am using a Java application at work. I need to send clicks to buttons and fill in textboxes. I would like these actions to happen in the background. The [ahk_class][1] of the window is SunAwtFrame, and none of the controls are exposed to WindowSpy.\r\n\r\nI have used JavaFerret to determine that the first button I want to press has an [AccessibleAction][2]\r\n\r\n    Version Information:\r\n        Java virtual machine version: 1.7.0_25\r\n        Access Bridge Java class version: 1.7.0_25\r\n        Access Bridge Java DLL version: AccessBridge 2.0.2\r\n        Access Bridge Windows DLL version: AccessBridge 2.0.2\r\n    \r\n    AccessibleContext information:\r\n        Name:  New Call\r\n        Description:  Place a new call\r\n        Role:  push button\r\n        Role in en_US locale:  push button\r\n        States:  enabled,focusable,visible,showing,opaque\r\n        States in en_US locale:  enabled,focusable,visible,showing,opaque\r\n        Index in parent:  1\r\n        Children count:  0\r\n        Bounding rectangle:  [288, 317, 385, 376]\r\n        Top-level window name:  Phone Assistant: \r\n        Top-level window role:  frame\r\n        Parent name:  \r\n        Parent role:  panel\r\n        Visible descendents count:  0\r\n    \r\n    AccessibleIcons info:\r\n        Number of icons:  1\r\n        Icon 0 description: jar:http://proxy.m5net.com/vox/pa/receptioncenter.jar!/resources/phone.png\r\n        Icon 0 height: 26\r\n        Icon 0 width: 27\r\n    \r\n    AccessibleActions info:\r\n        Number of actions:  1\r\n        Action 0 name: click\r\n    \r\n    Accessible Value information:\r\n        Current Value:  0\r\n        Maximum Value:  1\r\n        Minimum Value:  0\r\n\r\nThe accessibility docs tell me that I should be to tell the object to perform that action, but I don&#39;t know how to do this.\r\n\r\nPreferably with AutoHotkey, how can this be done?\r\n\r\n\r\n  [1]: https://autohotkey.com/docs/misc/WinTitle.htm#ahk_class\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/accessibility/AccessibleAction.html","title":"How do I automate a Java application with AutoHotkey?","body":"<p>I am using a Java application at work. I need to send clicks to buttons and fill in textboxes. I would like these actions to happen in the background. The <a href=\"https://autohotkey.com/docs/misc/WinTitle.htm#ahk_class\" rel=\"nofollow noreferrer\">ahk_class</a> of the window is SunAwtFrame, and none of the controls are exposed to WindowSpy.</p>\n<p>I have used JavaFerret to determine that the first button I want to press has an <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/accessibility/AccessibleAction.html\" rel=\"nofollow noreferrer\">AccessibleAction</a></p>\n<pre><code>Version Information:\n    Java virtual machine version: 1.7.0_25\n    Access Bridge Java class version: 1.7.0_25\n    Access Bridge Java DLL version: AccessBridge 2.0.2\n    Access Bridge Windows DLL version: AccessBridge 2.0.2\n\nAccessibleContext information:\n    Name:  New Call\n    Description:  Place a new call\n    Role:  push button\n    Role in en_US locale:  push button\n    States:  enabled,focusable,visible,showing,opaque\n    States in en_US locale:  enabled,focusable,visible,showing,opaque\n    Index in parent:  1\n    Children count:  0\n    Bounding rectangle:  [288, 317, 385, 376]\n    Top-level window name:  Phone Assistant: \n    Top-level window role:  frame\n    Parent name:  \n    Parent role:  panel\n    Visible descendents count:  0\n\nAccessibleIcons info:\n    Number of icons:  1\n    Icon 0 description: jar:http://proxy.m5net.com/vox/pa/receptioncenter.jar!/resources/phone.png\n    Icon 0 height: 26\n    Icon 0 width: 27\n\nAccessibleActions info:\n    Number of actions:  1\n    Action 0 name: click\n\nAccessible Value information:\n    Current Value:  0\n    Maximum Value:  1\n    Minimum Value:  0\n</code></pre>\n<p>The accessibility docs tell me that I should be to tell the object to perform that action, but I don't know how to do this.</p>\n<p>Preferably with AutoHotkey, how can this be done?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1651865622,"post_id":72146473,"comment_id":127474879,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1651866162,"post_id":72146473,"comment_id":127475037,"body_markdown":"For future reference, it would help if you were to include a copy of the compiler error message.","body":"For future reference, it would help if you were to include a copy of the compiler error message."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651865393,"creation_date":1651865393,"answer_id":72146527,"question_id":72146473,"body_markdown":"Your code is hard to read.  I&#39;d recommend paying attention to formatting.\r\n\r\n`order` is an `Order`, not an `ArrayList`.  It has an `ArrayList`.  That&#39;s what you want to iterate over.\r\n\r\nTry this: \r\n\r\n    for (DessertItem item : order.getOrderList()) {\r\n        System.out.printf(&quot;%s.%n&quot;, item.getName());\r\n    }\r\n\r\nA lot of your comments are clutter.  I&#39;d remove them.\r\n\r\nI&#39;d prefer a static type of `List&lt;DessertItem&gt;` for order.  You can change the implementation for the `List` if you need to.","title":"compilation problem while trying to iterate a class of ArrayList&lt;Obj&gt;","body":"<p>Your code is hard to read.  I'd recommend paying attention to formatting.</p>\n<p><code>order</code> is an <code>Order</code>, not an <code>ArrayList</code>.  It has an <code>ArrayList</code>.  That's what you want to iterate over.</p>\n<p>Try this:</p>\n<pre><code>for (DessertItem item : order.getOrderList()) {\n    System.out.printf(&quot;%s.%n&quot;, item.getName());\n}\n</code></pre>\n<p>A lot of your comments are clutter.  I'd remove them.</p>\n<p>I'd prefer a static type of <code>List&lt;DessertItem&gt;</code> for order.  You can change the implementation for the <code>List</code> if you need to.</p>\n"}],"owner":{"account_id":25219443,"reputation":13,"user_id":19056132,"display_name":"AgJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72146527,"answer_count":1,"score":1,"last_activity_date":1651865393,"creation_date":1651865098,"question_id":72146473,"body_markdown":"&gt;I have a class to generate an Arraylist&lt;Obj&gt; it all seems to work but in main it produces a compilation problem which I guess does not recognize my variable name as an ArrayList&lt;Obj&gt;\r\n\r\n    public class Order {\r\n    //Attributes\r\n\tprivate ArrayList&lt;DessertItem&gt; order;\r\n\t\r\n\t//Constructors \r\n\tOrder(){\r\n\t\torder = new ArrayList&lt;DessertItem&gt;();\r\n\t}\t\r\n\t\r\n\t//Methods\r\n\tpublic ArrayList&lt;DessertItem&gt; getOrderList(){\r\n\t\treturn order;\r\n\t}//end of getOrderList\r\n\t\r\n\tpublic void add(DessertItem aItem) {\r\n\t\torder.add(aItem);\r\n\t}//end of add\r\n\t\r\n\tpublic int itemCount() {\r\n\t\treturn order.size();\r\n\t}//end of itemCount\r\n    }//end of class\r\n\r\n\r\n    public class DessertShop {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t//create order\r\n\tOrder order = new Order();\r\n\t\r\n\t//create obj and adding to the order\r\n\tCandy c1 = new Candy(&quot;Candy Corn&quot;, 1.5, .25);\r\n\torder.add(c1);\r\n\r\n    for (DessertItem item : order) {//here is where is marked the error\r\n\tSystem.out.printf(&quot;%s.%n&quot;, item.getName());\r\n\t}","title":"compilation problem while trying to iterate a class of ArrayList&lt;Obj&gt;","body":"<blockquote>\n<p>I have a class to generate an Arraylist it all seems to work but in main it produces a compilation problem which I guess does not recognize my variable name as an ArrayList</p>\n</blockquote>\n<pre><code>public class Order {\n//Attributes\nprivate ArrayList&lt;DessertItem&gt; order;\n\n//Constructors \nOrder(){\n    order = new ArrayList&lt;DessertItem&gt;();\n}   \n\n//Methods\npublic ArrayList&lt;DessertItem&gt; getOrderList(){\n    return order;\n}//end of getOrderList\n\npublic void add(DessertItem aItem) {\n    order.add(aItem);\n}//end of add\n\npublic int itemCount() {\n    return order.size();\n}//end of itemCount\n}//end of class\n\n\npublic class DessertShop {\npublic static void main(String[] args) {\n\n    //create order\nOrder order = new Order();\n\n//create obj and adding to the order\nCandy c1 = new Candy(&quot;Candy Corn&quot;, 1.5, .25);\norder.add(c1);\n\nfor (DessertItem item : order) {//here is where is marked the error\nSystem.out.printf(&quot;%s.%n&quot;, item.getName());\n}\n</code></pre>\n"},{"tags":["java","double"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1651864351,"post_id":72146340,"comment_id":127474475,"body_markdown":"What about `if (x==Double.NEGATIVE_INFINITY)` ?","body":"What about <code>if (x==Double.NEGATIVE_INFINITY)</code> ?"},{"owner":{"account_id":20141073,"reputation":13,"user_id":14770837,"display_name":"elgoblino"},"score":0,"creation_date":1651864711,"post_id":72146340,"comment_id":127474593,"body_markdown":"oh it actually worked. thanks.","body":"oh it actually worked. thanks."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651864957,"post_id":72146340,"comment_id":127474680,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651864721,"creation_date":1651864721,"answer_id":72146416,"question_id":72146340,"body_markdown":"Here are two possible ways to check if a double `x` specifically holds negative infinity:\r\n\r\n    if (Double.isInfinite(x) &amp;&amp; x &lt; 0) ...\r\n\r\nor simply\r\n\r\n    if (x==Double.NEGATIVE_INFINITY) ...","title":"How to check if double is NEGATIVE_INFINITY in Java","body":"<p>Here are two possible ways to check if a double <code>x</code> specifically holds negative infinity:</p>\n<pre><code>if (Double.isInfinite(x) &amp;&amp; x &lt; 0) ...\n</code></pre>\n<p>or simply</p>\n<pre><code>if (x==Double.NEGATIVE_INFINITY) ...\n</code></pre>\n"}],"owner":{"account_id":20141073,"reputation":13,"user_id":14770837,"display_name":"elgoblino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72146416,"answer_count":1,"score":-1,"last_activity_date":1651865351,"creation_date":1651864242,"question_id":72146340,"body_markdown":"How do I check if double is NEGATIVE_INFINITY and not POSITIVE_INFINITY?\r\nThere is only one method in Double class ```isInfinite()``` which checks whether the double is infinite or not but it returns true in both cases if it&#39;s positive and if it&#39;s negative. So is there another way to check the specific infinity (negative or positive)?","title":"How to check if double is NEGATIVE_INFINITY in Java","body":"<p>How do I check if double is NEGATIVE_INFINITY and not POSITIVE_INFINITY?\nThere is only one method in Double class <code>isInfinite()</code> which checks whether the double is infinite or not but it returns true in both cases if it's positive and if it's negative. So is there another way to check the specific infinity (negative or positive)?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651866272,"post_id":72146456,"comment_id":127475070,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":9090974,"reputation":131,"user_id":6766874,"display_name":"abubakar butt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651864960,"creation_date":1651864960,"answer_id":72146457,"question_id":72146456,"body_markdown":"In the application.properties I added this line.\r\n```\r\nspring.jackson.deserialization.fail-on-unknown-properties=true\r\n```\r\nThis helps us to make deserialization fail on unknown properties and throw an exception which we can handle using **handleHttpMessageNotReadable**\r\n\r\ncreate controller advice to handle exceptions\r\n```\r\n@ControllerAdvice\r\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n        return new ResponseEntity(&quot;Your Response Object&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThat&#39;s the solution.\r\n","title":"How to throw exception when there is extra parameters in request body spring boot","body":"<p>In the application.properties I added this line.</p>\n<pre><code>spring.jackson.deserialization.fail-on-unknown-properties=true\n</code></pre>\n<p>This helps us to make deserialization fail on unknown properties and throw an exception which we can handle using <strong>handleHttpMessageNotReadable</strong></p>\n<p>create controller advice to handle exceptions</p>\n<pre><code>@ControllerAdvice\npublic class CustomExceptionHandler extends ResponseEntityExceptionHandler {\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        return new ResponseEntity(&quot;Your Response Object&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n}\n</code></pre>\n<p>That's the solution.</p>\n"}],"owner":{"account_id":9090974,"reputation":131,"user_id":6766874,"display_name":"abubakar butt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72146457,"answer_count":1,"score":3,"last_activity_date":1651864960,"creation_date":1651864960,"question_id":72146456,"body_markdown":"In my last project, there was a requirement for throwing exceptions when the request body contains extra parameters. \r\n\r\nIf the request will be like\r\n```\r\n{\r\n   &quot;test&quot;:&quot;body&quot;,\r\n    &quot;name&quot;:&quot;HR 1&quot;,\r\n    &quot;location&quot;:&quot;Location&quot;\r\n}\r\n\r\n```\r\nwhere test parameter is unnecessary and I&#39;ve to return a response that should be like \r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-05-07T00:13:59.144657&quot;,\r\n    &quot;status&quot;: &quot;500&quot;,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;test : must not be provided&quot;,\r\n    &quot;path&quot;: &quot;/api/departments/HR&quot;\r\n}\r\n\r\n```\r\nI&#39;ve shared the answer. How I handled it.\r\n","title":"How to throw exception when there is extra parameters in request body spring boot","body":"<p>In my last project, there was a requirement for throwing exceptions when the request body contains extra parameters.</p>\n<p>If the request will be like</p>\n<pre><code>{\n   &quot;test&quot;:&quot;body&quot;,\n    &quot;name&quot;:&quot;HR 1&quot;,\n    &quot;location&quot;:&quot;Location&quot;\n}\n\n</code></pre>\n<p>where test parameter is unnecessary and I've to return a response that should be like</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-05-07T00:13:59.144657&quot;,\n    &quot;status&quot;: &quot;500&quot;,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;test : must not be provided&quot;,\n    &quot;path&quot;: &quot;/api/departments/HR&quot;\n}\n\n</code></pre>\n<p>I've shared the answer. How I handled it.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1651863410,"post_id":72146145,"comment_id":127474195,"body_markdown":"What do you need to know that isn’t explained by the error message? `openConnection()` is an instance method, you can’t call it with a class name (the “static context”)","body":"What do you need to know that isn’t explained by the error message? <code>openConnection()</code> is an instance method, you can’t call it with a class name (the “static context”)"}],"answers":[{"tags":[],"owner":{"account_id":5073291,"reputation":56,"user_id":4071466,"display_name":"abdurrhman el shimy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651864668,"creation_date":1651864668,"answer_id":72146409,"question_id":72146145,"body_markdown":"Based on the error in the title, [this question might be helpful][1]. Non-static methods need an instance, such as `new Connection()` and can&#39;t be called without creating an instance.\r\n\r\nI&#39;m not sure what library you&#39;re using to create the connection but [this][2] shows an example of how you would do this in Java.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11993077\r\n  [2]: https://www.tutorialspoint.com/jdbc/jdbc-sample-code.htm","title":"non-static method openConnection() cannot be referenced from a static context","body":"<p>Based on the error in the title, <a href=\"https://stackoverflow.com/questions/11993077\">this question might be helpful</a>. Non-static methods need an instance, such as <code>new Connection()</code> and can't be called without creating an instance.</p>\n<p>I'm not sure what library you're using to create the connection but <a href=\"https://www.tutorialspoint.com/jdbc/jdbc-sample-code.htm\" rel=\"nofollow noreferrer\">this</a> shows an example of how you would do this in Java.</p>\n"}],"owner":{"account_id":22353623,"reputation":107,"user_id":16571275,"display_name":"Abderrezak Douba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1651865465,"answer_count":1,"score":-4,"last_activity_date":1651864668,"creation_date":1651863004,"question_id":72146145,"body_markdown":"The problem appears in `openConnection()`.\r\nI&#39;ve tried all solutions and they didn&#39;t work. Can someone save me and write the solution in details that I can understand it?\r\n\r\n\r\n~~~java\r\npackage cabinet.database;\r\n\r\nimport cabinet.Admin;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class logincc {\r\n        Statement st;\r\n\r\n  public boolean islogin(Admin ad)throws SQLException{\r\n         st= Connection.openConnection().createStatement();\r\n    ResultSet res=  st.executeQuery(&quot;select*from mote de passe where username =&#39;&quot;+ad.getUsername()+&quot;&#39;and password=&#39;&quot;+ ad.getPassword()+&quot;&#39;&quot; );\r\n    if (res.next())\r\n  return true;\r\n  return false;\r\n}\r\n}\r\n~~~","title":"non-static method openConnection() cannot be referenced from a static context","body":"<p>The problem appears in <code>openConnection()</code>.\nI've tried all solutions and they didn't work. Can someone save me and write the solution in details that I can understand it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package cabinet.database;\n\nimport cabinet.Admin;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class logincc {\n        Statement st;\n\n  public boolean islogin(Admin ad)throws SQLException{\n         st= Connection.openConnection().createStatement();\n    ResultSet res=  st.executeQuery(&quot;select*from mote de passe where username ='&quot;+ad.getUsername()+&quot;'and password='&quot;+ ad.getPassword()+&quot;'&quot; );\n    if (res.next())\n  return true;\n  return false;\n}\n}\n</code></pre>\n"},{"tags":["java","class","if-statement","methods"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1651864271,"post_id":72146287,"comment_id":127474446,"body_markdown":"You did not create a method for finding average, you only have a `main`.  You need to create a method such as `public static double findAverage(int...values)` in order to use your code in another location.  I suggest searching up tutorials on methods with examples to help you.","body":"You did not create a method for finding average, you only have a <code>main</code>.  You need to create a method such as <code>public static double findAverage(int...values)</code> in order to use your code in another location.  I suggest searching up tutorials on methods with examples to help you."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651866629,"post_id":72146287,"comment_id":127475165,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1651937958,"post_id":72146287,"comment_id":127486753,"body_markdown":"why is class `Payroll` as well an inner class of `TimeOffice` and also inheriting from it? Please use any standard coding conventions or be at least consistent with your namings. (`Totalleaves` should be `totalLeaves` or `totalLeaveCount`. And finally: please show the intended use of your `Payroll` class - even if it does not do what you want yet.","body":"why is class <code>Payroll</code> as well an inner class of <code>TimeOffice</code> and also inheriting from it? Please use any standard coding conventions or be at least consistent with your namings. (<code>Totalleaves</code> should be <code>totalLeaves</code> or <code>totalLeaveCount</code>. And finally: please show the intended use of your <code>Payroll</code> class - even if it does not do what you want yet."}],"owner":{"account_id":25212509,"reputation":35,"user_id":19050024,"display_name":"vidhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651864650,"creation_date":1651863978,"question_id":72146287,"body_markdown":"    package Multiplemethods;\r\n    \r\n    import java.util.stream.DoubleStream;\r\n    \r\n    public class TimeOffice {\r\n    \t\r\n\tpublic static void main(String args[]){\r\n\t//instance variables\r\n\tdouble[] intime = {09.34,09.56,09.00,08.55};\r\n\tdouble[] outtime = {17.25,18.06,17.55,16.00};\r\n\tdouble[] loginhours = new double[intime.length];\r\n\t\r\n   \r\n     //subtracting two arrays \r\n\t \r\n     int i;\r\n     for(i=0;i&lt;intime.length;i++)\r\n    \tloginhours [i] = outtime[i]-intime[i];\r\n\r\n        for(int j =0; j&lt; loginhours.length; j++)\r\n\r\n        System.out.print(&quot;Login hours=&quot; + loginhours[j] + &quot;,&quot;);\r\n    \r\n    //sum working hours calculation\r\n    double sum = DoubleStream.of(loginhours).sum();\r\n    System.out.println(&quot;Total workinghours=&quot;+ sum);\r\n    \r\n    //average working hours calculation\r\n    double average = sum/4;\r\n    System.out.println(&quot;Average working hours=&quot; + average);\r\n  \t\t\r\n\r\n\t//instant variable (leave) Total leaves calculation\r\n        int leave = 2;\r\n\t\tint Totalleaves = leave +1;\r\n\t\tSystem.out.println(&quot;Total leaves taken=&quot; + Totalleaves);\r\n\t}\r\n\t\r\n\t  public class Payroll extends TimeOffice{\r\n\t\t\r\n\t    //instance variables\r\n\t\tint level = 3;\r\n\t\tint basicpay = 12000;\r\n\t\tint BOA = 9000 ;\r\n\t\tint Bonus = 3000 ;\r\n\t  }\r\n}\r\n\t\r\nI have calculated the average of login hours in the class Time Office. Now, I have created a new class called Payroll and want to call the method &#39;average&#39; here, so that I can give proceed with if conditions.\r\n\r\nThanks in advance","title":"Calling a method from one class to another to get its value","body":"<pre><code>package Multiplemethods;\n\nimport java.util.stream.DoubleStream;\n\npublic class TimeOffice {\n    \npublic static void main(String args[]){\n//instance variables\ndouble[] intime = {09.34,09.56,09.00,08.55};\ndouble[] outtime = {17.25,18.06,17.55,16.00};\ndouble[] loginhours = new double[intime.length];\n\n\n //subtracting two arrays \n \n int i;\n for(i=0;i&lt;intime.length;i++)\n    loginhours [i] = outtime[i]-intime[i];\n\n    for(int j =0; j&lt; loginhours.length; j++)\n\n    System.out.print(&quot;Login hours=&quot; + loginhours[j] + &quot;,&quot;);\n\n//sum working hours calculation\ndouble sum = DoubleStream.of(loginhours).sum();\nSystem.out.println(&quot;Total workinghours=&quot;+ sum);\n\n//average working hours calculation\ndouble average = sum/4;\nSystem.out.println(&quot;Average working hours=&quot; + average);\n    \n\n//instant variable (leave) Total leaves calculation\n    int leave = 2;\n    int Totalleaves = leave +1;\n    System.out.println(&quot;Total leaves taken=&quot; + Totalleaves);\n}\n\n  public class Payroll extends TimeOffice{\n    \n    //instance variables\n    int level = 3;\n    int basicpay = 12000;\n    int BOA = 9000 ;\n    int Bonus = 3000 ;\n  }\n</code></pre>\n<p>}</p>\n<p>I have calculated the average of <code>loginhours</code> in the class <code>TimeOffice</code>. Now, I have created a new class called <code>Payroll</code> and want to call the method <code>average</code> here, so that I can give proceed with if conditions.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":24905826,"reputation":66,"user_id":18775901,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651863379,"creation_date":1651863379,"answer_id":72146194,"question_id":72146100,"body_markdown":"The below code will return a JTextField with a black background and red text.\r\n\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JFrame;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    \r\n    public class test\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            JTextField textField = new JTextField(20);\r\n            \r\n            JFrame frame = new JFrame(&quot;Java&quot;); // Just the window title, name doesn&#39;t matter\r\n            frame.setLayout(new FlowLayout());\r\n            \r\n            Color color = new Color(255,0,0); // Set the text color\r\n    \r\n            textField.setBackground(Color.BLACK); // Set the black background\r\n    \r\n            textField.setForeground(color);\r\n            frame.add(textField);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(500,200);\r\n            frame.setVisible(true);\r\n        }\r\n    }","title":"Is there any way to return the color of a JTextField?","body":"<p>The below code will return a JTextField with a black background and red text.</p>\n<pre><code>import javax.swing.JTextField;\nimport javax.swing.JFrame;\n\nimport java.awt.Color;\nimport java.awt.FlowLayout;\n\npublic class test\n{\n    public static void main(String[] args)\n    {\n        JTextField textField = new JTextField(20);\n        \n        JFrame frame = new JFrame(&quot;Java&quot;); // Just the window title, name doesn't matter\n        frame.setLayout(new FlowLayout());\n        \n        Color color = new Color(255,0,0); // Set the text color\n\n        textField.setBackground(Color.BLACK); // Set the black background\n\n        textField.setForeground(color);\n        frame.add(textField);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500,200);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2542001,"reputation":36,"user_id":2207596,"display_name":"Mike Brazinski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651864410,"creation_date":1651864410,"answer_id":72146365,"question_id":72146100,"body_markdown":"JTextField inherits `getBackground()` and `getForeground()` from Component. If I understand your question, that should get you the values.","title":"Is there any way to return the color of a JTextField?","body":"<p>JTextField inherits <code>getBackground()</code> and <code>getForeground()</code> from Component. If I understand your question, that should get you the values.</p>\n"}],"owner":{"display_name":"user15424342"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72146365,"answer_count":2,"score":0,"last_activity_date":1651864410,"creation_date":1651862732,"question_id":72146100,"body_markdown":"For example if you set the color of a textfield as `Color.RED`, is there a method to actually return that color?\r\n\r\nI found a method in the Oracle logs called `getCaretColor()` but it doesn&#39;t seem to return the right thing...","title":"Is there any way to return the color of a JTextField?","body":"<p>For example if you set the color of a textfield as <code>Color.RED</code>, is there a method to actually return that color?</p>\n<p>I found a method in the Oracle logs called <code>getCaretColor()</code> but it doesn't seem to return the right thing...</p>\n"},{"tags":["java","android","firebase-storage"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1651862252,"post_id":72145898,"comment_id":127473877,"body_markdown":"Your code is currently not checking for errors.  Something could be going wrong and you&#39;d never know what it is.  You will need a failure listener as well.","body":"Your code is currently not checking for errors.  Something could be going wrong and you&#39;d never know what it is.  You will need a failure listener as well."},{"owner":{"account_id":25219055,"reputation":11,"user_id":19055808,"display_name":"Marina M"},"score":0,"creation_date":1651864092,"post_id":72145898,"comment_id":127474391,"body_markdown":"@DougStevenson I added a onFailure listener now, but I checked and it never gets called either...","body":"@DougStevenson I added a onFailure listener now, but I checked and it never gets called either..."}],"answers":[{"tags":[],"owner":{"account_id":9400379,"reputation":442,"user_id":9754585,"display_name":"Drivers Sea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651863060,"creation_date":1651863060,"answer_id":72146153,"question_id":72145898,"body_markdown":"There is some missing information here, that makes it unclear what the issue actually is.\r\n\r\nFirst, I would make sure you have added the correct dependance to your app/build.gradle file. \r\nAssuming you did that, the next thing I would check is adding an onFailure listener. Perhaps the loading is failing and you are not getting the message.","title":"StorageReference getFile doesn&#39;t work properly","body":"<p>There is some missing information here, that makes it unclear what the issue actually is.</p>\n<p>First, I would make sure you have added the correct dependance to your app/build.gradle file.\nAssuming you did that, the next thing I would check is adding an onFailure listener. Perhaps the loading is failing and you are not getting the message.</p>\n"}],"owner":{"account_id":25219055,"reputation":11,"user_id":19055808,"display_name":"Marina M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651863934,"creation_date":1651861512,"question_id":72145898,"body_markdown":"I have a text file I&#39;m storing on the Firebase database and I&#39;m trying to retrieve the text as following: \r\n\r\n    File tempFile = File.createTempFile(&quot;tempfile&quot;, &quot;.txt&quot;);\r\n        Path filename = tempFile.toPath();\r\n        FileDownloadTask fdt = gsReference.getFile(tempFile);\r\n        fdt.addOnSuccessListener(new OnSuccessListener&lt;FileDownloadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(FileDownloadTask.TaskSnapshot taskSnapshot) {\r\n                try {\r\n                     wholeFile = new String(Files.readAllBytes(filename), StandardCharsets.UTF_8);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception exception) {\r\n                Toast.makeText(MainActivity.this, &quot;failed to read&quot;, Toast.LENGTH_LONG);\r\n            }\r\n        });\r\n\r\nit worked once but now when debugging I see that the onSuccessListener is never called anymore, it skips right over to the next part of the code. I&#39;ve seen a similiar question where someone said the getFile method doesn&#39;t work properly with SDK 29 so I tried limiting mine to 28 but still no luck. \r\n\r\nEDIT: I added onFailure and put a breakpoint there, it skips over that part too (didn&#39;t stop at the breakpoint)\r\n\r\nmy build.gradle:\r\n\r\n    dependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.0.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.3.1&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;}","title":"StorageReference getFile doesn&#39;t work properly","body":"<p>I have a text file I'm storing on the Firebase database and I'm trying to retrieve the text as following:</p>\n<pre><code>File tempFile = File.createTempFile(&quot;tempfile&quot;, &quot;.txt&quot;);\n    Path filename = tempFile.toPath();\n    FileDownloadTask fdt = gsReference.getFile(tempFile);\n    fdt.addOnSuccessListener(new OnSuccessListener&lt;FileDownloadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onSuccess(FileDownloadTask.TaskSnapshot taskSnapshot) {\n            try {\n                 wholeFile = new String(Files.readAllBytes(filename), StandardCharsets.UTF_8);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception exception) {\n            Toast.makeText(MainActivity.this, &quot;failed to read&quot;, Toast.LENGTH_LONG);\n        }\n    });\n</code></pre>\n<p>it worked once but now when debugging I see that the onSuccessListener is never called anymore, it skips right over to the next part of the code. I've seen a similiar question where someone said the getFile method doesn't work properly with SDK 29 so I tried limiting mine to 28 but still no luck.</p>\n<p>EDIT: I added onFailure and put a breakpoint there, it skips over that part too (didn't stop at the breakpoint)</p>\n<p>my build.gradle:</p>\n<pre><code>dependencies {\nimplementation 'androidx.appcompat:appcompat:1.4.1'\nimplementation 'com.google.android.material:material:1.5.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.3'\nimplementation 'com.google.firebase:firebase-storage:20.0.1'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\nimplementation platform('com.google.firebase:firebase-bom:29.3.1')\nimplementation 'com.google.firebase:firebase-analytics'}\n</code></pre>\n"},{"tags":["java","spring","junit","mockito","springmockito"],"comments":[{"owner":{"account_id":5069092,"reputation":567,"user_id":4068368,"accept_rate":20,"display_name":"Dinesh Dontha"},"score":0,"creation_date":1598421464,"post_id":63591249,"comment_id":112449557,"body_markdown":"Use @Mock to C c","body":"Use @Mock to C c"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1598421513,"post_id":63591249,"comment_id":112449570,"body_markdown":"There is nothing to inject into A and looks like `getValue()` is a static method. If that isn&#39;t the case please add code that represents your case.","body":"There is nothing to inject into A and looks like <code>getValue()</code> is a static method. If that isn&#39;t the case please add code that represents your case."},{"owner":{"account_id":8835100,"reputation":165,"user_id":6599710,"display_name":"Sam"},"score":0,"creation_date":1598422072,"post_id":63591249,"comment_id":112449743,"body_markdown":"getValue() is not static . and my code is exactly like above code","body":"getValue() is not static . and my code is exactly like above code"}],"answers":[{"tags":[],"owner":{"account_id":19198422,"reputation":142,"user_id":14026788,"display_name":"Soni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598421595,"creation_date":1598421595,"answer_id":63591338,"question_id":63591249,"body_markdown":"There may be multiple reason to why ```when(...).thenReturn(...)``` is not called :\r\n\r\n 1. The data type which is used in when construct is not matching exact, for example, if you have a string and you pass null, its not same method call\r\n2. Ensure that the objects are getting initialized using the same approach. A spring injected resource is not same as the one created using new operator","title":"Mockito when() method not working and getting null pointer exception","body":"<p>There may be multiple reason to why <code>when(...).thenReturn(...)</code> is not called :</p>\n<ol>\n<li>The data type which is used in when construct is not matching exact, for example, if you have a string and you pass null, its not same method call</li>\n<li>Ensure that the objects are getting initialized using the same approach. A spring injected resource is not same as the one created using new operator</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1598423848,"creation_date":1598422852,"answer_id":63591602,"question_id":63591249,"body_markdown":"You have classes calling each others methods so it is better to use `Mockito.RETURNS_DEEP_STUBS`\r\n\r\nIn your Case:\r\n\r\n&gt; `A` is calling `B` and `B` is calling `C`\r\n\r\nJust replace:\r\n\r\n     @InjectMock\r\n      A a;\r\n    \r\n      @Mock\r\n      B b;\r\n      C c;\r\n\r\nWith :\r\n\r\n    A a = Mockito.mock(A.class, Mockito.RETURNS_DEEP_STUBS);\r\n    B b = Mockito.mock(B.class, Mockito.RETURNS_DEEP_STUBS);\r\n    C c = Mockito.mock(C.class, Mockito.RETURNS_DEEP_STUBS);\r\n\r\n","title":"Mockito when() method not working and getting null pointer exception","body":"<p>You have classes calling each others methods so it is better to use <code>Mockito.RETURNS_DEEP_STUBS</code></p>\n<p>In your Case:</p>\n<blockquote>\n<p><code>A</code> is calling <code>B</code> and <code>B</code> is calling <code>C</code></p>\n</blockquote>\n<p>Just replace:</p>\n<pre><code> @InjectMock\n  A a;\n\n  @Mock\n  B b;\n  C c;\n</code></pre>\n<p>With :</p>\n<pre><code>A a = Mockito.mock(A.class, Mockito.RETURNS_DEEP_STUBS);\nB b = Mockito.mock(B.class, Mockito.RETURNS_DEEP_STUBS);\nC c = Mockito.mock(C.class, Mockito.RETURNS_DEEP_STUBS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8835100,"reputation":165,"user_id":6599710,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651863905,"creation_date":1651863905,"answer_id":72146274,"question_id":63591249,"body_markdown":"use @InjectMock and @Mock to solve this issue","title":"Mockito when() method not working and getting null pointer exception","body":"<p>use @InjectMock and @Mock to solve this issue</p>\n"}],"owner":{"account_id":8835100,"reputation":165,"user_id":6599710,"display_name":"Sam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2662,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63591602,"answer_count":3,"score":3,"last_activity_date":1651863905,"creation_date":1598421132,"question_id":63591249,"body_markdown":"I am writing unit test cases using Mockito and JUnit . But getting `NullPointerException` when running a test. On debugging I get to know that Mockito on method:  `when().thenReturn()` is not returning a value for dependent methods and the calling program is calling those methods to get result.\r\n\r\nBelow is my dummy code to get idea of structure of code:\r\n&lt;!-- language: java --&gt;\r\n    class B {\r\n      public C getValue() {\r\n        return C;\r\n      }\r\n    }\r\n   \r\n    class A {\r\n      public D getAns(String q1, String q2) {\r\n        return B.getValue().map(mapper::toD); //null pointer exception start here \r\n      } \r\n    }\r\n\r\n    @RunWith(MockitoJunitrunner.test)\r\n    class TestA {\r\n      \r\n      @InjectMock\r\n      A a;\r\n    \r\n      @Mock\r\n      B b;\r\n      C c;\r\n    \r\n      init() {\r\n        when(b.getValue()).thenReturn(c);\r\n      }\r\n    \r\n      @Test\r\n      public void getA() {\r\n        D ans=A.getAns(q1,q2);  //getting null pointer exception here \r\n        AssertNotNull(ans);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Mockito when() method not working and getting null pointer exception","body":"<p>I am writing unit test cases using Mockito and JUnit . But getting <code>NullPointerException</code> when running a test. On debugging I get to know that Mockito on method:  <code>when().thenReturn()</code> is not returning a value for dependent methods and the calling program is calling those methods to get result.</p>\n<p>Below is my dummy code to get idea of structure of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class B {\n  public C getValue() {\n    return C;\n  }\n}\n\nclass A {\n  public D getAns(String q1, String q2) {\n    return B.getValue().map(mapper::toD); //null pointer exception start here \n  } \n}\n\n@RunWith(MockitoJunitrunner.test)\nclass TestA {\n  \n  @InjectMock\n  A a;\n\n  @Mock\n  B b;\n  C c;\n\n  init() {\n    when(b.getValue()).thenReturn(c);\n  }\n\n  @Test\n  public void getA() {\n    D ans=A.getAns(q1,q2);  //getting null pointer exception here \n    AssertNotNull(ans);\n  }\n}\n</code></pre>\n"},{"tags":["java","object","reference"],"answers":[{"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651863571,"creation_date":1651863571,"answer_id":72146224,"question_id":72146085,"body_markdown":"The actual &quot;value&quot; stored in any object variable is a reference to an object, not the object itself.  When you assign the value of one such variable to another, you are assigning that reference.\r\n\r\nLet&#39;s walk through the code.\r\n\r\nFirst you create three objects.  Let&#39;s call the actual objects A, B, and C.  You assign references to those objects to the variables.\r\n\r\n        exampleClass Obj1= new exampleClass(); // reference to object A\r\n        exampleClass Obj2= new exampleClass(); // reference to object B\r\n        exampleClass Obj3= new exampleClass(); // reference to object C\r\n\r\nThen you make some assignments.  Here you are taking the reference stored in `Obj3` and storing it in some instance members.\r\n\r\n        Obj1.pointedObj= Obj3;  // Object A&#39;s pointedObj now points to object C\r\n        Obj2.pointedObj= Obj3;  // Object B&#39;s pointedObj now points to object C\r\n\r\nThen you make some assignments to another instance member.\r\n\r\n        Obj1.testInt= 1; // Object A&#39;s testInt is now 1\r\n        Obj2.testInt= 2; // Object B&#39;s testInt is now 2\r\n        Obj3.testInt= 3; // Object C&#39;s testInt is now 3\r\n\r\nFinally, you assign `Obj2` to `Obj3`.  So `Obj3` now points to object B. But this does not change what you previously assigned to the `pointedObj` members.  They still contain references to objectC.\r\n\r\n        Obj3= Obj2;\r\n\r\n","title":"Weird behavior of object references, &quot;ghost&quot; object","body":"<p>The actual &quot;value&quot; stored in any object variable is a reference to an object, not the object itself.  When you assign the value of one such variable to another, you are assigning that reference.</p>\n<p>Let's walk through the code.</p>\n<p>First you create three objects.  Let's call the actual objects A, B, and C.  You assign references to those objects to the variables.</p>\n<pre><code>    exampleClass Obj1= new exampleClass(); // reference to object A\n    exampleClass Obj2= new exampleClass(); // reference to object B\n    exampleClass Obj3= new exampleClass(); // reference to object C\n</code></pre>\n<p>Then you make some assignments.  Here you are taking the reference stored in <code>Obj3</code> and storing it in some instance members.</p>\n<pre><code>    Obj1.pointedObj= Obj3;  // Object A's pointedObj now points to object C\n    Obj2.pointedObj= Obj3;  // Object B's pointedObj now points to object C\n</code></pre>\n<p>Then you make some assignments to another instance member.</p>\n<pre><code>    Obj1.testInt= 1; // Object A's testInt is now 1\n    Obj2.testInt= 2; // Object B's testInt is now 2\n    Obj3.testInt= 3; // Object C's testInt is now 3\n</code></pre>\n<p>Finally, you assign <code>Obj2</code> to <code>Obj3</code>.  So <code>Obj3</code> now points to object B. But this does not change what you previously assigned to the <code>pointedObj</code> members.  They still contain references to objectC.</p>\n<pre><code>    Obj3= Obj2;\n</code></pre>\n"}],"owner":{"account_id":25219128,"reputation":13,"user_id":19055867,"display_name":"IDontUnderstandJavaSorry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72146224,"answer_count":1,"score":1,"last_activity_date":1651863571,"creation_date":1651862664,"question_id":72146085,"body_markdown":"I was messing around with some sample code to check if I understood how objects behave when referring to one another when I stumbled upon this situation:\r\n\r\n    public class exampleClass {\r\n        int testInt;\r\n        exampleClass pointedObj;\r\n        public static void main(String args[]) {\r\n            exampleClass Obj1= new exampleClass();\r\n            exampleClass Obj2= new exampleClass();\r\n            exampleClass Obj3= new exampleClass();\r\n            \r\n            Obj1.pointedObj= Obj3;\r\n            Obj2.pointedObj= Obj3;\r\n            \r\n            Obj1.testInt= 1;\r\n            Obj2.testInt= 2;\r\n            Obj3.testInt= 3;\r\n            \r\n            Obj3= Obj2;\r\n            \r\n            System.out.println(Obj1.pointedObj.testInt);\r\n            System.out.println(Obj2.pointedObj.testInt);\r\n            System.out.println(Obj3.pointedObj.testInt);\r\n            \r\n            System.out.println(Obj1.testInt);\r\n            System.out.println(Obj2.testInt);\r\n            System.out.println(Obj3.testInt);\r\n        }\r\n    }\r\n\r\nI expected to see on the console:\r\n\r\n    2\r\n    2\r\n    2\r\n    1\r\n    2\r\n    2\r\nBut instead I get:\r\n\r\n    3\r\n    3\r\n    3\r\n    1\r\n    2\r\n    2\r\nAnd it&#39;s driving me crazy. Why does the pointed objects still hold the value &quot;3&quot; if none of the objects holds said value? I&#39;m sure there is a similar question around, but I don&#39;t have the power to search for something this specific.\r\n\r\nI&#39;m already grateful for any help.","title":"Weird behavior of object references, &quot;ghost&quot; object","body":"<p>I was messing around with some sample code to check if I understood how objects behave when referring to one another when I stumbled upon this situation:</p>\n<pre><code>public class exampleClass {\n    int testInt;\n    exampleClass pointedObj;\n    public static void main(String args[]) {\n        exampleClass Obj1= new exampleClass();\n        exampleClass Obj2= new exampleClass();\n        exampleClass Obj3= new exampleClass();\n        \n        Obj1.pointedObj= Obj3;\n        Obj2.pointedObj= Obj3;\n        \n        Obj1.testInt= 1;\n        Obj2.testInt= 2;\n        Obj3.testInt= 3;\n        \n        Obj3= Obj2;\n        \n        System.out.println(Obj1.pointedObj.testInt);\n        System.out.println(Obj2.pointedObj.testInt);\n        System.out.println(Obj3.pointedObj.testInt);\n        \n        System.out.println(Obj1.testInt);\n        System.out.println(Obj2.testInt);\n        System.out.println(Obj3.testInt);\n    }\n}\n</code></pre>\n<p>I expected to see on the console:</p>\n<pre><code>2\n2\n2\n1\n2\n2\n</code></pre>\n<p>But instead I get:</p>\n<pre><code>3\n3\n3\n1\n2\n2\n</code></pre>\n<p>And it's driving me crazy. Why does the pointed objects still hold the value &quot;3&quot; if none of the objects holds said value? I'm sure there is a similar question around, but I don't have the power to search for something this specific.</p>\n<p>I'm already grateful for any help.</p>\n"},{"tags":["java","multithreading","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651861370,"creation_date":1651861370,"answer_id":72145876,"question_id":72145710,"body_markdown":"You need notifyAll instead of notify. Otherwise, the a maker&#39;s notify could wake up another maker and put the whole thing into deadlock. Ditto for the lazies.\r\n\r\nA better way to do this would be to use one lock for the makers and one lock for the lazies (takers) then you can just use notify when things are added or removed\r\n\r\n    public synchronized void put(String cake) throws InterruptedException {\r\n        while (count &gt;= buffer.length) {\r\n            wait();\r\n        }\r\n        System.out.println(Thread.currentThread().getName() + &quot; puts &quot; + cake);\r\n        buffer[tail] = cake;\r\n        tail = (tail + 1) % buffer.length;\r\n        count++;\r\n        notifyAll();\r\n    }\r\n\r\n    public synchronized String take() throws InterruptedException {\r\n        while (count &lt;= 0) {\r\n            wait();\r\n        }\r\n        String cake = buffer[head];\r\n        head = (head + 1) % buffer.length;\r\n        count--;\r\n        System.out.println(Thread.currentThread().getName() + &quot; takes &quot; + cake);\r\n        notifyAll();\r\n        return cake;\r\n    }","title":"Java concurrent deadlock","body":"<p>You need notifyAll instead of notify. Otherwise, the a maker's notify could wake up another maker and put the whole thing into deadlock. Ditto for the lazies.</p>\n<p>A better way to do this would be to use one lock for the makers and one lock for the lazies (takers) then you can just use notify when things are added or removed</p>\n<pre><code>public synchronized void put(String cake) throws InterruptedException {\n    while (count &gt;= buffer.length) {\n        wait();\n    }\n    System.out.println(Thread.currentThread().getName() + &quot; puts &quot; + cake);\n    buffer[tail] = cake;\n    tail = (tail + 1) % buffer.length;\n    count++;\n    notifyAll();\n}\n\npublic synchronized String take() throws InterruptedException {\n    while (count &lt;= 0) {\n        wait();\n    }\n    String cake = buffer[head];\n    head = (head + 1) % buffer.length;\n    count--;\n    System.out.println(Thread.currentThread().getName() + &quot; takes &quot; + cake);\n    notifyAll();\n    return cake;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3852548,"reputation":365,"user_id":3192295,"display_name":"user3192295"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651863543,"creation_date":1651863543,"answer_id":72146221,"question_id":72145710,"body_markdown":"As the doc says:\r\n\r\n&gt;public final void notify()\r\n&gt;\r\n&gt; ... If any threads are waiting on this object, one of them is chosen\r\n&gt; to be awakened. The choice is arbitrary and occurs at the discretion\r\n&gt; of the implementation ...\r\n&gt; \r\n&gt; ...the awakened thread enjoys no reliable privilege or disadvantage in\r\n&gt; being the next thread to lock this object. ...\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notify()\r\n\r\nYou can absolutely implement this so that you notify() only one thread. It depends on when the locked object is released by the preceding thread. If one thread is notified but the resource is still bound to the notifying thread, the released thread goes back to the wait status and after that there is no thread being notified.\r\n\r\nWhen you notifyall() waiting threads and when the first thread does not get the locked object (because still locked by the notifying thread) then the remaining awoken threads will try to catch it. \r\n\r\nSo, with many awoken threads there is a much higher possibility of the locked object being catched by one of them.\r\n","title":"Java concurrent deadlock","body":"<p>As the doc says:</p>\n<blockquote>\n<p>public final void notify()</p>\n<p>... If any threads are waiting on this object, one of them is chosen\nto be awakened. The choice is arbitrary and occurs at the discretion\nof the implementation ...</p>\n<p>...the awakened thread enjoys no reliable privilege or disadvantage in\nbeing the next thread to lock this object. ...</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notify()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notify()</a></p>\n<p>You can absolutely implement this so that you notify() only one thread. It depends on when the locked object is released by the preceding thread. If one thread is notified but the resource is still bound to the notifying thread, the released thread goes back to the wait status and after that there is no thread being notified.</p>\n<p>When you notifyall() waiting threads and when the first thread does not get the locked object (because still locked by the notifying thread) then the remaining awoken threads will try to catch it.</p>\n<p>So, with many awoken threads there is a much higher possibility of the locked object being catched by one of them.</p>\n"}],"owner":{"account_id":12058599,"reputation":135,"user_id":8818453,"display_name":"dwbFrank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72145876,"answer_count":2,"score":1,"last_activity_date":1651863543,"creation_date":1651860305,"question_id":72145710,"body_markdown":"Run the `Main.main()` method seems like a deadlock has occurred.\r\nI found out it can be fixed if replace `notify()` with `notifyAll()`.\r\nBut why?\r\nShouldn&#39;t the worst case always be called Lazy Thread to another Lazy Thread?\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Table table = new Table(3);\r\n        new MakerThread(&quot;MakerThread-1&quot;, table, 8931415L).start();\r\n        new MakerThread(&quot;MakerThread-2&quot;, table, 314144L).start();\r\n        new MakerThread(&quot;MakerThread-3&quot;, table, 42131415L).start();\r\n        new EaterThread(&quot;EaterThread-1&quot;, table, 6313L).start();\r\n        new EaterThread(&quot;EaterThread-2&quot;, table, 8536313L).start();\r\n        new EaterThread(&quot;EaterThread-3&quot;, table, 35256313L).start();\r\n        new LazyThread(&quot;LazyThread-1&quot;, table).start();\r\n        new LazyThread(&quot;LazyThread-2&quot;, table).start();\r\n        new LazyThread(&quot;LazyThread-3&quot;, table).start();\r\n        new LazyThread(&quot;LazyThread-4&quot;, table).start();\r\n        new LazyThread(&quot;LazyThread-5&quot;, table).start();\r\n        new LazyThread(&quot;LazyThread-6&quot;, table).start();\r\n        new LazyThread(&quot;LazyThread-7&quot;, table).start();\r\n    }\r\n}\r\n```\r\n```\r\npublic class Table {\r\n    private final String[] buffer;\r\n    private int tail;\r\n    private int head;\r\n    private int count;\r\n\r\n    public Table(int count) {\r\n        this.buffer = new String[count];\r\n        this.tail = 0;\r\n        this.head = 0;\r\n        this.count = 0;\r\n    }\r\n\r\n    public synchronized void put(String cake) throws InterruptedException {\r\n        while (count &gt;= buffer.length) {\r\n            wait();\r\n        }\r\n        System.out.println(Thread.currentThread().getName() + &quot; puts &quot; + cake);\r\n        buffer[tail] = cake;\r\n        tail = (tail + 1) % buffer.length;\r\n        count++;\r\n        notify();\r\n    }\r\n\r\n    public synchronized String take() throws InterruptedException {\r\n        while (count &lt;= 0) {\r\n            wait();\r\n        }\r\n        String cake = buffer[head];\r\n        head = (head + 1) % buffer.length;\r\n        count--;\r\n        System.out.println(Thread.currentThread().getName() + &quot; takes &quot; + cake);\r\n        notify();\r\n        return cake;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class EaterThread extends Thread {\r\n    private final Random random;\r\n    private final Table table;\r\n\r\n    public EaterThread(String name, Table table, long seed) {\r\n        super(name);\r\n        this.random = new Random(seed);\r\n        this.table = table;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            while (true) {\r\n                String cake = table.take();\r\n                Thread.sleep(random.nextInt(1000));\r\n            }\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class MakerThread extends Thread {\r\n    private final Random random;\r\n    private final Table table;\r\n    private static int id = 0;\r\n\r\n    public MakerThread(String name, Table table, long seed) {\r\n        super(name);\r\n        this.random = new Random(seed);\r\n        this.table = table;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            while (true) {\r\n                Thread.sleep(random.nextInt(1000));\r\n                String cake = &quot; Cake No.&quot; + nextId() + &quot; by &quot; + getName() + &quot; ]&quot;;\r\n                table.put(cake);\r\n            }\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static synchronized int nextId() {\r\n        return ++id;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class LazyThread extends Thread {\r\n    private final Table table;\r\n\r\n    public LazyThread(String name, Table table) {\r\n        super(name);\r\n        this.table = table;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        while (true) {\r\n            try {\r\n                synchronized (table) {\r\n                    table.wait();\r\n                }\r\n                System.out.println(getName() + &quot; is notified&quot;);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nConsole output\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OJNE2.png","title":"Java concurrent deadlock","body":"<p>Run the <code>Main.main()</code> method seems like a deadlock has occurred.\nI found out it can be fixed if replace <code>notify()</code> with <code>notifyAll()</code>.\nBut why?\nShouldn't the worst case always be called Lazy Thread to another Lazy Thread?</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Table table = new Table(3);\n        new MakerThread(&quot;MakerThread-1&quot;, table, 8931415L).start();\n        new MakerThread(&quot;MakerThread-2&quot;, table, 314144L).start();\n        new MakerThread(&quot;MakerThread-3&quot;, table, 42131415L).start();\n        new EaterThread(&quot;EaterThread-1&quot;, table, 6313L).start();\n        new EaterThread(&quot;EaterThread-2&quot;, table, 8536313L).start();\n        new EaterThread(&quot;EaterThread-3&quot;, table, 35256313L).start();\n        new LazyThread(&quot;LazyThread-1&quot;, table).start();\n        new LazyThread(&quot;LazyThread-2&quot;, table).start();\n        new LazyThread(&quot;LazyThread-3&quot;, table).start();\n        new LazyThread(&quot;LazyThread-4&quot;, table).start();\n        new LazyThread(&quot;LazyThread-5&quot;, table).start();\n        new LazyThread(&quot;LazyThread-6&quot;, table).start();\n        new LazyThread(&quot;LazyThread-7&quot;, table).start();\n    }\n}\n</code></pre>\n<pre><code>public class Table {\n    private final String[] buffer;\n    private int tail;\n    private int head;\n    private int count;\n\n    public Table(int count) {\n        this.buffer = new String[count];\n        this.tail = 0;\n        this.head = 0;\n        this.count = 0;\n    }\n\n    public synchronized void put(String cake) throws InterruptedException {\n        while (count &gt;= buffer.length) {\n            wait();\n        }\n        System.out.println(Thread.currentThread().getName() + &quot; puts &quot; + cake);\n        buffer[tail] = cake;\n        tail = (tail + 1) % buffer.length;\n        count++;\n        notify();\n    }\n\n    public synchronized String take() throws InterruptedException {\n        while (count &lt;= 0) {\n            wait();\n        }\n        String cake = buffer[head];\n        head = (head + 1) % buffer.length;\n        count--;\n        System.out.println(Thread.currentThread().getName() + &quot; takes &quot; + cake);\n        notify();\n        return cake;\n    }\n}\n</code></pre>\n<pre><code>public class EaterThread extends Thread {\n    private final Random random;\n    private final Table table;\n\n    public EaterThread(String name, Table table, long seed) {\n        super(name);\n        this.random = new Random(seed);\n        this.table = table;\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (true) {\n                String cake = table.take();\n                Thread.sleep(random.nextInt(1000));\n            }\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<pre><code>public class MakerThread extends Thread {\n    private final Random random;\n    private final Table table;\n    private static int id = 0;\n\n    public MakerThread(String name, Table table, long seed) {\n        super(name);\n        this.random = new Random(seed);\n        this.table = table;\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (true) {\n                Thread.sleep(random.nextInt(1000));\n                String cake = &quot; Cake No.&quot; + nextId() + &quot; by &quot; + getName() + &quot; ]&quot;;\n                table.put(cake);\n            }\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static synchronized int nextId() {\n        return ++id;\n    }\n}\n</code></pre>\n<pre><code>public class LazyThread extends Thread {\n    private final Table table;\n\n    public LazyThread(String name, Table table) {\n        super(name);\n        this.table = table;\n    }\n\n    @Override\n    public void run() {\n        while (true) {\n            try {\n                synchronized (table) {\n                    table.wait();\n                }\n                System.out.println(getName() + &quot; is notified&quot;);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Console output\n<a href=\"https://i.stack.imgur.com/OJNE2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OJNE2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","single-sign-on","kerberos","spnego","rc4-cipher"],"answers":[{"tags":[],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651862660,"creation_date":1651496929,"answer_id":72087199,"question_id":72085851,"body_markdown":"**Error Cause**\r\n\r\nAfter a bit of research I came across the following [JDK 17 Security Enhancements][1]:\r\n\r\n\r\n - **Deprecate 3DES and RC4 in Kerberos**\r\n   \r\n   3DES and RC4 Kerberos encryption types have now been disabled by\r\n   default. Both 3DES and RC4 are weak encryption algorithms that should\r\n   not be used. The Kerberos 3DES and RC4 encryption types are\r\n   officially deprecated in RFC 8429.\r\n   \r\n   By default the des3-hmac-sha1 and rc4-hmac encryption types are now\r\n   disabled, but can be re-enabled, at your own risk, by setting the\r\n   allow_weak_crypto property to true in the krb5.conf configuration\r\n   file. However, note that will also re-enable other weak encryption\r\n   types that are already disabled such as des-cbc-crc and des-cbc-md5.\r\n   Alternatively, set the default_tkt_enctypes, default_tgs_enctypes,\r\n   and permitted_enctypes properties to the encryption types that are\r\n   allowed.\r\n   \r\n   Issue: [JDK-8139348][2]\r\n\r\n**Solution 1 - use AES 128/256 encryption:**\r\n\r\nThe preferred solution is, to configure the AD/Kerberos to use AES 128 or 256 bit encryption. &lt;br/&gt;\r\nMostly the following seems to be enough, but there can be other configurations in the AD or GPOs that block AES encryption:\r\n\r\nThe service-user configured for kerberos (used to create the keytab file) needs the following configuration:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nAfterwards on the machine running the java application, run:\r\n\r\n    klist purge\r\n\r\n**Solution 2 - workaround -&gt; allow weak encryption**\r\n\r\nFor I quick workaround (maybe you are not the admin of the AD or need to wait for a maintenance window) the following worked for me:&lt;br/&gt;&lt;br/&gt;\r\nCreate or use the existing *krb5.conf* file, add:\r\n\r\n\t[libdefaults]\r\n\tallow_weak_crypto=true\r\n\r\nStart the java application using:&lt;br/&gt; `-Djava.security.krb5.conf=%CONF_LOCATION%/krb5.conf` \r\n\r\n\r\n  [1]: https://seanjmullan.org/blog/2021/09/14/jdk17\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8139348\r\n  [3]: https://i.stack.imgur.com/7zo93.png\r\n  [4]: https://i.stack.imgur.com/AXAZH.png","title":"Java 17 Update - Cannot find key of appropriate type to decrypt AP-REQ - RC4 with HMAC","body":"<p><strong>Error Cause</strong></p>\n<p>After a bit of research I came across the following <a href=\"https://seanjmullan.org/blog/2021/09/14/jdk17\" rel=\"nofollow noreferrer\">JDK 17 Security Enhancements</a>:</p>\n<ul>\n<li><p><strong>Deprecate 3DES and RC4 in Kerberos</strong></p>\n<p>3DES and RC4 Kerberos encryption types have now been disabled by\ndefault. Both 3DES and RC4 are weak encryption algorithms that should\nnot be used. The Kerberos 3DES and RC4 encryption types are\nofficially deprecated in RFC 8429.</p>\n<p>By default the des3-hmac-sha1 and rc4-hmac encryption types are now\ndisabled, but can be re-enabled, at your own risk, by setting the\nallow_weak_crypto property to true in the krb5.conf configuration\nfile. However, note that will also re-enable other weak encryption\ntypes that are already disabled such as des-cbc-crc and des-cbc-md5.\nAlternatively, set the default_tkt_enctypes, default_tgs_enctypes,\nand permitted_enctypes properties to the encryption types that are\nallowed.</p>\n<p>Issue: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8139348\" rel=\"nofollow noreferrer\">JDK-8139348</a></p>\n</li>\n</ul>\n<p><strong>Solution 1 - use AES 128/256 encryption:</strong></p>\n<p>The preferred solution is, to configure the AD/Kerberos to use AES 128 or 256 bit encryption. <br/>\nMostly the following seems to be enough, but there can be other configurations in the AD or GPOs that block AES encryption:</p>\n<p>The service-user configured for kerberos (used to create the keytab file) needs the following configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/7zo93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7zo93.png\" alt=\"enter image description here\" /></a></p>\n<p>Afterwards on the machine running the java application, run:</p>\n<pre><code>klist purge\n</code></pre>\n<p><strong>Solution 2 - workaround -&gt; allow weak encryption</strong></p>\n<p>For I quick workaround (maybe you are not the admin of the AD or need to wait for a maintenance window) the following worked for me:<br/><br/>\nCreate or use the existing <em>krb5.conf</em> file, add:</p>\n<pre><code>[libdefaults]\nallow_weak_crypto=true\n</code></pre>\n<p>Start the java application using:<br/> <code>-Djava.security.krb5.conf=%CONF_LOCATION%/krb5.conf</code></p>\n"}],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2996,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72087199,"answer_count":1,"score":1,"last_activity_date":1651862699,"creation_date":1651489900,"question_id":72085851,"body_markdown":"I have a productive Java application using Kerberos for SSO.&lt;br/&gt;\r\nAfter I update Java from version 16 to 17, I run into the following Error: \r\n\r\n**Cannot find key of appropriate type to decrypt AP-REQ - RC4 with HMAC**\r\n\r\n\tCaused by: GSSException: Failure unspecified at GSS-API level (Mechanism level: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP-REQ - RC4 with HMAC)\r\n\t\tat java.security.jgss/sun.security.jgss.krb5.Krb5Context.acceptSecContext(Unknown Source)\r\n\t\tat java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(Unknown Source)\r\n\t\tat java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(Unknown Source)\r\n\t\tat java.security.jgss/sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(Unknown Source)\r\n\t\tat java.security.jgss/sun.security.jgss.spnego.SpNegoContext.acceptSecContext(Unknown Source)\r\n\t\tat java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(Unknown Source)\r\n\t\tat java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(Unknown Source)\r\n\t\tat org.keycloak.federation.kerberos.impl.SPNEGOAuthenticator.establishContext(SPNEGOAuthenticator.java:169)\r\n\t\tat org.keycloak.federation.kerberos.impl.SPNEGOAuthenticator$AcceptSecContext.run(SPNEGOAuthenticator.java:132)\r\n\t\tat org.keycloak.federation.kerberos.impl.SPNEGOAuthenticator$AcceptSecContext.run(SPNEGOAuthenticator.java:122)\r\n\t\t... 73 more\r\n\tCaused by: KrbException: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP-REQ - RC4 with HMAC\r\n\t\tat java.security.jgss/sun.security.krb5.KrbApReq.authenticate(Unknown Source)\r\n\t\tat java.security.jgss/sun.security.krb5.KrbApReq.&lt;init&gt;(Unknown Source)\r\n\t\tat java.security.jgss/sun.security.jgss.krb5.InitSecContextToken.&lt;init&gt;(Unknown Source)\r\n\t\t... 83 more\r\n\r\n`ktpass /crypto ALL` was used to create the keytab file.\r\n\r\n","title":"Java 17 Update - Cannot find key of appropriate type to decrypt AP-REQ - RC4 with HMAC","body":"<p>I have a productive Java application using Kerberos for SSO.<br/>\nAfter I update Java from version 16 to 17, I run into the following Error:</p>\n<p><strong>Cannot find key of appropriate type to decrypt AP-REQ - RC4 with HMAC</strong></p>\n<pre><code>Caused by: GSSException: Failure unspecified at GSS-API level (Mechanism level: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP-REQ - RC4 with HMAC)\n    at java.security.jgss/sun.security.jgss.krb5.Krb5Context.acceptSecContext(Unknown Source)\n    at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(Unknown Source)\n    at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(Unknown Source)\n    at java.security.jgss/sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(Unknown Source)\n    at java.security.jgss/sun.security.jgss.spnego.SpNegoContext.acceptSecContext(Unknown Source)\n    at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(Unknown Source)\n    at java.security.jgss/sun.security.jgss.GSSContextImpl.acceptSecContext(Unknown Source)\n    at org.keycloak.federation.kerberos.impl.SPNEGOAuthenticator.establishContext(SPNEGOAuthenticator.java:169)\n    at org.keycloak.federation.kerberos.impl.SPNEGOAuthenticator$AcceptSecContext.run(SPNEGOAuthenticator.java:132)\n    at org.keycloak.federation.kerberos.impl.SPNEGOAuthenticator$AcceptSecContext.run(SPNEGOAuthenticator.java:122)\n    ... 73 more\nCaused by: KrbException: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP-REQ - RC4 with HMAC\n    at java.security.jgss/sun.security.krb5.KrbApReq.authenticate(Unknown Source)\n    at java.security.jgss/sun.security.krb5.KrbApReq.&lt;init&gt;(Unknown Source)\n    at java.security.jgss/sun.security.jgss.krb5.InitSecContextToken.&lt;init&gt;(Unknown Source)\n    ... 83 more\n</code></pre>\n<p><code>ktpass /crypto ALL</code> was used to create the keytab file.</p>\n"},{"tags":["java","spring-boot","amazon-s3","cloud-foundry"],"answers":[{"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651712743,"creation_date":1651712743,"answer_id":72120906,"question_id":72120069,"body_markdown":"You cannot modify `VCAP_` prefixed environment variables.\r\n\r\nThe `VCAP_SERVICES` environment variable is generated for you and provides your service bindings. If you want to change information in `VCAP_SERVICES` then you need to change your service bindings. This could be any number of operations like unbinding, rebinding, deleting the service instance and creating a new one, etc.\r\n\r\n&gt;I need to change the ecs-bucket in VCAP_SERIVCE environment variable with new bucket name and secrete key.\r\n\r\nExactly how you&#39;d do this depends on the service broker you used to create this service.\r\n\r\n- For user-provided services you can run `cf update-user-provided-service`\r\n\r\n    ```\r\n    USAGE:\r\n       cf update-user-provided-service SERVICE_INSTANCE [-p CREDENTIALS] [-l SYSLOG_DRAIN_URL] [-r ROUTE_SERVICE_URL] [-t TAGS]\r\n\r\n       Pass comma separated credential parameter names to enable interactive mode:\r\n       cf update-user-provided-service SERVICE_INSTANCE -p &quot;comma, separated, parameter, names&quot;\r\n\r\n       Pass credential parameters as JSON to create a service non-interactively:\r\n       cf update-user-provided-service SERVICE_INSTANCE -p &#39;{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}&#39;\r\n\r\n       Specify a path to a file containing JSON:\r\n       cf update-user-provided-service SERVICE_INSTANCE -p PATH_TO_FILE\r\n\r\n    EXAMPLES:\r\n       cf update-user-provided-service my-db-mine -p &#39;{&quot;username&quot;:&quot;admin&quot;, &quot;password&quot;:&quot;pa55woRD&quot;}&#39;\r\n       cf update-user-provided-service my-db-mine -p /path/to/credentials.json\r\n       cf create-user-provided-service my-db-mine -t &quot;list, of, tags&quot;\r\n       cf update-user-provided-service my-drain-service -l syslog://example.com\r\n       cf update-user-provided-service my-route-service -r https://example.com\r\n\r\n    ```\r\n\r\n- For a broker, I would start by doing a `cf unbind-service` followed by a `cf bind-service`. Most well-behaved brokers will generate unique credentials for each binding, so by unbinding and rebinding you will often get a new set of credentials. I don&#39;t know if that&#39;ll give you a whole new bucket, but it should give you new credentials.\r\n\r\n- If your broker does not give unique credentials across bindings, perhaps credentials are scoped to the service instance, then you would need to talk with your Ops Team or the author of the service broker to inquire about how you can reset the credentials without deleting the service instance and creating a new one.\r\n\r\n- You could delete the service instance and create a new service instance, ***HOWEVER, this will almost certainly delete your bucket and everything in it***, which is probably not what you want. I would avoid this unless there&#39;s no other option. \r\n\r\n    If this is the only option, then what you probably want to do is to create a second service instance. Migrate data to the new service instance and then swap the services (unbind the old one, bind the new one). After you&#39;re certain the migration has been successful and your app is up and running using it, you could delete the old service instance.\r\n\r\n**Don&#39;t forget to restart your application after you change bindings or user-provided service info. The changes won&#39;t apply until after your app has restarted.**\r\n","title":"Add User provided Environment variables on cloud foundry for VCAP_SERVICE","body":"<p>You cannot modify <code>VCAP_</code> prefixed environment variables.</p>\n<p>The <code>VCAP_SERVICES</code> environment variable is generated for you and provides your service bindings. If you want to change information in <code>VCAP_SERVICES</code> then you need to change your service bindings. This could be any number of operations like unbinding, rebinding, deleting the service instance and creating a new one, etc.</p>\n<blockquote>\n<p>I need to change the ecs-bucket in VCAP_SERIVCE environment variable with new bucket name and secrete key.</p>\n</blockquote>\n<p>Exactly how you'd do this depends on the service broker you used to create this service.</p>\n<ul>\n<li><p>For user-provided services you can run <code>cf update-user-provided-service</code></p>\n<pre><code>USAGE:\n   cf update-user-provided-service SERVICE_INSTANCE [-p CREDENTIALS] [-l SYSLOG_DRAIN_URL] [-r ROUTE_SERVICE_URL] [-t TAGS]\n\n   Pass comma separated credential parameter names to enable interactive mode:\n   cf update-user-provided-service SERVICE_INSTANCE -p &quot;comma, separated, parameter, names&quot;\n\n   Pass credential parameters as JSON to create a service non-interactively:\n   cf update-user-provided-service SERVICE_INSTANCE -p '{&quot;key1&quot;:&quot;value1&quot;,&quot;key2&quot;:&quot;value2&quot;}'\n\n   Specify a path to a file containing JSON:\n   cf update-user-provided-service SERVICE_INSTANCE -p PATH_TO_FILE\n\nEXAMPLES:\n   cf update-user-provided-service my-db-mine -p '{&quot;username&quot;:&quot;admin&quot;, &quot;password&quot;:&quot;pa55woRD&quot;}'\n   cf update-user-provided-service my-db-mine -p /path/to/credentials.json\n   cf create-user-provided-service my-db-mine -t &quot;list, of, tags&quot;\n   cf update-user-provided-service my-drain-service -l syslog://example.com\n   cf update-user-provided-service my-route-service -r https://example.com\n\n</code></pre>\n</li>\n<li><p>For a broker, I would start by doing a <code>cf unbind-service</code> followed by a <code>cf bind-service</code>. Most well-behaved brokers will generate unique credentials for each binding, so by unbinding and rebinding you will often get a new set of credentials. I don't know if that'll give you a whole new bucket, but it should give you new credentials.</p>\n</li>\n<li><p>If your broker does not give unique credentials across bindings, perhaps credentials are scoped to the service instance, then you would need to talk with your Ops Team or the author of the service broker to inquire about how you can reset the credentials without deleting the service instance and creating a new one.</p>\n</li>\n<li><p>You could delete the service instance and create a new service instance, <em><strong>HOWEVER, this will almost certainly delete your bucket and everything in it</strong></em>, which is probably not what you want. I would avoid this unless there's no other option.</p>\n<p>If this is the only option, then what you probably want to do is to create a second service instance. Migrate data to the new service instance and then swap the services (unbind the old one, bind the new one). After you're certain the migration has been successful and your app is up and running using it, you could delete the old service instance.</p>\n</li>\n</ul>\n<p><strong>Don't forget to restart your application after you change bindings or user-provided service info. The changes won't apply until after your app has restarted.</strong></p>\n"},{"tags":[],"owner":{"account_id":20960875,"reputation":136,"user_id":15400334,"display_name":"Superchamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651861466,"creation_date":1651861466,"answer_id":72145892,"question_id":72120069,"body_markdown":"Create a User provided service and add your variables in there. In your app, you can access the variable as ${vcap.services.ecs_service.ecs-bucket}\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CfsdV.png","title":"Add User provided Environment variables on cloud foundry for VCAP_SERVICE","body":"<p>Create a User provided service and add your variables in there. In your app, you can access the variable as ${vcap.services.ecs_service.ecs-bucket}</p>\n<p><a href=\"https://i.stack.imgur.com/CfsdV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CfsdV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15681853,"reputation":377,"user_id":11377572,"display_name":"Henry Bai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1651861466,"creation_date":1651703011,"question_id":72120069,"body_markdown":"I need to change the ecs-bucket in VCAP_SERIVCE environment variable with new bucket name and secrete key. However, when I add VCAP_SERVICE variable, cloud foundry responds that &quot;Error: Var cannot start with VCAP_&quot;. Is there anyway to add new ecs-bucket without changing the whole VCAP_SERVICE variable?\r\n\r\n    &quot;VCAP_SERVICES&quot;: {\r\n          &quot;ecs-bucket&quot;: [\r\n            {\r\n              &quot;label&quot;: &quot;ecs-bucket&quot;,\r\n              &quot;provider&quot;: null,\r\n              &quot;plan&quot;: &quot;1gb&quot;,\r\n              &quot;name&quot;: &quot;bucket1&quot;,\r\n              &quot;tags&quot;: [\r\n                &quot;s3&quot;,\r\n                &quot;bucket&quot;\r\n              ],\r\n              &quot;instance_guid&quot;: &quot;b72e79d2-9341-455a-a1ca-6b83276bd3e4&quot;,\r\n              &quot;instance_name&quot;: &quot;bucket1&quot;,\r\n              &quot;binding_guid&quot;: &quot;e0f0f992-a41c-408f-807c-ddedeb63112f&quot;,\r\n              &quot;binding_name&quot;: null,\r\n              &quot;credentials&quot;: {\r\n                &quot;bucket&quot;: &quot;bucket01&quot;,\r\n                &quot;endpoint&quot;: &quot;https://&lt;end point uri&gt;&quot;,\r\n                &quot;s3Url&quot;: &quot;https://&lt;s3URI&gt;&quot;,\r\n                &quot;secretKey&quot;: &quot;&lt;secrete key&gt;&quot;,\r\n                &quot;accessKey&quot;: &quot;&lt;access key&gt;&quot;,\r\n                &quot;path-style-access&quot;: true,\r\n                &quot;namespace&quot;: &quot;n0144417-001&quot;\r\n              },\r\n              &quot;syslog_drain_url&quot;: null,\r\n              &quot;volume_mounts&quot;: []\r\n            }\r\n          ]\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A3aAW.png\r\n  [2]: https://i.stack.imgur.com/HHk3m.png\r\n","title":"Add User provided Environment variables on cloud foundry for VCAP_SERVICE","body":"<p>I need to change the ecs-bucket in VCAP_SERIVCE environment variable with new bucket name and secrete key. However, when I add VCAP_SERVICE variable, cloud foundry responds that &quot;Error: Var cannot start with VCAP_&quot;. Is there anyway to add new ecs-bucket without changing the whole VCAP_SERVICE variable?</p>\n<pre><code>&quot;VCAP_SERVICES&quot;: {\n      &quot;ecs-bucket&quot;: [\n        {\n          &quot;label&quot;: &quot;ecs-bucket&quot;,\n          &quot;provider&quot;: null,\n          &quot;plan&quot;: &quot;1gb&quot;,\n          &quot;name&quot;: &quot;bucket1&quot;,\n          &quot;tags&quot;: [\n            &quot;s3&quot;,\n            &quot;bucket&quot;\n          ],\n          &quot;instance_guid&quot;: &quot;b72e79d2-9341-455a-a1ca-6b83276bd3e4&quot;,\n          &quot;instance_name&quot;: &quot;bucket1&quot;,\n          &quot;binding_guid&quot;: &quot;e0f0f992-a41c-408f-807c-ddedeb63112f&quot;,\n          &quot;binding_name&quot;: null,\n          &quot;credentials&quot;: {\n            &quot;bucket&quot;: &quot;bucket01&quot;,\n            &quot;endpoint&quot;: &quot;https://&lt;end point uri&gt;&quot;,\n            &quot;s3Url&quot;: &quot;https://&lt;s3URI&gt;&quot;,\n            &quot;secretKey&quot;: &quot;&lt;secrete key&gt;&quot;,\n            &quot;accessKey&quot;: &quot;&lt;access key&gt;&quot;,\n            &quot;path-style-access&quot;: true,\n            &quot;namespace&quot;: &quot;n0144417-001&quot;\n          },\n          &quot;syslog_drain_url&quot;: null,\n          &quot;volume_mounts&quot;: []\n        }\n      ]\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/A3aAW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A3aAW.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/HHk3m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HHk3m.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","jackson","lombok"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1651861218,"post_id":72145515,"comment_id":127473595,"body_markdown":"That&#39;s not a legal identifier; this should be handled by any JSON convertor via annotations or code/configuration.","body":"That&#39;s not a legal identifier; this should be handled by any JSON convertor via annotations or code/configuration."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1651861248,"post_id":72145515,"comment_id":127473602,"body_markdown":"Sounds like you actually need nested attributes btw","body":"Sounds like you actually need nested attributes btw"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651861039,"creation_date":1651861039,"answer_id":72145817,"question_id":72145515,"body_markdown":"As per [Java specification][1], dot(&#39;.&#39;) is not valid character for identifier name.\r\nSo you may not be able to use that character for your member variable.\r\n\r\nSo even lombok may not be helpful for your case. \r\n\r\nHowever you might want to have look for [this SO][2]  link if that is helpful for you.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.8\r\n  [2]: https://stackoverflow.com/questions/20102978/hierarchical-json-with-tree-structure","title":"is there a way to create a java class lombok field with a period or other custom character?","body":"<p>As per <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.8\" rel=\"nofollow noreferrer\">Java specification</a>, dot('.') is not valid character for identifier name.\nSo you may not be able to use that character for your member variable.</p>\n<p>So even lombok may not be helpful for your case.</p>\n<p>However you might want to have look for <a href=\"https://stackoverflow.com/questions/20102978/hierarchical-json-with-tree-structure\">this SO</a>  link if that is helpful for you.</p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651861373,"creation_date":1651861373,"answer_id":72145877,"question_id":72145515,"body_markdown":"You cannot and at the end you should not. Depending on the JSON library you are using, you may use a different property name for the JSON format. Using Jackson this would work adding the following annotation to the field `@JsonProperty(&quot;park.driver.maxResultSize&quot;)`","title":"is there a way to create a java class lombok field with a period or other custom character?","body":"<p>You cannot and at the end you should not. Depending on the JSON library you are using, you may use a different property name for the JSON format. Using Jackson this would work adding the following annotation to the field <code>@JsonProperty(&quot;park.driver.maxResultSize&quot;)</code></p>\n"}],"owner":{"account_id":4195018,"reputation":715,"user_id":3436624,"accept_rate":38,"display_name":"user3436624"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651861373,"creation_date":1651859111,"question_id":72145515,"body_markdown":"How can I make a field name have a period in it? Why? Because this eventually gets translated into JSON that is passed to a service, and the field needs to have a value that is not acceptable as a Java variable, so this isn&#39;t working.\r\nThanks!\r\n```\r\npublic class PyPiDTO {\r\n\r\n    private String packageName;\r\n\r\n    # Not working\r\n    private String park.driver.maxResultSize;\r\n}\r\n```\r\n","title":"is there a way to create a java class lombok field with a period or other custom character?","body":"<p>How can I make a field name have a period in it? Why? Because this eventually gets translated into JSON that is passed to a service, and the field needs to have a value that is not acceptable as a Java variable, so this isn't working.\nThanks!</p>\n<pre><code>public class PyPiDTO {\n\n    private String packageName;\n\n    # Not working\n    private String park.driver.maxResultSize;\n}\n</code></pre>\n"},{"tags":["java","escaping","octal"],"comments":[{"owner":{"display_name":"user1241335"},"score":1,"creation_date":1330746439,"post_id":9543026,"comment_id":12093105,"body_markdown":"255 is the basic ASCII limit if I&#39;m not mistaken, so you have one for every single base ASCII character. Shouldn&#39;t you be happy with that much? The reason you can&#39;t go up to, say \\4715 is simply because it&#39;s over 255 which is standard ASCII limit =D (I&#39;m bad at explaining, refer to answerer)","body":"255 is the basic ASCII limit if I&#39;m not mistaken, so you have one for every single base ASCII character. Shouldn&#39;t you be happy with that much? The reason you can&#39;t go up to, say \\4715 is simply because it&#39;s over 255 which is standard ASCII limit =D (I&#39;m bad at explaining, refer to answerer)"},{"owner":{"account_id":8291,"reputation":860447,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":1,"creation_date":1330749043,"post_id":9543026,"comment_id":12093407,"body_markdown":"@Shingetsu: the ASCII limit is 127, not 255. _Bytes_ are limited to 255, unless you&#39;re talking about Java bytes which are, for some bizarre reason, signed :-) But Java characters are not bytes.","body":"@Shingetsu: the ASCII limit is 127, not 255. <i>Bytes</i> are limited to 255, unless you&#39;re talking about Java bytes which are, for some bizarre reason, signed :-) But Java characters are not bytes."},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":0,"creation_date":1396401067,"post_id":9543026,"comment_id":34767369,"body_markdown":"[See also](http://stackoverflow.com/questions/3537706/howto-unescape-a-java-string-literal-in-java/4298836)","body":"<a href=\"http://stackoverflow.com/questions/3537706/howto-unescape-a-java-string-literal-in-java/4298836\">See also</a>"}],"answers":[{"tags":[],"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330758070,"creation_date":1330745410,"answer_id":9543168,"question_id":9543026,"body_markdown":"If I can understand the rules (please correct me if I am wrong):\r\n\r\n    \\ OctalDigit\r\n    Examples:\r\n        \\0, \\1, \\2, \\3, \\4, \\5, \\6, \\7\r\n\r\n    \\ OctalDigit OctalDigit\r\n    Examples:\r\n        \\00, \\07, \\17, \\27, \\37, \\47, \\57, \\67, \\77\r\n\r\n    \\ ZeroToThree OctalDigit OctalDigit\r\n    Examples:\r\n        \\000, \\177, \\277, \\367,\\377\r\n\r\n`\\t`, `\\n`, `\\\\` do not fall under OctalEscape rules; they must be under separate escape character rules.\r\n\r\nDecimal 255 is equal to Octal 377 (use Windows Calculator in scientific mode to confirm)\r\n\r\nHence a three-digit Octal value falls in the range of `\\000` (0) to `\\377` (255)\r\n\r\nTherefore, `\\4715` is not a valid octal value as it is more than three-octal-digits rule. If you want to access the code point character with decimal value 4715, use Unicode escape symbol `\\u ` to represent the UTF-16 character `\\u126B` (4715 in decimal form) since every Java `char` is in Unicode UTF-16.\r\n\r\nfrom http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html:\r\n\r\n&gt; The char data type (and therefore the value that a Character object\r\n&gt; encapsulates) are based on the original Unicode specification, which\r\n&gt; defined characters as fixed-width 16-bit entities. The Unicode\r\n&gt; standard has since been changed to allow for characters whose\r\n&gt; representation requires more than 16 bits. The range of legal code\r\n&gt; points is now U+0000 to U+10FFFF, known as Unicode scalar value.\r\n&gt; (Refer to the definition of the U+n notation in the Unicode standard.)\r\n&gt; \r\n&gt; The set of characters from U+0000 to U+FFFF is sometimes referred to\r\n&gt; as the Basic Multilingual Plane (BMP). Characters whose code points\r\n&gt; are greater than U+FFFF are called supplementary characters. The Java\r\n&gt; 2 platform uses the UTF-16 representation in char arrays and in the\r\n&gt; String and StringBuffer classes. In this representation, supplementary\r\n&gt; characters are represented as a pair of char values, the first from\r\n&gt; the high-surrogates range, (\\uD800-\\uDBFF), the second from the\r\n&gt; low-surrogates range (\\uDC00-\\uDFFF).\r\n\r\n**Edited:**\r\n\r\nAnything that beyond the valid octal value of 8-bit range (larger than one byte) is language-specific. Some programming languages may carry on to match Unicode implementation; some may not (limit it to one byte). Java definitely does not allow it even though it has Unicode support.\r\n\r\nA few programming languages (vendor-dependent) that limit to **one-byte octal literals**:\r\n\r\n 1. Java (all vendors): - An octal integer constant that begins with 0 or single-digit in base-8 (up to 0377); \\0 to \\7, \\00 to \\77, \\000 to \\377 (in octal string literal format)\r\n 2. C/C++ (Microsoft) - An octal integer constant that begins with 0 (up to 0377); octal string literal format  `\\nnn`\r\n 3. Ruby - An octal integer constant that begins with 0 (up to 0377); octal string literal format `\\nnn`\r\n\r\nA few programming languages (vendor-dependent) that support **larger-than-one-byte octal literals**:\r\n\r\n 1. Perl - An octal integer constant that begins with 0; octal string literal format `\\nnn` See http://search.cpan.org/~jesse/perl-5.12.1/pod/perlrebackslash.pod#Octal_escapes\r\n\r\nA few programming languages **do not support octal literals**:\r\n\r\n 1. C# - use `Convert.ToInt32(integer, 8)` for base-8 https://stackoverflow.com/questions/3781764/how-can-we-convert-binary-number-into-its-octal-number-using-c","title":"Why do Java octal escapes only go up to 255?","body":"<p>If I can understand the rules (please correct me if I am wrong):</p>\n\n<pre><code>\\ OctalDigit\nExamples:\n    \\0, \\1, \\2, \\3, \\4, \\5, \\6, \\7\n\n\\ OctalDigit OctalDigit\nExamples:\n    \\00, \\07, \\17, \\27, \\37, \\47, \\57, \\67, \\77\n\n\\ ZeroToThree OctalDigit OctalDigit\nExamples:\n    \\000, \\177, \\277, \\367,\\377\n</code></pre>\n\n<p><code>\\t</code>, <code>\\n</code>, <code>\\\\</code> do not fall under OctalEscape rules; they must be under separate escape character rules.</p>\n\n<p>Decimal 255 is equal to Octal 377 (use Windows Calculator in scientific mode to confirm)</p>\n\n<p>Hence a three-digit Octal value falls in the range of <code>\\000</code> (0) to <code>\\377</code> (255)</p>\n\n<p>Therefore, <code>\\4715</code> is not a valid octal value as it is more than three-octal-digits rule. If you want to access the code point character with decimal value 4715, use Unicode escape symbol <code>\\u</code> to represent the UTF-16 character <code>\\u126B</code> (4715 in decimal form) since every Java <code>char</code> is in Unicode UTF-16.</p>\n\n<p>from <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html</a>:</p>\n\n<blockquote>\n  <p>The char data type (and therefore the value that a Character object\n  encapsulates) are based on the original Unicode specification, which\n  defined characters as fixed-width 16-bit entities. The Unicode\n  standard has since been changed to allow for characters whose\n  representation requires more than 16 bits. The range of legal code\n  points is now U+0000 to U+10FFFF, known as Unicode scalar value.\n  (Refer to the definition of the U+n notation in the Unicode standard.)</p>\n  \n  <p>The set of characters from U+0000 to U+FFFF is sometimes referred to\n  as the Basic Multilingual Plane (BMP). Characters whose code points\n  are greater than U+FFFF are called supplementary characters. The Java\n  2 platform uses the UTF-16 representation in char arrays and in the\n  String and StringBuffer classes. In this representation, supplementary\n  characters are represented as a pair of char values, the first from\n  the high-surrogates range, (\\uD800-\\uDBFF), the second from the\n  low-surrogates range (\\uDC00-\\uDFFF).</p>\n</blockquote>\n\n<p><strong>Edited:</strong></p>\n\n<p>Anything that beyond the valid octal value of 8-bit range (larger than one byte) is language-specific. Some programming languages may carry on to match Unicode implementation; some may not (limit it to one byte). Java definitely does not allow it even though it has Unicode support.</p>\n\n<p>A few programming languages (vendor-dependent) that limit to <strong>one-byte octal literals</strong>:</p>\n\n<ol>\n<li>Java (all vendors): - An octal integer constant that begins with 0 or single-digit in base-8 (up to 0377); \\0 to \\7, \\00 to \\77, \\000 to \\377 (in octal string literal format)</li>\n<li>C/C++ (Microsoft) - An octal integer constant that begins with 0 (up to 0377); octal string literal format  <code>\\nnn</code></li>\n<li>Ruby - An octal integer constant that begins with 0 (up to 0377); octal string literal format <code>\\nnn</code></li>\n</ol>\n\n<p>A few programming languages (vendor-dependent) that support <strong>larger-than-one-byte octal literals</strong>:</p>\n\n<ol>\n<li>Perl - An octal integer constant that begins with 0; octal string literal format <code>\\nnn</code> See <a href=\"http://search.cpan.org/~jesse/perl-5.12.1/pod/perlrebackslash.pod#Octal_escapes\" rel=\"nofollow noreferrer\">http://search.cpan.org/~jesse/perl-5.12.1/pod/perlrebackslash.pod#Octal_escapes</a></li>\n</ol>\n\n<p>A few programming languages <strong>do not support octal literals</strong>:</p>\n\n<ol>\n<li>C# - use <code>Convert.ToInt32(integer, 8)</code> for base-8 <a href=\"https://stackoverflow.com/questions/3781764/how-can-we-convert-binary-number-into-its-octal-number-using-c\">How can we convert binary number into its octal number using c#?</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28897,"reputation":378129,"user_id":77567,"display_name":"rob mayoff"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1651861252,"creation_date":1330750788,"answer_id":9543611,"question_id":9543026,"body_markdown":"It is probably for purely historical reasons that Java supports octal escape sequences at all. These escape sequences originated&lt;sup&gt;1&lt;/sup&gt; in C, in the days when computers like the PDP-7 ruled the Earth, and much programming was done in assembly or directly in machine code, and octal was the preferred number base for writing instruction codes, and there was no Unicode, just ASCII, so three octal digits were sufficient to represent the entire character set.\r\n\r\nBy the time Unicode and Java came along, octal had pretty much given way to hexadecimal as the preferred number base when decimal just wouldn&#39;t do.  So Java has its `\\u` escape sequence that takes hexadecimal digits.  The octal escape sequence was probably supported just to make C programmers comfortable, and to make it easy to copy&#39;n&#39;paste string constants from C programs into Java programs.\r\n\r\nCheck out these links for historical trivia:\r\n\r\nhttp://en.wikipedia.org/wiki/Octal#In_computers&lt;br&gt;\r\nhttp://en.wikipedia.org/wiki/PDP-11_architecture#Memory_management\r\n\r\n----\r\n\r\n1. C&#39;s immediate predecessors, [BCPL](https://www.bell-labs.com/usr/dmr/www/bcpl.html) and [B](https://www.bell-labs.com/usr/dmr/www/bintro.html), used `*` instead of `\\` to introduce string escape sequences. However, neither of those languages had octal escape sequences documented in the manuals linked.","title":"Why do Java octal escapes only go up to 255?","body":"<p>It is probably for purely historical reasons that Java supports octal escape sequences at all. These escape sequences originated<sup>1</sup> in C, in the days when computers like the PDP-7 ruled the Earth, and much programming was done in assembly or directly in machine code, and octal was the preferred number base for writing instruction codes, and there was no Unicode, just ASCII, so three octal digits were sufficient to represent the entire character set.</p>\n<p>By the time Unicode and Java came along, octal had pretty much given way to hexadecimal as the preferred number base when decimal just wouldn't do.  So Java has its <code>\\u</code> escape sequence that takes hexadecimal digits.  The octal escape sequence was probably supported just to make C programmers comfortable, and to make it easy to copy'n'paste string constants from C programs into Java programs.</p>\n<p>Check out these links for historical trivia:</p>\n<p><a href=\"http://en.wikipedia.org/wiki/Octal#In_computers\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/Octal#In_computers</a><br>\n<a href=\"http://en.wikipedia.org/wiki/PDP-11_architecture#Memory_management\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/PDP-11_architecture#Memory_management</a></p>\n<hr />\n<ol>\n<li>C's immediate predecessors, <a href=\"https://www.bell-labs.com/usr/dmr/www/bcpl.html\" rel=\"nofollow noreferrer\">BCPL</a> and <a href=\"https://www.bell-labs.com/usr/dmr/www/bintro.html\" rel=\"nofollow noreferrer\">B</a>, used <code>*</code> instead of <code>\\</code> to introduce string escape sequences. However, neither of those languages had octal escape sequences documented in the manuals linked.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":102809,"reputation":27813,"user_id":275737,"display_name":"David Gelhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330750859,"creation_date":1330750859,"answer_id":9543615,"question_id":9543026,"body_markdown":"The \\0-\\377 octal escapes are also inherited from C, and the restriction makes a fair amount of sense in a language like C where characters == bytes (at least in the halcyon days before wchar_t).\r\n\r\n\r\n\r\n","title":"Why do Java octal escapes only go up to 255?","body":"<p>The \\0-\\377 octal escapes are also inherited from C, and the restriction makes a fair amount of sense in a language like C where characters == bytes (at least in the halcyon days before wchar_t).</p>\n"},{"tags":[],"owner":{"account_id":1084280,"reputation":1364,"user_id":1080389,"display_name":"Sven"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1463149473,"creation_date":1347223693,"answer_id":12342861,"question_id":9543026,"body_markdown":"I know of no reason why octal escapes are restricted to unicode codepoints 0 to 255. This might be for historical reasons. The question will basically remain unanswered as there was no technical reason not to increase the range of the octal escapes during the design of Java.\r\n\r\nIt should be noted however, that there&#39;s a not so obvious difference between the unicode escapes and the octal escapes. The octal escapes are processed only as part of strings while the unicode-escapes can occur anywhere in a file, for example as part of the name of a class. Also note, that the following example will not even compile:\r\n\r\n    String a = &quot;\\u000A&quot;;\r\n\r\nThe reason is, that \\u000A is expanded to a newline at a very early stage (basically when loading the file). The following code does not generate an error:\r\n\r\n    String a = &quot;\\012&quot;;\r\n\r\nThe \\012 is expanded *after* the compiler has parsed the code. This also holds for the other escapes like \\n, \\r, \\t, etc.\r\n\r\nSo in conclusion: the unicode escapes are NOT a replacement for the octal escapes. They are a completely different concept. In particular, to avoid any problems (as with \\u000A above), one should use octal escape for codepoints 0 to 255 and unicode escapes for codepoints above 255.","title":"Why do Java octal escapes only go up to 255?","body":"<p>I know of no reason why octal escapes are restricted to unicode codepoints 0 to 255. This might be for historical reasons. The question will basically remain unanswered as there was no technical reason not to increase the range of the octal escapes during the design of Java.</p>\n\n<p>It should be noted however, that there's a not so obvious difference between the unicode escapes and the octal escapes. The octal escapes are processed only as part of strings while the unicode-escapes can occur anywhere in a file, for example as part of the name of a class. Also note, that the following example will not even compile:</p>\n\n<pre><code>String a = \"\\u000A\";\n</code></pre>\n\n<p>The reason is, that \\u000A is expanded to a newline at a very early stage (basically when loading the file). The following code does not generate an error:</p>\n\n<pre><code>String a = \"\\012\";\n</code></pre>\n\n<p>The \\012 is expanded <em>after</em> the compiler has parsed the code. This also holds for the other escapes like \\n, \\r, \\t, etc.</p>\n\n<p>So in conclusion: the unicode escapes are NOT a replacement for the octal escapes. They are a completely different concept. In particular, to avoid any problems (as with \\u000A above), one should use octal escape for codepoints 0 to 255 and unicode escapes for codepoints above 255.</p>\n"}],"owner":{"account_id":8291,"reputation":860447,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9582,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9543611,"answer_count":4,"score":9,"last_activity_date":1651861252,"creation_date":1330743621,"question_id":9543026,"body_markdown":"The Java language specification states that the escapes inside strings are the &quot;normal&quot; C ones like `\\n` and `\\t`, but they also specify octal escapes from `\\0` to `\\377`. Specifically, the JLS states:\r\n\r\n    OctalEscape:\r\n        \\ OctalDigit\r\n        \\ OctalDigit OctalDigit\r\n        \\ ZeroToThree OctalDigit OctalDigit\r\n    \r\n    OctalDigit: one of\r\n        0 1 2 3 4 5 6 7\r\n    \r\n    ZeroToThree: one of\r\n        0 1 2 3\r\nmeaning that something like `\\4715` is illegal, despite it being within the range of a Java character (since Java characters are not bytes).\r\n\r\nWhy does Java have this arbitrary restriction? How are you meant to specify octal codes for characters beyond 255?\r\n","title":"Why do Java octal escapes only go up to 255?","body":"<p>The Java language specification states that the escapes inside strings are the \"normal\" C ones like <code>\\n</code> and <code>\\t</code>, but they also specify octal escapes from <code>\\0</code> to <code>\\377</code>. Specifically, the JLS states:</p>\n\n<pre><code>OctalEscape:\n    \\ OctalDigit\n    \\ OctalDigit OctalDigit\n    \\ ZeroToThree OctalDigit OctalDigit\n\nOctalDigit: one of\n    0 1 2 3 4 5 6 7\n\nZeroToThree: one of\n    0 1 2 3\n</code></pre>\n\n<p>meaning that something like <code>\\4715</code> is illegal, despite it being within the range of a Java character (since Java characters are not bytes).</p>\n\n<p>Why does Java have this arbitrary restriction? How are you meant to specify octal codes for characters beyond 255?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1651864881,"post_id":72145810,"comment_id":127474648,"body_markdown":"Need more information on what you&#39;re trying to do","body":"Need more information on what you&#39;re trying to do"},{"owner":{"account_id":13080555,"reputation":121,"user_id":9451262,"display_name":"M&#252;seyib Ələkbər"},"score":0,"creation_date":1651867357,"post_id":72145810,"comment_id":127475333,"body_markdown":"@KeshavramKuduwa I just want to create a foreign key with &quot;cascade on update&quot; via Spring Boot.","body":"@KeshavramKuduwa I just want to create a foreign key with &quot;cascade on update&quot; via Spring Boot."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1651932161,"post_id":72145810,"comment_id":127485322,"body_markdown":"See  Solution 2 in answer https://stackoverflow.com/questions/72144075/jpa-cascading-delete-fails-with-custom-delete-method/72145171#72145171. You can  define custom FK constraint  for JoinColumn annotation, specify ON UPDATE CASCADE instead DELETE","body":"See  Solution 2 in answer <a href=\"https://stackoverflow.com/questions/72144075/jpa-cascading-delete-fails-with-custom-delete-method/72145171#72145171\" title=\"jpa cascading delete fails with custom delete method\">stackoverflow.com/questions/72144075/&hellip;</a>. You can  define custom FK constraint  for JoinColumn annotation, specify ON UPDATE CASCADE instead DELETE"},{"owner":{"account_id":13080555,"reputation":121,"user_id":9451262,"display_name":"M&#252;seyib Ələkbər"},"score":0,"creation_date":1651935693,"post_id":72145810,"comment_id":127486153,"body_markdown":"@Eugene Thank you. I didn&#39;t know &quot;foreignKeyDefinition&quot; usage. This is the exact solution I search.","body":"@Eugene Thank you. I didn&#39;t know &quot;foreignKeyDefinition&quot; usage. This is the exact solution I search."}],"owner":{"account_id":13080555,"reputation":121,"user_id":9451262,"display_name":"M&#252;seyib Ələkbər"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651861010,"creation_date":1651861010,"question_id":72145810,"body_markdown":"How can I create CASCADE ON UPDATE funcionality Database level using Hibernate annotations? Similar to &quot;@OnDelete(action = OnDeleteAction.CASCADE)&quot;. I don&#39;t mean CascadeType enums.","title":"Is there &quot;CASCADE ON UPDATE&quot; functionality in Spring Boot for DB level?","body":"<p>How can I create CASCADE ON UPDATE funcionality Database level using Hibernate annotations? Similar to &quot;@OnDelete(action = OnDeleteAction.CASCADE)&quot;. I don't mean CascadeType enums.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1651862885,"post_id":72145352,"comment_id":127474068,"body_markdown":"Consider moving away from the AWS SDK for Java v1. DynamoDB V2 is best practice. https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/dynamodb","body":"Consider moving away from the AWS SDK for Java v1. DynamoDB V2 is best practice. <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/dynamodb\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/&hellip;</a>"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1651864473,"post_id":72145352,"comment_id":127474509,"body_markdown":"Yes, it&#39;s possible to write the results to CSV assuming that all item attributes are compatible with CSV e.g. are simple key/value pairs and not deeply-nested. You would have to write the code to do this, however, as the AWS SDK doesn&#39;t offer this feature.","body":"Yes, it&#39;s possible to write the results to CSV assuming that all item attributes are compatible with CSV e.g. are simple key/value pairs and not deeply-nested. You would have to write the code to do this, however, as the AWS SDK doesn&#39;t offer this feature."}],"answers":[{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651860173,"creation_date":1651860173,"answer_id":72145691,"question_id":72145352,"body_markdown":"In general, for an arbitrary date range:\r\n\r\n    createDate BETWEEN :date1 AND :date2\r\n\r\nBut, in your specific case of 2022-01-01 to 2022-01-31 (the entire month of January), you can simplify this to:\r\n\r\n    beginsWith(createDate, &quot;2022-01&quot;)","title":"How to scan a table in DynamoDB with time period?","body":"<p>In general, for an arbitrary date range:</p>\n<pre><code>createDate BETWEEN :date1 AND :date2\n</code></pre>\n<p>But, in your specific case of 2022-01-01 to 2022-01-31 (the entire month of January), you can simplify this to:</p>\n<pre><code>beginsWith(createDate, &quot;2022-01&quot;)\n</code></pre>\n"}],"owner":{"account_id":22664188,"reputation":33,"user_id":16836808,"display_name":"Vivianne Miranda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651860173,"creation_date":1651858092,"question_id":72145352,"body_markdown":"I have a table in DynamoDB and it has an attribute &#39;createDate&#39; and I want to do a scan using a filter in a specific period of that attribute (for example: 2022-01-01 to 2022-01-31) but I don&#39;t know exactly if it&#39;s possible and how to do. If anyone has done this and can help me it would be very helpful.\r\n\r\njust one more question: is it possible to put the result in a CSV file?\r\n\r\nHere is my code where I can scan with a single date:\r\n\r\n    public class QueryTableResearchAnswers {\r\n    \r\n        static AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard().build();\r\n        static DynamoDB dynamoDB = new DynamoDB(client);\r\n    \r\n        static String tableName = &quot;research-answers&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            String researchAnswers = &quot;Amazon DynamoDB&quot;;\r\n    \r\n            findAnswersWithinTimePeriod(researchAnswers);\r\n            //findRepliesPostedWithinTimePeriod(researchAnswers);\r\n        }\r\n    \r\n        private static void findAnswersWithinTimePeriod(String researchAnswers) {\r\n            Table table = dynamoDB.getTable(tableName);\r\n    \r\n            Map&lt;String, Object&gt; expressionAttributeValues = new HashMap&lt;String, Object&gt;();\r\n            expressionAttributeValues.put(&quot;:startDate&quot;, &quot;2022-01-01T00:00:00.0Z&quot; );\r\n    \r\n            \r\n            ItemCollection&lt;ScanOutcome&gt; items = table.scan(&quot;createDate between &gt; startDate&quot;, // FilterExpression\r\n                    &quot;bizId, accountingsessionid, accounttype, acctsessionid, choicecode, contextname, createDate, document, framedipaddress,&quot; +\r\n                      &quot;macaddress, macaddressnetworkdata, machash, mail, nasgrelocalip, nasidentifier, nasipaddress, nasportid, network, networktype, networkuuid, phone,&quot; +\r\n                    &quot;question, questionanswer, questioncode, realm, relayingmacaddress, remoteipaddress, useragent, username&quot;, // ProjectionExpression\r\n                    null, // ExpressionAttributeNames - not used in this example\r\n                    expressionAttributeValues);\r\n    \r\n            System.out.println(&quot;Scan of &quot; + tableName + &quot; for january answers&quot;);\r\n            Iterator&lt;Item&gt; iterator = items.iterator();\r\n            while (iterator.hasNext()) {\r\n                System.out.println(iterator.next().toJSONPretty());\r\n            }\r\n        }\r\n\r\n","title":"How to scan a table in DynamoDB with time period?","body":"<p>I have a table in DynamoDB and it has an attribute 'createDate' and I want to do a scan using a filter in a specific period of that attribute (for example: 2022-01-01 to 2022-01-31) but I don't know exactly if it's possible and how to do. If anyone has done this and can help me it would be very helpful.</p>\n<p>just one more question: is it possible to put the result in a CSV file?</p>\n<p>Here is my code where I can scan with a single date:</p>\n<pre><code>public class QueryTableResearchAnswers {\n\n    static AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard().build();\n    static DynamoDB dynamoDB = new DynamoDB(client);\n\n    static String tableName = &quot;research-answers&quot;;\n\n    public static void main(String[] args) throws Exception {\n\n        String researchAnswers = &quot;Amazon DynamoDB&quot;;\n\n        findAnswersWithinTimePeriod(researchAnswers);\n        //findRepliesPostedWithinTimePeriod(researchAnswers);\n    }\n\n    private static void findAnswersWithinTimePeriod(String researchAnswers) {\n        Table table = dynamoDB.getTable(tableName);\n\n        Map&lt;String, Object&gt; expressionAttributeValues = new HashMap&lt;String, Object&gt;();\n        expressionAttributeValues.put(&quot;:startDate&quot;, &quot;2022-01-01T00:00:00.0Z&quot; );\n\n        \n        ItemCollection&lt;ScanOutcome&gt; items = table.scan(&quot;createDate between &gt; startDate&quot;, // FilterExpression\n                &quot;bizId, accountingsessionid, accounttype, acctsessionid, choicecode, contextname, createDate, document, framedipaddress,&quot; +\n                  &quot;macaddress, macaddressnetworkdata, machash, mail, nasgrelocalip, nasidentifier, nasipaddress, nasportid, network, networktype, networkuuid, phone,&quot; +\n                &quot;question, questionanswer, questioncode, realm, relayingmacaddress, remoteipaddress, useragent, username&quot;, // ProjectionExpression\n                null, // ExpressionAttributeNames - not used in this example\n                expressionAttributeValues);\n\n        System.out.println(&quot;Scan of &quot; + tableName + &quot; for january answers&quot;);\n        Iterator&lt;Item&gt; iterator = items.iterator();\n        while (iterator.hasNext()) {\n            System.out.println(iterator.next().toJSONPretty());\n        }\n    }\n</code></pre>\n"},{"tags":["java","excel","apache","apache-poi","xssf"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651860151,"creation_date":1506692201,"answer_id":46489999,"question_id":46422103,"body_markdown":"This is not as easy as it should, if Office OpenXML file format `*.xlsx` is used. But the following works for me. \r\n\r\nThe full jar of all of the schemas `ooxml-schemas-1.3.jar` is needed as mentioned in [apache poi FAQ-N10025](https://poi.apache.org/faq.html#faq-N10025).\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.model.StylesTable;\r\n    \r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTXf;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTStylesheet;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyles;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyle;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyleXfs;\r\n    \r\n    import java.lang.reflect.Field;\r\n    \r\n    public class CreateExcelNamedXSSFCellStyle {\r\n    \r\n     static void setNamedCellStyle(XSSFCellStyle style, String name) throws Exception {\r\n    \r\n      Field _stylesSource = XSSFCellStyle.class.getDeclaredField(&quot;_stylesSource&quot;); \r\n      _stylesSource.setAccessible(true); \r\n      StylesTable stylestable = (StylesTable)_stylesSource.get(style);\r\n      CTStylesheet ctstylesheet = stylestable.getCTStylesheet();\r\n    \r\n      CTCellStyles ctcellstyles = ctstylesheet.getCellStyles();\r\n    \r\n      CTXf ctxfcore = style.getCoreXf();\r\n    \r\n      if (ctcellstyles == null) {\r\n       ctcellstyles = ctstylesheet.addNewCellStyles();\r\n       ctcellstyles.setCount(2);\r\n    \r\n       CTCellStyle ctcellstyle = ctcellstyles.addNewCellStyle(); //CellStyle for default built-in cell style\r\n       ctcellstyle.setXfId(0);\r\n       ctcellstyle.setBuiltinId(0);\r\n    \r\n       ctcellstyle = ctcellstyles.addNewCellStyle();\r\n       ctcellstyle.setXfId(1);\r\n       ctcellstyle.setName(name);\r\n    \r\n       ctxfcore.setXfId(1);\r\n      } else {\r\n       long stylescount = ctcellstyles.getCount();\r\n       ctcellstyles.setCount(stylescount+1);\r\n    \r\n       CTCellStyle ctcellstyle = ctcellstyles.addNewCellStyle();\r\n       ctcellstyle.setXfId(stylescount);\r\n       ctcellstyle.setName(name);\r\n    \r\n       ctxfcore.setXfId(stylescount);\r\n      }\r\n    \r\n      CTXf ctxfstyle = CTXf.Factory.newInstance();  \r\n      ctxfstyle.setNumFmtId(ctxfcore.getNumFmtId());\r\n      ctxfstyle.setFontId(ctxfcore.getFontId());\r\n      ctxfstyle.setFillId(ctxfcore.getFillId());\r\n      ctxfstyle.setBorderId(ctxfcore.getBorderId());\r\n    \r\n      stylestable.putCellStyleXf(ctxfstyle);\r\n    \r\n     }\r\n    \r\n     static XSSFCellStyle getNamedCellStyle(XSSFWorkbook workbook, String name) {\r\n      StylesTable stylestable = workbook.getStylesSource();\r\n      CTStylesheet ctstylesheet = stylestable.getCTStylesheet();\r\n      CTCellStyles ctcellstyles = ctstylesheet.getCellStyles();\r\n      if (ctcellstyles != null) {\r\n       int i = 0;\r\n       XSSFCellStyle style = null;\r\n       while((style = stylestable.getStyleAt(i++)) != null) {\r\n        CTXf ctxfcore = style.getCoreXf();\r\n        long xfid = ctxfcore.getXfId();\r\n        for (CTCellStyle ctcellstyle : ctcellstyles.getCellStyleList()) {\r\n         if (ctcellstyle.getXfId() == xfid &amp;&amp; name.equals(ctcellstyle.getName())) {\r\n          return style;\r\n         }\r\n        }\r\n       }\r\n      }\r\n      return workbook.getCellStyleAt(0); //if nothing found return default cell style \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XSSFWorkbook workbook = new XSSFWorkbook();\r\n      //XSSFWorkbook workbook = new XSSFWorkbook(new FileInputStream(&quot;Mappe1.xlsx&quot;));\r\n    \r\n      XSSFCellStyle style = workbook.createCellStyle();\r\n      style.setFillForegroundColor(new XSSFColor(new java.awt.Color(255, 0, 0)));\r\n      style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n      setNamedCellStyle(style, &quot;My Custom Style 1&quot;);\r\n    \r\n      style = workbook.createCellStyle();\r\n      style.setFillForegroundColor(new XSSFColor(new java.awt.Color(0, 255, 0)));\r\n      style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n      setNamedCellStyle(style, &quot;My Custom Style 2&quot;);\r\n    \r\n      style = workbook.createCellStyle();\r\n      style.setFillForegroundColor(new XSSFColor(new java.awt.Color(0, 0, 255)));\r\n      style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n      setNamedCellStyle(style, &quot;My Custom Style 3&quot;);\r\n    \r\n      XSSFSheet sheet = workbook.createSheet(&quot;TestSheet&quot;);\r\n      XSSFRow row = sheet.createRow(0);\r\n      for (int i = 0; i &lt; 3; i++) {\r\n       XSSFCell cell = row.createCell(i);\r\n       style = getNamedCellStyle(workbook, &quot;My Custom Style &quot; + (i+1));\r\n       cell.setCellStyle(style);\r\n      }\r\n    \r\n      row = sheet.createRow(2);\r\n      XSSFCell cell = row.createCell(0);\r\n      style = getNamedCellStyle(workbook, &quot;not found&quot;);\r\n      cell.setCellStyle(style);\r\n    \r\n      workbook.write(new FileOutputStream(&quot;CreateExcelNamedXSSFCellStyle.xlsx&quot;));\r\n      workbook.close();\r\n    \r\n     }\r\n    }\r\n\r\n______________________________________________\r\n\r\nCode adapted to current `apache poi 5.2.2`:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.model.StylesTable;\r\n    \r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTXf;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTStylesheet;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyles;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyle;\r\n    import org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyleXfs;\r\n    \r\n    import java.lang.reflect.Field;\r\n    \r\n    public class CreateExcelNamedXSSFCellStyle {\r\n    \r\n     static void setNamedCellStyle(XSSFCellStyle style, String name) throws Exception {\r\n    \r\n      Field _stylesSource = XSSFCellStyle.class.getDeclaredField(&quot;_stylesSource&quot;); \r\n      _stylesSource.setAccessible(true); \r\n      StylesTable stylestable = (StylesTable)_stylesSource.get(style);\r\n      CTStylesheet ctstylesheet = stylestable.getCTStylesheet();\r\n    \r\n      CTCellStyles ctcellstyles = ctstylesheet.getCellStyles();\r\n    \r\n      CTXf ctxfcore = style.getCoreXf();\r\n    \r\n      if (ctcellstyles == null) {\r\n       ctcellstyles = ctstylesheet.addNewCellStyles();\r\n       ctcellstyles.setCount(2);\r\n    \r\n       CTCellStyle ctcellstyle = ctcellstyles.addNewCellStyle(); //CellStyle for default built-in cell style\r\n       ctcellstyle.setXfId(0);\r\n       ctcellstyle.setBuiltinId(0);\r\n    \r\n       ctcellstyle = ctcellstyles.addNewCellStyle();\r\n       ctcellstyle.setXfId(1);\r\n       ctcellstyle.setName(name);\r\n    \r\n       ctxfcore.setXfId(1);\r\n      } else {\r\n       long stylescount = ctcellstyles.getCount();\r\n       ctcellstyles.setCount(stylescount+1);\r\n    \r\n       CTCellStyle ctcellstyle = ctcellstyles.addNewCellStyle();\r\n       ctcellstyle.setXfId(stylescount);\r\n       ctcellstyle.setName(name);\r\n    \r\n       ctxfcore.setXfId(stylescount);\r\n      }\r\n    \r\n      CTXf ctxfstyle = CTXf.Factory.newInstance();  \r\n      ctxfstyle.setNumFmtId(ctxfcore.getNumFmtId());\r\n      ctxfstyle.setFontId(ctxfcore.getFontId());\r\n      ctxfstyle.setFillId(ctxfcore.getFillId());\r\n      ctxfstyle.setBorderId(ctxfcore.getBorderId());\r\n    \r\n      stylestable.putCellStyleXf(ctxfstyle);\r\n    \r\n     }\r\n    \r\n     static XSSFCellStyle getNamedCellStyle(XSSFWorkbook workbook, String name) {\r\n      StylesTable stylestable = workbook.getStylesSource();\r\n      CTStylesheet ctstylesheet = stylestable.getCTStylesheet();\r\n      CTCellStyles ctcellstyles = ctstylesheet.getCellStyles();\r\n      if (ctcellstyles != null) {\r\n       int i = 0;\r\n       XSSFCellStyle style = null;\r\n       while((style = stylestable.getStyleAt(i++)) != null) {\r\n        CTXf ctxfcore = style.getCoreXf();\r\n        long xfid = ctxfcore.getXfId();\r\n        for (CTCellStyle ctcellstyle : ctcellstyles.getCellStyleList()) {\r\n         if (ctcellstyle.getXfId() == xfid &amp;&amp; name.equals(ctcellstyle.getName())) {\r\n          return style;\r\n         }\r\n        }\r\n       }\r\n      }\r\n      return workbook.getCellStyleAt(0); //if nothing found return default cell style \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XSSFWorkbook workbook = new XSSFWorkbook();\r\n      //XSSFWorkbook workbook = new XSSFWorkbook(new FileInputStream(&quot;Mappe1.xlsx&quot;));\r\n    \r\n      XSSFCellStyle style = workbook.createCellStyle();\r\n      style.setFillForegroundColor(new XSSFColor(new byte[]{(byte)255, 0, 0}, null));\r\n      style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n      setNamedCellStyle(style, &quot;My Custom Style 1&quot;);\r\n    \r\n      style = workbook.createCellStyle();\r\n      style.setFillForegroundColor(new XSSFColor(new byte[]{0, (byte)255, 0}, null));\r\n      style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n      setNamedCellStyle(style, &quot;My Custom Style 2&quot;);\r\n    \r\n      style = workbook.createCellStyle();\r\n      style.setFillForegroundColor(new XSSFColor(new byte[]{0, 0, (byte)255}, null));\r\n      style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n      setNamedCellStyle(style, &quot;My Custom Style 3&quot;);\r\n    \r\n      XSSFSheet sheet = workbook.createSheet(&quot;TestSheet&quot;);\r\n      XSSFRow row = sheet.createRow(0);\r\n      for (int i = 0; i &lt; 3; i++) {\r\n       XSSFCell cell = row.createCell(i);\r\n       style = getNamedCellStyle(workbook, &quot;My Custom Style &quot; + (i+1));\r\n       cell.setCellStyle(style);\r\n      }\r\n    \r\n      row = sheet.createRow(2);\r\n      XSSFCell cell = row.createCell(0);\r\n      style = getNamedCellStyle(workbook, &quot;not found&quot;);\r\n      cell.setCellStyle(style);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreateExcelNamedXSSFCellStyle.xlsx&quot;);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n    \r\n     }\r\n    }\r\n\r\n","title":"XSSF Excel Named Styles","body":"<p>This is not as easy as it should, if Office OpenXML file format <code>*.xlsx</code> is used. But the following works for me.</p>\n<p>The full jar of all of the schemas <code>ooxml-schemas-1.3.jar</code> is needed as mentioned in <a href=\"https://poi.apache.org/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">apache poi FAQ-N10025</a>.</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\n\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.model.StylesTable;\n\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTXf;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTStylesheet;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyles;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyle;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyleXfs;\n\nimport java.lang.reflect.Field;\n\npublic class CreateExcelNamedXSSFCellStyle {\n\n static void setNamedCellStyle(XSSFCellStyle style, String name) throws Exception {\n\n  Field _stylesSource = XSSFCellStyle.class.getDeclaredField(&quot;_stylesSource&quot;); \n  _stylesSource.setAccessible(true); \n  StylesTable stylestable = (StylesTable)_stylesSource.get(style);\n  CTStylesheet ctstylesheet = stylestable.getCTStylesheet();\n\n  CTCellStyles ctcellstyles = ctstylesheet.getCellStyles();\n\n  CTXf ctxfcore = style.getCoreXf();\n\n  if (ctcellstyles == null) {\n   ctcellstyles = ctstylesheet.addNewCellStyles();\n   ctcellstyles.setCount(2);\n\n   CTCellStyle ctcellstyle = ctcellstyles.addNewCellStyle(); //CellStyle for default built-in cell style\n   ctcellstyle.setXfId(0);\n   ctcellstyle.setBuiltinId(0);\n\n   ctcellstyle = ctcellstyles.addNewCellStyle();\n   ctcellstyle.setXfId(1);\n   ctcellstyle.setName(name);\n\n   ctxfcore.setXfId(1);\n  } else {\n   long stylescount = ctcellstyles.getCount();\n   ctcellstyles.setCount(stylescount+1);\n\n   CTCellStyle ctcellstyle = ctcellstyles.addNewCellStyle();\n   ctcellstyle.setXfId(stylescount);\n   ctcellstyle.setName(name);\n\n   ctxfcore.setXfId(stylescount);\n  }\n\n  CTXf ctxfstyle = CTXf.Factory.newInstance();  \n  ctxfstyle.setNumFmtId(ctxfcore.getNumFmtId());\n  ctxfstyle.setFontId(ctxfcore.getFontId());\n  ctxfstyle.setFillId(ctxfcore.getFillId());\n  ctxfstyle.setBorderId(ctxfcore.getBorderId());\n\n  stylestable.putCellStyleXf(ctxfstyle);\n\n }\n\n static XSSFCellStyle getNamedCellStyle(XSSFWorkbook workbook, String name) {\n  StylesTable stylestable = workbook.getStylesSource();\n  CTStylesheet ctstylesheet = stylestable.getCTStylesheet();\n  CTCellStyles ctcellstyles = ctstylesheet.getCellStyles();\n  if (ctcellstyles != null) {\n   int i = 0;\n   XSSFCellStyle style = null;\n   while((style = stylestable.getStyleAt(i++)) != null) {\n    CTXf ctxfcore = style.getCoreXf();\n    long xfid = ctxfcore.getXfId();\n    for (CTCellStyle ctcellstyle : ctcellstyles.getCellStyleList()) {\n     if (ctcellstyle.getXfId() == xfid &amp;&amp; name.equals(ctcellstyle.getName())) {\n      return style;\n     }\n    }\n   }\n  }\n  return workbook.getCellStyleAt(0); //if nothing found return default cell style \n }\n\n public static void main(String[] args) throws Exception {\n\n  XSSFWorkbook workbook = new XSSFWorkbook();\n  //XSSFWorkbook workbook = new XSSFWorkbook(new FileInputStream(&quot;Mappe1.xlsx&quot;));\n\n  XSSFCellStyle style = workbook.createCellStyle();\n  style.setFillForegroundColor(new XSSFColor(new java.awt.Color(255, 0, 0)));\n  style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n  setNamedCellStyle(style, &quot;My Custom Style 1&quot;);\n\n  style = workbook.createCellStyle();\n  style.setFillForegroundColor(new XSSFColor(new java.awt.Color(0, 255, 0)));\n  style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n  setNamedCellStyle(style, &quot;My Custom Style 2&quot;);\n\n  style = workbook.createCellStyle();\n  style.setFillForegroundColor(new XSSFColor(new java.awt.Color(0, 0, 255)));\n  style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n  setNamedCellStyle(style, &quot;My Custom Style 3&quot;);\n\n  XSSFSheet sheet = workbook.createSheet(&quot;TestSheet&quot;);\n  XSSFRow row = sheet.createRow(0);\n  for (int i = 0; i &lt; 3; i++) {\n   XSSFCell cell = row.createCell(i);\n   style = getNamedCellStyle(workbook, &quot;My Custom Style &quot; + (i+1));\n   cell.setCellStyle(style);\n  }\n\n  row = sheet.createRow(2);\n  XSSFCell cell = row.createCell(0);\n  style = getNamedCellStyle(workbook, &quot;not found&quot;);\n  cell.setCellStyle(style);\n\n  workbook.write(new FileOutputStream(&quot;CreateExcelNamedXSSFCellStyle.xlsx&quot;));\n  workbook.close();\n\n }\n}\n</code></pre>\n<hr />\n<p>Code adapted to current <code>apache poi 5.2.2</code>:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\n\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.model.StylesTable;\n\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTXf;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTStylesheet;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyles;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyle;\nimport org.openxmlformats.schemas.spreadsheetml.x2006.main.CTCellStyleXfs;\n\nimport java.lang.reflect.Field;\n\npublic class CreateExcelNamedXSSFCellStyle {\n\n static void setNamedCellStyle(XSSFCellStyle style, String name) throws Exception {\n\n  Field _stylesSource = XSSFCellStyle.class.getDeclaredField(&quot;_stylesSource&quot;); \n  _stylesSource.setAccessible(true); \n  StylesTable stylestable = (StylesTable)_stylesSource.get(style);\n  CTStylesheet ctstylesheet = stylestable.getCTStylesheet();\n\n  CTCellStyles ctcellstyles = ctstylesheet.getCellStyles();\n\n  CTXf ctxfcore = style.getCoreXf();\n\n  if (ctcellstyles == null) {\n   ctcellstyles = ctstylesheet.addNewCellStyles();\n   ctcellstyles.setCount(2);\n\n   CTCellStyle ctcellstyle = ctcellstyles.addNewCellStyle(); //CellStyle for default built-in cell style\n   ctcellstyle.setXfId(0);\n   ctcellstyle.setBuiltinId(0);\n\n   ctcellstyle = ctcellstyles.addNewCellStyle();\n   ctcellstyle.setXfId(1);\n   ctcellstyle.setName(name);\n\n   ctxfcore.setXfId(1);\n  } else {\n   long stylescount = ctcellstyles.getCount();\n   ctcellstyles.setCount(stylescount+1);\n\n   CTCellStyle ctcellstyle = ctcellstyles.addNewCellStyle();\n   ctcellstyle.setXfId(stylescount);\n   ctcellstyle.setName(name);\n\n   ctxfcore.setXfId(stylescount);\n  }\n\n  CTXf ctxfstyle = CTXf.Factory.newInstance();  \n  ctxfstyle.setNumFmtId(ctxfcore.getNumFmtId());\n  ctxfstyle.setFontId(ctxfcore.getFontId());\n  ctxfstyle.setFillId(ctxfcore.getFillId());\n  ctxfstyle.setBorderId(ctxfcore.getBorderId());\n\n  stylestable.putCellStyleXf(ctxfstyle);\n\n }\n\n static XSSFCellStyle getNamedCellStyle(XSSFWorkbook workbook, String name) {\n  StylesTable stylestable = workbook.getStylesSource();\n  CTStylesheet ctstylesheet = stylestable.getCTStylesheet();\n  CTCellStyles ctcellstyles = ctstylesheet.getCellStyles();\n  if (ctcellstyles != null) {\n   int i = 0;\n   XSSFCellStyle style = null;\n   while((style = stylestable.getStyleAt(i++)) != null) {\n    CTXf ctxfcore = style.getCoreXf();\n    long xfid = ctxfcore.getXfId();\n    for (CTCellStyle ctcellstyle : ctcellstyles.getCellStyleList()) {\n     if (ctcellstyle.getXfId() == xfid &amp;&amp; name.equals(ctcellstyle.getName())) {\n      return style;\n     }\n    }\n   }\n  }\n  return workbook.getCellStyleAt(0); //if nothing found return default cell style \n }\n\n public static void main(String[] args) throws Exception {\n\n  XSSFWorkbook workbook = new XSSFWorkbook();\n  //XSSFWorkbook workbook = new XSSFWorkbook(new FileInputStream(&quot;Mappe1.xlsx&quot;));\n\n  XSSFCellStyle style = workbook.createCellStyle();\n  style.setFillForegroundColor(new XSSFColor(new byte[]{(byte)255, 0, 0}, null));\n  style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n  setNamedCellStyle(style, &quot;My Custom Style 1&quot;);\n\n  style = workbook.createCellStyle();\n  style.setFillForegroundColor(new XSSFColor(new byte[]{0, (byte)255, 0}, null));\n  style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n  setNamedCellStyle(style, &quot;My Custom Style 2&quot;);\n\n  style = workbook.createCellStyle();\n  style.setFillForegroundColor(new XSSFColor(new byte[]{0, 0, (byte)255}, null));\n  style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n  setNamedCellStyle(style, &quot;My Custom Style 3&quot;);\n\n  XSSFSheet sheet = workbook.createSheet(&quot;TestSheet&quot;);\n  XSSFRow row = sheet.createRow(0);\n  for (int i = 0; i &lt; 3; i++) {\n   XSSFCell cell = row.createCell(i);\n   style = getNamedCellStyle(workbook, &quot;My Custom Style &quot; + (i+1));\n   cell.setCellStyle(style);\n  }\n\n  row = sheet.createRow(2);\n  XSSFCell cell = row.createCell(0);\n  style = getNamedCellStyle(workbook, &quot;not found&quot;);\n  cell.setCellStyle(style);\n\n  FileOutputStream out = new FileOutputStream(&quot;CreateExcelNamedXSSFCellStyle.xlsx&quot;);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":7581452,"reputation":35,"user_id":5752040,"display_name":"DoonStar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46489999,"answer_count":1,"score":1,"last_activity_date":1651860151,"creation_date":1506416587,"question_id":46422103,"body_markdown":"I&#39;m currently using the Apache POI library to generate excel files in Java.\r\n\r\nHere&#39;s what I&#39;m wondering: In excel, it&#39;s possible to create new cell styles which will be added to the workbook. These styles are reusable and can be selected from the styles table.\r\n\r\nUsing Apache POI, you can do something similar when constructing a workbook. You can create a new XSSFCellstyle, which is attached to the workbook, and can be applied to as many cells as you want. However, these styles are not reusable. If I open the resulting workbook in excel, and change one of the cell styles, I will never be able to change it back to the unnamed style I generated in XSSF. These styles are not added to the styles table of the workbook.\r\n\r\nI&#39;m just wondering, is there any means of creating **named** styles in an apache POI workbook, which can then be seen and resused after the document is opened in excel?\r\n\r\nEDIT: On further investigation there appears to be a way to do this using HSSF, we can use:\r\n\r\n    cellStyle.setUserStyleName(&quot;Header&quot;)\r\n\r\nI can&#39;t find any info on an XSSF equivalent though. Anyone know if it&#39;s possible?","title":"XSSF Excel Named Styles","body":"<p>I'm currently using the Apache POI library to generate excel files in Java.</p>\n\n<p>Here's what I'm wondering: In excel, it's possible to create new cell styles which will be added to the workbook. These styles are reusable and can be selected from the styles table.</p>\n\n<p>Using Apache POI, you can do something similar when constructing a workbook. You can create a new XSSFCellstyle, which is attached to the workbook, and can be applied to as many cells as you want. However, these styles are not reusable. If I open the resulting workbook in excel, and change one of the cell styles, I will never be able to change it back to the unnamed style I generated in XSSF. These styles are not added to the styles table of the workbook.</p>\n\n<p>I'm just wondering, is there any means of creating <strong>named</strong> styles in an apache POI workbook, which can then be seen and resused after the document is opened in excel?</p>\n\n<p>EDIT: On further investigation there appears to be a way to do this using HSSF, we can use:</p>\n\n<pre><code>cellStyle.setUserStyleName(\"Header\")\n</code></pre>\n\n<p>I can't find any info on an XSSF equivalent though. Anyone know if it's possible?</p>\n"},{"tags":["java","spring-boot","kotlin"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":1,"creation_date":1651841845,"post_id":72137053,"comment_id":127466236,"body_markdown":"Amazon recommends the usage of Amazon Corretto, it&#39;s their own distribution of OpenJDK https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/what-is-corretto-8.html\n\nI personally use https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot and never had any issues with it.","body":"Amazon recommends the usage of Amazon Corretto, it&#39;s their own distribution of OpenJDK <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-8-ug/what-is-corretto-8.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/corretto/latest/corretto-8-ug/&hellip;</a>  I personally use <a href=\"https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot</a> and never had any issues with it."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651847936,"creation_date":1651847936,"answer_id":72143272,"question_id":72137053,"body_markdown":"# Many vendors\r\n\r\nSeveral vendors provide binaries of the JDK, some with installers. These vendors include Azul Systems, IBM &amp; Red Hat, SAP, Oracle, BellSoft, Pivotal, Adoptium, Amazon, Microsoft, and more. \r\n\r\nNearly all of them are based largely on the source code from the [OpenJDK][1] project. \r\n\r\nAll of them have been thoroughly tested. All of them run Spring Boot. \r\n\r\nThere are no “bad” JDKs. Choose based on features, such as some use the HotSpot JIT while others use the OpenJ9 JIT. And choose based on support: some companies offer support plans for a fee. And choose based on license, be sure to read the details as the licenses do vary. \r\n\r\n# Amazon *Corretto*\r\n\r\nFor use with Amazon Web Services (AWS), you may want to choose Amazon’s offering, [Corretto][2]. They promise that the Corretto releases are virtually identical to the implementation used by their AWS products. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: https://aws.amazon.com/corretto/?filtered-posts.sort-by=item.additionalFields.createdDate&amp;filtered-posts.sort-order=desc","title":"Under which condition should I choose the JDK provider and its pros and cons?","body":"<h1>Many vendors</h1>\n<p>Several vendors provide binaries of the JDK, some with installers. These vendors include Azul Systems, IBM &amp; Red Hat, SAP, Oracle, BellSoft, Pivotal, Adoptium, Amazon, Microsoft, and more.</p>\n<p>Nearly all of them are based largely on the source code from the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project.</p>\n<p>All of them have been thoroughly tested. All of them run Spring Boot.</p>\n<p>There are no “bad” JDKs. Choose based on features, such as some use the HotSpot JIT while others use the OpenJ9 JIT. And choose based on support: some companies offer support plans for a fee. And choose based on license, be sure to read the details as the licenses do vary.</p>\n<h1>Amazon <em>Corretto</em></h1>\n<p>For use with Amazon Web Services (AWS), you may want to choose Amazon’s offering, <a href=\"https://aws.amazon.com/corretto/?filtered-posts.sort-by=item.additionalFields.createdDate&amp;filtered-posts.sort-order=desc\" rel=\"nofollow noreferrer\">Corretto</a>. They promise that the Corretto releases are virtually identical to the implementation used by their AWS products.</p>\n"}],"owner":{"account_id":11414167,"reputation":358,"user_id":8367422,"display_name":"gd08xxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1651848516,"accepted_answer_id":72143272,"answer_count":1,"score":0,"last_activity_date":1651860141,"creation_date":1651818473,"question_id":72137053,"body_markdown":"May I know what are the JDK provider choices for Spring Boot if I am using Kotlin with Java 8 along with AWS EC2?\r\n\r\nI saw many providers out there but I don&#39;t know which one I should use, based on what scenario and what are their pros and cons?","title":"Under which condition should I choose the JDK provider and its pros and cons?","body":"<p>May I know what are the JDK provider choices for Spring Boot if I am using Kotlin with Java 8 along with AWS EC2?</p>\n<p>I saw many providers out there but I don't know which one I should use, based on what scenario and what are their pros and cons?</p>\n"},{"tags":["java","sql","spring","jdbc","properties-file"],"comments":[{"owner":{"account_id":2492939,"reputation":1583,"user_id":2170070,"accept_rate":100,"display_name":"yardie"},"score":1,"creation_date":1464890848,"post_id":36384221,"comment_id":62683164,"body_markdown":"Did you ever find a good solution for this?","body":"Did you ever find a good solution for this?"},{"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"score":0,"creation_date":1464924513,"post_id":36384221,"comment_id":62695199,"body_markdown":"@andre3wap Nope. Not yet","body":"@andre3wap Nope. Not yet"},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1491995273,"post_id":36384221,"comment_id":73797399,"body_markdown":"I want to do the same thing. have you found any good solution ?","body":"I want to do the same thing. have you found any good solution ?"}],"answers":[{"tags":[],"owner":{"account_id":275761,"reputation":1,"user_id":4982423,"display_name":"iojoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460316561,"creation_date":1459684640,"answer_id":36385100,"question_id":36384221,"body_markdown":"I know this doesn&#39;t directly address how your ask regarding properties files or yml, but I interpret your question generally as asking about the best way to manage sql statements in a project. Having worked on projects with quite a lot of SQL code I&#39;ve found MyBatis to hold up without too much complaint. In a nutshell, it already handles externalizing sql to external xml files and can keep the manageability of the sql in the files at a good level as you accumulate more sql.  \r\n\r\nTo set it up you basically need to configure the beans and create two mybatis xml files along with a java interface for the repository.  Taking your example, here&#39;s the mybatis for the user repository:\r\n\r\n\tpublic class User {\r\n\r\n\t  private Long id;\r\n\t  private String name;\r\n\t \r\n\t ...\r\n\t}\r\n\r\n\tpublic interface UserRepository {\r\n\r\n\t  List&lt;User&gt; findAll();\r\n\r\n\t  User findById( @Param( &quot;id&quot; ) Long userId );\r\n\r\n\t}\r\n\r\nThe @Param will map the &#39;id&#39; value to the #{id} expression in the SQL\r\n\r\nMETA-INF/repo/sql/userMapper.xml:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n\t&lt;!DOCTYPE mapper\r\n\t        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;\r\n\t        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n\t&lt;mapper namespace=&quot;com.bushcoder.so.app.user.UserRepository&quot;&gt;\r\n\r\n\t    &lt;resultMap id=&quot;user&quot; type=&quot;com.bushcoder.so.app.user.User&quot;&gt;\r\n\t        &lt;id property=&quot;id&quot; column=&quot;userId&quot;/&gt;\r\n\t        &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt;\r\n\t    &lt;/resultMap&gt;\r\n\r\n\t    &lt;select id=&quot;findAll&quot; resultMap=&quot;user&quot;&gt;\r\n\t        SELECT id, name FROM user\r\n\t    &lt;/select&gt;\r\n\r\n\t    &lt;select id=&quot;findById&quot; parameterType=&quot;long&quot; resultMap=&quot;user&quot;&gt;\r\n\t        SELECT id, name FROM user WHERE id = #{id}\r\n\t    &lt;/select&gt;\r\n\r\n\t&lt;/mapper&gt;\r\n\r\nNote: #{id} will be supplied the value passed in via the call to userRepository.findById\r\n\r\nMETA-INF/repo/sql/sqlmap-config.xml:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;!DOCTYPE configuration PUBLIC &quot;-//www.mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot; &gt;\r\n\t&lt;configuration&gt;\r\n\r\n\t    &lt;mappers&gt;\r\n\t        &lt;mapper resource=&quot;META-INF/repo/sql/userMapper.xml&quot;/&gt;\r\n\t    &lt;/mappers&gt;\r\n\r\n\t&lt;/configuration&gt;\r\n\r\nThe &#39;META-INF/repo/sql/sqlmap-config.xml&#39; path will be used in the Java Config to setup the beans required by mybatis. So for the configuration you&#39;ll need 4 beans: sqlSessionFactory, sqlSessionTemplate, dataSource and the userRepository.  These need to be somewhere in a configuration class for Spring to process.\r\n\r\n\t  @Bean\r\n\t  public SqlSessionFactory sqlSessionFactory() throws Exception {\r\n\t    SqlSessionFactoryBean sqlSessionFactory = new SqlSessionFactoryBean();\r\n\t    sqlSessionFactory.setDataSource(dataSource());\r\n\t    sqlSessionFactory.setConfigLocation( new ClassPathResource( &quot;META-INF/repo/sql/sqlmap-config.xml&quot; ) );\r\n\t    return sqlSessionFactory.getObject();\r\n\t  }\r\n\r\n\t  @Bean\r\n\t  public SqlSessionTemplate sqlSessionTemplate() throws Exception {\r\n\t    return new SqlSessionTemplate(sqlSessionFactory());\r\n\t  }\r\n\r\n\t  @Bean\r\n\t  public DataSource dataSource() {\r\n\t    EmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();\r\n\t    EmbeddedDatabase db = builder\r\n\t        .setType( EmbeddedDatabaseType.H2)\r\n\t        .addScript(&quot;META-INF/repo/db/ddl/create-database-script.sql&quot;)\r\n\t        .addScript(&quot;META-INF/repo/db/dml/database-seeder-script.sql&quot;)\r\n\t        .build();\r\n\t    return db;\r\n\t  }\r\n\r\n\t  @Bean\r\n\t  public UserRepository userRepository() throws Exception {\r\n\t    return sqlSessionTemplate().getMapper( UserRepository.class );\r\n\t  }\r\n\r\nIn my prototype project I went to the H2 database and am using the EmbeddedDatabaseBuilder to take care of the schema and seed data.\r\n\r\nMETA-INF/repo/db/ddl/create-database-script.sql:\r\n\r\n\tCREATE TABLE if NOT EXISTS user (\r\n\t  id    INTEGER PRIMARY KEY,\r\n\t  name  VARCHAR(30)\r\n\t);\r\n\r\nMETA-INF/repo/db/dml/database-seeder-script.sql:\r\n\r\n\tINSERT INTO user (id, name) VALUES (1, &#39;BOB&#39;);\r\n\tINSERT INTO user (id, name) VALUES (2, &#39;LARRY&#39;);\r\n\tINSERT INTO user (id, name) VALUES (3, &#39;FRANK&#39;);\r\n\tINSERT INTO user (id, name) VALUES (4, &#39;CHARLIE&#39;);\r\n\tINSERT INTO user (id, name) VALUES (5, &#39;GARRY&#39;);\r\n\r\nMore than likely you&#39;ll wire the repository into a service.  Might look something like this:\r\n\r\n\tpublic interface UserService {\r\n\r\n\t  List&lt;User&gt; findAll();\r\n\r\n\t  User findById(Long userId);\r\n\r\n\t}\r\n\r\n\t@Service\r\n\tpublic class UserServiceImpl implements UserService {\r\n\r\n\t  @Inject\r\n\t  private UserRepository userRepository;\r\n\r\n\t  @Override\r\n\t  public List&lt;User&gt; findAll() {\r\n\t    return userRepository.findAll();\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public User findById( Long userId ) {\r\n\t    return userRepository.findById( userId );\r\n\t  }\r\n\t}\r\n\r\nThe calling code could be like this:\r\n\r\n\t@SpringBootApplication\r\n\t@Import ( AppConfig.class )\r\n\tpublic class MybatisConfigExampleApplication {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tConfigurableApplicationContext context = SpringApplication.run( MybatisConfigExampleApplication.class, args );\r\n\r\n\t\t\tfinal UserService users = ( UserService ) context.getBean( &quot;userServiceImpl&quot; );\r\n\r\n\t\t\tfinal List&lt;User&gt; allUsers = users.findAll();\r\n\t\t\tSystem.out.println( &quot;allUsers = &quot; + allUsers );\r\n\t\t\t\r\n\t\t\tfinal User userById_5 = users.findById( 5L );\r\n\t\t\tSystem.out.println( &quot;userById_5 = &quot; + userById_5 );\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\nNow, as you start to accumulate more sql, you would create a new repository interface, its matching mapper file, link the mapper xml file via the sqlmap-config xml file by adding a new `&lt;mapper&gt;` element for it, and then add the new repository as a bean in Spring&#39;s config.  Moreover, and I didn&#39;t show it hear, if userMapper.xml starts to get too large and cumbersome you can break it apart into smaller files and still keep the UserRepository interface.\r\n","title":"How to store and read SQL queries from properties or yml file in spring boot jdbc repository?","body":"<p>I know this doesn't directly address how your ask regarding properties files or yml, but I interpret your question generally as asking about the best way to manage sql statements in a project. Having worked on projects with quite a lot of SQL code I've found MyBatis to hold up without too much complaint. In a nutshell, it already handles externalizing sql to external xml files and can keep the manageability of the sql in the files at a good level as you accumulate more sql.  </p>\n\n<p>To set it up you basically need to configure the beans and create two mybatis xml files along with a java interface for the repository.  Taking your example, here's the mybatis for the user repository:</p>\n\n<pre><code>public class User {\n\n  private Long id;\n  private String name;\n\n ...\n}\n\npublic interface UserRepository {\n\n  List&lt;User&gt; findAll();\n\n  User findById( @Param( \"id\" ) Long userId );\n\n}\n</code></pre>\n\n<p>The @Param will map the 'id' value to the #{id} expression in the SQL</p>\n\n<p>META-INF/repo/sql/userMapper.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE mapper\n        PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n        \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;\n&lt;mapper namespace=\"com.bushcoder.so.app.user.UserRepository\"&gt;\n\n    &lt;resultMap id=\"user\" type=\"com.bushcoder.so.app.user.User\"&gt;\n        &lt;id property=\"id\" column=\"userId\"/&gt;\n        &lt;result property=\"name\" column=\"name\"/&gt;\n    &lt;/resultMap&gt;\n\n    &lt;select id=\"findAll\" resultMap=\"user\"&gt;\n        SELECT id, name FROM user\n    &lt;/select&gt;\n\n    &lt;select id=\"findById\" parameterType=\"long\" resultMap=\"user\"&gt;\n        SELECT id, name FROM user WHERE id = #{id}\n    &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n\n<p>Note: #{id} will be supplied the value passed in via the call to userRepository.findById</p>\n\n<p>META-INF/repo/sql/sqlmap-config.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE configuration PUBLIC \"-//www.mybatis.org//DTD Config 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-config.dtd\" &gt;\n&lt;configuration&gt;\n\n    &lt;mappers&gt;\n        &lt;mapper resource=\"META-INF/repo/sql/userMapper.xml\"/&gt;\n    &lt;/mappers&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>The 'META-INF/repo/sql/sqlmap-config.xml' path will be used in the Java Config to setup the beans required by mybatis. So for the configuration you'll need 4 beans: sqlSessionFactory, sqlSessionTemplate, dataSource and the userRepository.  These need to be somewhere in a configuration class for Spring to process.</p>\n\n<pre><code>  @Bean\n  public SqlSessionFactory sqlSessionFactory() throws Exception {\n    SqlSessionFactoryBean sqlSessionFactory = new SqlSessionFactoryBean();\n    sqlSessionFactory.setDataSource(dataSource());\n    sqlSessionFactory.setConfigLocation( new ClassPathResource( \"META-INF/repo/sql/sqlmap-config.xml\" ) );\n    return sqlSessionFactory.getObject();\n  }\n\n  @Bean\n  public SqlSessionTemplate sqlSessionTemplate() throws Exception {\n    return new SqlSessionTemplate(sqlSessionFactory());\n  }\n\n  @Bean\n  public DataSource dataSource() {\n    EmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();\n    EmbeddedDatabase db = builder\n        .setType( EmbeddedDatabaseType.H2)\n        .addScript(\"META-INF/repo/db/ddl/create-database-script.sql\")\n        .addScript(\"META-INF/repo/db/dml/database-seeder-script.sql\")\n        .build();\n    return db;\n  }\n\n  @Bean\n  public UserRepository userRepository() throws Exception {\n    return sqlSessionTemplate().getMapper( UserRepository.class );\n  }\n</code></pre>\n\n<p>In my prototype project I went to the H2 database and am using the EmbeddedDatabaseBuilder to take care of the schema and seed data.</p>\n\n<p>META-INF/repo/db/ddl/create-database-script.sql:</p>\n\n<pre><code>CREATE TABLE if NOT EXISTS user (\n  id    INTEGER PRIMARY KEY,\n  name  VARCHAR(30)\n);\n</code></pre>\n\n<p>META-INF/repo/db/dml/database-seeder-script.sql:</p>\n\n<pre><code>INSERT INTO user (id, name) VALUES (1, 'BOB');\nINSERT INTO user (id, name) VALUES (2, 'LARRY');\nINSERT INTO user (id, name) VALUES (3, 'FRANK');\nINSERT INTO user (id, name) VALUES (4, 'CHARLIE');\nINSERT INTO user (id, name) VALUES (5, 'GARRY');\n</code></pre>\n\n<p>More than likely you'll wire the repository into a service.  Might look something like this:</p>\n\n<pre><code>public interface UserService {\n\n  List&lt;User&gt; findAll();\n\n  User findById(Long userId);\n\n}\n\n@Service\npublic class UserServiceImpl implements UserService {\n\n  @Inject\n  private UserRepository userRepository;\n\n  @Override\n  public List&lt;User&gt; findAll() {\n    return userRepository.findAll();\n  }\n\n  @Override\n  public User findById( Long userId ) {\n    return userRepository.findById( userId );\n  }\n}\n</code></pre>\n\n<p>The calling code could be like this:</p>\n\n<pre><code>@SpringBootApplication\n@Import ( AppConfig.class )\npublic class MybatisConfigExampleApplication {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run( MybatisConfigExampleApplication.class, args );\n\n        final UserService users = ( UserService ) context.getBean( \"userServiceImpl\" );\n\n        final List&lt;User&gt; allUsers = users.findAll();\n        System.out.println( \"allUsers = \" + allUsers );\n\n        final User userById_5 = users.findById( 5L );\n        System.out.println( \"userById_5 = \" + userById_5 );\n    }\n}\n</code></pre>\n\n<p>Now, as you start to accumulate more sql, you would create a new repository interface, its matching mapper file, link the mapper xml file via the sqlmap-config xml file by adding a new <code>&lt;mapper&gt;</code> element for it, and then add the new repository as a bean in Spring's config.  Moreover, and I didn't show it hear, if userMapper.xml starts to get too large and cumbersome you can break it apart into smaller files and still keep the UserRepository interface.</p>\n"},{"tags":[],"owner":{"account_id":2167003,"reputation":43,"user_id":1919920,"display_name":"kahramani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476473003,"creation_date":1476473003,"answer_id":40050607,"question_id":36384221,"body_markdown":"I handled as follows:\r\n\r\nI have a `@Configuration` class which creates jdbcTemplate beans so I add an  another bean with class of `StringBuilder` to hold query from .sql file. Here is my configuration:\r\n\r\n    @Configuration\r\n    public class DBManager {\r\n\r\n        private static final Logger logger = LoggerFactory.getLogger(DBManager.class);\r\n\r\n        @Autowired\r\n        PropertiesUtils propertiesUtils;\r\n\r\n        @Bean(name = &quot;targetJdbcTemplate&quot;)\r\n        public JdbcTemplate targetJdbcTemplate() throws SQLException {\r\n            Environment environment = propertiesUtils.getEnvironment();\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n            dataSource.setUrl(environment.getProperty(&quot;db.target.url&quot;));\r\n            dataSource.setUsername(environment.getProperty(&quot;db.target.username&quot;));\r\n            dataSource.setPassword(environment.getProperty(&quot;db.target.password&quot;));\r\n    \r\n            return new JdbcTemplate(dataSource);\r\n        }\r\n    \r\n        @Bean(name = &quot;targetQueryTemplate&quot;)\r\n        public StringBuilder targetQueryTemplate() {\r\n            return propertiesUtils.getSQLQueryFromFile(DBDirection.TARGET_DB);\r\n        }\r\n    }\r\n\r\n`PropertiesUtil` looks like:\r\n\r\n    @Configuration\r\n    @PropertySource(value={&quot;classpath:app.properties&quot;})\r\n    public class PropertiesUtils {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(PropertiesUtils.class);\r\n    \r\n        @Resource\r\n        private Environment environment;\r\n    \r\n        public Environment getEnvironment() {\r\n            return environment;\r\n        }\r\n    \r\n        /**\r\n         * to get sql query from .sql file\r\n         * @param dbDirection which db&#39;s query is needed\r\n         * @return a StringBuilder object which holds needed sql query\r\n         */\r\n        public StringBuilder getSQLQueryFromFile(DBDirection dbDirection) {\r\n            String filePath = null;\r\n            StringBuilder sql = null;\r\n            BufferedReader br = null;\r\n            InputStreamReader input = null;\r\n            try {\r\n                if (dbDirection == DBDirection.SOURCE_DB)\r\n                    filePath = this.environment.getProperty(&quot;db.source.query.file&quot;);\r\n                else if (dbDirection == DBDirection.TARGET_DB){\r\n                    filePath = this.environment.getProperty(&quot;db.target.query.file&quot;);\r\n                \r\n                if(filePath == null || filePath.equals(&quot;&quot;)) {\r\n                    logger.error(&quot;filePath cannot be null or empty&quot;);\r\n                    return sql;\r\n                }\r\n\r\n                InputStream in = PropertiesUtils.class.getClassLoader().getResourceAsStream(filePath);\r\n                input = new InputStreamReader(in);\r\n                br = new BufferedReader(input);\r\n                String str;\r\n                sql = new StringBuilder(&quot;&quot;);\r\n                while ((str = br.readLine()) != null) {\r\n                    sql.append(str);\r\n                }\r\n            } catch (IOException e) {\r\n                logger.error(&quot;Failed to read query from file&quot;, e);\r\n            } finally {\r\n                try {\r\n                    if(br != null)\r\n                        br.close();\r\n                    if(input != null)\r\n                        input.close();\r\n                } catch (IOException e) {\r\n                    logger.error(&quot;Failed to close reader&quot;, e);\r\n                }\r\n            }\r\n            return sql;\r\n        }\r\n    }\r\n\r\n`app.properties` holds .sql file&#39;s path. getSQLQueryFromFile reads the file once while context initializing.\r\n\r\nThen I wire the query holder bean (targetQueryTemplate) to my repo that&#39;s it. Here is my repo:\r\n\r\n\r\n    @Repository\r\n    public class TargetRepository implements ITargetRepository {\r\n\r\n        private static final Logger logger = LoggerFactory.getLogger(TargetRepository.class);\r\n        private static final String DEFAULT_DATE_FORMAT = &quot;yyyyMMddHHmmss&quot;;\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;targetJdbcTemplate&quot;)\r\n        private JdbcTemplate targetJdbcTemplate;\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;targetQueryTemplate&quot;)\r\n        private StringBuilder targetQueryTemplate;\r\n\r\n        @Override\r\n        public void testConnection() {\r\n            targetJdbcTemplate.execute(&quot;select 1 from dual&quot;);\r\n        }\r\n\r\n        @Override\r\n        public int[] insert(final ArrayList&lt;Object&gt; list) {\r\n            return targetJdbcTemplate.batchUpdate(this.targetQueryTemplate.toString(), new BatchPreparedStatementSetter() {\r\n\r\n                @Override\r\n                public void setValues(PreparedStatement preparedStatement, int i) throws SQLException {\r\n                    // batch adding\r\n                }\r\n\r\n                @Override\r\n                public int getBatchSize() {\r\n                    return determineBatchSize(list);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nHope this helps!","title":"How to store and read SQL queries from properties or yml file in spring boot jdbc repository?","body":"<p>I handled as follows:</p>\n\n<p>I have a <code>@Configuration</code> class which creates jdbcTemplate beans so I add an  another bean with class of <code>StringBuilder</code> to hold query from .sql file. Here is my configuration:</p>\n\n<pre><code>@Configuration\npublic class DBManager {\n\n    private static final Logger logger = LoggerFactory.getLogger(DBManager.class);\n\n    @Autowired\n    PropertiesUtils propertiesUtils;\n\n    @Bean(name = \"targetJdbcTemplate\")\n    public JdbcTemplate targetJdbcTemplate() throws SQLException {\n        Environment environment = propertiesUtils.getEnvironment();\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setUrl(environment.getProperty(\"db.target.url\"));\n        dataSource.setUsername(environment.getProperty(\"db.target.username\"));\n        dataSource.setPassword(environment.getProperty(\"db.target.password\"));\n\n        return new JdbcTemplate(dataSource);\n    }\n\n    @Bean(name = \"targetQueryTemplate\")\n    public StringBuilder targetQueryTemplate() {\n        return propertiesUtils.getSQLQueryFromFile(DBDirection.TARGET_DB);\n    }\n}\n</code></pre>\n\n<p><code>PropertiesUtil</code> looks like:</p>\n\n<pre><code>@Configuration\n@PropertySource(value={\"classpath:app.properties\"})\npublic class PropertiesUtils {\n\n    private static final Logger logger = LoggerFactory.getLogger(PropertiesUtils.class);\n\n    @Resource\n    private Environment environment;\n\n    public Environment getEnvironment() {\n        return environment;\n    }\n\n    /**\n     * to get sql query from .sql file\n     * @param dbDirection which db's query is needed\n     * @return a StringBuilder object which holds needed sql query\n     */\n    public StringBuilder getSQLQueryFromFile(DBDirection dbDirection) {\n        String filePath = null;\n        StringBuilder sql = null;\n        BufferedReader br = null;\n        InputStreamReader input = null;\n        try {\n            if (dbDirection == DBDirection.SOURCE_DB)\n                filePath = this.environment.getProperty(\"db.source.query.file\");\n            else if (dbDirection == DBDirection.TARGET_DB){\n                filePath = this.environment.getProperty(\"db.target.query.file\");\n\n            if(filePath == null || filePath.equals(\"\")) {\n                logger.error(\"filePath cannot be null or empty\");\n                return sql;\n            }\n\n            InputStream in = PropertiesUtils.class.getClassLoader().getResourceAsStream(filePath);\n            input = new InputStreamReader(in);\n            br = new BufferedReader(input);\n            String str;\n            sql = new StringBuilder(\"\");\n            while ((str = br.readLine()) != null) {\n                sql.append(str);\n            }\n        } catch (IOException e) {\n            logger.error(\"Failed to read query from file\", e);\n        } finally {\n            try {\n                if(br != null)\n                    br.close();\n                if(input != null)\n                    input.close();\n            } catch (IOException e) {\n                logger.error(\"Failed to close reader\", e);\n            }\n        }\n        return sql;\n    }\n}\n</code></pre>\n\n<p><code>app.properties</code> holds .sql file's path. getSQLQueryFromFile reads the file once while context initializing.</p>\n\n<p>Then I wire the query holder bean (targetQueryTemplate) to my repo that's it. Here is my repo:</p>\n\n<pre><code>@Repository\npublic class TargetRepository implements ITargetRepository {\n\n    private static final Logger logger = LoggerFactory.getLogger(TargetRepository.class);\n    private static final String DEFAULT_DATE_FORMAT = \"yyyyMMddHHmmss\";\n\n    @Autowired\n    @Qualifier(\"targetJdbcTemplate\")\n    private JdbcTemplate targetJdbcTemplate;\n\n    @Autowired\n    @Qualifier(\"targetQueryTemplate\")\n    private StringBuilder targetQueryTemplate;\n\n    @Override\n    public void testConnection() {\n        targetJdbcTemplate.execute(\"select 1 from dual\");\n    }\n\n    @Override\n    public int[] insert(final ArrayList&lt;Object&gt; list) {\n        return targetJdbcTemplate.batchUpdate(this.targetQueryTemplate.toString(), new BatchPreparedStatementSetter() {\n\n            @Override\n            public void setValues(PreparedStatement preparedStatement, int i) throws SQLException {\n                // batch adding\n            }\n\n            @Override\n            public int getBatchSize() {\n                return determineBatchSize(list);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20550,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1651860100,"creation_date":1459678807,"question_id":36384221,"body_markdown":"I am using spring boot and spring jdbc template. I want to externalize the SQL queries in either properties or yml file. I dont want to store the SQL queries in the java repositories classes.\r\n\r\nWhat is the best way to handle this case? \r\n\r\nThis is how my repository class looks right now.\r\n\r\n\r\n    @Repository\r\n    public class UserRepositoryImpl extends BaseRepository implements UserRepository {\r\n    \r\n        @Override\r\n        public List&lt;User&gt; findAll(){\r\n            String sqlQuery = &quot;SELECT * FROM users&quot;;\r\n            return jdbcTemplate.query(sqlQuery,  userMapper);\r\n        }\r\n    \r\n        @Override\r\n        public User findById(Long userId){\r\n            String sqlQuery = &quot;SELECT * FROM users WHERE id = :userId&quot;;\r\n            Map&lt;String, String&gt; namedParameters = new HashMap&lt;String, String&gt;();\r\n            namedParameters.put(&quot;userId&quot;, String.valueOf(userId));\r\n            return jdbcTemplate.queryForObject(sqlQuery, namedParameters, userMapper);\r\n        }\r\n\r\n","title":"How to store and read SQL queries from properties or yml file in spring boot jdbc repository?","body":"<p>I am using spring boot and spring jdbc template. I want to externalize the SQL queries in either properties or yml file. I dont want to store the SQL queries in the java repositories classes.</p>\n\n<p>What is the best way to handle this case? </p>\n\n<p>This is how my repository class looks right now.</p>\n\n<pre><code>@Repository\npublic class UserRepositoryImpl extends BaseRepository implements UserRepository {\n\n    @Override\n    public List&lt;User&gt; findAll(){\n        String sqlQuery = \"SELECT * FROM users\";\n        return jdbcTemplate.query(sqlQuery,  userMapper);\n    }\n\n    @Override\n    public User findById(Long userId){\n        String sqlQuery = \"SELECT * FROM users WHERE id = :userId\";\n        Map&lt;String, String&gt; namedParameters = new HashMap&lt;String, String&gt;();\n        namedParameters.put(\"userId\", String.valueOf(userId));\n        return jdbcTemplate.queryForObject(sqlQuery, namedParameters, userMapper);\n    }\n</code></pre>\n"},{"tags":["java","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":4597167,"reputation":75,"user_id":3728868,"accept_rate":17,"display_name":"user3728868"},"score":0,"creation_date":1650349318,"post_id":54498535,"comment_id":127087116,"body_markdown":"Hello, where you able to resolved it?, am facing same issues as well","body":"Hello, where you able to resolved it?, am facing same issues as well"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1549156893,"creation_date":1549156893,"answer_id":54499107,"question_id":54498535,"body_markdown":"In a scenario like this, I know of two options:\r\n\r\n1. Send another FCM message when the call is cancelled\r\n2. Only use FCM to send a tickle\r\n\r\n### Send another FCM message when the call is cancelled\r\n\r\nOne of the properties you can give an FCM message is an `collapse_key`. When you send a message with a `collapse_key`, that message replaces any previous message with the same `collapse_key` value.\r\n\r\nYou can use this to send a &quot;nope, forget about it&quot; message, when the user cancels the call.\r\n\r\n### Only use FCM to send a tickle\r\n\r\nAlternatively you can have the FCM message just be a so-called tickle: an almost empty message, that just tells the app to wake up and go check its queue of incoming messages in the database.\r\n\r\nThat way: if the call is still in the database, the app can pick it up. But if there is no call in the database, it can just do nothing. \r\n\r\nYou&#39;ll want to do this type of database interaction in a service, so that it can run when the app is backgrounded.","title":"Is there a way to delete push notification data message sent by FCM?","body":"<p>In a scenario like this, I know of two options:</p>\n\n<ol>\n<li>Send another FCM message when the call is cancelled</li>\n<li>Only use FCM to send a tickle</li>\n</ol>\n\n<h3>Send another FCM message when the call is cancelled</h3>\n\n<p>One of the properties you can give an FCM message is an <code>collapse_key</code>. When you send a message with a <code>collapse_key</code>, that message replaces any previous message with the same <code>collapse_key</code> value.</p>\n\n<p>You can use this to send a \"nope, forget about it\" message, when the user cancels the call.</p>\n\n<h3>Only use FCM to send a tickle</h3>\n\n<p>Alternatively you can have the FCM message just be a so-called tickle: an almost empty message, that just tells the app to wake up and go check its queue of incoming messages in the database.</p>\n\n<p>That way: if the call is still in the database, the app can pick it up. But if there is no call in the database, it can just do nothing. </p>\n\n<p>You'll want to do this type of database interaction in a service, so that it can run when the app is backgrounded.</p>\n"},{"tags":[],"owner":{"account_id":18498674,"reputation":29,"user_id":13476501,"display_name":"Danish Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651859384,"creation_date":1651859384,"answer_id":72145557,"question_id":54498535,"body_markdown":"Giving an expiration time is feasible as suggested in the documentation\r\n[Check Here][1]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/concept-options#ttl\r\n\r\n## Setting the lifespan of a message ##\r\n\r\n\r\n&gt; On Android and Web/JavaScript, you can specify the maximum lifespan of a message. The value must be a duration from 0 to 2,419,200 seconds (28 days), and it corresponds to the maximum period of time for which FCM stores and attempts to deliver the message. Requests that don&#39;t contain this field default to the maximum period of four weeks.\r\n\r\n\r\n## Here are some possible uses for this feature: ##\r\n\r\n - Video chat incoming calls\r\n - Expiring invitation events\r\n - Calendar events\r\n\r\n","title":"Is there a way to delete push notification data message sent by FCM?","body":"<p>Giving an expiration time is feasible as suggested in the documentation\n<a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options#ttl\" rel=\"nofollow noreferrer\">Check Here</a></p>\n<h2>Setting the lifespan of a message</h2>\n<blockquote>\n<p>On Android and Web/JavaScript, you can specify the maximum lifespan of a message. The value must be a duration from 0 to 2,419,200 seconds (28 days), and it corresponds to the maximum period of time for which FCM stores and attempts to deliver the message. Requests that don't contain this field default to the maximum period of four weeks.</p>\n</blockquote>\n<h2>Here are some possible uses for this feature:</h2>\n<ul>\n<li>Video chat incoming calls</li>\n<li>Expiring invitation events</li>\n<li>Calendar events</li>\n</ul>\n"}],"owner":{"account_id":13611515,"reputation":255,"user_id":9818845,"display_name":"Panther007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7679,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1651859384,"creation_date":1549150202,"question_id":54498535,"body_markdown":"In my application, I am offering video and voice calls between users. I&#39;m using Firebase Realtime database and FCM as well to do so.\r\n\r\nHere is the data that my notification is delivering: \r\n\r\n    data: { \r\n        channel_id: channel_id,\r\n        user_id: user_id\r\n    }\r\n\r\nIn my FirebaseMessagingService class, I retrieve the data and open the Video/Call activity like so:\r\n\r\n    if(remoteMessage.getData().size &gt; 0) {\r\n            Intent intent = new Intent(this, VideoCallActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n            intent.putExtra(&quot;channel_id&quot;, remoteMessage.getData().get(&quot;channel_id&quot;));\r\n            intent.putExtra(&quot;user_id&quot;, remoteMessage.getData().get(&quot;user_id&quot;));\r\n            getApplicationContext().startActivity(intent);\r\n\r\n        }\r\n\r\nEverything is working perfectly even when the application is in background. However, I&#39;m facing this issue:\r\n\r\nIf an user didn&#39;t have internet connection when he was called, when he connects to internet his phone will automatically start the VideoCallActivity even if the call has been aborted (by the caller) and the notification removed from Firebase real time database. \r\n\r\nSo, please is there a way to cancel sent notifications, or know the delivery status of those notifications, or another way around to do so? That will allow me to add the list of missed calls for users. \r\n\r\nThanks!\r\n","title":"Is there a way to delete push notification data message sent by FCM?","body":"<p>In my application, I am offering video and voice calls between users. I'm using Firebase Realtime database and FCM as well to do so.</p>\n\n<p>Here is the data that my notification is delivering: </p>\n\n<pre><code>data: { \n    channel_id: channel_id,\n    user_id: user_id\n}\n</code></pre>\n\n<p>In my FirebaseMessagingService class, I retrieve the data and open the Video/Call activity like so:</p>\n\n<pre><code>if(remoteMessage.getData().size &gt; 0) {\n        Intent intent = new Intent(this, VideoCallActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\n        intent.putExtra(\"channel_id\", remoteMessage.getData().get(\"channel_id\"));\n        intent.putExtra(\"user_id\", remoteMessage.getData().get(\"user_id\"));\n        getApplicationContext().startActivity(intent);\n\n    }\n</code></pre>\n\n<p>Everything is working perfectly even when the application is in background. However, I'm facing this issue:</p>\n\n<p>If an user didn't have internet connection when he was called, when he connects to internet his phone will automatically start the VideoCallActivity even if the call has been aborted (by the caller) and the notification removed from Firebase real time database. </p>\n\n<p>So, please is there a way to cancel sent notifications, or know the delivery status of those notifications, or another way around to do so? That will allow me to add the list of missed calls for users. </p>\n\n<p>Thanks!</p>\n"},{"tags":["java","junit","mockito","powermock","powermockito"],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651859355,"creation_date":1651858882,"answer_id":72145480,"question_id":72051320,"body_markdown":"You could try extending the `PowerMockTestCase`. It would solve your problem.\r\n\r\n```java\r\nclass EncodingAdapterTest extends PowerMockTestCase \r\n```\r\n\r\n--- \r\n\r\nBy the way, I recommend using mockito-inline instead of Powermock to mock static method or class. Because it is easier and more popular than Powermock. You can mock static easily, without superfluous annotations, like this:\r\n\r\n```java\r\ntry (MockedStatic&lt;AmazonSQSClientBuilder&gt; builder = Mockito.mockStatic(AmazonSQSClientBuilder.class)) {\r\n        builder.when(() -&gt; AmazonSQSClientBuilder.standard())\r\n        .thenReturn(&quot;somthing&quot;);\r\n}\r\n```\r\n\r\nReference: https://www.baeldung.com/mockito-mock-static-methods","title":"org.powermock.api.mockito.ClassNotPreparedException when it&#39;s declared to be prepared","body":"<p>You could try extending the <code>PowerMockTestCase</code>. It would solve your problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class EncodingAdapterTest extends PowerMockTestCase \n</code></pre>\n<hr />\n<p>By the way, I recommend using mockito-inline instead of Powermock to mock static method or class. Because it is easier and more popular than Powermock. You can mock static easily, without superfluous annotations, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (MockedStatic&lt;AmazonSQSClientBuilder&gt; builder = Mockito.mockStatic(AmazonSQSClientBuilder.class)) {\n        builder.when(() -&gt; AmazonSQSClientBuilder.standard())\n        .thenReturn(&quot;somthing&quot;);\n}\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-mock-static-methods</a></p>\n"}],"owner":{"account_id":8669608,"reputation":611,"user_id":6488953,"accept_rate":100,"display_name":"Kei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651859355,"creation_date":1651189191,"question_id":72051320,"body_markdown":"I don&#39;t understand why this is showing since my test definitely asked PowerMock to prepare for it.\r\n\r\n```\r\n@PrepareForTest({AmazonSQSClientBuilder.class})\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({&quot;javax.*&quot;, &quot;org.apache.logging.*&quot;})\r\nclass EncodingAdapterTest {\r\n\r\n    ...\r\n    private AmazonSQSClientBuilder sqsBuilder;\r\n    private AmazonSQS sqsClient;\r\n    private AmazonSNS snsClient;\r\n    private SendMessageResult sqsResult;\r\n    private PublishResult snsResult;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n       \r\n        sqsClient = PowerMockito.mock(AmazonSQS.class);\r\n        PowerMockito.mockStatic(AmazonSQSClientBuilder.class);\r\n        AmazonSQSClientBuilder mockBuilder = PowerMockito.mock(AmazonSQSClientBuilder.class);\r\n        PowerMockito.when(AmazonSQSClientBuilder.standard()).thenReturn(mockBuilder);\r\n        sqsBuilder = PowerMockito.mock(AmazonSQSClientBuilder.class);\r\n    }\r\n\r\n```\r\n\r\nAlthough I have `@PrepareForTest({AmazonSQSClientBuilder.class})` at the very start, it shows error for line `PowerMockito.mockStatic(AmazonSQSClientBuilder.class);`.\r\n\r\nThe error goes as follows:\r\n\r\n```\r\n[Ljava.lang.Object;@259661b4\r\nThe class com.amazonaws.services.sqs.AmazonSQSClientBuilder not prepared for test.\r\norg.powermock.api.mockito.ClassNotPreparedException: \r\n\r\n[Ljava.lang.Object;@259661b4\r\nThe class com.amazonaws.services.sqs.AmazonSQSClientBuilder not prepared for test.\r\n\tat org.powermock.api.mockito.expectation.reporter.MockitoPowerMockReporter.classNotPrepared(MockitoPowerMockReporter.java:29)\r\n\tat org.powermock.api.mockito.internal.mockcreation.MockTypeValidatorFactory$DefaultMockTypeValidator.validate(MockTypeValidatorFactory.java:37)\r\n\tat org.powermock.api.mockito.internal.mockcreation.AbstractMockCreator.validateType(AbstractMockCreator.java:10)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMock(DefaultMockCreator.java:49)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.mock(DefaultMockCreator.java:40)\r\n\tat org.powermock.api.mockito.PowerMockito.mockStatic(PowerMockito.java:62)\r\n\tat package.adapters.EncodingAdapterTest.setUp(EncodingAdapterTest.java:76)\r\n```\r\n\r\nAm I missing anything??","title":"org.powermock.api.mockito.ClassNotPreparedException when it&#39;s declared to be prepared","body":"<p>I don't understand why this is showing since my test definitely asked PowerMock to prepare for it.</p>\n<pre><code>@PrepareForTest({AmazonSQSClientBuilder.class})\n@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({&quot;javax.*&quot;, &quot;org.apache.logging.*&quot;})\nclass EncodingAdapterTest {\n\n    ...\n    private AmazonSQSClientBuilder sqsBuilder;\n    private AmazonSQS sqsClient;\n    private AmazonSNS snsClient;\n    private SendMessageResult sqsResult;\n    private PublishResult snsResult;\n\n    @BeforeEach\n    void setUp() {\n       \n        sqsClient = PowerMockito.mock(AmazonSQS.class);\n        PowerMockito.mockStatic(AmazonSQSClientBuilder.class);\n        AmazonSQSClientBuilder mockBuilder = PowerMockito.mock(AmazonSQSClientBuilder.class);\n        PowerMockito.when(AmazonSQSClientBuilder.standard()).thenReturn(mockBuilder);\n        sqsBuilder = PowerMockito.mock(AmazonSQSClientBuilder.class);\n    }\n\n</code></pre>\n<p>Although I have <code>@PrepareForTest({AmazonSQSClientBuilder.class})</code> at the very start, it shows error for line <code>PowerMockito.mockStatic(AmazonSQSClientBuilder.class);</code>.</p>\n<p>The error goes as follows:</p>\n<pre><code>[Ljava.lang.Object;@259661b4\nThe class com.amazonaws.services.sqs.AmazonSQSClientBuilder not prepared for test.\norg.powermock.api.mockito.ClassNotPreparedException: \n\n[Ljava.lang.Object;@259661b4\nThe class com.amazonaws.services.sqs.AmazonSQSClientBuilder not prepared for test.\n    at org.powermock.api.mockito.expectation.reporter.MockitoPowerMockReporter.classNotPrepared(MockitoPowerMockReporter.java:29)\n    at org.powermock.api.mockito.internal.mockcreation.MockTypeValidatorFactory$DefaultMockTypeValidator.validate(MockTypeValidatorFactory.java:37)\n    at org.powermock.api.mockito.internal.mockcreation.AbstractMockCreator.validateType(AbstractMockCreator.java:10)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMock(DefaultMockCreator.java:49)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.mock(DefaultMockCreator.java:40)\n    at org.powermock.api.mockito.PowerMockito.mockStatic(PowerMockito.java:62)\n    at package.adapters.EncodingAdapterTest.setUp(EncodingAdapterTest.java:76)\n</code></pre>\n<p>Am I missing anything??</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":3,"creation_date":1651859555,"post_id":72145535,"comment_id":127473131,"body_markdown":"Sounds like you want a modal (j)dialog","body":"Sounds like you want a modal (j)dialog"},{"owner":{"account_id":24432818,"reputation":5,"user_id":18357501,"display_name":"yeah_man_i_get_it"},"score":1,"creation_date":1651863622,"post_id":72145535,"comment_id":127474257,"body_markdown":"Yup, that was it. Easy conversion too because I can just put stuff inside their content panes","body":"Yup, that was it. Easy conversion too because I can just put stuff inside their content panes"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1651865390,"post_id":72145535,"comment_id":127474816,"body_markdown":"Just FYI a lot of times you can use JOptionPane to visualize a JPanel (or whatever) and it can add the buttons you want to it","body":"Just FYI a lot of times you can use JOptionPane to visualize a JPanel (or whatever) and it can add the buttons you want to it"}],"owner":{"account_id":24432818,"reputation":5,"user_id":18357501,"display_name":"yeah_man_i_get_it"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651859276,"creation_date":1651859276,"question_id":72145535,"body_markdown":"I&#39;m making a game in Java Swing. Every time the player levels up I display a new frame on top of the one containing the gameplay which has some options on what rewards to get for having leveled up. Due to the nature of my rewards being able to skip choosing some of the upgrades could break the game, so I want to ensure that the user can only resume playing by clicking on one of the 1-3 buttons displayed in the level-up frame.   \r\n  \r\nI have the frame set to undecorated and to appear always on top, but nothing&#39;s stopping the user from clicking outside of it to the main gameplay panel and simply pressing `esc` to resume playing. Instead I want it so the user can only click on the level-up frame out of the 2.  \r\nIs there an easy setting I can toggle for this, or do I have to remove remove my keyboard input listener from the first panel to achieve this?","title":"Java Swing - How can I make a frame &quot;mandatory to interact with&quot;?","body":"<p>I'm making a game in Java Swing. Every time the player levels up I display a new frame on top of the one containing the gameplay which has some options on what rewards to get for having leveled up. Due to the nature of my rewards being able to skip choosing some of the upgrades could break the game, so I want to ensure that the user can only resume playing by clicking on one of the 1-3 buttons displayed in the level-up frame.</p>\n<p>I have the frame set to undecorated and to appear always on top, but nothing's stopping the user from clicking outside of it to the main gameplay panel and simply pressing <code>esc</code> to resume playing. Instead I want it so the user can only click on the level-up frame out of the 2.<br />\nIs there an easy setting I can toggle for this, or do I have to remove remove my keyboard input listener from the first panel to achieve this?</p>\n"},{"tags":["java","class","object","methods"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1651789063,"post_id":72134123,"comment_id":127453583,"body_markdown":"This probably belongs in CodeReview rather than here. I&#39;ll review this anyways in a minute, but in the future, that&#39;s likely where this type of question belongs.","body":"This probably belongs in CodeReview rather than here. I&#39;ll review this anyways in a minute, but in the future, that&#39;s likely where this type of question belongs."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1651789101,"post_id":72134123,"comment_id":127453593,"body_markdown":"I would suggest having a look at [Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html), I would also keep in mind the concept of &quot;single responsibility&quot; - does the method/class really need to be perform the operation you&#39;re trying to design","body":"I would suggest having a look at <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a>, I would also keep in mind the concept of &quot;single responsibility&quot; - does the method/class really need to be perform the operation you&#39;re trying to design"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1651789485,"post_id":72134123,"comment_id":127453672,"body_markdown":"Question - this class would REALLY benefit if there were enums instead of just an int[]. Are you fine with me replacing that? Or do you want it with just an int[] only? Enums would make breaking things up a lot easier and less painful. Let me know @weirdosupremo","body":"Question - this class would REALLY benefit if there were enums instead of just an int[]. Are you fine with me replacing that? Or do you want it with just an int[] only? Enums would make breaking things up a lot easier and less painful. Let me know @weirdosupremo"},{"owner":{"account_id":24690639,"reputation":9,"user_id":18583184,"display_name":"weirdosupremo"},"score":1,"creation_date":1651790097,"post_id":72134123,"comment_id":127453793,"body_markdown":"@davidalayachew I am good with enums- just something I didn&#39;t learn in class. But I&#39;m open to learning anything to make things less painful! Thank you for asking!","body":"@davidalayachew I am good with enums- just something I didn&#39;t learn in class. But I&#39;m open to learning anything to make things less painful! Thank you for asking!"},{"owner":{"account_id":24690639,"reputation":9,"user_id":18583184,"display_name":"weirdosupremo"},"score":1,"creation_date":1651790136,"post_id":72134123,"comment_id":127453801,"body_markdown":"@davidalayachew Also my apologies I didn&#39;t realize the CodeReview thing. Thank you for letting me know and in advanced for helping!!","body":"@davidalayachew Also my apologies I didn&#39;t realize the CodeReview thing. Thank you for letting me know and in advanced for helping!!"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1651790809,"post_id":72134123,"comment_id":127453921,"body_markdown":"@weirdosupremo Ok, I will provide an example with enums, and another without.","body":"@weirdosupremo Ok, I will provide an example with enums, and another without."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1651859274,"post_id":72134123,"comment_id":127473048,"body_markdown":"@weirdosupremo Done. Had to split it up into multiple parts, so just follow the order. Let me know if there are any questions. You can use `ctrl+f` to find the parts easilly","body":"@weirdosupremo Done. Had to split it up into multiple parts, so just follow the order. Let me know if there are any questions. You can use <code>ctrl+f</code> to find the parts easilly"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651858273,"creation_date":1651858273,"answer_id":72145380,"question_id":72134123,"body_markdown":"## PART 1 -- this answer is too long, so splitting it up amongst multiple answers ##\r\n\r\nI&#39;ll start off by saying well done - this is a well designed program. It&#39;s certainly not perfect, but it definitely performs most of the basic functionality it needs to just fine.\r\n\r\nThat said, there&#39;s a few specific reasons why you are having trouble separating this into different classes.\r\n\r\n1. ***This program is [tightly coupled][1].*** @MadProgrammer actually hinted towards this in the comments earlier, but basically, tightly coupled means that [each subcomponent of your program is trying to do too many different things at once][2]. As a result, if you try and change a subcomponent, it breaks other subcomponents further downstream. That makes refactoring painful and difficult. Keep your code loosely coupled, and make it so that each class only does what it absolutely needs to. The rest can be delegated to another class or method or whatever.\r\n\r\n2. You use a lot of [global state][3]. This isn&#39;t necessarily a bad thing, but it does make it harder to keep track of who edits what. Too much global state means breaking apart the class tends to cause [logic errors][4]. We&#39;ll be minimizing that in the examples below.\r\n\r\n3. Your methods are quite large and complex. This is kind of a repeat of what was said earlier, but I want to highlight this specifically - if a method gets too cumbersome (either through size, lack of readability, or complexity), it becomes exponentially more difficult to maintain. Once a method reaches some arbitrary difficulty, doing any maintenance (such as breaking apart into classes) you will find that you have dug yourself into a ditch that is quite difficult to climb out of - without doing a full rewrite of your code.\r\n\r\n4. This specific problem you are writing code for is practically begging to use [Java Enums][5]. Java (+ JVM languages) has the most powerful implementation of enums of any language. I&#39;m not saying enums can&#39;t be overused, but it&#39;s a really useful tool that you should work hard to get comfortable with, especially if you plan to code in Java or some JVM language in the future. And doubly so if you ever solve a problem that has a very ***small and specific number of entities that won&#39;t change very often***. For example, your ingredients - Apple, Carrot, etc. That really should be an enum. And your recipes, those too.\r\n\r\nI will apply each step incrementally, so that you can see the solution evolve over time.\r\n\r\nFirst, here is your unchanged class.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic interface Round0\r\n{\r\n\r\n//object class\r\n   public class ShowRecipes {\r\n   \r\n      public static void main (String [] args){\r\n         final ShowRecipes first = new ShowRecipes();\r\n         System.out.println(&quot;FIRST&quot;);\r\n         first.input();\r\n         first.compareRecipe();\r\n         first.WantToCook();\r\n        \r\n         first.Selection();\r\n        \r\n      }\r\n    \r\n      Scanner kbd = new Scanner(System.in);\r\n   \r\n    //ingredient names array\r\n      public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\r\n   \r\n    //ingredients array - setters will set\r\n      public int[] ingredients = new int[5];\r\n   \r\n    //Basic constructor\r\n      public ShowRecipes() {\r\n         ingredients[0] = 1; //apple\r\n         ingredients[1] = 1; //cherry\r\n         ingredients[2] = 1;//carrot\r\n         ingredients[3] = 0;//flour\r\n         ingredients[4] = 0;//sugar\r\n      }\r\n   \r\n    //overloaded constructor that covers each field\r\n      public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar) {\r\n         System.out.println(&quot;overloaded&quot;);\r\n         setApples(apples);\r\n         setCherries(cherries);\r\n         setCarrots(carrots);\r\n         setFlour(flour);\r\n         setSugar(sugar);\r\n      }\r\n   \r\n      public void input() { // user inputs ingredient counts\r\n      \r\n        //Asks user for ingredients on-hand\r\n         System.out.println(&quot;Please enter how many of each ingredient you have:&quot;);\r\n      \r\n         System.out.print(ingredientsNames[0]);\r\n         int apples = kbd.nextInt();\r\n         setApples(apples);\r\n      \r\n         System.out.print(ingredientsNames[1]);\r\n         int cherries = kbd.nextInt();\r\n         setCherries(cherries);\r\n      \r\n         System.out.print(ingredientsNames[2]);\r\n         int carrots = kbd.nextInt();\r\n         setCarrots(carrots);\r\n      \r\n         System.out.print(ingredientsNames[3]);\r\n         int flour = kbd.nextInt();\r\n         setFlour(flour);\r\n      \r\n         System.out.print(ingredientsNames[4]);\r\n         int sugar = kbd.nextInt();\r\n         setSugar(sugar);\r\n      }//end user ingredient input\r\n   \r\n      public void IngredientCount() { //Lists ingredient input counts\r\n         System.out.println(&quot;According to your input, you have:&quot;);\r\n      \r\n         System.out.println(&quot;Ingredient\\tValue&quot;);\r\n         for(int counter=0;counter&lt;ingredients.length;counter++) {\r\n            System.out.println(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\r\n         }//end for loop\r\n      }//end ingredient listing\r\n    \r\n    \r\n      public void Selection(){ //Can access every method in class except CookAgain\r\n         System.out.println(&quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;);\r\n        \r\n        //1. Cook something -- WantToCook()\r\n        //2. See ingredient list -- IngredientCount()\r\n        //3. See available recipes -- compareRecipe()\r\n        //4. Modify total ingredient amounts -- input()\r\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\r\n        \r\n         int selection = kbd.nextInt();\r\n        \r\n         switch (selection) {\r\n            case 1:\r\n               WantToCook();\r\n               break;\r\n            case 2: \r\n               IngredientCount();\r\n               break;\r\n            case 3: \r\n               compareRecipe();\r\n               break;\r\n            case 4:\r\n               input();\r\n               break;\r\n            default:\r\n               System.out.println(&quot;Invalid&quot;);\r\n               return;\r\n         }}\r\n    \r\n    //Setters - set from input()\r\n    //Apple setter\r\n      public void setApples(int apples){\r\n         ingredients[0] = apples;\r\n      }\r\n    //Cherry setter\r\n      public void setCherries(int cherries){\r\n         ingredients[1] = cherries;\r\n      }\r\n    //Carrot setter\r\n      public void setCarrots(int carrots){\r\n         ingredients[2]= carrots;\r\n      }\r\n    //Flour setter\r\n      public void setFlour(int flour){\r\n         ingredients[3] = flour;\r\n      }\r\n    //Sugar setter\r\n      public void setSugar(int sugar){\r\n         ingredients[4] = sugar;\r\n      }\r\n    \r\n    //Getters\r\n    //Apple getter\r\n      public int getApples(){\r\n         return ingredients[0];\r\n      }\r\n    //Cherry getter\r\n      public int getCherries(){\r\n         return ingredients[1];\r\n      }\r\n    //Carrot getter\r\n      public int getCarrots(){\r\n         return ingredients[2];\r\n      }\r\n    //Flour getter\r\n      public int getFlour(){\r\n         return ingredients[3];\r\n      }\r\n    //Sugar getter\r\n      public int getSugar(){\r\n         return ingredients[4];\r\n      }\r\n   \r\n      public void compareRecipe() {\r\n      \r\n         System.out.println(&quot;According to the input, you can make:&quot;);\r\n      \r\n        //Apples\r\n         if (ingredients[0] &gt;= 3) {\r\n            System.out.println(RecipeNamesA[0]); //Apple Jam\r\n         }\r\n         if (ingredients[0] &gt;= 2) {\r\n            System.out.println(RecipeNamesA[1]); //Apple Jelly\r\n            System.out.println(RecipeNamesA[2]); //Apple Smoothie\r\n         }\r\n      \r\n         if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\r\n            System.out.println(RecipeNamesA[3]); //Apple Tart\r\n         }\r\n      \r\n         if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\r\n            System.out.println(RecipeNamesA[4]); //Apple Pie\r\n         }\r\n         if (ingredients[0] == 0) {\r\n            System.out.println(&quot;No apple recipes&quot;);\r\n         }\r\n      \r\n        //Cherries\r\n         if (ingredients[1] &gt;= 3) {\r\n            System.out.println(RecipeNamesCh[0]); //Cherry Jam\r\n         }\r\n         if (ingredients[1] &gt;= 2) {\r\n            System.out.println(RecipeNamesCh[1]); //Cherry Jelly\r\n         }\r\n      \r\n         if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\r\n            System.out.println(RecipeNamesCh[2]); //Cherry Pie\r\n         }\r\n         if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\r\n            System.out.println(RecipeNamesCh[3]); //Cherry Tart\r\n         }\r\n         if (ingredients[1] == 0) {\r\n            System.out.println(&quot;No cherry recipes&quot;);\r\n         }\r\n      \r\n        //Carrots\r\n         if (ingredients[2] &gt;= 2) {\r\n            System.out.println(RecipeNamesCa[0]); //Carrot juice \r\n         }\r\n         if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\r\n            System.out.println(RecipeNamesCa[2]); //Carrot potage\r\n         }\r\n      \r\n         if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\r\n            System.out.println(RecipeNamesCa[1]); //Carrot cake\r\n         }   \r\n         if (ingredients[2] == 0) {\r\n            System.out.println(&quot;No carrot recipes&quot;);\r\n         }\r\n        \r\n      }\r\n   \r\n      private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\r\n      private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\r\n      private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\r\n   \r\n      public void WantToCook() { //Enter recipe number - deducts ingredients\r\n        \r\n         System.out.println(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n         int recipeNum = kbd.nextInt();\r\n      \r\n         switch(recipeNum) {\r\n         \r\n            case 1: //Apple jam\r\n               setApples(getApples()-3);\r\n               System.out.println(RecipeNamesA[0]);\r\n               break;\r\n            case 2: //Apple jelly\r\n               System.out.println(RecipeNamesA[1]);\r\n               setApples(getApples()-2);\r\n               break;\r\n            case 3://Apple Smoothie\r\n               System.out.println(RecipeNamesA[2]);\r\n               setApples(getApples()-2);\r\n               break;\r\n            case 4: //Apple Tart\r\n               System.out.println(RecipeNamesA[3]);\r\n               setApples(getApples()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n            case 5: //Apple Pie\r\n               System.out.println(RecipeNamesA[4]);\r\n               setApples(getApples()-2);\r\n               setFlour(getFlour()-3);\r\n               setSugar(getSugar()-2);\r\n               break;\r\n            case 6: //Cherry Jam\r\n               System.out.println(RecipeNamesCh[0]);\r\n               setCherries(getCherries()-3);\r\n               break;\r\n            case 7: //Cherry Jelly\r\n               System.out.println(RecipeNamesCh[1]);\r\n               setCherries(getCherries()-2);\r\n               break;\r\n            case 8: //Cherry Pie\r\n               System.out.println(RecipeNamesCh[2]);\r\n               setCherries(getCherries()-2);\r\n               setFlour(getFlour()-3);\r\n               setSugar(getSugar()-2);\r\n               break;\r\n            case 9: //Cherry Tart\r\n               System.out.println(RecipeNamesCh[3]);\r\n               setCherries(getCherries()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n            \r\n            case 10: //Carrot juice \r\n               System.out.println(RecipeNamesCa[0]);\r\n               setCarrots(getCarrots()-2);\r\n               break;\r\n            case 11: //Carrot cake\r\n               System.out.println(RecipeNamesCa[1]);\r\n               setCarrots(getCarrots()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n         \r\n            case 12: //Carrot potage\r\n               System.out.println((RecipeNamesCa[2]));\r\n               setCarrots(getCarrots()-2);\r\n               setFlour(getFlour()-1); \r\n               break;\r\n            \r\n            default:\r\n               System.out.println(&quot;Invalid entry.&quot;);\r\n         }//End recipeNum switch\r\n        \r\n         System.out.println(&quot;You have cooked a thing! Good job!&quot;);\r\n         CookAgain(); //cook again? prompt\r\n      } //end WantToCook method\r\n   \r\n      public void CookAgain() {   \r\n      \r\n         System.out.println(&quot;Would you like to cook again? Please type yes or no&quot;);\r\n         kbd.nextLine();\r\n         String answer = kbd.nextLine();\r\n      \r\n         switch (answer) {\r\n         \r\n            case &quot;yes&quot;:\r\n               if (ingredients[0] &gt;= 1 || ingredients[1] &gt;= 1 || ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\r\n                  System.out.println(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n                  IngredientCount();\r\n                  compareRecipe();\r\n                  WantToCook();\r\n                  break;\r\n               }\r\n               else {\r\n                  System.out.println(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n                  break;\r\n               }\r\n            case &quot;no&quot;:\r\n               System.out.println(&quot;Ok, done cooking. Enjoy!&quot;);\r\n               break;\r\n            default:\r\n               System.out.println(&quot;Invalid answer please try again!&quot;);\r\n         \r\n         }// End answer switch\r\n      \r\n         kbd.close(); // close scanner\r\n      }\r\n   }\r\n\r\n}\r\n```\r\n\r\nLet&#39;s start by fixing #1\r\n\r\n### #1 Tight Coupling ###\r\n\r\nRight now, your `ShowRecipes` class literally does it all.\r\n\r\n- **A** - It communicates with your user\r\n- **B** - It handles the business logic, which is the logic decides what should change and when.\r\n- **C** - It manipulates the internal state -- the act of actually changing stuff, as opposed to deciding when to change. For example, recognizing that you need to subtract 5 apples, as opposed to actually doing the subtraction\r\n\r\nThat is a lot for one class to handle. So the first thing I would do is decouple each of its methods into multiple smaller ones. Then after that, we can start grouping methods into different classes. Let&#39;s look through your methods.\r\n\r\n- `public ShowRecipes()` - This is nice and simple, almost exactly what we are looking for. All it does is change state. This method shouldn&#39;t be modified (yet). And while I&#39;m at it, I feel similarly about `public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar)`\r\n\r\n- `public void input()` - This isn&#39;t bad. As is, your method does 3 things - prints a message to a user, reads their response, then changes state to equal the users response. However, the part that makes this method (and thus, the class) tightly coupled is that it **hardcodes the implementation inside your method**. For example, you are using `System.out.println()` to print all your stuff to the commandline. Let&#39;s replace all of those with calls in `input()` with a new class that handles the talking with the user - `UserPrompt`. This class will ask a question, then return the answer the user gave.\r\n\r\n```java\r\n   public class UserPrompt\r\n   {\r\n   \r\n      final Scanner kbd = new Scanner(System.in);\r\n   \r\n      public int askForNumber(String prompt)\r\n      {\r\n      \r\n         System.out.print(prompt);\r\n         \r\n         return kbd.nextInt();\r\n         \r\n      }\r\n   \r\n   }\r\n```\r\n\r\nThen, we will rework your input method to use the `UserPrompt`, but this time, will we make it *LOOSELY* coupled by ***passing in an instance of `UserPrompt` through the parameter of `input()`***.\r\n\r\n```java\r\n      public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n      \r\n        //Asks user for ingredients on-hand\r\n         System.out.println(&quot;Please enter how many of each ingredient you have:&quot;);\r\n      \r\n         setApples(prompt.askForNumber(ingredientsNames[0]));\r\n      \r\n         setCherries(prompt.askForNumber(ingredientsNames[1]));\r\n      \r\n         setCarrots(prompt.askForNumber(ingredientsNames[2]));\r\n      \r\n         setFlour(prompt.askForNumber(ingredientsNames[3]));\r\n      \r\n         setSugar(prompt.askForNumber(ingredientsNames[4]));\r\n      }//end user ingredient input\r\n```\r\n\r\nAnd for your main method, change it to be this.\r\n```java\r\npublic static void main (String [] args){\r\n\r\n      final ShowRecipes first = new ShowRecipes();\r\n      System.out.println(&quot;FIRST&quot;);\r\n\r\n      final UserPrompt prompt = new UserPrompt();\r\n\r\n      first.input(prompt);\r\n      first.compareRecipe();\r\n      first.WantToCook();\r\n        \r\n      first.Selection();\r\n        \r\n   }\r\n```\r\n\r\nNow, if you try compiling this, you might get an error in your `Selection` method. I am going to jump ahead just a little bit and modify `Selection` as well.\r\n\r\n```java\r\npublic void Selection(UserPrompt prompt){\r\n         \r\n            //I left out some lines that used to be here, just to keep things simple\r\n            //Those lines we don&#39;t care about right now\r\n            //just leave them alone, and only change the parameter line above\r\n            //and the input line below\r\n\r\n            case 4:\r\n               input(prompt);\r\n               break;\r\n            default:\r\n               System.out.println(&quot;Invalid&quot;);\r\n               return;\r\n         }}\r\n\r\n```\r\n\r\nThen, go back to your main method, and change only the `first.Selection()` line.\r\n\r\n```java\r\n   public static void main (String [] args){\r\n      //ignore the other lines, only change this line below\r\n      first.Selection(prompt);\r\n        \r\n   }\r\n```\r\n\r\nIf you compile your code now, there should be no errors. And if you run it, it should work exactly the same way it used to.\r\n\r\nNow, what benefit did this give us? Well for starters, now we have simplified the logic in our `input()` method. It may be a bit hard to read because there&#39;s 3 methods in one line, so that&#39;s a negative. But on the plus side, we are more loosely coupled. That helps us in a big way.\r\n\r\nFor example, your program has a minor formatting error. In the beginning, when you ask your user how many of each ingredient they want, your prompt comes out looking like this.\r\n\r\n```\r\nPlease enter how many of each ingredient you have:\r\nApples1\r\nCherry2\r\nCarrot3\r\nFlour 4\r\nSugar 5\r\n```\r\n\r\nThe number is smushed together with the word. If you wanted to clean that up using your old way, you would have to punch in a whole bunch of spaces like this.\r\n\r\n```java\r\n   public void input() { // user inputs ingredient counts\r\n   \r\n        //Asks user for ingredients on-hand\r\n      System.out.println(&quot;Please enter how many of each ingredient you have:&quot;);\r\n   \r\n      System.out.print(ingredientsNames[0] + &quot; - &quot;); //cleaned up now\r\n      int apples = kbd.nextInt();\r\n      setApples(apples);\r\n   \r\n      System.out.print(ingredientsNames[1] + &quot; - &quot;); //but you must add it\r\n      int cherries = kbd.nextInt();\r\n      setCherries(cherries);\r\n   \r\n      System.out.print(ingredientsNames[2] + &quot; - &quot;); //to each one of these\r\n      int carrots = kbd.nextInt();\r\n      setCarrots(carrots);\r\n   \r\n      System.out.print(ingredientsNames[3] + &quot; - &quot;); //lines, which makes \r\n      int flour = kbd.nextInt();\r\n      setFlour(flour);\r\n   \r\n      System.out.print(ingredientsNames[4] + &quot; - &quot;); //minor changes tedious\r\n      int sugar = kbd.nextInt();\r\n      setSugar(sugar);\r\n   }//end user ingredient input\r\n```\r\n\r\nYour output looks nice and pretty now -- `Apples - 5`, but you needed to change 5 things. And if you ever want to use an `=` instead of a `-`, you&#39;ll need to make another 5 changes. And if you prefer spaces instead of a symbol, another 5 changes. And 5 is only because you have 5 ingredients. What if you had 50? That would be boring, tedious, and ***error-prone*** - making many repetitive changes is a great to accidentally mistype and cause a bug in your code.\r\n\r\nBut using the new way, you only need to make one tiny change in your `UserPrompt` class.\r\n\r\n```java\r\n   public class UserPrompt\r\n   {\r\n   \r\n      final Scanner kbd = new Scanner(System.in);\r\n   \r\n      public int askForNumber(String prompt)\r\n      {\r\n      \r\n         //Print your prompt to the command line -- I added a little extra at the end for simple reading\r\n         System.out.print(prompt + &quot; - &quot;);\r\n         \r\n         return kbd.nextInt();\r\n         \r\n      }\r\n   \r\n```\r\n\r\nNow, all of your output looks clean, and if you ever want to change the way the output looks, you only need to make one change in `UserPrompt`. And to be clear, the reason why this code is now loosely coupled is because you used a parameter to decide how the reading and writing goes, then used that parameter for the rest of your method. Since you are plugging in your reader/writer in as a parameter and using it in the rest of your method, that means you only need to change the parameter in order to change the whole method. And that is what loose coupling means - your components are plug-and-play, allowing you to change things quickly, without requiring you to make many changes elsewhere. All you had to do was plug in a parameter into the method, then define it in your main (and Selection).\r\n\r\nThat was a difficult topic, but it&#39;s a massive part of Software Design. And this is likely the benefits that @MadProgrammer was hinting towards when suggesting this idea to you in the comments. On to the next method.\r\n\r\n- `public void IngredientCount()` - So as we mentioned earlier, tight coupling means limiting each class to doing as little as possible, and using plug and play to handle any extra functionality we may need. We printed and read stuff from the screen using `UserPrompt`, so it&#39;s not too much of a stretch to give `UserPrompt` the ability to just print. Like this.\r\n\r\n```java\r\n      \r\n   public class UserPrompt\r\n   {\r\n      //ignore all the lines from the askForNumber method\r\n      //just add this method below that method, but still in UserPrompt\r\n      public void print(String message)\r\n      {\r\n      \r\n         System.out.println(message);\r\n      \r\n      }\r\n   \r\n   }\r\n```\r\n\r\nThen, change the original method.\r\n\r\n```java\r\n      public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\r\n         prompt.print(&quot;According to your input, you have:&quot;);\r\n      \r\n         prompt.print(&quot;Ingredient\\tValue&quot;);\r\n         for(int counter=0;counter&lt;ingredients.length;counter++) {\r\n            prompt.print(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\r\n         }//end for loop\r\n      }//end ingredient listing\r\n```\r\n\r\nNow, instead of using `System.out.println()` to print, we can use `UserPrompt` and use it&#39;s `print()` method to print. As you can see, you use a lot of `System.out.println()` in your program. I&#39;ll take the liberty of going ahead and replacing all of those with the `print()` method in `UserPrompt`. I will also replace all of your prompts (how many apples?) with the `askForNumber()` method in `UserPrompt`.\r\n\r\nThis is a very long, repetitive, and tedious change to make - and not something a beginner should waste their time doing. Frankly, you probably understand the concept at this point, so I will just do it for you. Furthermore, we are going to do this for the rest of the methods, so let me just knock them all out now in one fell swoop.\r\n\r\n***UNFORTUNATELY, I HAVE RUN OUT OF CHARACTERS, SO THIS WILL BE PART 1 of multiple.***\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29\r\n  [2]: https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29#Disadvantages_of_tight_coupling\r\n  [3]: https://en.wikipedia.org/wiki/Global_variable\r\n  [4]: https://en.wikipedia.org/wiki/Logic_error\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"Is there a way I can break up into more than 2 classes","body":"<h2>PART 1 -- this answer is too long, so splitting it up amongst multiple answers</h2>\n<p>I'll start off by saying well done - this is a well designed program. It's certainly not perfect, but it definitely performs most of the basic functionality it needs to just fine.</p>\n<p>That said, there's a few specific reasons why you are having trouble separating this into different classes.</p>\n<ol>\n<li><p><em><strong>This program is <a href=\"https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29\" rel=\"nofollow noreferrer\">tightly coupled</a>.</strong></em> @MadProgrammer actually hinted towards this in the comments earlier, but basically, tightly coupled means that <a href=\"https://en.wikipedia.org/wiki/Coupling_%28computer_programming%29#Disadvantages_of_tight_coupling\" rel=\"nofollow noreferrer\">each subcomponent of your program is trying to do too many different things at once</a>. As a result, if you try and change a subcomponent, it breaks other subcomponents further downstream. That makes refactoring painful and difficult. Keep your code loosely coupled, and make it so that each class only does what it absolutely needs to. The rest can be delegated to another class or method or whatever.</p>\n</li>\n<li><p>You use a lot of <a href=\"https://en.wikipedia.org/wiki/Global_variable\" rel=\"nofollow noreferrer\">global state</a>. This isn't necessarily a bad thing, but it does make it harder to keep track of who edits what. Too much global state means breaking apart the class tends to cause <a href=\"https://en.wikipedia.org/wiki/Logic_error\" rel=\"nofollow noreferrer\">logic errors</a>. We'll be minimizing that in the examples below.</p>\n</li>\n<li><p>Your methods are quite large and complex. This is kind of a repeat of what was said earlier, but I want to highlight this specifically - if a method gets too cumbersome (either through size, lack of readability, or complexity), it becomes exponentially more difficult to maintain. Once a method reaches some arbitrary difficulty, doing any maintenance (such as breaking apart into classes) you will find that you have dug yourself into a ditch that is quite difficult to climb out of - without doing a full rewrite of your code.</p>\n</li>\n<li><p>This specific problem you are writing code for is practically begging to use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Java Enums</a>. Java (+ JVM languages) has the most powerful implementation of enums of any language. I'm not saying enums can't be overused, but it's a really useful tool that you should work hard to get comfortable with, especially if you plan to code in Java or some JVM language in the future. And doubly so if you ever solve a problem that has a very <em><strong>small and specific number of entities that won't change very often</strong></em>. For example, your ingredients - Apple, Carrot, etc. That really should be an enum. And your recipes, those too.</p>\n</li>\n</ol>\n<p>I will apply each step incrementally, so that you can see the solution evolve over time.</p>\n<p>First, here is your unchanged class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic interface Round0\n{\n\n//object class\n   public class ShowRecipes {\n   \n      public static void main (String [] args){\n         final ShowRecipes first = new ShowRecipes();\n         System.out.println(&quot;FIRST&quot;);\n         first.input();\n         first.compareRecipe();\n         first.WantToCook();\n        \n         first.Selection();\n        \n      }\n    \n      Scanner kbd = new Scanner(System.in);\n   \n    //ingredient names array\n      public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\n   \n    //ingredients array - setters will set\n      public int[] ingredients = new int[5];\n   \n    //Basic constructor\n      public ShowRecipes() {\n         ingredients[0] = 1; //apple\n         ingredients[1] = 1; //cherry\n         ingredients[2] = 1;//carrot\n         ingredients[3] = 0;//flour\n         ingredients[4] = 0;//sugar\n      }\n   \n    //overloaded constructor that covers each field\n      public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar) {\n         System.out.println(&quot;overloaded&quot;);\n         setApples(apples);\n         setCherries(cherries);\n         setCarrots(carrots);\n         setFlour(flour);\n         setSugar(sugar);\n      }\n   \n      public void input() { // user inputs ingredient counts\n      \n        //Asks user for ingredients on-hand\n         System.out.println(&quot;Please enter how many of each ingredient you have:&quot;);\n      \n         System.out.print(ingredientsNames[0]);\n         int apples = kbd.nextInt();\n         setApples(apples);\n      \n         System.out.print(ingredientsNames[1]);\n         int cherries = kbd.nextInt();\n         setCherries(cherries);\n      \n         System.out.print(ingredientsNames[2]);\n         int carrots = kbd.nextInt();\n         setCarrots(carrots);\n      \n         System.out.print(ingredientsNames[3]);\n         int flour = kbd.nextInt();\n         setFlour(flour);\n      \n         System.out.print(ingredientsNames[4]);\n         int sugar = kbd.nextInt();\n         setSugar(sugar);\n      }//end user ingredient input\n   \n      public void IngredientCount() { //Lists ingredient input counts\n         System.out.println(&quot;According to your input, you have:&quot;);\n      \n         System.out.println(&quot;Ingredient\\tValue&quot;);\n         for(int counter=0;counter&lt;ingredients.length;counter++) {\n            System.out.println(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\n         }//end for loop\n      }//end ingredient listing\n    \n    \n      public void Selection(){ //Can access every method in class except CookAgain\n         System.out.println(&quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;);\n        \n        //1. Cook something -- WantToCook()\n        //2. See ingredient list -- IngredientCount()\n        //3. See available recipes -- compareRecipe()\n        //4. Modify total ingredient amounts -- input()\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\n        \n         int selection = kbd.nextInt();\n        \n         switch (selection) {\n            case 1:\n               WantToCook();\n               break;\n            case 2: \n               IngredientCount();\n               break;\n            case 3: \n               compareRecipe();\n               break;\n            case 4:\n               input();\n               break;\n            default:\n               System.out.println(&quot;Invalid&quot;);\n               return;\n         }}\n    \n    //Setters - set from input()\n    //Apple setter\n      public void setApples(int apples){\n         ingredients[0] = apples;\n      }\n    //Cherry setter\n      public void setCherries(int cherries){\n         ingredients[1] = cherries;\n      }\n    //Carrot setter\n      public void setCarrots(int carrots){\n         ingredients[2]= carrots;\n      }\n    //Flour setter\n      public void setFlour(int flour){\n         ingredients[3] = flour;\n      }\n    //Sugar setter\n      public void setSugar(int sugar){\n         ingredients[4] = sugar;\n      }\n    \n    //Getters\n    //Apple getter\n      public int getApples(){\n         return ingredients[0];\n      }\n    //Cherry getter\n      public int getCherries(){\n         return ingredients[1];\n      }\n    //Carrot getter\n      public int getCarrots(){\n         return ingredients[2];\n      }\n    //Flour getter\n      public int getFlour(){\n         return ingredients[3];\n      }\n    //Sugar getter\n      public int getSugar(){\n         return ingredients[4];\n      }\n   \n      public void compareRecipe() {\n      \n         System.out.println(&quot;According to the input, you can make:&quot;);\n      \n        //Apples\n         if (ingredients[0] &gt;= 3) {\n            System.out.println(RecipeNamesA[0]); //Apple Jam\n         }\n         if (ingredients[0] &gt;= 2) {\n            System.out.println(RecipeNamesA[1]); //Apple Jelly\n            System.out.println(RecipeNamesA[2]); //Apple Smoothie\n         }\n      \n         if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\n            System.out.println(RecipeNamesA[3]); //Apple Tart\n         }\n      \n         if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\n            System.out.println(RecipeNamesA[4]); //Apple Pie\n         }\n         if (ingredients[0] == 0) {\n            System.out.println(&quot;No apple recipes&quot;);\n         }\n      \n        //Cherries\n         if (ingredients[1] &gt;= 3) {\n            System.out.println(RecipeNamesCh[0]); //Cherry Jam\n         }\n         if (ingredients[1] &gt;= 2) {\n            System.out.println(RecipeNamesCh[1]); //Cherry Jelly\n         }\n      \n         if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\n            System.out.println(RecipeNamesCh[2]); //Cherry Pie\n         }\n         if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\n            System.out.println(RecipeNamesCh[3]); //Cherry Tart\n         }\n         if (ingredients[1] == 0) {\n            System.out.println(&quot;No cherry recipes&quot;);\n         }\n      \n        //Carrots\n         if (ingredients[2] &gt;= 2) {\n            System.out.println(RecipeNamesCa[0]); //Carrot juice \n         }\n         if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\n            System.out.println(RecipeNamesCa[2]); //Carrot potage\n         }\n      \n         if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\n            System.out.println(RecipeNamesCa[1]); //Carrot cake\n         }   \n         if (ingredients[2] == 0) {\n            System.out.println(&quot;No carrot recipes&quot;);\n         }\n        \n      }\n   \n      private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\n      private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\n      private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\n   \n      public void WantToCook() { //Enter recipe number - deducts ingredients\n        \n         System.out.println(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n         int recipeNum = kbd.nextInt();\n      \n         switch(recipeNum) {\n         \n            case 1: //Apple jam\n               setApples(getApples()-3);\n               System.out.println(RecipeNamesA[0]);\n               break;\n            case 2: //Apple jelly\n               System.out.println(RecipeNamesA[1]);\n               setApples(getApples()-2);\n               break;\n            case 3://Apple Smoothie\n               System.out.println(RecipeNamesA[2]);\n               setApples(getApples()-2);\n               break;\n            case 4: //Apple Tart\n               System.out.println(RecipeNamesA[3]);\n               setApples(getApples()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n            case 5: //Apple Pie\n               System.out.println(RecipeNamesA[4]);\n               setApples(getApples()-2);\n               setFlour(getFlour()-3);\n               setSugar(getSugar()-2);\n               break;\n            case 6: //Cherry Jam\n               System.out.println(RecipeNamesCh[0]);\n               setCherries(getCherries()-3);\n               break;\n            case 7: //Cherry Jelly\n               System.out.println(RecipeNamesCh[1]);\n               setCherries(getCherries()-2);\n               break;\n            case 8: //Cherry Pie\n               System.out.println(RecipeNamesCh[2]);\n               setCherries(getCherries()-2);\n               setFlour(getFlour()-3);\n               setSugar(getSugar()-2);\n               break;\n            case 9: //Cherry Tart\n               System.out.println(RecipeNamesCh[3]);\n               setCherries(getCherries()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n            \n            case 10: //Carrot juice \n               System.out.println(RecipeNamesCa[0]);\n               setCarrots(getCarrots()-2);\n               break;\n            case 11: //Carrot cake\n               System.out.println(RecipeNamesCa[1]);\n               setCarrots(getCarrots()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n         \n            case 12: //Carrot potage\n               System.out.println((RecipeNamesCa[2]));\n               setCarrots(getCarrots()-2);\n               setFlour(getFlour()-1); \n               break;\n            \n            default:\n               System.out.println(&quot;Invalid entry.&quot;);\n         }//End recipeNum switch\n        \n         System.out.println(&quot;You have cooked a thing! Good job!&quot;);\n         CookAgain(); //cook again? prompt\n      } //end WantToCook method\n   \n      public void CookAgain() {   \n      \n         System.out.println(&quot;Would you like to cook again? Please type yes or no&quot;);\n         kbd.nextLine();\n         String answer = kbd.nextLine();\n      \n         switch (answer) {\n         \n            case &quot;yes&quot;:\n               if (ingredients[0] &gt;= 1 || ingredients[1] &gt;= 1 || ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\n                  System.out.println(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n                  IngredientCount();\n                  compareRecipe();\n                  WantToCook();\n                  break;\n               }\n               else {\n                  System.out.println(&quot;You don't have enough ingredients left to cook anything.&quot;);\n                  break;\n               }\n            case &quot;no&quot;:\n               System.out.println(&quot;Ok, done cooking. Enjoy!&quot;);\n               break;\n            default:\n               System.out.println(&quot;Invalid answer please try again!&quot;);\n         \n         }// End answer switch\n      \n         kbd.close(); // close scanner\n      }\n   }\n\n}\n</code></pre>\n<p>Let's start by fixing #1</p>\n<h3>#1 Tight Coupling</h3>\n<p>Right now, your <code>ShowRecipes</code> class literally does it all.</p>\n<ul>\n<li><strong>A</strong> - It communicates with your user</li>\n<li><strong>B</strong> - It handles the business logic, which is the logic decides what should change and when.</li>\n<li><strong>C</strong> - It manipulates the internal state -- the act of actually changing stuff, as opposed to deciding when to change. For example, recognizing that you need to subtract 5 apples, as opposed to actually doing the subtraction</li>\n</ul>\n<p>That is a lot for one class to handle. So the first thing I would do is decouple each of its methods into multiple smaller ones. Then after that, we can start grouping methods into different classes. Let's look through your methods.</p>\n<ul>\n<li><p><code>public ShowRecipes()</code> - This is nice and simple, almost exactly what we are looking for. All it does is change state. This method shouldn't be modified (yet). And while I'm at it, I feel similarly about <code>public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar)</code></p>\n</li>\n<li><p><code>public void input()</code> - This isn't bad. As is, your method does 3 things - prints a message to a user, reads their response, then changes state to equal the users response. However, the part that makes this method (and thus, the class) tightly coupled is that it <strong>hardcodes the implementation inside your method</strong>. For example, you are using <code>System.out.println()</code> to print all your stuff to the commandline. Let's replace all of those with calls in <code>input()</code> with a new class that handles the talking with the user - <code>UserPrompt</code>. This class will ask a question, then return the answer the user gave.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>   public class UserPrompt\n   {\n   \n      final Scanner kbd = new Scanner(System.in);\n   \n      public int askForNumber(String prompt)\n      {\n      \n         System.out.print(prompt);\n         \n         return kbd.nextInt();\n         \n      }\n   \n   }\n</code></pre>\n<p>Then, we will rework your input method to use the <code>UserPrompt</code>, but this time, will we make it <em>LOOSELY</em> coupled by <em><strong>passing in an instance of <code>UserPrompt</code> through the parameter of <code>input()</code></strong></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public void input(UserPrompt prompt) { // user inputs ingredient counts\n      \n        //Asks user for ingredients on-hand\n         System.out.println(&quot;Please enter how many of each ingredient you have:&quot;);\n      \n         setApples(prompt.askForNumber(ingredientsNames[0]));\n      \n         setCherries(prompt.askForNumber(ingredientsNames[1]));\n      \n         setCarrots(prompt.askForNumber(ingredientsNames[2]));\n      \n         setFlour(prompt.askForNumber(ingredientsNames[3]));\n      \n         setSugar(prompt.askForNumber(ingredientsNames[4]));\n      }//end user ingredient input\n</code></pre>\n<p>And for your main method, change it to be this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main (String [] args){\n\n      final ShowRecipes first = new ShowRecipes();\n      System.out.println(&quot;FIRST&quot;);\n\n      final UserPrompt prompt = new UserPrompt();\n\n      first.input(prompt);\n      first.compareRecipe();\n      first.WantToCook();\n        \n      first.Selection();\n        \n   }\n</code></pre>\n<p>Now, if you try compiling this, you might get an error in your <code>Selection</code> method. I am going to jump ahead just a little bit and modify <code>Selection</code> as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void Selection(UserPrompt prompt){\n         \n            //I left out some lines that used to be here, just to keep things simple\n            //Those lines we don't care about right now\n            //just leave them alone, and only change the parameter line above\n            //and the input line below\n\n            case 4:\n               input(prompt);\n               break;\n            default:\n               System.out.println(&quot;Invalid&quot;);\n               return;\n         }}\n\n</code></pre>\n<p>Then, go back to your main method, and change only the <code>first.Selection()</code> line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static void main (String [] args){\n      //ignore the other lines, only change this line below\n      first.Selection(prompt);\n        \n   }\n</code></pre>\n<p>If you compile your code now, there should be no errors. And if you run it, it should work exactly the same way it used to.</p>\n<p>Now, what benefit did this give us? Well for starters, now we have simplified the logic in our <code>input()</code> method. It may be a bit hard to read because there's 3 methods in one line, so that's a negative. But on the plus side, we are more loosely coupled. That helps us in a big way.</p>\n<p>For example, your program has a minor formatting error. In the beginning, when you ask your user how many of each ingredient they want, your prompt comes out looking like this.</p>\n<pre><code>Please enter how many of each ingredient you have:\nApples1\nCherry2\nCarrot3\nFlour 4\nSugar 5\n</code></pre>\n<p>The number is smushed together with the word. If you wanted to clean that up using your old way, you would have to punch in a whole bunch of spaces like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void input() { // user inputs ingredient counts\n   \n        //Asks user for ingredients on-hand\n      System.out.println(&quot;Please enter how many of each ingredient you have:&quot;);\n   \n      System.out.print(ingredientsNames[0] + &quot; - &quot;); //cleaned up now\n      int apples = kbd.nextInt();\n      setApples(apples);\n   \n      System.out.print(ingredientsNames[1] + &quot; - &quot;); //but you must add it\n      int cherries = kbd.nextInt();\n      setCherries(cherries);\n   \n      System.out.print(ingredientsNames[2] + &quot; - &quot;); //to each one of these\n      int carrots = kbd.nextInt();\n      setCarrots(carrots);\n   \n      System.out.print(ingredientsNames[3] + &quot; - &quot;); //lines, which makes \n      int flour = kbd.nextInt();\n      setFlour(flour);\n   \n      System.out.print(ingredientsNames[4] + &quot; - &quot;); //minor changes tedious\n      int sugar = kbd.nextInt();\n      setSugar(sugar);\n   }//end user ingredient input\n</code></pre>\n<p>Your output looks nice and pretty now -- <code>Apples - 5</code>, but you needed to change 5 things. And if you ever want to use an <code>=</code> instead of a <code>-</code>, you'll need to make another 5 changes. And if you prefer spaces instead of a symbol, another 5 changes. And 5 is only because you have 5 ingredients. What if you had 50? That would be boring, tedious, and <em><strong>error-prone</strong></em> - making many repetitive changes is a great to accidentally mistype and cause a bug in your code.</p>\n<p>But using the new way, you only need to make one tiny change in your <code>UserPrompt</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public class UserPrompt\n   {\n   \n      final Scanner kbd = new Scanner(System.in);\n   \n      public int askForNumber(String prompt)\n      {\n      \n         //Print your prompt to the command line -- I added a little extra at the end for simple reading\n         System.out.print(prompt + &quot; - &quot;);\n         \n         return kbd.nextInt();\n         \n      }\n   \n</code></pre>\n<p>Now, all of your output looks clean, and if you ever want to change the way the output looks, you only need to make one change in <code>UserPrompt</code>. And to be clear, the reason why this code is now loosely coupled is because you used a parameter to decide how the reading and writing goes, then used that parameter for the rest of your method. Since you are plugging in your reader/writer in as a parameter and using it in the rest of your method, that means you only need to change the parameter in order to change the whole method. And that is what loose coupling means - your components are plug-and-play, allowing you to change things quickly, without requiring you to make many changes elsewhere. All you had to do was plug in a parameter into the method, then define it in your main (and Selection).</p>\n<p>That was a difficult topic, but it's a massive part of Software Design. And this is likely the benefits that @MadProgrammer was hinting towards when suggesting this idea to you in the comments. On to the next method.</p>\n<ul>\n<li><code>public void IngredientCount()</code> - So as we mentioned earlier, tight coupling means limiting each class to doing as little as possible, and using plug and play to handle any extra functionality we may need. We printed and read stuff from the screen using <code>UserPrompt</code>, so it's not too much of a stretch to give <code>UserPrompt</code> the ability to just print. Like this.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>      \n   public class UserPrompt\n   {\n      //ignore all the lines from the askForNumber method\n      //just add this method below that method, but still in UserPrompt\n      public void print(String message)\n      {\n      \n         System.out.println(message);\n      \n      }\n   \n   }\n</code></pre>\n<p>Then, change the original method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\n         prompt.print(&quot;According to your input, you have:&quot;);\n      \n         prompt.print(&quot;Ingredient\\tValue&quot;);\n         for(int counter=0;counter&lt;ingredients.length;counter++) {\n            prompt.print(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\n         }//end for loop\n      }//end ingredient listing\n</code></pre>\n<p>Now, instead of using <code>System.out.println()</code> to print, we can use <code>UserPrompt</code> and use it's <code>print()</code> method to print. As you can see, you use a lot of <code>System.out.println()</code> in your program. I'll take the liberty of going ahead and replacing all of those with the <code>print()</code> method in <code>UserPrompt</code>. I will also replace all of your prompts (how many apples?) with the <code>askForNumber()</code> method in <code>UserPrompt</code>.</p>\n<p>This is a very long, repetitive, and tedious change to make - and not something a beginner should waste their time doing. Frankly, you probably understand the concept at this point, so I will just do it for you. Furthermore, we are going to do this for the rest of the methods, so let me just knock them all out now in one fell swoop.</p>\n<p><em><strong>UNFORTUNATELY, I HAVE RUN OUT OF CHARACTERS, SO THIS WILL BE PART 1 of multiple.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651858335,"creation_date":1651858335,"answer_id":72145391,"question_id":72134123,"body_markdown":"## PART 2 ##\r\n\r\nOk, I have now replaced all `System.out.println()` in your program to use the `print()` method from `UserPrompt`. Here it is.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic interface Round1\r\n{\r\n\r\n\r\n   public static void main (String [] args){\r\n      final ShowRecipes first = new ShowRecipes();\r\n      System.out.println(&quot;FIRST&quot;);\r\n      \r\n      final UserPrompt prompt = new UserPrompt();\r\n      \r\n      first.input(prompt);\r\n      first.compareRecipe(prompt);\r\n      first.WantToCook(prompt);\r\n        \r\n      first.Selection(prompt);\r\n        \r\n   }\r\n      \r\n   public class UserPrompt\r\n   {\r\n   \r\n      final Scanner kbd = new Scanner(System.in);\r\n   \r\n      public int askForNumber(String prompt)\r\n      {\r\n      \r\n         //Print your prompt to the command line -- I added a little extra at the end for simple reading\r\n         System.out.print(prompt + &quot; - &quot;);\r\n         \r\n         return kbd.nextInt();\r\n         \r\n      }\r\n      \r\n      public void print(String message)\r\n      {\r\n      \r\n         System.out.println(message);\r\n      \r\n      }\r\n   \r\n   }\r\n\r\n//object class\r\n   public class ShowRecipes {\r\n   \r\n    \r\n      Scanner kbd = new Scanner(System.in);\r\n   \r\n    //ingredient names array\r\n      public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\r\n   \r\n    //ingredients array - setters will set\r\n      public int[] ingredients = new int[5];\r\n   \r\n    //Basic constructor\r\n      public ShowRecipes() {\r\n         ingredients[0] = 1; //apple\r\n         ingredients[1] = 1; //cherry\r\n         ingredients[2] = 1;//carrot\r\n         ingredients[3] = 0;//flour\r\n         ingredients[4] = 0;//sugar\r\n      }\r\n   \r\n    //overloaded constructor that covers each field\r\n      public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar) {\r\n         System.out.println(&quot;overloaded&quot;);\r\n         setApples(apples);\r\n         setCherries(cherries);\r\n         setCarrots(carrots);\r\n         setFlour(flour);\r\n         setSugar(sugar);\r\n      }\r\n   \r\n      public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n      \r\n        //Asks user for ingredients on-hand\r\n         prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\r\n      \r\n         setApples(prompt.askForNumber(ingredientsNames[0]));\r\n      \r\n         setCherries(prompt.askForNumber(ingredientsNames[1]));\r\n      \r\n         setCarrots(prompt.askForNumber(ingredientsNames[2]));\r\n      \r\n         setFlour(prompt.askForNumber(ingredientsNames[3]));\r\n      \r\n         setSugar(prompt.askForNumber(ingredientsNames[4]));\r\n      }//end user ingredient input\r\n   \r\n      public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\r\n         prompt.print(&quot;According to your input, you have:&quot;);\r\n      \r\n         prompt.print(&quot;Ingredient\\tValue&quot;);\r\n         for(int counter=0;counter&lt;ingredients.length;counter++) {\r\n            prompt.print(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\r\n         }//end for loop\r\n      }//end ingredient listing\r\n    \r\n    \r\n      public void Selection(UserPrompt prompt){ //Can access every method in class except CookAgain\r\n        \r\n        //1. Cook something -- WantToCook()\r\n        //2. See ingredient list -- IngredientCount()\r\n        //3. See available recipes -- compareRecipe()\r\n        //4. Modify total ingredient amounts -- input()\r\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\r\n        \r\n         int userChoice = \r\n            prompt.askForNumber(\r\n               &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\r\n            );\r\n        \r\n         switch (userChoice) {\r\n            case 1:\r\n               WantToCook(prompt);\r\n               break;\r\n            case 2: \r\n               IngredientCount(prompt);\r\n               break;\r\n            case 3: \r\n               compareRecipe(prompt);\r\n               break;\r\n            case 4:\r\n               input(prompt);\r\n               break;\r\n            default:\r\n               System.out.println(&quot;Invalid&quot;);\r\n               return;\r\n         }}\r\n    \r\n    //Setters - set from input()\r\n    //Apple setter\r\n      public void setApples(int apples){\r\n         ingredients[0] = apples;\r\n      }\r\n    //Cherry setter\r\n      public void setCherries(int cherries){\r\n         ingredients[1] = cherries;\r\n      }\r\n    //Carrot setter\r\n      public void setCarrots(int carrots){\r\n         ingredients[2]= carrots;\r\n      }\r\n    //Flour setter\r\n      public void setFlour(int flour){\r\n         ingredients[3] = flour;\r\n      }\r\n    //Sugar setter\r\n      public void setSugar(int sugar){\r\n         ingredients[4] = sugar;\r\n      }\r\n    \r\n    //Getters\r\n    //Apple getter\r\n      public int getApples(){\r\n         return ingredients[0];\r\n      }\r\n    //Cherry getter\r\n      public int getCherries(){\r\n         return ingredients[1];\r\n      }\r\n    //Carrot getter\r\n      public int getCarrots(){\r\n         return ingredients[2];\r\n      }\r\n    //Flour getter\r\n      public int getFlour(){\r\n         return ingredients[3];\r\n      }\r\n    //Sugar getter\r\n      public int getSugar(){\r\n         return ingredients[4];\r\n      }\r\n   \r\n      public void compareRecipe(UserPrompt prompt) {\r\n      \r\n         prompt.print(&quot;According to the input, you can make:&quot;);\r\n      \r\n        //Apples\r\n         if (ingredients[0] &gt;= 3) {\r\n            prompt.print(RecipeNamesA[0]); //Apple Jam\r\n         }\r\n         if (ingredients[0] &gt;= 2) {\r\n            prompt.print(RecipeNamesA[1]); //Apple Jelly\r\n            prompt.print(RecipeNamesA[2]); //Apple Smoothie\r\n         }\r\n      \r\n         if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\r\n            prompt.print(RecipeNamesA[3]); //Apple Tart\r\n         }\r\n      \r\n         if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\r\n            prompt.print(RecipeNamesA[4]); //Apple Pie\r\n         }\r\n         if (ingredients[0] == 0) {\r\n            prompt.print(&quot;No apple recipes&quot;);\r\n         }\r\n      \r\n        //Cherries\r\n         if (ingredients[1] &gt;= 3) {\r\n            prompt.print(RecipeNamesCh[0]); //Cherry Jam\r\n         }\r\n         if (ingredients[1] &gt;= 2) {\r\n            prompt.print(RecipeNamesCh[1]); //Cherry Jelly\r\n         }\r\n      \r\n         if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\r\n            prompt.print(RecipeNamesCh[2]); //Cherry Pie\r\n         }\r\n         if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\r\n            prompt.print(RecipeNamesCh[3]); //Cherry Tart\r\n         }\r\n         if (ingredients[1] == 0) {\r\n            prompt.print(&quot;No cherry recipes&quot;);\r\n         }\r\n      \r\n        //Carrots\r\n         if (ingredients[2] &gt;= 2) {\r\n            prompt.print(RecipeNamesCa[0]); //Carrot juice \r\n         }\r\n         if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\r\n            prompt.print(RecipeNamesCa[2]); //Carrot potage\r\n         }\r\n      \r\n         if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\r\n            prompt.print(RecipeNamesCa[1]); //Carrot cake\r\n         }   \r\n         if (ingredients[2] == 0) {\r\n            prompt.print(&quot;No carrot recipes&quot;);\r\n         }\r\n        \r\n      }\r\n   \r\n      private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\r\n      private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\r\n      private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\r\n   \r\n      public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n        \r\n         int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n         \r\n         switch(recipeNum) {\r\n         \r\n            case 1: //Apple jam\r\n               setApples(getApples()-3);\r\n               prompt.print(RecipeNamesA[0]);\r\n               break;\r\n            case 2: //Apple jelly\r\n               prompt.print(RecipeNamesA[1]);\r\n               setApples(getApples()-2);\r\n               break;\r\n            case 3://Apple Smoothie\r\n               prompt.print(RecipeNamesA[2]);\r\n               setApples(getApples()-2);\r\n               break;\r\n            case 4: //Apple Tart\r\n               prompt.print(RecipeNamesA[3]);\r\n               setApples(getApples()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n            case 5: //Apple Pie\r\n               prompt.print(RecipeNamesA[4]);\r\n               setApples(getApples()-2);\r\n               setFlour(getFlour()-3);\r\n               setSugar(getSugar()-2);\r\n               break;\r\n            case 6: //Cherry Jam\r\n               prompt.print(RecipeNamesCh[0]);\r\n               setCherries(getCherries()-3);\r\n               break;\r\n            case 7: //Cherry Jelly\r\n               prompt.print(RecipeNamesCh[1]);\r\n               setCherries(getCherries()-2);\r\n               break;\r\n            case 8: //Cherry Pie\r\n               prompt.print(RecipeNamesCh[2]);\r\n               setCherries(getCherries()-2);\r\n               setFlour(getFlour()-3);\r\n               setSugar(getSugar()-2);\r\n               break;\r\n            case 9: //Cherry Tart\r\n               prompt.print(RecipeNamesCh[3]);\r\n               setCherries(getCherries()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n            \r\n            case 10: //Carrot juice \r\n               prompt.print(RecipeNamesCa[0]);\r\n               setCarrots(getCarrots()-2);\r\n               break;\r\n            case 11: //Carrot cake\r\n               prompt.print(RecipeNamesCa[1]);\r\n               setCarrots(getCarrots()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n         \r\n            case 12: //Carrot potage\r\n               prompt.print((RecipeNamesCa[2]));\r\n               setCarrots(getCarrots()-2);\r\n               setFlour(getFlour()-1); \r\n               break;\r\n            \r\n            default:\r\n               prompt.print(&quot;Invalid entry.&quot;);\r\n         }//End recipeNum switch\r\n        \r\n         prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n         CookAgain(prompt); //cook again? prompt\r\n      } //end WantToCook method\r\n   \r\n      public void CookAgain(UserPrompt prompt) {   \r\n      \r\n         System.out.print(&quot;Would you like to cook again? Please type yes or no - &quot;);\r\n         String answer = kbd.next();\r\n      \r\n         switch (answer) {\r\n         \r\n            case &quot;yes&quot;:\r\n               if (ingredients[0] &gt;= 1 || ingredients[1] &gt;= 1 || ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\r\n                  prompt.print(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n                  IngredientCount(prompt);\r\n                  compareRecipe(prompt);\r\n                  WantToCook(prompt);\r\n                  break;\r\n               }\r\n               else {\r\n                  prompt.print(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n                  break;\r\n               }\r\n            case &quot;no&quot;:\r\n               prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\r\n               break;\r\n            default:\r\n               prompt.print(&quot;Invalid answer please try again!&quot;);\r\n         \r\n         }// End answer switch\r\n      \r\n         kbd.close(); // close scanner\r\n      }\r\n   }\r\n\r\n}\r\n```\r\n\r\nNow, what does this actually do for us? That was a lot of change, but what is the benefit?\r\n\r\nWell, for starters, we have removed all of the hardcoded print statements, and wrapped them all under a single method `print()`. Same for `askForNumber()`.\r\n\r\nNow, I could explain why that is powerful, or I could show it to you. Try running this new class above like normal. Then, completely replace the `UserPrompt` class above with this new own below.\r\n\r\n```java\r\n//this time, replace the whole UserPrompt class with what is here\r\n   public class UserPrompt\r\n   {\r\n   \r\n      //final Scanner kbd = new Scanner(System.in);\r\n   \r\n      public int askForNumber(String prompt)\r\n      {\r\n      \r\n         //System.out.print(prompt + &quot; - &quot;);\r\n         //\r\n         //return kbd.nextInt();\r\n         \r\n         String message = javax.swing.JOptionPane.showInputDialog(null, prompt + &quot; - &quot;);\r\n      \r\n         return Integer.parseInt(message);\r\n         \r\n      }\r\n      \r\n      public void print(String message)\r\n      {\r\n      \r\n         //System.out.println(message);\r\n         javax.swing.JOptionPane.showMessageDialog(null, message);\r\n      \r\n      }\r\n   \r\n   }\r\n```\r\n\r\nNow try running the class. You should see something very cool. Now, your application has windows and popups and buttons. It may not look very pretty, but hopefully this shows you how making your code ***loosely coupled*** instead of ***tightly coupled*** can allow some powerful abilities.\r\n\r\nNow, change back the `UserPrompt` to the boring command line version, and let&#39;s continue. Last we checked, we were looking at `IngredientCount` and decided to replace all of the print statements with the `print()` method in `UserPrompt`. So now, let&#39;s look at the next method, `Selection()`.\r\n\r\n- `Selection()` - Obviously, we have removed coupling with print and read, the prompt at the beginning of this method is considered a loose coupling. As for the rest of this method, it actually only does one simple thing - decides what to do based on what the user requests. On the one hand, this method does not need to be broken up at all. It is exactly as large as it needs to be and does only one thing on its own. On the other hand, this method seems like it should be in a different class based on the methods we&#39;ve looked at previously. For example, in the `public ShowRecipes()` method, it would take in inputs and store them into state. That was purely data manipulation/changing state.\r\n\r\nWhereas for this method, we are using the input to make branching decisions. One could say that this sounds more like a Driver class or a BusinessLogic class. I will make a class called `Driver`, and put this method into there.\r\n\r\n```java\r\n   public class Driver\r\n   {\r\n   \r\n      public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\r\n        \r\n        //1. Cook something -- WantToCook()\r\n        //2. See ingredient list -- IngredientCount()\r\n        //3. See available recipes -- compareRecipe()\r\n        //4. Modify total ingredient amounts -- input()\r\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\r\n        \r\n         int userChoice = \r\n            prompt.askForNumber(\r\n               &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\r\n            );\r\n        \r\n         switch (userChoice) {\r\n            case 1:\r\n               WantToCook(prompt);\r\n               break;\r\n            case 2: \r\n               IngredientCount(prompt);\r\n               break;\r\n            case 3: \r\n               compareRecipe(prompt);\r\n               break;\r\n            case 4:\r\n               input(prompt);\r\n               break;\r\n            default:\r\n               System.out.println(&quot;Invalid&quot;);\r\n               return;\r\n         }\r\n         \r\n      }\r\n       \r\n   }\r\n```\r\n\r\nNow, immediately, several things break. The class is now trying to find all these methods that belong to `ShowRecipes`, but can&#39;t find them because we are now in the `Driver` class. To make things simple, we are actually going to do something rather drastic - **we are going to copy all of those methods over into the `Driver` class**. And the reason we are doing this is because all of these methods actually have the same sort of style of *decide what to do based upon user input*. In fact, let&#39;s take a quick look at each.\r\n\r\n1. `WantToCook()` - depending on what the user says, we manipulate state, then print to the screen our response. So this does 3 things - decides what to do, then manipulates state, then prints to the screen.\r\n2. `IngredientCount()` - This one reads the state, then prints it out the state to the user. So this one does 2 things - reads state, then prints it out to the user.\r\n3. `compareRecipe()` - This one reads the state, then prints it out to the user. So this does 2 things - reads state, then prints it out to the user.\r\n4. `input()` - depending on what the user says, we populate state. So this does 2 things - decides what to do, then populates state.\r\n\r\nSo, looking at these, we see 2 classes of methods - one that decides then does something, and another that reads then does something. So far, the Driver class definitely falls under the *decides then does something* mindset, and so does `selection()`, so we will bring `WantToCook()` and `input()` over to the `Driver` class as well.\r\n\r\nNow your `Driver` class should look like this.\r\n\r\n```java\r\n\r\n   public class Driver\r\n   {\r\n   \r\n      public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\r\n        \r\n        //1. Cook something -- WantToCook()\r\n        //2. See ingredient list -- IngredientCount()\r\n        //3. See available recipes -- compareRecipe()\r\n        //4. Modify total ingredient amounts -- input()\r\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\r\n        \r\n         int userChoice = \r\n            prompt.askForNumber(\r\n               &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\r\n            );\r\n        \r\n         switch (userChoice) {\r\n            case 1:\r\n               WantToCook(prompt);\r\n               break;\r\n            case 2: \r\n               IngredientCount(prompt);\r\n               break;\r\n            case 3: \r\n               compareRecipe(prompt);\r\n               break;\r\n            case 4:\r\n               input(prompt);\r\n               break;\r\n            default:\r\n               System.out.println(&quot;Invalid&quot;);\r\n               return;\r\n         }\r\n         \r\n      }\r\n   \r\n      public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n        \r\n         int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n         \r\n         switch(recipeNum) {\r\n         \r\n            case 1: //Apple jam\r\n               setApples(getApples()-3);\r\n               prompt.print(RecipeNamesA[0]);\r\n               break;\r\n            case 2: //Apple jelly\r\n               prompt.print(RecipeNamesA[1]);\r\n               setApples(getApples()-2);\r\n               break;\r\n            case 3://Apple Smoothie\r\n               prompt.print(RecipeNamesA[2]);\r\n               setApples(getApples()-2);\r\n               break;\r\n            case 4: //Apple Tart\r\n               prompt.print(RecipeNamesA[3]);\r\n               setApples(getApples()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n            case 5: //Apple Pie\r\n               prompt.print(RecipeNamesA[4]);\r\n               setApples(getApples()-2);\r\n               setFlour(getFlour()-3);\r\n               setSugar(getSugar()-2);\r\n               break;\r\n            case 6: //Cherry Jam\r\n               prompt.print(RecipeNamesCh[0]);\r\n               setCherries(getCherries()-3);\r\n               break;\r\n            case 7: //Cherry Jelly\r\n               prompt.print(RecipeNamesCh[1]);\r\n               setCherries(getCherries()-2);\r\n               break;\r\n            case 8: //Cherry Pie\r\n               prompt.print(RecipeNamesCh[2]);\r\n               setCherries(getCherries()-2);\r\n               setFlour(getFlour()-3);\r\n               setSugar(getSugar()-2);\r\n               break;\r\n            case 9: //Cherry Tart\r\n               prompt.print(RecipeNamesCh[3]);\r\n               setCherries(getCherries()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n            \r\n            case 10: //Carrot juice \r\n               prompt.print(RecipeNamesCa[0]);\r\n               setCarrots(getCarrots()-2);\r\n               break;\r\n            case 11: //Carrot cake\r\n               prompt.print(RecipeNamesCa[1]);\r\n               setCarrots(getCarrots()-1);\r\n               setFlour(getFlour()-1);\r\n               setSugar(getSugar()-1);\r\n               break;\r\n         \r\n            case 12: //Carrot potage\r\n               prompt.print((RecipeNamesCa[2]));\r\n               setCarrots(getCarrots()-2);\r\n               setFlour(getFlour()-1); \r\n               break;\r\n            \r\n            default:\r\n               prompt.print(&quot;Invalid entry.&quot;);\r\n         }//End recipeNum switch\r\n        \r\n         prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n         CookAgain(prompt); //cook again? prompt\r\n      } //end WantToCook method\r\n   \r\n      public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n      \r\n        //Asks user for ingredients on-hand\r\n         prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\r\n      \r\n         setApples(prompt.askForNumber(ingredientsNames[0]));\r\n      \r\n         setCherries(prompt.askForNumber(ingredientsNames[1]));\r\n      \r\n         setCarrots(prompt.askForNumber(ingredientsNames[2]));\r\n      \r\n         setFlour(prompt.askForNumber(ingredientsNames[3]));\r\n      \r\n         setSugar(prompt.askForNumber(ingredientsNames[4]));\r\n      }//end user ingredient input\r\n   \r\n   }\r\n\r\n```\r\n\r\nNow, if you try compiling at this point, you will see a scary list of errors. That is because we have not finished making our changes, so it is not yet a reason to be concerned.\r\n\r\nNow, actually looking at the errors, the first one we will see is for the main method.\r\n\r\n```\r\nRound1.java:13: error: cannot find symbol\r\n      first.input(prompt);\r\n           ^\r\n  symbol:   method input(UserPrompt)\r\n  location: variable first of type ShowRecipes\r\n```\r\n\r\nIt&#39;s complaining that it can&#39;t find the method `input()` inside of `ShowRecipes()`. Well, that is because we just took that method out and placed it into the `Driver` class. So, we just need to update the main method to call `input()` on the `driver` instance of the `Driver` class.\r\n\r\n```java\r\n//replace the whole method\r\n   public static void main (String [] args){\r\n      final ShowRecipes first = new ShowRecipes();\r\n      System.out.println(&quot;FIRST&quot;);\r\n      \r\n      final UserPrompt prompt = new UserPrompt();\r\n      \r\n      final Driver driver = new Driver();\r\n      driver.input(prompt);\r\n      first.compareRecipe(prompt);\r\n      first.WantToCook(prompt);\r\n   \r\n      driver.selection(prompt);\r\n        \r\n   }\r\n```\r\n\r\nOk, that should have removed that one error. We will see a very similar one for the `WantToCook()` method. We can do the same, resulting in the method below.\r\n\r\n```java\r\n   public static void main (String [] args){\r\n      final ShowRecipes first = new ShowRecipes();\r\n      System.out.println(&quot;FIRST&quot;);\r\n      \r\n      final UserPrompt prompt = new UserPrompt();\r\n      \r\n      final Driver driver = new Driver();\r\n      driver.input(prompt);\r\n      first.compareRecipe(prompt);\r\n      driver.WantToCook(prompt);\r\n   \r\n      driver.selection(prompt);\r\n        \r\n   }\r\n```\r\n\r\nNow, there should be no more errors in our main method. Of course, there are still plenty to work through. Let&#39;s look at the next error.\r\n\r\n```\r\nRound1.java:67: error: cannot find symbol\r\n               IngredientCount(prompt);\r\n               ^\r\n  symbol:   method IngredientCount(UserPrompt)\r\n  location: class Driver\r\n```\r\n\r\nThis error says that it can&#39;t find the `IngredientCount()` method inside of `Driver`. That is because the `IngredientCount()` method is in `ShowRecipes`. And spoiler alert - there&#39;s going to be more errors saying almost the exact same thing, but for methods with different names. So, to make our lives easier, let&#39;s tackle all of these errors at once. To do this, we are going to plug in our instance of `ShowRecipes` into the `Driver` class using a constructor. Again, this ties back to what @MadProgrammer was saying earlier, but this time, it is going to be done through a constructor instead of a method.\r\n\r\nFirst let&#39;s modify the `Driver` class to include a new constructor and an instance field of `ShowRecipes`.\r\n\r\n```java\r\n   public class Driver\r\n   {\r\n   \r\n      ShowRecipes sr;\r\n      \r\n      public Driver(ShowRecipes parameter)\r\n      {\r\n      \r\n         sr = parameter;\r\n      \r\n      }\r\n\r\n   //ignore all the lines after this\r\n   }\r\n```\r\n\r\nBy doing this, we have added a small amount of state to the `Driver` class. Now, this might seem counter productive - didn&#39;t we create the `Driver` class because it wasn&#39;t supposed to make decisions and handle state? Well, yes, but there is a big difference this time. All of the state changes are going to be handled by the new `ShowRecipes` that we added inside of `Driver`. So `Driver` won&#39;t actually be doing any of the state changes itself, it will simply have whatever state it needs to know about be plugged in, then the `Driver` class can tell it to manipulate itself. Again, the keywords here a plug-in and delegate.\r\n\r\nNow, the first error that comes up when we compile is back in the main method. This is easy to fix, just change it to be like this.\r\n\r\n```java\r\n   public static void main (String [] args){\r\n      //ignore the lines before this one\r\n      final Driver driver = new Driver(first);\r\n      //ignore the lines after this one\r\n   }\r\n```\r\n\r\nOnce we do this, then `driver` has `first` plugged into it, allowing `Driver` to delegate all state changes to `ShowRecipes`. Now, let&#39;s start reworking some of the methods in `Driver` to use it.\r\n\r\nFor example, in the `selection()` method earlier, it couldn&#39;t find `IngredientCount()` and `compareRecipe()`. But now that we have plugged in `ShowRecipes`, let&#39;s change `selection()` to use `ShowRecipes` for those methods.\r\n\r\n```java\r\n      public void selection(UserPrompt prompt){\r\n            //ignore the lines before this one\r\n            case 2: \r\n               sr.IngredientCount(prompt);\r\n               break;\r\n            case 3: \r\n               sr.compareRecipe(prompt);\r\n               break;\r\n            //ignore the lines after this one\r\n      }\r\n```\r\n\r\n\r\n\r\n***RAN OUT OF CHARACTERS, SO CONTINUED IN PART 3***\r\n","title":"Is there a way I can break up into more than 2 classes","body":"<h2>PART 2</h2>\n<p>Ok, I have now replaced all <code>System.out.println()</code> in your program to use the <code>print()</code> method from <code>UserPrompt</code>. Here it is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic interface Round1\n{\n\n\n   public static void main (String [] args){\n      final ShowRecipes first = new ShowRecipes();\n      System.out.println(&quot;FIRST&quot;);\n      \n      final UserPrompt prompt = new UserPrompt();\n      \n      first.input(prompt);\n      first.compareRecipe(prompt);\n      first.WantToCook(prompt);\n        \n      first.Selection(prompt);\n        \n   }\n      \n   public class UserPrompt\n   {\n   \n      final Scanner kbd = new Scanner(System.in);\n   \n      public int askForNumber(String prompt)\n      {\n      \n         //Print your prompt to the command line -- I added a little extra at the end for simple reading\n         System.out.print(prompt + &quot; - &quot;);\n         \n         return kbd.nextInt();\n         \n      }\n      \n      public void print(String message)\n      {\n      \n         System.out.println(message);\n      \n      }\n   \n   }\n\n//object class\n   public class ShowRecipes {\n   \n    \n      Scanner kbd = new Scanner(System.in);\n   \n    //ingredient names array\n      public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\n   \n    //ingredients array - setters will set\n      public int[] ingredients = new int[5];\n   \n    //Basic constructor\n      public ShowRecipes() {\n         ingredients[0] = 1; //apple\n         ingredients[1] = 1; //cherry\n         ingredients[2] = 1;//carrot\n         ingredients[3] = 0;//flour\n         ingredients[4] = 0;//sugar\n      }\n   \n    //overloaded constructor that covers each field\n      public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar) {\n         System.out.println(&quot;overloaded&quot;);\n         setApples(apples);\n         setCherries(cherries);\n         setCarrots(carrots);\n         setFlour(flour);\n         setSugar(sugar);\n      }\n   \n      public void input(UserPrompt prompt) { // user inputs ingredient counts\n      \n        //Asks user for ingredients on-hand\n         prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\n      \n         setApples(prompt.askForNumber(ingredientsNames[0]));\n      \n         setCherries(prompt.askForNumber(ingredientsNames[1]));\n      \n         setCarrots(prompt.askForNumber(ingredientsNames[2]));\n      \n         setFlour(prompt.askForNumber(ingredientsNames[3]));\n      \n         setSugar(prompt.askForNumber(ingredientsNames[4]));\n      }//end user ingredient input\n   \n      public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\n         prompt.print(&quot;According to your input, you have:&quot;);\n      \n         prompt.print(&quot;Ingredient\\tValue&quot;);\n         for(int counter=0;counter&lt;ingredients.length;counter++) {\n            prompt.print(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\n         }//end for loop\n      }//end ingredient listing\n    \n    \n      public void Selection(UserPrompt prompt){ //Can access every method in class except CookAgain\n        \n        //1. Cook something -- WantToCook()\n        //2. See ingredient list -- IngredientCount()\n        //3. See available recipes -- compareRecipe()\n        //4. Modify total ingredient amounts -- input()\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\n        \n         int userChoice = \n            prompt.askForNumber(\n               &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\n            );\n        \n         switch (userChoice) {\n            case 1:\n               WantToCook(prompt);\n               break;\n            case 2: \n               IngredientCount(prompt);\n               break;\n            case 3: \n               compareRecipe(prompt);\n               break;\n            case 4:\n               input(prompt);\n               break;\n            default:\n               System.out.println(&quot;Invalid&quot;);\n               return;\n         }}\n    \n    //Setters - set from input()\n    //Apple setter\n      public void setApples(int apples){\n         ingredients[0] = apples;\n      }\n    //Cherry setter\n      public void setCherries(int cherries){\n         ingredients[1] = cherries;\n      }\n    //Carrot setter\n      public void setCarrots(int carrots){\n         ingredients[2]= carrots;\n      }\n    //Flour setter\n      public void setFlour(int flour){\n         ingredients[3] = flour;\n      }\n    //Sugar setter\n      public void setSugar(int sugar){\n         ingredients[4] = sugar;\n      }\n    \n    //Getters\n    //Apple getter\n      public int getApples(){\n         return ingredients[0];\n      }\n    //Cherry getter\n      public int getCherries(){\n         return ingredients[1];\n      }\n    //Carrot getter\n      public int getCarrots(){\n         return ingredients[2];\n      }\n    //Flour getter\n      public int getFlour(){\n         return ingredients[3];\n      }\n    //Sugar getter\n      public int getSugar(){\n         return ingredients[4];\n      }\n   \n      public void compareRecipe(UserPrompt prompt) {\n      \n         prompt.print(&quot;According to the input, you can make:&quot;);\n      \n        //Apples\n         if (ingredients[0] &gt;= 3) {\n            prompt.print(RecipeNamesA[0]); //Apple Jam\n         }\n         if (ingredients[0] &gt;= 2) {\n            prompt.print(RecipeNamesA[1]); //Apple Jelly\n            prompt.print(RecipeNamesA[2]); //Apple Smoothie\n         }\n      \n         if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\n            prompt.print(RecipeNamesA[3]); //Apple Tart\n         }\n      \n         if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\n            prompt.print(RecipeNamesA[4]); //Apple Pie\n         }\n         if (ingredients[0] == 0) {\n            prompt.print(&quot;No apple recipes&quot;);\n         }\n      \n        //Cherries\n         if (ingredients[1] &gt;= 3) {\n            prompt.print(RecipeNamesCh[0]); //Cherry Jam\n         }\n         if (ingredients[1] &gt;= 2) {\n            prompt.print(RecipeNamesCh[1]); //Cherry Jelly\n         }\n      \n         if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\n            prompt.print(RecipeNamesCh[2]); //Cherry Pie\n         }\n         if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\n            prompt.print(RecipeNamesCh[3]); //Cherry Tart\n         }\n         if (ingredients[1] == 0) {\n            prompt.print(&quot;No cherry recipes&quot;);\n         }\n      \n        //Carrots\n         if (ingredients[2] &gt;= 2) {\n            prompt.print(RecipeNamesCa[0]); //Carrot juice \n         }\n         if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\n            prompt.print(RecipeNamesCa[2]); //Carrot potage\n         }\n      \n         if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\n            prompt.print(RecipeNamesCa[1]); //Carrot cake\n         }   \n         if (ingredients[2] == 0) {\n            prompt.print(&quot;No carrot recipes&quot;);\n         }\n        \n      }\n   \n      private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\n      private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\n      private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\n   \n      public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n        \n         int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n         \n         switch(recipeNum) {\n         \n            case 1: //Apple jam\n               setApples(getApples()-3);\n               prompt.print(RecipeNamesA[0]);\n               break;\n            case 2: //Apple jelly\n               prompt.print(RecipeNamesA[1]);\n               setApples(getApples()-2);\n               break;\n            case 3://Apple Smoothie\n               prompt.print(RecipeNamesA[2]);\n               setApples(getApples()-2);\n               break;\n            case 4: //Apple Tart\n               prompt.print(RecipeNamesA[3]);\n               setApples(getApples()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n            case 5: //Apple Pie\n               prompt.print(RecipeNamesA[4]);\n               setApples(getApples()-2);\n               setFlour(getFlour()-3);\n               setSugar(getSugar()-2);\n               break;\n            case 6: //Cherry Jam\n               prompt.print(RecipeNamesCh[0]);\n               setCherries(getCherries()-3);\n               break;\n            case 7: //Cherry Jelly\n               prompt.print(RecipeNamesCh[1]);\n               setCherries(getCherries()-2);\n               break;\n            case 8: //Cherry Pie\n               prompt.print(RecipeNamesCh[2]);\n               setCherries(getCherries()-2);\n               setFlour(getFlour()-3);\n               setSugar(getSugar()-2);\n               break;\n            case 9: //Cherry Tart\n               prompt.print(RecipeNamesCh[3]);\n               setCherries(getCherries()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n            \n            case 10: //Carrot juice \n               prompt.print(RecipeNamesCa[0]);\n               setCarrots(getCarrots()-2);\n               break;\n            case 11: //Carrot cake\n               prompt.print(RecipeNamesCa[1]);\n               setCarrots(getCarrots()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n         \n            case 12: //Carrot potage\n               prompt.print((RecipeNamesCa[2]));\n               setCarrots(getCarrots()-2);\n               setFlour(getFlour()-1); \n               break;\n            \n            default:\n               prompt.print(&quot;Invalid entry.&quot;);\n         }//End recipeNum switch\n        \n         prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n         CookAgain(prompt); //cook again? prompt\n      } //end WantToCook method\n   \n      public void CookAgain(UserPrompt prompt) {   \n      \n         System.out.print(&quot;Would you like to cook again? Please type yes or no - &quot;);\n         String answer = kbd.next();\n      \n         switch (answer) {\n         \n            case &quot;yes&quot;:\n               if (ingredients[0] &gt;= 1 || ingredients[1] &gt;= 1 || ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\n                  prompt.print(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n                  IngredientCount(prompt);\n                  compareRecipe(prompt);\n                  WantToCook(prompt);\n                  break;\n               }\n               else {\n                  prompt.print(&quot;You don't have enough ingredients left to cook anything.&quot;);\n                  break;\n               }\n            case &quot;no&quot;:\n               prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\n               break;\n            default:\n               prompt.print(&quot;Invalid answer please try again!&quot;);\n         \n         }// End answer switch\n      \n         kbd.close(); // close scanner\n      }\n   }\n\n}\n</code></pre>\n<p>Now, what does this actually do for us? That was a lot of change, but what is the benefit?</p>\n<p>Well, for starters, we have removed all of the hardcoded print statements, and wrapped them all under a single method <code>print()</code>. Same for <code>askForNumber()</code>.</p>\n<p>Now, I could explain why that is powerful, or I could show it to you. Try running this new class above like normal. Then, completely replace the <code>UserPrompt</code> class above with this new own below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//this time, replace the whole UserPrompt class with what is here\n   public class UserPrompt\n   {\n   \n      //final Scanner kbd = new Scanner(System.in);\n   \n      public int askForNumber(String prompt)\n      {\n      \n         //System.out.print(prompt + &quot; - &quot;);\n         //\n         //return kbd.nextInt();\n         \n         String message = javax.swing.JOptionPane.showInputDialog(null, prompt + &quot; - &quot;);\n      \n         return Integer.parseInt(message);\n         \n      }\n      \n      public void print(String message)\n      {\n      \n         //System.out.println(message);\n         javax.swing.JOptionPane.showMessageDialog(null, message);\n      \n      }\n   \n   }\n</code></pre>\n<p>Now try running the class. You should see something very cool. Now, your application has windows and popups and buttons. It may not look very pretty, but hopefully this shows you how making your code <em><strong>loosely coupled</strong></em> instead of <em><strong>tightly coupled</strong></em> can allow some powerful abilities.</p>\n<p>Now, change back the <code>UserPrompt</code> to the boring command line version, and let's continue. Last we checked, we were looking at <code>IngredientCount</code> and decided to replace all of the print statements with the <code>print()</code> method in <code>UserPrompt</code>. So now, let's look at the next method, <code>Selection()</code>.</p>\n<ul>\n<li><code>Selection()</code> - Obviously, we have removed coupling with print and read, the prompt at the beginning of this method is considered a loose coupling. As for the rest of this method, it actually only does one simple thing - decides what to do based on what the user requests. On the one hand, this method does not need to be broken up at all. It is exactly as large as it needs to be and does only one thing on its own. On the other hand, this method seems like it should be in a different class based on the methods we've looked at previously. For example, in the <code>public ShowRecipes()</code> method, it would take in inputs and store them into state. That was purely data manipulation/changing state.</li>\n</ul>\n<p>Whereas for this method, we are using the input to make branching decisions. One could say that this sounds more like a Driver class or a BusinessLogic class. I will make a class called <code>Driver</code>, and put this method into there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public class Driver\n   {\n   \n      public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\n        \n        //1. Cook something -- WantToCook()\n        //2. See ingredient list -- IngredientCount()\n        //3. See available recipes -- compareRecipe()\n        //4. Modify total ingredient amounts -- input()\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\n        \n         int userChoice = \n            prompt.askForNumber(\n               &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\n            );\n        \n         switch (userChoice) {\n            case 1:\n               WantToCook(prompt);\n               break;\n            case 2: \n               IngredientCount(prompt);\n               break;\n            case 3: \n               compareRecipe(prompt);\n               break;\n            case 4:\n               input(prompt);\n               break;\n            default:\n               System.out.println(&quot;Invalid&quot;);\n               return;\n         }\n         \n      }\n       \n   }\n</code></pre>\n<p>Now, immediately, several things break. The class is now trying to find all these methods that belong to <code>ShowRecipes</code>, but can't find them because we are now in the <code>Driver</code> class. To make things simple, we are actually going to do something rather drastic - <strong>we are going to copy all of those methods over into the <code>Driver</code> class</strong>. And the reason we are doing this is because all of these methods actually have the same sort of style of <em>decide what to do based upon user input</em>. In fact, let's take a quick look at each.</p>\n<ol>\n<li><code>WantToCook()</code> - depending on what the user says, we manipulate state, then print to the screen our response. So this does 3 things - decides what to do, then manipulates state, then prints to the screen.</li>\n<li><code>IngredientCount()</code> - This one reads the state, then prints it out the state to the user. So this one does 2 things - reads state, then prints it out to the user.</li>\n<li><code>compareRecipe()</code> - This one reads the state, then prints it out to the user. So this does 2 things - reads state, then prints it out to the user.</li>\n<li><code>input()</code> - depending on what the user says, we populate state. So this does 2 things - decides what to do, then populates state.</li>\n</ol>\n<p>So, looking at these, we see 2 classes of methods - one that decides then does something, and another that reads then does something. So far, the Driver class definitely falls under the <em>decides then does something</em> mindset, and so does <code>selection()</code>, so we will bring <code>WantToCook()</code> and <code>input()</code> over to the <code>Driver</code> class as well.</p>\n<p>Now your <code>Driver</code> class should look like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   public class Driver\n   {\n   \n      public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\n        \n        //1. Cook something -- WantToCook()\n        //2. See ingredient list -- IngredientCount()\n        //3. See available recipes -- compareRecipe()\n        //4. Modify total ingredient amounts -- input()\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\n        \n         int userChoice = \n            prompt.askForNumber(\n               &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\n            );\n        \n         switch (userChoice) {\n            case 1:\n               WantToCook(prompt);\n               break;\n            case 2: \n               IngredientCount(prompt);\n               break;\n            case 3: \n               compareRecipe(prompt);\n               break;\n            case 4:\n               input(prompt);\n               break;\n            default:\n               System.out.println(&quot;Invalid&quot;);\n               return;\n         }\n         \n      }\n   \n      public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n        \n         int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n         \n         switch(recipeNum) {\n         \n            case 1: //Apple jam\n               setApples(getApples()-3);\n               prompt.print(RecipeNamesA[0]);\n               break;\n            case 2: //Apple jelly\n               prompt.print(RecipeNamesA[1]);\n               setApples(getApples()-2);\n               break;\n            case 3://Apple Smoothie\n               prompt.print(RecipeNamesA[2]);\n               setApples(getApples()-2);\n               break;\n            case 4: //Apple Tart\n               prompt.print(RecipeNamesA[3]);\n               setApples(getApples()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n            case 5: //Apple Pie\n               prompt.print(RecipeNamesA[4]);\n               setApples(getApples()-2);\n               setFlour(getFlour()-3);\n               setSugar(getSugar()-2);\n               break;\n            case 6: //Cherry Jam\n               prompt.print(RecipeNamesCh[0]);\n               setCherries(getCherries()-3);\n               break;\n            case 7: //Cherry Jelly\n               prompt.print(RecipeNamesCh[1]);\n               setCherries(getCherries()-2);\n               break;\n            case 8: //Cherry Pie\n               prompt.print(RecipeNamesCh[2]);\n               setCherries(getCherries()-2);\n               setFlour(getFlour()-3);\n               setSugar(getSugar()-2);\n               break;\n            case 9: //Cherry Tart\n               prompt.print(RecipeNamesCh[3]);\n               setCherries(getCherries()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n            \n            case 10: //Carrot juice \n               prompt.print(RecipeNamesCa[0]);\n               setCarrots(getCarrots()-2);\n               break;\n            case 11: //Carrot cake\n               prompt.print(RecipeNamesCa[1]);\n               setCarrots(getCarrots()-1);\n               setFlour(getFlour()-1);\n               setSugar(getSugar()-1);\n               break;\n         \n            case 12: //Carrot potage\n               prompt.print((RecipeNamesCa[2]));\n               setCarrots(getCarrots()-2);\n               setFlour(getFlour()-1); \n               break;\n            \n            default:\n               prompt.print(&quot;Invalid entry.&quot;);\n         }//End recipeNum switch\n        \n         prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n         CookAgain(prompt); //cook again? prompt\n      } //end WantToCook method\n   \n      public void input(UserPrompt prompt) { // user inputs ingredient counts\n      \n        //Asks user for ingredients on-hand\n         prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\n      \n         setApples(prompt.askForNumber(ingredientsNames[0]));\n      \n         setCherries(prompt.askForNumber(ingredientsNames[1]));\n      \n         setCarrots(prompt.askForNumber(ingredientsNames[2]));\n      \n         setFlour(prompt.askForNumber(ingredientsNames[3]));\n      \n         setSugar(prompt.askForNumber(ingredientsNames[4]));\n      }//end user ingredient input\n   \n   }\n\n</code></pre>\n<p>Now, if you try compiling at this point, you will see a scary list of errors. That is because we have not finished making our changes, so it is not yet a reason to be concerned.</p>\n<p>Now, actually looking at the errors, the first one we will see is for the main method.</p>\n<pre><code>Round1.java:13: error: cannot find symbol\n      first.input(prompt);\n           ^\n  symbol:   method input(UserPrompt)\n  location: variable first of type ShowRecipes\n</code></pre>\n<p>It's complaining that it can't find the method <code>input()</code> inside of <code>ShowRecipes()</code>. Well, that is because we just took that method out and placed it into the <code>Driver</code> class. So, we just need to update the main method to call <code>input()</code> on the <code>driver</code> instance of the <code>Driver</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//replace the whole method\n   public static void main (String [] args){\n      final ShowRecipes first = new ShowRecipes();\n      System.out.println(&quot;FIRST&quot;);\n      \n      final UserPrompt prompt = new UserPrompt();\n      \n      final Driver driver = new Driver();\n      driver.input(prompt);\n      first.compareRecipe(prompt);\n      first.WantToCook(prompt);\n   \n      driver.selection(prompt);\n        \n   }\n</code></pre>\n<p>Ok, that should have removed that one error. We will see a very similar one for the <code>WantToCook()</code> method. We can do the same, resulting in the method below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static void main (String [] args){\n      final ShowRecipes first = new ShowRecipes();\n      System.out.println(&quot;FIRST&quot;);\n      \n      final UserPrompt prompt = new UserPrompt();\n      \n      final Driver driver = new Driver();\n      driver.input(prompt);\n      first.compareRecipe(prompt);\n      driver.WantToCook(prompt);\n   \n      driver.selection(prompt);\n        \n   }\n</code></pre>\n<p>Now, there should be no more errors in our main method. Of course, there are still plenty to work through. Let's look at the next error.</p>\n<pre><code>Round1.java:67: error: cannot find symbol\n               IngredientCount(prompt);\n               ^\n  symbol:   method IngredientCount(UserPrompt)\n  location: class Driver\n</code></pre>\n<p>This error says that it can't find the <code>IngredientCount()</code> method inside of <code>Driver</code>. That is because the <code>IngredientCount()</code> method is in <code>ShowRecipes</code>. And spoiler alert - there's going to be more errors saying almost the exact same thing, but for methods with different names. So, to make our lives easier, let's tackle all of these errors at once. To do this, we are going to plug in our instance of <code>ShowRecipes</code> into the <code>Driver</code> class using a constructor. Again, this ties back to what @MadProgrammer was saying earlier, but this time, it is going to be done through a constructor instead of a method.</p>\n<p>First let's modify the <code>Driver</code> class to include a new constructor and an instance field of <code>ShowRecipes</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public class Driver\n   {\n   \n      ShowRecipes sr;\n      \n      public Driver(ShowRecipes parameter)\n      {\n      \n         sr = parameter;\n      \n      }\n\n   //ignore all the lines after this\n   }\n</code></pre>\n<p>By doing this, we have added a small amount of state to the <code>Driver</code> class. Now, this might seem counter productive - didn't we create the <code>Driver</code> class because it wasn't supposed to make decisions and handle state? Well, yes, but there is a big difference this time. All of the state changes are going to be handled by the new <code>ShowRecipes</code> that we added inside of <code>Driver</code>. So <code>Driver</code> won't actually be doing any of the state changes itself, it will simply have whatever state it needs to know about be plugged in, then the <code>Driver</code> class can tell it to manipulate itself. Again, the keywords here a plug-in and delegate.</p>\n<p>Now, the first error that comes up when we compile is back in the main method. This is easy to fix, just change it to be like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static void main (String [] args){\n      //ignore the lines before this one\n      final Driver driver = new Driver(first);\n      //ignore the lines after this one\n   }\n</code></pre>\n<p>Once we do this, then <code>driver</code> has <code>first</code> plugged into it, allowing <code>Driver</code> to delegate all state changes to <code>ShowRecipes</code>. Now, let's start reworking some of the methods in <code>Driver</code> to use it.</p>\n<p>For example, in the <code>selection()</code> method earlier, it couldn't find <code>IngredientCount()</code> and <code>compareRecipe()</code>. But now that we have plugged in <code>ShowRecipes</code>, let's change <code>selection()</code> to use <code>ShowRecipes</code> for those methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public void selection(UserPrompt prompt){\n            //ignore the lines before this one\n            case 2: \n               sr.IngredientCount(prompt);\n               break;\n            case 3: \n               sr.compareRecipe(prompt);\n               break;\n            //ignore the lines after this one\n      }\n</code></pre>\n<p><em><strong>RAN OUT OF CHARACTERS, SO CONTINUED IN PART 3</strong></em></p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651858395,"creation_date":1651858395,"answer_id":72145404,"question_id":72134123,"body_markdown":"## PART 3 ##\r\n\r\nNo more errors in `selection()`. Now, the next method with errors is `WantToCook()`. Let&#39;s do the same there. Any method that currently belongs to `ShowRecipes`, we will put an `sr` in front of it, in order to delegate that method to the `ShowRecipes` instance that the `Driver` class has inside of it.\r\n\r\n```java\r\n      public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n        \r\n         int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n         \r\n         switch(recipeNum) {\r\n         \r\n            case 1: //Apple jam\r\n               sr.setApples(sr.getApples()-3);\r\n               prompt.print(sr.RecipeNamesA[0]);\r\n               break;\r\n            case 2: //Apple jelly\r\n               prompt.print(sr.RecipeNamesA[1]);\r\n               sr.setApples(sr.getApples()-2);\r\n               break;\r\n            case 3://Apple Smoothie\r\n               prompt.print(sr.RecipeNamesA[2]);\r\n               sr.setApples(sr.getApples()-2);\r\n               break;\r\n            case 4: //Apple Tart\r\n               prompt.print(sr.RecipeNamesA[3]);\r\n               sr.setApples(sr.getApples()-1);\r\n               sr.setFlour(sr.getFlour()-1);\r\n               sr.setSugar(sr.getSugar()-1);\r\n               break;\r\n            case 5: //Apple Pie\r\n               prompt.print(sr.RecipeNamesA[4]);\r\n               sr.setApples(sr.getApples()-2);\r\n               sr.setFlour(sr.getFlour()-3);\r\n               sr.setSugar(sr.getSugar()-2);\r\n               break;\r\n            case 6: //Cherry Jam\r\n               prompt.print(sr.RecipeNamesCh[0]);\r\n               sr.setCherries(sr.getCherries()-3);\r\n               break;\r\n            case 7: //Cherry Jelly\r\n               prompt.print(sr.RecipeNamesCh[1]);\r\n               sr.setCherries(sr.getCherries()-2);\r\n               break;\r\n            case 8: //Cherry Pie\r\n               prompt.print(sr.RecipeNamesCh[2]);\r\n               sr.setCherries(sr.getCherries()-2);\r\n               sr.setFlour(sr.getFlour()-3);\r\n               sr.setSugar(sr.getSugar()-2);\r\n               break;\r\n            case 9: //Cherry Tart\r\n               prompt.print(sr.RecipeNamesCh[3]);\r\n               sr.setCherries(sr.getCherries()-1);\r\n               sr.setFlour(sr.getFlour()-1);\r\n               sr.setSugar(sr.getSugar()-1);\r\n               break;\r\n            \r\n            case 10: //Carrot juice \r\n               prompt.print(sr.RecipeNamesCa[0]);\r\n               sr.setCarrots(sr.getCarrots()-2);\r\n               break;\r\n            case 11: //Carrot cake\r\n               prompt.print(sr.RecipeNamesCa[1]);\r\n               sr.setCarrots(sr.getCarrots()-1);\r\n               sr.setFlour(sr.getFlour()-1);\r\n               sr.setSugar(sr.getSugar()-1);\r\n               break;\r\n         \r\n            case 12: //Carrot potage\r\n               prompt.print((sr.RecipeNamesCa[2]));\r\n               sr.setCarrots(sr.getCarrots()-2);\r\n               sr.setFlour(sr.getFlour()-1); \r\n               break;\r\n            \r\n            default:\r\n               prompt.print(&quot;Invalid entry.&quot;);\r\n         }//End recipeNum switch\r\n        \r\n         prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n         sr.CookAgain(prompt); //cook again? prompt\r\n      } //end WantToCook method\r\n```\r\n\r\nPretty long winded, but this eliminates all the errors in the `WantToCook()` method.\r\n\r\nNow the next error is in `input()`. It is the exact same type of problem, and thus, we solve it the same way.\r\n\r\n```java\r\n      public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n      \r\n        //Asks user for ingredients on-hand\r\n         prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\r\n      \r\n         sr.setApples(prompt.askForNumber(sr.ingredientsNames[0]));\r\n      \r\n         sr.setCherries(prompt.askForNumber(sr.ingredientsNames[1]));\r\n      \r\n         sr.setCarrots(prompt.askForNumber(sr.ingredientsNames[2]));\r\n      \r\n         sr.setFlour(prompt.askForNumber(sr.ingredientsNames[3]));\r\n      \r\n         sr.setSugar(prompt.askForNumber(sr.ingredientsNames[4]));\r\n      }//end user ingredient input\r\n```\r\n\r\nAnd now, all the errors in `Driver` are gone. But if we compile, now we have some errors in `ShowRecipes`.\r\n\r\n```\r\nRound1.java:345: error: cannot find symbol\r\n                  WantToCook(prompt);\r\n                  ^\r\n  symbol:   method WantToCook(UserPrompt)\r\n  location: class ShowRecipes\r\n```\r\n\r\nThis error is saying that it cannot find `WantToCook()` inside of the `ShowRecipes` method called `CookAgain()`.\r\n\r\nNow, `WantToCook()` exists in `Driver`. We just moved it there because we felt that it was handling a `Driver`-like, decision-making problem rather than the other methods in `ShowRecipes`. However, because of that, `ShowRecipes` is broken because it can&#39;t find it.\r\n\r\nYou might be tempted to reference `Driver` inside of `ShowRecipes`, which is the vice versa of what we just did - putting `ShowRecipes` inside of `Driver`. However, that would not be the correct move here. And the reason why is because `CookAgain()` is actually a decision-making method too. We didn&#39;t move it before only because we hadn&#39;t gotten that far yet. But now that we are here, this method needs to go over to `Driver` because it is a decision-making based method.\r\n\r\nI just cut and pasted the method with no change into `Driver`. However, once we do that, we actually need to undo a tiny bit of work that we did before in the `WantToCook()`. Here is the change.\r\n\r\n```java\r\n      public void WantToCook(UserPrompt prompt) {\r\n         //ignore the lines before this one\r\n         CookAgain(prompt); //cook again? prompt\r\n      } //end WantToCook method\r\n```\r\n\r\nNow that we have moved `CookAgain` into `Driver`, that means it no longer belongs to `ShowRecipes`, and by extension, `sr`. So, we removed the `sr` from this line only.\r\n\r\nNow that that is done, we have one more error in the `Driver` code. Basically, it looks like there is one point in your program where, instead of asking for a number, you asked for a yes or no. For right now, just to get things working, I am going to change it to use numbers. We can change that later after things are all cleaned up.\r\n\r\n```java\r\n      public void CookAgain(UserPrompt prompt) {   \r\n      \r\n         int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\r\n      \r\n         switch (answer) {\r\n         \r\n            case 1: //which means yes\r\n               if (ingredients[0] &gt;= 1 || ingredients[1] &gt;= 1 || ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\r\n                  prompt.print(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n                  IngredientCount(prompt);\r\n                  compareRecipe(prompt);\r\n                  WantToCook(prompt);\r\n                  break;\r\n               }\r\n               else {\r\n                  prompt.print(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n                  break;\r\n               }\r\n            case 2: //which means no\r\n               prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\r\n               break;\r\n            default:\r\n               prompt.print(&quot;Invalid answer please try again!&quot;);\r\n         \r\n         }// End answer switch\r\n      \r\n      }\r\n```\r\n\r\nNow that that is done, we can go back to what we were doing before - delegating methods to `sr` that belong to `sr`. Here are those changes.\r\n\r\n```java\r\n      public void CookAgain(UserPrompt prompt) {   \r\n      \r\n         int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\r\n      \r\n         switch (answer) {\r\n         \r\n            case 1: //which means yes\r\n               if (sr.ingredients[0] &gt;= 1 || sr.ingredients[1] &gt;= 1 || sr.ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\r\n                  prompt.print(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n                  sr.IngredientCount(prompt);\r\n                  sr.compareRecipe(prompt);\r\n                  WantToCook(prompt);\r\n                  break;\r\n               }\r\n               else {\r\n                  prompt.print(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n                  break;\r\n               }\r\n            case 2: //which means no\r\n               prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\r\n               break;\r\n            default:\r\n               prompt.print(&quot;Invalid answer please try again!&quot;);\r\n         \r\n         }// End answer switch\r\n      \r\n      }\r\n```\r\n\r\nAnd finally, ***no more errors***. You can run your program again.\r\n\r\nIf you lost track of things, here are the changes made thus far.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic interface Round1\r\n{\r\n\r\n\r\n   public static void main (String [] args){\r\n      final ShowRecipes first = new ShowRecipes();\r\n      System.out.println(&quot;FIRST&quot;);\r\n      \r\n      final UserPrompt prompt = new UserPrompt();\r\n      \r\n      final Driver driver = new Driver(first);\r\n      driver.input(prompt);\r\n      first.compareRecipe(prompt);\r\n      driver.WantToCook(prompt);\r\n   \r\n      driver.selection(prompt);\r\n        \r\n   }\r\n      \r\n   public class UserPrompt\r\n   {\r\n   \r\n      final Scanner kbd = new Scanner(System.in);\r\n   \r\n      public int askForNumber(String prompt)\r\n      {\r\n      \r\n         //Print your prompt to the command line -- I added a little extra at the end for simple reading\r\n         System.out.print(prompt + &quot; - &quot;);\r\n         \r\n         return kbd.nextInt();\r\n         \r\n      }\r\n      \r\n      public void print(String message)\r\n      {\r\n      \r\n         System.out.println(message);\r\n      \r\n      }\r\n   \r\n   }\r\n   \r\n   public class Driver\r\n   {\r\n   \r\n      ShowRecipes sr;\r\n      \r\n      public Driver(ShowRecipes parameter)\r\n      {\r\n      \r\n         sr = parameter;\r\n      \r\n      }\r\n   \r\n      public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\r\n        \r\n        //1. Cook something -- WantToCook()\r\n        //2. See ingredient list -- IngredientCount()\r\n        //3. See available recipes -- compareRecipe()\r\n        //4. Modify total ingredient amounts -- input()\r\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\r\n        \r\n         int userChoice = \r\n            prompt.askForNumber(\r\n               &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\r\n            );\r\n        \r\n         switch (userChoice) {\r\n            case 1:\r\n               WantToCook(prompt);\r\n               break;\r\n            case 2: \r\n               sr.IngredientCount(prompt);\r\n               break;\r\n            case 3: \r\n               sr.compareRecipe(prompt);\r\n               break;\r\n            case 4:\r\n               input(prompt);\r\n               break;\r\n            default:\r\n               System.out.println(&quot;Invalid&quot;);\r\n               return;\r\n         }\r\n         \r\n      }\r\n   \r\n      public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n        \r\n         int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n         \r\n         switch(recipeNum) {\r\n         \r\n            case 1: //Apple jam\r\n               sr.setApples(sr.getApples()-3);\r\n               prompt.print(sr.RecipeNamesA[0]);\r\n               break;\r\n            case 2: //Apple jelly\r\n               prompt.print(sr.RecipeNamesA[1]);\r\n               sr.setApples(sr.getApples()-2);\r\n               break;\r\n            case 3://Apple Smoothie\r\n               prompt.print(sr.RecipeNamesA[2]);\r\n               sr.setApples(sr.getApples()-2);\r\n               break;\r\n            case 4: //Apple Tart\r\n               prompt.print(sr.RecipeNamesA[3]);\r\n               sr.setApples(sr.getApples()-1);\r\n               sr.setFlour(sr.getFlour()-1);\r\n               sr.setSugar(sr.getSugar()-1);\r\n               break;\r\n            case 5: //Apple Pie\r\n               prompt.print(sr.RecipeNamesA[4]);\r\n               sr.setApples(sr.getApples()-2);\r\n               sr.setFlour(sr.getFlour()-3);\r\n               sr.setSugar(sr.getSugar()-2);\r\n               break;\r\n            case 6: //Cherry Jam\r\n               prompt.print(sr.RecipeNamesCh[0]);\r\n               sr.setCherries(sr.getCherries()-3);\r\n               break;\r\n            case 7: //Cherry Jelly\r\n               prompt.print(sr.RecipeNamesCh[1]);\r\n               sr.setCherries(sr.getCherries()-2);\r\n               break;\r\n            case 8: //Cherry Pie\r\n               prompt.print(sr.RecipeNamesCh[2]);\r\n               sr.setCherries(sr.getCherries()-2);\r\n               sr.setFlour(sr.getFlour()-3);\r\n               sr.setSugar(sr.getSugar()-2);\r\n               break;\r\n            case 9: //Cherry Tart\r\n               prompt.print(sr.RecipeNamesCh[3]);\r\n               sr.setCherries(sr.getCherries()-1);\r\n               sr.setFlour(sr.getFlour()-1);\r\n               sr.setSugar(sr.getSugar()-1);\r\n               break;\r\n            \r\n            case 10: //Carrot juice \r\n               prompt.print(sr.RecipeNamesCa[0]);\r\n               sr.setCarrots(sr.getCarrots()-2);\r\n               break;\r\n            case 11: //Carrot cake\r\n               prompt.print(sr.RecipeNamesCa[1]);\r\n               sr.setCarrots(sr.getCarrots()-1);\r\n               sr.setFlour(sr.getFlour()-1);\r\n               sr.setSugar(sr.getSugar()-1);\r\n               break;\r\n         \r\n            case 12: //Carrot potage\r\n               prompt.print((sr.RecipeNamesCa[2]));\r\n               sr.setCarrots(sr.getCarrots()-2);\r\n               sr.setFlour(sr.getFlour()-1); \r\n               break;\r\n            \r\n            default:\r\n               prompt.print(&quot;Invalid entry.&quot;);\r\n         }//End recipeNum switch\r\n        \r\n         prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n         CookAgain(prompt); //cook again? prompt\r\n      } //end WantToCook method\r\n   \r\n      public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n      \r\n        //Asks user for ingredients on-hand\r\n         prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\r\n      \r\n         sr.setApples(prompt.askForNumber(sr.ingredientsNames[0]));\r\n      \r\n         sr.setCherries(prompt.askForNumber(sr.ingredientsNames[1]));\r\n      \r\n         sr.setCarrots(prompt.askForNumber(sr.ingredientsNames[2]));\r\n      \r\n         sr.setFlour(prompt.askForNumber(sr.ingredientsNames[3]));\r\n      \r\n         sr.setSugar(prompt.askForNumber(sr.ingredientsNames[4]));\r\n      }//end user ingredient input\r\n   \r\n      public void CookAgain(UserPrompt prompt) {   \r\n      \r\n         int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\r\n      \r\n         switch (answer) {\r\n         \r\n            case 1: //which means yes\r\n               if (sr.ingredients[0] &gt;= 1 || sr.ingredients[1] &gt;= 1 || sr.ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\r\n                  prompt.print(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n                  sr.IngredientCount(prompt);\r\n                  sr.compareRecipe(prompt);\r\n                  WantToCook(prompt);\r\n                  break;\r\n               }\r\n               else {\r\n                  prompt.print(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n                  break;\r\n               }\r\n            case 2: //which means no\r\n               prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\r\n               break;\r\n            default:\r\n               prompt.print(&quot;Invalid answer please try again!&quot;);\r\n         \r\n         }// End answer switch\r\n      \r\n      }\r\n      \r\n   }\r\n\r\n//object class\r\n   public class ShowRecipes {\r\n   \r\n    \r\n      Scanner kbd = new Scanner(System.in);\r\n   \r\n    //ingredient names array\r\n      public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\r\n   \r\n    //ingredients array - setters will set\r\n      public int[] ingredients = new int[5];\r\n   \r\n    //Basic constructor\r\n      public ShowRecipes() {\r\n         ingredients[0] = 1; //apple\r\n         ingredients[1] = 1; //cherry\r\n         ingredients[2] = 1;//carrot\r\n         ingredients[3] = 0;//flour\r\n         ingredients[4] = 0;//sugar\r\n      }\r\n   \r\n    //overloaded constructor that covers each field\r\n      public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar) {\r\n         System.out.println(&quot;overloaded&quot;);\r\n         setApples(apples);\r\n         setCherries(cherries);\r\n         setCarrots(carrots);\r\n         setFlour(flour);\r\n         setSugar(sugar);\r\n      }\r\n   \r\n      public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\r\n         prompt.print(&quot;According to your input, you have:&quot;);\r\n      \r\n         prompt.print(&quot;Ingredient\\tValue&quot;);\r\n         for(int counter=0;counter&lt;ingredients.length;counter++) {\r\n            prompt.print(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\r\n         }//end for loop\r\n      }//end ingredient listing\r\n    \r\n    \r\n    //Setters - set from input()\r\n    //Apple setter\r\n      public void setApples(int apples){\r\n         ingredients[0] = apples;\r\n      }\r\n    //Cherry setter\r\n      public void setCherries(int cherries){\r\n         ingredients[1] = cherries;\r\n      }\r\n    //Carrot setter\r\n      public void setCarrots(int carrots){\r\n         ingredients[2]= carrots;\r\n      }\r\n    //Flour setter\r\n      public void setFlour(int flour){\r\n         ingredients[3] = flour;\r\n      }\r\n    //Sugar setter\r\n      public void setSugar(int sugar){\r\n         ingredients[4] = sugar;\r\n      }\r\n    \r\n    //Getters\r\n    //Apple getter\r\n      public int getApples(){\r\n         return ingredients[0];\r\n      }\r\n    //Cherry getter\r\n      public int getCherries(){\r\n         return ingredients[1];\r\n      }\r\n    //Carrot getter\r\n      public int getCarrots(){\r\n         return ingredients[2];\r\n      }\r\n    //Flour getter\r\n      public int getFlour(){\r\n         return ingredients[3];\r\n      }\r\n    //Sugar getter\r\n      public int getSugar(){\r\n         return ingredients[4];\r\n      }\r\n   \r\n      public void compareRecipe(UserPrompt prompt) {\r\n      \r\n         prompt.print(&quot;According to the input, you can make:&quot;);\r\n      \r\n        //Apples\r\n         if (ingredients[0] &gt;= 3) {\r\n            prompt.print(RecipeNamesA[0]); //Apple Jam\r\n         }\r\n         if (ingredients[0] &gt;= 2) {\r\n            prompt.print(RecipeNamesA[1]); //Apple Jelly\r\n            prompt.print(RecipeNamesA[2]); //Apple Smoothie\r\n         }\r\n      \r\n         if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\r\n            prompt.print(RecipeNamesA[3]); //Apple Tart\r\n         }\r\n      \r\n         if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\r\n            prompt.print(RecipeNamesA[4]); //Apple Pie\r\n         }\r\n         if (ingredients[0] == 0) {\r\n            prompt.print(&quot;No apple recipes&quot;);\r\n         }\r\n      \r\n        //Cherries\r\n         if (ingredients[1] &gt;= 3) {\r\n            prompt.print(RecipeNamesCh[0]); //Cherry Jam\r\n         }\r\n         if (ingredients[1] &gt;= 2) {\r\n            prompt.print(RecipeNamesCh[1]); //Cherry Jelly\r\n         }\r\n      \r\n         if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\r\n            prompt.print(RecipeNamesCh[2]); //Cherry Pie\r\n         }\r\n         if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\r\n            prompt.print(RecipeNamesCh[3]); //Cherry Tart\r\n         }\r\n         if (ingredients[1] == 0) {\r\n            prompt.print(&quot;No cherry recipes&quot;);\r\n         }\r\n      \r\n        //Carrots\r\n         if (ingredients[2] &gt;= 2) {\r\n            prompt.print(RecipeNamesCa[0]); //Carrot juice \r\n         }\r\n         if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\r\n            prompt.print(RecipeNamesCa[2]); //Carrot potage\r\n         }\r\n      \r\n         if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\r\n            prompt.print(RecipeNamesCa[1]); //Carrot cake\r\n         }   \r\n         if (ingredients[2] == 0) {\r\n            prompt.print(&quot;No carrot recipes&quot;);\r\n         }\r\n        \r\n      }\r\n   \r\n      private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\r\n      private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\r\n      private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nYou can copy and paste the above and run it, and you should see that the program runs.\r\n\r\nNow that that is done, let&#39;s finalize cleaning up the tight coupling (as best as we can), then we can move onto the remaining 3 points (global state, complex methods, and enums).\r\n\r\nSo far, we have taken care of the following methods.\r\n- `ShowRecipes()`\r\n- `input()`\r\n- `IngredientCount()`\r\n- `selection()`\r\n\r\nNow, I know we addressed other methods, but we only moved them around, and made the modifications necessary to work. We didn&#39;t actually focus on making them loosely coupled, so let&#39;s continue with our list.\r\n\r\nNow, the next bunch of methods are very similar, so I will handle them as a whole. These next batch of methods are your setters and getters. Now, these methods do literally nothing more than manipulate state, so the methods themselves aren&#39;t wrong. That said, seeing these methods lends us to one interesting observation - in some points of your code, you use getters and setters to read/modify state, but in other parts of your code, you just modify the instance fields directly.\r\n\r\nThe act of modifying instance fields directly is a great example of tight-coupling. What happens if you decide to one day use a `List&lt;T&gt;` instead of an `int[]` to hold your ingredients? Well, any method that uses setters and getters will be fine, since you can just update the setters and getters alone. But, the code that directly manipulates state will be in trouble, because now they all have to change to handle a `List&lt;T&gt;` instead of an `int[]`.\r\n\r\nNow, to keep ourselves honest, I am actually going to put all of these classes into separate files from now on. As you might have noticed, I have wrapped all of this into a giant interface called `Round1`. This helps keep things together in one bundle, but it also allows us to cheat and just edit anything contained within the interface, even private variables.\r\n\r\nSo, I will put the `Driver` class into a `Driver.java` file, `ShowRecipes` class into `ShowRecipes.java`, and then the `UserPrompt` class into `UserPrompt.java`. And to keep things even simpler, I will add the main method inside of the `Driver` class. Also, to prevent errors or file naming problems, I will rename `ShowRecipes` to be `ShowRecipesNew`. I have updated all of the code to reflect this change.\r\n\r\nYour code base should now look like this.\r\n\r\n### Driver.java ###\r\n```java\r\npublic class Driver\r\n{\r\n\r\n   ShowRecipesNew sr;\r\n   \r\n   public Driver(ShowRecipesNew parameter)\r\n   {\r\n   \r\n      sr = parameter;\r\n   \r\n   }\r\n\r\n   public static void main (String [] args){\r\n      final ShowRecipesNew first = new ShowRecipesNew();\r\n      System.out.println(&quot;FIRST&quot;);\r\n      \r\n      final UserPrompt prompt = new UserPrompt();\r\n      \r\n      final Driver driver = new Driver(first);\r\n      driver.input(prompt);\r\n      first.compareRecipe(prompt);\r\n      driver.WantToCook(prompt);\r\n   \r\n      driver.selection(prompt);\r\n        \r\n   }\r\n      \r\n   public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\r\n     \r\n     //1. Cook something -- WantToCook()\r\n     //2. See ingredient list -- IngredientCount()\r\n     //3. See available recipes -- compareRecipe()\r\n     //4. Modify total ingredient amounts -- input()\r\n     //maybe  put this in ShowRecipes, create object for each to put in own classes\r\n     \r\n      int userChoice = \r\n         prompt.askForNumber(\r\n            &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\r\n         );\r\n     \r\n      switch (userChoice) {\r\n         case 1:\r\n            WantToCook(prompt);\r\n            break;\r\n         case 2: \r\n            sr.IngredientCount(prompt);\r\n            break;\r\n         case 3: \r\n            sr.compareRecipe(prompt);\r\n            break;\r\n         case 4:\r\n            input(prompt);\r\n            break;\r\n         default:\r\n            System.out.println(&quot;Invalid&quot;);\r\n            return;\r\n      }\r\n      \r\n   }\r\n\r\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n     \r\n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n      \r\n      switch(recipeNum) {\r\n      \r\n         case 1: //Apple jam\r\n            sr.setApples(sr.getApples()-3);\r\n            prompt.print(sr.RecipeNamesA[0]);\r\n            break;\r\n         case 2: //Apple jelly\r\n            prompt.print(sr.RecipeNamesA[1]);\r\n            sr.setApples(sr.getApples()-2);\r\n            break;\r\n         case 3://Apple Smoothie\r\n            prompt.print(sr.RecipeNamesA[2]);\r\n            sr.setApples(sr.getApples()-2);\r\n            break;\r\n         case 4: //Apple Tart\r\n            prompt.print(sr.RecipeNamesA[3]);\r\n            sr.setApples(sr.getApples()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n         case 5: //Apple Pie\r\n            prompt.print(sr.RecipeNamesA[4]);\r\n            sr.setApples(sr.getApples()-2);\r\n            sr.setFlour(sr.getFlour()-3);\r\n            sr.setSugar(sr.getSugar()-2);\r\n            break;\r\n         case 6: //Cherry Jam\r\n            prompt.print(sr.RecipeNamesCh[0]);\r\n            sr.setCherries(sr.getCherries()-3);\r\n            break;\r\n         case 7: //Cherry Jelly\r\n            prompt.print(sr.RecipeNamesCh[1]);\r\n            sr.setCherries(sr.getCherries()-2);\r\n            break;\r\n         case 8: //Cherry Pie\r\n            prompt.print(sr.RecipeNamesCh[2]);\r\n            sr.setCherries(sr.getCherries()-2);\r\n            sr.setFlour(sr.getFlour()-3);\r\n            sr.setSugar(sr.getSugar()-2);\r\n            break;\r\n         case 9: //Cherry Tart\r\n            prompt.print(sr.RecipeNamesCh[3]);\r\n            sr.setCherries(sr.getCherries()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n         \r\n         case 10: //Carrot juice \r\n            prompt.print(sr.RecipeNamesCa[0]);\r\n            sr.setCarrots(sr.getCarrots()-2);\r\n            break;\r\n         case 11: //Carrot cake\r\n            prompt.print(sr.RecipeNamesCa[1]);\r\n            sr.setCarrots(sr.getCarrots()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n      \r\n         case 12: //Carrot potage\r\n            prompt.print((sr.RecipeNamesCa[2]));\r\n            sr.setCarrots(sr.getCarrots()-2);\r\n            sr.setFlour(sr.getFlour()-1); \r\n            break;\r\n         \r\n         default:\r\n            prompt.print(&quot;Invalid entry.&quot;);\r\n      }//End recipeNum switch\r\n     \r\n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n      CookAgain(prompt); //cook again? prompt\r\n   } //end WantToCook method\r\n\r\n   public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n   \r\n     //Asks user for ingredients on-hand\r\n      prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\r\n   \r\n      sr.setApples(prompt.askForNumber(sr.ingredientsNames[0]));\r\n   \r\n      sr.setCherries(prompt.askForNumber(sr.ingredientsNames[1]));\r\n   \r\n      sr.setCarrots(prompt.askForNumber(sr.ingredientsNames[2]));\r\n   \r\n      sr.setFlour(prompt.askForNumber(sr.ingredientsNames[3]));\r\n   \r\n      sr.setSugar(prompt.askForNumber(sr.ingredientsNames[4]));\r\n   }//end user ingredient input\r\n\r\n   public void CookAgain(UserPrompt prompt) {   \r\n   \r\n      int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\r\n   \r\n      switch (answer) {\r\n      \r\n         case 1: //which means yes\r\n            if (sr.ingredients[0] &gt;= 1 || sr.ingredients[1] &gt;= 1 || sr.ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\r\n               prompt.print(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n               sr.IngredientCount(prompt);\r\n               sr.compareRecipe(prompt);\r\n               WantToCook(prompt);\r\n               break;\r\n            }\r\n            else {\r\n               prompt.print(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n               break;\r\n            }\r\n         case 2: //which means no\r\n            prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\r\n            break;\r\n         default:\r\n            prompt.print(&quot;Invalid answer please try again!&quot;);\r\n      \r\n      }// End answer switch\r\n   \r\n   }\r\n   \r\n}\r\n```\r\n\r\n### UserPrompt.java ###\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class UserPrompt\r\n{\r\n\r\n   final Scanner kbd = new Scanner(System.in);\r\n\r\n   public int askForNumber(String prompt)\r\n   {\r\n   \r\n      //Print your prompt to the command line -- I added a little extra at the end for simple reading\r\n      System.out.print(prompt + &quot; - &quot;);\r\n      \r\n      return kbd.nextInt();\r\n      \r\n   }\r\n   \r\n   public void print(String message)\r\n   {\r\n   \r\n      System.out.println(message);\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\n### CONTINUING IN PART 4 ###\r\n","title":"Is there a way I can break up into more than 2 classes","body":"<h2>PART 3</h2>\n<p>No more errors in <code>selection()</code>. Now, the next method with errors is <code>WantToCook()</code>. Let's do the same there. Any method that currently belongs to <code>ShowRecipes</code>, we will put an <code>sr</code> in front of it, in order to delegate that method to the <code>ShowRecipes</code> instance that the <code>Driver</code> class has inside of it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n        \n         int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n         \n         switch(recipeNum) {\n         \n            case 1: //Apple jam\n               sr.setApples(sr.getApples()-3);\n               prompt.print(sr.RecipeNamesA[0]);\n               break;\n            case 2: //Apple jelly\n               prompt.print(sr.RecipeNamesA[1]);\n               sr.setApples(sr.getApples()-2);\n               break;\n            case 3://Apple Smoothie\n               prompt.print(sr.RecipeNamesA[2]);\n               sr.setApples(sr.getApples()-2);\n               break;\n            case 4: //Apple Tart\n               prompt.print(sr.RecipeNamesA[3]);\n               sr.setApples(sr.getApples()-1);\n               sr.setFlour(sr.getFlour()-1);\n               sr.setSugar(sr.getSugar()-1);\n               break;\n            case 5: //Apple Pie\n               prompt.print(sr.RecipeNamesA[4]);\n               sr.setApples(sr.getApples()-2);\n               sr.setFlour(sr.getFlour()-3);\n               sr.setSugar(sr.getSugar()-2);\n               break;\n            case 6: //Cherry Jam\n               prompt.print(sr.RecipeNamesCh[0]);\n               sr.setCherries(sr.getCherries()-3);\n               break;\n            case 7: //Cherry Jelly\n               prompt.print(sr.RecipeNamesCh[1]);\n               sr.setCherries(sr.getCherries()-2);\n               break;\n            case 8: //Cherry Pie\n               prompt.print(sr.RecipeNamesCh[2]);\n               sr.setCherries(sr.getCherries()-2);\n               sr.setFlour(sr.getFlour()-3);\n               sr.setSugar(sr.getSugar()-2);\n               break;\n            case 9: //Cherry Tart\n               prompt.print(sr.RecipeNamesCh[3]);\n               sr.setCherries(sr.getCherries()-1);\n               sr.setFlour(sr.getFlour()-1);\n               sr.setSugar(sr.getSugar()-1);\n               break;\n            \n            case 10: //Carrot juice \n               prompt.print(sr.RecipeNamesCa[0]);\n               sr.setCarrots(sr.getCarrots()-2);\n               break;\n            case 11: //Carrot cake\n               prompt.print(sr.RecipeNamesCa[1]);\n               sr.setCarrots(sr.getCarrots()-1);\n               sr.setFlour(sr.getFlour()-1);\n               sr.setSugar(sr.getSugar()-1);\n               break;\n         \n            case 12: //Carrot potage\n               prompt.print((sr.RecipeNamesCa[2]));\n               sr.setCarrots(sr.getCarrots()-2);\n               sr.setFlour(sr.getFlour()-1); \n               break;\n            \n            default:\n               prompt.print(&quot;Invalid entry.&quot;);\n         }//End recipeNum switch\n        \n         prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n         sr.CookAgain(prompt); //cook again? prompt\n      } //end WantToCook method\n</code></pre>\n<p>Pretty long winded, but this eliminates all the errors in the <code>WantToCook()</code> method.</p>\n<p>Now the next error is in <code>input()</code>. It is the exact same type of problem, and thus, we solve it the same way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public void input(UserPrompt prompt) { // user inputs ingredient counts\n      \n        //Asks user for ingredients on-hand\n         prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\n      \n         sr.setApples(prompt.askForNumber(sr.ingredientsNames[0]));\n      \n         sr.setCherries(prompt.askForNumber(sr.ingredientsNames[1]));\n      \n         sr.setCarrots(prompt.askForNumber(sr.ingredientsNames[2]));\n      \n         sr.setFlour(prompt.askForNumber(sr.ingredientsNames[3]));\n      \n         sr.setSugar(prompt.askForNumber(sr.ingredientsNames[4]));\n      }//end user ingredient input\n</code></pre>\n<p>And now, all the errors in <code>Driver</code> are gone. But if we compile, now we have some errors in <code>ShowRecipes</code>.</p>\n<pre><code>Round1.java:345: error: cannot find symbol\n                  WantToCook(prompt);\n                  ^\n  symbol:   method WantToCook(UserPrompt)\n  location: class ShowRecipes\n</code></pre>\n<p>This error is saying that it cannot find <code>WantToCook()</code> inside of the <code>ShowRecipes</code> method called <code>CookAgain()</code>.</p>\n<p>Now, <code>WantToCook()</code> exists in <code>Driver</code>. We just moved it there because we felt that it was handling a <code>Driver</code>-like, decision-making problem rather than the other methods in <code>ShowRecipes</code>. However, because of that, <code>ShowRecipes</code> is broken because it can't find it.</p>\n<p>You might be tempted to reference <code>Driver</code> inside of <code>ShowRecipes</code>, which is the vice versa of what we just did - putting <code>ShowRecipes</code> inside of <code>Driver</code>. However, that would not be the correct move here. And the reason why is because <code>CookAgain()</code> is actually a decision-making method too. We didn't move it before only because we hadn't gotten that far yet. But now that we are here, this method needs to go over to <code>Driver</code> because it is a decision-making based method.</p>\n<p>I just cut and pasted the method with no change into <code>Driver</code>. However, once we do that, we actually need to undo a tiny bit of work that we did before in the <code>WantToCook()</code>. Here is the change.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public void WantToCook(UserPrompt prompt) {\n         //ignore the lines before this one\n         CookAgain(prompt); //cook again? prompt\n      } //end WantToCook method\n</code></pre>\n<p>Now that we have moved <code>CookAgain</code> into <code>Driver</code>, that means it no longer belongs to <code>ShowRecipes</code>, and by extension, <code>sr</code>. So, we removed the <code>sr</code> from this line only.</p>\n<p>Now that that is done, we have one more error in the <code>Driver</code> code. Basically, it looks like there is one point in your program where, instead of asking for a number, you asked for a yes or no. For right now, just to get things working, I am going to change it to use numbers. We can change that later after things are all cleaned up.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public void CookAgain(UserPrompt prompt) {   \n      \n         int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\n      \n         switch (answer) {\n         \n            case 1: //which means yes\n               if (ingredients[0] &gt;= 1 || ingredients[1] &gt;= 1 || ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\n                  prompt.print(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n                  IngredientCount(prompt);\n                  compareRecipe(prompt);\n                  WantToCook(prompt);\n                  break;\n               }\n               else {\n                  prompt.print(&quot;You don't have enough ingredients left to cook anything.&quot;);\n                  break;\n               }\n            case 2: //which means no\n               prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\n               break;\n            default:\n               prompt.print(&quot;Invalid answer please try again!&quot;);\n         \n         }// End answer switch\n      \n      }\n</code></pre>\n<p>Now that that is done, we can go back to what we were doing before - delegating methods to <code>sr</code> that belong to <code>sr</code>. Here are those changes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public void CookAgain(UserPrompt prompt) {   \n      \n         int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\n      \n         switch (answer) {\n         \n            case 1: //which means yes\n               if (sr.ingredients[0] &gt;= 1 || sr.ingredients[1] &gt;= 1 || sr.ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\n                  prompt.print(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n                  sr.IngredientCount(prompt);\n                  sr.compareRecipe(prompt);\n                  WantToCook(prompt);\n                  break;\n               }\n               else {\n                  prompt.print(&quot;You don't have enough ingredients left to cook anything.&quot;);\n                  break;\n               }\n            case 2: //which means no\n               prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\n               break;\n            default:\n               prompt.print(&quot;Invalid answer please try again!&quot;);\n         \n         }// End answer switch\n      \n      }\n</code></pre>\n<p>And finally, <em><strong>no more errors</strong></em>. You can run your program again.</p>\n<p>If you lost track of things, here are the changes made thus far.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic interface Round1\n{\n\n\n   public static void main (String [] args){\n      final ShowRecipes first = new ShowRecipes();\n      System.out.println(&quot;FIRST&quot;);\n      \n      final UserPrompt prompt = new UserPrompt();\n      \n      final Driver driver = new Driver(first);\n      driver.input(prompt);\n      first.compareRecipe(prompt);\n      driver.WantToCook(prompt);\n   \n      driver.selection(prompt);\n        \n   }\n      \n   public class UserPrompt\n   {\n   \n      final Scanner kbd = new Scanner(System.in);\n   \n      public int askForNumber(String prompt)\n      {\n      \n         //Print your prompt to the command line -- I added a little extra at the end for simple reading\n         System.out.print(prompt + &quot; - &quot;);\n         \n         return kbd.nextInt();\n         \n      }\n      \n      public void print(String message)\n      {\n      \n         System.out.println(message);\n      \n      }\n   \n   }\n   \n   public class Driver\n   {\n   \n      ShowRecipes sr;\n      \n      public Driver(ShowRecipes parameter)\n      {\n      \n         sr = parameter;\n      \n      }\n   \n      public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\n        \n        //1. Cook something -- WantToCook()\n        //2. See ingredient list -- IngredientCount()\n        //3. See available recipes -- compareRecipe()\n        //4. Modify total ingredient amounts -- input()\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\n        \n         int userChoice = \n            prompt.askForNumber(\n               &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\n            );\n        \n         switch (userChoice) {\n            case 1:\n               WantToCook(prompt);\n               break;\n            case 2: \n               sr.IngredientCount(prompt);\n               break;\n            case 3: \n               sr.compareRecipe(prompt);\n               break;\n            case 4:\n               input(prompt);\n               break;\n            default:\n               System.out.println(&quot;Invalid&quot;);\n               return;\n         }\n         \n      }\n   \n      public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n        \n         int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n         \n         switch(recipeNum) {\n         \n            case 1: //Apple jam\n               sr.setApples(sr.getApples()-3);\n               prompt.print(sr.RecipeNamesA[0]);\n               break;\n            case 2: //Apple jelly\n               prompt.print(sr.RecipeNamesA[1]);\n               sr.setApples(sr.getApples()-2);\n               break;\n            case 3://Apple Smoothie\n               prompt.print(sr.RecipeNamesA[2]);\n               sr.setApples(sr.getApples()-2);\n               break;\n            case 4: //Apple Tart\n               prompt.print(sr.RecipeNamesA[3]);\n               sr.setApples(sr.getApples()-1);\n               sr.setFlour(sr.getFlour()-1);\n               sr.setSugar(sr.getSugar()-1);\n               break;\n            case 5: //Apple Pie\n               prompt.print(sr.RecipeNamesA[4]);\n               sr.setApples(sr.getApples()-2);\n               sr.setFlour(sr.getFlour()-3);\n               sr.setSugar(sr.getSugar()-2);\n               break;\n            case 6: //Cherry Jam\n               prompt.print(sr.RecipeNamesCh[0]);\n               sr.setCherries(sr.getCherries()-3);\n               break;\n            case 7: //Cherry Jelly\n               prompt.print(sr.RecipeNamesCh[1]);\n               sr.setCherries(sr.getCherries()-2);\n               break;\n            case 8: //Cherry Pie\n               prompt.print(sr.RecipeNamesCh[2]);\n               sr.setCherries(sr.getCherries()-2);\n               sr.setFlour(sr.getFlour()-3);\n               sr.setSugar(sr.getSugar()-2);\n               break;\n            case 9: //Cherry Tart\n               prompt.print(sr.RecipeNamesCh[3]);\n               sr.setCherries(sr.getCherries()-1);\n               sr.setFlour(sr.getFlour()-1);\n               sr.setSugar(sr.getSugar()-1);\n               break;\n            \n            case 10: //Carrot juice \n               prompt.print(sr.RecipeNamesCa[0]);\n               sr.setCarrots(sr.getCarrots()-2);\n               break;\n            case 11: //Carrot cake\n               prompt.print(sr.RecipeNamesCa[1]);\n               sr.setCarrots(sr.getCarrots()-1);\n               sr.setFlour(sr.getFlour()-1);\n               sr.setSugar(sr.getSugar()-1);\n               break;\n         \n            case 12: //Carrot potage\n               prompt.print((sr.RecipeNamesCa[2]));\n               sr.setCarrots(sr.getCarrots()-2);\n               sr.setFlour(sr.getFlour()-1); \n               break;\n            \n            default:\n               prompt.print(&quot;Invalid entry.&quot;);\n         }//End recipeNum switch\n        \n         prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n         CookAgain(prompt); //cook again? prompt\n      } //end WantToCook method\n   \n      public void input(UserPrompt prompt) { // user inputs ingredient counts\n      \n        //Asks user for ingredients on-hand\n         prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\n      \n         sr.setApples(prompt.askForNumber(sr.ingredientsNames[0]));\n      \n         sr.setCherries(prompt.askForNumber(sr.ingredientsNames[1]));\n      \n         sr.setCarrots(prompt.askForNumber(sr.ingredientsNames[2]));\n      \n         sr.setFlour(prompt.askForNumber(sr.ingredientsNames[3]));\n      \n         sr.setSugar(prompt.askForNumber(sr.ingredientsNames[4]));\n      }//end user ingredient input\n   \n      public void CookAgain(UserPrompt prompt) {   \n      \n         int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\n      \n         switch (answer) {\n         \n            case 1: //which means yes\n               if (sr.ingredients[0] &gt;= 1 || sr.ingredients[1] &gt;= 1 || sr.ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\n                  prompt.print(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n                  sr.IngredientCount(prompt);\n                  sr.compareRecipe(prompt);\n                  WantToCook(prompt);\n                  break;\n               }\n               else {\n                  prompt.print(&quot;You don't have enough ingredients left to cook anything.&quot;);\n                  break;\n               }\n            case 2: //which means no\n               prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\n               break;\n            default:\n               prompt.print(&quot;Invalid answer please try again!&quot;);\n         \n         }// End answer switch\n      \n      }\n      \n   }\n\n//object class\n   public class ShowRecipes {\n   \n    \n      Scanner kbd = new Scanner(System.in);\n   \n    //ingredient names array\n      public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\n   \n    //ingredients array - setters will set\n      public int[] ingredients = new int[5];\n   \n    //Basic constructor\n      public ShowRecipes() {\n         ingredients[0] = 1; //apple\n         ingredients[1] = 1; //cherry\n         ingredients[2] = 1;//carrot\n         ingredients[3] = 0;//flour\n         ingredients[4] = 0;//sugar\n      }\n   \n    //overloaded constructor that covers each field\n      public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar) {\n         System.out.println(&quot;overloaded&quot;);\n         setApples(apples);\n         setCherries(cherries);\n         setCarrots(carrots);\n         setFlour(flour);\n         setSugar(sugar);\n      }\n   \n      public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\n         prompt.print(&quot;According to your input, you have:&quot;);\n      \n         prompt.print(&quot;Ingredient\\tValue&quot;);\n         for(int counter=0;counter&lt;ingredients.length;counter++) {\n            prompt.print(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\n         }//end for loop\n      }//end ingredient listing\n    \n    \n    //Setters - set from input()\n    //Apple setter\n      public void setApples(int apples){\n         ingredients[0] = apples;\n      }\n    //Cherry setter\n      public void setCherries(int cherries){\n         ingredients[1] = cherries;\n      }\n    //Carrot setter\n      public void setCarrots(int carrots){\n         ingredients[2]= carrots;\n      }\n    //Flour setter\n      public void setFlour(int flour){\n         ingredients[3] = flour;\n      }\n    //Sugar setter\n      public void setSugar(int sugar){\n         ingredients[4] = sugar;\n      }\n    \n    //Getters\n    //Apple getter\n      public int getApples(){\n         return ingredients[0];\n      }\n    //Cherry getter\n      public int getCherries(){\n         return ingredients[1];\n      }\n    //Carrot getter\n      public int getCarrots(){\n         return ingredients[2];\n      }\n    //Flour getter\n      public int getFlour(){\n         return ingredients[3];\n      }\n    //Sugar getter\n      public int getSugar(){\n         return ingredients[4];\n      }\n   \n      public void compareRecipe(UserPrompt prompt) {\n      \n         prompt.print(&quot;According to the input, you can make:&quot;);\n      \n        //Apples\n         if (ingredients[0] &gt;= 3) {\n            prompt.print(RecipeNamesA[0]); //Apple Jam\n         }\n         if (ingredients[0] &gt;= 2) {\n            prompt.print(RecipeNamesA[1]); //Apple Jelly\n            prompt.print(RecipeNamesA[2]); //Apple Smoothie\n         }\n      \n         if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\n            prompt.print(RecipeNamesA[3]); //Apple Tart\n         }\n      \n         if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\n            prompt.print(RecipeNamesA[4]); //Apple Pie\n         }\n         if (ingredients[0] == 0) {\n            prompt.print(&quot;No apple recipes&quot;);\n         }\n      \n        //Cherries\n         if (ingredients[1] &gt;= 3) {\n            prompt.print(RecipeNamesCh[0]); //Cherry Jam\n         }\n         if (ingredients[1] &gt;= 2) {\n            prompt.print(RecipeNamesCh[1]); //Cherry Jelly\n         }\n      \n         if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\n            prompt.print(RecipeNamesCh[2]); //Cherry Pie\n         }\n         if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\n            prompt.print(RecipeNamesCh[3]); //Cherry Tart\n         }\n         if (ingredients[1] == 0) {\n            prompt.print(&quot;No cherry recipes&quot;);\n         }\n      \n        //Carrots\n         if (ingredients[2] &gt;= 2) {\n            prompt.print(RecipeNamesCa[0]); //Carrot juice \n         }\n         if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\n            prompt.print(RecipeNamesCa[2]); //Carrot potage\n         }\n      \n         if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\n            prompt.print(RecipeNamesCa[1]); //Carrot cake\n         }   \n         if (ingredients[2] == 0) {\n            prompt.print(&quot;No carrot recipes&quot;);\n         }\n        \n      }\n   \n      private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\n      private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\n      private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\n   \n   }\n\n}\n</code></pre>\n<p>You can copy and paste the above and run it, and you should see that the program runs.</p>\n<p>Now that that is done, let's finalize cleaning up the tight coupling (as best as we can), then we can move onto the remaining 3 points (global state, complex methods, and enums).</p>\n<p>So far, we have taken care of the following methods.</p>\n<ul>\n<li><code>ShowRecipes()</code></li>\n<li><code>input()</code></li>\n<li><code>IngredientCount()</code></li>\n<li><code>selection()</code></li>\n</ul>\n<p>Now, I know we addressed other methods, but we only moved them around, and made the modifications necessary to work. We didn't actually focus on making them loosely coupled, so let's continue with our list.</p>\n<p>Now, the next bunch of methods are very similar, so I will handle them as a whole. These next batch of methods are your setters and getters. Now, these methods do literally nothing more than manipulate state, so the methods themselves aren't wrong. That said, seeing these methods lends us to one interesting observation - in some points of your code, you use getters and setters to read/modify state, but in other parts of your code, you just modify the instance fields directly.</p>\n<p>The act of modifying instance fields directly is a great example of tight-coupling. What happens if you decide to one day use a <code>List&lt;T&gt;</code> instead of an <code>int[]</code> to hold your ingredients? Well, any method that uses setters and getters will be fine, since you can just update the setters and getters alone. But, the code that directly manipulates state will be in trouble, because now they all have to change to handle a <code>List&lt;T&gt;</code> instead of an <code>int[]</code>.</p>\n<p>Now, to keep ourselves honest, I am actually going to put all of these classes into separate files from now on. As you might have noticed, I have wrapped all of this into a giant interface called <code>Round1</code>. This helps keep things together in one bundle, but it also allows us to cheat and just edit anything contained within the interface, even private variables.</p>\n<p>So, I will put the <code>Driver</code> class into a <code>Driver.java</code> file, <code>ShowRecipes</code> class into <code>ShowRecipes.java</code>, and then the <code>UserPrompt</code> class into <code>UserPrompt.java</code>. And to keep things even simpler, I will add the main method inside of the <code>Driver</code> class. Also, to prevent errors or file naming problems, I will rename <code>ShowRecipes</code> to be <code>ShowRecipesNew</code>. I have updated all of the code to reflect this change.</p>\n<p>Your code base should now look like this.</p>\n<h3>Driver.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Driver\n{\n\n   ShowRecipesNew sr;\n   \n   public Driver(ShowRecipesNew parameter)\n   {\n   \n      sr = parameter;\n   \n   }\n\n   public static void main (String [] args){\n      final ShowRecipesNew first = new ShowRecipesNew();\n      System.out.println(&quot;FIRST&quot;);\n      \n      final UserPrompt prompt = new UserPrompt();\n      \n      final Driver driver = new Driver(first);\n      driver.input(prompt);\n      first.compareRecipe(prompt);\n      driver.WantToCook(prompt);\n   \n      driver.selection(prompt);\n        \n   }\n      \n   public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\n     \n     //1. Cook something -- WantToCook()\n     //2. See ingredient list -- IngredientCount()\n     //3. See available recipes -- compareRecipe()\n     //4. Modify total ingredient amounts -- input()\n     //maybe  put this in ShowRecipes, create object for each to put in own classes\n     \n      int userChoice = \n         prompt.askForNumber(\n            &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\n         );\n     \n      switch (userChoice) {\n         case 1:\n            WantToCook(prompt);\n            break;\n         case 2: \n            sr.IngredientCount(prompt);\n            break;\n         case 3: \n            sr.compareRecipe(prompt);\n            break;\n         case 4:\n            input(prompt);\n            break;\n         default:\n            System.out.println(&quot;Invalid&quot;);\n            return;\n      }\n      \n   }\n\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n     \n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n      \n      switch(recipeNum) {\n      \n         case 1: //Apple jam\n            sr.setApples(sr.getApples()-3);\n            prompt.print(sr.RecipeNamesA[0]);\n            break;\n         case 2: //Apple jelly\n            prompt.print(sr.RecipeNamesA[1]);\n            sr.setApples(sr.getApples()-2);\n            break;\n         case 3://Apple Smoothie\n            prompt.print(sr.RecipeNamesA[2]);\n            sr.setApples(sr.getApples()-2);\n            break;\n         case 4: //Apple Tart\n            prompt.print(sr.RecipeNamesA[3]);\n            sr.setApples(sr.getApples()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n         case 5: //Apple Pie\n            prompt.print(sr.RecipeNamesA[4]);\n            sr.setApples(sr.getApples()-2);\n            sr.setFlour(sr.getFlour()-3);\n            sr.setSugar(sr.getSugar()-2);\n            break;\n         case 6: //Cherry Jam\n            prompt.print(sr.RecipeNamesCh[0]);\n            sr.setCherries(sr.getCherries()-3);\n            break;\n         case 7: //Cherry Jelly\n            prompt.print(sr.RecipeNamesCh[1]);\n            sr.setCherries(sr.getCherries()-2);\n            break;\n         case 8: //Cherry Pie\n            prompt.print(sr.RecipeNamesCh[2]);\n            sr.setCherries(sr.getCherries()-2);\n            sr.setFlour(sr.getFlour()-3);\n            sr.setSugar(sr.getSugar()-2);\n            break;\n         case 9: //Cherry Tart\n            prompt.print(sr.RecipeNamesCh[3]);\n            sr.setCherries(sr.getCherries()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n         \n         case 10: //Carrot juice \n            prompt.print(sr.RecipeNamesCa[0]);\n            sr.setCarrots(sr.getCarrots()-2);\n            break;\n         case 11: //Carrot cake\n            prompt.print(sr.RecipeNamesCa[1]);\n            sr.setCarrots(sr.getCarrots()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n      \n         case 12: //Carrot potage\n            prompt.print((sr.RecipeNamesCa[2]));\n            sr.setCarrots(sr.getCarrots()-2);\n            sr.setFlour(sr.getFlour()-1); \n            break;\n         \n         default:\n            prompt.print(&quot;Invalid entry.&quot;);\n      }//End recipeNum switch\n     \n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n      CookAgain(prompt); //cook again? prompt\n   } //end WantToCook method\n\n   public void input(UserPrompt prompt) { // user inputs ingredient counts\n   \n     //Asks user for ingredients on-hand\n      prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\n   \n      sr.setApples(prompt.askForNumber(sr.ingredientsNames[0]));\n   \n      sr.setCherries(prompt.askForNumber(sr.ingredientsNames[1]));\n   \n      sr.setCarrots(prompt.askForNumber(sr.ingredientsNames[2]));\n   \n      sr.setFlour(prompt.askForNumber(sr.ingredientsNames[3]));\n   \n      sr.setSugar(prompt.askForNumber(sr.ingredientsNames[4]));\n   }//end user ingredient input\n\n   public void CookAgain(UserPrompt prompt) {   \n   \n      int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\n   \n      switch (answer) {\n      \n         case 1: //which means yes\n            if (sr.ingredients[0] &gt;= 1 || sr.ingredients[1] &gt;= 1 || sr.ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\n               prompt.print(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n               sr.IngredientCount(prompt);\n               sr.compareRecipe(prompt);\n               WantToCook(prompt);\n               break;\n            }\n            else {\n               prompt.print(&quot;You don't have enough ingredients left to cook anything.&quot;);\n               break;\n            }\n         case 2: //which means no\n            prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\n            break;\n         default:\n            prompt.print(&quot;Invalid answer please try again!&quot;);\n      \n      }// End answer switch\n   \n   }\n   \n}\n</code></pre>\n<h3>UserPrompt.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class UserPrompt\n{\n\n   final Scanner kbd = new Scanner(System.in);\n\n   public int askForNumber(String prompt)\n   {\n   \n      //Print your prompt to the command line -- I added a little extra at the end for simple reading\n      System.out.print(prompt + &quot; - &quot;);\n      \n      return kbd.nextInt();\n      \n   }\n   \n   public void print(String message)\n   {\n   \n      System.out.println(message);\n   \n   }\n\n}\n</code></pre>\n<h3>CONTINUING IN PART 4</h3>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651858747,"creation_date":1651858747,"answer_id":72145457,"question_id":72134123,"body_markdown":"\r\n### PART 4 ###\r\n\r\n### ShowRecipesNew.java ###\r\n```java\r\nimport java.util.Scanner;\r\n\r\n//object class\r\npublic class ShowRecipesNew {\r\n\r\n   Scanner kbd = new Scanner(System.in);\r\n\r\n //ingredient names array\r\n   public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\r\n\r\n //ingredients array - setters will set\r\n   public int[] ingredients = new int[5];\r\n\r\n //Basic constructor\r\n   public ShowRecipesNew() {\r\n      ingredients[0] = 1; //apple\r\n      ingredients[1] = 1; //cherry\r\n      ingredients[2] = 1;//carrot\r\n      ingredients[3] = 0;//flour\r\n      ingredients[4] = 0;//sugar\r\n   }\r\n\r\n //overloaded constructor that covers each field\r\n   public ShowRecipesNew(int apples, int cherries, int carrots, int flour, int sugar) {\r\n      System.out.println(&quot;overloaded&quot;);\r\n      setApples(apples);\r\n      setCherries(cherries);\r\n      setCarrots(carrots);\r\n      setFlour(flour);\r\n      setSugar(sugar);\r\n   }\r\n\r\n   public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\r\n      prompt.print(&quot;According to your input, you have:&quot;);\r\n   \r\n      prompt.print(&quot;Ingredient\\tValue&quot;);\r\n      for(int counter=0;counter&lt;ingredients.length;counter++) {\r\n         prompt.print(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\r\n      }//end for loop\r\n   }//end ingredient listing\r\n \r\n \r\n //Setters - set from input()\r\n //Apple setter\r\n   public void setApples(int apples){\r\n      ingredients[0] = apples;\r\n   }\r\n //Cherry setter\r\n   public void setCherries(int cherries){\r\n      ingredients[1] = cherries;\r\n   }\r\n //Carrot setter\r\n   public void setCarrots(int carrots){\r\n      ingredients[2]= carrots;\r\n   }\r\n //Flour setter\r\n   public void setFlour(int flour){\r\n      ingredients[3] = flour;\r\n   }\r\n //Sugar setter\r\n   public void setSugar(int sugar){\r\n      ingredients[4] = sugar;\r\n   }\r\n \r\n //Getters\r\n //Apple getter\r\n   public int getApples(){\r\n      return ingredients[0];\r\n   }\r\n //Cherry getter\r\n   public int getCherries(){\r\n      return ingredients[1];\r\n   }\r\n //Carrot getter\r\n   public int getCarrots(){\r\n      return ingredients[2];\r\n   }\r\n //Flour getter\r\n   public int getFlour(){\r\n      return ingredients[3];\r\n   }\r\n //Sugar getter\r\n   public int getSugar(){\r\n      return ingredients[4];\r\n   }\r\n\r\n   public void compareRecipe(UserPrompt prompt) {\r\n   \r\n      prompt.print(&quot;According to the input, you can make:&quot;);\r\n   \r\n     //Apples\r\n      if (ingredients[0] &gt;= 3) {\r\n         prompt.print(RecipeNamesA[0]); //Apple Jam\r\n      }\r\n      if (ingredients[0] &gt;= 2) {\r\n         prompt.print(RecipeNamesA[1]); //Apple Jelly\r\n         prompt.print(RecipeNamesA[2]); //Apple Smoothie\r\n      }\r\n   \r\n      if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\r\n         prompt.print(RecipeNamesA[3]); //Apple Tart\r\n      }\r\n   \r\n      if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\r\n         prompt.print(RecipeNamesA[4]); //Apple Pie\r\n      }\r\n      if (ingredients[0] == 0) {\r\n         prompt.print(&quot;No apple recipes&quot;);\r\n      }\r\n   \r\n     //Cherries\r\n      if (ingredients[1] &gt;= 3) {\r\n         prompt.print(RecipeNamesCh[0]); //Cherry Jam\r\n      }\r\n      if (ingredients[1] &gt;= 2) {\r\n         prompt.print(RecipeNamesCh[1]); //Cherry Jelly\r\n      }\r\n   \r\n      if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\r\n         prompt.print(RecipeNamesCh[2]); //Cherry Pie\r\n      }\r\n      if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\r\n         prompt.print(RecipeNamesCh[3]); //Cherry Tart\r\n      }\r\n      if (ingredients[1] == 0) {\r\n         prompt.print(&quot;No cherry recipes&quot;);\r\n      }\r\n   \r\n     //Carrots\r\n      if (ingredients[2] &gt;= 2) {\r\n         prompt.print(RecipeNamesCa[0]); //Carrot juice \r\n      }\r\n      if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\r\n         prompt.print(RecipeNamesCa[2]); //Carrot potage\r\n      }\r\n   \r\n      if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\r\n         prompt.print(RecipeNamesCa[1]); //Carrot cake\r\n      }   \r\n      if (ingredients[2] == 0) {\r\n         prompt.print(&quot;No carrot recipes&quot;);\r\n      }\r\n     \r\n   }\r\n\r\n   private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\r\n   private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\r\n   private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\r\n\r\n}\r\n```\r\n\r\nNow, if you try to compile these 3 files, we&#39;ll see that `UserPrompt` and `ShowRecipesNew` have no errors, but `Driver` has a whole bunch. Here is one.\r\n\r\n```\r\nDriver.java:69: error: RecipeNamesA has private access in ShowRecipesNew\r\n            prompt.print(sr.RecipeNamesA[0]);\r\n                           ^\r\n```\r\n\r\nSo now, the compiler has pointed out all of the situations where we have made direct interaction with private instance fields. As mentioned before, this another form of tight coupling, and in fact, it starts to slip over into the second point I was talking about - global state. We are going to fixing most of the global state issues here, so there may not be much left to correct once we finish up.\r\n\r\nAnyways, the way to resolve those errors is by using setters and/or getters. You had the right idea going with the setters and getters you added already, but let&#39;s add some more for the rest of the private instance fields in `ShowRecipe`. In this case, we only need to use getters, since the private fields are only being read, not set.\r\n\r\n```java\r\npublic class ShowRecipesNew\r\n{\r\n\r\n   //ignore the lines that come before this one\r\n\r\n   private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\r\n   private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\r\n   private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\r\n\r\n   public String[] getAppleRecipeNames()\r\n   {\r\n   \r\n      return RecipeNamesA;\r\n   \r\n   }\r\n\r\n   public String[] getCherryRecipeNames()\r\n   {\r\n   \r\n      return RecipeNamesCh;\r\n   \r\n   }\r\n\r\n   public String[] getCarrotRecipeNames()\r\n   {\r\n   \r\n      return RecipeNamesCa;\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nOk, now that we have some getters, let&#39;s replace the failing lines in `Driver` with those new getters. Seems like they were all in the `WantToCook()` method.\r\n\r\n```java\r\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n     \r\n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n      \r\n      switch(recipeNum) {\r\n      \r\n         case 1: //Apple jam\r\n            sr.setApples(sr.getApples()-3);\r\n            prompt.print(sr.getAppleRecipeNames()[0]);\r\n            break;\r\n         case 2: //Apple jelly\r\n            prompt.print(sr.getAppleRecipeNames()[1]);\r\n            sr.setApples(sr.getApples()-2);\r\n            break;\r\n         case 3://Apple Smoothie\r\n            prompt.print(sr.getAppleRecipeNames()[2]);\r\n            sr.setApples(sr.getApples()-2);\r\n            break;\r\n         case 4: //Apple Tart\r\n            prompt.print(sr.getAppleRecipeNames()[3]);\r\n            sr.setApples(sr.getApples()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n         case 5: //Apple Pie\r\n            prompt.print(sr.getAppleRecipeNames()[4]);\r\n            sr.setApples(sr.getApples()-2);\r\n            sr.setFlour(sr.getFlour()-3);\r\n            sr.setSugar(sr.getSugar()-2);\r\n            break;\r\n         case 6: //Cherry Jam\r\n            prompt.print(sr.getCherryRecipeNames()[0]);\r\n            sr.setCherries(sr.getCherries()-3);\r\n            break;\r\n         case 7: //Cherry Jelly\r\n            prompt.print(sr.getCherryRecipeNames()[1]);\r\n            sr.setCherries(sr.getCherries()-2);\r\n            break;\r\n         case 8: //Cherry Pie\r\n            prompt.print(sr.getCherryRecipeNames()[2]);\r\n            sr.setCherries(sr.getCherries()-2);\r\n            sr.setFlour(sr.getFlour()-3);\r\n            sr.setSugar(sr.getSugar()-2);\r\n            break;\r\n         case 9: //Cherry Tart\r\n            prompt.print(sr.getCherryRecipeNames()[3]);\r\n            sr.setCherries(sr.getCherries()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n         \r\n         case 10: //Carrot juice \r\n            prompt.print(sr.getCarrotRecipeNames()[0]);\r\n            sr.setCarrots(sr.getCarrots()-2);\r\n            break;\r\n         case 11: //Carrot cake\r\n            prompt.print(sr.getCarrotRecipeNames()[1]);\r\n            sr.setCarrots(sr.getCarrots()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n      \r\n         case 12: //Carrot potage\r\n            prompt.print((sr.getCarrotRecipeNames()[2]));\r\n            sr.setCarrots(sr.getCarrots()-2);\r\n            sr.setFlour(sr.getFlour()-1); \r\n            break;\r\n         \r\n         default:\r\n            prompt.print(&quot;Invalid entry.&quot;);\r\n      }//End recipeNum switch\r\n     \r\n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n      CookAgain(prompt); //cook again? prompt\r\n   } //end WantToCook method\r\n```\r\n\r\nNow, if we compile, we get ***no more errors.*** And more importantly, the code runs too.\r\n\r\n## At this point, you could technically stop and say that the original goal has completed. If so, feel free to stop reading now. However, I will continue performing all the tasks I agreed to. ##\r\n\r\nMoving along, the list of methods that we have made loosely coupled is as follows.\r\n- `ShowRecipes()`\r\n- `input()`\r\n- `IngredientCount()`\r\n- `selection()`\r\n- The getters and setters\r\n\r\nOn to the next method, we have `compareRecipe()` in `ShowRecipes`.\r\n\r\nNow, this one is a little bit unclear on how best to move forward. In one perspective, you could say that this method just prints out the state of `ShowRecipes`. But on the other hand, you could say that it decides what to print based on the state of `ShowRecipes`.\r\n\r\nMe personally, the thing that pushes it just over the edge for me is the fact that it uses what we like to call [Magic Numbers][1]. What if we add a new recipe or a new ingredient? Sure, they likely wouldn&#39;t cause any compilation errors, but it definitely would cause logic errors, as mentioned previously. That said, the way that we would resolve this is by using enums actually. So, I will save this change until we reach the enum portion, just to keep things easy to follow. But yes, this method still has tight coupling to the indexes of the various int arrays. Trying to solve it without enums would just be a waste of effort since the best solution is definitely, so I will defer this change until then.\r\n\r\nNext on the list is `WantToCook()` in `Driver`. We already moved this over, so the method is in the right area. And thanks to the changes we made before (plugging in `UserPrompt` and `ShowRecipes`), most of the tight coupling has been removed. However, just like the previous method, we are tightly coupled to the indexes. And just like before, I will solve this tight coupling to the indexes in the enums section.\r\n\r\nBut otherwise, that&#39;s all the methods for checking tight coupling. Now, let&#39;s move on to the next section.\r\n\r\n### #2 Global State and Public Instance Fields ###\r\n\r\nWhen an object lets its internal state be public, it allows other programs/classes/etc to depend on the internal implementation of the class. As mentioned before - if you are currently using an `int[]` and then decide to switch over to a `List&lt;Integer&gt;`, then anything that was depending on the internal state will immediately break, and you will need to do some debugging and refactoring to correct the compilation errors. However, if you keep your internal state private and have clearly defined getters and setters, then you can make all the changes internally, and then just modify your getters and setters to accomodate the new internal state. For example, let&#39;s say you have getters that return `int[]` and setters that accept `int[]`. Well, when your internal state decides to use a list instead, your getter should still return `int[]` and your setter should still accept `int[]`, but the getter should convert the `List&lt;Integer&gt;` into an `int[]` array, and the setter should convert the accepted `int[]` parameter into a `List&lt;Integer&gt;` before modifying internal state.\r\n\r\nAs you might have guessed, that means that we need to turn all of the instance fields into private instance fields. Each class has at least one instance field that needs to change. Let&#39;s cycle through the classes and get them all.\r\n\r\n- `Driver` - looks like our instance field `ShowRecipesNew sr` was only set to [package-protected][2] as opposed to private. All that is required is to put a private in front of it and we are done. Like this -- `private ShowRecipesNew sr;`\r\n\r\n- `UserPrompt` - looks like we did the same mistake for the `Scanner` in `UserPrompt`. This is just as simple and everything works just fine after. `private final Scanner kbd = new Scanner(System.in);`\r\n\r\n- `ShowRecipesNew` - Unfortunately, this is where we will need to make some heavier modifications. For starters, there are 3 instance fields that are not private.\r\n\r\n```java\r\n   Scanner kbd = new Scanner(System.in);\r\n\r\n //ingredient names array\r\n   public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\r\n\r\n //ingredients array - setters will set\r\n   public int[] ingredients = new int[5];\r\n```\r\n\r\nThankfully, we can eliminate one of them already. The `Scanner` shouldn&#39;t be there. All of our scanning is being handled by `UserPrompt`, so we can just plain delete that variable completely.\r\n\r\nUnfortunately, the other 2 are much harder. They are actually being used up and down the `Driver` class, so we will need to do some heavy rewriting. In short, anywhere that we directly accessed these instance fields, we will now do through a getter. Much like previously, this is a tedious task so I will just knock it out all at once.\r\n\r\nHere are the getters in `ShowRecipesNew`.\r\n\r\n```java\r\n\r\n   public String[] getIngredientNames()\r\n   {\r\n   \r\n      return ingredientsNames;\r\n   \r\n   }\r\n\r\n   public int[] getIngredientsBag()\r\n   {\r\n   \r\n      return ingredients;\r\n   \r\n   }\r\n\r\n```\r\n\r\nAnd here is the refactored `Driver`.\r\n\r\n```java\r\npublic class Driver\r\n{\r\n\r\n   private ShowRecipesNew sr;\r\n   \r\n   public Driver(ShowRecipesNew parameter)\r\n   {\r\n   \r\n      sr = parameter;\r\n   \r\n   }\r\n\r\n   public static void main (String [] args){\r\n      final ShowRecipesNew first = new ShowRecipesNew();\r\n      System.out.println(&quot;FIRST&quot;);\r\n      \r\n      final UserPrompt prompt = new UserPrompt();\r\n      \r\n      final Driver driver = new Driver(first);\r\n      driver.input(prompt);\r\n      first.compareRecipe(prompt);\r\n      driver.WantToCook(prompt);\r\n   \r\n      driver.selection(prompt);\r\n        \r\n   }\r\n      \r\n   public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\r\n     \r\n     //1. Cook something -- WantToCook()\r\n     //2. See ingredient list -- IngredientCount()\r\n     //3. See available recipes -- compareRecipe()\r\n     //4. Modify total ingredient amounts -- input()\r\n     //maybe  put this in ShowRecipes, create object for each to put in own classes\r\n     \r\n      int userChoice = \r\n         prompt.askForNumber(\r\n            &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\r\n         );\r\n     \r\n      switch (userChoice) {\r\n         case 1:\r\n            WantToCook(prompt);\r\n            break;\r\n         case 2: \r\n            sr.IngredientCount(prompt);\r\n            break;\r\n         case 3: \r\n            sr.compareRecipe(prompt);\r\n            break;\r\n         case 4:\r\n            input(prompt);\r\n            break;\r\n         default:\r\n            System.out.println(&quot;Invalid&quot;);\r\n            return;\r\n      }\r\n      \r\n   }\r\n\r\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n     \r\n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n      \r\n      switch(recipeNum) {\r\n      \r\n         case 1: //Apple jam\r\n            sr.setApples(sr.getApples()-3);\r\n            prompt.print(sr.getAppleRecipeNames()[0]);\r\n            break;\r\n         case 2: //Apple jelly\r\n            prompt.print(sr.getAppleRecipeNames()[1]);\r\n            sr.setApples(sr.getApples()-2);\r\n            break;\r\n         case 3://Apple Smoothie\r\n            prompt.print(sr.getAppleRecipeNames()[2]);\r\n            sr.setApples(sr.getApples()-2);\r\n            break;\r\n         case 4: //Apple Tart\r\n            prompt.print(sr.getAppleRecipeNames()[3]);\r\n            sr.setApples(sr.getApples()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n         case 5: //Apple Pie\r\n            prompt.print(sr.getAppleRecipeNames()[4]);\r\n            sr.setApples(sr.getApples()-2);\r\n            sr.setFlour(sr.getFlour()-3);\r\n            sr.setSugar(sr.getSugar()-2);\r\n            break;\r\n         case 6: //Cherry Jam\r\n            prompt.print(sr.getCherryRecipeNames()[0]);\r\n            sr.setCherries(sr.getCherries()-3);\r\n            break;\r\n         case 7: //Cherry Jelly\r\n            prompt.print(sr.getCherryRecipeNames()[1]);\r\n            sr.setCherries(sr.getCherries()-2);\r\n            break;\r\n         case 8: //Cherry Pie\r\n            prompt.print(sr.getCherryRecipeNames()[2]);\r\n            sr.setCherries(sr.getCherries()-2);\r\n            sr.setFlour(sr.getFlour()-3);\r\n            sr.setSugar(sr.getSugar()-2);\r\n            break;\r\n         case 9: //Cherry Tart\r\n            prompt.print(sr.getCherryRecipeNames()[3]);\r\n            sr.setCherries(sr.getCherries()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n         \r\n         case 10: //Carrot juice \r\n            prompt.print(sr.getCarrotRecipeNames()[0]);\r\n            sr.setCarrots(sr.getCarrots()-2);\r\n            break;\r\n         case 11: //Carrot cake\r\n            prompt.print(sr.getCarrotRecipeNames()[1]);\r\n            sr.setCarrots(sr.getCarrots()-1);\r\n            sr.setFlour(sr.getFlour()-1);\r\n            sr.setSugar(sr.getSugar()-1);\r\n            break;\r\n      \r\n         case 12: //Carrot potage\r\n            prompt.print((sr.getCarrotRecipeNames()[2]));\r\n            sr.setCarrots(sr.getCarrots()-2);\r\n            sr.setFlour(sr.getFlour()-1); \r\n            break;\r\n         \r\n         default:\r\n            prompt.print(&quot;Invalid entry.&quot;);\r\n      }//End recipeNum switch\r\n     \r\n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n      CookAgain(prompt); //cook again? prompt\r\n   } //end WantToCook method\r\n\r\n   public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n   \r\n     //Asks user for ingredients on-hand\r\n      prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\r\n   \r\n      sr.setApples(prompt.askForNumber(sr.getIngredientNames()[0]));\r\n   \r\n      sr.setCherries(prompt.askForNumber(sr.getIngredientNames()[1]));\r\n   \r\n      sr.setCarrots(prompt.askForNumber(sr.getIngredientNames()[2]));\r\n   \r\n      sr.setFlour(prompt.askForNumber(sr.getIngredientNames()[3]));\r\n   \r\n      sr.setSugar(prompt.askForNumber(sr.getIngredientNames()[4]));\r\n   }//end user ingredient input\r\n\r\n   public void CookAgain(UserPrompt prompt) {   \r\n   \r\n      int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\r\n   \r\n      switch (answer) {\r\n      \r\n         case 1: //which means yes\r\n            if (sr.getIngredientsBag()[0] &gt;= 1 || sr.getIngredientsBag()[1] &gt;= 1 || sr.getIngredientsBag()[2] &gt;= 1) { //no apples, cherries, or carrots\r\n               prompt.print(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n               sr.IngredientCount(prompt);\r\n               sr.compareRecipe(prompt);\r\n               WantToCook(prompt);\r\n               break;\r\n            }\r\n            else {\r\n               prompt.print(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n               break;\r\n            }\r\n         case 2: //which means no\r\n            prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\r\n            break;\r\n         default:\r\n            prompt.print(&quot;Invalid answer please try again!&quot;);\r\n      \r\n      }// End answer switch\r\n   \r\n   }\r\n   \r\n}\r\n\r\n```\r\n\r\nAnd now, we have fully eliminated all global access and direct access to instance fields. Now, we just need to maintain our getters/setters in order to make sure that all of our objects work well together.\r\n\r\nOn to the next point.\r\n\r\n### #3 Complex and large methods ###\r\n\r\nIn your defense, Java is a language that makes it very easy to write long methods. Most people even say the languages lends itself to verbosity. Regardless, methods that are too complex end up becoming too difficult to maintain. This especially becomes a problem when you want to add more functionality to your program. I brought this up before, but what if you want to add a new ingredient to your list? Well, all those complex methods that span 50+ lines will now need to be updated to handle this new ingredient as well.\r\n\r\nFunnily enough, literally every single change I would make to shorten these methods would involve an enum, so I am going to combine the next part into this one.\r\n\r\n### #4 Java Enums ###\r\n\r\nThis is by far the biggest improvement we can make to this project. I said it before, and I&#39;ll say it again - this type of problem practically demands that you use [Java Enums][3]. And since Java enums are so powerful and are the best out there, getting practice using them now will be good for you.\r\n\r\nThat said, enums can be confusing. If this section doesn&#39;t make much sense and/or is hard to understand, feel free to bypass this one to focus on the previous sections.\r\n\r\nBut going back to the problem, the `String[] ingredientsNames` would be better represented as a separate enum class called `Ingredient`. This new `Ingredient` class would go into a file called `Ingredient.java`.\r\n\r\n```java\r\npublic enum Ingredient\r\n{\r\n\r\n   APPLE,\r\n   CHERRY,\r\n   CARROT,\r\n   FLOUR,\r\n   SUGAR,\r\n   ;\r\n\r\n}\r\n```\r\n\r\nGreat, now that we have the `Ingredient` enum, let&#39;s also make one for the recipes. We can call this enum `Recipe` and put it into `Recipe.java`.\r\n\r\n```java\r\npublic enum Recipe\r\n{\r\n\r\n   APPLE_JAM,\r\n   APPLE_JELLY,\r\n   APPLE_SMOOTHIE,\r\n   APPLE_TART,\r\n   APPLE_PIE,\r\n   CHERRY_JAM,\r\n   CHERRY_JELLY,\r\n   CHERRY_PIE,\r\n   CHERRY_TART,\r\n   CARROT_JUICE,\r\n   CARROT_CAKE,\r\n   CARROT_POTAGE,\r\n   ;\r\n\r\n}\r\n```\r\n\r\nOk, now that that one is ready too, we can start using these enums in place of arbitrary `String` values.\r\n\r\nThe first thing that should definitely change is the `int[] ingredients` instance field in `ShowRecipesNew` class. That should be replaced with an `[EnumMap&lt;E&gt;][4]`. Be sure to import it using the following imports.\r\n\r\n```java\r\nimport java.util.EnumMap;\r\nimport java.util.Map;\r\n```\r\n\r\nAnd here is the change.\r\n\r\n```java\r\npublic class ShowRecipesNew {\r\n   //ignore the lines before this one\r\n   private EnumMap&lt;Ingredient, Integer&gt; ingredients = new EnumMap&lt;&gt;(Ingredient.class);\r\n   //ignore the lines after this one\r\n}\r\n\r\n```\r\n\r\nThis map will tell us how many of each ingredient there is. What makes this so useful though is that, if we ever decide to add a new ingredient like a banana, all we need to do is add `BANANA` to `Ingredient`.\r\n\r\nAnyways, once we compile this, several things break.\r\n\r\nFirst, the no argument constructor that gives default values for all of the ingredients is expecting an array. We can fix this by modifying the `Ingredient` enum to hold the default values instead.\r\n\r\n```java\r\npublic enum Ingredient\r\n{\r\n\r\n   APPLE(1),\r\n   CHERRY(1),\r\n   CARROT(1),\r\n   FLOUR(0),\r\n   SUGAR(0),\r\n   ;\r\n   \r\n   private final int defaultValue;\r\n   \r\n   Ingredient(int input)\r\n   {\r\n   \r\n      defaultValue = input;\r\n   \r\n   }\r\n\r\n   public int defaultValue()\r\n   {\r\n   \r\n      return defaultValue;\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nThis is a useful change, because now, if we ever decide to add a new ingredient to `Ingredient`, we must also give that new ingredient a default value, otherwise there will be compilation errors. The reason why this is so powerful is because it prevents you from running into logic errors by forgetting to set something. And we&#39;re about to see a lot more.\r\n\r\nNow, let&#39;s modify the constructor to use those default values. We will be using the `values()` method from `Ingredient`. This method is one that is automatically included for you, though you can&#39;t see it. Methods like this that are automatically included without being seen are called intrinsic methods.\r\n\r\n```java\r\npublic class ShowRecipesNew {\r\n\r\n   //ignore the lines before this one\r\n   public ShowRecipesNew() {\r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n         ingredients.put(each, each.defaultValue());\r\n      }\r\n   }\r\n   //ignore the lines after this one\r\n}\r\n```\r\n\r\nAgain, this is definitely more complex, so feel free to skip over this if it gets too complicated. But in short, the `values()` method in `Ingredient` returns all of the enum values, so `APPLE`, `CHERRY`, `CARROT`, etc. Then, we loop through all of those enum values using a [for-each loop][4]. Once inside the loop, we start putting values on the map. Previously, using your old version with the `int[]`, we would use the index to know which ingredient we were specifying the number of. But for an `EnumMap`, we don&#39;t care about index. We use a [key-value pair relationship][5] to find out how much of each `Ingredient` there is. As for defining how much, we pull the `defaultValue()` from the enum earlier on. Each enum value has one specified in the `Ingredient` enum, so it is easy to simply pull and use it.\r\n\r\nOnce we compile this, the constructor is now fixed. But there are more errors. Now, the getter for `ingredients` is broken. This is pretty easy to fix, we just change the return type. It&#39;s important to note though - I am only changing the return type because I believe it will make the program much easier to use and develop for. In general, it&#39;s better to avoid changing the return types of public methods, especially ones that other classes depend upon. Otherwise, it will cause errors.\r\n\r\nHere is the change.\r\n\r\n```java\r\n   public EnumMap&lt;Ingredient, Integer&gt; getIngredientsBag()\r\n   {\r\n   \r\n      return ingredients;\r\n   \r\n   }\r\n```\r\n\r\nAfter compiling this, the next error we get is for the for loop in the method `IngredientCount()`. This is easily dealt with by using a for each loop. Specifically, we are going to be looping over the [`entrySet()` method from the `EnumMap`][6]. The `entrySet()` method allows us to loop through both the key and it&#39;s adjacent value. In the case of `ingredients`, that means that we can fetch the `Ingredient`, and the quantity of it, which is exactly what we want.\r\n\r\n```java\r\n   public ShowRecipesNew() {\r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n         ingredients.put(each, each.defaultValue());\r\n      }\r\n   }\r\n```\r\n\r\nNow that takes care of the errors in the constructor. Next, we get errors in the batch of getters and setters for Apple, Cherry, etc. However, this is yet another powerful feature of enums - we don&#39;t need those setters or getters anymore. We can combine all of those getters into a single getter and all those setters into a single setter. This is the power of using a `[Map][7]`.\r\n\r\n```java\r\n   public void setIngredientCount(Ingredient ingredient, int count)\r\n   {\r\n   \r\n      ingredients.put(ingredient, count);\r\n   \r\n   }\r\n```\r\n\r\n### MORE IN PART 5 ###\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Magic_number_(programming)\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [4]: https://stackoverflow.com/questions/30094323/enum-type-in-java-values-in-for-each-loop\r\n  [5]: https://stackoverflow.com/questions/25955749/what-is-a-key-value-pair\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumMap.html#entrySet()\r\n  [7]: https://www.javatpoint.com/varargs","title":"Is there a way I can break up into more than 2 classes","body":"<h3>PART 4</h3>\n<h3>ShowRecipesNew.java</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\n//object class\npublic class ShowRecipesNew {\n\n   Scanner kbd = new Scanner(System.in);\n\n //ingredient names array\n   public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\n\n //ingredients array - setters will set\n   public int[] ingredients = new int[5];\n\n //Basic constructor\n   public ShowRecipesNew() {\n      ingredients[0] = 1; //apple\n      ingredients[1] = 1; //cherry\n      ingredients[2] = 1;//carrot\n      ingredients[3] = 0;//flour\n      ingredients[4] = 0;//sugar\n   }\n\n //overloaded constructor that covers each field\n   public ShowRecipesNew(int apples, int cherries, int carrots, int flour, int sugar) {\n      System.out.println(&quot;overloaded&quot;);\n      setApples(apples);\n      setCherries(cherries);\n      setCarrots(carrots);\n      setFlour(flour);\n      setSugar(sugar);\n   }\n\n   public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\n      prompt.print(&quot;According to your input, you have:&quot;);\n   \n      prompt.print(&quot;Ingredient\\tValue&quot;);\n      for(int counter=0;counter&lt;ingredients.length;counter++) {\n         prompt.print(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\n      }//end for loop\n   }//end ingredient listing\n \n \n //Setters - set from input()\n //Apple setter\n   public void setApples(int apples){\n      ingredients[0] = apples;\n   }\n //Cherry setter\n   public void setCherries(int cherries){\n      ingredients[1] = cherries;\n   }\n //Carrot setter\n   public void setCarrots(int carrots){\n      ingredients[2]= carrots;\n   }\n //Flour setter\n   public void setFlour(int flour){\n      ingredients[3] = flour;\n   }\n //Sugar setter\n   public void setSugar(int sugar){\n      ingredients[4] = sugar;\n   }\n \n //Getters\n //Apple getter\n   public int getApples(){\n      return ingredients[0];\n   }\n //Cherry getter\n   public int getCherries(){\n      return ingredients[1];\n   }\n //Carrot getter\n   public int getCarrots(){\n      return ingredients[2];\n   }\n //Flour getter\n   public int getFlour(){\n      return ingredients[3];\n   }\n //Sugar getter\n   public int getSugar(){\n      return ingredients[4];\n   }\n\n   public void compareRecipe(UserPrompt prompt) {\n   \n      prompt.print(&quot;According to the input, you can make:&quot;);\n   \n     //Apples\n      if (ingredients[0] &gt;= 3) {\n         prompt.print(RecipeNamesA[0]); //Apple Jam\n      }\n      if (ingredients[0] &gt;= 2) {\n         prompt.print(RecipeNamesA[1]); //Apple Jelly\n         prompt.print(RecipeNamesA[2]); //Apple Smoothie\n      }\n   \n      if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\n         prompt.print(RecipeNamesA[3]); //Apple Tart\n      }\n   \n      if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\n         prompt.print(RecipeNamesA[4]); //Apple Pie\n      }\n      if (ingredients[0] == 0) {\n         prompt.print(&quot;No apple recipes&quot;);\n      }\n   \n     //Cherries\n      if (ingredients[1] &gt;= 3) {\n         prompt.print(RecipeNamesCh[0]); //Cherry Jam\n      }\n      if (ingredients[1] &gt;= 2) {\n         prompt.print(RecipeNamesCh[1]); //Cherry Jelly\n      }\n   \n      if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\n         prompt.print(RecipeNamesCh[2]); //Cherry Pie\n      }\n      if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\n         prompt.print(RecipeNamesCh[3]); //Cherry Tart\n      }\n      if (ingredients[1] == 0) {\n         prompt.print(&quot;No cherry recipes&quot;);\n      }\n   \n     //Carrots\n      if (ingredients[2] &gt;= 2) {\n         prompt.print(RecipeNamesCa[0]); //Carrot juice \n      }\n      if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\n         prompt.print(RecipeNamesCa[2]); //Carrot potage\n      }\n   \n      if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\n         prompt.print(RecipeNamesCa[1]); //Carrot cake\n      }   \n      if (ingredients[2] == 0) {\n         prompt.print(&quot;No carrot recipes&quot;);\n      }\n     \n   }\n\n   private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\n   private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\n   private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\n\n}\n</code></pre>\n<p>Now, if you try to compile these 3 files, we'll see that <code>UserPrompt</code> and <code>ShowRecipesNew</code> have no errors, but <code>Driver</code> has a whole bunch. Here is one.</p>\n<pre><code>Driver.java:69: error: RecipeNamesA has private access in ShowRecipesNew\n            prompt.print(sr.RecipeNamesA[0]);\n                           ^\n</code></pre>\n<p>So now, the compiler has pointed out all of the situations where we have made direct interaction with private instance fields. As mentioned before, this another form of tight coupling, and in fact, it starts to slip over into the second point I was talking about - global state. We are going to fixing most of the global state issues here, so there may not be much left to correct once we finish up.</p>\n<p>Anyways, the way to resolve those errors is by using setters and/or getters. You had the right idea going with the setters and getters you added already, but let's add some more for the rest of the private instance fields in <code>ShowRecipe</code>. In this case, we only need to use getters, since the private fields are only being read, not set.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ShowRecipesNew\n{\n\n   //ignore the lines that come before this one\n\n   private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\n   private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\n   private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\n\n   public String[] getAppleRecipeNames()\n   {\n   \n      return RecipeNamesA;\n   \n   }\n\n   public String[] getCherryRecipeNames()\n   {\n   \n      return RecipeNamesCh;\n   \n   }\n\n   public String[] getCarrotRecipeNames()\n   {\n   \n      return RecipeNamesCa;\n   \n   }\n\n}\n</code></pre>\n<p>Ok, now that we have some getters, let's replace the failing lines in <code>Driver</code> with those new getters. Seems like they were all in the <code>WantToCook()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n     \n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n      \n      switch(recipeNum) {\n      \n         case 1: //Apple jam\n            sr.setApples(sr.getApples()-3);\n            prompt.print(sr.getAppleRecipeNames()[0]);\n            break;\n         case 2: //Apple jelly\n            prompt.print(sr.getAppleRecipeNames()[1]);\n            sr.setApples(sr.getApples()-2);\n            break;\n         case 3://Apple Smoothie\n            prompt.print(sr.getAppleRecipeNames()[2]);\n            sr.setApples(sr.getApples()-2);\n            break;\n         case 4: //Apple Tart\n            prompt.print(sr.getAppleRecipeNames()[3]);\n            sr.setApples(sr.getApples()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n         case 5: //Apple Pie\n            prompt.print(sr.getAppleRecipeNames()[4]);\n            sr.setApples(sr.getApples()-2);\n            sr.setFlour(sr.getFlour()-3);\n            sr.setSugar(sr.getSugar()-2);\n            break;\n         case 6: //Cherry Jam\n            prompt.print(sr.getCherryRecipeNames()[0]);\n            sr.setCherries(sr.getCherries()-3);\n            break;\n         case 7: //Cherry Jelly\n            prompt.print(sr.getCherryRecipeNames()[1]);\n            sr.setCherries(sr.getCherries()-2);\n            break;\n         case 8: //Cherry Pie\n            prompt.print(sr.getCherryRecipeNames()[2]);\n            sr.setCherries(sr.getCherries()-2);\n            sr.setFlour(sr.getFlour()-3);\n            sr.setSugar(sr.getSugar()-2);\n            break;\n         case 9: //Cherry Tart\n            prompt.print(sr.getCherryRecipeNames()[3]);\n            sr.setCherries(sr.getCherries()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n         \n         case 10: //Carrot juice \n            prompt.print(sr.getCarrotRecipeNames()[0]);\n            sr.setCarrots(sr.getCarrots()-2);\n            break;\n         case 11: //Carrot cake\n            prompt.print(sr.getCarrotRecipeNames()[1]);\n            sr.setCarrots(sr.getCarrots()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n      \n         case 12: //Carrot potage\n            prompt.print((sr.getCarrotRecipeNames()[2]));\n            sr.setCarrots(sr.getCarrots()-2);\n            sr.setFlour(sr.getFlour()-1); \n            break;\n         \n         default:\n            prompt.print(&quot;Invalid entry.&quot;);\n      }//End recipeNum switch\n     \n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n      CookAgain(prompt); //cook again? prompt\n   } //end WantToCook method\n</code></pre>\n<p>Now, if we compile, we get <em><strong>no more errors.</strong></em> And more importantly, the code runs too.</p>\n<h2>At this point, you could technically stop and say that the original goal has completed. If so, feel free to stop reading now. However, I will continue performing all the tasks I agreed to.</h2>\n<p>Moving along, the list of methods that we have made loosely coupled is as follows.</p>\n<ul>\n<li><code>ShowRecipes()</code></li>\n<li><code>input()</code></li>\n<li><code>IngredientCount()</code></li>\n<li><code>selection()</code></li>\n<li>The getters and setters</li>\n</ul>\n<p>On to the next method, we have <code>compareRecipe()</code> in <code>ShowRecipes</code>.</p>\n<p>Now, this one is a little bit unclear on how best to move forward. In one perspective, you could say that this method just prints out the state of <code>ShowRecipes</code>. But on the other hand, you could say that it decides what to print based on the state of <code>ShowRecipes</code>.</p>\n<p>Me personally, the thing that pushes it just over the edge for me is the fact that it uses what we like to call <a href=\"https://en.wikipedia.org/wiki/Magic_number_(programming)\" rel=\"nofollow noreferrer\">Magic Numbers</a>. What if we add a new recipe or a new ingredient? Sure, they likely wouldn't cause any compilation errors, but it definitely would cause logic errors, as mentioned previously. That said, the way that we would resolve this is by using enums actually. So, I will save this change until we reach the enum portion, just to keep things easy to follow. But yes, this method still has tight coupling to the indexes of the various int arrays. Trying to solve it without enums would just be a waste of effort since the best solution is definitely, so I will defer this change until then.</p>\n<p>Next on the list is <code>WantToCook()</code> in <code>Driver</code>. We already moved this over, so the method is in the right area. And thanks to the changes we made before (plugging in <code>UserPrompt</code> and <code>ShowRecipes</code>), most of the tight coupling has been removed. However, just like the previous method, we are tightly coupled to the indexes. And just like before, I will solve this tight coupling to the indexes in the enums section.</p>\n<p>But otherwise, that's all the methods for checking tight coupling. Now, let's move on to the next section.</p>\n<h3>#2 Global State and Public Instance Fields</h3>\n<p>When an object lets its internal state be public, it allows other programs/classes/etc to depend on the internal implementation of the class. As mentioned before - if you are currently using an <code>int[]</code> and then decide to switch over to a <code>List&lt;Integer&gt;</code>, then anything that was depending on the internal state will immediately break, and you will need to do some debugging and refactoring to correct the compilation errors. However, if you keep your internal state private and have clearly defined getters and setters, then you can make all the changes internally, and then just modify your getters and setters to accomodate the new internal state. For example, let's say you have getters that return <code>int[]</code> and setters that accept <code>int[]</code>. Well, when your internal state decides to use a list instead, your getter should still return <code>int[]</code> and your setter should still accept <code>int[]</code>, but the getter should convert the <code>List&lt;Integer&gt;</code> into an <code>int[]</code> array, and the setter should convert the accepted <code>int[]</code> parameter into a <code>List&lt;Integer&gt;</code> before modifying internal state.</p>\n<p>As you might have guessed, that means that we need to turn all of the instance fields into private instance fields. Each class has at least one instance field that needs to change. Let's cycle through the classes and get them all.</p>\n<ul>\n<li><p><code>Driver</code> - looks like our instance field <code>ShowRecipesNew sr</code> was only set to <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">package-protected</a> as opposed to private. All that is required is to put a private in front of it and we are done. Like this -- <code>private ShowRecipesNew sr;</code></p>\n</li>\n<li><p><code>UserPrompt</code> - looks like we did the same mistake for the <code>Scanner</code> in <code>UserPrompt</code>. This is just as simple and everything works just fine after. <code>private final Scanner kbd = new Scanner(System.in);</code></p>\n</li>\n<li><p><code>ShowRecipesNew</code> - Unfortunately, this is where we will need to make some heavier modifications. For starters, there are 3 instance fields that are not private.</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>   Scanner kbd = new Scanner(System.in);\n\n //ingredient names array\n   public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\n\n //ingredients array - setters will set\n   public int[] ingredients = new int[5];\n</code></pre>\n<p>Thankfully, we can eliminate one of them already. The <code>Scanner</code> shouldn't be there. All of our scanning is being handled by <code>UserPrompt</code>, so we can just plain delete that variable completely.</p>\n<p>Unfortunately, the other 2 are much harder. They are actually being used up and down the <code>Driver</code> class, so we will need to do some heavy rewriting. In short, anywhere that we directly accessed these instance fields, we will now do through a getter. Much like previously, this is a tedious task so I will just knock it out all at once.</p>\n<p>Here are the getters in <code>ShowRecipesNew</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   public String[] getIngredientNames()\n   {\n   \n      return ingredientsNames;\n   \n   }\n\n   public int[] getIngredientsBag()\n   {\n   \n      return ingredients;\n   \n   }\n\n</code></pre>\n<p>And here is the refactored <code>Driver</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Driver\n{\n\n   private ShowRecipesNew sr;\n   \n   public Driver(ShowRecipesNew parameter)\n   {\n   \n      sr = parameter;\n   \n   }\n\n   public static void main (String [] args){\n      final ShowRecipesNew first = new ShowRecipesNew();\n      System.out.println(&quot;FIRST&quot;);\n      \n      final UserPrompt prompt = new UserPrompt();\n      \n      final Driver driver = new Driver(first);\n      driver.input(prompt);\n      first.compareRecipe(prompt);\n      driver.WantToCook(prompt);\n   \n      driver.selection(prompt);\n        \n   }\n      \n   public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\n     \n     //1. Cook something -- WantToCook()\n     //2. See ingredient list -- IngredientCount()\n     //3. See available recipes -- compareRecipe()\n     //4. Modify total ingredient amounts -- input()\n     //maybe  put this in ShowRecipes, create object for each to put in own classes\n     \n      int userChoice = \n         prompt.askForNumber(\n            &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\n         );\n     \n      switch (userChoice) {\n         case 1:\n            WantToCook(prompt);\n            break;\n         case 2: \n            sr.IngredientCount(prompt);\n            break;\n         case 3: \n            sr.compareRecipe(prompt);\n            break;\n         case 4:\n            input(prompt);\n            break;\n         default:\n            System.out.println(&quot;Invalid&quot;);\n            return;\n      }\n      \n   }\n\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n     \n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n      \n      switch(recipeNum) {\n      \n         case 1: //Apple jam\n            sr.setApples(sr.getApples()-3);\n            prompt.print(sr.getAppleRecipeNames()[0]);\n            break;\n         case 2: //Apple jelly\n            prompt.print(sr.getAppleRecipeNames()[1]);\n            sr.setApples(sr.getApples()-2);\n            break;\n         case 3://Apple Smoothie\n            prompt.print(sr.getAppleRecipeNames()[2]);\n            sr.setApples(sr.getApples()-2);\n            break;\n         case 4: //Apple Tart\n            prompt.print(sr.getAppleRecipeNames()[3]);\n            sr.setApples(sr.getApples()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n         case 5: //Apple Pie\n            prompt.print(sr.getAppleRecipeNames()[4]);\n            sr.setApples(sr.getApples()-2);\n            sr.setFlour(sr.getFlour()-3);\n            sr.setSugar(sr.getSugar()-2);\n            break;\n         case 6: //Cherry Jam\n            prompt.print(sr.getCherryRecipeNames()[0]);\n            sr.setCherries(sr.getCherries()-3);\n            break;\n         case 7: //Cherry Jelly\n            prompt.print(sr.getCherryRecipeNames()[1]);\n            sr.setCherries(sr.getCherries()-2);\n            break;\n         case 8: //Cherry Pie\n            prompt.print(sr.getCherryRecipeNames()[2]);\n            sr.setCherries(sr.getCherries()-2);\n            sr.setFlour(sr.getFlour()-3);\n            sr.setSugar(sr.getSugar()-2);\n            break;\n         case 9: //Cherry Tart\n            prompt.print(sr.getCherryRecipeNames()[3]);\n            sr.setCherries(sr.getCherries()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n         \n         case 10: //Carrot juice \n            prompt.print(sr.getCarrotRecipeNames()[0]);\n            sr.setCarrots(sr.getCarrots()-2);\n            break;\n         case 11: //Carrot cake\n            prompt.print(sr.getCarrotRecipeNames()[1]);\n            sr.setCarrots(sr.getCarrots()-1);\n            sr.setFlour(sr.getFlour()-1);\n            sr.setSugar(sr.getSugar()-1);\n            break;\n      \n         case 12: //Carrot potage\n            prompt.print((sr.getCarrotRecipeNames()[2]));\n            sr.setCarrots(sr.getCarrots()-2);\n            sr.setFlour(sr.getFlour()-1); \n            break;\n         \n         default:\n            prompt.print(&quot;Invalid entry.&quot;);\n      }//End recipeNum switch\n     \n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n      CookAgain(prompt); //cook again? prompt\n   } //end WantToCook method\n\n   public void input(UserPrompt prompt) { // user inputs ingredient counts\n   \n     //Asks user for ingredients on-hand\n      prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\n   \n      sr.setApples(prompt.askForNumber(sr.getIngredientNames()[0]));\n   \n      sr.setCherries(prompt.askForNumber(sr.getIngredientNames()[1]));\n   \n      sr.setCarrots(prompt.askForNumber(sr.getIngredientNames()[2]));\n   \n      sr.setFlour(prompt.askForNumber(sr.getIngredientNames()[3]));\n   \n      sr.setSugar(prompt.askForNumber(sr.getIngredientNames()[4]));\n   }//end user ingredient input\n\n   public void CookAgain(UserPrompt prompt) {   \n   \n      int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\n   \n      switch (answer) {\n      \n         case 1: //which means yes\n            if (sr.getIngredientsBag()[0] &gt;= 1 || sr.getIngredientsBag()[1] &gt;= 1 || sr.getIngredientsBag()[2] &gt;= 1) { //no apples, cherries, or carrots\n               prompt.print(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n               sr.IngredientCount(prompt);\n               sr.compareRecipe(prompt);\n               WantToCook(prompt);\n               break;\n            }\n            else {\n               prompt.print(&quot;You don't have enough ingredients left to cook anything.&quot;);\n               break;\n            }\n         case 2: //which means no\n            prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\n            break;\n         default:\n            prompt.print(&quot;Invalid answer please try again!&quot;);\n      \n      }// End answer switch\n   \n   }\n   \n}\n\n</code></pre>\n<p>And now, we have fully eliminated all global access and direct access to instance fields. Now, we just need to maintain our getters/setters in order to make sure that all of our objects work well together.</p>\n<p>On to the next point.</p>\n<h3>#3 Complex and large methods</h3>\n<p>In your defense, Java is a language that makes it very easy to write long methods. Most people even say the languages lends itself to verbosity. Regardless, methods that are too complex end up becoming too difficult to maintain. This especially becomes a problem when you want to add more functionality to your program. I brought this up before, but what if you want to add a new ingredient to your list? Well, all those complex methods that span 50+ lines will now need to be updated to handle this new ingredient as well.</p>\n<p>Funnily enough, literally every single change I would make to shorten these methods would involve an enum, so I am going to combine the next part into this one.</p>\n<h3>#4 Java Enums</h3>\n<p>This is by far the biggest improvement we can make to this project. I said it before, and I'll say it again - this type of problem practically demands that you use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Java Enums</a>. And since Java enums are so powerful and are the best out there, getting practice using them now will be good for you.</p>\n<p>That said, enums can be confusing. If this section doesn't make much sense and/or is hard to understand, feel free to bypass this one to focus on the previous sections.</p>\n<p>But going back to the problem, the <code>String[] ingredientsNames</code> would be better represented as a separate enum class called <code>Ingredient</code>. This new <code>Ingredient</code> class would go into a file called <code>Ingredient.java</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Ingredient\n{\n\n   APPLE,\n   CHERRY,\n   CARROT,\n   FLOUR,\n   SUGAR,\n   ;\n\n}\n</code></pre>\n<p>Great, now that we have the <code>Ingredient</code> enum, let's also make one for the recipes. We can call this enum <code>Recipe</code> and put it into <code>Recipe.java</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Recipe\n{\n\n   APPLE_JAM,\n   APPLE_JELLY,\n   APPLE_SMOOTHIE,\n   APPLE_TART,\n   APPLE_PIE,\n   CHERRY_JAM,\n   CHERRY_JELLY,\n   CHERRY_PIE,\n   CHERRY_TART,\n   CARROT_JUICE,\n   CARROT_CAKE,\n   CARROT_POTAGE,\n   ;\n\n}\n</code></pre>\n<p>Ok, now that that one is ready too, we can start using these enums in place of arbitrary <code>String</code> values.</p>\n<p>The first thing that should definitely change is the <code>int[] ingredients</code> instance field in <code>ShowRecipesNew</code> class. That should be replaced with an <code>[EnumMap&lt;E&gt;][4]</code>. Be sure to import it using the following imports.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.EnumMap;\nimport java.util.Map;\n</code></pre>\n<p>And here is the change.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ShowRecipesNew {\n   //ignore the lines before this one\n   private EnumMap&lt;Ingredient, Integer&gt; ingredients = new EnumMap&lt;&gt;(Ingredient.class);\n   //ignore the lines after this one\n}\n\n</code></pre>\n<p>This map will tell us how many of each ingredient there is. What makes this so useful though is that, if we ever decide to add a new ingredient like a banana, all we need to do is add <code>BANANA</code> to <code>Ingredient</code>.</p>\n<p>Anyways, once we compile this, several things break.</p>\n<p>First, the no argument constructor that gives default values for all of the ingredients is expecting an array. We can fix this by modifying the <code>Ingredient</code> enum to hold the default values instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Ingredient\n{\n\n   APPLE(1),\n   CHERRY(1),\n   CARROT(1),\n   FLOUR(0),\n   SUGAR(0),\n   ;\n   \n   private final int defaultValue;\n   \n   Ingredient(int input)\n   {\n   \n      defaultValue = input;\n   \n   }\n\n   public int defaultValue()\n   {\n   \n      return defaultValue;\n   \n   }\n\n}\n</code></pre>\n<p>This is a useful change, because now, if we ever decide to add a new ingredient to <code>Ingredient</code>, we must also give that new ingredient a default value, otherwise there will be compilation errors. The reason why this is so powerful is because it prevents you from running into logic errors by forgetting to set something. And we're about to see a lot more.</p>\n<p>Now, let's modify the constructor to use those default values. We will be using the <code>values()</code> method from <code>Ingredient</code>. This method is one that is automatically included for you, though you can't see it. Methods like this that are automatically included without being seen are called intrinsic methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ShowRecipesNew {\n\n   //ignore the lines before this one\n   public ShowRecipesNew() {\n      for (Ingredient each : Ingredient.values())\n      {\n         ingredients.put(each, each.defaultValue());\n      }\n   }\n   //ignore the lines after this one\n}\n</code></pre>\n<p>Again, this is definitely more complex, so feel free to skip over this if it gets too complicated. But in short, the <code>values()</code> method in <code>Ingredient</code> returns all of the enum values, so <code>APPLE</code>, <code>CHERRY</code>, <code>CARROT</code>, etc. Then, we loop through all of those enum values using a <a href=\"https://stackoverflow.com/questions/30094323/enum-type-in-java-values-in-for-each-loop\">for-each loop</a>. Once inside the loop, we start putting values on the map. Previously, using your old version with the <code>int[]</code>, we would use the index to know which ingredient we were specifying the number of. But for an <code>EnumMap</code>, we don't care about index. We use a <a href=\"https://stackoverflow.com/questions/25955749/what-is-a-key-value-pair\">key-value pair relationship</a> to find out how much of each <code>Ingredient</code> there is. As for defining how much, we pull the <code>defaultValue()</code> from the enum earlier on. Each enum value has one specified in the <code>Ingredient</code> enum, so it is easy to simply pull and use it.</p>\n<p>Once we compile this, the constructor is now fixed. But there are more errors. Now, the getter for <code>ingredients</code> is broken. This is pretty easy to fix, we just change the return type. It's important to note though - I am only changing the return type because I believe it will make the program much easier to use and develop for. In general, it's better to avoid changing the return types of public methods, especially ones that other classes depend upon. Otherwise, it will cause errors.</p>\n<p>Here is the change.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public EnumMap&lt;Ingredient, Integer&gt; getIngredientsBag()\n   {\n   \n      return ingredients;\n   \n   }\n</code></pre>\n<p>After compiling this, the next error we get is for the for loop in the method <code>IngredientCount()</code>. This is easily dealt with by using a for each loop. Specifically, we are going to be looping over the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumMap.html#entrySet()\" rel=\"nofollow noreferrer\"><code>entrySet()</code> method from the <code>EnumMap</code></a>. The <code>entrySet()</code> method allows us to loop through both the key and it's adjacent value. In the case of <code>ingredients</code>, that means that we can fetch the <code>Ingredient</code>, and the quantity of it, which is exactly what we want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public ShowRecipesNew() {\n      for (Ingredient each : Ingredient.values())\n      {\n         ingredients.put(each, each.defaultValue());\n      }\n   }\n</code></pre>\n<p>Now that takes care of the errors in the constructor. Next, we get errors in the batch of getters and setters for Apple, Cherry, etc. However, this is yet another powerful feature of enums - we don't need those setters or getters anymore. We can combine all of those getters into a single getter and all those setters into a single setter. This is the power of using a <code>[Map][7]</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void setIngredientCount(Ingredient ingredient, int count)\n   {\n   \n      ingredients.put(ingredient, count);\n   \n   }\n</code></pre>\n<h3>MORE IN PART 5</h3>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651858987,"creation_date":1651858987,"answer_id":72145498,"question_id":72134123,"body_markdown":"### PART 5 ###\r\n\r\n\r\nThis setter can handle all of the different `Ingredient` values because it takes in an `Ingredient` parameter. What this means is that, if I want to set the number of Apples to be 12, all I need to do is this -- `setIngredientCount(Ingredient.APPLE, 12);`. As you can see, you don&#39;t need a separate method to handle setting Cherry or Carrot. They can all be set by using this method, it just requires you to specify which ingredient you are setting in the parameter.\r\n\r\nNow, once we replace all those setters with this new one, more stuff starts breaking that depended on the old setter. In this case, the `ShowRecipesNew` constructor (the one with many parameters) is now broken, since it used to use the old setters. We just need to swap out the old setters with the new one.\r\n\r\n```java\r\n   public ShowRecipesNew(int apples, int cherries, int carrots, int flour, int sugar) {\r\n      System.out.println(&quot;overloaded&quot;);\r\n      this();\r\n      setIngredientCount(Ingredient.APPLE, apples);\r\n      setIngredientCount(Ingredient.CHERRY, cherries);\r\n      setIngredientCount(Ingredient.CARROT, carrots);\r\n      setIngredientCount(Ingredient.FLOUR, flour);\r\n      setIngredientCount(Ingredient.SUGAR, sugar);\r\n   }\r\n```\r\n\r\nThat `this()` method actually calls the `ShowRecipes()` constructor first. That is helpful since it sets all values to the `defaultValue` first. Then, we can later modify them using the `setIngredientCount()` method. This way, we can avoid any pesky and annoying nulls. \r\n\r\nOnce that compiles, then this constructor is good. The next error comes from the getters of all the different ingredients. Just like the setter, we can combine all of this into a single method. Here it is.\r\n\r\n```java\r\n   public int getIngredientCount(Ingredient ingredient)\r\n   {\r\n   \r\n      return ingredients.get(ingredient);\r\n   \r\n   }\r\n```\r\n\r\nOnce that getter is fixed, then the next method to break is the `compareRecipe()` method in `ShowRecipe` class.\r\n\r\nNow this method is yet another place we can use enums to make the code both easier to understand and safer. We are actually going to uproot this method almost entirely, and place the logic into the `Recipe` enum.\r\n\r\nLet&#39;s start by adding the ability to put a map of `requiredIngredients` inside of each method, using an `EnumMap&lt;K&gt;`.\r\n\r\n\r\n```java\r\nimport java.util.EnumMap;\r\nimport java.util.Map;\r\n\r\npublic enum Recipe\r\n{\r\n\r\n   APPLE_JAM,\r\n   APPLE_JELLY,\r\n   APPLE_SMOOTHIE,\r\n   APPLE_TART,\r\n   APPLE_PIE,\r\n   CHERRY_JAM,\r\n   CHERRY_JELLY,\r\n   CHERRY_PIE,\r\n   CHERRY_TART,\r\n   CARROT_JUICE,\r\n   CARROT_CAKE,\r\n   CARROT_POTAGE,\r\n   ;\r\n   \r\n   private final EnumMap&lt;Ingredient, Integer&gt; requiredIngredients;\r\n   \r\n   Recipe(Map&lt;Ingredient, Integer&gt; parameter)\r\n   {\r\n   \r\n      requiredIngredients = new EnumMap&lt;&gt;(parameter);\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nNow, we can plug in how many of each ingredient we need in order to satisfy this recipe. As for the methods I am using, I am constructing key value pairs as mentioned before, with the key being the ingredient, and the value being how much of that ingredient. I know the methods might look a bit confusing, but that is all that they are doing.\r\n\r\n```java\r\nimport java.util.EnumMap;\r\nimport java.util.Map;\r\n\r\npublic enum Recipe\r\n{\r\n\r\n   APPLE_JAM(\r\n      Map.of(\r\n         Ingredient.APPLE, 3\r\n      )\r\n   ),\r\n   \r\n   APPLE_JELLY(\r\n      Map.of(\r\n         Ingredient.APPLE, 2\r\n      )\r\n   ),\r\n   \r\n   APPLE_SMOOTHIE(\r\n      Map.of(\r\n         Ingredient.APPLE, 2\r\n      )\r\n   ),\r\n   \r\n   APPLE_TART(\r\n      Map.of(\r\n         Ingredient.APPLE, 1,\r\n         Ingredient.FLOUR, 1\r\n      )\r\n   ),\r\n   \r\n   APPLE_PIE(\r\n      Map.of(\r\n         Ingredient.APPLE, 2,\r\n         Ingredient.FLOUR, 1,\r\n         Ingredient.SUGAR, 2\r\n      )\r\n   ),\r\n   \r\n   CHERRY_JAM(\r\n      Map.of(\r\n         Ingredient.CHERRY, 3\r\n      )\r\n   ),\r\n   \r\n   CHERRY_JELLY(\r\n      Map.of(\r\n         Ingredient.CHERRY, 2\r\n      )\r\n   ),\r\n   \r\n   CHERRY_PIE(\r\n      Map.of(\r\n         Ingredient.CHERRY, 2,\r\n         Ingredient.FLOUR, 3,\r\n         Ingredient.SUGAR, 2\r\n      )\r\n   ),\r\n   \r\n   CHERRY_TART(\r\n      Map.of(\r\n         Ingredient.CHERRY, 1,\r\n         Ingredient.FLOUR, 1,\r\n         Ingredient.SUGAR, 1\r\n      )\r\n   ),\r\n   \r\n   CARROT_JUICE(\r\n      Map.of(\r\n         Ingredient.CARROT, 2\r\n      )\r\n   ),\r\n   \r\n   CARROT_CAKE(\r\n      Map.of(\r\n         Ingredient.CARROT, 1,\r\n         Ingredient.FLOUR, 1,\r\n         Ingredient.SUGAR, 1\r\n      )\r\n   ),\r\n   \r\n   CARROT_POTAGE(\r\n      Map.of(\r\n         Ingredient.CARROT, 2,\r\n         Ingredient.FLOUR, 1\r\n      )\r\n   ),\r\n   ;\r\n   \r\n   private final EnumMap&lt;Ingredient, Integer&gt; requiredIngredients;\r\n   \r\n   Recipe(Map&lt;Ingredient, Integer&gt; parameter)\r\n   {\r\n   \r\n      requiredIngredients = new EnumMap&lt;&gt;(parameter);\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nAs you can see, the code is a lot more explicit now. Instead of saying `we need a value of 3 in ingredients[0] to satisfy recipeNamesA[0]`, we can now say `we need a value of 3 for Ingredient.APPLE to satisfy APPLE_PIE`. We are using more complex terms to do it, but once you understand those complex terms, the solution becomes much more expressive and easy to understand.\r\n\r\nAnd finally, let&#39;s add a method to `Recipe` in order to help us do the quantity check.\r\n\r\n```java\r\n   public boolean canMakeRecipeWith(Map&lt;Ingredient, Integer&gt; ingredientsWeHave)\r\n   {\r\n   \r\n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\r\n      {\r\n      \r\n         Ingredient ingredient = each.getKey();\r\n         int howMuchWeHave = ingredientsWeHave.get(ingredient);\r\n         int howMuchWeNeed = requiredIngredients.get(ingredient);\r\n      \r\n         if (howMuchWeHave &lt; howMuchWeNeed)\r\n         {\r\n         \r\n            return false;\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      return true;\r\n   \r\n   }\r\n```\r\n\r\nThis method will allow us to take in our `Map&lt;Ingredient, Integer&gt;` and see if we have enough ingredients to make the chosen recipe. The way we will chose the recipe is by doing something like this. `Recipe.APPLE_PIE.canMakeRecipeWith(ingredients)` -- this will return `true` or `false` depending on whether or not `ingredients` has enough of each `Ingredient` to make an `APPLE_PIE`\r\n\r\nNow, we have modified this enum to become powerful and expressive. Let&#39;s start using it.\r\n\r\n\r\n\r\nBack to our original method `compareRecipe()`, we can pretty much rework this method from the ground up to use our new enum functionality.\r\n\r\n```java\r\n   public void compareRecipe(UserPrompt prompt) {\r\n   \r\n      prompt.print(&quot;According to the input, you can make:&quot;);\r\n      \r\n      if (getIngredientCount(Ingredient.APPLE) == 0) {\r\n         prompt.print(&quot;No apple recipes&quot;);\r\n      }\r\n   \r\n      if (getIngredientCount(Ingredient.CHERRY) == 0) {\r\n         prompt.print(&quot;No cherry recipes&quot;);\r\n      }\r\n   \r\n      if (getIngredientCount(Ingredient.CARROT) == 0) {\r\n         prompt.print(&quot;No carrot recipes&quot;);\r\n      }\r\n     \r\n      for (Recipe each : Recipe.values())\r\n      {\r\n      \r\n         if (each.canMakeRecipeWith(ingredients))\r\n         {\r\n         \r\n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n   }\r\n```\r\n\r\nThis is really helpful to us because now, if we ever add a new `Recipe`, we never have to touch this method again. Since we plugged in the `Recipe` enum into `ShowRecipesNew`, we only have to modify `Recipe` in order to make sweeping changes for `ShowRecipesNew`.\r\n\r\nIn fact, we can even go a step farther, and change the way we do the `no ____ recipes` feature too.\r\n\r\n```java\r\n   public void compareRecipe(UserPrompt prompt) {\r\n   \r\n      prompt.print(&quot;According to the input, you can make:&quot;);\r\n      \r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n      \r\n         Integer count = getIngredientCount(each);\r\n      \r\n         if (count == 0)\r\n         {\r\n         \r\n            prompt.print(&quot;No &quot; + each.name().toLowerCase() + &quot; recipes&quot;);\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      for (Recipe each : Recipe.values())\r\n      {\r\n      \r\n         if (each.canMakeRecipeWith(ingredients))\r\n         {\r\n         \r\n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n   }\r\n```\r\n\r\nNow, if you ever add a new value to `Ingredient`, you don&#39;t need to add another method to notify that there aren&#39;t enough ingredients. This loop will now handle that for you.\r\n\r\nAs for what this method does, it basically does exactly what it did before, but using enums. It uses the `ordinal()` method to print the number, then uses the `name()` method to print the name. Each enum has an ordinal, which is just like an index in the array example we used to have before. We will be using arrays a little bit in our solution, but they will be `Ingredient[]` now instead of `int[]` or `String[]`. That will come later on though.\r\n\r\nNow, if we try compiling, both `ShowRecipesNew` and `Recipe` should be good. Of course, we still have plenty to do in `ShowRecipesNew`.\r\n\r\nFirst, let&#39;s start deleting the non-enum stuff. That includes the leftover `Scanner` (which should have been deleted long ago), the `ingredientNames` array, and all the getters and setters for the array instance fields. Once we clean up `ShowRecipesNew`, here is what we have left.\r\n\r\n#### `ShowRecipesNew.java` ####\r\n```java\r\nimport java.util.EnumMap;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\n//object class\r\npublic class ShowRecipesNew {\r\n\r\n //ingredients array - setters will set\r\n   private EnumMap&lt;Ingredient, Integer&gt; ingredients = new EnumMap&lt;&gt;(Ingredient.class);\r\n\r\n //Basic constructor\r\n   public ShowRecipesNew() {\r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n         ingredients.put(each, each.defaultValue());\r\n      }\r\n   }\r\n\r\n //overloaded constructor that covers each field\r\n   public ShowRecipesNew(int apples, int cherries, int carrots, int flour, int sugar) {\r\n      this();\r\n      System.out.println(&quot;overloaded&quot;);\r\n      setIngredientCount(Ingredient.APPLE, apples);\r\n      setIngredientCount(Ingredient.CHERRY, cherries);\r\n      setIngredientCount(Ingredient.CARROT, carrots);\r\n      setIngredientCount(Ingredient.FLOUR, flour);\r\n      setIngredientCount(Ingredient.SUGAR, sugar);\r\n   }\r\n\r\n   public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\r\n      prompt.print(&quot;According to your input, you have:&quot;);\r\n   \r\n      prompt.print(&quot;Ingredient\\tValue&quot;);\r\n      for(Map.Entry&lt;Ingredient, Integer&gt; each : ingredients.entrySet()) {\r\n         prompt.print(each.getKey() + &quot;\\t\\t&quot; + each.getValue());\r\n      }//end for loop\r\n   }//end ingredient listing\r\n \r\n   public void setIngredientCount(Ingredient ingredient, int count)\r\n   {\r\n   \r\n      ingredients.put(ingredient, count);\r\n   \r\n   }\r\n \r\n   public int getIngredientCount(Ingredient ingredient)\r\n   {\r\n   \r\n      return ingredients.get(ingredient);\r\n   \r\n   }\r\n \r\n   public void compareRecipe(UserPrompt prompt) {\r\n   \r\n      prompt.print(&quot;According to the input, you can make:&quot;);\r\n      \r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n      \r\n         Integer count = getIngredientCount(each);\r\n      \r\n         if (count == 0)\r\n         {\r\n         \r\n            prompt.print(&quot;No &quot; + each.name().toLowerCase() + &quot; recipes&quot;);\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      for (Recipe each : Recipe.values())\r\n      {\r\n      \r\n         if (each.canMakeRecipeWith(ingredients))\r\n         {\r\n         \r\n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nMuch smaller and more compact. Now, there are no more references to arrays or magic numbers. Just pure values and enums. I also went ahead and removed the getter `getIngredientsBag()` for `ingredients`. Even though it returns an `EnumMap&lt;Ingredient, Integer&gt;`, we can check each `Ingredient` individually using `getIngredientCount()`, so there&#39;s not much benefit in exposing the whole map.\r\n\r\nNow, if we compile all of our classes, everything should be working except for `Driver.java`. So let&#39;s start fixing that.\r\n\r\nNow, we could go through each one of the errors individually, but just trust me when I say we should just go through each method and rework it to use enums instead. Java has decent error messages, but sometimes (and in this particular moment), they will send you off on a goose hunt when the real issue is elsewhere. So, let&#39;s go through the methods in `Driver` one by one and switch out the `int[]` and `String[]` based solutions for enum ones.\r\n\r\n- `public Driver(ShowRecipesNew parameter)` - nothing to change here, this is perfect. \r\n- `public static void main (String [] args)` - same thing here, no `int[]` or `String[]`, so we are all good.\r\n- `public void selection(UserPrompt prompt)` - this is fine. All we are doing is letting the user choose which option they want. Technically, we could turn this into an enum too, but that would be excessive with no short term benefit.\r\n- `public void WantToCook(UserPrompt prompt)` - Ok, here is something that we do need to change. In this method, we are manually editing the values via the old getters and setters. Obviously those are gone now, and more importantly, we have a much more efficient way of doing this. But in order to use it, we must modify our `Recipe` enum one more time.\r\n\r\nIn `Recipe`, we created the method `canMakeRecipeWith`, whose only job was to check if we had enough of each `Ingredient` to be able to cook our recipe. However, there is no method to actually modify the ingredients counts. Let&#39;s give `Recipe` the ability to do that by plugging `ShowRecipesNew` into a new method in `Recipe`.\r\n\r\n```java\r\n   public String cookRecipeWith(ShowRecipesNew sr)\r\n   {\r\n   \r\n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\r\n      {\r\n      \r\n         Ingredient ingredient = each.getKey();\r\n         int currentNum = sr.getIngredientCount(ingredient);\r\n         int requiredAmount = requiredIngredients.get(ingredient);\r\n      \r\n         sr.setIngredientCount(ingredient, currentNum - requiredAmount);\r\n      \r\n      }\r\n      \r\n      return name();\r\n   \r\n   }\r\n```\r\n\r\nOf course, it is not the job of `Recipe` to do state manipulation, but we need state manipulation to occur, so we plug in `ShowRecipesNew` so that we can delegate state manipulation.\r\n\r\nNow, what this method does is go through the `requiredIngredients` of the `Recipe`, then removes the amount from `sr`. Basically, it is doing exactly what `WantToCook()` was doing, but it&#39;s using a for loop to make this code both smaller and safer.\r\n\r\nNow, let&#39;s rework `WantToCook()` to use this new functionality we created.\r\n\r\n```java\r\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n     \r\n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n      \r\n      if (recipeNum &gt;= Recipe.values().length)\r\n      {\r\n      \r\n         prompt.print(&quot;invalid entry&quot;);\r\n      \r\n      }\r\n      \r\n      else\r\n      {\r\n      \r\n         final Recipe recipeToMake = Recipe.values()[recipeNum];\r\n      \r\n         prompt.print(recipeToMake.cookRecipeWith(sr));\r\n      \r\n      }\r\n      \r\n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n      CookAgain(prompt); //cook again? prompt\r\n   } //end WantToCook method\r\n```\r\n\r\nNow, all the logic is being handled by the `Recipe` enum, and we don&#39;t need to think about whether we caught all the values or not - the for loop is handling that for us. Let&#39;s move on to the next method.\r\n\r\n- `public void input(UserPrompt prompt)` - This one also needs to be reworked. Let&#39;s start on this one too.\r\n\r\n```java\r\n   public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n   \r\n     //Asks user for ingredients on-hand\r\n      prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\r\n      \r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n      \r\n         int count = prompt.askForNumber(each.name());\r\n      \r\n         sr.setIngredientCount(each, count);\r\n      \r\n      }\r\n   \r\n   }//end user ingredient input\r\n```\r\n\r\nThis is stuff we&#39;ve seen a few times before, so I won&#39;t go in depth - we cycle through all possible values of `Ingredient`, then use `sr` to set them to the `count` number that the user entered.\r\n\r\n- `public void CookAgain(UserPrompt prompt)` - This one also needs to change, but we will need to undo some of the work we have done prior. It will be very minimal though, so don&#39;t worry.\r\n\r\nFirst, what this method does is ask the user what they want to do. Then, if the user says they want to cook, they check if cooking can be done. If so, then reenter the cooking process again. But if not, then notify the user. If the user says they do not want to cook, then we just break out and more or less end the method.\r\n\r\nIn retrospect, this method is a little more complex than I remember it, but we can clean it up a lot with only a little effort.\r\n\r\nFirst, we need to check if we have enough `Ingredient` in `sr` to be able to cook any of the `Recipe`. In `Recipe`, we have a method that allows us to check if we have enough `Ingredient`, but it checks a `Map`, not `ShowRecipesNew`, which is what `sr` is. Normally, we would just make a new method to handle checking, but since what they do is exactly the same with only a different parameter, I think it makes more sense to just have one method handle checking.\r\n\r\nSo now, let&#39;s redo our `canMakeRecipeWith()` method in `Recipe`.\r\n\r\n```java\r\n   public boolean canMakeRecipeWith(ShowRecipesNew sr)\r\n   {\r\n   \r\n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\r\n      {\r\n      \r\n         Ingredient ingredient = each.getKey();\r\n         int howMuchWeHave = sr.getIngredientCount(ingredient);\r\n         int howMuchWeNeed = requiredIngredients.get(ingredient);\r\n      \r\n         if (howMuchWeHave &lt; howMuchWeNeed)\r\n         {\r\n         \r\n            return false;\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      return true;\r\n   \r\n   }\r\n```\r\n\r\nNice, now our `cookRecipeWith` and `canMakeRecipeWith` methods both have `ShowRecipesNew sr` as their parameter. That hopefully makes things a bit simpler to follow along with.\r\n\r\nHowever, changing this method broke `ShowRecipesNew` a little, so let&#39;s fix that. Specifically, it broke the `compareRecipe()` method. It&#39;s a simple fix though.\r\n\r\n```java\r\n   public void compareRecipe(UserPrompt prompt) {\r\n   \r\n      prompt.print(&quot;According to the input, you can make:&quot;);\r\n      \r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n      \r\n         Integer count = getIngredientCount(each);\r\n      \r\n         if (count == null || count == 0)\r\n         {\r\n         \r\n            prompt.print(&quot;No &quot; + each.name().toLowerCase() + &quot; recipes&quot;);\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      for (Recipe each : Recipe.values())\r\n      {\r\n         //here is the change\r\n         if (each.canMakeRecipeWith(this))\r\n         {\r\n         \r\n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n   }\r\n```\r\n\r\nThe keyword `this` is used in Java to represent the instance itself. It&#39;s more or less saying ***use myself as the parameter for this method***. And that works because `canMakeRecipeWith()` is looking for a `ShowRecipesNew` parameter. Therefore, if `ShowRecipesNew` submits itself as the parameter, everything checks out fine!\r\n\r\nAnyways, now `ShowRecipesNew` is working again, so we can go back to `Driver`. However, before we go back to our method, there is one logic bug I would like to fix. In `WantToCook()`, I would like to check whether the `Recipe` the user selected is actually something we have enough `Ingredient` to make. So, I will add a simple check to that method.\r\n\r\n```java\r\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n     \r\n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n      \r\n      if (recipeNum &gt;= Recipe.values().length || recipeNum &lt; 0)\r\n      {\r\n      \r\n         prompt.print(&quot;invalid entry&quot;);\r\n      \r\n      }\r\n      \r\n      else\r\n      {\r\n      \r\n         final Recipe recipeToMake = Recipe.values()[recipeNum];\r\n      \r\n         if (recipeToMake.canMakeWith(sr))\r\n         {\r\n         \r\n            prompt.print(recipeToMake.cookRecipeWith(sr));\r\n         \r\n         }\r\n         \r\n         else\r\n         {\r\n         \r\n            prompt.print(&quot;not enough ingredients&quot;);\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n      CookAgain(prompt); //cook again? prompt\r\n   } //end WantToCook method\r\n```\r\n\r\nNice, now we have fixed that logic error, we can go back to the method we were editing, `CookAgain`.\r\n\r\nFor this method, we need to check if we have enough `Ingredient` to make any of the `Recipe` we have. To do this, let&#39;s just cycle through all of the `Recipe` and see if we have enough `Ingredient` to make any of them. And to keep things organized, I&#39;ll make a new method to do this cycling, and then toss it onto the `Recipe` enum.\r\n\r\n```java\r\n   public static boolean canCookAnything(ShowRecipesNew sr)\r\n   {\r\n   \r\n      for (Recipe each : Recipe.values())\r\n      {\r\n      \r\n         if (each.canMakeRecipeWith(sr))\r\n         {\r\n         \r\n            return true;\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      return false;\r\n      \r\n   }\r\n```\r\n\r\nThis works almost exactly the same as the other `canMakeRecipeWith()` method, but the difference being, it borrows that method to check all possible values in `Recipe`.\r\n\r\nNow, let&#39;s use that new method in our `CookAgain()` method.\r\n\r\n```java\r\n   public void CookAgain(UserPrompt prompt) {   \r\n   \r\n      int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\r\n   \r\n      switch (answer) {\r\n      \r\n         case 1: //which means yes\r\n            if (Recipe.canCookAnything(sr)) {\r\n               prompt.print(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n               sr.IngredientCount(prompt);\r\n               sr.compareRecipe(prompt);\r\n               WantToCook(prompt);\r\n               break;\r\n            }\r\n            else {\r\n               prompt.print(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n               break;\r\n            }\r\n         case 2: //which means no\r\n            prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\r\n            break;\r\n         default:\r\n            prompt.print(&quot;Invalid answer please try again!&quot;);\r\n      \r\n      }// End answer switch\r\n   \r\n   }\r\n```\r\n\r\nAnd just like that, we have simplified this method down to check all possible values of `Recipe` and `Ingredient`, not just the apples, cherries, and carrots it was checking before.\r\n\r\nAnd now, we have finally finished the refactor of your entire program!\r\n\r\n# COMPLETE #\r\n\r\nIf you made it this far, be proud of yourself - you have proven to be a resilient programmer willing to do a deep dive to learn more. You will certainly go far in this industry, I don&#39;t doubt that.\r\n\r\nI will post the completed program in PART FINAL, since I am running out of space here.","title":"Is there a way I can break up into more than 2 classes","body":"<h3>PART 5</h3>\n<p>This setter can handle all of the different <code>Ingredient</code> values because it takes in an <code>Ingredient</code> parameter. What this means is that, if I want to set the number of Apples to be 12, all I need to do is this -- <code>setIngredientCount(Ingredient.APPLE, 12);</code>. As you can see, you don't need a separate method to handle setting Cherry or Carrot. They can all be set by using this method, it just requires you to specify which ingredient you are setting in the parameter.</p>\n<p>Now, once we replace all those setters with this new one, more stuff starts breaking that depended on the old setter. In this case, the <code>ShowRecipesNew</code> constructor (the one with many parameters) is now broken, since it used to use the old setters. We just need to swap out the old setters with the new one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public ShowRecipesNew(int apples, int cherries, int carrots, int flour, int sugar) {\n      System.out.println(&quot;overloaded&quot;);\n      this();\n      setIngredientCount(Ingredient.APPLE, apples);\n      setIngredientCount(Ingredient.CHERRY, cherries);\n      setIngredientCount(Ingredient.CARROT, carrots);\n      setIngredientCount(Ingredient.FLOUR, flour);\n      setIngredientCount(Ingredient.SUGAR, sugar);\n   }\n</code></pre>\n<p>That <code>this()</code> method actually calls the <code>ShowRecipes()</code> constructor first. That is helpful since it sets all values to the <code>defaultValue</code> first. Then, we can later modify them using the <code>setIngredientCount()</code> method. This way, we can avoid any pesky and annoying nulls.</p>\n<p>Once that compiles, then this constructor is good. The next error comes from the getters of all the different ingredients. Just like the setter, we can combine all of this into a single method. Here it is.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public int getIngredientCount(Ingredient ingredient)\n   {\n   \n      return ingredients.get(ingredient);\n   \n   }\n</code></pre>\n<p>Once that getter is fixed, then the next method to break is the <code>compareRecipe()</code> method in <code>ShowRecipe</code> class.</p>\n<p>Now this method is yet another place we can use enums to make the code both easier to understand and safer. We are actually going to uproot this method almost entirely, and place the logic into the <code>Recipe</code> enum.</p>\n<p>Let's start by adding the ability to put a map of <code>requiredIngredients</code> inside of each method, using an <code>EnumMap&lt;K&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.EnumMap;\nimport java.util.Map;\n\npublic enum Recipe\n{\n\n   APPLE_JAM,\n   APPLE_JELLY,\n   APPLE_SMOOTHIE,\n   APPLE_TART,\n   APPLE_PIE,\n   CHERRY_JAM,\n   CHERRY_JELLY,\n   CHERRY_PIE,\n   CHERRY_TART,\n   CARROT_JUICE,\n   CARROT_CAKE,\n   CARROT_POTAGE,\n   ;\n   \n   private final EnumMap&lt;Ingredient, Integer&gt; requiredIngredients;\n   \n   Recipe(Map&lt;Ingredient, Integer&gt; parameter)\n   {\n   \n      requiredIngredients = new EnumMap&lt;&gt;(parameter);\n   \n   }\n\n}\n</code></pre>\n<p>Now, we can plug in how many of each ingredient we need in order to satisfy this recipe. As for the methods I am using, I am constructing key value pairs as mentioned before, with the key being the ingredient, and the value being how much of that ingredient. I know the methods might look a bit confusing, but that is all that they are doing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.EnumMap;\nimport java.util.Map;\n\npublic enum Recipe\n{\n\n   APPLE_JAM(\n      Map.of(\n         Ingredient.APPLE, 3\n      )\n   ),\n   \n   APPLE_JELLY(\n      Map.of(\n         Ingredient.APPLE, 2\n      )\n   ),\n   \n   APPLE_SMOOTHIE(\n      Map.of(\n         Ingredient.APPLE, 2\n      )\n   ),\n   \n   APPLE_TART(\n      Map.of(\n         Ingredient.APPLE, 1,\n         Ingredient.FLOUR, 1\n      )\n   ),\n   \n   APPLE_PIE(\n      Map.of(\n         Ingredient.APPLE, 2,\n         Ingredient.FLOUR, 1,\n         Ingredient.SUGAR, 2\n      )\n   ),\n   \n   CHERRY_JAM(\n      Map.of(\n         Ingredient.CHERRY, 3\n      )\n   ),\n   \n   CHERRY_JELLY(\n      Map.of(\n         Ingredient.CHERRY, 2\n      )\n   ),\n   \n   CHERRY_PIE(\n      Map.of(\n         Ingredient.CHERRY, 2,\n         Ingredient.FLOUR, 3,\n         Ingredient.SUGAR, 2\n      )\n   ),\n   \n   CHERRY_TART(\n      Map.of(\n         Ingredient.CHERRY, 1,\n         Ingredient.FLOUR, 1,\n         Ingredient.SUGAR, 1\n      )\n   ),\n   \n   CARROT_JUICE(\n      Map.of(\n         Ingredient.CARROT, 2\n      )\n   ),\n   \n   CARROT_CAKE(\n      Map.of(\n         Ingredient.CARROT, 1,\n         Ingredient.FLOUR, 1,\n         Ingredient.SUGAR, 1\n      )\n   ),\n   \n   CARROT_POTAGE(\n      Map.of(\n         Ingredient.CARROT, 2,\n         Ingredient.FLOUR, 1\n      )\n   ),\n   ;\n   \n   private final EnumMap&lt;Ingredient, Integer&gt; requiredIngredients;\n   \n   Recipe(Map&lt;Ingredient, Integer&gt; parameter)\n   {\n   \n      requiredIngredients = new EnumMap&lt;&gt;(parameter);\n   \n   }\n\n}\n</code></pre>\n<p>As you can see, the code is a lot more explicit now. Instead of saying <code>we need a value of 3 in ingredients[0] to satisfy recipeNamesA[0]</code>, we can now say <code>we need a value of 3 for Ingredient.APPLE to satisfy APPLE_PIE</code>. We are using more complex terms to do it, but once you understand those complex terms, the solution becomes much more expressive and easy to understand.</p>\n<p>And finally, let's add a method to <code>Recipe</code> in order to help us do the quantity check.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public boolean canMakeRecipeWith(Map&lt;Ingredient, Integer&gt; ingredientsWeHave)\n   {\n   \n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\n      {\n      \n         Ingredient ingredient = each.getKey();\n         int howMuchWeHave = ingredientsWeHave.get(ingredient);\n         int howMuchWeNeed = requiredIngredients.get(ingredient);\n      \n         if (howMuchWeHave &lt; howMuchWeNeed)\n         {\n         \n            return false;\n         \n         }\n      \n      }\n      \n      return true;\n   \n   }\n</code></pre>\n<p>This method will allow us to take in our <code>Map&lt;Ingredient, Integer&gt;</code> and see if we have enough ingredients to make the chosen recipe. The way we will chose the recipe is by doing something like this. <code>Recipe.APPLE_PIE.canMakeRecipeWith(ingredients)</code> -- this will return <code>true</code> or <code>false</code> depending on whether or not <code>ingredients</code> has enough of each <code>Ingredient</code> to make an <code>APPLE_PIE</code></p>\n<p>Now, we have modified this enum to become powerful and expressive. Let's start using it.</p>\n<p>Back to our original method <code>compareRecipe()</code>, we can pretty much rework this method from the ground up to use our new enum functionality.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void compareRecipe(UserPrompt prompt) {\n   \n      prompt.print(&quot;According to the input, you can make:&quot;);\n      \n      if (getIngredientCount(Ingredient.APPLE) == 0) {\n         prompt.print(&quot;No apple recipes&quot;);\n      }\n   \n      if (getIngredientCount(Ingredient.CHERRY) == 0) {\n         prompt.print(&quot;No cherry recipes&quot;);\n      }\n   \n      if (getIngredientCount(Ingredient.CARROT) == 0) {\n         prompt.print(&quot;No carrot recipes&quot;);\n      }\n     \n      for (Recipe each : Recipe.values())\n      {\n      \n         if (each.canMakeRecipeWith(ingredients))\n         {\n         \n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\n         \n         }\n      \n      }\n   \n   }\n</code></pre>\n<p>This is really helpful to us because now, if we ever add a new <code>Recipe</code>, we never have to touch this method again. Since we plugged in the <code>Recipe</code> enum into <code>ShowRecipesNew</code>, we only have to modify <code>Recipe</code> in order to make sweeping changes for <code>ShowRecipesNew</code>.</p>\n<p>In fact, we can even go a step farther, and change the way we do the <code>no ____ recipes</code> feature too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void compareRecipe(UserPrompt prompt) {\n   \n      prompt.print(&quot;According to the input, you can make:&quot;);\n      \n      for (Ingredient each : Ingredient.values())\n      {\n      \n         Integer count = getIngredientCount(each);\n      \n         if (count == 0)\n         {\n         \n            prompt.print(&quot;No &quot; + each.name().toLowerCase() + &quot; recipes&quot;);\n         \n         }\n      \n      }\n      \n      for (Recipe each : Recipe.values())\n      {\n      \n         if (each.canMakeRecipeWith(ingredients))\n         {\n         \n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\n         \n         }\n      \n      }\n   \n   }\n</code></pre>\n<p>Now, if you ever add a new value to <code>Ingredient</code>, you don't need to add another method to notify that there aren't enough ingredients. This loop will now handle that for you.</p>\n<p>As for what this method does, it basically does exactly what it did before, but using enums. It uses the <code>ordinal()</code> method to print the number, then uses the <code>name()</code> method to print the name. Each enum has an ordinal, which is just like an index in the array example we used to have before. We will be using arrays a little bit in our solution, but they will be <code>Ingredient[]</code> now instead of <code>int[]</code> or <code>String[]</code>. That will come later on though.</p>\n<p>Now, if we try compiling, both <code>ShowRecipesNew</code> and <code>Recipe</code> should be good. Of course, we still have plenty to do in <code>ShowRecipesNew</code>.</p>\n<p>First, let's start deleting the non-enum stuff. That includes the leftover <code>Scanner</code> (which should have been deleted long ago), the <code>ingredientNames</code> array, and all the getters and setters for the array instance fields. Once we clean up <code>ShowRecipesNew</code>, here is what we have left.</p>\n<h4><code>ShowRecipesNew.java</code></h4>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.EnumMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\n//object class\npublic class ShowRecipesNew {\n\n //ingredients array - setters will set\n   private EnumMap&lt;Ingredient, Integer&gt; ingredients = new EnumMap&lt;&gt;(Ingredient.class);\n\n //Basic constructor\n   public ShowRecipesNew() {\n      for (Ingredient each : Ingredient.values())\n      {\n         ingredients.put(each, each.defaultValue());\n      }\n   }\n\n //overloaded constructor that covers each field\n   public ShowRecipesNew(int apples, int cherries, int carrots, int flour, int sugar) {\n      this();\n      System.out.println(&quot;overloaded&quot;);\n      setIngredientCount(Ingredient.APPLE, apples);\n      setIngredientCount(Ingredient.CHERRY, cherries);\n      setIngredientCount(Ingredient.CARROT, carrots);\n      setIngredientCount(Ingredient.FLOUR, flour);\n      setIngredientCount(Ingredient.SUGAR, sugar);\n   }\n\n   public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\n      prompt.print(&quot;According to your input, you have:&quot;);\n   \n      prompt.print(&quot;Ingredient\\tValue&quot;);\n      for(Map.Entry&lt;Ingredient, Integer&gt; each : ingredients.entrySet()) {\n         prompt.print(each.getKey() + &quot;\\t\\t&quot; + each.getValue());\n      }//end for loop\n   }//end ingredient listing\n \n   public void setIngredientCount(Ingredient ingredient, int count)\n   {\n   \n      ingredients.put(ingredient, count);\n   \n   }\n \n   public int getIngredientCount(Ingredient ingredient)\n   {\n   \n      return ingredients.get(ingredient);\n   \n   }\n \n   public void compareRecipe(UserPrompt prompt) {\n   \n      prompt.print(&quot;According to the input, you can make:&quot;);\n      \n      for (Ingredient each : Ingredient.values())\n      {\n      \n         Integer count = getIngredientCount(each);\n      \n         if (count == 0)\n         {\n         \n            prompt.print(&quot;No &quot; + each.name().toLowerCase() + &quot; recipes&quot;);\n         \n         }\n      \n      }\n      \n      for (Recipe each : Recipe.values())\n      {\n      \n         if (each.canMakeRecipeWith(ingredients))\n         {\n         \n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\n         \n         }\n      \n      }\n   \n   }\n\n}\n</code></pre>\n<p>Much smaller and more compact. Now, there are no more references to arrays or magic numbers. Just pure values and enums. I also went ahead and removed the getter <code>getIngredientsBag()</code> for <code>ingredients</code>. Even though it returns an <code>EnumMap&lt;Ingredient, Integer&gt;</code>, we can check each <code>Ingredient</code> individually using <code>getIngredientCount()</code>, so there's not much benefit in exposing the whole map.</p>\n<p>Now, if we compile all of our classes, everything should be working except for <code>Driver.java</code>. So let's start fixing that.</p>\n<p>Now, we could go through each one of the errors individually, but just trust me when I say we should just go through each method and rework it to use enums instead. Java has decent error messages, but sometimes (and in this particular moment), they will send you off on a goose hunt when the real issue is elsewhere. So, let's go through the methods in <code>Driver</code> one by one and switch out the <code>int[]</code> and <code>String[]</code> based solutions for enum ones.</p>\n<ul>\n<li><code>public Driver(ShowRecipesNew parameter)</code> - nothing to change here, this is perfect.</li>\n<li><code>public static void main (String [] args)</code> - same thing here, no <code>int[]</code> or <code>String[]</code>, so we are all good.</li>\n<li><code>public void selection(UserPrompt prompt)</code> - this is fine. All we are doing is letting the user choose which option they want. Technically, we could turn this into an enum too, but that would be excessive with no short term benefit.</li>\n<li><code>public void WantToCook(UserPrompt prompt)</code> - Ok, here is something that we do need to change. In this method, we are manually editing the values via the old getters and setters. Obviously those are gone now, and more importantly, we have a much more efficient way of doing this. But in order to use it, we must modify our <code>Recipe</code> enum one more time.</li>\n</ul>\n<p>In <code>Recipe</code>, we created the method <code>canMakeRecipeWith</code>, whose only job was to check if we had enough of each <code>Ingredient</code> to be able to cook our recipe. However, there is no method to actually modify the ingredients counts. Let's give <code>Recipe</code> the ability to do that by plugging <code>ShowRecipesNew</code> into a new method in <code>Recipe</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public String cookRecipeWith(ShowRecipesNew sr)\n   {\n   \n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\n      {\n      \n         Ingredient ingredient = each.getKey();\n         int currentNum = sr.getIngredientCount(ingredient);\n         int requiredAmount = requiredIngredients.get(ingredient);\n      \n         sr.setIngredientCount(ingredient, currentNum - requiredAmount);\n      \n      }\n      \n      return name();\n   \n   }\n</code></pre>\n<p>Of course, it is not the job of <code>Recipe</code> to do state manipulation, but we need state manipulation to occur, so we plug in <code>ShowRecipesNew</code> so that we can delegate state manipulation.</p>\n<p>Now, what this method does is go through the <code>requiredIngredients</code> of the <code>Recipe</code>, then removes the amount from <code>sr</code>. Basically, it is doing exactly what <code>WantToCook()</code> was doing, but it's using a for loop to make this code both smaller and safer.</p>\n<p>Now, let's rework <code>WantToCook()</code> to use this new functionality we created.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n     \n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n      \n      if (recipeNum &gt;= Recipe.values().length)\n      {\n      \n         prompt.print(&quot;invalid entry&quot;);\n      \n      }\n      \n      else\n      {\n      \n         final Recipe recipeToMake = Recipe.values()[recipeNum];\n      \n         prompt.print(recipeToMake.cookRecipeWith(sr));\n      \n      }\n      \n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n      CookAgain(prompt); //cook again? prompt\n   } //end WantToCook method\n</code></pre>\n<p>Now, all the logic is being handled by the <code>Recipe</code> enum, and we don't need to think about whether we caught all the values or not - the for loop is handling that for us. Let's move on to the next method.</p>\n<ul>\n<li><code>public void input(UserPrompt prompt)</code> - This one also needs to be reworked. Let's start on this one too.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>   public void input(UserPrompt prompt) { // user inputs ingredient counts\n   \n     //Asks user for ingredients on-hand\n      prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\n      \n      for (Ingredient each : Ingredient.values())\n      {\n      \n         int count = prompt.askForNumber(each.name());\n      \n         sr.setIngredientCount(each, count);\n      \n      }\n   \n   }//end user ingredient input\n</code></pre>\n<p>This is stuff we've seen a few times before, so I won't go in depth - we cycle through all possible values of <code>Ingredient</code>, then use <code>sr</code> to set them to the <code>count</code> number that the user entered.</p>\n<ul>\n<li><code>public void CookAgain(UserPrompt prompt)</code> - This one also needs to change, but we will need to undo some of the work we have done prior. It will be very minimal though, so don't worry.</li>\n</ul>\n<p>First, what this method does is ask the user what they want to do. Then, if the user says they want to cook, they check if cooking can be done. If so, then reenter the cooking process again. But if not, then notify the user. If the user says they do not want to cook, then we just break out and more or less end the method.</p>\n<p>In retrospect, this method is a little more complex than I remember it, but we can clean it up a lot with only a little effort.</p>\n<p>First, we need to check if we have enough <code>Ingredient</code> in <code>sr</code> to be able to cook any of the <code>Recipe</code>. In <code>Recipe</code>, we have a method that allows us to check if we have enough <code>Ingredient</code>, but it checks a <code>Map</code>, not <code>ShowRecipesNew</code>, which is what <code>sr</code> is. Normally, we would just make a new method to handle checking, but since what they do is exactly the same with only a different parameter, I think it makes more sense to just have one method handle checking.</p>\n<p>So now, let's redo our <code>canMakeRecipeWith()</code> method in <code>Recipe</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public boolean canMakeRecipeWith(ShowRecipesNew sr)\n   {\n   \n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\n      {\n      \n         Ingredient ingredient = each.getKey();\n         int howMuchWeHave = sr.getIngredientCount(ingredient);\n         int howMuchWeNeed = requiredIngredients.get(ingredient);\n      \n         if (howMuchWeHave &lt; howMuchWeNeed)\n         {\n         \n            return false;\n         \n         }\n      \n      }\n      \n      return true;\n   \n   }\n</code></pre>\n<p>Nice, now our <code>cookRecipeWith</code> and <code>canMakeRecipeWith</code> methods both have <code>ShowRecipesNew sr</code> as their parameter. That hopefully makes things a bit simpler to follow along with.</p>\n<p>However, changing this method broke <code>ShowRecipesNew</code> a little, so let's fix that. Specifically, it broke the <code>compareRecipe()</code> method. It's a simple fix though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void compareRecipe(UserPrompt prompt) {\n   \n      prompt.print(&quot;According to the input, you can make:&quot;);\n      \n      for (Ingredient each : Ingredient.values())\n      {\n      \n         Integer count = getIngredientCount(each);\n      \n         if (count == null || count == 0)\n         {\n         \n            prompt.print(&quot;No &quot; + each.name().toLowerCase() + &quot; recipes&quot;);\n         \n         }\n      \n      }\n      \n      for (Recipe each : Recipe.values())\n      {\n         //here is the change\n         if (each.canMakeRecipeWith(this))\n         {\n         \n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\n         \n         }\n      \n      }\n   \n   }\n</code></pre>\n<p>The keyword <code>this</code> is used in Java to represent the instance itself. It's more or less saying <em><strong>use myself as the parameter for this method</strong></em>. And that works because <code>canMakeRecipeWith()</code> is looking for a <code>ShowRecipesNew</code> parameter. Therefore, if <code>ShowRecipesNew</code> submits itself as the parameter, everything checks out fine!</p>\n<p>Anyways, now <code>ShowRecipesNew</code> is working again, so we can go back to <code>Driver</code>. However, before we go back to our method, there is one logic bug I would like to fix. In <code>WantToCook()</code>, I would like to check whether the <code>Recipe</code> the user selected is actually something we have enough <code>Ingredient</code> to make. So, I will add a simple check to that method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n     \n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n      \n      if (recipeNum &gt;= Recipe.values().length || recipeNum &lt; 0)\n      {\n      \n         prompt.print(&quot;invalid entry&quot;);\n      \n      }\n      \n      else\n      {\n      \n         final Recipe recipeToMake = Recipe.values()[recipeNum];\n      \n         if (recipeToMake.canMakeWith(sr))\n         {\n         \n            prompt.print(recipeToMake.cookRecipeWith(sr));\n         \n         }\n         \n         else\n         {\n         \n            prompt.print(&quot;not enough ingredients&quot;);\n         \n         }\n      \n      }\n      \n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n      CookAgain(prompt); //cook again? prompt\n   } //end WantToCook method\n</code></pre>\n<p>Nice, now we have fixed that logic error, we can go back to the method we were editing, <code>CookAgain</code>.</p>\n<p>For this method, we need to check if we have enough <code>Ingredient</code> to make any of the <code>Recipe</code> we have. To do this, let's just cycle through all of the <code>Recipe</code> and see if we have enough <code>Ingredient</code> to make any of them. And to keep things organized, I'll make a new method to do this cycling, and then toss it onto the <code>Recipe</code> enum.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static boolean canCookAnything(ShowRecipesNew sr)\n   {\n   \n      for (Recipe each : Recipe.values())\n      {\n      \n         if (each.canMakeRecipeWith(sr))\n         {\n         \n            return true;\n         \n         }\n      \n      }\n      \n      return false;\n      \n   }\n</code></pre>\n<p>This works almost exactly the same as the other <code>canMakeRecipeWith()</code> method, but the difference being, it borrows that method to check all possible values in <code>Recipe</code>.</p>\n<p>Now, let's use that new method in our <code>CookAgain()</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public void CookAgain(UserPrompt prompt) {   \n   \n      int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\n   \n      switch (answer) {\n      \n         case 1: //which means yes\n            if (Recipe.canCookAnything(sr)) {\n               prompt.print(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n               sr.IngredientCount(prompt);\n               sr.compareRecipe(prompt);\n               WantToCook(prompt);\n               break;\n            }\n            else {\n               prompt.print(&quot;You don't have enough ingredients left to cook anything.&quot;);\n               break;\n            }\n         case 2: //which means no\n            prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\n            break;\n         default:\n            prompt.print(&quot;Invalid answer please try again!&quot;);\n      \n      }// End answer switch\n   \n   }\n</code></pre>\n<p>And just like that, we have simplified this method down to check all possible values of <code>Recipe</code> and <code>Ingredient</code>, not just the apples, cherries, and carrots it was checking before.</p>\n<p>And now, we have finally finished the refactor of your entire program!</p>\n<h1>COMPLETE</h1>\n<p>If you made it this far, be proud of yourself - you have proven to be a resilient programmer willing to do a deep dive to learn more. You will certainly go far in this industry, I don't doubt that.</p>\n<p>I will post the completed program in PART FINAL, since I am running out of space here.</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651859232,"creation_date":1651859232,"answer_id":72145530,"question_id":72134123,"body_markdown":"# PART FINAL #\r\n\r\nAs promised, here is the complete program, with everything working using all of the refactored code.\r\n\r\n## Driver.java ##\r\n\r\n```java\r\npublic class Driver\r\n{\r\n\r\n   private ShowRecipesNew sr;\r\n   \r\n   public Driver(ShowRecipesNew parameter)\r\n   {\r\n   \r\n      sr = parameter;\r\n   \r\n   }\r\n\r\n   public static void main (String [] args){\r\n      final ShowRecipesNew first = new ShowRecipesNew();\r\n      System.out.println(&quot;FIRST&quot;);\r\n      \r\n      final UserPrompt prompt = new UserPrompt();\r\n      \r\n      final Driver driver = new Driver(first);\r\n      driver.input(prompt);\r\n      first.compareRecipe(prompt);\r\n      driver.WantToCook(prompt);\r\n   \r\n      driver.selection(prompt);\r\n        \r\n   }\r\n      \r\n   public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\r\n     \r\n     //1. Cook something -- WantToCook()\r\n     //2. See ingredient list -- IngredientCount()\r\n     //3. See available recipes -- compareRecipe()\r\n     //4. Modify total ingredient amounts -- input()\r\n     //maybe  put this in ShowRecipes, create object for each to put in own classes\r\n     \r\n      int userChoice = \r\n         prompt.askForNumber(\r\n            &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\r\n         );\r\n     \r\n      switch (userChoice) {\r\n         case 1:\r\n            WantToCook(prompt);\r\n            break;\r\n         case 2: \r\n            sr.IngredientCount(prompt);\r\n            break;\r\n         case 3: \r\n            sr.compareRecipe(prompt);\r\n            break;\r\n         case 4:\r\n            input(prompt);\r\n            break;\r\n         default:\r\n            System.out.println(&quot;Invalid&quot;);\r\n            return;\r\n      }\r\n      \r\n   }\r\n\r\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\r\n     \r\n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n      \r\n      if (recipeNum &gt;= Recipe.values().length || recipeNum &lt; 0)\r\n      {\r\n      \r\n         prompt.print(&quot;invalid entry&quot;);\r\n      \r\n      }\r\n      \r\n      else\r\n      {\r\n      \r\n         final Recipe recipeToMake = Recipe.values()[recipeNum];\r\n      \r\n         if (recipeToMake.canMakeRecipeWith(sr))\r\n         {\r\n         \r\n            prompt.print(recipeToMake.cookRecipeWith(sr));\r\n         \r\n         }\r\n         \r\n         else\r\n         {\r\n         \r\n            prompt.print(&quot;not enough ingredients&quot;);\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\r\n      CookAgain(prompt); //cook again? prompt\r\n   } //end WantToCook method\r\n\r\n   public void input(UserPrompt prompt) { // user inputs ingredient counts\r\n   \r\n     //Asks user for ingredients on-hand\r\n      prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\r\n      \r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n      \r\n         int count = prompt.askForNumber(each.name());\r\n      \r\n         sr.setIngredientCount(each, count);\r\n      \r\n      }\r\n   \r\n   }//end user ingredient input\r\n\r\n   public void CookAgain(UserPrompt prompt) {   \r\n   \r\n      int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\r\n   \r\n      switch (answer) {\r\n      \r\n         case 1: //which means yes\r\n            if (Recipe.canCookAnything(sr)) {\r\n               prompt.print(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n               sr.IngredientCount(prompt);\r\n               sr.compareRecipe(prompt);\r\n               WantToCook(prompt);\r\n               break;\r\n            }\r\n            else {\r\n               prompt.print(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n               break;\r\n            }\r\n         case 2: //which means no\r\n            prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\r\n            break;\r\n         default:\r\n            prompt.print(&quot;Invalid answer please try again!&quot;);\r\n      \r\n      }// End answer switch\r\n   \r\n   }\r\n   \r\n}\r\n\r\n```\r\n\r\n## UserPrompt.java ##\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class UserPrompt\r\n{\r\n\r\n   private final Scanner kbd = new Scanner(System.in);\r\n\r\n   public int askForNumber(String prompt)\r\n   {\r\n   \r\n      //Print your prompt to the command line -- I added a little extra at the end for simple reading\r\n      System.out.print(prompt + &quot; - &quot;);\r\n      \r\n      return kbd.nextInt();\r\n      \r\n   }\r\n   \r\n   public void print(String message)\r\n   {\r\n   \r\n      System.out.println(message);\r\n   \r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\n## ShowRecipesNew.java ##\r\n```java\r\nimport java.util.EnumMap;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\n//object class\r\npublic class ShowRecipesNew {\r\n\r\n //ingredients array - setters will set\r\n   private EnumMap&lt;Ingredient, Integer&gt; ingredients = new EnumMap&lt;&gt;(Ingredient.class);\r\n\r\n //Basic constructor\r\n   public ShowRecipesNew() {\r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n         ingredients.put(each, each.defaultValue());\r\n      }\r\n   }\r\n\r\n //overloaded constructor that covers each field\r\n   public ShowRecipesNew(int apples, int cherries, int carrots, int flour, int sugar) {\r\n      this();\r\n      System.out.println(&quot;overloaded&quot;);\r\n      setIngredientCount(Ingredient.APPLE, apples);\r\n      setIngredientCount(Ingredient.CHERRY, cherries);\r\n      setIngredientCount(Ingredient.CARROT, carrots);\r\n      setIngredientCount(Ingredient.FLOUR, flour);\r\n      setIngredientCount(Ingredient.SUGAR, sugar);\r\n   }\r\n\r\n\r\n   public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\r\n      prompt.print(&quot;According to your input, you have:&quot;);\r\n   \r\n      prompt.print(&quot;Ingredient\\tValue&quot;);\r\n      for(Map.Entry&lt;Ingredient, Integer&gt; each : ingredients.entrySet()) {\r\n         prompt.print(each.getKey() + &quot;\\t\\t&quot; + each.getValue());\r\n      }//end for loop\r\n   }//end ingredient listing\r\n \r\n   public void setIngredientCount(Ingredient ingredient, int count)\r\n   {\r\n   \r\n      ingredients.put(ingredient, count);\r\n   \r\n   }\r\n \r\n   public int getIngredientCount(Ingredient ingredient)\r\n   {\r\n   \r\n      return ingredients.get(ingredient);\r\n   \r\n   }\r\n \r\n   public void compareRecipe(UserPrompt prompt) {\r\n   \r\n      prompt.print(&quot;According to the input, you can make:&quot;);\r\n      \r\n      for (Ingredient each : Ingredient.values())\r\n      {\r\n      \r\n         Integer count = getIngredientCount(each);\r\n      \r\n         if (count == null || count == 0)\r\n         {\r\n         \r\n            prompt.print(&quot;No &quot; + each.name().toLowerCase() + &quot; recipes&quot;);\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      for (Recipe each : Recipe.values())\r\n      {\r\n      \r\n         if (each.canMakeRecipeWith(this))\r\n         {\r\n         \r\n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\n## Ingredient.java ##\r\n```java\r\npublic enum Ingredient\r\n{\r\n\r\n   APPLE(1),\r\n   CHERRY(1),\r\n   CARROT(1),\r\n   FLOUR(0),\r\n   SUGAR(0),\r\n   ;\r\n   \r\n   private final int defaultValue;\r\n   \r\n   Ingredient(int input)\r\n   {\r\n   \r\n      defaultValue = input;\r\n   \r\n   }\r\n   \r\n   public int defaultValue()\r\n   {\r\n   \r\n      return defaultValue;\r\n   \r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\n## Recipe.java ##\r\n```java\r\nimport java.util.EnumMap;\r\nimport java.util.Map;\r\n\r\npublic enum Recipe\r\n{\r\n\r\n   APPLE_JAM(\r\n      Map.of(\r\n         Ingredient.APPLE, 3\r\n      )\r\n   ),\r\n   \r\n   APPLE_JELLY(\r\n      Map.of(\r\n         Ingredient.APPLE, 2\r\n      )\r\n   ),\r\n   \r\n   APPLE_SMOOTHIE(\r\n      Map.of(\r\n         Ingredient.APPLE, 2\r\n      )\r\n   ),\r\n   \r\n   APPLE_TART(\r\n      Map.of(\r\n         Ingredient.APPLE, 1,\r\n         Ingredient.FLOUR, 1\r\n      )\r\n   ),\r\n   \r\n   APPLE_PIE(\r\n      Map.of(\r\n         Ingredient.APPLE, 2,\r\n         Ingredient.FLOUR, 1,\r\n         Ingredient.SUGAR, 2\r\n      )\r\n   ),\r\n   \r\n   CHERRY_JAM(\r\n      Map.of(\r\n         Ingredient.CHERRY, 3\r\n      )\r\n   ),\r\n   \r\n   CHERRY_JELLY(\r\n      Map.of(\r\n         Ingredient.CHERRY, 2\r\n      )\r\n   ),\r\n   \r\n   CHERRY_PIE(\r\n      Map.of(\r\n         Ingredient.CHERRY, 2,\r\n         Ingredient.FLOUR, 3,\r\n         Ingredient.SUGAR, 2\r\n      )\r\n   ),\r\n   \r\n   CHERRY_TART(\r\n      Map.of(\r\n         Ingredient.CHERRY, 1,\r\n         Ingredient.FLOUR, 1,\r\n         Ingredient.SUGAR, 1\r\n      )\r\n   ),\r\n   \r\n   CARROT_JUICE(\r\n      Map.of(\r\n         Ingredient.CARROT, 2\r\n      )\r\n   ),\r\n   \r\n   CARROT_CAKE(\r\n      Map.of(\r\n         Ingredient.CARROT, 1,\r\n         Ingredient.FLOUR, 1,\r\n         Ingredient.SUGAR, 1\r\n      )\r\n   ),\r\n   \r\n   CARROT_POTAGE(\r\n      Map.of(\r\n         Ingredient.CARROT, 2,\r\n         Ingredient.FLOUR, 1\r\n      )\r\n   ),\r\n   ;\r\n   \r\n   private final EnumMap&lt;Ingredient, Integer&gt; requiredIngredients;\r\n   \r\n   Recipe(Map&lt;Ingredient, Integer&gt; parameter)\r\n   {\r\n   \r\n      requiredIngredients = new EnumMap&lt;&gt;(parameter);\r\n   \r\n   }\r\n   \r\n   public boolean canMakeRecipeWith(ShowRecipesNew sr)\r\n   {\r\n   \r\n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\r\n      {\r\n      \r\n         Ingredient ingredient = each.getKey();\r\n         int howMuchWeHave = sr.getIngredientCount(ingredient);\r\n         int howMuchWeNeed = requiredIngredients.get(ingredient);\r\n      \r\n         if (howMuchWeHave &lt; howMuchWeNeed)\r\n         {\r\n         \r\n            return false;\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      return true;\r\n   \r\n   }\r\n\r\n   public String cookRecipeWith(ShowRecipesNew sr)\r\n   {\r\n   \r\n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\r\n      {\r\n      \r\n         Ingredient ingredient = each.getKey();\r\n         int currentNum = sr.getIngredientCount(ingredient);\r\n         int requiredAmount = requiredIngredients.get(ingredient);\r\n      \r\n         sr.setIngredientCount(ingredient, currentNum - requiredAmount);\r\n      \r\n      }\r\n      \r\n      return name();\r\n   \r\n   }\r\n   \r\n   public static boolean canCookAnything(ShowRecipesNew sr)\r\n   {\r\n   \r\n      for (Recipe each : Recipe.values())\r\n      {\r\n      \r\n         if (each.canMakeRecipeWith(sr))\r\n         {\r\n         \r\n            return true;\r\n         \r\n         }\r\n      \r\n      }\r\n      \r\n      return false;\r\n      \r\n   }\r\n\r\n}\r\n```","title":"Is there a way I can break up into more than 2 classes","body":"<h1>PART FINAL</h1>\n<p>As promised, here is the complete program, with everything working using all of the refactored code.</p>\n<h2>Driver.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class Driver\n{\n\n   private ShowRecipesNew sr;\n   \n   public Driver(ShowRecipesNew parameter)\n   {\n   \n      sr = parameter;\n   \n   }\n\n   public static void main (String [] args){\n      final ShowRecipesNew first = new ShowRecipesNew();\n      System.out.println(&quot;FIRST&quot;);\n      \n      final UserPrompt prompt = new UserPrompt();\n      \n      final Driver driver = new Driver(first);\n      driver.input(prompt);\n      first.compareRecipe(prompt);\n      driver.WantToCook(prompt);\n   \n      driver.selection(prompt);\n        \n   }\n      \n   public void selection(UserPrompt prompt){ //Can access every method in class except CookAgain\n     \n     //1. Cook something -- WantToCook()\n     //2. See ingredient list -- IngredientCount()\n     //3. See available recipes -- compareRecipe()\n     //4. Modify total ingredient amounts -- input()\n     //maybe  put this in ShowRecipes, create object for each to put in own classes\n     \n      int userChoice = \n         prompt.askForNumber(\n            &quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;\n         );\n     \n      switch (userChoice) {\n         case 1:\n            WantToCook(prompt);\n            break;\n         case 2: \n            sr.IngredientCount(prompt);\n            break;\n         case 3: \n            sr.compareRecipe(prompt);\n            break;\n         case 4:\n            input(prompt);\n            break;\n         default:\n            System.out.println(&quot;Invalid&quot;);\n            return;\n      }\n      \n   }\n\n   public void WantToCook(UserPrompt prompt) { //Enter recipe number - deducts ingredients\n     \n      int recipeNum = prompt.askForNumber(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n      \n      if (recipeNum &gt;= Recipe.values().length || recipeNum &lt; 0)\n      {\n      \n         prompt.print(&quot;invalid entry&quot;);\n      \n      }\n      \n      else\n      {\n      \n         final Recipe recipeToMake = Recipe.values()[recipeNum];\n      \n         if (recipeToMake.canMakeRecipeWith(sr))\n         {\n         \n            prompt.print(recipeToMake.cookRecipeWith(sr));\n         \n         }\n         \n         else\n         {\n         \n            prompt.print(&quot;not enough ingredients&quot;);\n         \n         }\n      \n      }\n      \n      prompt.print(&quot;You have cooked a thing! Good job!&quot;);\n      CookAgain(prompt); //cook again? prompt\n   } //end WantToCook method\n\n   public void input(UserPrompt prompt) { // user inputs ingredient counts\n   \n     //Asks user for ingredients on-hand\n      prompt.print(&quot;Please enter how many of each ingredient you have:&quot;);\n      \n      for (Ingredient each : Ingredient.values())\n      {\n      \n         int count = prompt.askForNumber(each.name());\n      \n         sr.setIngredientCount(each, count);\n      \n      }\n   \n   }//end user ingredient input\n\n   public void CookAgain(UserPrompt prompt) {   \n   \n      int answer = prompt.askForNumber(&quot;Would you like to cook again? 1 = yes, 2 = no - &quot;);\n   \n      switch (answer) {\n      \n         case 1: //which means yes\n            if (Recipe.canCookAnything(sr)) {\n               prompt.print(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n               sr.IngredientCount(prompt);\n               sr.compareRecipe(prompt);\n               WantToCook(prompt);\n               break;\n            }\n            else {\n               prompt.print(&quot;You don't have enough ingredients left to cook anything.&quot;);\n               break;\n            }\n         case 2: //which means no\n            prompt.print(&quot;Ok, done cooking. Enjoy!&quot;);\n            break;\n         default:\n            prompt.print(&quot;Invalid answer please try again!&quot;);\n      \n      }// End answer switch\n   \n   }\n   \n}\n\n</code></pre>\n<h2>UserPrompt.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class UserPrompt\n{\n\n   private final Scanner kbd = new Scanner(System.in);\n\n   public int askForNumber(String prompt)\n   {\n   \n      //Print your prompt to the command line -- I added a little extra at the end for simple reading\n      System.out.print(prompt + &quot; - &quot;);\n      \n      return kbd.nextInt();\n      \n   }\n   \n   public void print(String message)\n   {\n   \n      System.out.println(message);\n   \n   }\n\n}\n\n</code></pre>\n<h2>ShowRecipesNew.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.EnumMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\n//object class\npublic class ShowRecipesNew {\n\n //ingredients array - setters will set\n   private EnumMap&lt;Ingredient, Integer&gt; ingredients = new EnumMap&lt;&gt;(Ingredient.class);\n\n //Basic constructor\n   public ShowRecipesNew() {\n      for (Ingredient each : Ingredient.values())\n      {\n         ingredients.put(each, each.defaultValue());\n      }\n   }\n\n //overloaded constructor that covers each field\n   public ShowRecipesNew(int apples, int cherries, int carrots, int flour, int sugar) {\n      this();\n      System.out.println(&quot;overloaded&quot;);\n      setIngredientCount(Ingredient.APPLE, apples);\n      setIngredientCount(Ingredient.CHERRY, cherries);\n      setIngredientCount(Ingredient.CARROT, carrots);\n      setIngredientCount(Ingredient.FLOUR, flour);\n      setIngredientCount(Ingredient.SUGAR, sugar);\n   }\n\n\n   public void IngredientCount(UserPrompt prompt) { //Lists ingredient input counts\n      prompt.print(&quot;According to your input, you have:&quot;);\n   \n      prompt.print(&quot;Ingredient\\tValue&quot;);\n      for(Map.Entry&lt;Ingredient, Integer&gt; each : ingredients.entrySet()) {\n         prompt.print(each.getKey() + &quot;\\t\\t&quot; + each.getValue());\n      }//end for loop\n   }//end ingredient listing\n \n   public void setIngredientCount(Ingredient ingredient, int count)\n   {\n   \n      ingredients.put(ingredient, count);\n   \n   }\n \n   public int getIngredientCount(Ingredient ingredient)\n   {\n   \n      return ingredients.get(ingredient);\n   \n   }\n \n   public void compareRecipe(UserPrompt prompt) {\n   \n      prompt.print(&quot;According to the input, you can make:&quot;);\n      \n      for (Ingredient each : Ingredient.values())\n      {\n      \n         Integer count = getIngredientCount(each);\n      \n         if (count == null || count == 0)\n         {\n         \n            prompt.print(&quot;No &quot; + each.name().toLowerCase() + &quot; recipes&quot;);\n         \n         }\n      \n      }\n      \n      for (Recipe each : Recipe.values())\n      {\n      \n         if (each.canMakeRecipeWith(this))\n         {\n         \n            prompt.print(each.ordinal() + &quot; &quot; + each.name());\n         \n         }\n      \n      }\n   \n   }\n\n}\n\n</code></pre>\n<h2>Ingredient.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Ingredient\n{\n\n   APPLE(1),\n   CHERRY(1),\n   CARROT(1),\n   FLOUR(0),\n   SUGAR(0),\n   ;\n   \n   private final int defaultValue;\n   \n   Ingredient(int input)\n   {\n   \n      defaultValue = input;\n   \n   }\n   \n   public int defaultValue()\n   {\n   \n      return defaultValue;\n   \n   }\n\n}\n\n</code></pre>\n<h2>Recipe.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.EnumMap;\nimport java.util.Map;\n\npublic enum Recipe\n{\n\n   APPLE_JAM(\n      Map.of(\n         Ingredient.APPLE, 3\n      )\n   ),\n   \n   APPLE_JELLY(\n      Map.of(\n         Ingredient.APPLE, 2\n      )\n   ),\n   \n   APPLE_SMOOTHIE(\n      Map.of(\n         Ingredient.APPLE, 2\n      )\n   ),\n   \n   APPLE_TART(\n      Map.of(\n         Ingredient.APPLE, 1,\n         Ingredient.FLOUR, 1\n      )\n   ),\n   \n   APPLE_PIE(\n      Map.of(\n         Ingredient.APPLE, 2,\n         Ingredient.FLOUR, 1,\n         Ingredient.SUGAR, 2\n      )\n   ),\n   \n   CHERRY_JAM(\n      Map.of(\n         Ingredient.CHERRY, 3\n      )\n   ),\n   \n   CHERRY_JELLY(\n      Map.of(\n         Ingredient.CHERRY, 2\n      )\n   ),\n   \n   CHERRY_PIE(\n      Map.of(\n         Ingredient.CHERRY, 2,\n         Ingredient.FLOUR, 3,\n         Ingredient.SUGAR, 2\n      )\n   ),\n   \n   CHERRY_TART(\n      Map.of(\n         Ingredient.CHERRY, 1,\n         Ingredient.FLOUR, 1,\n         Ingredient.SUGAR, 1\n      )\n   ),\n   \n   CARROT_JUICE(\n      Map.of(\n         Ingredient.CARROT, 2\n      )\n   ),\n   \n   CARROT_CAKE(\n      Map.of(\n         Ingredient.CARROT, 1,\n         Ingredient.FLOUR, 1,\n         Ingredient.SUGAR, 1\n      )\n   ),\n   \n   CARROT_POTAGE(\n      Map.of(\n         Ingredient.CARROT, 2,\n         Ingredient.FLOUR, 1\n      )\n   ),\n   ;\n   \n   private final EnumMap&lt;Ingredient, Integer&gt; requiredIngredients;\n   \n   Recipe(Map&lt;Ingredient, Integer&gt; parameter)\n   {\n   \n      requiredIngredients = new EnumMap&lt;&gt;(parameter);\n   \n   }\n   \n   public boolean canMakeRecipeWith(ShowRecipesNew sr)\n   {\n   \n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\n      {\n      \n         Ingredient ingredient = each.getKey();\n         int howMuchWeHave = sr.getIngredientCount(ingredient);\n         int howMuchWeNeed = requiredIngredients.get(ingredient);\n      \n         if (howMuchWeHave &lt; howMuchWeNeed)\n         {\n         \n            return false;\n         \n         }\n      \n      }\n      \n      return true;\n   \n   }\n\n   public String cookRecipeWith(ShowRecipesNew sr)\n   {\n   \n      for (Map.Entry&lt;Ingredient, Integer&gt; each : requiredIngredients.entrySet())\n      {\n      \n         Ingredient ingredient = each.getKey();\n         int currentNum = sr.getIngredientCount(ingredient);\n         int requiredAmount = requiredIngredients.get(ingredient);\n      \n         sr.setIngredientCount(ingredient, currentNum - requiredAmount);\n      \n      }\n      \n      return name();\n   \n   }\n   \n   public static boolean canCookAnything(ShowRecipesNew sr)\n   {\n   \n      for (Recipe each : Recipe.values())\n      {\n      \n         if (each.canMakeRecipeWith(sr))\n         {\n         \n            return true;\n         \n         }\n      \n      }\n      \n      return false;\n      \n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24690639,"reputation":9,"user_id":18583184,"display_name":"weirdosupremo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":6,"score":0,"last_activity_date":1651859232,"creation_date":1651788473,"question_id":72134123,"body_markdown":"I am wondering how/if I could possibly break this up into multiple classes but keep the values across objects to pass between both. I am unable to get things working including using a constructor - the values from my first object won&#39;t go over to my second. I&#39;ve tried to copy them to the other class object using the copy method to no avail. Everything I find online uses only 2 classes, but I&#39;d like to break it up into at least 3-4 (If possible separating the WantToCook and CookAgain methods into their own class). I know there are all sorts of other improvements I could make, but due to time constraints they can no longer be a priority for me. Please help if it&#39;s even possible.\r\n\r\nMy project inputs ingredients and tells the user what recipes can be made with them. The user &quot;cooks&quot; a recipe and then the ingredients are deducted from their initial counts. The user ideally keeps doing this until no ingredients remain, but as you will see the values go into the negative. That&#39;s one of the many things I wanted to fix in addition to this but it&#39;s no longer a priority for me.\r\n\r\nHere is my problem child eyesore class:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    //object class\r\n    public class ShowRecipes {\r\n    \t\r\n    \tScanner kbd = new Scanner(System.in);\r\n    \r\n    \t//ingredient names array\r\n    \tpublic String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\r\n    \r\n    \t//ingredients array - setters will set\r\n    \tpublic int[] ingredients = new int[5];\r\n    \r\n    \t//Basic constructor\r\n    \tpublic ShowRecipes() {\r\n    \t\tingredients[0] = 1;\t//apple\r\n    \t\tingredients[1] = 1; //cherry\r\n    \t\tingredients[2] = 1;//carrot\r\n    \t\tingredients[3] = 0;//flour\r\n    \t\tingredients[4] = 0;//sugar\r\n    \t}\r\n    \r\n    \t//overloaded constructor that covers each field\r\n    \tpublic ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar) {\r\n    \t\tSystem.out.println(&quot;overloaded&quot;);\r\n    \t\tsetApples(apples);\r\n    \t\tsetCherries(cherries);\r\n    \t\tsetCarrots(carrots);\r\n    \t\tsetFlour(flour);\r\n    \t\tsetSugar(sugar);\r\n    \t}\r\n    \r\n    \tpublic void input() { // user inputs ingredient counts\r\n    \r\n    \t\t//Asks user for ingredients on-hand\r\n    \t\tSystem.out.println(&quot;Please enter how many of each ingredient you have:&quot;);\r\n    \r\n    \t\tSystem.out.print(ingredientsNames[0]);\r\n    \t\tint apples = kbd.nextInt();\r\n    \t\tsetApples(apples);\r\n    \r\n    \t\tSystem.out.print(ingredientsNames[1]);\r\n    \t\tint cherries = kbd.nextInt();\r\n    \t\tsetCherries(cherries);\r\n    \r\n    \t\tSystem.out.print(ingredientsNames[2]);\r\n    \t\tint carrots = kbd.nextInt();\r\n    \t\tsetCarrots(carrots);\r\n    \r\n    \t\tSystem.out.print(ingredientsNames[3]);\r\n    \t\tint flour = kbd.nextInt();\r\n    \t\tsetFlour(flour);\r\n    \r\n    \t\tSystem.out.print(ingredientsNames[4]);\r\n    \t\tint sugar = kbd.nextInt();\r\n    \t\tsetSugar(sugar);\r\n    \t}//end user ingredient input\r\n    \r\n    \tpublic void IngredientCount() { //Lists ingredient input counts\r\n    \t\tSystem.out.println(&quot;According to your input, you have:&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;Ingredient\\tValue&quot;);\r\n    \t\tfor(int counter=0;counter&lt;ingredients.length;counter++) {\r\n    \t\t\tSystem.out.println(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\r\n    \t\t}//end for loop\r\n    \t\t}//end ingredient listing\r\n    \t\r\n    \t\r\n    \tpublic void Selection(){ //Can access every method in class except CookAgain\r\n    \t\tSystem.out.println(&quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;);\r\n    \t\t\r\n    \t\t//1. Cook something -- WantToCook()\r\n    \t\t//2. See ingredient list -- IngredientCount()\r\n    \t\t//3. See available recipes -- compareRecipe()\r\n    \t\t//4. Modify total ingredient amounts -- input()\r\n    \t\t//maybe  put this in ShowRecipes, create object for each to put in own classes\r\n    \t\t\r\n    \t\tint selection = kbd.nextInt();\r\n    \t\t\r\n    \t\tswitch (selection) {\r\n    \t\tcase 1:\r\n    \t\t\tWantToCook();\r\n    \t\t\tbreak;\r\n    \t\tcase 2: \r\n    \t\t\tIngredientCount();\r\n    \t\t\tbreak;\r\n    \t\tcase 3: \r\n    \t\t\tcompareRecipe();\r\n    \t\t\tbreak;\r\n    \t\tcase 4:\r\n    \t\t\tinput();\r\n    \t\t\tbreak;\r\n    \t\tdefault:\r\n    \t\t\tSystem.out.println(&quot;Invalid&quot;);\r\n    \t\t\treturn;\r\n    \t\t}}\r\n    \t\r\n    \t//Setters - set from input()\r\n    \t//Apple setter\r\n    \tpublic void setApples(int apples){\r\n    \t\tingredients[0] = apples;\r\n    \t}\r\n    \t//Cherry setter\r\n    \tpublic void setCherries(int cherries){\r\n    \t\tingredients[1] = cherries;\r\n    \t}\r\n    \t//Carrot setter\r\n    \tpublic void setCarrots(int carrots){\r\n    \t\tingredients[2]= carrots;\r\n    \t}\r\n    \t//Flour setter\r\n    \tpublic void setFlour(int flour){\r\n    \t\tingredients[3] = flour;\r\n    \t}\r\n    \t//Sugar setter\r\n    \tpublic void setSugar(int sugar){\r\n    \t\tingredients[4] = sugar;\r\n    \t}\r\n    \t\r\n    \t//Getters\r\n    \t//Apple getter\r\n    \tpublic int getApples(){\r\n    \t\treturn ingredients[0];\r\n    \t}\r\n    \t//Cherry getter\r\n    \tpublic int getCherries(){\r\n    \t\treturn ingredients[1];\r\n    \t}\r\n    \t//Carrot getter\r\n    \tpublic int getCarrots(){\r\n    \t\treturn ingredients[2];\r\n    \t}\r\n    \t//Flour getter\r\n    \tpublic int getFlour(){\r\n    \t\treturn ingredients[3];\r\n    \t}\r\n    \t//Sugar getter\r\n    \tpublic int getSugar(){\r\n    \t\treturn ingredients[4];\r\n    \t}\r\n    \r\n    \tpublic void compareRecipe() {\r\n    \r\n    \t\tSystem.out.println(&quot;According to the input, you can make:&quot;);\r\n    \r\n    \t\t//Apples\r\n    \t\tif (ingredients[0] &gt;= 3) {\r\n    \t\t\tSystem.out.println(RecipeNamesA[0]); //Apple Jam\r\n    \t\t}\r\n    \t\tif (ingredients[0] &gt;= 2) {\r\n    \t\t\tSystem.out.println(RecipeNamesA[1]); //Apple Jelly\r\n    \t\t\tSystem.out.println(RecipeNamesA[2]); //Apple Smoothie\r\n    \t\t}\r\n    \r\n    \t\tif (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\r\n    \t\t\tSystem.out.println(RecipeNamesA[3]); //Apple Tart\r\n    \t\t}\r\n    \r\n    \t\tif (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\r\n    \t\t\tSystem.out.println(RecipeNamesA[4]); //Apple Pie\r\n    \t\t}\r\n    \t\tif (ingredients[0] == 0) {\r\n    \t\t\tSystem.out.println(&quot;No apple recipes&quot;);\r\n    \t\t}\r\n    \r\n    \t\t//Cherries\r\n    \t\tif (ingredients[1] &gt;= 3) {\r\n    \t\t\tSystem.out.println(RecipeNamesCh[0]); //Cherry Jam\r\n    \t\t}\r\n    \t\tif (ingredients[1] &gt;= 2) {\r\n    \t\t\tSystem.out.println(RecipeNamesCh[1]); //Cherry Jelly\r\n    \t\t}\r\n    \r\n    \t\tif (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\r\n    \t\t\tSystem.out.println(RecipeNamesCh[2]); //Cherry Pie\r\n    \t\t}\r\n    \t\tif (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\r\n    \t\t\tSystem.out.println(RecipeNamesCh[3]); //Cherry Tart\r\n    \t\t}\r\n    \t\tif (ingredients[1] == 0) {\r\n    \t\t\tSystem.out.println(&quot;No cherry recipes&quot;);\r\n    \t\t}\r\n    \r\n    \t\t//Carrots\r\n    \t\tif (ingredients[2] &gt;= 2) {\r\n    \t\t\tSystem.out.println(RecipeNamesCa[0]); //Carrot juice \r\n    \t\t}\r\n    \t\tif (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\r\n    \t\t\tSystem.out.println(RecipeNamesCa[2]); //Carrot potage\r\n    \t\t}\r\n    \r\n    \t\tif (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\r\n    \t\t\tSystem.out.println(RecipeNamesCa[1]); //Carrot cake\r\n    \t\t} \t\r\n    \t\tif (ingredients[2] == 0) {\r\n    \t\t\tSystem.out.println(&quot;No carrot recipes&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\r\n    \tprivate String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\r\n    \tprivate String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\r\n    \r\n    \tpublic void WantToCook() { //Enter recipe number - deducts ingredients\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;What would you like to cook? Please enter the recipe number.&quot;);\r\n    \t\tint recipeNum = kbd.nextInt();\r\n    \r\n    \t\tswitch(recipeNum) {\r\n    \r\n    \t\tcase 1: //Apple jam\r\n    \t\t\tsetApples(getApples()-3);\r\n    \t\t\tSystem.out.println(RecipeNamesA[0]);\r\n    \t\t\tbreak;\r\n    \t\tcase 2: //Apple jelly\r\n    \t\t\tSystem.out.println(RecipeNamesA[1]);\r\n    \t\t\tsetApples(getApples()-2);\r\n    \t\t\tbreak;\r\n    \t\tcase 3://Apple Smoothie\r\n    \t\t\tSystem.out.println(RecipeNamesA[2]);\r\n    \t\t\tsetApples(getApples()-2);\r\n    \t\t\tbreak;\r\n    \t\tcase 4: //Apple Tart\r\n    \t\t\tSystem.out.println(RecipeNamesA[3]);\r\n    \t\t\tsetApples(getApples()-1);\r\n    \t\t\tsetFlour(getFlour()-1);\r\n    \t\t\tsetSugar(getSugar()-1);\r\n    \t\t\tbreak;\r\n    \t\tcase 5: //Apple Pie\r\n    \t\t\tSystem.out.println(RecipeNamesA[4]);\r\n    \t\t\tsetApples(getApples()-2);\r\n    \t\t\tsetFlour(getFlour()-3);\r\n    \t\t\tsetSugar(getSugar()-2);\r\n    \t\t\tbreak;\r\n    \t\tcase 6: //Cherry Jam\r\n    \t\t\tSystem.out.println(RecipeNamesCh[0]);\r\n    \t\t\tsetCherries(getCherries()-3);\r\n    \t\t\tbreak;\r\n    \t\tcase 7: //Cherry Jelly\r\n    \t\t\tSystem.out.println(RecipeNamesCh[1]);\r\n    \t\t\tsetCherries(getCherries()-2);\r\n    \t\t\tbreak;\r\n    \t\tcase 8: //Cherry Pie\r\n    \t\t\tSystem.out.println(RecipeNamesCh[2]);\r\n    \t\t\tsetCherries(getCherries()-2);\r\n    \t\t\tsetFlour(getFlour()-3);\r\n    \t\t\tsetSugar(getSugar()-2);\r\n    \t\t\tbreak;\r\n    \t\tcase 9: //Cherry Tart\r\n    \t\t\tSystem.out.println(RecipeNamesCh[3]);\r\n    \t\t\tsetCherries(getCherries()-1);\r\n    \t\t\tsetFlour(getFlour()-1);\r\n    \t\t\tsetSugar(getSugar()-1);\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\tcase 10: //Carrot juice\t\r\n    \t\t\tSystem.out.println(RecipeNamesCa[0]);\r\n    \t\t\tsetCarrots(getCarrots()-2);\r\n    \t\t\tbreak;\r\n    \t\tcase 11: //Carrot cake\r\n    \t\t\tSystem.out.println(RecipeNamesCa[1]);\r\n    \t\t\tsetCarrots(getCarrots()-1);\r\n    \t\t\tsetFlour(getFlour()-1);\r\n    \t\t\tsetSugar(getSugar()-1);\r\n    \t\t\tbreak;\r\n    \r\n    \t\tcase 12: //Carrot potage\r\n    \t\t\tSystem.out.println((RecipeNamesCa[2]));\r\n    \t\t\tsetCarrots(getCarrots()-2);\r\n    \t\t\tsetFlour(getFlour()-1);\t\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n    \t\tdefault:\r\n    \t\t\tSystem.out.println(&quot;Invalid entry.&quot;);\r\n    \t\t}//End recipeNum switch\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;You have cooked a thing! Good job!&quot;);\r\n    \t\tCookAgain(); //cook again? prompt\r\n    \t} //end WantToCook method\r\n    \r\n    public void CookAgain() {\t\r\n    \t\r\n    System.out.println(&quot;Would you like to cook again? Please type yes or no&quot;);\r\n        kbd.nextLine();\r\n    \tString answer = kbd.nextLine();\r\n    \r\n    \tswitch (answer) {\r\n    \t\r\n    \tcase &quot;yes&quot;:\r\n    \tif (ingredients[0] &gt;= 1 || ingredients[1] &gt;= 1 || ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\r\n    \t\tSystem.out.println(&quot;You&#39;ve used some ingredients. Let&#39;s see what you have now.&quot;);\r\n    \t\tIngredientCount();\r\n    \t\tcompareRecipe();\r\n    \t\tWantToCook();\r\n    \t\tbreak;\r\n    \t}\r\n    \telse {\r\n    \t\tSystem.out.println(&quot;You don&#39;t have enough ingredients left to cook anything.&quot;);\r\n    \t\tbreak;\r\n    \t}\r\n    \tcase &quot;no&quot;:\r\n    \tSystem.out.println(&quot;Ok, done cooking. Enjoy!&quot;);\r\n    \tbreak;\r\n    \tdefault:\r\n    \t\tSystem.out.println(&quot;Invalid answer please try again!&quot;);\r\n    \t\r\n    \t}// End answer switch\r\n    \t\r\n    \tkbd.close(); // close scanner\r\n    }\r\n    }\r\n\r\nHere is by itty bitty driver:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class DoTheThing {\r\n    \t\r\n    \tpublic static void main (String [] args){\r\n    \t\tfinal ShowRecipes first = new ShowRecipes();\r\n    \t\tSystem.out.println(&quot;FIRST&quot;);\r\n    \t\tfirst.input();\r\n    \t\tfirst.compareRecipe();\r\n    \t\tfirst.WantToCook();\r\n    \t\t\r\n    \t\tfirst.Selection();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Is there a way I can break up into more than 2 classes","body":"<p>I am wondering how/if I could possibly break this up into multiple classes but keep the values across objects to pass between both. I am unable to get things working including using a constructor - the values from my first object won't go over to my second. I've tried to copy them to the other class object using the copy method to no avail. Everything I find online uses only 2 classes, but I'd like to break it up into at least 3-4 (If possible separating the WantToCook and CookAgain methods into their own class). I know there are all sorts of other improvements I could make, but due to time constraints they can no longer be a priority for me. Please help if it's even possible.</p>\n<p>My project inputs ingredients and tells the user what recipes can be made with them. The user &quot;cooks&quot; a recipe and then the ingredients are deducted from their initial counts. The user ideally keeps doing this until no ingredients remain, but as you will see the values go into the negative. That's one of the many things I wanted to fix in addition to this but it's no longer a priority for me.</p>\n<p>Here is my problem child eyesore class:</p>\n<pre><code>import java.util.Scanner;\n\n//object class\npublic class ShowRecipes {\n    \n    Scanner kbd = new Scanner(System.in);\n\n    //ingredient names array\n    public String ingredientsNames[] = {&quot;Apples&quot;, &quot;Cherry&quot;, &quot;Carrot&quot;, &quot;Flour &quot;, &quot;Sugar &quot;};\n\n    //ingredients array - setters will set\n    public int[] ingredients = new int[5];\n\n    //Basic constructor\n    public ShowRecipes() {\n        ingredients[0] = 1; //apple\n        ingredients[1] = 1; //cherry\n        ingredients[2] = 1;//carrot\n        ingredients[3] = 0;//flour\n        ingredients[4] = 0;//sugar\n    }\n\n    //overloaded constructor that covers each field\n    public ShowRecipes(int apples, int cherries, int carrots, int flour, int sugar) {\n        System.out.println(&quot;overloaded&quot;);\n        setApples(apples);\n        setCherries(cherries);\n        setCarrots(carrots);\n        setFlour(flour);\n        setSugar(sugar);\n    }\n\n    public void input() { // user inputs ingredient counts\n\n        //Asks user for ingredients on-hand\n        System.out.println(&quot;Please enter how many of each ingredient you have:&quot;);\n\n        System.out.print(ingredientsNames[0]);\n        int apples = kbd.nextInt();\n        setApples(apples);\n\n        System.out.print(ingredientsNames[1]);\n        int cherries = kbd.nextInt();\n        setCherries(cherries);\n\n        System.out.print(ingredientsNames[2]);\n        int carrots = kbd.nextInt();\n        setCarrots(carrots);\n\n        System.out.print(ingredientsNames[3]);\n        int flour = kbd.nextInt();\n        setFlour(flour);\n\n        System.out.print(ingredientsNames[4]);\n        int sugar = kbd.nextInt();\n        setSugar(sugar);\n    }//end user ingredient input\n\n    public void IngredientCount() { //Lists ingredient input counts\n        System.out.println(&quot;According to your input, you have:&quot;);\n\n        System.out.println(&quot;Ingredient\\tValue&quot;);\n        for(int counter=0;counter&lt;ingredients.length;counter++) {\n            System.out.println(ingredientsNames[counter] + &quot;\\t\\t&quot; + ingredients[counter]);\n        }//end for loop\n        }//end ingredient listing\n    \n    \n    public void Selection(){ //Can access every method in class except CookAgain\n        System.out.println(&quot;What would you like to do now? Enter a number to select. \\n1. Cook something \\n2. See ingredients \\n3. See available recipes \\n4. Modify ingredient amounts&quot;);\n        \n        //1. Cook something -- WantToCook()\n        //2. See ingredient list -- IngredientCount()\n        //3. See available recipes -- compareRecipe()\n        //4. Modify total ingredient amounts -- input()\n        //maybe  put this in ShowRecipes, create object for each to put in own classes\n        \n        int selection = kbd.nextInt();\n        \n        switch (selection) {\n        case 1:\n            WantToCook();\n            break;\n        case 2: \n            IngredientCount();\n            break;\n        case 3: \n            compareRecipe();\n            break;\n        case 4:\n            input();\n            break;\n        default:\n            System.out.println(&quot;Invalid&quot;);\n            return;\n        }}\n    \n    //Setters - set from input()\n    //Apple setter\n    public void setApples(int apples){\n        ingredients[0] = apples;\n    }\n    //Cherry setter\n    public void setCherries(int cherries){\n        ingredients[1] = cherries;\n    }\n    //Carrot setter\n    public void setCarrots(int carrots){\n        ingredients[2]= carrots;\n    }\n    //Flour setter\n    public void setFlour(int flour){\n        ingredients[3] = flour;\n    }\n    //Sugar setter\n    public void setSugar(int sugar){\n        ingredients[4] = sugar;\n    }\n    \n    //Getters\n    //Apple getter\n    public int getApples(){\n        return ingredients[0];\n    }\n    //Cherry getter\n    public int getCherries(){\n        return ingredients[1];\n    }\n    //Carrot getter\n    public int getCarrots(){\n        return ingredients[2];\n    }\n    //Flour getter\n    public int getFlour(){\n        return ingredients[3];\n    }\n    //Sugar getter\n    public int getSugar(){\n        return ingredients[4];\n    }\n\n    public void compareRecipe() {\n\n        System.out.println(&quot;According to the input, you can make:&quot;);\n\n        //Apples\n        if (ingredients[0] &gt;= 3) {\n            System.out.println(RecipeNamesA[0]); //Apple Jam\n        }\n        if (ingredients[0] &gt;= 2) {\n            System.out.println(RecipeNamesA[1]); //Apple Jelly\n            System.out.println(RecipeNamesA[2]); //Apple Smoothie\n        }\n\n        if (ingredients[0] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1){\n            System.out.println(RecipeNamesA[3]); //Apple Tart\n        }\n\n        if (ingredients[0] &gt;= 2 &amp;&amp; ingredients[4] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1){\n            System.out.println(RecipeNamesA[4]); //Apple Pie\n        }\n        if (ingredients[0] == 0) {\n            System.out.println(&quot;No apple recipes&quot;);\n        }\n\n        //Cherries\n        if (ingredients[1] &gt;= 3) {\n            System.out.println(RecipeNamesCh[0]); //Cherry Jam\n        }\n        if (ingredients[1] &gt;= 2) {\n            System.out.println(RecipeNamesCh[1]); //Cherry Jelly\n        }\n\n        if (ingredients[1] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 3 &amp;&amp; ingredients[4] &gt;= 2) {\n            System.out.println(RecipeNamesCh[2]); //Cherry Pie\n        }\n        if (ingredients[1] &gt;= 1 &amp;&amp; ingredients[3] &lt;= 1 &amp;&amp; ingredients[4] &gt;= 1) {\n            System.out.println(RecipeNamesCh[3]); //Cherry Tart\n        }\n        if (ingredients[1] == 0) {\n            System.out.println(&quot;No cherry recipes&quot;);\n        }\n\n        //Carrots\n        if (ingredients[2] &gt;= 2) {\n            System.out.println(RecipeNamesCa[0]); //Carrot juice \n        }\n        if (ingredients[2] &gt;= 2 &amp;&amp; ingredients[3] &gt;= 1) {\n            System.out.println(RecipeNamesCa[2]); //Carrot potage\n        }\n\n        if (ingredients[2] &gt;= 1 &amp;&amp; ingredients[3] &gt;= 1 &amp;&amp; ingredients[4] &gt;= 1){\n            System.out.println(RecipeNamesCa[1]); //Carrot cake\n        }   \n        if (ingredients[2] == 0) {\n            System.out.println(&quot;No carrot recipes&quot;);\n        }\n        \n    }\n\n    private String RecipeNamesA[] = {&quot;1. Apple Jam&quot;, &quot;2. Apple Jelly&quot;, &quot;3. Apple Smoothie&quot;, &quot;4. Apple Tart&quot;, &quot;5. Apple Pie&quot;}; //Apple recipes\n    private String RecipeNamesCh[] = {&quot;6. Cherry Jam&quot;, &quot;7. Cherry Jelly&quot;, &quot;8. Cherry Pie&quot;, &quot;9. Cherry Tart&quot;}; //Cherry recipes\n    private String RecipeNamesCa[] = {&quot;10. Carrot Juice&quot;, &quot;11. Carrot Cake&quot;,&quot;12. Carrot Potage&quot;}; //Carrot recipes\n\n    public void WantToCook() { //Enter recipe number - deducts ingredients\n        \n        System.out.println(&quot;What would you like to cook? Please enter the recipe number.&quot;);\n        int recipeNum = kbd.nextInt();\n\n        switch(recipeNum) {\n\n        case 1: //Apple jam\n            setApples(getApples()-3);\n            System.out.println(RecipeNamesA[0]);\n            break;\n        case 2: //Apple jelly\n            System.out.println(RecipeNamesA[1]);\n            setApples(getApples()-2);\n            break;\n        case 3://Apple Smoothie\n            System.out.println(RecipeNamesA[2]);\n            setApples(getApples()-2);\n            break;\n        case 4: //Apple Tart\n            System.out.println(RecipeNamesA[3]);\n            setApples(getApples()-1);\n            setFlour(getFlour()-1);\n            setSugar(getSugar()-1);\n            break;\n        case 5: //Apple Pie\n            System.out.println(RecipeNamesA[4]);\n            setApples(getApples()-2);\n            setFlour(getFlour()-3);\n            setSugar(getSugar()-2);\n            break;\n        case 6: //Cherry Jam\n            System.out.println(RecipeNamesCh[0]);\n            setCherries(getCherries()-3);\n            break;\n        case 7: //Cherry Jelly\n            System.out.println(RecipeNamesCh[1]);\n            setCherries(getCherries()-2);\n            break;\n        case 8: //Cherry Pie\n            System.out.println(RecipeNamesCh[2]);\n            setCherries(getCherries()-2);\n            setFlour(getFlour()-3);\n            setSugar(getSugar()-2);\n            break;\n        case 9: //Cherry Tart\n            System.out.println(RecipeNamesCh[3]);\n            setCherries(getCherries()-1);\n            setFlour(getFlour()-1);\n            setSugar(getSugar()-1);\n            break;\n            \n        case 10: //Carrot juice \n            System.out.println(RecipeNamesCa[0]);\n            setCarrots(getCarrots()-2);\n            break;\n        case 11: //Carrot cake\n            System.out.println(RecipeNamesCa[1]);\n            setCarrots(getCarrots()-1);\n            setFlour(getFlour()-1);\n            setSugar(getSugar()-1);\n            break;\n\n        case 12: //Carrot potage\n            System.out.println((RecipeNamesCa[2]));\n            setCarrots(getCarrots()-2);\n            setFlour(getFlour()-1); \n            break;\n            \n        default:\n            System.out.println(&quot;Invalid entry.&quot;);\n        }//End recipeNum switch\n        \n        System.out.println(&quot;You have cooked a thing! Good job!&quot;);\n        CookAgain(); //cook again? prompt\n    } //end WantToCook method\n\npublic void CookAgain() {   \n    \nSystem.out.println(&quot;Would you like to cook again? Please type yes or no&quot;);\n    kbd.nextLine();\n    String answer = kbd.nextLine();\n\n    switch (answer) {\n    \n    case &quot;yes&quot;:\n    if (ingredients[0] &gt;= 1 || ingredients[1] &gt;= 1 || ingredients[2] &gt;= 1) { //no apples, cherries, or carrots\n        System.out.println(&quot;You've used some ingredients. Let's see what you have now.&quot;);\n        IngredientCount();\n        compareRecipe();\n        WantToCook();\n        break;\n    }\n    else {\n        System.out.println(&quot;You don't have enough ingredients left to cook anything.&quot;);\n        break;\n    }\n    case &quot;no&quot;:\n    System.out.println(&quot;Ok, done cooking. Enjoy!&quot;);\n    break;\n    default:\n        System.out.println(&quot;Invalid answer please try again!&quot;);\n    \n    }// End answer switch\n    \n    kbd.close(); // close scanner\n}\n}\n</code></pre>\n<p>Here is by itty bitty driver:</p>\n<pre><code>import java.util.Scanner;\n\npublic class DoTheThing {\n    \n    public static void main (String [] args){\n        final ShowRecipes first = new ShowRecipes();\n        System.out.println(&quot;FIRST&quot;);\n        first.input();\n        first.compareRecipe();\n        first.WantToCook();\n        \n        first.Selection();\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","mysql","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1651807797,"post_id":72131744,"comment_id":127456341,"body_markdown":"I Googled for **mysql access denied for user** and found this: [SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39;](https://howtodoinjava.com/sql/sqlexception-access-denied-for-user-rootlocalhost-after-re-installation-of-mysql-server/)","body":"I Googled for <b>mysql access denied for user</b> and found this: <a href=\"https://howtodoinjava.com/sql/sqlexception-access-denied-for-user-rootlocalhost-after-re-installation-of-mysql-server/\" rel=\"nofollow noreferrer\">SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19737460,"reputation":311,"user_id":14451606,"display_name":"Matthias Radde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651808767,"creation_date":1651808767,"answer_id":72135949,"question_id":72131744,"body_markdown":"Within the method &lt;code&gt;check_email&lt;/code&gt; you are connecting to the database using &lt;code&gt;username&lt;/code&gt; and &lt;code&gt;password&lt;/code&gt;.\r\n\r\nBut you do have a local variable/parameter with the same name &lt;code&gt;username&lt;/code&gt; which prevents &lt;code&gt;getConnection&lt;/code&gt; from seeing/using the correct global &lt;code&gt;username&lt;/code&gt;.\r\n\r\nAnd why create a new DB-connection within the &lt;code&gt;check_email&lt;/code&gt;-method instead of passing the connection as a parameter to the method or using a class-variable for the connection?","title":"MySQL error Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException","body":"<p>Within the method <code>check_email</code> you are connecting to the database using <code>username</code> and <code>password</code>.</p>\n<p>But you do have a local variable/parameter with the same name <code>username</code> which prevents <code>getConnection</code> from seeing/using the correct global <code>username</code>.</p>\n<p>And why create a new DB-connection within the <code>check_email</code>-method instead of passing the connection as a parameter to the method or using a class-variable for the connection?</p>\n"}],"owner":{"account_id":19427716,"reputation":33,"user_id":14208879,"display_name":"Firat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651858262,"creation_date":1651773721,"question_id":72131744,"body_markdown":"This is my register page:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nRegistration was working before adding Email checker functionality.\r\nThis function for check  did someone used this email on database.\r\n\r\nThis is my code:\r\n\r\n    try {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        sqlConn = DriverManager.getConnection(connect, username, password);\r\n        if (check_email(u.getEmail())) {\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            sqlConn = DriverManager.getConnection(connect, username, password);\r\n            String query = &quot;insert into users_table (Name_surname,E_mail,Age,Profession,Student,Password)&quot;\r\n                                + &quot; values (?,?,?,?,?,?)&quot;;\r\n            pst = sqlConn.prepareStatement(query);\r\n\r\n            pst.setString(1, u.getName_surname());\r\n            pst.setString(2, u.getEmail());\r\n            pst.setInt(3, u.getAge());\r\n            pst.setString(4, u.getProffesion());\r\n            pst.setString(5, u.getStudent());\r\n            pst.setString(6, u.getPassword());\r\n            pst.executeUpdate();\r\n            JOptionPane.showMessageDialog(null, &quot;You signed up&quot;);\r\n\r\n        } else {\r\n            JOptionPane.showMessageDialog(null, &quot;You have already account&quot;);\r\n        }\r\n    } catch (ClassNotFoundException | SQLException ex) {\r\n        Logger.getLogger(Register.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\n\r\n    public boolean check_email(String username) throws SQLException, ClassNotFoundException {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        sqlConn = DriverManager.getConnection(connect, username, password);\r\n        boolean e_mail = true;\r\n        String query = &quot;Select * from users.users_table where E_mail = ?&quot;;\r\n        try {\r\n            pst = sqlConn.prepareStatement(query);\r\n            pst.setString(1, j_register_mail.getText());\r\n            rs = pst.executeQuery();\r\n            if (rs.next()) {\r\n                e_mail = false;\r\n            }\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(Register.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        return e_mail;\r\n\r\n\r\n\r\nThis is my database:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MMVdJ.png\r\n  [2]: https://i.stack.imgur.com/zvwIQ.png\r\n  [3]: https://i.stack.imgur.com/dYtdu.png\r\n\r\n\r\nI got this error:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\tat JFrame.Proje.Register.check_email(Register.java:462)\r\n\tat JFrame.Proje.Register.register_btActionPerformed(Register.java:430)\r\n\tat JFrame.Proje.Register.access$400(Register.java:30)\r\n\tat JFrame.Proje.Register$5.actionPerformed(Register.java:334)\r\n\r\n","title":"MySQL error Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException","body":"<p>This is my register page:</p>\n<p><a href=\"https://i.stack.imgur.com/MMVdJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MMVdJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Registration was working before adding Email checker functionality.\nThis function for check  did someone used this email on database.</p>\n<p>This is my code:</p>\n<pre><code>try {\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n    sqlConn = DriverManager.getConnection(connect, username, password);\n    if (check_email(u.getEmail())) {\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        sqlConn = DriverManager.getConnection(connect, username, password);\n        String query = &quot;insert into users_table (Name_surname,E_mail,Age,Profession,Student,Password)&quot;\n                            + &quot; values (?,?,?,?,?,?)&quot;;\n        pst = sqlConn.prepareStatement(query);\n\n        pst.setString(1, u.getName_surname());\n        pst.setString(2, u.getEmail());\n        pst.setInt(3, u.getAge());\n        pst.setString(4, u.getProffesion());\n        pst.setString(5, u.getStudent());\n        pst.setString(6, u.getPassword());\n        pst.executeUpdate();\n        JOptionPane.showMessageDialog(null, &quot;You signed up&quot;);\n\n    } else {\n        JOptionPane.showMessageDialog(null, &quot;You have already account&quot;);\n    }\n} catch (ClassNotFoundException | SQLException ex) {\n    Logger.getLogger(Register.class.getName()).log(Level.SEVERE, null, ex);\n}\n\n\npublic boolean check_email(String username) throws SQLException, ClassNotFoundException {\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n    sqlConn = DriverManager.getConnection(connect, username, password);\n    boolean e_mail = true;\n    String query = &quot;Select * from users.users_table where E_mail = ?&quot;;\n    try {\n        pst = sqlConn.prepareStatement(query);\n        pst.setString(1, j_register_mail.getText());\n        rs = pst.executeQuery();\n        if (rs.next()) {\n            e_mail = false;\n        }\n    } catch (SQLException ex) {\n        Logger.getLogger(Register.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    return e_mail;\n</code></pre>\n<p>This is my database:</p>\n<p><a href=\"https://i.stack.imgur.com/zvwIQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zvwIQ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dYtdu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dYtdu.png\" alt=\"enter image description here\" /></a></p>\n<p>I got this error:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\nat JFrame.Proje.Register.check_email(Register.java:462)\nat JFrame.Proje.Register.register_btActionPerformed(Register.java:430)\nat JFrame.Proje.Register.access$400(Register.java:30)\nat JFrame.Proje.Register$5.actionPerformed(Register.java:334)\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651858001,"creation_date":1651857041,"answer_id":72145171,"question_id":72144075,"body_markdown":"In case deleting entity via  `bagRepository.deleteById(bag.getId())` Hibernate will remove from parent to child entity because you defined [cascade = CascadeType.ALL][1] on the relation. When we perform some action on the target entity, the same action will be applied to the associated entity.\r\nLogic is in Hibernate and does not utilize database cascades.\r\n```java\r\n    @OneToMany(mappedBy = &quot;bag&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Item&gt; items;\r\n```\r\n\r\nIn case `bagRepository.deleteByUidAndName(uid, name)` you defined native query for deletion. This means that Hibernate logic will be ignored and the query will be executed as-is. You are working directly with the database in this case and to delete record via native SQL you need to define `ON DELETE CASCADE` on the database level to have similar logic.\r\n```java\r\n    @Query(value = &quot;DELETE FROM `bag` WHERE `uid` = :uid AND `name` = :name&quot;, nativeQuery = true)\r\n    void deleteByUidAndName(@Param(&quot;uid&quot;) Long uid, @Param(&quot;name&quot;) String name);\r\n```\r\n**Solution 1, @OnDelete(action = OnDeleteAction.CASCADE)**\r\n\r\nIn case you have auto-generated tables you can add Hibernate-specific annotation `@OnDelete` to the relation. During tables generation `ON DELETE CASCADE` will be applied to the foreign key constraint.\r\n&lt;br&gt;Relation definition:\r\n```java\r\n    @OneToMany(mappedBy = &quot;bag&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private List&lt;Item&gt; items;\r\n```\r\nAuto generated constaint:\r\n```SQL\r\n    alter table item \r\n       add constraint FK19sn210fxmx43i8r3icevbeup \r\n       foreign key (bid) \r\n       references bag \r\n       on delete cascade\r\n```\r\nImplemetation:\r\n```java\r\nimport org.hibernate.annotations.OnDelete;\r\nimport org.hibernate.annotations.OnDeleteAction;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;bag&quot;)\r\npublic class Bag {\r\n    @Id\r\n    private Long id;\r\n    @Column(name = &quot;uid&quot;)\r\n    private Long uid;\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;bag&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    private List&lt;Item&gt; items;\r\n}\r\n```\r\n**Solution 2, @JoinColumn annotation with foreign key ON DELETE CASCADE**\r\n&lt;br&gt;Specify foreign key with `ON DELETE CASCADE` for `Item` entity\r\n```java\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;bid&quot;, referencedColumnName = &quot;id&quot;,\r\n            foreignKey = @ForeignKey(\r\n                    name=&quot;FK_ITEMS_ID&quot;,\r\n                    foreignKeyDefinition = &quot;FOREIGN KEY (ID) REFERENCES ITEM(BID) ON DELETE CASCADE&quot;))\r\n    private Bag bag;\r\n```\r\nImplementation:\r\n```java\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;item&quot;)\r\npublic class Item {\r\n    @Id\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;bid&quot;, referencedColumnName = &quot;id&quot;,\r\n            foreignKey = @ForeignKey(\r\n                    name=&quot;FK_ITEMS_ID&quot;,\r\n                    foreignKeyDefinition = &quot;FOREIGN KEY (ID) REFERENCES ITEM(BID) ON DELETE CASCADE&quot;))\r\n    private Bag bag;\r\n}\r\n```\r\n**Solution 3, do not use native query**\r\n&lt;br&gt;In this case Hibernate logic will be applied.\r\n&lt;br&gt;Define repository like:\r\n```java\r\n@Repository\r\npublic interface BagRepository extends JpaRepository&lt;Bag, Long&gt; {\r\n    Bag findByUidAndName(Long uid, String name);\r\n\r\n    @Transactional\r\n    @Modifying   \r\n    void deleteByUidAndName(@Param(&quot;uid&quot;) Long uid, @Param(&quot;name&quot;) String name);\r\n}\r\n```\r\n**Solution 4, Add ON DELETE CASCADE manually to the database**\r\n&lt;br&gt;In case your table is not auto-generated you can manually add `ON DELETE CASCADE` to the database.\r\n```SQL\r\n    alter table item \r\n       add constraint FK_BAG_BID\r\n       foreign key (bid) \r\n       references bag \r\n       on delete cascade\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/persistence/CascadeType.html\r\n  [2]: https://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html","title":"JPA cascading delete fails with custom delete method","body":"<p>In case deleting entity via  <code>bagRepository.deleteById(bag.getId())</code> Hibernate will remove from parent to child entity because you defined <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/CascadeType.html\" rel=\"nofollow noreferrer\">cascade = CascadeType.ALL</a> on the relation. When we perform some action on the target entity, the same action will be applied to the associated entity.\nLogic is in Hibernate and does not utilize database cascades.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @OneToMany(mappedBy = &quot;bag&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Item&gt; items;\n</code></pre>\n<p>In case <code>bagRepository.deleteByUidAndName(uid, name)</code> you defined native query for deletion. This means that Hibernate logic will be ignored and the query will be executed as-is. You are working directly with the database in this case and to delete record via native SQL you need to define <code>ON DELETE CASCADE</code> on the database level to have similar logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(value = &quot;DELETE FROM `bag` WHERE `uid` = :uid AND `name` = :name&quot;, nativeQuery = true)\n    void deleteByUidAndName(@Param(&quot;uid&quot;) Long uid, @Param(&quot;name&quot;) String name);\n</code></pre>\n<p><strong>Solution 1, @OnDelete(action = OnDeleteAction.CASCADE)</strong></p>\n<p>In case you have auto-generated tables you can add Hibernate-specific annotation <code>@OnDelete</code> to the relation. During tables generation <code>ON DELETE CASCADE</code> will be applied to the foreign key constraint.\n<br>Relation definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @OneToMany(mappedBy = &quot;bag&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private List&lt;Item&gt; items;\n</code></pre>\n<p>Auto generated constaint:</p>\n<pre><code>    alter table item \n       add constraint FK19sn210fxmx43i8r3icevbeup \n       foreign key (bid) \n       references bag \n       on delete cascade\n</code></pre>\n<p>Implemetation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hibernate.annotations.OnDelete;\nimport org.hibernate.annotations.OnDeleteAction;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;bag&quot;)\npublic class Bag {\n    @Id\n    private Long id;\n    @Column(name = &quot;uid&quot;)\n    private Long uid;\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;bag&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    private List&lt;Item&gt; items;\n}\n</code></pre>\n<p><strong>Solution 2, @JoinColumn annotation with foreign key ON DELETE CASCADE</strong>\n<br>Specify foreign key with <code>ON DELETE CASCADE</code> for <code>Item</code> entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;bid&quot;, referencedColumnName = &quot;id&quot;,\n            foreignKey = @ForeignKey(\n                    name=&quot;FK_ITEMS_ID&quot;,\n                    foreignKeyDefinition = &quot;FOREIGN KEY (ID) REFERENCES ITEM(BID) ON DELETE CASCADE&quot;))\n    private Bag bag;\n</code></pre>\n<p>Implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\n\n@Entity\n@Table(name = &quot;item&quot;)\npublic class Item {\n    @Id\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;bid&quot;, referencedColumnName = &quot;id&quot;,\n            foreignKey = @ForeignKey(\n                    name=&quot;FK_ITEMS_ID&quot;,\n                    foreignKeyDefinition = &quot;FOREIGN KEY (ID) REFERENCES ITEM(BID) ON DELETE CASCADE&quot;))\n    private Bag bag;\n}\n</code></pre>\n<p><strong>Solution 3, do not use native query</strong>\n<br>In this case Hibernate logic will be applied.\n<br>Define repository like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface BagRepository extends JpaRepository&lt;Bag, Long&gt; {\n    Bag findByUidAndName(Long uid, String name);\n\n    @Transactional\n    @Modifying   \n    void deleteByUidAndName(@Param(&quot;uid&quot;) Long uid, @Param(&quot;name&quot;) String name);\n}\n</code></pre>\n<p><strong>Solution 4, Add ON DELETE CASCADE manually to the database</strong>\n<br>In case your table is not auto-generated you can manually add <code>ON DELETE CASCADE</code> to the database.</p>\n<pre><code>    alter table item \n       add constraint FK_BAG_BID\n       foreign key (bid) \n       references bag \n       on delete cascade\n</code></pre>\n"}],"owner":{"account_id":14350802,"reputation":175,"user_id":10366334,"display_name":"Nicol&#225;s_Tsu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1893,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72145171,"answer_count":1,"score":2,"last_activity_date":1651858001,"creation_date":1651851396,"question_id":72144075,"body_markdown":"I ran into an error with custom delete method in spring data jpa. Basically there&#39;s a bag which contains items, and when deleting the bag, all the items in it should be deleted.\r\n\r\nHere&#39;re the entities:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;bag&quot;)\r\npublic class Bag {\r\n    @Id private Long id;\r\n    @Column(&quot;uid&quot;) private Long uid;\r\n    @Column(&quot;name&quot;) private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;bag&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Item&gt; items;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;item&quot;)\r\npublic class Item {\r\n    @Id private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;bid&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Bag bag;\r\n}\r\n```\r\nand the repository:\r\n\r\n```java\r\n@Repository\r\npublic interface BagRepository extends JpaRepository&lt;Bag, Long&gt; {\r\n    Bag findByUidAndName(Long uid, String name);\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(value = &quot;DELETE FROM `bag` WHERE `uid` = :uid AND `name` = :name&quot;, nativeQuery = true)\r\n    void deleteByUidAndName(@Param(&quot;uid&quot;) Long uid, @Param(&quot;name&quot;) String name);\r\n}\r\n```\r\n\r\nWhen I call `bagRepository.deleteByUidAndName(uid, name)`, I get an Exception from hibernate relating to foreign key constraint. Setting `spring.jpa.show-sql=true` shows it does not try to delete the items first before deleting the bag.\r\n\r\nHowever, if I call `Bag bag = bagRepository.findByUidAndName(uid, name)` and then `bagRepository.deleteById(bag.getId())` everything is fine.\r\n\r\nI&#39;d like to know what&#39;s wrong about customizing this delete method and how to fix it.","title":"JPA cascading delete fails with custom delete method","body":"<p>I ran into an error with custom delete method in spring data jpa. Basically there's a bag which contains items, and when deleting the bag, all the items in it should be deleted.</p>\n<p>Here're the entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;bag&quot;)\npublic class Bag {\n    @Id private Long id;\n    @Column(&quot;uid&quot;) private Long uid;\n    @Column(&quot;name&quot;) private String name;\n\n    @OneToMany(mappedBy = &quot;bag&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Item&gt; items;\n}\n\n@Entity\n@Table(name = &quot;item&quot;)\npublic class Item {\n    @Id private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;bid&quot;, referencedColumnName = &quot;id&quot;)\n    private Bag bag;\n}\n</code></pre>\n<p>and the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface BagRepository extends JpaRepository&lt;Bag, Long&gt; {\n    Bag findByUidAndName(Long uid, String name);\n\n    @Transactional\n    @Modifying\n    @Query(value = &quot;DELETE FROM `bag` WHERE `uid` = :uid AND `name` = :name&quot;, nativeQuery = true)\n    void deleteByUidAndName(@Param(&quot;uid&quot;) Long uid, @Param(&quot;name&quot;) String name);\n}\n</code></pre>\n<p>When I call <code>bagRepository.deleteByUidAndName(uid, name)</code>, I get an Exception from hibernate relating to foreign key constraint. Setting <code>spring.jpa.show-sql=true</code> shows it does not try to delete the items first before deleting the bag.</p>\n<p>However, if I call <code>Bag bag = bagRepository.findByUidAndName(uid, name)</code> and then <code>bagRepository.deleteById(bag.getId())</code> everything is fine.</p>\n<p>I'd like to know what's wrong about customizing this delete method and how to fix it.</p>\n"},{"tags":["java","spring-boot","spring-security","spring-saml","spring-security-saml2"],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651856903,"creation_date":1651856903,"answer_id":72145144,"question_id":72128868,"body_markdown":"The sample already includes everything needed to automatically redirect to the IDP (Okta in this case) and get redirected back. So the login and logout pages are only accessible if the URL is changed. Having said that, I can see why they are undesirable if they aren&#39;t being used.\r\n\r\nTo disable them, the simplest way is to provide an `AuthenticationEntryPoint`. This disables the filters that generate the login and logout pages. For example:\r\n\r\n```java\r\nhttp.exceptionHandling((exceptions) -&gt; exceptions\r\n\t.authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(&quot;/saml2/authenticate/two&quot;))\r\n)\r\n```\r\n\r\nThe reason this works is that it does explicitly what happens behind the scenes in `Sample2LoginConfigurer.init` while also disabling what happens in `Saml2LoginConfigurer.initDefaultLoginFilter`.","title":"How do you disable the auto generated pages /login and /logout using Spring SAML2?","body":"<p>The sample already includes everything needed to automatically redirect to the IDP (Okta in this case) and get redirected back. So the login and logout pages are only accessible if the URL is changed. Having said that, I can see why they are undesirable if they aren't being used.</p>\n<p>To disable them, the simplest way is to provide an <code>AuthenticationEntryPoint</code>. This disables the filters that generate the login and logout pages. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.exceptionHandling((exceptions) -&gt; exceptions\n    .authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(&quot;/saml2/authenticate/two&quot;))\n)\n</code></pre>\n<p>The reason this works is that it does explicitly what happens behind the scenes in <code>Sample2LoginConfigurer.init</code> while also disabling what happens in <code>Saml2LoginConfigurer.initDefaultLoginFilter</code>.</p>\n"}],"owner":{"account_id":25205443,"reputation":43,"user_id":19043878,"display_name":"mmoussa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72145144,"answer_count":1,"score":4,"last_activity_date":1651856903,"creation_date":1651760735,"question_id":72128868,"body_markdown":"I am using Spring Boot - 2.6.6 and Spring Security - 5.7.0-M2 with the spring-security-saml2-service-provider library to create a SAML service provider application. I followed Spring&#39;s sample project [Spring Security SAML2 Sample][1] so my setup looks very similar.\r\n\r\nI want to turn off the generated Login and Logout pages located on /login and /logout. The login page shows a link to each IDP configured and the logout page has a button that initiates the POST logout flow.\r\n\r\nThey appear to be created by Springs internal code - `Saml2LoginConfigurer.initDefaultLoginFilter` when `Saml2LoginConfigurer.loginPage` is not set or the `DefaultLoginPageGeneratingFilter` is active. Setting the `loginPage` variable only changes where the login page is displayed and breaks the metadata configuration from my Identity Provider: it does *not* turn the login page off. I had no success trying to turn off the `DefaultLoginPageGeneratingFilter`.\r\n\r\nHow could I do this? \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security-samples/blob/5.7.x/servlet/spring-boot/java/saml2/login-single-tenant/src/main/java/example/SecurityConfiguration.java","title":"How do you disable the auto generated pages /login and /logout using Spring SAML2?","body":"<p>I am using Spring Boot - 2.6.6 and Spring Security - 5.7.0-M2 with the spring-security-saml2-service-provider library to create a SAML service provider application. I followed Spring's sample project <a href=\"https://github.com/spring-projects/spring-security-samples/blob/5.7.x/servlet/spring-boot/java/saml2/login-single-tenant/src/main/java/example/SecurityConfiguration.java\" rel=\"nofollow noreferrer\">Spring Security SAML2 Sample</a> so my setup looks very similar.</p>\n<p>I want to turn off the generated Login and Logout pages located on /login and /logout. The login page shows a link to each IDP configured and the logout page has a button that initiates the POST logout flow.</p>\n<p>They appear to be created by Springs internal code - <code>Saml2LoginConfigurer.initDefaultLoginFilter</code> when <code>Saml2LoginConfigurer.loginPage</code> is not set or the <code>DefaultLoginPageGeneratingFilter</code> is active. Setting the <code>loginPage</code> variable only changes where the login page is displayed and breaks the metadata configuration from my Identity Provider: it does <em>not</em> turn the login page off. I had no success trying to turn off the <code>DefaultLoginPageGeneratingFilter</code>.</p>\n<p>How could I do this?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23319582,"reputation":62,"user_id":17397713,"display_name":"tarcali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651856584,"creation_date":1651856584,"answer_id":72145097,"question_id":72144392,"body_markdown":"You have to use @SpringBootApplication, but also need to modify the main method something like:\r\n\r\n\r\n&gt;     @SpringBootApplication  \r\n&gt;     public class YourMainApplicationClass {\r\n&gt;         public static void main(String[] args) {\r\n&gt;             SpringApplication.run(YourMainApplicationClass.class, args);\r\n&gt;         }   \r\n&gt;     }\r\n\r\n\r\n\r\nThis will start your application.\r\n\r\nThen move your original code of your main method to a new class, which has annotation @Component. Implement CommandLineRunner, and override the run method. So something like:\r\n\r\n&gt;     @Component \r\n&gt;     public class YourOldMainClass implements CommandLineRunner {\r\n&gt; \r\n&gt;         @Override\r\n&gt;         public void run(String... args) throws Exception {\r\n&gt;             //Your code here\r\n&gt;         } \r\n&gt;     }\r\n\r\nWhen your application starts, spring will load &#39;near everything&#39; with annotation into its container, so your @Component annotated class should be also loaded. The CommandLineRunner with overrode run method will auto call your method at startup.\r\n\r\nAlso, don&#39;t forget to include necessary spring boot jars next to your project, or to your build automation tool -  like Maven - if you use it.\r\n     \r\n\r\n","title":"Moving to the Spring Boot. Migration of logic from the old main class","body":"<p>You have to use @SpringBootApplication, but also need to modify the main method something like:</p>\n<blockquote>\n<pre><code>@SpringBootApplication  \npublic class YourMainApplicationClass {\n    public static void main(String[] args) {\n        SpringApplication.run(YourMainApplicationClass.class, args);\n    }   \n}\n</code></pre>\n</blockquote>\n<p>This will start your application.</p>\n<p>Then move your original code of your main method to a new class, which has annotation @Component. Implement CommandLineRunner, and override the run method. So something like:</p>\n<blockquote>\n<pre><code>@Component \npublic class YourOldMainClass implements CommandLineRunner {\n\n    @Override\n    public void run(String... args) throws Exception {\n        //Your code here\n    } \n}\n</code></pre>\n</blockquote>\n<p>When your application starts, spring will load 'near everything' with annotation into its container, so your @Component annotated class should be also loaded. The CommandLineRunner with overrode run method will auto call your method at startup.</p>\n<p>Also, don't forget to include necessary spring boot jars next to your project, or to your build automation tool -  like Maven - if you use it.</p>\n"}],"owner":{"account_id":25184413,"reputation":3,"user_id":19025503,"display_name":"cat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72145097,"answer_count":1,"score":0,"last_activity_date":1651856584,"creation_date":1651852801,"question_id":72144392,"body_markdown":"I am very new to Spring Boot and development, so, I am stuck with a problem. I have an old project that needs to be migrated to Spring Boot. The original main method has super cool multi-threaded logic. In my understanding public static void main(String[] args) was entry point to the program, now after creating Spring Boot project @springbootapplication is entry point. How to access the original logic of a method? Should it somehow be transform? I spent hours looking for a suitable solution but no luck. Could you point me? Any help is appreciated :) ","title":"Moving to the Spring Boot. Migration of logic from the old main class","body":"<p>I am very new to Spring Boot and development, so, I am stuck with a problem. I have an old project that needs to be migrated to Spring Boot. The original main method has super cool multi-threaded logic. In my understanding public static void main(String[] args) was entry point to the program, now after creating Spring Boot project @springbootapplication is entry point. How to access the original logic of a method? Should it somehow be transform? I spent hours looking for a suitable solution but no luck. Could you point me? Any help is appreciated :)</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","model-view-controller"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1649588884,"post_id":71815901,"comment_id":126918542,"body_markdown":"If you&#39;re trying to get &quot;complete MVC project&quot;, you&#39;ll need to add some concept of View anyway. JSP is a good one","body":"If you&#39;re trying to get &quot;complete MVC project&quot;, you&#39;ll need to add some concept of View anyway. JSP is a good one"},{"owner":{"account_id":16404603,"reputation":359,"user_id":11849527,"display_name":"Salem loress"},"score":0,"creation_date":1649642043,"post_id":71815901,"comment_id":126919719,"body_markdown":"If you are using MVC, you need to add **@Controller** to controller class not **@RestController**, second you can return String or ModelAndView for controller method to indicate which template will use is already in resource/template folder.","body":"If you are using MVC, you need to add <b>@Controller</b> to controller class not <b>@RestController</b>, second you can return String or ModelAndView for controller method to indicate which template will use is already in resource/template folder."}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651856299,"creation_date":1651333898,"answer_id":72069956,"question_id":71815901,"body_markdown":"**MVC** is an architectural design pattern for the layers of your application. It is exactly about inner work of your application.\r\n\r\n**REST** is how does your application interact with other applications.\r\n\r\nYou can combine them together at one application.\r\n\r\nIn general they are different patterns for different problems:\r\n\r\n**MVC** you are receiving request -&gt; process it (fetching the data from DB or with some ways) -&gt; render it to the view -&gt; and view with requested data return to the caller.\r\n\r\n**REST** (**Re**presentational **S**tate **T**ransfer) flow is quite similar. However, instead of return view with the data -&gt; your app sends just representation of the data. The content type of response should be specified by the caller at request.\r\n\r\nNow go one by other parts of your questions. (Maybe, it is even too many questions just for one question to answer them properly)\r\n\r\n`Does this project use the MVC principle? Or do I need to use a .jsp file for the view to have a complete MVC principle?`\r\n\r\nFrom the snipped which you have already shared - you used **REST** - and your method return **JSON** representation of resource.\r\n\r\nFor now looks like it is the desired goal which you want to achieve:\r\n\r\n`And I want to make GET, POST, PUT and DELETE requests that call the database and send a JSON to the client.`\r\n\r\nIf you want to use MVC you have to return a rendered view with fetched data instead. Keep in the mind that you have to return **HTML** page to the caller at that case:\r\n\r\n```\r\n@Controller \r\n@RequiredArgsConstructor\r\npublic class ControllerDemo {\r\n    private final UserService userService;\r\n\r\n    @GetMapping(value = &quot;/users&quot;)\r\n    public String getAllUsers(Model model) { \r\n       // add fetched data to model as attribute\r\n       model.addAtribute(&quot;users&quot;, userService.findAll());\r\n       // view resolver should be configured to render response to `response-page.ftl` for example\r\n       return &quot;response-page&quot;; \r\n    }\r\n```\r\n\r\nIt doesn&#39;t matter if you use JSP or [Freemarker](https://freemarker.apache.org) or [Mustache](https://github.com/spullara/mustache.java), etc - the main idea is that you create template and data from DB will be represented according to this template on **HTML** page.\r\n\r\n---\r\n\r\n`So the Controller is the REST Controller and the Model is the Users pojo. And if this project use the MVC principle can somebody explain where is the view?` - with REST approach is no view, the response at this case is representation of resource.\r\n\r\n---\r\n\r\n`And if the service calls the repository and fetch the data from the MySQL database I want to know if the MVC is modified by adding the DAO, or the DAO is a part of the Model?` \r\n\r\n**DAO** stands for ***Data Access Layer***. You a have a model - `User` class which describes your entity. And you store some user entities at **DB**. And you want to receive the all users which have already been stored (in real life you need to have pagination but we omit it for simplicity). \r\n\r\nThus for doing it you have to go row by row for your `users` table and convert the row from DB to the `User` entity. And you take this retrieving to separate data layer - `DAO`.  \r\n**DAO** is not part of the ***Model*** it is separate layer between ***Model*** and ***DB***.\r\n\r\nYou could not do it at your service layer (`UserService`) because it will brake the ***Simple Responsibility Principle*** ([SOLID Principles](https://en.wikipedia.org/wiki/SOLID)) for the service layer - do one job and do it well.   \r\n\r\nAt the same time you support high cohesion for parts of your app ([GRASP Principles](https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)))\r\n","title":"Does a simple REST project in Spring Boot use the MVC principle?","body":"<p><strong>MVC</strong> is an architectural design pattern for the layers of your application. It is exactly about inner work of your application.</p>\n<p><strong>REST</strong> is how does your application interact with other applications.</p>\n<p>You can combine them together at one application.</p>\n<p>In general they are different patterns for different problems:</p>\n<p><strong>MVC</strong> you are receiving request -&gt; process it (fetching the data from DB or with some ways) -&gt; render it to the view -&gt; and view with requested data return to the caller.</p>\n<p><strong>REST</strong> (<strong>Re</strong>presentational <strong>S</strong>tate <strong>T</strong>ransfer) flow is quite similar. However, instead of return view with the data -&gt; your app sends just representation of the data. The content type of response should be specified by the caller at request.</p>\n<p>Now go one by other parts of your questions. (Maybe, it is even too many questions just for one question to answer them properly)</p>\n<p><code>Does this project use the MVC principle? Or do I need to use a .jsp file for the view to have a complete MVC principle?</code></p>\n<p>From the snipped which you have already shared - you used <strong>REST</strong> - and your method return <strong>JSON</strong> representation of resource.</p>\n<p>For now looks like it is the desired goal which you want to achieve:</p>\n<p><code>And I want to make GET, POST, PUT and DELETE requests that call the database and send a JSON to the client.</code></p>\n<p>If you want to use MVC you have to return a rendered view with fetched data instead. Keep in the mind that you have to return <strong>HTML</strong> page to the caller at that case:</p>\n<pre><code>@Controller \n@RequiredArgsConstructor\npublic class ControllerDemo {\n    private final UserService userService;\n\n    @GetMapping(value = &quot;/users&quot;)\n    public String getAllUsers(Model model) { \n       // add fetched data to model as attribute\n       model.addAtribute(&quot;users&quot;, userService.findAll());\n       // view resolver should be configured to render response to `response-page.ftl` for example\n       return &quot;response-page&quot;; \n    }\n</code></pre>\n<p>It doesn't matter if you use JSP or <a href=\"https://freemarker.apache.org\" rel=\"nofollow noreferrer\">Freemarker</a> or <a href=\"https://github.com/spullara/mustache.java\" rel=\"nofollow noreferrer\">Mustache</a>, etc - the main idea is that you create template and data from DB will be represented according to this template on <strong>HTML</strong> page.</p>\n<hr />\n<p><code>So the Controller is the REST Controller and the Model is the Users pojo. And if this project use the MVC principle can somebody explain where is the view?</code> - with REST approach is no view, the response at this case is representation of resource.</p>\n<hr />\n<p><code>And if the service calls the repository and fetch the data from the MySQL database I want to know if the MVC is modified by adding the DAO, or the DAO is a part of the Model?</code></p>\n<p><strong>DAO</strong> stands for <em><strong>Data Access Layer</strong></em>. You a have a model - <code>User</code> class which describes your entity. And you store some user entities at <strong>DB</strong>. And you want to receive the all users which have already been stored (in real life you need to have pagination but we omit it for simplicity).</p>\n<p>Thus for doing it you have to go row by row for your <code>users</code> table and convert the row from DB to the <code>User</code> entity. And you take this retrieving to separate data layer - <code>DAO</code>.<br />\n<strong>DAO</strong> is not part of the <em><strong>Model</strong></em> it is separate layer between <em><strong>Model</strong></em> and <em><strong>DB</strong></em>.</p>\n<p>You could not do it at your service layer (<code>UserService</code>) because it will brake the <em><strong>Simple Responsibility Principle</strong></em> (<a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID Principles</a>) for the service layer - do one job and do it well.</p>\n<p>At the same time you support high cohesion for parts of your app (<a href=\"https://en.wikipedia.org/wiki/GRASP_(object-oriented_design)\" rel=\"nofollow noreferrer\">GRASP Principles</a>)</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651465333,"creation_date":1651465017,"answer_id":72082262,"question_id":71815901,"body_markdown":"MVC is the pattern to implement UI. So if you are just developing a REST API, no UI is involved and hence you do not need to concerned whether it is implemented as MVC or not.\r\n\r\nInstead if you are developing a web application , the view is the technology to render HTML codes to the browser . Usually they are just a template engine such as JSP , FreeMarker or Thymeleaf which allows you to use their expression language to access the data in some Java object (i.e. `Model`) to define the HTML code that you want to generate as a template.\r\n\r\nIn Spring MVC , you need to use `@RestController` for developing a REST API while `@Controller` for the web application. The main difference is that `@RestController` includes `@ResponseBody` which will by-pass the view resolution process as there are no view in the REST API.\r\n\r\nIn short, as you are developing a REST API now , there are no UI and no view. Hence MVC is not applicable in here and you do not need to worry whether it is implemented based on MVC or not.\r\n\r\n\r\n&gt; And if the service calls the repository and fetch the data from the\r\n&gt; MySQL database I want to know if the MVC is modified by adding the\r\n&gt; DAO, or the DAO is a part of the Model?\r\n\r\nDAO is an object that is responsible for getting and managing the data from DB. It is nothing to do with Model.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Does a simple REST project in Spring Boot use the MVC principle?","body":"<p>MVC is the pattern to implement UI. So if you are just developing a REST API, no UI is involved and hence you do not need to concerned whether it is implemented as MVC or not.</p>\n<p>Instead if you are developing a web application , the view is the technology to render HTML codes to the browser . Usually they are just a template engine such as JSP , FreeMarker or Thymeleaf which allows you to use their expression language to access the data in some Java object (i.e. <code>Model</code>) to define the HTML code that you want to generate as a template.</p>\n<p>In Spring MVC , you need to use <code>@RestController</code> for developing a REST API while <code>@Controller</code> for the web application. The main difference is that <code>@RestController</code> includes <code>@ResponseBody</code> which will by-pass the view resolution process as there are no view in the REST API.</p>\n<p>In short, as you are developing a REST API now , there are no UI and no view. Hence MVC is not applicable in here and you do not need to worry whether it is implemented based on MVC or not.</p>\n<blockquote>\n<p>And if the service calls the repository and fetch the data from the\nMySQL database I want to know if the MVC is modified by adding the\nDAO, or the DAO is a part of the Model?</p>\n</blockquote>\n<p>DAO is an object that is responsible for getting and managing the data from DB. It is nothing to do with Model.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72069956,"answer_count":2,"score":2,"last_activity_date":1651856299,"creation_date":1649588073,"question_id":71815901,"body_markdown":"I need to create a simple project that uses the Model-View-Controller principle and a MySQL database. And I want to use Spring Boot with Spring MVC and Spring Data JPA.\r\n\r\nAnd I want to make GET, POST, PUT and DELETE requests that call the database and send a JSON to the client. \r\n\r\n    @GetMapping(value = &quot;/users&quot;)\r\n    public Users getUsers() {\r\n       // call the service -&gt; call the database\r\n    }\r\n\r\nAnd the response will be:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;John&quot;,\r\n      &quot;age&quot;: 45,\r\n      ...\r\n    }\r\n\r\nDoes this project use the MVC principle? Or do I need to use a `.jsp` for the view to have a complete MVC principle? \r\n\r\nSo the Controller is the REST Controller and the Model is the Users POJO. And if this project use the MVC principle can somebody explain where is the view? \r\n\r\nAnd if the service calls the repository and fetch the data from the `MySQL` database I want to know if the MVC is modified by adding the DAO, or the DAO is a part of the Model?","title":"Does a simple REST project in Spring Boot use the MVC principle?","body":"<p>I need to create a simple project that uses the Model-View-Controller principle and a MySQL database. And I want to use Spring Boot with Spring MVC and Spring Data JPA.</p>\n<p>And I want to make GET, POST, PUT and DELETE requests that call the database and send a JSON to the client.</p>\n<pre><code>@GetMapping(value = &quot;/users&quot;)\npublic Users getUsers() {\n   // call the service -&gt; call the database\n}\n</code></pre>\n<p>And the response will be:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;John&quot;,\n  &quot;age&quot;: 45,\n  ...\n}\n</code></pre>\n<p>Does this project use the MVC principle? Or do I need to use a <code>.jsp</code> for the view to have a complete MVC principle?</p>\n<p>So the Controller is the REST Controller and the Model is the Users POJO. And if this project use the MVC principle can somebody explain where is the view?</p>\n<p>And if the service calls the repository and fetch the data from the <code>MySQL</code> database I want to know if the MVC is modified by adding the DAO, or the DAO is a part of the Model?</p>\n"},{"tags":["java","node.js","child-process"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":3,"creation_date":1651856145,"post_id":72144976,"comment_id":127472001,"body_markdown":"Don&#39;t spam tags. Don&#39;t tag irrelevant languages. *Do* tag the language you actually program in. And don&#39;t post images of text. Please take some time to refresh [the help pages](http://stackoverflow.com/help), take the SO [tour], read [ask], as well as [this question checklist](https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/).","body":"Don&#39;t spam tags. Don&#39;t tag irrelevant languages. <i>Do</i> tag the language you actually program in. And don&#39;t post images of text. Please take some time to refresh <a href=\"http://stackoverflow.com/help\">the help pages</a>, take the SO <a href=\"https://stackoverflow.com/tour\">tour</a>, read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, as well as <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">this question checklist</a>."},{"owner":{"account_id":18583835,"reputation":1,"user_id":13542734,"display_name":"O&#39;tkir Xo&#39;jayev"},"score":0,"creation_date":1651856541,"post_id":72144976,"comment_id":127472189,"body_markdown":"i am not allowed to put a picture other than text . i am not allowed to put a picture other than text. i have c ++, python, java, go, mono c # all. @Someprogrammerdude","body":"i am not allowed to put a picture other than text . i am not allowed to put a picture other than text. i have c ++, python, java, go, mono c # all. @Someprogrammerdude"},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":2,"creation_date":1651856812,"post_id":72144976,"comment_id":127472274,"body_markdown":"Don&#39;t use pictures at all. Copy and paste your code into the question directly (with the appropriate formatting)","body":"Don&#39;t use pictures at all. Copy and paste your code into the question directly (with the appropriate formatting)"},{"owner":{"account_id":432092,"reputation":689868,"user_id":816620,"accept_rate":64,"display_name":"jfriend00"},"score":1,"creation_date":1651858072,"post_id":72144976,"comment_id":127472678,"body_markdown":"Code in stackoverflow questions/answers should NEVER be in images.  From images, it can&#39;t be copied and pasted into answers.  It can&#39;t be indexed for search.  It can&#39;t be easily read on mobile or by the visually impaired.  And, of selfish interested to you, it doesn&#39;t attract people to work on your question.","body":"Code in stackoverflow questions/answers should NEVER be in images.  From images, it can&#39;t be copied and pasted into answers.  It can&#39;t be indexed for search.  It can&#39;t be easily read on mobile or by the visually impaired.  And, of selfish interested to you, it doesn&#39;t attract people to work on your question."}],"owner":{"account_id":18583835,"reputation":1,"user_id":13542734,"display_name":"O&#39;tkir Xo&#39;jayev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651856276,"creation_date":1651855968,"question_id":72144976,"body_markdown":"I have node.js c ++, java, python compiler. in some cases it returns node.js error without any compiler error:\r\n\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\nworks on the base and again I did not know the error is related to **progress.kill** I guess\r\nThis is a problem for some of the restaurants where he worked. \r\n\r\nI have an exec function in docker, linux, node.Js \r\n\r\n  [1]: https://i.stack.imgur.com/s9qoi.png\r\n  [2]: https://i.stack.imgur.com/czNSf.png","title":"I have node.js c ++, java, python compiler. in some cases it returns node.js error without any compiler error","body":"<p>I have node.js c ++, java, python compiler. in some cases it returns node.js error without any compiler error:</p>\n<p><a href=\"https://i.stack.imgur.com/s9qoi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/czNSf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>works on the base and again I did not know the error is related to <strong>progress.kill</strong> I guess\nThis is a problem for some of the restaurants where he worked.</p>\n<p>I have an exec function in docker, linux, node.Js</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651534916,"creation_date":1651533575,"answer_id":72093330,"question_id":72093183,"body_markdown":"You can simply wrap your code starting from firstQuestion  variable declaration till the end of the if condition in a while loop which is always set to true.\r\n\r\n\r\n    public class Formulas {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // first question\r\n    \r\n            // constant values definition\r\n            final double PI = 3.141592653589793238;\r\n    \r\n            // index\r\n            ArrayList&lt;String&gt; index = new ArrayList&lt;&gt;();\r\n    \r\n            index.add(&quot;1. Pythagorean Theorem&quot;);\r\n            index.add(&quot;2. Square Area&quot;);\r\n            index.add(&quot;2. Triangle Area&quot;);\r\n    \r\n            System.out.println(&quot;Formulas Index:&quot;);\r\n            System.out.println(&quot;&quot;);\r\n            for (int i = 0; i &lt; index.size(); i++) {\r\n                System.out.println(index.get(i));\r\n            }\r\n       Scanner scanner = new Scanner(System.in);\r\n             \r\n            while (true) {\r\n                System.out.println(&quot;&quot;);\r\n                System.out.print(&quot;Write the formulas number you want to use: &quot;);\r\n    \r\n                String firstQuestion = scanner.nextLine();\r\n                System.out.println();\r\n    \r\n                // methods selection\r\n                if (firstQuestion.equals(&quot;1&quot;)) {\r\n                    System.out.println(&quot;Pythagoras Theorem&quot;);\r\n                    System.out.print(&quot;Insert side a: &quot;);\r\n                    double a = scanner.nextDouble();\r\n                    System.out.print(&quot;Insert side b: &quot;);\r\n                    double b = scanner.nextDouble();\r\n                    double c = pitagoras(a, b);\r\n                    System.out.println(&quot;Hypotenuse c: &quot; + c);\r\n                } else if (firstQuestion.equals(&quot;2&quot;)) {\r\n                    System.out.println(&quot;Square area&quot;);\r\n                    System.out.print(&quot;Insert side a: &quot;);\r\n                    double arestaA = scanner.nextDouble();\r\n                    System.out.print(&quot;Insert side b: &quot;);\r\n                    double arestaB = scanner.nextDouble();\r\n                    double squareArea = squarearea(arestaA, arestaB);\r\n                    System.out.println(&quot;The square area is: &quot; + squareArea);\r\n                } else\r\n                    System.out.println(&quot;Please insert a valid formula number.&quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        // methods parameters\r\n        static double pitagoras(double a, double b) {\r\n            double c = Math.sqrt((a * a) + (b * b));\r\n            return c;\r\n        }\r\n    \r\n        static double squarearea(double a, double b) {\r\n            double area = a * b;\r\n            return area;\r\n        }\r\n    \r\n    }","title":"Returm to a specific line or place","body":"<p>You can simply wrap your code starting from firstQuestion  variable declaration till the end of the if condition in a while loop which is always set to true.</p>\n<pre><code>public class Formulas {\n\n    public static void main(String[] args) {\n\n        // first question\n\n        // constant values definition\n        final double PI = 3.141592653589793238;\n\n        // index\n        ArrayList&lt;String&gt; index = new ArrayList&lt;&gt;();\n\n        index.add(&quot;1. Pythagorean Theorem&quot;);\n        index.add(&quot;2. Square Area&quot;);\n        index.add(&quot;2. Triangle Area&quot;);\n\n        System.out.println(&quot;Formulas Index:&quot;);\n        System.out.println(&quot;&quot;);\n        for (int i = 0; i &lt; index.size(); i++) {\n            System.out.println(index.get(i));\n        }\n   Scanner scanner = new Scanner(System.in);\n         \n        while (true) {\n            System.out.println(&quot;&quot;);\n            System.out.print(&quot;Write the formulas number you want to use: &quot;);\n\n            String firstQuestion = scanner.nextLine();\n            System.out.println();\n\n            // methods selection\n            if (firstQuestion.equals(&quot;1&quot;)) {\n                System.out.println(&quot;Pythagoras Theorem&quot;);\n                System.out.print(&quot;Insert side a: &quot;);\n                double a = scanner.nextDouble();\n                System.out.print(&quot;Insert side b: &quot;);\n                double b = scanner.nextDouble();\n                double c = pitagoras(a, b);\n                System.out.println(&quot;Hypotenuse c: &quot; + c);\n            } else if (firstQuestion.equals(&quot;2&quot;)) {\n                System.out.println(&quot;Square area&quot;);\n                System.out.print(&quot;Insert side a: &quot;);\n                double arestaA = scanner.nextDouble();\n                System.out.print(&quot;Insert side b: &quot;);\n                double arestaB = scanner.nextDouble();\n                double squareArea = squarearea(arestaA, arestaB);\n                System.out.println(&quot;The square area is: &quot; + squareArea);\n            } else\n                System.out.println(&quot;Please insert a valid formula number.&quot;);\n        }\n\n    }\n\n    // methods parameters\n    static double pitagoras(double a, double b) {\n        double c = Math.sqrt((a * a) + (b * b));\n        return c;\n    }\n\n    static double squarearea(double a, double b) {\n        double area = a * b;\n        return area;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651611571,"creation_date":1651534090,"answer_id":72093382,"question_id":72093183,"body_markdown":"I&#39;m always surprised that people don&#39;t make more use of `do-while` loops, it&#39;s a severely underrated construct.\r\n\r\nThink about it, you MUST do at least one iteration of the loop before you know if you want to continue or exit the loop. You also want to re-print the menu on each iteration, so it&#39;s easier to just put it in a `do-while` (IMHO)\r\n\r\nYou can take a look at [Control Flow Statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/flow.html) and [The while and do-while Statements](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html) for more details\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            // TODO Auto-generated method stub\r\n            // first question\r\n\r\n            // constant values definition\r\n            final double PI = 3.141592653589793238;\r\n\r\n            //index\r\n            ArrayList&lt;String&gt; index = new ArrayList&lt;&gt;();\r\n\r\n            index.add(&quot;1. Pythagorean Theorem&quot;);\r\n            index.add(&quot;2. Square Area&quot;);\r\n            index.add(&quot;3. Triangle Area&quot;);\r\n            index.add(&quot;4. Quit&quot;);\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            boolean printMenu = true;\r\n            boolean exit = false;\r\n            do {\r\n                if (printMenu) {\r\n                    System.out.println(&quot;&quot;);\r\n                    System.out.println(&quot;Formulas Index:&quot;);\r\n                    System.out.println(&quot;&quot;);\r\n                    for (int i = 0; i &lt; index.size(); i++) {\r\n                        System.out.println(index.get(i));\r\n                    }\r\n\r\n                    System.out.println(&quot;&quot;);\r\n                    System.out.print(&quot;Write the formulas number you want to use: &quot;);\r\n                }\r\n                printMenu = true;\r\n\r\n                String firstQuestion = scanner.nextLine();\r\n                System.out.println();\r\n\r\n                // methods selection\r\n                if (firstQuestion.equals(&quot;1&quot;)) {\r\n                    System.out.println(&quot;Pythagoras Theorem&quot;);\r\n                    System.out.print(&quot;Insert side a: &quot;);\r\n                    double a = scanner.nextDouble();\r\n                    System.out.print(&quot;Insert side b: &quot;);\r\n                    double b = scanner.nextDouble();\r\n                    double c = pitagoras(a, b);\r\n                    System.out.println(&quot;Hypotenuse c: &quot; + c);\r\n                } else if (firstQuestion.equals(&quot;2&quot;)) {\r\n                    System.out.println(&quot;Square area&quot;);\r\n                    System.out.print(&quot;Insert side a: &quot;);\r\n                    double arestaA = scanner.nextDouble();\r\n                    System.out.print(&quot;Insert side b: &quot;);\r\n                    double arestaB = scanner.nextDouble();\r\n                    double squareArea = squarearea(arestaA, arestaB);\r\n                    System.out.println(&quot;The square area is: &quot; + squareArea);\r\n                } else if (firstQuestion.equals(&quot;3&quot;)) {\r\n                    // Triangle area\r\n                } else if (firstQuestion.equals(&quot;4&quot;)) {\r\n                    exit = true;\r\n                } else {\r\n                    printMenu = false;\r\n                    System.out.println(&quot;Please insert a valid formula number.&quot;);\r\n                }\r\n            } while (!exit);\r\n        }\r\n\r\n        // methods parameters\r\n        static double pitagoras(double a, double b) {\r\n            double c = Math.sqrt((a * a) + (b * b));\r\n            return c;\r\n        }\r\n\r\n        static double squarearea(double a, double b) {\r\n            double area = a * b;\r\n            return area;\r\n        }\r\n    }\r\n","title":"Returm to a specific line or place","body":"<p>I'm always surprised that people don't make more use of <code>do-while</code> loops, it's a severely underrated construct.</p>\n<p>Think about it, you MUST do at least one iteration of the loop before you know if you want to continue or exit the loop. You also want to re-print the menu on each iteration, so it's easier to just put it in a <code>do-while</code> (IMHO)</p>\n<p>You can take a look at <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/flow.html\" rel=\"nofollow noreferrer\">Control Flow Statements</a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">The while and do-while Statements</a> for more details</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic final class Main {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        // first question\n\n        // constant values definition\n        final double PI = 3.141592653589793238;\n\n        //index\n        ArrayList&lt;String&gt; index = new ArrayList&lt;&gt;();\n\n        index.add(&quot;1. Pythagorean Theorem&quot;);\n        index.add(&quot;2. Square Area&quot;);\n        index.add(&quot;3. Triangle Area&quot;);\n        index.add(&quot;4. Quit&quot;);\n\n        Scanner scanner = new Scanner(System.in);\n        boolean printMenu = true;\n        boolean exit = false;\n        do {\n            if (printMenu) {\n                System.out.println(&quot;&quot;);\n                System.out.println(&quot;Formulas Index:&quot;);\n                System.out.println(&quot;&quot;);\n                for (int i = 0; i &lt; index.size(); i++) {\n                    System.out.println(index.get(i));\n                }\n\n                System.out.println(&quot;&quot;);\n                System.out.print(&quot;Write the formulas number you want to use: &quot;);\n            }\n            printMenu = true;\n\n            String firstQuestion = scanner.nextLine();\n            System.out.println();\n\n            // methods selection\n            if (firstQuestion.equals(&quot;1&quot;)) {\n                System.out.println(&quot;Pythagoras Theorem&quot;);\n                System.out.print(&quot;Insert side a: &quot;);\n                double a = scanner.nextDouble();\n                System.out.print(&quot;Insert side b: &quot;);\n                double b = scanner.nextDouble();\n                double c = pitagoras(a, b);\n                System.out.println(&quot;Hypotenuse c: &quot; + c);\n            } else if (firstQuestion.equals(&quot;2&quot;)) {\n                System.out.println(&quot;Square area&quot;);\n                System.out.print(&quot;Insert side a: &quot;);\n                double arestaA = scanner.nextDouble();\n                System.out.print(&quot;Insert side b: &quot;);\n                double arestaB = scanner.nextDouble();\n                double squareArea = squarearea(arestaA, arestaB);\n                System.out.println(&quot;The square area is: &quot; + squareArea);\n            } else if (firstQuestion.equals(&quot;3&quot;)) {\n                // Triangle area\n            } else if (firstQuestion.equals(&quot;4&quot;)) {\n                exit = true;\n            } else {\n                printMenu = false;\n                System.out.println(&quot;Please insert a valid formula number.&quot;);\n            }\n        } while (!exit);\n    }\n\n    // methods parameters\n    static double pitagoras(double a, double b) {\n        double c = Math.sqrt((a * a) + (b * b));\n        return c;\n    }\n\n    static double squarearea(double a, double b) {\n        double area = a * b;\n        return area;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25177613,"reputation":1,"user_id":19019575,"display_name":"JPedro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651855950,"creation_date":1651532018,"question_id":72093183,"body_markdown":"I&#39;m self learning Java for a few weeks and started testing my (basic) knowledge. I was trying to create something like some formula calculator, with an index selector. I want to know if it&#39;s possible to, after using a formula, go back to the first question. I tried to use a while loop, but I couldn&#39;t figure it out.\r\n\r\n```java\r\npublic class formulas {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t// first question\r\n\t\t\t\r\n\t\t\r\n\t\t// constant values definition\r\n\t\tfinal double PI = 3.141592653589793238;\r\n\t\t\r\n\t\t//index\r\n\t\tArrayList&lt;String&gt; index = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t\t\t\t\r\n\t\tindex.add(&quot;1. Pythagorean Theorem&quot;);\r\n\t\tindex.add(&quot;2. Square Area&quot;);\r\n\t\tindex.add(&quot;2. Triangle Area&quot;);\r\n\t\r\n\t\tSystem.out.println(&quot;Formulas Index:&quot;);\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tfor(int i=0; i&lt;index.size(); i++) {\r\n\t\t\tSystem.out.println(index.get(i));\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.print(&quot;Write the formulas number you want to use: &quot;);\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tString firstQuestion = scanner.nextLine();\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\t// methods selection\r\n\t\tif (firstQuestion.equals(&quot;1&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Pythagoras Theorem&quot;);\r\n\t\t\tSystem.out.print(&quot;Insert side a: &quot;);\r\n\t\t\tdouble a = scanner.nextDouble();\r\n\t\t\tSystem.out.print(&quot;Insert side b: &quot;);\r\n\t\t\tdouble b = scanner.nextDouble();\r\n\t\t\tdouble c = pitagoras(a,b);\r\n\t\t\tSystem.out.println(&quot;Hypotenuse c: &quot;+ c);\r\n\t\t}\r\n\t\telse if (firstQuestion.equals(&quot;2&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Square area&quot;);\r\n\t\t\tSystem.out.print(&quot;Insert side a: &quot;);\r\n\t\t\tdouble arestaA = scanner.nextDouble();\r\n\t\t\tSystem.out.print(&quot;Insert side b: &quot;);\r\n\t\t\tdouble arestaB = scanner.nextDouble();\r\n\t\t\tdouble squareArea = squarearea(arestaA,arestaB);\r\n\t\t\tSystem.out.println(&quot;The square area is: &quot;+ squareArea);\r\n\t    }\r\n\t\telse System.out.println(&quot;Please insert a valid formula number.&quot;);\r\n\t}\r\n\r\n\t\t// methods parameters\r\n\tstatic double pitagoras(double a, double b) {\r\n\t\tdouble c = Math.sqrt((a*a)+(b*b));\r\n\t\treturn c;\t\r\n\t}\r\n\r\n\tstatic double squarearea(double a, double b) {\r\n\t\tdouble area = a*b;\r\n\t\treturn area;\r\n\t}\r\n\r\n}\r\n```","title":"Returm to a specific line or place","body":"<p>I'm self learning Java for a few weeks and started testing my (basic) knowledge. I was trying to create something like some formula calculator, with an index selector. I want to know if it's possible to, after using a formula, go back to the first question. I tried to use a while loop, but I couldn't figure it out.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class formulas {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        // first question\n            \n        \n        // constant values definition\n        final double PI = 3.141592653589793238;\n        \n        //index\n        ArrayList&lt;String&gt; index = new ArrayList&lt;&gt;();\n                                \n        index.add(&quot;1. Pythagorean Theorem&quot;);\n        index.add(&quot;2. Square Area&quot;);\n        index.add(&quot;2. Triangle Area&quot;);\n    \n        System.out.println(&quot;Formulas Index:&quot;);\n        System.out.println(&quot;&quot;);\n        for(int i=0; i&lt;index.size(); i++) {\n            System.out.println(index.get(i));\n        }\n        \n        System.out.println(&quot;&quot;);\n        System.out.print(&quot;Write the formulas number you want to use: &quot;);\n        \n        Scanner scanner = new Scanner(System.in);\n        String firstQuestion = scanner.nextLine();\n        System.out.println();\n        \n        // methods selection\n        if (firstQuestion.equals(&quot;1&quot;)) {\n            System.out.println(&quot;Pythagoras Theorem&quot;);\n            System.out.print(&quot;Insert side a: &quot;);\n            double a = scanner.nextDouble();\n            System.out.print(&quot;Insert side b: &quot;);\n            double b = scanner.nextDouble();\n            double c = pitagoras(a,b);\n            System.out.println(&quot;Hypotenuse c: &quot;+ c);\n        }\n        else if (firstQuestion.equals(&quot;2&quot;)) {\n            System.out.println(&quot;Square area&quot;);\n            System.out.print(&quot;Insert side a: &quot;);\n            double arestaA = scanner.nextDouble();\n            System.out.print(&quot;Insert side b: &quot;);\n            double arestaB = scanner.nextDouble();\n            double squareArea = squarearea(arestaA,arestaB);\n            System.out.println(&quot;The square area is: &quot;+ squareArea);\n        }\n        else System.out.println(&quot;Please insert a valid formula number.&quot;);\n    }\n\n        // methods parameters\n    static double pitagoras(double a, double b) {\n        double c = Math.sqrt((a*a)+(b*b));\n        return c;   \n    }\n\n    static double squarearea(double a, double b) {\n        double area = a*b;\n        return area;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","pom.xml","manifest.mf"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1411982005,"post_id":25098307,"comment_id":40894178,"body_markdown":"I have the same question even though it is not limited to the Built-By in particular and I have not found any solution. I am putting a bounty on this question, because I have also found exactly what you have found in the comments to the only answer this question has.","body":"I have the same question even though it is not limited to the Built-By in particular and I have not found any solution. I am putting a bounty on this question, because I have also found exactly what you have found in the comments to the only answer this question has."}],"answers":[{"tags":[],"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1407006830,"creation_date":1407006830,"answer_id":25098501,"question_id":25098307,"body_markdown":"Add \r\n\r\n    &lt;addDefaultImplementationEntries&gt;false&lt;/addDefaultImplementationEntries&gt;\r\n  \r\nto configration section of maven-jar-plugin in your pom.xml to completely remove default properties:          \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addDefaultImplementationEntries&gt;false&lt;/addDefaultImplementationEntries&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\nto customize it (remove just username):\r\n\r\n        &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Built-By&gt;&lt;/Built-By&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Hiding manifest entries with maven","body":"<p>Add </p>\n\n<pre><code>&lt;addDefaultImplementationEntries&gt;false&lt;/addDefaultImplementationEntries&gt;\n</code></pre>\n\n<p>to configration section of maven-jar-plugin in your pom.xml to completely remove default properties:          </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;addDefaultImplementationEntries&gt;false&lt;/addDefaultImplementationEntries&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>to customize it (remove just username):</p>\n\n<pre><code>    &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Built-By&gt;&lt;/Built-By&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102133,"reputation":8546,"user_id":274350,"accept_rate":100,"display_name":"Richard Neish"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1548780656,"creation_date":1411994205,"answer_id":26100108,"question_id":25098307,"body_markdown":"The [maven-achiver plugin documentation][1] seems pretty clear that you cannot remove properties, only set them to blank as described in [Alex Chernyshev&#39;s answer][2].  In order to get more control over the MANIFEST.MF you should not use the maven-archiver plugin.\r\n\r\nOne alternative would be to use the [maven antrun plugin][3] and the [Ant Jar Task][4] to build the Jar.\r\n\r\nIn pom.xml:\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;target&gt;\r\n                    &lt;jar destfile=&quot;test.jar&quot; basedir=&quot;.&quot;&gt;\r\n                      &lt;include name=&quot;build&quot;/&gt;\r\n                      &lt;manifest&gt;\r\n                        &lt;attribute name=&quot;Manifest-Version:&quot; value=&quot;1.0&quot;/&gt;\r\n                      &lt;/manifest&gt;\r\n                    &lt;/jar&gt;\r\n                  &lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;run&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nAnother alternative is calling the Jar tool directly using the [Maven exec plugin][5].\r\n\r\nI don&#39;t like recommending antrun, as I think it&#39;s a dirty hack, but it seems that maven-archiver does not meet your requirements.  It might be worth raising a feature request for maven-archiver.\r\n\r\nEDIT: 2014-10-06 Raised Jira [MSHARED-362][6]\r\n\r\nEDIT: 2018-06-18: Updated link to Jira and to Maven Exec plugin\r\n\r\nEDIT: 2019-01-14: Fix targeted for maven-archiver-3.4.0\r\n\r\n  [1]: https://maven.apache.org/shared/maven-archiver/examples/manifest.html\r\n  [2]: https://stackoverflow.com/a/25098501/274350\r\n  [3]: https://maven.apache.org/plugins/maven-antrun-plugin/\r\n  [4]: https://ant.apache.org/manual/Tasks/jar.html\r\n  [5]: http://www.mojohaus.org/exec-maven-plugin/\r\n  [6]: https://issues.apache.org/jira/browse/MSHARED-362","title":"Hiding manifest entries with maven","body":"<p>The <a href=\"https://maven.apache.org/shared/maven-archiver/examples/manifest.html\" rel=\"nofollow noreferrer\">maven-achiver plugin documentation</a> seems pretty clear that you cannot remove properties, only set them to blank as described in <a href=\"https://stackoverflow.com/a/25098501/274350\">Alex Chernyshev's answer</a>.  In order to get more control over the MANIFEST.MF you should not use the maven-archiver plugin.</p>\n\n<p>One alternative would be to use the <a href=\"https://maven.apache.org/plugins/maven-antrun-plugin/\" rel=\"nofollow noreferrer\">maven antrun plugin</a> and the <a href=\"https://ant.apache.org/manual/Tasks/jar.html\" rel=\"nofollow noreferrer\">Ant Jar Task</a> to build the Jar.</p>\n\n<p>In pom.xml:</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;configuration&gt;\n              &lt;target&gt;\n                &lt;jar destfile=\"test.jar\" basedir=\".\"&gt;\n                  &lt;include name=\"build\"/&gt;\n                  &lt;manifest&gt;\n                    &lt;attribute name=\"Manifest-Version:\" value=\"1.0\"/&gt;\n                  &lt;/manifest&gt;\n                &lt;/jar&gt;\n              &lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>Another alternative is calling the Jar tool directly using the <a href=\"http://www.mojohaus.org/exec-maven-plugin/\" rel=\"nofollow noreferrer\">Maven exec plugin</a>.</p>\n\n<p>I don't like recommending antrun, as I think it's a dirty hack, but it seems that maven-archiver does not meet your requirements.  It might be worth raising a feature request for maven-archiver.</p>\n\n<p>EDIT: 2014-10-06 Raised Jira <a href=\"https://issues.apache.org/jira/browse/MSHARED-362\" rel=\"nofollow noreferrer\">MSHARED-362</a></p>\n\n<p>EDIT: 2018-06-18: Updated link to Jira and to Maven Exec plugin</p>\n\n<p>EDIT: 2019-01-14: Fix targeted for maven-archiver-3.4.0</p>\n"},{"tags":[],"owner":{"account_id":2599416,"reputation":622,"user_id":2252267,"accept_rate":83,"display_name":"user1257"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547069207,"creation_date":1547069207,"answer_id":54118629,"question_id":25098307,"body_markdown":"Set `user.name` variable to empty string.\r\n\r\n`mvn -Duser.name=&quot;&quot; package`\r\n\r\nOr if you are using Eclipse add `-Duser.name=&quot;&quot;` to VM arguments of Maven run configuration (Run -&gt; Run As -&gt; Maven build... -&gt; JRE tab -&gt; enter `-Duser.name=&quot;&quot;` in VM arguments field).","title":"Hiding manifest entries with maven","body":"<p>Set <code>user.name</code> variable to empty string.</p>\n\n<p><code>mvn -Duser.name=\"\" package</code></p>\n\n<p>Or if you are using Eclipse add <code>-Duser.name=\"\"</code> to VM arguments of Maven run configuration (Run -> Run As -> Maven build... -> JRE tab -> enter <code>-Duser.name=\"\"</code> in VM arguments field).</p>\n"},{"tags":[],"owner":{"account_id":25218212,"reputation":1,"user_id":19055073,"display_name":"n90p"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651855647,"creation_date":1651855647,"answer_id":72144925,"question_id":25098307,"body_markdown":"This removes all default entries from manifest\r\n\r\n```xml\r\n&lt;addDefaultEntries&gt;false&lt;/addDefaultEntries&gt;\r\n```\r\n\r\nExample\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;archive&gt;\r\n\t\t\t&lt;manifest&gt;\r\n\t\t\t\t&lt;addDefaultEntries&gt;false&lt;/addDefaultEntries&gt;\r\n\t\t\t&lt;/manifest&gt;\r\n\t\t&lt;/archive&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Hiding manifest entries with maven","body":"<p>This removes all default entries from manifest</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;addDefaultEntries&gt;false&lt;/addDefaultEntries&gt;\n</code></pre>\n<p>Example</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addDefaultEntries&gt;false&lt;/addDefaultEntries&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"display_name":"user3881996"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6879,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1651855647,"creation_date":1407005222,"question_id":25098307,"body_markdown":"When building a jar file with maven, it will create a manifest file in META-INF/MANIFEST.MF. Its contents currently are:\r\n\r\n    Manifest-Version: 1.0                                                                    \r\n    Archiver-Version: Plexus Archiver\r\n    Built-By: &lt;my username&gt;\r\n    Created-By: Apache Maven 3.1.0\r\n    Build-Jdk: 1.8.0_5\r\n\r\nHow can I hide manifest entries? In particular I would like to hide the &quot;Built-By:&quot; entry because I don&#39;t see any reason why a jar should include my username.\r\n","title":"Hiding manifest entries with maven","body":"<p>When building a jar file with maven, it will create a manifest file in META-INF/MANIFEST.MF. Its contents currently are:</p>\n\n<pre><code>Manifest-Version: 1.0                                                                    \nArchiver-Version: Plexus Archiver\nBuilt-By: &lt;my username&gt;\nCreated-By: Apache Maven 3.1.0\nBuild-Jdk: 1.8.0_5\n</code></pre>\n\n<p>How can I hide manifest entries? In particular I would like to hide the \"Built-By:\" entry because I don't see any reason why a jar should include my username.</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1651811530,"post_id":72136062,"comment_id":127456877,"body_markdown":"Posting images are not encouraged in StackOverflow, Please post code instead of images https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question&gt;","body":"Posting images are not encouraged in StackOverflow, Please post code instead of images <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>&gt;"},{"owner":{"account_id":21843367,"reputation":1,"user_id":16136595,"display_name":"JS24"},"score":0,"creation_date":1651811642,"post_id":72136062,"comment_id":127456896,"body_markdown":"i have post the code below sir, the image just for shows the result....","body":"i have post the code below sir, the image just for shows the result...."}],"answers":[{"tags":[],"owner":{"account_id":12261633,"reputation":13,"user_id":8949859,"display_name":"Edvestemhem"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651855455,"creation_date":1651811138,"answer_id":72136161,"question_id":72136062,"body_markdown":"   As others have stated , you used nested loop for every element in foreach loop. You can simply find index of every element in list collection and set your array with this index.\r\n\r\n     for (Product Products : list){\r\n      \r\n       data[list.indexOf(Products)]=\r\n       Products.getDay();\r\n    System.out.println(Arrays.toString(data));\r\n\r\n        }","title":"Looping arraylist object from class value into array java","body":"<p>As others have stated , you used nested loop for every element in foreach loop. You can simply find index of every element in list collection and set your array with this index.</p>\n<pre><code> for (Product Products : list){\n  \n   data[list.indexOf(Products)]=\n   Products.getDay();\nSystem.out.println(Arrays.toString(data));\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2538296,"reputation":2849,"user_id":2312605,"accept_rate":37,"display_name":"Ashish Ratan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651812587,"creation_date":1651812587,"answer_id":72136303,"question_id":72136062,"body_markdown":"The problem you are facing is that you are iterating your loop twice, and the inner loop is looping again and again.\r\n\r\n\r\nYou can change your code like this and try if it gives you your results.\r\n\r\n    for(int i=0;i&lt;list.size(); i++){\r\n     data[i] = list.get(i).getDay();\r\n    }\r\n\r\nI believe this should give you the result.\r\n\r\nif you are using java8+ you can use:\r\n\r\n    Integer[] daysArray = list.stream().map(Product::getDay)\r\n    .toArray(Integer[]::new);\r\n\r\n","title":"Looping arraylist object from class value into array java","body":"<p>The problem you are facing is that you are iterating your loop twice, and the inner loop is looping again and again.</p>\n<p>You can change your code like this and try if it gives you your results.</p>\n<pre><code>for(int i=0;i&lt;list.size(); i++){\n data[i] = list.get(i).getDay();\n}\n</code></pre>\n<p>I believe this should give you the result.</p>\n<p>if you are using java8+ you can use:</p>\n<pre><code>Integer[] daysArray = list.stream().map(Product::getDay)\n.toArray(Integer[]::new);\n</code></pre>\n"}],"owner":{"account_id":21843367,"reputation":1,"user_id":16136595,"display_name":"JS24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72136303,"answer_count":2,"score":-1,"last_activity_date":1651855455,"creation_date":1651810026,"question_id":72136062,"body_markdown":"So I&#39;m trying to insert the value from ArrayList specifically for object **Days** into one array of integer \r\nhere is the value I iterate into the table\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI I&#39;ve try iterate it by using for each to getDays from Products class into java but I shows more than one value in that array like this..\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RP6xD.png\r\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\r\n[14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14]\r\n[13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13]\r\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\r\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\r\n[14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14]\r\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\r\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\r\n[28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28... etc\r\n\r\nit supposed to show like &quot;[15,14,13,15,28..etc]&quot;\r\nis something wrong with my code?\r\n\r\n    for (Product Products : list){\r\n               for(int i = 0 ; i &lt; list.size(); i++){\r\n                   data[i] = Products.getDay();\r\n    \r\n               }\r\n                System.out.println(Arrays.toString(data));\r\n    \r\n            }","title":"Looping arraylist object from class value into array java","body":"<p>So I'm trying to insert the value from ArrayList specifically for object <strong>Days</strong> into one array of integer\nhere is the value I iterate into the table\n<a href=\"https://i.stack.imgur.com/RP6xD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RP6xD.png\" alt=\"enter image description here\" /></a></p>\n<p>I I've try iterate it by using for each to getDays from Products class into java but I shows more than one value in that array like this..\n[![enter image description here][2]][2]</p>\n<p>[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\n[14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14]\n[13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13]\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\n[14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14]\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\n[15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15]\n[28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28... etc</p>\n<p>it supposed to show like &quot;[15,14,13,15,28..etc]&quot;\nis something wrong with my code?</p>\n<pre><code>for (Product Products : list){\n           for(int i = 0 ; i &lt; list.size(); i++){\n               data[i] = Products.getDay();\n\n           }\n            System.out.println(Arrays.toString(data));\n\n        }\n</code></pre>\n"},{"tags":["javascript","java","html","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":13174171,"reputation":7,"user_id":15348819,"display_name":"VISHAL KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623812699,"creation_date":1623812699,"answer_id":67995815,"question_id":67995791,"body_markdown":"You can have loading display as block by default and,  content desplay as none.\r\n\r\nOnce ajax is finished just hide the loading and show the content.\r\n\r\nAlso, Make sure you cover the whole page with loading.","title":"Showing a loader while waiting for server-side code (without a blank page)","body":"<p>You can have loading display as block by default and,  content desplay as none.</p>\n<p>Once ajax is finished just hide the loading and show the content.</p>\n<p>Also, Make sure you cover the whole page with loading.</p>\n"}],"owner":{"account_id":21961139,"reputation":1,"user_id":16239017,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651855397,"creation_date":1623812453,"question_id":67995791,"body_markdown":"I&#39;ve tried to make a loader for every page but failed.\r\n\r\nI want to show the loader before completing server-side jobs: **[Loader] -&gt; [Target page]**.\r\n\r\nHowever, HTML was loaded after the server-side jobs, so I could see the loader after a blank page: **[Blank page] -&gt; [Loader] -&gt; [Target page]**.\r\n\r\nHere is example HTML code (sample.html),\r\n\r\n```html\r\n&lt;body&gt;\r\n\t&lt;!-- loading image  --&gt;\r\n\t&lt;div id=&quot;loading&quot;&gt;\r\n\t\t&lt;img id=&quot;loading-image&quot; src=&quot;/img/loading.gif&quot; alt=&quot;Loading...&quot;/&gt;\r\n\t&lt;/div&gt;\r\n\t\r\n\t&lt;section class=&quot;content&quot;&gt;\r\n        &lt;span th:text=&quot;${data_list}&quot;&gt;&lt;/span&gt;\r\n    &lt;/section&gt;\r\n\r\n\t&lt;script type=&quot;text/javascript&quot;&gt;\r\n\t\t$(window).load(function() {\r\n\t\t\t $(&#39;#loading&#39;).hide();\r\n\t\t\t});\r\n\t&lt;/script&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\nand Java code (Controller.java).\r\n\r\n```java\r\n@RequestMapping(\r\n\tmethod = RequestMethod.GET,\r\n\tpath = &quot;sample&quot;\r\n)\r\nString hosts(Model model) {\r\n\tmodel.addAttribute(&quot;data_list&quot;, service.getAllData());\r\n\treturn &quot;sample&quot;;\r\n}\r\n```\r\n\r\nservice.getAllData() takes a long time, so I want to show users loader before service.getAllData() is completed. However, the current state is that **[Blank page] -&gt; [Loader] -&gt; [Target page]**.\r\n\r\nIs there any fancy way to show the loader first, and then show the target page after the server-side jobs for every page? That is **[Loader] -&gt; [Target page]**.\r\n\r\n\r\n","title":"Showing a loader while waiting for server-side code (without a blank page)","body":"<p>I've tried to make a loader for every page but failed.</p>\n<p>I want to show the loader before completing server-side jobs: <strong>[Loader] -&gt; [Target page]</strong>.</p>\n<p>However, HTML was loaded after the server-side jobs, so I could see the loader after a blank page: <strong>[Blank page] -&gt; [Loader] -&gt; [Target page]</strong>.</p>\n<p>Here is example HTML code (sample.html),</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n    &lt;!-- loading image  --&gt;\n    &lt;div id=&quot;loading&quot;&gt;\n        &lt;img id=&quot;loading-image&quot; src=&quot;/img/loading.gif&quot; alt=&quot;Loading...&quot;/&gt;\n    &lt;/div&gt;\n    \n    &lt;section class=&quot;content&quot;&gt;\n        &lt;span th:text=&quot;${data_list}&quot;&gt;&lt;/span&gt;\n    &lt;/section&gt;\n\n    &lt;script type=&quot;text/javascript&quot;&gt;\n        $(window).load(function() {\n             $('#loading').hide();\n            });\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n<p>and Java code (Controller.java).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(\n    method = RequestMethod.GET,\n    path = &quot;sample&quot;\n)\nString hosts(Model model) {\n    model.addAttribute(&quot;data_list&quot;, service.getAllData());\n    return &quot;sample&quot;;\n}\n</code></pre>\n<p>service.getAllData() takes a long time, so I want to show users loader before service.getAllData() is completed. However, the current state is that <strong>[Blank page] -&gt; [Loader] -&gt; [Target page]</strong>.</p>\n<p>Is there any fancy way to show the loader first, and then show the target page after the server-side jobs for every page? That is <strong>[Loader] -&gt; [Target page]</strong>.</p>\n"},{"tags":["javascript","java","ajax","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":551625,"reputation":1261,"user_id":916538,"accept_rate":46,"display_name":"burakk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623842041,"creation_date":1623842041,"answer_id":68001580,"question_id":67998998,"body_markdown":"Something like this would solve your issue:\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        var $loading = $(&#39;#loading&#39;).show();\r\n         \r\n        $.ajax({\r\n            url: &quot;/dataSend&quot;,\r\n            type:&quot;POST&quot;,\r\n        }).done(function(fragment) {\r\n            $(&#39;#loading&#39;).hide();\r\n        });\r\n    &lt;/script&gt;","title":"Showing a loader while waiting for server-side code with AJAX","body":"<p>Something like this would solve your issue:</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\n    var $loading = $('#loading').show();\n     \n    $.ajax({\n        url: &quot;/dataSend&quot;,\n        type:&quot;POST&quot;,\n    }).done(function(fragment) {\n        $('#loading').hide();\n    });\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":21961139,"reputation":1,"user_id":16239017,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651855405,"answer_count":1,"score":0,"last_activity_date":1651855321,"creation_date":1623832031,"question_id":67998998,"body_markdown":"My problem was described in https://stackoverflow.com/questions/67995791/showing-a-loader-while-waiting-for-server-side-code-without-a-blank-page.\r\n\r\nTo summarize briefly,\r\nI want to show the loader before completing server-side jobs: **[Loader] -&gt; [Target page]**. However, HTML was loaded after the server-side jobs, so I could see the loader after a blank page: **[Blank page] -&gt; [Loader] -&gt; [Target page]**.\r\n\r\nVery thankfully someone recommended using AJAX. However, I am not familiar with AJAX system, so I searched related information and wrote codes as below.\r\n\r\nHTML code (sample.html),\r\n\r\n```html\r\n&lt;body&gt;\r\n    &lt;!-- loading image  --&gt;\r\n    &lt;div id=&quot;loading&quot;&gt;\r\n        &lt;img id=&quot;loading-image&quot; src=&quot;/img/loading.gif&quot; alt=&quot;Loading...&quot;/&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;section id=&quot;content&quot;&gt;\r\n        &lt;span th:text=&quot;${data_list}&quot;&gt;&lt;/span&gt;\r\n    &lt;/section&gt;\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n\t\tvar $loading = $(&#39;#loading&#39;).hide();\r\n\t\t$(document)\r\n\t\t  .ajaxStart(function () {\r\n\t\t    $loading.show();\r\n\t\t  })\r\n\t\t  .ajaxStop(function () {\r\n\t\t    $loading.hide();\r\n\t\t  });\r\n\t\t \r\n\t\t$.ajax({\r\n\t        url: &quot;/dataSend&quot;,\r\n\t        type:&quot;POST&quot;,\r\n\t    }).done(function (fragment) {\r\n\t        \r\n\t    });\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\nAnd Java code (Controller.java).\r\n\r\n```java\r\n@RequestMapping( method = RequestMethod.GET, path = &quot;sample&quot;)\r\nString loadSample(Model model) {\r\n    return &quot;sample&quot;;\r\n}\r\n\r\n@RequestMapping(method = RequestMethod.POST, value = &quot;/dataSend&quot;)\r\nString sendData(Model model) {\r\n    model.addAttribute(&quot;data_list&quot;, service.getAllData());\r\n    return &quot;sample :: #content&quot;;\r\n}\r\n```\r\n\r\nI&#39;m stuck now. Could anyone help me fix the code, or give me some related examples?\r\n","title":"Showing a loader while waiting for server-side code with AJAX","body":"<p>My problem was described in <a href=\"https://stackoverflow.com/questions/67995791/showing-a-loader-while-waiting-for-server-side-code-without-a-blank-page\">Showing a loader while waiting for server-side code (without a blank page)</a>.</p>\n<p>To summarize briefly,\nI want to show the loader before completing server-side jobs: <strong>[Loader] -&gt; [Target page]</strong>. However, HTML was loaded after the server-side jobs, so I could see the loader after a blank page: <strong>[Blank page] -&gt; [Loader] -&gt; [Target page]</strong>.</p>\n<p>Very thankfully someone recommended using AJAX. However, I am not familiar with AJAX system, so I searched related information and wrote codes as below.</p>\n<p>HTML code (sample.html),</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n    &lt;!-- loading image  --&gt;\n    &lt;div id=&quot;loading&quot;&gt;\n        &lt;img id=&quot;loading-image&quot; src=&quot;/img/loading.gif&quot; alt=&quot;Loading...&quot;/&gt;\n    &lt;/div&gt;\n    \n    &lt;section id=&quot;content&quot;&gt;\n        &lt;span th:text=&quot;${data_list}&quot;&gt;&lt;/span&gt;\n    &lt;/section&gt;\n\n    &lt;script type=&quot;text/javascript&quot;&gt;\n        var $loading = $('#loading').hide();\n        $(document)\n          .ajaxStart(function () {\n            $loading.show();\n          })\n          .ajaxStop(function () {\n            $loading.hide();\n          });\n         \n        $.ajax({\n            url: &quot;/dataSend&quot;,\n            type:&quot;POST&quot;,\n        }).done(function (fragment) {\n            \n        });\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n<p>And Java code (Controller.java).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping( method = RequestMethod.GET, path = &quot;sample&quot;)\nString loadSample(Model model) {\n    return &quot;sample&quot;;\n}\n\n@RequestMapping(method = RequestMethod.POST, value = &quot;/dataSend&quot;)\nString sendData(Model model) {\n    model.addAttribute(&quot;data_list&quot;, service.getAllData());\n    return &quot;sample :: #content&quot;;\n}\n</code></pre>\n<p>I'm stuck now. Could anyone help me fix the code, or give me some related examples?</p>\n"},{"tags":["java","file","path"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1651843672,"post_id":72142207,"comment_id":127466946,"body_markdown":"Add code to check for leading/training slashes and adjust accordingly.","body":"Add code to check for leading/training slashes and adjust accordingly."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1651844285,"post_id":72142207,"comment_id":127467224,"body_markdown":"The other option is to leave the slashes, most if not all filesystems will ignore them and code will code just fine, unless you are concerned on how is it presented to the user, then yes, just remove them manually.","body":"The other option is to leave the slashes, most if not all filesystems will ignore them and code will code just fine, unless you are concerned on how is it presented to the user, then yes, just remove them manually."}],"answers":[{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651844419,"creation_date":1651843793,"answer_id":72142278,"question_id":72142207,"body_markdown":"Use [`Files.newBufferedWriter(Path, OpenOption...)`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newBufferedWriter-java.nio.file.Path-java.nio.file.OpenOption...-).\r\n\r\n    try (Writer myWriter = Files.newBufferedWriter(Paths.get(folder, fileName))) {\r\n        // other code\r\n    }\r\n\r\nNote that, while the `FileWriter` constructor uses the JVM&#39;s default encoding, this method uses the `UTF-8` encoding, which is considered generally more useful. If you need to replicate the behavior of the `FileWriter` constructor, use\r\n\r\n    Files.newBufferedWriter(path, Charset.defaultCharset());","title":"How to safely combine strings into file path and open filewriter?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newBufferedWriter-java.nio.file.Path-java.nio.file.OpenOption...-\" rel=\"nofollow noreferrer\"><code>Files.newBufferedWriter(Path, OpenOption...)</code></a>.</p>\n<pre><code>try (Writer myWriter = Files.newBufferedWriter(Paths.get(folder, fileName))) {\n    // other code\n}\n</code></pre>\n<p>Note that, while the <code>FileWriter</code> constructor uses the JVM's default encoding, this method uses the <code>UTF-8</code> encoding, which is considered generally more useful. If you need to replicate the behavior of the <code>FileWriter</code> constructor, use</p>\n<pre><code>Files.newBufferedWriter(path, Charset.defaultCharset());\n</code></pre>\n"}],"owner":{"account_id":1657727,"reputation":1230,"user_id":1526776,"accept_rate":100,"display_name":"boucekv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72142278,"answer_count":1,"score":2,"last_activity_date":1651855187,"creation_date":1651843515,"question_id":72142207,"body_markdown":"Is there a more elegant way to do the following?\r\n\r\n    try (FileWriter myWriter = new FileWriter(Paths.get(folder,fileName).toAbsolutePath().toString())){\r\n\r\nI have folder path and filename as string and I want to safely combine them. For example if\r\n    \r\n    String folder = &quot;/tmp/&quot;\r\n    String fileName = &quot;/myfile.txt&quot;\r\n\r\nto not end up with \r\n\r\n    &quot;/tmp//myfile.txt&quot;\r\n\r\nor with \r\n\r\n    String folder = &quot;/tmp&quot;\r\n    String fileName = &quot;myfile.txt&quot;\r\n\r\nto not end up with \r\n\r\n    &quot;/tmpmyfile.txt&quot;\r\n\r\nThe way I am using is transforming String to path and back to String which feels weird, but it looks like FileWriter does not accept Path directly.\r\n\r\nIs there some more elegant solution than the one I have?","title":"How to safely combine strings into file path and open filewriter?","body":"<p>Is there a more elegant way to do the following?</p>\n<pre><code>try (FileWriter myWriter = new FileWriter(Paths.get(folder,fileName).toAbsolutePath().toString())){\n</code></pre>\n<p>I have folder path and filename as string and I want to safely combine them. For example if</p>\n<pre><code>String folder = &quot;/tmp/&quot;\nString fileName = &quot;/myfile.txt&quot;\n</code></pre>\n<p>to not end up with</p>\n<pre><code>&quot;/tmp//myfile.txt&quot;\n</code></pre>\n<p>or with</p>\n<pre><code>String folder = &quot;/tmp&quot;\nString fileName = &quot;myfile.txt&quot;\n</code></pre>\n<p>to not end up with</p>\n<pre><code>&quot;/tmpmyfile.txt&quot;\n</code></pre>\n<p>The way I am using is transforming String to path and back to String which feels weird, but it looks like FileWriter does not accept Path directly.</p>\n<p>Is there some more elegant solution than the one I have?</p>\n"},{"tags":["java","android","webserver"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651858521,"post_id":72144700,"comment_id":127472825,"body_markdown":"Yes you can make an app that is a webserver on an Android device. For the rest i dont understand who is broadcasting what. And to which app. It are browsers that communicate with webservers.","body":"Yes you can make an app that is a webserver on an Android device. For the rest i dont understand who is broadcasting what. And to which app. It are browsers that communicate with webservers."},{"owner":{"account_id":24139610,"reputation":11,"user_id":18105984,"display_name":"Aa324"},"score":0,"creation_date":1651924928,"post_id":72144700,"comment_id":127483682,"body_markdown":"First, i only want to do a simple web server which is just local on e.g port 8899 and listens to requests. If a request is received, it runs some code i&#39;ll define later to transmit the request data to the app Automate (https://llamalab.com/automate/) for further processing (e.g My App posts a notification with the data which is processed and then canceled by Automate immediately)","body":"First, i only want to do a simple web server which is just local on e.g port 8899 and listens to requests. If a request is received, it runs some code i&#39;ll define later to transmit the request data to the app Automate (<a href=\"https://llamalab.com/automate/\" rel=\"nofollow noreferrer\">llamalab.com/automate</a>) for further processing (e.g My App posts a notification with the data which is processed and then canceled by Automate immediately)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1651931300,"post_id":72144700,"comment_id":127485143,"body_markdown":"Have a look at NanoHttpD to build your app a webserver.","body":"Have a look at NanoHttpD to build your app a webserver."}],"owner":{"account_id":24139610,"reputation":11,"user_id":18105984,"display_name":"Aa324"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1651854556,"creation_date":1651854556,"question_id":72144700,"body_markdown":"Is it possible to create a local web server in Java (Android Studio IDE) and send broadcasts containing e.g the parameter f (http://localhost:8888/?f=SOMEDATA) to another app??\r\nThanks","title":"How can i implement a Web Server in Android Studio (Java) and react to requests?","body":"<p>Is it possible to create a local web server in Java (Android Studio IDE) and send broadcasts containing e.g the parameter f (http://localhost:8888/?f=SOMEDATA) to another app??\nThanks</p>\n"},{"tags":["java","zip","extract","7zip","iso"],"comments":[{"owner":{"account_id":13460295,"reputation":1223,"user_id":9712582,"display_name":"user9712582"},"score":0,"creation_date":1651871033,"post_id":72144685,"comment_id":127476216,"body_markdown":"Stepping through the code in a java debugger (netbneans) shows that a JNI native callback to setTotal(long) is receiving 8_668_223 for a file that the 7zip File Manager shows has size 4_303_635_519.   8_668_223 is  4_303_635_519 truncated from 64 to 32 bits.   So the problem might be on the C++ &#39;native&#39; side of the library.","body":"Stepping through the code in a java debugger (netbneans) shows that a JNI native callback to setTotal(long) is receiving 8_668_223 for a file that the 7zip File Manager shows has size 4_303_635_519.   8_668_223 is  4_303_635_519 truncated from 64 to 32 bits.   So the problem might be on the C++ &#39;native&#39; side of the library."},{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1651919003,"post_id":72144685,"comment_id":127482591,"body_markdown":"I have logged issued on their repo based on your comment. Let&#39;s see what they have to say about this. https://github.com/borisbrodski/sevenzipjbinding/issues/55","body":"I have logged issued on their repo based on your comment. Let&#39;s see what they have to say about this. <a href=\"https://github.com/borisbrodski/sevenzipjbinding/issues/55\" rel=\"nofollow noreferrer\">github.com/borisbrodski/sevenzipjbinding/issues/55</a>"}],"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651854492,"creation_date":1651854492,"question_id":72144685,"body_markdown":"I am using below code [(link to full code)][1] to extract zip file which is inside iso file using [7-zip-JBinding][2].\r\n\r\n```java\r\n    for (ISimpleInArchiveItem item : simpleInArchive.getArchiveItems()) {\r\n                    final int[] hash = new int[] { 0 };\r\n                    if (!item.isFolder()) {\r\n                        ExtractOperationResult result;\r\n    \r\n                        final long[] sizeArray = new long[1];\r\n                        result = item.extractSlow(new ISequentialOutStream() {\r\n                            public int write(byte[] data) throws SevenZipException {\r\n                                hash[0] ^= Arrays.hashCode(data); // Consume data\r\n                                sizeArray[0] += data.length;\r\n                                return data.length; // Return amount of consumed data\r\n                            }\r\n                        });\r\n    \r\n                        if (result == ExtractOperationResult.OK) {\r\n                            System.out.println(String.format(&quot;%9X | %10s | %s&quot;, \r\n                                    hash[0], sizeArray[0], item.getPath()));\r\n                        } else {\r\n                            System.err.println(&quot;Error extracting item: &quot; + result);\r\n                        }\r\n                    }\r\n                }\r\n```\r\n\r\nIt works fine for some of the file [(e.g. this file which is 1.74 GB)][3], but when I try to use it with [this file which is 4.01 GB][4], it is getting truncated and extracted file is only of 8.26 MB zip file from ISO whereas actual ZIP file size is 4.00 GB. \r\n\r\nHow do I resolve this issue? Is there any configuration that is restricting this file to extract appropriately which I need to change?\r\n\r\n\r\n  [1]: http://sevenzipjbind.sourceforge.net/snippets/ExtractItemsSimple.java\r\n  [2]: http://sevenzipjbind.sourceforge.net/\r\n  [3]: https://s3.amazonaws.com/rds.nsrl.nist.gov/RDS/current/RDS_android.iso\r\n  [4]: https://s3.amazonaws.com/rds.nsrl.nist.gov/RDS/current/RDS_legacy.iso","title":"Java 7 Zip-JBinding Truncated zip file extracted from ISO","body":"<p>I am using below code <a href=\"http://sevenzipjbind.sourceforge.net/snippets/ExtractItemsSimple.java\" rel=\"nofollow noreferrer\">(link to full code)</a> to extract zip file which is inside iso file using <a href=\"http://sevenzipjbind.sourceforge.net/\" rel=\"nofollow noreferrer\">7-zip-JBinding</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (ISimpleInArchiveItem item : simpleInArchive.getArchiveItems()) {\n                    final int[] hash = new int[] { 0 };\n                    if (!item.isFolder()) {\n                        ExtractOperationResult result;\n    \n                        final long[] sizeArray = new long[1];\n                        result = item.extractSlow(new ISequentialOutStream() {\n                            public int write(byte[] data) throws SevenZipException {\n                                hash[0] ^= Arrays.hashCode(data); // Consume data\n                                sizeArray[0] += data.length;\n                                return data.length; // Return amount of consumed data\n                            }\n                        });\n    \n                        if (result == ExtractOperationResult.OK) {\n                            System.out.println(String.format(&quot;%9X | %10s | %s&quot;, \n                                    hash[0], sizeArray[0], item.getPath()));\n                        } else {\n                            System.err.println(&quot;Error extracting item: &quot; + result);\n                        }\n                    }\n                }\n</code></pre>\n<p>It works fine for some of the file <a href=\"https://s3.amazonaws.com/rds.nsrl.nist.gov/RDS/current/RDS_android.iso\" rel=\"nofollow noreferrer\">(e.g. this file which is 1.74 GB)</a>, but when I try to use it with <a href=\"https://s3.amazonaws.com/rds.nsrl.nist.gov/RDS/current/RDS_legacy.iso\" rel=\"nofollow noreferrer\">this file which is 4.01 GB</a>, it is getting truncated and extracted file is only of 8.26 MB zip file from ISO whereas actual ZIP file size is 4.00 GB.</p>\n<p>How do I resolve this issue? Is there any configuration that is restricting this file to extract appropriately which I need to change?</p>\n"},{"tags":["java","docusignapi"],"answers":[{"tags":[],"owner":{"account_id":3941825,"reputation":12902,"user_id":3255871,"display_name":"Inbar Gazit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651854480,"creation_date":1651854480,"answer_id":72144682,"question_id":72007568,"body_markdown":"Yes, DocuSign validates the phone number. Not just the format, but also to ensure, for example, that the area code is valid and the phone number is valid (like a number doesn&#39;t start with 0 or 1 for example).\r\n\r\nTo validate the numbers yourself:\r\n\r\n - On client - https://www.npmjs.com/package/react-phone-number-input\r\n - On server - https://github.com/google/libphonenumber\r\n\r\nThe server validation above is more thorough and checks more things.\r\n\r\n\r\n","title":"How to validate phonenumber in Docusign Phone authentication","body":"<p>Yes, DocuSign validates the phone number. Not just the format, but also to ensure, for example, that the area code is valid and the phone number is valid (like a number doesn't start with 0 or 1 for example).</p>\n<p>To validate the numbers yourself:</p>\n<ul>\n<li>On client - <a href=\"https://www.npmjs.com/package/react-phone-number-input\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/react-phone-number-input</a></li>\n<li>On server - <a href=\"https://github.com/google/libphonenumber\" rel=\"nofollow noreferrer\">https://github.com/google/libphonenumber</a></li>\n</ul>\n<p>The server validation above is more thorough and checks more things.</p>\n"}],"owner":{"account_id":19617755,"reputation":39,"user_id":14358849,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1651854480,"creation_date":1650938501,"question_id":72007568,"body_markdown":"I have implemented Docusign Remote Signing Process and added phone authentication by setting identity verification for signer\r\n\r\n\r\n\r\n\r\n\r\n    signer.setIdentityVerification(recipientIdentityVerification());\r\n    \r\n    \r\n    public RecipientIdentityVerification recipientIdentityVerification() throws IOException, ApiException \r\n    {\r\n            RecipientIdentityPhoneNumber phoneNumber = new RecipientIdentityPhoneNumber();\r\n            phoneNumber.setCountryCode(&quot;+1&quot;);\r\n            phoneNumber.setNumber(&quot;**********&quot;);\r\n    \r\n            RecipientIdentityInputOption inputOption = new RecipientIdentityInputOption();\r\n            inputOption.setName(&quot;phone_number_list&quot;);\r\n            inputOption.setValueType(&quot;PhoneNumberList&quot;);\r\n            inputOption.setPhoneNumberList(Arrays.asList(phoneNumber));\r\n    \r\n            RecipientIdentityVerification identityVerifcation = new RecipientIdentityVerification();\r\n    \r\n    \r\n            identityVerifcation.setWorkflowId(getWorkflowID());\r\n            identityVerifcation.setInputOptions(Arrays.asList(inputOption));\r\n            return identityVerifcation;\r\n    \r\n        }\r\n\r\nNow if we give 10 digit random number, it throws an error code PHONE_NUMBER_INVALID with message Phonenumber is not valid. It only accepts genuine number for which we can get OTP. How to achieve this validation in my app. How can I validate phone numbers entered by our clients? ","title":"How to validate phonenumber in Docusign Phone authentication","body":"<p>I have implemented Docusign Remote Signing Process and added phone authentication by setting identity verification for signer</p>\n<pre><code>signer.setIdentityVerification(recipientIdentityVerification());\n\n\npublic RecipientIdentityVerification recipientIdentityVerification() throws IOException, ApiException \n{\n        RecipientIdentityPhoneNumber phoneNumber = new RecipientIdentityPhoneNumber();\n        phoneNumber.setCountryCode(&quot;+1&quot;);\n        phoneNumber.setNumber(&quot;**********&quot;);\n\n        RecipientIdentityInputOption inputOption = new RecipientIdentityInputOption();\n        inputOption.setName(&quot;phone_number_list&quot;);\n        inputOption.setValueType(&quot;PhoneNumberList&quot;);\n        inputOption.setPhoneNumberList(Arrays.asList(phoneNumber));\n\n        RecipientIdentityVerification identityVerifcation = new RecipientIdentityVerification();\n\n\n        identityVerifcation.setWorkflowId(getWorkflowID());\n        identityVerifcation.setInputOptions(Arrays.asList(inputOption));\n        return identityVerifcation;\n\n    }\n</code></pre>\n<p>Now if we give 10 digit random number, it throws an error code PHONE_NUMBER_INVALID with message Phonenumber is not valid. It only accepts genuine number for which we can get OTP. How to achieve this validation in my app. How can I validate phone numbers entered by our clients?</p>\n"},{"tags":["java","xml","spring","serialization","jackson"],"comments":[{"owner":{"account_id":11889649,"reputation":1404,"user_id":8700934,"display_name":"Lakshan"},"score":0,"creation_date":1651760867,"post_id":72100443,"comment_id":127444108,"body_markdown":"Does this answer your question? [Jackson ObjectMapper - specify serialization order of object properties](https://stackoverflow.com/questions/27577701/jackson-objectmapper-specify-serialization-order-of-object-properties)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/27577701/jackson-objectmapper-specify-serialization-order-of-object-properties\">Jackson ObjectMapper - specify serialization order of object properties</a>"},{"owner":{"account_id":4966730,"reputation":315,"user_id":3995763,"accept_rate":89,"display_name":"holyknight"},"score":0,"creation_date":1651838577,"post_id":72100443,"comment_id":127465045,"body_markdown":"No, i already tried that. I needed to implement a custom serializer just to get the order right.","body":"No, i already tried that. I needed to implement a custom serializer just to get the order right."}],"answers":[{"tags":[],"owner":{"account_id":4966730,"reputation":315,"user_id":3995763,"accept_rate":89,"display_name":"holyknight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651838622,"creation_date":1651838622,"answer_id":72141178,"question_id":72100443,"body_markdown":"I cannot find a way to make it work with annotations. I needed to implement my custom serializer for the class just to change the order.","title":"Serialising order annotations for XML on Jackson does not work","body":"<p>I cannot find a way to make it work with annotations. I needed to implement my custom serializer for the class just to change the order.</p>\n"}],"owner":{"account_id":4966730,"reputation":315,"user_id":3995763,"accept_rate":89,"display_name":"holyknight"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72141178,"answer_count":1,"score":0,"last_activity_date":1651854257,"creation_date":1651585858,"question_id":72100443,"body_markdown":"I already googled this problem for almost a day and tried several fixes (including 4 or 5 from StackOverflow) but none of them worked. I have this POJO with annotations to work with Jackson 2.10.2\r\n\r\n    @JacksonXmlRootElement(localName = &quot;request&quot;)\r\n    public class PdfExportQuery {\r\n    \r\n      @JacksonXmlProperty(localName = &quot;user&quot;, isAttribute = true)\r\n      private String username;\r\n    \r\n      @JacksonXmlProperty(localName = &quot;pwd&quot;, isAttribute = true)\r\n      private String password;\r\n    \r\n      @JacksonXmlProperty(localName = &quot;putdoc&quot;)\r\n      private XmlPutDoc putdoc;\r\n    \r\n      @JacksonXmlElementWrapper(useWrapping = false)\r\n      @JacksonXmlProperty(localName = &quot;import&quot;, isAttribute = true)\r\n      private List&lt;XmlPdfImport&gt; imports;\r\n    \r\n      ... getters and setters\r\n    }\r\n\r\nI use this POJO to create XML for some external requests. Everything works perfectly fine, but now I need to reorder the fields in the resulting XML and nothing seems to work.\r\n\r\nI tried first setting it up at class level:\r\n\r\n    @JsonPropertyOrder({&quot;putdoc&quot;}) (Using only the field and localName)\r\n    or\r\n    @JsonPropertyOrder({&quot;putdoc&quot;, &quot;user&quot;, &quot;pwd&quot;, &quot;import&quot;}) (Using all fields and localName)\r\n    or\r\n    @JsonPropertyOrder({&quot;putdoc&quot;, &quot;username&quot;, &quot;password&quot;, &quot;imports&quot;}) (Using all fields and the java property name)\r\n\r\nthen I tried setting the order per field with:\r\n\r\n    @JsonProperty(1)\r\n    or\r\n    @JsonProperty(value=&quot;putdoc&quot;, index = 1)\r\n\r\nI tried also setting JsonProperty on all the fields and only on the field I am interested to appear at first.\r\n\r\nI also tried:\r\n\r\n - Removing all the @JacksonXmlProperty and leaving only @JsonProperty on each field\r\n - Combining @JsonPropertyOrder in the class and @JsonProperty on each field\r\n - Checking that all annotations were imported from the com.fasterxml.jackson.annotation package\r\n\r\n\r\nNo matter what I do, the resulting XML always has the same ordering, all the ordering annotations seem to be ignored completely.\r\n","title":"Serialising order annotations for XML on Jackson does not work","body":"<p>I already googled this problem for almost a day and tried several fixes (including 4 or 5 from StackOverflow) but none of them worked. I have this POJO with annotations to work with Jackson 2.10.2</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;request&quot;)\npublic class PdfExportQuery {\n\n  @JacksonXmlProperty(localName = &quot;user&quot;, isAttribute = true)\n  private String username;\n\n  @JacksonXmlProperty(localName = &quot;pwd&quot;, isAttribute = true)\n  private String password;\n\n  @JacksonXmlProperty(localName = &quot;putdoc&quot;)\n  private XmlPutDoc putdoc;\n\n  @JacksonXmlElementWrapper(useWrapping = false)\n  @JacksonXmlProperty(localName = &quot;import&quot;, isAttribute = true)\n  private List&lt;XmlPdfImport&gt; imports;\n\n  ... getters and setters\n}\n</code></pre>\n<p>I use this POJO to create XML for some external requests. Everything works perfectly fine, but now I need to reorder the fields in the resulting XML and nothing seems to work.</p>\n<p>I tried first setting it up at class level:</p>\n<pre><code>@JsonPropertyOrder({&quot;putdoc&quot;}) (Using only the field and localName)\nor\n@JsonPropertyOrder({&quot;putdoc&quot;, &quot;user&quot;, &quot;pwd&quot;, &quot;import&quot;}) (Using all fields and localName)\nor\n@JsonPropertyOrder({&quot;putdoc&quot;, &quot;username&quot;, &quot;password&quot;, &quot;imports&quot;}) (Using all fields and the java property name)\n</code></pre>\n<p>then I tried setting the order per field with:</p>\n<pre><code>@JsonProperty(1)\nor\n@JsonProperty(value=&quot;putdoc&quot;, index = 1)\n</code></pre>\n<p>I tried also setting JsonProperty on all the fields and only on the field I am interested to appear at first.</p>\n<p>I also tried:</p>\n<ul>\n<li>Removing all the @JacksonXmlProperty and leaving only @JsonProperty on each field</li>\n<li>Combining @JsonPropertyOrder in the class and @JsonProperty on each field</li>\n<li>Checking that all annotations were imported from the com.fasterxml.jackson.annotation package</li>\n</ul>\n<p>No matter what I do, the resulting XML always has the same ordering, all the ordering annotations seem to be ignored completely.</p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1651761954,"post_id":72129089,"comment_id":127444568,"body_markdown":"Have you tried getDateCellValue()?","body":"Have you tried getDateCellValue()?"}],"owner":{"account_id":21189237,"reputation":85,"user_id":15582009,"display_name":"Jens Stuber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1651854139,"answer_count":0,"score":2,"last_activity_date":1651854124,"creation_date":1651761688,"question_id":72129089,"body_markdown":"I&#39;m using org.apache.poi.ss.usermodel.WorkbookFactory to read excel files. Unfortunately, for date cells it gives only a number. How do I convert that back into a date?\r\n\r\n    Workbook workbook = WorkbookFactory.create(inputStream);\r\n    Sheet sheet = workbook.getSheetAt(0);\r\n    Row row = sheet.getRow(0);\r\n    Cell cell = row.getCell(0);\r\n    int value = (int)cell.getNumericCellValue();","title":"get date from number of excel cell","body":"<p>I'm using org.apache.poi.ss.usermodel.WorkbookFactory to read excel files. Unfortunately, for date cells it gives only a number. How do I convert that back into a date?</p>\n<pre><code>Workbook workbook = WorkbookFactory.create(inputStream);\nSheet sheet = workbook.getSheetAt(0);\nRow row = sheet.getRow(0);\nCell cell = row.getCell(0);\nint value = (int)cell.getNumericCellValue();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":263210,"reputation":10980,"user_id":548634,"accept_rate":78,"display_name":"John Eipe"},"score":0,"creation_date":1326781467,"post_id":8890472,"comment_id":11115776,"body_markdown":"http://stackoverflow.com/questions/5017072/how-to-get-the-decimal-part-of-a-float","body":"<a href=\"http://stackoverflow.com/questions/5017072/how-to-get-the-decimal-part-of-a-float\" title=\"how to get the decimal part of a float\">stackoverflow.com/questions/5017072/&hellip;</a>"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1326783139,"post_id":8890472,"comment_id":11116053,"body_markdown":"This question has been informative for me - I&#39;ve learned how many people don&#39;t actually run the code they post, or really read the question.  The question is how to get `15` from `1.15`. Only Arjun&#39;s nailed it so far, because he saw this problem for what it really is: a String parsing question.  Just because the poster tried using math doesn&#39;t mean the answer has to follow the same path.","body":"This question has been informative for me - I&#39;ve learned how many people don&#39;t actually run the code they post, or really read the question.  The question is how to get <code>15</code> from <code>1.15</code>. Only Arjun&#39;s nailed it so far, because he saw this problem for what it really is: a String parsing question.  Just because the poster tried using math doesn&#39;t mean the answer has to follow the same path."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1326784054,"post_id":8890472,"comment_id":11116232,"body_markdown":"@Paul - I&#39;d say that the OP&#39;s last (negative) example gives the lie to that theory.  If this was simply a string parsing problem, then the OP would be happy with &quot;999999999986&quot; as the answer ...","body":"@Paul - I&#39;d say that the OP&#39;s last (negative) example gives the lie to that theory.  If this was simply a string parsing problem, then the OP would be happy with &quot;999999999986&quot; as the answer ..."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1326784325,"post_id":8890472,"comment_id":11116293,"body_markdown":"@StephenC, where did you get that from?  He said he wants `15` as the answer (2nd line of his post) and his code was giving him `14.9999...`.  Change the question from numbers to text and it&#39;s still the same problem: given a string `abc.def`, how does he extract just `def`?","body":"@StephenC, where did you get that from?  He said he wants <code>15</code> as the answer (2nd line of his post) and his code was giving him <code>14.9999...</code>.  Change the question from numbers to text and it&#39;s still the same problem: given a string <code>abc.def</code>, how does he extract just <code>def</code>?"},{"owner":{"account_id":3645,"reputation":2084,"user_id":5271,"display_name":"Turismo"},"score":0,"creation_date":1326788604,"post_id":8890472,"comment_id":11117122,"body_markdown":"@Paul - I don&#39;t know where you get that it is only a string problem. That all depends on where he got his double value from and which value it is. Depending on that the `valueOf` or the `toString` will not produce the expected result. And the precision issues are only one part of that. The other is the scientific notation that `valueOf`/`toString` will give you.","body":"@Paul - I don&#39;t know where you get that it is only a string problem. That all depends on where he got his double value from and which value it is. Depending on that the <code>valueOf</code> or the <code>toString</code> will not produce the expected result. And the precision issues are only one part of that. The other is the scientific notation that <code>valueOf</code>/<code>toString</code> will give you."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1326806951,"post_id":8890472,"comment_id":11123107,"body_markdown":"IMHO, Don&#39;t use `Double` when you mean to use `double`.","body":"IMHO, Don&#39;t use <code>Double</code> when you mean to use <code>double</code>."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1326807045,"post_id":8890472,"comment_id":11123152,"body_markdown":"A problem with your solution is that `0.1` `0.01` and `0.000001` will all result in `1`.","body":"A problem with your solution is that <code>0.1</code> <code>0.01</code> and <code>0.000001</code> will all result in <code>1</code>."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1326807260,"post_id":8890472,"comment_id":11123229,"body_markdown":"@Turismo http://xkcd.com/974/","body":"@Turismo <a href=\"http://xkcd.com/974/\" rel=\"nofollow noreferrer\">xkcd.com/974</a>"}],"answers":[{"tags":[],"owner":{"account_id":917777,"reputation":2579,"user_id":950189,"accept_rate":83,"display_name":"Andrei LED"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1326789244,"creation_date":1326781344,"answer_id":8890510,"question_id":8890472,"body_markdown":"Just as in any other language: multiply by 10 and check the int part of remnant when dividing by 10. The same way you would extract digits from an integer.\r\n&lt;pre&gt;&lt;code&gt;\r\nshort[] digits = new short[max_len];\r\ndouble tmp = d - ((int) d);\r\nfor (int i = 0; i &amp;lt; digits.length &amp;&amp; tmp != 0; i++)\r\n{\r\n  tmp *= 10;\r\n  digit[i] = (short) tmp;\r\n  tmp -= (int) tmp;\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\nBut be aware that for double you need to introduce a precision limit - the maximum number of digits to extract (max_len from the code sample above).\r\n\r\nSlight update (added rounding at the edge of precision):\r\n&lt;pre&gt;&lt;code&gt;double d = 1.15;\r\n\t\tshort[] digits = new short[10];\r\n\t\tdouble tmp = d - ((int) d) + 0.5 * 1e-10;\r\n\t\tfor (int i = 0; i &amp;lt; digits.length &amp;&amp; tmp != 0; i++)\r\n\t\t{\r\n\t\t\ttmp *= 10;\r\n\t\t\tdigits[i] = (short) tmp;\r\n\t\t\ttmp -= (int) tmp;\r\n\t\t}&lt;/code&gt;&lt;/pre&gt;","title":"How do I get the part after the decimal point in Java?","body":"<p>Just as in any other language: multiply by 10 and check the int part of remnant when dividing by 10. The same way you would extract digits from an integer.</p>\n\n<pre><code>\nshort[] digits = new short[max_len];\ndouble tmp = d - ((int) d);\nfor (int i = 0; i &lt; digits.length && tmp != 0; i++)\n{\n  tmp *= 10;\n  digit[i] = (short) tmp;\n  tmp -= (int) tmp;\n}</code></pre>\n\n<p>But be aware that for double you need to introduce a precision limit - the maximum number of digits to extract (max_len from the code sample above).</p>\n\n<p>Slight update (added rounding at the edge of precision):</p>\n\n<pre><code>double d = 1.15;\n        short[] digits = new short[10];\n        double tmp = d - ((int) d) + 0.5 * 1e-10;\n        for (int i = 0; i &lt; digits.length && tmp != 0; i++)\n        {\n            tmp *= 10;\n            digits[i] = (short) tmp;\n            tmp -= (int) tmp;\n        }</code></pre>\n"},{"tags":[],"owner":{"account_id":1168603,"reputation":733,"user_id":1146318,"display_name":"aoi222"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1326781990,"creation_date":1326781359,"answer_id":8890515,"question_id":8890472,"body_markdown":"Have you tried `d = d%1.0`? That should return the remainder of dividing d by 1, which should just be the decimal portion.\r\n\r\nYou could also do this to get the value as an int: `d = (int)((d%1.0)*100)`","title":"How do I get the part after the decimal point in Java?","body":"<p>Have you tried <code>d = d%1.0</code>? That should return the remainder of dividing d by 1, which should just be the decimal portion.</p>\n\n<p>You could also do this to get the value as an int: <code>d = (int)((d%1.0)*100)</code></p>\n"},{"tags":[],"owner":{"account_id":974927,"reputation":29470,"user_id":996493,"accept_rate":100,"display_name":"Lucifer"},"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1651853914,"creation_date":1326781424,"answer_id":8890523,"question_id":8890472,"body_markdown":"Try this:\r\n\r\n    String numberD = String.valueOf(d);\r\n    numberD = numberD.substring(numberD.indexOf(&quot;.&quot;));\r\n\r\n\r\nNow this numberD variable will have value of 15","title":"How do I get the part after the decimal point in Java?","body":"<p>Try this:</p>\n<pre><code>String numberD = String.valueOf(d);\nnumberD = numberD.substring(numberD.indexOf(&quot;.&quot;));\n</code></pre>\n<p>Now this numberD variable will have value of 15</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1326783208,"creation_date":1326781627,"answer_id":8890542,"question_id":8890472,"body_markdown":"Try Math.floor();\r\n\r\n    double d = 4.24;\r\n    System.out.println( d - Math.floor( d )); \r\n\r\nTo prevent rounding errors you could convert them to BigDecimal\r\n\r\n\t\tdouble d = 4.24;\r\n\t\tBigDecimal bd = new BigDecimal( d - Math.floor( d ));\r\n\t\tbd = bd.setScale(4,RoundingMode.HALF_DOWN);\r\n\t\tSystem.out.println( bd.toString() );\r\nPrints 0.2400\r\n\r\nNote that the 4 in setScale is the number of digits after the decimal separator (&#39;.&#39;) \r\n\r\nTo have the remainder as an integer value you could modify this to\r\n\r\n    BigDecimal bd = new BigDecimal(( d - Math.floor( d )) * 100 );\r\n    bd = bd.setScale(4,RoundingMode.HALF_DOWN);\r\n    System.out.println( bd.intValue() );\r\n\r\nPrints 24","title":"How do I get the part after the decimal point in Java?","body":"<p>Try Math.floor();</p>\n\n<pre><code>double d = 4.24;\nSystem.out.println( d - Math.floor( d )); \n</code></pre>\n\n<p>To prevent rounding errors you could convert them to BigDecimal</p>\n\n<pre><code>    double d = 4.24;\n    BigDecimal bd = new BigDecimal( d - Math.floor( d ));\n    bd = bd.setScale(4,RoundingMode.HALF_DOWN);\n    System.out.println( bd.toString() );\n</code></pre>\n\n<p>Prints 0.2400</p>\n\n<p>Note that the 4 in setScale is the number of digits after the decimal separator ('.') </p>\n\n<p>To have the remainder as an integer value you could modify this to</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(( d - Math.floor( d )) * 100 );\nbd = bd.setScale(4,RoundingMode.HALF_DOWN);\nSystem.out.println( bd.intValue() );\n</code></pre>\n\n<p>Prints 24</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1326782184,"creation_date":1326781870,"answer_id":8890575,"question_id":8890472,"body_markdown":"The number after the decimal point is not a well defined concept.  For example for &quot;4.24&quot;, it could be &quot;0.24&quot;, &quot;0.239999999999&quot; (or similar), &quot;24&quot; or &quot;239999999999&quot;.\r\n\r\nYou need to be clear if you are talking about a number or a string of decimal digits ... and whether the input value is a representation of a binary floating point number (in which case &quot;4.24&quot; is most likely an approximation) a decimal floating point number.\r\n\r\nDepending on your interpretation, the correct answer will be different.\r\n\r\n------------------\r\n\r\n&gt; But i didn&#39;t get the proper answer because when I converted d.toString() the answer is 14.999999999999986.\r\n\r\nYou are running up against the problem that `double` and `float` are base-2 floating point formats, and in most cases they CANNOT represent decimal floating point numbers precisely.  There is no fix for this ... apart from using something like `BigDecimal` to represent your numbers.  (And even then, some loss of precision is possible whenever you do a division or modulo operation.)","title":"How do I get the part after the decimal point in Java?","body":"<p>The number after the decimal point is not a well defined concept.  For example for \"4.24\", it could be \"0.24\", \"0.239999999999\" (or similar), \"24\" or \"239999999999\".</p>\n\n<p>You need to be clear if you are talking about a number or a string of decimal digits ... and whether the input value is a representation of a binary floating point number (in which case \"4.24\" is most likely an approximation) a decimal floating point number.</p>\n\n<p>Depending on your interpretation, the correct answer will be different.</p>\n\n<hr>\n\n<blockquote>\n  <p>But i didn't get the proper answer because when I converted d.toString() the answer is 14.999999999999986.</p>\n</blockquote>\n\n<p>You are running up against the problem that <code>double</code> and <code>float</code> are base-2 floating point formats, and in most cases they CANNOT represent decimal floating point numbers precisely.  There is no fix for this ... apart from using something like <code>BigDecimal</code> to represent your numbers.  (And even then, some loss of precision is possible whenever you do a division or modulo operation.)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1326782756,"creation_date":1326782756,"answer_id":8890677,"question_id":8890472,"body_markdown":"If you want the decimal places and you want to round the result.\r\n\r\n    double d = 4.24;\r\n    System.out.printf(&quot;%0.2f%n&quot;, d - (long) d);\r\n\r\nprints\r\n\r\n    0.24\r\n\r\nIf you want a rounded value, you have to determine what precision you want.\r\n\r\n    double d = 4.24;\r\n    double fract = d - (long) d;\r\n    fract = (long) (fract * 1e9 + 0.5) / 1e9; // round to the 9 decimal places.","title":"How do I get the part after the decimal point in Java?","body":"<p>If you want the decimal places and you want to round the result.</p>\n\n<pre><code>double d = 4.24;\nSystem.out.printf(\"%0.2f%n\", d - (long) d);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>0.24\n</code></pre>\n\n<p>If you want a rounded value, you have to determine what precision you want.</p>\n\n<pre><code>double d = 4.24;\ndouble fract = d - (long) d;\nfract = (long) (fract * 1e9 + 0.5) / 1e9; // round to the 9 decimal places.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326783514,"creation_date":1326783514,"answer_id":8890764,"question_id":8890472,"body_markdown":"Instead of `d.toString()`, try this:\r\n\r\n    String str = String.format(&quot;%.2f&quot;, d);","title":"How do I get the part after the decimal point in Java?","body":"<p>Instead of <code>d.toString()</code>, try this:</p>\n\n<pre><code>String str = String.format(\"%.2f\", d);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2103685,"reputation":21,"user_id":1870599,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411966758,"creation_date":1376824080,"answer_id":18298431,"question_id":8890472,"body_markdown":"If your double is: \r\n\r\n    d = 1.25;\r\nAnd if you do this:\r\n\r\n    String number = String.valueOf(d);\r\n\r\n    number = number.substring(number.indexOf(&quot;.&quot;)).substring(1);\r\n\r\nthen `number` will be `25`.\r\n\r\nI don&#39;t know if this is the best way to do this, but it works.\r\n","title":"How do I get the part after the decimal point in Java?","body":"<p>If your double is: </p>\n\n<pre><code>d = 1.25;\n</code></pre>\n\n<p>And if you do this:</p>\n\n<pre><code>String number = String.valueOf(d);\n\nnumber = number.substring(number.indexOf(\".\")).substring(1);\n</code></pre>\n\n<p>then <code>number</code> will be <code>25</code>.</p>\n\n<p>I don't know if this is the best way to do this, but it works.</p>\n"},{"tags":[],"owner":{"display_name":"user2575725"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527000294,"creation_date":1526988420,"answer_id":50466518,"question_id":8890472,"body_markdown":"Try out RegEx, here `^\\d*\\.`, will search for digits followed by dot and replace with blank.\r\n\r\n    for(double d : new double[]{1.15,0.009,222.9,3.67434}){\r\n        System.out.println(String.valueOf(d).replaceAll(&quot;^\\\\d*\\\\.&quot;,&quot;&quot;));\r\n    }\r\n\r\ngives:\r\n\r\n    15\r\n    009\r\n    9\r\n    67434","title":"How do I get the part after the decimal point in Java?","body":"<p>Try out RegEx, here <code>^\\d*\\.</code>, will search for digits followed by dot and replace with blank.</p>\n\n<pre><code>for(double d : new double[]{1.15,0.009,222.9,3.67434}){\n    System.out.println(String.valueOf(d).replaceAll(\"^\\\\d*\\\\.\",\"\"));\n}\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>15\n009\n9\n67434\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14242108,"reputation":1,"user_id":10288150,"display_name":"Salman Sayyed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1535523164,"creation_date":1535522128,"answer_id":52070366,"question_id":8890472,"body_markdown":"try this :\r\n\r\n    double d = 1.1512;\r\n    \r\n    int i = (int) (d*100 - Math.floor(d)*100);\r\n\r\nnow this will give you : 15","title":"How do I get the part after the decimal point in Java?","body":"<p>try this :</p>\n\n<pre><code>double d = 1.1512;\n\nint i = (int) (d*100 - Math.floor(d)*100);\n</code></pre>\n\n<p>now this will give you : 15</p>\n"},{"tags":[],"owner":{"account_id":14939244,"reputation":1,"user_id":10786460,"display_name":"user10786460"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1544709991,"creation_date":1544709991,"answer_id":53763681,"question_id":8890472,"body_markdown":"        ExAMPLE :\r\n\r\n        Double d = 469.951479;\r\n\t\t\r\n\t\tString string = d.toString();\r\n\r\n        char[] len = string.substring(string.indexOf(&quot;.&quot;)).toCharArray();\r\n\t\t\r\n\t\tSystem.out.println(len);","title":"How do I get the part after the decimal point in Java?","body":"<pre><code>    ExAMPLE :\n\n    Double d = 469.951479;\n\n    String string = d.toString();\n\n    char[] len = string.substring(string.indexOf(\".\")).toCharArray();\n\n    System.out.println(len);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1767037,"reputation":53,"user_id":5959432,"display_name":"Augusto Camargo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591820064,"creation_date":1591820064,"answer_id":62312379,"question_id":8890472,"body_markdown":"        double d = 4.24;\r\n        d = (d - Math.floor( d ));\r\n        int e = (int)(Math.round(d*100));\r\n        System.out.println(e);\r\n\r\nYields 24","title":"How do I get the part after the decimal point in Java?","body":"<pre><code>    double d = 4.24;\n    d = (d - Math.floor( d ));\n    int e = (int)(Math.round(d*100));\n    System.out.println(e);\n</code></pre>\n\n<p>Yields 24</p>\n"},{"tags":[],"owner":{"account_id":18416621,"reputation":1,"user_id":13415321,"display_name":"Vicor Jones"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1602163693,"creation_date":1602163449,"answer_id":64263490,"question_id":8890472,"body_markdown":"Try this:\r\n\r\n    var decimalsOnly = (parseFloat(decNum)-parseInt(decNum,10)).toFoxed(2);\r\n","title":"How do I get the part after the decimal point in Java?","body":"<p>Try this:</p>\n<pre><code>var decimalsOnly = (parseFloat(decNum)-parseInt(decNum,10)).toFoxed(2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22422351,"reputation":1,"user_id":16629446,"display_name":"Pravaal Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628569308,"creation_date":1628569308,"answer_id":68721092,"question_id":8890472,"body_markdown":"\r\n      Scanner scr= new Scanner (System.in);\r\n      double d= scr.nextDouble();\r\n\r\n      BigDecimal bc= new BigDecimal ((d - Math.floor(d))*1e5); \r\n\r\n      bc=bc.setScale(4,RoundingMode.HALF_DOWN); \r\n\r\n      double f = bc.doubleValue();\r\n\r\n        while(f%10==0)\r\n        {\r\n          f=f/10;\r\n        }\r\n      System.out.println(f);\r\n  \r\n","title":"How do I get the part after the decimal point in Java?","body":"<pre><code>  Scanner scr= new Scanner (System.in);\n  double d= scr.nextDouble();\n\n  BigDecimal bc= new BigDecimal ((d - Math.floor(d))*1e5); \n\n  bc=bc.setScale(4,RoundingMode.HALF_DOWN); \n\n  double f = bc.doubleValue();\n\n    while(f%10==0)\n    {\n      f=f/10;\n    }\n  System.out.println(f);\n</code></pre>\n"}],"owner":{"account_id":1011122,"reputation":289,"user_id":1023675,"accept_rate":8,"display_name":"user1023675"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70497,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":14,"score":12,"last_activity_date":1651853914,"creation_date":1326781038,"question_id":8890472,"body_markdown":"I have a `double` variable `d = 1.15`.\r\n\r\nI want the number after the decimal point, i.e. &quot;15&quot;.\r\n\r\nWhat is best way to achieve this in Java?\r\n\r\nI have tried like this:\r\n\r\n    Double d = 1.15;\r\n    String str = d.toString();\r\n    int len = str.substring(str.indexOf(&quot;.&quot;)).length() - 1;\r\n    int i= (int) (d * (long)Math.pow(10,len) % (long)Math.pow(10,len));\r\n\r\nBut I didn&#39;t get the proper answer because when I convert `d.toString()` the answer is `14.999999999999986`.\r\n ","title":"How do I get the part after the decimal point in Java?","body":"<p>I have a <code>double</code> variable <code>d = 1.15</code>.</p>\n\n<p>I want the number after the decimal point, i.e. \"15\".</p>\n\n<p>What is best way to achieve this in Java?</p>\n\n<p>I have tried like this:</p>\n\n<pre><code>Double d = 1.15;\nString str = d.toString();\nint len = str.substring(str.indexOf(\".\")).length() - 1;\nint i= (int) (d * (long)Math.pow(10,len) % (long)Math.pow(10,len));\n</code></pre>\n\n<p>But I didn't get the proper answer because when I convert <code>d.toString()</code> the answer is <code>14.999999999999986</code>.</p>\n"},{"tags":["java","hibernate","foreign-keys","primary-key","ddl"],"answers":[{"tags":[],"owner":{"account_id":25216114,"reputation":1,"user_id":19053231,"display_name":"ragatzino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651852998,"creation_date":1651852998,"answer_id":72144432,"question_id":72141921,"body_markdown":"Actually i&#39;m at that point : i found out how hibernate naming strategy seem to work and i&#39;m wishing to twist it to get access to the constraits : Unique keys, foreign key and primary keys.. However there are many flaws : i column names are seemingly null on foreign and identifier have to respect certain length, which doesn&#39;t seem like ok.. I might go with some md5 hashing\r\n\r\n```java\r\n\r\nimport org.hibernate.boot.model.naming.*;\r\nimport org.hibernate.boot.spi.MetadataBuildingContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n/**\r\n * Par d&#233;faut hibernate utilise une convention de nommage implicite, sauf que les noms de cl&#233; &#233;trang&#232;res et certaines contraintes\r\n * sont aliment&#233;s d&#39;un Hash\r\n * Nous avons d&#233;cid&#233; de fixer les noms pour pouvoir y faire r&#233;f&#233;rence par ailleurs.\r\n */\r\npublic class CustomisationStrategieNommageImplicite extends ImplicitNamingStrategyJpaCompliantImpl {\r\n\r\n    private List&lt;Identifier&gt; declaredIdentifiers = new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;Identifier&gt; getDeclaredIdentifiers() {\r\n        return declaredIdentifiers;\r\n    }\r\n\r\n    public void addIdentifier(Identifier identifier){\r\n        this.declaredIdentifiers.add(identifier);\r\n    }\r\n    \r\n    @Override\r\n    public Identifier determineForeignKeyName(ImplicitForeignKeyNameSource source) {\r\n        Identifier userProvidedIdentifier = source.getUserProvidedIdentifier();\r\n        List&lt;List&lt;Identifier&gt;&gt; identifiers = List.of(List.of(source.getTableName()),List.of(source.getReferencedTableName()), source.getColumnNames(),source.getReferencedColumnNames());\r\n        Identifier generatedIdentifier =  generateIdentifierFromIdentifiersBuildingContextAndPrefix(identifiers,source.getBuildingContext(),&quot;fk&quot;);\r\n        Identifier definitiveIdentifier = userProvidedIdentifier != null ? userProvidedIdentifier : generatedIdentifier;\r\n        addIdentifier(definitiveIdentifier);\r\n        return definitiveIdentifier ;\r\n    }\r\n\r\n    @Override\r\n    public Identifier determineUniqueKeyName(ImplicitUniqueKeyNameSource source) {\r\n        Identifier userProvidedIdentifier = source.getUserProvidedIdentifier();\r\n        List&lt;List&lt;Identifier&gt;&gt; identifiers = List.of(List.of(source.getTableName()), source.getColumnNames());\r\n        Identifier generatedIdentifier =  generateIdentifierFromIdentifiersBuildingContextAndPrefix(identifiers,source.getBuildingContext(),&quot;uk&quot;);\r\n        Identifier definitiveIdentifier = userProvidedIdentifier != null ? userProvidedIdentifier : generatedIdentifier;\r\n        addIdentifier(definitiveIdentifier);\r\n        return definitiveIdentifier ;\r\n    }\r\n\r\n    @Override\r\n    public Identifier determineIndexName(ImplicitIndexNameSource source) {\r\n        Identifier userProvidedIdentifier = source.getUserProvidedIdentifier();\r\n        List&lt;List&lt;Identifier&gt;&gt; identifiers = List.of(List.of(source.getTableName()), source.getColumnNames());\r\n        Identifier generatedIdentifier =  generateIdentifierFromIdentifiersBuildingContextAndPrefix(identifiers,source.getBuildingContext(),&quot;uk&quot;);\r\n        Identifier definitiveIdentifier = userProvidedIdentifier != null ? userProvidedIdentifier : generatedIdentifier;\r\n        addIdentifier(definitiveIdentifier);\r\n        return definitiveIdentifier;\r\n    }\r\n\r\n    private Identifier generateIdentifierFromIdentifiersBuildingContextAndPrefix(List&lt;List&lt;Identifier&gt;&gt; identifiers, MetadataBuildingContext context, String prefix){\r\n        return toIdentifier(\r\n                prefix+&quot;_&quot;+ identifiersToString(identifiers),\r\n                context\r\n        );\r\n    }\r\n    private String identifiersToString(List&lt;List&lt;Identifier&gt;&gt; identifier){\r\n        return identifier.stream().map(list-&gt; identifierToString(list)).collect(Collectors.joining(&quot;_&quot;));\r\n    }\r\n    // identifier peut etre un element simple ou multiple\r\n    private String identifierToString(List&lt;Identifier&gt; identifiers){\r\n        if (identifiers.isEmpty()){\r\n            return &quot;&quot;;\r\n        }\r\n        return identifiers.stream().map(Identifier::getText).reduce((a,b)-&gt;a+&quot;_&quot;+b).orElse(&quot;&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI was wondering how ok would be an implementation of a Singleton pattern or smt to be able to get those identifiers and once and for all be able to check indexes through information schema then create the ones that are not present. But I&#39;m not really happy of the Identifier spec. \r\n\r\nAny plan?","title":"Hibernate : functionnally calling hibernate to recreate constraints","body":"<p>Actually i'm at that point : i found out how hibernate naming strategy seem to work and i'm wishing to twist it to get access to the constraits : Unique keys, foreign key and primary keys.. However there are many flaws : i column names are seemingly null on foreign and identifier have to respect certain length, which doesn't seem like ok.. I might go with some md5 hashing</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.hibernate.boot.model.naming.*;\nimport org.hibernate.boot.spi.MetadataBuildingContext;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n/**\n * Par défaut hibernate utilise une convention de nommage implicite, sauf que les noms de clé étrangères et certaines contraintes\n * sont alimentés d'un Hash\n * Nous avons décidé de fixer les noms pour pouvoir y faire référence par ailleurs.\n */\npublic class CustomisationStrategieNommageImplicite extends ImplicitNamingStrategyJpaCompliantImpl {\n\n    private List&lt;Identifier&gt; declaredIdentifiers = new ArrayList&lt;&gt;();\n\n    public List&lt;Identifier&gt; getDeclaredIdentifiers() {\n        return declaredIdentifiers;\n    }\n\n    public void addIdentifier(Identifier identifier){\n        this.declaredIdentifiers.add(identifier);\n    }\n    \n    @Override\n    public Identifier determineForeignKeyName(ImplicitForeignKeyNameSource source) {\n        Identifier userProvidedIdentifier = source.getUserProvidedIdentifier();\n        List&lt;List&lt;Identifier&gt;&gt; identifiers = List.of(List.of(source.getTableName()),List.of(source.getReferencedTableName()), source.getColumnNames(),source.getReferencedColumnNames());\n        Identifier generatedIdentifier =  generateIdentifierFromIdentifiersBuildingContextAndPrefix(identifiers,source.getBuildingContext(),&quot;fk&quot;);\n        Identifier definitiveIdentifier = userProvidedIdentifier != null ? userProvidedIdentifier : generatedIdentifier;\n        addIdentifier(definitiveIdentifier);\n        return definitiveIdentifier ;\n    }\n\n    @Override\n    public Identifier determineUniqueKeyName(ImplicitUniqueKeyNameSource source) {\n        Identifier userProvidedIdentifier = source.getUserProvidedIdentifier();\n        List&lt;List&lt;Identifier&gt;&gt; identifiers = List.of(List.of(source.getTableName()), source.getColumnNames());\n        Identifier generatedIdentifier =  generateIdentifierFromIdentifiersBuildingContextAndPrefix(identifiers,source.getBuildingContext(),&quot;uk&quot;);\n        Identifier definitiveIdentifier = userProvidedIdentifier != null ? userProvidedIdentifier : generatedIdentifier;\n        addIdentifier(definitiveIdentifier);\n        return definitiveIdentifier ;\n    }\n\n    @Override\n    public Identifier determineIndexName(ImplicitIndexNameSource source) {\n        Identifier userProvidedIdentifier = source.getUserProvidedIdentifier();\n        List&lt;List&lt;Identifier&gt;&gt; identifiers = List.of(List.of(source.getTableName()), source.getColumnNames());\n        Identifier generatedIdentifier =  generateIdentifierFromIdentifiersBuildingContextAndPrefix(identifiers,source.getBuildingContext(),&quot;uk&quot;);\n        Identifier definitiveIdentifier = userProvidedIdentifier != null ? userProvidedIdentifier : generatedIdentifier;\n        addIdentifier(definitiveIdentifier);\n        return definitiveIdentifier;\n    }\n\n    private Identifier generateIdentifierFromIdentifiersBuildingContextAndPrefix(List&lt;List&lt;Identifier&gt;&gt; identifiers, MetadataBuildingContext context, String prefix){\n        return toIdentifier(\n                prefix+&quot;_&quot;+ identifiersToString(identifiers),\n                context\n        );\n    }\n    private String identifiersToString(List&lt;List&lt;Identifier&gt;&gt; identifier){\n        return identifier.stream().map(list-&gt; identifierToString(list)).collect(Collectors.joining(&quot;_&quot;));\n    }\n    // identifier peut etre un element simple ou multiple\n    private String identifierToString(List&lt;Identifier&gt; identifiers){\n        if (identifiers.isEmpty()){\n            return &quot;&quot;;\n        }\n        return identifiers.stream().map(Identifier::getText).reduce((a,b)-&gt;a+&quot;_&quot;+b).orElse(&quot;&quot;);\n    }\n\n}\n</code></pre>\n<p>I was wondering how ok would be an implementation of a Singleton pattern or smt to be able to get those identifiers and once and for all be able to check indexes through information schema then create the ones that are not present. But I'm not really happy of the Identifier spec.</p>\n<p>Any plan?</p>\n"}],"owner":{"account_id":25216114,"reputation":1,"user_id":19053231,"display_name":"ragatzino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651852998,"creation_date":1651842228,"question_id":72141921,"body_markdown":"I have been deferring my hibernate DDL usage time after time, from create-drop, to update and now i&#39;m using other tools for database migration, and, while still respecting my hibernate entities, i am now between validate and no control.\r\n\r\nCan i still use hibernate DLL programatically ? For columns, i am using a hbm2ddl :\r\ne.g.\r\n```\r\njavax.persistence.schema-generation.scripts.action\r\njavax.persistence.schema-generation.scripts.create-target\r\nhibernate.hbm2ddl.delimiter\r\n```\r\nto generate my scripts..\r\n\r\nAnd i&#39;m currently developping something specifically to do constraints.. Which i think is less of a problem than adding a column, so i wanted to delegate this really as of a update in hibernate. And it would be even better if i could just call a function to check for constraints or recreate them.\r\n\r\nDoes any function exists in such a way (i did not find this in documentation)\r\n\r\nThanks ! :) ","title":"Hibernate : functionnally calling hibernate to recreate constraints","body":"<p>I have been deferring my hibernate DDL usage time after time, from create-drop, to update and now i'm using other tools for database migration, and, while still respecting my hibernate entities, i am now between validate and no control.</p>\n<p>Can i still use hibernate DLL programatically ? For columns, i am using a hbm2ddl :\ne.g.</p>\n<pre><code>javax.persistence.schema-generation.scripts.action\njavax.persistence.schema-generation.scripts.create-target\nhibernate.hbm2ddl.delimiter\n</code></pre>\n<p>to generate my scripts..</p>\n<p>And i'm currently developping something specifically to do constraints.. Which i think is less of a problem than adding a column, so i wanted to delegate this really as of a update in hibernate. And it would be even better if i could just call a function to check for constraints or recreate them.</p>\n<p>Does any function exists in such a way (i did not find this in documentation)</p>\n<p>Thanks ! :)</p>\n"},{"tags":["java","spring","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1652085768,"post_id":72144405,"comment_id":127511647,"body_markdown":"Which version of Camel do you use?","body":"Which version of Camel do you use?"},{"owner":{"account_id":14547262,"reputation":55,"user_id":11047613,"display_name":"LordNani"},"score":0,"creation_date":1652106728,"post_id":72144405,"comment_id":127519442,"body_markdown":"@NicolasFilotto 2.25.4","body":"@NicolasFilotto 2.25.4"},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1652107686,"post_id":72144405,"comment_id":127519868,"body_markdown":"Have you tried to add your routes on `CamelContextStartingEvent` instead of `CamelContextStartedEvent`?","body":"Have you tried to add your routes on <code>CamelContextStartingEvent</code> instead of <code>CamelContextStartedEvent</code>?"},{"owner":{"account_id":14547262,"reputation":55,"user_id":11047613,"display_name":"LordNani"},"score":0,"creation_date":1652108348,"post_id":72144405,"comment_id":127520176,"body_markdown":"@NicolasFilotto CamelContextStartingEvent happends earlier than CamelContextStartedEvent, right? I need the opposite, I need to manually add the route only after all the routes defined in xml files have already started.","body":"@NicolasFilotto CamelContextStartingEvent happends earlier than CamelContextStartedEvent, right? I need the opposite, I need to manually add the route only after all the routes defined in xml files have already started."}],"owner":{"account_id":14547262,"reputation":55,"user_id":11047613,"display_name":"LordNani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651852870,"creation_date":1651852870,"question_id":72144405,"body_markdown":"Using EventNotifierSupport, I can listen for CamelContextStartedEvent. However, I need to add one more root to the context, after all the other routes have already been initialized. Currently, the event occurs after camelcontext have been initialized, but after that we have hundreds of SpringCamelContext routes added, and as I understand, there is no &quot;SpringCamelContextStartedEvent&quot;, so I have no idea of how to add route after all other routes are already initialized. I suspect that there is fundamental error in my logic, please correct me if I am wrong somewhere.\r\n```\r\n    @Override\r\n    public void notify(EventObject event) throws Exception {\r\n        if (event instanceof CamelContextStartedEvent) {\r\n            log.info(&quot;CamelContextStartedEvent for {}&quot;, event.getSource());\r\n            startWarmupThread();\r\n        }\r\n    }\r\n```\r\n","title":"Can you listen for SpringCamelContext status?","body":"<p>Using EventNotifierSupport, I can listen for CamelContextStartedEvent. However, I need to add one more root to the context, after all the other routes have already been initialized. Currently, the event occurs after camelcontext have been initialized, but after that we have hundreds of SpringCamelContext routes added, and as I understand, there is no &quot;SpringCamelContextStartedEvent&quot;, so I have no idea of how to add route after all other routes are already initialized. I suspect that there is fundamental error in my logic, please correct me if I am wrong somewhere.</p>\n<pre><code>    @Override\n    public void notify(EventObject event) throws Exception {\n        if (event instanceof CamelContextStartedEvent) {\n            log.info(&quot;CamelContextStartedEvent for {}&quot;, event.getSource());\n            startWarmupThread();\n        }\n    }\n</code></pre>\n"},{"tags":["java","parsing","eof"],"comments":[{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":1,"creation_date":1297466335,"post_id":4974773,"comment_id":5554423,"body_markdown":"seems unlikely. your code may have problems.","body":"seems unlikely. your code may have problems."}],"answers":[{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1297464098,"creation_date":1297464098,"answer_id":4974798,"question_id":4974773,"body_markdown":"Be careful to never unread the EOF marker, the buffer inside PushbackReader is of type char[], so the integer -1 will get converted to char 0xFFFF, which will then be the next character returned from the read method. For example when parsing a quoted String always include a check for -1 in addition to the ending quote character and handle this as a failure case, for example by throwing an IOException.","title":"Java&#39;s PushbackReader and EOF","body":"<p>Be careful to never unread the EOF marker, the buffer inside PushbackReader is of type char[], so the integer -1 will get converted to char 0xFFFF, which will then be the next character returned from the read method. For example when parsing a quoted String always include a check for -1 in addition to the ending quote character and handle this as a failure case, for example by throwing an IOException.</p>\n"},{"tags":[],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651852681,"creation_date":1651852681,"answer_id":72144363,"question_id":4974773,"body_markdown":"I appreciated this question and answer because it saved me time looking into a solution that wasn&#39;t suited for what I needed which was a PushbackLineReader.\r\n\r\nI was parsing a log file and needed a block of data with `pattern one` and `pattern two` in it as shown.\r\n\r\n```\r\nTIMESTAMP pattern one\r\nseveral lines with pattern two\r\nnext line &lt;&lt;&lt; I need to read this line to know I&#39;m at the end of pattern two\r\nTIMESTAMP pattern one\r\nseveral lines with pattern two\r\nTIMESTAMP pattern one &lt;&lt;&lt; I need to read this but also push it back\r\nseveral lines with pattern two\r\n```\r\n\r\nSo I needed to read an entire line and then when I read one line past the line that had `pattern two`, I need to push back the line just read.\r\n\r\nI decided writing my own class to do that.  Which given I only had one line to push back was simple enough\r\n\r\n```\r\nclass MyPushbackLineReader {\r\n    private String pushedBackLine;\r\n\r\n    String readLine() {\r\n        String rtn = pushedBackLine\r\n        if (pushedBackLine == null){\r\n            rtn = reader.readLine();\r\n        }\r\n        return rtn;\r\n    }\r\n}\r\n````\r\n","title":"Java&#39;s PushbackReader and EOF","body":"<p>I appreciated this question and answer because it saved me time looking into a solution that wasn't suited for what I needed which was a PushbackLineReader.</p>\n<p>I was parsing a log file and needed a block of data with <code>pattern one</code> and <code>pattern two</code> in it as shown.</p>\n<pre><code>TIMESTAMP pattern one\nseveral lines with pattern two\nnext line &lt;&lt;&lt; I need to read this line to know I'm at the end of pattern two\nTIMESTAMP pattern one\nseveral lines with pattern two\nTIMESTAMP pattern one &lt;&lt;&lt; I need to read this but also push it back\nseveral lines with pattern two\n</code></pre>\n<p>So I needed to read an entire line and then when I read one line past the line that had <code>pattern two</code>, I need to push back the line just read.</p>\n<p>I decided writing my own class to do that.  Which given I only had one line to push back was simple enough</p>\n<pre><code>class MyPushbackLineReader {\n    private String pushedBackLine;\n\n    String readLine() {\n        String rtn = pushedBackLine\n        if (pushedBackLine == null){\n            rtn = reader.readLine();\n        }\n        return rtn;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3402,"reputation":7296,"user_id":4910,"accept_rate":79,"display_name":"Luther Baker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1651852681,"creation_date":1297463827,"question_id":4974773,"body_markdown":"I am writing a parser in Java and trying to leverage Java&#39;s PushbackReader. My parser may need to backtrack if it guessed incorrectly - but once the reader reaches EOF, that fails.\r\n\r\nLet&#39;s say I am parsing a quoted String and I&#39;m looking for the closing quotes. If any of my parser plugins can&#39;t completely finish, they try to leave the reader in the original state and pass it to the next plugin. IE: I generally push chars back onto the buffer and let the next element try to parse the buffer.\r\n\r\nUnfortunately, if I &#39;read&#39; all the way to the last character ... and then read the EOF, the PushbackReader will not allow me to push anything back onto it. Consequently, my parsing can&#39;t complete since those chars are lost!\r\n\r\nDo I need to write my own reader for this type of string processing?\r\n\r\nEDIT: furthermore, when I read the last character (the one just before EOF), I can&#39;t &quot;unread&quot; that char either. Is there a standard workaround for this - short of creating my own stack or buffer implementation?\r\n\r\n","title":"Java&#39;s PushbackReader and EOF","body":"<p>I am writing a parser in Java and trying to leverage Java's PushbackReader. My parser may need to backtrack if it guessed incorrectly - but once the reader reaches EOF, that fails.</p>\n\n<p>Let's say I am parsing a quoted String and I'm looking for the closing quotes. If any of my parser plugins can't completely finish, they try to leave the reader in the original state and pass it to the next plugin. IE: I generally push chars back onto the buffer and let the next element try to parse the buffer.</p>\n\n<p>Unfortunately, if I 'read' all the way to the last character ... and then read the EOF, the PushbackReader will not allow me to push anything back onto it. Consequently, my parsing can't complete since those chars are lost!</p>\n\n<p>Do I need to write my own reader for this type of string processing?</p>\n\n<p>EDIT: furthermore, when I read the last character (the one just before EOF), I can't \"unread\" that char either. Is there a standard workaround for this - short of creating my own stack or buffer implementation?</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1445446975,"post_id":33265149,"comment_id":54331475,"body_markdown":"Why don&#39;t you use JSR 203?","body":"Why don&#39;t you use JSR 203?"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1445446990,"post_id":33265149,"comment_id":54331487,"body_markdown":"What happens instead?  You get back an empty map?  Have you verified your `folder` is, in fact, a directory?  And that your `for` loop runs?  Try adding print statements to double check these assumptions.","body":"What happens instead?  You get back an empty map?  Have you verified your <code>folder</code> is, in fact, a directory?  And that your <code>for</code> loop runs?  Try adding print statements to double check these assumptions."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1445447023,"post_id":33265149,"comment_id":54331511,"body_markdown":"@fge maybe they don&#39;t know about it... a link would be a good start.","body":"@fge maybe they don&#39;t know about it... a link would be a good start."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1445447109,"post_id":33265149,"comment_id":54331555,"body_markdown":"More details about the problem at hand would be appreciated; for instance, are there only ever directories at the first level? Second, do you use Java 8, Java 7 or Java 6-? Third, why a Map as a return type?","body":"More details about the problem at hand would be appreciated; for instance, are there only ever directories at the first level? Second, do you use Java 8, Java 7 or Java 6-? Third, why a Map as a return type?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1445447314,"post_id":33265149,"comment_id":54331673,"body_markdown":"Why is your method recursive? Your displayed structure is not: there is just one root folder, containing directories, containing files. There is no need for recursion here. Just read ell the folders from the root directory, and for each folder, read all the files from that folder.","body":"Why is your method recursive? Your displayed structure is not: there is just one root folder, containing directories, containing files. There is no need for recursion here. Just read ell the folders from the root directory, and for each folder, read all the files from that folder."}],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1445489117,"creation_date":1445447603,"answer_id":33265373,"question_id":33265149,"body_markdown":"If you want your function to be recursive and keep the `Map` (although that&#39;s not the best choice), its definition should be :\r\n\r\n    Map&lt;String,Map&gt; listFilesForFolder(File folder);\r\n\r\nI.e. the values of the map are map themselves or `null` meaning its a file.\r\n\r\n----------\r\n\r\nThis line has no effect if you don&#39;t use its result :\r\n\r\n    listFilesForFolder(fileEntry);","title":"Java - Read files in a directory to a HashMap - recursive","body":"<p>If you want your function to be recursive and keep the <code>Map</code> (although that's not the best choice), its definition should be :</p>\n\n<pre><code>Map&lt;String,Map&gt; listFilesForFolder(File folder);\n</code></pre>\n\n<p>I.e. the values of the map are map themselves or <code>null</code> meaning its a file.</p>\n\n<hr>\n\n<p>This line has no effect if you don't use its result :</p>\n\n<pre><code>listFilesForFolder(fileEntry);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445447999,"creation_date":1445447999,"answer_id":33265490,"question_id":33265149,"body_markdown":"Here is a solution using the JSR 203 API (which you should use for anything post 2011, provided you use Java 7+); the following code supposes Java 7+ (UNTESTED; but it should work):\r\n\r\n    public static Map&lt;String, List&lt;String&gt;&gt; listFiles(final Path baseDir)\r\n        throws IOException\r\n    {\r\n        final Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    \r\n        try (\r\n            final DirectoryStream&lt;Path&gt; stream\r\n                = Files.newDirectoryStream(baseDir);\r\n        ) { \r\n            for (final Path subdir: stream)\r\n                populateMap(map, subdir);\r\n        }\r\n    \r\n        return ret;\r\n    }\r\n    \r\n    private static void populateMap(final Map&lt;String, List&lt;String&gt;&gt; map,\r\n        final Path subdir)\r\n        throws IOException\r\n    {\r\n        // .getFileName() returns the last component of the path...\r\n        // REGARDLESS of whether that component is actually a &quot;file&quot;\r\n        final String dirname = subdir.getFileName().toString();\r\n        map.put(dirname, new ArrayList&lt;&gt;());\r\n        try (\r\n            final DirectoryStream&lt;Path&gt; stream\r\n                = Files.newDirectoryStream(subdir);\r\n        )\r\n        {\r\n            for (final Path entry: stream)\r\n                map.get(dirname).add(entry.getFileName().toString());\r\n        }\r\n    }\r\n\r\n","title":"Java - Read files in a directory to a HashMap - recursive","body":"<p>Here is a solution using the JSR 203 API (which you should use for anything post 2011, provided you use Java 7+); the following code supposes Java 7+ (UNTESTED; but it should work):</p>\n\n<pre><code>public static Map&lt;String, List&lt;String&gt;&gt; listFiles(final Path baseDir)\n    throws IOException\n{\n    final Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n\n    try (\n        final DirectoryStream&lt;Path&gt; stream\n            = Files.newDirectoryStream(baseDir);\n    ) { \n        for (final Path subdir: stream)\n            populateMap(map, subdir);\n    }\n\n    return ret;\n}\n\nprivate static void populateMap(final Map&lt;String, List&lt;String&gt;&gt; map,\n    final Path subdir)\n    throws IOException\n{\n    // .getFileName() returns the last component of the path...\n    // REGARDLESS of whether that component is actually a \"file\"\n    final String dirname = subdir.getFileName().toString();\n    map.put(dirname, new ArrayList&lt;&gt;());\n    try (\n        final DirectoryStream&lt;Path&gt; stream\n            = Files.newDirectoryStream(subdir);\n    )\n    {\n        for (final Path entry: stream)\n            map.get(dirname).add(entry.getFileName().toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4316716,"reputation":1565,"user_id":3526330,"accept_rate":88,"display_name":"saikumarm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1445448458,"creation_date":1445448458,"answer_id":33265618,"question_id":33265149,"body_markdown":"    public class Folder {\r\n    \tpublic static HashMap&lt;String, ArrayList&lt;String&gt;&gt; dirFiles = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n    \t\r\n    \tpublic static void listFilesForFolder(File folder)\r\n    \t        throws IOException {\r\n    \t    \r\n    \t    if(folder.isDirectory()) {\r\n    \t        \r\n    \t    \tArrayList&lt;String&gt; fileNames = new ArrayList&lt;String&gt;();\r\n    \t    \t\r\n    \t        for (final File fileEntry : folder.listFiles()) {\r\n    \t           // System.out.println(fileEntry.toString());\r\n    \t        \tif (fileEntry.isDirectory()) {\r\n    \t        \t//\tSystem.out.println(fileEntry.toString());\r\n    \t                listFilesForFolder(fileEntry);\r\n    \t            } else {\r\n    \t                String fileName = (fileEntry.getPath()).toString();\r\n    \t                fileNames.add(fileEntry.getPath());\r\n    \t            }\r\n    \t        }\r\n    \t        dirFiles.put(folder.getName(), fileNames);\r\n    \t    }\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tlistFilesForFolder(new File(&quot;C:/Users/Guest/Documents/MainFolder&quot;));\r\n    \t\tfor(Entry&lt;String, ArrayList&lt;String&gt;&gt; foldername : dirFiles.entrySet())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(foldername.getKey() + &quot; &quot; + foldername.getValue());\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nThere are very minute changes need to be done in your code. \r\n\r\n 1. only when you loop through the entire list of files in\r\n    folder.listFiles(), fileNames arraylist get populated with the names\r\n    of files. Therefore I move the map put operation after the end of\r\n    loop.\r\n 2. you are creating Map object for every iteration, though you are\r\n    returning map object from the function which every recursive call\r\n    will do. you have to process all the map objects together. Hence a\r\n    global map object.","title":"Java - Read files in a directory to a HashMap - recursive","body":"<pre><code>public class Folder {\n    public static HashMap&lt;String, ArrayList&lt;String&gt;&gt; dirFiles = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n\n    public static void listFilesForFolder(File folder)\n            throws IOException {\n\n        if(folder.isDirectory()) {\n\n            ArrayList&lt;String&gt; fileNames = new ArrayList&lt;String&gt;();\n\n            for (final File fileEntry : folder.listFiles()) {\n               // System.out.println(fileEntry.toString());\n                if (fileEntry.isDirectory()) {\n                //  System.out.println(fileEntry.toString());\n                    listFilesForFolder(fileEntry);\n                } else {\n                    String fileName = (fileEntry.getPath()).toString();\n                    fileNames.add(fileEntry.getPath());\n                }\n            }\n            dirFiles.put(folder.getName(), fileNames);\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n        listFilesForFolder(new File(\"C:/Users/Guest/Documents/MainFolder\"));\n        for(Entry&lt;String, ArrayList&lt;String&gt;&gt; foldername : dirFiles.entrySet())\n        {\n            System.out.println(foldername.getKey() + \" \" + foldername.getValue());\n        }\n    }\n\n}\n</code></pre>\n\n<p>There are very minute changes need to be done in your code. </p>\n\n<ol>\n<li>only when you loop through the entire list of files in\nfolder.listFiles(), fileNames arraylist get populated with the names\nof files. Therefore I move the map put operation after the end of\nloop.</li>\n<li>you are creating Map object for every iteration, though you are\nreturning map object from the function which every recursive call\nwill do. you have to process all the map objects together. Hence a\nglobal map object.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7506415,"reputation":200,"user_id":6796260,"display_name":"Jamalianpour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651852518,"creation_date":1651852518,"answer_id":72144324,"question_id":33265149,"body_markdown":"If you want to create a list of all directory and files under a directory use this:\r\n```java\r\nprivate List&lt;String&gt; filesPath = new ArrayList&lt;&gt;();\r\n\r\npublic void createDirectoryMap() {\r\n    var storage = new File(path);\r\n    if (storage.isDirectory()) {\r\n        File[] children = storage.listFiles();\r\n        if (children != null) {\r\n            for (File childFile : children) {\r\n                getAllDirectory(childFile);\r\n            }\r\n        }\r\n    } else {\r\n        filesPath.add(storage.getPath());\r\n    }\r\n    \r\n    // Save your list\r\n\r\n    filesPath.clear();\r\n}\r\n\r\nprivate void getAllDirectory(File file) {\r\n    if (file.isDirectory()) {\r\n        File[] children = file.listFiles();\r\n        if (children != null) {\r\n            for (File childFile : children) {\r\n                filesPath.add(childFile.getPath());\r\n                getAllDirectory(childFile);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnd output will somethings like this:\r\n\r\n    storage\\private\\60af64d4146f1e6e70bef903\r\n    storage\\private\\60af64d4146f1e6e70bef903\\DSC_0171.jpg\r\n    storage\\private\\60af64d4146f1e6e70bef903\\icon.jpg\r\n    storage\\public\\blog\r\n    storage\\public\\blog\\61afe3d311771928ca98f5f3","title":"Java - Read files in a directory to a HashMap - recursive","body":"<p>If you want to create a list of all directory and files under a directory use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;String&gt; filesPath = new ArrayList&lt;&gt;();\n\npublic void createDirectoryMap() {\n    var storage = new File(path);\n    if (storage.isDirectory()) {\n        File[] children = storage.listFiles();\n        if (children != null) {\n            for (File childFile : children) {\n                getAllDirectory(childFile);\n            }\n        }\n    } else {\n        filesPath.add(storage.getPath());\n    }\n    \n    // Save your list\n\n    filesPath.clear();\n}\n\nprivate void getAllDirectory(File file) {\n    if (file.isDirectory()) {\n        File[] children = file.listFiles();\n        if (children != null) {\n            for (File childFile : children) {\n                filesPath.add(childFile.getPath());\n                getAllDirectory(childFile);\n            }\n        }\n    }\n}\n</code></pre>\n<p>And output will somethings like this:</p>\n<pre><code>storage\\private\\60af64d4146f1e6e70bef903\nstorage\\private\\60af64d4146f1e6e70bef903\\DSC_0171.jpg\nstorage\\private\\60af64d4146f1e6e70bef903\\icon.jpg\nstorage\\public\\blog\nstorage\\public\\blog\\61afe3d311771928ca98f5f3\n</code></pre>\n"}],"owner":{"account_id":5043999,"reputation":1155,"user_id":4050591,"accept_rate":61,"display_name":"Alekhya Vemavarapu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33265618,"answer_count":4,"score":0,"last_activity_date":1651852518,"creation_date":1445446842,"question_id":33265149,"body_markdown":"Here below am trying to read fileNames from a nested folder structure into a hashmap,  \r\nStructure is like  \r\n\r\n    Main Folder  \r\n          -&gt; EN (SubFolder1)  \r\n                 -&gt; File1\r\n                 -&gt; File2\r\n          -&gt; FR (SubFolder2)  \r\n                 -&gt; File3\r\n                 -&gt; File4\r\n          -&gt; GE (SubFolder3)  \r\n                 -&gt; File5\r\n                 -&gt; File6 \r\n\r\nHashMap contains &quot;Sub FolderName&quot; as Key &amp; &quot;FileNames&quot;(ArrayList) as value.  \r\n\r\nI&#39;m trying to make a recursive call &amp; save things into HashMap, but missing something in that, things are not being saved into HashMap.  \r\n\r\n\tpublic static HashMap&lt;String,ArrayList&lt;String&gt;&gt; listFilesForFolder(File folder)\r\n\t\t\tthrows IOException {\r\n\t\tHashMap&lt;String, ArrayList&lt;String&gt;&gt; dirFiles = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n\t\tif(folder.isDirectory()) {\r\n\t\t\tArrayList&lt;String&gt; fileNames = new ArrayList&lt;String&gt;();\r\n\t\t\tfor (final File fileEntry : folder.listFiles()) {\r\n\t\t\t\tif (fileEntry.isDirectory()) {\r\n\t\t\t\t\tlistFilesForFolder(fileEntry);\r\n\t\t\t\t\tdirFiles.put(folder.getName(), fileNames);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tString fileName = (fileEntry.getPath()).toString();\r\n\t\t\t\t\tfileNames.add(fileEntry.getPath());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dirFiles;\r\n\t}\r\n\r\n\r\nPlease help me find out where am going wrong. \r\n\r\n***Input is the path of the parent directory.***\r\n\r\nExpected Output:  \r\n\r\n    {&quot;EN&quot; = [File1, File2],  &quot;FR&quot; = [File3, File4], &quot;GE&quot; = [File5, File6]}\r\n\r\n  \r\nThank You.","title":"Java - Read files in a directory to a HashMap - recursive","body":"<p>Here below am trying to read fileNames from a nested folder structure into a hashmap,<br>\nStructure is like  </p>\n\n<pre><code>Main Folder  \n      -&gt; EN (SubFolder1)  \n             -&gt; File1\n             -&gt; File2\n      -&gt; FR (SubFolder2)  \n             -&gt; File3\n             -&gt; File4\n      -&gt; GE (SubFolder3)  \n             -&gt; File5\n             -&gt; File6 \n</code></pre>\n\n<p>HashMap contains \"Sub FolderName\" as Key &amp; \"FileNames\"(ArrayList) as value.  </p>\n\n<p>I'm trying to make a recursive call &amp; save things into HashMap, but missing something in that, things are not being saved into HashMap.  </p>\n\n<pre><code>public static HashMap&lt;String,ArrayList&lt;String&gt;&gt; listFilesForFolder(File folder)\n        throws IOException {\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt; dirFiles = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n    if(folder.isDirectory()) {\n        ArrayList&lt;String&gt; fileNames = new ArrayList&lt;String&gt;();\n        for (final File fileEntry : folder.listFiles()) {\n            if (fileEntry.isDirectory()) {\n                listFilesForFolder(fileEntry);\n                dirFiles.put(folder.getName(), fileNames);\n            } else {\n                String fileName = (fileEntry.getPath()).toString();\n                fileNames.add(fileEntry.getPath());\n            }\n        }\n    }\n    return dirFiles;\n}\n</code></pre>\n\n<p>Please help me find out where am going wrong. </p>\n\n<p><strong><em>Input is the path of the parent directory.</em></strong></p>\n\n<p>Expected Output:  </p>\n\n<pre><code>{\"EN\" = [File1, File2],  \"FR\" = [File3, File4], \"GE\" = [File5, File6]}\n</code></pre>\n\n<p>Thank You.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651852389,"creation_date":1651852389,"answer_id":72144296,"question_id":72143617,"body_markdown":"`WebMvcConfigurer#addCorsMappings(CorsRegistry)` creates a global CORS configuration applied to all controllers, and `@CrossOrigin` allows for a more fine-grained control over it. For the case when they are used together, as stated in the javadoc of `@CrossOrigin`:\r\n\r\n&gt; The rules for combining global and local configuration are generally additive -- e.g. all global and all local origins. For those attributes where only a single value can be accepted such as allowCredentials and maxAge, the local overrides the global value.","title":"Is using @CrossOrigin the same as overriding addCorsMapping() in Spring?","body":"<p><code>WebMvcConfigurer#addCorsMappings(CorsRegistry)</code> creates a global CORS configuration applied to all controllers, and <code>@CrossOrigin</code> allows for a more fine-grained control over it. For the case when they are used together, as stated in the javadoc of <code>@CrossOrigin</code>:</p>\n<blockquote>\n<p>The rules for combining global and local configuration are generally additive -- e.g. all global and all local origins. For those attributes where only a single value can be accepted such as allowCredentials and maxAge, the local overrides the global value.</p>\n</blockquote>\n"}],"owner":{"account_id":10056471,"reputation":858,"user_id":7434507,"accept_rate":47,"display_name":"OreoFanatics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1651852389,"creation_date":1651849379,"question_id":72143617,"body_markdown":"In my controller I currently added the following annotation `@CrossOrigin`:\r\n\r\n        @RestController\r\n        @RequestMapping(value = &quot;/dev/test&quot;)\r\n        @CrossOrigin\r\n        public class MyController {\r\n        ...\r\n        }\r\n\r\nAnd also wondering the following implementation in WebConfig:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n    \r\n        private String allowedRequest = &quot;/**&quot;;\r\n        private String allowedOrigins = &quot;*&quot;;\r\n        private String[] allowedMethods = {&quot;GET&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;};\r\n    \r\n        @Override\r\n        public void addCorsMappings(final CorsRegistry registry) {\r\n            registry.addMapping(allowedRequest).allowedOrigins(allowedOrigins)\r\n                    .allowedMethods(allowedMethods);\r\n        }\r\n    }\r\n\r\nAre those two options provide the same result? And are there any difference from security standpoint (which one is more secure than the other)?\r\n\r\nThank you!","title":"Is using @CrossOrigin the same as overriding addCorsMapping() in Spring?","body":"<p>In my controller I currently added the following annotation <code>@CrossOrigin</code>:</p>\n<pre><code>    @RestController\n    @RequestMapping(value = &quot;/dev/test&quot;)\n    @CrossOrigin\n    public class MyController {\n    ...\n    }\n</code></pre>\n<p>And also wondering the following implementation in WebConfig:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    private String allowedRequest = &quot;/**&quot;;\n    private String allowedOrigins = &quot;*&quot;;\n    private String[] allowedMethods = {&quot;GET&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;};\n\n    @Override\n    public void addCorsMappings(final CorsRegistry registry) {\n        registry.addMapping(allowedRequest).allowedOrigins(allowedOrigins)\n                .allowedMethods(allowedMethods);\n    }\n}\n</code></pre>\n<p>Are those two options provide the same result? And are there any difference from security standpoint (which one is more secure than the other)?</p>\n<p>Thank you!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5203122,"reputation":603,"user_id":4161906,"display_name":"flwd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651852136,"creation_date":1651852136,"answer_id":72144244,"question_id":72144156,"body_markdown":"You could put the names in a list and then shuffle the list, giving you a random order with no duplicates:\r\n&lt;!-- language: java --&gt;\r\n```\r\nList&lt;String&gt; eastTeams = new ArrayList&lt;&gt;(List.of(&quot;Raptors&quot;, &quot;Bucks&quot;, &quot;76ers&quot;, &quot;Celtics&quot;));\r\nCollections.shuffle(eastTeams);\r\n\r\nlblFirstTeamEast.setText(eastTeams.get(0));\r\nlblSecondTeamEast.setText(eastTeams.get(1)); \r\nlblThirdTeamEast.setText(eastTeams.get(2));\r\nlblFourthTeamEast.setText(eastTeams.get(3));\r\n```","title":"How do I randomly output string to multiple labels from array without repeats","body":"<p>You could put the names in a list and then shuffle the list, giving you a random order with no duplicates:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; eastTeams = new ArrayList&lt;&gt;(List.of(&quot;Raptors&quot;, &quot;Bucks&quot;, &quot;76ers&quot;, &quot;Celtics&quot;));\nCollections.shuffle(eastTeams);\n\nlblFirstTeamEast.setText(eastTeams.get(0));\nlblSecondTeamEast.setText(eastTeams.get(1)); \nlblThirdTeamEast.setText(eastTeams.get(2));\nlblFourthTeamEast.setText(eastTeams.get(3));\n</code></pre>\n"}],"owner":{"account_id":25217694,"reputation":1,"user_id":19054629,"display_name":"MZ738274"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651852136,"creation_date":1651851735,"question_id":72144156,"body_markdown":"I am trying to make a basketball playoff simulator. I have an array for east conference teams and west conference teams. I want to randomly output the team names to the first 4 labels on each side with no repeats. How do I generate random unique seeds for each team.\r\n\r\n```java\r\nprivate void btnSeedActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        \r\n        lblSeriesWins.setText(String.valueOf(&quot;0&quot;));\r\n        \r\n        String TeamName = (String)jComboBox1.getSelectedItem();\r\n        \r\n        String Raptors = &quot;Raptors&quot;;\r\n        String Bucks = &quot;Bucks&quot;;\r\n        String Phila = &quot;76ers&quot;;\r\n        String Celtics = &quot;Celtics&quot;;\r\n        \r\n        String [ ] eastTeams = {&quot;Raptors&quot;,&quot;Bucks&quot;, &quot;76ers&quot;, &quot;Celtics&quot;};\r\n        Random random1 = new Random();\r\n        int PickEast = random1.nextInt(eastTeams.length);\r\n        \r\n        lblFirstTeamEast.setText(String.valueOf(eastTeams[PickEast]));\r\n        lblSecondTeamEast.setText(String.valueOf(eastTeams[PickEast])); \r\n        lblThirdTeamEast.setText(String.valueOf(eastTeams[PickEast]));\r\n        lblFourthTeamEast.setText(String.valueOf(eastTeams[PickEast]));\r\n        \r\n        String[ ] westTeams = {&quot;Lakers&quot;, &quot;Warriors&quot;, &quot;Suns&quot;, &quot;Grizzlies&quot;};\r\n        Random random2 = new Random();\r\n        int PickWest = random2.nextInt(westTeams.length);\r\n        \r\n        lblFirstTeamWest.setText(String.valueOf(westTeams[PickWest]));\r\n        lblSecondTeamWest.setText(String.valueOf(westTeams[PickWest]));\r\n        lblThirdTeamWest.setText(String.valueOf(westTeams[PickWest]));\r\n        lblFourthTeamWest.setText(String.valueOf(westTeams[PickWest]));\r\n\r\n```\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hP8s1.png","title":"How do I randomly output string to multiple labels from array without repeats","body":"<p>I am trying to make a basketball playoff simulator. I have an array for east conference teams and west conference teams. I want to randomly output the team names to the first 4 labels on each side with no repeats. How do I generate random unique seeds for each team.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void btnSeedActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        \n        lblSeriesWins.setText(String.valueOf(&quot;0&quot;));\n        \n        String TeamName = (String)jComboBox1.getSelectedItem();\n        \n        String Raptors = &quot;Raptors&quot;;\n        String Bucks = &quot;Bucks&quot;;\n        String Phila = &quot;76ers&quot;;\n        String Celtics = &quot;Celtics&quot;;\n        \n        String [ ] eastTeams = {&quot;Raptors&quot;,&quot;Bucks&quot;, &quot;76ers&quot;, &quot;Celtics&quot;};\n        Random random1 = new Random();\n        int PickEast = random1.nextInt(eastTeams.length);\n        \n        lblFirstTeamEast.setText(String.valueOf(eastTeams[PickEast]));\n        lblSecondTeamEast.setText(String.valueOf(eastTeams[PickEast])); \n        lblThirdTeamEast.setText(String.valueOf(eastTeams[PickEast]));\n        lblFourthTeamEast.setText(String.valueOf(eastTeams[PickEast]));\n        \n        String[ ] westTeams = {&quot;Lakers&quot;, &quot;Warriors&quot;, &quot;Suns&quot;, &quot;Grizzlies&quot;};\n        Random random2 = new Random();\n        int PickWest = random2.nextInt(westTeams.length);\n        \n        lblFirstTeamWest.setText(String.valueOf(westTeams[PickWest]));\n        lblSecondTeamWest.setText(String.valueOf(westTeams[PickWest]));\n        lblThirdTeamWest.setText(String.valueOf(westTeams[PickWest]));\n        lblFourthTeamWest.setText(String.valueOf(westTeams[PickWest]));\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hP8s1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hP8s1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kubernetes","logging","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1651814192,"post_id":72133472,"comment_id":127457332,"body_markdown":"You mean that setting to `DEBUG` does not work?","body":"You mean that setting to <code>DEBUG</code> does not work?"},{"owner":{"account_id":14961478,"reputation":2107,"user_id":10801086,"display_name":"dna"},"score":0,"creation_date":1651820408,"post_id":72133472,"comment_id":127458819,"body_markdown":"Nope...settings to INFO not works.","body":"Nope...settings to INFO not works."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1651838904,"post_id":72133472,"comment_id":127465161,"body_markdown":"Can you enhance the question with some of the logging output?","body":"Can you enhance the question with some of the logging output?"},{"owner":{"account_id":14961478,"reputation":2107,"user_id":10801086,"display_name":"dna"},"score":0,"creation_date":1651844863,"post_id":72133472,"comment_id":127467478,"body_markdown":"Yes..i paste some logs (simple debug logs). And i found some initial logs with something to investigate","body":"Yes..i paste some logs (simple debug logs). And i found some initial logs with something to investigate"},{"owner":{"account_id":14961478,"reputation":2107,"user_id":10801086,"display_name":"dna"},"score":1,"creation_date":1651851823,"post_id":72133472,"comment_id":127470384,"body_markdown":"Problem solved it was the binding of SLF4J. We had a dependency with another binding of SLF4J and for some reason, in the Kubernetes environment, the app starts with the wrong one. We exclude the second binding and the logs are correct.","body":"Problem solved it was the binding of SLF4J. We had a dependency with another binding of SLF4J and for some reason, in the Kubernetes environment, the app starts with the wrong one. We exclude the second binding and the logs are correct."}],"owner":{"account_id":14961478,"reputation":2107,"user_id":10801086,"display_name":"dna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651852052,"creation_date":1651783635,"question_id":72133472,"body_markdown":"I have a quarkus application with a standard configuration. The application works as expected, in my local develop environment i&#39;m able to set the log level by setting\r\n```\r\n# application.property\r\nquarkus.log.level=INFO\r\nquarkus.log.min-level=INFO\r\n```\r\n\r\nwhen i deploy the application on kunernetes i&#39;m not able to set the log level to INFO and the application logs everything in DEBUG mode.\r\n\r\nHow i can set the log level on the app ?\r\n\r\n\r\nBelow some logs\r\n```\r\n13:41:17.639 [executor-thread-1] DEBUG notprivacysafe.graphql.execution.Execution - Executing &#39;9243991163&#39; query operation: &#39;QUERY&#39; using &#39;graphql.execution.AsyncExecutionStrategy&#39; execution strategy\r\n13:41:17.647 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - &#39;9243991163&#39; completing field &#39;/defaultListe&#39;...\r\n13:41:17.648 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - &#39;9243991163&#39; completing field &#39;/defaultListe[0]/id&#39;...\r\n13:41:17.648 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - &#39;9243991163&#39; completing field &#39;/defaultListe[0]/nomeCampo&#39;...\r\n13:41:17.648 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - &#39;9243991163&#39; completing field &#39;/defaultListe[0]/tipoLista&#39;...\r\n13:41:17.648 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - &#39;9243991163&#39; completing field &#39;/defaultListe[0]/cdr&#39;...\r\n13:41:17.649 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - &#39;9243991163&#39; completing field &#39;/defaultListe[0]/descrizione&#39;...\r\n13:41:17.649 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - &#39;9243991163&#39; completing field &#39;/defaultListe[0]/attivo&#39;...\r\n13:41:17.649 [executor-thread-1] DEBUG graphql.GraphQL - Execution &#39;9243991163&#39; completed with zero errors\r\n```\r\n\r\n\r\nI found the logs below when i copy the other logs, i will investigate on that\r\n```\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/home/jboss/lib/main/ch.qos.logback.logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/home/jboss/lib/main/org.jboss.slf4j.slf4j-jboss-logmanager-1.1.0.Final.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\r\n13:37:09.731 [Thread-0] DEBUG io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework\r\n13:37:09.742 [Thread-0] DEBUG io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false\r\n```\r\n\r\n------\r\nUPDATE\r\n\r\nWe exclude from maven a dependency that caused a wrong binding\r\n\r\n```\r\n...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n...\r\n```\r\n\r\n","title":"How to change log level in quarkus application deployed on kubernetes","body":"<p>I have a quarkus application with a standard configuration. The application works as expected, in my local develop environment i'm able to set the log level by setting</p>\n<pre><code># application.property\nquarkus.log.level=INFO\nquarkus.log.min-level=INFO\n</code></pre>\n<p>when i deploy the application on kunernetes i'm not able to set the log level to INFO and the application logs everything in DEBUG mode.</p>\n<p>How i can set the log level on the app ?</p>\n<p>Below some logs</p>\n<pre><code>13:41:17.639 [executor-thread-1] DEBUG notprivacysafe.graphql.execution.Execution - Executing '9243991163' query operation: 'QUERY' using 'graphql.execution.AsyncExecutionStrategy' execution strategy\n13:41:17.647 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - '9243991163' completing field '/defaultListe'...\n13:41:17.648 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - '9243991163' completing field '/defaultListe[0]/id'...\n13:41:17.648 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - '9243991163' completing field '/defaultListe[0]/nomeCampo'...\n13:41:17.648 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - '9243991163' completing field '/defaultListe[0]/tipoLista'...\n13:41:17.648 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - '9243991163' completing field '/defaultListe[0]/cdr'...\n13:41:17.649 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - '9243991163' completing field '/defaultListe[0]/descrizione'...\n13:41:17.649 [executor-thread-1] DEBUG graphql.execution.ExecutionStrategy - '9243991163' completing field '/defaultListe[0]/attivo'...\n13:41:17.649 [executor-thread-1] DEBUG graphql.GraphQL - Execution '9243991163' completed with zero errors\n</code></pre>\n<p>I found the logs below when i copy the other logs, i will investigate on that</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/jboss/lib/main/ch.qos.logback.logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/jboss/lib/main/org.jboss.slf4j.slf4j-jboss-logmanager-1.1.0.Final.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]\n13:37:09.731 [Thread-0] DEBUG io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework\n13:37:09.742 [Thread-0] DEBUG io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false\n</code></pre>\n<hr />\n<p>UPDATE</p>\n<p>We exclude from maven a dependency that caused a wrong binding</p>\n<pre><code>...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-ImportXHTML&lt;/artifactId&gt;\n            &lt;version&gt;8.3.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n...\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1651852205,"post_id":72144197,"comment_id":127470547,"body_markdown":"You can do it easily, but the question is: do you want? Functionally speaking, the first object contains an id, the second a variable. Even if they happen to look alike, they are not guaranteed to be in the future. I wouldn&#39;t refactor into a common object.","body":"You can do it easily, but the question is: do you want? Functionally speaking, the first object contains an id, the second a variable. Even if they happen to look alike, they are not guaranteed to be in the future. I wouldn&#39;t refactor into a common object."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1651854088,"post_id":72144197,"comment_id":127471215,"body_markdown":"Depends on what you mean by a &quot;common object&quot;. If everything (or &quot;enough&quot; things) include an array of `requests` it&#39;d make *more* sense to wrap up the requests collection *in* the object that has a collection of `requests`. Whether or not it&#39;s meaningful to do so depends on your specific requirements.","body":"Depends on what you mean by a &quot;common object&quot;. If everything (or &quot;enough&quot; things) include an array of <code>requests</code> it&#39;d make <i>more</i> sense to wrap up the requests collection <i>in</i> the object that has a collection of <code>requests</code>. Whether or not it&#39;s meaningful to do so depends on your specific requirements."},{"owner":{"account_id":17027253,"reputation":1,"user_id":12318154,"display_name":"Randhev"},"score":0,"creation_date":1651854723,"post_id":72144197,"comment_id":127471446,"body_markdown":"I meant a common model for accepting the request body, if that makes sense","body":"I meant a common model for accepting the request body, if that makes sense"}],"owner":{"account_id":17027253,"reputation":1,"user_id":12318154,"display_name":"Randhev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651851951,"creation_date":1651851951,"question_id":72144197,"body_markdown":"I am implementing one api and I have the following request bodies for 2 different endpoints:\r\n\r\nendpoint1:\r\n\r\n     {\r\n      &quot;requests&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;123&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nendpoint2: \r\n\r\n    {\r\n      &quot;requests&quot;: [\r\n        {\r\n          &quot;variable&quot;: &quot;stack&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\nIs there a way to build a common object for these 2 in java spring application?","title":"Common object in two objects java","body":"<p>I am implementing one api and I have the following request bodies for 2 different endpoints:</p>\n<p>endpoint1:</p>\n<pre><code> {\n  &quot;requests&quot;: [\n    {\n      &quot;id&quot;: &quot;123&quot;\n    }\n  ]\n}\n</code></pre>\n<p>endpoint2:</p>\n<pre><code>{\n  &quot;requests&quot;: [\n    {\n      &quot;variable&quot;: &quot;stack&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Is there a way to build a common object for these 2 in java spring application?</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":0,"creation_date":1651844350,"post_id":72142262,"comment_id":127467249,"body_markdown":"What&#39;s the question?","body":"What&#39;s the question?"},{"owner":{"account_id":24687245,"reputation":1,"user_id":18580261,"display_name":"Abdessalam Idali Lahcen"},"score":0,"creation_date":1651844872,"post_id":72142262,"comment_id":127467480,"body_markdown":"how to do it does reflect.Field is the best choice ?","body":"how to do it does reflect.Field is the best choice ?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1651845928,"post_id":72142262,"comment_id":127467949,"body_markdown":"Does this answer your question? [Copy non-null properties from one object to another using BeanUtils or similar](https://stackoverflow.com/questions/41125384/copy-non-null-properties-from-one-object-to-another-using-beanutils-or-similar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41125384/copy-non-null-properties-from-one-object-to-another-using-beanutils-or-similar\">Copy non-null properties from one object to another using BeanUtils or similar</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651846975,"post_id":72142262,"comment_id":127468395,"body_markdown":"Another potential duplicate: [Helper in order to copy non null properties from object to another](https://stackoverflow.com/q/1301697/12567365) - not exactly your use-case, but very similar answers which could be adapted, I think. Bottom line: you can use reflection directly, but why not use a tested and widely used library which wraps it up for you?","body":"Another potential duplicate: <a href=\"https://stackoverflow.com/q/1301697/12567365\">Helper in order to copy non null properties from object to another</a> - not exactly your use-case, but very similar answers which could be adapted, I think. Bottom line: you can use reflection directly, but why not use a tested and widely used library which wraps it up for you?"}],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651845015,"creation_date":1651845015,"answer_id":72142587,"question_id":72142262,"body_markdown":"You can use e.g. [ModelMapper][1] if you want to map values between different java objects without explicitly having to map every single field.\r\n\r\n\r\n  [1]: http://modelmapper.org","title":"Parsing two objects into one","body":"<p>You can use e.g. <a href=\"http://modelmapper.org\" rel=\"nofollow noreferrer\">ModelMapper</a> if you want to map values between different java objects without explicitly having to map every single field.</p>\n"},{"tags":[],"owner":{"account_id":2480954,"reputation":317,"user_id":2160443,"display_name":"Rakib Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651847149,"creation_date":1651847149,"answer_id":72143087,"question_id":72142262,"body_markdown":"**BeanUtils.copyProperties** is very common in spring-boot projects, we can use it with passing **ignoreProperties** (null case) &amp; we can find the null case by using a custom method like below:\r\n\r\n```\r\n    private ClientObject eraser(ClientObject clientObject, ServerObject serverObject){\r\n        BeanUtils.copyProperties(serverObject, clientObject, getNullPropertyNames(serverObject));\r\n        return clientObject;\r\n    }\r\n\r\n    public static String[] getNullPropertyNames (Object source) {\r\n        final BeanWrapper src = new BeanWrapperImpl(source);\r\n        java.beans.PropertyDescriptor[] pds = src.getPropertyDescriptors();\r\n\r\n        Set&lt;String&gt; emptyNames = new HashSet&lt;String&gt;();\r\n        for(java.beans.PropertyDescriptor pd : pds) {\r\n            Object srcValue = src.getPropertyValue(pd.getName());\r\n            if (srcValue == null) emptyNames.add(pd.getName());\r\n        }\r\n\r\n        String[] result = new String[emptyNames.size()];\r\n        return emptyNames.toArray(result);\r\n    }\r\n```\r\nIt will set only non null attributes of **serverObject** to **clientObject**.","title":"Parsing two objects into one","body":"<p><strong>BeanUtils.copyProperties</strong> is very common in spring-boot projects, we can use it with passing <strong>ignoreProperties</strong> (null case) &amp; we can find the null case by using a custom method like below:</p>\n<pre><code>    private ClientObject eraser(ClientObject clientObject, ServerObject serverObject){\n        BeanUtils.copyProperties(serverObject, clientObject, getNullPropertyNames(serverObject));\n        return clientObject;\n    }\n\n    public static String[] getNullPropertyNames (Object source) {\n        final BeanWrapper src = new BeanWrapperImpl(source);\n        java.beans.PropertyDescriptor[] pds = src.getPropertyDescriptors();\n\n        Set&lt;String&gt; emptyNames = new HashSet&lt;String&gt;();\n        for(java.beans.PropertyDescriptor pd : pds) {\n            Object srcValue = src.getPropertyValue(pd.getName());\n            if (srcValue == null) emptyNames.add(pd.getName());\n        }\n\n        String[] result = new String[emptyNames.size()];\n        return emptyNames.toArray(result);\n    }\n</code></pre>\n<p>It will set only non null attributes of <strong>serverObject</strong> to <strong>clientObject</strong>.</p>\n"},{"tags":[],"owner":{"account_id":24687245,"reputation":1,"user_id":18580261,"display_name":"Abdessalam Idali Lahcen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651851571,"creation_date":1651851571,"answer_id":72144115,"question_id":72142262,"body_markdown":"Actually the best solution comparing to @Rakib&#39;s one is: \r\n\r\n    private void erase(Object clientObject, Object defaultObject) throws IllegalAccessException, NoSuchFieldException {\r\n                Field[] Fields = defaultObject.getClass().getDeclaredFields();\r\n            \r\n                for (Field field : Fields) {\r\n                    field.setAccessible(true);\r\n                    Object value = field.get(defaultObject);\r\n                    if(value !=null)\r\n                        field.set(clientObject,value);\r\n                }\r\n        }","title":"Parsing two objects into one","body":"<p>Actually the best solution comparing to @Rakib's one is:</p>\n<pre><code>private void erase(Object clientObject, Object defaultObject) throws IllegalAccessException, NoSuchFieldException {\n            Field[] Fields = defaultObject.getClass().getDeclaredFields();\n        \n            for (Field field : Fields) {\n                field.setAccessible(true);\n                Object value = field.get(defaultObject);\n                if(value !=null)\n                    field.set(clientObject,value);\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":24687245,"reputation":1,"user_id":18580261,"display_name":"Abdessalam Idali Lahcen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1651851571,"creation_date":1651843750,"question_id":72142262,"body_markdown":"I&#39;ve two objects `objclient` and `objserver` of the same type `Object`,(i.e. Dog, Cat..)\r\n\r\nwhen I receive `objclient` in my endpoint I need to replace its attributes with the non-null ones in `objserver` without doing explicitly, for example : \r\n\r\n    private void eraser(Object clientObject, Object serverObject){\r\n      //set only non null attributes of serverObject to clientObject\r\n    }\r\n\r\n\r\n","title":"Parsing two objects into one","body":"<p>I've two objects <code>objclient</code> and <code>objserver</code> of the same type <code>Object</code>,(i.e. Dog, Cat..)</p>\n<p>when I receive <code>objclient</code> in my endpoint I need to replace its attributes with the non-null ones in <code>objserver</code> without doing explicitly, for example :</p>\n<pre><code>private void eraser(Object clientObject, Object serverObject){\n  //set only non null attributes of serverObject to clientObject\n}\n</code></pre>\n"},{"tags":["java","csv","file-io","opencsv","supercsv"],"comments":[{"owner":{"account_id":287484,"reputation":3067,"user_id":587318,"accept_rate":84,"display_name":"Less"},"score":0,"creation_date":1355997002,"post_id":13969254,"comment_id":19271788,"body_markdown":"You are aware of the fact that CSV in general has a text recognition character (in your case double quote). This is probably `CSVWriter`&#39;s default, and you can probably change that.","body":"You are aware of the fact that CSV in general has a text recognition character (in your case double quote). This is probably <code>CSVWriter</code>&#39;s default, and you can probably change that."},{"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"score":2,"creation_date":1355997074,"post_id":13969254,"comment_id":19271838,"body_markdown":"What causes the problem? The generated CSV should be properly opened by any software with these.","body":"What causes the problem? The generated CSV should be properly opened by any software with these."}],"answers":[{"tags":[],"owner":{"account_id":388441,"reputation":2525,"user_id":747392,"accept_rate":86,"display_name":"Shamis Shukoor"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1356054611,"creation_date":1355997435,"answer_id":13969473,"question_id":13969254,"body_markdown":"This worked for me\r\n\r\n    CSVWriter writer = \r\n        new CSVWriter(new FileWriter(csv), &#39;,&#39;, CSVWriter.NO_QUOTE_CHARACTER);\r\n\r\n\r\nSee the [CSVWriter javadoc][1]\r\n\r\n\r\n  [1]: http://opencsv.sourceforge.net/xref/au/com/bytecode/opencsv/CSVWriter.html","title":"Unwanted double quotes in generated CSV file","body":"<p>This worked for me</p>\n\n<pre><code>CSVWriter writer = \n    new CSVWriter(new FileWriter(csv), ',', CSVWriter.NO_QUOTE_CHARACTER);\n</code></pre>\n\n<p>See the <a href=\"http://opencsv.sourceforge.net/xref/au/com/bytecode/opencsv/CSVWriter.html\">CSVWriter javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":1068899,"reputation":9569,"user_id":1068649,"accept_rate":80,"display_name":"James Bassett"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1356053463,"creation_date":1356053059,"answer_id":13983047,"question_id":13969254,"body_markdown":"You should probably clarify what you mean by &#39;unwanted&#39; quotes. \r\n\r\n 1. I don&#39;t want it to quote *everything*, only the fields that contain\r\n    embedded commas, quotes and newlines (quoting everything is unnecessary and\r\n    makes my files bigger), or\r\n    \r\n 2. I don&#39;t want anything quoted, and I understand that my CSV will be invalid if it contains embedded commas, quotes and newlines\r\n\r\nIf it&#39;s the first option, then opencsv doesn&#39;t support this - it either quotes everything or nothing. Take a look at [Super CSV][1] if you want an open source CSV library that only quotes when necessary (and can [quote everything too][2], if required).\r\n\r\nIf it&#39;s the second option, then go with Sheldon&#39;s answer, but just be aware the your CSV will be invalid if it contains embedded commas, quotes and newlines. \r\n\r\nFor example, if I&#39;m reading your CSV file, how am I meant to know that the following is actually just a single record with 2 fields?\r\n\r\n    P Sherman, 42 Wallaby Way,\r\n    Sydney, AUSTRALIA\r\n\r\nWhereas if it was quoted properly that would be obvious, i.e.\r\n\r\n    P Sherman, &quot;42 Wallaby Way,\r\n    Sydney, AUSTRALIA&quot;\r\n\r\n\r\nFYI, here&#39;s the rules relating to quotes from [RFC4180][3] (the MIME type definition for CSV).\r\n\r\n&gt;    **5**  Each field may or may not be enclosed in double quotes (however\r\n&gt;        some programs, such as Microsoft Excel, do not use double quotes\r\n&gt;        at all).  If fields are not enclosed with double quotes, then\r\n&gt;        double quotes may not appear inside the fields.  For example:\r\n&gt; \r\n&gt;        &quot;aaa&quot;,&quot;bbb&quot;,&quot;ccc&quot; CRLF\r\n&gt;        zzz,yyy,xxx\r\n&gt;\r\n&gt;    **6**  Fields containing line breaks (CRLF), double quotes, and commas\r\n&gt;        should be enclosed in double-quotes.  For example:\r\n&gt; \r\n&gt;        &quot;aaa&quot;,&quot;b CRLF\r\n&gt;        bb&quot;,&quot;ccc&quot; CRLF\r\n&gt;        zzz,yyy,xxx\r\n&gt; \r\n&gt;    **7**  If double-quotes are used to enclose fields, then a double-quote\r\n&gt;        appearing inside a field must be escaped by preceding it with\r\n&gt;        another double quote.  For example:\r\n&gt; \r\n&gt;        &quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;\r\n\r\n\r\n  [1]: http://supercsv.sourceforge.net/\r\n  [2]: https://stackoverflow.com/q/10177293/1068649\r\n  [3]: https://www.rfc-editor.org/rfc/rfc4180","title":"Unwanted double quotes in generated CSV file","body":"<p>You should probably clarify what you mean by 'unwanted' quotes.</p>\n<ol>\n<li><p>I don't want it to quote <em>everything</em>, only the fields that contain\nembedded commas, quotes and newlines (quoting everything is unnecessary and\nmakes my files bigger), or</p>\n</li>\n<li><p>I don't want anything quoted, and I understand that my CSV will be invalid if it contains embedded commas, quotes and newlines</p>\n</li>\n</ol>\n<p>If it's the first option, then opencsv doesn't support this - it either quotes everything or nothing. Take a look at <a href=\"http://supercsv.sourceforge.net/\" rel=\"nofollow noreferrer\">Super CSV</a> if you want an open source CSV library that only quotes when necessary (and can <a href=\"https://stackoverflow.com/q/10177293/1068649\">quote everything too</a>, if required).</p>\n<p>If it's the second option, then go with Sheldon's answer, but just be aware the your CSV will be invalid if it contains embedded commas, quotes and newlines.</p>\n<p>For example, if I'm reading your CSV file, how am I meant to know that the following is actually just a single record with 2 fields?</p>\n<pre><code>P Sherman, 42 Wallaby Way,\nSydney, AUSTRALIA\n</code></pre>\n<p>Whereas if it was quoted properly that would be obvious, i.e.</p>\n<pre><code>P Sherman, &quot;42 Wallaby Way,\nSydney, AUSTRALIA&quot;\n</code></pre>\n<p>FYI, here's the rules relating to quotes from <a href=\"https://www.rfc-editor.org/rfc/rfc4180\" rel=\"nofollow noreferrer\">RFC4180</a> (the MIME type definition for CSV).</p>\n<blockquote>\n<p><strong>5</strong>  Each field may or may not be enclosed in double quotes (however\nsome programs, such as Microsoft Excel, do not use double quotes\nat all).  If fields are not enclosed with double quotes, then\ndouble quotes may not appear inside the fields.  For example:</p>\n<pre><code>   &quot;aaa&quot;,&quot;bbb&quot;,&quot;ccc&quot; CRLF\n   zzz,yyy,xxx\n</code></pre>\n<p><strong>6</strong>  Fields containing line breaks (CRLF), double quotes, and commas\nshould be enclosed in double-quotes.  For example:</p>\n<pre><code>   &quot;aaa&quot;,&quot;b CRLF\n   bb&quot;,&quot;ccc&quot; CRLF\n   zzz,yyy,xxx\n</code></pre>\n<p><strong>7</strong>  If double-quotes are used to enclose fields, then a double-quote\nappearing inside a field must be escaped by preceding it with\nanother double quote.  For example:</p>\n<pre><code>   &quot;aaa&quot;,&quot;b&quot;&quot;bb&quot;,&quot;ccc&quot;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1743720,"reputation":1079,"user_id":1594389,"display_name":"Thilina Rubasingha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389079409,"creation_date":1389079409,"answer_id":20966125,"question_id":13969254,"body_markdown":"I also face the same problem with open csv and for fix the issue I use escaped character.\r\n\r\nfor ex:\r\n\r\n    CSVReader csvReader = new CSVReader(new FileReader(fileName), seprator,escaped_character);\r\n\r\nIn here open csv default use double quotes as escape_character(according to my knowledge) \r\n\r\nIn my case I use separator as pipe sign (|)\r\n\r\nA2|G A A|Thilina|9022V|1|2|3|4|&quot;Rubasingha&quot;|&#39;Abc|MATARA&quot;|&#39;No&#39;|2012|1668.88\r\n\r\nIn here **&quot;Rubasingha&quot;** open and close the double quotes and in **&#39;No&#39;** also open and close the single quotes. these two work perfectly in default open csv\r\n\r\nbut when we use **&#39;Abc** - only open single quotes - this also work fine\r\n\r\nbut **MATARA&quot;** OR **&quot;MATARA** - in here we have one double quote - in my case this generate error while reading the CSV using open csv\r\n\r\nfor fix the issue I reference this page (http://cs.swan.ac.uk/~csbob/teaching/java/JavaDemoNetbeans/opencsv-2.3/doc/)\r\n\r\nThere are constructors that cater for supplying your own separator and quote characters. Say you&#39;re using a tab for your separator, you can do something like this:\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;), &#39;\\t&#39;);\r\n                \r\n\r\nAnd if you single quoted your escaped characters rather than double quote them, you can use the three arg constructor:\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;), &#39;\\t&#39;, &#39;\\&#39;&#39;);\r\n            \r\n\r\nYou may also skip the first few lines of the file if you know that the content doesn&#39;t start till later in the file. So, for example, you can skip the first two lines by doing:\r\n\r\n    CSVReader reader = new CSVReader(new FileReader(&quot;yourfile.csv&quot;), &#39;\\t&#39;, &#39;\\&#39;&#39;, 2);\r\n            \r\nso I change the my default escape character to (^) sign without using double quotes as escape character.\r\n\r\n    CSVReader csvReader = new CSVReader(new FileReader(fileName), &#39;|&#39;,&#39;^&#39;);\r\n\r\nThis is the way I fix the problem. Thanks\r\n\r\n","title":"Unwanted double quotes in generated CSV file","body":"<p>I also face the same problem with open csv and for fix the issue I use escaped character.</p>\n\n<p>for ex:</p>\n\n<pre><code>CSVReader csvReader = new CSVReader(new FileReader(fileName), seprator,escaped_character);\n</code></pre>\n\n<p>In here open csv default use double quotes as escape_character(according to my knowledge) </p>\n\n<p>In my case I use separator as pipe sign (|)</p>\n\n<p>A2|G A A|Thilina|9022V|1|2|3|4|\"Rubasingha\"|'Abc|MATARA\"|'No'|2012|1668.88</p>\n\n<p>In here <strong>\"Rubasingha\"</strong> open and close the double quotes and in <strong>'No'</strong> also open and close the single quotes. these two work perfectly in default open csv</p>\n\n<p>but when we use <strong>'Abc</strong> - only open single quotes - this also work fine</p>\n\n<p>but <strong>MATARA\"</strong> OR <strong>\"MATARA</strong> - in here we have one double quote - in my case this generate error while reading the CSV using open csv</p>\n\n<p>for fix the issue I reference this page (<a href=\"http://cs.swan.ac.uk/~csbob/teaching/java/JavaDemoNetbeans/opencsv-2.3/doc/\" rel=\"nofollow\">http://cs.swan.ac.uk/~csbob/teaching/java/JavaDemoNetbeans/opencsv-2.3/doc/</a>)</p>\n\n<p>There are constructors that cater for supplying your own separator and quote characters. Say you're using a tab for your separator, you can do something like this:</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"), '\\t');\n</code></pre>\n\n<p>And if you single quoted your escaped characters rather than double quote them, you can use the three arg constructor:</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"), '\\t', '\\'');\n</code></pre>\n\n<p>You may also skip the first few lines of the file if you know that the content doesn't start till later in the file. So, for example, you can skip the first two lines by doing:</p>\n\n<pre><code>CSVReader reader = new CSVReader(new FileReader(\"yourfile.csv\"), '\\t', '\\'', 2);\n</code></pre>\n\n<p>so I change the my default escape character to (^) sign without using double quotes as escape character.</p>\n\n<pre><code>CSVReader csvReader = new CSVReader(new FileReader(fileName), '|','^');\n</code></pre>\n\n<p>This is the way I fix the problem. Thanks</p>\n"},{"tags":[],"owner":{"account_id":965965,"reputation":391,"user_id":989383,"display_name":"user989383"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457338922,"creation_date":1457338922,"answer_id":35839122,"question_id":13969254,"body_markdown":"private void writeFile(String fileAbsolutePath , List&lt;String&gt;csvLines) throws IOException{\r\n\r\n        final char csvDelimeter = &#39;,&#39;;\r\n        CSVWriter csvWriter = new CSVWriter(new FileWriter(new File(fileAbsolutePath)),csvDelimeter,CSVWriter\r\n                                                                                                   .NO_QUOTE_CHARACTER);\r\n        CSVParser parser = new CSVParser();\r\n\r\n        for(String csvLine  : csvLines){\r\n            String[] csvVals = parser.parseLine(csvLine);\r\n            csvWriter.writeNext(csvVals);\r\n        }\r\n        csvWriter.flush();\r\n    }\r\n\r\n\r\nCall : writeFile(fileAbsolutePath,csvLinesList);\r\n\r\nWorking example for Shamis&#39;s answer ,It works fine for me.","title":"Unwanted double quotes in generated CSV file","body":"<p>private void writeFile(String fileAbsolutePath , ListcsvLines) throws IOException{</p>\n\n<pre><code>    final char csvDelimeter = ',';\n    CSVWriter csvWriter = new CSVWriter(new FileWriter(new File(fileAbsolutePath)),csvDelimeter,CSVWriter\n                                                                                               .NO_QUOTE_CHARACTER);\n    CSVParser parser = new CSVParser();\n\n    for(String csvLine  : csvLines){\n        String[] csvVals = parser.parseLine(csvLine);\n        csvWriter.writeNext(csvVals);\n    }\n    csvWriter.flush();\n}\n</code></pre>\n\n<p>Call : writeFile(fileAbsolutePath,csvLinesList);</p>\n\n<p>Working example for Shamis's answer ,It works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":5336933,"reputation":409,"user_id":4255576,"display_name":"dginelli"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1523146316,"creation_date":1523146316,"answer_id":49713198,"question_id":13969254,"body_markdown":"If you don&#39;t want the quotes in the values of the generated CSV file, you have to create the CSVWriter object in this way:\r\n\r\n    CSVWriter writer = new CSVWriter(new FileWriter(filePath),\r\n        CSVWriter.DEFAULT_SEPARATOR,\r\n        CSVWriter.NO_QUOTE_CHARACTER,\r\n        CSVWriter.DEFAULT_ESCAPE_CHARACTER,\r\n        CSVWriter.RFC4180_LINE_END);\r\n\r\nThe key is `CSVWriter.NO_QUOTE_CHARACTER`. You can customize the values of the other constructor parameters.","title":"Unwanted double quotes in generated CSV file","body":"<p>If you don't want the quotes in the values of the generated CSV file, you have to create the CSVWriter object in this way:</p>\n\n<pre><code>CSVWriter writer = new CSVWriter(new FileWriter(filePath),\n    CSVWriter.DEFAULT_SEPARATOR,\n    CSVWriter.NO_QUOTE_CHARACTER,\n    CSVWriter.DEFAULT_ESCAPE_CHARACTER,\n    CSVWriter.RFC4180_LINE_END);\n</code></pre>\n\n<p>The key is <code>CSVWriter.NO_QUOTE_CHARACTER</code>. You can customize the values of the other constructor parameters.</p>\n"},{"tags":[],"owner":{"account_id":14294526,"reputation":1,"user_id":10325578,"display_name":"Vineshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536237704,"creation_date":1536237704,"answer_id":52204381,"question_id":13969254,"body_markdown":"I had a situation whereby I was facing data being displayed in my .csv file with three quotes on either side. This was due to my data having quotes in excel. The second I created a .csv file, I would open to see more quotations that was required. After much searching on the net I have found some code and tweaked to suit me as follows: - \r\n\r\n     Public Sub OutputQuotedCSV()\r\n     Const QSTR As String = &quot;&quot;\r\n     Dim myRecord As Range\r\n     Dim myField As Range\r\n     Dim nFileNum As Long\r\n     Dim sOut As String\r\n        \r\n       nFileNum = FreeFile\r\n       Open &quot;TheNameOfYourFile.txt&quot; For Output As #nFileNum\r\n       For Each myRecord In Range(&quot;A1:A&quot; &amp; _\r\n              Range(&quot;A&quot; &amp; Rows.Count).End(xlUp).Row)\r\n          With myRecord\r\n             For Each myField In Range(.Cells(1), _\r\n                 Cells(.Row, 256).End(xlToLeft))\r\n               &#39;I didn&#39;t want my Header Row touched but wanted it added into the csv file\r\n               &#39;There&#39;s probably an easier way but this worked perfectly for me\r\n                If myField.Text = &quot;HEADER 1&quot; Then \r\n                            sOut = sOut &amp; QSTR &amp; _\r\n                            Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; &quot;  &quot;\r\n                        ElseIf myField.Text = &quot;HEADER 2&quot; Then\r\n                            sOut = sOut &amp; QSTR &amp; _\r\n                            Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; &quot;  &quot;\r\n                        ElseIf myField.Text = &quot;HEADER 3&quot; Then\r\n                            sOut = sOut &amp; QSTR &amp; _\r\n                            Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; &quot;  &quot;\r\n                        ElseIf myField.Text = &quot;HEADER 4&quot; Then\r\n                            sOut = sOut &amp; QSTR &amp; _\r\n                            Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; &quot;  &quot;\r\n                        ElseIf myField.Text = &quot;HEADER 5&quot; Then\r\n                            sOut = sOut &amp; QSTR &amp; _\r\n                            Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; &quot;  &quot;\r\n                        ElseIf myField.Text = &quot;HEADER 6&quot; Then\r\n                            sOut = sOut &amp; QSTR &amp; _\r\n                            Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; &quot;  &quot;\r\n                        Else\r\n                   &#39;I didn&#39;t want my first column to start with &quot;,&quot; so I added the code below\r\n                            If myField.Cells.Column = 1 Then\r\n                                sOut = sOut &amp; QSTR &amp; _\r\n                                Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; QSTR\r\n                            Else\r\n                                sOut = sOut &amp; &quot;,&quot; &amp; QSTR &amp; _\r\n                                Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; QSTR\r\n                            End If\r\n                        End If\r\n                Next myField\r\n                Print #nFileNum, Mid(sOut, 1)\r\n                sOut = Empty\r\n            End With\r\n        Next myRecord\r\n        Close #nFileNum\r\n    End Sub\r\n\r\n\r\nThis code will strip away the extra quotations and leave the data with just single quotes at the beginning and end of the data. I hope this helps someone and if I have done something wrong in my format or not displayed the data correctly, forgive me. I am just trying to help others. Bear in mind, this isn&#39;t my code at all. I just got it working for me and I suspect others are trying to get what I achieved here.\r\nThe original code can be found here http://www.mcgimpsey.com/excel/textfiles.html#csvwithquotes","title":"Unwanted double quotes in generated CSV file","body":"<p>I had a situation whereby I was facing data being displayed in my .csv file with three quotes on either side. This was due to my data having quotes in excel. The second I created a .csv file, I would open to see more quotations that was required. After much searching on the net I have found some code and tweaked to suit me as follows: - </p>\n\n<pre><code> Public Sub OutputQuotedCSV()\n Const QSTR As String = \"\"\n Dim myRecord As Range\n Dim myField As Range\n Dim nFileNum As Long\n Dim sOut As String\n\n   nFileNum = FreeFile\n   Open \"TheNameOfYourFile.txt\" For Output As #nFileNum\n   For Each myRecord In Range(\"A1:A\" &amp; _\n          Range(\"A\" &amp; Rows.Count).End(xlUp).Row)\n      With myRecord\n         For Each myField In Range(.Cells(1), _\n             Cells(.Row, 256).End(xlToLeft))\n           'I didn't want my Header Row touched but wanted it added into the csv file\n           'There's probably an easier way but this worked perfectly for me\n            If myField.Text = \"HEADER 1\" Then \n                        sOut = sOut &amp; QSTR &amp; _\n                        Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; \"  \"\n                    ElseIf myField.Text = \"HEADER 2\" Then\n                        sOut = sOut &amp; QSTR &amp; _\n                        Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; \"  \"\n                    ElseIf myField.Text = \"HEADER 3\" Then\n                        sOut = sOut &amp; QSTR &amp; _\n                        Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; \"  \"\n                    ElseIf myField.Text = \"HEADER 4\" Then\n                        sOut = sOut &amp; QSTR &amp; _\n                        Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; \"  \"\n                    ElseIf myField.Text = \"HEADER 5\" Then\n                        sOut = sOut &amp; QSTR &amp; _\n                        Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; \"  \"\n                    ElseIf myField.Text = \"HEADER 6\" Then\n                        sOut = sOut &amp; QSTR &amp; _\n                        Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; \"  \"\n                    Else\n               'I didn't want my first column to start with \",\" so I added the code below\n                        If myField.Cells.Column = 1 Then\n                            sOut = sOut &amp; QSTR &amp; _\n                            Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; QSTR\n                        Else\n                            sOut = sOut &amp; \",\" &amp; QSTR &amp; _\n                            Replace(myField.Text, QSTR, QSTR &amp; QSTR) &amp; QSTR\n                        End If\n                    End If\n            Next myField\n            Print #nFileNum, Mid(sOut, 1)\n            sOut = Empty\n        End With\n    Next myRecord\n    Close #nFileNum\nEnd Sub\n</code></pre>\n\n<p>This code will strip away the extra quotations and leave the data with just single quotes at the beginning and end of the data. I hope this helps someone and if I have done something wrong in my format or not displayed the data correctly, forgive me. I am just trying to help others. Bear in mind, this isn't my code at all. I just got it working for me and I suspect others are trying to get what I achieved here.\nThe original code can be found here <a href=\"http://www.mcgimpsey.com/excel/textfiles.html#csvwithquotes\" rel=\"nofollow noreferrer\">http://www.mcgimpsey.com/excel/textfiles.html#csvwithquotes</a></p>\n"},{"tags":[],"owner":{"account_id":20045497,"reputation":1,"user_id":14695262,"display_name":"ajester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606172142,"creation_date":1606172142,"answer_id":64977806,"question_id":13969254,"body_markdown":"I was having this same issue and still found some issues once I implemented the solution for version 5.3 of the open csv library. \r\n\r\nIt turns the data I needed to turn into a csv file contained the default escape character. So for the implementation to be done correctly I needed to suppress the escape character. So if your still having issues when opening up the file in Libre office or in Microsoft excel because of escape characters appearing use this solution: \r\n\r\n    new CSVWriter(new FileWriter(path),\r\n                CSVWriter.DEFAULT_SEPARATOR,\r\n                CSVWriter.NO_QUOTE_CHARACTER,\r\n                CSVWriter.NO_ESCAPE_CHARACTER,\r\n                CSVWriter.DEFAULT_LINE_END    \r\n            );\r\n\r\n  ","title":"Unwanted double quotes in generated CSV file","body":"<p>I was having this same issue and still found some issues once I implemented the solution for version 5.3 of the open csv library.</p>\n<p>It turns the data I needed to turn into a csv file contained the default escape character. So for the implementation to be done correctly I needed to suppress the escape character. So if your still having issues when opening up the file in Libre office or in Microsoft excel because of escape characters appearing use this solution:</p>\n<pre><code>new CSVWriter(new FileWriter(path),\n            CSVWriter.DEFAULT_SEPARATOR,\n            CSVWriter.NO_QUOTE_CHARACTER,\n            CSVWriter.NO_ESCAPE_CHARACTER,\n            CSVWriter.DEFAULT_LINE_END    \n        );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21778262,"reputation":35,"user_id":16080312,"display_name":"Berk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622538119,"creation_date":1622538119,"answer_id":67785831,"question_id":13969254,"body_markdown":" on opencsv with version 5.4 just that fixed my same problem:\r\n\r\n    CSVWriter writer = new CSVWriter(new FileWriter(file), &#39;,&#39;,\r\n                                                 CSVWriter.NO_QUOTE_CHARACTER,\r\n                                                 CSVWriter.DEFAULT_ESCAPE_CHARACTER,\r\n                                                 CSVWriter.DEFAULT_LINE_END);","title":"Unwanted double quotes in generated CSV file","body":"<p>on opencsv with version 5.4 just that fixed my same problem:</p>\n<pre><code>CSVWriter writer = new CSVWriter(new FileWriter(file), ',',\n                                             CSVWriter.NO_QUOTE_CHARACTER,\n                                             CSVWriter.DEFAULT_ESCAPE_CHARACTER,\n                                             CSVWriter.DEFAULT_LINE_END);\n</code></pre>\n"}],"owner":{"account_id":1163445,"reputation":1367,"user_id":1142496,"accept_rate":78,"display_name":"Edward"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61811,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":13969473,"answer_count":8,"score":38,"last_activity_date":1651850749,"creation_date":1355996790,"question_id":13969254,"body_markdown":"I have created a CSV file using the Java code below:\r\n\r\n    String csv = rs.getString(&quot;UPLOAD_FOLDER_PATH&quot;)+&quot;.csv&quot;;\r\n    CSVWriter writer = new CSVWriter(new FileWriter(csv));\r\n    String [] filevalues = new String[filevaluesarray.size()];\r\n            \t   \r\n    filevalues=filevaluesarray.toArray(filevalues);\r\n            \r\n    writer.writeNext(filevalues);\r\n            \t   \r\n    writer.close();\r\n\r\n\r\nI am getting the CSV file, but the content of the file has unwanted double quotes.\r\n\r\n&gt; Eg. &quot;ABC&quot;,&quot;123&quot;,&quot;KDNJ&quot;\r\n\r\nI don&#39;t get from where these double quotes are added.\r\n","title":"Unwanted double quotes in generated CSV file","body":"<p>I have created a CSV file using the Java code below:</p>\n\n<pre><code>String csv = rs.getString(\"UPLOAD_FOLDER_PATH\")+\".csv\";\nCSVWriter writer = new CSVWriter(new FileWriter(csv));\nString [] filevalues = new String[filevaluesarray.size()];\n\nfilevalues=filevaluesarray.toArray(filevalues);\n\nwriter.writeNext(filevalues);\n\nwriter.close();\n</code></pre>\n\n<p>I am getting the CSV file, but the content of the file has unwanted double quotes.</p>\n\n<blockquote>\n  <p>Eg. \"ABC\",\"123\",\"KDNJ\"</p>\n</blockquote>\n\n<p>I don't get from where these double quotes are added.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1651850193,"post_id":72143740,"comment_id":127469742,"body_markdown":"Your question isn&#39;t particularly clear. What if there&#39;s a `{0=5}` in there, should sort about `{0=0, 1=10}`? Why should, in your last snippet, the `2` key sort above the `3` key, given that their values are identical? In general, sorting maps on values is not generally possible in the first place, just to complicate matters even more. (Combine a TreeSet and a map if you need both lookups and that kind of sorting).","body":"Your question isn&#39;t particularly clear. What if there&#39;s a <code>{0=5}</code> in there, should sort about <code>{0=0, 1=10}</code>? Why should, in your last snippet, the <code>2</code> key sort above the <code>3</code> key, given that their values are identical? In general, sorting maps on values is not generally possible in the first place, just to complicate matters even more. (Combine a TreeSet and a map if you need both lookups and that kind of sorting)."},{"owner":{"account_id":15479575,"reputation":29,"user_id":11167286,"display_name":"Maxim"},"score":0,"creation_date":1651850538,"post_id":72143740,"comment_id":127469888,"body_markdown":"it does not matter what is inside the Map, but its size, you need to sort by its size, and if there is a map with the same size, then you need to sort by the key.","body":"it does not matter what is inside the Map, but its size, you need to sort by its size, and if there is a map with the same size, then you need to sort by the key."}],"answers":[{"tags":[],"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651850662,"creation_date":1651850662,"answer_id":72143908,"question_id":72143740,"body_markdown":"You can use Streams to do this:\r\n```java\r\nvar sorted = map.entrySet().stream().sorted(Comparator.comparingInt(it -&gt; it.getValue().size())).toList();\r\n```\r\nBasicly you just need a custom `Comparator` which will get the value of a `Map.Entry` and compare the `size()` of that value which in your case is another `Map`.\r\n\r\nHere the full application:\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Application {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        Random random = new Random();\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            Map&lt;Integer, Integer&gt; mapA = new HashMap&lt;&gt;();\r\n            for (int j = 0; j &lt; random.nextInt(10); j++) {\r\n                mapA.put(j, j);\r\n            }\r\n            map.put(i, mapA);\r\n        }\r\n\r\n        for (Map.Entry&lt;Integer, Map&lt;Integer, Integer&gt;&gt; entry:\r\n                map.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());\r\n        }\r\n        var sorted = map.entrySet().stream().sorted(Comparator.comparingInt(it -&gt; it.getValue().size())).toList();\r\n        System.out.println(sorted);\r\n    }\r\n\r\n}\r\n```\r\nExpected output:\r\n```\r\n0: {0=0, 1=1}\r\n1: {0=0, 1=1, 2=2, 3=3, 4=4}\r\n2: {}\r\n3: {0=0}\r\n4: {0=0, 1=1, 2=2, 3=3, 4=4, 5=5, 6=6, 7=7}\r\n[2={}, 3={0=0}, 0={0=0, 1=1}, 1={0=0, 1=1, 2=2, 3=3, 4=4}, 4={0=0, 1=1, 2=2, 3=3, 4=4, 5=5, 6=6, 7=7}]\r\n```\r\n\r\n&gt; Obviously the exact output depends on the randomized input. ","title":"Sort a Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt; by value length","body":"<p>You can use Streams to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var sorted = map.entrySet().stream().sorted(Comparator.comparingInt(it -&gt; it.getValue().size())).toList();\n</code></pre>\n<p>Basicly you just need a custom <code>Comparator</code> which will get the value of a <code>Map.Entry</code> and compare the <code>size()</code> of that value which in your case is another <code>Map</code>.</p>\n<p>Here the full application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Application {\n\n    public static void main(String[] args) {\n        Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        Random random = new Random();\n\n        for (int i = 0; i &lt; 5; i++) {\n            Map&lt;Integer, Integer&gt; mapA = new HashMap&lt;&gt;();\n            for (int j = 0; j &lt; random.nextInt(10); j++) {\n                mapA.put(j, j);\n            }\n            map.put(i, mapA);\n        }\n\n        for (Map.Entry&lt;Integer, Map&lt;Integer, Integer&gt;&gt; entry:\n                map.entrySet()) {\n            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());\n        }\n        var sorted = map.entrySet().stream().sorted(Comparator.comparingInt(it -&gt; it.getValue().size())).toList();\n        System.out.println(sorted);\n    }\n\n}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>0: {0=0, 1=1}\n1: {0=0, 1=1, 2=2, 3=3, 4=4}\n2: {}\n3: {0=0}\n4: {0=0, 1=1, 2=2, 3=3, 4=4, 5=5, 6=6, 7=7}\n[2={}, 3={0=0}, 0={0=0, 1=1}, 1={0=0, 1=1, 2=2, 3=3, 4=4}, 4={0=0, 1=1, 2=2, 3=3, 4=4, 5=5, 6=6, 7=7}]\n</code></pre>\n<blockquote>\n<p>Obviously the exact output depends on the randomized input.</p>\n</blockquote>\n"}],"owner":{"account_id":15479575,"reputation":29,"user_id":11167286,"display_name":"Maxim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72143908,"answer_count":1,"score":1,"last_activity_date":1651850662,"creation_date":1651849956,"question_id":72143740,"body_markdown":"I want to sort a Map by value length.\r\nFor example, I have this code:\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        Random random = new Random();\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            Map&lt;Integer, Integer&gt; mapA = new HashMap&lt;&gt;();\r\n            for (int j = 0; j &lt; random.nextInt(10); j++) {\r\n                mapA.put(j, j);\r\n            }\r\n            map.put(i, mapA);\r\n        }\r\n        \r\n        for (Map.Entry&lt;Integer, Map&lt;Integer, Integer&gt;&gt; entry:\r\n             map.entrySet()) {\r\n            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());\r\n        }\r\n    }\r\n\r\nand the result is:\r\n```\r\n0: {0=0, 1=1, 2=2, 3=3, 4=4, 5=5}\r\n1: {}\r\n2: {0=0, 1=1, 2=2, 3=3}\r\n3: {0=0, 1=1, 2=2, 3=3}\r\n4: {0=0, 1=1, 2=2}\r\n```\r\nso what I want to do is to sort this Map by value length, so it returns:\r\n```\r\n1: {}\r\n4: {0=0, 1=1, 2=2}\r\n2: {0=0, 1=1, 2=2, 3=3}\r\n3: {0=0, 1=1, 2=2, 3=3}\r\n0: {0=0, 1=1, 2=2, 3=3, 4=4, 5=5}\r\n```","title":"Sort a Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt; by value length","body":"<p>I want to sort a Map by value length.\nFor example, I have this code:</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\n    Random random = new Random();\n\n    for (int i = 0; i &lt; 5; i++) {\n        Map&lt;Integer, Integer&gt; mapA = new HashMap&lt;&gt;();\n        for (int j = 0; j &lt; random.nextInt(10); j++) {\n            mapA.put(j, j);\n        }\n        map.put(i, mapA);\n    }\n    \n    for (Map.Entry&lt;Integer, Map&lt;Integer, Integer&gt;&gt; entry:\n         map.entrySet()) {\n        System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());\n    }\n}\n</code></pre>\n<p>and the result is:</p>\n<pre><code>0: {0=0, 1=1, 2=2, 3=3, 4=4, 5=5}\n1: {}\n2: {0=0, 1=1, 2=2, 3=3}\n3: {0=0, 1=1, 2=2, 3=3}\n4: {0=0, 1=1, 2=2}\n</code></pre>\n<p>so what I want to do is to sort this Map by value length, so it returns:</p>\n<pre><code>1: {}\n4: {0=0, 1=1, 2=2}\n2: {0=0, 1=1, 2=2, 3=3}\n3: {0=0, 1=1, 2=2, 3=3}\n0: {0=0, 1=1, 2=2, 3=3, 4=4, 5=5}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1651859146,"post_id":72143876,"comment_id":127473015,"body_markdown":"`I am not sure where to add ...`, post what you have so far. You must show some effort, SO won&#39;t code for you. Tip: probably you should define a utility method like `trace(String line, Integer x, Integer y, String instruction, int indent)` ...","body":"<code>I am not sure where to add ...</code>, post what you have so far. You must show some effort, SO won&#39;t code for you. Tip: probably you should define a utility method like <code>trace(String line, Integer x, Integer y, String instruction, int indent)</code> ..."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651866543,"post_id":72143876,"comment_id":127475145,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25107035,"reputation":1,"user_id":18957106,"display_name":"tom_t"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651850649,"creation_date":1651850469,"question_id":72143876,"body_markdown":"I need to write a trace table which is supposed to look like this picture \r\n\r\n[![Trace Table][1]][1]\r\n\r\nTo create the trace table I have to modify the following code with System.out.println commands, but I am not sure where to add them and how to get all 4 different columns.\r\n\r\nI&#39;d be super thankful for any help!\r\n\r\n\r\n``` \r\n// ggT (x , y )                  // K1\r\nwhile ( y != 0 ) {               // K2\r\n   if ( x &gt; y )                  // K3\r\n     x = x - y ;                 // K4\r\n   else\r\n     y = y - x ;                 // K5\r\n} \r\nSystem.out.println(x);           // K6\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uhxm5.jpg","title":"Creating a Trace Table","body":"<p>I need to write a trace table which is supposed to look like this picture</p>\n<p><a href=\"https://i.stack.imgur.com/uhxm5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uhxm5.jpg\" alt=\"Trace Table\" /></a></p>\n<p>To create the trace table I have to modify the following code with System.out.println commands, but I am not sure where to add them and how to get all 4 different columns.</p>\n<p>I'd be super thankful for any help!</p>\n<pre><code>// ggT (x , y )                  // K1\nwhile ( y != 0 ) {               // K2\n   if ( x &gt; y )                  // K3\n     x = x - y ;                 // K4\n   else\n     y = y - x ;                 // K5\n} \nSystem.out.println(x);           // K6\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":3,"creation_date":1651784052,"post_id":72133469,"comment_id":127452355,"body_markdown":"It&#39;s unclear what you mean by &quot;aliased&quot;. You are using a the same list everywhere (the list called `zeros`). Are you sure you don&#39;t want a unique list for every key in your map?","body":"It&#39;s unclear what you mean by &quot;aliased&quot;. You are using a the same list everywhere (the list called <code>zeros</code>). Are you sure you don&#39;t want a unique list for every key in your map?"},{"owner":{"account_id":25208724,"reputation":5,"user_id":19046685,"display_name":"MThiaweng"},"score":0,"creation_date":1651784588,"post_id":72133469,"comment_id":127452504,"body_markdown":"to Christopher Schneider: Let&#39;s say I have a new key at time t= t&#39;, I want its list to have t&#39;-1 zeros and &quot;score&quot; at index t. But the way I did it, without noticing every key was carrying the same list.","body":"to Christopher Schneider: Let&#39;s say I have a new key at time t= t&#39;, I want its list to have t&#39;-1 zeros and &quot;score&quot; at index t. But the way I did it, without noticing every key was carrying the same list."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1651785080,"post_id":72133469,"comment_id":127452638,"body_markdown":"I ran your code and couldn&#39;t reproduce the problem. See https://ideone.com/Gc8Xg6 - your code runs successfully to the end and doesn&#39;t throw this exception.","body":"I ran your code and couldn&#39;t reproduce the problem. See <a href=\"https://ideone.com/Gc8Xg6\" rel=\"nofollow noreferrer\">ideone.com/Gc8Xg6</a> - your code runs successfully to the end and doesn&#39;t throw this exception."},{"owner":{"account_id":25208724,"reputation":5,"user_id":19046685,"display_name":"MThiaweng"},"score":0,"creation_date":1651785434,"post_id":72133469,"comment_id":127452729,"body_markdown":"3\nmike 3\nmike 3\nException in thread &quot;main&quot; java.util.ConcurrentModificationException\n\tat java.base/java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1415)\n\tat java.base/java.util.ArrayList$SubList.get(ArrayList.java:1150)\n\tat div2.A.main(A.java:27)","body":"3 mike 3 mike 3 Exception in thread &quot;main&quot; java.util.ConcurrentModificationException \tat java.base/java.util.ArrayList$SubList.checkForComodification&zwnj;&#8203;(ArrayList.java:1415&zwnj;&#8203;) \tat java.base/java.util.ArrayList$SubList.get(ArrayList.java:115&zwnj;&#8203;0) \tat div2.A.main(A.java:27)"},{"owner":{"account_id":25208724,"reputation":5,"user_id":19046685,"display_name":"MThiaweng"},"score":0,"creation_date":1651785547,"post_id":72133469,"comment_id":127452765,"body_markdown":"I don&#39;t know how to format my comment here but the first 3 corresponds to number of input lines (denoted as T). &quot;mike 3&quot; is an input line repeated two times. the first time runs fine but the second one fails","body":"I don&#39;t know how to format my comment here but the first 3 corresponds to number of input lines (denoted as T). &quot;mike 3&quot; is an input line repeated two times. the first time runs fine but the second one fails"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1651787330,"post_id":72133469,"comment_id":127453189,"body_markdown":"Instead of adding relevant information as a comment, you can [edit] your question and add it (the full stack trace) there - where you can format it for readability. Also, you can clarify which specific line of your code is throwing the exception. Could that be line 27 from `A.java`?","body":"Instead of adding relevant information as a comment, you can <a href=\"https://stackoverflow.com/posts/72133469/edit\">edit</a> your question and add it (the full stack trace) there - where you can format it for readability. Also, you can clarify which specific line of your code is throwing the exception. Could that be line 27 from <code>A.java</code>?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1651787425,"post_id":72133469,"comment_id":127453220,"body_markdown":"Show a sample set of the data you are trying to read. Show an MCVE of reading that data and its output. Show the output you expect.","body":"Show a sample set of the data you are trying to read. Show an MCVE of reading that data and its output. Show the output you expect."},{"owner":{"account_id":25208724,"reputation":5,"user_id":19046685,"display_name":"MThiaweng"},"score":0,"creation_date":1651789065,"post_id":72133469,"comment_id":127453584,"body_markdown":"Sedrick: I had to google MCVE(loooll; thanks for making me a bit less ignorant); To begin with you read a line which has a single number corresponding to a number of examples (which is referred to as T), and the T subsequent lines are a name followed by a score.","body":"Sedrick: I had to google MCVE(loooll; thanks for making me a bit less ignorant); To begin with you read a line which has a single number corresponding to a number of examples (which is referred to as T), and the T subsequent lines are a name followed by a score."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651850204,"creation_date":1651850204,"answer_id":72143804,"question_id":72133469,"body_markdown":"The problem is a misconception around this line:\r\n\r\n        scores.put(key, zeros.subList(0, t+1)); //Here I fix the aliasing bug\r\n\r\nYou&#39;re not &quot;fixing the aliasing bug&quot;. The method `subList` does not return a new list. As the [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#subList(int,int)) says, &quot;The returned list is backed by this list, so non-structural changes in the returned list are reflected in this list, and vice-versa.&quot;\r\n\r\nIt then says: &quot;The semantics of the list returned by this method become undefined if the backing list (i.e., this list) is structurally modified in any way other than via the returned list.&quot;\r\n\r\nYou&#39;re structurally modifying the list, since you add an element (`zeros.add(0)`) to the original list after creating the sublist.\r\n\r\nYou should create a new list instead:\r\n\r\n        scores.put(key, new ArrayList&lt;&gt;(zeros.subList(0, t+1)));\r\n\r\n","title":"ConcurrentModificationException with map of lists","body":"<p>The problem is a misconception around this line:</p>\n<pre><code>    scores.put(key, zeros.subList(0, t+1)); //Here I fix the aliasing bug\n</code></pre>\n<p>You're not &quot;fixing the aliasing bug&quot;. The method <code>subList</code> does not return a new list. As the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#subList(int,int)\" rel=\"nofollow noreferrer\">documentation</a> says, &quot;The returned list is backed by this list, so non-structural changes in the returned list are reflected in this list, and vice-versa.&quot;</p>\n<p>It then says: &quot;The semantics of the list returned by this method become undefined if the backing list (i.e., this list) is structurally modified in any way other than via the returned list.&quot;</p>\n<p>You're structurally modifying the list, since you add an element (<code>zeros.add(0)</code>) to the original list after creating the sublist.</p>\n<p>You should create a new list instead:</p>\n<pre><code>    scores.put(key, new ArrayList&lt;&gt;(zeros.subList(0, t+1)));\n</code></pre>\n"}],"owner":{"account_id":25208724,"reputation":5,"user_id":19046685,"display_name":"MThiaweng"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72143804,"answer_count":1,"score":0,"last_activity_date":1651850204,"creation_date":1651783603,"question_id":72133469,"body_markdown":"~~~{.java}\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        Scanner sc=new Scanner(br);\r\n        int T=Integer.parseInt(sc.nextLine());\r\n        Map&lt;String, List&lt;Integer&gt;&gt; scores=new HashMap&lt;&gt;(); \r\n        List&lt;Integer&gt; zeros= new ArrayList&lt;&gt;();\r\n        for (int t=0; t&lt;T; t++) {\r\n            //Begin solving here\r\n            String key=sc.next();\r\n            int score = Integer.parseInt(sc.nextLine().trim());\r\n            zeros.add(0);\r\n            if (scores.containsKey(key)) {\r\n                int curScore = scores.get(key).get(t-1);\r\n                scores.get(key).add(curScore + score);\r\n            } else {\r\n                scores.put(key, zeros);\r\n                scores.get(key).set(t, score);\r\n            }\r\n~~~\r\n\r\nThe code above is buggy in that it produces the wrong result; the &quot;zeros&quot; list is aliased everywhere (I think; I&#39;m learning Java)\r\n\r\n           \r\n            if (scores.containsKey(key)) {\r\n                int curScore = scores.get(key).get(t-1); //This line throws the exception; line 27 on my editor\r\n                scores.get(key).add(curScore + score);\r\n            } else {\r\n                scores.put(key, zeros.subList(0, t+1)); //Here I fix the aliasing bug\r\n                scores.get(key).set(t, score);\r\n            }\r\n\r\nTest input\r\n\r\n~~~{.txt}\r\n2\r\nmike 5\r\nmike 2\r\n~~~\r\n\r\nException thrown\r\n\r\n~~~{.txt}\r\n\r\nException in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n\tat java.base/java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1415)\r\n\tat java.base/java.util.ArrayList$SubList.get(ArrayList.java:1150)\r\n\tat div2.A.main(A.java:27)\r\n~~~","title":"ConcurrentModificationException with map of lists","body":"<pre><code>    public static void main(String[] args) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        Scanner sc=new Scanner(br);\n        int T=Integer.parseInt(sc.nextLine());\n        Map&lt;String, List&lt;Integer&gt;&gt; scores=new HashMap&lt;&gt;(); \n        List&lt;Integer&gt; zeros= new ArrayList&lt;&gt;();\n        for (int t=0; t&lt;T; t++) {\n            //Begin solving here\n            String key=sc.next();\n            int score = Integer.parseInt(sc.nextLine().trim());\n            zeros.add(0);\n            if (scores.containsKey(key)) {\n                int curScore = scores.get(key).get(t-1);\n                scores.get(key).add(curScore + score);\n            } else {\n                scores.put(key, zeros);\n                scores.get(key).set(t, score);\n            }\n</code></pre>\n<p>The code above is buggy in that it produces the wrong result; the &quot;zeros&quot; list is aliased everywhere (I think; I'm learning Java)</p>\n<pre><code>        if (scores.containsKey(key)) {\n            int curScore = scores.get(key).get(t-1); //This line throws the exception; line 27 on my editor\n            scores.get(key).add(curScore + score);\n        } else {\n            scores.put(key, zeros.subList(0, t+1)); //Here I fix the aliasing bug\n            scores.get(key).set(t, score);\n        }\n</code></pre>\n<p>Test input</p>\n<pre><code>2\nmike 5\nmike 2\n</code></pre>\n<p>Exception thrown</p>\n<pre><code>\nException in thread &quot;main&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1415)\n    at java.base/java.util.ArrayList$SubList.get(ArrayList.java:1150)\n    at div2.A.main(A.java:27)\n</code></pre>\n"},{"tags":["java","spring","logging","slf4j","lombok"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651849482,"creation_date":1651849482,"answer_id":72143651,"question_id":72143559,"body_markdown":"That&#39;s normal - what you&#39;re looking at (specifically, the `Main.BClass(amount=12)` part in your log) is the output of the `toString()` method of `BClass`. The `@Data` annotation is making a toString implementation for you. However, lombok intentionally does not include superclass information normally. You should be seeing a warning on your `@Data` annotation that explains this. One way to solve that problem is to add `@ToString(callSuper = true)` next to your `@Data` annotation.\r\n\r\nThis isn&#39;t about SLF4J or any logging framework - it&#39;s about what is and isn&#39;t in the generated `toString()` implementation.\r\n","title":"Slf4j logger log fields from parent class","body":"<p>That's normal - what you're looking at (specifically, the <code>Main.BClass(amount=12)</code> part in your log) is the output of the <code>toString()</code> method of <code>BClass</code>. The <code>@Data</code> annotation is making a toString implementation for you. However, lombok intentionally does not include superclass information normally. You should be seeing a warning on your <code>@Data</code> annotation that explains this. One way to solve that problem is to add <code>@ToString(callSuper = true)</code> next to your <code>@Data</code> annotation.</p>\n<p>This isn't about SLF4J or any logging framework - it's about what is and isn't in the generated <code>toString()</code> implementation.</p>\n"}],"owner":{"account_id":12556859,"reputation":209,"user_id":9136206,"display_name":"Nikitin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651849482,"creation_date":1651849096,"question_id":72143559,"body_markdown":"I have following code:\r\n\r\n    @Slf4j\r\n    public class Main {\r\n\r\n    @Data\r\n    public static class AClass {\r\n        private String title;\r\n    }\r\n\r\n    @Data\r\n    public static class BClass extends AClass {\r\n        private Integer amount;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        BClass bClass = new BClass();\r\n        bClass.setAmount(12);\r\n        bClass.setTitle(&quot;title&quot;);\r\n\r\n        log.info(&quot;{}&quot;, bClass);\r\n    }\r\n    }\r\n\r\nIn logs I can see only fields from BClass and not AClass :\r\n\r\n&gt; 17:52:28.151 [main] INFO Main - Main.BClass(amount=12)\r\n\r\nBut I want to see all BClass fields including ones that are in parent class(title field). How can I do it?\r\n","title":"Slf4j logger log fields from parent class","body":"<p>I have following code:</p>\n<pre><code>@Slf4j\npublic class Main {\n\n@Data\npublic static class AClass {\n    private String title;\n}\n\n@Data\npublic static class BClass extends AClass {\n    private Integer amount;\n}\n\npublic static void main(String[] args) {\n    BClass bClass = new BClass();\n    bClass.setAmount(12);\n    bClass.setTitle(&quot;title&quot;);\n\n    log.info(&quot;{}&quot;, bClass);\n}\n}\n</code></pre>\n<p>In logs I can see only fields from BClass and not AClass :</p>\n<blockquote>\n<p>17:52:28.151 [main] INFO Main - Main.BClass(amount=12)</p>\n</blockquote>\n<p>But I want to see all BClass fields including ones that are in parent class(title field). How can I do it?</p>\n"},{"tags":["java","json","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651821927,"creation_date":1651821605,"answer_id":72137578,"question_id":72133781,"body_markdown":"You could use a JPA projection:\r\n\r\n```java\r\npublic class AddressDto {\r\n    private long id;\r\n    private String city;\r\n    private String state;\r\n    private long employeeId;\r\n\r\n    public AddressDto(long id, String city, String state, Employee employee) {\r\n        this.id = id;\r\n        this.city = city;\r\n        this.state = state;\r\n        this.employeeId = employee.getId();\r\n    }\r\n    // getters etc..\r\n}\r\n\r\n\r\n@Repository\r\npublic interface AddressRepository extends JpaRepository&lt;Address, Long&gt; {\r\n    List&lt;AddressDto&gt; findAllProjectedBy();\r\n}\r\n\r\n```","title":"Spring JPA not returning Foreign keys in response","body":"<p>You could use a JPA projection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AddressDto {\n    private long id;\n    private String city;\n    private String state;\n    private long employeeId;\n\n    public AddressDto(long id, String city, String state, Employee employee) {\n        this.id = id;\n        this.city = city;\n        this.state = state;\n        this.employeeId = employee.getId();\n    }\n    // getters etc..\n}\n\n\n@Repository\npublic interface AddressRepository extends JpaRepository&lt;Address, Long&gt; {\n    List&lt;AddressDto&gt; findAllProjectedBy();\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19881838,"reputation":23,"user_id":14565690,"display_name":"samuelrusu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651849319,"creation_date":1651849319,"answer_id":72143609,"question_id":72133781,"body_markdown":"Use @JsonProperty on each Foreign Key.\r\n\r\n    @Entity\r\n    @Table(name = &quot;Employees&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class Employee {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n      @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n      private long id;\r\n      private String name;\r\n      private String description;\r\n      \r\n      @JsonProperty\r\n      @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;employee&quot;)\r\n      private List&lt;Projects&gt; projects;\r\n    \r\n      @JsonProperty\r\n      @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;employee&quot;)\r\n      private Address address;\r\n    }\r\n\r\n","title":"Spring JPA not returning Foreign keys in response","body":"<p>Use @JsonProperty on each Foreign Key.</p>\n<pre><code>@Entity\n@Table(name = &quot;Employees&quot;)\n@Data\n@NoArgsConstructor\npublic class Employee {\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n  @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n  private long id;\n  private String name;\n  private String description;\n  \n  @JsonProperty\n  @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;employee&quot;)\n  private List&lt;Projects&gt; projects;\n\n  @JsonProperty\n  @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;employee&quot;)\n  private Address address;\n}\n</code></pre>\n"}],"owner":{"account_id":2581584,"reputation":1361,"user_id":2238153,"accept_rate":25,"display_name":"user2238153"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651849319,"creation_date":1651785688,"question_id":72133781,"body_markdown":"I have a database with some entities, ( in parent child relationship )I can say and when When I try to make a query to child table to get all the rows, I only get the fields which are not foreign keys. How can I include the foreign key in the response json. Can anyone help me figure this out ? \r\n\r\nParent Class which is working fine when I try to ```repository.findAll()``` and it works as expected.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Employees&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class Employee {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n  @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n  private long id;\r\n  private String name;\r\n  private String description;\r\n\r\n  @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;employee&quot;)\r\n  private List&lt;Projects&gt; projects;\r\n\r\n  @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;employee&quot;)\r\n  private Address address;\r\n}\r\n```\r\n\r\n\r\nChild class:\r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;Address&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class Address {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private long id;\r\n  private String city;\r\n  private String state;\r\n\r\n  @OneToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;emp_id&quot;, nullable = false)\r\n  @JsonBackReference\r\n  private Employee employee;\r\n}\r\n\r\n```\r\n\r\nHere is the repository class for Address Entity\r\n```\r\n@Repository\r\npublic interface AddressRepository extends JpaRepository&lt;Address, Long&gt; {\r\n}\r\n```\r\n\r\nWhen I try ```AddressRepository.findAll()``` \r\n\r\nWhat I get:\r\n\r\n```\r\n[{\r\n        &quot;id&quot;: 1,\r\n        &quot;city&quot;: &quot;new york&quot;,\r\n        &quot;state&quot;: &quot;new york&quot;\r\n    }]\r\n```\r\n\r\nwhat I want to get:\r\n\r\n```[{\r\n        &quot;id&quot;: 1,\r\n        &quot;city&quot;: &quot;new york&quot;,\r\n        &quot;state&quot;: &quot;new york&quot;,\r\n        &quot;emp_id&quot;: 1 //which is the foreign key referring to Employee table\r\n    }]\r\n\r\n```\r\n\r\nWhat I tried is I updated my Employee column in Address Entity as follow but no luck\r\n\r\n  ```\r\n\r\n@Entity\r\n@Table(name = &quot;Address&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class Address {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private long id;\r\n  private String city;\r\n  private String state;\r\n\r\n  \r\n  @OneToOne(fetch = FetchType.EAGER)\r\n  @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;client_id&quot;, scope = Client.class)\r\n  @JsonIdentityReference(alwaysAsId = true)\r\n  @JoinColumn(name = &quot;client_id&quot;, nullable = false)\r\n  @JsonBackReference\r\n  @JsonProperty(&quot;clientId&quot;)\r\n  private Employee employee;\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Spring JPA not returning Foreign keys in response","body":"<p>I have a database with some entities, ( in parent child relationship )I can say and when When I try to make a query to child table to get all the rows, I only get the fields which are not foreign keys. How can I include the foreign key in the response json. Can anyone help me figure this out ?</p>\n<p>Parent Class which is working fine when I try to <code>repository.findAll()</code> and it works as expected.</p>\n<pre><code>@Entity\n@Table(name = &quot;Employees&quot;)\n@Data\n@NoArgsConstructor\npublic class Employee {\n  @Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n  @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n  private long id;\n  private String name;\n  private String description;\n\n  @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;employee&quot;)\n  private List&lt;Projects&gt; projects;\n\n  @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, mappedBy = &quot;employee&quot;)\n  private Address address;\n}\n</code></pre>\n<p>Child class:</p>\n<pre><code>\n@Entity\n@Table(name = &quot;Address&quot;)\n@Data\n@NoArgsConstructor\npublic class Address {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private long id;\n  private String city;\n  private String state;\n\n  @OneToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;emp_id&quot;, nullable = false)\n  @JsonBackReference\n  private Employee employee;\n}\n\n</code></pre>\n<p>Here is the repository class for Address Entity</p>\n<pre><code>@Repository\npublic interface AddressRepository extends JpaRepository&lt;Address, Long&gt; {\n}\n</code></pre>\n<p>When I try <code>AddressRepository.findAll()</code></p>\n<p>What I get:</p>\n<pre><code>[{\n        &quot;id&quot;: 1,\n        &quot;city&quot;: &quot;new york&quot;,\n        &quot;state&quot;: &quot;new york&quot;\n    }]\n</code></pre>\n<p>what I want to get:</p>\n<pre><code>        &quot;id&quot;: 1,\n        &quot;city&quot;: &quot;new york&quot;,\n        &quot;state&quot;: &quot;new york&quot;,\n        &quot;emp_id&quot;: 1 //which is the foreign key referring to Employee table\n    }]\n\n</code></pre>\n<p>What I tried is I updated my Employee column in Address Entity as follow but no luck</p>\n<pre><code>\n@Entity\n@Table(name = &quot;Address&quot;)\n@Data\n@NoArgsConstructor\npublic class Address {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\nprivate String city;\nprivate String state;\n\n\n@OneToOne(fetch = FetchType.EAGER)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;client_id&quot;, scope = Client.class)\n@JsonIdentityReference(alwaysAsId = true)\n@JoinColumn(name = &quot;client_id&quot;, nullable = false)\n@JsonBackReference\n@JsonProperty(&quot;clientId&quot;)\nprivate Employee employee;\n}\n\n</code></pre>\n"},{"tags":["java","algorithm","depth-first-search","breadth-first-search"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1651847531,"post_id":72142912,"comment_id":127468604,"body_markdown":"You have a small failing example. So start debugging (For this small example even possible with pen and paper).","body":"You have a small failing example. So start debugging (For this small example even possible with pen and paper)."}],"answers":[{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651849036,"creation_date":1651849036,"answer_id":72143549,"question_id":72142912,"body_markdown":"The problem is you are also detecting *cross edges*.\r\n\r\nIn  your example, order of discovery (in example 2) is:\r\n\r\n    0 -&gt; 1 -&gt; 3 -&gt; 2 -&gt; 3\r\n\r\nNow, when you see `3` for the second time - you notice it was already visited - and say there is a cycle. However, this is a cross edge - you found it, but through a different branch, and in fact this is not a cycle.\r\n\r\nOne solution (with minimal modification of code) - though might not be optimal, is to remove a node from the `visited` once you&#39;ve finished exploring it.\r\n\r\nWhy does it work?\r\n\r\n* If there is a cycle - you will discover it because node was not removed from the visited until you rediscovered it. Algorithm will end once you discovered it.\r\n* If there is no cycle - you will exhaust a path, and remove all its nodes from visited. Since there are no cycles, the algorithm will &quot;run out&quot; of options and terminate eventually.\r\n\r\nImplementing might be a bit tricky in iterative code version of DFS (as you want to mimic doing it &quot;once you are back from recursion&quot;), but should be possible. Good luck!\r\n\r\n","title":"How to detect cycle using itarative approach","body":"<p>The problem is you are also detecting <em>cross edges</em>.</p>\n<p>In  your example, order of discovery (in example 2) is:</p>\n<pre><code>0 -&gt; 1 -&gt; 3 -&gt; 2 -&gt; 3\n</code></pre>\n<p>Now, when you see <code>3</code> for the second time - you notice it was already visited - and say there is a cycle. However, this is a cross edge - you found it, but through a different branch, and in fact this is not a cycle.</p>\n<p>One solution (with minimal modification of code) - though might not be optimal, is to remove a node from the <code>visited</code> once you've finished exploring it.</p>\n<p>Why does it work?</p>\n<ul>\n<li>If there is a cycle - you will discover it because node was not removed from the visited until you rediscovered it. Algorithm will end once you discovered it.</li>\n<li>If there is no cycle - you will exhaust a path, and remove all its nodes from visited. Since there are no cycles, the algorithm will &quot;run out&quot; of options and terminate eventually.</li>\n</ul>\n<p>Implementing might be a bit tricky in iterative code version of DFS (as you want to mimic doing it &quot;once you are back from recursion&quot;), but should be possible. Good luck!</p>\n"}],"owner":{"account_id":20849912,"reputation":111,"user_id":15314674,"display_name":"Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1651849036,"creation_date":1651846383,"question_id":72142912,"body_markdown":"I am trying to learn how to detect cycle. I see many example of using recursion but I want to implement in iterative way. Here is my code\r\n\r\n    \r\n   \tpublic boolean cycleDetection(int[][] edges, int source ) {\r\n\t\t Map&lt;Integer, List&lt;Integer&gt;&gt; graph = new HashMap();\r\n\t        for (int[] edge : edges) {\r\n\t            graph.putIfAbsent(edge[0], new ArrayList());\r\n\t            graph.get(edge[0]).add(edge[1]);\r\n\t        }\r\n\t        Stack&lt;Integer&gt; stack = new Stack();\r\n\t        Set&lt;Integer&gt; visited = new HashSet();\r\n\t        \r\n\t        stack.push(source);\r\n\t        visited.add(source);\r\n\t        while(!stack.isEmpty()) {\r\n\t        \tint curr = stack.pop();\r\n\t        \tvisited.add(curr);\r\n\t        \tif(graph.containsKey(curr)) {\r\n\t        \t\tfor(int i :  graph.get(curr)) {\r\n\t        \t\t\t\r\n\t        \t\t\tif(visited.contains(i)) {\r\n\t        \t\t\t\treturn true;\r\n\t        \t\t\t}\r\n\t    \t        \tstack.push(i);\r\n\t            \t}\r\n\t        \t}\r\n\t        \t\r\n\t        }\r\n\t\treturn false;\r\n\t}\r\n\r\nIt does not work as expected \r\n\r\n        int[][] vertex = { {0 , 1 }, {0,3}, {1,2},{2,1} }; // Has Cycle\r\n        int[][] vertex = { {0 , 1 }, {0,2}, {1,3},{2,3} }; // No Cycle\r\n\r\nwhat logic I am missing here?","title":"How to detect cycle using itarative approach","body":"<p>I am trying to learn how to detect cycle. I see many example of using recursion but I want to implement in iterative way. Here is my code</p>\n<pre><code>public boolean cycleDetection(int[][] edges, int source ) {\n     Map&lt;Integer, List&lt;Integer&gt;&gt; graph = new HashMap();\n        for (int[] edge : edges) {\n            graph.putIfAbsent(edge[0], new ArrayList());\n            graph.get(edge[0]).add(edge[1]);\n        }\n        Stack&lt;Integer&gt; stack = new Stack();\n        Set&lt;Integer&gt; visited = new HashSet();\n        \n        stack.push(source);\n        visited.add(source);\n        while(!stack.isEmpty()) {\n            int curr = stack.pop();\n            visited.add(curr);\n            if(graph.containsKey(curr)) {\n                for(int i :  graph.get(curr)) {\n                    \n                    if(visited.contains(i)) {\n                        return true;\n                    }\n                    stack.push(i);\n                }\n            }\n            \n        }\n    return false;\n}\n</code></pre>\n<p>It does not work as expected</p>\n<pre><code>    int[][] vertex = { {0 , 1 }, {0,3}, {1,2},{2,1} }; // Has Cycle\n    int[][] vertex = { {0 , 1 }, {0,2}, {1,3},{2,3} }; // No Cycle\n</code></pre>\n<p>what logic I am missing here?</p>\n"},{"tags":["java","mysql","sql","exception","mariadb"],"comments":[{"owner":{"account_id":3375609,"reputation":1551,"user_id":2833786,"accept_rate":67,"display_name":"Ko2r"},"score":0,"creation_date":1406795216,"post_id":25054095,"comment_id":38972259,"body_markdown":"The exception is saying that your connection is closed when you&#39;re trying to read your ResultSet, are you working with threads ?\nps : the ping is not helping because you&#39;re opening another connection ...","body":"The exception is saying that your connection is closed when you&#39;re trying to read your ResultSet, are you working with threads ? ps : the ping is not helping because you&#39;re opening another connection ..."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1406795358,"post_id":25054095,"comment_id":38972356,"body_markdown":"does conn = source.getConnection(); not get me a new connection?","body":"does conn = source.getConnection(); not get me a new connection?"},{"owner":{"account_id":4743891,"reputation":768,"user_id":3835701,"display_name":"ah_hau"},"score":1,"creation_date":1406795562,"post_id":25054095,"comment_id":38972485,"body_markdown":"can you share the code that calling to db?\nand what operation you doing ? insert/updating? Perhaps is locking issues ?","body":"can you share the code that calling to db? and what operation you doing ? insert/updating? Perhaps is locking issues ?"},{"owner":{"account_id":3375609,"reputation":1551,"user_id":2833786,"accept_rate":67,"display_name":"Ko2r"},"score":0,"creation_date":1406795602,"post_id":25054095,"comment_id":38972507,"body_markdown":"It is indeed, but the connection used for your statement is different ! So keeping alive another connection is not useful ... What is your wait_timeout value in mariadb ? Is your query processing long ? Maybe a network error closing the connection ...","body":"It is indeed, but the connection used for your statement is different ! So keeping alive another connection is not useful ... What is your wait_timeout value in mariadb ? Is your query processing long ? Maybe a network error closing the connection ..."},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1406795662,"post_id":25054095,"comment_id":38972549,"body_markdown":"will add some examples of where it fails now to the question","body":"will add some examples of where it fails now to the question"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1406795888,"post_id":25054095,"comment_id":38972688,"body_markdown":"If you swallow up exceptions, how do you even know that your ping is working?","body":"If you swallow up exceptions, how do you even know that your ping is working?"},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1406795939,"post_id":25054095,"comment_id":38972721,"body_markdown":"i deleted my log to save room","body":"i deleted my log to save room"},{"owner":{"account_id":3375609,"reputation":1551,"user_id":2833786,"accept_rate":67,"display_name":"Ko2r"},"score":0,"creation_date":1406796654,"post_id":25054095,"comment_id":38973131,"body_markdown":"If you&#39;re using a PreparedStatement you do not need to pass argument when you&#39;re executing ... Not the problem but still searching :)","body":"If you&#39;re using a PreparedStatement you do not need to pass argument when you&#39;re executing ... Not the problem but still searching :)"},{"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"score":0,"creation_date":1406877923,"post_id":25054095,"comment_id":39011284,"body_markdown":"Im guessing you couldn&#39;t find a solution?","body":"Im guessing you couldn&#39;t find a solution?"},{"owner":{"account_id":3265203,"reputation":471,"user_id":2749837,"accept_rate":38,"display_name":"gantners"},"score":0,"creation_date":1410252646,"post_id":25054095,"comment_id":40246134,"body_markdown":"try setting also the interactive_timeout value, depending on which client you use. wait_timeout is only taken into account on tcp based connections - not if youre using e.g. sockets or named pipes as stated in your conf, see [mysql](http://dev.mysql.com/doc/refman/5.1/de/server-system-variables.html)","body":"try setting also the interactive_timeout value, depending on which client you use. wait_timeout is only taken into account on tcp based connections - not if youre using e.g. sockets or named pipes as stated in your conf, see <a href=\"http://dev.mysql.com/doc/refman/5.1/de/server-system-variables.html\" rel=\"nofollow noreferrer\">mysql</a>"},{"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"score":0,"creation_date":1624437956,"post_id":25054095,"comment_id":120356444,"body_markdown":"I am getting java.sql.SQLNonTransientConnectionException when mysqld got signal 6. Then I change some values for parameters as there is a suggestion in a message. Or then I restart.","body":"I am getting java.sql.SQLNonTransientConnectionException when mysqld got signal 6. Then I change some values for parameters as there is a suggestion in a message. Or then I restart."}],"answers":[{"tags":[],"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1409825980,"creation_date":1409825980,"answer_id":25662944,"question_id":25054095,"body_markdown":"in the end i gave up and just wrote a method to ping the database every hour\r\n\r\n\tpublic static void pingServer(final BasicDataSource source){\r\n\t    final Thread serverPing = new Thread(new Runnable() {\r\n\t        @Override\r\n\t        public void run() {\r\n\t            Connection conn = null;\r\n\t            try {\r\n\t            \twhile(!Thread.currentThread().isInterrupted()){\r\n\t\t            \tString sql = &quot;/* ping */ SELECT 1&quot;;\r\n\t\t        \t\tPreparedStatement st = null;\r\n\t\t        \t\tconn = source.getConnection();\r\n\t\t        \t\tst = conn.prepareStatement(sql);\r\n\t\t        \t\tst.executeUpdate(sql);\r\n\t\t        \t\tLOGGER.info(&quot;Database connection test successful&quot;);\r\n\t\t        \t\tDatabaseUtilities.closeConnection(conn);\r\n\t\t        \t\tTimeUnit.HOURS.sleep(1);\r\n\t            \t}\r\n\t            } catch (SQLException | InterruptedException e) {\r\n\t            \tLOGGER.error(&quot;Unable to continue pinging database server&quot;, e);\r\n\t            \tDatabaseUtilities.closeConnection(conn);\r\n\t            }\r\n\t            finally{\r\n\t                DatabaseUtilities.closeConnection(conn);\r\n\t            }\r\n\t        }\r\n\t    });\r\n\t    serverPing.setDaemon(true);\r\n\t    serverPing.start();\r\n\t}","title":"How to solve java.sql.SQLNonTransientConnectionException: Could not read resultset: Connection reset?","body":"<p>in the end i gave up and just wrote a method to ping the database every hour</p>\n\n<pre><code>public static void pingServer(final BasicDataSource source){\n    final Thread serverPing = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            Connection conn = null;\n            try {\n                while(!Thread.currentThread().isInterrupted()){\n                    String sql = \"/* ping */ SELECT 1\";\n                    PreparedStatement st = null;\n                    conn = source.getConnection();\n                    st = conn.prepareStatement(sql);\n                    st.executeUpdate(sql);\n                    LOGGER.info(\"Database connection test successful\");\n                    DatabaseUtilities.closeConnection(conn);\n                    TimeUnit.HOURS.sleep(1);\n                }\n            } catch (SQLException | InterruptedException e) {\n                LOGGER.error(\"Unable to continue pinging database server\", e);\n                DatabaseUtilities.closeConnection(conn);\n            }\n            finally{\n                DatabaseUtilities.closeConnection(conn);\n            }\n        }\n    });\n    serverPing.setDaemon(true);\n    serverPing.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2159319,"reputation":1983,"user_id":1913856,"display_name":"isalgueiro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409918516,"creation_date":1409918516,"answer_id":25685453,"question_id":25054095,"body_markdown":"You can configure [DBCP][1] to do that connection check for you. Add something like this to your config\r\n\r\n    validationQuery=&quot;/* ping */ SELECT 1&quot;\r\n    testOnBorrow=&quot;true&quot;\r\n\r\nDBCP will check if the connection is alive every time you get a connection from the pool, dropping dead connections and creating new ones when needed\r\n\r\n  [1]: http://commons.apache.org/proper/commons-dbcp/configuration.html","title":"How to solve java.sql.SQLNonTransientConnectionException: Could not read resultset: Connection reset?","body":"<p>You can configure <a href=\"http://commons.apache.org/proper/commons-dbcp/configuration.html\" rel=\"nofollow\">DBCP</a> to do that connection check for you. Add something like this to your config</p>\n\n<pre><code>validationQuery=\"/* ping */ SELECT 1\"\ntestOnBorrow=\"true\"\n</code></pre>\n\n<p>DBCP will check if the connection is alive every time you get a connection from the pool, dropping dead connections and creating new ones when needed</p>\n"},{"tags":[],"owner":{"account_id":24808863,"reputation":109,"user_id":18690553,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651848579,"creation_date":1650898701,"answer_id":72001572,"question_id":25054095,"body_markdown":"Change String jdbcUrl\r\n\r\n**From:** String jdbcUrl = &quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&quot;;\r\n\r\n**To:** String jdbcUrl = &quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\r\n\r\nFor **Maven** file\r\n\r\nStep 1) Open folder src/main/resources\r\n\r\nStep 2) Open persistence-mysql.properties\r\n\r\nStep 3) Change jdbc.url \r\n\r\nfrom\r\n\r\n    jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false\r\n\r\n \r\nto \r\n\r\n    jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n\r\n","title":"How to solve java.sql.SQLNonTransientConnectionException: Could not read resultset: Connection reset?","body":"<p>Change String jdbcUrl</p>\n<p><strong>From:</strong> String jdbcUrl = &quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&quot;;</p>\n<p><strong>To:</strong> String jdbcUrl = &quot;jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</p>\n<p>For <strong>Maven</strong> file</p>\n<p>Step 1) Open folder src/main/resources</p>\n<p>Step 2) Open persistence-mysql.properties</p>\n<p>Step 3) Change jdbc.url</p>\n<p>from</p>\n<pre><code>jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false\n</code></pre>\n<p>to</p>\n<pre><code>jdbc:mysql://localhost:3306/web_customer_tracker?useSSL=false&amp;allowPublicKeyRetrieval=true\n</code></pre>\n"}],"owner":{"account_id":108390,"reputation":5268,"user_id":287732,"accept_rate":68,"display_name":"Biscuit128"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25662944,"answer_count":3,"score":1,"last_activity_date":1651848579,"creation_date":1406795046,"question_id":25054095,"body_markdown":"I am getting an exception when calling database code after a period of inactivity\r\n\r\n    java.sql.SQLNonTransientConnectionException: Could not read resultset: Connection reset\r\n            at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)\r\n            at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)\r\n            at org.mariadb.jdbc.MySQLStatement.executeQueryEpilog(MySQLStatement.java:264)\r\n            at org.mariadb.jdbc.MySQLStatement.execute(MySQLStatement.java:288)\r\n            at org.mariadb.jdbc.MySQLStatement.executeQuery(MySQLStatement.java:302)\r\n            at org.mariadb.jdbc.MySQLStatement.executeQuery(MySQLStatement.java:361)\r\n            at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)\r\n            at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)\r\n            at com.vimba.database.DBFactory.attemptLoginWithTempPasswordDetails(DBFactory.java:181)\r\n            at com.vimba.database.DBFactory.authenticate(DBFactory.java:131)\r\n            at com.vimba.service.ExposedFunctions.login(ExposedFunctions.java:88)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:483)\r\n            at com.sun.xml.ws.api.server.InstanceResolver$1.invoke(InstanceResolver.java:210)\r\n            at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:132)\r\n            at com.sun.xml.ws.server.sei.EndpointMethodHandler.invoke(EndpointMethodHandler.java:241)\r\n            at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:74)\r\n            at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:559)\r\n            at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:518)\r\n            at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:503)\r\n            at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:400)\r\n            at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:226)\r\n            at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:375)\r\n            at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:175)\r\n            at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:134)\r\n            at com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doPost(WSServletDelegate.java:159)\r\n            at com.sun.xml.ws.transport.http.servlet.WSServlet.doPost(WSServlet.java:49)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:754)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:149)\r\n            at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:169)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:145)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336)\r\n            at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)\r\n            at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653)\r\n            at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not read resultset: Connection reset\r\n            at org.mariadb.jdbc.internal.mysql.MySQLProtocol.getResult(MySQLProtocol.java:926)\r\n            at org.mariadb.jdbc.internal.mysql.MySQLProtocol.executeQuery(MySQLProtocol.java:991)\r\n            at org.mariadb.jdbc.MySQLStatement.execute(MySQLStatement.java:281)\r\n            ... 40 more\r\n    Caused by: java.net.SocketException: Connection reset\r\n\r\n\r\nI have tried to change the /etc/my.cnf to add a wait_timeout of a week but it has not made a difference;\r\n\r\n    [mysqld]\r\n    datadir=/var/lib/mysql\r\n    socket=/var/lib/mysql/mysql.sock\r\n    # Disabling symbolic-links is recommended to prevent assorted security risks\r\n    symbolic-links=0\r\n    # Settings user and group are ignored when systemd is used.\r\n    # If you need to run mysqld under a different user or group,\r\n    # customize your systemd unit file for mysqld/mariadb according to the\r\n    # instructions in http://fedoraproject.org/wiki/Systemd\r\n    \r\n    # Currently, there are mariadb and community-mysql packages in Fedora.\r\n    # This particular config file is included in respective RPMs of both of them,\r\n    # so the following settings are general and will be also used by both of them.\r\n    # Otherwise the RPMs would be in conflict.\r\n    # Settings for particular implementations like MariaDB are then\r\n    # defined in appropriate sections; for MariaDB server in [mariadb] section in\r\n    # /etc/my.cnf.d/server.cnf (part of mariadb-server).\r\n    # It doesn&#39;t matter that we set these settings only for [mysqld] here,\r\n    # because they will be read and used in mysqld_safe as well.\r\n    log-error=/var/log/mysqld.log\r\n    pid-file=/var/run/mysqld/mysqld.pid\r\n    \r\n    [mysqld_safe]\r\n    \r\n    #\r\n    # include all files from the config directory\r\n    #\r\n    !includedir /etc/my.cnf.d\r\n    \r\n    #one week timeout to see if exception goes\r\n    wait_timeout=604800\r\n    \r\n    event_scheduler=on\r\n    /etc/my.cnf (END)\r\n\r\nDoes anyone know how to solve this issue?","title":"How to solve java.sql.SQLNonTransientConnectionException: Could not read resultset: Connection reset?","body":"<p>I am getting an exception when calling database code after a period of inactivity</p>\n\n<pre><code>java.sql.SQLNonTransientConnectionException: Could not read resultset: Connection reset\n        at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)\n        at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)\n        at org.mariadb.jdbc.MySQLStatement.executeQueryEpilog(MySQLStatement.java:264)\n        at org.mariadb.jdbc.MySQLStatement.execute(MySQLStatement.java:288)\n        at org.mariadb.jdbc.MySQLStatement.executeQuery(MySQLStatement.java:302)\n        at org.mariadb.jdbc.MySQLStatement.executeQuery(MySQLStatement.java:361)\n        at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)\n        at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)\n        at com.vimba.database.DBFactory.attemptLoginWithTempPasswordDetails(DBFactory.java:181)\n        at com.vimba.database.DBFactory.authenticate(DBFactory.java:131)\n        at com.vimba.service.ExposedFunctions.login(ExposedFunctions.java:88)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:483)\n        at com.sun.xml.ws.api.server.InstanceResolver$1.invoke(InstanceResolver.java:210)\n        at com.sun.xml.ws.server.InvokerTube$2.invoke(InvokerTube.java:132)\n        at com.sun.xml.ws.server.sei.EndpointMethodHandler.invoke(EndpointMethodHandler.java:241)\n        at com.sun.xml.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:74)\n        at com.sun.xml.ws.api.pipe.Fiber.__doRun(Fiber.java:559)\n        at com.sun.xml.ws.api.pipe.Fiber._doRun(Fiber.java:518)\n        at com.sun.xml.ws.api.pipe.Fiber.doRun(Fiber.java:503)\n        at com.sun.xml.ws.api.pipe.Fiber.runSync(Fiber.java:400)\n        at com.sun.xml.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:226)\n        at com.sun.xml.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:375)\n        at com.sun.xml.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:175)\n        at com.sun.xml.ws.transport.http.servlet.ServletAdapter.handle(ServletAdapter.java:134)\n        at com.sun.xml.ws.transport.http.servlet.WSServletDelegate.doPost(WSServletDelegate.java:159)\n        at com.sun.xml.ws.transport.http.servlet.WSServlet.doPost(WSServlet.java:49)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:754)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:295)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:149)\n        at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:169)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:145)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653)\n        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.mariadb.jdbc.internal.common.QueryException: Could not read resultset: Connection reset\n        at org.mariadb.jdbc.internal.mysql.MySQLProtocol.getResult(MySQLProtocol.java:926)\n        at org.mariadb.jdbc.internal.mysql.MySQLProtocol.executeQuery(MySQLProtocol.java:991)\n        at org.mariadb.jdbc.MySQLStatement.execute(MySQLStatement.java:281)\n        ... 40 more\nCaused by: java.net.SocketException: Connection reset\n</code></pre>\n\n<p>I have tried to change the /etc/my.cnf to add a wait_timeout of a week but it has not made a difference;</p>\n\n<pre><code>[mysqld]\ndatadir=/var/lib/mysql\nsocket=/var/lib/mysql/mysql.sock\n# Disabling symbolic-links is recommended to prevent assorted security risks\nsymbolic-links=0\n# Settings user and group are ignored when systemd is used.\n# If you need to run mysqld under a different user or group,\n# customize your systemd unit file for mysqld/mariadb according to the\n# instructions in http://fedoraproject.org/wiki/Systemd\n\n# Currently, there are mariadb and community-mysql packages in Fedora.\n# This particular config file is included in respective RPMs of both of them,\n# so the following settings are general and will be also used by both of them.\n# Otherwise the RPMs would be in conflict.\n# Settings for particular implementations like MariaDB are then\n# defined in appropriate sections; for MariaDB server in [mariadb] section in\n# /etc/my.cnf.d/server.cnf (part of mariadb-server).\n# It doesn't matter that we set these settings only for [mysqld] here,\n# because they will be read and used in mysqld_safe as well.\nlog-error=/var/log/mysqld.log\npid-file=/var/run/mysqld/mysqld.pid\n\n[mysqld_safe]\n\n#\n# include all files from the config directory\n#\n!includedir /etc/my.cnf.d\n\n#one week timeout to see if exception goes\nwait_timeout=604800\n\nevent_scheduler=on\n/etc/my.cnf (END)\n</code></pre>\n\n<p>Does anyone know how to solve this issue?</p>\n"},{"tags":["java","dependency-injection","cdi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651844418,"creation_date":1651844418,"answer_id":72142435,"question_id":72142018,"body_markdown":"This is expected, because your `Configuration` bean is `@RequestScoped`. The request scope is one of so-called _normal scopes_, and whenever you `@Inject` a normal-scoped bean, you will always get a so-called _client proxy_.\r\n\r\nThe client proxy exists to lookup the correct bean instance and forward method invocations to it. In this case, it will lookup the bean instance for _current request_.\r\n\r\nSo, when you&#39;re accessing fields, you&#39;re accessing them on the client proxy -- not on the instance that pertains to the current request.\r\n\r\nWhenever you inject a normal-scoped bean, never access fields directly. Always call methods. You may access fields directly on `@Singleton` and `@Dependent` beans, because they don&#39;t come up with a client proxy.","title":"cdi bean lack of value when accessed through public field","body":"<p>This is expected, because your <code>Configuration</code> bean is <code>@RequestScoped</code>. The request scope is one of so-called <em>normal scopes</em>, and whenever you <code>@Inject</code> a normal-scoped bean, you will always get a so-called <em>client proxy</em>.</p>\n<p>The client proxy exists to lookup the correct bean instance and forward method invocations to it. In this case, it will lookup the bean instance for <em>current request</em>.</p>\n<p>So, when you're accessing fields, you're accessing them on the client proxy -- not on the instance that pertains to the current request.</p>\n<p>Whenever you inject a normal-scoped bean, never access fields directly. Always call methods. You may access fields directly on <code>@Singleton</code> and <code>@Dependent</code> beans, because they don't come up with a client proxy.</p>\n"}],"owner":{"account_id":2695441,"reputation":1011,"user_id":2327630,"accept_rate":100,"display_name":"MyWay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72142435,"answer_count":1,"score":0,"last_activity_date":1651847802,"creation_date":1651842641,"question_id":72142018,"body_markdown":"I have a configuration class, which I inject into another class. \r\n\r\nConfiguration class looks as follows:\r\n\r\n    @RequestScoped\r\n    public class Configuration {\r\n    \r\n        @ConfigProperty(name = &quot;VALUE&quot;)\r\n        public String value;\r\n    \r\n        public String getValue() {\r\n            return value;\r\n        }\r\n    }\r\n\r\n\r\nThis configuration is injected into the following place:\r\n\r\n    @ApplicationScoped\r\n    public class EndpointImpl implements Endpoint {\r\n    \r\n        private Configuration configuration;\r\n\r\n        @Inject\r\n        public EndpointImpl(Configuration configuration) {\r\n            this.configuration = configuration;\r\n            System.out.println(&quot;configuration.value=&quot; + configuration.value);\r\n            System.out.println(&quot;configuration.getValue()=&quot; + configuration.getValue());\r\n            System.out.println(&quot;configuration.value=&quot; + configuration.value);\r\n        }\r\n\r\nLogs printed after going through constructor:\r\n\r\n&gt; configuration.value=null\r\n&gt; \r\n&gt; configuration.getValue()=someValue\r\n&gt; \r\n&gt; configuration.value=null\r\n\r\nI added postConstructor with the below similar code:\r\n\r\n    @PostConstruct\r\n    public void postConstruct(){\r\n        System.out.println(&quot;configuration.value=&quot;+configuration.value);\r\n        System.out.println(&quot;configuration.getValue()=&quot;+configuration.getValue());\r\n        System.out.println(&quot;configuration.value=&quot;+configuration.value);\r\n    }\r\n\r\nand the result is the same. \r\n\r\nEverything works fine as long as the value is retrieved through the getter method. When I try to retrieve it through the public field it returns null. I thought that, when CDI completes the process of building the bean, the fields inside the class will be set to appropriate values. \r\n\r\nWhy does it behave in such a way?\r\n\r\n\r\n","title":"cdi bean lack of value when accessed through public field","body":"<p>I have a configuration class, which I inject into another class.</p>\n<p>Configuration class looks as follows:</p>\n<pre><code>@RequestScoped\npublic class Configuration {\n\n    @ConfigProperty(name = &quot;VALUE&quot;)\n    public String value;\n\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n<p>This configuration is injected into the following place:</p>\n<pre><code>@ApplicationScoped\npublic class EndpointImpl implements Endpoint {\n\n    private Configuration configuration;\n\n    @Inject\n    public EndpointImpl(Configuration configuration) {\n        this.configuration = configuration;\n        System.out.println(&quot;configuration.value=&quot; + configuration.value);\n        System.out.println(&quot;configuration.getValue()=&quot; + configuration.getValue());\n        System.out.println(&quot;configuration.value=&quot; + configuration.value);\n    }\n</code></pre>\n<p>Logs printed after going through constructor:</p>\n<blockquote>\n<p>configuration.value=null</p>\n<p>configuration.getValue()=someValue</p>\n<p>configuration.value=null</p>\n</blockquote>\n<p>I added postConstructor with the below similar code:</p>\n<pre><code>@PostConstruct\npublic void postConstruct(){\n    System.out.println(&quot;configuration.value=&quot;+configuration.value);\n    System.out.println(&quot;configuration.getValue()=&quot;+configuration.getValue());\n    System.out.println(&quot;configuration.value=&quot;+configuration.value);\n}\n</code></pre>\n<p>and the result is the same.</p>\n<p>Everything works fine as long as the value is retrieved through the getter method. When I try to retrieve it through the public field it returns null. I thought that, when CDI completes the process of building the bean, the fields inside the class will be set to appropriate values.</p>\n<p>Why does it behave in such a way?</p>\n"},{"tags":["java","arrays","matrix","arraylist","hashmap"],"answers":[{"tags":[],"owner":{"account_id":8557798,"reputation":56,"user_id":6412699,"display_name":"dlo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651811677,"creation_date":1651811677,"answer_id":72136216,"question_id":72136123,"body_markdown":"Looks like you&#39;re saving the same Map into index 0 and index 1: \r\n\r\n    myMap.add(0,myMap1);\r\n    ...\r\n    myMap.add(1,myMap1);\r\n\r\nSo when you&#39;re trying to input for the second row, since they are the same keys as the first row keys (&quot;URL&quot;, &quot;CRC&quot;, etc.), it overwrites the values for those keys of the first row.\r\n\r\nWhat you could do is use `Map.of()` to create a new immutable map for each row.\r\n\r\nFor example:\r\n```\r\nList&lt;Map&lt;String , String&gt;&gt; myMap  = new ArrayList&lt;&gt;();\r\nmyMap.add(0, Map.of(&quot;URL&quot;, &quot;URL1&quot;,&quot;CRC&quot;, &quot;CRC1&quot;,... ));\r\nmyMap.add(1, Map.of(&quot;URL&quot;, &quot;URL2&quot;,&quot;CRC&quot;, &quot;CRC2&quot;,... ));\r\n...\r\n\r\n```\r\n\r\n\r\n&gt; and it is possible to implement access to a table cell similar to row and column for example myMap[0][&quot;SIZE&quot;]?\r\n\r\nYes. Just call it similarly: `ArrayList.get(0).get(&quot;SIZE&quot;)`","title":"How to create a matrix with key and value in java","body":"<p>Looks like you're saving the same Map into index 0 and index 1:</p>\n<pre><code>myMap.add(0,myMap1);\n...\nmyMap.add(1,myMap1);\n</code></pre>\n<p>So when you're trying to input for the second row, since they are the same keys as the first row keys (&quot;URL&quot;, &quot;CRC&quot;, etc.), it overwrites the values for those keys of the first row.</p>\n<p>What you could do is use <code>Map.of()</code> to create a new immutable map for each row.</p>\n<p>For example:</p>\n<pre><code>List&lt;Map&lt;String , String&gt;&gt; myMap  = new ArrayList&lt;&gt;();\nmyMap.add(0, Map.of(&quot;URL&quot;, &quot;URL1&quot;,&quot;CRC&quot;, &quot;CRC1&quot;,... ));\nmyMap.add(1, Map.of(&quot;URL&quot;, &quot;URL2&quot;,&quot;CRC&quot;, &quot;CRC2&quot;,... ));\n...\n\n</code></pre>\n<blockquote>\n<p>and it is possible to implement access to a table cell similar to row and column for example myMap[0][&quot;SIZE&quot;]?</p>\n</blockquote>\n<p>Yes. Just call it similarly: <code>ArrayList.get(0).get(&quot;SIZE&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":3448294,"reputation":29,"user_id":2892069,"display_name":"wstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651847304,"creation_date":1651847304,"answer_id":72143130,"question_id":72136123,"body_markdown":"What you are doing is a common mistake for juniors (I also saw it from seniors as well).\r\n\r\nTake a look what references are and how they work (and maybe in addition to method calls, the topic call by reference, call by value): https://www.geeksforgeeks.org/types-references-java/\r\n\r\nSo what went wrong? You were trapped in how references and maps work.\r\n\r\nYou&#39;ve created a map-object, then you set values with keys:\r\n\r\ninnerMap[&#39;foo&#39;] = &quot;bar&quot;;\r\n\r\nThis means that the map holds a value &#39;bar&#39; on index &#39;foo&#39;.\r\nYou add this object (per reference, thus per memory address to the outer map):\r\n\r\nouterMap.put(0, innerMap);\r\n\r\nso outerMap holds a referents (points) to innerMap Object which has value &#39;bar&#39; on index &#39;foo&#39;.\r\n\r\nNow you manipulating the exact same object innerMap on the exact same index &#39;foo&#39;:\r\n\r\ninnerMap[&#39;foo&#39;] = &quot;bumsti&quot;;\r\n\r\nWhat here happens is that you&#39;ve overwritten the old value &#39;bar&#39; with &#39;bumsti&#39;.\r\n\r\nAfter that you&#39;re adding the exact same reference as before (innerMap) to outerMap on index 1.\r\n\r\nouterMap.put(1, innerMap);\r\n\r\nWhat you&#39;ve got is an outerMap[0]-&gt;innerMap[foo]: &quot;bumsti&quot; and outerMap[1]-&gt;innerMap[foo]: &quot;bumsti&quot;.\r\n\r\nTo avoid that, don&#39;t reuse your object since you will always write to the same memory.\r\n\r\nDo:\r\n\r\n```\r\nMap&lt;Integer, String&gt; outerMap = new HashMap&lt;&gt;();\r\nMap&lt;String, String&gt; innerMap1 = new HashMap&lt;&gt;();\r\ninnerMap1[&quot;foo&quot;] = &quot;bar&quot;;\r\nouterMap.put(0, innerMap1);\r\nMap&lt;String, String&gt; innerMap2 = new HashMap&lt;&gt;();\r\ninnerMap1[&quot;foo&quot;] = &quot;bumsti&quot;;\r\nouterMap.put(1, innerMap2);\r\n```\r\nThis is what you wanted. Try it out!","title":"How to create a matrix with key and value in java","body":"<p>What you are doing is a common mistake for juniors (I also saw it from seniors as well).</p>\n<p>Take a look what references are and how they work (and maybe in addition to method calls, the topic call by reference, call by value): <a href=\"https://www.geeksforgeeks.org/types-references-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/types-references-java/</a></p>\n<p>So what went wrong? You were trapped in how references and maps work.</p>\n<p>You've created a map-object, then you set values with keys:</p>\n<p>innerMap['foo'] = &quot;bar&quot;;</p>\n<p>This means that the map holds a value 'bar' on index 'foo'.\nYou add this object (per reference, thus per memory address to the outer map):</p>\n<p>outerMap.put(0, innerMap);</p>\n<p>so outerMap holds a referents (points) to innerMap Object which has value 'bar' on index 'foo'.</p>\n<p>Now you manipulating the exact same object innerMap on the exact same index 'foo':</p>\n<p>innerMap['foo'] = &quot;bumsti&quot;;</p>\n<p>What here happens is that you've overwritten the old value 'bar' with 'bumsti'.</p>\n<p>After that you're adding the exact same reference as before (innerMap) to outerMap on index 1.</p>\n<p>outerMap.put(1, innerMap);</p>\n<p>What you've got is an outerMap[0]-&gt;innerMap[foo]: &quot;bumsti&quot; and outerMap[1]-&gt;innerMap[foo]: &quot;bumsti&quot;.</p>\n<p>To avoid that, don't reuse your object since you will always write to the same memory.</p>\n<p>Do:</p>\n<pre><code>Map&lt;Integer, String&gt; outerMap = new HashMap&lt;&gt;();\nMap&lt;String, String&gt; innerMap1 = new HashMap&lt;&gt;();\ninnerMap1[&quot;foo&quot;] = &quot;bar&quot;;\nouterMap.put(0, innerMap1);\nMap&lt;String, String&gt; innerMap2 = new HashMap&lt;&gt;();\ninnerMap1[&quot;foo&quot;] = &quot;bumsti&quot;;\nouterMap.put(1, innerMap2);\n</code></pre>\n<p>This is what you wanted. Try it out!</p>\n"}],"owner":{"account_id":23780399,"reputation":75,"user_id":17793164,"display_name":"Jeniffer Lorena Guillen Castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1651847304,"creation_date":1651810782,"question_id":72136123,"body_markdown":"I have this table with these values\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have this code in java\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class TestHashes {\r\n\r\n    public static void main(String args[]){\r\n        Map&lt;String,String&gt; myMap1 = new HashMap&lt;&gt;();\r\n\r\n        List&lt;Map&lt;String , String&gt;&gt; myMap  = new ArrayList&lt;&gt;();\r\n\r\n        myMap1.put(&quot;URL&quot;, &quot;URL1&quot;);\r\n        myMap1.put(&quot;CRC&quot;, &quot;CRC1&quot;);\r\n        myMap1.put(&quot;SIZE&quot;, &quot;Size1&quot;);\r\n        myMap1.put(&quot;PROGRESS&quot;, &quot;Progress1&quot;);\r\n\r\n        myMap.add(0,myMap1);\r\n\r\n        myMap1.put(&quot;URL&quot;, &quot;URL2&quot;);\r\n        myMap1.put(&quot;CRC&quot;, &quot;CRC2&quot;);\r\n        myMap1.put(&quot;SIZE&quot;, &quot;Size2&quot;);\r\n        myMap1.put(&quot;PROGRESS&quot;, &quot;Progress2&quot;);\r\n\r\n        myMap.add(1,myMap1);\r\n\r\n        for (Map&lt;String, String&gt; map : myMap) {\r\n            System.out.println(map.get(&quot;URL&quot;));\r\n            //System.out.println(map.get(&quot;CRC&quot;));\r\n            //System.out.println(map.get(&quot;SIZE&quot;));\r\n            //System.out.println(map.get(&quot;PROGRESS&quot;));\r\n        }\r\n        System.out.println(myMap);\r\n    }\r\n}\r\n```\r\n\r\nResult\r\n``` \r\nURL2\r\nURL2\r\n[{CRC=CRC2, SIZE=Size2, PROGRESS=Progress2, URL=URL2}, {CRC=CRC2, SIZE=Size2, PROGRESS=Progress2, URL=URL2}]\r\n```\r\nThe first record is lost and the last record is saved\r\n\r\nHow can I save all the records?\r\n\r\nand it is possible to implement access to a table cell\r\n\r\nsimilar to row and column for example\r\nmyMap[0][&quot;SIZE&quot;]?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wboao.png","title":"How to create a matrix with key and value in java","body":"<p>I have this table with these values</p>\n<p><a href=\"https://i.stack.imgur.com/Wboao.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wboao.png\" alt=\"enter image description here\" /></a></p>\n<p>I have this code in java</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class TestHashes {\n\n    public static void main(String args[]){\n        Map&lt;String,String&gt; myMap1 = new HashMap&lt;&gt;();\n\n        List&lt;Map&lt;String , String&gt;&gt; myMap  = new ArrayList&lt;&gt;();\n\n        myMap1.put(&quot;URL&quot;, &quot;URL1&quot;);\n        myMap1.put(&quot;CRC&quot;, &quot;CRC1&quot;);\n        myMap1.put(&quot;SIZE&quot;, &quot;Size1&quot;);\n        myMap1.put(&quot;PROGRESS&quot;, &quot;Progress1&quot;);\n\n        myMap.add(0,myMap1);\n\n        myMap1.put(&quot;URL&quot;, &quot;URL2&quot;);\n        myMap1.put(&quot;CRC&quot;, &quot;CRC2&quot;);\n        myMap1.put(&quot;SIZE&quot;, &quot;Size2&quot;);\n        myMap1.put(&quot;PROGRESS&quot;, &quot;Progress2&quot;);\n\n        myMap.add(1,myMap1);\n\n        for (Map&lt;String, String&gt; map : myMap) {\n            System.out.println(map.get(&quot;URL&quot;));\n            //System.out.println(map.get(&quot;CRC&quot;));\n            //System.out.println(map.get(&quot;SIZE&quot;));\n            //System.out.println(map.get(&quot;PROGRESS&quot;));\n        }\n        System.out.println(myMap);\n    }\n}\n</code></pre>\n<p>Result</p>\n<pre><code>URL2\nURL2\n[{CRC=CRC2, SIZE=Size2, PROGRESS=Progress2, URL=URL2}, {CRC=CRC2, SIZE=Size2, PROGRESS=Progress2, URL=URL2}]\n</code></pre>\n<p>The first record is lost and the last record is saved</p>\n<p>How can I save all the records?</p>\n<p>and it is possible to implement access to a table cell</p>\n<p>similar to row and column for example\nmyMap[0][&quot;SIZE&quot;]?</p>\n"},{"tags":["java","android","android-studio","tensorflow","tensorflow-lite"],"comments":[{"owner":{"account_id":15178015,"reputation":540,"user_id":10952155,"display_name":"Karim Nosseir"},"score":0,"creation_date":1651597042,"post_id":72096220,"comment_id":127399229,"body_markdown":"We will be able to help you better if you included what is the crash you are getting and how you are running the TfLite Interpreter.","body":"We will be able to help you better if you included what is the crash you are getting and how you are running the TfLite Interpreter."},{"owner":{"account_id":25180248,"reputation":1,"user_id":19021832,"display_name":"aldrin0001"},"score":0,"creation_date":1651670899,"post_id":72096220,"comment_id":127418144,"body_markdown":"Hello @KarimNosseir, the TensorBuffer outputFeatures1..., outputFeatures2, 3 are supposed to be a comment line since the guides I was seeing usually show only the outputFeatures0.\n\nAs for the error: I edited the post and included the error","body":"Hello @KarimNosseir, the TensorBuffer outputFeatures1..., outputFeatures2, 3 are supposed to be a comment line since the guides I was seeing usually show only the outputFeatures0.  As for the error: I edited the post and included the error"}],"owner":{"account_id":25180248,"reputation":1,"user_id":19021832,"display_name":"aldrin0001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1651846920,"creation_date":1651563909,"question_id":72096220,"body_markdown":"I was deploying my Tensorflow Lite model into my Android Studio. The application does run but when after I took a picture and tried to predict the result, the app crashes. It seems that it is due to the model I use since I&#39;m using a customized trained model ? Here is what the model looks like after I imported it to my project. It had like 4 outputFeatures rather than from what I&#39;m seeing in some guides which has only 1. Can please someone help me how to resolve this issue that&#39;ll be a huge lend of a hand for me. \r\n\r\nEDIT: I tried changing the imageSize value to 320 which matches with the createFixedSize values. The application does RUN, produced a result and did not crash after I entered the image. However, It only displays the same class as a result every time I run the prediction, . I tried inputting different images hoping to get different class result but it does not work at all. I also tried printing some values to see if I can debug it but Im not sure what to do after.\r\n\r\nI also entered the code of the project below for you guys can see.\r\n\r\nNote: I&#39;m heavily relying on source codes around the internet right now and my level of understanding is not that high skilled as a programmer but I&#39;m familiar how to code in Java.\r\n\r\n\r\n    try {\r\n       Tflite model = Tflite.newInstance(context);\r\n\r\n       // Creates inputs for reference.\r\n       TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 320, 320, 3}, DataType.FLOAT32);\r\n       inputFeature0.loadBuffer(byteBuffer);\r\n\r\n       // Runs model inference and gets result.\r\n       Signlanguage.Outputs outputs = model.process(inputFeature0);\r\n       TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n       // TensorBuffer outputFeature1 = outputs.getOutputFeature1AsTensorBuffer();\r\n       // TensorBuffer outputFeature2 = outputs.getOutputFeature2AsTensorBuffer();\r\n       // TensorBuffer outputFeature3 = outputs.getOutputFeature3AsTensorBuffer();\r\n\r\n       // Releases model resources if no longer used.\r\n       model.close();\r\n       } catch (IOException e) {\r\n       // TODO Handle the exception\r\n    }\r\n\r\n\r\n\r\n\r\nAnd this is what my object looks like in my MainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    TextView result, demoTxt, classified, clickHere;\r\n    ImageView imageView, arrowImage;\r\n    Button picture;\r\n\r\n    int imageSize = 320; // default image size\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        result = findViewById(R.id.result);\r\n        imageView = findViewById(R.id.imageView);\r\n        picture = findViewById(R.id.button);\r\n\r\n        demoTxt = findViewById(R.id.demoText);\r\n        clickHere = findViewById(R.id.click_here);\r\n        arrowImage = findViewById(R.id.demoArrow);\r\n        classified = findViewById(R.id.classified);\r\n\r\n        demoTxt.setVisibility(View.VISIBLE);\r\n        clickHere.setVisibility(View.GONE);\r\n        arrowImage.setVisibility(View.VISIBLE);\r\n        classified.setVisibility(View.GONE);\r\n        result.setVisibility(View.GONE);\r\n\r\n        picture.setOnClickListener(new View.OnClickListener(){\r\n            @RequiresApi(api = Build.VERSION_CODES.M)\r\n            @Override\r\n                public void onClick(View view){\r\n                //launch camera if we have permission\r\n                    if(checkSelfPermission(Manifest.permission.CAMERA)== PackageManager.PERMISSION_GRANTED){\r\n                        Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                        startActivityForResult(cameraIntent,1);\r\n                    }else {\r\n                        //request camera permission if we don&#39;t have\r\n                        requestPermissions(new String[]{Manifest.permission.CAMERA},100);\r\n                    }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (requestCode ==1 &amp;&amp; resultCode == RESULT_OK){\r\n            Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n            int dimension = Math.min(image.getWidth(),image.getHeight());\r\n            image = ThumbnailUtils.extractThumbnail(image,dimension,dimension);\r\n            imageView.setImageBitmap(image);\r\n\r\n            demoTxt.setVisibility(View.GONE);\r\n            clickHere.setVisibility(View.VISIBLE);\r\n            arrowImage.setVisibility(View.GONE);\r\n            classified.setVisibility(View.VISIBLE);\r\n            result.setVisibility(View.VISIBLE);\r\n\r\n            image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\r\n            classifyImage(image);\r\n\r\n            System.out.println(&quot;image.getWidth1: &quot;+image.getWidth());\r\n            System.out.println(&quot;image.getHeight1: &quot;+image.getHeight());\r\n            System.out.println(&quot;dimension: &quot;+dimension);\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n\r\n    private void classifyImage(Bitmap image) {\r\n        try{\r\n            Tflite model = Tflite.newInstance(getApplicationContext());\r\n\r\n            //create input for reference\r\n            TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1,320,320,3}, DataType.FLOAT32);\r\n            ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\r\n            byteBuffer.order(ByteOrder.nativeOrder());\r\n\r\n            //get 1D array of 224 * 224 pixels in image\r\n            int[] intValue = new int[imageSize * imageSize];\r\n            image.getPixels(intValue,0,image.getWidth(),0,0,image.getWidth(),image.getHeight());\r\n\r\n            //iterate over pixels and extract R, G, B values, add to bytebuffer\r\n            int pixel = 0;\r\n            for(int i = 0; i&lt;imageSize; i++){\r\n                for(int j =0;j&lt;imageSize;j++){\r\n                    int val= intValue[pixel++]; // RGB\r\n                    byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f/255.f));\r\n                    byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f/255.f));\r\n                    byteBuffer.putFloat((val &amp; 0xFF) * (1.f/255.f));\r\n                }\r\n            }\r\n\r\n            inputFeature0.loadBuffer(byteBuffer);\r\n\r\n            //run model interface and gets result\r\n            Tflite.Outputs outputs = model.process(inputFeature0);\r\n            //model inferences\r\n            TensorBuffer outputFeatures0 = outputs.getOutputFeature0AsTensorBuffer();\r\n            //THIS IS WHAT IAM TRYING TO WORK\r\n            TensorBuffer outputFeatures1 = outputs.getOutputFeature1AsTensorBuffer();\r\n            TensorBuffer outputFeatures2 = outputs.getOutputFeature2AsTensorBuffer();\r\n            TensorBuffer outputFeatures3 = outputs.getOutputFeature3AsTensorBuffer();\r\n\r\n            //Inferences\r\n            float[] confidence = outputFeatures0.getFloatArray();\r\n\r\n            //find the index of the class with the biggest confidence\r\n            int maxPos = 0;\r\n            float maxConfidence = 0;\r\n            for (int i = 0; i &lt; confidence.length; i++){\r\n                if(confidence[i] &gt; maxConfidence){\r\n                    maxConfidence = confidence[i];\r\n                    maxPos = i;\r\n                }\r\n            }\r\n            String[] classes = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;Catch&quot;,&quot;D&quot;,&quot;E&quot;,&quot;Emergency&quot;,&quot;F&quot;,&quot;Fear&quot;,&quot;Feel&quot;,&quot;Fine&quot;,&quot;G&quot;,&quot;H&quot;,\r\n                &quot;Help&quot;,&quot;ILoveYou&quot;,&quot;IReallyLoveYou&quot;,&quot;I&quot;,&quot;It&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;LiveLong&quot;,&quot;Love&quot;,&quot;M&quot;,&quot;Mine&quot;,&quot;Myself&quot;,\r\n                &quot;N&quot;,&quot;O&quot;,&quot;Okay&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;Sorry&quot;,&quot;Stop&quot;,&quot;T&quot;,&quot;ThankYou&quot;,&quot;This&quot;,&quot;Time&quot;,&quot;Tremble&quot;,&quot;U&quot;,&quot;V&quot;,\r\n                &quot;W&quot;,&quot;Where&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Yes&quot;,&quot;You&quot;,&quot;Yours&quot;,&quot;Z&quot;};\r\n            result.setText(classes[maxPos]);\r\n            result.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    //to search the sign language on internet\r\n                    startActivity(new Intent(Intent.ACTION_VIEW,\r\n                            Uri.parse(&quot;https://www.google.com/search?q=Signs+&quot;+result.getText())));\r\n                }\r\n            });\r\n\r\n            model.close();\r\n\r\n            }catch(IOException e){\r\n            //  TODO Handle the exception\r\n        }\r\n    }\r\n\r\n\r\nI have no idea how to involve these ?inferences? in finding the index of the classes with confidences to be able to get the result.\r\n\r\n\r\n\r\n\r\nThis is the error whenever I click the button for predicting the given image was this from LogCat:\r\n\r\nEDIT: This resolves the issue after I set the imageSize value to 320 but the prediction always predicts the same no matter what the image is inserted.\r\n\r\n        022-05-04 21:25:33.677 21148-21148/com.example.tflite E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.tflite, PID: 21148\r\n    java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { act=inline-data (has extras) }} to activity {com.example.tflite/com.example.tflite.MainActivity}: java.lang.IllegalArgumentException: The size of byte buffer and the shape do not match.\r\n\r\n\r\n        Caused by: java.lang.IllegalArgumentException: The size of byte buffer and the shape do not match.\r\n        // THE LINE FOR 119 IS inputFeature0.loadBuffer(byteBuffer);\r\n        at com.example.tflite.MainActivity.classifyImage(MainActivity.java:119)\r\n       // THE LINE FOR 90 IS classifyImage(image); which is outside the function.\r\n        at com.example.tflite.MainActivity.onActivityResult(MainActivity.java:90)\r\n        \r\nThese 2 lines were in blue highlight so I put them here.\r\n","title":"I can&#39;t run my deployed Tensorflow Lite Model in Android Studio due to customized model?","body":"<p>I was deploying my Tensorflow Lite model into my Android Studio. The application does run but when after I took a picture and tried to predict the result, the app crashes. It seems that it is due to the model I use since I'm using a customized trained model ? Here is what the model looks like after I imported it to my project. It had like 4 outputFeatures rather than from what I'm seeing in some guides which has only 1. Can please someone help me how to resolve this issue that'll be a huge lend of a hand for me.</p>\n<p>EDIT: I tried changing the imageSize value to 320 which matches with the createFixedSize values. The application does RUN, produced a result and did not crash after I entered the image. However, It only displays the same class as a result every time I run the prediction, . I tried inputting different images hoping to get different class result but it does not work at all. I also tried printing some values to see if I can debug it but Im not sure what to do after.</p>\n<p>I also entered the code of the project below for you guys can see.</p>\n<p>Note: I'm heavily relying on source codes around the internet right now and my level of understanding is not that high skilled as a programmer but I'm familiar how to code in Java.</p>\n<pre><code>try {\n   Tflite model = Tflite.newInstance(context);\n\n   // Creates inputs for reference.\n   TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 320, 320, 3}, DataType.FLOAT32);\n   inputFeature0.loadBuffer(byteBuffer);\n\n   // Runs model inference and gets result.\n   Signlanguage.Outputs outputs = model.process(inputFeature0);\n   TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n   // TensorBuffer outputFeature1 = outputs.getOutputFeature1AsTensorBuffer();\n   // TensorBuffer outputFeature2 = outputs.getOutputFeature2AsTensorBuffer();\n   // TensorBuffer outputFeature3 = outputs.getOutputFeature3AsTensorBuffer();\n\n   // Releases model resources if no longer used.\n   model.close();\n   } catch (IOException e) {\n   // TODO Handle the exception\n}\n</code></pre>\n<p>And this is what my object looks like in my MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nTextView result, demoTxt, classified, clickHere;\nImageView imageView, arrowImage;\nButton picture;\n\nint imageSize = 320; // default image size\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    result = findViewById(R.id.result);\n    imageView = findViewById(R.id.imageView);\n    picture = findViewById(R.id.button);\n\n    demoTxt = findViewById(R.id.demoText);\n    clickHere = findViewById(R.id.click_here);\n    arrowImage = findViewById(R.id.demoArrow);\n    classified = findViewById(R.id.classified);\n\n    demoTxt.setVisibility(View.VISIBLE);\n    clickHere.setVisibility(View.GONE);\n    arrowImage.setVisibility(View.VISIBLE);\n    classified.setVisibility(View.GONE);\n    result.setVisibility(View.GONE);\n\n    picture.setOnClickListener(new View.OnClickListener(){\n        @RequiresApi(api = Build.VERSION_CODES.M)\n        @Override\n            public void onClick(View view){\n            //launch camera if we have permission\n                if(checkSelfPermission(Manifest.permission.CAMERA)== PackageManager.PERMISSION_GRANTED){\n                    Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                    startActivityForResult(cameraIntent,1);\n                }else {\n                    //request camera permission if we don't have\n                    requestPermissions(new String[]{Manifest.permission.CAMERA},100);\n                }\n        }\n    });\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    if (requestCode ==1 &amp;&amp; resultCode == RESULT_OK){\n        Bitmap image = (Bitmap) data.getExtras().get(&quot;data&quot;);\n        int dimension = Math.min(image.getWidth(),image.getHeight());\n        image = ThumbnailUtils.extractThumbnail(image,dimension,dimension);\n        imageView.setImageBitmap(image);\n\n        demoTxt.setVisibility(View.GONE);\n        clickHere.setVisibility(View.VISIBLE);\n        arrowImage.setVisibility(View.GONE);\n        classified.setVisibility(View.VISIBLE);\n        result.setVisibility(View.VISIBLE);\n\n        image = Bitmap.createScaledBitmap(image, imageSize, imageSize, false);\n        classifyImage(image);\n\n        System.out.println(&quot;image.getWidth1: &quot;+image.getWidth());\n        System.out.println(&quot;image.getHeight1: &quot;+image.getHeight());\n        System.out.println(&quot;dimension: &quot;+dimension);\n    }\n    super.onActivityResult(requestCode, resultCode, data);\n}\n\n\nprivate void classifyImage(Bitmap image) {\n    try{\n        Tflite model = Tflite.newInstance(getApplicationContext());\n\n        //create input for reference\n        TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1,320,320,3}, DataType.FLOAT32);\n        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\n        byteBuffer.order(ByteOrder.nativeOrder());\n\n        //get 1D array of 224 * 224 pixels in image\n        int[] intValue = new int[imageSize * imageSize];\n        image.getPixels(intValue,0,image.getWidth(),0,0,image.getWidth(),image.getHeight());\n\n        //iterate over pixels and extract R, G, B values, add to bytebuffer\n        int pixel = 0;\n        for(int i = 0; i&lt;imageSize; i++){\n            for(int j =0;j&lt;imageSize;j++){\n                int val= intValue[pixel++]; // RGB\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f/255.f));\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f/255.f));\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f/255.f));\n            }\n        }\n\n        inputFeature0.loadBuffer(byteBuffer);\n\n        //run model interface and gets result\n        Tflite.Outputs outputs = model.process(inputFeature0);\n        //model inferences\n        TensorBuffer outputFeatures0 = outputs.getOutputFeature0AsTensorBuffer();\n        //THIS IS WHAT IAM TRYING TO WORK\n        TensorBuffer outputFeatures1 = outputs.getOutputFeature1AsTensorBuffer();\n        TensorBuffer outputFeatures2 = outputs.getOutputFeature2AsTensorBuffer();\n        TensorBuffer outputFeatures3 = outputs.getOutputFeature3AsTensorBuffer();\n\n        //Inferences\n        float[] confidence = outputFeatures0.getFloatArray();\n\n        //find the index of the class with the biggest confidence\n        int maxPos = 0;\n        float maxConfidence = 0;\n        for (int i = 0; i &lt; confidence.length; i++){\n            if(confidence[i] &gt; maxConfidence){\n                maxConfidence = confidence[i];\n                maxPos = i;\n            }\n        }\n        String[] classes = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;Catch&quot;,&quot;D&quot;,&quot;E&quot;,&quot;Emergency&quot;,&quot;F&quot;,&quot;Fear&quot;,&quot;Feel&quot;,&quot;Fine&quot;,&quot;G&quot;,&quot;H&quot;,\n            &quot;Help&quot;,&quot;ILoveYou&quot;,&quot;IReallyLoveYou&quot;,&quot;I&quot;,&quot;It&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;LiveLong&quot;,&quot;Love&quot;,&quot;M&quot;,&quot;Mine&quot;,&quot;Myself&quot;,\n            &quot;N&quot;,&quot;O&quot;,&quot;Okay&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;Sorry&quot;,&quot;Stop&quot;,&quot;T&quot;,&quot;ThankYou&quot;,&quot;This&quot;,&quot;Time&quot;,&quot;Tremble&quot;,&quot;U&quot;,&quot;V&quot;,\n            &quot;W&quot;,&quot;Where&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Yes&quot;,&quot;You&quot;,&quot;Yours&quot;,&quot;Z&quot;};\n        result.setText(classes[maxPos]);\n        result.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                //to search the sign language on internet\n                startActivity(new Intent(Intent.ACTION_VIEW,\n                        Uri.parse(&quot;https://www.google.com/search?q=Signs+&quot;+result.getText())));\n            }\n        });\n\n        model.close();\n\n        }catch(IOException e){\n        //  TODO Handle the exception\n    }\n}\n</code></pre>\n<p>I have no idea how to involve these ?inferences? in finding the index of the classes with confidences to be able to get the result.</p>\n<p>This is the error whenever I click the button for predicting the given image was this from LogCat:</p>\n<p>EDIT: This resolves the issue after I set the imageSize value to 320 but the prediction always predicts the same no matter what the image is inserted.</p>\n<pre><code>    022-05-04 21:25:33.677 21148-21148/com.example.tflite E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.tflite, PID: 21148\njava.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=Intent { act=inline-data (has extras) }} to activity {com.example.tflite/com.example.tflite.MainActivity}: java.lang.IllegalArgumentException: The size of byte buffer and the shape do not match.\n\n\n    Caused by: java.lang.IllegalArgumentException: The size of byte buffer and the shape do not match.\n    // THE LINE FOR 119 IS inputFeature0.loadBuffer(byteBuffer);\n    at com.example.tflite.MainActivity.classifyImage(MainActivity.java:119)\n   // THE LINE FOR 90 IS classifyImage(image); which is outside the function.\n    at com.example.tflite.MainActivity.onActivityResult(MainActivity.java:90)\n    \n</code></pre>\n<p>These 2 lines were in blue highlight so I put them here.</p>\n"},{"tags":["java","spring","spring-integration","integration"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651864925,"post_id":72136688,"comment_id":127474664,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651846631,"creation_date":1651846631,"answer_id":72142972,"question_id":72136688,"body_markdown":"Please, learn what types of `MessageChannel` implementations are there: https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations\r\n\r\nThat&#39;s correct that `DirectChannel` is just calling the `MessageHandler` in the same sending thread. The `PublishSubscribeChannel` has the same behavior by default.\r\n\r\nIf you&#39;d like to send-n-forget, then you need a `MessageChannel` which shifts consuming task to a different thread. For this purpose there are `QueueChannel`, `ExecutorChannel` and `FluxMessageChannel`.","title":"Forwarding message to Message Channel manually - Spring Integration","body":"<p>Please, learn what types of <code>MessageChannel</code> implementations are there: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/core.html#channel-implementations</a></p>\n<p>That's correct that <code>DirectChannel</code> is just calling the <code>MessageHandler</code> in the same sending thread. The <code>PublishSubscribeChannel</code> has the same behavior by default.</p>\n<p>If you'd like to send-n-forget, then you need a <code>MessageChannel</code> which shifts consuming task to a different thread. For this purpose there are <code>QueueChannel</code>, <code>ExecutorChannel</code> and <code>FluxMessageChannel</code>.</p>\n"}],"owner":{"account_id":5014814,"reputation":1,"user_id":4029933,"display_name":"JaNa V"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72142972,"answer_count":1,"score":0,"last_activity_date":1651846631,"creation_date":1651815827,"question_id":72136688,"body_markdown":"Am able to send the message successfully using the below from my FirstHandler\r\n\r\nmessageChannel.send(MessageBuilder.withPayload(pa).build());\r\n\r\nBut, the flow is waiting for the handler2 associated with the messageChannel to complete.\r\n\r\nI would like to just forward the data to the channel and forgot , I tried publish-subscribe &amp; direct channel both wait for the handler2 to complete  ","title":"Forwarding message to Message Channel manually - Spring Integration","body":"<p>Am able to send the message successfully using the below from my FirstHandler</p>\n<p>messageChannel.send(MessageBuilder.withPayload(pa).build());</p>\n<p>But, the flow is waiting for the handler2 associated with the messageChannel to complete.</p>\n<p>I would like to just forward the data to the channel and forgot , I tried publish-subscribe &amp; direct channel both wait for the handler2 to complete</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1411732022,"creation_date":1411732022,"answer_id":26058824,"question_id":26058573,"body_markdown":"`Stream`s are defined to do lazy processing. So in order to complete your `count()` operation it doesn’t need to look at the other items. Otherwise, it would be broken, as `limit(…)` is defined to be a proper way of processing infinite streams in a finite time (by not processing more than `limit` items).\r\n\r\nIn principle, it would be possible to complete your request without ever looking at the `int` values at all, as the operation chain `limit(3).count()` doesn’t need any processing of the previous operations (other than verifying whether the stream has at least `3` items).\r\n","title":"Java 8 stream peek and limit interaction","body":"<p><code>Stream</code>s are defined to do lazy processing. So in order to complete your <code>count()</code> operation it doesn’t need to look at the other items. Otherwise, it would be broken, as <code>limit(…)</code> is defined to be a proper way of processing infinite streams in a finite time (by not processing more than <code>limit</code> items).</p>\n\n<p>In principle, it would be possible to complete your request without ever looking at the <code>int</code> values at all, as the operation chain <code>limit(3).count()</code> doesn’t need any processing of the previous operations (other than verifying whether the stream has at least <code>3</code> items).</p>\n"},{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1411732042,"creation_date":1411732042,"answer_id":26058828,"question_id":26058573,"body_markdown":"The most important thing to know about streams are that they do not contain elements themselves (like collections) but are working like a pipe whose values are _lazily_ evaluated. That means that the statements that build up a stream - including mapping, filtering, or whatever - are not evaluated until the terminal operation runs.\r\n\r\nIn your first example, the stream tries to count from 0 to 9, one at each time doing the following:\r\n\r\n 1. print out the value\r\n 2. check whether 3 values are passed (if yes, terminate)\r\n\r\nSo you really get the output `012`.\r\n\r\nIn your second example, the stream again counts from 0 to 9, one at each time doing the following:\r\n\r\n 1. print out the value\r\n 2. maping x to x*2, thus forwarding the double of the value to the next step\r\n\r\nAs you can see the output comes before the mapping and thus you get the result `0123456789`. Try to switch the `peek` and the `map` calls. Then you will get your expected output.","title":"Java 8 stream peek and limit interaction","body":"<p>The most important thing to know about streams are that they do not contain elements themselves (like collections) but are working like a pipe whose values are <em>lazily</em> evaluated. That means that the statements that build up a stream - including mapping, filtering, or whatever - are not evaluated until the terminal operation runs.</p>\n\n<p>In your first example, the stream tries to count from 0 to 9, one at each time doing the following:</p>\n\n<ol>\n<li>print out the value</li>\n<li>check whether 3 values are passed (if yes, terminate)</li>\n</ol>\n\n<p>So you really get the output <code>012</code>.</p>\n\n<p>In your second example, the stream again counts from 0 to 9, one at each time doing the following:</p>\n\n<ol>\n<li>print out the value</li>\n<li>maping x to x*2, thus forwarding the double of the value to the next step</li>\n</ol>\n\n<p>As you can see the output comes before the mapping and thus you get the result <code>0123456789</code>. Try to switch the <code>peek</code> and the <code>map</code> calls. Then you will get your expected output.</p>\n"},{"tags":[],"owner":{"account_id":1975190,"reputation":2400,"user_id":1773130,"accept_rate":67,"display_name":"Sourav &#39;Abhi&#39; Mitra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1411733577,"creation_date":1411732887,"answer_id":26059082,"question_id":26058573,"body_markdown":"From the [docs][1]:\r\n\r\n`limit()` is a `short-circuiting stateful intermediate operation.`\r\n\r\n`map()` is an `intermediate operation`\r\n\r\nAgain from the [docs][2] what that essentially means is that `limit()` will return a stream  with `x` values from the stream it received.\r\n\r\n&gt; An intermediate operation is short-circuiting if, when presented with infinite input, it may produce a finite stream as a result.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps","title":"Java 8 stream peek and limit interaction","body":"<p>From the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<p><code>limit()</code> is a <code>short-circuiting stateful intermediate operation.</code></p>\n\n<p><code>map()</code> is an <code>intermediate operation</code></p>\n\n<p>Again from the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">docs</a> what that essentially means is that <code>limit()</code> will return a stream  with <code>x</code> values from the stream it received.</p>\n\n<blockquote>\n  <p>An intermediate operation is short-circuiting if, when presented with infinite input, it may produce a finite stream as a result.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485110583,"creation_date":1485110583,"answer_id":41794777,"question_id":26058573,"body_markdown":"Streams use lazy evaluation, the intermediate operations, i.e. *peek()* are not executed till the terminal operation runs.\r\nFor instances, the following code will just print **1** .In fact, as soon as the first element of the stream,1, will reach the terminal operation, *findAny()*, the stream execution will be ended.\r\n\r\n    Arrays.asList(1,2,3)\r\n                .stream()\r\n                .peek(System.out::print)\r\n                .filter((n)-&gt;n&lt;3)\r\n                .findAny();\r\n\r\nViceversa, in the following example, will be printed **123**. In fact the terminal operation, *noneMatch()*, needs to evaluate all the elements of the stream in order to make sure there is no match with its Predicate: *n&gt;4*\r\n\r\n    Arrays.asList(1, 2, 3)\r\n                .stream()\r\n                .peek(System.out::print)\r\n                .noneMatch(n -&gt; n &gt; 4);","title":"Java 8 stream peek and limit interaction","body":"<p>Streams use lazy evaluation, the intermediate operations, i.e. <em>peek()</em> are not executed till the terminal operation runs.\nFor instances, the following code will just print <strong>1</strong> .In fact, as soon as the first element of the stream,1, will reach the terminal operation, <em>findAny()</em>, the stream execution will be ended.</p>\n\n<pre><code>Arrays.asList(1,2,3)\n            .stream()\n            .peek(System.out::print)\n            .filter((n)-&gt;n&lt;3)\n            .findAny();\n</code></pre>\n\n<p>Viceversa, in the following example, will be printed <strong>123</strong>. In fact the terminal operation, <em>noneMatch()</em>, needs to evaluate all the elements of the stream in order to make sure there is no match with its Predicate: <em>n>4</em></p>\n\n<pre><code>Arrays.asList(1, 2, 3)\n            .stream()\n            .peek(System.out::print)\n            .noneMatch(n -&gt; n &gt; 4);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13815226,"reputation":26,"user_id":9971987,"display_name":"Wouter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651846494,"creation_date":1651846494,"answer_id":72142940,"question_id":26058573,"body_markdown":"For future readers struggling to understand how the `count` method doesn&#39;t execute the `peek` method before it, I thought I add this additional note: \r\n\r\nAs per Java 9, the [Java documentation][1] for the `count` method states that: \r\n\r\n&gt; An implementation may choose to not execute the stream pipeline\r\n&gt; (either sequentially or in parallel) if it is capable of computing the\r\n&gt; count directly from the stream source.\r\n\r\n This means terminating the stream with `count` is no longer enough to ensure the execution of all previous steps, such as `peek`. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#count--","title":"Java 8 stream peek and limit interaction","body":"<p>For future readers struggling to understand how the <code>count</code> method doesn't execute the <code>peek</code> method before it, I thought I add this additional note:</p>\n<p>As per Java 9, the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#count--\" rel=\"nofollow noreferrer\">Java documentation</a> for the <code>count</code> method states that:</p>\n<blockquote>\n<p>An implementation may choose to not execute the stream pipeline\n(either sequentially or in parallel) if it is capable of computing the\ncount directly from the stream source.</p>\n</blockquote>\n<p>This means terminating the stream with <code>count</code> is no longer enough to ensure the execution of all previous steps, such as <code>peek</code>.</p>\n"}],"owner":{"account_id":345144,"reputation":8790,"user_id":677881,"accept_rate":94,"display_name":"tsds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3887,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":26059082,"answer_count":5,"score":15,"last_activity_date":1651846494,"creation_date":1411731154,"question_id":26058573,"body_markdown":"Why this code in java 8:\r\n\r\n    IntStream.range(0, 10)\r\n            .peek(System.out::print)\r\n            .limit(3)\r\n            .count();\r\n\r\noutputs:\r\n\r\n    012\r\n\r\nI&#39;d expect it to output `0123456789`, because peek preceeds limit.\r\n\r\nIt seems to me even more peculiar because of the fact that this:\r\n\r\n    IntStream.range(0, 10)\r\n            .peek(System.out::print)\r\n            .map(x -&gt; x * 2)\r\n            .count();\r\noutputs `0123456789` as expected (not `02481012141618`).\r\n\r\nP.S.: `.count()` here is used just to consume stream, it can be replaced with anything else","title":"Java 8 stream peek and limit interaction","body":"<p>Why this code in java 8:</p>\n\n<pre><code>IntStream.range(0, 10)\n        .peek(System.out::print)\n        .limit(3)\n        .count();\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>012\n</code></pre>\n\n<p>I'd expect it to output <code>0123456789</code>, because peek preceeds limit.</p>\n\n<p>It seems to me even more peculiar because of the fact that this:</p>\n\n<pre><code>IntStream.range(0, 10)\n        .peek(System.out::print)\n        .map(x -&gt; x * 2)\n        .count();\n</code></pre>\n\n<p>outputs <code>0123456789</code> as expected (not <code>02481012141618</code>).</p>\n\n<p>P.S.: <code>.count()</code> here is used just to consume stream, it can be replaced with anything else</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2266696,"reputation":8678,"user_id":1995170,"accept_rate":100,"display_name":"Michał Rybak"},"score":0,"creation_date":1386726298,"post_id":20508997,"comment_id":30659165,"body_markdown":"did you try to use a debugger?","body":"did you try to use a debugger?"},{"owner":{"account_id":3438418,"reputation":51,"user_id":2880932,"accept_rate":100,"display_name":"Max"},"score":0,"creation_date":1386726398,"post_id":20508997,"comment_id":30659190,"body_markdown":"I don&#39;t really know of one. It&#39;s an logic error too, it compiles fine.","body":"I don&#39;t really know of one. It&#39;s an logic error too, it compiles fine."},{"owner":{"account_id":2266696,"reputation":8678,"user_id":1995170,"accept_rate":100,"display_name":"Michał Rybak"},"score":0,"creation_date":1386726504,"post_id":20508997,"comment_id":30659225,"body_markdown":"debugger will let you go through your code line by line and watch the values of variables, I really recommend learning to use it. Most IDEs (like Eclipse, Intellij IDEA) have some debugger included.","body":"debugger will let you go through your code line by line and watch the values of variables, I really recommend learning to use it. Most IDEs (like Eclipse, Intellij IDEA) have some debugger included."},{"owner":{"account_id":3353945,"reputation":3796,"user_id":2817371,"accept_rate":70,"display_name":"Red Alert"},"score":0,"creation_date":1386726511,"post_id":20508997,"comment_id":30659230,"body_markdown":"why do you have cases for when the lengths are different? The only cases you should be concerned about are when a.length = 0, b.length =0, or both of them = 0. Also, these cases should all be in one big loop.","body":"why do you have cases for when the lengths are different? The only cases you should be concerned about are when a.length = 0, b.length =0, or both of them = 0. Also, these cases should all be in one big loop."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1386726532,"creation_date":1386726532,"answer_id":20509044,"question_id":20508997,"body_markdown":"You&#39;ve got a workable approach, but you could significantly simplify it by using a single loop with two counters:\r\n\r\n    int apos = 0, bpos = 0;\r\n    while (apos != a.length() || bpos != b.length()) {\r\n        if (apos &lt; a.length()) m += a.charAt(apos++);\r\n        if (bpos &lt; b.length()) m += b.charAt(bpos++);\r\n    }\r\n\r\nIn this loop you will &quot;make progress&quot; on each step by advancing `apos`, `bpos`, or both. Once a string runs out of characters, its corresponding `pos` stops advancing. The loop is over when both `pos` reach their ends.\r\n\r\nNote: When you need to append to a string in a loop, use [`StringBuilder`][1].\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html","title":"Merge two strings letter by letter in Java?","body":"<p>You've got a workable approach, but you could significantly simplify it by using a single loop with two counters:</p>\n\n<pre><code>int apos = 0, bpos = 0;\nwhile (apos != a.length() || bpos != b.length()) {\n    if (apos &lt; a.length()) m += a.charAt(apos++);\n    if (bpos &lt; b.length()) m += b.charAt(bpos++);\n}\n</code></pre>\n\n<p>In this loop you will \"make progress\" on each step by advancing <code>apos</code>, <code>bpos</code>, or both. Once a string runs out of characters, its corresponding <code>pos</code> stops advancing. The loop is over when both <code>pos</code> reach their ends.</p>\n\n<p>Note: When you need to append to a string in a loop, use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\"><code>StringBuilder</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2899914,"reputation":226,"user_id":2486871,"display_name":"Sandy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386727472,"creation_date":1386727472,"answer_id":20509201,"question_id":20508997,"body_markdown":"I used Merge sort approach to solve this problem. First I converted both the strings into their respective character arrays and then merged both the arrays and converted the array back to a string. You can find my code below,I have tested the code and it is working. Let me know if you have any questions..\r\n\r\n    public String merge(String leftStr, String rightStr) {\t\r\n    \t\tchar[]left = leftStr.toCharArray();\r\n    \t\tchar[]right = rightStr.toCharArray();\r\n    \t\tint nL = left.length;\r\n    \t\tint nR= right.length;\r\n    \t\tchar[] mergeArr= new char[nL+nR];\r\n    \t\tint i=0,j=0,k=0;\r\n    \t\tint temp =0;\r\n    \t\twhile(i&lt;nL &amp;&amp; j&lt;nR){\r\n    \t\t\t\r\n    \t\t\tif (temp==0){\r\n    \t\t\t\tmergeArr[k]=left[i];\r\n    \t\t\t\ti++;\r\n    \t\t\t\ttemp =1;\r\n    \t\t\t}else{\r\n    \t\t\t\tmergeArr[k]=right[j];\r\n    \t\t\t\tj++;\r\n    \t\t\t\ttemp=0;\r\n    \t\t\t}\r\n    \t\t\tk++;\t\t\t\r\n    \t\t}\r\n    \t\twhile(i&lt;nL){\r\n    \t\t\t\r\n    \t\t\tmergeArr[k]=left[i]; k++; i++;\r\n    \t\t}\r\n    \t\twhile(j&lt;nR){\r\n    \t\t\t\r\n    \t\t\tmergeArr[k]=right[j]; k++; j++;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\treturn new String(mergeArr);\r\n    \t\t\r\n    \t}","title":"Merge two strings letter by letter in Java?","body":"<p>I used Merge sort approach to solve this problem. First I converted both the strings into their respective character arrays and then merged both the arrays and converted the array back to a string. You can find my code below,I have tested the code and it is working. Let me know if you have any questions..</p>\n\n<pre><code>public String merge(String leftStr, String rightStr) {  \n        char[]left = leftStr.toCharArray();\n        char[]right = rightStr.toCharArray();\n        int nL = left.length;\n        int nR= right.length;\n        char[] mergeArr= new char[nL+nR];\n        int i=0,j=0,k=0;\n        int temp =0;\n        while(i&lt;nL &amp;&amp; j&lt;nR){\n\n            if (temp==0){\n                mergeArr[k]=left[i];\n                i++;\n                temp =1;\n            }else{\n                mergeArr[k]=right[j];\n                j++;\n                temp=0;\n            }\n            k++;            \n        }\n        while(i&lt;nL){\n\n            mergeArr[k]=left[i]; k++; i++;\n        }\n        while(j&lt;nR){\n\n            mergeArr[k]=right[j]; k++; j++;\n        }\n\n\n        return new String(mergeArr);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1433328,"reputation":11556,"user_id":1355221,"accept_rate":100,"display_name":"dansalmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386810449,"creation_date":1386808898,"answer_id":20532895,"question_id":20508997,"body_markdown":"Another approach using `StringBuilder` and `char[]`.  Works as long as the first is longer than the second, which is guaranteed by the first method.\r\n\r\n    public String mixString(String a, String b) {\r\n        if (b.length() &gt; a.length())\r\n            return mixString(new StringBuilder(b), a.toCharArray(), 0);\r\n        return mixString(new StringBuilder(a), b.toCharArray(), 1);\r\n    }\r\n    \r\n    public String mixString(StringBuilder ab, char[] b, int start) {\r\n        int i = 0;\r\n        for (char c : b)\r\n            ab.insert(i++*2 + start, &quot;&quot; + c);\r\n        return ab.toString();\r\n    }","title":"Merge two strings letter by letter in Java?","body":"<p>Another approach using <code>StringBuilder</code> and <code>char[]</code>.  Works as long as the first is longer than the second, which is guaranteed by the first method.</p>\n\n<pre><code>public String mixString(String a, String b) {\n    if (b.length() &gt; a.length())\n        return mixString(new StringBuilder(b), a.toCharArray(), 0);\n    return mixString(new StringBuilder(a), b.toCharArray(), 1);\n}\n\npublic String mixString(StringBuilder ab, char[] b, int start) {\n    int i = 0;\n    for (char c : b)\n        ab.insert(i++*2 + start, \"\" + c);\n    return ab.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2274734,"reputation":83,"user_id":2001322,"accept_rate":40,"display_name":"RakeshKirola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445702908,"creation_date":1445702908,"answer_id":33320295,"question_id":20508997,"body_markdown":"Here is my attempt::\r\n\r\n\r\npublic static String mixString1(String a,String b){\r\n\t\t\r\n\t\tString result=&quot;&quot;;\r\n\t\t\r\n\t\tint startValue = 0;\r\n\t\tint increment = 0;\r\n\t\t\r\n\t\tif(a.length()&lt;=b.length()){\r\n\t\r\n\t\tfor(int i=0;i&lt;a.length();i++){\r\n\t\t\t\r\n\t\t\t\tresult =  result+a.charAt(i)+b.charAt(i);\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse if(a.length()&gt;=b.length()){\r\n\t\t\t\r\n\t\t\tfor(int i=0;i&lt;b.length();i++){\r\n\t\t\t\t\r\n\t\t\t\t\tresult =  result+a.charAt(i)+b.charAt(i);\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\r\n\t\tif(a.length()&lt;b.length()){\r\n\t\t\t\r\n\t\t\tstartValue= a.length();\r\n\t\t\tincrement = b.length();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tstartValue= b.length();\r\n\t\t\tincrement = a.length();\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(a.length()&lt;b.length()){\r\n\t\t\r\n\t\tfor(int j=startValue;j&lt;increment;j++){\r\n\t\t\t\r\n\t\t\tresult = result+b.charAt(j);\r\n\t\t\t\r\n\t\t}\r\n\t\t}\r\n\t\telse if(a.length()&gt;b.length()){\r\n\t\t\t\r\n\t\t\tfor(int j=startValue;j&lt;increment;j++){\r\n\t\t\t\t\r\n\t\t\t\tresult = result+a.charAt(j);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\treturn result;\r\n\t\t}\r\n\t","title":"Merge two strings letter by letter in Java?","body":"<p>Here is my attempt::</p>\n\n<p>public static String mixString1(String a,String b){</p>\n\n<pre><code>    String result=\"\";\n\n    int startValue = 0;\n    int increment = 0;\n\n    if(a.length()&lt;=b.length()){\n\n    for(int i=0;i&lt;a.length();i++){\n\n            result =  result+a.charAt(i)+b.charAt(i);\n\n    }\n\n    }\n\n    else if(a.length()&gt;=b.length()){\n\n        for(int i=0;i&lt;b.length();i++){\n\n                result =  result+a.charAt(i)+b.charAt(i);\n\n        }\n\n        }\n\n\n    if(a.length()&lt;b.length()){\n\n        startValue= a.length();\n        increment = b.length();\n\n    }\n\n    else {\n\n        startValue= b.length();\n        increment = a.length();\n\n    }\n\n    if(a.length()&lt;b.length()){\n\n    for(int j=startValue;j&lt;increment;j++){\n\n        result = result+b.charAt(j);\n\n    }\n    }\n    else if(a.length()&gt;b.length()){\n\n        for(int j=startValue;j&lt;increment;j++){\n\n            result = result+a.charAt(j);\n\n        }\n\n\n    }\n\n    return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6638226,"reputation":81,"user_id":5124780,"accept_rate":60,"display_name":"rm65453"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460154664,"creation_date":1460154664,"answer_id":36510348,"question_id":20508997,"body_markdown":"    public String mixString(String a, String b) {\r\n    StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n    int longer = 0;\r\n    if (a.length()&gt;b.length()) longer = a.length();\r\n    else longer = b.length();\r\n    for (int i = 0; i &lt;longer;i++){\r\n    if (i&lt;a.length()) sb.append(a.substring(i,i+1));\r\n    if (i&lt;b.length()) sb.append(b.substring(i,i+1));\r\n    }\r\n    return sb.toString();\r\n    }\r\n","title":"Merge two strings letter by letter in Java?","body":"<pre><code>public String mixString(String a, String b) {\nStringBuilder sb = new StringBuilder(\"\");\nint longer = 0;\nif (a.length()&gt;b.length()) longer = a.length();\nelse longer = b.length();\nfor (int i = 0; i &lt;longer;i++){\nif (i&lt;a.length()) sb.append(a.substring(i,i+1));\nif (i&lt;b.length()) sb.append(b.substring(i,i+1));\n}\nreturn sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16521530,"reputation":1,"user_id":11937561,"display_name":"Rares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566047041,"creation_date":1566047041,"answer_id":57536530,"question_id":20508997,"body_markdown":"    public String mixString(String a, String b) {\r\n\t  String c=&quot;&quot;;\r\n\t  String left=&quot;&quot;;\r\n\t  int min;\r\n\t  if(a.length()&gt;b.length()) {\r\n\t\t  min=b.length();\r\n\t\t left=a.substring(b.length(),a.length());\r\n\t  }\r\n\t  else {\r\n\t\t  min=a.length();\r\n\t\t  left=b.substring(a.length(),b.length());\r\n\t  }\r\n\t  \t  \t  \r\n\t  for(int i=0;i&lt;min;i++) {\r\n\t\t  c +=a.substring(i,i+1)+b.substring(i,i+1);\r\n\t\t \r\n\t  }\t  \r\n\treturn c+left;\t  \t  \t  \r\n\t}","title":"Merge two strings letter by letter in Java?","body":"<pre><code>public String mixString(String a, String b) {\n  String c=\"\";\n  String left=\"\";\n  int min;\n  if(a.length()&gt;b.length()) {\n      min=b.length();\n     left=a.substring(b.length(),a.length());\n  }\n  else {\n      min=a.length();\n      left=b.substring(a.length(),b.length());\n  }\n\n  for(int i=0;i&lt;min;i++) {\n      c +=a.substring(i,i+1)+b.substring(i,i+1);\n\n  }   \nreturn c+left;            \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18996777,"reputation":1,"user_id":13864792,"display_name":"Simran jeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593872563,"creation_date":1593872563,"answer_id":62730275,"question_id":20508997,"body_markdown":"Here is my Approach, feedback is most welcome\r\n\r\n    void printPattern(String str, String str1){\r\n        int length1 = str.length();\r\n        int length2 = str1.length();\r\n        int i =0;\r\n        String output =&quot;&quot;;\r\n        while(length1 &gt; 0 &amp;&amp; length2 &gt; 0){\r\n             output += (str.charAt(i)) ;\r\n             output += (str1.charAt(i)) ;\r\n            length1-- ; length2-- ; i++;\r\n        }\r\n        System.out.println(output);\r\n    }","title":"Merge two strings letter by letter in Java?","body":"<p>Here is my Approach, feedback is most welcome</p>\n<pre><code>void printPattern(String str, String str1){\n    int length1 = str.length();\n    int length2 = str1.length();\n    int i =0;\n    String output =&quot;&quot;;\n    while(length1 &gt; 0 &amp;&amp; length2 &gt; 0){\n         output += (str.charAt(i)) ;\n         output += (str1.charAt(i)) ;\n        length1-- ; length2-- ; i++;\n    }\n    System.out.println(output);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651846053,"creation_date":1651846053,"answer_id":72142834,"question_id":20508997,"body_markdown":"Here is my solution:\r\n\r\n      public String mixString(String a, String b) {\r\n      int minLength = 0;\r\n      String combination = &quot;&quot;;\r\n      String end = &quot;&quot;;\r\n      \r\n      if (a.length() &lt; b.length()) {\r\n        minLength = a.length();\r\n        end = b.substring(minLength, b.length());\r\n      } else {\r\n        minLength = b.length();\r\n        end = a.substring(minLength, a.length());\r\n      }\r\n      \r\n      for (int i = 0; i &lt; minLength; i++) {\r\n        combination = combination + a.substring(i, i+1) + b.substring(i, i+1);\r\n      }\r\n      \r\n      return combination + end;\r\n      \r\n    }\r\n\r\n","title":"Merge two strings letter by letter in Java?","body":"<p>Here is my solution:</p>\n<pre><code>  public String mixString(String a, String b) {\n  int minLength = 0;\n  String combination = &quot;&quot;;\n  String end = &quot;&quot;;\n  \n  if (a.length() &lt; b.length()) {\n    minLength = a.length();\n    end = b.substring(minLength, b.length());\n  } else {\n    minLength = b.length();\n    end = a.substring(minLength, a.length());\n  }\n  \n  for (int i = 0; i &lt; minLength; i++) {\n    combination = combination + a.substring(i, i+1) + b.substring(i, i+1);\n  }\n  \n  return combination + end;\n  \n}\n</code></pre>\n"}],"owner":{"account_id":3438418,"reputation":51,"user_id":2880932,"accept_rate":100,"display_name":"Max"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10636,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20509044,"answer_count":8,"score":2,"last_activity_date":1651846053,"creation_date":1386726225,"question_id":20508997,"body_markdown":"\r\n&gt; Given two strings, A and B, create a bigger string made of the first char of A, the first char of B, the second char of A, the second char of B, and so on. Any leftover chars go at the end of the result. \r\n\r\n \r\n    public String mixString(String a, String b)\r\n    {\r\n\r\n\r\n        String str = &quot;&quot;;\r\n        int len = 0;\r\n\r\n        if (a.length() &gt;= b.length())\r\n        {\r\n            len = a.length();\r\n        } else\r\n            len = b.length();\r\n\r\n        for (int i = 0; i &lt; len; i++)\r\n        {\r\n\r\n            if (i &lt; a.length())\r\n            {\r\n                str += a.charAt(i);\r\n            }\r\n\r\n            if (i &lt; b.length())\r\n            {\r\n                str += b.charAt(i);\r\n            }\r\n\r\n        }\r\n        return str;\r\n    }\r\n","title":"Merge two strings letter by letter in Java?","body":"<blockquote>\n  <p>Given two strings, A and B, create a bigger string made of the first char of A, the first char of B, the second char of A, the second char of B, and so on. Any leftover chars go at the end of the result. </p>\n</blockquote>\n\n<pre><code>public String mixString(String a, String b)\n{\n\n\n    String str = \"\";\n    int len = 0;\n\n    if (a.length() &gt;= b.length())\n    {\n        len = a.length();\n    } else\n        len = b.length();\n\n    for (int i = 0; i &lt; len; i++)\n    {\n\n        if (i &lt; a.length())\n        {\n            str += a.charAt(i);\n        }\n\n        if (i &lt; b.length())\n        {\n            str += b.charAt(i);\n        }\n\n    }\n    return str;\n}\n</code></pre>\n"},{"tags":["java","kotlin","gradle","incremental-build"],"answers":[{"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651845959,"creation_date":1651845959,"answer_id":72142819,"question_id":72125992,"body_markdown":"It looks like IntelliJ IDEA sets `Task.upToDateWhen` to `false`. In console it works fine. \r\n\r\nThere is a bug for that: https://youtrack.jetbrains.com/issue/IDEA-240111","title":"Make test task for kotlin incremental in Gradle?","body":"<p>It looks like IntelliJ IDEA sets <code>Task.upToDateWhen</code> to <code>false</code>. In console it works fine.</p>\n<p>There is a bug for that: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-240111\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-240111</a></p>\n"}],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72142819,"answer_count":1,"score":0,"last_activity_date":1651845959,"creation_date":1651747929,"question_id":72125992,"body_markdown":"I would like to make my `test` task incremental, but I noticed that it looks for files in `java` instead of `kotlin`:\r\n\r\n```\r\nTask &#39;:test&#39; is not up-to-date because:\r\n  Task.upToDateWhen is false.\r\nfile or directory &#39;/path/to/my/project/build/classes/java/test&#39;, not found\r\n```\r\n\r\nI have the following plugins enabled:\r\n\r\n```kotlin\r\nplugins {\r\n    kotlin(&quot;jvm&quot;) version &quot;1.6.20&quot;\r\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.6.20&quot;\r\n}\r\n```\r\n\r\nHow I can configure test task to pick up `/path/to/my/project/build/classes/kotlin/test` \r\ninstead of `java`?","title":"Make test task for kotlin incremental in Gradle?","body":"<p>I would like to make my <code>test</code> task incremental, but I noticed that it looks for files in <code>java</code> instead of <code>kotlin</code>:</p>\n<pre><code>Task ':test' is not up-to-date because:\n  Task.upToDateWhen is false.\nfile or directory '/path/to/my/project/build/classes/java/test', not found\n</code></pre>\n<p>I have the following plugins enabled:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.6.20&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.6.20&quot;\n}\n</code></pre>\n<p>How I can configure test task to pick up <code>/path/to/my/project/build/classes/kotlin/test</code>\ninstead of <code>java</code>?</p>\n"},{"tags":["java","ssl","certificate","tls1.2","mockserver"],"owner":{"account_id":17745978,"reputation":1407,"user_id":12885251,"display_name":"Riccardo Califano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1651845943,"creation_date":1651845943,"question_id":72142815,"body_markdown":"I would use a Certificate Chain (multiple PEM file merged in one file - end-entity certificate + Intermediate certificate) to do server authentication.\r\nI&#39;m using the following env variable:\r\n\r\n    MOCKSERVER_TLS_X509_CERTIFICATE_PATH\r\n\r\npointing to a file with multiple certificates inside.\r\n\r\nThe mockserver shows the following error:\r\n\r\n    2022-05-06 13:40:57 5.11.2 FINE using command line options:\r\n    \r\n    serverPort=1080\r\n    \r\n    2022-05-06 13:41:00 5.11.2 INFO created expectation file watcher for\r\n    \r\n    2022-05-06 13:41:03 5.11.2 FINE logger level is DEBUG, change using:\r\n    \r\n    &#39;ConfigurationProperties.logLevel(String level)&#39; in Java code,\r\n    &#39;-logLevel&#39; command line argument,\r\n    &#39;mockserver.logLevel&#39; JVM system property or,\r\n    &#39;mockserver.logLevel&#39; property value in &#39;mockserver.properties&#39;\r\n    2022-05-06 13:41:03 5.11.2 INFO 1080 started on port: 1080\r\n    2022-05-06 13:41:20 5.11.2 SEVERE TSL handshake failure while a client attempted to connect to [id: 0xad8bc00f, L:0.0.0.0/0.0.0.0:1080]\r\n    io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\r\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:471)\r\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    at java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\r\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:320)\r\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)\r\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:258)\r\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:129)\r\n    at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:668)\r\n    at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:623)\r\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:441)\r\n    at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:420)\r\n    at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:634)\r\n    at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:282)\r\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1387)\r\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1282)\r\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1329)\r\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n    ... 16 more\r\n    Caused by: javax.crypto.BadPaddingException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\r\n    at java.base/sun.security.ssl.SSLCipher$T13GcmReadCipherGenerator$GcmReadCipher.decrypt(SSLCipher.java:1868)\r\n    at java.base/sun.security.ssl.SSLEngineInputRecord.decodeInputRecord(SSLEngineInputRecord.java:240)\r\n    at java.base/sun.security.ssl.SSLEngineInputRecord.decode(SSLEngineInputRecord.java:197)\r\n    at java.base/sun.security.ssl.SSLEngineInputRecord.decode(SSLEngineInputRecord.java:160)\r\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:108)\r\n    ... 27 more\r\n    \r\n\r\nwhen I perform the following curl:\r\n\r\n    curl -L https://localhost:1080 --cacert rest-ms-certs/myRootCA.pem -v\r\n\r\nthe output of curl is:\r\n\r\n    Trying 127.0.0.1:1080...\r\n    TCP_NODELAY set\r\n    Connected to localhost (127.0.0.1) port 1080 (#0)\r\n    ALPN, offering h2\r\n    ALPN, offering http/1.1\r\n    successfully set certificate verify locations:\r\n    CAfile: rest-ms-certs/myRootCA.pem\r\n    CApath: /etc/ssl/certs\r\n    TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n    TLSv1.3 (IN), TLS handshake, Server hello (2):\r\n    TLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):\r\n    TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n    TLSv1.3 (IN), TLS handshake, Server hello (2):\r\n    TLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):\r\n    TLSv1.3 (IN), TLS handshake, Certificate (11):\r\n    TLSv1.3 (OUT), TLS alert, unsupported certificate (555):\r\n    SSL certificate problem: unsupported certificate purpose\r\n    Closing connection 0\r\n    curl: (60) SSL certificate problem: unsupported certificate purpose\r\n    More details here: https://curl.haxx.se/docs/sslcerts.html\r\n    curl failed to verify the legitimacy of the server and therefore could not\r\n    establish a secure connection to it. To learn more about this situation and\r\n    how to fix it, please visit the web page mentioned above.","title":"Certificate Chain does not work in mockserver","body":"<p>I would use a Certificate Chain (multiple PEM file merged in one file - end-entity certificate + Intermediate certificate) to do server authentication.\nI'm using the following env variable:</p>\n<pre><code>MOCKSERVER_TLS_X509_CERTIFICATE_PATH\n</code></pre>\n<p>pointing to a file with multiple certificates inside.</p>\n<p>The mockserver shows the following error:</p>\n<pre><code>2022-05-06 13:40:57 5.11.2 FINE using command line options:\n\nserverPort=1080\n\n2022-05-06 13:41:00 5.11.2 INFO created expectation file watcher for\n\n2022-05-06 13:41:03 5.11.2 FINE logger level is DEBUG, change using:\n\n'ConfigurationProperties.logLevel(String level)' in Java code,\n'-logLevel' command line argument,\n'mockserver.logLevel' JVM system property or,\n'mockserver.logLevel' property value in 'mockserver.properties'\n2022-05-06 13:41:03 5.11.2 INFO 1080 started on port: 1080\n2022-05-06 13:41:20 5.11.2 SEVERE TSL handshake failure while a client attempted to connect to [id: 0xad8bc00f, L:0.0.0.0/0.0.0.0:1080]\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:471)\nat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\nat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\nat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\nat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\nat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javax.net.ssl.SSLHandshakeException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:320)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:258)\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:129)\nat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:668)\nat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:623)\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:441)\nat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:420)\nat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:634)\nat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:282)\nat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1387)\nat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1282)\nat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1329)\nat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\nat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n... 16 more\nCaused by: javax.crypto.BadPaddingException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)\nat java.base/sun.security.ssl.SSLCipher$T13GcmReadCipherGenerator$GcmReadCipher.decrypt(SSLCipher.java:1868)\nat java.base/sun.security.ssl.SSLEngineInputRecord.decodeInputRecord(SSLEngineInputRecord.java:240)\nat java.base/sun.security.ssl.SSLEngineInputRecord.decode(SSLEngineInputRecord.java:197)\nat java.base/sun.security.ssl.SSLEngineInputRecord.decode(SSLEngineInputRecord.java:160)\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:108)\n... 27 more\n</code></pre>\n<p>when I perform the following curl:</p>\n<pre><code>curl -L https://localhost:1080 --cacert rest-ms-certs/myRootCA.pem -v\n</code></pre>\n<p>the output of curl is:</p>\n<pre><code>Trying 127.0.0.1:1080...\nTCP_NODELAY set\nConnected to localhost (127.0.0.1) port 1080 (#0)\nALPN, offering h2\nALPN, offering http/1.1\nsuccessfully set certificate verify locations:\nCAfile: rest-ms-certs/myRootCA.pem\nCApath: /etc/ssl/certs\nTLSv1.3 (OUT), TLS handshake, Client hello (1):\nTLSv1.3 (IN), TLS handshake, Server hello (2):\nTLSv1.3 (OUT), TLS change cipher, Change cipher spec (1):\nTLSv1.3 (OUT), TLS handshake, Client hello (1):\nTLSv1.3 (IN), TLS handshake, Server hello (2):\nTLSv1.3 (IN), TLS handshake, Encrypted Extensions (8):\nTLSv1.3 (IN), TLS handshake, Certificate (11):\nTLSv1.3 (OUT), TLS alert, unsupported certificate (555):\nSSL certificate problem: unsupported certificate purpose\nClosing connection 0\ncurl: (60) SSL certificate problem: unsupported certificate purpose\nMore details here: https://curl.haxx.se/docs/sslcerts.html\ncurl failed to verify the legitimacy of the server and therefore could not\nestablish a secure connection to it. To learn more about this situation and\nhow to fix it, please visit the web page mentioned above.\n</code></pre>\n"},{"tags":["java","java-stream","concatenation","option-type","variadic-functions"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1651845852,"creation_date":1651723177,"answer_id":72121781,"question_id":72121711,"body_markdown":"When you need to deal with nullable stream-source, you might use [`Stream.ofNullable()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#ofNullable(T)) accessible with Java 9, which produces either a singleton-stream or an empty stream. It&#39;ll be cleaner than utilizing `Optional.ofNullable()` for the purpose of chaining methods on it.\r\n\r\n```\r\nIntStream.concat(IntStream.of(id),\r\n    Stream.ofNullable(otherIds).flatMapToInt(IntStream::of))\r\n```\r\n____________________________________________________\r\nAnother option is to make use of Java 9 static method `Objects.requireNonNullElse()` which expects a nullable argument and a default value:\r\n```\r\nIntStream.concat(IntStream.of(id),\r\n    IntStream.of(Objects.requireNonNullElse(otherIds, new int[0])))\r\n```\r\n____________________________________________________\r\nAnd the simplest and cleanest solution will be a fail-fast implementation, that will throw a `NullPointerException` in case if array `otherIds` is `null`.\r\n```\r\nIntStream.concat(IntStream.of(id), Arrays.stream(otherIds))\r\n```\r\nA null-safe flavor of it (*credits to* @Holger):\r\n```\r\nIntStream.concat(IntStream.of(id),\r\n                 otherIds != null ? Arrays.stream(otherIds) : IntStream.empty())\r\n```","title":"How can I make stream with fixed arguments along with varargs?","body":"<p>When you need to deal with nullable stream-source, you might use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#ofNullable(T)\" rel=\"nofollow noreferrer\"><code>Stream.ofNullable()</code></a> accessible with Java 9, which produces either a singleton-stream or an empty stream. It'll be cleaner than utilizing <code>Optional.ofNullable()</code> for the purpose of chaining methods on it.</p>\n<pre><code>IntStream.concat(IntStream.of(id),\n    Stream.ofNullable(otherIds).flatMapToInt(IntStream::of))\n</code></pre>\n<hr />\n<p>Another option is to make use of Java 9 static method <code>Objects.requireNonNullElse()</code> which expects a nullable argument and a default value:</p>\n<pre><code>IntStream.concat(IntStream.of(id),\n    IntStream.of(Objects.requireNonNullElse(otherIds, new int[0])))\n</code></pre>\n<hr />\n<p>And the simplest and cleanest solution will be a fail-fast implementation, that will throw a <code>NullPointerException</code> in case if array <code>otherIds</code> is <code>null</code>.</p>\n<pre><code>IntStream.concat(IntStream.of(id), Arrays.stream(otherIds))\n</code></pre>\n<p>A null-safe flavor of it (<em>credits to</em> @Holger):</p>\n<pre><code>IntStream.concat(IntStream.of(id),\n                 otherIds != null ? Arrays.stream(otherIds) : IntStream.empty())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651761951,"creation_date":1651761951,"answer_id":72129156,"question_id":72121711,"body_markdown":"Well, Alexander Ivanchenko has already mentioned three options.\r\n\r\nHere&#39;s another one:\r\n\r\n```java\r\nObjects.requireNonNull(otherIds);\r\nStream.of(new int[] { id }, otherIds)\r\n    .flatMapToInt(Arrays::stream)\r\n```\r\n\r\nI think `otherIds` should not be `null`, and should be considered a programmer error. With `Objects::requireNonNull` it fails-fast.","title":"How can I make stream with fixed arguments along with varargs?","body":"<p>Well, Alexander Ivanchenko has already mentioned three options.</p>\n<p>Here's another one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Objects.requireNonNull(otherIds);\nStream.of(new int[] { id }, otherIds)\n    .flatMapToInt(Arrays::stream)\n</code></pre>\n<p>I think <code>otherIds</code> should not be <code>null</code>, and should be considered a programmer error. With <code>Objects::requireNonNull</code> it fails-fast.</p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1651803132,"accepted_answer_id":72121781,"answer_count":2,"score":5,"last_activity_date":1651845852,"creation_date":1651722499,"question_id":72121711,"body_markdown":"Let&#39;s say we have the following method.\r\n\r\n```java\r\nvoid some(int id, int... otherIds) {\r\n\r\n}\r\n```\r\n\r\nHow can I create a single `IntStream` with those two arguments?\r\n\r\n```java\r\nIntStream.concat(\r\n        IntStream.of(id),\r\n        Optional.ofNullable(otherIds)\r\n                .map(IntStream::of)\r\n                .orElseGet(IntStream::empty)\r\n);\r\n```\r\n\r\nIt seems verbose. Do we have any concise idiom for that?","title":"How can I make stream with fixed arguments along with varargs?","body":"<p>Let's say we have the following method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void some(int id, int... otherIds) {\n\n}\n</code></pre>\n<p>How can I create a single <code>IntStream</code> with those two arguments?</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.concat(\n        IntStream.of(id),\n        Optional.ofNullable(otherIds)\n                .map(IntStream::of)\n                .orElseGet(IntStream::empty)\n);\n</code></pre>\n<p>It seems verbose. Do we have any concise idiom for that?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1651845942,"post_id":72142726,"comment_id":127467955,"body_markdown":"What should happen if the user entered &quot;0002&quot;?","body":"What should happen if the user entered &quot;0002&quot;?"},{"owner":{"account_id":24743156,"reputation":43,"user_id":18629654,"display_name":"CoderInNeed"},"score":0,"creation_date":1651845994,"post_id":72142726,"comment_id":127467976,"body_markdown":"@Turamarth Then it should output [0,0,0,2]. I just need it to split the digits into an array.","body":"@Turamarth Then it should output [0,0,0,2]. I just need it to split the digits into an array."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651846319,"post_id":72142726,"comment_id":127468125,"body_markdown":"Always search Stack Overflow before posting.","body":"Always search Stack Overflow before posting."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1651846389,"post_id":72142726,"comment_id":127468154,"body_markdown":"But 0002 is not an integer, it would just be 2","body":"But 0002 is not an integer, it would just be 2"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":3,"creation_date":1651846885,"post_id":72142726,"comment_id":127468347,"body_markdown":"Read in as a string instead, then convert to integers. That would work in your `0002` case.","body":"Read in as a string instead, then convert to integers. That would work in your <code>0002</code> case."}],"owner":{"account_id":24743156,"reputation":43,"user_id":18629654,"display_name":"CoderInNeed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1651846300,"answer_count":0,"score":0,"last_activity_date":1651845591,"creation_date":1651845591,"question_id":72142726,"body_markdown":"I am trying to take a 4 digit number a user enters and split it into an array of digits.\r\nSo for example a user enters the number &quot;2000&quot; and it is split into [2,0,0,0].\r\n\r\nI have tried this, but it does not work.\r\n\r\n```\r\nScanner myObj = new Scanner (System.in);\r\n\t    System.out.println(&quot;Enter 4 numbers&quot;);\r\n\r\n\t    int userNumbers = myObj.nextInt();\r\n\t    \r\n\t    int[] array = new int [4];\r\n\t    \r\n\t      array[0] = userNumbers[0];\r\n\t      array[1] = userNumbers[1];\r\n\t      array[2] = userNumbers[2];\r\n\t      array[3] = userNumbers[3]; \r\n```\r\n\r\nI have also tried which works nicely but it is converting the numbers to strings in the array. I need an array of integers.\r\n\r\n```\r\nScanner myObj = new Scanner (System.in);\r\n\t    System.out.println(&quot;Enter 4 numbers&quot;);\r\n\r\n\t    int userNumbers = myObj.nextInt();\r\n\t   \r\n\t    String[] digits = Integer.toString(userNumbers).split(&quot;&quot;);\r\n\t    System.out.println(Arrays.toString(digits));\r\n```\r\nI am literally just beginning Java so I am aware this is quite basic stuff. I just need a point in the right direction. Thanks a lot!","title":"How do I split an integer that a user entered into an array of digits in Java?","body":"<p>I am trying to take a 4 digit number a user enters and split it into an array of digits.\nSo for example a user enters the number &quot;2000&quot; and it is split into [2,0,0,0].</p>\n<p>I have tried this, but it does not work.</p>\n<pre><code>Scanner myObj = new Scanner (System.in);\n        System.out.println(&quot;Enter 4 numbers&quot;);\n\n        int userNumbers = myObj.nextInt();\n        \n        int[] array = new int [4];\n        \n          array[0] = userNumbers[0];\n          array[1] = userNumbers[1];\n          array[2] = userNumbers[2];\n          array[3] = userNumbers[3]; \n</code></pre>\n<p>I have also tried which works nicely but it is converting the numbers to strings in the array. I need an array of integers.</p>\n<pre><code>Scanner myObj = new Scanner (System.in);\n        System.out.println(&quot;Enter 4 numbers&quot;);\n\n        int userNumbers = myObj.nextInt();\n       \n        String[] digits = Integer.toString(userNumbers).split(&quot;&quot;);\n        System.out.println(Arrays.toString(digits));\n</code></pre>\n<p>I am literally just beginning Java so I am aware this is quite basic stuff. I just need a point in the right direction. Thanks a lot!</p>\n"},{"tags":["java","sql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1651475771,"post_id":72077992,"comment_id":127365259,"body_markdown":"What MySQL version are you using?","body":"What MySQL version are you using?"},{"owner":{"account_id":23701016,"reputation":189,"user_id":17724175,"display_name":"Sai Uttej"},"score":0,"creation_date":1651510950,"post_id":72077992,"comment_id":127376618,"body_markdown":"MySQL version : 8.0.28","body":"MySQL version : 8.0.28"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1651516281,"post_id":72077992,"comment_id":127378436,"body_markdown":"That&#39;s weird, MySQL 8 should be capable of running this query. It&#39;s a known issue in MySQL 5.7: https://github.com/jOOQ/jOOQ/issues/12045. Would changing `ROLE_PERMISSION.ROLE_ID.eq(ROLE.ID)` to `ROLE_PERMISSION.ROLE_ID.eq(id)` work around it?","body":"That&#39;s weird, MySQL 8 should be capable of running this query. It&#39;s a known issue in MySQL 5.7: <a href=\"https://github.com/jOOQ/jOOQ/issues/12045\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/12045</a>. Would changing <code>ROLE_PERMISSION.ROLE_ID.eq(ROLE.ID)</code> to <code>ROLE_PERMISSION.ROLE_ID.eq(id)</code> work around it?"},{"owner":{"account_id":23701016,"reputation":189,"user_id":17724175,"display_name":"Sai Uttej"},"score":0,"creation_date":1651594685,"post_id":72077992,"comment_id":127398329,"body_markdown":"Yes, it is working with ROLE_PERMISSION.ROLE_ID.eq(id) but not with ROLE_PERMISSION.ROLE_ID.eq(ROLE.ID)","body":"Yes, it is working with ROLE_PERMISSION.ROLE_ID.eq(id) but not with ROLE_PERMISSION.ROLE_ID.eq(ROLE.ID)"},{"owner":{"account_id":23701016,"reputation":189,"user_id":17724175,"display_name":"Sai Uttej"},"score":0,"creation_date":1651667971,"post_id":72077992,"comment_id":127416865,"body_markdown":"Here, since I am getting only 1 record so it&#39;s ok if I keep the id directly. But I can not do the same thing for the get-all query","body":"Here, since I am getting only 1 record so it&#39;s ok if I keep the id directly. But I can not do the same thing for the get-all query"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1651670752,"post_id":72077992,"comment_id":127418069,"body_markdown":"I can&#39;t reproduce this issue on MySQL 8.0.28 in a variety of integration tests. There seems to be a bug somewhere, or a misconfiguration. If you could provide a fully self contained example in a bug report, I could investigate it: https://github.com/jOOQ/jOOQ/issues/new/choose","body":"I can&#39;t reproduce this issue on MySQL 8.0.28 in a variety of integration tests. There seems to be a bug somewhere, or a misconfiguration. If you could provide a fully self contained example in a bug report, I could investigate it: <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/new/choose</a>"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1651670932,"post_id":72077992,"comment_id":127418165,"body_markdown":"According to the docs, correlated derived tables are supported starting from MySQL 8.0.14: https://dev.mysql.com/doc/refman/8.0/en/derived-tables.html. I don&#39;t see what else could be wrong with the jOOQ generated query. A workaround is to express an equivalent query using [`MULTISET_AGG()`](https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/), which is less powerful but doesn&#39;t have this restriction on older MySQL versions.","body":"According to the docs, correlated derived tables are supported starting from MySQL 8.0.14: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/derived-tables.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/derived-tables.html</a>. I don&#39;t see what else could be wrong with the jOOQ generated query. A workaround is to express an equivalent query using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\" rel=\"nofollow noreferrer\"><code>MULTISET_AGG()</code></a>, which is less powerful but doesn&#39;t have this restriction on older MySQL versions."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1651750007,"post_id":72077992,"comment_id":127439570,"body_markdown":"Still trying to assess what could possibly have gone wrong here. Does the query also fail when you run it directly in MySQL Workbench, or similar? How is it different from your previous queries, e.g. this one: https://stackoverflow.com/q/71090662/521799 ? Can you narrow it down to a specific API usage?","body":"Still trying to assess what could possibly have gone wrong here. Does the query also fail when you run it directly in MySQL Workbench, or similar? How is it different from your previous queries, e.g. this one: <a href=\"https://stackoverflow.com/q/71090662/521799\">stackoverflow.com/q/71090662/521799</a> ? Can you narrow it down to a specific API usage?"},{"owner":{"account_id":23701016,"reputation":189,"user_id":17724175,"display_name":"Sai Uttej"},"score":1,"creation_date":1651833492,"post_id":72077992,"comment_id":127463321,"body_markdown":"I was just checking the server in which I am running my database its version is actually 5.7.38 and my local MySQL version is 8.0.28\nIt is working fine in the local MySQL database\nThanks for the help","body":"I was just checking the server in which I am running my database its version is actually 5.7.38 and my local MySQL version is 8.0.28 It is working fine in the local MySQL database Thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651845304,"creation_date":1651845304,"answer_id":72142658,"question_id":72077992,"body_markdown":"Correlating derived tables isn&#39;t supported in MySQL 5.7. Support has been added only in MySQL 8.0.14:\r\nhttps://dev.mysql.com/doc/refman/8.0/en/derived-tables.html\r\n\r\njOOQ currently can&#39;t work around this limitation, see:\r\nhttps://github.com/jOOQ/jOOQ/issues/12045\r\n\r\nThe solution is either:\r\n\r\n- Upgrade your MySQL version\r\n- Use a [`MULTISET_AGG`][1] based approach instead\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/","title":"Unknown column sql error while using jooq","body":"<p>Correlating derived tables isn't supported in MySQL 5.7. Support has been added only in MySQL 8.0.14:\n<a href=\"https://dev.mysql.com/doc/refman/8.0/en/derived-tables.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/derived-tables.html</a></p>\n<p>jOOQ currently can't work around this limitation, see:\n<a href=\"https://github.com/jOOQ/jOOQ/issues/12045\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12045</a></p>\n<p>The solution is either:</p>\n<ul>\n<li>Upgrade your MySQL version</li>\n<li>Use a <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/aggregate-functions/multiset-agg-function/\" rel=\"nofollow noreferrer\"><code>MULTISET_AGG</code></a> based approach instead</li>\n</ul>\n"}],"owner":{"account_id":23701016,"reputation":189,"user_id":17724175,"display_name":"Sai Uttej"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72142658,"answer_count":1,"score":2,"last_activity_date":1651845304,"creation_date":1651418324,"question_id":72077992,"body_markdown":"Query:\r\n```java\r\nthis.dslContext.select(\r\n            ROLE.asterisk(),\r\n            multiset(\r\n                select(PERMISSION.asterisk())\r\n                    .from(ROLE_PERMISSION)\r\n                    .innerJoin(PERMISSION)\r\n                    .on(ROLE_PERMISSION.PERMISSION_ID.eq(PERMISSION.ID))\r\n                    .where(ROLE_PERMISSION.ROLE_ID.eq(ROLE.ID))\r\n            ).as(&quot;permissions&quot;)\r\n        ).from(ROLE)\r\n            .where(ROLE.ID.eq(id))\r\n            .fetchOneInto(Role.class)\r\n```\r\nError:\r\n```none\r\njOOQ; bad SQL grammar [set @t = @@group_concat_max_len; set @@group_concat_max_len = 4294967295; select `users`.`role`.*, (select coalesce(json_merge_preserve(&#39;[]&#39;, concat(&#39;[&#39;, group_concat(json_array(`v0`, `v1`) separator &#39;,&#39;), &#39;]&#39;)), json_array()) from (select `users`.`permission`.`id` as `v0`, `users`.`permission`.`name` as `v1` from `users`.`role_permission` join `users`.`permission` on `users`.`role_permission`.`permission_id` = `users`.`permission`.`id` where `users`.`role_permission`.`role_id` = `users`.`role`.`id`) as `t`) as `permissions` from `users`.`role` where `users`.`role`.`id` = ?; set @@group_concat_max_len = @t;]; nested exception is java.sql.SQLSyntaxErrorException: Unknown column &#39;users.role.id&#39; in &#39;where clause&#39;.\r\n```\r\nDatabase: MYSQL, Database Name: &#39;users&#39;, JOOQ Version: 3.16.6","title":"Unknown column sql error while using jooq","body":"<p>Query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.dslContext.select(\n            ROLE.asterisk(),\n            multiset(\n                select(PERMISSION.asterisk())\n                    .from(ROLE_PERMISSION)\n                    .innerJoin(PERMISSION)\n                    .on(ROLE_PERMISSION.PERMISSION_ID.eq(PERMISSION.ID))\n                    .where(ROLE_PERMISSION.ROLE_ID.eq(ROLE.ID))\n            ).as(&quot;permissions&quot;)\n        ).from(ROLE)\n            .where(ROLE.ID.eq(id))\n            .fetchOneInto(Role.class)\n</code></pre>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jOOQ; bad SQL grammar [set @t = @@group_concat_max_len; set @@group_concat_max_len = 4294967295; select `users`.`role`.*, (select coalesce(json_merge_preserve('[]', concat('[', group_concat(json_array(`v0`, `v1`) separator ','), ']')), json_array()) from (select `users`.`permission`.`id` as `v0`, `users`.`permission`.`name` as `v1` from `users`.`role_permission` join `users`.`permission` on `users`.`role_permission`.`permission_id` = `users`.`permission`.`id` where `users`.`role_permission`.`role_id` = `users`.`role`.`id`) as `t`) as `permissions` from `users`.`role` where `users`.`role`.`id` = ?; set @@group_concat_max_len = @t;]; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'users.role.id' in 'where clause'.\n</code></pre>\n<p>Database: MYSQL, Database Name: 'users', JOOQ Version: 3.16.6</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":234517,"reputation":18006,"user_id":500725,"accept_rate":69,"display_name":"Siva Charan"},"score":0,"creation_date":1336719112,"post_id":10546720,"comment_id":13647030,"body_markdown":"Have you imported mypack.Balance in Account balance?","body":"Have you imported mypack.Balance in Account balance?"},{"owner":{"account_id":330775,"reputation":3756,"user_id":655062,"accept_rate":70,"display_name":"Maddy"},"score":0,"creation_date":1336719285,"post_id":10546720,"comment_id":13647079,"body_markdown":"http://shivasoft.in/blog/java/compile-and-run-java-program-in-package-from-command-line/","body":"<a href=\"http://shivasoft.in/blog/java/compile-and-run-java-program-in-package-from-command-line/\" rel=\"nofollow noreferrer\">shivasoft.in/blog/java/&hellip;</a>"},{"owner":{"account_id":1295249,"reputation":629,"user_id":2419974,"accept_rate":53,"display_name":"Nikhil Chilwant"},"score":0,"creation_date":1387472684,"post_id":10546720,"comment_id":30980874,"body_markdown":"http://www.ntu.edu.sg/home/ehchua/programming/java/J9c_PackageClasspath.html","body":"<a href=\"http://www.ntu.edu.sg/home/ehchua/programming/java/J9c_PackageClasspath.html\" rel=\"nofollow noreferrer\">ntu.edu.sg/home/ehchua/programming/java/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1336720294,"creation_date":1336719170,"answer_id":10546775,"question_id":10546720,"body_markdown":"Try to create the folder named `MyPack` and move .class files in it or use following command line to compile the java code and it moves the .class files into `MyPack` folder.\r\n\r\n    javac YourFileName.java -d .\r\n\r\nand run using,\r\n\r\n    java MyPack.AccountBalance\r\n\r\nHave a look at  [javac][1] tool\r\n\r\n&gt;From the tool doc : By default, the compiler puts each class file in the same directory as\r\n&gt; its source file. You can specify a separate destination directory with\r\n&gt; -d (see Options, below).\r\n\r\nand [package][2] tutorial.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/tooldocs/solaris/javac.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/package/packages.html","title":"How to compile packages in java?","body":"<p>Try to create the folder named <code>MyPack</code> and move .class files in it or use following command line to compile the java code and it moves the .class files into <code>MyPack</code> folder.</p>\n\n<pre><code>javac YourFileName.java -d .\n</code></pre>\n\n<p>and run using,</p>\n\n<pre><code>java MyPack.AccountBalance\n</code></pre>\n\n<p>Have a look at  <a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/solaris/javac.html\" rel=\"noreferrer\">javac</a> tool</p>\n\n<blockquote>\n  <p>From the tool doc : By default, the compiler puts each class file in the same directory as\n  its source file. You can specify a separate destination directory with\n  -d (see Options, below).</p>\n</blockquote>\n\n<p>and <a href=\"http://docs.oracle.com/javase/tutorial/java/package/packages.html\" rel=\"noreferrer\">package</a> tutorial.</p>\n"},{"tags":[],"owner":{"account_id":1364392,"reputation":787,"user_id":1301144,"display_name":"Grims"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1336720160,"creation_date":1336720160,"answer_id":10546990,"question_id":10546720,"body_markdown":"Best is to compile and run the classes from outside the packages :\r\n\r\nFirst you compile with javac :\r\n\r\n    $javac MyPack/AccountBalance.java\r\n\r\nthis will create a new file in the MyPack folder called AccountBalance.class\r\n\r\nthen you can run it :\r\n\r\n    $java MyPack.AccountBalance\r\n\r\nBy the way: it is discouraged to have package names start with a capital.","title":"How to compile packages in java?","body":"<p>Best is to compile and run the classes from outside the packages :</p>\n\n<p>First you compile with javac :</p>\n\n<pre><code>$javac MyPack/AccountBalance.java\n</code></pre>\n\n<p>this will create a new file in the MyPack folder called AccountBalance.class</p>\n\n<p>then you can run it :</p>\n\n<pre><code>$java MyPack.AccountBalance\n</code></pre>\n\n<p>By the way: it is discouraged to have package names start with a capital.</p>\n"},{"tags":[],"owner":{"account_id":1478582,"reputation":321,"user_id":1388407,"display_name":"shayan ray"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1336725726,"creation_date":1336720252,"answer_id":10547008,"question_id":10546720,"body_markdown":"When you are trying to compile the java class, use the &#39;-d&#39; option (destination) to specify where the .class files should be located.\r\n\r\n    javac -d &quot;classes&quot; AccountBalance.java\r\n\r\nand when you run your program, make sure that same folder is included in your class path:\r\n\r\n    java -classpath &quot;classes&quot; MyPack.AccountBalance\r\n\r\n","title":"How to compile packages in java?","body":"<p>When you are trying to compile the java class, use the '-d' option (destination) to specify where the .class files should be located.</p>\n\n<pre><code>javac -d \"classes\" AccountBalance.java\n</code></pre>\n\n<p>and when you run your program, make sure that same folder is included in your class path:</p>\n\n<pre><code>java -classpath \"classes\" MyPack.AccountBalance\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4769114,"reputation":930,"user_id":3854436,"accept_rate":100,"display_name":"James T."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501439571,"creation_date":1475375515,"answer_id":39813315,"question_id":10546720,"body_markdown":"If you&#39;re frequently compiling and running via `javac` and `java` commands then use\r\n\r\n    javac MyJavaClass.java &amp;&amp; java MyJavaClass\r\n\r\nThis&#39;ll compile the the class then run the class you just compiled.\r\n\r\nNote: Replace `&amp;&amp;` with `;` if using Windows powershell.","title":"How to compile packages in java?","body":"<p>If you're frequently compiling and running via <code>javac</code> and <code>java</code> commands then use</p>\n\n<pre><code>javac MyJavaClass.java &amp;&amp; java MyJavaClass\n</code></pre>\n\n<p>This'll compile the the class then run the class you just compiled.</p>\n\n<p>Note: Replace <code>&amp;&amp;</code> with <code>;</code> if using Windows powershell.</p>\n"},{"tags":[],"owner":{"account_id":22771354,"reputation":1,"user_id":16928734,"display_name":"Yanshu Du"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651845181,"creation_date":1651845181,"answer_id":72142638,"question_id":10546720,"body_markdown":"I think you misunderstand java command. If you want to compile a java code like MyClass.java .  \r\n\r\n    package myPackage\r\n    public class MyClass{\r\n      ...\r\n    }\r\n\r\ncompile the package\r\n\r\n    javac -d . MyClass.java\r\n\r\nwhich will create /myPackage/MyClass.class in &quot;.&quot;(current directory).\r\n\r\n-d means destination directory.\r\n\r\nThen run it.\r\n\r\n    java myPackage.MyClass","title":"How to compile packages in java?","body":"<p>I think you misunderstand java command. If you want to compile a java code like MyClass.java .</p>\n<pre><code>package myPackage\npublic class MyClass{\n  ...\n}\n</code></pre>\n<p>compile the package</p>\n<pre><code>javac -d . MyClass.java\n</code></pre>\n<p>which will create /myPackage/MyClass.class in &quot;.&quot;(current directory).</p>\n<p>-d means destination directory.</p>\n<p>Then run it.</p>\n<pre><code>java myPackage.MyClass\n</code></pre>\n"}],"owner":{"account_id":1478863,"reputation":273,"user_id":1388626,"display_name":"user1388626"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112741,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":10546990,"answer_count":5,"score":27,"last_activity_date":1651845181,"creation_date":1336718921,"question_id":10546720,"body_markdown":"I have written a simple package program:\r\n\r\n\r\n----------\r\n\r\n      //A simple package\r\n   \r\n           package MyPack\r\n   \r\n   \r\n           class Balance\r\n           {\r\n           \tString name;\r\n           \tdouble bal;\r\n       \t\r\n           \tBalance(String n, double b)\r\n           \t{\r\n           \t\tname=n;\r\n            \t       \tbal=b;\r\n            \t}\r\n   \t\r\n           \tvoid show()\r\n            \t{\r\n           \t\tif(bal&lt;0)\r\n           \t\tSystem.out.println(&quot;--&gt;&quot;);\r\n           \t\tSystem.out.println(name+ &quot;: $:&quot; +bal);\r\n           \t}\r\n            }\r\n   \r\n            class AccountBalance\r\n            {\r\n            \tpublic static void main(String args[])\r\n            \t{\r\n                           Balance current[]=new Balance[3];\r\n                    \tcurrent[0]=new Balance(&quot;A.K.Juwatkar&quot;,123.123);\r\n                    \tcurrent[1]=new Balance(&quot;A.P.Dhoke&quot;,345.67);\r\n                    \tcurrent[2]=new Balance(&quot;Anil Sarang&quot;,100.98);\r\n       \t\t\r\n                    \tfor(int i=0;i&lt;3;i++)\r\n                   \tcurrent[i].show();\r\n                   }\r\n            }\r\n\r\n----------\r\n\r\n\r\n  \r\nI am using Ubuntu 10.04 &amp;\r\nWhen i compile it using\r\n\r\n    java MyPack.AccountBalance\r\n\r\nI get the following message:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: MyPack/AccountBalance\r\n    Caused by: java.lang.ClassNotFoundException: MyPack.AccountBalance\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:217)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:205)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:321)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:266)\r\n    Could not find the main class: MyPack.AccountBalance. Program will exit.\r\n\r\n\r\nWhat is wrong? Please help me out.\r\nI have installed openjdk, do i need to install anything else??\r\nI am using Ubuntu 10.04, kindly help me out","title":"How to compile packages in java?","body":"<p>I have written a simple package program:</p>\n\n<hr>\n\n<pre><code>  //A simple package\n\n       package MyPack\n\n\n       class Balance\n       {\n        String name;\n        double bal;\n\n        Balance(String n, double b)\n        {\n            name=n;\n                    bal=b;\n            }\n\n        void show()\n            {\n            if(bal&lt;0)\n            System.out.println(\"--&gt;\");\n            System.out.println(name+ \": $:\" +bal);\n        }\n        }\n\n        class AccountBalance\n        {\n            public static void main(String args[])\n            {\n                       Balance current[]=new Balance[3];\n                    current[0]=new Balance(\"A.K.Juwatkar\",123.123);\n                    current[1]=new Balance(\"A.P.Dhoke\",345.67);\n                    current[2]=new Balance(\"Anil Sarang\",100.98);\n\n                    for(int i=0;i&lt;3;i++)\n                current[i].show();\n               }\n        }\n</code></pre>\n\n<hr>\n\n<p>I am using Ubuntu 10.04 &amp;\nWhen i compile it using</p>\n\n<pre><code>java MyPack.AccountBalance\n</code></pre>\n\n<p>I get the following message:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: MyPack/AccountBalance\nCaused by: java.lang.ClassNotFoundException: MyPack.AccountBalance\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:217)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:321)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:266)\nCould not find the main class: MyPack.AccountBalance. Program will exit.\n</code></pre>\n\n<p>What is wrong? Please help me out.\nI have installed openjdk, do i need to install anything else??\nI am using Ubuntu 10.04, kindly help me out</p>\n"},{"tags":["java","android","kotlin","date","datetime-format"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1651842097,"post_id":72141834,"comment_id":127466336,"body_markdown":"`Z` is actually `+00:00`, how are you parsing it and what are you exactly trying to do? Which library are you using for parsing and formatting?","body":"<code>Z</code> is actually <code>+00:00</code>, how are you parsing it and what are you exactly trying to do? Which library are you using for parsing and formatting?"},{"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"score":0,"creation_date":1651842632,"post_id":72141834,"comment_id":127466572,"body_markdown":"@deHaar update the Question with full method. I am using KOTLIN language","body":"@deHaar update the Question with full method. I am using KOTLIN language"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1651842916,"post_id":72141834,"comment_id":127466679,"body_markdown":"ohh, the old `SimpleDateFormat`, better use the classes from `java.time` package\\ - for `SimpleDateFormat`, use `X` to parse time zones as `Z` or `+01:00` (e.g. `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;`)","body":"ohh, the old <code>SimpleDateFormat</code>, better use the classes from <code>java.time</code> package\\ - for <code>SimpleDateFormat</code>, use <code>X</code> to parse time zones as <code>Z</code> or <code>+01:00</code> (e.g. <code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;</code>)"},{"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"score":0,"creation_date":1651843012,"post_id":72141834,"comment_id":127466718,"body_markdown":"@user16320675 okay but could you help with pattern used in 2nd Condition","body":"@user16320675 okay but could you help with pattern used in 2nd Condition"},{"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"score":0,"creation_date":1651843641,"post_id":72141834,"comment_id":127466937,"body_markdown":"@user16320675 tried but no Success as you can observe in the example the millisecond part is sometime 5 digit long and sometime 6 digit.\n I Guess Millisecond (SSS) it maxed by 3 digit","body":"@user16320675 tried but no Success as you can observe in the example the millisecond part is sometime 5 digit long and sometime 6 digit.  I Guess Millisecond (SSS) it maxed by 3 digit"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1651844353,"post_id":72141834,"comment_id":127467254,"body_markdown":"Why do you need to parse at all if you are just returning a string? Wouldn it not be enough to do `return src.split(&quot;T&quot;)[0]` ?","body":"Why do you need to parse at all if you are just returning a string? Wouldn it not be enough to do <code>return src.split(&quot;T&quot;)[0]</code> ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1651844371,"post_id":72141834,"comment_id":127467261,"body_markdown":"kind of funny, `OffsetDateTime.parse()` can *do*  all these formats","body":"kind of funny, <code>OffsetDateTime.parse()</code> can <i>do</i>  all these formats"},{"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"score":0,"creation_date":1651844616,"post_id":72141834,"comment_id":127467361,"body_markdown":"@Eritrean as i am receiving time in UTC. I need to convert time as per user timezone basis on his location. that part i had skipped here because that is off the topic","body":"@Eritrean as i am receiving time in UTC. I need to convert time as per user timezone basis on his location. that part i had skipped here because that is off the topic"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1651845170,"post_id":72141834,"comment_id":127467612,"body_markdown":"As @user16320675 said, consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends. Use [desugaring](https://developer.android.com/studio/write/java8-support-table) in order to use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). It is so much nicer to work with.","body":"As @user16320675 said, consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends. Use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> in order to use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. It is so much nicer to work with."}],"answers":[{"tags":[],"owner":{"account_id":14159420,"reputation":21,"user_id":10229136,"display_name":"JC Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651843803,"creation_date":1651843803,"answer_id":72142281,"question_id":72141834,"body_markdown":"I was looking the SimpleDateFormat Docs, and found this reference: https://developer.android.com/reference/kotlin/java/text/SimpleDateFormat#examples\r\n\r\nThe pattern `&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;\t2001-07-04T12:08:56.235-07:00`, looks like very similar with this you are receiving (except about the seconds precision).","title":"Time Format String","body":"<p>I was looking the SimpleDateFormat Docs, and found this reference: <a href=\"https://developer.android.com/reference/kotlin/java/text/SimpleDateFormat#examples\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/java/text/SimpleDateFormat#examples</a></p>\n<p>The pattern <code>&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot; 2001-07-04T12:08:56.235-07:00</code>, looks like very similar with this you are receiving (except about the seconds precision).</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651845167,"creation_date":1651844150,"answer_id":72142376,"question_id":72141834,"body_markdown":"# tl;dr\r\n\r\nIf you only want to just pull the date portion of the input string, [split][1]. \r\n\r\n    &quot;2022-05-05T11:32:12.542Z&quot;\r\n    .split( &quot;T&quot; ) \r\n    [ 0 ] \r\n\r\nIf you want to parse the input string, use `OffsetDateTime` &amp; `LocalDate`.  \r\n\r\n    OffsetDateTime\r\n    .parse(\r\n        input \r\n    ) \r\n    .toLocalDate()\r\n    .toString() ;\r\n\r\n# Avoid legacy classes\r\n\r\nYou are using *terrible* date-time classes that were years ago supplanted by the modern *java.time* classes defined by JSR 310. Never use `SimpleDateFormat`, `Date`, `Calendar`. \r\n\r\n# ISO 8601\r\n\r\nBoth of your exemple strings represent a moment as seen with an offset from UTC of zero hours-minutes-seconds. \r\n\r\nBoth of your example strings are in standard ISO 8601 format. The *java.time* classes support ISO 8601 formats by default when parsing/generating text. So no need to specify a formatting pattern. \r\n\r\n# `Instant`\r\n\r\nParse your input as objects of class `Instant`. \r\n\r\n    Instant instant1 = Instant.parse( &quot;2022-05-05T11:32:12.542Z&quot; ) ;\r\n    Instant instant2 = Instant.parse( &quot;2022-05-06T07:33:46.59928+00:00&quot; ) ;\r\n\r\n\r\nSee this [code run live at IdeOne.com][2]. \r\n\r\n# `LocalDate` \r\n\r\nYou want date only. So convert to the more flexible `OffsetDateTime`, and extract `LocalDate`. \r\n\r\n    LocalDate ld = Instant.atOffset( ZoneOffset.UTC ).toLocalDate() ; \r\n\r\nThen call `LocalDate#toString` to generate text in ISO 8601 format YYYY-MM-DD. \r\n\r\n\r\n# Android\r\n\r\nThe *java.time* classes are built into Java 8 and later. \r\n\r\nAndroid 26+ carries an implementation of *java.time*. For earlier Android, the latest tooling provides most of the functionality via “API desugaring”. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\r\n  [2]: https://ideone.com/6cvicf","title":"Time Format String","body":"<h1>tl;dr</h1>\n<p>If you only want to just pull the date portion of the input string, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\" rel=\"nofollow noreferrer\">split</a>.</p>\n<pre><code>&quot;2022-05-05T11:32:12.542Z&quot;\n.split( &quot;T&quot; ) \n[ 0 ] \n</code></pre>\n<p>If you want to parse the input string, use <code>OffsetDateTime</code> &amp; <code>LocalDate</code>.</p>\n<pre><code>OffsetDateTime\n.parse(\n    input \n) \n.toLocalDate()\n.toString() ;\n</code></pre>\n<h1>Avoid legacy classes</h1>\n<p>You are using <em>terrible</em> date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined by JSR 310. Never use <code>SimpleDateFormat</code>, <code>Date</code>, <code>Calendar</code>.</p>\n<h1>ISO 8601</h1>\n<p>Both of your exemple strings represent a moment as seen with an offset from UTC of zero hours-minutes-seconds.</p>\n<p>Both of your example strings are in standard ISO 8601 format. The <em>java.time</em> classes support ISO 8601 formats by default when parsing/generating text. So no need to specify a formatting pattern.</p>\n<h1><code>Instant</code></h1>\n<p>Parse your input as objects of class <code>Instant</code>.</p>\n<pre><code>Instant instant1 = Instant.parse( &quot;2022-05-05T11:32:12.542Z&quot; ) ;\nInstant instant2 = Instant.parse( &quot;2022-05-06T07:33:46.59928+00:00&quot; ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/6cvicf\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<h1><code>LocalDate</code></h1>\n<p>You want date only. So convert to the more flexible <code>OffsetDateTime</code>, and extract <code>LocalDate</code>.</p>\n<pre><code>LocalDate ld = Instant.atOffset( ZoneOffset.UTC ).toLocalDate() ; \n</code></pre>\n<p>Then call <code>LocalDate#toString</code> to generate text in ISO 8601 format YYYY-MM-DD.</p>\n<h1>Android</h1>\n<p>The <em>java.time</em> classes are built into Java 8 and later.</p>\n<p>Android 26+ carries an implementation of <em>java.time</em>. For earlier Android, the latest tooling provides most of the functionality via “API desugaring”.</p>\n"}],"owner":{"account_id":9368200,"reputation":1177,"user_id":6952373,"accept_rate":62,"display_name":"Kartik Agarwal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1651845167,"creation_date":1651841806,"question_id":72141834,"body_markdown":"I am trying to decode the date-time receiving from my APIs in my required format &quot;yyyy-MM-dd&quot;\r\n\r\nI receive time in 2 format\r\n\r\n    1. &quot;2022-05-05T11:32:12.542Z&quot;\r\n    2. &quot;2022-05-06T07:33:46.59928+00:00&quot;\r\n\r\nI am able to decode first format by parsing it using following pattern\r\n\r\n    &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;\r\n\r\nbut not able to understand the format for the 2nd condition.\r\n\r\nSome more example example of 2nd Condition\r\n\r\n    &quot;2022-05-06T06:30:25.583988+00:00&quot;\r\n    &quot;2022-05-05T11:32:49.393283+00:00&quot;\r\n\r\nP.S. I don&#39;t required parsing logic only needed the pattern\r\n\r\n\r\nFull method used in the code for parsing 1st Condition\r\n\r\n    fun convertToFormat(src: String): String {\r\n        \r\n        val originalFormat =\r\n            SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;, Locale.getDefault())\r\n        val targetFormat = SimpleDateFormat(&quot;yyyy-MM-dd&quot;)\r\n        val date = originalFormat.parse(src)\r\n        return targetFormat.format(date)\r\n    }\r\n\r\n","title":"Time Format String","body":"<p>I am trying to decode the date-time receiving from my APIs in my required format &quot;yyyy-MM-dd&quot;</p>\n<p>I receive time in 2 format</p>\n<pre><code>1. &quot;2022-05-05T11:32:12.542Z&quot;\n2. &quot;2022-05-06T07:33:46.59928+00:00&quot;\n</code></pre>\n<p>I am able to decode first format by parsing it using following pattern</p>\n<pre><code>&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;\n</code></pre>\n<p>but not able to understand the format for the 2nd condition.</p>\n<p>Some more example example of 2nd Condition</p>\n<pre><code>&quot;2022-05-06T06:30:25.583988+00:00&quot;\n&quot;2022-05-05T11:32:49.393283+00:00&quot;\n</code></pre>\n<p>P.S. I don't required parsing logic only needed the pattern</p>\n<p>Full method used in the code for parsing 1st Condition</p>\n<pre><code>fun convertToFormat(src: String): String {\n    \n    val originalFormat =\n        SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;, Locale.getDefault())\n    val targetFormat = SimpleDateFormat(&quot;yyyy-MM-dd&quot;)\n    val date = originalFormat.parse(src)\n    return targetFormat.format(date)\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651842577,"creation_date":1651842577,"answer_id":72142005,"question_id":72139583,"body_markdown":"`getItemCount` should be a trivial method that gets a list size. We don&#39;t need to worry about why it&#39;s called multiple times. For example, as the adapter is laying things out, maybe it uses a for loop to check something on all of them (one call), and it might elsewhere cache it to a local variable (second call), and maybe does a second pass loop (third call). You can find out for yourself by setting a breakpoint on this function and debugging so you can check the stack trace for each call.\r\n\r\nLikewise for `getItemViewType`, it could be doing multiple for-loop passes through the data and so it calls it multiple times for each view.\r\n\r\nSince `onBindViewHolder()` is a heavy method, they would have been careful to call it a minimal amount of times--only once for each time a view reappears on screen.","title":"Recycler View life cycle methods","body":"<p><code>getItemCount</code> should be a trivial method that gets a list size. We don't need to worry about why it's called multiple times. For example, as the adapter is laying things out, maybe it uses a for loop to check something on all of them (one call), and it might elsewhere cache it to a local variable (second call), and maybe does a second pass loop (third call). You can find out for yourself by setting a breakpoint on this function and debugging so you can check the stack trace for each call.</p>\n<p>Likewise for <code>getItemViewType</code>, it could be doing multiple for-loop passes through the data and so it calls it multiple times for each view.</p>\n<p>Since <code>onBindViewHolder()</code> is a heavy method, they would have been careful to call it a minimal amount of times--only once for each time a view reappears on screen.</p>\n"}],"owner":{"account_id":12601487,"reputation":304,"user_id":9164064,"display_name":"chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72142005,"answer_count":1,"score":0,"last_activity_date":1651844979,"creation_date":1651830969,"question_id":72139583,"body_markdown":"The flow of recycler view function call is: &lt;br/&gt;\r\n***getItemCount() -&gt; getItemViewType() -&gt; onCreateViewHolder() -&gt; onBindViewHolder()*** &lt;br/&gt;&lt;br/&gt;\r\nThe size of array list is 15 and the number of visible views on screen is 0 to 6. This is the log once the adapter is set. &lt;br/&gt; \r\n[![enter image description here][1]][1]\r\n\r\n\r\ngetItemCount() is called thrice even before a view is created. Why?&lt;br /&gt;&lt;br/&gt;\r\nOnce 7 views are populated the log is:&lt;br/&gt;[![enter image description here][2]][2]\r\n\r\n\r\nAt a single time only 7 views are visible on screen. So onCreateViewHolder() is called 7 times in total.&lt;br/&gt;\r\n\r\nAfter we scroll for one more single view, the log is:&lt;br/&gt;\r\n[![enter image description here][3]][3]\r\n\r\n\r\nOn total onCreateViewHolder() is called 9-10 times. onBindViewHolder(): 10 times, getItemCount(): 56 times, getItemViewType(): 54 times.&lt;br/&gt;&lt;br/&gt;\r\n\r\nLets say we created 10 views and keep recycling them. Shouldn&#39;t onBindViewHolder() is also called atleast 15 times(size of list) since it is setting the data for each row?&lt;br/&gt;\r\nAnd also why getItemCount() and getItemViewType() is called 54, 56 times for the size of 15 items?&lt;br/&gt;\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RCOtK.png&lt;br/&gt;\r\n  [2]: https://i.stack.imgur.com/nPciR.png&lt;br/&gt;\r\n  [3]: https://i.stack.imgur.com/pnhBb.png&lt;br/&gt;\r\n  [4]: https://i.stack.imgur.com/IQqEl.png&lt;br/&gt;","title":"Recycler View life cycle methods","body":"<p>The flow of recycler view function call is: <br/>\n<em><strong>getItemCount() -&gt; getItemViewType() -&gt; onCreateViewHolder() -&gt; onBindViewHolder()</strong></em> <br/><br/>\nThe size of array list is 15 and the number of visible views on screen is 0 to 6. This is the log once the adapter is set. <br/>\n<a href=\"https://i.stack.imgur.com/RCOtK.png%3Cbr/%3E\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RCOtK.png%3Cbr/%3E\" alt=\"enter image description here\" /></a></p>\n<p>getItemCount() is called thrice even before a view is created. Why?<br /><br/>\nOnce 7 views are populated the log is:<br/><a href=\"https://i.stack.imgur.com/nPciR.png%3Cbr/%3E\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nPciR.png%3Cbr/%3E\" alt=\"enter image description here\" /></a></p>\n<p>At a single time only 7 views are visible on screen. So onCreateViewHolder() is called 7 times in total.<br/></p>\n<p>After we scroll for one more single view, the log is:<br/>\n<a href=\"https://i.stack.imgur.com/pnhBb.png%3Cbr/%3E\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pnhBb.png%3Cbr/%3E\" alt=\"enter image description here\" /></a></p>\n<p>On total onCreateViewHolder() is called 9-10 times. onBindViewHolder(): 10 times, getItemCount(): 56 times, getItemViewType(): 54 times.<br/><br/></p>\n<p>Lets say we created 10 views and keep recycling them. Shouldn't onBindViewHolder() is also called atleast 15 times(size of list) since it is setting the data for each row?<br/>\nAnd also why getItemCount() and getItemViewType() is called 54, 56 times for the size of 15 items?<br/>\n<a href=\"https://i.stack.imgur.com/IQqEl.png%3Cbr/%3E\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IQqEl.png%3Cbr/%3E\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1651840842,"post_id":72141547,"comment_id":127465848,"body_markdown":"change the condition to also check if alt is pressed?","body":"change the condition to also check if alt is pressed?"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651844890,"creation_date":1651844890,"answer_id":72142555,"question_id":72141547,"body_markdown":"It sounds like there is some strange keyboard mapping on the machine you are using. Here are some other options to try:\r\n\r\nIt&#39;s usually preferable to use [`isShortcutDown()`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/KeyEvent.html#isShortcutDown()) instead of `isControlDown()`, as this will give the expected behavior across multiple platforms (specifically, on a Mac, this will map to &lt;kbd&gt;Command&lt;/kbd&gt;-&lt;kbd&gt;Z&lt;/kbd&gt; instead of &lt;kbd&gt;Control&lt;/kbd&gt;-&lt;kbd&gt;Z&lt;/kbd&gt;). This may circumvent your keyboard issues too.\r\n\r\n    gridgame.setOnKeyPressed(event -&gt; {\r\n        if (event.getCode() == KeyCode.Z &amp;&amp; event.isShortcutDown()){\r\n               do stuff...\r\n        } \r\n    });\r\n\r\nIf that doesn&#39;t work, try creating a `KeyCombination` and testing via its `match(...)` method. Here you can explicitly instruct it to ignore the state of the &lt;kbd&gt;Alt&lt;/kbd&gt; key:\r\n\r\n    KeyCombination ctrlZ = new KeyCodeCombinbation(\r\n        KeyCode.Z, \r\n        KeyCombination.ALT_ANY, \r\n        KeyCombination.SHORTCUT_DOWN\r\n    );\r\n    // or KeyCombination ctrlZ = KeyCombination.keyCombination(&quot;Ignore Alt+Shortcut+Z&quot;);\r\n    gridgame.setOnKeyPressed(event -&gt; {\r\n        if (ctrlZ.match(event)){\r\n               do stuff...\r\n        } \r\n    });","title":"The function &quot;isControlDown()&quot; for an event is CTRL+ALT instead of CTRL in Javafx","body":"<p>It sounds like there is some strange keyboard mapping on the machine you are using. Here are some other options to try:</p>\n<p>It's usually preferable to use <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/input/KeyEvent.html#isShortcutDown()\" rel=\"nofollow noreferrer\"><code>isShortcutDown()</code></a> instead of <code>isControlDown()</code>, as this will give the expected behavior across multiple platforms (specifically, on a Mac, this will map to <kbd>Command</kbd>-<kbd>Z</kbd> instead of <kbd>Control</kbd>-<kbd>Z</kbd>). This may circumvent your keyboard issues too.</p>\n<pre><code>gridgame.setOnKeyPressed(event -&gt; {\n    if (event.getCode() == KeyCode.Z &amp;&amp; event.isShortcutDown()){\n           do stuff...\n    } \n});\n</code></pre>\n<p>If that doesn't work, try creating a <code>KeyCombination</code> and testing via its <code>match(...)</code> method. Here you can explicitly instruct it to ignore the state of the <kbd>Alt</kbd> key:</p>\n<pre><code>KeyCombination ctrlZ = new KeyCodeCombinbation(\n    KeyCode.Z, \n    KeyCombination.ALT_ANY, \n    KeyCombination.SHORTCUT_DOWN\n);\n// or KeyCombination ctrlZ = KeyCombination.keyCombination(&quot;Ignore Alt+Shortcut+Z&quot;);\ngridgame.setOnKeyPressed(event -&gt; {\n    if (ctrlZ.match(event)){\n           do stuff...\n    } \n});\n</code></pre>\n"}],"owner":{"account_id":23507202,"reputation":61,"user_id":17556283,"display_name":"louis clement"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1651844890,"creation_date":1651840415,"question_id":72141547,"body_markdown":"So i would like to use CTRL+Z to undo something in my project, So as I have seen online I have done it like this:\r\n\r\n```\r\ngridgame.setOnKeyPressed(event -&gt; {\r\n        if (event.getCode() == KeyCode.Z &amp;&amp; event.isControlDown()){\r\n               do stuff...\r\n        } \r\n});\r\n\r\n```\r\nBut the problem is when i do this i have to press CTRL+ALT+Z and not only CTRL+Z for the undo. ","title":"The function &quot;isControlDown()&quot; for an event is CTRL+ALT instead of CTRL in Javafx","body":"<p>So i would like to use CTRL+Z to undo something in my project, So as I have seen online I have done it like this:</p>\n<pre><code>gridgame.setOnKeyPressed(event -&gt; {\n        if (event.getCode() == KeyCode.Z &amp;&amp; event.isControlDown()){\n               do stuff...\n        } \n});\n\n</code></pre>\n<p>But the problem is when i do this i have to press CTRL+ALT+Z and not only CTRL+Z for the undo.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8623,"page":1369,"page_size":100}
