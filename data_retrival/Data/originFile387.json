{"items":[{"tags":["java","python","excel","apache-poi","openpyxl"],"comments":[{"owner":{"account_id":14974112,"reputation":1060,"user_id":10810019,"display_name":"wstk"},"score":0,"creation_date":1588669383,"post_id":61609377,"comment_id":108980186,"body_markdown":"Take a look at OpenPyXL [https://openpyxl.readthedocs.io/en/stable/]","body":"Take a look at OpenPyXL [<a href=\"https://openpyxl.readthedocs.io/en/stable/]\" rel=\"nofollow noreferrer\">openpyxl.readthedocs.io/en/stable/]</a>"},{"owner":{"account_id":1486097,"reputation":11154,"user_id":1394353,"accept_rate":71,"display_name":"JL Peyret"},"score":0,"creation_date":1588697452,"post_id":61609377,"comment_id":108996161,"body_markdown":"why do you need a Java tag on this question, if it&#39;s not at all about Java?","body":"why do you need a Java tag on this question, if it&#39;s not at all about Java?"}],"answers":[{"tags":[],"owner":{"account_id":7681744,"reputation":33628,"user_id":5820814,"accept_rate":43,"display_name":"Mayank Porwal"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1588669445,"creation_date":1588669445,"answer_id":61609513,"question_id":61609377,"body_markdown":"Below are a few libraries which do that. Recommend going through them as per your requirements.\r\n\r\n 1. [`Pycel`](https://github.com/dgorissen/pycel)\r\n 2. [`formulas`](https://pypi.org/project/formulas/)\r\n 3. [`Pandas`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html)\r\n 4. [`xlwt`](https://pypi.org/project/xlwt/)\r\n 5. [`Openpyxl`](https://openpyxl.readthedocs.io/en/stable/)\r\n\r\nThey all blend with excel really well. You can try these out.","title":"What is the best library in python to deal with excel files?","body":"<p>Below are a few libraries which do that. Recommend going through them as per your requirements.</p>\n\n<ol>\n<li><a href=\"https://github.com/dgorissen/pycel\" rel=\"nofollow noreferrer\"><code>Pycel</code></a></li>\n<li><a href=\"https://pypi.org/project/formulas/\" rel=\"nofollow noreferrer\"><code>formulas</code></a></li>\n<li><a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html\" rel=\"nofollow noreferrer\"><code>Pandas</code></a></li>\n<li><a href=\"https://pypi.org/project/xlwt/\" rel=\"nofollow noreferrer\"><code>xlwt</code></a></li>\n<li><a href=\"https://openpyxl.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\"><code>Openpyxl</code></a></li>\n</ol>\n\n<p>They all blend with excel really well. You can try these out.</p>\n"},{"tags":[],"owner":{"account_id":18407697,"reputation":116,"user_id":13408916,"display_name":"Adarsh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1588671017,"creation_date":1588671017,"answer_id":61609928,"question_id":61609377,"body_markdown":"I would like to add some more libraries to Mayanks\r\n\r\n 1. matplotlib for data visualisation\r\n 2. Numpy\r\n 3. OpenpyXl\r\n 4. xlrd\r\n 5. xlwt\r\n 6. XlsxWriter\r\n\r\nYou can go through each and choose what suits best to your needs\r\n\r\n\r\n","title":"What is the best library in python to deal with excel files?","body":"<p>I would like to add some more libraries to Mayanks</p>\n\n<ol>\n<li>matplotlib for data visualisation</li>\n<li>Numpy</li>\n<li>OpenpyXl</li>\n<li>xlrd</li>\n<li>xlwt</li>\n<li>XlsxWriter</li>\n</ol>\n\n<p>You can go through each and choose what suits best to your needs</p>\n"},{"tags":[],"owner":{"account_id":11193371,"reputation":348,"user_id":8212940,"display_name":"Reza K Ghazi"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1686066296,"creation_date":1630772188,"answer_id":69057019,"question_id":61609377,"body_markdown":"The best ones as I worked with them are `XlsxWriter` and `xlwings`.\r\nBoth work smoothly and efficiently, and they are compatible with Python and Excel.\r\n\r\n`Xlwings` has two versions, `Free` and `Pro (paid version)`. The free** version has the complete ability and can do almost anything you need to work with an Excel file. With the paid version, you can get more functionality and support, which developers (not regular users) do not need most of the time.\r\n\r\nOn the other hand, `XlsxWriter` is also an excellent choice, and its user community has been growing fast recently. It supports all you need to work with an Excel file.\r\n\r\nBoth can be installed simply with `pip` and `conda`.\r\n\r\nThe other libraries, such as `xlrd` and `xlwt`, are designed in the past for handling the old version (**.xls**) files. They are not comparable with the other two libraries that I mentioned.\r\n\r\n`OpenPyXl` also is a decent library that can handle most of your needs. The library needs more support to grow. In my opinion, it is not well mature yet.\r\n\r\n`Pandas` and `pyexcel` libraries are also suitable for reading and writing data to an Excel file. I prefer **Pandas** because it is a mature and fast library that can handle big data. **pyexcel** is a wrapper API that is not capable as *Pandas*, and working with it is more complicated.\r\n\r\n`PyXLL` is a professional library that can handle almost everything a user wants in Excel with Python. One of the famous companies working on Python distributions, `Enthought`, supports the library. Unfortunately, there is no free or community version of it, and you can only choose a 30 days trial of the pro version. After that, you must pay at least $29 per month. It is powerful, but it is an expensive choice for a single developer.\r\n\r\nOf course, there are more `Libraries`, `Wrapers` and `APIs` for handling Excel files, but I mentioned the most mature and popular libraries.","title":"What is the best library in python to deal with excel files?","body":"<p>The best ones as I worked with them are <code>XlsxWriter</code> and <code>xlwings</code>.\nBoth work smoothly and efficiently, and they are compatible with Python and Excel.</p>\n<p><code>Xlwings</code> has two versions, <code>Free</code> and <code>Pro (paid version)</code>. The free** version has the complete ability and can do almost anything you need to work with an Excel file. With the paid version, you can get more functionality and support, which developers (not regular users) do not need most of the time.</p>\n<p>On the other hand, <code>XlsxWriter</code> is also an excellent choice, and its user community has been growing fast recently. It supports all you need to work with an Excel file.</p>\n<p>Both can be installed simply with <code>pip</code> and <code>conda</code>.</p>\n<p>The other libraries, such as <code>xlrd</code> and <code>xlwt</code>, are designed in the past for handling the old version (<strong>.xls</strong>) files. They are not comparable with the other two libraries that I mentioned.</p>\n<p><code>OpenPyXl</code> also is a decent library that can handle most of your needs. The library needs more support to grow. In my opinion, it is not well mature yet.</p>\n<p><code>Pandas</code> and <code>pyexcel</code> libraries are also suitable for reading and writing data to an Excel file. I prefer <strong>Pandas</strong> because it is a mature and fast library that can handle big data. <strong>pyexcel</strong> is a wrapper API that is not capable as <em>Pandas</em>, and working with it is more complicated.</p>\n<p><code>PyXLL</code> is a professional library that can handle almost everything a user wants in Excel with Python. One of the famous companies working on Python distributions, <code>Enthought</code>, supports the library. Unfortunately, there is no free or community version of it, and you can only choose a 30 days trial of the pro version. After that, you must pay at least $29 per month. It is powerful, but it is an expensive choice for a single developer.</p>\n<p>Of course, there are more <code>Libraries</code>, <code>Wrapers</code> and <code>APIs</code> for handling Excel files, but I mentioned the most mature and popular libraries.</p>\n"}],"owner":{"account_id":15988700,"reputation":119,"user_id":11538410,"display_name":"Aniket Kalamkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29166,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"closed_date":1631467674,"answer_count":3,"score":8,"last_activity_date":1686066296,"creation_date":1588668995,"question_id":61609377,"body_markdown":"I have big excel with lot of sheets and formulas interlinked within the sheets. I need to populate input in one sheet using the code and recalculate all the formulas to get my output from another sheet.\r\n\r\nI am able to do this with apache POI using Java but it is too slow in formula recalculation. Looking for libraries in Python to do the same.","title":"What is the best library in python to deal with excel files?","body":"<p>I have big excel with lot of sheets and formulas interlinked within the sheets. I need to populate input in one sheet using the code and recalculate all the formulas to get my output from another sheet.</p>\n<p>I am able to do this with apache POI using Java but it is too slow in formula recalculation. Looking for libraries in Python to do the same.</p>\n"},{"tags":["java","html","spring","templates","thymeleaf"],"owner":{"account_id":27643776,"reputation":1,"user_id":21100156,"display_name":"Bryan William"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686066181,"creation_date":1686066181,"question_id":76416304,"body_markdown":"On the following thymeleaf template trying to build a Resume, I applied classes with styles on the tags but thymeleaf just ignores it. For exemple the class pagina, sidebar, personal-data and dados-gerais, they are supose to be a flex display with one on eachside, but they are setas column, can anyone help?\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n    &lt;title&gt;Meu Curr&#237;culo&lt;/title&gt;\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n        body,\r\n        html {\r\n            font-family: Arial, sans-serif;\r\n            height: 100vh;\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n\r\n        .personal-data {\r\n            margin-bottom: 20px;\r\n            margin-top: 30px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            padding: 30px;\r\n        }\r\n\r\n        .personal-data label {\r\n            font-weight: bold;\r\n        }\r\n\r\n        .personal-data p {\r\n            margin: 5px 0;\r\n        }\r\n\r\n        .imagem {\r\n            width: 80px;\r\n            height: 95px;\r\n            margin-right: 10px;\r\n            margin-bottom: 10px;\r\n            float: left;\r\n        }\r\n\r\n        .personal-data-content {\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n\r\n        .section {\r\n            clear: both;\r\n        }\r\n\r\n        .sidebar {\r\n            display: flex;\r\n            flex-direction: column;\r\n        }\r\n\r\n        .pagina {\r\n            display: flex;\r\n            flex-direction: row;\r\n        }\r\n\r\n        .dados-gerais {\r\n            margin-left: 30px;\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n&lt;div class=&quot;pagina&quot;&gt;\r\n    &lt;div class=&quot;sidebar&quot; th:style=&quot;&#39;background-color: &#39; + ${ctr.getCorCurriculo()}&quot;&gt;\r\n        &lt;div class=&quot;personal-data-content&quot;&gt;\r\n            &lt;div class=&quot;personal-data&quot; style=&quot;display: flex&quot;&gt;\r\n                &lt;div&gt;\r\n                    &lt;img th:src=&quot;${foto}&quot; class=&quot;imagem&quot;/&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;dados-gerais&quot;&gt;\r\n                    &lt;p th:style=&quot;&#39;color: &#39; + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\r\n                        &lt;strong&gt;Localiza&#231;&#227;o:&lt;/strong&gt;&lt;span th:text=&quot;${localizacao}&quot;/&gt;\r\n                    &lt;/p&gt;\r\n                    &lt;p th:style=&quot;&#39;color: &#39; + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\r\n                        &lt;strong&gt;Telefone:&lt;/strong&gt;&lt;span th:text=&quot;${telefone}&quot;/&gt;\r\n                    &lt;/p&gt;\r\n                    &lt;p th:style=&quot;&#39;color: &#39; + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\r\n                        &lt;strong&gt;Email:&lt;/strong&gt;&lt;span th:text=&quot;${email}&quot;/&gt;\r\n                    &lt;/p&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n        &lt;div style=&quot;margin-top: 20px&quot;&gt;\r\n            &lt;div class=&quot;dados-gerais&quot;&gt;\r\n                &lt;h1 th:text=&quot;${nome}&quot;&gt;&lt;/h1&gt;\r\n                &lt;div th:each=&quot;campo: ${campos}&quot; class=&quot;section&quot;&gt;\r\n                    &lt;h2 th:class=&quot;section-title&quot; th:style=&quot;&#39;color: &#39; + ${ctr.getCorOutrosDadosCurriculo()}&quot;\r\n                        th:text=&quot;${campo.key}&quot;&gt;&lt;/h2&gt;\r\n                    &lt;div th:utext=&quot;${#strings.replace(campo.getValue(), &#39;\\n&#39;, &#39;&lt;br/&gt;&#39;)}&quot; th:class=&quot;section-content&quot;\r\n                         th:style=&quot;&#39;color: &#39; + ${ctr.getCorOutrosDadosCurriculo()}&quot; th:text=&quot;${campo.getValue()}&quot;&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nTryied to use th:class tryied to rebuild the html file.\r\nI did use the sme html on a .html file on my browser and it works perfectly.\r\n\r\nI&#39;m creating the .pdf file this way:\r\n\r\n```\r\nContext context = new Context();\r\n\r\n        context.clearVariables();\r\n        templateEngine.clearTemplateCache();\r\n\r\n        context.setVariable(&quot;nome&quot;, fixos.get(&quot;nome&quot;));\r\n        context.setVariable(&quot;foto&quot;, fixos.get(&quot;foto&quot;));\r\n        context.setVariable(&quot;localizacao&quot;, fixos.get(&quot;localizacao&quot;));\r\n        context.setVariable(&quot;telefone&quot;, fixos.get(&quot;telefone&quot;));\r\n        context.setVariable(&quot;email&quot;, fixos.get(&quot;email&quot;));\r\n        context.setVariable(&quot;ctr&quot;, ctr);\r\n        context.setVariable(&quot;fixos&quot;, fixos);\r\n        context.setVariable(&quot;campos&quot;, campos);\r\n\r\n\r\n        String template = templateEngine.process(&quot;curriculo/curriculo2&quot;, context);\r\n        byte[] retorno = ThymeleafUtils.generatePdf(template);\r\n\r\n        context.clearVariables();\r\n        templateEngine.clearTemplateCache();\r\n\r\n        String base64 = Base64.getEncoder().encodeToString(retorno);\r\n        return amazonS3Service.uploadBase64 (base64, &quot;curriculo-&quot;+tr.getCidadao().getNome() + LocalDateTime.now() +&quot;.pdf&quot;, &quot;application/pdf&quot;);\r\n\r\npublic static byte[] generatePdf(String template) throws IOException, DocumentException {\r\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n            ITextRenderer renderer = new ITextRenderer();\r\n\r\n            String xHtml = convertToXhtml(template);\r\n\r\n            String baseUrl = FileSystems\r\n                    .getDefault()\r\n                    .getPath(&quot;src&quot;, &quot;test&quot;, &quot;resources&quot;)\r\n                    .toUri()\r\n                    .toURL()\r\n                    .toString();\r\n            renderer.setDocumentFromString(xHtml, baseUrl);\r\n            renderer.layout();\r\n            renderer.createPDF(out);\r\n\r\n            return out.toByteArray();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```","title":"Thymeleaf html template do not respect the classes and styles","body":"<p>On the following thymeleaf template trying to build a Resume, I applied classes with styles on the tags but thymeleaf just ignores it. For exemple the class pagina, sidebar, personal-data and dados-gerais, they are supose to be a flex display with one on eachside, but they are setas column, can anyone help?</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\n    &lt;title&gt;Meu Currículo&lt;/title&gt;\n    &lt;style type=&quot;text/css&quot;&gt;\n        body,\n        html {\n            font-family: Arial, sans-serif;\n            height: 100vh;\n            margin: 0;\n            padding: 0;\n        }\n\n        .personal-data {\n            margin-bottom: 20px;\n            margin-top: 30px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 30px;\n        }\n\n        .personal-data label {\n            font-weight: bold;\n        }\n\n        .personal-data p {\n            margin: 5px 0;\n        }\n\n        .imagem {\n            width: 80px;\n            height: 95px;\n            margin-right: 10px;\n            margin-bottom: 10px;\n            float: left;\n        }\n\n        .personal-data-content {\n            display: flex;\n            align-items: center;\n        }\n\n        .section {\n            clear: both;\n        }\n\n        .sidebar {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .pagina {\n            display: flex;\n            flex-direction: row;\n        }\n\n        .dados-gerais {\n            margin-left: 30px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;div class=&quot;pagina&quot;&gt;\n    &lt;div class=&quot;sidebar&quot; th:style=&quot;'background-color: ' + ${ctr.getCorCurriculo()}&quot;&gt;\n        &lt;div class=&quot;personal-data-content&quot;&gt;\n            &lt;div class=&quot;personal-data&quot; style=&quot;display: flex&quot;&gt;\n                &lt;div&gt;\n                    &lt;img th:src=&quot;${foto}&quot; class=&quot;imagem&quot;/&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;dados-gerais&quot;&gt;\n                    &lt;p th:style=&quot;'color: ' + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\n                        &lt;strong&gt;Localização:&lt;/strong&gt;&lt;span th:text=&quot;${localizacao}&quot;/&gt;\n                    &lt;/p&gt;\n                    &lt;p th:style=&quot;'color: ' + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\n                        &lt;strong&gt;Telefone:&lt;/strong&gt;&lt;span th:text=&quot;${telefone}&quot;/&gt;\n                    &lt;/p&gt;\n                    &lt;p th:style=&quot;'color: ' + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\n                        &lt;strong&gt;Email:&lt;/strong&gt;&lt;span th:text=&quot;${email}&quot;/&gt;\n                    &lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n        &lt;div style=&quot;margin-top: 20px&quot;&gt;\n            &lt;div class=&quot;dados-gerais&quot;&gt;\n                &lt;h1 th:text=&quot;${nome}&quot;&gt;&lt;/h1&gt;\n                &lt;div th:each=&quot;campo: ${campos}&quot; class=&quot;section&quot;&gt;\n                    &lt;h2 th:class=&quot;section-title&quot; th:style=&quot;'color: ' + ${ctr.getCorOutrosDadosCurriculo()}&quot;\n                        th:text=&quot;${campo.key}&quot;&gt;&lt;/h2&gt;\n                    &lt;div th:utext=&quot;${#strings.replace(campo.getValue(), '\\n', '&lt;br/&gt;')}&quot; th:class=&quot;section-content&quot;\n                         th:style=&quot;'color: ' + ${ctr.getCorOutrosDadosCurriculo()}&quot; th:text=&quot;${campo.getValue()}&quot;&gt;&lt;/div&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Tryied to use th:class tryied to rebuild the html file.\nI did use the sme html on a .html file on my browser and it works perfectly.</p>\n<p>I'm creating the .pdf file this way:</p>\n<pre><code>Context context = new Context();\n\n        context.clearVariables();\n        templateEngine.clearTemplateCache();\n\n        context.setVariable(&quot;nome&quot;, fixos.get(&quot;nome&quot;));\n        context.setVariable(&quot;foto&quot;, fixos.get(&quot;foto&quot;));\n        context.setVariable(&quot;localizacao&quot;, fixos.get(&quot;localizacao&quot;));\n        context.setVariable(&quot;telefone&quot;, fixos.get(&quot;telefone&quot;));\n        context.setVariable(&quot;email&quot;, fixos.get(&quot;email&quot;));\n        context.setVariable(&quot;ctr&quot;, ctr);\n        context.setVariable(&quot;fixos&quot;, fixos);\n        context.setVariable(&quot;campos&quot;, campos);\n\n\n        String template = templateEngine.process(&quot;curriculo/curriculo2&quot;, context);\n        byte[] retorno = ThymeleafUtils.generatePdf(template);\n\n        context.clearVariables();\n        templateEngine.clearTemplateCache();\n\n        String base64 = Base64.getEncoder().encodeToString(retorno);\n        return amazonS3Service.uploadBase64 (base64, &quot;curriculo-&quot;+tr.getCidadao().getNome() + LocalDateTime.now() +&quot;.pdf&quot;, &quot;application/pdf&quot;);\n\npublic static byte[] generatePdf(String template) throws IOException, DocumentException {\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n            ITextRenderer renderer = new ITextRenderer();\n\n            String xHtml = convertToXhtml(template);\n\n            String baseUrl = FileSystems\n                    .getDefault()\n                    .getPath(&quot;src&quot;, &quot;test&quot;, &quot;resources&quot;)\n                    .toUri()\n                    .toURL()\n                    .toString();\n            renderer.setDocumentFromString(xHtml, baseUrl);\n            renderer.layout();\n            renderer.createPDF(out);\n\n            return out.toByteArray();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1686067402,"post_id":76416278,"comment_id":134747026,"body_markdown":"This is a message about `java.lang.SecurityManager` which should not be used anymore.","body":"This is a message about <code>java.lang.SecurityManager</code> which should not be used anymore."},{"owner":{"account_id":28766041,"reputation":11,"user_id":22030934,"display_name":"Yusuf amr"},"score":0,"creation_date":1686129945,"post_id":76416278,"comment_id":134755626,"body_markdown":"How can I disable it?","body":"How can I disable it?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1686152255,"post_id":76416278,"comment_id":134760803,"body_markdown":"You don&#39;t &quot;disable&quot; it. The message means some code is using the `SecurityManager` class and should be rewritten not to use SecurityManager.","body":"You don&#39;t &quot;disable&quot; it. The message means some code is using the <code>SecurityManager</code> class and should be rewritten not to use SecurityManager."},{"owner":{"account_id":28766041,"reputation":11,"user_id":22030934,"display_name":"Yusuf amr"},"score":0,"creation_date":1686157845,"post_id":76416278,"comment_id":134761945,"body_markdown":"Okay I got it Thank you","body":"Okay I got it Thank you"}],"owner":{"account_id":28766041,"reputation":11,"user_id":22030934,"display_name":"Yusuf amr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686066101,"creation_date":1686065887,"question_id":76416278,"body_markdown":"[problem that appears](https://i.stack.imgur.com/r2gEU.png)\r\nwhen I try to export Deployment Features for my plugins In Capella studio security problem occurred  .\r\n\r\nI tried to disable security manager but didn&#39;t find it. \r\n\r\nI use JDK-17 and Capella-studio 6.0.0.","title":"when I try to export Deployment Features In Capella studio security problem occurred","body":"<p><a href=\"https://i.stack.imgur.com/r2gEU.png\" rel=\"nofollow noreferrer\">problem that appears</a>\nwhen I try to export Deployment Features for my plugins In Capella studio security problem occurred  .</p>\n<p>I tried to disable security manager but didn't find it.</p>\n<p>I use JDK-17 and Capella-studio 6.0.0.</p>\n"},{"tags":["java","spring-boot","maven","azure-devops","gitversion"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686066269,"post_id":76416268,"comment_id":134746801,"body_markdown":"https://maven.apache.org/maven-ci-friendly.html#install-deploy: If you like to install or deploy artifacts by using the above setup you **have to** use the flatten-maven-plugin otherwise you will install/deploy artifacts in your repository which will not be consumable by Maven anymore","body":"<a href=\"https://maven.apache.org/maven-ci-friendly.html#install-deploy\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html#install-deploy</a>: If you like to install or deploy artifacts by using the above setup you <b>have to</b> use the flatten-maven-plugin otherwise you will install/deploy artifacts in your repository which will not be consumable by Maven anymore"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1686146078,"post_id":76416268,"comment_id":134759176,"body_markdown":"Well, you chose microservices - of course version changing will always be tedious. no way around that. Plus i disagree that you say you should not put the version in the pom. Of course things are not working when you dont do that...","body":"Well, you chose microservices - of course version changing will always be tedious. no way around that. Plus i disagree that you say you should not put the version in the pom. Of course things are not working when you dont do that..."}],"owner":{"account_id":5315020,"reputation":639,"user_id":4240189,"accept_rate":56,"display_name":"Fernando Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686065819,"creation_date":1686065819,"question_id":76416268,"body_markdown":"I have a development in course, based on many projects (each of which represents a microservice). All of them are using the Spring Boot Framework and must be compiled in Azure Devops in order to generate the final docker image that must be archived into Azure Artifacts.\r\n\r\n* Ideally, the project version should not be entered manually into the **pom.xml** file. That would make version changing tedious. Instead, gitversion is being used (GitVersion.yml file used to determine the version according to some rules (not the scope of this question))\r\n\r\n```\r\n$ gitversion | jq .SemVer     \r\n&quot;1.0.10&quot;\r\n```\r\n\r\n* Since Maven version 3.5 placeholders are allowed in **version** property and so, are being used:\r\n\r\n```\r\n    ...\r\n    &lt;artifactId&gt;service1&lt;/artifactId&gt;\r\n\t&lt;version&gt;${revision}${changelist}&lt;/version&gt;\r\n    ...\r\n```\r\n\r\nLocally this can be compiled with a mvn command like this one:\r\n\r\n```\r\n$ mvn clean package -Drevision=$(gitversion | jq .SemVer | sed &#39;s/^&quot;\\|&quot;$//g&#39;) -Dchangelist=&quot;-SNAPSHOT&quot; -DskipTests=true\r\n```\r\n\r\nAnd in Azure, everything also works as expected thanks to this pipelines that makes usage of GitTools extension:\r\n\r\n```\r\n# Maven\r\n# Build your Java project and run tests with Apache Maven.\r\n# Add steps that analyze code, save build artifacts, deploy, and more:\r\n# https://docs.microsoft.com/azure/devops/pipelines/languages/java\r\n\r\ntrigger:\r\n- main\r\n\r\npool:\r\n  vmImage: ubuntu-latest\r\n\r\nsteps:\r\n- checkout: self\r\n  displayName: Git Checkout\r\n  persistCredentials: true\r\n\r\n- script: git fetch --unshallow\r\n  displayName: Git Fetch\r\n\r\n- task: gitversion/setup@0\r\n  displayName: GitVersion Setup\r\n  inputs:\r\n    versionSpec: &#39;5.x&#39;\r\n\r\n- task: gitversion/execute@0\r\n  displayName: GitVersion Execute\r\n  inputs:\r\n    useConfigFile: true\r\n    configFilePath: &#39;GitVersion.yml&#39;\r\n\r\n- task: Bash@3\r\n  displayName: Display Semantic Version\r\n  inputs:\r\n    targetType: &#39;inline&#39;\r\n    script: |\r\n      echo &quot;Semantic Version equal to &#39;$(GitVersion.SemVer)&#39;&quot;\r\n      echo &quot;Changelist equal to &#39;$(changelist)&#39;&quot;\r\n\r\n- task: Maven@3\r\n  displayName: Maven Compilation\r\n  inputs:\r\n    mavenPomFile: &#39;pom.xml&#39;\r\n    mavenOptions: &#39;-Xmx3072m&#39;\r\n    javaHomeOption: &#39;JDKVersion&#39;\r\n    jdkVersionOption: &#39;1.17&#39;\r\n    jdkArchitectureOption: &#39;x64&#39;\r\n    publishJUnitResults: true\r\n    testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n    codeCoverageToolOption: &#39;JaCoCo&#39;\r\n    goals: &#39;package deploy -Drevision=$(GitVersion.SemVer) -Dchangelist=$(changelist)&#39;\r\n    options: &#39;-DskipTests=true&#39;\r\n    mavenAuthenticateFeed: true\r\n    effectivePomSkip: true\r\n\r\n- task: Docker@2\r\n  displayName: Build and Push Docker image\r\n  inputs:\r\n    containerRegistry: &#39;mycontainerregistry&#39;\r\n    repository: &#39;service1&#39;\r\n    dockerfile: &#39;Dockerfile&#39;\r\n    command: &#39;buildAndPush&#39;\r\n    tags: |\r\n      $(GitVersion.SemVer)$(changelist)\r\n      latest\r\n```\r\n\r\nSo basically all requirements are satisfied except for the following issue:\r\n\r\nI have intentionally forgotten one important thing, some projects are treated as libraries, and so, are being used/imported by the other projects. Here is where versioning gains importance.\r\n\r\n1. IDE (STS (eclipse fork)) is not capable (or at least i have no idea of setting it up properly) of resolving those version placeholders. This is uncomfortable to navigate through source code (see attached image) but mainly, it is very annoying because it affects the development flow:\r\n\r\n[![Source not found][1]][1]\r\n\r\nmake changes in library requires...\r\n1. git commit\r\n2. azure compilation\r\n3. jar download from artifacts\r\n\r\n...in order to apply those changes in project that makes usage of it. Of course I would like that flow to be completely transparent.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KHxDj.png","title":"Proper maven projects versioning strategy","body":"<p>I have a development in course, based on many projects (each of which represents a microservice). All of them are using the Spring Boot Framework and must be compiled in Azure Devops in order to generate the final docker image that must be archived into Azure Artifacts.</p>\n<ul>\n<li>Ideally, the project version should not be entered manually into the <strong>pom.xml</strong> file. That would make version changing tedious. Instead, gitversion is being used (GitVersion.yml file used to determine the version according to some rules (not the scope of this question))</li>\n</ul>\n<pre><code>$ gitversion | jq .SemVer     \n&quot;1.0.10&quot;\n</code></pre>\n<ul>\n<li>Since Maven version 3.5 placeholders are allowed in <strong>version</strong> property and so, are being used:</li>\n</ul>\n<pre><code>    ...\n    &lt;artifactId&gt;service1&lt;/artifactId&gt;\n    &lt;version&gt;${revision}${changelist}&lt;/version&gt;\n    ...\n</code></pre>\n<p>Locally this can be compiled with a mvn command like this one:</p>\n<pre><code>$ mvn clean package -Drevision=$(gitversion | jq .SemVer | sed 's/^&quot;\\|&quot;$//g') -Dchangelist=&quot;-SNAPSHOT&quot; -DskipTests=true\n</code></pre>\n<p>And in Azure, everything also works as expected thanks to this pipelines that makes usage of GitTools extension:</p>\n<pre><code># Maven\n# Build your Java project and run tests with Apache Maven.\n# Add steps that analyze code, save build artifacts, deploy, and more:\n# https://docs.microsoft.com/azure/devops/pipelines/languages/java\n\ntrigger:\n- main\n\npool:\n  vmImage: ubuntu-latest\n\nsteps:\n- checkout: self\n  displayName: Git Checkout\n  persistCredentials: true\n\n- script: git fetch --unshallow\n  displayName: Git Fetch\n\n- task: gitversion/setup@0\n  displayName: GitVersion Setup\n  inputs:\n    versionSpec: '5.x'\n\n- task: gitversion/execute@0\n  displayName: GitVersion Execute\n  inputs:\n    useConfigFile: true\n    configFilePath: 'GitVersion.yml'\n\n- task: Bash@3\n  displayName: Display Semantic Version\n  inputs:\n    targetType: 'inline'\n    script: |\n      echo &quot;Semantic Version equal to '$(GitVersion.SemVer)'&quot;\n      echo &quot;Changelist equal to '$(changelist)'&quot;\n\n- task: Maven@3\n  displayName: Maven Compilation\n  inputs:\n    mavenPomFile: 'pom.xml'\n    mavenOptions: '-Xmx3072m'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.17'\n    jdkArchitectureOption: 'x64'\n    publishJUnitResults: true\n    testResultsFiles: '**/surefire-reports/TEST-*.xml'\n    codeCoverageToolOption: 'JaCoCo'\n    goals: 'package deploy -Drevision=$(GitVersion.SemVer) -Dchangelist=$(changelist)'\n    options: '-DskipTests=true'\n    mavenAuthenticateFeed: true\n    effectivePomSkip: true\n\n- task: Docker@2\n  displayName: Build and Push Docker image\n  inputs:\n    containerRegistry: 'mycontainerregistry'\n    repository: 'service1'\n    dockerfile: 'Dockerfile'\n    command: 'buildAndPush'\n    tags: |\n      $(GitVersion.SemVer)$(changelist)\n      latest\n</code></pre>\n<p>So basically all requirements are satisfied except for the following issue:</p>\n<p>I have intentionally forgotten one important thing, some projects are treated as libraries, and so, are being used/imported by the other projects. Here is where versioning gains importance.</p>\n<ol>\n<li>IDE (STS (eclipse fork)) is not capable (or at least i have no idea of setting it up properly) of resolving those version placeholders. This is uncomfortable to navigate through source code (see attached image) but mainly, it is very annoying because it affects the development flow:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/KHxDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KHxDj.png\" alt=\"Source not found\" /></a></p>\n<p>make changes in library requires...</p>\n<ol>\n<li>git commit</li>\n<li>azure compilation</li>\n<li>jar download from artifacts</li>\n</ol>\n<p>...in order to apply those changes in project that makes usage of it. Of course I would like that flow to be completely transparent.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15602203,"reputation":149,"user_id":11256018,"display_name":"IbrahimTG99"},"score":0,"creation_date":1686071066,"post_id":76416183,"comment_id":134747808,"body_markdown":"You should look into viewbinding aswell it will help you when dealing with multiple views https://developer.android.com/topic/libraries/view-binding#java","body":"You should look into viewbinding aswell it will help you when dealing with multiple views <a href=\"https://developer.android.com/topic/libraries/view-binding#java\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/view-binding#java</a>"}],"answers":[{"tags":[],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686065790,"creation_date":1686065790,"answer_id":76416262,"question_id":76416183,"body_markdown":"Your views variables are indeed `null`.\\\r\nTry like this:\r\n\r\n```java\r\nrecyclerView = findViewById(R.id.recycle_home);\r\nfabAdd = findViewById(R.id.fab_add);\r\n```","title":"What i am missing? RecyclingView findViewById returns java.lang.NullPointerException","body":"<p>Your views variables are indeed <code>null</code>.<br />\nTry like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>recyclerView = findViewById(R.id.recycle_home);\nfabAdd = findViewById(R.id.fab_add);\n</code></pre>\n"}],"owner":{"account_id":13469594,"reputation":3,"user_id":9718616,"display_name":"Gherasim Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76416262,"answer_count":1,"score":-1,"last_activity_date":1686065790,"creation_date":1686065315,"question_id":76416183,"body_markdown":"I don&#39;t get what I am missing. Can someone help me with this please?\r\n**I tried invalidate caches. Delete all imports. Nothing is working.**\r\n\r\n`The error i get is this:`\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.circleapp/com.example.circleapp.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)&#39; on a null object reference\r\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\nat android.os.Handler.dispatchMessage(Handler.java:106)\r\nat android.os.Looper.loop(Looper.java:223)\r\nat android.app.ActivityThread.main(ActivityThread.java:7656)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\n**This is my main MainActivity class **\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    NotesListAdapter notesListAdapter;\r\n    List&lt;Notes&gt; notes = new ArrayList&lt;&gt;();\r\n    RoomDB database;\r\n    FloatingActionButton fabAdd;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n```\r\nWhen I cltrl + click on recycle_home it redirects me to the activity-main.xml.\r\n\r\nHere, on recyclerView i get the nullpointer.\r\n\r\n```\r\n        recyclerView.findViewById(R.id.recycle_home);\r\n        fabAdd.findViewById(R.id.fab_add);\r\n\r\n        database = RoomDB.getInstance(this);\r\n\r\n        notes = database.mainDAO().getAll();\r\n\r\n        updateRecycler(notes);\r\n\r\n        fabAdd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, NotesActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\nThis is my main activity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/black&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/recycle_home&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_margin=&quot;24dp&quot;\r\n        android:src=&quot;@drawable/ic_add&quot;\r\n        android:id=&quot;@+id/fab_add&quot;\r\n        /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"What i am missing? RecyclingView findViewById returns java.lang.NullPointerException","body":"<p>I don't get what I am missing. Can someone help me with this please?\n<strong>I tried invalidate caches. Delete all imports. Nothing is working.</strong></p>\n<p><code>The error i get is this:</code></p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.circleapp/com.example.circleapp.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>**This is my main MainActivity class **</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    NotesListAdapter notesListAdapter;\n    List&lt;Notes&gt; notes = new ArrayList&lt;&gt;();\n    RoomDB database;\n    FloatingActionButton fabAdd;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n</code></pre>\n<p>When I cltrl + click on recycle_home it redirects me to the activity-main.xml.</p>\n<p>Here, on recyclerView i get the nullpointer.</p>\n<pre><code>        recyclerView.findViewById(R.id.recycle_home);\n        fabAdd.findViewById(R.id.fab_add);\n\n        database = RoomDB.getInstance(this);\n\n        notes = database.mainDAO().getAll();\n\n        updateRecycler(notes);\n\n        fabAdd.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, NotesActivity.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n</code></pre>\n<p>This is my main activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@color/black&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/recycle_home&quot;\n        android:layout_margin=&quot;8dp&quot;\n        /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_margin=&quot;24dp&quot;\n        android:src=&quot;@drawable/ic_add&quot;\n        android:id=&quot;@+id/fab_add&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686065644,"creation_date":1686065644,"question_id":76416233,"body_markdown":"I am moving Spring 4 to 5.\r\n\r\nWhat I&#39;d really like is to find a fully fleshed out Spring 5 app with MSSql DB access and a pom that has all the dependencies I need, that I can grab from as desired.\r\n\r\nI can&#39;t find such a thing.\r\n\r\nMy current problem is that my existing app uses org/springframework/data/jdbc/support/ConnectionPreparer.class from \r\n~/.m2/repository/org/springframework/data/spring-data-jdbc-core/1.1.0.RELEASE/spring-data-jdbc-core-1.1.0.RELEASE.jar\r\n\r\nI can&#39;t get Spring 5 to admit that such a class should exist.  Where do I find it?\r\n","title":"What has replaced org/springframework/data/jdbc/support/ConnectionPreparer.class in Spring 5?","body":"<p>I am moving Spring 4 to 5.</p>\n<p>What I'd really like is to find a fully fleshed out Spring 5 app with MSSql DB access and a pom that has all the dependencies I need, that I can grab from as desired.</p>\n<p>I can't find such a thing.</p>\n<p>My current problem is that my existing app uses org/springframework/data/jdbc/support/ConnectionPreparer.class from\n~/.m2/repository/org/springframework/data/spring-data-jdbc-core/1.1.0.RELEASE/spring-data-jdbc-core-1.1.0.RELEASE.jar</p>\n<p>I can't get Spring 5 to admit that such a class should exist.  Where do I find it?</p>\n"},{"tags":["java","spring-boot","maven","swagger"],"owner":{"account_id":394930,"reputation":2674,"user_id":757634,"accept_rate":91,"display_name":"Jayanga Kaushalya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686065528,"creation_date":1686065528,"question_id":76416221,"body_markdown":"I have a application which is Swagger First and code is generated by `openapi-generator-maven-plugin` using `spring` generator. \r\n\r\nI have variable in the server url as below (`{tenant-domain}`). \r\n```\r\nservers:\r\n  - url: https://{host-name}/t/{tenant-domain}/api/\r\n```\r\nPaths begin after this and I have no issue in accessing path parameters using the generated code.\r\n```\r\npaths:\r\n  /{org-uuid}/status\r\n```\r\n\r\nHow can I access the {tenant-domain} parameter in the base URL? \r\n\r\nI would like to use the generated code as it is without modifying manually because if I do that, I have to modify it at every maven code build. \r\n\r\n(I know I can modify the code manually and add the `tenant-domain` parameter to the which ever the method I need it. But I was hoping a mechanism without manually modifying the generated code.)\r\n\r\nThanks in advance. ","title":"How to access parameter in base url in Swagger + Spring Boot","body":"<p>I have a application which is Swagger First and code is generated by <code>openapi-generator-maven-plugin</code> using <code>spring</code> generator.</p>\n<p>I have variable in the server url as below (<code>{tenant-domain}</code>).</p>\n<pre><code>servers:\n  - url: https://{host-name}/t/{tenant-domain}/api/\n</code></pre>\n<p>Paths begin after this and I have no issue in accessing path parameters using the generated code.</p>\n<pre><code>paths:\n  /{org-uuid}/status\n</code></pre>\n<p>How can I access the {tenant-domain} parameter in the base URL?</p>\n<p>I would like to use the generated code as it is without modifying manually because if I do that, I have to modify it at every maven code build.</p>\n<p>(I know I can modify the code manually and add the <code>tenant-domain</code> parameter to the which ever the method I need it. But I was hoping a mechanism without manually modifying the generated code.)</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","file-io","fileinputstream","objectinputstream"],"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1277159315,"post_id":2626163,"comment_id":3166640,"body_markdown":"I&#39;m doing the same thing--but I&#39;m tailing an active log.  I would like it to wait until more data is there as long as the program is writing, but tell me when it&#39;s done writing.  I&#39;m not sure if there is any way to do this without catching the exception.  (The tailing part works fine, it&#39;s just getting it to exit when it&#39;s done that&#39;s bugging me)","body":"I&#39;m doing the same thing--but I&#39;m tailing an active log.  I would like it to wait until more data is there as long as the program is writing, but tell me when it&#39;s done writing.  I&#39;m not sure if there is any way to do this without catching the exception.  (The tailing part works fine, it&#39;s just getting it to exit when it&#39;s done that&#39;s bugging me)"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1686065527,"creation_date":1271116753,"answer_id":2626193,"question_id":2626163,"body_markdown":"`readObject()` doesn&#39;t return `null` at EOF. You could catch the `EOFException` and interpret it as EOF, but this would fail to distinguish a normal EOF from a file that has been truncated. \r\n\r\nA better approach would be to use some meta-data. That is, rather than asking the `ObjectInput` how many objects are in the stream, you should store the count somewhere. For example, you could create a meta-data class that records the count and other meta-data and store an instance as the first object in each file. Or you could create a special EOF marker class and store an instance as the last object in each file.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p><code>readObject()</code> doesn't return <code>null</code> at EOF. You could catch the <code>EOFException</code> and interpret it as EOF, but this would fail to distinguish a normal EOF from a file that has been truncated.</p>\n<p>A better approach would be to use some meta-data. That is, rather than asking the <code>ObjectInput</code> how many objects are in the stream, you should store the count somewhere. For example, you could create a meta-data class that records the count and other meta-data and store an instance as the first object in each file. Or you could create a special EOF marker class and store an instance as the last object in each file.</p>\n"},{"tags":[],"owner":{"account_id":109947,"reputation":4595,"user_id":291108,"accept_rate":79,"display_name":"Manuel Darveau"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1271116976,"creation_date":1271116976,"answer_id":2626201,"question_id":2626163,"body_markdown":"No, you need to know how many objects there is in the binary file. You could write the number of objects at the beginning of the file (using writeInt for example) and read it while loading it.\r\n\r\nAnother option is to call ois.available() and loop until it returns 0. However, I am not sure if this is 100% sure.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>No, you need to know how many objects there is in the binary file. You could write the number of objects at the beginning of the file (using writeInt for example) and read it while loading it.</p>\n\n<p>Another option is to call ois.available() and loop until it returns 0. However, I am not sure if this is 100% sure.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1271119048,"creation_date":1271118742,"answer_id":2626292,"question_id":2626163,"body_markdown":"It looks like the problem is with the data that you wrote out. Assuming the data is written as expected by this code, there shouldn&#39;t be a problem.\r\n\r\n(I see you are reading `String`s. This `ObectInputStream` isn&#39;t for reading text files. Use `InputStreamReader` and `BufferedReader.readLine` for that. Similarly if you have written the file with `DataOutputSteam.writeUTF`, read it with `DataInputStream.readUTF`)","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>It looks like the problem is with the data that you wrote out. Assuming the data is written as expected by this code, there shouldn't be a problem.</p>\n\n<p>(I see you are reading <code>String</code>s. This <code>ObectInputStream</code> isn't for reading text files. Use <code>InputStreamReader</code> and <code>BufferedReader.readLine</code> for that. Similarly if you have written the file with <code>DataOutputSteam.writeUTF</code>, read it with <code>DataInputStream.readUTF</code>)</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1500943636,"creation_date":1271144231,"answer_id":2627746,"question_id":2626163,"body_markdown":"No. Catch `EOFException` and use that to terminate the loop.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>No. Catch <code>EOFException</code> and use that to terminate the loop.</p>\n"},{"tags":[],"owner":{"account_id":915770,"reputation":532,"user_id":948600,"accept_rate":6,"display_name":"Aditya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1320305262,"creation_date":1320305262,"answer_id":7991448,"question_id":2626163,"body_markdown":"The best possible way to end the loop could be done by adding a null object at the end. While reading the null object can be used as a boundary condition to exit the loop. Catching the EOFException also solves the purpose but it takes few m","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>The best possible way to end the loop could be done by adding a null object at the end. While reading the null object can be used as a boundary condition to exit the loop. Catching the EOFException also solves the purpose but it takes few m</p>\n"},{"tags":[],"owner":{"account_id":398363,"reputation":750,"user_id":763002,"display_name":"Eun Woo Song"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1344951266,"creation_date":1344951266,"answer_id":11953441,"question_id":2626163,"body_markdown":"The available method of ObjectInputStream cannot used to terminate the loop as it returns 0 even if there are objects to be read in a file. Writing a null to a file doen&#39;t seem to be a good solution either since objects can be null which then would be interpreted as the end of file. I think catching the EOFException to terminate the loops is a better practice since if EOFException occurs(either because you reached the end of the file or some other reason), you have to terminate the loop anyway.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>The available method of ObjectInputStream cannot used to terminate the loop as it returns 0 even if there are objects to be read in a file. Writing a null to a file doen't seem to be a good solution either since objects can be null which then would be interpreted as the end of file. I think catching the EOFException to terminate the loops is a better practice since if EOFException occurs(either because you reached the end of the file or some other reason), you have to terminate the loop anyway.</p>\n"},{"tags":[],"owner":{"account_id":2039472,"reputation":385,"user_id":1821029,"display_name":"Tomasz"},"down_vote_count":6,"up_vote_count":24,"is_accepted":false,"score":18,"last_activity_date":1396044680,"creation_date":1352816952,"answer_id":13362503,"question_id":2626163,"body_markdown":"I had the same problem today. Although the question is quite old, the problem remains and there was no clean solution provided. Ignoring `EOFException` should be avoided as it may be thrown when some object was not saved correctly. Writing null obviously prevents you from using null values for any other purposes. Finally using `available()` on the objects stream always returns zero, as the number of objects is unknown. \r\n\r\nMy solution is quite simple. `ObjectInputStream` is just a wrapper for some other stream, such as FileInputStream. Although `ObjectInputStream.available ()` returns zero, the FileInputStream.available will return some value.\r\n\r\n       FileInputStream istream = new FileInputStream(fileName);\r\n       ObjectInputStream ois = new ObjectInputStream(istream);\r\n\r\n       /** calculate number of items **/\r\n       int line_count = 0;\r\n       while( istream.available() &gt; 0) // check if the file stream is at the end\r\n       {\r\n          (String)ois.readObject();    // read from the object stream,\r\n                                       //    which wraps the file stream\r\n          line_count++;\r\n       }","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>I had the same problem today. Although the question is quite old, the problem remains and there was no clean solution provided. Ignoring <code>EOFException</code> should be avoided as it may be thrown when some object was not saved correctly. Writing null obviously prevents you from using null values for any other purposes. Finally using <code>available()</code> on the objects stream always returns zero, as the number of objects is unknown. </p>\n\n<p>My solution is quite simple. <code>ObjectInputStream</code> is just a wrapper for some other stream, such as FileInputStream. Although <code>ObjectInputStream.available ()</code> returns zero, the FileInputStream.available will return some value.</p>\n\n<pre><code>   FileInputStream istream = new FileInputStream(fileName);\n   ObjectInputStream ois = new ObjectInputStream(istream);\n\n   /** calculate number of items **/\n   int line_count = 0;\n   while( istream.available() &gt; 0) // check if the file stream is at the end\n   {\n      (String)ois.readObject();    // read from the object stream,\n                                   //    which wraps the file stream\n      line_count++;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3697142,"reputation":19,"user_id":3078152,"display_name":"Kevin Leahy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386441961,"creation_date":1386439791,"answer_id":20444741,"question_id":2626163,"body_markdown":"It&#39;s curious that the API doesn&#39;t supply a more elegant solution to this. I guess the `EOFException` would work but I&#39;ve always been encouraged to see exceptions as unexpected events whereas here you would often expect the object stream to come to an end. \r\n&lt;br&gt;&lt;br&gt;I tried to work around this by writing a kind of &quot;marker&quot; object to signify the end of the object stream:\r\n\r\n    import java.io.Serializable;\r\n    \r\n    public enum ObjectStreamStatus implements Serializable {\r\n    \tEOF\r\n    }\r\n&lt;br&gt;Then in the code reading the object i checked for this EOF object in the object reading loop.\r\n\r\n","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>It's curious that the API doesn't supply a more elegant solution to this. I guess the <code>EOFException</code> would work but I've always been encouraged to see exceptions as unexpected events whereas here you would often expect the object stream to come to an end. \n<br><br>I tried to work around this by writing a kind of \"marker\" object to signify the end of the object stream:</p>\n\n<pre><code>import java.io.Serializable;\n\npublic enum ObjectStreamStatus implements Serializable {\n    EOF\n}\n</code></pre>\n\n<p><br>Then in the code reading the object i checked for this EOF object in the object reading loop.</p>\n"},{"tags":[],"owner":{"account_id":5021967,"reputation":159,"user_id":4035211,"display_name":"C. Paul Bond"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1523460286,"creation_date":1523460286,"answer_id":49778951,"question_id":2626163,"body_markdown":"If you write a null object at the end of the file, when you read it back you will get a null value and can terminate your loop.\r\n\r\nJust add:\r\nout.writeObject(null);\r\n\r\nwhen you serialize the data.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>If you write a null object at the end of the file, when you read it back you will get a null value and can terminate your loop.</p>\n\n<p>Just add:\nout.writeObject(null);</p>\n\n<p>when you serialize the data.</p>\n"}],"owner":{"account_id":26634,"reputation":27155,"user_id":69514,"accept_rate":70,"display_name":"user69514"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67928,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2626193,"answer_count":9,"score":26,"last_activity_date":1686065527,"creation_date":1271116231,"question_id":2626163,"body_markdown":"I am trying to read the number of line in a binary file using readObject, but I get IOException EOF. Am I doing this the right way?\r\n\r\n\r\n        \r\n        FileInputStream istream = new FileInputStream(fileName);\r\n        ObjectInputStream ois = new ObjectInputStream(istream);\r\n\r\n        /** calculate number of items **/\r\n        int line_count = 0;\r\n        while( (String)ois.readObject() != null){            \r\n            line_count++;\r\n        }","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>I am trying to read the number of line in a binary file using readObject, but I get IOException EOF. Am I doing this the right way?</p>\n\n<pre><code>    FileInputStream istream = new FileInputStream(fileName);\n    ObjectInputStream ois = new ObjectInputStream(istream);\n\n    /** calculate number of items **/\n    int line_count = 0;\n    while( (String)ois.readObject() != null){            \n        line_count++;\n    }\n</code></pre>\n"},{"tags":["java","testing","netbeans"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1685746846,"post_id":76393018,"comment_id":134709581,"body_markdown":"Where does ARPprofile come from? What is ARProfile.ARProfile?","body":"Where does ARPprofile come from? What is ARProfile.ARProfile?"},{"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"score":0,"creation_date":1685757026,"post_id":76393018,"comment_id":134710252,"body_markdown":"My mistake, it would actually be com.ClassA to keep it consistent with the example I left.","body":"My mistake, it would actually be com.ClassA to keep it consistent with the example I left."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1685795575,"post_id":76393018,"comment_id":134713011,"body_markdown":"Not sure by just looking at it. Could you create a complete, (non-)compilabe example?","body":"Not sure by just looking at it. Could you create a complete, (non-)compilabe example?"},{"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"score":0,"creation_date":1685982432,"post_id":76393018,"comment_id":134733908,"body_markdown":"Sure, what else should I add to the example? I mean, the problem is with the actual opened project I have on my PC. If I try to open a new one it works fine. I think its worth mentioning this is an Ant based project.","body":"Sure, what else should I add to the example? I mean, the problem is with the actual opened project I have on my PC. If I try to open a new one it works fine. I think its worth mentioning this is an Ant based project."},{"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"score":0,"creation_date":1685995170,"post_id":76393018,"comment_id":134736113,"body_markdown":"I&#39;ve made some progress. I detailed it in the post.","body":"I&#39;ve made some progress. I detailed it in the post."},{"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"score":0,"creation_date":1685997165,"post_id":76393018,"comment_id":134736405,"body_markdown":"Found the problem. I had a library/jar that had the same classes so I guess it must have been overriding the source code implementation, which I think its wrong since .class files should be priority over libs. Correct me if im wrong.","body":"Found the problem. I had a library/jar that had the same classes so I guess it must have been overriding the source code implementation, which I think its wrong since .class files should be priority over libs. Correct me if im wrong."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1686040460,"post_id":76393018,"comment_id":134740992,"body_markdown":"Duplicate resources would usually be resolved by the first hit. That means the sequence on the classpath matters. But you should not have duplicate classes, especially not those that you develop yourself. So the removal sounds as the real fix.","body":"Duplicate resources would usually be resolved by the first hit. That means the sequence on the classpath matters. But you should not have duplicate classes, especially not those that you develop yourself. So the removal sounds as the real fix."}],"answers":[{"tags":[],"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686065473,"creation_date":1686065473,"answer_id":76416212,"question_id":76393018,"body_markdown":"There was a duplicate resource that was overriding the one being updated. Specifically a jar containing sources which were also present in the Source Packages and was being loaded first, not taking into account the last one. Removing the JAR file fixed the problem.","title":"Test file doesnt detect updated method in source class","body":"<p>There was a duplicate resource that was overriding the one being updated. Specifically a jar containing sources which were also present in the Source Packages and was being loaded first, not taking into account the last one. Removing the JAR file fixed the problem.</p>\n"}],"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686065473,"creation_date":1685734178,"question_id":76393018,"body_markdown":"Im having this problem in Netbeans 15. Im using JDK 17 from OpenJDK. I&#39;ve configured a web project with _Source Packages_ and _Test Packages_.Im using Ant for this project. It runs with Tomcat 9. Usual stuff for me is changing source code and hot reloading it in the Tomcat server which it works fine. No problems upto here.\r\n\r\n\r\nRecently, I tried to change a class constructor and it compiles perfectly fine. Here goes a similar class example for context.\r\n\r\n```\r\npackage com;\r\n\r\nimport javax.servlet.http.*;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\n\r\n\r\npublic class ClassA extends ClassAAbstract{\r\n\r\n\r\n    /**\r\n     * Creates a new instance of ClassA\r\n     */\r\n    public ClassA(HttpServletRequest request) throws SQLException {\r\n        super(request);\r\n    }\r\n\r\n    public ClassA(HttpServletRequest request, String id) throws SQLException {\r\n        super(request, id);\r\n    }\r\n\r\n    public ClassA(String str1, String str2, Connection conn) throws SQLException {\r\n        super(str1, str2, conn);\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nBuuut... when I wanted to create the class test I&#39;ve encountered this problem. Similar test class for context:\r\n\r\n```\r\npackage com;\r\n\r\nimport Types.DatabaseDependableTest;\r\nimport com.ClassA;\r\nimport java.sql.SQLException;\r\nimport org.junit.Test;\r\n\r\npublic class ClassATest extends DatabaseDependableTest {\r\n\r\n    public ClassATest () {\r\n        super();\r\n    }\r\n\r\n    @Test\r\n    public void test() throws SQLException {\r\n        new ClassA(&quot;&quot;, &quot;&quot;, this.conn); -&gt; error\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nThe error shown shows the following:\r\n\r\n_no suitable constructor found for ClassA(String,String,Connection) constructor com.ClassA(HttpServletRequest) is not applicable_\r\n\r\nIt suggests using the other two constructors. Any guesses on what might be happening?\r\n\r\nI&#39;ve tried:\r\n\r\n1. Closing and reopening the project.\r\n2. Deleting NetBeans project folder and opening it again\r\n3. Deleted cache and tried both options again.\r\n\r\nIt&#39;s worth mentioning that I have a copy of this environment ( A previous version. Same components though, JDK 17, Tomcat 9...) and the tests there work perfectly fine when I update a class method in the source code.\r\n\r\n__Edit 1__\r\n\r\nI made progress and found out the following.\r\n\r\nIf I have a package A and classes A1,A2,A3 inside of it, the tests in Test Packages wont recognize any further updates, for these classes, since its initial configuration. \r\n\r\nExample:\r\n\r\n```\r\npackage A;\r\n\r\nclass A {\r\n    public A(String str){\r\n    }\r\n}\r\n```\r\n\r\nA test like the following __WILL__ work:\r\n\r\n```\r\npackage Test;\r\n\r\nclass ATest {\r\n    public ATest (){\r\n    }\r\n    \r\n    @Test\r\n    public void test(){\r\n        new A(&quot;STRING&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I add a new constructor to class A then I wont be able to use in the test.\r\n\r\n```\r\npackage A;\r\n\r\nclass A {\r\n    public A(String str){\r\n    }\r\n    public A(String str,String str2){ -&gt; New constructor\r\n    }\r\n}\r\n```\r\n\r\nA test like the following __WILL NOT__ work:\r\n\r\n```\r\npackage Test;\r\n\r\nclass ATest {\r\n    public ATest (){\r\n    }\r\n    \r\n    @Test\r\n    public void test(){\r\n        new A(&quot;STRING&quot;,&quot;STRING&quot;); -&gt; error ( constructor A in...)\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhereas, if I create a new class inside package A, lets say, ANewClass well then I can create a compilable test and change its code as it will be taken into account in the test being made.\r\n\r\n```\r\npackage A;\r\n\r\nclass ANewClass  {\r\n    public ANewClass (String str){\r\n    }\r\n    public ANewClass (String str,String str2){\r\n    }\r\n}\r\n```\r\n\r\nA test like the following __WILL__ work:\r\n\r\n```\r\npackage Test;\r\n\r\nclass ATest {\r\n    public ATest (){\r\n    }\r\n    \r\n    @Test\r\n    public void test(){\r\n        new ANewClass(&quot;STRING&quot;);\r\n        new ANewClass(&quot;STRING&quot;,&quot;STRING&quot;);\r\n    // Both OK!\r\n    }\r\n}\r\n```\r\n\r\nIm guessing there might be a problem with the classpath or some cached build somewhere.\r\n\r\n__Edit 2__\r\n\r\nAs I also deploy this code to Tomcat using the Netbeans integration, I checked and, effectively, the code works while deployed. The problem is specifically in the tests packages or related to it.\r\n\r\n__Solution__\r\n\r\nI had a library/jar that had the same classes so I guess it must have been overriding the source code implementation, which I think its wrong since _.class_ files should be priority over libs. Anyway, since the code was the same as the jar, I removed it and work well.\r\n","title":"Test file doesnt detect updated method in source class","body":"<p>Im having this problem in Netbeans 15. Im using JDK 17 from OpenJDK. I've configured a web project with <em>Source Packages</em> and <em>Test Packages</em>.Im using Ant for this project. It runs with Tomcat 9. Usual stuff for me is changing source code and hot reloading it in the Tomcat server which it works fine. No problems upto here.</p>\n<p>Recently, I tried to change a class constructor and it compiles perfectly fine. Here goes a similar class example for context.</p>\n<pre><code>package com;\n\nimport javax.servlet.http.*;\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\n\npublic class ClassA extends ClassAAbstract{\n\n\n    /**\n     * Creates a new instance of ClassA\n     */\n    public ClassA(HttpServletRequest request) throws SQLException {\n        super(request);\n    }\n\n    public ClassA(HttpServletRequest request, String id) throws SQLException {\n        super(request, id);\n    }\n\n    public ClassA(String str1, String str2, Connection conn) throws SQLException {\n        super(str1, str2, conn);\n    }\n\n}\n\n\n</code></pre>\n<p>Buuut... when I wanted to create the class test I've encountered this problem. Similar test class for context:</p>\n<pre><code>package com;\n\nimport Types.DatabaseDependableTest;\nimport com.ClassA;\nimport java.sql.SQLException;\nimport org.junit.Test;\n\npublic class ClassATest extends DatabaseDependableTest {\n\n    public ClassATest () {\n        super();\n    }\n\n    @Test\n    public void test() throws SQLException {\n        new ClassA(&quot;&quot;, &quot;&quot;, this.conn); -&gt; error\n\n    }\n\n}\n\n\n</code></pre>\n<p>The error shown shows the following:</p>\n<p><em>no suitable constructor found for ClassA(String,String,Connection) constructor com.ClassA(HttpServletRequest) is not applicable</em></p>\n<p>It suggests using the other two constructors. Any guesses on what might be happening?</p>\n<p>I've tried:</p>\n<ol>\n<li>Closing and reopening the project.</li>\n<li>Deleting NetBeans project folder and opening it again</li>\n<li>Deleted cache and tried both options again.</li>\n</ol>\n<p>It's worth mentioning that I have a copy of this environment ( A previous version. Same components though, JDK 17, Tomcat 9...) and the tests there work perfectly fine when I update a class method in the source code.</p>\n<p><strong>Edit 1</strong></p>\n<p>I made progress and found out the following.</p>\n<p>If I have a package A and classes A1,A2,A3 inside of it, the tests in Test Packages wont recognize any further updates, for these classes, since its initial configuration.</p>\n<p>Example:</p>\n<pre><code>package A;\n\nclass A {\n    public A(String str){\n    }\n}\n</code></pre>\n<p>A test like the following <strong>WILL</strong> work:</p>\n<pre><code>package Test;\n\nclass ATest {\n    public ATest (){\n    }\n    \n    @Test\n    public void test(){\n        new A(&quot;STRING&quot;);\n    }\n\n}\n</code></pre>\n<p>If I add a new constructor to class A then I wont be able to use in the test.</p>\n<pre><code>package A;\n\nclass A {\n    public A(String str){\n    }\n    public A(String str,String str2){ -&gt; New constructor\n    }\n}\n</code></pre>\n<p>A test like the following <strong>WILL NOT</strong> work:</p>\n<pre><code>package Test;\n\nclass ATest {\n    public ATest (){\n    }\n    \n    @Test\n    public void test(){\n        new A(&quot;STRING&quot;,&quot;STRING&quot;); -&gt; error ( constructor A in...)\n    }\n}\n</code></pre>\n<p>Whereas, if I create a new class inside package A, lets say, ANewClass well then I can create a compilable test and change its code as it will be taken into account in the test being made.</p>\n<pre><code>package A;\n\nclass ANewClass  {\n    public ANewClass (String str){\n    }\n    public ANewClass (String str,String str2){\n    }\n}\n</code></pre>\n<p>A test like the following <strong>WILL</strong> work:</p>\n<pre><code>package Test;\n\nclass ATest {\n    public ATest (){\n    }\n    \n    @Test\n    public void test(){\n        new ANewClass(&quot;STRING&quot;);\n        new ANewClass(&quot;STRING&quot;,&quot;STRING&quot;);\n    // Both OK!\n    }\n}\n</code></pre>\n<p>Im guessing there might be a problem with the classpath or some cached build somewhere.</p>\n<p><strong>Edit 2</strong></p>\n<p>As I also deploy this code to Tomcat using the Netbeans integration, I checked and, effectively, the code works while deployed. The problem is specifically in the tests packages or related to it.</p>\n<p><strong>Solution</strong></p>\n<p>I had a library/jar that had the same classes so I guess it must have been overriding the source code implementation, which I think its wrong since <em>.class</em> files should be priority over libs. Anyway, since the code was the same as the jar, I removed it and work well.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1686072073,"post_id":76416177,"comment_id":134748025,"body_markdown":"In most cases you can omit any credential information when initializing the client and allow the default credential chain to do its thing. See: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html","body":"In most cases you can omit any credential information when initializing the client and allow the default credential chain to do its thing. See: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/latest/developer-guide/&hellip;</a>"},{"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"score":0,"creation_date":1686075143,"post_id":76416177,"comment_id":134748675,"body_markdown":"Right, but unless I&#39;m reading that incorrectly, it&#39;s just doing the exact same thing I have in my question, just finding the viable option. 1 fails, 2 fails, 3 fails, but then 4 succeeds (the credentials/config files) and goes from there. That&#39;s actually how I had originally configured things. I changed it to bypass the credentials/config file. In either case, that&#39;s still utilizing pre-configured values for AWS_SESSION_TOKEN. The default chain is just finding the viable path to that value. I&#39;m trying to generate an AWS_SESSION_TOKEN in code and not have it set anywhere in the system.","body":"Right, but unless I&#39;m reading that incorrectly, it&#39;s just doing the exact same thing I have in my question, just finding the viable option. 1 fails, 2 fails, 3 fails, but then 4 succeeds (the credentials/config files) and goes from there. That&#39;s actually how I had originally configured things. I changed it to bypass the credentials/config file. In either case, that&#39;s still utilizing pre-configured values for AWS_SESSION_TOKEN. The default chain is just finding the viable path to that value. I&#39;m trying to generate an AWS_SESSION_TOKEN in code and not have it set anywhere in the system."},{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1686075548,"post_id":76416177,"comment_id":134748748,"body_markdown":"In a deployed env credentials won&#39;t come from SSO like a regular user fetches them. If you want to get your own session token via SSO from the code, you&#39;ll need to not pass AWS_SESSION_TOKEN and use the SSO provider https://docs.aws.amazon.com/sdkref/latest/guide/feature-sso-credentials.html. You can use `aws configure sso` to configure default credential chains to use SSO.","body":"In a deployed env credentials won&#39;t come from SSO like a regular user fetches them. If you want to get your own session token via SSO from the code, you&#39;ll need to not pass AWS_SESSION_TOKEN and use the SSO provider <a href=\"https://docs.aws.amazon.com/sdkref/latest/guide/feature-sso-credentials.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdkref/latest/guide/&hellip;</a>. You can use <code>aws configure sso</code> to configure default credential chains to use SSO."},{"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"score":0,"creation_date":1686087525,"post_id":76416177,"comment_id":134750693,"body_markdown":"That&#39;s the problem I have. That documentation says &quot;The aws configure sso-session command only updates the sso-session sections in the ~/.aws/config file.&quot; So again, it&#39;s the config/credentials files. I want to avoid having those files on my host if at all possible, as I don&#39;t have access to the host. I only have application level access following a deployment.","body":"That&#39;s the problem I have. That documentation says &quot;The aws configure sso-session command only updates the sso-session sections in the ~/.aws/config file.&quot; So again, it&#39;s the config/credentials files. I want to avoid having those files on my host if at all possible, as I don&#39;t have access to the host. I only have application level access following a deployment."},{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1686095629,"post_id":76416177,"comment_id":134751481,"body_markdown":"I am not suggesting you use SSO in your deployed env. I am suggesting to use the default credential chain so that you use SSO for your local usage, and it will still work for your deployed configuration. If it&#39;s hosted on an ec2 server you can use an instance-profile role.","body":"I am not suggesting you use SSO in your deployed env. I am suggesting to use the default credential chain so that you use SSO for your local usage, and it will still work for your deployed configuration. If it&#39;s hosted on an ec2 server you can use an instance-profile role."},{"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"score":0,"creation_date":1686146594,"post_id":76416177,"comment_id":134759316,"body_markdown":"The problem with the hosting is that it&#39;s somewhat unknown. In the sense that we have about 6 different production level instances and they are all different, ranging from an EC2 server, to local Tomcat hosting. That&#39;s why I&#39;m very focused on application specific configuration rather than environment configuration. But I apologize, I&#39;m not really understanding the main point about the default credential chain. When you say local usage, do you mean for development? I have everything working locally already. AWS connects and all of the S3 services are utilized with no problems.","body":"The problem with the hosting is that it&#39;s somewhat unknown. In the sense that we have about 6 different production level instances and they are all different, ranging from an EC2 server, to local Tomcat hosting. That&#39;s why I&#39;m very focused on application specific configuration rather than environment configuration. But I apologize, I&#39;m not really understanding the main point about the default credential chain. When you say local usage, do you mean for development? I have everything working locally already. AWS connects and all of the S3 services are utilized with no problems."}],"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686065268,"creation_date":1686065268,"question_id":76416177,"body_markdown":"I&#39;m having trouble determining how to prepare Amazon Web Service integration with my application for production. Specifically, I need to be able to have long-term credentials that will work for at a bare minimum several months uninterrupted.\r\n\r\nIn my application, we&#39;ve had problems with extremely large files utilized for custom export/import processes. Previously, we had the files stored on the web-host file system for both purposes. Given the nature of the data being processed, these can get to be several gigabytes in size, which has become untenable. So, we&#39;ve been working on utilizing Amazon S3 for the files. I have everything now in place and functioning as desired - exports are streamed directly to S3 storage, downloads are made from Pre-Signed URLs, and uploads for import are handled with Pre-Signed URLS and then read as an input stream from the S3 storage for processing. So there are no issues I have with the functional usage of the AWS SDK in Java. The problem I have is being able to prepare this for use in a production environment.\r\n\r\nDuring my development, I have utilized temporary credentials as described in the documentation - https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-temporary.html. An example of how this is utilized inside the application is as follows:\r\n\r\n```\r\ntry (S3Client s3Client = S3Client.builder()\r\n    .region(Region.of(getAwsSettings().getAwsPrimaryRegion()))\r\n    .credentialsProvider(software.amazon.awssdk.auth.credentials.StaticCredentialsProvider.create(\r\n        software.amazon.awssdk.auth.credentials.AwsSessionCredentials.create(\r\n            getAwsSettings().getAwsAccessKeyId(),\r\n            getAwsSettings().getAwsSecretAccessKey(),\r\n            getAwsSettings().getAwsSessionToken()\r\n        )\r\n    ))\r\n    .build()\r\n) {\r\n    //Functional code omitted for brevity.\r\n}\r\n```\r\nTo clarify the &#39;getAwsSettings&#39;, I put the information found in the ~/.aws/credentials and ~/.aws/config files into the application as settings that a user is able to configure.\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\npublic class AwsSettings implements Serializable {\r\n    /*****************************************************************\r\n     * Statics &amp; Enums\r\n     *****************************************************************/\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    /*****************************************************************\r\n     * Fields\r\n     *****************************************************************/\r\n\r\n    /**\r\n     * Credentials file &#39;aws_access_key_id&#39; field.\r\n     */\r\n    private String awsAccessKeyId;\r\n\r\n    /**\r\n     * Credentials file &#39;aws_secret_access_key&#39; field.\r\n     */\r\n    private String awsSecretAccessKey;\r\n\r\n    /**\r\n     * Credentials file &#39;aws_session_token&#39; field.\r\n     */\r\n    private String awsSessionToken;\r\n\r\n    /**\r\n     * Config file &#39;region&#39; field.\r\n     */\r\n    private String awsPrimaryRegion;\r\n}\r\n```\r\n\r\nIt works, but the problem I have is that I need to keep re-entering my credentials every few hours. This was perfectly fine for development, but it simply will not work long-term in production. I have no idea when users will be performing operations that relate to S3.\r\n\r\nWhat I&#39;ve been trying to determine is if there is a standard token generation service for AWS. I have an IAM account with very limited access (S3 only) and that&#39;s what I&#39;ve used to retrieve my session tokens by going to the web. (https://d-xxxx.awsapps.com/start). Is it possible to have the username/password and the SSO Start URL (The AWS IAM Identity Center credentials) to request session tokens through the code on demand? \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere would be no problem if the session tokens were only viable for an hour or two, so long as the code could generate new session tokens for use when required. I have been researching for days and have yet to find anything covering this. So far everything I have found describes the temporary credentials.\r\n\r\nI have read the &quot;Learn More&quot; link in the image (https://docs.aws.amazon.com/cli/latest/userguide/sso-configure-profile-token.html#sso-configure-profile-token-auto-sso), but it describes doing things via the command line and still utilizing the config/credential files in the web hosts .aws directory. I need something that will be strictly within the application itself.\r\n\r\nIf I&#39;m approaching this entirely incorrectly I&#39;m willing to go a different route so long as the following needs are met:\r\n1) Users of the application with no connection to AWS are able to utilize S3 services (via the server-side code and pre-signed URLs)\r\n2) Credentials for SDK services can be obtained at any time with no requirements on the part of the application users. No need to contact outside support for AWS access.\r\n3) Configuration and function should be entirely contained within the application. All settings should be configurable by an application administrator, but there can be no expectation of a system administrator needing to perform any operations on the host server itself.\r\n\r\n  [1]: https://i.stack.imgur.com/R4Ye0.png","title":"AWS S3 Java SDK V2 Long Term Credentials","body":"<p>I'm having trouble determining how to prepare Amazon Web Service integration with my application for production. Specifically, I need to be able to have long-term credentials that will work for at a bare minimum several months uninterrupted.</p>\n<p>In my application, we've had problems with extremely large files utilized for custom export/import processes. Previously, we had the files stored on the web-host file system for both purposes. Given the nature of the data being processed, these can get to be several gigabytes in size, which has become untenable. So, we've been working on utilizing Amazon S3 for the files. I have everything now in place and functioning as desired - exports are streamed directly to S3 storage, downloads are made from Pre-Signed URLs, and uploads for import are handled with Pre-Signed URLS and then read as an input stream from the S3 storage for processing. So there are no issues I have with the functional usage of the AWS SDK in Java. The problem I have is being able to prepare this for use in a production environment.</p>\n<p>During my development, I have utilized temporary credentials as described in the documentation - <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-temporary.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-temporary.html</a>. An example of how this is utilized inside the application is as follows:</p>\n<pre><code>try (S3Client s3Client = S3Client.builder()\n    .region(Region.of(getAwsSettings().getAwsPrimaryRegion()))\n    .credentialsProvider(software.amazon.awssdk.auth.credentials.StaticCredentialsProvider.create(\n        software.amazon.awssdk.auth.credentials.AwsSessionCredentials.create(\n            getAwsSettings().getAwsAccessKeyId(),\n            getAwsSettings().getAwsSecretAccessKey(),\n            getAwsSettings().getAwsSessionToken()\n        )\n    ))\n    .build()\n) {\n    //Functional code omitted for brevity.\n}\n</code></pre>\n<p>To clarify the 'getAwsSettings', I put the information found in the ~/.aws/credentials and ~/.aws/config files into the application as settings that a user is able to configure.</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class AwsSettings implements Serializable {\n    /*****************************************************************\n     * Statics &amp; Enums\n     *****************************************************************/\n\n    private static final long serialVersionUID = 1L;\n\n    /*****************************************************************\n     * Fields\n     *****************************************************************/\n\n    /**\n     * Credentials file 'aws_access_key_id' field.\n     */\n    private String awsAccessKeyId;\n\n    /**\n     * Credentials file 'aws_secret_access_key' field.\n     */\n    private String awsSecretAccessKey;\n\n    /**\n     * Credentials file 'aws_session_token' field.\n     */\n    private String awsSessionToken;\n\n    /**\n     * Config file 'region' field.\n     */\n    private String awsPrimaryRegion;\n}\n</code></pre>\n<p>It works, but the problem I have is that I need to keep re-entering my credentials every few hours. This was perfectly fine for development, but it simply will not work long-term in production. I have no idea when users will be performing operations that relate to S3.</p>\n<p>What I've been trying to determine is if there is a standard token generation service for AWS. I have an IAM account with very limited access (S3 only) and that's what I've used to retrieve my session tokens by going to the web. (<a href=\"https://d-xxxx.awsapps.com/start\" rel=\"nofollow noreferrer\">https://d-xxxx.awsapps.com/start</a>). Is it possible to have the username/password and the SSO Start URL (The AWS IAM Identity Center credentials) to request session tokens through the code on demand?</p>\n<p><a href=\"https://i.stack.imgur.com/R4Ye0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R4Ye0.png\" alt=\"enter image description here\" /></a></p>\n<p>There would be no problem if the session tokens were only viable for an hour or two, so long as the code could generate new session tokens for use when required. I have been researching for days and have yet to find anything covering this. So far everything I have found describes the temporary credentials.</p>\n<p>I have read the &quot;Learn More&quot; link in the image (<a href=\"https://docs.aws.amazon.com/cli/latest/userguide/sso-configure-profile-token.html#sso-configure-profile-token-auto-sso\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cli/latest/userguide/sso-configure-profile-token.html#sso-configure-profile-token-auto-sso</a>), but it describes doing things via the command line and still utilizing the config/credential files in the web hosts .aws directory. I need something that will be strictly within the application itself.</p>\n<p>If I'm approaching this entirely incorrectly I'm willing to go a different route so long as the following needs are met:</p>\n<ol>\n<li>Users of the application with no connection to AWS are able to utilize S3 services (via the server-side code and pre-signed URLs)</li>\n<li>Credentials for SDK services can be obtained at any time with no requirements on the part of the application users. No need to contact outside support for AWS access.</li>\n<li>Configuration and function should be entirely contained within the application. All settings should be configurable by an application administrator, but there can be no expectation of a system administrator needing to perform any operations on the host server itself.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","logging","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1686151732,"post_id":76416122,"comment_id":134760696,"body_markdown":"Please follow the link to my other answer and select either of the workarounds described there, i.e. one of the native AspectJ solutions (you are currently not_ using AspectJ but Spring AOP) or Spring AOP&#39;s `ControlFlowPointcut`. Ideally, your application and aspect design should not depend on which method is called by which class, because it means tight coupling and low refactorability. You did not describe which problem you are actually trying to solve, so I cannot suggest a better alternative now. But chances are, you can change your application design to not need a control flow pointcut.","body":"Please follow the link to my other answer and select either of the workarounds described there, i.e. one of the native AspectJ solutions (you are currently not_ using AspectJ but Spring AOP) or Spring AOP&#39;s <code>ControlFlowPointcut</code>. Ideally, your application and aspect design should not depend on which method is called by which class, because it means tight coupling and low refactorability. You did not describe which problem you are actually trying to solve, so I cannot suggest a better alternative now. But chances are, you can change your application design to not need a control flow pointcut."}],"owner":{"account_id":18664812,"reputation":13,"user_id":13605067,"display_name":"jerriestjerry137"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686151392,"answer_count":0,"score":0,"last_activity_date":1686064781,"creation_date":1686064781,"question_id":76416122,"body_markdown":"I&#39;m using AspectJ with Spring to add logging to my application. I have an @Aspect class with an advice method that I want to trigger only for service methods invoked from a specific class. However, I&#39;m having trouble constructing the correct pointcut expression to achieve this.\r\n\r\nHere is my current code:\r\n\r\n**Aspect**:\r\n```java\r\n@Component\r\n@Aspect\r\npublic class LoggingAspect {\r\n\r\n    private final static Logger logger = LogManager.getLogger(LoggingAspect.class);\r\n\r\n    @Pointcut(&quot;within(com.example.demo.controller.CustomerController)&quot;)\r\n    private void withinCustomerController() {\r\n    }\r\n\r\n    @Pointcut(&quot;execution(* com.example.demo.service.impl.CustomerServiceImpl.*(..))&quot;)\r\n    private void customerServiceMethods() {\r\n    }\r\n\r\n    @AfterReturning(pointcut = &quot;withinCustomerController() &amp;&amp; customerServiceMethods()&quot;, returning = &quot;result&quot;)\r\n    public void logServiceResult(JoinPoint joinPoint, Object result) {\r\n        logger.info(&quot;Service method {} returned: {}&quot;, joinPoint.getSignature().getName(), result);\r\n    }\r\n}\r\n```\r\n\r\n**Controller**:\r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;/api&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n@RequiredArgsConstructor\r\npublic class CustomerController {\r\n\r\nprivate final CustomerService customerService;\r\n\r\n@PostMapping(value = &quot;/customer&quot;)\r\n    public KafkaMessage createCustomer(@RequestBody  RequestDto requestDto) throws IOException {\r\n        ResponseDto responseDto = customerService.createCuistomer(requestDto);\r\n        KafkaMessage kafkaMessage = new KafkaMessage();\r\n        kafkaMessage.setContent(&quot;Event published&quot;);\r\n        return kafkaMessage;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the Service and Implementations:\r\n\r\n```java\r\npublic interface CustomerService {\r\n\r\n    ResponseDto createCustomer(RequestDto requestDto);\r\n}\r\n@Service\r\npublic class CustomerServiceImpl implements CustomerService {\r\n    @Override\r\n    ResponseDto createCustomer(RequestDto requestDto) {\r\n        // business logic\r\n    }\r\n    \r\n}\r\n```\r\n\r\nPlease note that I have all the necessary dependencies added and used `@EnableAspectJAutoProxy` annotation. Also, the locations used in the pointcut expressions are 100% accurate (I am using Intellij Idea).If I remove the `&amp;&amp;` from the pointcut in `@AfterReturning`, it works perfectly. Here&#39;s the working expression:\r\n\r\n```\r\n@AfterReturning(pointcut = &quot;customerServiceMethods()&quot;, returning = &quot;result&quot;)\r\n    public void logServiceResult(JoinPoint joinPoint, Object result) {\r\n        logger.info(&quot;Service method {} returned: {}&quot;, joinPoint.getSignature().getName(), result);\r\n    }\r\n```\r\n\r\nBut I **need** to make sure this aspect works only if the service method is invoked from the `CustomerController`.\r\n\r\nCan someone help me construct the correct pointcut expression to achieve this behavior? Any suggestions or guidance would be greatly appreciated. Thank you!","title":"AspectJ pointcut expression to target service methods invoked from a specific class","body":"<p>I'm using AspectJ with Spring to add logging to my application. I have an @Aspect class with an advice method that I want to trigger only for service methods invoked from a specific class. However, I'm having trouble constructing the correct pointcut expression to achieve this.</p>\n<p>Here is my current code:</p>\n<p><strong>Aspect</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Aspect\npublic class LoggingAspect {\n\n    private final static Logger logger = LogManager.getLogger(LoggingAspect.class);\n\n    @Pointcut(&quot;within(com.example.demo.controller.CustomerController)&quot;)\n    private void withinCustomerController() {\n    }\n\n    @Pointcut(&quot;execution(* com.example.demo.service.impl.CustomerServiceImpl.*(..))&quot;)\n    private void customerServiceMethods() {\n    }\n\n    @AfterReturning(pointcut = &quot;withinCustomerController() &amp;&amp; customerServiceMethods()&quot;, returning = &quot;result&quot;)\n    public void logServiceResult(JoinPoint joinPoint, Object result) {\n        logger.info(&quot;Service method {} returned: {}&quot;, joinPoint.getSignature().getName(), result);\n    }\n}\n</code></pre>\n<p><strong>Controller</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/api&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n@RequiredArgsConstructor\npublic class CustomerController {\n\nprivate final CustomerService customerService;\n\n@PostMapping(value = &quot;/customer&quot;)\n    public KafkaMessage createCustomer(@RequestBody  RequestDto requestDto) throws IOException {\n        ResponseDto responseDto = customerService.createCuistomer(requestDto);\n        KafkaMessage kafkaMessage = new KafkaMessage();\n        kafkaMessage.setContent(&quot;Event published&quot;);\n        return kafkaMessage;\n    }\n\n}\n</code></pre>\n<p>And the Service and Implementations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CustomerService {\n\n    ResponseDto createCustomer(RequestDto requestDto);\n}\n@Service\npublic class CustomerServiceImpl implements CustomerService {\n    @Override\n    ResponseDto createCustomer(RequestDto requestDto) {\n        // business logic\n    }\n    \n}\n</code></pre>\n<p>Please note that I have all the necessary dependencies added and used <code>@EnableAspectJAutoProxy</code> annotation. Also, the locations used in the pointcut expressions are 100% accurate (I am using Intellij Idea).If I remove the <code>&amp;&amp;</code> from the pointcut in <code>@AfterReturning</code>, it works perfectly. Here's the working expression:</p>\n<pre><code>@AfterReturning(pointcut = &quot;customerServiceMethods()&quot;, returning = &quot;result&quot;)\n    public void logServiceResult(JoinPoint joinPoint, Object result) {\n        logger.info(&quot;Service method {} returned: {}&quot;, joinPoint.getSignature().getName(), result);\n    }\n</code></pre>\n<p>But I <strong>need</strong> to make sure this aspect works only if the service method is invoked from the <code>CustomerController</code>.</p>\n<p>Can someone help me construct the correct pointcut expression to achieve this behavior? Any suggestions or guidance would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring","spring-boot","rest","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686063634,"post_id":76415784,"comment_id":134746160,"body_markdown":"Replace `@Controller` with `@RestController`. `@Controller` is used for view based applications. Yours will look for a `yes.html` (or whatever view technology you want to use). It doesn&#39;t find it hence 404. Next to that you will need something to map to so try `@GetMapping(&quot;/github/v1&quot;)` (you don&#39;t need the toplevel request mapping annotation. Finally make sure that your `@SpringBootApplication` annotated class is either in `controller` as a package as well or another top-level package, that being said `controller` isn&#39;t really a good package name.","body":"Replace <code>@Controller</code> with <code>@RestController</code>. <code>@Controller</code> is used for view based applications. Yours will look for a <code>yes.html</code> (or whatever view technology you want to use). It doesn&#39;t find it hence 404. Next to that you will need something to map to so try <code>@GetMapping(&quot;&#47;github&#47;v1&quot;)</code> (you don&#39;t need the toplevel request mapping annotation. Finally make sure that your <code>@SpringBootApplication</code> annotated class is either in <code>controller</code> as a package as well or another top-level package, that being said <code>controller</code> isn&#39;t really a good package name."}],"answers":[{"tags":[],"owner":{"account_id":21965965,"reputation":55,"user_id":16243208,"display_name":"Raikiri13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686064745,"creation_date":1686064745,"answer_id":76416114,"question_id":76415784,"body_markdown":"Never mind, I didn&#39;t had my packages at the top level\r\n\r\nThat&#39;s how it should look. Sorry for your time guys.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SoMSE.png","title":"Freshly created spring boot web app endpoints won&#39;t work","body":"<p>Never mind, I didn't had my packages at the top level</p>\n<p>That's how it should look. Sorry for your time guys.</p>\n<p><a href=\"https://i.stack.imgur.com/SoMSE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SoMSE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21965965,"reputation":55,"user_id":16243208,"display_name":"Raikiri13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686064745,"creation_date":1686062095,"question_id":76415784,"body_markdown":"I have used the https://start.spring.io/ to create new Spring Boot app.\r\n\r\nThis is build.gradle so you can see what i choose at the start.\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;temp&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-batch&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.batch:spring-batch-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nI have created simple endpoint just to see if everything is all right.\r\n\r\n```\r\npackage controller;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.RequestEntity;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller\r\n//@RequestMapping(&quot;github/v1&quot;)\r\npublic class RepositoriesController {\r\n\r\n    @GetMapping\r\n    @CrossOrigin\r\n    public String test(){\r\n        return &quot;yes&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut whenever i try accesing it either with postman or in the browser I&#39;m gettting 404 Not Found. I Tried to duck around with @RestController, different @GetMapping&#39;s anniontions or @RequestMapping before the class as well as @ComponentScan. But nothing seems to work here. I had never had this kind of issue from the get go.\r\n\r\n\r\n\r\n","title":"Freshly created spring boot web app endpoints won&#39;t work","body":"<p>I have used the <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> to create new Spring Boot app.</p>\n<p>This is build.gradle so you can see what i choose at the start.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'temp'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-batch'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.batch:spring-batch-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have created simple endpoint just to see if everything is all right.</p>\n<pre><code>package controller;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.RequestEntity;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\n//@RequestMapping(&quot;github/v1&quot;)\npublic class RepositoriesController {\n\n    @GetMapping\n    @CrossOrigin\n    public String test(){\n        return &quot;yes&quot;;\n    }\n\n}\n</code></pre>\n<p>But whenever i try accesing it either with postman or in the browser I'm gettting 404 Not Found. I Tried to duck around with @RestController, different @GetMapping's anniontions or @RequestMapping before the class as well as @ComponentScan. But nothing seems to work here. I had never had this kind of issue from the get go.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sqs"],"comments":[{"owner":{"account_id":11299355,"reputation":726,"user_id":9377977,"display_name":"Mike"},"score":0,"creation_date":1699515465,"post_id":76416045,"comment_id":136542216,"body_markdown":"Related question [here](https://stackoverflow.com/questions/77299060/my-sqslistener-is-not-listening-the-queue).","body":"Related question <a href=\"https://stackoverflow.com/questions/77299060/my-sqslistener-is-not-listening-the-queue\">here</a>."}],"owner":{"account_id":5564083,"reputation":11,"user_id":4412011,"display_name":"Deepika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686064629,"creation_date":1686064207,"question_id":76416045,"body_markdown":"I have a basic spring boot app that tries to listen to SQS messages via `@SQSListener`. \r\n\r\nBelow are the dependencies : \r\n```\r\n implementation(&quot;org.springframework.boot:spring-boot-starter-parent:3.1.0&quot;)\r\n\r\n implementation(&quot;org.springframework.cloud:spring-cloud-starter-aws-messaging:2.2.6.RELEASE&quot;)\r\n implementation(&quot;org.springframework.boot:spring-boot-starter-web:3.1.0&quot;)\r\n```\r\nBelow is the service class with the listener : \r\n```\r\n@Service\r\npublic class QueueListenerService {\r\n\r\n    @SqsListener(value = &quot;test-queue&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\n    public void receiveMessage(String message){\r\n        System.out.println(&quot;Received message : &quot; + message);\r\n    }\r\n}\r\n```\r\n\r\nThe application comes up successfully and there’s no error however the listener won’t get invoked at all! Any thoughts on what could be going wrong","title":"SQSListener not getting triggered","body":"<p>I have a basic spring boot app that tries to listen to SQS messages via <code>@SQSListener</code>.</p>\n<p>Below are the dependencies :</p>\n<pre><code> implementation(&quot;org.springframework.boot:spring-boot-starter-parent:3.1.0&quot;)\n\n implementation(&quot;org.springframework.cloud:spring-cloud-starter-aws-messaging:2.2.6.RELEASE&quot;)\n implementation(&quot;org.springframework.boot:spring-boot-starter-web:3.1.0&quot;)\n</code></pre>\n<p>Below is the service class with the listener :</p>\n<pre><code>@Service\npublic class QueueListenerService {\n\n    @SqsListener(value = &quot;test-queue&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\n    public void receiveMessage(String message){\n        System.out.println(&quot;Received message : &quot; + message);\n    }\n}\n</code></pre>\n<p>The application comes up successfully and there’s no error however the listener won’t get invoked at all! Any thoughts on what could be going wrong</p>\n"},{"tags":["java","cryptography","encryption"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1296824833,"post_id":4895773,"comment_id":5451440,"body_markdown":"Hmm, that code looks ok to me. The problem must be in some code you are not showing.","body":"Hmm, that code looks ok to me. The problem must be in some code you are not showing."},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1297938538,"post_id":4895773,"comment_id":5623215,"body_markdown":"Greg : all the code is here now.","body":"Greg : all the code is here now."},{"owner":{"account_id":278703,"reputation":4948,"user_id":573420,"accept_rate":67,"display_name":"Peter Taylor"},"score":0,"creation_date":1297939867,"post_id":4895773,"comment_id":5623440,"body_markdown":"Things which occur. 1. If you encrypt the same string twice, do you get the same array back? (This is to rule out the possibility that there&#39;s a reset method you should be calling).  2. Do you encrypt all the strings which you&#39;re trying to decrypt? That is, is this code everything cryptographic? 3. Could it be an IO error elsewhere which is truncating the array before you try to decrypt it?","body":"Things which occur. 1. If you encrypt the same string twice, do you get the same array back? (This is to rule out the possibility that there&#39;s a reset method you should be calling).  2. Do you encrypt all the strings which you&#39;re trying to decrypt? That is, is this code everything cryptographic? 3. Could it be an IO error elsewhere which is truncating the array before you try to decrypt it?"},{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":0,"creation_date":1297944944,"post_id":4895773,"comment_id":5624479,"body_markdown":"Is there a test case that can be reproduced? Hope you must have already seen this, if not refer http://www.coderanch.com/t/133352/Security/BadPaddingException-DES","body":"Is there a test case that can be reproduced? Hope you must have already seen this, if not refer <a href=\"http://www.coderanch.com/t/133352/Security/BadPaddingException-DES\" rel=\"nofollow noreferrer\">coderanch.com/t/133352/Security/BadPaddingException-DES</a>"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1298389851,"post_id":4895773,"comment_id":5691302,"body_markdown":"@Peter Taylor. yes, if i encrypt the same thing twice, i get the same arrays.","body":"@Peter Taylor. yes, if i encrypt the same thing twice, i get the same arrays."},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1298389911,"post_id":4895773,"comment_id":5691319,"body_markdown":"@Peter Taylor. Actually, a failling code of cypher.doFinal() and a succefull one have the exact same byte array in input.","body":"@Peter Taylor. Actually, a failling code of cypher.doFinal() and a succefull one have the exact same byte array in input."},{"owner":{"account_id":44625,"reputation":698,"user_id":131099,"display_name":"Luzifer42"},"score":0,"creation_date":1298392656,"post_id":4895773,"comment_id":5692084,"body_markdown":"Your example is incorrect: new EncryptDecryptUtil(&quot;pass&quot;).encrypt(&quot;YES&quot;) returns &quot;Q3qWLKo6yJY=&quot; and not &quot;cjTMylJXfFQ=&quot;","body":"Your example is incorrect: new EncryptDecryptUtil(&quot;pass&quot;).encrypt(&quot;YES&quot;) returns &quot;Q3qWLKo6yJY=&quot; and not &quot;cjTMylJXfFQ=&quot;"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1298395359,"post_id":4895773,"comment_id":5692808,"body_markdown":"@Luzifer42. Indeed. I used another passphrase. Response edited","body":"@Luzifer42. Indeed. I used another passphrase. Response edited"},{"owner":{"account_id":7106089,"reputation":2961,"user_id":5435658,"accept_rate":17,"display_name":"raditya gumay"},"score":0,"creation_date":1463715485,"post_id":4895773,"comment_id":62192390,"body_markdown":"Hi, @AntoineClaval have you fix this issue?","body":"Hi, @AntoineClaval have you fix this issue?"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1464014222,"post_id":4895773,"comment_id":62296597,"body_markdown":"@radityagumay , The application was jumping from provider to provider.","body":"@radityagumay , The application was jumping from provider to provider."},{"owner":{"account_id":7106089,"reputation":2961,"user_id":5435658,"accept_rate":17,"display_name":"raditya gumay"},"score":0,"creation_date":1464502848,"post_id":4895773,"comment_id":62508074,"body_markdown":"@AntoineClaval i was solve this problem then. this because i enable app backup in manifest.","body":"@AntoineClaval i was solve this problem then. this because i enable app backup in manifest."}],"answers":[{"tags":[],"owner":{"account_id":86702,"reputation":8869,"user_id":240921,"accept_rate":70,"display_name":"ZoFreX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296810448,"creation_date":1296810448,"answer_id":4896232,"question_id":4895773,"body_markdown":"This is a bit of a shot in the dark, but try instantiating your cipher like this:\r\n\r\n    dcipher = Cipher.getInstance(&quot;PBEWithMD5AndDES/CBC/PKCS5Padding&quot;);","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>This is a bit of a shot in the dark, but try instantiating your cipher like this:</p>\n\n<pre><code>dcipher = Cipher.getInstance(\"PBEWithMD5AndDES/CBC/PKCS5Padding\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44625,"reputation":698,"user_id":131099,"display_name":"Luzifer42"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298305635,"creation_date":1298304967,"answer_id":5068336,"question_id":4895773,"body_markdown":"Maybe it is related to this bug: https://bugs.java.com/bugdatabase/view_bug?bug_id=4414138\r\n\r\n&gt; Bottom line: Don&#39;t use String to store\r\n&gt; encrypted text!\r\n\r\nMaybe this could fix it:\r\n\r\n    dec = Base64.decode(str.getBytes(&quot;UTF-8&quot;));\r\n\r\n","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>Maybe it is related to this bug: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4414138\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4414138</a></p>\n<blockquote>\n<p>Bottom line: Don't use String to store\nencrypted text!</p>\n</blockquote>\n<p>Maybe this could fix it:</p>\n<pre><code>dec = Base64.decode(str.getBytes(&quot;UTF-8&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34578,"reputation":4133,"user_id":97799,"accept_rate":100,"display_name":"ATorras"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298507381,"creation_date":1298507381,"answer_id":5099061,"question_id":4895773,"body_markdown":"Just an idea: Maybe you are _jumping_ among different providers (Sun/BC/etc)\r\n\r\nRegards.","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>Just an idea: Maybe you are <em>jumping</em> among different providers (Sun/BC/etc)</p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":109571,"reputation":4085,"user_id":290254,"display_name":"Julius Musseau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298523267,"creation_date":1298523267,"answer_id":5100519,"question_id":4895773,"body_markdown":"badPaddingException usually means the password was wrong.  Using &quot;wrong_password&quot; as the password recreates the error:\r\n\r\n\r\n    EncryptDecryptUtil encryptDecript = new EncryptDecryptUtil(&quot;wrong_password&quot;);\r\n    encryptDecript.decrypt(&quot;Q3qWLKo6yJY=&quot;);\r\n\r\nResults:\r\n\r\n    error during decryption. String to decode was : Q3qWLKo6yJY=\r\n    byte array to decode was : [67, 122, -106, 44, -86, 58, -56, 106]\r\n    javax.crypto.BadPaddingException: Given final block not properly padded\r\n\r\n","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>badPaddingException usually means the password was wrong.  Using \"wrong_password\" as the password recreates the error:</p>\n\n<pre><code>EncryptDecryptUtil encryptDecript = new EncryptDecryptUtil(\"wrong_password\");\nencryptDecript.decrypt(\"Q3qWLKo6yJY=\");\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>error during decryption. String to decode was : Q3qWLKo6yJY=\nbyte array to decode was : [67, 122, -106, 44, -86, 58, -56, 106]\njavax.crypto.BadPaddingException: Given final block not properly padded\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298574904,"creation_date":1298525944,"answer_id":5100805,"question_id":4895773,"body_markdown":"Some thoughts:\r\n\r\nThe stack trace indicates that the BouncyCastle provider might not be getting picked up. You can try to pass the provider explicitly to the Cipher and the KeyFactory.\r\n\r\nThe code you provided is the only code that&#39;s running, right? No other threads in the process?\r\n\r\nI wonder if you might be confusing the cipher by specifying the salt and the iterationCount both on the KeySpec, and ParameterSpec. The examples I see ( https://stackoverflow.com/questions/4060515/encrypt-pbewithmd5anddes-in-j2me, http://cs.saddleback.edu/rwatkins/CS4B/Crypto/FileEncryptor.html), do not specify those when creating the KeySpec.\r\n","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>Some thoughts:</p>\n\n<p>The stack trace indicates that the BouncyCastle provider might not be getting picked up. You can try to pass the provider explicitly to the Cipher and the KeyFactory.</p>\n\n<p>The code you provided is the only code that's running, right? No other threads in the process?</p>\n\n<p>I wonder if you might be confusing the cipher by specifying the salt and the iterationCount both on the KeySpec, and ParameterSpec. The examples I see ( <a href=\"https://stackoverflow.com/questions/4060515/encrypt-pbewithmd5anddes-in-j2me\">encrypt PBEWithMD5AndDES in j2me</a>, <a href=\"http://cs.saddleback.edu/rwatkins/CS4B/Crypto/FileEncryptor.html\" rel=\"nofollow noreferrer\">http://cs.saddleback.edu/rwatkins/CS4B/Crypto/FileEncryptor.html</a>), do not specify those when creating the KeySpec.</p>\n"},{"tags":[],"owner":{"account_id":916486,"reputation":193,"user_id":949186,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379373919,"creation_date":1379373919,"answer_id":18838982,"question_id":4895773,"body_markdown":"I&#39;m going to go out on a limb and suggest that it&#39;s a thread-safety issue. \r\nTry adding `synchronized` blocks around the `ecipher/dcipher#doFinal` calls, you can easily use the associated Cipher object as an object to synchronize with.\r\n\r\n    byte[] enc;\r\n    synchronized (ecipher) {\r\n          enc = ecipher.doFinal(utf8);\r\n    }","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>I'm going to go out on a limb and suggest that it's a thread-safety issue. \nTry adding <code>synchronized</code> blocks around the <code>ecipher/dcipher#doFinal</code> calls, you can easily use the associated Cipher object as an object to synchronize with.</p>\n\n<pre><code>byte[] enc;\nsynchronized (ecipher) {\n      enc = ecipher.doFinal(utf8);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22392334,"reputation":23,"user_id":16604165,"display_name":"Jo&#227;o Paulo Marinho Izar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686064559,"creation_date":1686064533,"answer_id":76416089,"question_id":4895773,"body_markdown":"I know this question is old, but I was facing the same problem on a Spring Boot 2.7.12 application. Turns out my cipher object was retaining some cache, I don&#39;t know why, so the workaround was to set my cipher class with the @RequestScope from Spring boot annotations. It runs fine now","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>I know this question is old, but I was facing the same problem on a Spring Boot 2.7.12 application. Turns out my cipher object was retaining some cache, I don't know why, so the workaround was to set my cipher class with the @RequestScope from Spring boot annotations. It runs fine now</p>\n"}],"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11403,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":7,"score":18,"last_activity_date":1686064559,"creation_date":1296806459,"question_id":4895773,"body_markdown":"I use a javax.crypto.cipher for encrypt and decrypt some data.\r\nIt&#39;s working well. But sometimes, the decryption faill with a badPaddingException. If i compare a succefull call with a failling call, the input given to the cipher are the same, and the cipher is initialised the same way.\r\n\r\nthat how i instanciate my cipher \r\n\r\n    dcipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n    KeySpec keySpec = new PBEKeySpec(passPhrase.toCharArray(), salt, iterationCount);\r\n    SecretKey key = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;).generateSecret(keySpec);\r\n    dcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);\r\n\r\nThat how i use it\r\n\r\n    dec = Base64.decode(str) ;\r\n    byte[] utf8 = dcipher.doFinal(dec);\r\n\r\nThe exception is raised on the doFinal.\r\n\r\nAny idea ?\r\n\r\nThanks !\r\n\r\nOh, btw, i use bouncyCastle as a provider, and add it on top on the list with \r\n\r\n    Security.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\r\n\r\n\r\nFor the sake of the completeness, and because the problem still appeart from time to time. Here is the complete class. \r\n\r\n\tpublic class EncryptDecryptUtil {\r\n\t\t/** Encryption Cipher */\r\n\t\tprivate static Cipher ecipher;\r\n\t\t/** Decription Cipher */\r\n\t\tprivate static Cipher dcipher;\r\n\t\t\r\n\t\tprivate static Logger logger = Logger.getLogger(EncryptDecryptUtil.class);\r\n\r\n\t\t/**\r\n\t\t * Constructor used to create this object. Responsible for setting and initializing this object&#39;s encrypter and\r\n\t\t * decrypter Cipher instances given a Secret Key and algorithm.\r\n\t\t * \r\n\t\t * @param key Secret Key used to initialize both the encrypter and decrypter instances.\r\n\t\t * @param algorithm Which algorithm to use for creating the encrypter and decrypter instances.\r\n\t\t */\r\n\t\tpublic EncryptDecryptUtil(SecretKey key, String algorithm) {\r\n\t\t\tSecurity.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\r\n\t\t\ttry {\r\n\t\t\t\tecipher = Cipher.getInstance(algorithm);\r\n\t\t\t\tdcipher = Cipher.getInstance(algorithm);\r\n\t\t\t\tecipher.init(Cipher.ENCRYPT_MODE, key);\r\n\t\t\t\tdcipher.init(Cipher.DECRYPT_MODE, key);\r\n\t\t\t} catch (NoSuchPaddingException e) {\r\n\t\t\t\tSystem.out.println(&quot;EXCEPTION: NoSuchPaddingException&quot;);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\tSystem.out.println(&quot;EXCEPTION: NoSuchAlgorithmException&quot;);\r\n\t\t\t} catch (InvalidKeyException e) {\r\n\t\t\t\tSystem.out.println(&quot;EXCEPTION: InvalidKeyException&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Constructor used to create this object. Responsible for setting and initializing this object&#39;s encrypter and\r\n\t\t * decrypter Chipher instances given a Pass Phrase and algorithm.\r\n\t\t * \r\n\t\t * @param passPhrase Pass Phrase used to initialize both the encrypter and decrypter instances.\r\n\t\t */\r\n\t\tpublic EncryptDecryptUtil(String passPhrase) {\r\n\t\t\tSecurity.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\r\n\t\t\t// 8-bytes Salt\r\n\t\t\tbyte[] salt = { (byte) 0xB9, (byte) 0x8B, (byte) 0xD8, (byte) 0x31, (byte) 0x55, (byte) 0x24, (byte) 0xF3, (byte) 0x13 };\r\n\r\n\t\t\t// Iteration count\r\n\t\t\tint iterationCount = 19;\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// Generate the secret key associated to the passphrase.\r\n\t\t\t\tKeySpec keySpec = new PBEKeySpec(passPhrase.toCharArray(), salt, iterationCount);\r\n\t\t\t\tSecretKey key = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;).generateSecret(keySpec);\r\n\t\t\t\t\r\n\t\t\t\t// Get instance of the cipher\r\n\t\t\t\tecipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\t\tdcipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\r\n\t\t\t\t// Prepare the parameters to the cipthers\r\n\t\t\t\tAlgorithmParameterSpec paramSpec = new PBEParameterSpec(salt, iterationCount);\r\n\r\n\t\t\t\tecipher.init(Cipher.ENCRYPT_MODE, key, paramSpec);\r\n\t\t\t\tdcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);\r\n\r\n\t\t\t} catch (InvalidAlgorithmParameterException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t} catch (InvalidKeySpecException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t} catch (NoSuchPaddingException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t} catch (InvalidKeyException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Takes a single String as an argument and returns an Encrypted version of that String.\r\n\t\t * \r\n\t\t * @param str String to be encrypted\r\n\t\t * @return &lt;code&gt;String&lt;/code&gt; Encrypted version of the provided String\r\n\t\t */\r\n\t\tpublic String encrypt(String str) {\r\n\t\t\ttry {\r\n\t\t\t\t// Encode the string into bytes using utf-8\r\n\t\t\t\tbyte[] utf8 = str.getBytes(&quot;UTF8&quot;);\r\n\r\n\t\t\t\t// Encrypt\r\n\t\t\t\tbyte[] enc = ecipher.doFinal(utf8);\r\n\r\n\t\t\t\t// Encode bytes to base64 to get a string\r\n\t\t\t\treturn new String( Base64.encode(enc), &quot;UTF8&quot;);\r\n\r\n\t\t\t} catch (BadPaddingException e) {\r\n\t\t\t\tlogger.error(&quot;during encryption : &quot;,e);\r\n\t\t\t} catch (IllegalBlockSizeException e) {\r\n\t\t\t\tlogger.error(&quot;during encryption : &quot;,e);\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\tlogger.error(&quot;during encryption : &quot;,e);\r\n\t\t\t} \r\n\t\t\treturn new String();\r\n\t\t}\r\n\t\t\r\n\r\n\t\t/**\r\n\t\t * Takes a encrypted String as an argument, decrypts and returns the decrypted String.\r\n\t\t * \r\n\t\t * @param str Encrypted String to be decrypted\r\n\t\t * @return &lt;code&gt;String&lt;/code&gt; Decrypted version of the provided String\r\n\t\t */\r\n\t\tpublic String decrypt(String str) {\r\n\t\t\tbyte[] dec = new byte[0];\r\n\t\t\ttry {\r\n\t\t\t\t// Decode base64 to get bytes. Not sure to understand why.\r\n\t\t\t\tdec = Base64.decode(str) ;\r\n\t\t\t\t// Decrypt\r\n\t\t\t\tbyte[] utf8 = dcipher.doFinal(dec);\r\n\t\t\t\t// Decode using utf-8\r\n\t\t\t\treturn new String(utf8, &quot;UTF8&quot;);\r\n\r\n\t\t\t} catch (BadPaddingException e) {\r\n\t\t\t\tlogger.error(&quot;error during decryption. String to decode was : &quot;+str + &quot; byte array to decode was : &quot;+ Arrays.toString(dec) ,e);\r\n\t\t\t} catch (IllegalBlockSizeException e) {\r\n\t\t\t\tlogger.error(&quot;during decryption : &quot;,e);\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\tlogger.error(&quot;during decryption : &quot;,e);\r\n\t\t\t}  \r\n\t\t\treturn new String();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n**Edit :** \r\nI would like to stress this 2 points : \r\n\r\n- the same input will sometime fail / sometime be sucessfully decrypted. ( i know that thanks to the logs in the BadPaddingException )\r\n- this main calling the decrypt method 1 000 000 000 times doest reproduce the issus.\r\n\r\n...\r\n\r\n    for( int i = 0 ; i&lt;1000000000 ; i++){\r\n        EncryptDecryptUtil encryptDecript = new EncryptDecryptUtil(&quot;pass&quot;);\r\n        if ( !&quot;YES&quot;.equals(encryptDecript.decrypt(&quot;Q3qWLKo6yJY=&quot;))){\r\n            System.out.println(&quot;Fail at call &quot; + i);\r\n            throw new InvalidParameterException() ;\r\n        }\r\n    }\r\n\r\n\r\nSo maybe it could come from the way i use the EncryptDecryptUtils class ? It&#39;s a field of a Spring bean, instancied one time. \r\n\r\n    com.myStuff.dlm.cryptography.EncryptDecryptUtil  error during decryption. String to   decode was : Q3qWLKo6yJY= byte array to decode was : [114, 52, -52, -54, 82, 87, 124, 84]\r\n    javax.crypto.BadPaddingException: Given final block not properly padded\r\n        at com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\r\n        at com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\r\n        at com.sun.crypto.provider.SunJCE_ab.b(DashoA13*..)\r\n        at com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineDoFinal(DashoA13*..)\r\n        at javax.crypto.Cipher.doFinal(DashoA13*..)\r\n        at com.dvidea.dlm.cryptography.EncryptDecryptUtil.decrypt(EncryptDecryptUtil.java:166)","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>I use a javax.crypto.cipher for encrypt and decrypt some data.\nIt's working well. But sometimes, the decryption faill with a badPaddingException. If i compare a succefull call with a failling call, the input given to the cipher are the same, and the cipher is initialised the same way.</p>\n\n<p>that how i instanciate my cipher </p>\n\n<pre><code>dcipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\nKeySpec keySpec = new PBEKeySpec(passPhrase.toCharArray(), salt, iterationCount);\nSecretKey key = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\").generateSecret(keySpec);\ndcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);\n</code></pre>\n\n<p>That how i use it</p>\n\n<pre><code>dec = Base64.decode(str) ;\nbyte[] utf8 = dcipher.doFinal(dec);\n</code></pre>\n\n<p>The exception is raised on the doFinal.</p>\n\n<p>Any idea ?</p>\n\n<p>Thanks !</p>\n\n<p>Oh, btw, i use bouncyCastle as a provider, and add it on top on the list with </p>\n\n<pre><code>Security.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\n</code></pre>\n\n<p>For the sake of the completeness, and because the problem still appeart from time to time. Here is the complete class. </p>\n\n<pre><code>public class EncryptDecryptUtil {\n    /** Encryption Cipher */\n    private static Cipher ecipher;\n    /** Decription Cipher */\n    private static Cipher dcipher;\n\n    private static Logger logger = Logger.getLogger(EncryptDecryptUtil.class);\n\n    /**\n     * Constructor used to create this object. Responsible for setting and initializing this object's encrypter and\n     * decrypter Cipher instances given a Secret Key and algorithm.\n     * \n     * @param key Secret Key used to initialize both the encrypter and decrypter instances.\n     * @param algorithm Which algorithm to use for creating the encrypter and decrypter instances.\n     */\n    public EncryptDecryptUtil(SecretKey key, String algorithm) {\n        Security.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\n        try {\n            ecipher = Cipher.getInstance(algorithm);\n            dcipher = Cipher.getInstance(algorithm);\n            ecipher.init(Cipher.ENCRYPT_MODE, key);\n            dcipher.init(Cipher.DECRYPT_MODE, key);\n        } catch (NoSuchPaddingException e) {\n            System.out.println(\"EXCEPTION: NoSuchPaddingException\");\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(\"EXCEPTION: NoSuchAlgorithmException\");\n        } catch (InvalidKeyException e) {\n            System.out.println(\"EXCEPTION: InvalidKeyException\");\n        }\n    }\n\n    /**\n     * Constructor used to create this object. Responsible for setting and initializing this object's encrypter and\n     * decrypter Chipher instances given a Pass Phrase and algorithm.\n     * \n     * @param passPhrase Pass Phrase used to initialize both the encrypter and decrypter instances.\n     */\n    public EncryptDecryptUtil(String passPhrase) {\n        Security.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\n        // 8-bytes Salt\n        byte[] salt = { (byte) 0xB9, (byte) 0x8B, (byte) 0xD8, (byte) 0x31, (byte) 0x55, (byte) 0x24, (byte) 0xF3, (byte) 0x13 };\n\n        // Iteration count\n        int iterationCount = 19;\n\n        try {\n            // Generate the secret key associated to the passphrase.\n            KeySpec keySpec = new PBEKeySpec(passPhrase.toCharArray(), salt, iterationCount);\n            SecretKey key = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\").generateSecret(keySpec);\n\n            // Get instance of the cipher\n            ecipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            dcipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n\n            // Prepare the parameters to the cipthers\n            AlgorithmParameterSpec paramSpec = new PBEParameterSpec(salt, iterationCount);\n\n            ecipher.init(Cipher.ENCRYPT_MODE, key, paramSpec);\n            dcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);\n\n        } catch (InvalidAlgorithmParameterException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        } catch (InvalidKeySpecException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        } catch (NoSuchPaddingException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        } catch (NoSuchAlgorithmException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        } catch (InvalidKeyException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        }\n    }\n\n    /**\n     * Takes a single String as an argument and returns an Encrypted version of that String.\n     * \n     * @param str String to be encrypted\n     * @return &lt;code&gt;String&lt;/code&gt; Encrypted version of the provided String\n     */\n    public String encrypt(String str) {\n        try {\n            // Encode the string into bytes using utf-8\n            byte[] utf8 = str.getBytes(\"UTF8\");\n\n            // Encrypt\n            byte[] enc = ecipher.doFinal(utf8);\n\n            // Encode bytes to base64 to get a string\n            return new String( Base64.encode(enc), \"UTF8\");\n\n        } catch (BadPaddingException e) {\n            logger.error(\"during encryption : \",e);\n        } catch (IllegalBlockSizeException e) {\n            logger.error(\"during encryption : \",e);\n        } catch (UnsupportedEncodingException e) {\n            logger.error(\"during encryption : \",e);\n        } \n        return new String();\n    }\n\n\n    /**\n     * Takes a encrypted String as an argument, decrypts and returns the decrypted String.\n     * \n     * @param str Encrypted String to be decrypted\n     * @return &lt;code&gt;String&lt;/code&gt; Decrypted version of the provided String\n     */\n    public String decrypt(String str) {\n        byte[] dec = new byte[0];\n        try {\n            // Decode base64 to get bytes. Not sure to understand why.\n            dec = Base64.decode(str) ;\n            // Decrypt\n            byte[] utf8 = dcipher.doFinal(dec);\n            // Decode using utf-8\n            return new String(utf8, \"UTF8\");\n\n        } catch (BadPaddingException e) {\n            logger.error(\"error during decryption. String to decode was : \"+str + \" byte array to decode was : \"+ Arrays.toString(dec) ,e);\n        } catch (IllegalBlockSizeException e) {\n            logger.error(\"during decryption : \",e);\n        } catch (UnsupportedEncodingException e) {\n            logger.error(\"during decryption : \",e);\n        }  \n        return new String();\n    }\n}\n</code></pre>\n\n<p><strong>Edit :</strong> \nI would like to stress this 2 points : </p>\n\n<ul>\n<li>the same input will sometime fail / sometime be sucessfully decrypted. ( i know that thanks to the logs in the BadPaddingException )</li>\n<li>this main calling the decrypt method 1 000 000 000 times doest reproduce the issus.</li>\n</ul>\n\n<p>...</p>\n\n<pre><code>for( int i = 0 ; i&lt;1000000000 ; i++){\n    EncryptDecryptUtil encryptDecript = new EncryptDecryptUtil(\"pass\");\n    if ( !\"YES\".equals(encryptDecript.decrypt(\"Q3qWLKo6yJY=\"))){\n        System.out.println(\"Fail at call \" + i);\n        throw new InvalidParameterException() ;\n    }\n}\n</code></pre>\n\n<p>So maybe it could come from the way i use the EncryptDecryptUtils class ? It's a field of a Spring bean, instancied one time. </p>\n\n<pre><code>com.myStuff.dlm.cryptography.EncryptDecryptUtil  error during decryption. String to   decode was : Q3qWLKo6yJY= byte array to decode was : [114, 52, -52, -54, 82, 87, 124, 84]\njavax.crypto.BadPaddingException: Given final block not properly padded\n    at com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\n    at com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\n    at com.sun.crypto.provider.SunJCE_ab.b(DashoA13*..)\n    at com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineDoFinal(DashoA13*..)\n    at javax.crypto.Cipher.doFinal(DashoA13*..)\n    at com.dvidea.dlm.cryptography.EncryptDecryptUtil.decrypt(EncryptDecryptUtil.java:166)\n</code></pre>\n"},{"tags":["java","azure-devops","vmware","java-11"],"owner":{"account_id":1972100,"reputation":1314,"user_id":1770778,"accept_rate":72,"display_name":"ffonz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686064417,"creation_date":1686064417,"question_id":76416073,"body_markdown":"I have followed [this article][1] to set up Azure DevOps to revert a snapshot with the [VMware extension][2].\r\n\r\nI managed to get it working with vSphere Management SDK 7.0 U3f and adding Java 8 (jdk1.8.0_221) to the path-variable of Windows.\r\n\r\nBut now we want to install Visual Studio 2022 on the agent. But because of Visual Studio 2022 installing Microsoft Build of OpenJDK with Hotspot 11 in the path-variable, I have to get it working with this version of Java. According to the release notes, SDK 7.0 U3f should support Java 11.\r\n\r\nAzure DevOps generates this command:\r\n\r\n    C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe -classpath vmOpsTool-1.0.jar;C:\\vSphereSDK\\SDK\\vsphere-ws\\java\\JAXWS\\lib\\vim25.jar VmOpsTool -snapshotOps restore -snapshotName DeploymentReadySnapshot -timeout 60 -vCenterUrl https://XXXXXXXXXXXXXX/sdk/vimService -vCenterUserName *** -vCenterPassword *** -vmList VM-DPL-001 -targetdc BuildManagement -skipca true\r\n\r\nAnd this is the output:\r\n\r\n    2023-06-02T10:50:33.3249971Z Parsing input parameters...\r\n    2023-06-02T10:50:33.3342795Z Checking for active session...\r\n    2023-06-02T10:50:33.3345005Z No active session found.. establishing new session.\r\n    2023-06-02T10:50:34.3238705Z java.lang.NoClassDefFoundError: jakarta/xml/ws/Service\r\n\r\nHow can I get the SDK working with Java 11?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/devops/pipelines/targets/vmware?view=azure-devops\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=ms-vscs-rm.vmwareapp","title":"Use VMware extension on Azure DevOps with Java 11","body":"<p>I have followed <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/targets/vmware?view=azure-devops\" rel=\"nofollow noreferrer\">this article</a> to set up Azure DevOps to revert a snapshot with the <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscs-rm.vmwareapp\" rel=\"nofollow noreferrer\">VMware extension</a>.</p>\n<p>I managed to get it working with vSphere Management SDK 7.0 U3f and adding Java 8 (jdk1.8.0_221) to the path-variable of Windows.</p>\n<p>But now we want to install Visual Studio 2022 on the agent. But because of Visual Studio 2022 installing Microsoft Build of OpenJDK with Hotspot 11 in the path-variable, I have to get it working with this version of Java. According to the release notes, SDK 7.0 U3f should support Java 11.</p>\n<p>Azure DevOps generates this command:</p>\n<pre><code>C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe -classpath vmOpsTool-1.0.jar;C:\\vSphereSDK\\SDK\\vsphere-ws\\java\\JAXWS\\lib\\vim25.jar VmOpsTool -snapshotOps restore -snapshotName DeploymentReadySnapshot -timeout 60 -vCenterUrl https://XXXXXXXXXXXXXX/sdk/vimService -vCenterUserName *** -vCenterPassword *** -vmList VM-DPL-001 -targetdc BuildManagement -skipca true\n</code></pre>\n<p>And this is the output:</p>\n<pre><code>2023-06-02T10:50:33.3249971Z Parsing input parameters...\n2023-06-02T10:50:33.3342795Z Checking for active session...\n2023-06-02T10:50:33.3345005Z No active session found.. establishing new session.\n2023-06-02T10:50:34.3238705Z java.lang.NoClassDefFoundError: jakarta/xml/ws/Service\n</code></pre>\n<p>How can I get the SDK working with Java 11?</p>\n"},{"tags":["java","android","google-maps","google-maps-markers"],"answers":[{"tags":[],"owner":{"account_id":11638276,"reputation":136,"user_id":8523706,"display_name":"Javdroider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504060556,"creation_date":1504060556,"answer_id":45951019,"question_id":45950952,"body_markdown":"In the method `drawMarker`, you **add all the markers** into `markersToClear`, ofcourse all will the markers will be errased when you call the function `eraseMarkers`.\r\n\r\nI think you should just add the markers into markersToClear **when the marker is changed**. Maybe there is a `change event listener` in android, try to use it.","title":"Erase a specific marker","body":"<p>In the method <code>drawMarker</code>, you <strong>add all the markers</strong> into <code>markersToClear</code>, ofcourse all will the markers will be errased when you call the function <code>eraseMarkers</code>.</p>\n\n<p>I think you should just add the markers into markersToClear <strong>when the marker is changed</strong>. Maybe there is a <code>change event listener</code> in android, try to use it.</p>\n"}],"owner":{"account_id":11406086,"reputation":3,"user_id":8361477,"display_name":"Diego Trujillo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686064397,"creation_date":1504059960,"question_id":45950952,"body_markdown":"I&#39;m working on a App in which I have a map with markers that are cabs (like UBER cabs). I&#39;m working with firebase and the thing is I need to erase just the marker (the child on firebase) which has changed its location, if the others haven&#39;t change yet I need to keep them in the map... I have already worked on a function but it erases every single marker from the map, not just the one(the cab) that has &quot;moved&quot;...\r\n\r\n     private void loadLocationsFromCloud() {\r\n\r\n        Bundle extras = getIntent().getExtras();\r\n        String company= extras.getString(&quot;cabs-company&quot;).toString();\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference myRef = database.getReference(&quot;company&quot;);\r\n        Query groupQuery = myRef.child(company);\r\n\r\n        groupQuery.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n              //nothing to do here.\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n                Log.d(TAG, &quot;onDataChange&quot;);\r\n                eraseMarkers();\r\n                LastLocation item = dataSnapshot.getValue(LastLocation.class);\r\n                LatLng newLatLng = new LatLng(item.getmLatitud(), \r\n                item.getmLongitud());\r\n                Integer cabId = new Integer(item.getcabId());\r\n                drawMarker(newLatLng, cabId);\r\n\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n                Log.d(TAG, &quot;onDataChange&quot;);\r\n\r\n           \r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n               \r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n//the method to draw the marker\r\n\r\n      private void drawMarker(LatLng pos, final Integer cabId) {\r\n        final String id = cabId.toString();\r\n        final String cabId = &quot;u&quot; + id;\r\n        Bundle bundle = getIntent().getExtras();\r\n        final String company = bundle.getString(&quot;company&quot;);\r\n        final MarkerOptions markerOptions = new MarkerOptions().position(pos);\r\n        markerOptions.position(pos);\r\n        \r\n     markerOptions.icon(BitmapDescriptorFactory.fromResource(R.mipmap.rutixxx));\r\n        markerOptions.snippet(&quot;Cab #: &quot; + num);\r\n        markerOptions.title(company);\r\n\r\n\r\n        if (mMap != null) {\r\n            marker = mMap.addMarker(markerOptions);\r\n            markersToClear.add(marker);\r\n        }\r\n\r\n    }\r\n\r\n//the method to erase markers.\r\n\r\n     private void eraseMarkers() {\r\n\r\n        for (Marker marker : markersToClear) {\r\n            marker.remove();\r\n        }\r\n        markersToClear.clear();\r\n    }\r\n\r\n\r\n\r\nAppreciate any help","title":"Erase a specific marker","body":"<p>I'm working on a App in which I have a map with markers that are cabs (like UBER cabs). I'm working with firebase and the thing is I need to erase just the marker (the child on firebase) which has changed its location, if the others haven't change yet I need to keep them in the map... I have already worked on a function but it erases every single marker from the map, not just the one(the cab) that has &quot;moved&quot;...</p>\n<pre><code> private void loadLocationsFromCloud() {\n\n    Bundle extras = getIntent().getExtras();\n    String company= extras.getString(&quot;cabs-company&quot;).toString();\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference myRef = database.getReference(&quot;company&quot;);\n    Query groupQuery = myRef.child(company);\n\n    groupQuery.addChildEventListener(new ChildEventListener() {\n        @Override\n        public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n          //nothing to do here.\n        }\n\n        @Override\n        public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n            Log.d(TAG, &quot;onDataChange&quot;);\n            eraseMarkers();\n            LastLocation item = dataSnapshot.getValue(LastLocation.class);\n            LatLng newLatLng = new LatLng(item.getmLatitud(), \n            item.getmLongitud());\n            Integer cabId = new Integer(item.getcabId());\n            drawMarker(newLatLng, cabId);\n\n            \n        }\n\n        @Override\n        public void onChildRemoved(DataSnapshot dataSnapshot) {\n            Log.d(TAG, &quot;onDataChange&quot;);\n\n       \n        }\n\n        @Override\n        public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n           \n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n    });\n}\n</code></pre>\n<p>//the method to draw the marker</p>\n<pre><code>  private void drawMarker(LatLng pos, final Integer cabId) {\n    final String id = cabId.toString();\n    final String cabId = &quot;u&quot; + id;\n    Bundle bundle = getIntent().getExtras();\n    final String company = bundle.getString(&quot;company&quot;);\n    final MarkerOptions markerOptions = new MarkerOptions().position(pos);\n    markerOptions.position(pos);\n    \n markerOptions.icon(BitmapDescriptorFactory.fromResource(R.mipmap.rutixxx));\n    markerOptions.snippet(&quot;Cab #: &quot; + num);\n    markerOptions.title(company);\n\n\n    if (mMap != null) {\n        marker = mMap.addMarker(markerOptions);\n        markersToClear.add(marker);\n    }\n\n}\n</code></pre>\n<p>//the method to erase markers.</p>\n<pre><code> private void eraseMarkers() {\n\n    for (Marker marker : markersToClear) {\n        marker.remove();\n    }\n    markersToClear.clear();\n}\n</code></pre>\n<p>Appreciate any help</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"score":0,"creation_date":1670935602,"post_id":74785032,"comment_id":131983950,"body_markdown":"I&#39;m not sure of the answer to this, but for what it&#39;s worth, [`PathPatternParser.setMatchOptionalTrailingSeparator`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPatternParser.html#setMatchOptionalTrailingSeparator(boolean)) also seems to be deprecated now, with a message saying &#39;*transparent support for trailing slashes is deprecated as of 6.0 in favor of configuring explicit redirects through a proxy, Servlet/web filter, or a controller*&#39;.","body":"I&#39;m not sure of the answer to this, but for what it&#39;s worth, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPatternParser.html#setMatchOptionalTrailingSeparator(boolean)\" rel=\"nofollow noreferrer\"><code>PathPatternParser.setMatchOptionalTrailingSeparator</code></a> also seems to be deprecated now, with a message saying &#39;<i>transparent support for trailing slashes is deprecated as of 6.0 in favor of configuring explicit redirects through a proxy, Servlet/web filter, or a controller</i>&#39;."}],"answers":[{"tags":[],"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1670940470,"creation_date":1670940096,"answer_id":74786037,"question_id":74785032,"body_markdown":"As @joe-clay has mentioned in his comment, `PathPatternParser.setMatchOptionalTrailingSeparator(boolean)` is deprecated as well in favour of explicit redirects. So you have 3 options:\r\n\r\n1. Declare both routes explicitly in the controller handler `@GetMapping(&quot;/users&quot;, &quot;/users/&quot;)`. Downside is that you need to do this for every controller, but can be used as a stop-gap solution.\r\n\r\n2. Implement `org.springframework.web.server.WebFilter` interface to explicitly redirect to the desired url. Something along these lines:\r\n```java\r\n@Override\r\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n\r\n    URI originalUri = exchange.getRequest().getURI();\r\n\r\n    if (/* check condition for trailing slash using originalUri getPath(), getQuery() etc. */) {\r\n        String originalPath = originalUri.getPath();\r\n    \tString newPath = originalPath.substring(0, originalPath.length() - 1); // ignore trailing slash\r\n\t    try {\r\n\t        URI newUri = new URI(originalUri.getScheme(),\r\n\t                originalUri.getUserInfo(),\r\n\t                originalUri.getHost(),\r\n\t                originalUri.getPort(),\r\n\t                newPath,\r\n\t                originalUri.getQuery(),\r\n\t                originalUri.getFragment());\r\n\r\n\t        ServerHttpResponse response = exchange.getResponse();\r\n\t        response.setStatusCode(HttpStatus.MOVED_PERMANENTLY);    // optional\r\n\t        response.getHeaders().setLocation(mutatedUri);\r\n\r\n\t        return Mono.empty();\r\n\r\n\t    } catch (URISyntaxException e) {\r\n\t        throw new IllegalStateException(e.getMessage(), e);\r\n\t    }\r\n    }\r\n    return chain.filter(exchange);\r\n}\r\n```\r\n\r\n3. Explicitly rewrite the incoming url in the proxy (for example using `rewrite` rules in nginx) to match the expected url.\r\n\r\nIn options 2 and 3, you may choose to return an `HTTP 301` response as well. ","title":"How do you ignore trailing slash in webflux in spring boot 3?","body":"<p>As @joe-clay has mentioned in his comment, <code>PathPatternParser.setMatchOptionalTrailingSeparator(boolean)</code> is deprecated as well in favour of explicit redirects. So you have 3 options:</p>\n<ol>\n<li><p>Declare both routes explicitly in the controller handler <code>@GetMapping(&quot;/users&quot;, &quot;/users/&quot;)</code>. Downside is that you need to do this for every controller, but can be used as a stop-gap solution.</p>\n</li>\n<li><p>Implement <code>org.springframework.web.server.WebFilter</code> interface to explicitly redirect to the desired url. Something along these lines:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n\n    URI originalUri = exchange.getRequest().getURI();\n\n    if (/* check condition for trailing slash using originalUri getPath(), getQuery() etc. */) {\n        String originalPath = originalUri.getPath();\n        String newPath = originalPath.substring(0, originalPath.length() - 1); // ignore trailing slash\n        try {\n            URI newUri = new URI(originalUri.getScheme(),\n                    originalUri.getUserInfo(),\n                    originalUri.getHost(),\n                    originalUri.getPort(),\n                    newPath,\n                    originalUri.getQuery(),\n                    originalUri.getFragment());\n\n            ServerHttpResponse response = exchange.getResponse();\n            response.setStatusCode(HttpStatus.MOVED_PERMANENTLY);    // optional\n            response.getHeaders().setLocation(mutatedUri);\n\n            return Mono.empty();\n\n        } catch (URISyntaxException e) {\n            throw new IllegalStateException(e.getMessage(), e);\n        }\n    }\n    return chain.filter(exchange);\n}\n</code></pre>\n<ol start=\"3\">\n<li>Explicitly rewrite the incoming url in the proxy (for example using <code>rewrite</code> rules in nginx) to match the expected url.</li>\n</ol>\n<p>In options 2 and 3, you may choose to return an <code>HTTP 301</code> response as well.</p>\n"}],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8137,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74786037,"answer_count":1,"score":5,"last_activity_date":1686064222,"creation_date":1670935292,"question_id":74785032,"body_markdown":"In Spring Boot 3, they have changed so that trailing slashes, by default, are no longer ignored. For example, if I have a GET resource, `/users`, and I navigate to `/users/` then Spring Boot webflux will now respond with 404.\r\n\r\nYou can change this by implementing a `WebFluxConfigurer` and overriding the `configurePathMatching` method:\r\n\r\n```java\r\n@Override\r\npublic void configurePathMatching(PathMatchConfigurer configurer) {\r\n     configurer.setUseTrailingSlashMatch();\r\n}\r\n```\r\n\r\nHowever, `setUseTrailingSlashMatch` is deprecated, and the docs says to use `PathPatternParser.setMatchOptionalTrailingSeparator(boolean)` instead. However, I don&#39;t understand how/where you actually configure this. \r\n\r\nSo the question is, how do I set `PathPatternParser.setMatchOptionalTrailingSeparator(boolean)`?","title":"How do you ignore trailing slash in webflux in spring boot 3?","body":"<p>In Spring Boot 3, they have changed so that trailing slashes, by default, are no longer ignored. For example, if I have a GET resource, <code>/users</code>, and I navigate to <code>/users/</code> then Spring Boot webflux will now respond with 404.</p>\n<p>You can change this by implementing a <code>WebFluxConfigurer</code> and overriding the <code>configurePathMatching</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configurePathMatching(PathMatchConfigurer configurer) {\n     configurer.setUseTrailingSlashMatch();\n}\n</code></pre>\n<p>However, <code>setUseTrailingSlashMatch</code> is deprecated, and the docs says to use <code>PathPatternParser.setMatchOptionalTrailingSeparator(boolean)</code> instead. However, I don't understand how/where you actually configure this.</p>\n<p>So the question is, how do I set <code>PathPatternParser.setMatchOptionalTrailingSeparator(boolean)</code>?</p>\n"},{"tags":["java","compiler-errors","syntax-error","string-formatting"],"comments":[{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":3,"creation_date":1686019618,"post_id":76411129,"comment_id":134738521,"body_markdown":"Three issues: you&#39;ve put text in a code block making it hard to read, and tagged javascript when this is not javascript, and linked a picture of code, rather than put code in the question","body":"Three issues: you&#39;ve put text in a code block making it hard to read, and tagged javascript when this is not javascript, and linked a picture of code, rather than put code in the question"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686019619,"post_id":76411129,"comment_id":134738522,"body_markdown":"Don&#39;t post code as an image. Everywhere you have ``\\%`` in your format string should be ``\\\\%`` (assuming you want an actual ``\\`` in your output).","body":"Don&#39;t post code as an image. Everywhere you have <code>\\%</code> in your format string should be <code>\\\\%</code> (assuming you want an actual <code>\\</code> in your output)."},{"owner":{"account_id":28761208,"reputation":1,"user_id":22027064,"display_name":"iEdit4Fun"},"score":0,"creation_date":1686022716,"post_id":76411129,"comment_id":134738733,"body_markdown":"I tried to post it in the text box but it didn&#39;t work","body":"I tried to post it in the text box but it didn&#39;t work"},{"owner":{"account_id":28761208,"reputation":1,"user_id":22027064,"display_name":"iEdit4Fun"},"score":0,"creation_date":1686022877,"post_id":76411129,"comment_id":134738747,"body_markdown":"I tried to put it in the questions but it didn&#39;t work. I also tried the \\\\% but it didn&#39;t work I still got an error","body":"I tried to put it in the questions but it didn&#39;t work. I also tried the \\\\% but it didn&#39;t work I still got an error"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686032626,"post_id":76411129,"comment_id":134739640,"body_markdown":"Welcome to Stack Overflow. For users here to consider your issue you need to paste your program, or better yet, a [mre], into the question proper and format it as code (there’s a button for that). And paste the error output in the same way (format as code too to preserve line breaks). And point out which line is line 44 (the `System.out.println()` line).","body":"Welcome to Stack Overflow. For users here to consider your issue you need to paste your program, or better yet, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, into the question proper and format it as code (there’s a button for that). And paste the error output in the same way (format as code too to preserve line breaks). And point out which line is line 44 (the <code>System.out.println()</code> line)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686032629,"post_id":76411129,"comment_id":134739641,"body_markdown":"Take into account that most readers here are not following your link to the image of your IDE. And also that the first thing many readers will want to do is either paste the error message into their search engine, which they canot do from an image, or run the program themselves, which they canot do from an image either.","body":"Take into account that most readers here are not following your link to the image of your IDE. And also that the first thing many readers will want to do is either paste the error message into their search engine, which they canot do from an image, or run the program themselves, which they canot do from an image either."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686063809,"post_id":76411129,"comment_id":134746211,"body_markdown":"Since you’re new here, in an attempt to show you a question format we generally like I have added a [mre] showing your problem to your question. I would really have preferred to delete the original text and link since I don’t think they contribute anything once we have the MRE; but deleting your text entirely would probably have been too brutal, so I compromised there. I hope you can use it as inspiration for your next Stack Overflow questions. And if you didn’t like it at all, just revert my edit.","body":"Since you’re new here, in an attempt to show you a question format we generally like I have added a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing your problem to your question. I would really have preferred to delete the original text and link since I don’t think they contribute anything once we have the MRE; but deleting your text entirely would probably have been too brutal, so I compromised there. I hope you can use it as inspiration for your next Stack Overflow questions. And if you didn’t like it at all, just revert my edit."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686064366,"post_id":76411129,"comment_id":134746351,"body_markdown":"Similar but maybe not exactly the same: [Illegal Escape Character &quot;\\&quot;](https://stackoverflow.com/questions/6257316/illegal-escape-character)","body":"Similar but maybe not exactly the same: <a href=\"https://stackoverflow.com/questions/6257316/illegal-escape-character\">Illegal Escape Character &quot;\\&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686022754,"creation_date":1686022754,"answer_id":76411300,"question_id":76411129,"body_markdown":"You can review the _format specifiers_ on the _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html#conversions-heading)_ class _JavaDoc_.\r\n\r\nReal number values use _%f_.  \r\nAnd, integer number values use _%d_.\r\n\r\nYou can use the following, to obtain a similar output as required.\r\n\r\n```java\r\n&quot;%7f %7f %5d %5s %s&quot;\r\n```\r\n\r\n```none\r\n1299.970000 465.640000  1963 00694 ATLAS CENTAUR 2\r\n```\r\n\r\nYou can specify a scale using _%.2f_, where _.2_ is the scale.  \r\nAnd, you can add leading zeros by adding a _0_ before the width.\r\n\r\n```java\r\n&quot;%7.2f %7.2f %5d %5s %s&quot;\r\n```\r\n\r\n```none\r\n1299.97  465.64  1963 00694 ATLAS CENTAUR 2\r\n```","title":"illegal escape character from String.format()","body":"<p>You can review the <em>format specifiers</em> on the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html#conversions-heading\" rel=\"nofollow noreferrer\">Formatter</a></em> class <em>JavaDoc</em>.</p>\n<p>Real number values use <em>%f</em>.<br />\nAnd, integer number values use <em>%d</em>.</p>\n<p>You can use the following, to obtain a similar output as required.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;%7f %7f %5d %5s %s&quot;\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1299.970000 465.640000  1963 00694 ATLAS CENTAUR 2\n</code></pre>\n<p>You can specify a scale using <em>%.2f</em>, where <em>.2</em> is the scale.<br />\nAnd, you can add leading zeros by adding a <em>0</em> before the width.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;%7.2f %7.2f %5d %5s %s&quot;\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1299.97  465.64  1963 00694 ATLAS CENTAUR 2\n</code></pre>\n"}],"owner":{"account_id":28761208,"reputation":1,"user_id":22027064,"display_name":"iEdit4Fun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686064188,"creation_date":1686019402,"question_id":76411129,"body_markdown":"### Edit:\r\n\r\nI am getting &quot;error: illegal escape character&quot; when I try to compile my Java program.\r\n\r\nMinimal reproducible example:\r\n\r\n    public static void main(String... args) {\r\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\r\n    }\r\n\r\nExpected output:\r\n\r\n```none\r\n 1299.97      465.64    1963      00694        ATLAS CENTAUR 2         \r\n```\r\n\r\nOutput from javac:\r\n\r\n```none\r\nMain.java:6: error: illegal escape character\r\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\r\n                                           ^\r\nMain.java:6: error: illegal escape character\r\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\r\n                                               ^\r\n2 errors\r\n```\r\n\r\nHow do I fix this?\r\n\r\n### Original question, can be ignored:\r\n\r\n[error at line 44 and I don&#39;t know how to fix it](https://i.stack.imgur.com/1yknx.png)\r\n\r\n```\r\n\r\nHi I am new to java programming. I want to write a java program to print out the satilites from a website. Error at line 44 and I don&#39;t know how to fix it. I&#39;m not sure if I&#39;m using the .format right. Can I please have some help?\r\n\r\nThis is the assignment:\r\n\r\n```\r\nAssignment 3 is:\r\n\r\nWrite 3 functions:\r\n\r\n    apogee which takes 2 parameters, mean motion and eccentricity and returns the apogee in kilometers.\r\n\r\n    perigee which takes 2 parameters, mean motion and eccentricity and returns the perigee in kilometers.\r\n\r\n    launch year yyyy which takes an integer parameter, the 2 digit launch year, and returns an integer, the 4 digit launch year.\r\n\r\n        hint: use the date for the 1st ever artificial satellite launch to write a function that will work until 2057\r\n\r\nDon&#39;t forget about the &quot;assumed decimal point&quot; for the eccentricity. (Use String concatenation to pre-pend a leading &quot;0.&quot; to the extracted substring before converting it to double).\r\n\r\nIt should look like this :\r\n\r\n```none\r\n 1299.97      465.64    1963      00694        ATLAS CENTAUR 2         \r\n  813.27      765.76    1964      00733        THOR AGENA D R/B        \r\n  753.32      648.28    1964      00877        SL-3 R/B                \r\n  799.01      704.45    1967      02802        SL-8 R/B                \r\n  616.16      574.02    1968      03230        SL-8 R/B                \r\n  .....................................................\r\n```","title":"illegal escape character from String.format()","body":"<h3>Edit:</h3>\n<p>I am getting &quot;error: illegal escape character&quot; when I try to compile my Java program.</p>\n<p>Minimal reproducible example:</p>\n<pre><code>public static void main(String... args) {\n    String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\n}\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code> 1299.97      465.64    1963      00694        ATLAS CENTAUR 2         \n</code></pre>\n<p>Output from javac:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Main.java:6: error: illegal escape character\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\n                                           ^\nMain.java:6: error: illegal escape character\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\n                                               ^\n2 errors\n</code></pre>\n<p>How do I fix this?</p>\n<h3>Original question, can be ignored:</h3>\n<p><a href=\"https://i.stack.imgur.com/1yknx.png\" rel=\"nofollow noreferrer\">error at line 44 and I don't know how to fix it</a></p>\n<pre><code>\nHi I am new to java programming. I want to write a java program to print out the satilites from a website. Error at line 44 and I don't know how to fix it. I'm not sure if I'm using the .format right. Can I please have some help?\n\nThis is the assignment:\n\n</code></pre>\n<p>Assignment 3 is:</p>\n<p>Write 3 functions:</p>\n<pre><code>apogee which takes 2 parameters, mean motion and eccentricity and returns the apogee in kilometers.\n\nperigee which takes 2 parameters, mean motion and eccentricity and returns the perigee in kilometers.\n\nlaunch year yyyy which takes an integer parameter, the 2 digit launch year, and returns an integer, the 4 digit launch year.\n\n    hint: use the date for the 1st ever artificial satellite launch to write a function that will work until 2057\n</code></pre>\n<p>Don't forget about the &quot;assumed decimal point&quot; for the eccentricity. (Use String concatenation to pre-pend a leading &quot;0.&quot; to the extracted substring before converting it to double).</p>\n<p>It should look like this :</p>\n<pre class=\"lang-none prettyprint-override\"><code> 1299.97      465.64    1963      00694        ATLAS CENTAUR 2         \n  813.27      765.76    1964      00733        THOR AGENA D R/B        \n  753.32      648.28    1964      00877        SL-3 R/B                \n  799.01      704.45    1967      02802        SL-8 R/B                \n  616.16      574.02    1968      03230        SL-8 R/B                \n  .....................................................\n</code></pre>\n"},{"tags":["java","maven","dependencies","google-ads-api"],"owner":{"account_id":28707898,"reputation":1,"user_id":21983906,"display_name":"Corentin Fortes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686064180,"creation_date":1685908798,"question_id":76402187,"body_markdown":"i am trying to run this example from the google ads api doc : https://developers.google.com/google-ads/api/samples/get-invoices?hl=fr .\r\n\r\nwhen i try to compile i have this error : java: package com.google.ads.googleads.examples.utils does not exist\r\n\r\ni have added the maven dependency for google ads api in version 25.0.0 (the last one) but the includes from the part example of the dependency are still not found.\r\n","title":"my import is not found in the google ads api while i have the dependency","body":"<p>i am trying to run this example from the google ads api doc : <a href=\"https://developers.google.com/google-ads/api/samples/get-invoices?hl=fr\" rel=\"nofollow noreferrer\">https://developers.google.com/google-ads/api/samples/get-invoices?hl=fr</a> .</p>\n<p>when i try to compile i have this error : java: package com.google.ads.googleads.examples.utils does not exist</p>\n<p>i have added the maven dependency for google ads api in version 25.0.0 (the last one) but the includes from the part example of the dependency are still not found.</p>\n"},{"tags":["java","amazon-web-services","spring-cloud-function"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1686064169,"post_id":76415961,"comment_id":134746298,"body_markdown":"The error says you need to provide configuration parameters that were not provided.","body":"The error says you need to provide configuration parameters that were not provided."},{"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"score":0,"creation_date":1686066029,"post_id":76415961,"comment_id":134746757,"body_markdown":"what parameters and where?","body":"what parameters and where?"},{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":1,"creation_date":1686067978,"post_id":76415961,"comment_id":134747154,"body_markdown":"The error says you need to either set `spring.cloud.function.definition` or `spring.cloud.function.routing-expression`. If you&#39;re using spring boot, docs for configuration can be found here https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html","body":"The error says you need to either set <code>spring.cloud.function.definition</code> or <code>spring.cloud.function.routing-expression</code>. If you&#39;re using spring boot, docs for configuration can be found here <a href=\"https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1686560402,"post_id":76415961,"comment_id":134809851,"body_markdown":"The error message could not have been more clear `since neither were provided: &#39;spring.cloud.function.definition&#39; as Message header or as application property or &#39;spring.cloud.function.routing-expression&#39; as application property.` as well as documentation - https://cloud.spring.io/spring-cloud-function/reference/html/spring-cloud-function.html#_function_routing","body":"The error message could not have been more clear <code>since neither were provided: &#39;spring.cloud.function.definition&#39; as Message header or as application property or &#39;spring.cloud.function.routing-expression&#39; as application property.</code> as well as documentation - <a href=\"https://cloud.spring.io/spring-cloud-function/reference/html/spring-cloud-function.html#_function_routing\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-function/reference/html/&hellip;</a>"},{"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"score":0,"creation_date":1686577733,"post_id":76415961,"comment_id":134813664,"body_markdown":"Yes, now it&#39;s working! thanks!!","body":"Yes, now it&#39;s working! thanks!!"}],"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686064128,"creation_date":1686063647,"question_id":76415961,"body_markdown":"I have a problem with a lambda project in java, when the elements arrive to the queue, the lambda consumes them and when they are going to enter the lambda this error comes up\r\n\r\n    Failed to establish route, since neither were provided: &#39;spring.cloud.function.definition&#39; as Message header or as application property or &#39;spring.cloud.function.routing-expression&#39; as application property. Incoming message: GenericMessage [payload=byte[973], headers={aws-context=lambdainternal.api.LambdaContext@13b29b34, id=7e00385d-ff52-2e7e-0a6a-c68df012c679, timestamp=1685986732788}]: java.lang.IllegalStateException\r\n    java.lang.IllegalStateException: Failed to establish route, since neither were provided: &#39;spring.cloud.function.definition&#39; as Message header or as application property or &#39;spring.cloud.function.routing-expression&#39; as application property. Incoming message: GenericMessage [payload=byte[973], headers={aws-context=lambdainternal.api.LambdaContext@13b29b34, id=7e00385d-ff52-2e7e-0a6a-c68df012c679, timestamp=1685986732788}]\r\n    \tat org.springframework.cloud.function.context.config.RoutingFunction.route(RoutingFunction.java:156)\r\n    \tat org.springframework.cloud.function.context.config.RoutingFunction.apply(RoutingFunction.java:103)\r\n    \tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:710)\r\n    \tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:562)\r\n    \tat org.springframework.cloud.function.adapter.aws.FunctionInvoker.handleRequest(FunctionInvoker.java:113)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Unknown Source)*","title":"Failed to establish route, since neither were provided: &#39;spring.cloud.function.definition&#39;","body":"<p>I have a problem with a lambda project in java, when the elements arrive to the queue, the lambda consumes them and when they are going to enter the lambda this error comes up</p>\n<pre><code>Failed to establish route, since neither were provided: 'spring.cloud.function.definition' as Message header or as application property or 'spring.cloud.function.routing-expression' as application property. Incoming message: GenericMessage [payload=byte[973], headers={aws-context=lambdainternal.api.LambdaContext@13b29b34, id=7e00385d-ff52-2e7e-0a6a-c68df012c679, timestamp=1685986732788}]: java.lang.IllegalStateException\njava.lang.IllegalStateException: Failed to establish route, since neither were provided: 'spring.cloud.function.definition' as Message header or as application property or 'spring.cloud.function.routing-expression' as application property. Incoming message: GenericMessage [payload=byte[973], headers={aws-context=lambdainternal.api.LambdaContext@13b29b34, id=7e00385d-ff52-2e7e-0a6a-c68df012c679, timestamp=1685986732788}]\n    at org.springframework.cloud.function.context.config.RoutingFunction.route(RoutingFunction.java:156)\n    at org.springframework.cloud.function.context.config.RoutingFunction.apply(RoutingFunction.java:103)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:710)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:562)\n    at org.springframework.cloud.function.adapter.aws.FunctionInvoker.handleRequest(FunctionInvoker.java:113)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)*\n</code></pre>\n"},{"tags":["java","gson","udpclient"],"answers":[{"tags":[],"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686063970,"creation_date":1686063970,"answer_id":76416004,"question_id":76414659,"body_markdown":"Downloading the gson library and adding it as a library solved the problem. ","title":"Exception in thread &quot;UdpClientThread_1&quot; java.lang.NoClassDefFoundError: com/google/gson/JsonSyntaxException","body":"<p>Downloading the gson library and adding it as a library solved the problem.</p>\n"}],"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686063970,"creation_date":1686054574,"question_id":76414659,"body_markdown":"Im running a Java maven project and am using an sdk provided to me by a certain company\r\nand I keep getting an error:\r\n&gt;&gt;&gt;&gt;Exception in thread &quot;UdpClientThread_1&quot; java.lang.NoClassDefFoundError: com/google/gson/JsonSyntaxException\r\n\tat novj.platform.vxkit.handy.api.SearchManager.onPacketReceived(SearchManager.java:172)\r\n\tat novj.publ.net.udp.UdpSession.onReceived(UdpSession.java:99)\r\n\tat novj.publ.net.udp.UdpClient$1.run(UdpClient.java:93)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ClassNotFoundException: com.google.gson.JsonSyntaxException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\r\n\r\nHere&#39;s the code\r\n\r\n        package org.example;\r\n    \r\n    import novj.platform.vxkit.common.bean.search.SearchResult;\r\n    import novj.platform.vxkit.handy.api.SearchManager;\r\n    import novj.publ.api.NovaOpt;\r\n    import novj.publ.net.exception.ErrorDetail;\r\n    \r\n    // Press Shift twice to open the Search Everywhere dialog and type `show whitespaces`,\r\n    // then press Enter. You can now see whitespace characters in your code.\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            NovaOpt novaOpt = NovaOpt.GetInstance();\r\n            SearchManager.OnScreenSearchListener searchListener = new SearchManager.OnScreenSearchListener() {\r\n                @Override\r\n                public void onSuccess(SearchResult searchResult) {\r\n                    System.out.printf(&quot;Connection to target successful&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onError(ErrorDetail errorDetail) {\r\n                    System.out.printf(&quot;Connection to target unsuccessful&quot;);\r\n                }\r\n            };\r\n            novaOpt.searchScreen(searchListener , &quot;172.24.100.75&quot;);\r\n        }\r\n    }\r\n\r\n\r\nAnyone solved this problem ?","title":"Exception in thread &quot;UdpClientThread_1&quot; java.lang.NoClassDefFoundError: com/google/gson/JsonSyntaxException","body":"<p>Im running a Java maven project and am using an sdk provided to me by a certain company\nand I keep getting an error:</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>Exception in thread &quot;UdpClientThread_1&quot; java.lang.NoClassDefFoundError: com/google/gson/JsonSyntaxException\nat novj.platform.vxkit.handy.api.SearchManager.onPacketReceived(SearchManager.java:172)\nat novj.publ.net.udp.UdpSession.onReceived(UdpSession.java:99)\nat novj.publ.net.udp.UdpClient$1.run(UdpClient.java:93)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ClassNotFoundException: com.google.gson.JsonSyntaxException\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>Here's the code</p>\n<pre><code>    package org.example;\n\nimport novj.platform.vxkit.common.bean.search.SearchResult;\nimport novj.platform.vxkit.handy.api.SearchManager;\nimport novj.publ.api.NovaOpt;\nimport novj.publ.net.exception.ErrorDetail;\n\n// Press Shift twice to open the Search Everywhere dialog and type `show whitespaces`,\n// then press Enter. You can now see whitespace characters in your code.\npublic class Main {\n    public static void main(String[] args) {\n        NovaOpt novaOpt = NovaOpt.GetInstance();\n        SearchManager.OnScreenSearchListener searchListener = new SearchManager.OnScreenSearchListener() {\n            @Override\n            public void onSuccess(SearchResult searchResult) {\n                System.out.printf(&quot;Connection to target successful&quot;);\n            }\n\n            @Override\n            public void onError(ErrorDetail errorDetail) {\n                System.out.printf(&quot;Connection to target unsuccessful&quot;);\n            }\n        };\n        novaOpt.searchScreen(searchListener , &quot;172.24.100.75&quot;);\n    }\n}\n</code></pre>\n<p>Anyone solved this problem ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686064065,"post_id":76415989,"comment_id":134746266,"body_markdown":"Your import statement has to include the package name. Also, please confirm to Java naming conventions.","body":"Your import statement has to include the package name. Also, please confirm to Java naming conventions."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686064110,"post_id":76415989,"comment_id":134746280,"body_markdown":"You don&#39;t `import classname` you `import pkgpath.classname`. So `import JavaProject.rect;` But you need to get those names in the correct [format](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)","body":"You don&#39;t <code>import classname</code> you <code>import pkgpath.classname</code>. So <code>import JavaProject.rect;</code> But you need to get those names in the correct <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">format</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686064283,"post_id":76415989,"comment_id":134746327,"body_markdown":"Your classes are in different packages (`MyJavaProject` != `JavaProject`). Was that intentional?","body":"Your classes are in different packages (<code>MyJavaProject</code> != <code>JavaProject</code>). Was that intentional?"},{"owner":{"account_id":28765080,"reputation":13,"user_id":22030162,"display_name":"All In One Coder304751"},"score":0,"creation_date":1686064304,"post_id":76415989,"comment_id":134746332,"body_markdown":"@g00se Thanks now i understand how to do it :D","body":"@g00se Thanks now i understand how to do it :D"},{"owner":{"account_id":28765080,"reputation":13,"user_id":22030162,"display_name":"All In One Coder304751"},"score":0,"creation_date":1686064362,"post_id":76415989,"comment_id":134746350,"body_markdown":"@ElliottFrisch Don&#39;t need now :l","body":"@ElliottFrisch Don&#39;t need now :l"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1686065263,"post_id":76415989,"comment_id":134746586,"body_markdown":"I&#39;d *strongly* advise you to start following Java naming conventions as soon as possible. It&#39;s much easier to get into the right habit from the start than to &quot;unlearn&quot; a bad habit.","body":"I&#39;d <i>strongly</i> advise you to start following Java naming conventions as soon as possible. It&#39;s much easier to get into the right habit from the start than to &quot;unlearn&quot; a bad habit."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1686067883,"post_id":76415989,"comment_id":134747131,"body_markdown":"If your classes are in the same package (have the same package name), you don’t need to import them at all. Import is for accessing classes and interfaces in *other* packages.","body":"If your classes are in the same package (have the same package name), you don’t need to import them at all. Import is for accessing classes and interfaces in <i>other</i> packages."}],"owner":{"account_id":28765080,"reputation":13,"user_id":22030162,"display_name":"All In One Coder304751"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686063847,"creation_date":1686063847,"question_id":76415989,"body_markdown":"I was making a project but a error popped when i run it says\r\n&#39;illegal class main.java trying to access rect.java&#39;\r\nHeres the code \r\n```\r\npackage MyJavaProject;\r\nimport rect;\r\nimport box;\r\npublic class main{\r\n public static void main(String[] args){\r\n  rect r = new box(100);\r\n  r.getArea();\r\n }\r\n}\r\n```\r\nrect.java\r\n```\r\npackage JavaProject;\r\npublic class box extends rect{\r\n private int size;\r\n public rect(size){\r\n  super(size,size);\r\n }\r\n}\r\npublic class rect{\r\n private int height,width;\r\n public rect(height,width){\r\n  this.height = height;\r\n  this.width = width;\r\n }\r\n public int getArea(){\r\n  System.out.println(height * width);\r\n  return 0;\r\n }\r\n}\r\n```\r\nCan you please fix it?\r\n\r\nI was expecting output:\r\n&#39;10000&#39;\r\nBut it came:\r\nerror illegal class main.java trying to access rect.java\r\nIf anybody knows how to fix it then give me the answer.","title":"Error: illegal class main.java trying to access rect.java, how to fix this","body":"<p>I was making a project but a error popped when i run it says\n'illegal class main.java trying to access rect.java'\nHeres the code</p>\n<pre><code>package MyJavaProject;\nimport rect;\nimport box;\npublic class main{\n public static void main(String[] args){\n  rect r = new box(100);\n  r.getArea();\n }\n}\n</code></pre>\n<p>rect.java</p>\n<pre><code>package JavaProject;\npublic class box extends rect{\n private int size;\n public rect(size){\n  super(size,size);\n }\n}\npublic class rect{\n private int height,width;\n public rect(height,width){\n  this.height = height;\n  this.width = width;\n }\n public int getArea(){\n  System.out.println(height * width);\n  return 0;\n }\n}\n</code></pre>\n<p>Can you please fix it?</p>\n<p>I was expecting output:\n'10000'\nBut it came:\nerror illegal class main.java trying to access rect.java\nIf anybody knows how to fix it then give me the answer.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1685788827,"post_id":76395470,"comment_id":134712376,"body_markdown":"Please add the definition of InvoiceItemId.","body":"Please add the definition of InvoiceItemId."},{"owner":{"account_id":975589,"reputation":196,"user_id":8621330,"display_name":"Fareez Ahamed"},"score":0,"creation_date":1685800981,"post_id":76395470,"comment_id":134713559,"body_markdown":"@JohnWilliams done. Thanks for highlighting it","body":"@JohnWilliams done. Thanks for highlighting it"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686063843,"creation_date":1686046328,"answer_id":76413563,"question_id":76395470,"body_markdown":"I found that the following worked. \r\n\r\nSadly I had to first persist the `Invoice` and separately persist the `InvoiceItems` so that I had access to the `invoiceId`. Also the lombok Builder did not populate the `@EmbeddedId` properly.\r\n\r\n\r\n\r\n    List&lt;InvoiceItem&gt; invoiceItems = new ArrayList&lt;&gt;();\r\n    \r\n    var invoice = Invoice.builder()\r\n                     .customer(customer)\r\n                     .timestamp(new Date()).build();\r\n    \t\t\r\n    invoice = invoiceRepository.save(invoice); // to get the invoiceId\r\n    \r\n    \r\n    for (var itemDto : invoiceRequest.getInvoiceItems()) {\r\n      // prepare invoice items here\r\n        InvoiceItemId invoiceItemId = new InvoiceItemId(invoice.getId(), product.getId());\r\n    \tInvoiceItem invoiceItem = new InvoiceItem(invoiceItemId , invoice, product, price );\r\n    \r\n      invoiceItems.add(\r\n            invoiceItem )\r\n    }\r\n    \r\n    invoice.setInvoiceItems(invoiceItems);\r\n    invoice.setPrice(totalPrice);\r\n    \r\n    invoiceRepository.save(invoice);\r\n\r\nI also had to set `invoiceItems` to `CascadeType.ALL`\r\n\r\n    @OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;InvoiceItem&gt; invoiceItems;\r\n\r\n","title":"Entity persistence using Composite/Dependent primary key is failing","body":"<p>I found that the following worked.</p>\n<p>Sadly I had to first persist the <code>Invoice</code> and separately persist the <code>InvoiceItems</code> so that I had access to the <code>invoiceId</code>. Also the lombok Builder did not populate the <code>@EmbeddedId</code> properly.</p>\n<pre><code>List&lt;InvoiceItem&gt; invoiceItems = new ArrayList&lt;&gt;();\n\nvar invoice = Invoice.builder()\n                 .customer(customer)\n                 .timestamp(new Date()).build();\n        \ninvoice = invoiceRepository.save(invoice); // to get the invoiceId\n\n\nfor (var itemDto : invoiceRequest.getInvoiceItems()) {\n  // prepare invoice items here\n    InvoiceItemId invoiceItemId = new InvoiceItemId(invoice.getId(), product.getId());\n    InvoiceItem invoiceItem = new InvoiceItem(invoiceItemId , invoice, product, price );\n\n  invoiceItems.add(\n        invoiceItem )\n}\n\ninvoice.setInvoiceItems(invoiceItems);\ninvoice.setPrice(totalPrice);\n\ninvoiceRepository.save(invoice);\n</code></pre>\n<p>I also had to set <code>invoiceItems</code> to <code>CascadeType.ALL</code></p>\n<pre><code>@OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.ALL)\nprivate List&lt;InvoiceItem&gt; invoiceItems;\n</code></pre>\n"}],"owner":{"account_id":975589,"reputation":196,"user_id":8621330,"display_name":"Fareez Ahamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686063843,"creation_date":1685785645,"question_id":76395470,"body_markdown":"Saving an Entity along with a Child Entity which has Composite keys is failing in Spring Boot 3.1 (with Spring Data JPA Starter). I have three Entities named `Invoice`, `Product` &amp; `InvoiceItem`. InvoiceItem doesn&#39;t have its own unique key, instead it uses a composite key of `invoice_id`, `product_id`. Now I&#39;m using `EmbeddedId` technique to model this in my application. But when I&#39;m saving my first Invoice, I get  the following error\r\n\r\n```\r\nCould not set value of type [java.lang.Long] : `info.fareez.goldin.entities.embeddables.InvoiceItemId.invoiceId` (setter)\r\n```\r\n\r\nI have checked all the fields and compared with the JPA Spec and examples [here](https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a149). Still I&#39;m unable to solve this.\r\n\r\nNote: I also tried with @IdClass technique, and it has repeated field names in IdClass and Entity, so I wanted to solve it with EmbeddedId\r\n\r\nHere is the code,\r\n\r\n**Invoice:**\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class Invoice {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = true)\r\n    private Customer customer;\r\n\r\n    @OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.PERSIST)\r\n    private List&lt;InvoiceItem&gt; invoiceItems;\r\n\r\n    private Date timestamp;\r\n\r\n    private double price;\r\n}\r\n```\r\n\r\n**Product**\r\n\r\n```java\r\n@Builder\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Setter\r\n@Getter\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String code;\r\n\r\n    private String name;\r\n\r\n    private double purity;\r\n\r\n    private double weight;\r\n\r\n    private int stock;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;)\r\n    private List&lt;InventoryTransaction&gt; inventoryTransactions;\r\n\r\n}\r\n```\r\n\r\n**InvoiceItem**\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Embeddable\r\npublic class InvoiceItemId {\r\n    private Long invoiceId;\r\n    private Long productId;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class InvoiceItem {\r\n\r\n    @EmbeddedId\r\n    private InvoiceItemId invoiceItemId;\r\n\r\n    @MapsId(&quot;invoiceId&quot;)\r\n    @ManyToOne\r\n    private Invoice invoice;\r\n\r\n    @MapsId(&quot;productId&quot;)\r\n    @OneToOne\r\n    private Product product;\r\n\r\n    private Double price;\r\n}\r\n```\r\n\r\nAnd when I tried to save a new Invoice with the following code\r\n\r\n```\r\nList&lt;InvoiceItem&gt; invoiceItems = new ArrayList&lt;&gt;();\r\n\r\nvar invoice = Invoice.builder()\r\n                 .customer(customer)\r\n                 .timestamp(new Date()).build();\r\n\r\nfor (var itemDto : invoiceRequest.getInvoiceItems()) {\r\n  // prepare invoice items here\r\n  invoiceItems.add(\r\n        InvoiceItem.builder()\r\n            .invoice(invoice)\r\n            .product(product.toProduct())\r\n            // other fields\r\n            .build())\r\n}\r\n\r\ninvoice.setInvoiceItems(invoiceItems);\r\ninvoice.setPrice(totalPrice);\r\n\r\ninvoiceRepository.save(invoice);\r\n```\r\n\r\nI get the following error\r\n\r\n```\r\nCaused by: org.hibernate.PropertyAccessException: Could not set value of type [java.lang.Long] : `info.fareez.goldin.entities.embeddables.InvoiceItemId.invoiceId` (setter)\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:81) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:538) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:113) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:779) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:727) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:301) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:291) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:513) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:547) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:477) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:474) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy122.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613) ~[spring-data-jpa-3.0.4.jar:3.0.4]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null\r\n```","title":"Entity persistence using Composite/Dependent primary key is failing","body":"<p>Saving an Entity along with a Child Entity which has Composite keys is failing in Spring Boot 3.1 (with Spring Data JPA Starter). I have three Entities named <code>Invoice</code>, <code>Product</code> &amp; <code>InvoiceItem</code>. InvoiceItem doesn't have its own unique key, instead it uses a composite key of <code>invoice_id</code>, <code>product_id</code>. Now I'm using <code>EmbeddedId</code> technique to model this in my application. But when I'm saving my first Invoice, I get  the following error</p>\n<pre><code>Could not set value of type [java.lang.Long] : `info.fareez.goldin.entities.embeddables.InvoiceItemId.invoiceId` (setter)\n</code></pre>\n<p>I have checked all the fields and compared with the JPA Spec and examples <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a149\" rel=\"nofollow noreferrer\">here</a>. Still I'm unable to solve this.</p>\n<p>Note: I also tried with @IdClass technique, and it has repeated field names in IdClass and Entity, so I wanted to solve it with EmbeddedId</p>\n<p>Here is the code,</p>\n<p><strong>Invoice:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Invoice {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = true)\n    private Customer customer;\n\n    @OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;InvoiceItem&gt; invoiceItems;\n\n    private Date timestamp;\n\n    private double price;\n}\n</code></pre>\n<p><strong>Product</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Setter\n@Getter\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String code;\n\n    private String name;\n\n    private double purity;\n\n    private double weight;\n\n    private int stock;\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;InventoryTransaction&gt; inventoryTransactions;\n\n}\n</code></pre>\n<p><strong>InvoiceItem</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\npublic class InvoiceItemId {\n    private Long invoiceId;\n    private Long productId;\n}\n\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class InvoiceItem {\n\n    @EmbeddedId\n    private InvoiceItemId invoiceItemId;\n\n    @MapsId(&quot;invoiceId&quot;)\n    @ManyToOne\n    private Invoice invoice;\n\n    @MapsId(&quot;productId&quot;)\n    @OneToOne\n    private Product product;\n\n    private Double price;\n}\n</code></pre>\n<p>And when I tried to save a new Invoice with the following code</p>\n<pre><code>List&lt;InvoiceItem&gt; invoiceItems = new ArrayList&lt;&gt;();\n\nvar invoice = Invoice.builder()\n                 .customer(customer)\n                 .timestamp(new Date()).build();\n\nfor (var itemDto : invoiceRequest.getInvoiceItems()) {\n  // prepare invoice items here\n  invoiceItems.add(\n        InvoiceItem.builder()\n            .invoice(invoice)\n            .product(product.toProduct())\n            // other fields\n            .build())\n}\n\ninvoice.setInvoiceItems(invoiceItems);\ninvoice.setPrice(totalPrice);\n\ninvoiceRepository.save(invoice);\n</code></pre>\n<p>I get the following error</p>\n<pre><code>Caused by: org.hibernate.PropertyAccessException: Could not set value of type [java.lang.Long] : `info.fareez.goldin.entities.embeddables.InvoiceItemId.invoiceId` (setter)\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:81) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:538) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:113) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:779) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:727) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:301) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:291) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:513) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:547) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:477) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:474) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.7.jar:6.0.7]\n    at jdk.proxy3/jdk.proxy3.$Proxy122.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613) ~[spring-data-jpa-3.0.4.jar:3.0.4]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.7.jar:6.0.7]\n    ... 35 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null\n</code></pre>\n"},{"tags":["java","json","spring-boot","spring-hateoas"],"comments":[{"owner":{"account_id":4375851,"reputation":595,"user_id":3568904,"accept_rate":83,"display_name":"ypriverol"},"score":0,"creation_date":1525861298,"post_id":45963893,"comment_id":87519092,"body_markdown":"Any comments on this?","body":"Any comments on this?"}],"owner":{"account_id":8481268,"reputation":61,"user_id":6360911,"accept_rate":20,"display_name":"Ily&#232;s Youssef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686063645,"creation_date":1504105507,"question_id":45963893,"body_markdown":"I am using spring boot to develop an small rest API that returns information about an object named *Chapter* in HAL representation and using pagination.\r\n\r\nA normal HAL representation would require the following controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/chapters&quot;)\r\n    public class ChapterController {\r\n\t@Autowired ChapterRepository chapterRepo;\t\r\n\t\r\n\t@RequestMapping(value=&quot;/slice&quot;, produces=&quot;application/hal+json&quot;)\r\n\tpublic PagedResources&lt;Chapter&gt; slice(Pageable p, PagedResourcesAssembler assembler){\r\n\t\tPage&lt;Chapter&gt; page = chapterRepo.findAll(p);\r\n\t\t\r\n\t\treturn assembler.toResource(page);\r\n\t  }\r\n    }\r\n\r\nwhich will return the following \r\n\r\n    {  \r\n      &quot;_embedded&quot;:{  \r\n      &quot;chapterList&quot;:[  \r\n          //list of chapters here\r\n      ]\r\n      },\r\n      &quot;_links&quot;:{  \r\n        &quot;self&quot;:{  \r\n           &quot;href&quot;:&quot;http://localhost:8090/chapters/slice?page=0&amp;size=20&quot;\r\n        }\r\n     },\r\n      &quot;page&quot;:{  \r\n      &quot;size&quot;:20,\r\n      &quot;totalElements&quot;:4,\r\n      &quot;totalPages&quot;:1,\r\n      &quot;number&quot;:0\r\n      }\r\n    }\r\n\r\nBut there is one thing I want to change which is the &quot;chapterList&quot; nomination.\r\n\r\nIs there a way to do it?","title":"Change PagedResources&lt;T&gt;&#39;s name in JSON representation","body":"<p>I am using spring boot to develop an small rest API that returns information about an object named <em>Chapter</em> in HAL representation and using pagination.</p>\n<p>A normal HAL representation would require the following controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/chapters&quot;)\npublic class ChapterController {\n@Autowired ChapterRepository chapterRepo;   \n\n@RequestMapping(value=&quot;/slice&quot;, produces=&quot;application/hal+json&quot;)\npublic PagedResources&lt;Chapter&gt; slice(Pageable p, PagedResourcesAssembler assembler){\n    Page&lt;Chapter&gt; page = chapterRepo.findAll(p);\n    \n    return assembler.toResource(page);\n  }\n}\n</code></pre>\n<p>which will return the following</p>\n<pre><code>{  \n  &quot;_embedded&quot;:{  \n  &quot;chapterList&quot;:[  \n      //list of chapters here\n  ]\n  },\n  &quot;_links&quot;:{  \n    &quot;self&quot;:{  \n       &quot;href&quot;:&quot;http://localhost:8090/chapters/slice?page=0&amp;size=20&quot;\n    }\n },\n  &quot;page&quot;:{  \n  &quot;size&quot;:20,\n  &quot;totalElements&quot;:4,\n  &quot;totalPages&quot;:1,\n  &quot;number&quot;:0\n  }\n}\n</code></pre>\n<p>But there is one thing I want to change which is the &quot;chapterList&quot; nomination.</p>\n<p>Is there a way to do it?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1686060075,"post_id":76415421,"comment_id":134745267,"body_markdown":"Due to a [moderator/volunteer strike](https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves) I will not be performing any content curation on this question.","body":"Due to a <a href=\"https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves\">moderator/volunteer strike</a> I will not be performing any content curation on this question."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1686060389,"post_id":76415421,"comment_id":134745358,"body_markdown":"Create a [BackgroundImage](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/BackgroundImage.html) object and assign it as the [background property](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Region.html#backgroundProperty).","body":"Create a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/BackgroundImage.html\" rel=\"nofollow noreferrer\">BackgroundImage</a> object and assign it as the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Region.html#backgroundProperty\" rel=\"nofollow noreferrer\">background property</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686144751,"post_id":76415421,"comment_id":134758844,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28765284,"reputation":1,"user_id":22030329,"display_name":"Andrea G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686063340,"creation_date":1686059632,"question_id":76415421,"body_markdown":"I&#39;m new to JavaFX and I&#39;m trying to set an image as background (both Pane and the image have the same resolution) but I can&#39;t get it to work.\r\n\r\nCurrently I tried to add this property:\r\n`style=&quot;-fx-background-image: url(&#39;arena.png&#39;); -fx-background-size: cover;&quot;`\r\n\r\nand to the various containers above I added this to set their background as transparent:\r\n`style=&quot;-fx-background-color: rgba(0, 0, 0, 0);&quot;`\r\n\r\nI also tried setting the background of the Pane to red:\r\n`style=&quot;-fx-background-color: rgba(255, 0, 0);&quot;` and it worked correctly\r\n\r\nThe two files are both located in the &#39;resources&#39; folder of the project as seen in the [screen][1].\r\n\r\n\r\n  [1]: https://imgur.com/a/a8Hjuew","title":"(JavaFX) How to set Pane background image","body":"<p>I'm new to JavaFX and I'm trying to set an image as background (both Pane and the image have the same resolution) but I can't get it to work.</p>\n<p>Currently I tried to add this property:\n<code>style=&quot;-fx-background-image: url('arena.png'); -fx-background-size: cover;&quot;</code></p>\n<p>and to the various containers above I added this to set their background as transparent:\n<code>style=&quot;-fx-background-color: rgba(0, 0, 0, 0);&quot;</code></p>\n<p>I also tried setting the background of the Pane to red:\n<code>style=&quot;-fx-background-color: rgba(255, 0, 0);&quot;</code> and it worked correctly</p>\n<p>The two files are both located in the 'resources' folder of the project as seen in the <a href=\"https://imgur.com/a/a8Hjuew\" rel=\"nofollow noreferrer\">screen</a>.</p>\n"},{"tags":["java","spring-boot","error-handling","resttemplate"],"owner":{"account_id":1615315,"reputation":7232,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686063303,"creation_date":1686061799,"question_id":76415741,"body_markdown":"I am mapping an application that in the case of parameter errors returns a (different) message that always has the following structure:\r\n\r\n    {\r\n      &quot;error&quot;: true,\r\n      &quot;reason&quot;: &quot;No data is available for this location&quot;\r\n    }\r\n\r\nI am trying to implement a custom `ResponseErrorHandler` for the `RestTemplate` that intercepts this message and then reads an error handling (e.g., using Logs). The problem is that I do not understand how to extract from the `httpResponse` object of `ClientHttpResponse`, in the `handleError` method, the previous message:\r\n\r\n    public class OpenMeteoResponseErrorHandler implements ResponseErrorHandler {\r\n        @Override\r\n        public boolean hasError(ClientHttpResponse httpResponse)\r\n                throws IOException {\r\n            return httpResponse.getStatusCode().is4xxClientError()\r\n                    || httpResponse.getStatusCode().is5xxServerError();\r\n        }\r\n    \r\n        @Override\r\n        public void handleError(ClientHttpResponse httpResponse)\r\n                throws IOException {\r\n            if(httpResponse.getStatusCode() == HttpStatus.SERVICE_UNAVAILABLE){\r\n                throw new ServiceUnAvailableException(&quot;Service is currently unavailable&quot;);\r\n            } else if (httpResponse.getStatusCode() == HttpStatus.BAD_REQUEST) {\r\n                throw new BadRequestException(&quot;Bad request&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**note**, \r\n\r\n    System.out.println(httpResponse.getBody());\r\n\r\nreturns:\r\n\r\n     sun.net.www.protocol.http.HttpURLConnection$HttpInputStream@79821fea\r\n\r\nwhere:\r\n\r\n    public class BadRequestException extends RuntimeException{\r\n    \r\n        public BadRequestException(){\r\n            super();\r\n        }\r\n    \r\n        public BadRequestException(String message){\r\n            super(message);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public class ServiceUnAvailableException extends RuntimeException{\r\n    \r\n        public ServiceUnAvailableException() {\r\n            super();\r\n        }\r\n        public ServiceUnAvailableException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nlastly:\r\n\r\n    @Configuration\r\n    public class RestTemplateWithErrorHandlerConfig {\r\n    \r\n        @Bean\r\n        RestTemplate restTemplateWithErrorHandler(){\r\n            return new RestTemplateBuilder()\r\n                    .errorHandler(new OpenMeteoResponseErrorHandler())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nThis is to intercept the possible error in the case of the RestTemplate within the @controller of Spring Boot: \r\n\r\n    Collection&lt;String&gt; queryStringValues = apiQueryMap.values();\r\n    try {\r\n        List&lt;ForecastDataDocument&gt; resultDocuments = queryStringValues.stream().map(query -&gt; restTemplateWithErrorHandler.getForObject(query, ForecastWeatherDataDTO.class)).map(dto -&gt; modelMapper.map(dto, ForecastDataDocument.class)).toList();\r\n        forecastDataService.saveForecastData(resultDocuments);\r\n    } catch (BadRequestException | ServiceUnAvailableException ex) {\r\n      System.out.println(ex.getMessage());\r\n    }\r\n\r\n\r\n\r\n","title":"RestTemplate custom ResponseErrorHandler to catch api service real message","body":"<p>I am mapping an application that in the case of parameter errors returns a (different) message that always has the following structure:</p>\n<pre><code>{\n  &quot;error&quot;: true,\n  &quot;reason&quot;: &quot;No data is available for this location&quot;\n}\n</code></pre>\n<p>I am trying to implement a custom <code>ResponseErrorHandler</code> for the <code>RestTemplate</code> that intercepts this message and then reads an error handling (e.g., using Logs). The problem is that I do not understand how to extract from the <code>httpResponse</code> object of <code>ClientHttpResponse</code>, in the <code>handleError</code> method, the previous message:</p>\n<pre><code>public class OpenMeteoResponseErrorHandler implements ResponseErrorHandler {\n    @Override\n    public boolean hasError(ClientHttpResponse httpResponse)\n            throws IOException {\n        return httpResponse.getStatusCode().is4xxClientError()\n                || httpResponse.getStatusCode().is5xxServerError();\n    }\n\n    @Override\n    public void handleError(ClientHttpResponse httpResponse)\n            throws IOException {\n        if(httpResponse.getStatusCode() == HttpStatus.SERVICE_UNAVAILABLE){\n            throw new ServiceUnAvailableException(&quot;Service is currently unavailable&quot;);\n        } else if (httpResponse.getStatusCode() == HttpStatus.BAD_REQUEST) {\n            throw new BadRequestException(&quot;Bad request&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>note</strong>,</p>\n<pre><code>System.out.println(httpResponse.getBody());\n</code></pre>\n<p>returns:</p>\n<pre><code> sun.net.www.protocol.http.HttpURLConnection$HttpInputStream@79821fea\n</code></pre>\n<p>where:</p>\n<pre><code>public class BadRequestException extends RuntimeException{\n\n    public BadRequestException(){\n        super();\n    }\n\n    public BadRequestException(String message){\n        super(message);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ServiceUnAvailableException extends RuntimeException{\n\n    public ServiceUnAvailableException() {\n        super();\n    }\n    public ServiceUnAvailableException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>lastly:</p>\n<pre><code>@Configuration\npublic class RestTemplateWithErrorHandlerConfig {\n\n    @Bean\n    RestTemplate restTemplateWithErrorHandler(){\n        return new RestTemplateBuilder()\n                .errorHandler(new OpenMeteoResponseErrorHandler())\n                .build();\n    }\n}\n</code></pre>\n<p>This is to intercept the possible error in the case of the RestTemplate within the @controller of Spring Boot:</p>\n<pre><code>Collection&lt;String&gt; queryStringValues = apiQueryMap.values();\ntry {\n    List&lt;ForecastDataDocument&gt; resultDocuments = queryStringValues.stream().map(query -&gt; restTemplateWithErrorHandler.getForObject(query, ForecastWeatherDataDTO.class)).map(dto -&gt; modelMapper.map(dto, ForecastDataDocument.class)).toList();\n    forecastDataService.saveForecastData(resultDocuments);\n} catch (BadRequestException | ServiceUnAvailableException ex) {\n  System.out.println(ex.getMessage());\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686029771,"post_id":76411346,"comment_id":134739278,"body_markdown":"I can&#39;t reproduce that problem. If I print the value of `&quot;-50.00 Dining out&quot;.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)` it is `5000`. Are you sure that the code in your question is the code you&#39;re running?","body":"I can&#39;t reproduce that problem. If I print the value of <code>&quot;-50.00 Dining out&quot;.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)</code> it is <code>5000</code>. Are you sure that the code in your question is the code you&#39;re running?"}],"answers":[{"tags":[],"owner":{"account_id":2396133,"reputation":2128,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686063137,"creation_date":1686030393,"answer_id":76411727,"question_id":76411346,"body_markdown":"Parse the lines using the following code:\r\n\r\n    // Sample line: &quot;-50.00  Dining out&quot;\r\n    String[] parts = line.split(&quot; &quot;);\r\n    // First part is the expense/deposit value\r\n    double expense = parseDouble(parts[0]);\r\n    // Now get the text parts\r\n    String category = &quot;&quot;;\r\n    for (int i = 1; i &lt; parts.length; i++) {\r\n    \tcategory += &quot; &quot; + parts[i];\r\n    }\r\n    category = category.trim();\r\n\r\nEDIT: I just realized that there are commas in some double values and you should use the following method to parse these values gracefully:\r\n\r\n\tprivate static double parseDouble(String strNumber) throws ParseException{\r\n\t\tNumberFormat format = NumberFormat.getInstance(Locale.ENGLISH);\r\n\t\tNumber number = format.parse(strNumber);\r\n\t\treturn number.doubleValue();\r\n\t}\r\n\r\nTo display/format the double values with two decimal places:\r\n\r\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;#.00&quot;);\r\n    System.out.println(&quot;expense: &quot; + decimalFormat.format(expense));\r\n\r\n","title":"Extracting negative and positive floats from a string read from a file","body":"<p>Parse the lines using the following code:</p>\n<pre><code>// Sample line: &quot;-50.00  Dining out&quot;\nString[] parts = line.split(&quot; &quot;);\n// First part is the expense/deposit value\ndouble expense = parseDouble(parts[0]);\n// Now get the text parts\nString category = &quot;&quot;;\nfor (int i = 1; i &lt; parts.length; i++) {\n    category += &quot; &quot; + parts[i];\n}\ncategory = category.trim();\n</code></pre>\n<p>EDIT: I just realized that there are commas in some double values and you should use the following method to parse these values gracefully:</p>\n<pre><code>private static double parseDouble(String strNumber) throws ParseException{\n    NumberFormat format = NumberFormat.getInstance(Locale.ENGLISH);\n    Number number = format.parse(strNumber);\n    return number.doubleValue();\n}\n</code></pre>\n<p>To display/format the double values with two decimal places:</p>\n<pre><code>DecimalFormat decimalFormat = new DecimalFormat(&quot;#.00&quot;);\nSystem.out.println(&quot;expense: &quot; + decimalFormat.format(expense));\n</code></pre>\n"}],"owner":{"account_id":27886063,"reputation":1,"user_id":22027399,"display_name":"Garish19"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686063137,"creation_date":1686023638,"question_id":76411346,"body_markdown":"I&#39;ve been having issues on this for some time now, and I&#39;m completely lost. \r\nThe program Im trying to create is for school, and its simply a bank account, with their expenses and deposits. Im having trouble trying to extract the positive and negative numbers from the file. When I do &quot;[^0-9]&quot; it works fine but when I try using a pattern for negative numbers, the code doesnt work. \r\n\r\nHere it is \r\n\r\n\r\n```\r\npackage recursionReadFile;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\npublic class bankAccount {\r\n\r\npublic static float[] bankTransactionsValues (int lines)throws IOException{\r\n        \r\n\t\t//Create a object reader\r\n\t\tBufferedReader readFile;\r\n        readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\r\n        \r\n   \r\n      \r\n        \r\n        \r\n        //Array that holds all transactions values\r\n        float [] totalTransactionsValues = new float[lines];\r\n        //For loop that reads the notepad to the array\r\n        for (int index = 0 ; index &lt; totalTransactionsValues.length ;index++)\r\n        {\t//Read the file onto to the array\r\n        \tString currentTransAction = readFile.readLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n        \ttotalTransactionsValues [index] = Float.parseFloat(currentTransAction);\r\n        }\r\n        readFile.close();//end of the reading\r\n        //Return array of the strings with time slots\r\n        return totalTransactionsValues;\r\n    }\r\n\r\npublic static String[] bankTransactions (int lines)throws IOException{\r\n    \r\n\t//Create a object reader\r\n\tBufferedReader readFile;\r\n    readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\r\n \r\n  \r\n    \r\n    //Array that holds all transactions values\r\n    String [] totalTransactions = new String[lines];\r\n    //For loop that reads the notepad to the array\r\n    for (int index = 0 ; index &lt; totalTransactions.length ;index++)\r\n    {\t//Read the file onto to the array\r\n    \ttotalTransactions [index] = readFile.readLine();\r\n    }\r\n    \r\n    readFile.close();//end of the reading\r\n    //Return array of the strings with time slots\r\n    return totalTransactions;\r\n}\r\n\r\npublic static int numberOfTransactions() throws IOException{\r\n\t//Create a object reader\r\n\t\tBufferedReader readFile;\r\n\t    readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\r\n\t    \r\n\t    //Count the number of lines\r\n\t    int lines = 0; \r\n\t    \r\n\t    //For loop that contiues if there is a non empty space in the file\r\n\t    while (readFile.readLine() != null) {\r\n\t    \t//Increase the variable count\r\n\t    \tlines++;\r\n\t    }\r\n\t    readFile.close();\r\n\t  \r\n\t    return lines;\r\n}\r\n\r\n\t\r\n\r\n\r\n\r\n\t\r\n\t\r\n\tpublic static String [] sortLowToHigh(String [] transactionValues) {\r\n\r\n\t\t\r\n\t\t for (int index = 1 ; index &lt; transactionValues.length ; index++)\r\n\t        {\r\n\t            String item = transactionValues[index];\r\n\t            float itemValue =  Float.parseFloat(item.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\n\t            \r\n\t            int toPlace = index;\r\n\t            \r\n\t            while (toPlace &gt; 0 &amp;&amp;  itemValue &lt; Float.parseFloat(transactionValues[toPlace - 1].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)) )\r\n\t            {\r\n\t            \ttransactionValues [toPlace] = transactionValues [toPlace - 1];\r\n\t                toPlace--;\r\n\t            }//while\r\n\t            transactionValues [toPlace] = item;\r\n\t         }//for index\r\n\t  \r\n\t\t \r\n\t\t return transactionValues;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static String[] sortHighToLow(String [] transactionValues) {\r\n\r\n\t    for (int index = 1; index &lt; transactionValues.length; index++) {\r\n\t        String item = transactionValues[index];\r\n\t        \r\n\t        int toPlace = index;\r\n\t        while (toPlace &gt; 0 &amp;&amp; Float.parseFloat(item)  &gt;  Float.parseFloat(transactionValues[toPlace - 1])) { \r\n\t            transactionValues[toPlace] = transactionValues[toPlace - 1];\r\n\t            toPlace--;\r\n\t        }\r\n\t        transactionValues[toPlace] = item;\r\n\t    }\r\n\r\n\t    return transactionValues;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic static void introduction() throws IOException {\r\n\t\tint lines = numberOfTransactions(); \t\r\n\t\t\r\n\t\r\n\t\tString [] transactions = bankTransactions(lines);\r\n\t\t\r\n\r\n\t\t\r\n\t\ttransactions = sortLowToHigh(transactions);\r\n\t\t\r\n\t\tfor (int index =0;index&lt; transactions.length; index++){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(transactions[index]);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\r\n\tintroduction();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the error message I am getting.\r\n\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;-50.00  Dining out&quot;\r\n\tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\r\n\tat java.base/jdk.internal.math.FloatingDecimal.parseFloat(FloatingDecimal.java:122)\r\n\tat java.base/java.lang.Float.parseFloat(Float.java:555)\r\n\tat recursionReadFile/recursionReadFile.bankAccount.sortLowToHigh(bankAccount.java:85)\r\n\tat recursionReadFile/recursionReadFile.bankAccount.introduction(bankAccount.java:132)\r\n\tat recursionReadFile/recursionReadFile.bankAccount.main(bankAccount.java:149)\r\n\r\n\r\n\r\nAnd here is the text file\r\n\r\n\r\n```\r\n-100.00  Groceries\r\n-50.00  Dining out\r\n-200.00  Rent payment\r\n-75.00  Utility bill\r\n-30.00  Gasoline\r\n-150.00  Shopping\r\n-80.00  Internet bill\r\n-60.00  Entertainment\r\n-100.00  Medical expenses\r\n-50.00  Gym membership\r\n1,000.00  Salary\r\n200.00  Freelance work payment\r\n300.00  Tax refund\r\n150.00  Gift from a family member\r\n500.00  Reimbursement from insurance\r\n100.00  Bonus\r\n250.00  Cashback rewards\r\n400.00  Investment dividend\r\n75.00  Sale of a personal item\r\n150.00  Rental income```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Extracting negative and positive floats from a string read from a file","body":"<p>I've been having issues on this for some time now, and I'm completely lost.\nThe program Im trying to create is for school, and its simply a bank account, with their expenses and deposits. Im having trouble trying to extract the positive and negative numbers from the file. When I do &quot;[^0-9]&quot; it works fine but when I try using a pattern for negative numbers, the code doesnt work.</p>\n<p>Here it is</p>\n<pre><code>package recursionReadFile;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class bankAccount {\n\npublic static float[] bankTransactionsValues (int lines)throws IOException{\n        \n        //Create a object reader\n        BufferedReader readFile;\n        readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\n        \n   \n      \n        \n        \n        //Array that holds all transactions values\n        float [] totalTransactionsValues = new float[lines];\n        //For loop that reads the notepad to the array\n        for (int index = 0 ; index &lt; totalTransactionsValues.length ;index++)\n        {   //Read the file onto to the array\n            String currentTransAction = readFile.readLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n            totalTransactionsValues [index] = Float.parseFloat(currentTransAction);\n        }\n        readFile.close();//end of the reading\n        //Return array of the strings with time slots\n        return totalTransactionsValues;\n    }\n\npublic static String[] bankTransactions (int lines)throws IOException{\n    \n    //Create a object reader\n    BufferedReader readFile;\n    readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\n \n  \n    \n    //Array that holds all transactions values\n    String [] totalTransactions = new String[lines];\n    //For loop that reads the notepad to the array\n    for (int index = 0 ; index &lt; totalTransactions.length ;index++)\n    {   //Read the file onto to the array\n        totalTransactions [index] = readFile.readLine();\n    }\n    \n    readFile.close();//end of the reading\n    //Return array of the strings with time slots\n    return totalTransactions;\n}\n\npublic static int numberOfTransactions() throws IOException{\n    //Create a object reader\n        BufferedReader readFile;\n        readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\n        \n        //Count the number of lines\n        int lines = 0; \n        \n        //For loop that contiues if there is a non empty space in the file\n        while (readFile.readLine() != null) {\n            //Increase the variable count\n            lines++;\n        }\n        readFile.close();\n      \n        return lines;\n}\n\n    \n\n\n\n    \n    \n    public static String [] sortLowToHigh(String [] transactionValues) {\n\n        \n         for (int index = 1 ; index &lt; transactionValues.length ; index++)\n            {\n                String item = transactionValues[index];\n                float itemValue =  Float.parseFloat(item.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\n                \n                int toPlace = index;\n                \n                while (toPlace &gt; 0 &amp;&amp;  itemValue &lt; Float.parseFloat(transactionValues[toPlace - 1].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)) )\n                {\n                    transactionValues [toPlace] = transactionValues [toPlace - 1];\n                    toPlace--;\n                }//while\n                transactionValues [toPlace] = item;\n             }//for index\n      \n         \n         return transactionValues;\n        \n    }\n    \n    \n    public static String[] sortHighToLow(String [] transactionValues) {\n\n        for (int index = 1; index &lt; transactionValues.length; index++) {\n            String item = transactionValues[index];\n            \n            int toPlace = index;\n            while (toPlace &gt; 0 &amp;&amp; Float.parseFloat(item)  &gt;  Float.parseFloat(transactionValues[toPlace - 1])) { \n                transactionValues[toPlace] = transactionValues[toPlace - 1];\n                toPlace--;\n            }\n            transactionValues[toPlace] = item;\n        }\n\n        return transactionValues;\n    }\n    \n    \n    \n    \n    \n    \n    public static void introduction() throws IOException {\n        int lines = numberOfTransactions();     \n        \n    \n        String [] transactions = bankTransactions(lines);\n        \n\n        \n        transactions = sortLowToHigh(transactions);\n        \n        for (int index =0;index&lt; transactions.length; index++){\n            \n            \n            System.out.println(transactions[index]);\n        }\n        \n    }\n    \n    \n    \n    \n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n\n        \n    introduction();\n        \n        \n        \n    }\n\n}\n\n</code></pre>\n<p>This is the error message I am getting.</p>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;-50.00  Dining out&quot;\nat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\nat java.base/jdk.internal.math.FloatingDecimal.parseFloat(FloatingDecimal.java:122)\nat java.base/java.lang.Float.parseFloat(Float.java:555)\nat recursionReadFile/recursionReadFile.bankAccount.sortLowToHigh(bankAccount.java:85)\nat recursionReadFile/recursionReadFile.bankAccount.introduction(bankAccount.java:132)\nat recursionReadFile/recursionReadFile.bankAccount.main(bankAccount.java:149)</p>\n<p>And here is the text file</p>\n<pre><code>-100.00  Groceries\n-50.00  Dining out\n-200.00  Rent payment\n-75.00  Utility bill\n-30.00  Gasoline\n-150.00  Shopping\n-80.00  Internet bill\n-60.00  Entertainment\n-100.00  Medical expenses\n-50.00  Gym membership\n1,000.00  Salary\n200.00  Freelance work payment\n300.00  Tax refund\n150.00  Gift from a family member\n500.00  Reimbursement from insurance\n100.00  Bonus\n250.00  Cashback rewards\n400.00  Investment dividend\n75.00  Sale of a personal item\n150.00  Rental income```\n\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1631980465,"post_id":69236202,"comment_id":122372435,"body_markdown":"Where do you get that error?","body":"Where do you get that error?"},{"owner":{"account_id":22146863,"reputation":21,"user_id":16395961,"display_name":"Allen Vieira"},"score":0,"creation_date":1631980551,"post_id":69236202,"comment_id":122372459,"body_markdown":"Oh, sorry. The error is in SecurityConfig: return readerRepository.findOne(username); right in this line.","body":"Oh, sorry. The error is in SecurityConfig: return readerRepository.findOne(username); right in this line."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1631981489,"post_id":69236202,"comment_id":122372670,"body_markdown":"A similar issue has been found [here](https://stackoverflow.com/questions/52634362/inferred-type-s-for-type-parameter-s-is-not-within-its-bound-should-extend). Check if the solution there works for you.","body":"A similar issue has been found <a href=\"https://stackoverflow.com/questions/52634362/inferred-type-s-for-type-parameter-s-is-not-within-its-bound-should-extend\">here</a>. Check if the solution there works for you."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1631981636,"post_id":69236202,"comment_id":122372698,"body_markdown":"You&#39;re passing in a String. A String isn&#39;t a Reader.","body":"You&#39;re passing in a String. A String isn&#39;t a Reader."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1631988536,"post_id":69236202,"comment_id":122374405,"body_markdown":"change findOne to findByUsername","body":"change findOne to findByUsername"}],"answers":[{"tags":[],"owner":{"account_id":3134034,"reputation":3273,"user_id":2650960,"accept_rate":57,"display_name":"Alexey Semenyuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631990016,"creation_date":1631990016,"answer_id":69237445,"question_id":69236202,"body_markdown":"You need \r\n\r\n    Optional&lt;Reader&gt; findByUsername(String username);\r\n\r\ninstead of \r\n\r\n    &lt;S extends T&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example)\r\n\r\nhttps://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/QueryByExampleExecutor.html\r\n","title":"Why does I&#39;m getting Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; in my SecurityConfig?","body":"<p>You need</p>\n<pre><code>Optional&lt;Reader&gt; findByUsername(String username);\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;S extends T&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example)\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/QueryByExampleExecutor.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/QueryByExampleExecutor.html</a></p>\n"}],"owner":{"account_id":22146863,"reputation":21,"user_id":16395961,"display_name":"Allen Vieira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69237445,"answer_count":1,"score":0,"last_activity_date":1686062601,"creation_date":1631980292,"question_id":69236202,"body_markdown":"The error: Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;br.com.allen.readinglist.model.Reader&#39;. I tried to read in other questions but none that I tried worked. And I&#39;m not even understanding what the error is.\r\n\r\n[Edit]\r\nThe error is in the line: return readerRepository.findOne(username); of SecurityConfig.\r\n\r\n**SecurityConfig Class:**\r\n\r\n\r\n    package br.com.allen.readinglist.security;\r\n    \r\n    import br.com.allen.readinglist.repository.ReaderRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        private ReaderRepository readerRepository;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception{\r\n            httpSecurity.authorizeRequests().antMatchers(&quot;/&quot;).access(&quot;hasRole(&#39;READER&#39;)&quot;).antMatchers(&quot;/**&quot;).permitAll().and().formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n            auth.userDetailsService(new UserDetailsService() {\r\n                @Override\r\n                public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n                    return readerRepository.findOne(username);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n**ReaderRepository Class:**\r\n\r\n    package br.com.allen.readinglist.repository;\r\n    \r\n    import br.com.allen.readinglist.model.Reader;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ReaderRepository extends JpaRepository&lt;Reader, String&gt; {\r\n    }\r\n\r\n**Reader class:**\r\n\r\n    package br.com.allen.readinglist.model;\r\n    \r\n    import lombok.*;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    public class Reader implements UserDetails {\r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        private String username;\r\n        private String fullname;\r\n        private String password;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities(){\r\n            return Arrays.asList(new SimpleGrantedAuthority(&quot;READER&quot;));\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired(){\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked(){\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired(){\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled(){\r\n            return true;\r\n        }\r\n    }\r\n\r\n","title":"Why does I&#39;m getting Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; in my SecurityConfig?","body":"<p>The error: Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'br.com.allen.readinglist.model.Reader'. I tried to read in other questions but none that I tried worked. And I'm not even understanding what the error is.</p>\n<p>[Edit]\nThe error is in the line: return readerRepository.findOne(username); of SecurityConfig.</p>\n<p><strong>SecurityConfig Class:</strong></p>\n<pre><code>package br.com.allen.readinglist.security;\n\nimport br.com.allen.readinglist.repository.ReaderRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private ReaderRepository readerRepository;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception{\n        httpSecurity.authorizeRequests().antMatchers(&quot;/&quot;).access(&quot;hasRole('READER')&quot;).antMatchers(&quot;/**&quot;).permitAll().and().formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        auth.userDetailsService(new UserDetailsService() {\n            @Override\n            public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n                return readerRepository.findOne(username);\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>ReaderRepository Class:</strong></p>\n<pre><code>package br.com.allen.readinglist.repository;\n\nimport br.com.allen.readinglist.model.Reader;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ReaderRepository extends JpaRepository&lt;Reader, String&gt; {\n}\n</code></pre>\n<p><strong>Reader class:</strong></p>\n<pre><code>package br.com.allen.readinglist.model;\n\nimport lombok.*;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.util.Arrays;\nimport java.util.Collection;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Reader implements UserDetails {\n    private static final long serialVersionUID = 1L;\n    @Id\n    private String username;\n    private String fullname;\n    private String password;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities(){\n        return Arrays.asList(new SimpleGrantedAuthority(&quot;READER&quot;));\n    }\n\n    @Override\n    public boolean isAccountNonExpired(){\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked(){\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired(){\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled(){\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6621553,"reputation":4538,"user_id":5113071,"accept_rate":55,"display_name":"Shawn Mehan"},"score":0,"creation_date":1440712445,"post_id":32259865,"comment_id":52400002,"body_markdown":"I don&#39;t think so, but something that might help you arrive at a more definitive answer is [here](http://codebeautify.org/Xpath-Tester).","body":"I don&#39;t think so, but something that might help you arrive at a more definitive answer is <a href=\"http://codebeautify.org/Xpath-Tester\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1440712665,"post_id":32259865,"comment_id":52400076,"body_markdown":"Is there even at least a way to wildcard just the attribute-specific portion (like turning just @title into any attribute) but leaving out text()?","body":"Is there even at least a way to wildcard just the attribute-specific portion (like turning just @title into any attribute) but leaving out text()?"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1440713547,"post_id":32259865,"comment_id":52400340,"body_markdown":"Can you give us an idea of why you want to do this? How are you using this?","body":"Can you give us an idea of why you want to do this? How are you using this?"},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1440715713,"post_id":32259865,"comment_id":52401053,"body_markdown":"Basically I have 3 different pages, each with an element containing this string in different ways as I&#39;ve described above, and I want to implement an ExpectedConditions wait that waits for this element to be present or visible.","body":"Basically I have 3 different pages, each with an element containing this string in different ways as I&#39;ve described above, and I want to implement an ExpectedConditions wait that waits for this element to be present or visible."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1440725825,"post_id":32259865,"comment_id":52403656,"body_markdown":"So you&#39;d have to write 3 different functions and you&#39;re trying to boil it down to just one? Why?","body":"So you&#39;d have to write 3 different functions and you&#39;re trying to boil it down to just one? Why?"},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1440770106,"post_id":32259865,"comment_id":52424324,"body_markdown":"Both for learning&#39;s sake and if I get a 4th page in the future that uses it differently than the other three, the code will still successfully find the element.","body":"Both for learning&#39;s sake and if I get a 4th page in the future that uses it differently than the other three, the code will still successfully find the element."}],"answers":[{"tags":[],"owner":{"account_id":1483810,"reputation":3590,"user_id":1392498,"accept_rate":76,"display_name":"LINGS"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1440713806,"creation_date":1440713472,"answer_id":32260275,"question_id":32259865,"body_markdown":"This will give all elements that contains text `foobar`\r\n    \r\n    driver.findElement(By.xpath(&quot;//*[text()[contains(.,&#39;foobar&#39;)]]&quot;));\r\n\r\nIf you want exact match,\r\n\r\n    driver.findElement(By.xpath(&quot;//*[text() = &#39;foobar&#39;]&quot;));\r\n\r\nOr you can execute Javascript using JQuery in Selenium\r\n\r\nThis will return all web elements containing the text from parent to the last child, hence I am using the jquery selector `:last` to get the inner most node that contains this text, but this may not be always accurate, if you have multiple nodes containing same text.\r\n\r\n    (WebElement)((JavascriptExecutor)driver).executeScript(&quot;return $(\\&quot;:contains(&#39;foobar&#39;):last\\&quot;).get(0);&quot;);\r\n\r\nIf you want exact match for the above, you need to run a filter on the results,\r\n\r\n    (WebElement)((JavascriptExecutor)driver).executeScript(&quot;return $(\\&quot;:contains(&#39;foobar&#39;)\\&quot;).filter(function() {&quot; +\r\n        &quot;return $(this).text().trim() === &#39;foobar&#39;}).get(0);&quot;);\r\n\r\njQuery returns an array of Elements, if you have only one web element on the page with that particular text you will get an array of one element. I am doing `.get(0)` to get that first element of the array and cast it to a `WebElement`\r\n\r\nHope this helps.\r\n","title":"Selenium Find Element Based on String in Text or Attribute","body":"<p>This will give all elements that contains text <code>foobar</code></p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[text()[contains(.,'foobar')]]\"));\n</code></pre>\n\n<p>If you want exact match,</p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[text() = 'foobar']\"));\n</code></pre>\n\n<p>Or you can execute Javascript using JQuery in Selenium</p>\n\n<p>This will return all web elements containing the text from parent to the last child, hence I am using the jquery selector <code>:last</code> to get the inner most node that contains this text, but this may not be always accurate, if you have multiple nodes containing same text.</p>\n\n<pre><code>(WebElement)((JavascriptExecutor)driver).executeScript(\"return $(\\\":contains('foobar'):last\\\").get(0);\");\n</code></pre>\n\n<p>If you want exact match for the above, you need to run a filter on the results,</p>\n\n<pre><code>(WebElement)((JavascriptExecutor)driver).executeScript(\"return $(\\\":contains('foobar')\\\").filter(function() {\" +\n    \"return $(this).text().trim() === 'foobar'}).get(0);\");\n</code></pre>\n\n<p>jQuery returns an array of Elements, if you have only one web element on the page with that particular text you will get an array of one element. I am doing <code>.get(0)</code> to get that first element of the array and cast it to a <code>WebElement</code></p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2261458,"reputation":421,"user_id":1991441,"display_name":"Shubhasmit Gupta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440767710,"creation_date":1440767710,"answer_id":32271968,"question_id":32259865,"body_markdown":"This will return the element with text `foobar`\r\n\r\n    driver.findElement(By.xpath(&quot;//*[text()=&#39;foobar&#39;]&quot;))","title":"Selenium Find Element Based on String in Text or Attribute","body":"<p>This will return the element with text <code>foobar</code></p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[text()='foobar']\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16697058,"reputation":62,"user_id":12067957,"display_name":"PhPires13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686062480,"creation_date":1686062480,"answer_id":76415831,"question_id":32259865,"body_markdown":"Text Containing\r\n===============\r\n\r\nTo find an **element with the text** (displayed in the HTML page) **containing a specific text**, you can use the following XPath:\r\n\r\n    //*[contains(text(), &#39;text_to_be_contained&#39;)]\r\n\r\n - ***&#39;\\*&#39;***, **selects all elements** in the document, regardless of the tag name. You can **replace the asterisk (*) with a specific tag name** if you want to search within a particular tag type.\r\n - ***[contains(text(), &#39;text_to_be_contained&#39;)]*** is a condition that **checks if the text contains** the **specified text (&#39;text_to_be_contained&#39;)**. This will match elements whose text attribute contains the specified text, even if it is part of a larger text value.\r\n - ***&#39;text_to_be_contained&#39;,*** should be the **text you want to find**\r\n\r\nAttribute Containing\r\n====================\r\n\r\nTo find an **element with** the **attribute containing** a specific text, you can use the following XPath expression:\r\n\r\n    //*[contains(@attribute_name, &#39;text_to_be_contained&#39;)]\r\n\r\n - Replace ***&#39;attribute_name&#39;*** with the actual **name of the attribute** you want to search within, such as: ***class***, ***name***, ***href***, ***value***, or ***any other***\r\n\r\nText/Attribute Is Equal\r\n=======================\r\n\r\nTo find an **element with** the **text or attribute** a **matching exactly** a specific text, you can use the following XPath expressions:\r\nFor the text\r\n\r\n **For the text:**\r\n\r\n    //*[text()=&#39;exact_text&#39;]\r\n\r\n **For the attribute:**\r\n\r\n    //*[@attribute_name=&#39;exact_text&#39;]\r\n\r\n - ***&#39;exact_text&#39;,*** should be the **text you want to find**","title":"Selenium Find Element Based on String in Text or Attribute","body":"<h1>Text Containing</h1>\n<p>To find an <strong>element with the text</strong> (displayed in the HTML page) <strong>containing a specific text</strong>, you can use the following XPath:</p>\n<pre><code>//*[contains(text(), 'text_to_be_contained')]\n</code></pre>\n<ul>\n<li><em><strong>'*'</strong></em>, <strong>selects all elements</strong> in the document, regardless of the tag name. You can <strong>replace the asterisk (*) with a specific tag name</strong> if you want to search within a particular tag type.</li>\n<li><em><strong>[contains(text(), 'text_to_be_contained')]</strong></em> is a condition that <strong>checks if the text contains</strong> the <strong>specified text ('text_to_be_contained')</strong>. This will match elements whose text attribute contains the specified text, even if it is part of a larger text value.</li>\n<li><em><strong>'text_to_be_contained',</strong></em> should be the <strong>text you want to find</strong></li>\n</ul>\n<h1>Attribute Containing</h1>\n<p>To find an <strong>element with</strong> the <strong>attribute containing</strong> a specific text, you can use the following XPath expression:</p>\n<pre><code>//*[contains(@attribute_name, 'text_to_be_contained')]\n</code></pre>\n<ul>\n<li>Replace <em><strong>'attribute_name'</strong></em> with the actual <strong>name of the attribute</strong> you want to search within, such as: <em><strong>class</strong></em>, <em><strong>name</strong></em>, <em><strong>href</strong></em>, <em><strong>value</strong></em>, or <em><strong>any other</strong></em></li>\n</ul>\n<h1>Text/Attribute Is Equal</h1>\n<p>To find an <strong>element with</strong> the <strong>text or attribute</strong> a <strong>matching exactly</strong> a specific text, you can use the following XPath expressions:\nFor the text</p>\n<p><strong>For the text:</strong></p>\n<pre><code>//*[text()='exact_text']\n</code></pre>\n<p><strong>For the attribute:</strong></p>\n<pre><code>//*[@attribute_name='exact_text']\n</code></pre>\n<ul>\n<li><em><strong>'exact_text',</strong></em> should be the <strong>text you want to find</strong></li>\n</ul>\n"}],"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55484,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1686062480,"creation_date":1440711408,"question_id":32259865,"body_markdown":"I&#39;m trying to have Selenium find an element based on a string that can be contained in the element&#39;s text or any attribute, and I&#39;m wondering if there&#39;s some wildcard I can implement to capture all this without having to use multi-condition OR logic.  What I&#39;m using right now that works is ...\r\n\r\n    driver.findElement(By.xpath(&quot;//*[contains(@title,&#39;foobar&#39;) or contains(.,&#39;foobar&#39;)]&quot;));\r\n\r\nAnd I wanted to know if there&#39;s a way to use a wildcard instead of the specific attribute (@title) that also encapsulates element text like the 2nd part of the OR condition does.","title":"Selenium Find Element Based on String in Text or Attribute","body":"<p>I'm trying to have Selenium find an element based on a string that can be contained in the element's text or any attribute, and I'm wondering if there's some wildcard I can implement to capture all this without having to use multi-condition OR logic.  What I'm using right now that works is ...</p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[contains(@title,'foobar') or contains(.,'foobar')]\"));\n</code></pre>\n\n<p>And I wanted to know if there's a way to use a wildcard instead of the specific attribute (@title) that also encapsulates element text like the 2nd part of the OR condition does.</p>\n"},{"tags":["java","testing","testng"],"owner":{"account_id":28765441,"reputation":1,"user_id":22030470,"display_name":"Flemin Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686062251,"creation_date":1686062251,"question_id":76415804,"body_markdown":"Trying to learn about TestNG Framework but encountered an error which says it is unable to instantiate the class\r\n\r\nmade a class SomeClassToTest with one public method which finds out the sum of two numbers\r\nmade another test class to learn about annotations in testNG\r\n\r\nCode for TestAnnotation class\r\n```\r\npackage testclasses;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\nimport appcode.SomeClassToTest;\r\n\r\npublic class TestAnnotation {\r\n\r\n\t@Test\r\n\tpublic void testMethod1() {\r\n\r\n\t\tSomeClassToTest obj = new SomeClassToTest();\r\n\t\tint result = obj.sumNumbers(1, 2);\r\n\r\n\t\tSystem.out.println(&quot;Running test -&gt; testMethod1&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testMethod2() {\r\n\t\tSystem.out.println(&quot;Running test -&gt; testMethod2&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testMethod3() {\r\n\t\tSystem.out.println(&quot;Running test -&gt; testMethod3&quot;);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nCode for SomeClassToTest\r\n```\r\npackage appcode;\r\n\r\npublic class SomeClassToTest {\r\n\r\n\tpublic int sumNumbers(int a, int b)\r\n\t{\r\n\t\treturn a+b;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nlog - \r\n\r\n```\r\n[RemoteTestNG] failed to get TestNG version from class: java.lang.IllegalArgumentException: invalid version &quot;[WORKING]&quot;: non-numeric &quot;[WORKING]&quot;\r\n[RemoteTestNG] now trying to parse the version from pom.properties\r\n[RemoteTestNG] now trying to parse the version from MANIFEST.MF\r\n[RemoteTestNG] parsing TestNG version at jar:file:///C:/Users/Flemin/OneDrive/Documents/testng/testng-7.4.0.jar!/META-INF/MANIFEST.MF\r\n[RemoteTestNG] detected TestNG version 7.4.0\r\norg.testng.TestNGException: \r\nCannot instantiate class appcode.TestAnnotation\r\n\tat org.testng@7.4.0/org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:30)\r\n\tat org.testng@7.4.0/org.testng.internal.InstanceCreator.instantiateUsingDefaultConstructor(InstanceCreator.java:193)\r\n\tat org.testng@7.4.0/org.testng.internal.InstanceCreator.createInstanceUsingObjectFactory(InstanceCreator.java:113)\r\n\tat org.testng@7.4.0/org.testng.internal.InstanceCreator.createInstance(InstanceCreator.java:79)\r\n\tat org.testng@7.4.0/org.testng.internal.objects.SimpleObjectDispenser.dispense(SimpleObjectDispenser.java:25)\r\n\tat org.testng@7.4.0/org.testng.internal.objects.GuiceBasedObjectDispenser.dispense(GuiceBasedObjectDispenser.java:30)\r\n\tat org.testng@7.4.0/org.testng.internal.ClassImpl.getDefaultInstance(ClassImpl.java:112)\r\n\tat org.testng@7.4.0/org.testng.internal.ClassImpl.getInstances(ClassImpl.java:165)\r\n\tat org.testng@7.4.0/org.testng.TestClass.getInstances(TestClass.java:122)\r\n\tat org.testng@7.4.0/org.testng.TestClass.initTestClassesAndInstances(TestClass.java:102)\r\n\tat org.testng@7.4.0/org.testng.TestClass.init(TestClass.java:94)\r\n\tat org.testng@7.4.0/org.testng.TestClass.&lt;init&gt;(TestClass.java:59)\r\n\tat org.testng@7.4.0/org.testng.TestRunner.initMethods(TestRunner.java:463)\r\n\tat org.testng@7.4.0/org.testng.TestRunner.init(TestRunner.java:339)\r\n\tat org.testng@7.4.0/org.testng.TestRunner.init(TestRunner.java:292)\r\n\tat org.testng@7.4.0/org.testng.TestRunner.&lt;init&gt;(TestRunner.java:223)\r\n\tat org.testng.remote.support.RemoteTestNG6_12$1.newTestRunner(RemoteTestNG6_12.java:33)\r\n\tat org.testng.remote.support.RemoteTestNG6_12$DelegatingTestRunnerFactory.newTestRunner(RemoteTestNG6_12.java:66)\r\n\tat org.testng@7.4.0/org.testng.ITestRunnerFactory.newTestRunner(ITestRunnerFactory.java:55)\r\n\tat org.testng@7.4.0/org.testng.SuiteRunner$ProxyTestRunnerFactory.newTestRunner(SuiteRunner.java:659)\r\n\tat org.testng@7.4.0/org.testng.SuiteRunner.init(SuiteRunner.java:173)\r\n\tat org.testng@7.4.0/org.testng.SuiteRunner.&lt;init&gt;(SuiteRunner.java:107)\r\n\tat org.testng@7.4.0/org.testng.TestNG.createSuiteRunner(TestNG.java:1300)\r\n\tat org.testng@7.4.0/org.testng.TestNG.createSuiteRunners(TestNG.java:1276)\r\n\tat org.testng@7.4.0/org.testng.TestNG.runSuitesLocally(TestNG.java:1125)\r\n\tat org.testng@7.4.0/org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng@7.4.0/org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public appcode.TestAnnotation() accessible: module TestNGTutorial does not &quot;exports appcode&quot; to module org.testng\r\n\tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n\tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:192)\r\n\tat java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:185)\r\n\tat org.testng@7.4.0/org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:22)\r\n\t... 29 more\r\n\r\n```\r\n\r\n\r\n","title":"New to learning TestNG, getting an &quot;org.testng.TestNGException: Cannot instantiate class&quot; error in Java code","body":"<p>Trying to learn about TestNG Framework but encountered an error which says it is unable to instantiate the class</p>\n<p>made a class SomeClassToTest with one public method which finds out the sum of two numbers\nmade another test class to learn about annotations in testNG</p>\n<p>Code for TestAnnotation class</p>\n<pre><code>package testclasses;\n\nimport org.testng.annotations.Test;\n\nimport appcode.SomeClassToTest;\n\npublic class TestAnnotation {\n\n    @Test\n    public void testMethod1() {\n\n        SomeClassToTest obj = new SomeClassToTest();\n        int result = obj.sumNumbers(1, 2);\n\n        System.out.println(&quot;Running test -&gt; testMethod1&quot;);\n    }\n\n    @Test\n    public void testMethod2() {\n        System.out.println(&quot;Running test -&gt; testMethod2&quot;);\n    }\n\n    @Test\n    public void testMethod3() {\n        System.out.println(&quot;Running test -&gt; testMethod3&quot;);\n    }\n}\n\n</code></pre>\n<p>Code for SomeClassToTest</p>\n<pre><code>package appcode;\n\npublic class SomeClassToTest {\n\n    public int sumNumbers(int a, int b)\n    {\n        return a+b;\n    }\n    \n}\n\n</code></pre>\n<p>log -</p>\n<pre><code>[RemoteTestNG] failed to get TestNG version from class: java.lang.IllegalArgumentException: invalid version &quot;[WORKING]&quot;: non-numeric &quot;[WORKING]&quot;\n[RemoteTestNG] now trying to parse the version from pom.properties\n[RemoteTestNG] now trying to parse the version from MANIFEST.MF\n[RemoteTestNG] parsing TestNG version at jar:file:///C:/Users/Flemin/OneDrive/Documents/testng/testng-7.4.0.jar!/META-INF/MANIFEST.MF\n[RemoteTestNG] detected TestNG version 7.4.0\norg.testng.TestNGException: \nCannot instantiate class appcode.TestAnnotation\n    at org.testng@7.4.0/org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:30)\n    at org.testng@7.4.0/org.testng.internal.InstanceCreator.instantiateUsingDefaultConstructor(InstanceCreator.java:193)\n    at org.testng@7.4.0/org.testng.internal.InstanceCreator.createInstanceUsingObjectFactory(InstanceCreator.java:113)\n    at org.testng@7.4.0/org.testng.internal.InstanceCreator.createInstance(InstanceCreator.java:79)\n    at org.testng@7.4.0/org.testng.internal.objects.SimpleObjectDispenser.dispense(SimpleObjectDispenser.java:25)\n    at org.testng@7.4.0/org.testng.internal.objects.GuiceBasedObjectDispenser.dispense(GuiceBasedObjectDispenser.java:30)\n    at org.testng@7.4.0/org.testng.internal.ClassImpl.getDefaultInstance(ClassImpl.java:112)\n    at org.testng@7.4.0/org.testng.internal.ClassImpl.getInstances(ClassImpl.java:165)\n    at org.testng@7.4.0/org.testng.TestClass.getInstances(TestClass.java:122)\n    at org.testng@7.4.0/org.testng.TestClass.initTestClassesAndInstances(TestClass.java:102)\n    at org.testng@7.4.0/org.testng.TestClass.init(TestClass.java:94)\n    at org.testng@7.4.0/org.testng.TestClass.&lt;init&gt;(TestClass.java:59)\n    at org.testng@7.4.0/org.testng.TestRunner.initMethods(TestRunner.java:463)\n    at org.testng@7.4.0/org.testng.TestRunner.init(TestRunner.java:339)\n    at org.testng@7.4.0/org.testng.TestRunner.init(TestRunner.java:292)\n    at org.testng@7.4.0/org.testng.TestRunner.&lt;init&gt;(TestRunner.java:223)\n    at org.testng.remote.support.RemoteTestNG6_12$1.newTestRunner(RemoteTestNG6_12.java:33)\n    at org.testng.remote.support.RemoteTestNG6_12$DelegatingTestRunnerFactory.newTestRunner(RemoteTestNG6_12.java:66)\n    at org.testng@7.4.0/org.testng.ITestRunnerFactory.newTestRunner(ITestRunnerFactory.java:55)\n    at org.testng@7.4.0/org.testng.SuiteRunner$ProxyTestRunnerFactory.newTestRunner(SuiteRunner.java:659)\n    at org.testng@7.4.0/org.testng.SuiteRunner.init(SuiteRunner.java:173)\n    at org.testng@7.4.0/org.testng.SuiteRunner.&lt;init&gt;(SuiteRunner.java:107)\n    at org.testng@7.4.0/org.testng.TestNG.createSuiteRunner(TestNG.java:1300)\n    at org.testng@7.4.0/org.testng.TestNG.createSuiteRunners(TestNG.java:1276)\n    at org.testng@7.4.0/org.testng.TestNG.runSuitesLocally(TestNG.java:1125)\n    at org.testng@7.4.0/org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng@7.4.0/org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public appcode.TestAnnotation() accessible: module TestNGTutorial does not &quot;exports appcode&quot; to module org.testng\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:192)\n    at java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:185)\n    at org.testng@7.4.0/org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:22)\n    ... 29 more\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686061597,"creation_date":1686061597,"question_id":76415711,"body_markdown":"I know I can do the queries using a findXXX method in another class.  However I was wondering... is it possible to perform the query on the entity itself such that instead of invoking the &quot;real method&quot; it will perform a query instead when run in a JPA runtime?\r\n\r\ne.g.\r\n\r\n```\r\n@Query(&quot;this.contracts where contracts.startDate &lt;= :date and contracts.stopDate &gt;= :date)\r\nSet&lt;Contract&gt; activeContracts(LocalDate date) {\r\n  return contracts\r\n    .stream()\r\n    .filter(c-&gt;c.isActive(date))\r\n    .toSet();\r\n}\r\n```\r\n\r\nFrom what I can tell it&#39;s not supported by the standard and the Hibernate `@Where` clause limits the entire entity not just the single method.\r\n\r\nHowever, from what I can tell, the only performant way to do this assuming the related collection is large is to create a separate repository method like\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n  from Contract contract\r\n  where contract.startDate &lt;= :date \r\n    and contract.stopDate &gt;= :date\r\n    and contract.container = :container\r\n  &quot;&quot;&quot;)\r\nSet&lt;Contract&gt; activeContractsForContainer(Container container, LocalDate date);\r\n```\r\n","title":"In Spring-Data-JPA, can we annotate an Entity method such that it applies a where clause on a related collection?","body":"<p>I know I can do the queries using a findXXX method in another class.  However I was wondering... is it possible to perform the query on the entity itself such that instead of invoking the &quot;real method&quot; it will perform a query instead when run in a JPA runtime?</p>\n<p>e.g.</p>\n<pre><code>@Query(&quot;this.contracts where contracts.startDate &lt;= :date and contracts.stopDate &gt;= :date)\nSet&lt;Contract&gt; activeContracts(LocalDate date) {\n  return contracts\n    .stream()\n    .filter(c-&gt;c.isActive(date))\n    .toSet();\n}\n</code></pre>\n<p>From what I can tell it's not supported by the standard and the Hibernate <code>@Where</code> clause limits the entire entity not just the single method.</p>\n<p>However, from what I can tell, the only performant way to do this assuming the related collection is large is to create a separate repository method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n  from Contract contract\n  where contract.startDate &lt;= :date \n    and contract.stopDate &gt;= :date\n    and contract.container = :container\n  &quot;&quot;&quot;)\nSet&lt;Contract&gt; activeContractsForContainer(Container container, LocalDate date);\n</code></pre>\n"},{"tags":["java","alfresco"],"comments":[{"owner":{"account_id":8819384,"reputation":1348,"user_id":6589776,"display_name":"Vikash Patel"},"score":0,"creation_date":1518670176,"post_id":48792336,"comment_id":84602947,"body_markdown":"You wanted to get Id of uploaded document ?","body":"You wanted to get Id of uploaded document ?"},{"owner":{"account_id":2358103,"reputation":121,"user_id":2065484,"display_name":"josemaria_liso"},"score":0,"creation_date":1518680053,"post_id":48792336,"comment_id":84606551,"body_markdown":"The process is: \n- I upload a document,\n- The rule in Alfresco&#39;s configuration folder where the document is uploaded generates a thumbnail (in this case for images) into another folder.\n- I get the id from the document uploaded, but I don&#39;t know how to get the id from the document generated by the rule","body":"The process is:  - I upload a document, - The rule in Alfresco&#39;s configuration folder where the document is uploaded generates a thumbnail (in this case for images) into another folder. - I get the id from the document uploaded, but I don&#39;t know how to get the id from the document generated by the rule"},{"owner":{"account_id":50383,"reputation":2186,"user_id":150295,"accept_rate":50,"display_name":"Lista"},"score":0,"creation_date":1518909338,"post_id":48792336,"comment_id":84697795,"body_markdown":"From where/when are you trying to get thumbnail&#39;s ID?","body":"From where/when are you trying to get thumbnail&#39;s ID?"}],"answers":[{"tags":[],"owner":{"account_id":381622,"reputation":10498,"user_id":736391,"display_name":"Jeff Potts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518822946,"creation_date":1518822946,"answer_id":48836194,"question_id":48792336,"body_markdown":"The challenge is that all you have is a reference to the uploaded document and rules do not return values. Based on the uploaded document, you&#39;d like to get a reference to the thumbnail your rule generated.\r\n\r\nThe best way to do this would be to generate a pointer or reference to the generated thumbnail. A common way to do this is with associations, but you could also set a property on the uploaded document that has the node reference of the thumbnail as its value. Either way, given a reference to the uploaded document you can always get to the thumbnail by either following the association or grabbing the thumbnail&#39;s node reference from the property value.\r\n\r\nAnother alternative would be to store the thumbnail in a location that is easily retrievable given the reference to the original document. This is one reason why Alfresco stores thumbnails as renditions, which are persisted as children of the document they are thumbnails of. You too could store your thumbnail as a rendition. In fact, you could configure the thumbnail service to generate the thumbnail for you, and it will automatically be stored alongside other renditions.\r\n\r\nIf you use one of these suggestions you&#39;ll have to use either a custom rule action or the &quot;execute script&quot; action to point to your custom server-side JavaScript. In that script you will implement the logic depending on whichever alternative described above works best for you.\r\n\r\nLast, be aware that what you included as an example &quot;Alfresco document ID&quot; looks to me like a CMIS object ID. That is different from an Alfresco node reference. Sometimes Alfresco will accept either one, but you should be conscious of which one you are using to avoid potential confusion.","title":"How to retrieve a document id from a custom rule created in Alfresco","body":"<p>The challenge is that all you have is a reference to the uploaded document and rules do not return values. Based on the uploaded document, you'd like to get a reference to the thumbnail your rule generated.</p>\n\n<p>The best way to do this would be to generate a pointer or reference to the generated thumbnail. A common way to do this is with associations, but you could also set a property on the uploaded document that has the node reference of the thumbnail as its value. Either way, given a reference to the uploaded document you can always get to the thumbnail by either following the association or grabbing the thumbnail's node reference from the property value.</p>\n\n<p>Another alternative would be to store the thumbnail in a location that is easily retrievable given the reference to the original document. This is one reason why Alfresco stores thumbnails as renditions, which are persisted as children of the document they are thumbnails of. You too could store your thumbnail as a rendition. In fact, you could configure the thumbnail service to generate the thumbnail for you, and it will automatically be stored alongside other renditions.</p>\n\n<p>If you use one of these suggestions you'll have to use either a custom rule action or the \"execute script\" action to point to your custom server-side JavaScript. In that script you will implement the logic depending on whichever alternative described above works best for you.</p>\n\n<p>Last, be aware that what you included as an example \"Alfresco document ID\" looks to me like a CMIS object ID. That is different from an Alfresco node reference. Sometimes Alfresco will accept either one, but you should be conscious of which one you are using to avoid potential confusion.</p>\n"}],"owner":{"account_id":2358103,"reputation":121,"user_id":2065484,"display_name":"josemaria_liso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686061456,"creation_date":1518627076,"question_id":48792336,"body_markdown":"I have a Alfresco Comunity Manager 5.0\r\n\r\nIn Alfresco&#39;s configuration, I have created this rule: when an image is uploaded at any folder, it automatically generates a thumbnail from that image into a specific folder. \r\n\r\nI am uploading documents to Alfresco using a Java&#39;s web service. The problem is how to retrieve the Alfresco&#39;s document id (this is... the 12344414341;0.1) from the thumbnail generated in that folder.\r\n\r\nI am already retrieving the Alfresco&#39;s document id from the uploaded image (the original), but I don&#39;t know how to retrieve the one generated by the created rule. I guess it could be solved with a cmis query, but I am completely new to this.\r\n\r\nThanks in advance.\r\n\r\nEdit: rule details\r\n------------------\r\n1. Rule type: inbound\r\n2. Conditions: Element has a mimetype &quot;JPEG Image&quot;\r\n3. Actions: copy image to &quot;thumbnails&quot; and transform it with &quot;-thumbnail 365x275&quot;\r\n4. Details: Apply this rule to subspaces, title &quot;on create - thumbnail&quot;.\r\n","title":"How to retrieve a document id from a custom rule created in Alfresco","body":"<p>I have a Alfresco Comunity Manager 5.0</p>\n\n<p>In Alfresco's configuration, I have created this rule: when an image is uploaded at any folder, it automatically generates a thumbnail from that image into a specific folder. </p>\n\n<p>I am uploading documents to Alfresco using a Java's web service. The problem is how to retrieve the Alfresco's document id (this is... the 12344414341;0.1) from the thumbnail generated in that folder.</p>\n\n<p>I am already retrieving the Alfresco's document id from the uploaded image (the original), but I don't know how to retrieve the one generated by the created rule. I guess it could be solved with a cmis query, but I am completely new to this.</p>\n\n<p>Thanks in advance.</p>\n\n<h2>Edit: rule details</h2>\n\n<ol>\n<li>Rule type: inbound</li>\n<li>Conditions: Element has a mimetype \"JPEG Image\"</li>\n<li>Actions: copy image to \"thumbnails\" and transform it with \"-thumbnail 365x275\"</li>\n<li>Details: Apply this rule to subspaces, title \"on create - thumbnail\".</li>\n</ol>\n"},{"tags":["java","mysql","flyway"],"answers":[{"tags":[],"owner":{"account_id":22150081,"reputation":444,"user_id":16398766,"display_name":"Barry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644934626,"creation_date":1644934626,"answer_id":71128018,"question_id":71127397,"body_markdown":"It somewhat depends on your database structure but you can have the insert statements for your country names as a migration script with set primary keys. \r\n\r\nIf you have Flyway as part of your Java application, you would have Flyway Migrate run on application start up. This would allow the application to deploy the country names to a new environment when run and since its a migration script it would not run again if the environment has already had it run prior as it would be in the schema history table. You could also add to the table if more names are required and alter names as well via subsequent migration scripts.  \r\n\r\nThe only issue with this would be making sure nothing else adds to this table outside of the migration scripts you have created as primary key clashes would cause the migration to fail. ","title":"How to populate seed data using flyway","body":"<p>It somewhat depends on your database structure but you can have the insert statements for your country names as a migration script with set primary keys.</p>\n<p>If you have Flyway as part of your Java application, you would have Flyway Migrate run on application start up. This would allow the application to deploy the country names to a new environment when run and since its a migration script it would not run again if the environment has already had it run prior as it would be in the schema history table. You could also add to the table if more names are required and alter names as well via subsequent migration scripts.</p>\n<p>The only issue with this would be making sure nothing else adds to this table outside of the migration scripts you have created as primary key clashes would cause the migration to fail.</p>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686061309,"creation_date":1645436549,"answer_id":71204099,"question_id":71127397,"body_markdown":"you can use `flyway migrate` \r\nassuming this is the first scheme modification (otherwise start from consecutive `V#`)\r\n\r\n`V1__create_countries_table.sql`:\r\n```\r\ncreate table COUNTRY (\r\n    ID int not null,\r\n    NAME varchar(100) not null\r\n    -- additional fields and constraints\r\n);\r\n```\r\n\r\n`V2__add_values_to_country_table.sql`:\r\n```\r\ninsert into COUNTRY (ID, NAME) values (1, &#39;Afghanistan&#39;);\r\ninsert into COUNTRY (ID, NAME) values (2, &#39;Albania&#39;);\r\n... \r\n```\r\n\r\nsince this is data is static and immutable you can protect it by overwriting create/update/delete on your java `Country` JPA Repository with `throw new UnsupportedOperationException(&quot;country table is read only&quot;)`\r\n\r\n\r\n","title":"How to populate seed data using flyway","body":"<p>you can use <code>flyway migrate</code>\nassuming this is the first scheme modification (otherwise start from consecutive <code>V#</code>)</p>\n<p><code>V1__create_countries_table.sql</code>:</p>\n<pre><code>create table COUNTRY (\n    ID int not null,\n    NAME varchar(100) not null\n    -- additional fields and constraints\n);\n</code></pre>\n<p><code>V2__add_values_to_country_table.sql</code>:</p>\n<pre><code>insert into COUNTRY (ID, NAME) values (1, 'Afghanistan');\ninsert into COUNTRY (ID, NAME) values (2, 'Albania');\n... \n</code></pre>\n<p>since this is data is static and immutable you can protect it by overwriting create/update/delete on your java <code>Country</code> JPA Repository with <code>throw new UnsupportedOperationException(&quot;country table is read only&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":17687074,"reputation":61,"user_id":12839794,"display_name":"Phil Factor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647547009,"creation_date":1647547009,"answer_id":71518319,"question_id":71127397,"body_markdown":"In a SQL database, you should use views to do this. These are considered to be DDL and will be included in all build scripts, whereas data inserts aren’t. They are read-only, and so a hacker cannot add a spurious currency etc. Here is a rather impractical example that allows you to lookup the words used in the Brythonic language for counting up to twenty.\r\n\r\n    CREATE VIEW BrythonicCounting\r\n    AS\r\n      SELECT TheName, TheValue\r\n        FROM\r\n          (VALUES (&#39;oinos&#39;, 1), (&#39;dewou&#39;, 2), (&#39;trīs &#39;, 3), (&#39;petwār&#39;, 4),\r\n                  (&#39;pimpe&#39;, 5), (&#39;swexs&#39;, 6), (&#39;sextam&#39;, 7), (&#39;oxtū&#39;, 8),\r\n                  (&#39;nawam&#39;, 9), (&#39;dekam&#39;, 10), (&#39;oindekam&#39;, 11),\r\n                  (&#39;deudekam&#39;, 12), (&#39;trīdekam&#39;, 13), (&#39;petwārdekam&#39;, 14),\r\n                  (&#39;penpedekam&#39;, 15), (&#39;swedekam&#39;, 16), (&#39;sextandekam&#39;, 17),\r\n                  (&#39;oxtūdekam&#39;, 18), (&#39;nawandekam&#39;, 19), (&#39;ukintī&#39;, 20)\r\n    \t  ) Brythonic ( TheName, TheValue);\r\n    go\r\n    Select TheName from BrythonicCounting where Thevalue=12;\r\n\r\n\r\nAs you see, the data is in the definition of the view and is part of the DDL, so will be part of the schema, not the data.\r\n\r\nYou don&#39;t say what relational database system you&#39;re using, but just about every relational database will support this syntax. for a view with static read-only data in it.\r\n\r\n    go\r\n    CREATE VIEW AltBrythonicCounting\r\n    AS\r\n      SELECT TheName, TheValue\r\n        FROM\r\n          (select &#39;oinos&#39;, 1\r\n    \t  UNION\r\n    \t   SELECT &#39;dewou&#39;, 2\r\n    \t  UNION \r\n    \t    SELECT &#39;trīs &#39;, 3\r\n    \t  UNION \r\n    \t   SELECT &#39;petwār&#39;, 4\r\n    \t  ) Brythonic ( TheName, TheValue);\r\n    go\r\n    Select * from AltBrythonicCounting","title":"How to populate seed data using flyway","body":"<p>In a SQL database, you should use views to do this. These are considered to be DDL and will be included in all build scripts, whereas data inserts aren’t. They are read-only, and so a hacker cannot add a spurious currency etc. Here is a rather impractical example that allows you to lookup the words used in the Brythonic language for counting up to twenty.</p>\n<pre><code>CREATE VIEW BrythonicCounting\nAS\n  SELECT TheName, TheValue\n    FROM\n      (VALUES ('oinos', 1), ('dewou', 2), ('trīs ', 3), ('petwār', 4),\n              ('pimpe', 5), ('swexs', 6), ('sextam', 7), ('oxtū', 8),\n              ('nawam', 9), ('dekam', 10), ('oindekam', 11),\n              ('deudekam', 12), ('trīdekam', 13), ('petwārdekam', 14),\n              ('penpedekam', 15), ('swedekam', 16), ('sextandekam', 17),\n              ('oxtūdekam', 18), ('nawandekam', 19), ('ukintī', 20)\n      ) Brythonic ( TheName, TheValue);\ngo\nSelect TheName from BrythonicCounting where Thevalue=12;\n</code></pre>\n<p>As you see, the data is in the definition of the view and is part of the DDL, so will be part of the schema, not the data.</p>\n<p>You don't say what relational database system you're using, but just about every relational database will support this syntax. for a view with static read-only data in it.</p>\n<pre><code>go\nCREATE VIEW AltBrythonicCounting\nAS\n  SELECT TheName, TheValue\n    FROM\n      (select 'oinos', 1\n      UNION\n       SELECT 'dewou', 2\n      UNION \n        SELECT 'trīs ', 3\n      UNION \n       SELECT 'petwār', 4\n      ) Brythonic ( TheName, TheValue);\ngo\nSelect * from AltBrythonicCounting\n</code></pre>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3479,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71204099,"answer_count":3,"score":3,"last_activity_date":1686061309,"creation_date":1644932116,"question_id":71127397,"body_markdown":"We have a countries table, which contains the country names which will never change.\r\n\r\nHow to populate country specific seed data using flyway on application start preferably with the same primary keys, so that it doesn&#39;t change across environments (say dev, qa, prod)","title":"How to populate seed data using flyway","body":"<p>We have a countries table, which contains the country names which will never change.</p>\n<p>How to populate country specific seed data using flyway on application start preferably with the same primary keys, so that it doesn't change across environments (say dev, qa, prod)</p>\n"},{"tags":["java","spring-boot","design-patterns","microservices","saga"],"answers":[{"tags":[],"owner":{"account_id":9887818,"reputation":67,"user_id":7321816,"display_name":"Ahmeric"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1686061304,"creation_date":1686061304,"answer_id":76415670,"question_id":76162979,"body_markdown":"Sure, here&#39;s a concise version:\r\n\r\nThe SAGA pattern can be beneficial in your scenario:\r\n\r\n1. **SAGA with REST APIs:**\r\n   - Can be used if services are visible to each other. \r\n   - Offers centralized control but might create tight coupling and lacks automatic retry policies.\r\n\r\n2. **SAGA with an Event Bus:**\r\n   - Promotes loose coupling, scalability, and resilience. \r\n   - Allows use of features like retries and parallel processing.\r\n   - Scatters logic across services, making it harder to manage.\r\n\r\n3. **Handling Failure:**\r\n   - Even if you don&#39;t need a compensation mechanism, handling failures is crucial in SAGA for maintaining data consistency. \r\n\r\nChoosing between REST APIs, an event bus, or a combination depends on your system&#39;s complexity and requirements.","title":"SAGA Pattern in a macro-services Spring Boot Web application","body":"<p>Sure, here's a concise version:</p>\n<p>The SAGA pattern can be beneficial in your scenario:</p>\n<ol>\n<li><p><strong>SAGA with REST APIs:</strong></p>\n<ul>\n<li>Can be used if services are visible to each other.</li>\n<li>Offers centralized control but might create tight coupling and lacks automatic retry policies.</li>\n</ul>\n</li>\n<li><p><strong>SAGA with an Event Bus:</strong></p>\n<ul>\n<li>Promotes loose coupling, scalability, and resilience.</li>\n<li>Allows use of features like retries and parallel processing.</li>\n<li>Scatters logic across services, making it harder to manage.</li>\n</ul>\n</li>\n<li><p><strong>Handling Failure:</strong></p>\n<ul>\n<li>Even if you don't need a compensation mechanism, handling failures is crucial in SAGA for maintaining data consistency.</li>\n</ul>\n</li>\n</ol>\n<p>Choosing between REST APIs, an event bus, or a combination depends on your system's complexity and requirements.</p>\n"}],"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76415670,"answer_count":1,"score":1,"last_activity_date":1686061304,"creation_date":1683111053,"question_id":76162979,"body_markdown":"\r\n\r\nI&#39;m trying to understand what could be the best solution to manage a Web application in Spring Boot made of &quot;**Macro-services**&quot; and if the **SAGA Pattern (Orchestrator)** can be adequate in this context with or without the use of an Event Bus .\r\n\r\nI try to describe the scenario we have:\r\n\r\nN &quot;Macro-services&quot; where each is a particular workflow to manage the onboarding - unboarding of users in a system made up of different databases.\r\n\r\n**Flow A (Onboarding utente) Spring Boot App A**\r\n\r\nStep 1\r\n1) Filling in a form\r\n2) Data entry on a MongoDB database\r\n3) Entering data into a MySQL database\r\n4) Entering data on Active Directory\r\n5) Create an account on Salesforce\r\n6) Sending an email with a link to user X\r\n\r\nStep 2\r\n1) User X receives the email with a link\r\n2) Click on the link that leads to a form\r\n3) Compilation of the form\r\n4) Data update on MongoDB\r\n4) Data update on MySQL\r\n\r\n**Flow B (Unboarding utente) Spring Boot App B**\r\n- Conceptually similar to flow A but with reverse operations regarding data entry and updating.\r\n\r\nCurrently Flow A and B are two separate applications built with Spring Boot and share the code for the &quot;Repository Layer&quot; (external Lib in a multi-module Maven application) when there is a need to write/read from databases\r\n(MongoDB, MySQL, ActiveDirectory etc.)\r\n\r\nThe order of operations within the single flow is important and should be able to have a mechanism to manage the restart of the flow from its point of interruption.\r\n\r\nExample without errors:\r\nWriting to MongoDB =&gt; Writing to MySQL =&gt; Writing to Active Directory =&gt; Salesforce API call =&gt; Sending email\r\n\r\nExample with errors:\r\n\r\n    Writing to MongoDB =&gt; Writing to MySQL =&gt; Failure Writing to Active Directory =&gt; Error log\r\n\r\nManual Flow Restart:\r\n\r\n    Skip Writing to MongoDB =&gt; Skip Writing to MySQL =&gt; Writing to Active Directory =&gt; Salesforce API Call =&gt; Sending Email\r\n\r\nImportant note: in our case we don&#39;t need a compensation mechanism to revert the operations.\r\n\r\nAs I indicated above we don&#39;t have separate micro-services that communicate via an Event Bus but several monolithic applications each dedicated to a distinct application flow that affects different databases (and not only).\r\n\r\nIs it possible/recommended to use the SAGA pattern (Orchestrator) with REST APIs instead of an Event bus in this case?\r\n\r\nAdvantages and disadvantages?\r\n\r\nIf we wish we could still use an Event bus since we are working on AWS.\r\n\r\nThanks\r\n","title":"SAGA Pattern in a macro-services Spring Boot Web application","body":"<p>I'm trying to understand what could be the best solution to manage a Web application in Spring Boot made of &quot;<strong>Macro-services</strong>&quot; and if the <strong>SAGA Pattern (Orchestrator)</strong> can be adequate in this context with or without the use of an Event Bus .</p>\n<p>I try to describe the scenario we have:</p>\n<p>N &quot;Macro-services&quot; where each is a particular workflow to manage the onboarding - unboarding of users in a system made up of different databases.</p>\n<p><strong>Flow A (Onboarding utente) Spring Boot App A</strong></p>\n<p>Step 1</p>\n<ol>\n<li>Filling in a form</li>\n<li>Data entry on a MongoDB database</li>\n<li>Entering data into a MySQL database</li>\n<li>Entering data on Active Directory</li>\n<li>Create an account on Salesforce</li>\n<li>Sending an email with a link to user X</li>\n</ol>\n<p>Step 2</p>\n<ol>\n<li>User X receives the email with a link</li>\n<li>Click on the link that leads to a form</li>\n<li>Compilation of the form</li>\n<li>Data update on MongoDB</li>\n<li>Data update on MySQL</li>\n</ol>\n<p><strong>Flow B (Unboarding utente) Spring Boot App B</strong></p>\n<ul>\n<li>Conceptually similar to flow A but with reverse operations regarding data entry and updating.</li>\n</ul>\n<p>Currently Flow A and B are two separate applications built with Spring Boot and share the code for the &quot;Repository Layer&quot; (external Lib in a multi-module Maven application) when there is a need to write/read from databases\n(MongoDB, MySQL, ActiveDirectory etc.)</p>\n<p>The order of operations within the single flow is important and should be able to have a mechanism to manage the restart of the flow from its point of interruption.</p>\n<p>Example without errors:\nWriting to MongoDB =&gt; Writing to MySQL =&gt; Writing to Active Directory =&gt; Salesforce API call =&gt; Sending email</p>\n<p>Example with errors:</p>\n<pre><code>Writing to MongoDB =&gt; Writing to MySQL =&gt; Failure Writing to Active Directory =&gt; Error log\n</code></pre>\n<p>Manual Flow Restart:</p>\n<pre><code>Skip Writing to MongoDB =&gt; Skip Writing to MySQL =&gt; Writing to Active Directory =&gt; Salesforce API Call =&gt; Sending Email\n</code></pre>\n<p>Important note: in our case we don't need a compensation mechanism to revert the operations.</p>\n<p>As I indicated above we don't have separate micro-services that communicate via an Event Bus but several monolithic applications each dedicated to a distinct application flow that affects different databases (and not only).</p>\n<p>Is it possible/recommended to use the SAGA pattern (Orchestrator) with REST APIs instead of an Event bus in this case?</p>\n<p>Advantages and disadvantages?</p>\n<p>If we wish we could still use an Event bus since we are working on AWS.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-mvc","cors","cross-origin-resource-policy"],"comments":[{"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"score":0,"creation_date":1685954746,"post_id":76402537,"comment_id":134727591,"body_markdown":"what error do you have? Could please add the stacktrace or error message from the client call?","body":"what error do you have? Could please add the stacktrace or error message from the client call?"},{"owner":{"account_id":23540128,"reputation":3,"user_id":17584447,"display_name":"Achraf Ait Ibba"},"score":0,"creation_date":1685975003,"post_id":76402537,"comment_id":134732063,"body_markdown":"Here is it, when I test endpoints that requires authentication it shows me this error, but endpoints that doesn&#39;t require authentication works fine, http://localhost:8080/api/v1/account/update/user-infos/7057765138195429892&#39; from origin &#39;http://127.0.0.1:5500&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.","body":"Here is it, when I test endpoints that requires authentication it shows me this error, but endpoints that doesn&#39;t require authentication works fine, <a href=\"http://localhost:8080/api/v1/account/update/user-infos/7057765138195429892\" rel=\"nofollow noreferrer\">localhost:8080/api/v1/account/update/user-infos/&hellip;</a>&#39; from origin &#39;<a href=\"http://127.0.0.1:5500\" rel=\"nofollow noreferrer\">127.0.0.1:5500</a>&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled."}],"answers":[{"tags":[],"owner":{"account_id":23540128,"reputation":3,"user_id":17584447,"display_name":"Achraf Ait Ibba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686060793,"creation_date":1686060793,"answer_id":76415588,"question_id":76402537,"body_markdown":"I think I found the solution, if you have the same problem with the same configuration in securityFilter bean, you should add the following line right after .disable() in the configuration, you will have something like this : \r\n\r\n     @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)throws Exception{\r\n\r\n        httpSecurity\r\n                .csrf()\r\n                .disable()\r\n                .cors()  // this is how to disable cors \r\n                .authorizeHttpRequests()\r\n.... the rest of the configuration","title":"I get the CORS error while testing my api, I already set the crossorigin configuration but it&#39;s not working, Java Spring, Authentication JWT","body":"<p>I think I found the solution, if you have the same problem with the same configuration in securityFilter bean, you should add the following line right after .disable() in the configuration, you will have something like this :</p>\n<pre><code> @Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)throws Exception{\n\n    httpSecurity\n            .csrf()\n            .disable()\n            .cors()  // this is how to disable cors \n            .authorizeHttpRequests()\n</code></pre>\n<p>.... the rest of the configuration</p>\n"}],"owner":{"account_id":23540128,"reputation":3,"user_id":17584447,"display_name":"Achraf Ait Ibba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76415588,"answer_count":1,"score":0,"last_activity_date":1686060793,"creation_date":1685915354,"question_id":76402537,"body_markdown":"I created a web application with java spring, I&#39;m using JWT as authentication mechanism, I always get the cors problem even after adding the configuration to allow cross origins, how could I fix it? \r\nI&#39;m using spring 6, and spring boot 3\r\nI will provide some of the code, the informations provided are not enough, you could see the whole code on my github repo:\r\n[Github](https://github.com/achrafaitibba/where_is_my_money)\r\nThe problem only happens when I call endpoints that requires authentication,\r\nI think there is a problem with the request or the response sent by the server, or maybe the header of the request,\r\nit would be better if any of you have the solution to provide me an example of the request I should send using &quot;axios or fetch&quot;\r\nHere is my authentication filter :\r\n\r\n```\r\npublic class securityConfigurationFilter {\r\n\r\n    private final jwtAuthenticationFIlter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n    private final LogoutHandler logoutHandler;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)throws Exception{\r\n\r\n        httpSecurity\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(\r\n                        &quot;/api/v1/account/register&quot;,\r\n                        &quot;/api/v1/account/password-recovery/*/*&quot;,\r\n                        &quot;/api/v1/account/authenticate&quot;,\r\n                        &quot;/api/v1/account/emailValidation/*&quot;,\r\n                        &quot;/api/v1/questions&quot;,\r\n                        &quot;/swagger-ui/index.html#&quot;,\r\n                        &quot;/v2/api-docs&quot;,\r\n                        &quot;/v3/api-docs&quot;,\r\n                        &quot;/v3/api-docs/**&quot;,\r\n                        &quot;/swagger-ressources&quot;,\r\n                        &quot;/swagger-ressources/**&quot;,\r\n                        &quot;/configuration/ui&quot;,\r\n                        &quot;/configuration/security&quot;,\r\n                        &quot;/swagger-ui/**&quot;,\r\n                        &quot;/webjars/**&quot;,\r\n                        &quot;/swagger-ui.html&quot;\r\n                )\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n\r\n\r\n\r\n                .logout()\r\n                .logoutUrl(&quot;/api/v1/account/logout&quot;)\r\n                .addLogoutHandler(logoutHandler)\r\n                .logoutSuccessHandler(\r\n                        (request,\r\n                         response,\r\n                         authentication) -&gt;\r\n                        SecurityContextHolder.clearContext());\r\n  return httpSecurity.build();\r\n    }\r\n```\r\nAnd here is the webConfiguration : \r\n\r\n```\r\n@Configuration\r\npublic class webConfigCors implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry coreRegistry) {\r\n        coreRegistry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedHeaders(&quot;*&quot;)\r\n                .allowedMethods(&quot;*&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n \r\n\r\nI tried to add the crossorigin annotation for each endpoint,\r\nI also tried to change the webcross configuration to accept credentiels like this : \r\n\r\n```\r\n@Bean\r\n    public CorsWebFilter corsWebFilter() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Arrays.asList(&quot;http://127.0.0.1:5500&quot;));\r\n        config.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n        config.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return new CorsWebFilter(source);\r\n    }\r\n```\r\n,\r\nAnd by the way I want it to be accessible by all the origins not only my local host as fixed in the configuration above","title":"I get the CORS error while testing my api, I already set the crossorigin configuration but it&#39;s not working, Java Spring, Authentication JWT","body":"<p>I created a web application with java spring, I'm using JWT as authentication mechanism, I always get the cors problem even after adding the configuration to allow cross origins, how could I fix it?\nI'm using spring 6, and spring boot 3\nI will provide some of the code, the informations provided are not enough, you could see the whole code on my github repo:\n<a href=\"https://github.com/achrafaitibba/where_is_my_money\" rel=\"nofollow noreferrer\">Github</a>\nThe problem only happens when I call endpoints that requires authentication,\nI think there is a problem with the request or the response sent by the server, or maybe the header of the request,\nit would be better if any of you have the solution to provide me an example of the request I should send using &quot;axios or fetch&quot;\nHere is my authentication filter :</p>\n<pre><code>public class securityConfigurationFilter {\n\n    private final jwtAuthenticationFIlter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n    private final LogoutHandler logoutHandler;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)throws Exception{\n\n        httpSecurity\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(\n                        &quot;/api/v1/account/register&quot;,\n                        &quot;/api/v1/account/password-recovery/*/*&quot;,\n                        &quot;/api/v1/account/authenticate&quot;,\n                        &quot;/api/v1/account/emailValidation/*&quot;,\n                        &quot;/api/v1/questions&quot;,\n                        &quot;/swagger-ui/index.html#&quot;,\n                        &quot;/v2/api-docs&quot;,\n                        &quot;/v3/api-docs&quot;,\n                        &quot;/v3/api-docs/**&quot;,\n                        &quot;/swagger-ressources&quot;,\n                        &quot;/swagger-ressources/**&quot;,\n                        &quot;/configuration/ui&quot;,\n                        &quot;/configuration/security&quot;,\n                        &quot;/swagger-ui/**&quot;,\n                        &quot;/webjars/**&quot;,\n                        &quot;/swagger-ui.html&quot;\n                )\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n\n\n\n                .logout()\n                .logoutUrl(&quot;/api/v1/account/logout&quot;)\n                .addLogoutHandler(logoutHandler)\n                .logoutSuccessHandler(\n                        (request,\n                         response,\n                         authentication) -&gt;\n                        SecurityContextHolder.clearContext());\n  return httpSecurity.build();\n    }\n</code></pre>\n<p>And here is the webConfiguration :</p>\n<pre><code>@Configuration\npublic class webConfigCors implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry coreRegistry) {\n        coreRegistry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .allowedMethods(&quot;*&quot;);\n    }\n}\n\n</code></pre>\n<p>I tried to add the crossorigin annotation for each endpoint,\nI also tried to change the webcross configuration to accept credentiels like this :</p>\n<pre><code>@Bean\n    public CorsWebFilter corsWebFilter() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Arrays.asList(&quot;http://127.0.0.1:5500&quot;));\n        config.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n        config.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsWebFilter(source);\n    }\n</code></pre>\n<p>,\nAnd by the way I want it to be accessible by all the origins not only my local host as fixed in the configuration above</p>\n"},{"tags":["java","image","alfresco","document","cmis"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1632411386,"post_id":69299982,"comment_id":122490616,"body_markdown":"I seem to remember that CMIS uploads don&#39;t trigger the thumbnail generation by default - maybe try the approach from https://stackoverflow.com/questions/10487135/generating-thumbnails-in-alfresco-4-0-d ?","body":"I seem to remember that CMIS uploads don&#39;t trigger the thumbnail generation by default - maybe try the approach from <a href=\"https://stackoverflow.com/questions/10487135/generating-thumbnails-in-alfresco-4-0-d\" title=\"generating thumbnails in alfresco 4 0 d\">stackoverflow.com/questions/10487135/&hellip;</a> ?"},{"owner":{"account_id":21497529,"reputation":11,"user_id":15842318,"display_name":"robertD"},"score":0,"creation_date":1632481423,"post_id":69299982,"comment_id":122510337,"body_markdown":"Thanks for the help. Do you know how to set the context (properties) in CMIS, pls?","body":"Thanks for the help. Do you know how to set the context (properties) in CMIS, pls?"}],"answers":[{"tags":[],"owner":{"account_id":10680554,"reputation":798,"user_id":7862778,"display_name":"Srikanth Josyula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686060463,"creation_date":1686060463,"answer_id":76415543,"question_id":69299982,"body_markdown":"We dont have any direct way available from CMIS Client. could you try \r\n\r\n    cmis.create.doc.request.renditions.set=doclib,pdf","title":"The problem creates a thumbnail after insertion","body":"<p>We dont have any direct way available from CMIS Client. could you try</p>\n<pre><code>cmis.create.doc.request.renditions.set=doclib,pdf\n</code></pre>\n"}],"owner":{"account_id":21497529,"reputation":11,"user_id":15842318,"display_name":"robertD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686060463,"creation_date":1632399972,"question_id":69299982,"body_markdown":"I use alfresco 7.1.0 with embedded ImageMagick 7.0.10. In global.properties I have system.thumbnail.generate=true. In Tomcat I have file thumbnail-service-context.xml and I use CMIS connector.\r\nAlfresco does not automatically create a thumbnail. If I open a folder in Alfresco UI, then I will wait a few seconds to create a preview only, then do I have a preview in CMIS.\r\nCan you please advise me what is wrong, if the thumbnail does not create itself after insertion?\r\n\r\nThanks,\r\nRobo","title":"The problem creates a thumbnail after insertion","body":"<p>I use alfresco 7.1.0 with embedded ImageMagick 7.0.10. In global.properties I have system.thumbnail.generate=true. In Tomcat I have file thumbnail-service-context.xml and I use CMIS connector.\nAlfresco does not automatically create a thumbnail. If I open a folder in Alfresco UI, then I will wait a few seconds to create a preview only, then do I have a preview in CMIS.\nCan you please advise me what is wrong, if the thumbnail does not create itself after insertion?</p>\n<p>Thanks,\nRobo</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":10083481,"reputation":488,"user_id":7452933,"accept_rate":87,"display_name":"Sucy"},"score":0,"creation_date":1491975170,"post_id":40235909,"comment_id":73784111,"body_markdown":"Can you give me show your changeText() and addCustomHeadingStyle() method, thanks!","body":"Can you give me show your changeText() and addCustomHeadingStyle() method, thanks!"},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1492005624,"post_id":40235909,"comment_id":73805287,"body_markdown":"@Sucy. I have added them. Hope that you can find them useful.","body":"@Sucy. I have added them. Hope that you can find them useful."},{"owner":{"account_id":10083481,"reputation":488,"user_id":7452933,"accept_rate":87,"display_name":"Sucy"},"score":0,"creation_date":1492048179,"post_id":40235909,"comment_id":73826505,"body_markdown":"Do you have any ideas about  [my question](http://stackoverflow.com/questions/43335464/how-to-set-table-of-contents-font-style-including-font-color-font-size-and-bol) thanks!","body":"Do you have any ideas about  <a href=\"http://stackoverflow.com/questions/43335464/how-to-set-table-of-contents-font-style-including-font-color-font-size-and-bol\">my question</a> thanks!"},{"owner":{"account_id":10083481,"reputation":488,"user_id":7452933,"accept_rate":87,"display_name":"Sucy"},"score":0,"creation_date":1492072354,"post_id":40235909,"comment_id":73835844,"body_markdown":"Maybe I should reproduce style.xml, but I don&#39;t know the relationship  connects document.xml and styles.xml, and how to set styles ids inside document.xml to connect concrete text part with concrete style. I should expend huge effort to do this. Do your have any ideas?","body":"Maybe I should reproduce style.xml, but I don&#39;t know the relationship  connects document.xml and styles.xml, and how to set styles ids inside document.xml to connect concrete text part with concrete style. I should expend huge effort to do this. Do your have any ideas?"},{"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"score":0,"creation_date":1492080266,"post_id":40235909,"comment_id":73840944,"body_markdown":"@Sucy No, I am sorry. I imported the addCustomHeadingStyle() method as is from an online discussion in order to achieve a style, but I have never explored styles in a deeper way. Plus, I don&#39;t use xml files as you say...sorry but I can&#39;t be of further help.","body":"@Sucy No, I am sorry. I imported the addCustomHeadingStyle() method as is from an online discussion in order to achieve a style, but I have never explored styles in a deeper way. Plus, I don&#39;t use xml files as you say...sorry but I can&#39;t be of further help."},{"owner":{"account_id":10083481,"reputation":488,"user_id":7452933,"accept_rate":87,"display_name":"Sucy"},"score":0,"creation_date":1492131075,"post_id":40235909,"comment_id":73868049,"body_markdown":"It is really a tricky problem for changing TOC&#39;s style.Thank you all the same!","body":"It is really a tricky problem for changing TOC&#39;s style.Thank you all the same!"}],"answers":[{"tags":[],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520591645,"creation_date":1477478569,"answer_id":40260135,"question_id":40235909,"body_markdown":"I&#39;ve solved the mystery and, unfortunately (for people having the same problem), there&#39;s no good news. &lt;strike&gt;Apache POI&#39;s `createTOC()` is bugged (to be honest, it seems a method whose implementation has been started but never completed in a proper way)&lt;/strike&gt; (please, consider jmarkmurphy&#39;s accepted answer).\r\n\r\nThe [Documentation][1] doesn&#39;t explain anything about the method itself (it just reports the signature, and nothing more), and that&#39;s suspect.\r\n\r\nWatching at the `XWPFDocument`&#39;s class code:\r\n\r\n    public void createTOC() {\r\n    \tCTSdtBlock block = getDocument().getBody().addNewSdt();\r\n    \tTOC toc = new TOC(block);\r\n    \tfor (XWPFParagraph par : this.paragraphs) {\r\n    \t\tString parStyle = par.getStyle();\r\n    \t\tif ((parStyle != null) &amp;&amp; (parStyle.startsWith(&quot;Heading&quot;))) try {\r\n    \t\t\tint level = Integer.valueOf(parStyle.substring(&quot;Heading&quot;.length())).intValue();\r\n    \t\t\ttoc.addRow(level, par.getText(), 1, &quot;112723803&quot;);\r\n    \t\t} catch (NumberFormatException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nApache POI searches for paragraphs having style named &quot;HeadingX&quot;, with X being a number. So, my variable `strStyleId` should have been valorized as `Heading1`, as an example. But this doesn&#39;t solved the problem. In fact, `createTOC()` always passes `1` as the page number to the `addRow()` method, that always sets the page as 1, this way. It does absolutely nothing in order to get that dinamically.\r\n\r\nThat&#39;s the final, unuseful result (as you can see, it&#39;s also a &quot;fake&quot; TOC, and not the one that you can create via Microsoft Word using the red-squared button in the question):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo, page numbers for a Word document cannot be retrieved dinamically (as I read in other posts), and even Apache POI seems unable to do that, sadly.\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/index.html?org/apache/poi/xwpf/usermodel/XWPFDocument.html\r\n  [2]: https://i.stack.imgur.com/0MkAM.png","title":"Creating a Table of Contents for a XWPFDocument with page numbers&#39; indication","body":"<p>I've solved the mystery and, unfortunately (for people having the same problem), there's no good news. <strike>Apache POI's <code>createTOC()</code> is bugged (to be honest, it seems a method whose implementation has been started but never completed in a proper way)</strike> (please, consider jmarkmurphy's accepted answer).</p>\n\n<p>The <a href=\"https://poi.apache.org/apidocs/index.html?org/apache/poi/xwpf/usermodel/XWPFDocument.html\" rel=\"nofollow noreferrer\">Documentation</a> doesn't explain anything about the method itself (it just reports the signature, and nothing more), and that's suspect.</p>\n\n<p>Watching at the <code>XWPFDocument</code>'s class code:</p>\n\n<pre><code>public void createTOC() {\n    CTSdtBlock block = getDocument().getBody().addNewSdt();\n    TOC toc = new TOC(block);\n    for (XWPFParagraph par : this.paragraphs) {\n        String parStyle = par.getStyle();\n        if ((parStyle != null) &amp;&amp; (parStyle.startsWith(\"Heading\"))) try {\n            int level = Integer.valueOf(parStyle.substring(\"Heading\".length())).intValue();\n            toc.addRow(level, par.getText(), 1, \"112723803\");\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Apache POI searches for paragraphs having style named \"HeadingX\", with X being a number. So, my variable <code>strStyleId</code> should have been valorized as <code>Heading1</code>, as an example. But this doesn't solved the problem. In fact, <code>createTOC()</code> always passes <code>1</code> as the page number to the <code>addRow()</code> method, that always sets the page as 1, this way. It does absolutely nothing in order to get that dinamically.</p>\n\n<p>That's the final, unuseful result (as you can see, it's also a \"fake\" TOC, and not the one that you can create via Microsoft Word using the red-squared button in the question):</p>\n\n<p><a href=\"https://i.stack.imgur.com/0MkAM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0MkAM.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, page numbers for a Word document cannot be retrieved dinamically (as I read in other posts), and even Apache POI seems unable to do that, sadly.</p>\n"},{"tags":[],"owner":{"account_id":2655673,"reputation":11140,"user_id":2296441,"accept_rate":86,"display_name":"jmarkmurphy"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1486641925,"creation_date":1477490159,"answer_id":40264237,"question_id":40235909,"body_markdown":"The XWPF classes as you have seen are a work in progress, with no real overarching architecture. That will change over time as we work on it, but in the mean time you can try to add a simple TOC field to a paragraph in this way.\r\n\r\n    XWPFParagraph p;\r\n    ...\r\n    // get or create your paragraph\r\n    ....\r\n    CTP ctP = p.getCTP();\r\n    CTSimpleField toc = ctP.addNewFldSimple();\r\n    toc.setInstr(&quot;TOC \\\\h&quot;);\r\n    toc.setDirty(STOnOff.TRUE);\r\n\r\nThis will create a Table of contents with hyperlinks to the pages, it should be recalculated when Word opens it, and the table of contents will be based on predefined HeaderX styles.","title":"Creating a Table of Contents for a XWPFDocument with page numbers&#39; indication","body":"<p>The XWPF classes as you have seen are a work in progress, with no real overarching architecture. That will change over time as we work on it, but in the mean time you can try to add a simple TOC field to a paragraph in this way.</p>\n\n<pre><code>XWPFParagraph p;\n...\n// get or create your paragraph\n....\nCTP ctP = p.getCTP();\nCTSimpleField toc = ctP.addNewFldSimple();\ntoc.setInstr(\"TOC \\\\h\");\ntoc.setDirty(STOnOff.TRUE);\n</code></pre>\n\n<p>This will create a Table of contents with hyperlinks to the pages, it should be recalculated when Word opens it, and the table of contents will be based on predefined HeaderX styles.</p>\n"},{"tags":[],"owner":{"account_id":8999435,"reputation":61,"user_id":6708551,"display_name":"zncoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484234195,"creation_date":1484226090,"answer_id":41613931,"question_id":40235909,"body_markdown":"    toc.setInstr(&quot;TOC \\\\h&quot;);\r\n\r\nh switch has to be used with &#39;\\&#39;, not &#39;/&#39;, because it works correctly only with &#39;\\&#39;. More details about using TOC switches: [Use Word&#39;s TOC field to fine-tune your table of contents][1]\r\n\r\n\r\n  [1]: http://www.techrepublic.com/article/use-words-toc-field-to-fine-tune-your-table-of-contents/","title":"Creating a Table of Contents for a XWPFDocument with page numbers&#39; indication","body":"<pre><code>toc.setInstr(\"TOC \\\\h\");\n</code></pre>\n\n<p>h switch has to be used with '\\', not '/', because it works correctly only with '\\'. More details about using TOC switches: <a href=\"http://www.techrepublic.com/article/use-words-toc-field-to-fine-tune-your-table-of-contents/\" rel=\"nofollow noreferrer\">Use Word's TOC field to fine-tune your table of contents</a></p>\n"},{"tags":[],"owner":{"account_id":14265917,"reputation":1,"user_id":10305072,"display_name":"Jo&#227;o Cordeiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600945164,"creation_date":1600945164,"answer_id":64045049,"question_id":40235909,"body_markdown":"Recently I had had the same problem, but I wanted to add a ToC with depth=2 (exclude heading 3). I&#39;ve created a copy and added the ToC manually in the Word document and rename both from .docx to .zip.\r\n\r\nInside each zip document, there&#39;s an XML file located in document.zip/word/document.xml. This document is the document content.\r\n\r\nI&#39;ve compared both XML files and found that Word added the following value when you add a ToC: \r\n\r\n    &lt;w:fldSimple w:instr=&quot;TOC \\o &quot;1-2&quot; \\h \\z \\u&quot;/&gt;\r\n\r\n\r\nI&#39;ve updated my code using this:\r\n\r\n    CTP ctP = paragraph.getCTP();\r\n    CTSimpleField toc = ctP.addNewFldSimple();\r\n\ttoc.setInstr(&quot;TOC \\\\o \\&quot;1-2\\&quot; \\\\h \\\\z \\\\u&quot;);\r\n\ttoc.setDirty(STOnOff.ON);\r\n\r\nWhen you open the document, Word will ask you to update the references and the ToC becomes perfect. Since I want the generation process fully automated I&#39;m still working on that part.\r\n\r\n\r\n","title":"Creating a Table of Contents for a XWPFDocument with page numbers&#39; indication","body":"<p>Recently I had had the same problem, but I wanted to add a ToC with depth=2 (exclude heading 3). I've created a copy and added the ToC manually in the Word document and rename both from .docx to .zip.</p>\n<p>Inside each zip document, there's an XML file located in document.zip/word/document.xml. This document is the document content.</p>\n<p>I've compared both XML files and found that Word added the following value when you add a ToC:</p>\n<pre><code>&lt;w:fldSimple w:instr=&quot;TOC \\o &quot;1-2&quot; \\h \\z \\u&quot;/&gt;\n</code></pre>\n<p>I've updated my code using this:</p>\n<pre><code>CTP ctP = paragraph.getCTP();\nCTSimpleField toc = ctP.addNewFldSimple();\ntoc.setInstr(&quot;TOC \\\\o \\&quot;1-2\\&quot; \\\\h \\\\z \\\\u&quot;);\ntoc.setDirty(STOnOff.ON);\n</code></pre>\n<p>When you open the document, Word will ask you to update the references and the ToC becomes perfect. Since I want the generation process fully automated I'm still working on that part.</p>\n"},{"tags":[],"owner":{"account_id":10680554,"reputation":798,"user_id":7862778,"display_name":"Srikanth Josyula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686060279,"creation_date":1602227591,"answer_id":64275490,"question_id":40235909,"body_markdown":"If someone still looking for the answer, i followed the suggestion provided by @jmarkmurphy.\r\n\r\nBelow is the working code\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.math.BigInteger;\r\n\r\n    import org.apache.poi.xwpf.usermodel.BreakType;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n    import org.apache.poi.xwpf.usermodel.XWPFRun;\r\n    import org.apache.poi.xwpf.usermodel.XWPFStyle;\r\n    import org.apache.poi.xwpf.usermodel.XWPFStyles;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTDecimalNumber;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTOnOff;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTP;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPPr;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSettings;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSimpleField;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTString;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTStyle;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.STStyleType;\r\n\r\n    public class ApachePOIWordTOCDemo {\r\n\r\n\t    public static void main(String[] args) throws Exception {\r\n\r\n\t\tXWPFDocument doc = new XWPFDocument();\r\n\r\n\t\tdoc.createTOC();\r\n\t\taddCustomHeadingStyle(doc, &quot;heading 1&quot;, 1);\r\n\t\taddCustomHeadingStyle(doc, &quot;heading 2&quot;, 2);\r\n\t\taddCustomHeadingStyle(doc, &quot;heading 3&quot;, 3);\r\n\r\n\t\t// the body content\r\n\t\tXWPFParagraph paragraph = doc.createParagraph();\r\n\r\n\t\tCTP ctP = paragraph.getCTP();\r\n\t\tCTSimpleField toc = ctP.addNewFldSimple();\r\n\t\ttoc.setInstr(&quot;TOC \\\\h&quot;);\r\n\t\ttoc.setDirty(STOnOff.TRUE);\r\n\t\t\r\n\r\n\t\tXWPFRun run = paragraph.createRun();\r\n\r\n\t\tparagraph = doc.createParagraph();\r\n\t\trun = paragraph.createRun();\r\n\t\trun.setText(&quot;Heading 1&quot;);\r\n\t\tparagraph.setStyle(&quot;heading 1&quot;);\r\n\r\n\t\tparagraph = doc.createParagraph();\r\n\t\trun = paragraph.createRun();\r\n\t\trun.addBreak(BreakType.PAGE);\r\n\t\trun.setText(&quot;Heading 2&quot;);\r\n\t\tparagraph.setStyle(&quot;heading 2&quot;);\r\n\t\t\r\n\t\tparagraph = doc.createParagraph();\r\n\t\trun = paragraph.createRun();\r\n\t\trun.addBreak(BreakType.PAGE);\r\n\t\trun.setText(&quot;Heading 3&quot;);\r\n\t\tparagraph.setStyle(&quot;heading 3&quot;);\r\n\t\t\r\n\t\tFileOutputStream fos = new FileOutputStream(&quot;createTOC.docx&quot;);\r\n\t\tdoc.write(fos);\r\n\t    }\r\n\r\n\t    private static void addCustomHeadingStyle(XWPFDocument docxDocument, String strStyleId, int headingLevel) {\r\n\r\n\t\tCTStyle ctStyle = CTStyle.Factory.newInstance();\r\n\t\tctStyle.setStyleId(strStyleId);\r\n\r\n\t\tCTString styleName = CTString.Factory.newInstance();\r\n\t\tstyleName.setVal(strStyleId);\r\n\t\tctStyle.setName(styleName);\r\n\r\n\t\tCTDecimalNumber indentNumber = CTDecimalNumber.Factory.newInstance();\r\n\t\tindentNumber.setVal(BigInteger.valueOf(headingLevel));\r\n\r\n\t\t// lower number &gt; style is more prominent in the formats bar\r\n\t\tctStyle.setUiPriority(indentNumber);\r\n\r\n\t\tCTOnOff onoffnull = CTOnOff.Factory.newInstance();\r\n\t\tctStyle.setUnhideWhenUsed(onoffnull);\r\n\r\n\t\t// style shows up in the formats bar\r\n\t\tctStyle.setQFormat(onoffnull);\r\n\r\n\t\t// style defines a heading of the given level\r\n\t\tCTPPr ppr = CTPPr.Factory.newInstance();\r\n\t\tppr.setOutlineLvl(indentNumber);\r\n\t\tctStyle.setPPr(ppr);\r\n\r\n\t\tXWPFStyle style = new XWPFStyle(ctStyle);\r\n\r\n\t\t// is a null op if already defined\r\n\t\tXWPFStyles styles = docxDocument.createStyles();\r\n\r\n\t\tstyle.setType(STStyleType.PARAGRAPH);\r\n\t\tstyles.addStyle(style);\r\n    \r\n\t    }\r\n    }\r\n\r\n\r\n ","title":"Creating a Table of Contents for a XWPFDocument with page numbers&#39; indication","body":"<p>If someone still looking for the answer, i followed the suggestion provided by @jmarkmurphy.</p>\n<p>Below is the working code</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.math.BigInteger;\n\nimport org.apache.poi.xwpf.usermodel.BreakType;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\nimport org.apache.poi.xwpf.usermodel.XWPFStyle;\nimport org.apache.poi.xwpf.usermodel.XWPFStyles;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTDecimalNumber;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTOnOff;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTP;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPPr;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSettings;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSimpleField;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTString;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTStyle;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.STStyleType;\n\npublic class ApachePOIWordTOCDemo {\n\n    public static void main(String[] args) throws Exception {\n\n    XWPFDocument doc = new XWPFDocument();\n\n    doc.createTOC();\n    addCustomHeadingStyle(doc, &quot;heading 1&quot;, 1);\n    addCustomHeadingStyle(doc, &quot;heading 2&quot;, 2);\n    addCustomHeadingStyle(doc, &quot;heading 3&quot;, 3);\n\n    // the body content\n    XWPFParagraph paragraph = doc.createParagraph();\n\n    CTP ctP = paragraph.getCTP();\n    CTSimpleField toc = ctP.addNewFldSimple();\n    toc.setInstr(&quot;TOC \\\\h&quot;);\n    toc.setDirty(STOnOff.TRUE);\n    \n\n    XWPFRun run = paragraph.createRun();\n\n    paragraph = doc.createParagraph();\n    run = paragraph.createRun();\n    run.setText(&quot;Heading 1&quot;);\n    paragraph.setStyle(&quot;heading 1&quot;);\n\n    paragraph = doc.createParagraph();\n    run = paragraph.createRun();\n    run.addBreak(BreakType.PAGE);\n    run.setText(&quot;Heading 2&quot;);\n    paragraph.setStyle(&quot;heading 2&quot;);\n    \n    paragraph = doc.createParagraph();\n    run = paragraph.createRun();\n    run.addBreak(BreakType.PAGE);\n    run.setText(&quot;Heading 3&quot;);\n    paragraph.setStyle(&quot;heading 3&quot;);\n    \n    FileOutputStream fos = new FileOutputStream(&quot;createTOC.docx&quot;);\n    doc.write(fos);\n    }\n\n    private static void addCustomHeadingStyle(XWPFDocument docxDocument, String strStyleId, int headingLevel) {\n\n    CTStyle ctStyle = CTStyle.Factory.newInstance();\n    ctStyle.setStyleId(strStyleId);\n\n    CTString styleName = CTString.Factory.newInstance();\n    styleName.setVal(strStyleId);\n    ctStyle.setName(styleName);\n\n    CTDecimalNumber indentNumber = CTDecimalNumber.Factory.newInstance();\n    indentNumber.setVal(BigInteger.valueOf(headingLevel));\n\n    // lower number &gt; style is more prominent in the formats bar\n    ctStyle.setUiPriority(indentNumber);\n\n    CTOnOff onoffnull = CTOnOff.Factory.newInstance();\n    ctStyle.setUnhideWhenUsed(onoffnull);\n\n    // style shows up in the formats bar\n    ctStyle.setQFormat(onoffnull);\n\n    // style defines a heading of the given level\n    CTPPr ppr = CTPPr.Factory.newInstance();\n    ppr.setOutlineLvl(indentNumber);\n    ctStyle.setPPr(ppr);\n\n    XWPFStyle style = new XWPFStyle(ctStyle);\n\n    // is a null op if already defined\n    XWPFStyles styles = docxDocument.createStyles();\n\n    style.setType(STStyleType.PARAGRAPH);\n    styles.addStyle(style);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1234084,"reputation":6052,"user_id":1198067,"accept_rate":100,"display_name":"Andrea"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11316,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40264237,"answer_count":5,"score":4,"last_activity_date":1686060279,"creation_date":1477386716,"question_id":40235909,"body_markdown":"I am actually generating a Word Document with Apache POI, and I need to automatically create a Table of Contents (TOC) that references the paragraphs, with their page&#39;s indication.\r\n\r\nThis is the code I am using (I omit preconditions and internal methods&#39; body):\r\n\r\n\tXWPFDocument doc = new XWPFDocument(OPCPackage.openOrCreate(new File(document)));\r\n\r\n\tString strStyleId = &quot;Index Style&quot;;\r\n\taddCustomHeadingStyle(doc, strStyleId, 1);\r\n\r\n\tXWPFParagraph documentControlHeading = doc.createParagraph();\r\n\tchangeText(documentControlHeading, &quot;First try&quot;);\r\n\tdocumentControlHeading.setAlignment(ParagraphAlignment.LEFT);\r\n\tdocumentControlHeading.setPageBreak(true);\r\n\tdocumentControlHeading.setStyle(strStyleId);\r\n\r\n\tXWPFParagraph documentControlHeading1 = doc.createParagraph();\r\n\tchangeText(documentControlHeading1, &quot;Second try&quot;);\r\n\tdocumentControlHeading1.setAlignment(ParagraphAlignment.LEFT);\r\n\tdocumentControlHeading1.setPageBreak(true);\r\n\tdocumentControlHeading1.setStyle(strStyleId);\r\n\r\n\tdoc.createTOC();\r\n\r\nWhen I open the resulting document, I am getting this result (see blue squares):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the left part, I can see the generated TOC. So far, so good.\r\nIn the document&#39;s body, however, I can just see a static text &quot;Table of Contents&quot;, with no indications at all (neither paragraphs nor pages). I cannot even interact with it.\r\n\r\nIf I&#39;d click on the menu entry &quot;Table of Contents&quot; (red square on the upper-left corner), the &quot;real&quot; Table of Content that I want is being generated (follow the arrow, of course...).\r\n\r\n**My question is:** *how can I achieve the second result (red TOC) from code?*\r\n\r\nThank you so much.\r\n\r\n*Side note:* I even tried putting `doc.enforceUpdateFields();` after `doc.createTOC();`, but every reference of the TOC disappears, this way. \r\n  \r\n\r\n@Sucy, I add the methods that you requested. Don&#39;t know if you can find them useful, though:\r\n\r\n    /*\r\n     * Adds a custom style with the given indentation level at the given document.\r\n     */\r\n    private static void addCustomHeadingStyle(XWPFDocument docxDocument, String strStyleId, int headingLevel) {\r\n    \r\n    \tCTStyle ctStyle = CTStyle.Factory.newInstance();\r\n    \tctStyle.setStyleId(strStyleId);\r\n    \r\n    \tCTString styleName = CTString.Factory.newInstance();\r\n    \tstyleName.setVal(strStyleId);\r\n    \tctStyle.setName(styleName);\r\n    \r\n    \tCTDecimalNumber indentNumber = CTDecimalNumber.Factory.newInstance();\r\n    \tindentNumber.setVal(BigInteger.valueOf(headingLevel));\r\n    \r\n    \t// lower number &gt; style is more prominent in the formats bar\r\n    \tctStyle.setUiPriority(indentNumber);\r\n    \r\n    \tCTOnOff onoffnull = CTOnOff.Factory.newInstance();\r\n    \tctStyle.setUnhideWhenUsed(onoffnull);\r\n    \r\n    \t// style shows up in the formats bar\r\n    \tctStyle.setQFormat(onoffnull);\r\n    \r\n    \t// style defines a heading of the given level\r\n    \tCTPPr ppr = CTPPr.Factory.newInstance();\r\n    \tppr.setOutlineLvl(indentNumber);\r\n    \tctStyle.setPPr(ppr);\r\n    \r\n    \tXWPFStyle style = new XWPFStyle(ctStyle);\r\n    \r\n    \t// is a null op if already defined\r\n    \tXWPFStyles styles = docxDocument.createStyles();\r\n    \r\n    \tstyle.setType(STStyleType.PARAGRAPH);\r\n    \tstyles.addStyle(style);\r\n    \r\n    }\r\n    \r\n    /*\r\n     * Changes the text of a given paragraph.\r\n     */\r\n    public static void changeText(XWPFParagraph p, String newText) {\r\n    \tif (p != null) {\r\n    \t\tList&lt;XWPFRun&gt; runs = p.getRuns();\r\n    \t\tfor (int i = runs.size() - 1; i &gt;= 0; i--) {\r\n    \t\t\tp.removeRun(i);\r\n    \t\t}\r\n    \r\n    \t\tif (runs.size() == 0) {\r\n    \t\t\tp.createRun();\r\n    \t\t}\r\n    \r\n    \t\tXWPFRun run = runs.get(0);\r\n    \t\trun.setText(newText, 0);\r\n    \t}\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/2VHxB.png","title":"Creating a Table of Contents for a XWPFDocument with page numbers&#39; indication","body":"<p>I am actually generating a Word Document with Apache POI, and I need to automatically create a Table of Contents (TOC) that references the paragraphs, with their page's indication.</p>\n\n<p>This is the code I am using (I omit preconditions and internal methods' body):</p>\n\n<pre><code>XWPFDocument doc = new XWPFDocument(OPCPackage.openOrCreate(new File(document)));\n\nString strStyleId = \"Index Style\";\naddCustomHeadingStyle(doc, strStyleId, 1);\n\nXWPFParagraph documentControlHeading = doc.createParagraph();\nchangeText(documentControlHeading, \"First try\");\ndocumentControlHeading.setAlignment(ParagraphAlignment.LEFT);\ndocumentControlHeading.setPageBreak(true);\ndocumentControlHeading.setStyle(strStyleId);\n\nXWPFParagraph documentControlHeading1 = doc.createParagraph();\nchangeText(documentControlHeading1, \"Second try\");\ndocumentControlHeading1.setAlignment(ParagraphAlignment.LEFT);\ndocumentControlHeading1.setPageBreak(true);\ndocumentControlHeading1.setStyle(strStyleId);\n\ndoc.createTOC();\n</code></pre>\n\n<p>When I open the resulting document, I am getting this result (see blue squares):</p>\n\n<p><a href=\"https://i.stack.imgur.com/2VHxB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2VHxB.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the left part, I can see the generated TOC. So far, so good.\nIn the document's body, however, I can just see a static text \"Table of Contents\", with no indications at all (neither paragraphs nor pages). I cannot even interact with it.</p>\n\n<p>If I'd click on the menu entry \"Table of Contents\" (red square on the upper-left corner), the \"real\" Table of Content that I want is being generated (follow the arrow, of course...).</p>\n\n<p><strong>My question is:</strong> <em>how can I achieve the second result (red TOC) from code?</em></p>\n\n<p>Thank you so much.</p>\n\n<p><em>Side note:</em> I even tried putting <code>doc.enforceUpdateFields();</code> after <code>doc.createTOC();</code>, but every reference of the TOC disappears, this way. </p>\n\n<p>@Sucy, I add the methods that you requested. Don't know if you can find them useful, though:</p>\n\n<pre><code>/*\n * Adds a custom style with the given indentation level at the given document.\n */\nprivate static void addCustomHeadingStyle(XWPFDocument docxDocument, String strStyleId, int headingLevel) {\n\n    CTStyle ctStyle = CTStyle.Factory.newInstance();\n    ctStyle.setStyleId(strStyleId);\n\n    CTString styleName = CTString.Factory.newInstance();\n    styleName.setVal(strStyleId);\n    ctStyle.setName(styleName);\n\n    CTDecimalNumber indentNumber = CTDecimalNumber.Factory.newInstance();\n    indentNumber.setVal(BigInteger.valueOf(headingLevel));\n\n    // lower number &gt; style is more prominent in the formats bar\n    ctStyle.setUiPriority(indentNumber);\n\n    CTOnOff onoffnull = CTOnOff.Factory.newInstance();\n    ctStyle.setUnhideWhenUsed(onoffnull);\n\n    // style shows up in the formats bar\n    ctStyle.setQFormat(onoffnull);\n\n    // style defines a heading of the given level\n    CTPPr ppr = CTPPr.Factory.newInstance();\n    ppr.setOutlineLvl(indentNumber);\n    ctStyle.setPPr(ppr);\n\n    XWPFStyle style = new XWPFStyle(ctStyle);\n\n    // is a null op if already defined\n    XWPFStyles styles = docxDocument.createStyles();\n\n    style.setType(STStyleType.PARAGRAPH);\n    styles.addStyle(style);\n\n}\n\n/*\n * Changes the text of a given paragraph.\n */\npublic static void changeText(XWPFParagraph p, String newText) {\n    if (p != null) {\n        List&lt;XWPFRun&gt; runs = p.getRuns();\n        for (int i = runs.size() - 1; i &gt;= 0; i--) {\n            p.removeRun(i);\n        }\n\n        if (runs.size() == 0) {\n            p.createRun();\n        }\n\n        XWPFRun run = runs.get(0);\n        run.setText(newText, 0);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","optimization","types"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1686034054,"post_id":76412061,"comment_id":134739835,"body_markdown":"For a few appends, it really doesn&#39;t matter. For a lot of appends, use `StringBuilder`.","body":"For a few appends, it really doesn&#39;t matter. For a lot of appends, use <code>StringBuilder</code>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1686034164,"post_id":76412061,"comment_id":134739852,"body_markdown":"you understand that &quot;c&quot; is not a char? It is a String that is made up of one char.","body":"you understand that &quot;c&quot; is not a char? It is a String that is made up of one char."},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1686035127,"post_id":76412061,"comment_id":134740030,"body_markdown":"[Race your horses](https://ericlippert.com/2012/12/17/performance-rant/)","body":"<a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">Race your horses</a>"},{"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"score":0,"creation_date":1686035677,"post_id":76412061,"comment_id":134740126,"body_markdown":"Stultuske, yes &quot;c&quot; is a string, I meant if I wanted to append a single static character to a string, should I represent it as a string(&quot;c&quot;), or a char(&#39;c&#39;)? For mainly speed, but also code etiquette.","body":"Stultuske, yes &quot;c&quot; is a string, I meant if I wanted to append a single static character to a string, should I represent it as a string(&quot;c&quot;), or a char(&#39;c&#39;)? For mainly speed, but also code etiquette."},{"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"score":0,"creation_date":1686035819,"post_id":76412061,"comment_id":134740152,"body_markdown":"Jorn, StringBuilder is good, but this post was more for curiosity about these 2 methods for just 1 or 2 concatenations.","body":"Jorn, StringBuilder is good, but this post was more for curiosity about these 2 methods for just 1 or 2 concatenations."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1686036220,"post_id":76412061,"comment_id":134740193,"body_markdown":"Your reasoning is flawed because Java doesn&#39;t need to convert a char to a string; but, conversely, it needs to handle chars individually *anyway*, so if you concatenate a string (even one of length 1) it needs to iterate through all the chars in it to concatenate them.","body":"Your reasoning is flawed because Java doesn&#39;t need to convert a char to a string; but, conversely, it needs to handle chars individually <i>anyway</i>, so if you concatenate a string (even one of length 1) it needs to iterate through all the chars in it to concatenate them."},{"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"score":0,"creation_date":1686036897,"post_id":76412061,"comment_id":134740313,"body_markdown":"Konrad Rudolph, so if any speed diff is yielded at all, it would be from using a char(&#39;c&#39;), correct? Edit: accidentally hit enter halfway through.","body":"Konrad Rudolph, so if any speed diff is yielded at all, it would be from using a char(&#39;c&#39;), correct? Edit: accidentally hit enter halfway through."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686045664,"post_id":76412061,"comment_id":134742170,"body_markdown":"@Jorn don’t use `StringBuilder`, unless you’re performing concatenation in a loop.","body":"@Jorn don’t use <code>StringBuilder</code>, unless you’re performing concatenation in a loop."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686060232,"creation_date":1686041136,"answer_id":76412889,"question_id":76412061,"body_markdown":"You shouldn&#39;t make any assumptions about which is faster, and how it works will depend on JDK you use and where `str` is declared. Consider this sample compiled in Eclipse JDK20:\r\n\r\n    public static void main(String[] args)  {\r\n        final String a = &quot;hello&quot;;\r\n        final String b = &quot;world&quot;;\r\n\r\n        final String c = a+&quot;c&quot;;\r\n        final String d = b+&#39;c&#39;;\r\n\r\n        final String e = args[0]+&quot;c&quot;;\r\n        final String f = args[1]+&#39;c&#39;;\r\n\r\n        System.out.format(&quot;%s - %s - %s - %s&quot;, c, d, e, f);\r\n    }\r\n\r\nIf I open the .class file in IDE decompile, it shows that `c` and `d` were generated in by compiler:\r\n\r\n     6  ldc &lt;String &quot;helloc&quot;&gt; [20]\r\n     8  astore_3 [c]\r\n     9  ldc &lt;String &quot;worldc&quot;&gt; [22]\r\n    11  astore 4 [d]\r\n\r\nAs `args` isn&#39;t known at compile time, the code contains equivalent of \r\n\r\n    String e = new StringBuilder(args[0]).append(&quot;c&quot;).toString();\r\n    String f = new StringBuilder(args[1]).append(&#39;c&#39;).toString();\r\n\r\nWhich is:\r\n\r\n    13  new java.lang.StringBuilder [24]\r\n    16  dup\r\n    17  aload_0 [args]\r\n    18  iconst_0\r\n    19  aaload\r\n    20  invokestatic java.lang.String.valueOf(java.lang.Object) : java.lang.String [26]\r\n    23  invokespecial java.lang.StringBuilder(java.lang.String) [32]\r\n    26  ldc &lt;String &quot;c&quot;&gt; [35]\r\n    28  invokevirtual java.lang.StringBuilder.append(java.lang.String) : java.lang.StringBuilder [37]\r\n    31  invokevirtual java.lang.StringBuilder.toString() : java.lang.String [41]\r\n    34  astore 5 [e]\r\n\r\nand\r\n\r\n    36  new java.lang.StringBuilder [24]\r\n    39  dup\r\n    40  aload_0 [args]\r\n    41  iconst_1\r\n    42  aaload\r\n    43  invokestatic java.lang.String.valueOf(java.lang.Object) : java.lang.String [26]\r\n    46  invokespecial java.lang.StringBuilder(java.lang.String) [32]\r\n    49  bipush 99\r\n    51  invokevirtual java.lang.StringBuilder.append(char) : java.lang.StringBuilder [45]\r\n    54  invokevirtual java.lang.StringBuilder.toString() : java.lang.String [41]\r\n    57  astore 6 [f]\r\n\r\nDon&#39;t rely on above, it might change across JDKs as improvements are added, and don&#39;t bother changing code between either type of concatenation. Your performance issues are likely to be in I/O or database or network issues.\r\n\r\nNote comments below.","title":"Which is the faster way to add single char to String in Java: a char(str + &#39;c&#39;), or String(str + &quot;c&quot;)?","body":"<p>You shouldn't make any assumptions about which is faster, and how it works will depend on JDK you use and where <code>str</code> is declared. Consider this sample compiled in Eclipse JDK20:</p>\n<pre><code>public static void main(String[] args)  {\n    final String a = &quot;hello&quot;;\n    final String b = &quot;world&quot;;\n\n    final String c = a+&quot;c&quot;;\n    final String d = b+'c';\n\n    final String e = args[0]+&quot;c&quot;;\n    final String f = args[1]+'c';\n\n    System.out.format(&quot;%s - %s - %s - %s&quot;, c, d, e, f);\n}\n</code></pre>\n<p>If I open the .class file in IDE decompile, it shows that <code>c</code> and <code>d</code> were generated in by compiler:</p>\n<pre><code> 6  ldc &lt;String &quot;helloc&quot;&gt; [20]\n 8  astore_3 [c]\n 9  ldc &lt;String &quot;worldc&quot;&gt; [22]\n11  astore 4 [d]\n</code></pre>\n<p>As <code>args</code> isn't known at compile time, the code contains equivalent of</p>\n<pre><code>String e = new StringBuilder(args[0]).append(&quot;c&quot;).toString();\nString f = new StringBuilder(args[1]).append('c').toString();\n</code></pre>\n<p>Which is:</p>\n<pre><code>13  new java.lang.StringBuilder [24]\n16  dup\n17  aload_0 [args]\n18  iconst_0\n19  aaload\n20  invokestatic java.lang.String.valueOf(java.lang.Object) : java.lang.String [26]\n23  invokespecial java.lang.StringBuilder(java.lang.String) [32]\n26  ldc &lt;String &quot;c&quot;&gt; [35]\n28  invokevirtual java.lang.StringBuilder.append(java.lang.String) : java.lang.StringBuilder [37]\n31  invokevirtual java.lang.StringBuilder.toString() : java.lang.String [41]\n34  astore 5 [e]\n</code></pre>\n<p>and</p>\n<pre><code>36  new java.lang.StringBuilder [24]\n39  dup\n40  aload_0 [args]\n41  iconst_1\n42  aaload\n43  invokestatic java.lang.String.valueOf(java.lang.Object) : java.lang.String [26]\n46  invokespecial java.lang.StringBuilder(java.lang.String) [32]\n49  bipush 99\n51  invokevirtual java.lang.StringBuilder.append(char) : java.lang.StringBuilder [45]\n54  invokevirtual java.lang.StringBuilder.toString() : java.lang.String [41]\n57  astore 6 [f]\n</code></pre>\n<p>Don't rely on above, it might change across JDKs as improvements are added, and don't bother changing code between either type of concatenation. Your performance issues are likely to be in I/O or database or network issues.</p>\n<p>Note comments below.</p>\n"}],"owner":{"account_id":26819449,"reputation":3,"user_id":20409012,"display_name":"Shringe_"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76412889,"answer_count":1,"score":0,"last_activity_date":1686060232,"creation_date":1686033908,"question_id":76412061,"body_markdown":"I couldn&#39;t find anything online about this topic, though I apologize if that&#39;s because I&#39;m not sure how to word this question effectively.\r\n\r\nMy theory would be String(str + &quot;c&quot;) would be faster, due to JVM not having to convert char to String first before concatenation. Char(str + &#39;c&#39;) could be faster due to char being a simpler datatype. But I wouldn&#39;t be surprised if JDK optimizes it properly anyway at compile time, making it irrelevant. Anyone else know the answer to this?","title":"Which is the faster way to add single char to String in Java: a char(str + &#39;c&#39;), or String(str + &quot;c&quot;)?","body":"<p>I couldn't find anything online about this topic, though I apologize if that's because I'm not sure how to word this question effectively.</p>\n<p>My theory would be String(str + &quot;c&quot;) would be faster, due to JVM not having to convert char to String first before concatenation. Char(str + 'c') could be faster due to char being a simpler datatype. But I wouldn't be surprised if JDK optimizes it properly anyway at compile time, making it irrelevant. Anyone else know the answer to this?</p>\n"},{"tags":["java","scope","variable-assignment"],"comments":[{"owner":{"account_id":8780352,"reputation":2112,"user_id":6564148,"display_name":"George"},"score":0,"creation_date":1686040477,"post_id":76412786,"comment_id":134740997,"body_markdown":"In your loop example the ‘I’ is only declared once. ‘for(int i=0;i&lt;len;i++){ int i = 3; System.out.println(i);’ would not be valid code.","body":"In your loop example the ‘I’ is only declared once. ‘for(int i=0;i&lt;len;i++){ int i = 3; System.out.println(i);’ would not be valid code."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1686040802,"post_id":76412786,"comment_id":134741069,"body_markdown":"When you post code, *always* use text rather than images. It&#39;s fine to include a screenshot as well (although with a better description than &quot;enter image description here&quot;) - but the code itself should be in the question as text. Without opening the screenshot, your point about `for` loops is really unclear.","body":"When you post code, <i>always</i> use text rather than images. It&#39;s fine to include a screenshot as well (although with a better description than &quot;enter image description here&quot;) - but the code itself should be in the question as text. Without opening the screenshot, your point about <code>for</code> loops is really unclear."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686040504,"creation_date":1686040504,"answer_id":76412818,"question_id":76412786,"body_markdown":"Yes, each block is a new scope in Java - *but* as per [JLS 6.4](https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.4):\r\n\r\n&gt; It is a compile-time error if the name of a local variable `v` is used to declare a new variable within the scope of `v`, unless the new variable is declared within a class or interface declaration appearing within the scope of `v`.\r\n\r\nSo it&#39;s fine to have a *field* called `v` and then declare a local variable called `v`, but you can&#39;t declare nest two local variable declarations of `v` (aside from local class declarations etc).\r\n\r\nIn your other code of:\r\n\r\n```java\r\nfor (int i = 0; i &lt; 100; i++) {\r\n}\r\nfor (int i = 0; i &lt; 100; i++) {\r\n}\r\n```\r\n\r\n... the scope of each `i` variable is the `for` loop itself. As per [JLS 6.3](https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.3) :\r\n\r\n&gt; The scope of a local variable declared in the ForInit part of a basic for statement (&#167;14.14.1) includes all of the following:\r\n&gt;\r\n&gt; - Its own initializer\r\n&gt; - Any further declarators to the right in the ForInit part of the for statement\r\n&gt; - The Expression and ForUpdate parts of the for statement\r\n&gt; - The contained Statement\r\n\r\nSo it&#39;s similar to writing:\r\n\r\n```java\r\n{\r\n    for (int i = 0; i &lt; 100; i++) {\r\n    }\r\n}\r\n{\r\n    for (int i = 0; i &lt; 100; i++) {\r\n    }\r\n}\r\n```\r\n\r\n... clearly there&#39;s no nesting of the declarations of `i`. Neither variable is declared within the scope of the other.","title":"Does if condition/ for loop makes a new variable scope in java?","body":"<p>Yes, each block is a new scope in Java - <em>but</em> as per <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.4\" rel=\"nofollow noreferrer\">JLS 6.4</a>:</p>\n<blockquote>\n<p>It is a compile-time error if the name of a local variable <code>v</code> is used to declare a new variable within the scope of <code>v</code>, unless the new variable is declared within a class or interface declaration appearing within the scope of <code>v</code>.</p>\n</blockquote>\n<p>So it's fine to have a <em>field</em> called <code>v</code> and then declare a local variable called <code>v</code>, but you can't declare nest two local variable declarations of <code>v</code> (aside from local class declarations etc).</p>\n<p>In your other code of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 100; i++) {\n}\nfor (int i = 0; i &lt; 100; i++) {\n}\n</code></pre>\n<p>... the scope of each <code>i</code> variable is the <code>for</code> loop itself. As per <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.3\" rel=\"nofollow noreferrer\">JLS 6.3</a> :</p>\n<blockquote>\n<p>The scope of a local variable declared in the ForInit part of a basic for statement (§14.14.1) includes all of the following:</p>\n<ul>\n<li>Its own initializer</li>\n<li>Any further declarators to the right in the ForInit part of the for statement</li>\n<li>The Expression and ForUpdate parts of the for statement</li>\n<li>The contained Statement</li>\n</ul>\n</blockquote>\n<p>So it's similar to writing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n    for (int i = 0; i &lt; 100; i++) {\n    }\n}\n{\n    for (int i = 0; i &lt; 100; i++) {\n    }\n}\n</code></pre>\n<p>... clearly there's no nesting of the declarations of <code>i</code>. Neither variable is declared within the scope of the other.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686058131,"creation_date":1686058131,"answer_id":76415190,"question_id":76412786,"body_markdown":"You also may be confusing the following two examples.\r\n```\r\nclass main_class\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        int x = 9;\r\n        { \r\n            // x still in scope during second re-declaration.\r\n            int x = 10; // compilation issue other x still in this scope\r\n        }\r\n// vs\r\n        {\r\n            int y = 9;\r\n        }\r\n        int y = 10; // OK. Second declaration fine since scope is not shared.\r\n                    // first y goes out of scope prior to second declaration.\r\n    }\r\n","title":"Does if condition/ for loop makes a new variable scope in java?","body":"<p>You also may be confusing the following two examples.</p>\n<pre><code>class main_class\n{\n    public static void main(String args[])\n    {\n        int x = 9;\n        { \n            // x still in scope during second re-declaration.\n            int x = 10; // compilation issue other x still in this scope\n        }\n// vs\n        {\n            int y = 9;\n        }\n        int y = 10; // OK. Second declaration fine since scope is not shared.\n                    // first y goes out of scope prior to second declaration.\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19592617,"reputation":1,"user_id":14339315,"display_name":"Altaf Alam Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686060023,"creation_date":1686060023,"answer_id":76415484,"question_id":76412786,"body_markdown":"There is this concept of variable scope in Java.\r\nMore details to your question here https://softwareengineering.stackexchange.com/questions/271683/why-can-we-use-the-same-name-for-local-variable-in-different-scopes","title":"Does if condition/ for loop makes a new variable scope in java?","body":"<p>There is this concept of variable scope in Java.\nMore details to your question here <a href=\"https://softwareengineering.stackexchange.com/questions/271683/why-can-we-use-the-same-name-for-local-variable-in-different-scopes\">https://softwareengineering.stackexchange.com/questions/271683/why-can-we-use-the-same-name-for-local-variable-in-different-scopes</a></p>\n"}],"owner":{"account_id":11494532,"reputation":1,"user_id":8424348,"display_name":"nick huang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1686060023,"creation_date":1686040246,"question_id":76412786,"body_markdown":"I got a question like this:\r\n\r\nConsider the following Java program\r\n```\r\nclass main_class\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        int x = 9;\r\n        if (x == 9)\r\n        {\r\n            int x = 8;\r\n            System.out.println(x);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nA.9  \r\nB.8  \r\nC.Compilation Error  \r\nD.Runtime Error\r\n\r\nI chose B, but I operated in my local environemnt and I find I&#39;m wrong, the duplicated variable is not allowed in if condition. But what I thought is I always use for(int i=0;i&lt;len;i++) when I&#39;m coding, but the &quot;i&quot; is not duplicated, doesn&#39;t &quot;{}&quot; means a new variable scope? it makes me a little confused.  \r\n\r\n\r\n\r\nThe local operation is conducted as below on my VS code env\r\n[enter image description here](https://i.stack.imgur.com/10qaM.png)","title":"Does if condition/ for loop makes a new variable scope in java?","body":"<p>I got a question like this:</p>\n<p>Consider the following Java program</p>\n<pre><code>class main_class\n{\n    public static void main(String args[])\n    {\n        int x = 9;\n        if (x == 9)\n        {\n            int x = 8;\n            System.out.println(x);\n        }\n    }\n}\n</code></pre>\n<p>A.9<br />\nB.8<br />\nC.Compilation Error<br />\nD.Runtime Error</p>\n<p>I chose B, but I operated in my local environemnt and I find I'm wrong, the duplicated variable is not allowed in if condition. But what I thought is I always use for(int i=0;i&lt;len;i++) when I'm coding, but the &quot;i&quot; is not duplicated, doesn't &quot;{}&quot; means a new variable scope? it makes me a little confused.</p>\n<p>The local operation is conducted as below on my VS code env\n<a href=\"https://i.stack.imgur.com/10qaM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1392315439,"post_id":21761875,"comment_id":32919577,"body_markdown":"You should update your question and explain what your are trying to do or test for. `if (90 &gt;&gt;= angle =&lt;&lt; 180 )` does not make sense, and its not clear to me you&#39;re doing what you think you&#39;re doing.","body":"You should update your question and explain what your are trying to do or test for. <code>if (90 &gt;&gt;= angle =&lt;&lt; 180 )</code> does not make sense, and its not clear to me you&#39;re doing what you think you&#39;re doing."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1392316176,"post_id":21761875,"comment_id":32920055,"body_markdown":"Added the [tag:java] tag, based on the assumption that you&#39;re writing Java code. Feel free to correct this if it&#39;s wrong.","body":"Added the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag, based on the assumption that you&#39;re writing Java code. Feel free to correct this if it&#39;s wrong."},{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1392316743,"post_id":21761875,"comment_id":32920405,"body_markdown":"@Dukeling why do you think this is java and not c, c++, c#, javascript?","body":"@Dukeling why do you think this is java and not c, c++, c#, javascript?"},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1392317414,"post_id":21761875,"comment_id":32920854,"body_markdown":"@MiserableVariable Pre-edit mentioned Android (which I removed in the spirit of brevity). To my knowledge, Android dev is primarily Java. And that&#39;s a Java IDE / compiler error (although I&#39;m certainly not saying it can&#39;t be an error in another language as well, thus the comment).","body":"@MiserableVariable Pre-edit mentioned Android (which I removed in the spirit of brevity). To my knowledge, Android dev is primarily Java. And that&#39;s a Java IDE / compiler error (although I&#39;m certainly not saying it can&#39;t be an error in another language as well, thus the comment)."},{"owner":{"account_id":4014679,"reputation":389,"user_id":3307204,"accept_rate":100,"display_name":"matthijsW"},"score":0,"creation_date":1392324362,"post_id":21761875,"comment_id":32924776,"body_markdown":"Thanks for the comments i have just started writing code with Eclipse/java and this was my first post. many thanks for all the comments","body":"Thanks for the comments i have just started writing code with Eclipse/java and this was my first post. many thanks for all the comments"},{"owner":{"account_id":2232270,"reputation":3813,"user_id":2351110,"display_name":"mattmess1221"},"score":0,"creation_date":1534347195,"post_id":21761875,"comment_id":90675868,"body_markdown":"If this really is java code, `&gt;&gt;=` is not a comparison operator. It is the bit-shift assign operator.","body":"If this really is java code, <code>&gt;&gt;=</code> is not a comparison operator. It is the bit-shift assign operator."}],"answers":[{"tags":[],"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392329268,"creation_date":1392314287,"answer_id":21761930,"question_id":21761875,"body_markdown":"Assuming you are programming in Java, this works:\r\n\r\n    if (90 &gt;= angle  &amp;&amp;  angle &lt;= 180 )  {\r\n\r\n(don&#39;t you mean 90 is *less* than `angle`? If so: `90 &lt;= angle`)","title":"Check if a variable is between two numbers with Java","body":"<p>Assuming you are programming in Java, this works:</p>\n\n<pre><code>if (90 &gt;= angle  &amp;&amp;  angle &lt;= 180 )  {\n</code></pre>\n\n<p>(don't you mean 90 is <em>less</em> than <code>angle</code>? If so: <code>90 &lt;= angle</code>)</p>\n"},{"tags":[],"owner":{"account_id":309096,"reputation":14588,"user_id":621366,"accept_rate":93,"display_name":"peter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534346900,"creation_date":1392314335,"answer_id":21761950,"question_id":21761875,"body_markdown":"are you writing java code for android?\r\nin that case you should write maybe \r\n\r\n    if (90 &gt;= angle &amp;&amp; angle &lt;= 180) {\r\n\r\nupdating the code to a nicer style (like some suggested) you would get:\r\n\r\n    if (angle &lt;= 90 &amp;&amp; angle &lt;= 180) {\r\n\r\nnow you see that the second check is unnecessary or maybe you mixed up `&lt;` and `&gt;` signs in the first check and wanted actually to have\r\n\r\n    if (angle &gt;= 90 &amp;&amp; angle &lt;= 180) {\r\n","title":"Check if a variable is between two numbers with Java","body":"<p>are you writing java code for android?\nin that case you should write maybe </p>\n\n<pre><code>if (90 &gt;= angle &amp;&amp; angle &lt;= 180) {\n</code></pre>\n\n<p>updating the code to a nicer style (like some suggested) you would get:</p>\n\n<pre><code>if (angle &lt;= 90 &amp;&amp; angle &lt;= 180) {\n</code></pre>\n\n<p>now you see that the second check is unnecessary or maybe you mixed up <code>&lt;</code> and <code>&gt;</code> signs in the first check and wanted actually to have</p>\n\n<pre><code>if (angle &gt;= 90 &amp;&amp; angle &lt;= 180) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1392317209,"creation_date":1392317209,"answer_id":21762926,"question_id":21761875,"body_markdown":"&lt;code&gt;&lt;&lt;=&lt;/code&gt; is like &lt;code&gt;+=&lt;/code&gt;, but for a left shift. &lt;code&gt;x &lt;&lt;= 1&lt;/code&gt; means &lt;code&gt;x = x &lt;&lt; 1&lt;/code&gt;.  That&#39;s why &lt;code&gt;90 &gt;&gt;= angle&lt;/code&gt; doesn&#39;t parse. And, like others have said, Java doesn&#39;t have an elegant syntax for checking if a number is an an interval, so you have to do it the long way. It also can&#39;t do &lt;code&gt;if (x == 0 || 1)&lt;/code&gt;, and you&#39;re stuck writing it out the long way.","title":"Check if a variable is between two numbers with Java","body":"<p><code>&lt;&lt;=</code> is like <code>+=</code>, but for a left shift. <code>x &lt;&lt;= 1</code> means <code>x = x &lt;&lt; 1</code>.  That's why <code>90 >>= angle</code> doesn't parse. And, like others have said, Java doesn't have an elegant syntax for checking if a number is an an interval, so you have to do it the long way. It also can't do <code>if (x == 0 || 1)</code>, and you're stuck writing it out the long way.</p>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1392318285,"creation_date":1392318285,"answer_id":21763274,"question_id":21761875,"body_markdown":"I see some errors in your code.  \r\nYour probably meant the mathematical term \r\n\r\n90 &lt;= angle &lt;= 180, meaning angle in range 90-180.\r\n\r\n    if (angle &gt;= 90 &amp;&amp; angle &lt;= 180) {\r\n    \r\n    // do action\r\n    }","title":"Check if a variable is between two numbers with Java","body":"<p>I see some errors in your code.<br>\nYour probably meant the mathematical term </p>\n\n<p>90 &lt;= angle &lt;= 180, meaning angle in range 90-180.</p>\n\n<pre><code>if (angle &gt;= 90 &amp;&amp; angle &lt;= 180) {\n\n// do action\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4842271,"reputation":61,"user_id":3906999,"display_name":"Mchrom"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1536723237,"creation_date":1407161558,"answer_id":25120739,"question_id":21761875,"body_markdown":"    //If &quot;x&quot; is between &quot;a&quot; and &quot;b&quot;;\r\n    \r\n    .....\r\n    \r\n    int m = (a+b)/2;\r\n    \r\n    if(Math.abs(x-m) &lt;= (Math.abs(a-m)))\r\n    \r\n    {\r\n    (operations)\r\n    }\r\n\r\n......\r\n\r\n//have to use floating point conversions if the summ is not even;\r\n\r\nSimple example :\r\n\r\n    //if x is between 10 and 20\r\n    \r\n    if(Math.abs(x-15)&lt;=5)\r\n\r\n\r\n","title":"Check if a variable is between two numbers with Java","body":"<pre><code>//If \"x\" is between \"a\" and \"b\";\n\n.....\n\nint m = (a+b)/2;\n\nif(Math.abs(x-m) &lt;= (Math.abs(a-m)))\n\n{\n(operations)\n}\n</code></pre>\n\n<p>......</p>\n\n<p>//have to use floating point conversions if the summ is not even;</p>\n\n<p>Simple example :</p>\n\n<pre><code>//if x is between 10 and 20\n\nif(Math.abs(x-15)&lt;=5)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1174297,"reputation":99,"user_id":1150677,"display_name":"Jay"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1549622545,"creation_date":1549622545,"answer_id":54590675,"question_id":21761875,"body_markdown":"You can use apache Range API.\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html","title":"Check if a variable is between two numbers with Java","body":"<p>You can use apache Range API.\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html</a></p>\n"},{"tags":[],"owner":{"account_id":3029782,"reputation":445,"user_id":2569050,"display_name":"user2569050"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1641246361,"creation_date":1565808823,"answer_id":57500486,"question_id":21761875,"body_markdown":"    public static boolean between(int variable, int minValueInclusive, int maxValueInclusive) {\r\n        return variable &gt;= minValueInclusive &amp;&amp; variable &lt;= maxValueInclusive;\r\n    }\r\n\r\n[A Java method to determine if an integer is between a range](https://alvinalexander.com/java/java-method-integer-is-between-a-range)","title":"Check if a variable is between two numbers with Java","body":"<pre><code>public static boolean between(int variable, int minValueInclusive, int maxValueInclusive) {\n    return variable &gt;= minValueInclusive &amp;&amp; variable &lt;= maxValueInclusive;\n}\n</code></pre>\n<p><a href=\"https://alvinalexander.com/java/java-method-integer-is-between-a-range\" rel=\"nofollow noreferrer\">A Java method to determine if an integer is between a range</a></p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640268835,"creation_date":1640268835,"answer_id":70463309,"question_id":21761875,"body_markdown":"I think using [org.apache.commons.lang3.Range][1] is a nice solution for this. It can also integrate nicely with Guava Preconditions for argument checking. Some example code showing usage is\r\n```\r\nimport org.apache.commons.lang3.Range;\r\n\r\nimport java.util.List;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        // Create a range object\r\n        Range&lt;Double&gt; validRange = Range.between(90.0, 180.0);\r\n        // and some test values\r\n        List&lt;Double&gt; testValues = List.of(65.3, 89.99, 90.0, 90.11, 134.4, 177.7, 180.00, 180.000001, 32321.884);\r\n        // Test them all\r\n        for (Double testValue : testValues) {\r\n            // Check if it&#39;s in the range\r\n            final boolean inRange = validRange.contains(testValue);\r\n            System.out.println(String.format(&quot;[%f] in range [%b]&quot;, testValue, inRange));\r\n        }\r\n    }\r\n}\r\n```\r\nit prints\r\n```\r\n[65.300000] in range [false]\r\n[89.990000] in range [false]\r\n[90.000000] in range [true]\r\n[90.110000] in range [true]\r\n[134.400000] in range [true]\r\n[177.700000] in range [true]\r\n[180.000000] in range [true]\r\n[180.000001] in range [false]\r\n[32321.884000] in range [false]\r\n```\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html","title":"Check if a variable is between two numbers with Java","body":"<p>I think using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/Range.html\" rel=\"nofollow noreferrer\">org.apache.commons.lang3.Range</a> is a nice solution for this. It can also integrate nicely with Guava Preconditions for argument checking. Some example code showing usage is</p>\n<pre><code>import org.apache.commons.lang3.Range;\n\nimport java.util.List;\n\nclass Scratch {\n    public static void main(String[] args) {\n        // Create a range object\n        Range&lt;Double&gt; validRange = Range.between(90.0, 180.0);\n        // and some test values\n        List&lt;Double&gt; testValues = List.of(65.3, 89.99, 90.0, 90.11, 134.4, 177.7, 180.00, 180.000001, 32321.884);\n        // Test them all\n        for (Double testValue : testValues) {\n            // Check if it's in the range\n            final boolean inRange = validRange.contains(testValue);\n            System.out.println(String.format(&quot;[%f] in range [%b]&quot;, testValue, inRange));\n        }\n    }\n}\n</code></pre>\n<p>it prints</p>\n<pre><code>[65.300000] in range [false]\n[89.990000] in range [false]\n[90.000000] in range [true]\n[90.110000] in range [true]\n[134.400000] in range [true]\n[177.700000] in range [true]\n[180.000000] in range [true]\n[180.000001] in range [false]\n[32321.884000] in range [false]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6678507,"reputation":334,"user_id":5152432,"display_name":"Marco Carlo Moriggi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663240805,"creation_date":1663240805,"answer_id":73730209,"question_id":21761875,"body_markdown":"I think that using a static method can be a benefit in terms of readability and if such a static method could be defined as a standard, there could be also improvements in terms of performance:\r\nlet me say, imagine that in `java.lang.Math` you have a method `isBetween(int toCheck, int from, int to)`, which is defined as\r\n```java\r\npublic static boolean isBetween(int toCheck, int from, int to){\r\n  // eventually validate the range\r\n  return from &lt;= toCheck &amp;&amp; toCheck &lt;= to;\r\n}\r\n```\r\n\r\nthe first benefit can be that, if you `import static Math.isBetween`, than tou can write code like\r\n```java\r\nif(isBetween(userInput, 0, 16)){\r\n  //...\r\n}\r\n```\r\n\r\nand the second benefit would be that, hitting this method many times (for boundary checks, for example, in Strings, arrays, or other statically-sized  data structures), can lead to an easily C2-compiled method (probably inlined), and eventually if someone points out that the HotSpot compiler generates a branch, due to the fact that there is a conditionated jump, then can write an improvement that generates brachless code, and every application of this method can benefit, just upgrading to a newer runtime.\r\n\r\nAnother improvement in readability could come from project Valhalla: if `int`s can have methods, than you could just write `if(userInput.isBetween(0, 16))`","title":"Check if a variable is between two numbers with Java","body":"<p>I think that using a static method can be a benefit in terms of readability and if such a static method could be defined as a standard, there could be also improvements in terms of performance:\nlet me say, imagine that in <code>java.lang.Math</code> you have a method <code>isBetween(int toCheck, int from, int to)</code>, which is defined as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isBetween(int toCheck, int from, int to){\n  // eventually validate the range\n  return from &lt;= toCheck &amp;&amp; toCheck &lt;= to;\n}\n</code></pre>\n<p>the first benefit can be that, if you <code>import static Math.isBetween</code>, than tou can write code like</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(isBetween(userInput, 0, 16)){\n  //...\n}\n</code></pre>\n<p>and the second benefit would be that, hitting this method many times (for boundary checks, for example, in Strings, arrays, or other statically-sized  data structures), can lead to an easily C2-compiled method (probably inlined), and eventually if someone points out that the HotSpot compiler generates a branch, due to the fact that there is a conditionated jump, then can write an improvement that generates brachless code, and every application of this method can benefit, just upgrading to a newer runtime.</p>\n<p>Another improvement in readability could come from project Valhalla: if <code>int</code>s can have methods, than you could just write <code>if(userInput.isBetween(0, 16))</code></p>\n"},{"tags":[],"owner":{"account_id":21686634,"reputation":1,"user_id":18367487,"display_name":"DigitalServiceInvention"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686059856,"creation_date":1685958714,"answer_id":76405238,"question_id":21761875,"body_markdown":"```\r\nif (age &gt;= 90 &amp;&amp; age &lt;=180) {\r\n\t// statements\r\n}\r\n```\r\n\r\nThis checks is a number is between, you can also use a built in function called Range or any other built function that can be of use like range between ","title":"Check if a variable is between two numbers with Java","body":"<pre><code>if (age &gt;= 90 &amp;&amp; age &lt;=180) {\n    // statements\n}\n</code></pre>\n<p>This checks is a number is between, you can also use a built in function called Range or any other built function that can be of use like range between</p>\n"}],"owner":{"account_id":4014679,"reputation":389,"user_id":3307204,"accept_rate":100,"display_name":"matthijsW"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293699,"favorite_count":0,"down_vote_count":2,"up_vote_count":24,"closed_date":1698308107,"accepted_answer_id":21763274,"answer_count":10,"score":22,"last_activity_date":1686059856,"creation_date":1392314132,"question_id":21761875,"body_markdown":"I have a problem with this code:\r\n\r\n    if (90 &gt;&gt;= angle =&lt;&lt; 180)\r\n\r\nThe error explanation is:\r\n\r\n&gt; The left-hand side of an assignment must be a variable.\r\n\r\nI understand what this means but how do I turn the above code into correct code?\r\n","title":"Check if a variable is between two numbers with Java","body":"<p>I have a problem with this code:</p>\n\n<pre><code>if (90 &gt;&gt;= angle =&lt;&lt; 180)\n</code></pre>\n\n<p>The error explanation is:</p>\n\n<blockquote>\n  <p>The left-hand side of an assignment must be a variable.</p>\n</blockquote>\n\n<p>I understand what this means but how do I turn the above code into correct code?</p>\n"},{"tags":["java","spring-boot","websocket","https","certificate"],"comments":[{"owner":{"account_id":20753877,"reputation":73,"user_id":15240731,"display_name":"Yu Ling"},"score":0,"creation_date":1686039326,"post_id":76412288,"comment_id":134740775,"body_markdown":"You can use ``` before/after the beginning/ending lines to format your code/log.","body":"You can use ``` before/after the beginning/ending lines to format your code/log."}],"owner":{"account_id":28757574,"reputation":1,"user_id":22024299,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686059398,"creation_date":1686036319,"question_id":76412288,"body_markdown":"I’m in the process of securing our REST API endpoints in spring boot.  I have the certificate created and implemented for all our endpoints which is working perfectly with HTTPS.  I now however struggling with web sockets via the same secured port.  Below is the snippet of code I have used to obtain the SSLContext and Rest template.  The method setupStompClient is where I need the help.  How do I set the SSLContect for web sockets?\r\n\r\n```\r\n@PostConstruct\r\npublic void init() {\r\n   try {\r\n        serverUrl = getUrl();\r\n        certName = getCertName();\r\n        certPassword = getCertPassword();\r\n        restTemplate = getTemplate();\r\n        restTemplate.setErrorHandler(\r\n             new CommunicationErrorHandler(restTemplate.getMessageConverters()));\r\n         if (isWebsocket()) {\r\n            setupStompClient();\r\n         } \r\n   } catch (Exception e) {\r\n            throw new CommunicationException(e.getMessage(), e);\r\n   }    \r\n}\r\n   \r\nprivate RestTemplate getTemplate() {\r\n              SSLContext sslContext = getSSLContext();\r\n              SSLConnectionSocketFactory sslConFactory = \r\n                  new SSLConnectionSocketFactory(sslContext);\r\n             CloseableHttpClient httpClient =    HttpClients.custom().setSSLSocketFactory(sslConFactory).build();\r\n             ClientHttpRequestFactory requestFactory = \r\n                  new HttpComponentsClientHttpRequestFactory(httpClient);\r\n             RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n             return restTemplate;\r\n}\r\n      \r\nprivate SSLContext getSSLContext() {\r\n    SSLContext sslContext = null;\r\n    try {\r\n         sslContext = new SSLContextBuilder()\r\n         .loadTrustMaterial(new URL(certName), certPassword.toCharArray()).build();\r\n    } catch (KeyManagementException | NoSuchAlgorithmException | KeyStoreException |      CertificateException | IOException e) {\r\n                     e.printStackTrace();\r\n    }\r\n    return sslContext;\r\n}\r\n      \r\nprotected void setupStompClient() {\r\n     WebSocketClient simpleWebSocketClient = new StandardWebSocketClient();\r\n     List&lt;Transport&gt; transports = new ArrayList&lt;&gt;(1);\r\n     transports.add(new WebSocketTransport(simpleWebSocketClient));\r\n     SockJsClient sockJsClient = new SockJsClient(transports);\r\n \r\n     stompClient = new WebSocketStompClient(sockJsClient);\r\n     stompClient.setDefaultHeartbeat(new long[] { 10000, 10000 });\r\n     taskScheduler = new ThreadPoolTaskScheduler();\r\n     taskScheduler.afterPropertiesSet();\r\n \r\n     stompClient.setTaskScheduler(taskScheduler);\r\n     stompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n}\r\n```\r\nthis is the error I&#39;m getting due to the fact that I don&#39;t have the certificate implemented for the web sockets\r\n\r\n```\r\n09:00:09.753 [main] DEBUG org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler - Initializing ExecutorService\r\n09:00:09.792 [main] DEBUG org.springframework.web.socket.sockjs.client.RestTemplateXhrTransport - Executing SockJS Info request, url=https://localhost:8070/pk-websocket/info\r\n09:00:09.819 [main] DEBUG org.springframework.web.client.RestTemplate - HTTP GET https://localhost:8070/pk-websocket/info\r\n09:00:10.001 [main] ERROR org.springframework.web.socket.sockjs.client.SockJsClient - Initial SockJS &quot;Info&quot; request to server failed, url=wss://localhost:8070/pk-websocket\r\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for https://localhost:8070/pk-websocket/info: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n       at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n       at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:751)\r\n       at org.springframework.web.socket.sockjs.client.RestTemplateXhrTransport.executeInfoRequestInternal(RestTemplateXhrTransport.java:138)\r\n       at org.springframework.web.socket.sockjs.client.AbstractXhrTransport.executeInfoRequest(AbstractXhrTransport.java:128)\r\n       at org.springframework.web.socket.sockjs.client.SockJsClient.getServerInfo(SockJsClient.java:294)\r\n       at org.springframework.web.socket.sockjs.client.SockJsClient.doHandshake(SockJsClient.java:260)\r\n       at org.springframework.web.socket.messaging.WebSocketStompClient.connect(WebSocketStompClient.java:270)\r\n       at org.springframework.web.socket.messaging.WebSocketStompClient.connect(WebSocketStompClient.java:250)\r\n       at org.springframework.web.socket.messaging.WebSocketStompClient.connect(WebSocketStompClient.java:230)\r\n       at org.springframework.web.socket.messaging.WebSocketStompClient.connect(WebSocketStompClient.java:214)\r\n       at com.rmbms.business.communication.StompSessionHandler.start(StompSessionHandler.java:45)\r\n       at com.rmbms.test.TestSecureCommunication.startRiskLimitListeners(TestSecureCommunication.java:50)\r\n       at com.rmbms.test.TestSecureCommunication.main(TestSecureCommunication.java:68)\r\n```\r\n\r\nThanks\r\n\r\nI have search this site but have not found an answer that works","title":"Securing Web Sockets in Spring boot","body":"<p>I’m in the process of securing our REST API endpoints in spring boot.  I have the certificate created and implemented for all our endpoints which is working perfectly with HTTPS.  I now however struggling with web sockets via the same secured port.  Below is the snippet of code I have used to obtain the SSLContext and Rest template.  The method setupStompClient is where I need the help.  How do I set the SSLContect for web sockets?</p>\n<pre><code>@PostConstruct\npublic void init() {\n   try {\n        serverUrl = getUrl();\n        certName = getCertName();\n        certPassword = getCertPassword();\n        restTemplate = getTemplate();\n        restTemplate.setErrorHandler(\n             new CommunicationErrorHandler(restTemplate.getMessageConverters()));\n         if (isWebsocket()) {\n            setupStompClient();\n         } \n   } catch (Exception e) {\n            throw new CommunicationException(e.getMessage(), e);\n   }    \n}\n   \nprivate RestTemplate getTemplate() {\n              SSLContext sslContext = getSSLContext();\n              SSLConnectionSocketFactory sslConFactory = \n                  new SSLConnectionSocketFactory(sslContext);\n             CloseableHttpClient httpClient =    HttpClients.custom().setSSLSocketFactory(sslConFactory).build();\n             ClientHttpRequestFactory requestFactory = \n                  new HttpComponentsClientHttpRequestFactory(httpClient);\n             RestTemplate restTemplate = new RestTemplate(requestFactory);\n             return restTemplate;\n}\n      \nprivate SSLContext getSSLContext() {\n    SSLContext sslContext = null;\n    try {\n         sslContext = new SSLContextBuilder()\n         .loadTrustMaterial(new URL(certName), certPassword.toCharArray()).build();\n    } catch (KeyManagementException | NoSuchAlgorithmException | KeyStoreException |      CertificateException | IOException e) {\n                     e.printStackTrace();\n    }\n    return sslContext;\n}\n      \nprotected void setupStompClient() {\n     WebSocketClient simpleWebSocketClient = new StandardWebSocketClient();\n     List&lt;Transport&gt; transports = new ArrayList&lt;&gt;(1);\n     transports.add(new WebSocketTransport(simpleWebSocketClient));\n     SockJsClient sockJsClient = new SockJsClient(transports);\n \n     stompClient = new WebSocketStompClient(sockJsClient);\n     stompClient.setDefaultHeartbeat(new long[] { 10000, 10000 });\n     taskScheduler = new ThreadPoolTaskScheduler();\n     taskScheduler.afterPropertiesSet();\n \n     stompClient.setTaskScheduler(taskScheduler);\n     stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n}\n</code></pre>\n<p>this is the error I'm getting due to the fact that I don't have the certificate implemented for the web sockets</p>\n<pre><code>09:00:09.753 [main] DEBUG org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler - Initializing ExecutorService\n09:00:09.792 [main] DEBUG org.springframework.web.socket.sockjs.client.RestTemplateXhrTransport - Executing SockJS Info request, url=https://localhost:8070/pk-websocket/info\n09:00:09.819 [main] DEBUG org.springframework.web.client.RestTemplate - HTTP GET https://localhost:8070/pk-websocket/info\n09:00:10.001 [main] ERROR org.springframework.web.socket.sockjs.client.SockJsClient - Initial SockJS &quot;Info&quot; request to server failed, url=wss://localhost:8070/pk-websocket\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for https://localhost:8070/pk-websocket/info: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n       at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n       at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:751)\n       at org.springframework.web.socket.sockjs.client.RestTemplateXhrTransport.executeInfoRequestInternal(RestTemplateXhrTransport.java:138)\n       at org.springframework.web.socket.sockjs.client.AbstractXhrTransport.executeInfoRequest(AbstractXhrTransport.java:128)\n       at org.springframework.web.socket.sockjs.client.SockJsClient.getServerInfo(SockJsClient.java:294)\n       at org.springframework.web.socket.sockjs.client.SockJsClient.doHandshake(SockJsClient.java:260)\n       at org.springframework.web.socket.messaging.WebSocketStompClient.connect(WebSocketStompClient.java:270)\n       at org.springframework.web.socket.messaging.WebSocketStompClient.connect(WebSocketStompClient.java:250)\n       at org.springframework.web.socket.messaging.WebSocketStompClient.connect(WebSocketStompClient.java:230)\n       at org.springframework.web.socket.messaging.WebSocketStompClient.connect(WebSocketStompClient.java:214)\n       at com.rmbms.business.communication.StompSessionHandler.start(StompSessionHandler.java:45)\n       at com.rmbms.test.TestSecureCommunication.startRiskLimitListeners(TestSecureCommunication.java:50)\n       at com.rmbms.test.TestSecureCommunication.main(TestSecureCommunication.java:68)\n</code></pre>\n<p>Thanks</p>\n<p>I have search this site but have not found an answer that works</p>\n"},{"tags":["java","spring","spring-boot","annotations","microservices"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684752850,"post_id":76305349,"comment_id":134557903,"body_markdown":"You don&#39;t as Spring Boot will already load this, you don&#39;t need to.","body":"You don&#39;t as Spring Boot will already load this, you don&#39;t need to."}],"answers":[{"tags":[],"owner":{"account_id":9887818,"reputation":67,"user_id":7321816,"display_name":"Ahmeric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686058771,"creation_date":1686058771,"answer_id":76415303,"question_id":76305349,"body_markdown":"To access the `application.yml` file located in the `config` folder, specify the classpath as follows:\r\n\r\n```java\r\n@PropertySource(value = &quot;classpath:/config/application.yml&quot;, factory = MultipleYamlPropertySourceFactory.class)\r\n```\r\n\r\nMake sure the `config` folder is located in the same directory as your JAR file.","title":"@PropertySource with the right classpath","body":"<p>To access the <code>application.yml</code> file located in the <code>config</code> folder, specify the classpath as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(value = &quot;classpath:/config/application.yml&quot;, factory = MultipleYamlPropertySourceFactory.class)\n</code></pre>\n<p>Make sure the <code>config</code> folder is located in the same directory as your JAR file.</p>\n"}],"owner":{"account_id":14861716,"reputation":25,"user_id":10732289,"display_name":"Traxanios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76415303,"answer_count":1,"score":0,"last_activity_date":1686058771,"creation_date":1684752011,"question_id":76305349,"body_markdown":"I have a microservice (name = &quot;microservice-porting.jar&quot;) inside a directory &quot;/opt/microservice-porting/&quot;. Inside the directory, I have a  config folder \r\nwith an application properties file application.yml.\r\n\r\nThe structure is: \r\n\r\n    microservice-porting/\r\n        microservice-porting.jar\r\n        config/\r\n            application.yaml\r\n\r\nIn my code:\r\n\r\n    @PropertySource(value = &quot;classpath:/microservice-porting/config/application.yml&quot;, factory = MultipleYamlPropertySourceFactory.class)\r\n    \r\nbut i always get exception:\r\n    \r\n\r\n&gt; Caused by: java.io.FileNotFoundException: class path resource\r\n&gt; [microservice-porting/config/application.yml] cannot be opened because\r\n&gt; it does not exist\r\n\r\n    \r\nAll these files and directories are at a remote server where i deploy the jar files.\r\n    \r\n**What is the right classpath for may case?**\r\n     \r\n\r\n\r\n","title":"@PropertySource with the right classpath","body":"<p>I have a microservice (name = &quot;microservice-porting.jar&quot;) inside a directory &quot;/opt/microservice-porting/&quot;. Inside the directory, I have a  config folder\nwith an application properties file application.yml.</p>\n<p>The structure is:</p>\n<pre><code>microservice-porting/\n    microservice-porting.jar\n    config/\n        application.yaml\n</code></pre>\n<p>In my code:</p>\n<pre><code>@PropertySource(value = &quot;classpath:/microservice-porting/config/application.yml&quot;, factory = MultipleYamlPropertySourceFactory.class)\n</code></pre>\n<p>but i always get exception:</p>\n<blockquote>\n<p>Caused by: java.io.FileNotFoundException: class path resource\n[microservice-porting/config/application.yml] cannot be opened because\nit does not exist</p>\n</blockquote>\n<p>All these files and directories are at a remote server where i deploy the jar files.</p>\n<p><strong>What is the right classpath for may case?</strong></p>\n"},{"tags":["java","future"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500038401,"creation_date":1500037928,"answer_id":45103928,"question_id":45103815,"body_markdown":"Keep in mind: that `ExecutionException` you are catching **wraps** around an exception that got thrown by the `Callable` implementation.\r\n\r\nSo if you want to have details in that exception - well, *you* have to make sure that this exception that gets thrown and wrapped contains the required information. \r\n\r\nAlternatively, you have to actually track which Future belongs to which &quot;input parameter&quot;. Like creating a `Map&lt;Future, Request&gt;` that you **fill** while *pushing* the Callable objects into the executor.","title":"How to access parameter of Callable Future after execution?","body":"<p>Keep in mind: that <code>ExecutionException</code> you are catching <strong>wraps</strong> around an exception that got thrown by the <code>Callable</code> implementation.</p>\n\n<p>So if you want to have details in that exception - well, <em>you</em> have to make sure that this exception that gets thrown and wrapped contains the required information. </p>\n\n<p>Alternatively, you have to actually track which Future belongs to which \"input parameter\". Like creating a <code>Map&lt;Future, Request&gt;</code> that you <strong>fill</strong> while <em>pushing</em> the Callable objects into the executor.</p>\n"},{"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1686058632,"creation_date":1500038533,"answer_id":45104132,"question_id":45103815,"body_markdown":"According to [Javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)), every conforming `ExecutorService` will:\r\n\r\n&gt; @return a list of Futures representing the tasks, in the same\r\n              sequential order as produced by the iterator for the\r\n              given task list, each of which has completed\r\n\r\nSo considering that you had a list of tasks at the start, every `Future` object with a failure that you encounter at index `i` at the list will correspond to `Callable` task at index `i` in tasks list:\r\n\r\n    List&lt;Request&gt; requests = // obtain request\r\n    List&lt;Callable&lt;Response&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n    requests.forEach(req -&gt; tasks.add(() -&gt; sendRequest(req)));\r\n\r\n    List&lt;Future&lt;Response&gt;&gt; futures = executor.invokeAll(tasks);\r\n\r\n    for (int i = 0; i &lt; futures.size(); i++) {\r\n      Future&lt;Response&gt; future = futures.get(i);\r\n      try {\r\n        Response rsp = future.get();\r\n        handleResponse(rsp);\r\n      } catch (ExecutionException e) {\r\n        Request req = requests.get(i); // this is request parameter for send request at index i, assuming your Service does not violate its contract\r\n        handleRequestFailure(req, e.getCause());\r\n      }\r\n    }","title":"How to access parameter of Callable Future after execution?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll(java.util.Collection)\" rel=\"nofollow noreferrer\">Javadoc</a>, every conforming <code>ExecutorService</code> will:</p>\n<blockquote>\n<p>@return a list of Futures representing the tasks, in the same\nsequential order as produced by the iterator for the\ngiven task list, each of which has completed</p>\n</blockquote>\n<p>So considering that you had a list of tasks at the start, every <code>Future</code> object with a failure that you encounter at index <code>i</code> at the list will correspond to <code>Callable</code> task at index <code>i</code> in tasks list:</p>\n<pre><code>List&lt;Request&gt; requests = // obtain request\nList&lt;Callable&lt;Response&gt;&gt; tasks = new ArrayList&lt;&gt;();\nrequests.forEach(req -&gt; tasks.add(() -&gt; sendRequest(req)));\n\nList&lt;Future&lt;Response&gt;&gt; futures = executor.invokeAll(tasks);\n\nfor (int i = 0; i &lt; futures.size(); i++) {\n  Future&lt;Response&gt; future = futures.get(i);\n  try {\n    Response rsp = future.get();\n    handleResponse(rsp);\n  } catch (ExecutionException e) {\n    Request req = requests.get(i); // this is request parameter for send request at index i, assuming your Service does not violate its contract\n    handleRequestFailure(req, e.getCause());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1500423282,"creation_date":1500063964,"answer_id":45111113,"question_id":45103815,"body_markdown":"Although the question has been thoroughly answered I wanted to contribute a few other ideas, and perhaps illustrate some of those already discussed.\r\n\r\n### About Order of Results and Blocking\r\n\r\nOne interesting aspect of submitting a set of tasks to be run in separate threads is the fact that we can no longer control the order in which those tasks will be completed. Some tasks may run first, or even those that run first might take longer than others to complete.\r\n\r\nNow consider this:\r\n\r\n    List&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    futures.add(executor.submit(() -&gt; doTaskWith(100));\r\n    futures.add(executor.submit(() -&gt; doTaskWith(200));\r\n    \r\n    for(future: futures) {\r\n       future.get(); //Uh oh, blocking here!\r\n    }\r\n\r\nIn the example above if our first future takes 30 seconds to complete, and the second one takes only 15 seconds; then we actually blocked for 30 seconds to start processing the results, but the first result was done 15 seconds before.\r\n\r\nThe point is that, we could improve things if we could start aggregating the results as soon as they become available. \r\n\r\n### Using an ExecutionService\r\n\r\nOne way to deal with this kind of problem is by using an [ExecutorCompletionService](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html) to submit the tasks and control the results.\r\n\r\nFor example:\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(3);\r\n    ExecutorCompletionService&lt;Double&gt; completionService = new ExecutorCompletionService&lt;&gt;(executor);\r\n    \r\n    completionService.submit(() -&gt; doTaskWith(100));\r\n    completionService.submit(() -&gt; doTaskWith(200));\r\n    \r\n    Future&lt;Double&gt; future = completionService.take(); //whichever finishes first\r\n\r\nThe `ExecutorCompletionService` works like a queue, and once a task is done, whichever that task may be, we can [poll](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html#poll()) it or [take](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html#take()) it out of the queue and get its results. \r\n\r\n### Propose Solution 1: Using a Map of Futures\r\n\r\nImagine that we have a function to calculate the square root of an integer:\r\n\r\n    static double sqrt(int n) {\r\n        if(n &gt; 0) {\r\n            return Math.sqrt(n);\r\n        }\r\n        throw new IllegalArgumentException(&quot;Invalid integer: &quot; + n);\r\n    }\r\n\r\nSo, now imagine that we want to submit a bunch of integers to get their square root calculated. \r\n\r\nFor example:\r\n\r\n    Map&lt;Future&lt;Double&gt;, Integer&gt; tasks = Stream.of(4, 25, 36, 49, -5)\r\n          .collect(toMap(n -&gt; completionService.submit(() -&gt; sqrt(n)),\r\n          Function.identity()));\r\n\r\nSo, we take every integer from the stream and create a `Callable&lt;Integer&gt;` out of every one of them (i.e. `() -&gt; sqrt(n)`). Every callable gets the square root of the contextual integer `n`. Then we pass that callable to our completion service and get a future out it (i.e. `completionService.submit(callable)`). Then we make that returned `future` the key of our map, and the integer `n` the value of that key in the map, which is what we see in the returned object (i.e. `Map&lt;Future&lt;Double&gt;, Integer&gt; tasks`)\r\n\r\nNow we have the set of futures (from our submitted tasks) as keys, and the integers used to obtain those futures as the values.\r\n\r\nNow we can do:\r\n\r\n    Set&lt;Future&lt;Double&gt;&gt; futures = new HashSet&lt;&gt;(tasks.keySet());\r\n    Set&lt;Future&lt;Double&gt;&gt; failures = new LinkedHashSet&lt;&gt;();\r\n    \r\n    while (!futures.isEmpty()) {\r\n        try {\r\n            Future&lt;Double&gt; future = completionService.take();\r\n            int n = tasks.get(future); //original value of n\r\n            double squareRoot = future.get(); //result of task\r\n            System.out.printf(&quot;The square root of %d is %f%n&quot;, n, squareRoot);\r\n        }\r\n        catch (ExecutionException e) {\r\n            Integer n = tasks.get(future); //original value of n\r\n            System.err.printf(&quot;Failure to obtain square root of %d: %s%n&quot;, n, e.getMessage());\r\n            failures.add(future);\r\n        }\r\n        catch (InterruptedException e) {\r\n            //TODO: handle interruption somehow, perhaps logging partial results?\r\n        }\r\n        finally {\r\n            futures.remove(future);\r\n        }\r\n    }\r\n    \r\n    if(!failures.isEmpty()) {\r\n        //TODO you may want to do do something about the failures you got\r\n    }\r\n\r\nSince the future is the key in our map, when the `completionService` reports that a given future is ready, then we can easily just look up that future in our map and get the original value of `n` that we submitted to be processed (i.e. `int n = tasks.get(future)`).\r\n\r\n### Propose Solution 2: Contextual Exceptions\r\n\r\nAnother way to deal with the problem is by making sure that the exceptions you throw contain all the contextual details that you need to get your original request object back.\r\n\r\nFor example, we could change our `sqrt` code as follows:\r\n\r\n    static double sqrt(int n) {\r\n        if(n &gt; 0) {\r\n            return Math.sqrt(n);\r\n        }\r\n        throw new InvalidIntegerException(n);\r\n    }\r\n    \r\n    static class InvalidIntegerException extends RuntimeException {\r\n    \r\n        private final Integer n;\r\n    \r\n        InvalidIntegerException(int n) {\r\n            super(&quot;Invalid integer:  &quot; + n);\r\n            this.n = n;\r\n        }\r\n    \r\n        public Integer getInteger() {\r\n            return n;\r\n        }\r\n    }\r\n\r\nNow if we fail to calculate a square root, we will get back a `InvalidIntegerException` that contains the original value that failed to be process. That exception can give us that original value back.\r\n\r\nThat original exception will be wrapped in a `ExecutionException` by the executor service. \r\n\r\nSo, now we could do something like this:\r\n\r\n    Future&lt;Double&gt; future = completionService.take();\r\n    try {\r\n        System.out.printf(&quot;The square root of %d is %f%n&quot;, tasks.get(future), future.get());\r\n    }\r\n    catch (ExecutionException e) {\r\n        if(e.getCause() != null &amp;&amp; e.getCause() instanceof InvalidIntegerException) {\r\n            Integer n = ((InvalidIntegerException) e.getCause()).getInteger();\r\n            System.err.println(&quot;Failure to calculate the square root of: &quot; + n);\r\n        }\r\n}\r\n\r\nI kind of prefer the first solution because I don&#39;t have to make any assumptions on the type of exceptions being thrown, which makes the code easier to maintain. Perhaps others can comment on the pros and cons of every strategy.\r\n","title":"How to access parameter of Callable Future after execution?","body":"<p>Although the question has been thoroughly answered I wanted to contribute a few other ideas, and perhaps illustrate some of those already discussed.</p>\n\n<h3>About Order of Results and Blocking</h3>\n\n<p>One interesting aspect of submitting a set of tasks to be run in separate threads is the fact that we can no longer control the order in which those tasks will be completed. Some tasks may run first, or even those that run first might take longer than others to complete.</p>\n\n<p>Now consider this:</p>\n\n<pre><code>List&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\nfutures.add(executor.submit(() -&gt; doTaskWith(100));\nfutures.add(executor.submit(() -&gt; doTaskWith(200));\n\nfor(future: futures) {\n   future.get(); //Uh oh, blocking here!\n}\n</code></pre>\n\n<p>In the example above if our first future takes 30 seconds to complete, and the second one takes only 15 seconds; then we actually blocked for 30 seconds to start processing the results, but the first result was done 15 seconds before.</p>\n\n<p>The point is that, we could improve things if we could start aggregating the results as soon as they become available. </p>\n\n<h3>Using an ExecutionService</h3>\n\n<p>One way to deal with this kind of problem is by using an <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">ExecutorCompletionService</a> to submit the tasks and control the results.</p>\n\n<p>For example:</p>\n\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(3);\nExecutorCompletionService&lt;Double&gt; completionService = new ExecutorCompletionService&lt;&gt;(executor);\n\ncompletionService.submit(() -&gt; doTaskWith(100));\ncompletionService.submit(() -&gt; doTaskWith(200));\n\nFuture&lt;Double&gt; future = completionService.take(); //whichever finishes first\n</code></pre>\n\n<p>The <code>ExecutorCompletionService</code> works like a queue, and once a task is done, whichever that task may be, we can <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html#poll()\" rel=\"nofollow noreferrer\">poll</a> it or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html#take()\" rel=\"nofollow noreferrer\">take</a> it out of the queue and get its results. </p>\n\n<h3>Propose Solution 1: Using a Map of Futures</h3>\n\n<p>Imagine that we have a function to calculate the square root of an integer:</p>\n\n<pre><code>static double sqrt(int n) {\n    if(n &gt; 0) {\n        return Math.sqrt(n);\n    }\n    throw new IllegalArgumentException(\"Invalid integer: \" + n);\n}\n</code></pre>\n\n<p>So, now imagine that we want to submit a bunch of integers to get their square root calculated. </p>\n\n<p>For example:</p>\n\n<pre><code>Map&lt;Future&lt;Double&gt;, Integer&gt; tasks = Stream.of(4, 25, 36, 49, -5)\n      .collect(toMap(n -&gt; completionService.submit(() -&gt; sqrt(n)),\n      Function.identity()));\n</code></pre>\n\n<p>So, we take every integer from the stream and create a <code>Callable&lt;Integer&gt;</code> out of every one of them (i.e. <code>() -&gt; sqrt(n)</code>). Every callable gets the square root of the contextual integer <code>n</code>. Then we pass that callable to our completion service and get a future out it (i.e. <code>completionService.submit(callable)</code>). Then we make that returned <code>future</code> the key of our map, and the integer <code>n</code> the value of that key in the map, which is what we see in the returned object (i.e. <code>Map&lt;Future&lt;Double&gt;, Integer&gt; tasks</code>)</p>\n\n<p>Now we have the set of futures (from our submitted tasks) as keys, and the integers used to obtain those futures as the values.</p>\n\n<p>Now we can do:</p>\n\n<pre><code>Set&lt;Future&lt;Double&gt;&gt; futures = new HashSet&lt;&gt;(tasks.keySet());\nSet&lt;Future&lt;Double&gt;&gt; failures = new LinkedHashSet&lt;&gt;();\n\nwhile (!futures.isEmpty()) {\n    try {\n        Future&lt;Double&gt; future = completionService.take();\n        int n = tasks.get(future); //original value of n\n        double squareRoot = future.get(); //result of task\n        System.out.printf(\"The square root of %d is %f%n\", n, squareRoot);\n    }\n    catch (ExecutionException e) {\n        Integer n = tasks.get(future); //original value of n\n        System.err.printf(\"Failure to obtain square root of %d: %s%n\", n, e.getMessage());\n        failures.add(future);\n    }\n    catch (InterruptedException e) {\n        //TODO: handle interruption somehow, perhaps logging partial results?\n    }\n    finally {\n        futures.remove(future);\n    }\n}\n\nif(!failures.isEmpty()) {\n    //TODO you may want to do do something about the failures you got\n}\n</code></pre>\n\n<p>Since the future is the key in our map, when the <code>completionService</code> reports that a given future is ready, then we can easily just look up that future in our map and get the original value of <code>n</code> that we submitted to be processed (i.e. <code>int n = tasks.get(future)</code>).</p>\n\n<h3>Propose Solution 2: Contextual Exceptions</h3>\n\n<p>Another way to deal with the problem is by making sure that the exceptions you throw contain all the contextual details that you need to get your original request object back.</p>\n\n<p>For example, we could change our <code>sqrt</code> code as follows:</p>\n\n<pre><code>static double sqrt(int n) {\n    if(n &gt; 0) {\n        return Math.sqrt(n);\n    }\n    throw new InvalidIntegerException(n);\n}\n\nstatic class InvalidIntegerException extends RuntimeException {\n\n    private final Integer n;\n\n    InvalidIntegerException(int n) {\n        super(\"Invalid integer:  \" + n);\n        this.n = n;\n    }\n\n    public Integer getInteger() {\n        return n;\n    }\n}\n</code></pre>\n\n<p>Now if we fail to calculate a square root, we will get back a <code>InvalidIntegerException</code> that contains the original value that failed to be process. That exception can give us that original value back.</p>\n\n<p>That original exception will be wrapped in a <code>ExecutionException</code> by the executor service. </p>\n\n<p>So, now we could do something like this:</p>\n\n<pre><code>Future&lt;Double&gt; future = completionService.take();\ntry {\n    System.out.printf(\"The square root of %d is %f%n\", tasks.get(future), future.get());\n}\ncatch (ExecutionException e) {\n    if(e.getCause() != null &amp;&amp; e.getCause() instanceof InvalidIntegerException) {\n        Integer n = ((InvalidIntegerException) e.getCause()).getInteger();\n        System.err.println(\"Failure to calculate the square root of: \" + n);\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>I kind of prefer the first solution because I don't have to make any assumptions on the type of exceptions being thrown, which makes the code easier to maintain. Perhaps others can comment on the pros and cons of every strategy.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2897,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45111113,"answer_count":3,"score":2,"last_activity_date":1686058632,"creation_date":1500037561,"question_id":45103815,"body_markdown":"I create some async tasks using `Future` and `Callable&lt;&gt;`.\r\nProblem: if an `Exception` occurs during the async execution, I need to access the parameter that was used to build the callable. But how?\r\n\r\nExample:\r\n\r\n    List&lt;Callable&lt;Response&gt; tasks = new ArrayList&lt;&gt;();\r\n    taks.add(() -&gt; sendRequest(req));\r\n    \r\n    futures = executor.invokeAll(tasks);\r\n    \r\n    for (future : futures) {\r\n    \ttry {\r\n    \t\tResponse rsp = future.get();\r\n    \t} catch (ExecutionException e) {\r\n    \t\t//problem: I need to access req.getType() value of the req Object here. But How?\r\n    \t}\r\n    }\r\n\r\nLike: I want to collect all request values from `req.getType()`, so I know which async requests failed. And return them in an error message to the user.","title":"How to access parameter of Callable Future after execution?","body":"<p>I create some async tasks using <code>Future</code> and <code>Callable&lt;&gt;</code>.\nProblem: if an <code>Exception</code> occurs during the async execution, I need to access the parameter that was used to build the callable. But how?</p>\n\n<p>Example:</p>\n\n<pre><code>List&lt;Callable&lt;Response&gt; tasks = new ArrayList&lt;&gt;();\ntaks.add(() -&gt; sendRequest(req));\n\nfutures = executor.invokeAll(tasks);\n\nfor (future : futures) {\n    try {\n        Response rsp = future.get();\n    } catch (ExecutionException e) {\n        //problem: I need to access req.getType() value of the req Object here. But How?\n    }\n}\n</code></pre>\n\n<p>Like: I want to collect all request values from <code>req.getType()</code>, so I know which async requests failed. And return them in an error message to the user.</p>\n"},{"tags":["java","redis","jedis"],"comments":[{"owner":{"account_id":27518424,"reputation":161,"user_id":20998978,"display_name":"Adriano Amaral"},"score":0,"creation_date":1694600358,"post_id":76407682,"comment_id":135911581,"body_markdown":"Can you share one example what&#39;s the content on these TEXT file and the use case? Why you can&#39;t map as TAGs?","body":"Can you share one example what&#39;s the content on these TEXT file and the use case? Why you can&#39;t map as TAGs?"}],"owner":{"account_id":11687598,"reputation":31,"user_id":8556830,"display_name":"user8556830"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686058416,"creation_date":1685976898,"question_id":76407682,"body_markdown":"How can I search exact text search in redis which will contain special character like (:,_,$,#,;,!,?)\r\n1.I can&#39;t store that field in a tag we have a huge .text file \r\n2.i have tried with escape character but not working \r\n\r\nEg. seachTerm= abc:xyz?test/abc.json","title":"Redis text search special character using jedis ftsearch method","body":"<p>How can I search exact text search in redis which will contain special character like (:,_,$,#,;,!,?)\n1.I can't store that field in a tag we have a huge .text file\n2.i have tried with escape character but not working</p>\n<p>Eg. seachTerm= abc:xyz?test/abc.json</p>\n"},{"tags":["java","selenium","cucumber","testng"],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644695994,"creation_date":1644695994,"answer_id":71095402,"question_id":71093267,"body_markdown":"For running TestNG tests with Cucumber you have to define _Test Runner_ classes in testng.xml.\r\n\r\nyour _Test Runner_ class is `RunCucumberNGTest`.\r\n\r\nSo the xml should look like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n\r\n&lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;5&quot;&gt;\r\n\r\n    &lt;test name=&quot;Chrome Test&quot;&gt;\r\n        &lt;parameter name=&quot;Browser&quot; value=&quot;CHROME&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;some.package.name.RunCucumberNGTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n    &lt;test name=&quot;Firefox Test&quot;&gt;\r\n        &lt;parameter name=&quot;Browser&quot; value=&quot;FF&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;some.package.name.RunCucumberNGTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nFrom this xml I see the next requirements:\r\n\r\n1) Run the same set of tests but with different parameter value.\r\n\r\n2) This should work in parallel, so this should be thread-safe.\r\n\r\n---\r\n\r\n__1 Introduce TestNG Parameter for _Test Runner_ class__\r\n\r\n```java\r\n@CucumberOptions(\r\n                plugin = {&quot;pretty&quot;, &quot;html:target/surefire-reports/cucumber&quot;,\r\n                        &quot;json:target/surefire-reports/cucumberOriginal.json&quot;},\r\n                glue = {&quot;stepdefinitions&quot;},\r\n                tags = &quot;@web-1&quot;,\r\n                features = {&quot;src/test/resources/features/web.feature&quot;})\r\npublic class RunCucumberNGTest extends AbstractTestNGCucumberTests {\r\n\r\n    // static thread-safe container to keep the browser value\r\n    public final static ThreadLocal&lt;String&gt; BROWSER = new ThreadLocal&lt;&gt;();\r\n\r\n    @BeforeTest\r\n    @Parameters({&quot;Browser&quot;})\r\n    public void defineBrowser(String browser) {\r\n        //put browser value to thread-safe container\r\n        RunCucumberNGTest.BROWSER.set(browser);\r\n        System.out.println(browser);\r\n    }\r\n\r\n}\r\n```\r\n\r\n__2 Use the value in Step Definition class__\r\n\r\n```\r\npublic class WebAppStepDefinitions {\r\n      private WebTest webTest;\r\n      static boolean prevScenarioFailed = false;\r\n    \r\n      @Before\r\n      public void setUp() {\r\n        if (prevScenarioFailed) {\r\n          throw new IllegalStateException(&quot;Previous scenario failed!&quot;);\r\n        }\r\n        //get the browser value for current thread\r\n        String browser = RunCucumberNGTest.BROWSER.get();\r\n        System.out.println(&quot;WebAppStepDefinitions: &quot; + browser);\r\n        //create an object of the class holding the testng test. If I change the argument to FF, the test will run only on Firefox\r\n        webTest = new WebTest(browser);\r\n      }\r\n    \r\n      @After\r\n      public void stopExecutionAfterFailure(Scenario scenario) throws Exception {\r\n        prevScenarioFailed = scenario.isFailed();\r\n      }\r\n    \r\n      @Given(&quot;^I have navigated to the web url \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n      public void navigateToUrl(String url) {\r\n        webTest.navigateToUrl(url); //calling the first method holding the testng\r\n      }\r\n    \r\n    \r\n      @When(&quot;^I log into my web account with valid credentials as specicified in (.*) and (.*)$&quot;)\r\n      public void logintoWebApp(String username, String password) {\r\n        webTest.loginToWebApp(username, password); //calling the second method holding the testng\r\n      }\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\n__NOTE:__ All TestNG annotations should be removed from `WebTest` class, they won&#39;t work and not required. `WebTest` used explicitly by `WebAppStepDefinitions` class, all the methods invoked explicitly and not by TestNG.\r\n\r\nSo, based on your initial requirements:\r\n\r\n```\r\npublic class WebTest {\r\n\r\n  WebDriver driver = null;\r\n  BasePageWeb basePage;\r\n  public String browser;\r\n\r\n  public WebTest(String browser) {\r\n    this.browser = browser;\r\n  }\r\n\r\n  public void navigateToUrl(String url) {\r\n    switch (browser) {\r\n\r\n      case &quot;CHROME&quot;:\r\n        WebDriverManager.chromedriver().setup();\r\n        driver = new ChromeDriver();\r\n        break;\r\n\r\n      case &quot;FF&quot;:\r\n        WebDriverManager.firefoxdriver().setup();\r\n        driver = new FirefoxDriver();\r\n        break;\r\n\r\n      default:\r\n        driver = null;\r\n        break;\r\n    }\r\n    driver.get(url);\r\n\r\n  }\r\n\r\n  public void loginToWebApp(String username, String password) {\r\n\r\n    basePage = new BasePageWeb(driver);\r\n    basePage.enterUsername(username)\r\n            .enterPassword(password)\r\n            .clickLoginButton();\r\n\r\n    driver.quit();\r\n  }\r\n```","title":"Can a TestNG cross-browser test be executed with Cucumber runner?","body":"<p>For running TestNG tests with Cucumber you have to define <em>Test Runner</em> classes in testng.xml.</p>\n<p>your <em>Test Runner</em> class is <code>RunCucumberNGTest</code>.</p>\n<p>So the xml should look like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n\n&lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;5&quot;&gt;\n\n    &lt;test name=&quot;Chrome Test&quot;&gt;\n        &lt;parameter name=&quot;Browser&quot; value=&quot;CHROME&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;some.package.name.RunCucumberNGTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Firefox Test&quot;&gt;\n        &lt;parameter name=&quot;Browser&quot; value=&quot;FF&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;some.package.name.RunCucumberNGTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>From this xml I see the next requirements:</p>\n<ol>\n<li><p>Run the same set of tests but with different parameter value.</p>\n</li>\n<li><p>This should work in parallel, so this should be thread-safe.</p>\n</li>\n</ol>\n<hr />\n<p><strong>1 Introduce TestNG Parameter for <em>Test Runner</em> class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@CucumberOptions(\n                plugin = {&quot;pretty&quot;, &quot;html:target/surefire-reports/cucumber&quot;,\n                        &quot;json:target/surefire-reports/cucumberOriginal.json&quot;},\n                glue = {&quot;stepdefinitions&quot;},\n                tags = &quot;@web-1&quot;,\n                features = {&quot;src/test/resources/features/web.feature&quot;})\npublic class RunCucumberNGTest extends AbstractTestNGCucumberTests {\n\n    // static thread-safe container to keep the browser value\n    public final static ThreadLocal&lt;String&gt; BROWSER = new ThreadLocal&lt;&gt;();\n\n    @BeforeTest\n    @Parameters({&quot;Browser&quot;})\n    public void defineBrowser(String browser) {\n        //put browser value to thread-safe container\n        RunCucumberNGTest.BROWSER.set(browser);\n        System.out.println(browser);\n    }\n\n}\n</code></pre>\n<p><strong>2 Use the value in Step Definition class</strong></p>\n<pre><code>public class WebAppStepDefinitions {\n      private WebTest webTest;\n      static boolean prevScenarioFailed = false;\n    \n      @Before\n      public void setUp() {\n        if (prevScenarioFailed) {\n          throw new IllegalStateException(&quot;Previous scenario failed!&quot;);\n        }\n        //get the browser value for current thread\n        String browser = RunCucumberNGTest.BROWSER.get();\n        System.out.println(&quot;WebAppStepDefinitions: &quot; + browser);\n        //create an object of the class holding the testng test. If I change the argument to FF, the test will run only on Firefox\n        webTest = new WebTest(browser);\n      }\n    \n      @After\n      public void stopExecutionAfterFailure(Scenario scenario) throws Exception {\n        prevScenarioFailed = scenario.isFailed();\n      }\n    \n      @Given(&quot;^I have navigated to the web url \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n      public void navigateToUrl(String url) {\n        webTest.navigateToUrl(url); //calling the first method holding the testng\n      }\n    \n    \n      @When(&quot;^I log into my web account with valid credentials as specicified in (.*) and (.*)$&quot;)\n      public void logintoWebApp(String username, String password) {\n        webTest.loginToWebApp(username, password); //calling the second method holding the testng\n      }\n\n}\n</code></pre>\n<hr />\n<p><strong>NOTE:</strong> All TestNG annotations should be removed from <code>WebTest</code> class, they won't work and not required. <code>WebTest</code> used explicitly by <code>WebAppStepDefinitions</code> class, all the methods invoked explicitly and not by TestNG.</p>\n<p>So, based on your initial requirements:</p>\n<pre><code>public class WebTest {\n\n  WebDriver driver = null;\n  BasePageWeb basePage;\n  public String browser;\n\n  public WebTest(String browser) {\n    this.browser = browser;\n  }\n\n  public void navigateToUrl(String url) {\n    switch (browser) {\n\n      case &quot;CHROME&quot;:\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        break;\n\n      case &quot;FF&quot;:\n        WebDriverManager.firefoxdriver().setup();\n        driver = new FirefoxDriver();\n        break;\n\n      default:\n        driver = null;\n        break;\n    }\n    driver.get(url);\n\n  }\n\n  public void loginToWebApp(String username, String password) {\n\n    basePage = new BasePageWeb(driver);\n    basePage.enterUsername(username)\n            .enterPassword(password)\n            .clickLoginButton();\n\n    driver.quit();\n  }\n</code></pre>\n"}],"owner":{"account_id":13122749,"reputation":129,"user_id":9479686,"display_name":"The man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71095402,"answer_count":1,"score":0,"last_activity_date":1686058239,"creation_date":1644680085,"question_id":71093267,"body_markdown":"I am working with Selenium Webdriver with Cucumber. My tests work as expected with that combination. In order to achieve cross-browser testing, I added TestNG framework. To verify that my cross-browser test was working good, I ran it with TestNG alone, without Cucumber. It ran perfectly in both Chrome and Firefox browsers.\r\n\r\n\r\n    public class WebTest {\r\n    \r\n    \r\n      WebDriver driver = null;\r\n      BasePageWeb basePage;\r\n      public String browser;\r\n    \r\n    \r\n      @Parameters({ &quot;Browser&quot; })\r\n      public WebTest(String browser) {\r\n        this.browser = browser;\r\n      }\r\n    \r\n      \r\n      @BeforeClass\r\n      public void navigateToUrl() {\r\n        switch (browser) {\r\n    \r\n          case &quot;CHROME&quot;:\r\n            WebDriverManager.chromedriver().setup();\r\n            driver = new ChromeDriver();\r\n            break;\r\n    \r\n          case &quot;FF&quot;:\r\n            WebDriverManager.firefoxdriver().setup();\r\n            driver = new FirefoxDriver();\r\n            break;\r\n    \r\n          default:\r\n            driver = null;\r\n            break;\r\n        }\r\n        driver.get(&quot;https://demosite.executeautomation.com/Login.html&quot;);\r\n    \r\n      }\r\n    \r\n      @Test\r\n      public void loginToWebApp() {\r\n    \r\n        basePage = new BasePageWeb(driver);\r\n        basePage.enterUsername(&quot;admin&quot;)\r\n                .enterPassword(&quot;admin&quot;)\r\n                .clickLoginButton();\r\n    \r\n        driver.quit();\r\n      }\r\n}\r\n\r\nThe testng.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    \r\n    &lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;5&quot;&gt;\r\n    \r\n        &lt;test name=&quot;Chrome Test&quot;&gt;\r\n            &lt;parameter name=&quot;Browser&quot; value=&quot;CHROME&quot;/&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;tests.web.WebTest&quot;/&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n        &lt;test name=&quot;Firefox Test&quot;&gt;\r\n            &lt;parameter name=&quot;Browser&quot; value=&quot;FF&quot;/&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;tests.web.WebTest&quot;/&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\n\r\n\r\nI needed to integrate the TestNG test with my Cucumber set-up so that I can run the whole test with Cucumber. To do this, I added cucumber-testng dependency to POM and created a Cucumber runner extending the AbstractCucumberTestNG class. I specified the location of my feature file and step definition. The step definition is mapped to the TestNG test.\r\n\r\n  Cucumber runner:\r\n\r\n    @CucumberOptions(\r\n                    plugin = {&quot;pretty&quot;, &quot;html:target/surefire-reports/cucumber&quot;,\r\n                            &quot;json:target/surefire-reports/cucumberOriginal.json&quot;},\r\n                    glue = {&quot;stepdefinitions&quot;},\r\n                    tags = &quot;@web-1&quot;,\r\n                    features = {&quot;src/test/resources/features/web.feature&quot;})\r\n              \r\n       \r\n    \r\n     public class RunCucumberNGTest extends AbstractTestNGCucumberTests {\r\n        }\r\n\r\n   \r\n\r\nStep definition:\r\n\r\n \r\n\r\n    public class WebAppStepDefinitions {\r\n          private final WebTest webTest = new WebTest(&quot;CHROME&quot;); //create an object of the class holding the testng test. If I change the argument to FF, the test will run only on Firefox\r\n          static boolean prevScenarioFailed = false;\r\n        \r\n        \r\n          @Before\r\n          public void setUp() {\r\n            if (prevScenarioFailed) {\r\n              throw new IllegalStateException(&quot;Previous scenario failed!&quot;);\r\n            }\r\n        \r\n          }\r\n        \r\n          @After()\r\n          public void stopExecutionAfterFailure(Scenario scenario) throws Exception {\r\n            prevScenarioFailed = scenario.isFailed();\r\n          }\r\n        \r\n          @Given(&quot;^I have navigated to the web url \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n          public void navigateToUrl(String url) {  test\r\n            webTest.navigateToUrl(url); //calling the first method holding the testng\r\n          }\r\n        \r\n        \r\n          @When(&quot;^I log into my web account with valid credentials as specicified in (.*) and (.*)$&quot;)\r\n          public void logintoWebApp(String username, String password) {\r\n            webTest.loginToWebApp(username, password); //calling the second method holding the testng\r\n          }\r\n        }\r\n\r\nOn running the class, the test got executed only in one browser (Chrome). Somehow, Firefox got lost in the build-up. I suspect that I am calling the parameterised TestNG method wrongly from another class. How do I do the call successfully?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Can a TestNG cross-browser test be executed with Cucumber runner?","body":"<p>I am working with Selenium Webdriver with Cucumber. My tests work as expected with that combination. In order to achieve cross-browser testing, I added TestNG framework. To verify that my cross-browser test was working good, I ran it with TestNG alone, without Cucumber. It ran perfectly in both Chrome and Firefox browsers.</p>\n<pre><code>public class WebTest {\n\n\n  WebDriver driver = null;\n  BasePageWeb basePage;\n  public String browser;\n\n\n  @Parameters({ &quot;Browser&quot; })\n  public WebTest(String browser) {\n    this.browser = browser;\n  }\n\n  \n  @BeforeClass\n  public void navigateToUrl() {\n    switch (browser) {\n\n      case &quot;CHROME&quot;:\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        break;\n\n      case &quot;FF&quot;:\n        WebDriverManager.firefoxdriver().setup();\n        driver = new FirefoxDriver();\n        break;\n\n      default:\n        driver = null;\n        break;\n    }\n    driver.get(&quot;https://demosite.executeautomation.com/Login.html&quot;);\n\n  }\n\n  @Test\n  public void loginToWebApp() {\n\n    basePage = new BasePageWeb(driver);\n    basePage.enterUsername(&quot;admin&quot;)\n            .enterPassword(&quot;admin&quot;)\n            .clickLoginButton();\n\n    driver.quit();\n  }\n</code></pre>\n<p>}</p>\n<p>The testng.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n\n&lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot; thread-count=&quot;5&quot;&gt;\n\n    &lt;test name=&quot;Chrome Test&quot;&gt;\n        &lt;parameter name=&quot;Browser&quot; value=&quot;CHROME&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;tests.web.WebTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Firefox Test&quot;&gt;\n        &lt;parameter name=&quot;Browser&quot; value=&quot;FF&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;tests.web.WebTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>I needed to integrate the TestNG test with my Cucumber set-up so that I can run the whole test with Cucumber. To do this, I added cucumber-testng dependency to POM and created a Cucumber runner extending the AbstractCucumberTestNG class. I specified the location of my feature file and step definition. The step definition is mapped to the TestNG test.</p>\n<p>Cucumber runner:</p>\n<pre><code>@CucumberOptions(\n                plugin = {&quot;pretty&quot;, &quot;html:target/surefire-reports/cucumber&quot;,\n                        &quot;json:target/surefire-reports/cucumberOriginal.json&quot;},\n                glue = {&quot;stepdefinitions&quot;},\n                tags = &quot;@web-1&quot;,\n                features = {&quot;src/test/resources/features/web.feature&quot;})\n          \n   \n\n public class RunCucumberNGTest extends AbstractTestNGCucumberTests {\n    }\n</code></pre>\n<p>Step definition:</p>\n<pre><code>public class WebAppStepDefinitions {\n      private final WebTest webTest = new WebTest(&quot;CHROME&quot;); //create an object of the class holding the testng test. If I change the argument to FF, the test will run only on Firefox\n      static boolean prevScenarioFailed = false;\n    \n    \n      @Before\n      public void setUp() {\n        if (prevScenarioFailed) {\n          throw new IllegalStateException(&quot;Previous scenario failed!&quot;);\n        }\n    \n      }\n    \n      @After()\n      public void stopExecutionAfterFailure(Scenario scenario) throws Exception {\n        prevScenarioFailed = scenario.isFailed();\n      }\n    \n      @Given(&quot;^I have navigated to the web url \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n      public void navigateToUrl(String url) {  test\n        webTest.navigateToUrl(url); //calling the first method holding the testng\n      }\n    \n    \n      @When(&quot;^I log into my web account with valid credentials as specicified in (.*) and (.*)$&quot;)\n      public void logintoWebApp(String username, String password) {\n        webTest.loginToWebApp(username, password); //calling the second method holding the testng\n      }\n    }\n</code></pre>\n<p>On running the class, the test got executed only in one browser (Chrome). Somehow, Firefox got lost in the build-up. I suspect that I am calling the parameterised TestNG method wrongly from another class. How do I do the call successfully?</p>\n"},{"tags":["java","zap"],"answers":[{"tags":[],"owner":{"account_id":10470107,"reputation":1418,"user_id":7718222,"display_name":"kingthorin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686056297,"creation_date":1686056297,"answer_id":76414914,"question_id":76414828,"body_markdown":"First you need to be more clear about what you&#39;re trying to achieve. Does your plan apply only to Proxied traffic?\r\n\r\nAssuming it does:\r\n\r\nYou&#39;d need to implemented a [ProxyListener][1] and hook it:\r\n\r\n```java\r\n@Override\r\npublic void hook(ExtensionHook extensionHook) {\r\n    extensionHook.addProxyListener(getMyProxyListener());\r\n}\r\n```\r\n\r\nHowever, if you aren&#39;t set on an add-on, you can simply use a proxy script: https://github.com/zaproxy/community-scripts/tree/main/proxy\r\n\r\n  [1]: https://github.com/zaproxy/zaproxy/blob/3a17da31283ba92c7cd76f2398df590eefbbc592/zap/src/main/java/org/parosproxy/paros/core/proxy/ProxyListener.java","title":"How can I log anything when ZAP receives a communication?","body":"<p>First you need to be more clear about what you're trying to achieve. Does your plan apply only to Proxied traffic?</p>\n<p>Assuming it does:</p>\n<p>You'd need to implemented a <a href=\"https://github.com/zaproxy/zaproxy/blob/3a17da31283ba92c7cd76f2398df590eefbbc592/zap/src/main/java/org/parosproxy/paros/core/proxy/ProxyListener.java\" rel=\"nofollow noreferrer\">ProxyListener</a> and hook it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void hook(ExtensionHook extensionHook) {\n    extensionHook.addProxyListener(getMyProxyListener());\n}\n</code></pre>\n<p>However, if you aren't set on an add-on, you can simply use a proxy script: <a href=\"https://github.com/zaproxy/community-scripts/tree/main/proxy\" rel=\"nofollow noreferrer\">https://github.com/zaproxy/community-scripts/tree/main/proxy</a></p>\n"}],"owner":{"account_id":25473881,"reputation":91,"user_id":19271543,"display_name":"PyKKe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76414914,"answer_count":1,"score":-2,"last_activity_date":1686058195,"creation_date":1686055810,"question_id":76414828,"body_markdown":"I want to create a ZAP add-on which simply logs something on the console whenever a communication is received. I followed following [tutorial][1] to create a simple add-on, but now I don&#39;t know what should I do to achieve my goal.\r\n\r\n\r\n  [1]: https://www.zaproxy.org/docs/developer/creating-new-addon-in-zap-extensions/","title":"How can I log anything when ZAP receives a communication?","body":"<p>I want to create a ZAP add-on which simply logs something on the console whenever a communication is received. I followed following <a href=\"https://www.zaproxy.org/docs/developer/creating-new-addon-in-zap-extensions/\" rel=\"nofollow noreferrer\">tutorial</a> to create a simple add-on, but now I don't know what should I do to achieve my goal.</p>\n"},{"tags":["java","eclipse","fitnesse","fitnesse-slim"],"comments":[{"owner":{"account_id":5210778,"reputation":9,"user_id":4167288,"display_name":"Julie S"},"score":0,"creation_date":1413965645,"post_id":26502917,"comment_id":41637565,"body_markdown":"The format of my wiki code above (beginning with !|Create Programs) is correct, it just was skewed when posted.","body":"The format of my wiki code above (beginning with !|Create Programs) is correct, it just was skewed when posted."},{"owner":{"account_id":5210778,"reputation":9,"user_id":4167288,"display_name":"Julie S"},"score":0,"creation_date":1413965781,"post_id":26502917,"comment_id":41637648,"body_markdown":"Also using Mac OS X 10.9.4 (13E28)","body":"Also using Mac OS X 10.9.4 (13E28)"},{"owner":{"account_id":5210778,"reputation":9,"user_id":4167288,"display_name":"Julie S"},"score":0,"creation_date":1413965867,"post_id":26502917,"comment_id":41637688,"body_markdown":"In addition, I did add the class CreatePrograms.java in Eclipse under the com.om.example.dvr.fixtures package. So, that is not missing.","body":"In addition, I did add the class CreatePrograms.java in Eclipse under the com.om.example.dvr.fixtures package. So, that is not missing."}],"answers":[{"tags":[],"owner":{"account_id":5733286,"reputation":375,"user_id":4528185,"display_name":"PepsiGoose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437127726,"creation_date":1437127726,"answer_id":31473371,"question_id":26502917,"body_markdown":"try to edit the root page and define classpath and variables there: i.e. http://localhost:8090/root\r\n\r\n    #!***&gt; Classpath\r\n\r\n    !path ${java.class.path}\r\n    !define TEST_SYSTEM {slim}\r\n    !define COLLAPSE_SETUP {true}\r\n    !define COLLAPSE_TEARDOWN {true}\r\n    \r\n    #*!","title":"Could not invoke constructor for CreatePrograms[0] (FitNesse SLiM)","body":"<p>try to edit the root page and define classpath and variables there: i.e. <a href=\"http://localhost:8090/root\" rel=\"nofollow\">http://localhost:8090/root</a></p>\n\n<pre><code>#!***&gt; Classpath\n\n!path ${java.class.path}\n!define TEST_SYSTEM {slim}\n!define COLLAPSE_SETUP {true}\n!define COLLAPSE_TEARDOWN {true}\n\n#*!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3385173,"reputation":1690,"user_id":2841265,"display_name":"Xiawei Zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448887792,"creation_date":1448887792,"answer_id":33999085,"question_id":26502917,"body_markdown":"&gt; Could not invoke constructor for CreatePrograms[0]\r\n\r\nThis error tells you that the test execution cannot find the fixture code in the classpath (accumulated from `!path` statements) that it launches.\r\n \r\nIt looks like you are giving a relative path here\r\n\r\n    !path Users/Julianne/src/fitnesse-tutorials/DVR/bin/\r\n\r\nGiven that you are running on Mac OS, if you specify it without the preceding &#39;/&#39;, it becomes a relative path from the location that you launch your server. \r\n\r\nAnother thing to check is that ensure right under `.../bin` you have `com/om/example/dvr/fixtures` and the .class files are there.\r\n\r\n---\r\nOn a side note: A useful trick to check the resulted classpath for the test execution is to add the following block to somewhere on test page (or included setup page)\r\n\r\n    |script \t|java properties|\r\n    |show \t|property \t|java.class.path|","title":"Could not invoke constructor for CreatePrograms[0] (FitNesse SLiM)","body":"<blockquote>\n  <p>Could not invoke constructor for CreatePrograms[0]</p>\n</blockquote>\n\n<p>This error tells you that the test execution cannot find the fixture code in the classpath (accumulated from <code>!path</code> statements) that it launches.</p>\n\n<p>It looks like you are giving a relative path here</p>\n\n<pre><code>!path Users/Julianne/src/fitnesse-tutorials/DVR/bin/\n</code></pre>\n\n<p>Given that you are running on Mac OS, if you specify it without the preceding '/', it becomes a relative path from the location that you launch your server. </p>\n\n<p>Another thing to check is that ensure right under <code>.../bin</code> you have <code>com/om/example/dvr/fixtures</code> and the .class files are there.</p>\n\n<hr>\n\n<p>On a side note: A useful trick to check the resulted classpath for the test execution is to add the following block to somewhere on test page (or included setup page)</p>\n\n<pre><code>|script     |java properties|\n|show   |property   |java.class.path|\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6807110,"reputation":4072,"user_id":5238522,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538136946,"creation_date":1538136946,"answer_id":52555118,"question_id":26502917,"body_markdown":"For me it worked when I added the class package name in the content.txt under SetUp folder so somewhat similar structure would be there to setup classpath for the test.","title":"Could not invoke constructor for CreatePrograms[0] (FitNesse SLiM)","body":"<p>For me it worked when I added the class package name in the content.txt under SetUp folder so somewhat similar structure would be there to setup classpath for the test.</p>\n"},{"tags":[],"owner":{"account_id":6483320,"reputation":526,"user_id":5019670,"display_name":"Punit Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668600132,"creation_date":1668600132,"answer_id":74460121,"question_id":26502917,"body_markdown":"This error occurred because of missing class file or jar file in the path.\r\n\r\nTry using below in the same test page rather than in setup page or root page:\r\n\r\n    !define TEST_SYSTEM {slim}\r\n    !path target/*.jar\r\n    !path lib/*.jar\r\n\r\nwhere,\r\n\r\n`targer/*.jar` = For maven project only after `mvn clean install`.","title":"Could not invoke constructor for CreatePrograms[0] (FitNesse SLiM)","body":"<p>This error occurred because of missing class file or jar file in the path.</p>\n<p>Try using below in the same test page rather than in setup page or root page:</p>\n<pre><code>!define TEST_SYSTEM {slim}\n!path target/*.jar\n!path lib/*.jar\n</code></pre>\n<p>where,</p>\n<p><code>targer/*.jar</code> = For maven project only after <code>mvn clean install</code>.</p>\n"},{"tags":[],"owner":{"account_id":28765212,"reputation":1,"user_id":22030272,"display_name":"BRANDON JACKSON"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686058175,"creation_date":1686058073,"answer_id":76415183,"question_id":26502917,"body_markdown":"I struggled with this same error for a few days. I found that I was including too much information in my !path on the fitnesse page. I was including information which was already in my JAVA &quot;package&quot; statement.\r\n\r\nIf the class is within a package provide the path to the folder where the package starts.\r\n\r\nfor example, my CreditsForPayment.Class includes &quot;package jukebox.fixtures;&quot;.  The complete path to my class is:\r\n  C:\\Users\\Brandon\\IdeaProjects\\untitled\\out\\production\\untitled\\jukebox\\fixtures\\CreditsForPayment.Class\r\n\r\n, but in order for Fitnesse to properly find my class, I must use the path.\r\n\r\nC:\\Users\\Brandon\\Ideaprojects\\untitled\\out\\production\\untitled \r\n\r\nwith \r\n\r\n|import| \r\n\r\n|jukebox.fixtures| in my Fitnesse page.\r\n\r\nThen you can go ahead with calling the class.\r\n\r\n!|CreditsForPayment|\r\n\r\n|payment|credits?|\r\n\r\n|1|4|\r\n\r\nFrom the https://dzone.com/refcardz/getting-started-fitnesse example.","title":"Could not invoke constructor for CreatePrograms[0] (FitNesse SLiM)","body":"<p>I struggled with this same error for a few days. I found that I was including too much information in my !path on the fitnesse page. I was including information which was already in my JAVA &quot;package&quot; statement.</p>\n<p>If the class is within a package provide the path to the folder where the package starts.</p>\n<p>for example, my CreditsForPayment.Class includes &quot;package jukebox.fixtures;&quot;.  The complete path to my class is:\nC:\\Users\\Brandon\\IdeaProjects\\untitled\\out\\production\\untitled\\jukebox\\fixtures\\CreditsForPayment.Class</p>\n<p>, but in order for Fitnesse to properly find my class, I must use the path.</p>\n<p>C:\\Users\\Brandon\\Ideaprojects\\untitled\\out\\production\\untitled</p>\n<p>with</p>\n<p>|import|</p>\n<p>|jukebox.fixtures| in my Fitnesse page.</p>\n<p>Then you can go ahead with calling the class.</p>\n<p>!|CreditsForPayment|</p>\n<p>|payment|credits?|</p>\n<p>|1|4|</p>\n<p>From the <a href=\"https://dzone.com/refcardz/getting-started-fitnesse\" rel=\"nofollow noreferrer\">https://dzone.com/refcardz/getting-started-fitnesse</a> example.</p>\n"}],"owner":{"account_id":5210778,"reputation":9,"user_id":4167288,"display_name":"Julie S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11057,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1686058175,"creation_date":1413965483,"question_id":26502917,"body_markdown":"I have followed the directions from this website (https://schuchert.wikispaces.com/FitNesse.Tutorials.0.Java) to the t, however I cannot get the code on FitNesse to run clean.\r\n\r\n\r\n\r\nI am consistently getting the following exceptions:\r\n\r\n|Create Programs Could not invoke constructor for CreatePrograms[0]\r\n\r\n|House The instance decisionTable_1.setName. does not exist\r\n\r\n\r\n\r\nHere is my code. I have ensured my classpath is correct. Thank you for your time and consideration - I am very frustrated and confused with this.\r\n\r\n\r\n    !contents -R2 -g -p -f -h\r\n    !define TEST_SYSTEM {slim}\r\n    \r\n    !path fitnesse-standalone.jar\r\n    \r\n    !define COLLAPSE_SETUP {true}\r\n    !define COLLAPSE_TEARDOWN {true}\r\n    \r\n    !path Users/Julianne/src/fitnesse-tutorials/DVR/bin/\r\n    |import|\r\n    |com.om.example.dvr.fixtures|\r\n    \r\n     \r\n    !|Create Programs                                        |\r\n    |Name |Channel|DayOfWeek|TimeOfDay|DurationInMinutes|id? |\r\n    |House|4      |Monday   |19:00    |60               |$ID=|\r\n\r\n","title":"Could not invoke constructor for CreatePrograms[0] (FitNesse SLiM)","body":"<p>I have followed the directions from this website (<a href=\"https://schuchert.wikispaces.com/FitNesse.Tutorials.0.Java\" rel=\"nofollow\">https://schuchert.wikispaces.com/FitNesse.Tutorials.0.Java</a>) to the t, however I cannot get the code on FitNesse to run clean.</p>\n\n<p>I am consistently getting the following exceptions:</p>\n\n<p>|Create Programs Could not invoke constructor for CreatePrograms[0]</p>\n\n<p>|House The instance decisionTable_1.setName. does not exist</p>\n\n<p>Here is my code. I have ensured my classpath is correct. Thank you for your time and consideration - I am very frustrated and confused with this.</p>\n\n<pre><code>!contents -R2 -g -p -f -h\n!define TEST_SYSTEM {slim}\n\n!path fitnesse-standalone.jar\n\n!define COLLAPSE_SETUP {true}\n!define COLLAPSE_TEARDOWN {true}\n\n!path Users/Julianne/src/fitnesse-tutorials/DVR/bin/\n|import|\n|com.om.example.dvr.fixtures|\n\n\n!|Create Programs                                        |\n|Name |Channel|DayOfWeek|TimeOfDay|DurationInMinutes|id? |\n|House|4      |Monday   |19:00    |60               |$ID=|\n</code></pre>\n"},{"tags":["java","dynamic","implements"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1555619828,"post_id":55753372,"comment_id":98183210,"body_markdown":"Sounds like a **XY problem**. There might be way better solutions to solve what you are trying to solve with this attempt in the first place. Losing type information, degrading the system to one which is not compile-time-safe anymore is generally very bad, if it can be avoided. Consider re-thinking/-designing your approach. Just a note though, I do not know what you want to solve with that in the first place.","body":"Sounds like a <b>XY problem</b>. There might be way better solutions to solve what you are trying to solve with this attempt in the first place. Losing type information, degrading the system to one which is not compile-time-safe anymore is generally very bad, if it can be avoided. Consider re-thinking/-designing your approach. Just a note though, I do not know what you want to solve with that in the first place."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1555620665,"creation_date":1555620332,"answer_id":55753516,"question_id":55753372,"body_markdown":"## Explanation ##\r\n\r\nYou need to pass the interface as `Class` ([documentation](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html)) token. Also, you need to check the opposite way: `interfaceToTestAgainst.isInstance(classToTest)`. Currently, you are trying to check whether the interface would be an instance of the class.\r\n\r\n    boolean doesImplementInterface(Object classToTest, Class&lt;?&gt; interfaceToTestAgainst) {\r\n        if (!interfaceToTestAgainst.isInterface()) {\r\n            return false;\r\n        }\r\n        return interfaceToTestAgainst.isInstance(classToTest);\r\n    }\r\n\r\nor in one line:\r\n\r\n    boolean doesImplementInterface(Object classToTest, Class&lt;?&gt; interfaceToTestAgainst) {\r\n        return interfaceToTestAgainst.isInterface()\r\n            &amp;&amp; interfaceToTestAgainst.isInstance(classToTest);\r\n    }\r\n\r\nChanged the naming a bit:\r\n\r\n    boolean isInstanceOfInterface(Object obj, Class&lt;?&gt; interfaceToken) {\r\n        return interfaceToken.isInterface()\r\n            &amp;&amp; interfaceToken.isInstance(obj);\r\n    }\r\n\r\nA call of that method:\r\n\r\n    boolean result = isInstanceOfInterface(new Dog(), CanBark.class);\r\n\r\n----------\r\n## Note ##\r\n\r\nYour question sounds like a **XY problem**. There might be **way better solutions** to solve what you are trying to solve with this attempt in the **first place**.\r\n\r\nLosing type information, degrading the system to one which is **not compile-time-safe** anymore is generally **very bad**, if it can be avoided.\r\n\r\nConsider re-thinking/-designing your approach. Just a note though, I do not know what you want to solve with that in the first place.","title":"How to pass an interface to a method","body":"<h2>Explanation</h2>\n\n<p>You need to pass the interface as <code>Class</code> (<a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\">documentation</a>) token. Also, you need to check the opposite way: <code>interfaceToTestAgainst.isInstance(classToTest)</code>. Currently, you are trying to check whether the interface would be an instance of the class.</p>\n\n<pre><code>boolean doesImplementInterface(Object classToTest, Class&lt;?&gt; interfaceToTestAgainst) {\n    if (!interfaceToTestAgainst.isInterface()) {\n        return false;\n    }\n    return interfaceToTestAgainst.isInstance(classToTest);\n}\n</code></pre>\n\n<p>or in one line:</p>\n\n<pre><code>boolean doesImplementInterface(Object classToTest, Class&lt;?&gt; interfaceToTestAgainst) {\n    return interfaceToTestAgainst.isInterface()\n        &amp;&amp; interfaceToTestAgainst.isInstance(classToTest);\n}\n</code></pre>\n\n<p>Changed the naming a bit:</p>\n\n<pre><code>boolean isInstanceOfInterface(Object obj, Class&lt;?&gt; interfaceToken) {\n    return interfaceToken.isInterface()\n        &amp;&amp; interfaceToken.isInstance(obj);\n}\n</code></pre>\n\n<p>A call of that method:</p>\n\n<pre><code>boolean result = isInstanceOfInterface(new Dog(), CanBark.class);\n</code></pre>\n\n<hr>\n\n<h2>Note</h2>\n\n<p>Your question sounds like a <strong>XY problem</strong>. There might be <strong>way better solutions</strong> to solve what you are trying to solve with this attempt in the <strong>first place</strong>.</p>\n\n<p>Losing type information, degrading the system to one which is <strong>not compile-time-safe</strong> anymore is generally <strong>very bad</strong>, if it can be avoided.</p>\n\n<p>Consider re-thinking/-designing your approach. Just a note though, I do not know what you want to solve with that in the first place.</p>\n"},{"tags":[],"owner":{"account_id":1202807,"reputation":1243,"user_id":1173113,"accept_rate":71,"display_name":"Waqas Memon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555621553,"creation_date":1555621265,"answer_id":55753676,"question_id":55753372,"body_markdown":"You do not need to create a method for this. Simple use\r\n\r\n    boolean doesImplement = ITest.class.isAssignableFrom(Test.class)\r\n\r\nin case of instance, use instance.getClass() i.e. \r\n\r\n    boolean doesImplement = ITest.class.isAssignableForm(testObj.getClass())\r\n","title":"How to pass an interface to a method","body":"<p>You do not need to create a method for this. Simple use</p>\n\n<pre><code>boolean doesImplement = ITest.class.isAssignableFrom(Test.class)\n</code></pre>\n\n<p>in case of instance, use instance.getClass() i.e. </p>\n\n<pre><code>boolean doesImplement = ITest.class.isAssignableForm(testObj.getClass())\n</code></pre>\n"}],"owner":{"account_id":11390996,"reputation":300,"user_id":10334839,"display_name":"HomeworkHopper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1555621132,"accepted_answer_id":55753516,"answer_count":2,"score":1,"last_activity_date":1686058147,"creation_date":1555619562,"question_id":55753372,"body_markdown":"I am trying to create a function which takes two parameters - a class instance and a interface - then returns true if the provided class instance implements the provided interface. **My problem is that I cannot find a way to pass a interface as a parameter in this way.**\r\n\r\nMy attempt currently looks something like this:\r\n\r\n    interface myInterface\r\n    {\r\n    }\r\n\r\n    class myClass implements myInterface\r\n    {\r\n    }\r\n\r\n    ...\r\n\r\n    // Function to check if a class implements an interface:\r\n    boolean doesImplementInterface(object classToTest, ??? interfaceToTestAgainst)\r\n    {\r\n        if(i.getClass().isInterface())\r\n\t\t{\r\n\t\t\treturn o.getClass().isInstance(i);\r\n\t\t}\r\n\t    return false;\r\n    }\r\n\r\n    ...\r\n\r\n    // Would call the &quot;doesImplementInterface&quot; method like this:\r\n    doesImplementInterface(new myClass(), myInterface);\r\n\r\nIt might be hard to see here, but when defining the &quot;doesImplementInterface&quot; function, I cannot figure out what type the second parameter must be. I am attempting to pass the interface that the provided class will be tested against, but as far as I can find, there is no variable type that I could use to pass a interface in this way.\r\n\r\n**Is passing a interface as a parameter in this way possible, or should I begin exploring alternative options?**","title":"How to pass an interface to a method","body":"<p>I am trying to create a function which takes two parameters - a class instance and a interface - then returns true if the provided class instance implements the provided interface. <strong>My problem is that I cannot find a way to pass a interface as a parameter in this way.</strong></p>\n\n<p>My attempt currently looks something like this:</p>\n\n<pre><code>interface myInterface\n{\n}\n\nclass myClass implements myInterface\n{\n}\n\n...\n\n// Function to check if a class implements an interface:\nboolean doesImplementInterface(object classToTest, ??? interfaceToTestAgainst)\n{\n    if(i.getClass().isInterface())\n    {\n        return o.getClass().isInstance(i);\n    }\n    return false;\n}\n\n...\n\n// Would call the \"doesImplementInterface\" method like this:\ndoesImplementInterface(new myClass(), myInterface);\n</code></pre>\n\n<p>It might be hard to see here, but when defining the \"doesImplementInterface\" function, I cannot figure out what type the second parameter must be. I am attempting to pass the interface that the provided class will be tested against, but as far as I can find, there is no variable type that I could use to pass a interface in this way.</p>\n\n<p><strong>Is passing a interface as a parameter in this way possible, or should I begin exploring alternative options?</strong></p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":28727701,"reputation":21,"user_id":22000263,"display_name":"Clemthor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686057973,"creation_date":1686057973,"answer_id":76415168,"question_id":76383109,"body_markdown":"&gt; to verify I&#39;m not trying some utter nonsense here\r\n\r\nExactly that happened. The weirder the problem, the greater the probability that it&#39;s caused by oneself.\r\n\r\nThe problem was the requested timestamp was only in epoch seconds resolution, the timestamp returned in milliseconds resolution -&gt; thus the latter is of course greater, causing the problem. Please excuse any wasted time. ","title":"Why am I getting an older timestamp than specified when using KafkaConsumer.offsetsForTimes() in Java?","body":"<blockquote>\n<p>to verify I'm not trying some utter nonsense here</p>\n</blockquote>\n<p>Exactly that happened. The weirder the problem, the greater the probability that it's caused by oneself.</p>\n<p>The problem was the requested timestamp was only in epoch seconds resolution, the timestamp returned in milliseconds resolution -&gt; thus the latter is of course greater, causing the problem. Please excuse any wasted time.</p>\n"}],"owner":{"account_id":28727701,"reputation":21,"user_id":22000263,"display_name":"Clemthor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76415168,"answer_count":1,"score":2,"last_activity_date":1686057973,"creation_date":1685630628,"question_id":76383109,"body_markdown":"I&#39;m trying to re-read messages up to a specific point in time by providing the target timestamp as UTC Instant (&quot;2023-05-31T00:00:00.00Z&quot;). The selective reset however does not work, I always get returned the first offset (0) of the topic. According to the Javadoc (https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html - offsetsForTimes) I should receive the offset of the first message whose timestamp is equal or greater than the specified one: \r\n&gt; public Map&lt;TopicPartition,OffsetAndTimestamp&gt; offsetsForTimes(Map&lt;TopicPartition,Long&gt; timestampsToSearch)\r\nLook up the offsets for the given partitions by timestamp. The returned offset for each partition is the earliest offset whose timestamp is greater than or equal to the given timestamp in the corresponding partition. This is a blocking call.\r\n\r\nHowever I&#39;m getting returned a timestamp older than the specified one as well as offset 0.\r\n\r\n\r\nI&#39;m a bit reluctant to consider a bug in the Apache Kafka client, so I&#39;d like to ask for some extra pairs of eyes to verify I&#39;m not trying some utter nonsense here.\r\n\r\nFollowing is a short summary of what I did with code snippets.\r\nThe main method resets the offsets and polls for the records (and prints them to console):\r\n\r\n```\r\n resetOffsets(consumer, resetTime);\r\n\r\n        while (true) {\r\n            records = consumer.poll(timeout);\r\n\r\n```\r\n\r\nThe resetOffsets method first converts the timestamp to epoch seconds and adds it to a map for each assigned TopicPartiton (I&#39;m using only a single-partition topic for my test):\r\n\r\n```\r\nprivate static void resetOffsets(Consumer&lt;Object, Object&gt; consumer, String resetTime) {\r\n        Long resetTimeEpoch = Long.valueOf(Instant.parse(resetTime).getEpochSecond());\r\n        Map&lt;TopicPartition, Long&gt; partitionTimestamps = consumer.assignment().stream().collect(Collectors.toMap(tp -&gt; tp, tp -&gt; resetTimeEpoch));\r\n```\r\n\r\nThen I call offsetsForTimes to get the offsets for each partition and print both the argument timestamp and the resulting map to console for debugging:\r\n\r\n```\r\nMap&lt;TopicPartition, OffsetAndTimestamp&gt; resetOffsets = consumer.offsetsForTimes(partitionTimestamps);\r\n        \r\n        System.out.println(partitionTimestamps);\r\n        System.out.println(resetOffsets);\r\n```\r\n\r\nAfterwards I&#39;m seeking to that offset and process the messages in the main loop.\r\n\r\n\r\nThere are currently eight messages in the topic, five from yesterday (31.05.2023) and three from the day before yesterday (30.05.2023). So I would expect to process the five newer messages when resetting to &quot;2023-05-31T00:00:00.00Z&quot;, but I got all eight again. \r\nConsole outputs are `{replicated-topic-0=1685491200}` for `System.out.println(partitionTimestamps);` and `{replicated-topic-0=(timestamp=1685455042425, leaderEpoch=0, offset=0)}` for `System.out.println(resetOffsets);`, indicating that I call the method with the correct timestamp. I&#39;m getting an older one back though.\r\n\r\nI&#39;m at a bit of a loss here what I may be doing wrong and am grateful for any input. I can provide the full code of my small test program for reproduction if requested.","title":"Why am I getting an older timestamp than specified when using KafkaConsumer.offsetsForTimes() in Java?","body":"<p>I'm trying to re-read messages up to a specific point in time by providing the target timestamp as UTC Instant (&quot;2023-05-31T00:00:00.00Z&quot;). The selective reset however does not work, I always get returned the first offset (0) of the topic. According to the Javadoc (<a href=\"https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/31/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html</a> - offsetsForTimes) I should receive the offset of the first message whose timestamp is equal or greater than the specified one:</p>\n<blockquote>\n<p>public Map&lt;TopicPartition,OffsetAndTimestamp&gt; offsetsForTimes(Map&lt;TopicPartition,Long&gt; timestampsToSearch)\nLook up the offsets for the given partitions by timestamp. The returned offset for each partition is the earliest offset whose timestamp is greater than or equal to the given timestamp in the corresponding partition. This is a blocking call.</p>\n</blockquote>\n<p>However I'm getting returned a timestamp older than the specified one as well as offset 0.</p>\n<p>I'm a bit reluctant to consider a bug in the Apache Kafka client, so I'd like to ask for some extra pairs of eyes to verify I'm not trying some utter nonsense here.</p>\n<p>Following is a short summary of what I did with code snippets.\nThe main method resets the offsets and polls for the records (and prints them to console):</p>\n<pre><code> resetOffsets(consumer, resetTime);\n\n        while (true) {\n            records = consumer.poll(timeout);\n\n</code></pre>\n<p>The resetOffsets method first converts the timestamp to epoch seconds and adds it to a map for each assigned TopicPartiton (I'm using only a single-partition topic for my test):</p>\n<pre><code>private static void resetOffsets(Consumer&lt;Object, Object&gt; consumer, String resetTime) {\n        Long resetTimeEpoch = Long.valueOf(Instant.parse(resetTime).getEpochSecond());\n        Map&lt;TopicPartition, Long&gt; partitionTimestamps = consumer.assignment().stream().collect(Collectors.toMap(tp -&gt; tp, tp -&gt; resetTimeEpoch));\n</code></pre>\n<p>Then I call offsetsForTimes to get the offsets for each partition and print both the argument timestamp and the resulting map to console for debugging:</p>\n<pre><code>Map&lt;TopicPartition, OffsetAndTimestamp&gt; resetOffsets = consumer.offsetsForTimes(partitionTimestamps);\n        \n        System.out.println(partitionTimestamps);\n        System.out.println(resetOffsets);\n</code></pre>\n<p>Afterwards I'm seeking to that offset and process the messages in the main loop.</p>\n<p>There are currently eight messages in the topic, five from yesterday (31.05.2023) and three from the day before yesterday (30.05.2023). So I would expect to process the five newer messages when resetting to &quot;2023-05-31T00:00:00.00Z&quot;, but I got all eight again.\nConsole outputs are <code>{replicated-topic-0=1685491200}</code> for <code>System.out.println(partitionTimestamps);</code> and <code>{replicated-topic-0=(timestamp=1685455042425, leaderEpoch=0, offset=0)}</code> for <code>System.out.println(resetOffsets);</code>, indicating that I call the method with the correct timestamp. I'm getting an older one back though.</p>\n<p>I'm at a bit of a loss here what I may be doing wrong and am grateful for any input. I can provide the full code of my small test program for reproduction if requested.</p>\n"},{"tags":["java","functional-programming","vavr"],"answers":[{"tags":[],"owner":{"account_id":3216552,"reputation":2553,"user_id":2715083,"accept_rate":57,"display_name":"Somjit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621164144,"creation_date":1621164144,"answer_id":67556075,"question_id":67555913,"body_markdown":"A simple way of handling the exceptions on the &quot;side track&quot; is by using the `peekleft` method Vavr provides, which consumes the `Either.Left()` side. We can plug our exception processing logic in there, and leave our `Either.right()` stuff nicely on the main track without any ugliness.\r\n\r\nI am pretty sure this can be improved, and would love ideas on improving this.\r\n\r\n\r\n\r\n```java\r\nList&lt;String&gt; errors = new ArrayList&lt;&gt;();\r\n\r\n@Test\r\npublic void composeExceptions() {\r\n\r\n    List&lt;Integer&gt; valids = IntStream.range(0, 11).boxed()\r\n            .map(this::validate)             // throws exceptions\r\n            .peek(this::handleExceptions)    // process left/exceptions on the side\r\n            .flatMap(Value::toJavaStream)    // flatmap is right based\r\n            .collect(Collectors.toList());\r\n\r\n    System.out.println(&quot;========= Good ones =========&quot;);\r\n    System.out.println(valids);\r\n    System.out.println(&quot;========= Bad Ones =========&quot;);\r\n    errors.forEach(System.out::println);\r\n\r\n}\r\n\r\npublic void handleExceptions(Either&lt;IllegalArgumentException, Integer&gt; either) {\r\n    either.peekLeft(e -&gt; errors.add(e.getMessage())); // is this a monadic bind ???\r\n}\r\n\r\npublic Either&lt;IllegalArgumentException, Integer&gt; validate(Integer i) {\r\n    if (i % 2 == 0) return Either.right(i);\r\n    return Either.left(new IllegalArgumentException(&quot;odd one&#39;s out : &quot; + i));\r\n}\r\n```","title":"Exception handling in streams with Either","body":"<p>A simple way of handling the exceptions on the &quot;side track&quot; is by using the <code>peekleft</code> method Vavr provides, which consumes the <code>Either.Left()</code> side. We can plug our exception processing logic in there, and leave our <code>Either.right()</code> stuff nicely on the main track without any ugliness.</p>\n<p>I am pretty sure this can be improved, and would love ideas on improving this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; errors = new ArrayList&lt;&gt;();\n\n@Test\npublic void composeExceptions() {\n\n    List&lt;Integer&gt; valids = IntStream.range(0, 11).boxed()\n            .map(this::validate)             // throws exceptions\n            .peek(this::handleExceptions)    // process left/exceptions on the side\n            .flatMap(Value::toJavaStream)    // flatmap is right based\n            .collect(Collectors.toList());\n\n    System.out.println(&quot;========= Good ones =========&quot;);\n    System.out.println(valids);\n    System.out.println(&quot;========= Bad Ones =========&quot;);\n    errors.forEach(System.out::println);\n\n}\n\npublic void handleExceptions(Either&lt;IllegalArgumentException, Integer&gt; either) {\n    either.peekLeft(e -&gt; errors.add(e.getMessage())); // is this a monadic bind ???\n}\n\npublic Either&lt;IllegalArgumentException, Integer&gt; validate(Integer i) {\n    if (i % 2 == 0) return Either.right(i);\n    return Either.left(new IllegalArgumentException(&quot;odd one's out : &quot; + i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686057698,"creation_date":1621511095,"answer_id":67619699,"question_id":67555913,"body_markdown":"[Somjit&#39;s][1] answer shows correct approach however it uses an outer variable (`errors`) to accumulate the errors. This is, in general, discouraged since we should avoid the global/external state.\r\n\r\nYou can use vavr&#39;s [`partition`][2] method to split the stream into two: one with errors and one with validated ints. They are both put into a tuple:\r\n\r\n```\r\npublic void composeExceptions() {\r\n   final Tuple2&lt;Stream&lt;Either&lt;IllegalArgumentException, Integer&gt;&gt;, Stream&lt;Either&lt;IllegalArgumentException, Integer&gt;&gt;&gt; both = Stream.range(1, 11)\r\n            .map(this::validate)\r\n            .partition(Either::isLeft);\r\n\r\n   both._1.map(Either::getLeft).forEach(e -&gt; System.out.println(&quot;Got error: &quot; + e.getMessage()));\r\n   both._2.map(Either::get).forEach(i -&gt; System.out.println(&quot;Validated correctly: &quot; + i));\r\n}\r\n```\r\n**EDIT**\r\nActually there also other options like:\r\n```\r\nStream\r\n   .range(1, 11)\r\n   .map(this::validate)\r\n   .toJavaStream()\r\n   .collect(Collectors.teeing(\r\n      Collectors.filtering(Either::isLeft, toList()),\r\n      Collectors.filtering(Either::isRight, toList()),\r\n      (errors, ints) -&gt; new Tuple2&lt;&gt;(errors.stream().map(Either::getLeft), ints.stream().map(Either::get))));\r\n```\r\nwhich uses `teeing` which is quite interesting collector from java API. Unfortunately it mixes vavr and java API which is not great, not terrible.\r\n\r\nAnd:\r\n```\r\nStream\r\n   .range(1, 11)\r\n   .map(this::validate)\r\n   .collect(\r\n      () -&gt; new Tuple2&lt;&gt;(List.&lt;RuntimeException&gt;empty().asJavaMutable(), List.&lt;Integer&gt;empty().asJavaMutable()),\r\n      (tuple, either) -&gt; {\r\n         either.peekLeft(tuple._1::add);\r\n         either.peek(tuple._2::add);\r\n      },\r\n      (t1, t2) -&gt; {\r\n         t1._1.addAll(t2._1);\r\n         t1._2.addAll(t2._2);\r\n      }\r\n    )\r\n       .map((exceptions, integers) -&gt; new Tuple2&lt;&gt;(List.ofAll(exceptions), List.ofAll(integers)));\r\n```\r\n\r\nwhich uses vavr API only but underneath uses java `List` since a mutable structure is required here.\r\n\r\n\r\n[1]: https://stackoverflow.com/a/67556075/542270\r\n[2]: https://www.javadoc.io/doc/io.vavr/vavr/latest/io/vavr/collection/Traversable.html#partition(java.util.function.Predicate)","title":"Exception handling in streams with Either","body":"<p><a href=\"https://stackoverflow.com/a/67556075/542270\">Somjit's</a> answer shows correct approach however it uses an outer variable (<code>errors</code>) to accumulate the errors. This is, in general, discouraged since we should avoid the global/external state.</p>\n<p>You can use vavr's <a href=\"https://www.javadoc.io/doc/io.vavr/vavr/latest/io/vavr/collection/Traversable.html#partition(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>partition</code></a> method to split the stream into two: one with errors and one with validated ints. They are both put into a tuple:</p>\n<pre><code>public void composeExceptions() {\n   final Tuple2&lt;Stream&lt;Either&lt;IllegalArgumentException, Integer&gt;&gt;, Stream&lt;Either&lt;IllegalArgumentException, Integer&gt;&gt;&gt; both = Stream.range(1, 11)\n            .map(this::validate)\n            .partition(Either::isLeft);\n\n   both._1.map(Either::getLeft).forEach(e -&gt; System.out.println(&quot;Got error: &quot; + e.getMessage()));\n   both._2.map(Either::get).forEach(i -&gt; System.out.println(&quot;Validated correctly: &quot; + i));\n}\n</code></pre>\n<p><strong>EDIT</strong>\nActually there also other options like:</p>\n<pre><code>Stream\n   .range(1, 11)\n   .map(this::validate)\n   .toJavaStream()\n   .collect(Collectors.teeing(\n      Collectors.filtering(Either::isLeft, toList()),\n      Collectors.filtering(Either::isRight, toList()),\n      (errors, ints) -&gt; new Tuple2&lt;&gt;(errors.stream().map(Either::getLeft), ints.stream().map(Either::get))));\n</code></pre>\n<p>which uses <code>teeing</code> which is quite interesting collector from java API. Unfortunately it mixes vavr and java API which is not great, not terrible.</p>\n<p>And:</p>\n<pre><code>Stream\n   .range(1, 11)\n   .map(this::validate)\n   .collect(\n      () -&gt; new Tuple2&lt;&gt;(List.&lt;RuntimeException&gt;empty().asJavaMutable(), List.&lt;Integer&gt;empty().asJavaMutable()),\n      (tuple, either) -&gt; {\n         either.peekLeft(tuple._1::add);\n         either.peek(tuple._2::add);\n      },\n      (t1, t2) -&gt; {\n         t1._1.addAll(t2._1);\n         t1._2.addAll(t2._2);\n      }\n    )\n       .map((exceptions, integers) -&gt; new Tuple2&lt;&gt;(List.ofAll(exceptions), List.ofAll(integers)));\n</code></pre>\n<p>which uses vavr API only but underneath uses java <code>List</code> since a mutable structure is required here.</p>\n"},{"tags":[],"owner":{"account_id":2202851,"reputation":1,"user_id":1946808,"display_name":"remyvrs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685752794,"creation_date":1685660161,"answer_id":76386185,"question_id":67555913,"body_markdown":"I also was fascinated by the presentation pointed out. I will add here some part of the code that I am using for handling checked exception (for these purposes I recommend taking a look at this presentation : \r\n[Exception Handling in Functional and Reactive Programming by Venkat Subramaniam][1] )\r\n\r\nFirst of all this is how I call it :\r\n```\r\nimport static Monader.fnMaybeToMaybe;\r\nimport static Monader.fnOnValue;\r\nimport static Monader.fnValueToMaybe;\r\n\r\nimport java.util.List;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class RailTrackRunner {\r\n\r\n\t@Test\r\n\tpublic void goingThruSomeClassNames() {\r\n\r\n\t\tList&lt;String&gt; classNames = List.of(\r\n\t\t\t\t&quot;lombok.Getter&quot;,\r\n\t\t\t\t&quot;java.util.concurrent.ConcurrentLinkedQueue&quot;,\r\n\t\t\t\t&quot;dummy.vrs.invalid&quot;,\r\n\t\t\t\t&quot;lombok.extern.slf4j.Slf4j&quot;);\r\n\r\n\t\tSystem.out.println(&quot;\\nV1&quot;);\r\n\r\n\t\tclassNames.stream()\r\n\t\t\t\t.map(Maybe::ofValue)\r\n\t\t\t\t.map(fnMaybeToMaybe(Class::forName)) // throws ClassNotFoundException\r\n\t\t\t\t.map(fnOnValue(Class::getSimpleName))\r\n\t\t\t\t.forEach(System.out::println);\r\n\r\n\t\tSystem.out.println(&quot;\\nV2&quot;);\r\n\r\n\t\tclassNames.stream()\r\n\t\t\t\t.map(fnValueToMaybe(Class::forName)) // throws ClassNotFoundException\r\n\t\t\t\t.map(fnOnValue(Class::getSimpleName))\r\n\t\t\t\t.forEach(System.out::println);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nand the necessary pieces are these:\r\n```\r\n@FunctionalInterface\r\npublic interface ExceptionThrower&lt;T, R, EX extends Exception&gt; {\r\n\r\n\tR apply(T t) throws EX;\r\n\r\n}\r\n\r\n----- ----- ----- ----- ----- ----- \r\n\r\nimport lombok.NonNull;\r\nimport lombok.Value;\r\n\r\n@Value\r\npublic class Maybe&lt;VAL, EXC extends Exception&gt; {\r\n\r\n\tpublic static &lt;STVAL, STEXC extends Exception&gt; Maybe&lt;STVAL, STEXC&gt; ofValue(@NonNull STVAL out) {\r\n\t\treturn new Maybe&lt;STVAL, STEXC&gt;(out, null);\r\n\t}\r\n\r\n\tpublic static &lt;STVAL, STEXC extends Exception&gt; Maybe&lt;STVAL, STEXC&gt; ofExc(@NonNull STEXC exc) {\r\n\t\treturn new Maybe&lt;STVAL, STEXC&gt;(null, exc);\r\n\t}\r\n\r\n\tprivate VAL value;\r\n\tprivate EXC exc;\r\n\r\n\tprivate Maybe(VAL value, EXC exc) {\r\n\t\tthis.value = value;\r\n\t\tthis.exc = exc;\r\n\t\tif (!(hasValue() ^ hasException()))\r\n\t\t\tthrow new IllegalArgumentException(&quot;Invalid state for Maybe&quot;);\r\n\t}\r\n\r\n\tpublic boolean hasValue() {\r\n\t\treturn value != null;\r\n\t}\r\n\r\n\tpublic boolean hasException() {\r\n\t\treturn exc != null;\r\n\t}\r\n\r\n}\r\n\r\n----- ----- ----- ----- ----- ----- \r\n\r\nimport java.util.function.Function;\r\n\r\npublic class Monader&lt;IN, OUT, EX extends Exception&gt; {\r\n\r\n\tpublic static &lt;IN, OUT, EX extends Exception&gt; Function&lt;Maybe&lt;IN, EX&gt;, Maybe&lt;OUT, EX&gt;&gt; fnOnValue(Function&lt;IN, OUT&gt; simpleValueFunction) {\r\n\t\treturn maybeIn -&gt; {\r\n\t\t\tif (maybeIn.hasValue()) {\r\n\t\t\t\tOUT outValue = simpleValueFunction.apply(maybeIn.getValue());\r\n\t\t\t\treturn Maybe.ofValue(outValue);\r\n\t\t\t} else // maybeIn.hasException()\r\n\t\t\t\treturn Maybe.ofExc(maybeIn.getExc());\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static &lt;IN, OUT, EX extends Exception&gt; Function&lt;Maybe&lt;IN, EX&gt;, Maybe&lt;OUT, EX&gt;&gt; fnMaybeToMaybe(ExceptionThrower&lt;IN, OUT, EX&gt; exceptionThrower) {\r\n\t\treturn maybeIn -&gt; {\r\n\t\t\tif (maybeIn.hasValue())\r\n\t\t\t\treturn executeThrower(exceptionThrower, maybeIn.getValue());\r\n\t\t\telse // maybeIn.hasException()\r\n\t\t\t\treturn Maybe.ofExc(maybeIn.getExc());\r\n\t\t};\r\n\t}\r\n\r\n\tpublic static &lt;IN, OUT, EX extends Exception&gt; Function&lt;IN, Maybe&lt;OUT, EX&gt;&gt; fnValueToMaybe(ExceptionThrower&lt;IN, OUT, EX&gt; exceptionThrower) {\r\n\t\treturn in -&gt; executeThrower(exceptionThrower, in);\r\n\t}\r\n\r\n\tprivate static &lt;IN, OUT, EX extends Exception&gt; Maybe&lt;OUT, EX&gt; executeThrower(ExceptionThrower&lt;IN, OUT, EX&gt; exceptionThrower, IN in) {\r\n\t\ttry {\r\n\t\t\tOUT out = exceptionThrower.apply(in);\r\n\t\t\treturn Maybe.ofValue(out);\r\n\t\t} catch (RuntimeException rexc) {\r\n\t\t\tthrow rexc;\r\n\t\t} catch (Exception exc) {\r\n\t\t\ttry {\r\n\t\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\t\tEX castedEsc = (EX) exc;\r\n\t\t\t\treturn Maybe.ofExc(castedEsc);\r\n\t\t\t} catch (ClassCastException cce) {\r\n\t\t\t\tthrow new RuntimeException(exc);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n  [1]: https://youtu.be/S5tLVsvbHBg","title":"Exception handling in streams with Either","body":"<p>I also was fascinated by the presentation pointed out. I will add here some part of the code that I am using for handling checked exception (for these purposes I recommend taking a look at this presentation :\n<a href=\"https://youtu.be/S5tLVsvbHBg\" rel=\"nofollow noreferrer\">Exception Handling in Functional and Reactive Programming by Venkat Subramaniam</a> )</p>\n<p>First of all this is how I call it :</p>\n<pre><code>import static Monader.fnMaybeToMaybe;\nimport static Monader.fnOnValue;\nimport static Monader.fnValueToMaybe;\n\nimport java.util.List;\n\nimport org.junit.jupiter.api.Test;\n\npublic class RailTrackRunner {\n\n    @Test\n    public void goingThruSomeClassNames() {\n\n        List&lt;String&gt; classNames = List.of(\n                &quot;lombok.Getter&quot;,\n                &quot;java.util.concurrent.ConcurrentLinkedQueue&quot;,\n                &quot;dummy.vrs.invalid&quot;,\n                &quot;lombok.extern.slf4j.Slf4j&quot;);\n\n        System.out.println(&quot;\\nV1&quot;);\n\n        classNames.stream()\n                .map(Maybe::ofValue)\n                .map(fnMaybeToMaybe(Class::forName)) // throws ClassNotFoundException\n                .map(fnOnValue(Class::getSimpleName))\n                .forEach(System.out::println);\n\n        System.out.println(&quot;\\nV2&quot;);\n\n        classNames.stream()\n                .map(fnValueToMaybe(Class::forName)) // throws ClassNotFoundException\n                .map(fnOnValue(Class::getSimpleName))\n                .forEach(System.out::println);\n\n    }\n\n}\n</code></pre>\n<p>and the necessary pieces are these:</p>\n<pre><code>@FunctionalInterface\npublic interface ExceptionThrower&lt;T, R, EX extends Exception&gt; {\n\n    R apply(T t) throws EX;\n\n}\n\n----- ----- ----- ----- ----- ----- \n\nimport lombok.NonNull;\nimport lombok.Value;\n\n@Value\npublic class Maybe&lt;VAL, EXC extends Exception&gt; {\n\n    public static &lt;STVAL, STEXC extends Exception&gt; Maybe&lt;STVAL, STEXC&gt; ofValue(@NonNull STVAL out) {\n        return new Maybe&lt;STVAL, STEXC&gt;(out, null);\n    }\n\n    public static &lt;STVAL, STEXC extends Exception&gt; Maybe&lt;STVAL, STEXC&gt; ofExc(@NonNull STEXC exc) {\n        return new Maybe&lt;STVAL, STEXC&gt;(null, exc);\n    }\n\n    private VAL value;\n    private EXC exc;\n\n    private Maybe(VAL value, EXC exc) {\n        this.value = value;\n        this.exc = exc;\n        if (!(hasValue() ^ hasException()))\n            throw new IllegalArgumentException(&quot;Invalid state for Maybe&quot;);\n    }\n\n    public boolean hasValue() {\n        return value != null;\n    }\n\n    public boolean hasException() {\n        return exc != null;\n    }\n\n}\n\n----- ----- ----- ----- ----- ----- \n\nimport java.util.function.Function;\n\npublic class Monader&lt;IN, OUT, EX extends Exception&gt; {\n\n    public static &lt;IN, OUT, EX extends Exception&gt; Function&lt;Maybe&lt;IN, EX&gt;, Maybe&lt;OUT, EX&gt;&gt; fnOnValue(Function&lt;IN, OUT&gt; simpleValueFunction) {\n        return maybeIn -&gt; {\n            if (maybeIn.hasValue()) {\n                OUT outValue = simpleValueFunction.apply(maybeIn.getValue());\n                return Maybe.ofValue(outValue);\n            } else // maybeIn.hasException()\n                return Maybe.ofExc(maybeIn.getExc());\n        };\n    }\n\n    public static &lt;IN, OUT, EX extends Exception&gt; Function&lt;Maybe&lt;IN, EX&gt;, Maybe&lt;OUT, EX&gt;&gt; fnMaybeToMaybe(ExceptionThrower&lt;IN, OUT, EX&gt; exceptionThrower) {\n        return maybeIn -&gt; {\n            if (maybeIn.hasValue())\n                return executeThrower(exceptionThrower, maybeIn.getValue());\n            else // maybeIn.hasException()\n                return Maybe.ofExc(maybeIn.getExc());\n        };\n    }\n\n    public static &lt;IN, OUT, EX extends Exception&gt; Function&lt;IN, Maybe&lt;OUT, EX&gt;&gt; fnValueToMaybe(ExceptionThrower&lt;IN, OUT, EX&gt; exceptionThrower) {\n        return in -&gt; executeThrower(exceptionThrower, in);\n    }\n\n    private static &lt;IN, OUT, EX extends Exception&gt; Maybe&lt;OUT, EX&gt; executeThrower(ExceptionThrower&lt;IN, OUT, EX&gt; exceptionThrower, IN in) {\n        try {\n            OUT out = exceptionThrower.apply(in);\n            return Maybe.ofValue(out);\n        } catch (RuntimeException rexc) {\n            throw rexc;\n        } catch (Exception exc) {\n            try {\n                @SuppressWarnings(&quot;unchecked&quot;)\n                EX castedEsc = (EX) exc;\n                return Maybe.ofExc(castedEsc);\n            } catch (ClassCastException cce) {\n                throw new RuntimeException(exc);\n            }\n        }\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":3216552,"reputation":2553,"user_id":2715083,"accept_rate":57,"display_name":"Somjit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67619699,"answer_count":3,"score":3,"last_activity_date":1686057698,"creation_date":1621163236,"question_id":67555913,"body_markdown":"### Background\r\n\r\nI have been fascinated with [Scott WLaschin&#39;s Railway Oriented Programming][1] model of handling exceptions: have a side channel, where all the bad stuff will be processed, and keep the good stuff on the main track. Picture below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n### Problem\r\n\r\nA common pattern that comes up in daily code is like :\r\n\r\n- Have a list of data\r\n- Validate each one of them\r\n- The validation can throw exceptions\r\n\r\n### Question\r\n\r\nHow to do this in a way that resembles the railway-oriented model discussed above.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=srQt1NAHYC0\r\n  [2]: https://i.stack.imgur.com/KwDc2.png","title":"Exception handling in streams with Either","body":"<h3>Background</h3>\n<p>I have been fascinated with <a href=\"https://www.youtube.com/watch?v=srQt1NAHYC0\" rel=\"nofollow noreferrer\">Scott WLaschin's Railway Oriented Programming</a> model of handling exceptions: have a side channel, where all the bad stuff will be processed, and keep the good stuff on the main track. Picture below:</p>\n<p><a href=\"https://i.stack.imgur.com/KwDc2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KwDc2.png\" alt=\"enter image description here\" /></a></p>\n<h3>Problem</h3>\n<p>A common pattern that comes up in daily code is like :</p>\n<ul>\n<li>Have a list of data</li>\n<li>Validate each one of them</li>\n<li>The validation can throw exceptions</li>\n</ul>\n<h3>Question</h3>\n<p>How to do this in a way that resembles the railway-oriented model discussed above.</p>\n"},{"tags":["java","enums","static","annotations"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686057063,"creation_date":1686057063,"answer_id":76415029,"question_id":76414974,"body_markdown":"The compiler doesn&#39;t know that the value in your enum is a constant. However, there&#39;s a workaround: You can make the enum value a constant itself:\r\n\r\n```\r\npublic enum ErrorMessages {\r\n  NO_USER(NO_USER_CODE, &quot;User not found&quot;),\r\n  // etc\r\n  ;\r\n\r\n  public static final int NO_USER_CODE = 1004;\r\n  // etc\r\n}\r\n```\r\n\r\nThen refer to the constant in your annotation:\r\n\r\n```\r\n  @JsonRpcErrors(@JsonRpcError(exception = UserNotFoundException.class, code = ErrorMessages.NO_USER_CODE))\r\n```\r\n\r\nIf you have control over the annotation, you could pass the enum itself instead, and do the code/message lookup at runtime.","title":"How to use an enum field in annotations in java","body":"<p>The compiler doesn't know that the value in your enum is a constant. However, there's a workaround: You can make the enum value a constant itself:</p>\n<pre><code>public enum ErrorMessages {\n  NO_USER(NO_USER_CODE, &quot;User not found&quot;),\n  // etc\n  ;\n\n  public static final int NO_USER_CODE = 1004;\n  // etc\n}\n</code></pre>\n<p>Then refer to the constant in your annotation:</p>\n<pre><code>  @JsonRpcErrors(@JsonRpcError(exception = UserNotFoundException.class, code = ErrorMessages.NO_USER_CODE))\n</code></pre>\n<p>If you have control over the annotation, you could pass the enum itself instead, and do the code/message lookup at runtime.</p>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686057596,"creation_date":1686057596,"answer_id":76415105,"question_id":76414974,"body_markdown":"You can move the int codes to a separate class:\r\n\r\n    public static class ErrorMessagesValues {\r\n        public static final int NO_USER_CODE = 1004;\r\n        public static final int UNKNOWN_MODULE_CODE = 1006;\r\n        public static final int INCORRECT_DATE_CODE = 1009;\r\n    }\r\n\r\nthen refer to those constants in both the enum:\r\n\r\n    public enum ErrorMessages {\r\n        NO_USER(ErrorMessagesValues.NO_USER_CODE, &quot;User not found&quot;),\r\n        UNKNOWN_MODULE(ErrorMessagesValues.UNKNOWN_MODULE_CODE, &quot;Module unknown&quot;),\r\n        INCORRECT_DATE(ErrorMessagesValues.INCORRECT_DATE_CODE, &quot;Incorrect date&quot;);\r\n\r\n        ...\r\n    }\r\n\r\nand the annotation:\r\n\r\n    @JsonRpcMethod(&quot;MyMethod&quot;)\r\n    @JsonRpcErrors(@JsonRpcError(exception = UserNotFoundException.class, code = ErrorMessagesValues.NO_USER_CODE))","title":"How to use an enum field in annotations in java","body":"<p>You can move the int codes to a separate class:</p>\n<pre><code>public static class ErrorMessagesValues {\n    public static final int NO_USER_CODE = 1004;\n    public static final int UNKNOWN_MODULE_CODE = 1006;\n    public static final int INCORRECT_DATE_CODE = 1009;\n}\n</code></pre>\n<p>then refer to those constants in both the enum:</p>\n<pre><code>public enum ErrorMessages {\n    NO_USER(ErrorMessagesValues.NO_USER_CODE, &quot;User not found&quot;),\n    UNKNOWN_MODULE(ErrorMessagesValues.UNKNOWN_MODULE_CODE, &quot;Module unknown&quot;),\n    INCORRECT_DATE(ErrorMessagesValues.INCORRECT_DATE_CODE, &quot;Incorrect date&quot;);\n\n    ...\n}\n</code></pre>\n<p>and the annotation:</p>\n<pre><code>@JsonRpcMethod(&quot;MyMethod&quot;)\n@JsonRpcErrors(@JsonRpcError(exception = UserNotFoundException.class, code = ErrorMessagesValues.NO_USER_CODE))\n</code></pre>\n"}],"owner":{"account_id":15991650,"reputation":33,"user_id":11540681,"display_name":"r2r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686057596,"creation_date":1686056787,"question_id":76414974,"body_markdown":"I have my own ErrorMessages enum, simply:\r\n\r\n```\r\npublic enum ErrorMessages {\r\n  NO_USER(1004, &quot;User not found&quot;),\r\n  UNKNOWN_MODULE(1006, &quot;Module unknown&quot;),\r\n  INCORRECT_DATE(1009, &quot;Incorrect date&quot;);\r\n\r\n  public final int code;\r\n  private final String messageEng;\r\n\r\n  ErrorMessages(int code, String messageEng) {\r\n    this.code = code;\r\n    this.messageEng = messageEng;\r\n  }\r\n\r\n  public int getCode() {\r\n    return code;\r\n  }\r\n\r\n  public String getMessageEng() {\r\n    return messageEng;\r\n  }\r\n}\r\n```\r\n\r\nAnd want to pass the error code to my json-rpc api method as follows:\r\n\r\n```\r\n@JsonRpcMethod(&quot;MyMethod&quot;)\r\n  @JsonRpcErrors(@JsonRpcError(exception = UserNotFoundException.class, code = ErrorMessages.NO_USER.getCode()))\r\n  boolean myMethod(\r\n      @JsonRpcParam(&quot;userId&quot;) Integer userId, @JsonRpcParam(&quot;apiKey&quot;) String apiKey)\r\n      throws UserNotFoundException;\r\n```\r\nBut I get error `Attribute value must be constant`.\r\nI know that values should be passed to annotations on compile time, but i thought it is already known in my case.\r\nIs there any way to pass the error&#39;s code there by getting from ErrorMessages enum? It would be quite stupid to hardcode the code numbers, having them already declared.\r\n\r\n\r\nI&#39;ve tried to apply some suggestions from threads in sof i found but failed. There was one way to rewrite enum to an interface, but i&#39;d like to avoide it","title":"How to use an enum field in annotations in java","body":"<p>I have my own ErrorMessages enum, simply:</p>\n<pre><code>public enum ErrorMessages {\n  NO_USER(1004, &quot;User not found&quot;),\n  UNKNOWN_MODULE(1006, &quot;Module unknown&quot;),\n  INCORRECT_DATE(1009, &quot;Incorrect date&quot;);\n\n  public final int code;\n  private final String messageEng;\n\n  ErrorMessages(int code, String messageEng) {\n    this.code = code;\n    this.messageEng = messageEng;\n  }\n\n  public int getCode() {\n    return code;\n  }\n\n  public String getMessageEng() {\n    return messageEng;\n  }\n}\n</code></pre>\n<p>And want to pass the error code to my json-rpc api method as follows:</p>\n<pre><code>@JsonRpcMethod(&quot;MyMethod&quot;)\n  @JsonRpcErrors(@JsonRpcError(exception = UserNotFoundException.class, code = ErrorMessages.NO_USER.getCode()))\n  boolean myMethod(\n      @JsonRpcParam(&quot;userId&quot;) Integer userId, @JsonRpcParam(&quot;apiKey&quot;) String apiKey)\n      throws UserNotFoundException;\n</code></pre>\n<p>But I get error <code>Attribute value must be constant</code>.\nI know that values should be passed to annotations on compile time, but i thought it is already known in my case.\nIs there any way to pass the error's code there by getting from ErrorMessages enum? It would be quite stupid to hardcode the code numbers, having them already declared.</p>\n<p>I've tried to apply some suggestions from threads in sof i found but failed. There was one way to rewrite enum to an interface, but i'd like to avoide it</p>\n"},{"tags":["java","android","reactjs","react-native","kotlin"],"owner":{"account_id":24431852,"reputation":242,"user_id":18356681,"display_name":"heet kanabar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686057157,"creation_date":1686057157,"question_id":76415043,"body_markdown":"I have an app where I have to play audio in earpiece of phone and I tried some code but I could not able to play sound in earpiece. There was no sound was playing in earpiece can you help me with that?\r\n\r\n**Note:-** The code here is for react-native app and below module is native module of app.\r\n\r\n**Here is my code**\r\n\r\n    package com.modules;\r\n\r\n    import android.content.Context;\r\n    import android.media.AudioManager;\r\n    import android.media.MediaPlayer;\r\n    import android.net.Uri;\r\n    import androidx.annotation.NonNull;\r\n    import com.facebook.react.bridge.ReactContext;\r\n    import com.facebook.react.bridge.ReactContextBaseJavaModule;\r\n    import com.facebook.react.bridge.ReactMethod;\r\n\r\n    public class EarpieceModule extends ReactContextBaseJavaModule {\r\n        @NonNull\r\n        @Override\r\n        public String getName(\r\n        ) {\r\n            return &quot;Earpiece Module&quot;;\r\n        }\r\n\r\n    private final ReactContext context;\r\n    MediaPlayer mediaPlayer;\r\n\r\n    public EarpieceModule(ReactContext context){\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    @ReactMethod\r\n    public void playWithMedia(String path){\r\n\r\n        boolean isPlaying = false;\r\n        if (!isPlaying) {\r\n            try {\r\n                AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\r\n                mediaPlayer = new MediaPlayer();\r\n                mediaPlayer.setDataSource(getReactApplicationContext(), Uri.parse(path));\r\n                audioManager.setMode(AudioManager.MODE_IN_CALL);\r\n                audioManager.setSpeakerphoneOn(false);\r\n                mediaPlayer.prepareAsync();\r\n                mediaPlayer.start();\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    @ReactMethod\r\n    public void stopMedia() {\r\n        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n            mediaPlayer.stop();\r\n            mediaPlayer.reset();\r\n            mediaPlayer.release();\r\n            mediaPlayer = null;\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"how to play audio in earpiece in Kotlin/Java?","body":"<p>I have an app where I have to play audio in earpiece of phone and I tried some code but I could not able to play sound in earpiece. There was no sound was playing in earpiece can you help me with that?</p>\n<p><strong>Note:-</strong> The code here is for react-native app and below module is native module of app.</p>\n<p><strong>Here is my code</strong></p>\n<pre><code>package com.modules;\n\nimport android.content.Context;\nimport android.media.AudioManager;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport androidx.annotation.NonNull;\nimport com.facebook.react.bridge.ReactContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\n\npublic class EarpieceModule extends ReactContextBaseJavaModule {\n    @NonNull\n    @Override\n    public String getName(\n    ) {\n        return &quot;Earpiece Module&quot;;\n    }\n\nprivate final ReactContext context;\nMediaPlayer mediaPlayer;\n\npublic EarpieceModule(ReactContext context){\n    this.context = context;\n}\n\n\n@ReactMethod\npublic void playWithMedia(String path){\n\n    boolean isPlaying = false;\n    if (!isPlaying) {\n        try {\n            AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\n            mediaPlayer = new MediaPlayer();\n            mediaPlayer.setDataSource(getReactApplicationContext(), Uri.parse(path));\n            audioManager.setMode(AudioManager.MODE_IN_CALL);\n            audioManager.setSpeakerphoneOn(false);\n            mediaPlayer.prepareAsync();\n            mediaPlayer.start();\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n\n@ReactMethod\npublic void stopMedia() {\n    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n        mediaPlayer.stop();\n        mediaPlayer.reset();\n        mediaPlayer.release();\n        mediaPlayer = null;\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","mybatis-plus"],"owner":{"account_id":28755275,"reputation":13,"user_id":22022439,"display_name":"Cody Qi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686056777,"creation_date":1686056777,"question_id":76414972,"body_markdown":"When I run my project, and input `http://localhost:8090/list` ,I got a Whitelabel Error Page. Meanwhile, appeared the following error message in my backend console:\r\n\r\n```\r\norg.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.wms.wms.mapper.UserMapper.listAll\r\n\tat com.baomidou.mybatisplus.core.override.MybatisMapperMethod$SqlCommand.&lt;init&gt;(MybatisMapperMethod.java:242) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\r\n\tat com.baomidou.mybatisplus.core.override.MybatisMapperMethod.&lt;init&gt;(MybatisMapperMethod.java:54) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\r\n\tat com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedMapperMethod$0(MybatisMapperProxy.java:65) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\r\n\tat java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660) ~[na:1.8.0_371]\r\n\tat com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedMapperMethod(MybatisMapperProxy.java:65) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\r\n\tat com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:60) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\r\n\tat com.sun.proxy.$Proxy62.listAll(Unknown Source) ~[na:na]\r\n\tat com.wms.wms.service.impl.UserServiceImpl.listAll(UserServiceImpl.java:18) ~[classes/:na]\r\n\tat com.wms.wms.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$7bd9df04.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.9.jar:5.3.9]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.3.9.jar:5.3.9]\r\n\tat com.wms.wms.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$c935a041.listAll(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.wms.wms.controller.HelloController.list(HelloController.java:25) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_371]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_371]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_371]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_371]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat java.lang.Thread.run(Thread.java:750) [na:1.8.0_371]\r\n```\r\n\r\nThe configuration is as follows.\r\n\r\nsrc\\&gt;main\\&gt;java\\&gt;com.wms.wms\\&gt;controller\\&gt;**HelloController.java**:\r\n\r\n```\r\npackage com.wms.wms.controller;\r\n\r\nimport com.wms.wms.entity.User;\r\nimport com.wms.wms.service.UserService;\r\nimport com.wms.wms.service.impl.UserServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class HelloController {\r\n    @GetMapping\r\n    public String hello(){\r\n        return &quot;Hello wms!&quot;;\r\n    }\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @GetMapping(&quot;/list&quot;)\r\n    public List&lt;User&gt; list(){\r\n       return userService.listAll();\r\n    }\r\n}\r\n```\r\n\r\nsrc\\&gt;main\\&gt;java\\&gt;com.wms.wms\\&gt;entity\\&gt;**User.java**:\r\n\r\n```\r\npackage com.wms.wms.entity;\r\n\r\nimport com.baomidou.mybatisplus.annotation.TableField;\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class User {\r\n    private int id;\r\n    private String no;\r\n    private String name;\r\n    private String password;\r\n    private int age;\r\n    private int sex;\r\n    private String phone;\r\n    private int roleId;\r\n    private String isvalid;\r\n}\r\n```\r\n\r\nsrc\\&gt;main\\&gt;java\\&gt;com.wms.wms\\&gt;mapper\\&gt;**UserMapper.java:**\r\n\r\n```\r\npackage com.wms.wms.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport com.wms.wms.entity.User;\r\nimport org.apache.ibatis.annotations.Mapper;\r\n\r\nimport java.util.List;\r\n\r\n@Mapper\r\npublic interface UserMapper extends BaseMapper&lt;User&gt; {\r\n    List&lt;User&gt; listAll();\r\n}\r\n```\r\n\r\nsrc\\&gt;main\\&gt;java\\&gt;com.wms.wms\\&gt;service\\&gt;**UserService.java**:\r\n\r\n```\r\npackage com.wms.wms.service;\r\n\r\nimport com.baomidou.mybatisplus.extension.service.IService;\r\nimport com.wms.wms.entity.User;\r\n\r\nimport java.util.List;\r\n\r\npublic interface UserService extends IService&lt;User&gt; {\r\n    List&lt;User&gt; listAll();\r\n}\r\n```\r\n\r\nsrc\\&gt;main\\&gt;java\\&gt;com.wms.wms\\&gt;service\\&gt;Impl\\&gt;**UserServiceImpl.java**:\r\n\r\n```\r\npackage com.wms.wms.service.impl;\r\n\r\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\r\nimport com.wms.wms.mapper.UserMapper;\r\nimport com.wms.wms.service.UserService;\r\nimport com.wms.wms.entity.User;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class UserServiceImpl extends ServiceImpl&lt;UserMapper,User&gt; implements UserService {\r\n    @Resource\r\n    private UserMapper userMapper;\r\n    @Override\r\n    public List&lt;User&gt; listAll() {\r\n        return userMapper.listAll();\r\n    }\r\n}\r\n```\r\n\r\nsrc\\&gt;main\\&gt;java\\&gt;com.wms.wms\\&gt;**WmsApplication.java**:\r\n\r\n```\r\npackage com.wms.wms;\r\n\r\nimport org.mybatis.spring.annotation.MapperScan;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@MapperScan(&quot;com.wms.wms.mapper&quot;)\r\n@SpringBootApplication\r\npublic class WmsApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(WmsApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nsrc\\&gt;main\\&gt;resources\\&gt;mapper\\&gt;**UserMapper.xml**:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n&lt;mapper namespace=&quot;com.wms.wms.mapper.UserMapper&quot;&gt;\r\n    &lt;select id=&quot;listAll&quot; resultType=&quot;com.wms.wms.entity.User&quot;&gt;\r\n        select * from user;\r\n    &lt;/select&gt;\r\n&lt;/mapper&gt;\r\n```\r\n\r\nsrc\\&gt;main\\&gt;resources\\&gt;**application.yml**:\r\n\r\n```\r\nserver:\r\n  port: 8090\r\n\r\nspring:\r\n    datasource:\r\n      url: jdbc:mysql://localhost:3306/wmsdb?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=GMT%2B8\r\n      driver-class-name: com.mysql.cj.jdbc.Driver\r\n      username: root\r\n      password: root\r\n```\r\n\r\nmysql table(have added data in the table):\r\n\r\n```\r\ncreate table user\r\n(\r\n\tid int(4) PRIMARY KEY AUTO_INCREMENT,\r\n\tno varchar(20) null,\r\n\tname varchar(20) not null,\r\n\tpassword varchar(20) not null,\r\n\tage int null,\r\n\tsex int null,\r\n\tphone varchar(20) null,\r\n\trole_id int null,\r\n\tisValid varchar(4) default&#39;Y&#39; null\r\n);\r\n```\r\n\r\nTo get the correct data in http://localhost:8090/list rather than whitelabel error page, how can I do? Anyone&#39;s help will be very appreciated, thanks!","title":"org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.wms.wms.mapper.UserMapper.listAll","body":"<p>When I run my project, and input <code>http://localhost:8090/list</code> ,I got a Whitelabel Error Page. Meanwhile, appeared the following error message in my backend console:</p>\n<pre><code>org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.wms.wms.mapper.UserMapper.listAll\n    at com.baomidou.mybatisplus.core.override.MybatisMapperMethod$SqlCommand.&lt;init&gt;(MybatisMapperMethod.java:242) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\n    at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.&lt;init&gt;(MybatisMapperMethod.java:54) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\n    at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.lambda$cachedMapperMethod$0(MybatisMapperProxy.java:65) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\n    at java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1660) ~[na:1.8.0_371]\n    at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.cachedMapperMethod(MybatisMapperProxy.java:65) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\n    at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:60) ~[mybatis-plus-core-3.1.0.jar:3.1.0]\n    at com.sun.proxy.$Proxy62.listAll(Unknown Source) ~[na:na]\n    at com.wms.wms.service.impl.UserServiceImpl.listAll(UserServiceImpl.java:18) ~[classes/:na]\n    at com.wms.wms.service.impl.UserServiceImpl$$FastClassBySpringCGLIB$$7bd9df04.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.3.9.jar:5.3.9]\n    at com.wms.wms.service.impl.UserServiceImpl$$EnhancerBySpringCGLIB$$c935a041.listAll(&lt;generated&gt;) ~[classes/:na]\n    at com.wms.wms.controller.HelloController.list(HelloController.java:25) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_371]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_371]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_371]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_371]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.52.jar:9.0.52]\n    at java.lang.Thread.run(Thread.java:750) [na:1.8.0_371]\n</code></pre>\n<p>The configuration is as follows.</p>\n<p>src&gt;main&gt;java&gt;com.wms.wms&gt;controller&gt;<strong>HelloController.java</strong>:</p>\n<pre><code>package com.wms.wms.controller;\n\nimport com.wms.wms.entity.User;\nimport com.wms.wms.service.UserService;\nimport com.wms.wms.service.impl.UserServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class HelloController {\n    @GetMapping\n    public String hello(){\n        return &quot;Hello wms!&quot;;\n    }\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/list&quot;)\n    public List&lt;User&gt; list(){\n       return userService.listAll();\n    }\n}\n</code></pre>\n<p>src&gt;main&gt;java&gt;com.wms.wms&gt;entity&gt;<strong>User.java</strong>:</p>\n<pre><code>package com.wms.wms.entity;\n\nimport com.baomidou.mybatisplus.annotation.TableField;\nimport lombok.Data;\n\n@Data\npublic class User {\n    private int id;\n    private String no;\n    private String name;\n    private String password;\n    private int age;\n    private int sex;\n    private String phone;\n    private int roleId;\n    private String isvalid;\n}\n</code></pre>\n<p>src&gt;main&gt;java&gt;com.wms.wms&gt;mapper&gt;<strong>UserMapper.java:</strong></p>\n<pre><code>package com.wms.wms.mapper;\n\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.wms.wms.entity.User;\nimport org.apache.ibatis.annotations.Mapper;\n\nimport java.util.List;\n\n@Mapper\npublic interface UserMapper extends BaseMapper&lt;User&gt; {\n    List&lt;User&gt; listAll();\n}\n</code></pre>\n<p>src&gt;main&gt;java&gt;com.wms.wms&gt;service&gt;<strong>UserService.java</strong>:</p>\n<pre><code>package com.wms.wms.service;\n\nimport com.baomidou.mybatisplus.extension.service.IService;\nimport com.wms.wms.entity.User;\n\nimport java.util.List;\n\npublic interface UserService extends IService&lt;User&gt; {\n    List&lt;User&gt; listAll();\n}\n</code></pre>\n<p>src&gt;main&gt;java&gt;com.wms.wms&gt;service&gt;Impl&gt;<strong>UserServiceImpl.java</strong>:</p>\n<pre><code>package com.wms.wms.service.impl;\n\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\nimport com.wms.wms.mapper.UserMapper;\nimport com.wms.wms.service.UserService;\nimport com.wms.wms.entity.User;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.Resource;\nimport java.util.List;\n\n@Service\npublic class UserServiceImpl extends ServiceImpl&lt;UserMapper,User&gt; implements UserService {\n    @Resource\n    private UserMapper userMapper;\n    @Override\n    public List&lt;User&gt; listAll() {\n        return userMapper.listAll();\n    }\n}\n</code></pre>\n<p>src&gt;main&gt;java&gt;com.wms.wms&gt;<strong>WmsApplication.java</strong>:</p>\n<pre><code>package com.wms.wms;\n\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@MapperScan(&quot;com.wms.wms.mapper&quot;)\n@SpringBootApplication\npublic class WmsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WmsApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>src&gt;main&gt;resources&gt;mapper&gt;<strong>UserMapper.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n&lt;mapper namespace=&quot;com.wms.wms.mapper.UserMapper&quot;&gt;\n    &lt;select id=&quot;listAll&quot; resultType=&quot;com.wms.wms.entity.User&quot;&gt;\n        select * from user;\n    &lt;/select&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p>src&gt;main&gt;resources&gt;<strong>application.yml</strong>:</p>\n<pre><code>server:\n  port: 8090\n\nspring:\n    datasource:\n      url: jdbc:mysql://localhost:3306/wmsdb?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=GMT%2B8\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      username: root\n      password: root\n</code></pre>\n<p>mysql table(have added data in the table):</p>\n<pre><code>create table user\n(\n    id int(4) PRIMARY KEY AUTO_INCREMENT,\n    no varchar(20) null,\n    name varchar(20) not null,\n    password varchar(20) not null,\n    age int null,\n    sex int null,\n    phone varchar(20) null,\n    role_id int null,\n    isValid varchar(4) default'Y' null\n);\n</code></pre>\n<p>To get the correct data in http://localhost:8090/list rather than whitelabel error page, how can I do? Anyone's help will be very appreciated, thanks!</p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-cloud-config"],"answers":[{"tags":[],"owner":{"account_id":9887818,"reputation":67,"user_id":7321816,"display_name":"Ahmeric"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1686055314,"creation_date":1686055314,"answer_id":76414773,"question_id":76370629,"body_markdown":"Based on the logs you provided, it appears that your client service is fetching the config three times because it is making three requests to the config server at `http://localhost:8888`. \r\n\r\nThe first request is made to fetch the config without specifying any profile, which results in the server returning the config with the default profile. This is indicated by the log line:\r\n```\r\nLocated environment: name=microservice-one, profiles=[default], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\r\n```\r\n\r\nThe second request is made to fetch the config with the `dev` profile, as specified in your client service&#39;s `application.properties` file. This time, the server returns the config with the `dev` profile. This is indicated by the log line:\r\n```\r\nLocated environment: name=microservice-one, profiles=[dev], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\r\n```\r\n\r\nThe third request is made again without specifying any profile, and the server returns the config with the default profile once more.\r\n\r\nIt&#39;s worth noting that the client service may make multiple requests to the config server during startup to ensure that it has the latest configuration. The number of requests can vary depending on factors such as caching and how the config server responds to requests. In your case, it seems that the client service is fetching the config with different profiles to accommodate different environments.\r\n\r\nIf you want to avoid multiple requests or ensure that the client service only fetches the config once, you can consider enabling caching on the client side or investigating the behavior of your config server and how it handles requests.","title":"Spring client service fetches default profile values from cloud config server instead of active profile","body":"<p>Based on the logs you provided, it appears that your client service is fetching the config three times because it is making three requests to the config server at <code>http://localhost:8888</code>.</p>\n<p>The first request is made to fetch the config without specifying any profile, which results in the server returning the config with the default profile. This is indicated by the log line:</p>\n<pre><code>Located environment: name=microservice-one, profiles=[default], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\n</code></pre>\n<p>The second request is made to fetch the config with the <code>dev</code> profile, as specified in your client service's <code>application.properties</code> file. This time, the server returns the config with the <code>dev</code> profile. This is indicated by the log line:</p>\n<pre><code>Located environment: name=microservice-one, profiles=[dev], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\n</code></pre>\n<p>The third request is made again without specifying any profile, and the server returns the config with the default profile once more.</p>\n<p>It's worth noting that the client service may make multiple requests to the config server during startup to ensure that it has the latest configuration. The number of requests can vary depending on factors such as caching and how the config server responds to requests. In your case, it seems that the client service is fetching the config with different profiles to accommodate different environments.</p>\n<p>If you want to avoid multiple requests or ensure that the client service only fetches the config once, you can consider enabling caching on the client side or investigating the behavior of your config server and how it handles requests.</p>\n"}],"owner":{"account_id":10167230,"reputation":363,"user_id":7508721,"display_name":"Sivakami Subramaniam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686055314,"creation_date":1685513581,"question_id":76370629,"body_markdown":"Following the [springcloud.io][1] document I created a cloud-config server with two property files.\r\n\r\n 1. microservice-one.properties\r\n 2. microservice-one-dev.properties\r\n\r\nIn my client service application.properties file, I have set the active profile as dev. \r\n\r\n```\r\nspring.application.name = microservice-one\r\nspring.profiles.active = dev\r\nspring.config.import = optional:configserver:http://localhost:8888\r\n```\r\n\r\nConfiguration class. \r\n```\r\n@ConfigurationProperties(&quot;microservice-one&quot;)\r\n@org.springframework.context.annotation.Configuration\r\npublic class ServerConfig {\r\n\r\n    private String value;\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n}\r\n\r\n```\r\nApplication.properties file of config server.\r\n\r\n```\r\n   spring.application.name = spring-cloud-config-server\r\n   server.port=8888\r\n   spring.cloud.config.server.git.uri = file:///c:/Users/username/OneDrive/Documents/GitHub/CloudConfigServer\r\n```\r\n\r\nmicroservice-one.properties\r\n```\r\nmicroservice-one.value = 10\r\n```\r\nmicroservice-one-dev.properties\r\n```\r\nmicroservice-one-dev.value = 999\r\n```\r\n\r\nconfig server logs\r\n```\r\n2023-05-30T22:06:21.770-07:00  INFO 16604 --- [           main] c.e.c.c.s.c.CloudConfigServerApplication : Starting CloudConfigServerApplication using Java 17.0.7 with PID 16604\r\n2023-05-30T22:06:21.788-07:00  INFO 16604 --- [           main] c.e.c.c.s.c.CloudConfigServerApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n``` \r\n\r\nClient service logs \r\n```\r\n\r\n2023-05-30T22:07:47.878-07:00  INFO 16732 --- [           main] c.e.d.accessdb.AccessdbApplication       : The following 1 profile is active: &quot;dev&quot;\r\n2023-05-30T22:07:48.166-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888\r\n2023-05-30T22:07:48.168-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=microservice-one, profiles=[default], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\r\n2023-05-30T22:07:48.202-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888\r\n2023-05-30T22:07:48.211-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=microservice-one, profiles=[dev], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\r\n2023-05-30T22:07:48.247-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888\r\n2023-05-30T22:07:48.288-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=microservice-one, profiles=[default], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\r\n```\r\n\r\nwhy is my client service fetching the config three times ? Why does it switch between dev profile and default profile in each fetch ? \r\n\r\n  [1]: https://www.springcloud.io/post/2022-03/spring-cloud-config-server-step-by-step/#gsc.tab=0","title":"Spring client service fetches default profile values from cloud config server instead of active profile","body":"<p>Following the <a href=\"https://www.springcloud.io/post/2022-03/spring-cloud-config-server-step-by-step/#gsc.tab=0\" rel=\"nofollow noreferrer\">springcloud.io</a> document I created a cloud-config server with two property files.</p>\n<ol>\n<li>microservice-one.properties</li>\n<li>microservice-one-dev.properties</li>\n</ol>\n<p>In my client service application.properties file, I have set the active profile as dev.</p>\n<pre><code>spring.application.name = microservice-one\nspring.profiles.active = dev\nspring.config.import = optional:configserver:http://localhost:8888\n</code></pre>\n<p>Configuration class.</p>\n<pre><code>@ConfigurationProperties(&quot;microservice-one&quot;)\n@org.springframework.context.annotation.Configuration\npublic class ServerConfig {\n\n    private String value;\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n\n</code></pre>\n<p>Application.properties file of config server.</p>\n<pre><code>   spring.application.name = spring-cloud-config-server\n   server.port=8888\n   spring.cloud.config.server.git.uri = file:///c:/Users/username/OneDrive/Documents/GitHub/CloudConfigServer\n</code></pre>\n<p>microservice-one.properties</p>\n<pre><code>microservice-one.value = 10\n</code></pre>\n<p>microservice-one-dev.properties</p>\n<pre><code>microservice-one-dev.value = 999\n</code></pre>\n<p>config server logs</p>\n<pre><code>2023-05-30T22:06:21.770-07:00  INFO 16604 --- [           main] c.e.c.c.s.c.CloudConfigServerApplication : Starting CloudConfigServerApplication using Java 17.0.7 with PID 16604\n2023-05-30T22:06:21.788-07:00  INFO 16604 --- [           main] c.e.c.c.s.c.CloudConfigServerApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n</code></pre>\n<p>Client service logs</p>\n<pre><code>\n2023-05-30T22:07:47.878-07:00  INFO 16732 --- [           main] c.e.d.accessdb.AccessdbApplication       : The following 1 profile is active: &quot;dev&quot;\n2023-05-30T22:07:48.166-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888\n2023-05-30T22:07:48.168-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=microservice-one, profiles=[default], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\n2023-05-30T22:07:48.202-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888\n2023-05-30T22:07:48.211-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=microservice-one, profiles=[dev], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\n2023-05-30T22:07:48.247-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Fetching config from server at : http://localhost:8888\n2023-05-30T22:07:48.288-07:00  INFO 16732 --- [           main] o.s.c.c.c.ConfigServerConfigDataLoader   : Located environment: name=microservice-one, profiles=[default], label=null, version=014e09cb0090a9612ac107733c933e7529a79306, state=null\n</code></pre>\n<p>why is my client service fetching the config three times ? Why does it switch between dev profile and default profile in each fetch ?</p>\n"},{"tags":["java","android","mysql"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1684467457,"post_id":76285630,"comment_id":134524931,"body_markdown":"Kindly add full stacktrace as text not image .","body":"Kindly add full stacktrace as text not image ."}],"answers":[{"tags":[],"owner":{"account_id":26606954,"reputation":7,"user_id":20227628,"display_name":"Edwin Tigor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686055013,"creation_date":1686055013,"answer_id":76414721,"question_id":76285630,"body_markdown":"Json loading will throw exception if took longer.\r\n\r\nyou can use async task on **AppCompat Activity** to get json result\r\n\r\n    private class AsyncMsg extends AsyncTask&lt;String, String, String&gt;\r\n    {\r\n        ProgressDialog pdLoading = new ProgressDialog(sndRecorder.this);\r\n        HttpURLConnection conn;\r\n        URL url = null;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n\r\n            //this method will be running on UI thread\r\n            pdLoading.setMessage(&quot;\\tLoading...&quot;);\r\n            pdLoading.setCancelable(false);\r\n            //pdLoading.show();\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            try {\r\n                url = new URL(&quot;https://&lt;your url address&gt;.php?r=&quot; + Math.round( Math.random()*10000000) );\r\n\r\n            } catch (MalformedURLException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n                return &quot;exception1: &quot; + e.toString();\r\n            }\r\n            try {\r\n                // Setup HttpURLConnection class to send and receive data from php and mysql\r\n                conn = (HttpURLConnection)url.openConnection();\r\n                conn.setReadTimeout(READ_TIMEOUT);\r\n                conn.setConnectTimeout(CONNECTION_TIMEOUT);\r\n                conn.setRequestMethod(&quot;POST&quot;);\r\n\r\n                // setDoInput and setDoOutput method depict handling of both send and receive\r\n                conn.setDoInput(true);\r\n                conn.setDoOutput(true);\r\n\r\n                // Append parameters to URL\r\n                Uri.Builder builder = new Uri.Builder()\r\n\t\t\t\t\t.appendQueryParameter(&quot;username&quot;, params[0])\r\n\t\t\t\t\t.appendQueryParameter(&quot;password&quot;, params[1])\r\n\t\t\t\t\t.appendQueryParameter(&quot;example&quot;, params[2])\r\n\t\t\t\t\t.appendQueryParameter(&quot;example2&quot;, params[3]);\r\n                String query = builder.build().getEncodedQuery();\r\n\r\n                // Open connection for sending data\r\n                OutputStream os = conn.getOutputStream();\r\n                BufferedWriter writer = new BufferedWriter(\r\n\t\t\t\t\tnew OutputStreamWriter(os, &quot;UTF-8&quot;));\r\n                writer.write(query);\r\n                writer.flush();\r\n                writer.close();\r\n                os.close();\r\n                conn.connect();\r\n\r\n            } catch (IOException e1) {\r\n                // TODO Auto-generated catch block\r\n                e1.printStackTrace();\r\n                return &quot;exception 2r: &quot; + e1.toString();\r\n            }\r\n\r\n            try {\r\n                int response_code = conn.getResponseCode();\r\n\r\n                // Check if successful connection made\r\n                if (response_code == HttpURLConnection.HTTP_OK) {\r\n\r\n                    // Read data sent from server\r\n                    InputStream input = conn.getInputStream();\r\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n                    StringBuilder result = new StringBuilder();\r\n                    String line;\r\n\r\n                    while ((line = reader.readLine()) != null) {\r\n                        result.append(line);\r\n                    }\r\n\r\n                    // Pass data to onPostExecute method\r\n                    return(result.toString());\r\n\r\n                }else{\r\n\r\n                    return(&quot;unsuccessful&quot;);\r\n                }\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return &quot;exception&quot; + e.toString();\r\n            } finally {\r\n                conn.disconnect();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n\t\t\tToast.makeText(getApplicationContext(), &quot;on post execute&quot;, Toast.LENGTH_LONG).show();\r\n\t\t\t\r\n\t\t\tif(result.equalsIgnoreCase(&quot;false&quot;))\r\n            {\r\n\t\t\t\t// If username and password does not match display a error message\r\n                Toast.makeText(getApplicationContext(), &quot;Invalid email or password&quot;, Toast.LENGTH_LONG).show();\r\n\r\n            }else if(result.equalsIgnoreCase(&quot;exception&quot;) || result.equalsIgnoreCase(&quot;unsuccessful&quot;)) {\r\n\r\n\t\t\t\tToast.makeText(getApplicationContext(), &quot;OOPs! Something went wrong. Connection Problem.&quot; + result.toString(), Toast.LENGTH_LONG).show();\r\n\r\n            } else {\r\n\t\t\t\t//UnknownHostException:\r\n\t\t\t\t//Toast.makeText(getApplicationContext(), &quot;sight: &quot; + result + result.toString(), Toast.LENGTH_LONG).show();\r\n\r\n\t\t\t\tString text = result;\r\n\t\t\t\ttext = text.trim();\r\n\t\t\t\tString word = &quot;UnknownHostException&quot;;\r\n\t\t\t\tif((text.lastIndexOf(word) &gt; -1)||(text == &quot;&quot;)) {\r\n\t\t\t\t\t//Toast.makeText(getApplicationContext(), &quot;not connected&quot;, Toast.LENGTH_LONG).show();\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Toast.makeText(getApplicationContext(), &quot;url: &quot; + url, Toast.LENGTH_LONG).show();\r\n\t\t\t\t\t   \r\n\r\n\t\t\t\tString jsonString = result;\r\n\t\t\t\t//populateListView(jsonString);\r\n\t\t\t}\r\n        }\r\n    }","title":"How can I fix my JSON loading problem on my Android app?","body":"<p>Json loading will throw exception if took longer.</p>\n<p>you can use async task on <strong>AppCompat Activity</strong> to get json result</p>\n<pre><code>private class AsyncMsg extends AsyncTask&lt;String, String, String&gt;\n{\n    ProgressDialog pdLoading = new ProgressDialog(sndRecorder.this);\n    HttpURLConnection conn;\n    URL url = null;\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n\n        //this method will be running on UI thread\n        pdLoading.setMessage(&quot;\\tLoading...&quot;);\n        pdLoading.setCancelable(false);\n        //pdLoading.show();\n    }\n\n    @Override\n    protected String doInBackground(String... params) {\n        try {\n            url = new URL(&quot;https://&lt;your url address&gt;.php?r=&quot; + Math.round( Math.random()*10000000) );\n\n        } catch (MalformedURLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            return &quot;exception1: &quot; + e.toString();\n        }\n        try {\n            // Setup HttpURLConnection class to send and receive data from php and mysql\n            conn = (HttpURLConnection)url.openConnection();\n            conn.setReadTimeout(READ_TIMEOUT);\n            conn.setConnectTimeout(CONNECTION_TIMEOUT);\n            conn.setRequestMethod(&quot;POST&quot;);\n\n            // setDoInput and setDoOutput method depict handling of both send and receive\n            conn.setDoInput(true);\n            conn.setDoOutput(true);\n\n            // Append parameters to URL\n            Uri.Builder builder = new Uri.Builder()\n                .appendQueryParameter(&quot;username&quot;, params[0])\n                .appendQueryParameter(&quot;password&quot;, params[1])\n                .appendQueryParameter(&quot;example&quot;, params[2])\n                .appendQueryParameter(&quot;example2&quot;, params[3]);\n            String query = builder.build().getEncodedQuery();\n\n            // Open connection for sending data\n            OutputStream os = conn.getOutputStream();\n            BufferedWriter writer = new BufferedWriter(\n                new OutputStreamWriter(os, &quot;UTF-8&quot;));\n            writer.write(query);\n            writer.flush();\n            writer.close();\n            os.close();\n            conn.connect();\n\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n            return &quot;exception 2r: &quot; + e1.toString();\n        }\n\n        try {\n            int response_code = conn.getResponseCode();\n\n            // Check if successful connection made\n            if (response_code == HttpURLConnection.HTTP_OK) {\n\n                // Read data sent from server\n                InputStream input = conn.getInputStream();\n                BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n                StringBuilder result = new StringBuilder();\n                String line;\n\n                while ((line = reader.readLine()) != null) {\n                    result.append(line);\n                }\n\n                // Pass data to onPostExecute method\n                return(result.toString());\n\n            }else{\n\n                return(&quot;unsuccessful&quot;);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            return &quot;exception&quot; + e.toString();\n        } finally {\n            conn.disconnect();\n        }\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        Toast.makeText(getApplicationContext(), &quot;on post execute&quot;, Toast.LENGTH_LONG).show();\n        \n        if(result.equalsIgnoreCase(&quot;false&quot;))\n        {\n            // If username and password does not match display a error message\n            Toast.makeText(getApplicationContext(), &quot;Invalid email or password&quot;, Toast.LENGTH_LONG).show();\n\n        }else if(result.equalsIgnoreCase(&quot;exception&quot;) || result.equalsIgnoreCase(&quot;unsuccessful&quot;)) {\n\n            Toast.makeText(getApplicationContext(), &quot;OOPs! Something went wrong. Connection Problem.&quot; + result.toString(), Toast.LENGTH_LONG).show();\n\n        } else {\n            //UnknownHostException:\n            //Toast.makeText(getApplicationContext(), &quot;sight: &quot; + result + result.toString(), Toast.LENGTH_LONG).show();\n\n            String text = result;\n            text = text.trim();\n            String word = &quot;UnknownHostException&quot;;\n            if((text.lastIndexOf(word) &gt; -1)||(text == &quot;&quot;)) {\n                //Toast.makeText(getApplicationContext(), &quot;not connected&quot;, Toast.LENGTH_LONG).show();\n\n                return;\n            }\n\n            //Toast.makeText(getApplicationContext(), &quot;url: &quot; + url, Toast.LENGTH_LONG).show();\n                   \n\n            String jsonString = result;\n            //populateListView(jsonString);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28632086,"reputation":1,"user_id":21922891,"display_name":"Nicholas CA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686055013,"creation_date":1684463237,"question_id":76285630,"body_markdown":"My application keeps loading and doesn&#39;t go anywhere, the error code is ![Error code](https://i.stack.imgur.com/lIG4G.png)\r\nI think it was the JSON, but I don&#39;t really know. I&#39;m a beginner.\r\n\r\n```java\r\nprogressDialog.show();\r\nStringRequest request = new StringRequest(\r\n    Request.Method.POST,\r\n    Urls.LOGIN_URL,\r\n    new Response.Listener&lt;String&gt;() {\r\n        @Override\r\n        public void onResponse(String response) {\r\n            try {\r\n                JSONObject jsonObject = new JSONObject(response);\r\n                String result = jsonObject.getString(&quot;status&quot;);\r\n\r\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;data&quot;);\r\n                if (result.equals(&quot;success&quot;)){\r\n                    progressDialog.dismiss();\r\n                    for(int i = 0; i &lt;jsonArray.length(); i++){\r\n                        JSONObject object = jsonArray.getJSONObject(i);\r\n                        String name = object.getString(&quot;Name&quot;);\r\n                        String email = object.getString(&quot;Email&quot;);\r\n                        String phone = object.getString(&quot;Phone&quot;);\r\n\r\n                        Intent intent = new Intent(MainActivity.this,profileActivity.class);\r\n                        intent.putExtra(&quot;name&quot;,name);\r\n                        intent.putExtra(&quot;email&quot;,email);\r\n                        intent.putExtra(&quot;phone&quot;,phone);\r\n                        startActivity(intent);finish();\r\n                        massage(&quot;User Login Successfully&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n)\r\n```","title":"How can I fix my JSON loading problem on my Android app?","body":"<p>My application keeps loading and doesn't go anywhere, the error code is <img src=\"https://i.stack.imgur.com/lIG4G.png\" alt=\"Error code\" />\nI think it was the JSON, but I don't really know. I'm a beginner.</p>\n<pre class=\"lang-java prettyprint-override\"><code>progressDialog.show();\nStringRequest request = new StringRequest(\n    Request.Method.POST,\n    Urls.LOGIN_URL,\n    new Response.Listener&lt;String&gt;() {\n        @Override\n        public void onResponse(String response) {\n            try {\n                JSONObject jsonObject = new JSONObject(response);\n                String result = jsonObject.getString(&quot;status&quot;);\n\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;data&quot;);\n                if (result.equals(&quot;success&quot;)){\n                    progressDialog.dismiss();\n                    for(int i = 0; i &lt;jsonArray.length(); i++){\n                        JSONObject object = jsonArray.getJSONObject(i);\n                        String name = object.getString(&quot;Name&quot;);\n                        String email = object.getString(&quot;Email&quot;);\n                        String phone = object.getString(&quot;Phone&quot;);\n\n                        Intent intent = new Intent(MainActivity.this,profileActivity.class);\n                        intent.putExtra(&quot;name&quot;,name);\n                        intent.putExtra(&quot;email&quot;,email);\n                        intent.putExtra(&quot;phone&quot;,phone);\n                        startActivity(intent);finish();\n                        massage(&quot;User Login Successfully&quot;);\n                    }\n                }\n            }\n        }\n    }\n)\n</code></pre>\n"},{"tags":["java","eclipse","classpath"],"answers":[{"tags":[],"owner":{"account_id":231284,"reputation":2133,"user_id":495416,"accept_rate":90,"display_name":"Rorchackh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342223722,"creation_date":1342223722,"answer_id":11479773,"question_id":11479735,"body_markdown":"First of all you have to make sure you have Eclipse for JAVA installed. You have to know that eclipse has its own structure when it comes to Java projects.\r\nFollow this tutorial which I think may help you a lot.\r\n\r\nhttp://eclipsetutorial.sourceforge.net/totalbegginer01/lesson01.html\r\n\r\nMost IDEs, including eclipse, do not run files (at least not in a straightforward way), so you must create a project and import your existing (.java) files to it.","title":"Java projects not being recognized by Eclipse; classpath problems","body":"<p>First of all you have to make sure you have Eclipse for JAVA installed. You have to know that eclipse has its own structure when it comes to Java projects.\nFollow this tutorial which I think may help you a lot.</p>\n\n<p><a href=\"http://eclipsetutorial.sourceforge.net/totalbegginer01/lesson01.html\" rel=\"nofollow\">http://eclipsetutorial.sourceforge.net/totalbegginer01/lesson01.html</a></p>\n\n<p>Most IDEs, including eclipse, do not run files (at least not in a straightforward way), so you must create a project and import your existing (.java) files to it.</p>\n"},{"tags":[],"owner":{"account_id":1137241,"reputation":2389,"user_id":1122053,"accept_rate":40,"display_name":"Logan"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1342232940,"creation_date":1342232940,"answer_id":11480543,"question_id":11479735,"body_markdown":"I think I have run into this before. You need to add the JRE System Library to your project build path libraries. \r\n\r\nYour project in the Package Explorer should show the JRE System Library after your source folder if you have one. \r\n\r\n - Right click on your project and choose properties.\r\n - Click on the Java Build Path option in the left side tree of options.\r\n - On the Java Build Path window, click on the Libraries Tab.\r\n - Make sure JRE System Library is listed, if it is not, then click Add\r\n   Library button.\r\n - Then Choose JRE System Library, Then you can point to one or use the\r\n   one Eclipse uses.\r\n - Click finish and then go back to your project.\r\n\r\nAlso check that your source code folder is on the build path of the project. \r\nYour source folder should have the # in front of the name like #src if that folder is on the build path. If it does not have the # sign, you may need to right click on that folder with your code and add it to the build path. ","title":"Java projects not being recognized by Eclipse; classpath problems","body":"<p>I think I have run into this before. You need to add the JRE System Library to your project build path libraries. </p>\n\n<p>Your project in the Package Explorer should show the JRE System Library after your source folder if you have one. </p>\n\n<ul>\n<li>Right click on your project and choose properties.</li>\n<li>Click on the Java Build Path option in the left side tree of options.</li>\n<li>On the Java Build Path window, click on the Libraries Tab.</li>\n<li>Make sure JRE System Library is listed, if it is not, then click Add\nLibrary button.</li>\n<li>Then Choose JRE System Library, Then you can point to one or use the\none Eclipse uses.</li>\n<li>Click finish and then go back to your project.</li>\n</ul>\n\n<p>Also check that your source code folder is on the build path of the project. \nYour source folder should have the # in front of the name like #src if that folder is on the build path. If it does not have the # sign, you may need to right click on that folder with your code and add it to the build path. </p>\n"},{"tags":[],"owner":{"account_id":1943373,"reputation":21,"user_id":1749028,"display_name":"Ashok Parmar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350365557,"creation_date":1350365557,"answer_id":12908136,"question_id":11479735,"body_markdown":"Using Eclipse JUNO set the java environment to configure the FX project.\r\n\r\n - Go to Window --&gt; Preferences \r\n - Select the Installed JREs\r\n - Add missing JRR (7) \r\n\r\nThen after create the JavaFx project.\r\n\r\nAshok Parmar","title":"Java projects not being recognized by Eclipse; classpath problems","body":"<p>Using Eclipse JUNO set the java environment to configure the FX project.</p>\n\n<ul>\n<li>Go to Window --> Preferences </li>\n<li>Select the Installed JREs</li>\n<li>Add missing JRR (7) </li>\n</ul>\n\n<p>Then after create the JavaFx project.</p>\n\n<p>Ashok Parmar</p>\n"},{"tags":[],"owner":{"account_id":5063813,"reputation":161,"user_id":4064489,"display_name":"madhu prasad"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1411336828,"creation_date":1411336828,"answer_id":25964323,"question_id":11479735,"body_markdown":"I solved it by going to Eclipse -&gt;preferences--&gt;java--&gt;installed jre --&gt; select a standard Vm in my case (Mac OSX) /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home.Finish\r\n","title":"Java projects not being recognized by Eclipse; classpath problems","body":"<p>I solved it by going to Eclipse ->preferences-->java-->installed jre --> select a standard Vm in my case (Mac OSX) /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home.Finish</p>\n"},{"tags":[],"owner":{"account_id":4660591,"reputation":840,"user_id":3774976,"accept_rate":75,"display_name":"vanguard69"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475168864,"creation_date":1475168864,"answer_id":39776196,"question_id":11479735,"body_markdown":"For `Java 1.7` or `1.8` on `Mac OSX` you can follow these steps:\r\n\r\n 1. Use `/usr/libexec/java_home -v 1.8` command on a terminal shell to find your java 1.8 home directory.\r\n 2. Go to `Eclipse -&gt;Preferences-&gt;Java-&gt;Installed JREs` and press `Add` button and then select `Standard VM` and as in my case add `/Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home`\r\n\r\n","title":"Java projects not being recognized by Eclipse; classpath problems","body":"<p>For <code>Java 1.7</code> or <code>1.8</code> on <code>Mac OSX</code> you can follow these steps:</p>\n\n<ol>\n<li>Use <code>/usr/libexec/java_home -v 1.8</code> command on a terminal shell to find your java 1.8 home directory.</li>\n<li>Go to <code>Eclipse -&gt;Preferences-&gt;Java-&gt;Installed JREs</code> and press <code>Add</code> button and then select <code>Standard VM</code> and as in my case add <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_51.jdk/Contents/Home</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7956800,"reputation":1725,"user_id":6005797,"display_name":"PyDevSRS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488384844,"creation_date":1488380661,"answer_id":42535174,"question_id":11479735,"body_markdown":"This error is due to JRE System Library. Maybe you didn&#39;t give appropriate JRE for eclipse project to run. So follow below steps.\r\n\r\n 1. Right-click on the project and choose properties.\r\n 2. Click on the Java Build Path option in the left side menu.\r\n 3. From the Java Build Path window, click on the Libraries Tab.\r\n 4. Make sure JRE System library is listed, if it is not listed then you can add, by clicking &quot;Add Library&quot; from the right side menu.\r\n 5. So if JRE System Library is already listed then  **double click** on JRE System Library which was showing error on **Java Build Path** window **Libraries** tab previously .\r\n 6. Then it will open another window called **JRE System Library** . So in that window choose **Alternate JRE** . From that drop down choose your JRE.\r\n\r\nIn my case, it is java-8-openjdk-amd64 , as I am using ubuntu 16.04. Like that you can also choose your JRE System library .","title":"Java projects not being recognized by Eclipse; classpath problems","body":"<p>This error is due to JRE System Library. Maybe you didn't give appropriate JRE for eclipse project to run. So follow below steps.</p>\n\n<ol>\n<li>Right-click on the project and choose properties.</li>\n<li>Click on the Java Build Path option in the left side menu.</li>\n<li>From the Java Build Path window, click on the Libraries Tab.</li>\n<li>Make sure JRE System library is listed, if it is not listed then you can add, by clicking \"Add Library\" from the right side menu.</li>\n<li>So if JRE System Library is already listed then  <strong>double click</strong> on JRE System Library which was showing error on <strong>Java Build Path</strong> window <strong>Libraries</strong> tab previously .</li>\n<li>Then it will open another window called <strong>JRE System Library</strong> . So in that window choose <strong>Alternate JRE</strong> . From that drop down choose your JRE.</li>\n</ol>\n\n<p>In my case, it is java-8-openjdk-amd64 , as I am using ubuntu 16.04. Like that you can also choose your JRE System library .</p>\n"}],"owner":{"account_id":1654982,"reputation":31,"user_id":1524781,"display_name":"spade4acer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58559,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1686055000,"creation_date":1342223401,"question_id":11479735,"body_markdown":"I am a very inexperienced programmer.  I have just taken a weeklong class on Java programming in Eclipse.  When I got home and installed Eclipse on my home computer, I was able to bring up the program I made in the editor but Eclipse would not run it; it only accepted .ant files.  \n\nI was able to get projects to show up in the Project Explorer (by importing them) and change the classpath to recognize those projects, but nothing shows up as an option to select a main class in run&gt;run configurations&gt;Java application.  I am very confused as I have not been taught to use these features of Eclipse in the one week of Java experience I have.  Any help would be very much appreciated.\n\n**Update**: When I try to configure the build path/classpath, I _still_ have no options for selecting a main class in run&gt;run configurations&gt;Java application, even after following Logan&#39;s advice.  The JRE system library is still on the build path, but there&#39;s a red X on its icon in my project&#39;s properties.Plus, this is also at the top of my project&#39;s Properties window:\n\n  &quot;Build path entry is missing: org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7\n\nTo make matters worse, when I click the Run button, the options for the type of file to run the script depend on what I have selected.  If I&#39;ve selected the project in the Project Explorer, the options are Java Applet and Java Application, but if I&#39;ve selected the code in the display, the .ant file options come up.\n\nPlus, there is no # in front of the name of the source folder.\n\nOne more important piece of info:  The Eclipse SDK folder never downloaded, for some reason.  However, I extracted all the .zip files in the Juno folder and the Eclipse application did appear.\n\nHelp would be appreciated, especially as literal, straightforward directions on what to do.  Thank you.","title":"Java projects not being recognized by Eclipse; classpath problems","body":"<p>I am a very inexperienced programmer.  I have just taken a weeklong class on Java programming in Eclipse.  When I got home and installed Eclipse on my home computer, I was able to bring up the program I made in the editor but Eclipse would not run it; it only accepted .ant files.</p>\n<p>I was able to get projects to show up in the Project Explorer (by importing them) and change the classpath to recognize those projects, but nothing shows up as an option to select a main class in run&gt;run configurations&gt;Java application.  I am very confused as I have not been taught to use these features of Eclipse in the one week of Java experience I have.  Any help would be very much appreciated.</p>\n<p><strong>Update</strong>: When I try to configure the build path/classpath, I <em>still</em> have no options for selecting a main class in run&gt;run configurations&gt;Java application, even after following Logan's advice.  The JRE system library is still on the build path, but there's a red X on its icon in my project's properties.Plus, this is also at the top of my project's Properties window:</p>\n<p>&quot;Build path entry is missing: org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7</p>\n<p>To make matters worse, when I click the Run button, the options for the type of file to run the script depend on what I have selected.  If I've selected the project in the Project Explorer, the options are Java Applet and Java Application, but if I've selected the code in the display, the .ant file options come up.</p>\n<p>Plus, there is no # in front of the name of the source folder.</p>\n<p>One more important piece of info:  The Eclipse SDK folder never downloaded, for some reason.  However, I extracted all the .zip files in the Juno folder and the Eclipse application did appear.</p>\n<p>Help would be appreciated, especially as literal, straightforward directions on what to do.  Thank you.</p>\n"},{"tags":["java","android","flutter","dart","flutter-method-channel"],"answers":[{"tags":[],"owner":{"account_id":18884677,"reputation":246,"user_id":13776382,"display_name":"Iheb Briki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649979668,"creation_date":1649979668,"answer_id":71878663,"question_id":71869318,"body_markdown":"days ago I made a flutter plugin to interact with Accessibility Service in Android. it&#39;s easy to use just follow the instruction in the readme and check the example for more details\r\n[flutter_accessibility_service][1]\r\n\r\nthis is an example of how to use it\r\n\r\n```dart\r\n /// check if accessibility permession is enebaled\r\n final bool status = await FlutterAccessibilityService.isAccessibilityPermissionEnabled();\r\n \r\n /// request accessibility permission\r\n /// it will open the accessibility settings page\r\n await FlutterAccessibilityService.requestAccessibilityPermission();\r\n \r\n /// stream the incoming Accessibility events\r\n  FlutterAccessibilityService.accessStream.listen((event) {\r\n    log(&quot;Current Event: $event&quot;);\r\n  \r\n  /*\r\n  Current Event: AccessibilityEvent: (\r\n     Action Type: 0 \r\n     Event Time: 2022-04-11 14:19:56.556834 \r\n     Package Name: com.facebook.katana \r\n     Event Type: EventType.typeWindowContentChanged \r\n     Captured Text: events you may like \r\n     content Change Types: ContentChangeTypes.contentChangeTypeSubtree \r\n     Movement Granularity: 0\r\n     Is Active: true\r\n     is focused: true\r\n     in Pip: false\r\n     window Type: WindowType.typeApplication\r\n)\r\n  */\r\n  \r\n  });\r\n```\r\n\r\n\r\n  [1]: https://pub.dev/packages/flutter_accessibility_service","title":"How to use accessibility service in Flutter - Platform Specific","body":"<p>days ago I made a flutter plugin to interact with Accessibility Service in Android. it's easy to use just follow the instruction in the readme and check the example for more details\n<a href=\"https://pub.dev/packages/flutter_accessibility_service\" rel=\"nofollow noreferrer\">flutter_accessibility_service</a></p>\n<p>this is an example of how to use it</p>\n<pre class=\"lang-dart prettyprint-override\"><code> /// check if accessibility permession is enebaled\n final bool status = await FlutterAccessibilityService.isAccessibilityPermissionEnabled();\n \n /// request accessibility permission\n /// it will open the accessibility settings page\n await FlutterAccessibilityService.requestAccessibilityPermission();\n \n /// stream the incoming Accessibility events\n  FlutterAccessibilityService.accessStream.listen((event) {\n    log(&quot;Current Event: $event&quot;);\n  \n  /*\n  Current Event: AccessibilityEvent: (\n     Action Type: 0 \n     Event Time: 2022-04-11 14:19:56.556834 \n     Package Name: com.facebook.katana \n     Event Type: EventType.typeWindowContentChanged \n     Captured Text: events you may like \n     content Change Types: ContentChangeTypes.contentChangeTypeSubtree \n     Movement Granularity: 0\n     Is Active: true\n     is focused: true\n     in Pip: false\n     window Type: WindowType.typeApplication\n)\n  */\n  \n  });\n</code></pre>\n"}],"owner":{"account_id":15045030,"reputation":464,"user_id":10858472,"display_name":"shakky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686054367,"creation_date":1649928304,"question_id":71869318,"body_markdown":"I&#39;m trying to integrate accessibility service in the flutter based application and I dug into it and found out that I will have to use method channels in order to achieve this task because it is possible only by using android native code (java/kotlin)\r\n\r\nAs you know, We must write the code inside MainActivity that extends FlutterActivity in order to make it work. How to extend AccessibilityService in this platform-specific code?\r\n\r\n\r\n``` \r\npublic class MainActivity extends FlutterActivity {\r\n  private static final String CHANNEL = &quot;samples.flutter.dev/battery&quot;;\r\n\r\n  @Override\r\n  public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\r\n  super.configureFlutterEngine(flutterEngine);\r\n    new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\r\n        .setMethodCallHandler(\r\n          (call, result) -&gt; {\r\n            // Note: this method is invoked on the main thread.\r\n            // TODO\r\n          }\r\n        );\r\n  }\r\n}\r\n```\r\n\r\nThis is the code that I&#39;m trying to implement in Flutter and one question, do I need to invoke this code from the Flutter client end? because as far as I know, accessibility service code is automatically called by the android system \r\n\r\n```\r\npublic class MyAccessibilityService extends AccessibilityService {\r\n...\r\n    @Override\r\n    public void onAccessibilityEvent(AccessibilityEvent event) {\r\nif (event.getEventType() == AccessibilityEvent.TYPE_NOTIFICATION_STATE_CHANGED) {\r\n    if (event.getPackageName().toString().equals(&quot;com.whatsapp&quot;)){\r\n        StringBuilder message = new StringBuilder();\r\n        if (!event.getText().isEmpty()) {\r\n            for (CharSequence subText : event.getText()) {\r\n                message.append(subText);\r\n            }\r\n            if (message.toString().contains(&quot;Message from&quot;)){\r\n                name=message.toString().substring(13);\r\n            }\r\n        }\r\n    }\r\n}\r\n    }\r\n\r\n    @Override\r\n    public void onInterrupt() {\r\n    }\r\n\r\n...\r\n}\r\n```\r\n","title":"How to use accessibility service in Flutter - Platform Specific","body":"<p>I'm trying to integrate accessibility service in the flutter based application and I dug into it and found out that I will have to use method channels in order to achieve this task because it is possible only by using android native code (java/kotlin)</p>\n<p>As you know, We must write the code inside MainActivity that extends FlutterActivity in order to make it work. How to extend AccessibilityService in this platform-specific code?</p>\n<pre><code>public class MainActivity extends FlutterActivity {\n  private static final String CHANNEL = &quot;samples.flutter.dev/battery&quot;;\n\n  @Override\n  public void configureFlutterEngine(@NonNull FlutterEngine flutterEngine) {\n  super.configureFlutterEngine(flutterEngine);\n    new MethodChannel(flutterEngine.getDartExecutor().getBinaryMessenger(), CHANNEL)\n        .setMethodCallHandler(\n          (call, result) -&gt; {\n            // Note: this method is invoked on the main thread.\n            // TODO\n          }\n        );\n  }\n}\n</code></pre>\n<p>This is the code that I'm trying to implement in Flutter and one question, do I need to invoke this code from the Flutter client end? because as far as I know, accessibility service code is automatically called by the android system</p>\n<pre><code>public class MyAccessibilityService extends AccessibilityService {\n...\n    @Override\n    public void onAccessibilityEvent(AccessibilityEvent event) {\nif (event.getEventType() == AccessibilityEvent.TYPE_NOTIFICATION_STATE_CHANGED) {\n    if (event.getPackageName().toString().equals(&quot;com.whatsapp&quot;)){\n        StringBuilder message = new StringBuilder();\n        if (!event.getText().isEmpty()) {\n            for (CharSequence subText : event.getText()) {\n                message.append(subText);\n            }\n            if (message.toString().contains(&quot;Message from&quot;)){\n                name=message.toString().substring(13);\n            }\n        }\n    }\n}\n    }\n\n    @Override\n    public void onInterrupt() {\n    }\n\n...\n}\n</code></pre>\n"},{"tags":["java","android","nfc","mifare","desfire"],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686054345,"creation_date":1686040793,"question_id":76412857,"body_markdown":"I&#39;m trying to set the VC (Virtual Card) Configuration key on a **Mifare DESFire EV3** card. \r\n\r\nThe VC Configuration key has the key number 0x20 (32 dec) as per AN12752 \r\nMIFARE DESFire EV3 feature and functionality comparison to other MIFARE DESFire products:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m using NXP&#39;s TapLinx Android api in version 3.0 with this code (the card is detected by the api \r\n`type = libInstance.getCardType(intent);`):\r\n\r\n            int timeOut = 2000;\r\n            desFireEV3.getReader().setTimeout(timeOut);\r\n            // select master application\r\n            desFireEV3.selectApplication(0);\r\n            // authenticate the master application with the PICC Master Key\r\n            // DES default key\r\n            byte[] TDES_KEY_ZERO = new byte[16]; // 16 bytes\r\n            KeyData objKEY_TDES128ZERO = new KeyData();\r\n            SecretKeySpec secretKeySpecTDesZero = new SecretKeySpec(TDES_KEY_ZERO, &quot;TDES&quot;);\r\n            objKEY_TDES128ZERO.setKey(secretKeySpecTDesZero);\r\n            desFireEV3.authenticate(0, IDESFireEV3.AuthType.Native, KeyType.THREEDES, objKEY_TDES128ZERO);\r\n            showMessage(&quot;authStatus 32: &quot; + desFireEV3.getAuthStatus(), &#39;n&#39;);\r\n\r\n            showMessage(&quot;change VC Configuration key (0x20)&quot;, &#39;n&#39;);\r\n            try {\r\n                byte NEW_KEY_VERSION = (byte) 0x00;\r\n                desFireEV3.changeVCKey(32, new byte[16], new byte[16], NEW_KEY_VERSION);\r\n                showMessage(&quot;change VC Configuration key (0x20) done&quot;, &#39;n&#39;);\r\n            } catch (UsageException e) {\r\n                showMessage(&quot;UsageException: &quot; + e.getMessage(), &#39;n&#39;);\r\n            } catch (InvalidResponseLengthException e) {\r\n                showMessage(&quot;InvalidResponseLengthException: &quot; + e.getMessage(), &#39;n&#39;);\r\n            } catch (Exception e) {\r\n                showMessage(&quot;Exception: &quot; + e.getMessage(), &#39;n&#39;);\r\n            }\r\n\r\nRunning this code gives these results in Logcat and ends with an **Integrity Error** (0x1E / 30 dec).:\r\n\r\n```NXPLog                  de.androidcrypto.taplinxexample      I  Set VC Configuration key (0x20)\r\nNxpLogger               de.androidcrypto.taplinxexample      I  Command sent to card : 5A000000\r\nNxpLogger               de.androidcrypto.taplinxexample      I  Response received : 00\r\nNxpLogger               de.androidcrypto.taplinxexample      I  Command sent to card : 0A00\r\nNxpLogger               de.androidcrypto.taplinxexample      I  Response received : AF0DCA56AAEA80FD9D\r\nNxpLogger               de.androidcrypto.taplinxexample      I  Command sent to card : AF36E119DC9983B9E990AE554DA65151C6\r\nNxpLogger               de.androidcrypto.taplinxexample      I  Response received : 00738F76587001AF44\r\nSampleTapLinx           de.androidcrypto.taplinxexample      I  Dump Data: authStatus 32: Native\r\nNXPLog                  de.androidcrypto.taplinxexample      I  authStatus 32: Native\r\nSampleTapLinx           de.androidcrypto.taplinxexample      I  Dump Data: change VC Configuration key (0x20)\r\nNXPLog                  de.androidcrypto.taplinxexample      I  change VC Configuration key (0x20)\r\nSampleTapLinx           de.androidcrypto.taplinxexample      I  Dump Data: Exception: Integrity Error SW2 = 30\r\nNXPLog                  de.androidcrypto.taplinxexample      I  Exception: Integrity Error SW2 = 30\r\n```\r\n\r\nWhat causes this error and how can I avoid it to change the key successfully ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eb09o.png","title":"Mifare DESFire EV3 set of VC Configuration key fails with Integrity Error (0x1E / 30 dec)","body":"<p>I'm trying to set the VC (Virtual Card) Configuration key on a <strong>Mifare DESFire EV3</strong> card.</p>\n<p>The VC Configuration key has the key number 0x20 (32 dec) as per AN12752\nMIFARE DESFire EV3 feature and functionality comparison to other MIFARE DESFire products:</p>\n<p><a href=\"https://i.stack.imgur.com/eb09o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eb09o.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using NXP's TapLinx Android api in version 3.0 with this code (the card is detected by the api\n<code>type = libInstance.getCardType(intent);</code>):</p>\n<pre><code>        int timeOut = 2000;\n        desFireEV3.getReader().setTimeout(timeOut);\n        // select master application\n        desFireEV3.selectApplication(0);\n        // authenticate the master application with the PICC Master Key\n        // DES default key\n        byte[] TDES_KEY_ZERO = new byte[16]; // 16 bytes\n        KeyData objKEY_TDES128ZERO = new KeyData();\n        SecretKeySpec secretKeySpecTDesZero = new SecretKeySpec(TDES_KEY_ZERO, &quot;TDES&quot;);\n        objKEY_TDES128ZERO.setKey(secretKeySpecTDesZero);\n        desFireEV3.authenticate(0, IDESFireEV3.AuthType.Native, KeyType.THREEDES, objKEY_TDES128ZERO);\n        showMessage(&quot;authStatus 32: &quot; + desFireEV3.getAuthStatus(), 'n');\n\n        showMessage(&quot;change VC Configuration key (0x20)&quot;, 'n');\n        try {\n            byte NEW_KEY_VERSION = (byte) 0x00;\n            desFireEV3.changeVCKey(32, new byte[16], new byte[16], NEW_KEY_VERSION);\n            showMessage(&quot;change VC Configuration key (0x20) done&quot;, 'n');\n        } catch (UsageException e) {\n            showMessage(&quot;UsageException: &quot; + e.getMessage(), 'n');\n        } catch (InvalidResponseLengthException e) {\n            showMessage(&quot;InvalidResponseLengthException: &quot; + e.getMessage(), 'n');\n        } catch (Exception e) {\n            showMessage(&quot;Exception: &quot; + e.getMessage(), 'n');\n        }\n</code></pre>\n<p>Running this code gives these results in Logcat and ends with an <strong>Integrity Error</strong> (0x1E / 30 dec).:</p>\n<pre><code>NxpLogger               de.androidcrypto.taplinxexample      I  Command sent to card : 5A000000\nNxpLogger               de.androidcrypto.taplinxexample      I  Response received : 00\nNxpLogger               de.androidcrypto.taplinxexample      I  Command sent to card : 0A00\nNxpLogger               de.androidcrypto.taplinxexample      I  Response received : AF0DCA56AAEA80FD9D\nNxpLogger               de.androidcrypto.taplinxexample      I  Command sent to card : AF36E119DC9983B9E990AE554DA65151C6\nNxpLogger               de.androidcrypto.taplinxexample      I  Response received : 00738F76587001AF44\nSampleTapLinx           de.androidcrypto.taplinxexample      I  Dump Data: authStatus 32: Native\nNXPLog                  de.androidcrypto.taplinxexample      I  authStatus 32: Native\nSampleTapLinx           de.androidcrypto.taplinxexample      I  Dump Data: change VC Configuration key (0x20)\nNXPLog                  de.androidcrypto.taplinxexample      I  change VC Configuration key (0x20)\nSampleTapLinx           de.androidcrypto.taplinxexample      I  Dump Data: Exception: Integrity Error SW2 = 30\nNXPLog                  de.androidcrypto.taplinxexample      I  Exception: Integrity Error SW2 = 30\n</code></pre>\n<p>What causes this error and how can I avoid it to change the key successfully ?</p>\n"},{"tags":["java","android","gradle","documentation"],"answers":[{"tags":[],"owner":{"account_id":22566268,"reputation":106,"user_id":16753241,"display_name":"GoldBerg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644589166,"creation_date":1644589166,"answer_id":71081592,"question_id":71079444,"body_markdown":"You cannot write items directly under sources here. I prepared an example for you.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources&gt;\r\n    &lt;array name=&quot;your_array_list_name&quot;&gt;\r\n        &lt;item name=&quot;fragment_container_view_tag&quot; type=&quot;id&quot;/&gt;\r\n        &lt;item name=&quot;special_effects_controller_view_tag&quot; type=&quot;id&quot;/&gt;\r\n        &lt;item name=&quot;visible_removing_fragment_view_tag&quot; type=&quot;id&quot;/&gt;\r\n    &lt;/array&gt;\r\n&lt;/resources&gt;","title":"Android Studio Project Build Output Error: Task :app:mergeDebugResources FAILED","body":"<p>You cannot write items directly under sources here. I prepared an example for you.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;array name=&quot;your_array_list_name&quot;&gt;\n        &lt;item name=&quot;fragment_container_view_tag&quot; type=&quot;id&quot;/&gt;\n        &lt;item name=&quot;special_effects_controller_view_tag&quot; type=&quot;id&quot;/&gt;\n        &lt;item name=&quot;visible_removing_fragment_view_tag&quot; type=&quot;id&quot;/&gt;\n    &lt;/array&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15468202,"reputation":1,"user_id":11159001,"display_name":"Adun Tong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664368818,"creation_date":1663991634,"answer_id":73834623,"question_id":71079444,"body_markdown":"In my case, there is recently generated `ids.xml` file under the following directory:\r\n&gt;app/src/main/res/values\r\n\r\nDeleting the file rectified the error.","title":"Android Studio Project Build Output Error: Task :app:mergeDebugResources FAILED","body":"<p>In my case, there is recently generated <code>ids.xml</code> file under the following directory:</p>\n<blockquote>\n<p>app/src/main/res/values</p>\n</blockquote>\n<p>Deleting the file rectified the error.</p>\n"}],"owner":{"account_id":10442615,"reputation":31,"user_id":7698749,"display_name":"H Dhindsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686053783,"creation_date":1644579257,"question_id":71079444,"body_markdown":"Build Output Details:\r\n\r\nTask :app:mergeDebugResources\r\nC:\\Users\\userName\\.gradle\\caches\\transforms-3\\ee0550e8848c5279ef1306690d07508f\\transformed\\fragment-1.3.6\\res\\values\\values.xml:2:4:&gt;item&gt; inner element must either be a resource reference or empty.\r\n\r\n&gt; Task :app:createDebugCompatibleScreenManifests\r\n&gt; Task :app:extractDeepLinksDebug\r\n&gt; Task :app:mergeDebugResources FAILED\r\n\r\n**Failed to compile values file.**\r\n\r\n**values.xml Original file**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n    &lt;item name=&quot;fragment_container_view_tag&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;special_effects_controller_view_tag&quot; type=&quot;id&quot;/&gt;\r\n    &lt;item name=&quot;visible_removing_fragment_view_tag&quot; type=&quot;id&quot;/&gt;\r\n    &lt;declare-styleable name=&quot;Fragment&quot;&gt;\r\n        &lt;attr name=&quot;android:name&quot;/&gt;\r\n        &lt;attr name=&quot;android:id&quot;/&gt;\r\n        &lt;attr name=&quot;android:tag&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n    &lt;declare-styleable name=&quot;FragmentContainerView&quot;&gt;\r\n        &lt;attr name=&quot;android:name&quot;/&gt;\r\n        &lt;attr name=&quot;android:tag&quot;/&gt;\r\n    &lt;/declare-styleable&gt;\r\n\r\nI get the same error when I do following changes in values.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;item name=&quot;fragment_container_view_tag&quot; type=&quot;id&quot;/&gt;\r\n        &lt;item name=&quot;special_effects_controller_view_tag&quot; type=&quot;id&quot;/&gt;\r\n        &lt;item name=&quot;visible_removing_fragment_view_tag&quot; type=&quot;id&quot;/&gt;\r\n    &lt;/resources&gt;","title":"Android Studio Project Build Output Error: Task :app:mergeDebugResources FAILED","body":"<p>Build Output Details:</p>\n<p>Task :app:mergeDebugResources\nC:\\Users\\userName.gradle\\caches\\transforms-3\\ee0550e8848c5279ef1306690d07508f\\transformed\\fragment-1.3.6\\res\\values\\values.xml:2:4:&gt;item&gt; inner element must either be a resource reference or empty.</p>\n<blockquote>\n<p>Task :app:createDebugCompatibleScreenManifests\nTask :app:extractDeepLinksDebug\nTask :app:mergeDebugResources FAILED</p>\n</blockquote>\n<p><strong>Failed to compile values file.</strong></p>\n<p><strong>values.xml Original file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n&lt;item name=&quot;fragment_container_view_tag&quot; type=&quot;id&quot;/&gt;\n&lt;item name=&quot;special_effects_controller_view_tag&quot; type=&quot;id&quot;/&gt;\n&lt;item name=&quot;visible_removing_fragment_view_tag&quot; type=&quot;id&quot;/&gt;\n&lt;declare-styleable name=&quot;Fragment&quot;&gt;\n    &lt;attr name=&quot;android:name&quot;/&gt;\n    &lt;attr name=&quot;android:id&quot;/&gt;\n    &lt;attr name=&quot;android:tag&quot;/&gt;\n&lt;/declare-styleable&gt;\n&lt;declare-styleable name=&quot;FragmentContainerView&quot;&gt;\n    &lt;attr name=&quot;android:name&quot;/&gt;\n    &lt;attr name=&quot;android:tag&quot;/&gt;\n&lt;/declare-styleable&gt;\n</code></pre>\n<p>I get the same error when I do following changes in values.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;item name=&quot;fragment_container_view_tag&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;special_effects_controller_view_tag&quot; type=&quot;id&quot;/&gt;\n    &lt;item name=&quot;visible_removing_fragment_view_tag&quot; type=&quot;id&quot;/&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","multithreading","arraylist","apache-camel","splitter"],"answers":[{"tags":[],"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415645702,"creation_date":1415645702,"answer_id":26850868,"question_id":26768302,"body_markdown":"I tested with following (simpler) setup:\r\n\r\n    &lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\r\n\t\t&lt;route id=&quot;ReportsRoute&quot;&gt;\r\n\t        &lt;from uri=&quot;direct:start&quot; /&gt;\r\n\t         &lt;!-- By default a pool size of 10 is used. --&gt;\r\n\t        &lt;split parallelProcessing=&quot;true&quot;&gt;\r\n\t            &lt;simple&gt;${body}&lt;/simple&gt;\r\n\t            &lt;to uri=&quot;direct:sub&quot; /&gt;\r\n\t        &lt;/split&gt;\r\n\t    &lt;/route&gt;  \r\n\t    &lt;route&gt;\r\n\t        &lt;from uri=&quot;direct:sub&quot;/&gt;\r\n\t        &lt;log message=&quot;Processing item ${body}&quot; /&gt;\r\n\t    &lt;/route&gt;\r\n\t&lt;/camelContext&gt;\r\n\r\nTesting:\r\n\r\n     List&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n     for (int i = 0; i &lt; 1000; i++) {\r\n        list.add(&quot;And we go and go: &quot; + (i + 1));\r\n     }\r\n     template.sendBody(&quot;direct:start&quot;, list);\r\n\r\nWith this setup no entry was processed twice. So there must be something in your processors that lead to the issue, that the same list item is picked up by more than one thread. ","title":"Camel Splitter Parallel Processing Array List - Concurrency Access Issue","body":"<p>I tested with following (simpler) setup:</p>\n\n<pre><code>&lt;camelContext xmlns=\"http://camel.apache.org/schema/spring\"&gt;\n    &lt;route id=\"ReportsRoute\"&gt;\n        &lt;from uri=\"direct:start\" /&gt;\n         &lt;!-- By default a pool size of 10 is used. --&gt;\n        &lt;split parallelProcessing=\"true\"&gt;\n            &lt;simple&gt;${body}&lt;/simple&gt;\n            &lt;to uri=\"direct:sub\" /&gt;\n        &lt;/split&gt;\n    &lt;/route&gt;  \n    &lt;route&gt;\n        &lt;from uri=\"direct:sub\"/&gt;\n        &lt;log message=\"Processing item ${body}\" /&gt;\n    &lt;/route&gt;\n&lt;/camelContext&gt;\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code> List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n for (int i = 0; i &lt; 1000; i++) {\n    list.add(\"And we go and go: \" + (i + 1));\n }\n template.sendBody(\"direct:start\", list);\n</code></pre>\n\n<p>With this setup no entry was processed twice. So there must be something in your processors that lead to the issue, that the same list item is picked up by more than one thread. </p>\n"}],"owner":{"account_id":1243712,"reputation":5091,"user_id":1205647,"accept_rate":56,"display_name":"Aragorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7927,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686053301,"creation_date":1415226208,"question_id":26768302,"body_markdown":"Using Camel to split an ArrayList and process each item in parallel up to 10 threads.\r\nFollowing is the config.\r\nThread pool profile is set to max thread count =10.\r\n\r\n    &lt;camel:route id=&quot;ReportsRoute&quot;&gt;\r\n\t\t\t&lt;camel:from uri=&quot;direct:processReportsChannel&quot; /&gt;\r\n\t\t\t&lt;camel:to uri=&quot;bean:reportRepository?method=getPendingTransactions&quot; /&gt;\r\n\t\t\t&lt;camel:split parallelProcessing=&quot;true&quot; executorServiceRef=&quot;ReportThreadPoolProfile&quot;&gt;\r\n\t\t\t\t&lt;camel:simple&gt;${body}&lt;/camel:simple&gt;\r\n\t\t\t\t&lt;camel:doTry&gt;\r\n\t\t\t\t\t&lt;camel:to uri=&quot;direct:processReportChannel&quot; /&gt;\r\n\t\t\t\t\t&lt;camel:doCatch&gt;\r\n\t\t\t\t\t\t&lt;camel:exception&gt;java.lang.Exception&lt;/camel:exception&gt;\r\n\t\t\t\t\t\t&lt;camel:handled&gt;\r\n\t\t\t\t\t\t\t&lt;camel:constant&gt;true&lt;/camel:constant&gt;\r\n\t\t\t\t\t\t&lt;/camel:handled&gt;\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;camel:to uri=&quot;bean:ReportRepository?method=markAsFailed&quot;/&gt;\r\n\t\t\t\t\t\t&lt;camel:wireTap uri=&quot;direct:loggingAndNotificationChannel&quot; /&gt;\r\n\t\t\t\t\t&lt;/camel:doCatch&gt;\r\n\t\t\t\t&lt;/camel:doTry&gt;\r\n\t\t\t&lt;/camel:split&gt;\r\n\t\t&lt;/camel:route&gt;\t\r\n\r\n`bean:reportRepository?method=getPendingTransactions` gets the ArrayList and passes to the Splitter. \r\n  \r\n`processReportChannel `is the processor that handles items.  \r\n\r\n**Problem:**\r\nIt is starting 10 threads when the job starts, but some threads are picking up the same item. For example, if I have item_no_1 through to 10 in the ArrayList, thread_no_1 and thread_no_2 or sometime more threads are picking up let&#39;s say item_no_2.  Is it because Array List is not thread safe and Splitter doesn&#39;t manage that?   \r\n  \r\n I&#39;m not an expert in this and need help to point out where the issue is.","title":"Camel Splitter Parallel Processing Array List - Concurrency Access Issue","body":"<p>Using Camel to split an ArrayList and process each item in parallel up to 10 threads.\nFollowing is the config.\nThread pool profile is set to max thread count =10.</p>\n\n<pre><code>&lt;camel:route id=\"ReportsRoute\"&gt;\n        &lt;camel:from uri=\"direct:processReportsChannel\" /&gt;\n        &lt;camel:to uri=\"bean:reportRepository?method=getPendingTransactions\" /&gt;\n        &lt;camel:split parallelProcessing=\"true\" executorServiceRef=\"ReportThreadPoolProfile\"&gt;\n            &lt;camel:simple&gt;${body}&lt;/camel:simple&gt;\n            &lt;camel:doTry&gt;\n                &lt;camel:to uri=\"direct:processReportChannel\" /&gt;\n                &lt;camel:doCatch&gt;\n                    &lt;camel:exception&gt;java.lang.Exception&lt;/camel:exception&gt;\n                    &lt;camel:handled&gt;\n                        &lt;camel:constant&gt;true&lt;/camel:constant&gt;\n                    &lt;/camel:handled&gt;                        \n                    &lt;camel:to uri=\"bean:ReportRepository?method=markAsFailed\"/&gt;\n                    &lt;camel:wireTap uri=\"direct:loggingAndNotificationChannel\" /&gt;\n                &lt;/camel:doCatch&gt;\n            &lt;/camel:doTry&gt;\n        &lt;/camel:split&gt;\n    &lt;/camel:route&gt;  \n</code></pre>\n\n<p><code>bean:reportRepository?method=getPendingTransactions</code> gets the ArrayList and passes to the Splitter. </p>\n\n<p><code>processReportChannel</code>is the processor that handles items.  </p>\n\n<p><strong>Problem:</strong>\nIt is starting 10 threads when the job starts, but some threads are picking up the same item. For example, if I have item_no_1 through to 10 in the ArrayList, thread_no_1 and thread_no_2 or sometime more threads are picking up let's say item_no_2.  Is it because Array List is not thread safe and Splitter doesn't manage that?   </p>\n\n<p>I'm not an expert in this and need help to point out where the issue is.</p>\n"},{"tags":["java","spring","unit-testing","integration-testing"],"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686052872,"creation_date":1686052872,"question_id":76414427,"body_markdown":"I have a question which is out of curiosity is using MockMvc to handle a test for a controller considered a unit test or an integration test?","title":"Does using MockMvc considred unit or integration Test","body":"<p>I have a question which is out of curiosity is using MockMvc to handle a test for a controller considered a unit test or an integration test?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":1106225,"reputation":631,"user_id":1097552,"display_name":"Lucas Brutschy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686051732,"creation_date":1686051732,"answer_id":76414281,"question_id":76382477,"body_markdown":"It may help to reduce the recording level if the metrics impact the performance of your service. From the documentation:\r\n\r\n&gt; By default Kafka Streams has metrics with three recording levels: info, debug, and trace. The debug level records most metrics, while the info level records only some of them. The trace level records all possible metrics. Use the metrics.recording.level configuration option to specify which metrics you want collected","title":"Kafka Stream expose some metrics only","body":"<p>It may help to reduce the recording level if the metrics impact the performance of your service. From the documentation:</p>\n<blockquote>\n<p>By default Kafka Streams has metrics with three recording levels: info, debug, and trace. The debug level records most metrics, while the info level records only some of them. The trace level records all possible metrics. Use the metrics.recording.level configuration option to specify which metrics you want collected</p>\n</blockquote>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686051732,"creation_date":1685626607,"question_id":76382477,"body_markdown":"I want to expose some Kafka Stream JMX Metrics. But expose and send all of them it will impact the performance of the service.\r\n\r\nIt is possible expose only some of the metrics of Kafka Stream.  \r\n\r\nI cannot find a way of doing it, only expose or not the metrics.\r\n\r\nRegards","title":"Kafka Stream expose some metrics only","body":"<p>I want to expose some Kafka Stream JMX Metrics. But expose and send all of them it will impact the performance of the service.</p>\n<p>It is possible expose only some of the metrics of Kafka Stream.</p>\n<p>I cannot find a way of doing it, only expose or not the metrics.</p>\n<p>Regards</p>\n"},{"tags":["java","spring-boot","transactions","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686051342,"creation_date":1686051342,"answer_id":76414223,"question_id":76404511,"body_markdown":"Its impossible that a transaction which contains a condition check on the existence of an item which evaluates to false would still create the child. Transactions are ACID compliant and the atomic nature would ensure that the entire transaction failed. \r\n\r\nIt may be possible that another process is adding children, which you are not aware of. In that case my suggestion would be to enable [dataplane logging](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/logging-using-cloudtrail.html#ddb-data-plane-events-in-cloudtrail) on the table and evaluate all actions pertaining that item, the logs will show you more info on where the API calls originated so you can debug further. ","title":"DynamoDB TransactWriteItem Concurrency Issue","body":"<p>Its impossible that a transaction which contains a condition check on the existence of an item which evaluates to false would still create the child. Transactions are ACID compliant and the atomic nature would ensure that the entire transaction failed.</p>\n<p>It may be possible that another process is adding children, which you are not aware of. In that case my suggestion would be to enable <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/logging-using-cloudtrail.html#ddb-data-plane-events-in-cloudtrail\" rel=\"nofollow noreferrer\">dataplane logging</a> on the table and evaluate all actions pertaining that item, the logs will show you more info on where the API calls originated so you can debug further.</p>\n"}],"owner":{"account_id":4280502,"reputation":193,"user_id":3500028,"accept_rate":50,"display_name":"Rehab Reda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76414223,"answer_count":1,"score":0,"last_activity_date":1686051342,"creation_date":1685952001,"question_id":76404511,"body_markdown":"Our system uses DynamoDB Streams to trigger a handler that creates two records in Table ***B*** whenever a new record is added to Table ***A***\r\n\r\n\r\n\r\nTable &quot;B&quot; looks like that\r\neach B#root record should have another parent# record to make sure of the uniqueness of the name of this item with the parent. \r\nThe parent is 8954 which we get from the stream of the table A\r\n\r\n| hashKey | sortKey|name | parentValue |\r\n|:---- |:------:| -----:|-----:|\r\n| B#1234 | B#root    | Default | 8954;Default |\r\n| Parent#8954;Default| Parent#8954;Default   |  |  |\r\n\r\nHowever, we have noticed that sometimes DynamoDB Streams sends two very closely timed events for a new A record creation, causing our handler to create three B records instead of two. We suspect there is a concurrency issue, but we are not sure how to solve it.\r\n\r\nthe handler will do the following code twice.\r\n```\r\n\r\nHashMap&lt;String, AttributeValue&gt; rootItem = new HashMap&lt;String, AttributeValue&gt;();\r\n    rootItem.put(&quot;hashKey&quot;, new AttributeValue(&quot;B#&quot;+UUID.randomUUID().toString()));\r\n    rootItem.put(&quot;sortKey&quot;, new AttributeValue(&quot;B#root&quot;));\r\n    rootItem.put(&quot;name&quot;,&quot;Default&quot;);\r\n    rootItem.put(&quot;parentValue&quot;,&lt;Id given from dynamodb streams&gt;+&quot;;Default&quot; );\r\n   \r\n\r\nHashMap&lt;String, AttributeValue&gt; parentItem = new HashMap&lt;String, AttributeValue&gt;();\r\n    parentItem.put(&quot;hashKey&quot;, new AttributeValue(&quot;Parent#&quot;+&lt;Id given from dynamodb streams&gt;+&quot;;Default&quot;));\r\n    parentItem.put(&quot;sortKey&quot;, new AttributeValue(&quot;Parent#&quot;+&lt;Id given from dynamodb streams&gt;+&quot;;Default&quot;));\r\n\r\n\r\n Put bRootItem = new Put()\r\n      .withTableName(&quot;B&quot;)\r\n      .withItem(rootItem);\r\n\r\n    String conditionalCheckExpression = &quot;attribute_not_exists(&#39;hashKey&#39;) AND attribute_not_exists(&#39;sortKey&#39;)&quot;;\r\n\r\n    Put bParentIrem = new Put()\r\n      .withTableName(&quot;B&quot;)\r\n      .withItem(parentItem)\r\n      .withConditionExpression(conditionalCheckExpression);\r\n\r\n Collection&lt;TransactWriteItem&gt; actions = Arrays.asList(\r\n\r\n      new TransactWriteItem().withPut(bRootItem),\r\n      new TransactWriteItem().withPut(bParentIrem));\r\n\r\n\r\n```\r\n\r\n\r\n\r\nand that will result in the following records!\r\n\r\n| hashKey | sortKey|name | parentValue |\r\n|:---- |:------:| -----:|-----:|\r\n| B#123456 | B#root    | Default | 658;Default |\r\n B#123689 | B#root    | Default | 658;Default |\r\n| Parent#658;Default| Parent#658;Default    |  |  |\r\n\r\n\r\n\r\nI think there is a concurrency issue here right ?\r\n\r\nOur goal is for the handler to be idempotent and only create two B records at most for each A record. We added a condition expression to the Put operation to prevent duplicate creation of a parent item, but it does not seem to be working as expected.\r\n\r\nWhat I am expecting is just 2 records \r\n\r\nThese:\r\n\r\n| hashKey | sortKey|name | parentValue |\r\n|:---- |:------:| -----:|-----:|\r\n| B#123456 | B#root    | Default | 658;Default |\r\n| Parent#658;Default| Parent#658;Default    |  |  |\r\n\r\n\r\nor \r\n\r\nThese \r\n\r\n| hashKey | sortKey|name | parentValue |\r\n|:---- |:------:| -----:|-----:|\r\n B#123689 | B#root    | Default | 658;Default |\r\n| Parent#658;Default| Parent#658;Default    |  |  |\r\n\r\n Can you explain why this is happening and suggest a solution to our problem?","title":"DynamoDB TransactWriteItem Concurrency Issue","body":"<p>Our system uses DynamoDB Streams to trigger a handler that creates two records in Table <em><strong>B</strong></em> whenever a new record is added to Table <em><strong>A</strong></em></p>\n<p>Table &quot;B&quot; looks like that\neach B#root record should have another parent# record to make sure of the uniqueness of the name of this item with the parent.\nThe parent is 8954 which we get from the stream of the table A</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">hashKey</th>\n<th style=\"text-align: center;\">sortKey</th>\n<th style=\"text-align: right;\">name</th>\n<th style=\"text-align: right;\">parentValue</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">B#1234</td>\n<td style=\"text-align: center;\">B#root</td>\n<td style=\"text-align: right;\">Default</td>\n<td style=\"text-align: right;\">8954;Default</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Parent#8954;Default</td>\n<td style=\"text-align: center;\">Parent#8954;Default</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>However, we have noticed that sometimes DynamoDB Streams sends two very closely timed events for a new A record creation, causing our handler to create three B records instead of two. We suspect there is a concurrency issue, but we are not sure how to solve it.</p>\n<p>the handler will do the following code twice.</p>\n<pre><code>\nHashMap&lt;String, AttributeValue&gt; rootItem = new HashMap&lt;String, AttributeValue&gt;();\n    rootItem.put(&quot;hashKey&quot;, new AttributeValue(&quot;B#&quot;+UUID.randomUUID().toString()));\n    rootItem.put(&quot;sortKey&quot;, new AttributeValue(&quot;B#root&quot;));\n    rootItem.put(&quot;name&quot;,&quot;Default&quot;);\n    rootItem.put(&quot;parentValue&quot;,&lt;Id given from dynamodb streams&gt;+&quot;;Default&quot; );\n   \n\nHashMap&lt;String, AttributeValue&gt; parentItem = new HashMap&lt;String, AttributeValue&gt;();\n    parentItem.put(&quot;hashKey&quot;, new AttributeValue(&quot;Parent#&quot;+&lt;Id given from dynamodb streams&gt;+&quot;;Default&quot;));\n    parentItem.put(&quot;sortKey&quot;, new AttributeValue(&quot;Parent#&quot;+&lt;Id given from dynamodb streams&gt;+&quot;;Default&quot;));\n\n\n Put bRootItem = new Put()\n      .withTableName(&quot;B&quot;)\n      .withItem(rootItem);\n\n    String conditionalCheckExpression = &quot;attribute_not_exists('hashKey') AND attribute_not_exists('sortKey')&quot;;\n\n    Put bParentIrem = new Put()\n      .withTableName(&quot;B&quot;)\n      .withItem(parentItem)\n      .withConditionExpression(conditionalCheckExpression);\n\n Collection&lt;TransactWriteItem&gt; actions = Arrays.asList(\n\n      new TransactWriteItem().withPut(bRootItem),\n      new TransactWriteItem().withPut(bParentIrem));\n\n\n</code></pre>\n<p>and that will result in the following records!</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">hashKey</th>\n<th style=\"text-align: center;\">sortKey</th>\n<th style=\"text-align: right;\">name</th>\n<th style=\"text-align: right;\">parentValue</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">B#123456</td>\n<td style=\"text-align: center;\">B#root</td>\n<td style=\"text-align: right;\">Default</td>\n<td style=\"text-align: right;\">658;Default</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">B#123689</td>\n<td style=\"text-align: center;\">B#root</td>\n<td style=\"text-align: right;\">Default</td>\n<td style=\"text-align: right;\">658;Default</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Parent#658;Default</td>\n<td style=\"text-align: center;\">Parent#658;Default</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I think there is a concurrency issue here right ?</p>\n<p>Our goal is for the handler to be idempotent and only create two B records at most for each A record. We added a condition expression to the Put operation to prevent duplicate creation of a parent item, but it does not seem to be working as expected.</p>\n<p>What I am expecting is just 2 records</p>\n<p>These:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">hashKey</th>\n<th style=\"text-align: center;\">sortKey</th>\n<th style=\"text-align: right;\">name</th>\n<th style=\"text-align: right;\">parentValue</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">B#123456</td>\n<td style=\"text-align: center;\">B#root</td>\n<td style=\"text-align: right;\">Default</td>\n<td style=\"text-align: right;\">658;Default</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Parent#658;Default</td>\n<td style=\"text-align: center;\">Parent#658;Default</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>or</p>\n<p>These</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">hashKey</th>\n<th style=\"text-align: center;\">sortKey</th>\n<th style=\"text-align: right;\">name</th>\n<th style=\"text-align: right;\">parentValue</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">B#123689</td>\n<td style=\"text-align: center;\">B#root</td>\n<td style=\"text-align: right;\">Default</td>\n<td style=\"text-align: right;\">658;Default</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Parent#658;Default</td>\n<td style=\"text-align: center;\">Parent#658;Default</td>\n<td style=\"text-align: right;\"></td>\n<td style=\"text-align: right;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Can you explain why this is happening and suggest a solution to our problem?</p>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1686057902,"post_id":76414221,"comment_id":134744741,"body_markdown":"Why don&#39;t simply iterate over all players?","body":"Why don&#39;t simply iterate over all players?"},{"owner":{"account_id":28016694,"reputation":69,"user_id":21398331,"display_name":"BaRiboD"},"score":0,"creation_date":1686060074,"post_id":76414221,"comment_id":134745266,"body_markdown":"@Elikill58 \n`player.getLevel().players().forEach(player -&gt; {player.getPersistentData().putString(&quot;a&quot;, &quot;b&quot;);});`\nIs it correct?","body":"@Elikill58  <code>player.getLevel().players().forEach(player -&gt; {player.getPersistentData().putString(&quot;a&quot;, &quot;b&quot;);});</code> Is it correct?"},{"owner":{"account_id":28016694,"reputation":69,"user_id":21398331,"display_name":"BaRiboD"},"score":0,"creation_date":1686060344,"post_id":76414221,"comment_id":134745349,"body_markdown":"@Elikill58\nI have another question about this.\nHow can I get all persistent data of a player?","body":"@Elikill58 I have another question about this. How can I get all persistent data of a player?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1686063796,"post_id":76414221,"comment_id":134746205,"body_markdown":"idk if it&#39;s correct but I were thinking about something like that. For your second question, I don&#39;t really know, maybe there is method on the getPersistentData() object","body":"idk if it&#39;s correct but I were thinking about something like that. For your second question, I don&#39;t really know, maybe there is method on the getPersistentData() object"}],"owner":{"account_id":28016694,"reputation":69,"user_id":21398331,"display_name":"BaRiboD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686051325,"creation_date":1686051325,"question_id":76414221,"body_markdown":"I know that with this you can save something in nbt player:\r\n\r\n    player.getPersistentData().putString(&quot;a&quot;, &quot;b&quot;);\r\nBut with this, it could not be saved for all players. Is there a way to save the same things (a, b) for all players with the same code, or to save this for the world?\r\nSorry for the bad grammar, I use google translate.","title":"Minecraft forge-1.19.3 World data","body":"<p>I know that with this you can save something in nbt player:</p>\n<pre><code>player.getPersistentData().putString(&quot;a&quot;, &quot;b&quot;);\n</code></pre>\n<p>But with this, it could not be saved for all players. Is there a way to save the same things (a, b) for all players with the same code, or to save this for the world?\nSorry for the bad grammar, I use google translate.</p>\n"},{"tags":["java","android","android-studio","android-room"],"comments":[{"owner":{"account_id":1045984,"reputation":9452,"user_id":1050957,"accept_rate":95,"display_name":"Neel"},"score":1,"creation_date":1646912040,"post_id":70640275,"comment_id":126243245,"body_markdown":"Did you find a solution for this?","body":"Did you find a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":21219310,"reputation":9,"user_id":15606267,"display_name":"Huseyn Iskenderov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641726258,"creation_date":1641726258,"answer_id":70640644,"question_id":70640275,"body_markdown":"you can change **implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;** to **implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;**","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio java","body":"<p>you can change <strong>implementation 'androidx.appcompat:appcompat:1.4.0'</strong> to <strong>implementation 'androidx.appcompat:appcompat:1.3.1'</strong></p>\n"},{"tags":[],"owner":{"account_id":20036891,"reputation":128,"user_id":14688405,"display_name":"yagmurerdogan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655104282,"creation_date":1655104282,"answer_id":72598916,"question_id":70640275,"body_markdown":"I had same issue and I changed 2 things and solved problem. \r\n\r\n 1. File -&gt; Project Structure -&gt; SDK Location and click &quot;JDK location was moved to Gradle Settings.&quot; Then, select **&quot;Android studio default jdk version (version 11)&quot;** and apply. First step is done.\r\n \r\n 2. File -&gt; Project Structure -&gt; Modules, make sure **Source Compability** and **Target Compability** is **&quot;$JavaVersion.VERSION__11&quot;** and apply. \r\n\r\nI use **Kotlin** version is **1.6.10**, it may also important. ","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio java","body":"<p>I had same issue and I changed 2 things and solved problem.</p>\n<ol>\n<li><p>File -&gt; Project Structure -&gt; SDK Location and click &quot;JDK location was moved to Gradle Settings.&quot; Then, select <strong>&quot;Android studio default jdk version (version 11)&quot;</strong> and apply. First step is done.</p>\n</li>\n<li><p>File -&gt; Project Structure -&gt; Modules, make sure <strong>Source Compability</strong> and <strong>Target Compability</strong> is <strong>&quot;$JavaVersion.VERSION__11&quot;</strong> and apply.</p>\n</li>\n</ol>\n<p>I use <strong>Kotlin</strong> version is <strong>1.6.10</strong>, it may also important.</p>\n"},{"tags":[],"owner":{"account_id":6597297,"reputation":751,"user_id":5096638,"display_name":"PalFS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686051316,"creation_date":1686051316,"answer_id":76414219,"question_id":70640275,"body_markdown":"**Short Answer:**\r\n\r\nUpdate Room version to 2.4.0-alpha03 or above\r\n\r\n**Long Answer:**\r\n\r\nI was having the same issue and tried all these methods but none of them worked. Then I performed following steps:\r\n\r\n1) Click on &quot;Run with --stacktrace option&quot; in the build tab under the exception. It will show you the root cause of the issue.\r\n2) Then you can further look into the error and its resolution.\r\n\r\nFor me the error was the following: \r\n\r\n    Caused by: java.lang.Exception: No native library is found for os.name=Mac and os.arch=aarch64. path=/org/sqlite/native/Mac/aarch64\r\n\r\nAfter looking into it further, I found that it was the exception from the Room library, I was using the older version which does not support Mac M1 chip. So I have changed its version to 2.4.0-alpha03 or above","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio java","body":"<p><strong>Short Answer:</strong></p>\n<p>Update Room version to 2.4.0-alpha03 or above</p>\n<p><strong>Long Answer:</strong></p>\n<p>I was having the same issue and tried all these methods but none of them worked. Then I performed following steps:</p>\n<ol>\n<li>Click on &quot;Run with --stacktrace option&quot; in the build tab under the exception. It will show you the root cause of the issue.</li>\n<li>Then you can further look into the error and its resolution.</li>\n</ol>\n<p>For me the error was the following:</p>\n<pre><code>Caused by: java.lang.Exception: No native library is found for os.name=Mac and os.arch=aarch64. path=/org/sqlite/native/Mac/aarch64\n</code></pre>\n<p>After looking into it further, I found that it was the exception from the Room library, I was using the older version which does not support Mac M1 chip. So I have changed its version to 2.4.0-alpha03 or above</p>\n"}],"owner":{"account_id":22133679,"reputation":123,"user_id":16384844,"display_name":"Kely_97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20439,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":76414219,"answer_count":3,"score":9,"last_activity_date":1686051316,"creation_date":1641723225,"question_id":70640275,"body_markdown":"I am developing an Android App in Android Studio with MacBook m1 pro. Not quite sure what went wrong, I think it&#39;s related to room.\r\n\r\nHere is the error:\r\n\r\n    &gt; Task :app:compileDebugJavaWithJavac FAILED\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; java.lang.ExceptionInInitializerError\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nI have 2 classes in my app.\r\n\r\nmy classes:\r\n\r\n\r\n    @Entity\r\n    public class User {\r\n        public static final String COLLECTION_NAME = &quot;users&quot;;\r\n    \r\n        @PrimaryKey\r\n        @NonNull\r\n        String name = &quot;&quot;;\r\n        String phone = &quot;&quot;;\r\n        String email = &quot;&quot;;\r\n        String password = &quot;&quot;;\r\n        String location = &quot;&quot;;\r\n        String gender = &quot;&quot;;\r\n        String age = &quot;&quot;;\r\n        Long updateDate = new Long(0);\r\n    \r\n        @Ignore\r\n        public User(){} //for room\r\n    \r\n        //TODO: add location\r\n        public User(String name, String phone, String email, String password, String gender, String age) {\r\n            this.name = name;\r\n            this.phone = phone;\r\n            this.email = email;\r\n            this.password = password;\r\n            this.location = location;\r\n            this.gender = gender;\r\n            this.age = age;\r\n        }\r\n\r\n    public class Post {\r\n        final public static String COLLECTION_NAME = &quot;posts&quot;;\r\n    \r\n        @PrimaryKey\r\n        @NonNull\r\n        String id = &quot;&quot;;\r\n        String name =&quot;&quot;;\r\n        String userId = &quot;&quot;;\r\n        Long postTime = new Long(0);\r\n        String text = &quot;&quot;;\r\n        String image = &quot;&quot;;\r\n        String type = &quot;&quot;;\r\n        String age = &quot;&quot;;\r\n        String size = &quot;&quot;;\r\n        String gender = &quot;&quot;;\r\n        String location = &quot;&quot;;\r\n    \r\n        @Ignore\r\n        public Post(){}\r\n    \r\n        public Post(String id, String userId, String text, String image, String type, String age, String size, String gender, String location){  //}), List&lt;String&gt; likesUserId) {\r\n            this.id = id;\r\n            this.userId = userId;\r\n            this.text = text;\r\n            this.image = image;\r\n            this.type = type;\r\n            this.age = age;\r\n            this.size = size;\r\n            this.gender = gender;\r\n            this.location = location;\r\n        }\r\n\r\nmy app gradel:\r\n\r\n \r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;androidx.navigation.safeargs&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdk 31\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.findmehomeapp&quot;\r\n            minSdk 21\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.3.1&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.3.5&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.3.5&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;androidx.room:room-common:2.2.6&#39;\r\n        implementation &#39;androidx.room:room-runtime:2.2.6&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        annotationProcessor &#39;androidx.room:room-compiler:2.2.6&#39;\r\n        def nav_version = &quot;2.3.5&quot;\r\n        implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n    \r\n        implementation platform(&#39;com.google.firebase:firebase-bom:29.0.3&#39;)\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage&#39;\r\n    \r\n    }\r\n\r\nproject gradle:\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\r\n            def nav_version = &quot;2.3.5&quot;\r\n            classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nI had tried:\r\n1. Invalidate Caches and restart.\r\n2. Build -&gt; clean project.\r\n3. Remove and add stuff to my grade.\r\n4. Change @Ignore place in the classes and remove.\r\n\r\nI really hope someone will be able to help.","title":"Execution Failed for task :app:compileDebugJavaWithJavac in Android Studio java","body":"<p>I am developing an Android App in Android Studio with MacBook m1 pro. Not quite sure what went wrong, I think it's related to room.</p>\n<p>Here is the error:</p>\n<pre><code>&gt; Task :app:compileDebugJavaWithJavac FAILED\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; java.lang.ExceptionInInitializerError\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>I have 2 classes in my app.</p>\n<p>my classes:</p>\n<pre><code>@Entity\npublic class User {\n    public static final String COLLECTION_NAME = &quot;users&quot;;\n\n    @PrimaryKey\n    @NonNull\n    String name = &quot;&quot;;\n    String phone = &quot;&quot;;\n    String email = &quot;&quot;;\n    String password = &quot;&quot;;\n    String location = &quot;&quot;;\n    String gender = &quot;&quot;;\n    String age = &quot;&quot;;\n    Long updateDate = new Long(0);\n\n    @Ignore\n    public User(){} //for room\n\n    //TODO: add location\n    public User(String name, String phone, String email, String password, String gender, String age) {\n        this.name = name;\n        this.phone = phone;\n        this.email = email;\n        this.password = password;\n        this.location = location;\n        this.gender = gender;\n        this.age = age;\n    }\n\npublic class Post {\n    final public static String COLLECTION_NAME = &quot;posts&quot;;\n\n    @PrimaryKey\n    @NonNull\n    String id = &quot;&quot;;\n    String name =&quot;&quot;;\n    String userId = &quot;&quot;;\n    Long postTime = new Long(0);\n    String text = &quot;&quot;;\n    String image = &quot;&quot;;\n    String type = &quot;&quot;;\n    String age = &quot;&quot;;\n    String size = &quot;&quot;;\n    String gender = &quot;&quot;;\n    String location = &quot;&quot;;\n\n    @Ignore\n    public Post(){}\n\n    public Post(String id, String userId, String text, String image, String type, String age, String size, String gender, String location){  //}), List&lt;String&gt; likesUserId) {\n        this.id = id;\n        this.userId = userId;\n        this.text = text;\n        this.image = image;\n        this.type = type;\n        this.age = age;\n        this.size = size;\n        this.gender = gender;\n        this.location = location;\n    }\n</code></pre>\n<p>my app gradel:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'androidx.navigation.safeargs'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.findmehomeapp&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.3.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1'\n    implementation 'androidx.navigation:navigation-fragment:2.3.5'\n    implementation 'androidx.navigation:navigation-ui:2.3.5'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.room:room-common:2.2.6'\n    implementation 'androidx.room:room-runtime:2.2.6'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    annotationProcessor 'androidx.room:room-compiler:2.2.6'\n    def nav_version = &quot;2.3.5&quot;\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n\n    implementation platform('com.google.firebase:firebase-bom:29.0.3')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-firestore'\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.firebase:firebase-storage'\n\n}\n</code></pre>\n<p>project gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.4&quot;\n        def nav_version = &quot;2.3.5&quot;\n        classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>I had tried:</p>\n<ol>\n<li>Invalidate Caches and restart.</li>\n<li>Build -&gt; clean project.</li>\n<li>Remove and add stuff to my grade.</li>\n<li>Change @Ignore place in the classes and remove.</li>\n</ol>\n<p>I really hope someone will be able to help.</p>\n"},{"tags":["java","spring","caching","serialization","redis"],"comments":[{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":0,"creation_date":1686055769,"post_id":76414205,"comment_id":134744210,"body_markdown":"Does this answer your question? [Could not write JSON: failed to lazily initialize a collection of role](https://stackoverflow.com/questions/48117059/could-not-write-json-failed-to-lazily-initialize-a-collection-of-role)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48117059/could-not-write-json-failed-to-lazily-initialize-a-collection-of-role\">Could not write JSON: failed to lazily initialize a collection of role</a>"},{"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"score":0,"creation_date":1686217334,"post_id":76414205,"comment_id":134769946,"body_markdown":"unfortunately no, in the link you mention it&#39;s writing to JSON while i have problems with retrieving data from redis cache (reading)","body":"unfortunately no, in the link you mention it&#39;s writing to JSON while i have problems with retrieving data from redis cache (reading)"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686051240,"creation_date":1686051206,"question_id":76414205,"body_markdown":"I am using spring boot and hibernate. as cache i am using redis and GenericJackson2JsonRedisSerializer.\r\n\r\nWhen I try to retrieve my entity from cache iI am getting:\r\n\r\n&gt; Failure getting from cache: user_entity. Could not read JSON: failed\r\n&gt; to lazily initialize a collection: could not initialize proxy - no\r\n&gt; Session (through reference chain:\r\n&gt; com.avid.identity.service.entity.User[\\&quot;identities\\&quot;]\r\n\r\nI was trying to change Lazy on Eager, it did not help.\r\nPlease see entity below.\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString(of = {&quot;id&quot;})\r\n    @EqualsAndHashCode(of = {&quot;id&quot;})\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;user&quot;, schema = &quot;identity&quot;)\r\n    public class User {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid4&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;uuid4&quot;)\r\n    @Column(columnDefinition = &quot;CHAR(36)&quot;)\r\n    private UUID id;\r\n\r\n    @Fetch(FetchMode.JOIN)\r\n    @JoinColumn(name = &quot;last_authentication_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    private AuthenticationEvent lastAuthentication;\r\n\r\n    @Fetch(FetchMode.JOIN)\r\n    @JoinTable(name = &quot;user_identities&quot;, joinColumns = {\r\n            @JoinColumn(name = &quot;user_id&quot;)}, inverseJoinColumns = {\r\n            @JoinColumn(name = &quot;user_identity_id&quot;)})\r\n    @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    private List&lt;Identity&gt; identities;\r\n\r\n    @Fetch(FetchMode.JOIN)\r\n    @JoinTable(name = &quot;user_roles&quot;, joinColumns = {\r\n            @JoinColumn(name = &quot;user_id&quot;)}, inverseJoinColumns = {\r\n            @JoinColumn(name = &quot;role_id&quot;)})\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    private List&lt;Role&gt; roles;\r\n\r\n    @Fetch(FetchMode.JOIN)\r\n    @JoinColumn(name = &quot;tenant_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    private Tenant tenant;\r\n\r\n\r\nPlease help.\r\nThank You","title":"Can not retrieve hibernate entity from redis cache: failed to lazily initialize a collection","body":"<p>I am using spring boot and hibernate. as cache i am using redis and GenericJackson2JsonRedisSerializer.</p>\n<p>When I try to retrieve my entity from cache iI am getting:</p>\n<blockquote>\n<p>Failure getting from cache: user_entity. Could not read JSON: failed\nto lazily initialize a collection: could not initialize proxy - no\nSession (through reference chain:\ncom.avid.identity.service.entity.User[&quot;identities&quot;]</p>\n</blockquote>\n<p>I was trying to change Lazy on Eager, it did not help.\nPlease see entity below.</p>\n<pre><code>@Getter\n@Setter\n@ToString(of = {&quot;id&quot;})\n@EqualsAndHashCode(of = {&quot;id&quot;})\n@Entity\n@NoArgsConstructor\n@Table(name = &quot;user&quot;, schema = &quot;identity&quot;)\npublic class User {\n\n@Id\n@GeneratedValue(generator = &quot;uuid4&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;uuid4&quot;)\n@Column(columnDefinition = &quot;CHAR(36)&quot;)\nprivate UUID id;\n\n@Fetch(FetchMode.JOIN)\n@JoinColumn(name = &quot;last_authentication_id&quot;, referencedColumnName = &quot;id&quot;)\n@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\nprivate AuthenticationEvent lastAuthentication;\n\n@Fetch(FetchMode.JOIN)\n@JoinTable(name = &quot;user_identities&quot;, joinColumns = {\n        @JoinColumn(name = &quot;user_id&quot;)}, inverseJoinColumns = {\n        @JoinColumn(name = &quot;user_identity_id&quot;)})\n@OneToMany(fetch = FetchType.LAZY, orphanRemoval = true)\nprivate List&lt;Identity&gt; identities;\n\n@Fetch(FetchMode.JOIN)\n@JoinTable(name = &quot;user_roles&quot;, joinColumns = {\n        @JoinColumn(name = &quot;user_id&quot;)}, inverseJoinColumns = {\n        @JoinColumn(name = &quot;role_id&quot;)})\n@OneToMany(fetch = FetchType.LAZY)\nprivate List&lt;Role&gt; roles;\n\n@Fetch(FetchMode.JOIN)\n@JoinColumn(name = &quot;tenant_id&quot;, referencedColumnName = &quot;id&quot;)\n@OneToOne(fetch = FetchType.LAZY)\nprivate Tenant tenant;\n</code></pre>\n<p>Please help.\nThank You</p>\n"},{"tags":["java","android","android-studio","huawei-mobile-services"],"answers":[{"tags":[],"owner":{"account_id":27848282,"reputation":11,"user_id":21263283,"display_name":"julius.lauk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686051095,"creation_date":1686051095,"answer_id":76414195,"question_id":76411103,"body_markdown":"You can use the ML kit for text recognition, you can find the necessary information in the [link][1].\r\n\r\nThe link contains Use Cases and Development Procedure sections for Java and Kotlin. \r\n\r\nYou can find different Recognition options in this link. I hope it helps.\r\n\r\n\r\n  [1]: https://developer.huawei.com/consumer/en/doc/development/hiai-Guides/text-recognition-0000001050040053","title":"Huawei phone not recognize Image in Crop Text : Android Studio","body":"<p>You can use the ML kit for text recognition, you can find the necessary information in the <a href=\"https://developer.huawei.com/consumer/en/doc/development/hiai-Guides/text-recognition-0000001050040053\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>The link contains Use Cases and Development Procedure sections for Java and Kotlin.</p>\n<p>You can find different Recognition options in this link. I hope it helps.</p>\n"}],"owner":{"account_id":19820287,"reputation":221,"user_id":14517031,"display_name":"Shainnah Jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686051095,"creation_date":1686018964,"question_id":76411103,"body_markdown":"I&#39;m using this plugin [link](https://github.com/ArthurHub/Android-Image-Cropper) and it works fine in different android phone except from huawei phone , it doesn&#39;t recognize the text after I crop the specific text in image through huawei. Is there any suggestion? I appreciate it\r\n\r\n**This is what I&#39;ve tried**\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 103){ \r\n            if (resultCode == RESULT_OK){\r\n                if (requestCode == IMAGE_PICK_CAMERA_CODE){\r\n    \r\n                    CropImage.activity(image_uri).setGuidelines(CropImageView.Guidelines.ON).start(this);\r\n                }\r\n        }\r\n        if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE){\r\n            CropImage.ActivityResult result = CropImage.getActivityResult(data);\r\n            if(resultCode ==RESULT_OK) {\r\n                Uri resultUri = result.getUri();\r\n                resultUri.getPath();\r\n                BitmapDrawable bitmapDrawable;\r\n\r\n                ScannedImage.setImageURI(resultUri);\r\n                bitmapDrawable = (BitmapDrawable) ScannedImage.getDrawable();\r\n\r\n                Bitmap bitmap = bitmapDrawable.getBitmap();\r\n                TextRecognizer recognizer = new TextRecognizer.Builder(getApplicationContext()).build();\r\n\r\n                Frame frame = new Frame.Builder().setBitmap(bitmap).build();\r\n                SparseArray&lt;TextBlock&gt; items = recognizer.detect(frame);\r\n                StringBuilder sb = new StringBuilder();\r\n\r\n                for (int i = 0; i &lt; items.size(); i++) {\r\n                    TextBlock myItem = items.valueAt(i);\r\n                    sb.append(myItem.getValue());\r\n                    sb.append(&quot;\\n&quot;);\r\n                }\r\n\r\n                String sTextFromET = sb.toString().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n                edt_card_number_inputted1.setText(sTextFromET);\r\n\r\n            }}}}","title":"Huawei phone not recognize Image in Crop Text : Android Studio","body":"<p>I'm using this plugin <a href=\"https://github.com/ArthurHub/Android-Image-Cropper\" rel=\"nofollow noreferrer\">link</a> and it works fine in different android phone except from huawei phone , it doesn't recognize the text after I crop the specific text in image through huawei. Is there any suggestion? I appreciate it</p>\n<p><strong>This is what I've tried</strong></p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 103){ \n        if (resultCode == RESULT_OK){\n            if (requestCode == IMAGE_PICK_CAMERA_CODE){\n\n                CropImage.activity(image_uri).setGuidelines(CropImageView.Guidelines.ON).start(this);\n            }\n    }\n    if (requestCode == CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE){\n        CropImage.ActivityResult result = CropImage.getActivityResult(data);\n        if(resultCode ==RESULT_OK) {\n            Uri resultUri = result.getUri();\n            resultUri.getPath();\n            BitmapDrawable bitmapDrawable;\n\n            ScannedImage.setImageURI(resultUri);\n            bitmapDrawable = (BitmapDrawable) ScannedImage.getDrawable();\n\n            Bitmap bitmap = bitmapDrawable.getBitmap();\n            TextRecognizer recognizer = new TextRecognizer.Builder(getApplicationContext()).build();\n\n            Frame frame = new Frame.Builder().setBitmap(bitmap).build();\n            SparseArray&lt;TextBlock&gt; items = recognizer.detect(frame);\n            StringBuilder sb = new StringBuilder();\n\n            for (int i = 0; i &lt; items.size(); i++) {\n                TextBlock myItem = items.valueAt(i);\n                sb.append(myItem.getValue());\n                sb.append(&quot;\\n&quot;);\n            }\n\n            String sTextFromET = sb.toString().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n            edt_card_number_inputted1.setText(sTextFromET);\n\n        }}}}\n</code></pre>\n"},{"tags":["java","google-chrome","selenium-webdriver","selenium-chromedriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656954877,"creation_date":1656954877,"answer_id":72860127,"question_id":72859798,"body_markdown":"This error message...\r\n\r\n\tCaused by: org.openqa.selenium.WebDriverException: unknown error: chrome failed to start\r\n\t  (Driver info: chromedriver=2.0,platform=Windows NT 6.2 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n\r\n...implies that the [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) was unable to initiate/spawn a new _Browsing Context_ i.e. [tag:google-chrome] session.\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as:\r\n\r\n- You are using _chrome=2.0_ which is _**old**_ and _**ancient**_.\r\n\r\n- Possibly you are using the latest _chrome=103.0_\r\n\r\n\r\nSo there is a clear mismatch between _chromedriver=91.0_ and the _chrome=96.0.4664.45_\r\n\r\n\r\n----------\r\n\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _Selenium_ is upgraded to  current released [_**Version 4.3.0**_](https://www.selenium.dev/downloads/).\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v103.0](https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.53/) level.\r\n- _Chrome Browser_ is updated to  current _chrome=103.0_ (as per [chromedriver=102.0.5005.61 release notes](https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt)).","title":"org.openqa.selenium.WebDriverException: unknown error: chrome failed to start using Selenium ChromeDriver and Chrome through Java","body":"<p>This error message...</p>\n<pre><code>Caused by: org.openqa.selenium.WebDriverException: unknown error: chrome failed to start\n  (Driver info: chromedriver=2.0,platform=Windows NT 6.2 x86_64) (WARNING: The server did not provide any stacktrace information)\n</code></pre>\n<p>...implies that the <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> was unable to initiate/spawn a new <em>Browsing Context</em> i.e. <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\">google-chrome</a> session.</p>\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as:</p>\n<ul>\n<li><p>You are using <em>chrome=2.0</em> which is <em><strong>old</strong></em> and <em><strong>ancient</strong></em>.</p>\n</li>\n<li><p>Possibly you are using the latest <em>chrome=103.0</em></p>\n</li>\n</ul>\n<p>So there is a clear mismatch between <em>chromedriver=91.0</em> and the <em>chrome=96.0.4664.45</em></p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that:</p>\n<ul>\n<li><em>Selenium</em> is upgraded to  current released <a href=\"https://www.selenium.dev/downloads/\" rel=\"nofollow noreferrer\"><em><strong>Version 4.3.0</strong></em></a>.</li>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.53/\" rel=\"nofollow noreferrer\">ChromeDriver v103.0</a> level.</li>\n<li><em>Chrome Browser</em> is updated to  current <em>chrome=103.0</em> (as per <a href=\"https://chromedriver.storage.googleapis.com/103.0.5060.53/notes.txt\" rel=\"nofollow noreferrer\">chromedriver=102.0.5005.61 release notes</a>).</li>\n</ul>\n"}],"owner":{"account_id":24569894,"reputation":11,"user_id":18476481,"display_name":"AlexM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686050956,"creation_date":1656952624,"question_id":72859798,"body_markdown":"I have tried opening a page with Selenium. \r\nI have also imported the jars.\r\nBut it won&#39;t work. \r\n\r\nHere is my code: \r\npackage org. example;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class Main {\r\n    \r\n        static String url = &quot;link&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.get(url);\r\n            System.out.println(&quot;Wait a bit for the page to render&quot;);\r\n        }\r\n    }\r\n\r\nI get the following output: \r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    [0.037][INFO]: received WebDriver reques: GET /saus \r\n    [0.037][INFO]: sending WebDriver response: 200 {\r\n       &quot;sessionId&quot;: &quot;&quot;,\r\n       &quot;saus&quot;: 0,\r\n       &quot;value&quot;: {\r\n          &quot;build&quot;: {\r\n             &quot;version&quot;: &quot;alpha&quot;\r\n          },\r\n          &quot;os&quot;: {\r\n             &quot;arch&quot;: &quot;x86_64&quot;,\r\n             &quot;name&quot;: &quot;Windows NT&quot;,\r\n             &quot;version&quot;: &quot;6.2&quot;\r\n          }\r\n       }\r\n    }\r\n    [0.461][INFO]: received WebDriver reques: POST /session {\r\n       &quot;capabiliies&quot;: {\r\n          &quot;firsMach&quot;: [ {\r\n             &quot;browserName&quot;: &quot;chrome&quot;,\r\n             &quot;goog:chromeOpions&quot;: {\r\n                &quot;args&quot;: [  ],\r\n                &quot;exensions&quot;: [  ]\r\n             }\r\n          } ]\r\n       },\r\n       &quot;desiredCapabiliies&quot;: {\r\n          &quot;browserName&quot;: &quot;chrome&quot;,\r\n          &quot;goog:chromeOpions&quot;: {\r\n             &quot;args&quot;: [  ],\r\n             &quot;exensions&quot;: [  ]\r\n          }\r\n       }\r\n    }\r\n    [0.462][INFO]: Launching chrome:  --ignore-cerificae-errors\r\n    [0.464][INFO]: sending WebDriver response: 200 {\r\n       &quot;sessionId&quot;: &quot;&quot;,\r\n       &quot;saus&quot;: 13,\r\n       &quot;value&quot;: {\r\n          &quot;message&quot;: &quot;unknown error: chrome failed o sar\\n  (Driver info: chromedriver=2.0,plaform=Windows NT 6.2 x86_64)&quot;\r\n       }\r\n    }\r\n    [0.546][INFO]: received WebDriver reques: GET /shudown \r\n    [0.546][INFO]: sending WebDriver response: 200 {\r\n       &quot;sessionId&quot;: &quot;&quot;,\r\n       &quot;saus&quot;: 0,\r\n       &quot;value&quot;: null\r\n    }\r\n    Started ChromeDriver (v2.0) on port 54751\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:587)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:264)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:179)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n    \tat org.example.Main.main(Main.java:15)\r\n    Caused by: org.openqa.selenium.WebDriverException: unknown error: chrome failed to start\r\n      (Driver info: chromedriver=2.0,platform=Windows NT 6.2 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 329 milliseconds\r\n    Build info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\r\n    System info: host: &#39;*************&#39;, ip: &#39;************&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:217)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:169)\r\n    \tat org.openqa.selenium.remote.JsonWireProtocolResponse.lambda$errorHandler$0(JsonWireProtocolResponse.java:54)\r\n    \tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$3(ProtocolHandshake.java:151)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:153)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:102)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\r\n    \t... 6 more\r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\nI understand java but I am new to Selenium. I have tried it in Eclipse, but it still doesn&#39;t work. ","title":"org.openqa.selenium.WebDriverException: unknown error: chrome failed to start using Selenium ChromeDriver and Chrome through Java","body":"<p>I have tried opening a page with Selenium.\nI have also imported the jars.\nBut it won't work.</p>\n<p>Here is my code:\npackage org. example;</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Main {\n\n    static String url = &quot;link&quot;;\n\n    public static void main(String[] args) {\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(url);\n        System.out.println(&quot;Wait a bit for the page to render&quot;);\n    }\n}\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n[0.037][INFO]: received WebDriver reques: GET /saus \n[0.037][INFO]: sending WebDriver response: 200 {\n   &quot;sessionId&quot;: &quot;&quot;,\n   &quot;saus&quot;: 0,\n   &quot;value&quot;: {\n      &quot;build&quot;: {\n         &quot;version&quot;: &quot;alpha&quot;\n      },\n      &quot;os&quot;: {\n         &quot;arch&quot;: &quot;x86_64&quot;,\n         &quot;name&quot;: &quot;Windows NT&quot;,\n         &quot;version&quot;: &quot;6.2&quot;\n      }\n   }\n}\n[0.461][INFO]: received WebDriver reques: POST /session {\n   &quot;capabiliies&quot;: {\n      &quot;firsMach&quot;: [ {\n         &quot;browserName&quot;: &quot;chrome&quot;,\n         &quot;goog:chromeOpions&quot;: {\n            &quot;args&quot;: [  ],\n            &quot;exensions&quot;: [  ]\n         }\n      } ]\n   },\n   &quot;desiredCapabiliies&quot;: {\n      &quot;browserName&quot;: &quot;chrome&quot;,\n      &quot;goog:chromeOpions&quot;: {\n         &quot;args&quot;: [  ],\n         &quot;exensions&quot;: [  ]\n      }\n   }\n}\n[0.462][INFO]: Launching chrome:  --ignore-cerificae-errors\n[0.464][INFO]: sending WebDriver response: 200 {\n   &quot;sessionId&quot;: &quot;&quot;,\n   &quot;saus&quot;: 13,\n   &quot;value&quot;: {\n      &quot;message&quot;: &quot;unknown error: chrome failed o sar\\n  (Driver info: chromedriver=2.0,plaform=Windows NT 6.2 x86_64)&quot;\n   }\n}\n[0.546][INFO]: received WebDriver reques: GET /shudown \n[0.546][INFO]: sending WebDriver response: 200 {\n   &quot;sessionId&quot;: &quot;&quot;,\n   &quot;saus&quot;: 0,\n   &quot;value&quot;: null\n}\nStarted ChromeDriver (v2.0) on port 54751\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:587)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:264)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:179)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\n    at org.example.Main.main(Main.java:15)\nCaused by: org.openqa.selenium.WebDriverException: unknown error: chrome failed to start\n  (Driver info: chromedriver=2.0,platform=Windows NT 6.2 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 329 milliseconds\nBuild info: version: '4.3.0', revision: 'a4995e2c09*'\nSystem info: host: '*************', ip: '************', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '18'\nDriver info: driver.version: ChromeDriver\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:217)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:169)\n    at org.openqa.selenium.remote.JsonWireProtocolResponse.lambda$errorHandler$0(JsonWireProtocolResponse.java:54)\n    at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n    at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$3(ProtocolHandshake.java:151)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:153)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:102)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\n    ... 6 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>I understand java but I am new to Selenium. I have tried it in Eclipse, but it still doesn't work.</p>\n"},{"tags":["java","spring-boot","rest","nullpointerexception","sonarqube"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1628222947,"post_id":68675995,"comment_id":121368273,"body_markdown":"As a side note, you should probably be checking `getStatusCode().is2xxSuccessful()`, since sending mail is _particularly_ likely to send you back a 202.","body":"As a side note, you should probably be checking <code>getStatusCode().is2xxSuccessful()</code>, since sending mail is <i>particularly</i> likely to send you back a 202."},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":1,"creation_date":1628222969,"post_id":68675995,"comment_id":121368277,"body_markdown":"Try do `String body = response.getBody(); if (body != null) {/*do whatever you want with body*/}`","body":"Try do <code>String body = response.getBody(); if (body != null) {&#47;*do whatever you want with body*&#47;}</code>"},{"owner":{"account_id":3956552,"reputation":447,"user_id":3264825,"display_name":"Dhaval Goti"},"score":0,"creation_date":1628223217,"post_id":68675995,"comment_id":121368327,"body_markdown":"@Ofek response is object ResponseEntity class. And ResponseEntity.getBody is object type and String type.","body":"@Ofek response is object ResponseEntity class. And ResponseEntity.getBody is object type and String type."},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":1,"creation_date":1628223331,"post_id":68675995,"comment_id":121368355,"body_markdown":"Instead of `String` put `GenericRes&lt;?&gt;`","body":"Instead of <code>String</code> put <code>GenericRes&lt;?&gt;</code>"},{"owner":{"account_id":3956552,"reputation":447,"user_id":3264825,"display_name":"Dhaval Goti"},"score":0,"creation_date":1628223656,"post_id":68675995,"comment_id":121368429,"body_markdown":"Thank you @Ofek. It working fine.","body":"Thank you @Ofek. It working fine."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1628230494,"creation_date":1628223214,"answer_id":68676048,"question_id":68675995,"body_markdown":"It is a false positive.  SonarCube&#39;s rule is a bit &quot;dumb&quot;.  But you should be able to help it out ... something like this:\r\n\r\n\r\n    GenericRes&lt;?&gt; body = response.getBody();\r\n    if (body != null) {\r\n        String message = body.getMessage();\r\n        if (message != null &amp;&amp; !message.isEmpty()) {\r\n            return CompletableFuture.completedFuture(message);\r\n        }\r\n    }\r\n\r\nToo my mind, that is *more readable* than the versions that SonarCube is having trouble with.  So, that is a &quot;win - win&quot; solution.\r\n\r\n","title":"try to fix SonarQube bug - A &quot;NullPointerException&quot; could be thrown","body":"<p>It is a false positive.  SonarCube's rule is a bit &quot;dumb&quot;.  But you should be able to help it out ... something like this:</p>\n<pre><code>GenericRes&lt;?&gt; body = response.getBody();\nif (body != null) {\n    String message = body.getMessage();\n    if (message != null &amp;&amp; !message.isEmpty()) {\n        return CompletableFuture.completedFuture(message);\n    }\n}\n</code></pre>\n<p>Too my mind, that is <em>more readable</em> than the versions that SonarCube is having trouble with.  So, that is a &quot;win - win&quot; solution.</p>\n"},{"tags":[],"owner":{"account_id":16207232,"reputation":31,"user_id":11702135,"display_name":"Akash Yadagouda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686050826,"creation_date":1686050826,"answer_id":76414152,"question_id":68675995,"body_markdown":"its reported here. There is bug in the sonar. \r\nhttps://community.sonarsource.com/t/java-s2259-a-nullpointerexception-could-be-thrown-getmessage-can-return-null/78815","title":"try to fix SonarQube bug - A &quot;NullPointerException&quot; could be thrown","body":"<p>its reported here. There is bug in the sonar.\n<a href=\"https://community.sonarsource.com/t/java-s2259-a-nullpointerexception-could-be-thrown-getmessage-can-return-null/78815\" rel=\"nofollow noreferrer\">https://community.sonarsource.com/t/java-s2259-a-nullpointerexception-could-be-thrown-getmessage-can-return-null/78815</a></p>\n"}],"owner":{"account_id":3956552,"reputation":447,"user_id":3264825,"display_name":"Dhaval Goti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5604,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68676048,"answer_count":2,"score":0,"last_activity_date":1686050826,"creation_date":1628222650,"question_id":68675995,"body_markdown":"I am facing one strange Sonar issue - A &quot;NullPointerException&quot; could be thrown.\r\n\r\nBelow is my service implementation class. emailNotificationServiceClient is FeignClient Interface which works fine.\r\n\r\n          try {\r\n\t\t\t// send POST request\r\n\t\t\tResponseEntity&lt;GenericRes&lt;?&gt;&gt; response = emailNotificationServiceClient.sendEmail(payload);\r\n\t\t\t// check response\r\n\t\t\tif (response != null) {\r\n\t\t\t\tif (response.getStatusCode() == HttpStatus.OK)\r\n\t\t\t\t\tlog.info(&quot;Email Send Successful : {}&quot;, response.getBody());\r\n\t\t\t\telse\r\n\t\t\t\t\tlog.info(&quot;Email Send Failed : {}&quot;, response.getBody());\r\n\r\n\t\t\t\tif (response.getBody() != null &amp;&amp; response.getBody().getMessage() != null &amp;&amp; !response.getBody().getMessage().isEmpty())\r\n\t\t\t\t\treturn CompletableFuture.completedFuture(response.getBody().getMessage());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Error while sending email - sendEmailNotification in esb&quot;, e);\r\n\t\t\treturn CompletableFuture.completedFuture(e.getMessage());\r\n\t\t}\r\n\r\nGenericRes class -\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class GenericRes&lt;T&gt; {\r\n    \r\n    \tprivate String message;\r\n    \t\r\n    \tprivate T data;\r\n    \r\n    }\r\n\r\nI know that I have to add null check for object and then I should use that object. I have tried that but it won&#39;t work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI have also tried Java 8 Optional.ofNullable but still facing same problem.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z4ScU.png\r\n  [2]: https://i.stack.imgur.com/bP4hR.png","title":"try to fix SonarQube bug - A &quot;NullPointerException&quot; could be thrown","body":"<p>I am facing one strange Sonar issue - A &quot;NullPointerException&quot; could be thrown.</p>\n<p>Below is my service implementation class. emailNotificationServiceClient is FeignClient Interface which works fine.</p>\n<pre><code>      try {\n        // send POST request\n        ResponseEntity&lt;GenericRes&lt;?&gt;&gt; response = emailNotificationServiceClient.sendEmail(payload);\n        // check response\n        if (response != null) {\n            if (response.getStatusCode() == HttpStatus.OK)\n                log.info(&quot;Email Send Successful : {}&quot;, response.getBody());\n            else\n                log.info(&quot;Email Send Failed : {}&quot;, response.getBody());\n\n            if (response.getBody() != null &amp;&amp; response.getBody().getMessage() != null &amp;&amp; !response.getBody().getMessage().isEmpty())\n                return CompletableFuture.completedFuture(response.getBody().getMessage());\n        }\n    } catch (Exception e) {\n        log.error(&quot;Error while sending email - sendEmailNotification in esb&quot;, e);\n        return CompletableFuture.completedFuture(e.getMessage());\n    }\n</code></pre>\n<p>GenericRes class -</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class GenericRes&lt;T&gt; {\n\n    private String message;\n    \n    private T data;\n\n}\n</code></pre>\n<p>I know that I have to add null check for object and then I should use that object. I have tried that but it won't work.</p>\n<p><a href=\"https://i.stack.imgur.com/Z4ScU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4ScU.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also tried Java 8 Optional.ofNullable but still facing same problem.</p>\n<p><a href=\"https://i.stack.imgur.com/bP4hR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bP4hR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1686050763,"post_id":76414096,"comment_id":134743119,"body_markdown":"You&#39;re not parsing the json twice but you&#39;re trying to read data from an input stream that has already been consumed. Why are you calling those 2 methods on the same stream anyways? Can you explain the use case? I&#39;d probably go for `readJson()` + `parseJson(String jsonString)`.","body":"You&#39;re not parsing the json twice but you&#39;re trying to read data from an input stream that has already been consumed. Why are you calling those 2 methods on the same stream anyways? Can you explain the use case? I&#39;d probably go for <code>readJson()</code> + <code>parseJson(String jsonString)</code>."},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1686050784,"post_id":76414096,"comment_id":134743124,"body_markdown":"Can&#39;t see any reason that you would want to parse it twice. I can&#39;t even see a reason why you would still need the raw string. Anyways a solution would be to split readAndParseJSON into readJSON and parseJSON and save the read String in a local variable. The Problem is just that the inputStream can only be read once.","body":"Can&#39;t see any reason that you would want to parse it twice. I can&#39;t even see a reason why you would still need the raw string. Anyways a solution would be to split readAndParseJSON into readJSON and parseJSON and save the read String in a local variable. The Problem is just that the inputStream can only be read once."},{"owner":{"account_id":28709262,"reputation":35,"user_id":21985054,"display_name":"mosid"},"score":0,"creation_date":1686052513,"post_id":76414096,"comment_id":134743505,"body_markdown":"Its kinda predefined functions used multiple places so I can&#39;t edit parseAndReadJSON and readJSON. Thanks for helping me with inputStream clue since it can be read twice. I just parsed and get `abc` value inside fun().","body":"Its kinda predefined functions used multiple places so I can&#39;t edit parseAndReadJSON and readJSON. Thanks for helping me with inputStream clue since it can be read twice. I just parsed and get <code>abc</code> value inside fun()."}],"owner":{"account_id":28709262,"reputation":35,"user_id":21985054,"display_name":"mosid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686050430,"creation_date":1686050244,"question_id":76414096,"body_markdown":"I have two function `readJSON()` and `readAndParseJSON()`, I&#39;m seeing the issue when calling the function one after another since im parsing it twice(I guess).\r\n\r\nHow can I unparse or undo the things before calling again. I cant edit readJSON and readAndParseJSON.\r\n`req` is `HttpServletRequest`.\r\n\r\n```\r\nJSONObject jsonObject = (JSONObject) JSONReaderAndParser.readAndParseJSON(req);\r\nif (jsonObject.get(&quot;abc&quot;) != null) \r\n  Boolean abc = Boolean.parseBoolean(jsonObject.get(&quot;abc&quot;).toString());         \r\nfun(JSONReaderAndParser.readJSON(request),abc);\r\n```      \r\n\r\n```\r\npublic static Object readAndParseJSON(HttpServletRequest request) throws Exception {\r\n\tObject object;\r\n\r\n\ttry {\r\n\t    JSONParser parser = new JSONParser();\r\n\t    StringBuilder jsonString = new StringBuilder();\r\n\t    String data = null;\r\n\t    data = IOUtils.toString(request.getInputStream(), &quot;UTF-8&quot;);\r\n\t    jsonString.append(data);\r\n\r\n\t    object = parser.parse(jsonString.toString());\r\n\t} catch (IOException e) {\r\n\t    throw new Exception(&quot;Server error&quot;);\r\n\t} catch (ParseException e) {\r\n\t    throw new Exception(&quot;bad request&quot;);\r\n\t}\r\n\r\n\tif (object == null) {\r\n\t    throw new Exception(&quot;Invalid json&quot;);\r\n\t}\r\n\r\n\treturn object;\r\n    }\r\n\r\n    public static String readJSON(HttpServletRequest request) throws Exception {\r\n\r\n\tStringBuffer jsonString = new StringBuffer();\r\n\tString data = null;\r\n\ttry {\r\n\t    data = IOUtils.toString(request.getInputStream(), &quot;UTF-8&quot;);\r\n\t    jsonString.append(data);\r\n\t} catch (Exception e) {\r\n\t    throw new Exception();\r\n\t}\r\n\tif (data == null) {\r\n\t    throw new Exception(&quot;Parsed object is null&quot;);\r\n\t}\r\n\r\n\treturn jsonString.toString();\r\n    }\r\n```\r\ngetting error:\r\n```\r\nException while parsing JSON string: Unexpected token END OF FILE at position 0.\r\n```","title":"Parse JSON object twice in java","body":"<p>I have two function <code>readJSON()</code> and <code>readAndParseJSON()</code>, I'm seeing the issue when calling the function one after another since im parsing it twice(I guess).</p>\n<p>How can I unparse or undo the things before calling again. I cant edit readJSON and readAndParseJSON.\n<code>req</code> is <code>HttpServletRequest</code>.</p>\n<pre><code>JSONObject jsonObject = (JSONObject) JSONReaderAndParser.readAndParseJSON(req);\nif (jsonObject.get(&quot;abc&quot;) != null) \n  Boolean abc = Boolean.parseBoolean(jsonObject.get(&quot;abc&quot;).toString());         \nfun(JSONReaderAndParser.readJSON(request),abc);\n</code></pre>\n<pre><code>public static Object readAndParseJSON(HttpServletRequest request) throws Exception {\n    Object object;\n\n    try {\n        JSONParser parser = new JSONParser();\n        StringBuilder jsonString = new StringBuilder();\n        String data = null;\n        data = IOUtils.toString(request.getInputStream(), &quot;UTF-8&quot;);\n        jsonString.append(data);\n\n        object = parser.parse(jsonString.toString());\n    } catch (IOException e) {\n        throw new Exception(&quot;Server error&quot;);\n    } catch (ParseException e) {\n        throw new Exception(&quot;bad request&quot;);\n    }\n\n    if (object == null) {\n        throw new Exception(&quot;Invalid json&quot;);\n    }\n\n    return object;\n    }\n\n    public static String readJSON(HttpServletRequest request) throws Exception {\n\n    StringBuffer jsonString = new StringBuffer();\n    String data = null;\n    try {\n        data = IOUtils.toString(request.getInputStream(), &quot;UTF-8&quot;);\n        jsonString.append(data);\n    } catch (Exception e) {\n        throw new Exception();\n    }\n    if (data == null) {\n        throw new Exception(&quot;Parsed object is null&quot;);\n    }\n\n    return jsonString.toString();\n    }\n</code></pre>\n<p>getting error:</p>\n<pre><code>Exception while parsing JSON string: Unexpected token END OF FILE at position 0.\n</code></pre>\n"},{"tags":["java","mysql","eclipse","maven","javafx"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686050373,"post_id":76414047,"comment_id":134743042,"body_markdown":"If you are using Maven to build the project you should not play with Eclipse Build Path.","body":"If you are using Maven to build the project you should not play with Eclipse Build Path."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686050793,"post_id":76414047,"comment_id":134743127,"body_markdown":"You don&#39;t say *how* you&#39;re running it, but if you want to run it as *one* executable jar, you will need to put the driver into that jar with something like Maven Shade. Alternatively, use a specified classpath in the command (you *won&#39;t* be then able to use `-jar`)","body":"You don&#39;t say <i>how</i> you&#39;re running it, but if you want to run it as <i>one</i> executable jar, you will need to put the driver into that jar with something like Maven Shade. Alternatively, use a specified classpath in the command (you <i>won&#39;t</i> be then able to use <code>-jar</code>)"},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1686051169,"post_id":76414047,"comment_id":134743224,"body_markdown":"https://stackoverflow.com/questions/45777949/whats-the-purpose-of-uses-directive-in-java-9","body":"<a href=\"https://stackoverflow.com/questions/45777949/whats-the-purpose-of-uses-directive-in-java-9\" title=\"whats the purpose of uses directive in java 9\">stackoverflow.com/questions/45777949/&hellip;</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1686056892,"post_id":76414047,"comment_id":134744467,"body_markdown":"It seems that in your `module-info.java` the `requires ...` statement for `mysql-connector-j-8.0.32.jar` is missing (which does not have a `module-info.class`, nor an `Automatic-Module-Name: ...`).","body":"It seems that in your <code>module-info.java</code> the <code>requires ...</code> statement for <code>mysql-connector-j-8.0.32.jar</code> is missing (which does not have a <code>module-info.class</code>, nor an <code>Automatic-Module-Name: ...</code>)."},{"owner":{"account_id":28763896,"reputation":1,"user_id":22029216,"display_name":"Xiro"},"score":0,"creation_date":1686120080,"post_id":76414047,"comment_id":134753671,"body_markdown":"@g00se When i run it as a default java application using eclipse, there is no issues. In terms of Maven Shade, I attempted to use that as well, I get a different yet similar error: -\n\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NoClassDefFoundError: javax/naming/NamingException\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:186)\n\nJust to note again, the .jar runs fine until I need to communicate with the MySQL database.","body":"@g00se When i run it as a default java application using eclipse, there is no issues. In terms of Maven Shade, I attempted to use that as well, I get a different yet similar error: -  Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NoClassDefFoundError: javax/naming/NamingException         at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisterin&zwnj;&#8203;gDriver.java:186)  Just to note again, the .jar runs fine until I need to communicate with the MySQL database."},{"owner":{"account_id":28763896,"reputation":1,"user_id":22029216,"display_name":"Xiro"},"score":0,"creation_date":1686120779,"post_id":76414047,"comment_id":134753798,"body_markdown":"@mrmcwolf According to the question you linked,  from what I understood, I have to use the &quot;use&quot; clause to make sure the module is available. So, I added the &quot;uses java.sql.Driver;&quot; statement. unfortunately, nothing changed. To be fair I am a bit new to the whole module-info.java scene.","body":"@mrmcwolf According to the question you linked,  from what I understood, I have to use the &quot;use&quot; clause to make sure the module is available. So, I added the &quot;uses java.sql.Driver;&quot; statement. unfortunately, nothing changed. To be fair I am a bit new to the whole module-info.java scene."},{"owner":{"account_id":28763896,"reputation":1,"user_id":22029216,"display_name":"Xiro"},"score":0,"creation_date":1686120947,"post_id":76414047,"comment_id":134753819,"body_markdown":"@howlger I am a bit confused, isnt &quot;requires java.sql;&quot; infers that i require the connector? I apologize I am a bit new to module-info.java, elaborate more if possible.","body":"@howlger I am a bit confused, isnt &quot;requires java.sql;&quot; infers that i require the connector? I apologize I am a bit new to module-info.java, elaborate more if possible."},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1686129393,"post_id":76414047,"comment_id":134755502,"body_markdown":"with `uses` you declare that your module will use SPI to dynamically load an interface. it remains to specify a module that offers the corresponding implementation of the interface (the driver). this is done using the `--module-path` parameter when starting the application (if you are not using a custom jre image)","body":"with <code>uses</code> you declare that your module will use SPI to dynamically load an interface. it remains to specify a module that offers the corresponding implementation of the interface (the driver). this is done using the <code>--module-path</code> parameter when starting the application (if you are not using a custom jre image)"}],"owner":{"account_id":28763896,"reputation":1,"user_id":22029216,"display_name":"Xiro"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686049803,"creation_date":1686049803,"question_id":76414047,"body_markdown":"I am a bit new to maven and javafx. The program behaves normally whenever it is running through eclipse. However, a problem occurs whenever I clean install it into jar using maven. i come across `java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver` error message. Note that the javafx part of my code runs just fine. The program starts with a login instance which opens just fine, but when I try to connect to the MySQL database by pressing &quot;login&quot;, the following error occurs: -\r\n\r\n\r\n```\r\njava.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Unknown Source)\r\n        at x.xx@0.0.1-SNAPSHOT/x.xx.xxx.MySQL_Connect.Login(Unknown Source)\r\n        at x.xx@0.0.1-SNAPSHOT/x.xx.xxx.Login_Control$1.handle(Unknown Source)\r\n        at x.xx@0.0.1-SNAPSHOT/x.xx.xxx.Login_Control$1.handle(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Unknown Source)\r\n        at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Unknown Source)\r\n        at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(Unknown Source)\r\n        at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n        at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n        at java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(Unknown Source)\r\n        at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(Unknown Source)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\n```\r\nHowever, you can see that the library is in target\\modules\\ as below: -\r\n\r\n[This is the target\\modules\\ directory](https://i.stack.imgur.com/AcN7Q.png)\r\n\r\nMy pom.xml is as follows: -\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;x.xx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xxx&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;xxx&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;mainClass&gt;x.xx.xxx.Main&lt;/mainClass&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;mysql.version&gt;8.0.32&lt;/mysql.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\r\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;${mysql.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\t\t\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;target&gt;\r\n                                &lt;echo file=&quot;${project.build.directory}/xx.bat&quot;&gt;start jlink-image\\bin\\java -jar modules\\${project.artifactId}-${project.version}.jar&lt;/echo&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n                        &lt;version&gt;9.5&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.moditect&lt;/groupId&gt;\r\n                &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.Beta2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;create-runtime-image&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;create-runtime-image&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;modulePath&gt;\r\n                                &lt;path&gt;${project.build.directory}/modules&lt;/path&gt;\r\n                            &lt;/modulePath&gt;\r\n                            &lt;modules&gt;\r\n                                &lt;module&gt;${project.groupId}&lt;/module&gt;\r\n                            &lt;/modules&gt;\r\n                            &lt;launcher&gt;\r\n                                &lt;name&gt;${project.groupId}&lt;/name&gt;\r\n\r\n                            &lt;/launcher&gt;\r\n                            &lt;compression&gt;2&lt;/compression&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/jlink-image&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\r\n                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            \r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nhere also is module-info.java, if that helps:- \r\n\r\n\r\n```\r\nmodule x.xx{\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.media;\r\n    requires java.sql;\r\n    \r\n    \r\n    opens x.xx.xxx to javafx.fxml;\r\n    exports x.xx.xxx;\r\n}\r\n```\r\n\r\nand below is a snippet of MySQL_Connect.java which involves connecting to the server: - \r\n\r\n\r\n```\r\npackage x.xx.xxx;\r\n\r\n\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\nimport javafx.scene.control.Alert;\r\n\r\npublic class MySQL_Connect {\r\n\t\r\n    static String url = &quot;jdbc:mysql://192.168.100.2:3306/xxx&quot;;\r\n    static String username = &quot;user&quot;;\r\n    static String password = &quot;P@ssW0rd&quot;;\r\n    \r\n\t   public static boolean Login(String usern, String pass) {\r\n\t\t   \r\n\t\t   Connection mysql = null;\r\n\t\t   PreparedStatement query = null;\r\n\t\t   ResultSet reply = null;\r\n\t\t\r\n\t\t   try{\r\n\t           Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t           mysql = DriverManager.getConnection(url,username,password);\r\n\t           query = mysql.prepareStatement(&quot;SELECT * FROM xxx.users WHERE username = ?&quot;);\r\n\t           query.setString(1, usern);\r\n\t           reply = query.executeQuery();\r\n                   ..........\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nA few things i tried included:\r\n- playing with the Java Build Path in eclipse and add the mysql connector externally in the Modulepath and in the Classpath.\r\n- playing with the module-info.java file to see if maybe maven needs a different definition of java.sql;\r\n- utilizing different plugins on maven that looked promising including shading and the stuff you see above.\r\n- tried to upgrade/downgrade the connector, other plugins, and the jdk versions.\r\n- added the &quot;Class.forName&quot; in the MySQL_Connect.java (a different error saying that it could not find a suitable driver to connect me to the database).\r\n- uninstalling and reinstalling eclipse | maven | jdk.\r\n\r\ni went through various stackoverflow threads that went through similar problems to this one but nothing seems to work. This is my first post ever on stackoverflow, i hoped i wouldn&#39;t need to do this, but i am running out of options at this point. :S","title":"java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver (Only occurs when installed as .jar file)","body":"<p>I am a bit new to maven and javafx. The program behaves normally whenever it is running through eclipse. However, a problem occurs whenever I clean install it into jar using maven. i come across <code>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver</code> error message. Note that the javafx part of my code runs just fine. The program starts with a login instance which opens just fine, but when I try to connect to the MySQL database by pressing &quot;login&quot;, the following error occurs: -</p>\n<pre><code>java.lang.ClassNotFoundException: com.mysql.cj.jdbc.Driver\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Unknown Source)\n        at x.xx@0.0.1-SNAPSHOT/x.xx.xxx.MySQL_Connect.Login(Unknown Source)\n        at x.xx@0.0.1-SNAPSHOT/x.xx.xxx.Login_Control$1.handle(Unknown Source)\n        at x.xx@0.0.1-SNAPSHOT/x.xx.xxx.Login_Control$1.handle(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\n        at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Unknown Source)\n        at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Unknown Source)\n        at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Unknown Source)\n        at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(Unknown Source)\n        at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\n        at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\n        at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Unknown Source)\n        at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Unknown Source)\n        at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Unknown Source)\n        at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\n        at java.base/java.security.AccessController.doPrivileged(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(Unknown Source)\n        at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>However, you can see that the library is in target\\modules\\ as below: -</p>\n<p><a href=\"https://i.stack.imgur.com/AcN7Q.png\" rel=\"nofollow noreferrer\">This is the target\\modules\\ directory</a></p>\n<p>My pom.xml is as follows: -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;x.xx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxx&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;xxx&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;mainClass&gt;x.xx.xxx.Main&lt;/mainClass&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;mysql.version&gt;8.0.32&lt;/mysql.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-media&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;${mysql.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n        \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;target&gt;\n                                &lt;echo file=&quot;${project.build.directory}/xx.bat&quot;&gt;start jlink-image\\bin\\java -jar modules\\${project.artifactId}-${project.version}.jar&lt;/echo&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                        &lt;version&gt;9.5&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.moditect&lt;/groupId&gt;\n                &lt;artifactId&gt;moditect-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0.0.Beta2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;create-runtime-image&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;create-runtime-image&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;modulePath&gt;\n                                &lt;path&gt;${project.build.directory}/modules&lt;/path&gt;\n                            &lt;/modulePath&gt;\n                            &lt;modules&gt;\n                                &lt;module&gt;${project.groupId}&lt;/module&gt;\n                            &lt;/modules&gt;\n                            &lt;launcher&gt;\n                                &lt;name&gt;${project.groupId}&lt;/name&gt;\n\n                            &lt;/launcher&gt;\n                            &lt;compression&gt;2&lt;/compression&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/jlink-image&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\n                            &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>here also is module-info.java, if that helps:-</p>\n<pre><code>module x.xx{\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.media;\n    requires java.sql;\n    \n    \n    opens x.xx.xxx to javafx.fxml;\n    exports x.xx.xxx;\n}\n</code></pre>\n<p>and below is a snippet of MySQL_Connect.java which involves connecting to the server: -</p>\n<pre><code>package x.xx.xxx;\n\n\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\n\nimport javafx.scene.control.Alert;\n\npublic class MySQL_Connect {\n    \n    static String url = &quot;jdbc:mysql://192.168.100.2:3306/xxx&quot;;\n    static String username = &quot;user&quot;;\n    static String password = &quot;P@ssW0rd&quot;;\n    \n       public static boolean Login(String usern, String pass) {\n           \n           Connection mysql = null;\n           PreparedStatement query = null;\n           ResultSet reply = null;\n        \n           try{\n               Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n               mysql = DriverManager.getConnection(url,username,password);\n               query = mysql.prepareStatement(&quot;SELECT * FROM xxx.users WHERE username = ?&quot;);\n               query.setString(1, usern);\n               reply = query.executeQuery();\n                   ..........\n\n</code></pre>\n<p>A few things i tried included:</p>\n<ul>\n<li>playing with the Java Build Path in eclipse and add the mysql connector externally in the Modulepath and in the Classpath.</li>\n<li>playing with the module-info.java file to see if maybe maven needs a different definition of java.sql;</li>\n<li>utilizing different plugins on maven that looked promising including shading and the stuff you see above.</li>\n<li>tried to upgrade/downgrade the connector, other plugins, and the jdk versions.</li>\n<li>added the &quot;Class.forName&quot; in the MySQL_Connect.java (a different error saying that it could not find a suitable driver to connect me to the database).</li>\n<li>uninstalling and reinstalling eclipse | maven | jdk.</li>\n</ul>\n<p>i went through various stackoverflow threads that went through similar problems to this one but nothing seems to work. This is my first post ever on stackoverflow, i hoped i wouldn't need to do this, but i am running out of options at this point. :S</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":24969164,"reputation":66,"user_id":18832481,"display_name":"n1nja88888"},"score":0,"creation_date":1686047727,"post_id":76413704,"comment_id":134742565,"body_markdown":"you gotta implement UserRepository and inject the implementation into the context with `@Component` or smth","body":"you gotta implement UserRepository and inject the implementation into the context with <code>@Component</code> or smth"},{"owner":{"account_id":8515167,"reputation":5100,"user_id":6383857,"display_name":"StaticBeagle"},"score":1,"creation_date":1686048258,"post_id":76413704,"comment_id":134742660,"body_markdown":"Try adding `@EnableJpaRepositories` in your main Spring class. You can add it right below `@SpringBootApplication`.","body":"Try adding <code>@EnableJpaRepositories</code> in your main Spring class. You can add it right below <code>@SpringBootApplication</code>."},{"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"score":1,"creation_date":1686048574,"post_id":76413704,"comment_id":134742712,"body_markdown":"@StaticBeagle That fixed that issue. Thanks. You can write it as an answer and I&#39;ll accept it.","body":"@StaticBeagle That fixed that issue. Thanks. You can write it as an answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":8515167,"reputation":5100,"user_id":6383857,"display_name":"StaticBeagle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686049470,"creation_date":1686048722,"answer_id":76413885,"question_id":76413704,"body_markdown":"You can add the `@EnableJpaRepositories` annotation to the main `Spring` class as follows:\r\n\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories\r\n    public class ClmConnectorService {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ClmConnectorService.class, args);\r\n        }\r\n    }","title":"SpringBoot can&#39;t find bean to inject","body":"<p>You can add the <code>@EnableJpaRepositories</code> annotation to the main <code>Spring</code> class as follows:</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories\npublic class ClmConnectorService {\n    public static void main(String[] args) {\n        SpringApplication.run(ClmConnectorService.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686048723,"creation_date":1686048723,"answer_id":76413886,"question_id":76413704,"body_markdown":"Annotate your interface with `@Repository` annotation, spring-boot auto-scanning will then create the bean of `UserRepository`.\r\n`@EnableJpaRepositories` can also be used, its used when your application have multiple datasource configured ","title":"SpringBoot can&#39;t find bean to inject","body":"<p>Annotate your interface with <code>@Repository</code> annotation, spring-boot auto-scanning will then create the bean of <code>UserRepository</code>.\n<code>@EnableJpaRepositories</code> can also be used, its used when your application have multiple datasource configured</p>\n"}],"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76413885,"answer_count":2,"score":0,"last_activity_date":1686049470,"creation_date":1686047367,"question_id":76413704,"body_markdown":"I have a simple SpringBoot app which has following classes:\r\n\r\n`org.domain.abcpoc.controllers.DataController.java`\r\n\r\n    package org.domain.abcpoc.controllers;\r\n    \r\n    import org.domain.abcpoc.entities.UserEntity;\r\n    import org.domain.abcpoc.repositories.UserRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/data&quot;)\r\n    public class DataController {\r\n        @Autowired\r\n        private UserRepository repo;\r\n    \r\n        @GetMapping()\r\n        public String test() {\r\n            return &quot;test&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/user&quot;)\r\n        public UserEntity getUser() {\r\n            return repo.findById(&quot;E7####J2####1##&quot;).orElse(null);\r\n        }\r\n    }\r\n\r\n`org.domain.abcpoc.repositories.UserRepository.java`\r\n\r\n    package org.domain.abcpoc.repositories;\r\n    \r\n    import org.domain.abcpoc.entities.UserEntity;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    public interface UserRepository extends CrudRepository&lt;UserEntity, String&gt; {\r\n    }\r\n\r\nMy main Spring class is:\r\n\r\n    package org.domain.abcpoc;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class ClmConnectorService {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ClmConnectorService.class, args);\r\n        }\r\n    }\r\n\r\nAnd the exception I get is:\r\n\r\n&gt; APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Field repo in org.domain.abcpoc.controllers.DataController required\r\n&gt; a bean of type &#39;org.domain.abcpoc.repositories.UserRepository&#39; that\r\n&gt; could not be found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;org.domain.abcpoc.repositories.UserRepository&#39; in your\r\n&gt; configuration.\r\n\r\nCould something else be the issue based on this exception and provided classes?\r\nDatabase configuration?\r\npom.xml?\r\n\r\nThis is part of a Java module, could there be something in the parent pom.xml?","title":"SpringBoot can&#39;t find bean to inject","body":"<p>I have a simple SpringBoot app which has following classes:</p>\n<p><code>org.domain.abcpoc.controllers.DataController.java</code></p>\n<pre><code>package org.domain.abcpoc.controllers;\n\nimport org.domain.abcpoc.entities.UserEntity;\nimport org.domain.abcpoc.repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/data&quot;)\npublic class DataController {\n    @Autowired\n    private UserRepository repo;\n\n    @GetMapping()\n    public String test() {\n        return &quot;test&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    public UserEntity getUser() {\n        return repo.findById(&quot;E7####J2####1##&quot;).orElse(null);\n    }\n}\n</code></pre>\n<p><code>org.domain.abcpoc.repositories.UserRepository.java</code></p>\n<pre><code>package org.domain.abcpoc.repositories;\n\nimport org.domain.abcpoc.entities.UserEntity;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface UserRepository extends CrudRepository&lt;UserEntity, String&gt; {\n}\n</code></pre>\n<p>My main Spring class is:</p>\n<pre><code>package org.domain.abcpoc;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ClmConnectorService {\n    public static void main(String[] args) {\n        SpringApplication.run(ClmConnectorService.class, args);\n    }\n}\n</code></pre>\n<p>And the exception I get is:</p>\n<blockquote>\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field repo in org.domain.abcpoc.controllers.DataController required\na bean of type 'org.domain.abcpoc.repositories.UserRepository' that\ncould not be found.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'org.domain.abcpoc.repositories.UserRepository' in your\nconfiguration.</p>\n</blockquote>\n<p>Could something else be the issue based on this exception and provided classes?\nDatabase configuration?\npom.xml?</p>\n<p>This is part of a Java module, could there be something in the parent pom.xml?</p>\n"},{"tags":["java","xml","spring","oracle","clob"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1426861770,"post_id":29168715,"comment_id":46556101,"body_markdown":"Probably this [answer](https://stackoverflow.com/questions/5549450/java-how-to-insert-clob-into-oracle-database#5549493) could help you.","body":"Probably this <a href=\"https://stackoverflow.com/questions/5549450/java-how-to-insert-clob-into-oracle-database#5549493\">answer</a> could help you."},{"owner":{"account_id":5353182,"reputation":1361,"user_id":4499055,"display_name":"ruudvan"},"score":0,"creation_date":1426862364,"post_id":29168715,"comment_id":46556493,"body_markdown":"You should also be aware of LOB read consistency and make sure that you avoid commits or rollbacks inside the procedure.","body":"You should also be aware of LOB read consistency and make sure that you avoid commits or rollbacks inside the procedure."},{"owner":{"account_id":325607,"reputation":33143,"user_id":646887,"accept_rate":100,"display_name":"Klas Lindb&#228;ck"},"score":0,"creation_date":1427184472,"post_id":29168715,"comment_id":46662213,"body_markdown":"The third parameter of  `CLOB.createTemporary()` should be either `CLOB.DURATION_CALL` or `CLOB.DURATION_SESSION`.","body":"The third parameter of  <code>CLOB.createTemporary()</code> should be either <code>CLOB.DURATION_CALL</code> or <code>CLOB.DURATION_SESSION</code>."}],"answers":[{"tags":[],"owner":{"account_id":210409,"reputation":305,"user_id":462009,"accept_rate":15,"display_name":"vamsi-vegi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440443085,"creation_date":1440443085,"answer_id":32189829,"question_id":29168715,"body_markdown":"The prepared statement should be of type OracleCallableStatement, then follow the sample code as below\r\n\r\n            stmt = (OracleCallableStatement) conn.prepareCall(&quot;{call MSG(&quot; + repeatQmarks(7) + &quot;)}&quot;);\r\n            stmt.setBigDecimal(&quot;P_W_EVENT_LOG_KEY&quot;, wEventLogKey); //1      P_W_EVENT_LOG_KEY   IN     NUMBER,\r\n            stmt.setString(&quot;P_DOMAIN&quot;, domain); //2      P_DOMAIN            IN     VARCHAR2,\r\n            stmt.setString(&quot;P_EXCPT_CD&quot;, sqlExCd); //3      P_EXCPT_CD          IN     VARCHAR2,\r\n            stmt.setString(&quot;P_EXCPT_MSG&quot;, sqlExMsg); //4      P_EXCPT_MSG         IN     VARCHAR2,\r\n            stmt.setStringForClob(&quot;P_PAYLOAD_IN&quot;, &quot;My TEST CLOB 1&quot;); //5      P_PAYLOAD_IN        IN     CLOB DEFAULT NULL,\r\n            stmt.setStringForClob(&quot;P_PAYLOAD_OUT&quot;, &quot;My TEST CLOB 2&quot;); //6      P_PAYLOAD_OUT       IN     CLOB DEFAULT NULL,\r\n            stmt.registerOutParameter(&quot;P_RET_CD&quot;, java.sql.Types.NUMERIC); //7      P_RET_CD               OUT NUMBER);\r\n\r\nNotice how the 5 and 6th params are actually Strings, for the method \r\n\r\n&gt; setStringForClob\r\n\r\n ","title":"Passing XML as a CLOB to Oracle gives me &quot;ORA-22922: nonexistent LOB value&quot; error","body":"<p>The prepared statement should be of type OracleCallableStatement, then follow the sample code as below</p>\n\n<pre><code>        stmt = (OracleCallableStatement) conn.prepareCall(\"{call MSG(\" + repeatQmarks(7) + \")}\");\n        stmt.setBigDecimal(\"P_W_EVENT_LOG_KEY\", wEventLogKey); //1      P_W_EVENT_LOG_KEY   IN     NUMBER,\n        stmt.setString(\"P_DOMAIN\", domain); //2      P_DOMAIN            IN     VARCHAR2,\n        stmt.setString(\"P_EXCPT_CD\", sqlExCd); //3      P_EXCPT_CD          IN     VARCHAR2,\n        stmt.setString(\"P_EXCPT_MSG\", sqlExMsg); //4      P_EXCPT_MSG         IN     VARCHAR2,\n        stmt.setStringForClob(\"P_PAYLOAD_IN\", \"My TEST CLOB 1\"); //5      P_PAYLOAD_IN        IN     CLOB DEFAULT NULL,\n        stmt.setStringForClob(\"P_PAYLOAD_OUT\", \"My TEST CLOB 2\"); //6      P_PAYLOAD_OUT       IN     CLOB DEFAULT NULL,\n        stmt.registerOutParameter(\"P_RET_CD\", java.sql.Types.NUMERIC); //7      P_RET_CD               OUT NUMBER);\n</code></pre>\n\n<p>Notice how the 5 and 6th params are actually Strings, for the method </p>\n\n<blockquote>\n  <p>setStringForClob</p>\n</blockquote>\n"}],"owner":{"account_id":2995473,"reputation":11,"user_id":2542102,"display_name":"RR089"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686049440,"creation_date":1426861171,"question_id":29168715,"body_markdown":"I am building a web service, which takes an input XML in the payload and stores it in the database. \r\n\r\nIn the DAO layer, I am creating a clob object with the XML String like:\r\n\r\n    CLOB clob = CLOB.createTemporary(conn,false,CLOB.MODE_READWRITE);\r\n\t\t\t\tclob.putString(1,inputXml);\r\n\r\nI pass this clob object to Stored Procedure:\r\n\r\n    declareParameter(new SqlParameter(&quot;i_xml&quot;, OracleTypes.CLOB));\r\nand in the executable method :\r\n\r\n    params.put(&quot;i_xml&quot;,clob);\t\t\r\n\tMap&lt;?, ?&gt; result = execute(params);\r\n\r\nSo, when I call this web service, I can see that the XML is being sent to the Oracle DB properly, but I get an error from Database saying :\r\n\r\n    System Error occured while Creating ORA-22922: nonexistent LOB value\r\n\r\nKindly let me know how to fix this issue. Thanks in advance.\r\n","title":"Passing XML as a CLOB to Oracle gives me &quot;ORA-22922: nonexistent LOB value&quot; error","body":"<p>I am building a web service, which takes an input XML in the payload and stores it in the database. </p>\n\n<p>In the DAO layer, I am creating a clob object with the XML String like:</p>\n\n<pre><code>CLOB clob = CLOB.createTemporary(conn,false,CLOB.MODE_READWRITE);\n            clob.putString(1,inputXml);\n</code></pre>\n\n<p>I pass this clob object to Stored Procedure:</p>\n\n<pre><code>declareParameter(new SqlParameter(\"i_xml\", OracleTypes.CLOB));\n</code></pre>\n\n<p>and in the executable method :</p>\n\n<pre><code>params.put(\"i_xml\",clob);       \nMap&lt;?, ?&gt; result = execute(params);\n</code></pre>\n\n<p>So, when I call this web service, I can see that the XML is being sent to the Oracle DB properly, but I get an error from Database saying :</p>\n\n<pre><code>System Error occured while Creating ORA-22922: nonexistent LOB value\n</code></pre>\n\n<p>Kindly let me know how to fix this issue. Thanks in advance.</p>\n"},{"tags":["java","azure","gradle"],"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1686059618,"post_id":76405399,"comment_id":134745141,"body_markdown":"the best way to avoid this kind of errors is to use the microsoft and spring bom to manage the dependencies versions for you, see https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md","body":"the best way to avoid this kind of errors is to use the microsoft and spring bom to manage the dependencies versions for you, see <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md\" rel=\"nofollow noreferrer\">github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686048708,"creation_date":1686048708,"answer_id":76413883,"question_id":76405399,"body_markdown":"This error usually occurs when there is version incompatibility between the `spring-cloud-azure-starter-active-directory` dependency and other dependencies in your project. \r\n\r\n- To resolve this, check the compatibility of the versions of all the dependencies in your project.\r\n- Include the package versions which are compatible to your spring-boot application.\r\n- To avoid this error, you have to downgrade/upgrade your spring-boot version of your project.\r\n- As mentioned in the [MSdoc](https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide?tabs=SpringCloudAzure4x#prerequisites), you need spring boot 2.5 or above versions.\r\n\r\nI have created a simple spring-boot application (version 3.1.0) and used the dependency `com.azure.spring:spring-cloud-azure-starter-active-directory:4.3.0`:\r\n\r\n**build.gradle:**\r\n```java\r\nplugins {  \r\nid &#39;java&#39;  \r\nid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;  \r\nid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;  \r\n}  \r\n  \r\ngroup = &#39;com.example&#39;  \r\nversion = &#39;0.0.1-SNAPSHOT&#39;  \r\nsourceCompatibility = &#39;17&#39;  \r\n  \r\ndependencies {  \r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;  \r\nimplementation &#39;com.azure.spring:spring-cloud-azure-starter-active-directory:4.3.0&#39;  \r\ndevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;  \r\ntestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;  \r\n}\r\n```\r\n***I am able to build and run the application successfully.***\r\n\r\n![enter image description here](https://i.imgur.com/HN6YPEJ.png)\r\n\r\n**Response:**\r\n\r\n![enter image description here](https://i.imgur.com/JxiDzRh.png)\r\n\r\n![enter image description here](https://i.imgur.com/8qyNYvb.png)\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError when adding com.azure.spring:spring-cloud-azure-starter-active-directory:4.3.0 dependency","body":"<p>This error usually occurs when there is version incompatibility between the <code>spring-cloud-azure-starter-active-directory</code> dependency and other dependencies in your project.</p>\n<ul>\n<li>To resolve this, check the compatibility of the versions of all the dependencies in your project.</li>\n<li>Include the package versions which are compatible to your spring-boot application.</li>\n<li>To avoid this error, you have to downgrade/upgrade your spring-boot version of your project.</li>\n<li>As mentioned in the <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide?tabs=SpringCloudAzure4x#prerequisites\" rel=\"nofollow noreferrer\">MSdoc</a>, you need spring boot 2.5 or above versions.</li>\n</ul>\n<p>I have created a simple spring-boot application (version 3.1.0) and used the dependency <code>com.azure.spring:spring-cloud-azure-starter-active-directory:4.3.0</code>:</p>\n<p><strong>build.gradle:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {  \nid 'java'  \nid 'org.springframework.boot' version '3.1.0'  \nid 'io.spring.dependency-management' version '1.1.0'  \n}  \n  \ngroup = 'com.example'  \nversion = '0.0.1-SNAPSHOT'  \nsourceCompatibility = '17'  \n  \ndependencies {  \nimplementation 'org.springframework.boot:spring-boot-starter-web'  \nimplementation 'com.azure.spring:spring-cloud-azure-starter-active-directory:4.3.0'  \ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'  \ntestImplementation 'org.springframework.boot:spring-boot-starter-test'  \n}\n</code></pre>\n<p><em><strong>I am able to build and run the application successfully.</strong></em></p>\n<p><img src=\"https://i.imgur.com/HN6YPEJ.png\" alt=\"enter image description here\" /></p>\n<p><strong>Response:</strong></p>\n<p><img src=\"https://i.imgur.com/JxiDzRh.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/8qyNYvb.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":13081129,"reputation":758,"user_id":9451651,"display_name":"Guts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686048708,"creation_date":1685959965,"question_id":76405399,"body_markdown":"When adding com.azure.spring:spring-cloud-azure-starter-active-directory:4.3.0 dependency to my build.gradle file I am getting this error:\r\n\r\n    \r\n    Caused by:\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;management.metrics-org.springframework.boot.actuate.autoconfigure.metrics.MetricsProperties&#39;: Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: io/opentelemetry/javaagent/instrumentation/internal/classloader/BootDelegationInstrumentation$Holder\r\n            at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\r\n            at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n            at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n            at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n            at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n            at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n            at app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n            at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n            at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n            at app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n            at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n            ... 150 more\r\n\r\n            Caused by:\r\n            java.lang.NoClassDefFoundError: io/opentelemetry/javaagent/instrumentation/internal/classloader/BootDelegationInstrumentation$Holder\r\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n                at java.base/java.lang.Class.forName0(Native Method)\r\n                at java.base/java.lang.Class.forName(Class.java:467)\r\n                at java.desktop/com.sun.beans.finder.ClassFinder.findClass(ClassFinder.java:67)\r\n                at java.desktop/com.sun.beans.finder.ClassFinder.findClass(ClassFinder.java:110)\r\n                at java.desktop/java.beans.Introspector.findCustomizerClass(Introspector.java:1125)\r\n                at java.desktop/java.beans.Introspector.getTargetBeanDescriptor(Introspector.java:1119)\r\n                at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:445)\r\n                at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:283)\r\n                at java.desktop/java.beans.Introspector.&lt;init&gt;(Introspector.java:427)\r\n                at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:283)\r\n                at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:225)\r\n                at org.springframework.beans.CachedIntrospectionResults.getBeanInfo(CachedIntrospectionResults.java:254)\r\n                at org.springframework.beans.CachedIntrospectionResults.&lt;init&gt;(CachedIntrospectionResults.java:279)\r\n                at org.springframework.beans.CachedIntrospectionResults.forClass(CachedIntrospectionResults.java:183)\r\n                at org.springframework.beans.BeanWrapperImpl.getCachedIntrospectionResults(BeanWrapperImpl.java:174)\r\n                at org.springframework.beans.BeanWrapperImpl.getPropertyDescriptors(BeanWrapperImpl.java:248)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.filterPropertyDescriptorsForDependencyCheck(AbstractAutowireCapableBeanFactory.java:1594)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.filterPropertyDescriptorsForDependencyCheck(AbstractAutowireCapableBeanFactory.java:1574)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n                ... 160 more\r\n\r\n                Caused by:\r\n                java.lang.ClassNotFoundException: io.opentelemetry.javaagent.instrumentation.internal.classloader.BootDelegationInstrumentation$Holder\r\n                    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n                    ... 180 more\r\n\r\nDoes anyone know what is the cause of it? I tried to upgrade the version but it requires different spring boot version that I am using. I am using opentelemetry in version 1.19.0. Could not find solution to this.","title":"java.lang.NoClassDefFoundError when adding com.azure.spring:spring-cloud-azure-starter-active-directory:4.3.0 dependency","body":"<p>When adding com.azure.spring:spring-cloud-azure-starter-active-directory:4.3.0 dependency to my build.gradle file I am getting this error:</p>\n<pre><code>Caused by:\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'management.metrics-org.springframework.boot.actuate.autoconfigure.metrics.MetricsProperties': Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: io/opentelemetry/javaagent/instrumentation/internal/classloader/BootDelegationInstrumentation$Holder\n        at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\n        at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at app//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at app//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at app//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at app//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at app//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n        at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n        at app//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n        at app//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n        at app//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 150 more\n\n        Caused by:\n        java.lang.NoClassDefFoundError: io/opentelemetry/javaagent/instrumentation/internal/classloader/BootDelegationInstrumentation$Holder\n            at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n            at java.base/java.lang.Class.forName0(Native Method)\n            at java.base/java.lang.Class.forName(Class.java:467)\n            at java.desktop/com.sun.beans.finder.ClassFinder.findClass(ClassFinder.java:67)\n            at java.desktop/com.sun.beans.finder.ClassFinder.findClass(ClassFinder.java:110)\n            at java.desktop/java.beans.Introspector.findCustomizerClass(Introspector.java:1125)\n            at java.desktop/java.beans.Introspector.getTargetBeanDescriptor(Introspector.java:1119)\n            at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:445)\n            at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:283)\n            at java.desktop/java.beans.Introspector.&lt;init&gt;(Introspector.java:427)\n            at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:283)\n            at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:225)\n            at org.springframework.beans.CachedIntrospectionResults.getBeanInfo(CachedIntrospectionResults.java:254)\n            at org.springframework.beans.CachedIntrospectionResults.&lt;init&gt;(CachedIntrospectionResults.java:279)\n            at org.springframework.beans.CachedIntrospectionResults.forClass(CachedIntrospectionResults.java:183)\n            at org.springframework.beans.BeanWrapperImpl.getCachedIntrospectionResults(BeanWrapperImpl.java:174)\n            at org.springframework.beans.BeanWrapperImpl.getPropertyDescriptors(BeanWrapperImpl.java:248)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.filterPropertyDescriptorsForDependencyCheck(AbstractAutowireCapableBeanFactory.java:1594)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.filterPropertyDescriptorsForDependencyCheck(AbstractAutowireCapableBeanFactory.java:1574)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n            ... 160 more\n\n            Caused by:\n            java.lang.ClassNotFoundException: io.opentelemetry.javaagent.instrumentation.internal.classloader.BootDelegationInstrumentation$Holder\n                at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n                ... 180 more\n</code></pre>\n<p>Does anyone know what is the cause of it? I tried to upgrade the version but it requires different spring boot version that I am using. I am using opentelemetry in version 1.19.0. Could not find solution to this.</p>\n"},{"tags":["java","awt","taskbar"],"answers":[{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686048207,"creation_date":1686048207,"answer_id":76413811,"question_id":76411777,"body_markdown":"`java.awt.Taskbar` class introduced in JDK 9. \r\n\r\nIn its documentation:\r\n\r\n    public class Taskbar extends Object\r\n    \r\n    Since:\r\n        9\r\nIf the import cannot be resolved, that means you are porbably building with JDK 8 (hopefully its not earlier version :) )","title":"The import java.awt.Taskbar cannot be resolved and Taskbar cannot be resolved","body":"<p><code>java.awt.Taskbar</code> class introduced in JDK 9.</p>\n<p>In its documentation:</p>\n<pre><code>public class Taskbar extends Object\n\nSince:\n    9\n</code></pre>\n<p>If the import cannot be resolved, that means you are porbably building with JDK 8 (hopefully its not earlier version :) )</p>\n"}],"owner":{"account_id":28677146,"reputation":1,"user_id":21959037,"display_name":"Anjali Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686048207,"creation_date":1686030983,"question_id":76411777,"body_markdown":"     \r\n```\r\n`if(!Taskbar.isTaskbarSupported()) {\r\n        \tJOptionPane.showMessageDialog(null, &quot;Taskbar isn&#39;t supported!&quot;,&quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\t\r\n        \tSystem.exit(-1);\r\n        }\r\n        JFrame jf = new JFrame(&quot;Taskbar&quot;);\r\n        jf.setSize(500, 250);\r\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        jf.setVisible(true);\r\n        Taskbar.getTaskbar().setIconImage();`\r\n```\r\n\r\nEven I imported still it gives me error on Taskbar. So I&#39;m not able to use Taskbar.\r\nI want to display default icon on Taskbar but it&#39;s not working.","title":"The import java.awt.Taskbar cannot be resolved and Taskbar cannot be resolved","body":"<pre><code>`if(!Taskbar.isTaskbarSupported()) {\n            JOptionPane.showMessageDialog(null, &quot;Taskbar isn't supported!&quot;,&quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE); \n            System.exit(-1);\n        }\n        JFrame jf = new JFrame(&quot;Taskbar&quot;);\n        jf.setSize(500, 250);\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.setVisible(true);\n        Taskbar.getTaskbar().setIconImage();`\n</code></pre>\n<p>Even I imported still it gives me error on Taskbar. So I'm not able to use Taskbar.\nI want to display default icon on Taskbar but it's not working.</p>\n"},{"tags":["java","eclipse-memory-analyzer"],"comments":[{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1684251260,"post_id":76264765,"comment_id":134489335,"body_markdown":"what is your operation system?","body":"what is your operation system?"},{"owner":{"account_id":9875097,"reputation":161,"user_id":7313173,"display_name":"Alex"},"score":0,"creation_date":1684261004,"post_id":76264765,"comment_id":134491626,"body_markdown":"Windows Server 2016","body":"Windows Server 2016"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684251648,"creation_date":1684251648,"answer_id":76264894,"question_id":76264765,"body_markdown":"You should use the same JDK version to run MAT than the process that you want to analyze. Also both should be executed by the same user to avoid permission issues.","title":"Eclipse Memory Analyzer does not show java processes","body":"<p>You should use the same JDK version to run MAT than the process that you want to analyze. Also both should be executed by the same user to avoid permission issues.</p>\n"},{"tags":[],"owner":{"account_id":18866500,"reputation":431,"user_id":13762112,"display_name":"user13762112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686048047,"creation_date":1686048047,"answer_id":76413799,"question_id":76264765,"body_markdown":"Use the &#39;Configure...&#39; button on the &#39;Acquire Heap Dump Dialog&#39; to set up the &#39;HPROF jmap dump provider&#39; and configure &#39;jdkhome&#39; to point to the JDK directory matching the target JDK 8 applications.","title":"Eclipse Memory Analyzer does not show java processes","body":"<p>Use the 'Configure...' button on the 'Acquire Heap Dump Dialog' to set up the 'HPROF jmap dump provider' and configure 'jdkhome' to point to the JDK directory matching the target JDK 8 applications.</p>\n"}],"owner":{"account_id":9875097,"reputation":161,"user_id":7313173,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686048047,"creation_date":1684250733,"question_id":76264765,"body_markdown":"Having some java applications, which are just compatible with JDK8, I set my environment variable %JAVA_HOME% to the JDK8 path. Furthermore I would like to analyze memory leaks using Eclipse Memory Analyszer Tool (MAT) within these applications.\r\n\r\nSo i have downloaded AdoptiumJDK17, installed it, but did *not* set JAVA_HOME for this JDK. For starting MAT I have used the `-vm` Parameter for setting JDK17 in the ini-file. MAT is starting fine, but `File` -&gt; `Acquire Head Dump` does not show any java.exe running with JDK8 in the background.\r\n\r\nIs there any possibility to find these processes?\r\n\r\n\r\n","title":"Eclipse Memory Analyzer does not show java processes","body":"<p>Having some java applications, which are just compatible with JDK8, I set my environment variable %JAVA_HOME% to the JDK8 path. Furthermore I would like to analyze memory leaks using Eclipse Memory Analyszer Tool (MAT) within these applications.</p>\n<p>So i have downloaded AdoptiumJDK17, installed it, but did <em>not</em> set JAVA_HOME for this JDK. For starting MAT I have used the <code>-vm</code> Parameter for setting JDK17 in the ini-file. MAT is starting fine, but <code>File</code> -&gt; <code>Acquire Head Dump</code> does not show any java.exe running with JDK8 in the background.</p>\n<p>Is there any possibility to find these processes?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617886587,"creation_date":1615546205,"answer_id":66598512,"question_id":66581487,"body_markdown":"You could try to use `@org.hibernate.annotations.Generated( GenerationTime.ALWAYS )` on these fields and use a database trigger or default expression to create the value. This way, Hibernate will never write the field, but read it after insert/update.\r\n\r\nOverall this has a few downsides though (need the trigger, need a select after insert/update), so I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO/domain model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(ParentEntity.class)\r\n    @UpdatableEntityView\r\n    public interface ParentDomainObject {\r\n        @IdMapping\r\n        Integer getParentId();\r\n        OffsetDateTime getModified();\r\n        void setModified(OffsetDateTime modified);\r\n        String getDescription();\r\n        void setDescription(String description);\r\n        Set&lt;ChildDomainObject&gt; getChildren();\r\n\r\n        @PreUpdate\r\n        default preUpdate() {\r\n            setModified(OffsetDateTime.now());\r\n        }\r\n\r\n        @EntityView(ChildEntity.class)\r\n        @UpdatableEntityView\r\n        interface ChildDomainObject {\r\n            @IdMapping\r\n            Integer getChildId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`ParentDomainObject a = entityViewManager.find(entityManager, ParentDomainObject.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;ParentDomainObject&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary! It also supports writing/mapping back to the persistence model in an efficient manner. Since it does dirty tracking for you, it will only flush changes if the object is actually dirty.\r\n\r\n    public Integer merge(final ParentDomainObject parentDomainObject) {\r\n        this.entityViewManager.save(this.entityManager, parentDomainObject);\r\n        this.entityManager.flush();\r\n        return parentDomainObject.getParentId();\r\n    }\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Updating only relevant entities in aggregates with @ColumnTransformer","body":"<p>You could try to use <code>@org.hibernate.annotations.Generated( GenerationTime.ALWAYS )</code> on these fields and use a database trigger or default expression to create the value. This way, Hibernate will never write the field, but read it after insert/update.</p>\n<p>Overall this has a few downsides though (need the trigger, need a select after insert/update), so I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO/domain model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(ParentEntity.class)\n@UpdatableEntityView\npublic interface ParentDomainObject {\n    @IdMapping\n    Integer getParentId();\n    OffsetDateTime getModified();\n    void setModified(OffsetDateTime modified);\n    String getDescription();\n    void setDescription(String description);\n    Set&lt;ChildDomainObject&gt; getChildren();\n\n    @PreUpdate\n    default preUpdate() {\n        setModified(OffsetDateTime.now());\n    }\n\n    @EntityView(ChildEntity.class)\n    @UpdatableEntityView\n    interface ChildDomainObject {\n        @IdMapping\n        Integer getChildId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>ParentDomainObject a = entityViewManager.find(entityManager, ParentDomainObject.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;ParentDomainObject&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary! It also supports writing/mapping back to the persistence model in an efficient manner. Since it does dirty tracking for you, it will only flush changes if the object is actually dirty.</p>\n<pre><code>public Integer merge(final ParentDomainObject parentDomainObject) {\n    this.entityViewManager.save(this.entityManager, parentDomainObject);\n    this.entityManager.flush();\n    return parentDomainObject.getParentId();\n}\n</code></pre>\n"}],"owner":{"account_id":8604127,"reputation":43,"user_id":6444774,"display_name":"Aedge90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686048003,"creation_date":1615461443,"question_id":66581487,"body_markdown":"In our spring boot application, I am trying to save an aggregate, that consists of a root entity (ParentEntity) and a Set of child entities (ChildEntity).\r\nThe intention is, that all operations are done through the aggreate. So there is no need for a repository for ChildEntity, as the ParentEntity is supposed to manage all save or update operations.\r\nThis is how the Entities look like:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;tab_parent&quot;, schema = &quot;test&quot;)\r\npublic class ParentEntity implements Serializable {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;parent_id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer parentId;\r\n\t\r\n\t@Column(name = &quot;description&quot;)\r\n\tprivate String description;\r\n\t\r\n\t@Column(name = &quot;created_datetime&quot;, updatable = false, nullable = false)\r\n\t@ColumnTransformer(write = &quot;COALESCE(?,CURRENT_TIMESTAMP)&quot;)\r\n\tprivate OffsetDateTime created;\r\n\t\r\n\t@Column(name = &quot;last_modified_datetime&quot;, nullable = false)\r\n\t@ColumnTransformer(write = &quot;COALESCE(CURRENT_TIMESTAMP,?)&quot;)\r\n\tprivate OffsetDateTime modified;\r\n\t\r\n\t@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;ParentEntity&quot;)\r\n\tprivate Set&lt;ChildEntity&gt; children;\r\n\t\r\n\t// constructor and other getters and setters\r\n\t\t\r\n\tpublic void setChildren(final Set&lt;ChildEntity&gt; children) {\r\n\t\tthis.children = new HashSet&lt;&gt;(children.size());\r\n\t\tfor (final ChildEntity child : children) {\r\n\t\t\tthis.addChild(child);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic ParentEntity addChild(final ChildEntity child) {\r\n\t\tthis.children.add(child);\r\n\t\tchild.setParent(this);\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tpublic ParentEntity removeChild(final ChildEntity child) {\r\n\t\tthis.children.add(child);\r\n\t\tchild.setParent(null);\r\n\t\treturn this;\r\n\t}\r\n\t\r\n}\r\n\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;tab_child&quot;, schema = &quot;test&quot;)\r\npublic class ChildEntity implements Serializable {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;child_id&quot;)\r\n\tprivate Integer childId;\r\n\t\r\n\t@Column(name = &quot;language_id&quot;)\r\n\tprivate String languageId;\r\n\t\r\n\t@Column(name = &quot;text&quot;)\r\n\tprivate String text;\r\n\t\r\n\t@Column(name = &quot;created_datetime&quot;, updatable = false, nullable = false)\r\n\t@ColumnTransformer(write = &quot;COALESCE(?,CURRENT_TIMESTAMP)&quot;)\r\n\tpublic OffsetDateTime created;\r\n\t\r\n\t@Column(name = &quot;last_modified_datetime&quot;, nullable = false)\r\n\t@ColumnTransformer(write = &quot;COALESCE(CURRENT_TIMESTAMP,?)&quot;)\r\n\tpublic OffsetDateTime modified;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;parent_id&quot;, updatable = false)\r\n\tprivate ParentEntity parent;\r\n\t\r\n\t// constructor and other getters and setters\t\r\n\t\r\n\tpublic ParentEntity getParent() {\r\n\t\treturn this.parent;\r\n\t}\r\n\t\r\n\tpublic void setParent(final ParentEntity parent) {\r\n\t\tthis.parent = parent;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThis is the store method to save or update the entities:\r\n\r\n```\r\npublic Integer merge(final ParentDomainObject parentDomainObject) {\r\n\tfinal ParentEntity parentEntity =\r\n\t\t\tthis.mapper.toParentEntity(parentDomainObject);\r\n\tfinal ParentEntity result = this.entityManager.merge(parentEntity);\r\n\tthis.entityManager.flush();\r\n\treturn result.getParentId();\r\n}\r\n```\r\nAnd this is the store method to retrieve the aggregate by id:\r\n```\r\npublic Optional&lt;ParentDomainObject&gt; findById(final Integer id) {\r\n\treturn this.repo.findById(id).map(this.mapper::toParentDomainObject);\r\n}\r\n```\r\n\r\nAs you can see our architecture strictly separates the store from the service layer. So the service only knows about domain objects and does not depend on Hibernate Entites at all.\r\nWhen updating either the child or the parent, firstly the parent is loaded. In the service layer, the domain object is updated (fields are set, or a child is added/removed).\r\nThen the merge method (see code snippet) of the store is called with the updated domain object.\r\n\r\nThis works, but not completely as we want to. Currently every update leads to the parent and EVERY chhild entity being saved, even if all field remained the same. We added the @DynamicUpdate annotaton. Now we saw, that the &quot;modified&quot; field is the problem.\r\nWe use a @ColumnTransformer to have the database set the date. Now even if you call the services update method without changing anything, Hibernate generates a update query for EVERY object, which updates only the modified field.\r\nThe worst thing about that is, as every object is saved, every modified date changed as well to the current date. But we need information about exactly which object really changed and when. \r\n\r\nIs there any way to tell hibernate, that this column should not be taken into account when deciding what to update. However of course, if a field changed, the update operation should indeed update the modified field.\r\n\r\n**UPDATE:**\r\n\r\nMy second approach after @Christian Beikov mentioned the use of `@org.hibernate.annotations.Generated( GenerationTime.ALWAYS )`\r\nis the following:\r\n\r\nInstead of `@Generated` (which uses `@ValueGenerationType( generatedBy = GeneratedValueGeneration.class )`),\r\nI created my own annotations, which use custom `AnnotationValueGeneration` implementations:\r\n\r\n```\r\n@ValueGenerationType(generatedBy = CreatedTimestampGeneration.class)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface InDbCreatedTimestamp {\r\n}\r\n```\r\n```\r\npublic class CreatedTimestampGeneration\r\n\t\timplements AnnotationValueGeneration&lt;InDbCreatedTimestamp&gt; {\r\n\t\r\n\t@Override\r\n\tpublic void initialize(final InDbCreatedTimestamp annotation, final Class&lt;?&gt; propertyType) {\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic GenerationTiming getGenerationTiming() {\r\n\t\treturn GenerationTiming.INSERT;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic ValueGenerator&lt;?&gt; getValueGenerator() {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean referenceColumnInSql() {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getDatabaseGeneratedReferencedColumnValue() {\r\n\t\treturn &quot;current_timestamp&quot;;\r\n\t}\r\n}\r\n```\r\n```\r\n@ValueGenerationType(generatedBy = ModifiedTimestampGeneration.class)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface InDbModifiedTimestamp {\r\n}\r\n```\r\n```\r\npublic class ModifiedTimestampGeneration\r\n\t\timplements AnnotationValueGeneration&lt;InDbModifiedTimestamp&gt; {\r\n\t\r\n\t@Override\r\n\tpublic void initialize(final InDbModifiedTimestamp annotation, final Class&lt;?&gt; propertyType) {\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic GenerationTiming getGenerationTiming() {\r\n\t\treturn GenerationTiming.ALWAYS;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic ValueGenerator&lt;?&gt; getValueGenerator() {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean referenceColumnInSql() {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getDatabaseGeneratedReferencedColumnValue() {\r\n\t\treturn &quot;current_timestamp&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nI use these annotations in my entities instead of the @ColumnTransformer annotations now.\r\nThis works flawlessly when I insert a new ChildEntity via addChild(), as now not all timestamps of all entities of the aggregate are updated anymore. Only the timestamps of the new child are set now.\r\nIn other words, the InDbCreatedTimestamp works as it should.\r\n\r\nSadly, the InDbModifiedTimestamp does not. Because of GenerationTiming.ALWAYS, I expected the timestamp to be generated on db level, everytime an INSERT **OR UPDATE** is issued. If I change a field of a ChildEntity and then save the aggregate, an update statement is generated only for this one database row, as expected. However, the `last_modified_datetime` column is **not** updated, which is surprising.\r\nIt seems that this is unfortunately still an open bug. This issue describes my problem precisely: [Link](https://hibernate.atlassian.net/browse/HHH-13290)\r\n\r\nCan someone provide a solution how to get this db function executed on update as well (without using db triggers)","title":"Updating only relevant entities in aggregates with @ColumnTransformer","body":"<p>In our spring boot application, I am trying to save an aggregate, that consists of a root entity (ParentEntity) and a Set of child entities (ChildEntity).\nThe intention is, that all operations are done through the aggreate. So there is no need for a repository for ChildEntity, as the ParentEntity is supposed to manage all save or update operations.\nThis is how the Entities look like:</p>\n<pre><code>@Entity\n@Table(name = &quot;tab_parent&quot;, schema = &quot;test&quot;)\npublic class ParentEntity implements Serializable {\n    \n    @Id\n    @Column(name = &quot;parent_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer parentId;\n    \n    @Column(name = &quot;description&quot;)\n    private String description;\n    \n    @Column(name = &quot;created_datetime&quot;, updatable = false, nullable = false)\n    @ColumnTransformer(write = &quot;COALESCE(?,CURRENT_TIMESTAMP)&quot;)\n    private OffsetDateTime created;\n    \n    @Column(name = &quot;last_modified_datetime&quot;, nullable = false)\n    @ColumnTransformer(write = &quot;COALESCE(CURRENT_TIMESTAMP,?)&quot;)\n    private OffsetDateTime modified;\n    \n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;ParentEntity&quot;)\n    private Set&lt;ChildEntity&gt; children;\n    \n    // constructor and other getters and setters\n        \n    public void setChildren(final Set&lt;ChildEntity&gt; children) {\n        this.children = new HashSet&lt;&gt;(children.size());\n        for (final ChildEntity child : children) {\n            this.addChild(child);\n        }\n    }\n    \n    public ParentEntity addChild(final ChildEntity child) {\n        this.children.add(child);\n        child.setParent(this);\n        return this;\n    }\n    \n    public ParentEntity removeChild(final ChildEntity child) {\n        this.children.add(child);\n        child.setParent(null);\n        return this;\n    }\n    \n}\n\n@Entity\n@DynamicUpdate\n@Table(name = &quot;tab_child&quot;, schema = &quot;test&quot;)\npublic class ChildEntity implements Serializable {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;child_id&quot;)\n    private Integer childId;\n    \n    @Column(name = &quot;language_id&quot;)\n    private String languageId;\n    \n    @Column(name = &quot;text&quot;)\n    private String text;\n    \n    @Column(name = &quot;created_datetime&quot;, updatable = false, nullable = false)\n    @ColumnTransformer(write = &quot;COALESCE(?,CURRENT_TIMESTAMP)&quot;)\n    public OffsetDateTime created;\n    \n    @Column(name = &quot;last_modified_datetime&quot;, nullable = false)\n    @ColumnTransformer(write = &quot;COALESCE(CURRENT_TIMESTAMP,?)&quot;)\n    public OffsetDateTime modified;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, updatable = false)\n    private ParentEntity parent;\n    \n    // constructor and other getters and setters    \n    \n    public ParentEntity getParent() {\n        return this.parent;\n    }\n    \n    public void setParent(final ParentEntity parent) {\n        this.parent = parent;\n    }\n    \n}\n</code></pre>\n<p>This is the store method to save or update the entities:</p>\n<pre><code>public Integer merge(final ParentDomainObject parentDomainObject) {\n    final ParentEntity parentEntity =\n            this.mapper.toParentEntity(parentDomainObject);\n    final ParentEntity result = this.entityManager.merge(parentEntity);\n    this.entityManager.flush();\n    return result.getParentId();\n}\n</code></pre>\n<p>And this is the store method to retrieve the aggregate by id:</p>\n<pre><code>public Optional&lt;ParentDomainObject&gt; findById(final Integer id) {\n    return this.repo.findById(id).map(this.mapper::toParentDomainObject);\n}\n</code></pre>\n<p>As you can see our architecture strictly separates the store from the service layer. So the service only knows about domain objects and does not depend on Hibernate Entites at all.\nWhen updating either the child or the parent, firstly the parent is loaded. In the service layer, the domain object is updated (fields are set, or a child is added/removed).\nThen the merge method (see code snippet) of the store is called with the updated domain object.</p>\n<p>This works, but not completely as we want to. Currently every update leads to the parent and EVERY chhild entity being saved, even if all field remained the same. We added the @DynamicUpdate annotaton. Now we saw, that the &quot;modified&quot; field is the problem.\nWe use a @ColumnTransformer to have the database set the date. Now even if you call the services update method without changing anything, Hibernate generates a update query for EVERY object, which updates only the modified field.\nThe worst thing about that is, as every object is saved, every modified date changed as well to the current date. But we need information about exactly which object really changed and when.</p>\n<p>Is there any way to tell hibernate, that this column should not be taken into account when deciding what to update. However of course, if a field changed, the update operation should indeed update the modified field.</p>\n<p><strong>UPDATE:</strong></p>\n<p>My second approach after @Christian Beikov mentioned the use of <code>@org.hibernate.annotations.Generated( GenerationTime.ALWAYS )</code>\nis the following:</p>\n<p>Instead of <code>@Generated</code> (which uses <code>@ValueGenerationType( generatedBy = GeneratedValueGeneration.class )</code>),\nI created my own annotations, which use custom <code>AnnotationValueGeneration</code> implementations:</p>\n<pre><code>@ValueGenerationType(generatedBy = CreatedTimestampGeneration.class)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface InDbCreatedTimestamp {\n}\n</code></pre>\n<pre><code>public class CreatedTimestampGeneration\n        implements AnnotationValueGeneration&lt;InDbCreatedTimestamp&gt; {\n    \n    @Override\n    public void initialize(final InDbCreatedTimestamp annotation, final Class&lt;?&gt; propertyType) {\n    }\n    \n    @Override\n    public GenerationTiming getGenerationTiming() {\n        return GenerationTiming.INSERT;\n    }\n    \n    @Override\n    public ValueGenerator&lt;?&gt; getValueGenerator() {\n        return null;\n    }\n    \n    @Override\n    public boolean referenceColumnInSql() {\n        return true;\n    }\n    \n    @Override\n    public String getDatabaseGeneratedReferencedColumnValue() {\n        return &quot;current_timestamp&quot;;\n    }\n}\n</code></pre>\n<pre><code>@ValueGenerationType(generatedBy = ModifiedTimestampGeneration.class)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface InDbModifiedTimestamp {\n}\n</code></pre>\n<pre><code>public class ModifiedTimestampGeneration\n        implements AnnotationValueGeneration&lt;InDbModifiedTimestamp&gt; {\n    \n    @Override\n    public void initialize(final InDbModifiedTimestamp annotation, final Class&lt;?&gt; propertyType) {\n    }\n    \n    @Override\n    public GenerationTiming getGenerationTiming() {\n        return GenerationTiming.ALWAYS;\n    }\n    \n    @Override\n    public ValueGenerator&lt;?&gt; getValueGenerator() {\n        return null;\n    }\n    \n    @Override\n    public boolean referenceColumnInSql() {\n        return true;\n    }\n    \n    @Override\n    public String getDatabaseGeneratedReferencedColumnValue() {\n        return &quot;current_timestamp&quot;;\n    }\n}\n</code></pre>\n<p>I use these annotations in my entities instead of the @ColumnTransformer annotations now.\nThis works flawlessly when I insert a new ChildEntity via addChild(), as now not all timestamps of all entities of the aggregate are updated anymore. Only the timestamps of the new child are set now.\nIn other words, the InDbCreatedTimestamp works as it should.</p>\n<p>Sadly, the InDbModifiedTimestamp does not. Because of GenerationTiming.ALWAYS, I expected the timestamp to be generated on db level, everytime an INSERT <strong>OR UPDATE</strong> is issued. If I change a field of a ChildEntity and then save the aggregate, an update statement is generated only for this one database row, as expected. However, the <code>last_modified_datetime</code> column is <strong>not</strong> updated, which is surprising.\nIt seems that this is unfortunately still an open bug. This issue describes my problem precisely: <a href=\"https://hibernate.atlassian.net/browse/HHH-13290\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Can someone provide a solution how to get this db function executed on update as well (without using db triggers)</p>\n"},{"tags":["java","linux","xslt","saxon"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685729590,"post_id":76392534,"comment_id":134707197,"body_markdown":"Can you close file descriptors of another process? I would expect not. What is the implementation library that you are using for Transformer?","body":"Can you close file descriptors of another process? I would expect not. What is the implementation library that you are using for Transformer?"},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1685730790,"post_id":76392534,"comment_id":134707425,"body_markdown":"Check your user limits.  If you are already at unlimited, then the code - library is buggy and is crashing the system.","body":"Check your user limits.  If you are already at unlimited, then the code - library is buggy and is crashing the system."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1685735212,"post_id":76392534,"comment_id":134708165,"body_markdown":"Which XSLT processor are you using? I would normally assume the default one built into the JDK, but you specify version=&quot;2.0&quot;, and the default processor only supports XSLT 1.0.","body":"Which XSLT processor are you using? I would normally assume the default one built into the JDK, but you specify version=&quot;2.0&quot;, and the default processor only supports XSLT 1.0."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1685736342,"post_id":76392534,"comment_id":134708334,"body_markdown":"It does not surprise me as xml parser had similar problems. However, how did you confirm that it is the xsl file handles rather than some other part of the application?","body":"It does not surprise me as xml parser had similar problems. However, how did you confirm that it is the xsl file handles rather than some other part of the application?"},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685775502,"post_id":76392534,"comment_id":134711269,"body_markdown":"@DuncG we suppose that _Transformer_ is the issue because it is the method _transform_ is the only one manipulating our .xsl. Nowhere can we find any direct read of the unclosed files.","body":"@DuncG we suppose that <i>Transformer</i> is the issue because it is the method <i>transform</i> is the only one manipulating our .xsl. Nowhere can we find any direct read of the unclosed files."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685775632,"post_id":76392534,"comment_id":134711281,"body_markdown":"@Michael Kay as stated in my question, we are using basic javax xml Transformer. The transformation itself does work. Our only issue is with imported files that are not closed.","body":"@Michael Kay as stated in my question, we are using basic javax xml Transformer. The transformation itself does work. Our only issue is with imported files that are not closed."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1685777995,"post_id":76392534,"comment_id":134711453,"body_markdown":"@TonioLeParigo Try running `lsof` to confirm file handle usage, grep by your jvm pid.","body":"@TonioLeParigo Try running <code>lsof</code> to confirm file handle usage, grep by your jvm pid."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1685787776,"post_id":76392534,"comment_id":134712301,"body_markdown":"&#39;This result in a &quot;Too many open files error&quot; when working on Linux OS under certain conditions.&#39;: what exactly are the certain conditions?","body":"&#39;This result in a &quot;Too many open files error&quot; when working on Linux OS under certain conditions.&#39;: what exactly are the certain conditions?"},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685801899,"post_id":76392534,"comment_id":134713656,"body_markdown":"@DuncG we did that when the error occured and we confirmed that it was indeed the sames files that were kept opened by the JVM. Moreover, we did see that it was the same files that were opened over and over again.","body":"@DuncG we did that when the error occured and we confirmed that it was indeed the sames files that were kept opened by the JVM. Moreover, we did see that it was the same files that were opened over and over again."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685802064,"post_id":76392534,"comment_id":134713678,"body_markdown":"@Martin Honnen. The conditions are during integration tests that do call for transform over and over in quick succession. That how we saw the issue but there is no reason that it would not happen in prod after a while. I will remove the line about &#171;&#160;conditions&#160;&#187; since it might be misleading.","body":"@Martin Honnen. The conditions are during integration tests that do call for transform over and over in quick succession. That how we saw the issue but there is no reason that it would not happen in prod after a while. I will remove the line about &#171; conditions &#187; since it might be misleading."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1685869644,"post_id":76392534,"comment_id":134718889,"body_markdown":"@TonioLeParigo The javax `Transformer` is an interface, not a class. There are several different implementations. If you weren&#39;t aware of that, I guess we should infer that you are using the default implementation that comes with the JDK.","body":"@TonioLeParigo The javax <code>Transformer</code> is an interface, not a class. There are several different implementations. If you weren&#39;t aware of that, I guess we should infer that you are using the default implementation that comes with the JDK."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1685869926,"post_id":76392534,"comment_id":134718910,"body_markdown":"You could try nominating a user-written URIResolver to handle the include/import requests. Your URIResolver could (for example) read the specified file into a byte array and then return a ByteArrayInputStream over this byte array (wrapped in a StreamSource); it then wouldn&#39;t matter that this doesn&#39;t get closed. Or, just for diagnostics, you could return a Stream which you monitor for a call on close(), just to confirm that the stream really is never closed.","body":"You could try nominating a user-written URIResolver to handle the include/import requests. Your URIResolver could (for example) read the specified file into a byte array and then return a ByteArrayInputStream over this byte array (wrapped in a StreamSource); it then wouldn&#39;t matter that this doesn&#39;t get closed. Or, just for diagnostics, you could return a Stream which you monitor for a call on close(), just to confirm that the stream really is never closed."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685944888,"post_id":76392534,"comment_id":134726048,"body_markdown":"@Michael Kay. Reading the code, I see it now... We indeed are using net.sf.saxon.jaxp.SaxonTransformerFactory for our factory. Moreover, I do think that we did not take into account how our factory was intanciated. I&#39;ll change the description.","body":"@Michael Kay. Reading the code, I see it now... We indeed are using net.sf.saxon.jaxp.SaxonTransformerFactory for our factory. Moreover, I do think that we did not take into account how our factory was intanciated. I&#39;ll change the description."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1685958282,"post_id":76392534,"comment_id":134728328,"body_markdown":"As this is turning into a Saxon issue, consider to add information as to which Saxon version exactly you are using.","body":"As this is turning into a Saxon issue, consider to add information as to which Saxon version exactly you are using."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1685977954,"post_id":76392534,"comment_id":134732850,"body_markdown":"Saxon 9.7 is rather old and beyond its support but I am not sure for JAXP it matters. The samples section has one example of a URI resolver in https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest9.7/samples/java/he/JAXPExamples.java#L1105 and https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest9.7/samples/java/he/JAXPExamples.java#L1079, not sure whether will help you for your code.","body":"Saxon 9.7 is rather old and beyond its support but I am not sure for JAXP it matters. The samples section has one example of a URI resolver in <a href=\"https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest9.7/samples/java/he/JAXPExamples.java#L1105\" rel=\"nofollow noreferrer\">saxonica.plan.io/projects/saxon/repository/he/revisions/mast&zwnj;&#8203;er/&hellip;</a> and <a href=\"https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest9.7/samples/java/he/JAXPExamples.java#L1079\" rel=\"nofollow noreferrer\">saxonica.plan.io/projects/saxon/repository/he/revisions/mast&zwnj;&#8203;er/&hellip;</a>, not sure whether will help you for your code."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685981340,"creation_date":1685981340,"answer_id":76408222,"question_id":76392534,"body_markdown":"It looks like the bug https://saxonica.plan.io/issues/3401\r\n\r\nwhich was fixed in Saxon 9.7.0.21 and later releases.\r\n\r\nIt&#39;s a good idea to keep up to date, at least with maintenance releases if not with major releases. Saxon 9.7 dates back to 2017.\r\n\r\nIn the bug entry there&#39;s also a link to a tool that I used for diagnosis - you might find this helpful.","title":"Java Xml Transformer does not close opened files leading to &quot;Too many open files error&quot; on Linux OS","body":"<p>It looks like the bug <a href=\"https://saxonica.plan.io/issues/3401\" rel=\"nofollow noreferrer\">https://saxonica.plan.io/issues/3401</a></p>\n<p>which was fixed in Saxon 9.7.0.21 and later releases.</p>\n<p>It's a good idea to keep up to date, at least with maintenance releases if not with major releases. Saxon 9.7 dates back to 2017.</p>\n<p>In the bug entry there's also a link to a tool that I used for diagnosis - you might find this helpful.</p>\n"},{"tags":[],"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686047827,"creation_date":1686047827,"answer_id":76413774,"question_id":76392534,"body_markdown":"Thanks to all of your input, we found the issue and came up with a correction (indeed close to recommendation of @MichaelKay comment).\r\n\r\nBasically, we did implement our own `URIResolver` that implement a `close()` method that we then call into a `finally` clause.\r\n\r\nCustomUriResolver:\r\n```java\r\nublic class CustomUriResolver implements URIResolver\r\n{\r\n\r\n  private Path folderPath;\r\n\r\n\r\n  private List&lt;InputStream&gt; inputStreamList = new ArrayList&lt;&gt;();\r\n\r\n\r\n  public CustomUriResolver(Path folderPath)\r\n  {\r\n    super();\r\n    this.folderPath = folderPath;\r\n  }\r\n\r\n  /**\r\n   * {@inheritDoc}\r\n   */\r\n  @Override\r\n  public Source resolve(String href, String base) throws TransformerException\r\n  {\r\n    try\r\n    {\r\n      InputStream xslStream = Files.newInputStream(folderPath.resolve(href));\r\n      inputStreamList.add(xslStream);\r\n      return new StreamSource(xslStream);\r\n    }\r\n    catch (IOException e)\r\n    {\r\n      LOGGER.error(e.getLocalizedMessage(), e);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public void closeStreams() throws IOException\r\n  {\r\n    for (InputStream is : inputStreamList)\r\n    {\r\n      is.close();\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nUsage for XSLT transform:\r\n\r\n```java\r\n    TransformerFactoryImpl transformerFactory = new TransformerFactoryImpl();\r\n\r\n    ReportUriResolver uriResolver = new ReportUriResolver(getReportXslFolderPath());\r\n\r\n    transformerFactory.setURIResolver(uriResolver);\r\n\r\n    try\r\n    {\r\n      xsltTransformation(transformerFactory, xmlDocument);\r\n    }\r\n    finally\r\n    {\r\n      try\r\n      {\r\n        // close streams opened during XSL transform with imports\r\n        uriResolver.closeStreams();\r\n      }\r\n      catch (IOException e)\r\n      {\r\n        LOGGER.error(e.getLocalizedMessage(), e);\r\n      }\r\n    }\r\n```","title":"Java Xml Transformer does not close opened files leading to &quot;Too many open files error&quot; on Linux OS","body":"<p>Thanks to all of your input, we found the issue and came up with a correction (indeed close to recommendation of @MichaelKay comment).</p>\n<p>Basically, we did implement our own <code>URIResolver</code> that implement a <code>close()</code> method that we then call into a <code>finally</code> clause.</p>\n<p>CustomUriResolver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ublic class CustomUriResolver implements URIResolver\n{\n\n  private Path folderPath;\n\n\n  private List&lt;InputStream&gt; inputStreamList = new ArrayList&lt;&gt;();\n\n\n  public CustomUriResolver(Path folderPath)\n  {\n    super();\n    this.folderPath = folderPath;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public Source resolve(String href, String base) throws TransformerException\n  {\n    try\n    {\n      InputStream xslStream = Files.newInputStream(folderPath.resolve(href));\n      inputStreamList.add(xslStream);\n      return new StreamSource(xslStream);\n    }\n    catch (IOException e)\n    {\n      LOGGER.error(e.getLocalizedMessage(), e);\n      return null;\n    }\n  }\n\n  public void closeStreams() throws IOException\n  {\n    for (InputStream is : inputStreamList)\n    {\n      is.close();\n    }\n  }\n\n}\n</code></pre>\n<p>Usage for XSLT transform:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    TransformerFactoryImpl transformerFactory = new TransformerFactoryImpl();\n\n    ReportUriResolver uriResolver = new ReportUriResolver(getReportXslFolderPath());\n\n    transformerFactory.setURIResolver(uriResolver);\n\n    try\n    {\n      xsltTransformation(transformerFactory, xmlDocument);\n    }\n    finally\n    {\n      try\n      {\n        // close streams opened during XSL transform with imports\n        uriResolver.closeStreams();\n      }\n      catch (IOException e)\n      {\n        LOGGER.error(e.getLocalizedMessage(), e);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686047827,"creation_date":1685729112,"question_id":76392534,"body_markdown":"We are working on a Java 8 legacy software. \r\n\r\nWe are using xslt transform to present .xml files in .html format.\r\n\r\nOur issue is that our .xsl styleSheet file imports some other .xsl file.\r\n\r\n(All the code down below is dumbed down because I cannot give the real code...)\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;2.0&quot;\r\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;&gt;\r\n\r\n    &lt;xsl:import href=&quot;someTemplate.xsl&quot;/&gt;\r\n    &lt;xsl:output method=&quot;html&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n\r\n[...]\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nthen we are transforming our .xml datasource using this .xsl stylesheet and `net.sf.saxon.jaxp.SaxonTransformerFactory` as our source for `javax.xml.transform.Transformer`.\r\n\r\nSaxon pom dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\r\n    &lt;version&gt;9.7.0-14&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n`net.sf.saxon.jaxp.SaxonTransformerFactory` is instanciated as follow:\r\n\r\n```java\r\nTransformerFactoryImpl transformerFactory = new TransformerFactoryImpl();\r\n\r\n    Path targetFolderPath = &lt;some Path&gt;;\r\n    transformerFactory.setURIResolver((arg0, arg1) -&gt; {\r\n\r\n      try\r\n      {\r\n        InputStream xslStream = Files.newInputStream(targetFolderPath.resolve(arg0));\r\n        return new StreamSource(xslStream);\r\n      }\r\n      catch (IOException e)\r\n      {\r\n        LOGGER.error(e.getLocalizedMessage(), e);\r\n        return null;\r\n      }\r\n    });\r\n```\r\n\r\nOur .xsl stylesheet if opened inside a try-with-resource.\r\n\r\n```java\r\ntry (InputStream xslStream = Files.newInputStream(Paths.get(pathToTheXslFile));)\r\n    {\r\n\r\n      Transformer transformer = transformerFactory.newTransformer(new StreamSource(xslStream));\r\n      \r\n      transformer.transform(XmlData, new StreamResult(destFile));\r\n       \r\n    }\r\n    catch (IOException | TransformerException e)\r\n    {\r\n      [some logs...]\r\n    }\r\n\r\n```\r\n\r\nour issue is that the transform seems to open the file imported by the .xsl stylesheet without ever closing it.\r\n\r\nThis result in a &quot;Too many open files error&quot; when working on Linux OS. \r\n\r\n\r\nBasically we are completely stumped by this issue since `javax.xml.transform.Transformer` does not offer any Autocloseable option and we do not seem to have any access to the opened files.\r\n\r\nWhat we thought of was to make some custom code to force files closing through Linux command Line.\r\n\r\n**EDIT**:\r\n\r\nReading the code after my latest update of the description, I see it now...\r\n\r\nWe did not implementent a Try-with-resource when creating the URIResolver for our TransformerFactory.\r\n\r\nI will make the change, test it and then close the question if it does work (it should... ;)).\r\n\r\nThx for the comments.\r\n\r\n**EDIT2**:\r\n\r\nAdding try-with-resource to the URIResolver lambda expression results in `net.sf.saxon.s9api.SaxonApiException: I/O error reported by XML parser processing null: null`\r\nThis is due to the fact that the `InputStream` used to create the `StreamSource` is closed as soon as the `StreamSource` is returned, rendering it useless.","title":"Java Xml Transformer does not close opened files leading to &quot;Too many open files error&quot; on Linux OS","body":"<p>We are working on a Java 8 legacy software.</p>\n<p>We are using xslt transform to present .xml files in .html format.</p>\n<p>Our issue is that our .xsl styleSheet file imports some other .xsl file.</p>\n<p>(All the code down below is dumbed down because I cannot give the real code...)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;2.0&quot;\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n                xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;&gt;\n\n    &lt;xsl:import href=&quot;someTemplate.xsl&quot;/&gt;\n    &lt;xsl:output method=&quot;html&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n\n[...]\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>then we are transforming our .xml datasource using this .xsl stylesheet and <code>net.sf.saxon.jaxp.SaxonTransformerFactory</code> as our source for <code>javax.xml.transform.Transformer</code>.</p>\n<p>Saxon pom dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\n    &lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\n    &lt;version&gt;9.7.0-14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>net.sf.saxon.jaxp.SaxonTransformerFactory</code> is instanciated as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransformerFactoryImpl transformerFactory = new TransformerFactoryImpl();\n\n    Path targetFolderPath = &lt;some Path&gt;;\n    transformerFactory.setURIResolver((arg0, arg1) -&gt; {\n\n      try\n      {\n        InputStream xslStream = Files.newInputStream(targetFolderPath.resolve(arg0));\n        return new StreamSource(xslStream);\n      }\n      catch (IOException e)\n      {\n        LOGGER.error(e.getLocalizedMessage(), e);\n        return null;\n      }\n    });\n</code></pre>\n<p>Our .xsl stylesheet if opened inside a try-with-resource.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (InputStream xslStream = Files.newInputStream(Paths.get(pathToTheXslFile));)\n    {\n\n      Transformer transformer = transformerFactory.newTransformer(new StreamSource(xslStream));\n      \n      transformer.transform(XmlData, new StreamResult(destFile));\n       \n    }\n    catch (IOException | TransformerException e)\n    {\n      [some logs...]\n    }\n\n</code></pre>\n<p>our issue is that the transform seems to open the file imported by the .xsl stylesheet without ever closing it.</p>\n<p>This result in a &quot;Too many open files error&quot; when working on Linux OS.</p>\n<p>Basically we are completely stumped by this issue since <code>javax.xml.transform.Transformer</code> does not offer any Autocloseable option and we do not seem to have any access to the opened files.</p>\n<p>What we thought of was to make some custom code to force files closing through Linux command Line.</p>\n<p><strong>EDIT</strong>:</p>\n<p>Reading the code after my latest update of the description, I see it now...</p>\n<p>We did not implementent a Try-with-resource when creating the URIResolver for our TransformerFactory.</p>\n<p>I will make the change, test it and then close the question if it does work (it should... ;)).</p>\n<p>Thx for the comments.</p>\n<p><strong>EDIT2</strong>:</p>\n<p>Adding try-with-resource to the URIResolver lambda expression results in <code>net.sf.saxon.s9api.SaxonApiException: I/O error reported by XML parser processing null: null</code>\nThis is due to the fact that the <code>InputStream</code> used to create the <code>StreamSource</code> is closed as soon as the <code>StreamSource</code> is returned, rendering it useless.</p>\n"},{"tags":["java","pdf","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1685910354,"post_id":76400452,"comment_id":134723417,"body_markdown":"The screenshot of the problem file shows that it is not certified, its signature is an approval signature. Thus, your looking for information about certification signatures likely won&#39;t help you here at all. The most important part of the screen shot actually is the warning &quot;1 Page(s) modified&quot; because that indicates that Adobe Acrobat sees more changes than the allowed addition of annotations. This might be caused by your code actually applying such disallowed changes (a quick glance at your code makes me assume that is not the case), or some JavaScript in the PDF applying some changes, or...","body":"The screenshot of the problem file shows that it is not certified, its signature is an approval signature. Thus, your looking for information about certification signatures likely won&#39;t help you here at all. The most important part of the screen shot actually is the warning &quot;1 Page(s) modified&quot; because that indicates that Adobe Acrobat sees more changes than the allowed addition of annotations. This might be caused by your code actually applying such disallowed changes (a quick glance at your code makes me assume that is not the case), or some JavaScript in the PDF applying some changes, or..."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1685910493,"post_id":76400452,"comment_id":134723433,"body_markdown":"... or an error in the PDF making Adobe Acrobat repair the file under the hood and so invalidating the signature. As you cannot share the PDF in question, I cannot tell which of these options it is...","body":"... or an error in the PDF making Adobe Acrobat repair the file under the hood and so invalidating the signature. As you cannot share the PDF in question, I cannot tell which of these options it is..."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1685913469,"post_id":76400452,"comment_id":134723686,"body_markdown":"thank you very much, @mkl - i will try and ask for a proper public test file and attach it here when I get it. meanwhile I will keep searching and will post anything more I find. Thanks for the pointers and your being here for all of us.","body":"thank you very much, @mkl - i will try and ask for a proper public test file and attach it here when I get it. meanwhile I will keep searching and will post anything more I find. Thanks for the pointers and your being here for all of us."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1686041998,"post_id":76400452,"comment_id":134741347,"body_markdown":"@mkl I have added some samples and made an edit towards the end of my question - is there a chance you took a look on paricularly FAILURE_simple_test_libre72_cerified_signed_annotated.pdf and FAILURE_simple_test_word2016_not_certified_standard_size_signed_annotated.pdf - have any idea why their signatures are shown as invalid? I explain in the edit how I produced them. Thanks and sorry for the hassle.","body":"@mkl I have added some samples and made an edit towards the end of my question - is there a chance you took a look on paricularly FAILURE_simple_test_libre72_cerified_signed_annotated.pdf and FAILURE_simple_test_word2016_not_certified_standard_size_sig&zwnj;&#8203;ned_annotated.pdf - have any idea why their signatures are shown as invalid? I explain in the edit how I produced them. Thanks and sorry for the hassle."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1686058140,"post_id":76400452,"comment_id":134744797,"body_markdown":"as per mkl&#39;s answer below, I had to make sure that the calls to `setNeedToBeUpdated` for the following objects should NOT be made : `page.getResources().getCOSObject()` , `page.getCOSObject()`. The document catalog still has to be marked for change : `pddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);` , `pddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);`","body":"as per mkl&#39;s answer below, I had to make sure that the calls to <code>setNeedToBeUpdated</code> for the following objects should NOT be made : <code>page.getResources().getCOSObject()</code> , <code>page.getCOSObject()</code>. The document catalog still has to be marked for change : <code>pddoc.getDocumentCatalog().getPages().getCOSObject().setNeed&zwnj;&#8203;ToBeUpdated(true);</code> , <code>pddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated&zwnj;&#8203;(true);</code>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1686064444,"post_id":76400452,"comment_id":134746367,"body_markdown":"*&quot;as per mkl&#39;s answer below, I had to make sure that the calls to `setNeedToBeUpdated` for the following objects should NOT be made : `page.getResources().getCOSObject() , page.getCOSObject()`&quot;* - Beware, it may not be that simple, you want to add an annotation after all. So if the **Annots** array of the page is a direct object, you have to mark the page dictionary. Nonetheless, you have to make sure that the page resources are not changed.","body":"<i>&quot;as per mkl&#39;s answer below, I had to make sure that the calls to <code>setNeedToBeUpdated</code> for the following objects should NOT be made : <code>page.getResources().getCOSObject() , page.getCOSObject()</code>&quot;</i> - Beware, it may not be that simple, you want to add an annotation after all. So if the <b>Annots</b> array of the page is a direct object, you have to mark the page dictionary. Nonetheless, you have to make sure that the page resources are not changed."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686047732,"creation_date":1686047732,"answer_id":76413761,"question_id":76400452,"body_markdown":"Based on the example files the problem became clear - your code changes the page resources and, therefore, the page as far as Adobe Acrobat is concerned, invalidating the signature. (It&#39;s actually quite visible in the code you posted but one easily overlooks something like that.)\r\n\r\nBut your code does not mark all objects from the page to the font resources as updated, you forgot the **Font** dictionary in the **Resources** dictionary.\r\n\r\nIn case of the MS Word generated PDFs the extra fonts were added to the output nonetheless as the resources in the page are direct objects. LibreOffice, on the other hand, uses indirect object hierarchies for the resources. Thus, the extra fonts were not added to the resulting PDF and, consequentially, Adobe Acrobat did not find any changes to the (static) page content.\r\n\r\nEssentially, therefore, those fonts must not be in the page resources when you store your incremental update.\r\n\r\nI don&#39;t know whether it would make sense to have them there temporarily until you call their `subset` methods, but in the end the page resources must not be changed in a signed PDF.","title":"pdfbox adding annotation to certified document with existing signature","body":"<p>Based on the example files the problem became clear - your code changes the page resources and, therefore, the page as far as Adobe Acrobat is concerned, invalidating the signature. (It's actually quite visible in the code you posted but one easily overlooks something like that.)</p>\n<p>But your code does not mark all objects from the page to the font resources as updated, you forgot the <strong>Font</strong> dictionary in the <strong>Resources</strong> dictionary.</p>\n<p>In case of the MS Word generated PDFs the extra fonts were added to the output nonetheless as the resources in the page are direct objects. LibreOffice, on the other hand, uses indirect object hierarchies for the resources. Thus, the extra fonts were not added to the resulting PDF and, consequentially, Adobe Acrobat did not find any changes to the (static) page content.</p>\n<p>Essentially, therefore, those fonts must not be in the page resources when you store your incremental update.</p>\n<p>I don't know whether it would make sense to have them there temporarily until you call their <code>subset</code> methods, but in the end the page resources must not be changed in a signed PDF.</p>\n"}],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76413761,"answer_count":1,"score":1,"last_activity_date":1686047732,"creation_date":1685882249,"question_id":76400452,"body_markdown":"and thanks for taking a look at this question.\r\nI have been struggling with a sudden issue that came to my attention only recently.\r\n\r\n**TL;DR**\r\n\r\nWhen adding annotations to a specific document that contains a valid digital signature, the existing signature becomes invalid, even though the save is incremental and no problems were observed for other similar documents with valid signatures. The only way I could reproduce this behaviour was to add Certification while signing that restricts editing to only form fill-in, commenting and annotations (should be okay). Still, adding annotations afterwards the same way invalidates the signature.\r\n\r\n**Question:**\r\n\r\n 1.  Does making a PDF document &quot;Certified&quot; (actually I am kind of mixed up about what this means technically) effectively prohibits its being modified by specific annotations, even when it specifies that annotations are allowed?\r\n 2.  Do I make some specific mistake in the way I add annotations, resulting in the above error?\r\n 3.  When I open a document that was specifically created by `jSignPDF` with a certain Certificate Level, `Acrobat Reader` shows the following icon in the Signatures bar:\r\n\r\n[![Certification level icon][1]][1]\r\n\r\nWhat attribute does `Acrobat Reader` use to show this? Is there a way to effectively apply certification level without resulting in `Acrobat Reader` diplaying this icon? I am asking this because I have documents that display the same behavior (see below), but do not show this specific &quot;seal&quot; sign.\r\n\r\n**Scenario:**\r\n\r\nThere is an existing application that routinely adds stamp annotations to existing PDF documents which are not usually digitally signed, or are signed by a known internal application. The resulting PDF with added annotations is saved incrementally, and when opened by Acrobat Reader, shows a warning saying that there were changes applied to the document after the signature, which is still valid.\r\n\r\n[![example_usual][2]][2]\r\n\r\nAt some point the above application was fed with a PDF that was externally signed. The application added annotations, but they broke the validity of the existing signature. Unfortunately I am not at liberty to publish the document itself, but the picture shown by `Acrobat Reader` is as follows:\r\n\r\n[![example_signature_invalid][3]][3]\r\n\r\nI have tried various ways to reproduce this issue with a test document of my own creation. Up to now I have tried changing the PDF version (tried `1.4`, `1.6`, `1.7`), saving it as `Tagged`, adding `LTV` information (`OCSP` &amp; `CRL`), and marking it as Certified, allowing form fill-in, commenting and annotations.\r\n\r\nThe tools I have used for the above tests are `LibreOffice 7.5.3.2` (Export As PDF), `qpdf` for changing PDF version from 1.6 to 1.7, `jSignPDF 2.2.0` (for signing with or without Certification, with or without LTV information, changing hash algorithm from `SHA1` to `SHA256`). Up to now the only way I was able to reproduce the issue was to create a document with Certification - even though the Certification specifies that annotations are allowed, it seems that the way I am adding them breaks something. I have checked the binary content of the file and the save indeed seems to have been done incrementally.\r\n\r\n`jSignPDF` has the following interface to specify the level of Certification:\r\n[![jsignpdf UI][4]][4]\r\n\r\nI have created a test program that I used for the above tests and you can get the code [here][5]. The specific file of interest is [this one][6] and it calls a service which approximately does the following (I tried to rewrite it and put everything in a single block of code for clarity - but I don&#39;t expect it to run as is):\r\n\r\n```java\r\n...\r\nPDPage page = pddoc.getPage(0);\r\nList&lt;PDAnnotation&gt; annotations = page.getAnnotations();\r\n\r\n// prefer rubber stamp because it does not require RC (rich content) to be defined and Acrobat Reader DC doesn&#39;t try to modify the document to create its own RC representation\r\nPDAnnotationRubberStamp t = new PDAnnotationRubberStamp();\r\n\r\nt.setAnnotationName(name); // might play important role\r\nt.setPrinted(true); // always visible\r\nt.setReadOnly(true); // does not interact with user\r\nt.setContents(text);\r\nt.setHidden(false);\r\nt.setInvisible(false);\r\nt.setLocked(true);\r\n\r\nt.setPage(page);\r\nt.setLockedContents(true);\r\n\r\nPDFont font = null;\r\ntry ( InputStream fs = PDFService.class.getResourceAsStream(&quot;/static/fonts/LiberationSans-Bold.ttf&quot;)) {\r\n\tret = PDType0Font.load(pddoc, fs, true);\r\n\t// PDFBOX will warn, but we ignore this warning according to https://stackoverflow.com/questions/67137356/pdfbox-embedding-subset-font-for-annotations\r\n} catch (Exception ex) {\r\n\tSystem.out.println(&quot;Could not load font : &quot; + ex.getMessage());\r\n}\r\n\r\nfont.getCOSObject().setNeedToBeUpdated(true);\r\npage.getResources().add(font);\r\npage.getResources().getCOSObject().setNeedToBeUpdated(true);\r\npage.getCOSObject().setNeedToBeUpdated(true);\r\n\r\nsubsetFonts.add(font); // should be subset once all annotations for a page have been added\r\n\r\nPDRectangle rect = new PDRectangle(x, y, 100, 100);\r\nt.setRectangle(rect);\r\n\r\nCalendar c = Calendar.getInstance();\r\nt.setCreationDate(c);\r\nt.setModifiedDate(c);\r\n\r\nPDAppearanceDictionary ap = new PDAppearanceDictionary();\r\nPDAppearanceStream aps = new PDAppearanceStream(document);\r\nPDAppearanceContentStream apsContent = null;\r\n\r\nPDRectangle rect = ann.getRectangle();\r\nrect = new PDRectangle(0, 0, rect.getWidth(), rect.getHeight()); // need to be relative - this is mega important because otherwise it appears as if nothing is printed\r\naps.setBBox(rect); // set bounding box to the dimensions of the annotation itself\r\n\r\n// in case of multiple lines, we want to start from the highest line\r\nfloat initialY = rect.getHeight() - _fontSize;\r\n\r\n// embed our unicode font (NB: yes, this needs to be done otherwise aps.getResources() == null which will cause NPE later during setFont)\r\nPDResources res = new PDResources();\r\naps.setResources(res);\r\n\r\ntry {\r\n\t// draw directly on the XObject&#39;s content stream\r\n\tapsContent = new PDAppearanceContentStream(aps);\r\n\tapsContent.beginText();\r\n\tapsContent.setFont(font, _fontSize); // PDType1Font.HELVETICA_BOLD would work if we didn&#39;t have possible greek characters\r\n\tapsContent.newLineAtOffset(0, initialY);\r\n\tapsContent.showText(ann.getContents());\r\n\tapsContent.endText();\r\n} \r\nfinally {\r\n\tif (apsContent != null) {\r\n\t\ttry { apsContent.close(); } catch (Exception ex) { System.out.println(ex.getMessage()); }\r\n\t}\r\n}\r\n\r\naps.getResources().getCOSObject().setNeedToBeUpdated(true);\r\naps.getCOSObject().setNeedToBeUpdated(true);\r\n\r\nap.setNormalAppearance(aps);\r\nap.getCOSObject().setNeedToBeUpdated(true);\r\nt.setAppearance(ap);\r\n\r\nannotations.add(t);\r\npage.setAnnotations(annotations);\r\n\r\nt.getCOSObject().setNeedToBeUpdated(true);\r\npage.getResources().getCOSObject().setNeedToBeUpdated(true);\r\npage.getCOSObject().setNeedToBeUpdated(true);\r\npddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\r\npddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n\r\nif (font.willBeSubset()) {\r\n\tfont.subset();\r\n\tfont.getCOSObject().setNeedToBeUpdated(true); // corresponsing page resources should also be set to be updated - but we do it already in addAnnotation            \r\n}\r\n\r\npddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\r\npddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\npddoc.saveIncremental(baos);\r\n...\r\n```\r\nThank you all...\r\n\r\n**EDIT:**\r\nI have added [here][7] some test files. After some trial and error I came to the following conclusions:\r\n\r\nWhen I create simple PDF files by exporting them from LibreOffice 7.2, then sign them with jSignPDF, choosing Certification Level = &quot;Not certified&quot;, and later annotate them with the above procedure, things work as expected, existing signature still shows as valid, with the remark that there were changes made after the signature (the added annotations). Alright by me.\r\n\r\nWhen I create PDF files by exporting them from Microsoft Word 2016/2019 documents, no matter how simple, they are significantly larger than PDFs produced by e.g. LibreOffice 7.2/7.5. After being signed by jSignPDF with the same way and annotated with the same above procedure, the existing signature shows as invalid, as in the above screenshots. I wonder - what is the problem that causes this failure - I guess it is that there is something that Acrobat Reader doesn&#39;t like and tries to change the contents on-the-run, that results in in-memory document corruption and the error message. I am trying to find a safe guideline to give to people using this way of producing their PDFs so that they would work with the above code later..\r\n\r\nEven when I create files with LibreOffice as in the first case, when I sign them with jSignPDF, choosing Certification Level = &quot;Form filling and annotations allowed&quot;, subsequent annotating of these files causes the signature to show as invalid. Is this a problem with how jSignPDF adds the signature?\r\n\r\nThanks....\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/biZUt.png\r\n  [2]: https://i.stack.imgur.com/tzXID.png\r\n  [3]: https://i.stack.imgur.com/EU3PB.png\r\n  [4]: https://i.stack.imgur.com/4Gclb.png\r\n  [5]: https://github.com/hello-earth-gh/grumpy-hellcat/tree/master/grumpy-hellcat\r\n  [6]: https://github.com/hello-earth-gh/grumpy-hellcat/blob/master/grumpy-hellcat/src/main/java/pub/hello/earth/grumpy/hellcat/pdfbox/PdfBoxAnnotationsBrokenSignatureScenario.java\r\n  [7]: https://github.com/hello-earth-gh/grumpy-hellcat/tree/master/grumpy-hellcat/src/main/resources/pdfbox_sample_word","title":"pdfbox adding annotation to certified document with existing signature","body":"<p>and thanks for taking a look at this question.\nI have been struggling with a sudden issue that came to my attention only recently.</p>\n<p><strong>TL;DR</strong></p>\n<p>When adding annotations to a specific document that contains a valid digital signature, the existing signature becomes invalid, even though the save is incremental and no problems were observed for other similar documents with valid signatures. The only way I could reproduce this behaviour was to add Certification while signing that restricts editing to only form fill-in, commenting and annotations (should be okay). Still, adding annotations afterwards the same way invalidates the signature.</p>\n<p><strong>Question:</strong></p>\n<ol>\n<li>Does making a PDF document &quot;Certified&quot; (actually I am kind of mixed up about what this means technically) effectively prohibits its being modified by specific annotations, even when it specifies that annotations are allowed?</li>\n<li>Do I make some specific mistake in the way I add annotations, resulting in the above error?</li>\n<li>When I open a document that was specifically created by <code>jSignPDF</code> with a certain Certificate Level, <code>Acrobat Reader</code> shows the following icon in the Signatures bar:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/biZUt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/biZUt.png\" alt=\"Certification level icon\" /></a></p>\n<p>What attribute does <code>Acrobat Reader</code> use to show this? Is there a way to effectively apply certification level without resulting in <code>Acrobat Reader</code> diplaying this icon? I am asking this because I have documents that display the same behavior (see below), but do not show this specific &quot;seal&quot; sign.</p>\n<p><strong>Scenario:</strong></p>\n<p>There is an existing application that routinely adds stamp annotations to existing PDF documents which are not usually digitally signed, or are signed by a known internal application. The resulting PDF with added annotations is saved incrementally, and when opened by Acrobat Reader, shows a warning saying that there were changes applied to the document after the signature, which is still valid.</p>\n<p><a href=\"https://i.stack.imgur.com/tzXID.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tzXID.png\" alt=\"example_usual\" /></a></p>\n<p>At some point the above application was fed with a PDF that was externally signed. The application added annotations, but they broke the validity of the existing signature. Unfortunately I am not at liberty to publish the document itself, but the picture shown by <code>Acrobat Reader</code> is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/EU3PB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EU3PB.png\" alt=\"example_signature_invalid\" /></a></p>\n<p>I have tried various ways to reproduce this issue with a test document of my own creation. Up to now I have tried changing the PDF version (tried <code>1.4</code>, <code>1.6</code>, <code>1.7</code>), saving it as <code>Tagged</code>, adding <code>LTV</code> information (<code>OCSP</code> &amp; <code>CRL</code>), and marking it as Certified, allowing form fill-in, commenting and annotations.</p>\n<p>The tools I have used for the above tests are <code>LibreOffice 7.5.3.2</code> (Export As PDF), <code>qpdf</code> for changing PDF version from 1.6 to 1.7, <code>jSignPDF 2.2.0</code> (for signing with or without Certification, with or without LTV information, changing hash algorithm from <code>SHA1</code> to <code>SHA256</code>). Up to now the only way I was able to reproduce the issue was to create a document with Certification - even though the Certification specifies that annotations are allowed, it seems that the way I am adding them breaks something. I have checked the binary content of the file and the save indeed seems to have been done incrementally.</p>\n<p><code>jSignPDF</code> has the following interface to specify the level of Certification:\n<a href=\"https://i.stack.imgur.com/4Gclb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Gclb.png\" alt=\"jsignpdf UI\" /></a></p>\n<p>I have created a test program that I used for the above tests and you can get the code <a href=\"https://github.com/hello-earth-gh/grumpy-hellcat/tree/master/grumpy-hellcat\" rel=\"nofollow noreferrer\">here</a>. The specific file of interest is <a href=\"https://github.com/hello-earth-gh/grumpy-hellcat/blob/master/grumpy-hellcat/src/main/java/pub/hello/earth/grumpy/hellcat/pdfbox/PdfBoxAnnotationsBrokenSignatureScenario.java\" rel=\"nofollow noreferrer\">this one</a> and it calls a service which approximately does the following (I tried to rewrite it and put everything in a single block of code for clarity - but I don't expect it to run as is):</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nPDPage page = pddoc.getPage(0);\nList&lt;PDAnnotation&gt; annotations = page.getAnnotations();\n\n// prefer rubber stamp because it does not require RC (rich content) to be defined and Acrobat Reader DC doesn't try to modify the document to create its own RC representation\nPDAnnotationRubberStamp t = new PDAnnotationRubberStamp();\n\nt.setAnnotationName(name); // might play important role\nt.setPrinted(true); // always visible\nt.setReadOnly(true); // does not interact with user\nt.setContents(text);\nt.setHidden(false);\nt.setInvisible(false);\nt.setLocked(true);\n\nt.setPage(page);\nt.setLockedContents(true);\n\nPDFont font = null;\ntry ( InputStream fs = PDFService.class.getResourceAsStream(&quot;/static/fonts/LiberationSans-Bold.ttf&quot;)) {\n    ret = PDType0Font.load(pddoc, fs, true);\n    // PDFBOX will warn, but we ignore this warning according to https://stackoverflow.com/questions/67137356/pdfbox-embedding-subset-font-for-annotations\n} catch (Exception ex) {\n    System.out.println(&quot;Could not load font : &quot; + ex.getMessage());\n}\n\nfont.getCOSObject().setNeedToBeUpdated(true);\npage.getResources().add(font);\npage.getResources().getCOSObject().setNeedToBeUpdated(true);\npage.getCOSObject().setNeedToBeUpdated(true);\n\nsubsetFonts.add(font); // should be subset once all annotations for a page have been added\n\nPDRectangle rect = new PDRectangle(x, y, 100, 100);\nt.setRectangle(rect);\n\nCalendar c = Calendar.getInstance();\nt.setCreationDate(c);\nt.setModifiedDate(c);\n\nPDAppearanceDictionary ap = new PDAppearanceDictionary();\nPDAppearanceStream aps = new PDAppearanceStream(document);\nPDAppearanceContentStream apsContent = null;\n\nPDRectangle rect = ann.getRectangle();\nrect = new PDRectangle(0, 0, rect.getWidth(), rect.getHeight()); // need to be relative - this is mega important because otherwise it appears as if nothing is printed\naps.setBBox(rect); // set bounding box to the dimensions of the annotation itself\n\n// in case of multiple lines, we want to start from the highest line\nfloat initialY = rect.getHeight() - _fontSize;\n\n// embed our unicode font (NB: yes, this needs to be done otherwise aps.getResources() == null which will cause NPE later during setFont)\nPDResources res = new PDResources();\naps.setResources(res);\n\ntry {\n    // draw directly on the XObject's content stream\n    apsContent = new PDAppearanceContentStream(aps);\n    apsContent.beginText();\n    apsContent.setFont(font, _fontSize); // PDType1Font.HELVETICA_BOLD would work if we didn't have possible greek characters\n    apsContent.newLineAtOffset(0, initialY);\n    apsContent.showText(ann.getContents());\n    apsContent.endText();\n} \nfinally {\n    if (apsContent != null) {\n        try { apsContent.close(); } catch (Exception ex) { System.out.println(ex.getMessage()); }\n    }\n}\n\naps.getResources().getCOSObject().setNeedToBeUpdated(true);\naps.getCOSObject().setNeedToBeUpdated(true);\n\nap.setNormalAppearance(aps);\nap.getCOSObject().setNeedToBeUpdated(true);\nt.setAppearance(ap);\n\nannotations.add(t);\npage.setAnnotations(annotations);\n\nt.getCOSObject().setNeedToBeUpdated(true);\npage.getResources().getCOSObject().setNeedToBeUpdated(true);\npage.getCOSObject().setNeedToBeUpdated(true);\npddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\npddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n\nif (font.willBeSubset()) {\n    font.subset();\n    font.getCOSObject().setNeedToBeUpdated(true); // corresponsing page resources should also be set to be updated - but we do it already in addAnnotation            \n}\n\npddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\npddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n\nByteArrayOutputStream baos = new ByteArrayOutputStream();\n\npddoc.saveIncremental(baos);\n...\n</code></pre>\n<p>Thank you all...</p>\n<p><strong>EDIT:</strong>\nI have added <a href=\"https://github.com/hello-earth-gh/grumpy-hellcat/tree/master/grumpy-hellcat/src/main/resources/pdfbox_sample_word\" rel=\"nofollow noreferrer\">here</a> some test files. After some trial and error I came to the following conclusions:</p>\n<p>When I create simple PDF files by exporting them from LibreOffice 7.2, then sign them with jSignPDF, choosing Certification Level = &quot;Not certified&quot;, and later annotate them with the above procedure, things work as expected, existing signature still shows as valid, with the remark that there were changes made after the signature (the added annotations). Alright by me.</p>\n<p>When I create PDF files by exporting them from Microsoft Word 2016/2019 documents, no matter how simple, they are significantly larger than PDFs produced by e.g. LibreOffice 7.2/7.5. After being signed by jSignPDF with the same way and annotated with the same above procedure, the existing signature shows as invalid, as in the above screenshots. I wonder - what is the problem that causes this failure - I guess it is that there is something that Acrobat Reader doesn't like and tries to change the contents on-the-run, that results in in-memory document corruption and the error message. I am trying to find a safe guideline to give to people using this way of producing their PDFs so that they would work with the above code later..</p>\n<p>Even when I create files with LibreOffice as in the first case, when I sign them with jSignPDF, choosing Certification Level = &quot;Form filling and annotations allowed&quot;, subsequent annotating of these files causes the signature to show as invalid. Is this a problem with how jSignPDF adds the signature?</p>\n<p>Thanks....</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":8,"creation_date":1686048431,"post_id":76413740,"comment_id":134742687,"body_markdown":"Are you in a particularly memory constrained environment? If you have twenty threads the maximum amount of memory you can save is 20MB, which is nothing compared to heap sizes on most JVMs. Can you explain why you are looking into this?","body":"Are you in a particularly memory constrained environment? If you have twenty threads the maximum amount of memory you can save is 20MB, which is nothing compared to heap sizes on most JVMs. Can you explain why you are looking into this?"},{"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"score":0,"creation_date":1686049849,"post_id":76413740,"comment_id":134742940,"body_markdown":"No, I&#39;m not in an environment with a particularly limited amount of memory. My goal is not only to gain in memory, but also to gain a useful optimization experience.","body":"No, I&#39;m not in an environment with a particularly limited amount of memory. My goal is not only to gain in memory, but also to gain a useful optimization experience."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686049891,"post_id":76413740,"comment_id":134742954,"body_markdown":"Reduce it by successive halving until you start getting stack overflow exceptions, then you&#39;ve gone too far. But 1MB is plenty for most applications. Java puts most memory into the heap, not the stack.","body":"Reduce it by successive halving until you start getting stack overflow exceptions, then you&#39;ve gone too far. But 1MB is plenty for most applications. Java puts most memory into the heap, not the stack."},{"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"score":0,"creation_date":1686050045,"post_id":76413740,"comment_id":134742983,"body_markdown":"Thanks user207421. So far, this is the most popular advice that I have heard from my colleagues.","body":"Thanks user207421. So far, this is the most popular advice that I have heard from my colleagues."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686050356,"post_id":76413740,"comment_id":134743038,"body_markdown":"I don&#39;t think this is particularly useful optimisation experience. Depending on your environment, learning to use a profiler, learning to configure logging for timing DB queries (and other IO) and learning to read heap dumps are much more useful.","body":"I don&#39;t think this is particularly useful optimisation experience. Depending on your environment, learning to use a profiler, learning to configure logging for timing DB queries (and other IO) and learning to read heap dumps are much more useful."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686050869,"post_id":76413740,"comment_id":134743144,"body_markdown":"@kleopatra Wow, I had no idea. As someone who has both tried to use ChatGPT to answer tricky questions, and flagged a bunch of bad ChatGPT generated answers in the java tag, I&#39;m shocked.","body":"@kleopatra Wow, I had no idea. As someone who has both tried to use ChatGPT to answer tricky questions, and flagged a bunch of bad ChatGPT generated answers in the java tag, I&#39;m shocked."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686053179,"post_id":76413740,"comment_id":134743640,"body_markdown":"@Sergey just having the number of threads is not useful to make decisions on tuning. How did you even know that this particular setting is relevant to your objective? I can&#39;t even remember a situation when I had to use it. We don&#39;t know what your application does, how it is designed, what is the implementation, how threads are used, heap, native memory, stack, cpu usage patterns. This is a complex topic. Don&#39;t just jump to the first setting you see.","body":"@Sergey just having the number of threads is not useful to make decisions on tuning. How did you even know that this particular setting is relevant to your objective? I can&#39;t even remember a situation when I had to use it. We don&#39;t know what your application does, how it is designed, what is the implementation, how threads are used, heap, native memory, stack, cpu usage patterns. This is a complex topic. Don&#39;t just jump to the first setting you see."}],"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686047606,"creation_date":1686047606,"question_id":76413740,"body_markdown":"There are 20 threads running in the application at a time. I want to optimize the amount of memory allocated when creating a stack for each thread. To set a fixed amount of memory allocated for the stack, I wanted to use the -XX:ThreadStackSize flag. \r\nHow much is it advisable to optimize the amount of allocated memory?\r\nWas it worth it?\r\nWhere do you recommend to start?\r\n\r\nAt the moment, 1 MB of memory is allocated for each stack","title":"Optimize Java stack size","body":"<p>There are 20 threads running in the application at a time. I want to optimize the amount of memory allocated when creating a stack for each thread. To set a fixed amount of memory allocated for the stack, I wanted to use the -XX:ThreadStackSize flag.\nHow much is it advisable to optimize the amount of allocated memory?\nWas it worth it?\nWhere do you recommend to start?</p>\n<p>At the moment, 1 MB of memory is allocated for each stack</p>\n"},{"tags":["java","sql","amazon-s3","parquet","amazon-s3-select"],"comments":[{"owner":{"account_id":12871638,"reputation":485,"user_id":9309869,"display_name":"S&#225;ndor Bakos"},"score":0,"creation_date":1565556295,"post_id":57451552,"comment_id":101381509,"body_markdown":"You can achive the parquet select with the aws s3 select feature. for java usage here is the link. [link](https://docs.aws.amazon.com/AmazonS3/latest/dev/SelectObjectContentUsingJava.html)","body":"You can achive the parquet select with the aws s3 select feature. for java usage here is the link. <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/SelectObjectContentUsingJava.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1565556806,"post_id":57451552,"comment_id":101381614,"body_markdown":"That&#39;s what I am doing. This itself is not returning the header if I use parquet file.","body":"That&#39;s what I am doing. This itself is not returning the header if I use parquet file."}],"answers":[{"tags":[],"owner":{"account_id":17234902,"reputation":31,"user_id":12478589,"display_name":"sergej"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575509106,"creation_date":1575491740,"answer_id":59184307,"question_id":57451552,"body_markdown":"I have the same problem but unfortunately, my Google-Kung-Fu was not strong enough this time.\r\n\r\nI found the following workaround which I don&#39;t really like but it works for me:\r\n\r\n```python\r\nr = s3.select_object_content(Bucket=&#39;...your bucket...&#39;, \r\n                             Key=&#39;...your key...&#39;, \r\n                             ExpressionType=&#39;SQL&#39;, \r\n                             Expression=&quot;select s.* from S3Object s limit 1&quot;,\r\n                             InputSerialization={&#39;Parquet&#39;: {}}, \r\n                              OutputSerialization={&#39;JSON&#39;: {}})\r\nrow = json.loads([rec[&#39;Records&#39;][&#39;Payload&#39;].decode(&#39;utf-8&#39;) for rec in r[&#39;Payload&#39;] if &#39;Records&#39; in rec][0])\r\n\r\nprint(&quot;Columns: &quot;, list(row.keys()))\r\n```\r\nI.e. what the code does is to request the first line of the data, to extract the payload and to load the returned JSON object. The obtained JSON object has the following structure `{&quot;Column name&quot;: &quot;value&quot;, ....}`, such that one only has to extract the keys of the JSON object (last line).\r\n\r\nOne additional problem is that this does not return the types of columns. This is something that I could not solve yet.\r\n\r\n**UPDATE:**\r\nI observed that in some situations, some column names were not correct reported. Instead of the real name something like _18, _19 were returned. No idea how to deal with it.","title":"How to get list of all columns from a parquet file using s3 select?","body":"<p>I have the same problem but unfortunately, my Google-Kung-Fu was not strong enough this time.</p>\n\n<p>I found the following workaround which I don't really like but it works for me:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>r = s3.select_object_content(Bucket='...your bucket...', \n                             Key='...your key...', \n                             ExpressionType='SQL', \n                             Expression=\"select s.* from S3Object s limit 1\",\n                             InputSerialization={'Parquet': {}}, \n                              OutputSerialization={'JSON': {}})\nrow = json.loads([rec['Records']['Payload'].decode('utf-8') for rec in r['Payload'] if 'Records' in rec][0])\n\nprint(\"Columns: \", list(row.keys()))\n</code></pre>\n\n<p>I.e. what the code does is to request the first line of the data, to extract the payload and to load the returned JSON object. The obtained JSON object has the following structure <code>{\"Column name\": \"value\", ....}</code>, such that one only has to extract the keys of the JSON object (last line).</p>\n\n<p>One additional problem is that this does not return the types of columns. This is something that I could not solve yet.</p>\n\n<p><strong>UPDATE:</strong>\nI observed that in some situations, some column names were not correct reported. Instead of the real name something like _18, _19 were returned. No idea how to deal with it.</p>\n"},{"tags":[],"owner":{"account_id":28763973,"reputation":1,"user_id":22029282,"display_name":"Pilar Pulido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686047315,"creation_date":1686047315,"answer_id":76413696,"question_id":57451552,"body_markdown":"You could retrieve just a row by selecting json format instead csv and you will obtain the column names as labels in json document; then you can use them to query the object","title":"How to get list of all columns from a parquet file using s3 select?","body":"<p>You could retrieve just a row by selecting json format instead csv and you will obtain the column names as labels in json document; then you can use them to query the object</p>\n"}],"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4031,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1686047315,"creation_date":1565539451,"question_id":57451552,"body_markdown":"I have a parquet file stored in S3 bucket. I want to get the list of all columns of the parquet file. I am using `s3 select` but it just give me list of all rows wihtout any column headers. \r\n\r\nIs there anyway to get all column names from this parquet file without downloading it completely? Since parquet file can be very large, I would not want to download the entire parquet file which is why I am using `s3 select` to pick first few rows using \r\n\r\n    select * from S3Object LIMIT 10\r\n\r\nI tried to fetch column names explicitly by doing \r\n\r\n    SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = &#39;S3Object&#39;\r\n\r\nbut it would not work as AWS S3 doesn&#39;t support this yet.\r\n\r\nIs there any other way to achieve the same?\r\n\r\n ","title":"How to get list of all columns from a parquet file using s3 select?","body":"<p>I have a parquet file stored in S3 bucket. I want to get the list of all columns of the parquet file. I am using <code>s3 select</code> but it just give me list of all rows wihtout any column headers. </p>\n\n<p>Is there anyway to get all column names from this parquet file without downloading it completely? Since parquet file can be very large, I would not want to download the entire parquet file which is why I am using <code>s3 select</code> to pick first few rows using </p>\n\n<pre><code>select * from S3Object LIMIT 10\n</code></pre>\n\n<p>I tried to fetch column names explicitly by doing </p>\n\n<pre><code>SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'S3Object'\n</code></pre>\n\n<p>but it would not work as AWS S3 doesn't support this yet.</p>\n\n<p>Is there any other way to achieve the same?</p>\n"},{"tags":["java","exception","try-catch","try-with-resources"],"answers":[{"tags":[],"owner":{"account_id":6568146,"reputation":1238,"user_id":5077042,"display_name":"Vishnu Prasad V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476857885,"creation_date":1476857885,"answer_id":40123607,"question_id":40123124,"body_markdown":"1: You can use conditional statements inside `try` with resources statement also. Unfortunately you have to define new variable for this block and cannot use a predefined variable. ( variable `in` in your code)  \r\n  \r\n\r\n    try (BufferedReader in = (responseCode &gt;= 400 ? new BufferedReader(new InputStreamReader(con.getErrorStream())) : new BufferedReader(new InputStreamReader(con.getInputStream())))) {\r\n       // your code for getting string data\r\n    }\r\n\r\n\r\n2: I&#39;m not sure `HttpUrlConnection` is `AutoCloseable`, So it might be a good idea to call the `disconnect()` yourself. I&#39;m open to any suggestion on this one.\r\n\r\n3: `try` with resources will definitely help you in managing the resources. But if you&#39;re confident that you&#39;re releasing the resources properly after use, then your code is fine.","title":"Java Post Connection Using Try with Resources","body":"<p>1: You can use conditional statements inside <code>try</code> with resources statement also. Unfortunately you have to define new variable for this block and cannot use a predefined variable. ( variable <code>in</code> in your code)  </p>\n\n<pre><code>try (BufferedReader in = (responseCode &gt;= 400 ? new BufferedReader(new InputStreamReader(con.getErrorStream())) : new BufferedReader(new InputStreamReader(con.getInputStream())))) {\n   // your code for getting string data\n}\n</code></pre>\n\n<p>2: I'm not sure <code>HttpUrlConnection</code> is <code>AutoCloseable</code>, So it might be a good idea to call the <code>disconnect()</code> yourself. I'm open to any suggestion on this one.</p>\n\n<p>3: <code>try</code> with resources will definitely help you in managing the resources. But if you're confident that you're releasing the resources properly after use, then your code is fine.</p>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1476857976,"creation_date":1476857976,"answer_id":40123634,"question_id":40123124,"body_markdown":"Try this.\r\n\r\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n    try (AutoCloseable conc = () -&gt; con.disconnect()) {\r\n        // add request headers\r\n        try (DataOutputStream wr = new DataOutputStream(con.getOutputStream())) {\r\n            wr.writeBytes(queryString);\r\n        }\r\n        int responseCode = con.getResponseCode();\r\n        try (InputStream ins = responseCode &gt;= 400 ? con.getErrorStream() : con.getInputStream();\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(ins))) {\r\n            // receive response\r\n        }\r\n    }\r\n\r\n`() -&gt; con.disconnect()` is a lambda expression which execute `con.disconnect()` at finally stage of the try statement.\r\n","title":"Java Post Connection Using Try with Resources","body":"<p>Try this.</p>\n\n<pre><code>HttpURLConnection con = (HttpURLConnection) obj.openConnection();\ntry (AutoCloseable conc = () -&gt; con.disconnect()) {\n    // add request headers\n    try (DataOutputStream wr = new DataOutputStream(con.getOutputStream())) {\n        wr.writeBytes(queryString);\n    }\n    int responseCode = con.getResponseCode();\n    try (InputStream ins = responseCode &gt;= 400 ? con.getErrorStream() : con.getInputStream();\n        BufferedReader in = new BufferedReader(new InputStreamReader(ins))) {\n        // receive response\n    }\n}\n</code></pre>\n\n<p><code>() -&gt; con.disconnect()</code> is a lambda expression which execute <code>con.disconnect()</code> at finally stage of the try statement.</p>\n"},{"tags":[],"owner":{"account_id":15075401,"reputation":87,"user_id":10879673,"display_name":"Shrikant Arbat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686047203,"creation_date":1686047203,"answer_id":76413687,"question_id":40123124,"body_markdown":"HttpURLConnection does not implement the AutoCloseable interface in Java 8 or later versions.\r\nSince HttpURLConnection does not implement AutoCloseable, you cannot use it directly in a try-with-resources block. However, you can create a wrapper class that implements AutoCloseable and encapsulates the HttpURLConnection object, and then use the wrapper class in a try-with-resources block.\r\n\r\n[Click here to check further details][1]\r\n\r\n\r\n  [1]: https://ctcsinfo.blogspot.com/2023/05/right-way-to-close-httpsurlconnetion.html","title":"Java Post Connection Using Try with Resources","body":"<p>HttpURLConnection does not implement the AutoCloseable interface in Java 8 or later versions.\nSince HttpURLConnection does not implement AutoCloseable, you cannot use it directly in a try-with-resources block. However, you can create a wrapper class that implements AutoCloseable and encapsulates the HttpURLConnection object, and then use the wrapper class in a try-with-resources block.</p>\n<p><a href=\"https://ctcsinfo.blogspot.com/2023/05/right-way-to-close-httpsurlconnetion.html\" rel=\"nofollow noreferrer\">Click here to check further details</a></p>\n"}],"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11519,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686047203,"creation_date":1476855920,"question_id":40123124,"body_markdown":"I want to implement the code for handling POST requests using try with resources.\r\n\r\nFollowing is my code:\r\n \r\n\r\n    public static String sendPostRequestDummy(String url, String queryString) {\r\n\t\tlog.info(&quot;Sending &#39;POST&#39; request to URL : &quot; + url);\r\n\t\tlog.info(&quot;Data : &quot; + queryString);\r\n\t\tBufferedReader in = null;\r\n\t\tHttpURLConnection con = null;\r\n\t\tStringBuilder response = new StringBuilder();\r\n\t\ttry{\r\n\t\t\tURL obj = new URL(url);\r\n\t\t\tcon = (HttpURLConnection) obj.openConnection();\r\n\t\t\t// add request header\r\n\t\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tcon.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n\t\t\tcon.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\r\n\t\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\t\t// Send post request\r\n\t\t\tcon.setDoOutput(true);\r\n\t\t\tDataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n\t\t\twr.writeBytes(queryString);\r\n\t\t\twr.flush();\r\n\t\t\twr.close();\r\n\t\t\tint responseCode = con.getResponseCode();\r\n\t\t\tlog.info(&quot;Response Code : &quot; + responseCode);\r\n\t\t\tif (responseCode &gt;= 400)\r\n\t\t\t\tin = new BufferedReader(new InputStreamReader(con.getErrorStream()));\r\n\t\t\telse \r\n\t\t\t\tin = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\r\n\t\t\tString inputLine;\r\n\r\n\t\t\twhile ((inputLine = in.readLine()) != null) {\r\n\t\t\t\tresponse.append(inputLine);\r\n\t\t\t}\r\n\t\t}catch(Exception e){\r\n\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\tlog.error(&quot;Error during posting request&quot;);\r\n\t\t}\r\n\t\tfinally{\r\n\t\t\tcloseConnectionNoException(in,con);\r\n\t\t}\r\n\t\treturn response.toString();\r\n\t}\r\n\r\n\r\nI have the following concerns for the code:\r\n\r\n 1. How to introduce conditional statements in try with resources for the above scenario?\r\n 2. Is there a way to pass on the connection in try with resources? (It can be done using nested try-catch blocks since URL and HTTPConnection is not AutoCloseable, which itself is not a compliant solution)\r\n 3. Is using try with resources for the above problem is a better approach?","title":"Java Post Connection Using Try with Resources","body":"<p>I want to implement the code for handling POST requests using try with resources.</p>\n\n<p>Following is my code:</p>\n\n<pre><code>public static String sendPostRequestDummy(String url, String queryString) {\n    log.info(\"Sending 'POST' request to URL : \" + url);\n    log.info(\"Data : \" + queryString);\n    BufferedReader in = null;\n    HttpURLConnection con = null;\n    StringBuilder response = new StringBuilder();\n    try{\n        URL obj = new URL(url);\n        con = (HttpURLConnection) obj.openConnection();\n        // add request header\n        con.setRequestMethod(\"POST\");\n        con.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");\n        con.setRequestProperty(\"Accept-Language\", \"en-US,en;q=0.5\");\n        con.setRequestProperty(\"Content-Type\", \"application/json\");\n        // Send post request\n        con.setDoOutput(true);\n        DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n        wr.writeBytes(queryString);\n        wr.flush();\n        wr.close();\n        int responseCode = con.getResponseCode();\n        log.info(\"Response Code : \" + responseCode);\n        if (responseCode &gt;= 400)\n            in = new BufferedReader(new InputStreamReader(con.getErrorStream()));\n        else \n            in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n\n        String inputLine;\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n    }catch(Exception e){\n        log.error(e.getMessage(), e);\n        log.error(\"Error during posting request\");\n    }\n    finally{\n        closeConnectionNoException(in,con);\n    }\n    return response.toString();\n}\n</code></pre>\n\n<p>I have the following concerns for the code:</p>\n\n<ol>\n<li>How to introduce conditional statements in try with resources for the above scenario?</li>\n<li>Is there a way to pass on the connection in try with resources? (It can be done using nested try-catch blocks since URL and HTTPConnection is not AutoCloseable, which itself is not a compliant solution)</li>\n<li>Is using try with resources for the above problem is a better approach?</li>\n</ol>\n"},{"tags":["java","android","dual-sim"],"comments":[{"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"score":0,"creation_date":1488363804,"post_id":42528702,"comment_id":72193999,"body_markdown":"Not sure, but seems they added only possibility to check which SIM active and if it in roaming and so on. There is even explanation for what it useful `This information is useful for developers who want to throttle their apps&#39; data access down or off for device users who are sensitive to data access charges`. [Link](https://developer.android.com/about/versions/android-5.1.html)","body":"Not sure, but seems they added only possibility to check which SIM active and if it in roaming and so on. There is even explanation for what it useful <code>This information is useful for developers who want to throttle their apps&#39; data access down or off for device users who are sensitive to data access charges</code>. <a href=\"https://developer.android.com/about/versions/android-5.1.html\" rel=\"nofollow noreferrer\">Link</a>"},{"owner":{"account_id":4329533,"reputation":3389,"user_id":3535408,"accept_rate":24,"display_name":"Mackovich"},"score":0,"creation_date":1488364384,"post_id":42528702,"comment_id":72194403,"body_markdown":"Yes I read that. Its very slim. How does application such as this one (https://play.google.com/store/apps/details?id=pt.joaormf.mtkcontrol.free&amp;hl=en&amp;rdid=pt.joaormf.mtkcontrol.free) work ?","body":"Yes I read that. Its very slim. How does application such as this one (<a href=\"https://play.google.com/store/apps/details?id=pt.joaormf.mtkcontrol.free&amp;hl=en&amp;rdid=pt.joaormf.mtkcontrol.free\" rel=\"nofollow noreferrer\">play.google.com/store/apps/&hellip;</a>) work ?"},{"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"score":0,"creation_date":1488364539,"post_id":42528702,"comment_id":72194533,"body_markdown":"Probably they just use API of phone manufacture? Because `Requires Android 4.0 and up`.","body":"Probably they just use API of phone manufacture? Because <code>Requires Android 4.0 and up</code>."},{"owner":{"account_id":4329533,"reputation":3389,"user_id":3535408,"accept_rate":24,"display_name":"Mackovich"},"score":0,"creation_date":1488364892,"post_id":42528702,"comment_id":72194776,"body_markdown":"What about pure Android ? As in Google would release a Nexus (or Pixel) with dual sim slots. It must mean there is some internal API, right ? If it is the case, I can definitely do some reflections. Furthermore, dual sim Android phones is not a recent thing. Sure, &quot;back in the days&quot;, each manufacturer would&#39;ve developed their own solution same as for Bluetooth LE (HTC, Samsung, Motorola own SDks) before Google standardized it in 4.3. So today, it ought to be standardized as well if there is some basic support for dual SIM? Like knowing which one is roaming: there&#39;s definitely something here...","body":"What about pure Android ? As in Google would release a Nexus (or Pixel) with dual sim slots. It must mean there is some internal API, right ? If it is the case, I can definitely do some reflections. Furthermore, dual sim Android phones is not a recent thing. Sure, &quot;back in the days&quot;, each manufacturer would&#39;ve developed their own solution same as for Bluetooth LE (HTC, Samsung, Motorola own SDks) before Google standardized it in 4.3. So today, it ought to be standardized as well if there is some basic support for dual SIM? Like knowing which one is roaming: there&#39;s definitely something here..."},{"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"score":0,"creation_date":1488365110,"post_id":42528702,"comment_id":72194925,"body_markdown":"When they will standardize it - they will publish info about that. Till that moment - I didn&#39;t see that information.","body":"When they will standardize it - they will publish info about that. Till that moment - I didn&#39;t see that information."}],"answers":[{"tags":[],"owner":{"account_id":25811517,"reputation":11,"user_id":19552208,"display_name":"Julio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658340001,"creation_date":1658340001,"answer_id":73056251,"question_id":42528702,"body_markdown":"The solution I found for Android 7.1.1 API 25 is using SubscriptionManager and reflection api.\r\n\r\nNote that you have to install your app in /system/priv-app/\r\n\r\nYou can do this through adb root.\r\n\r\nMake sure you have in your AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_PHONE_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_APN_SETTINGS&quot;/&gt;\r\n\r\nThe code is the following\r\n\r\nThe only thing this code does is exchange the sim data\r\n\r\n\r\n    private Integer subActual = null;\r\n    private Integer sim1 = null;\r\n    private Integer sim2 = null;\r\n    private SubscriptionInfo simInfo1;\r\n    private SubscriptionInfo simInfo2;\r\n    private Boolean dualSim;\r\n\r\n    SubscriptionManager subscriptionManager = SubscriptionManager.from(this);\r\n\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        List smList = subscriptionManager.getActiveSubscriptionInfoList();\r\n\r\n        Method[] smMethods = subscriptionManager.getClass().getMethods();\r\n\r\n        dualSim = smList.size() == 2;\r\n\r\n        if (dualSim) {\r\n            simInfo1 = (SubscriptionInfo) smList.get(0);\r\n            simInfo2 = (SubscriptionInfo) smList.get(1);\r\n            sim1 = simInfo1.getSubscriptionId();\r\n            sim2 = simInfo2.getSubscriptionId();\r\n        }\r\n\r\n        for (Method m : smMethods) {\r\n            if (m.getName().equals((&quot;getDefaultDataSubscriptionId&quot;))) {\r\n                try {\r\n                    subActual = (int) m.invoke(subscriptionManager);\r\n                } catch (Exception e) {\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        for (Method m : smMethods) {\r\n            if (m.getName().equals(&quot;setDefaultDataSubId&quot;) &amp;&amp; dualSim) {\r\n                try {\r\n                    if (subActual == sim1) {\r\n                        m.invoke(subscriptionManager, sim2);\r\n                    }\r\n                    if (subActual == sim2) {\r\n                        m.invoke(subscriptionManager, sim1);\r\n                    }\r\n                } catch (Exception e) {\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"Android dual SIM -&gt; change network","body":"<p>The solution I found for Android 7.1.1 API 25 is using SubscriptionManager and reflection api.</p>\n<p>Note that you have to install your app in /system/priv-app/</p>\n<p>You can do this through adb root.</p>\n<p>Make sure you have in your AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MODIFY_PHONE_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_APN_SETTINGS&quot;/&gt;\n</code></pre>\n<p>The code is the following</p>\n<p>The only thing this code does is exchange the sim data</p>\n<pre><code>private Integer subActual = null;\nprivate Integer sim1 = null;\nprivate Integer sim2 = null;\nprivate SubscriptionInfo simInfo1;\nprivate SubscriptionInfo simInfo2;\nprivate Boolean dualSim;\n\nSubscriptionManager subscriptionManager = SubscriptionManager.from(this);\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    List smList = subscriptionManager.getActiveSubscriptionInfoList();\n\n    Method[] smMethods = subscriptionManager.getClass().getMethods();\n\n    dualSim = smList.size() == 2;\n\n    if (dualSim) {\n        simInfo1 = (SubscriptionInfo) smList.get(0);\n        simInfo2 = (SubscriptionInfo) smList.get(1);\n        sim1 = simInfo1.getSubscriptionId();\n        sim2 = simInfo2.getSubscriptionId();\n    }\n\n    for (Method m : smMethods) {\n        if (m.getName().equals((&quot;getDefaultDataSubscriptionId&quot;))) {\n            try {\n                subActual = (int) m.invoke(subscriptionManager);\n            } catch (Exception e) {\n\n            }\n        }\n    }\n\n    for (Method m : smMethods) {\n        if (m.getName().equals(&quot;setDefaultDataSubId&quot;) &amp;&amp; dualSim) {\n            try {\n                if (subActual == sim1) {\n                    m.invoke(subscriptionManager, sim2);\n                }\n                if (subActual == sim2) {\n                    m.invoke(subscriptionManager, sim1);\n                }\n            } catch (Exception e) {\n\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4329533,"reputation":3389,"user_id":3535408,"accept_rate":24,"display_name":"Mackovich"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686047172,"creation_date":1488362724,"question_id":42528702,"body_markdown":"Starting SDK 22, Android officially support Dual-SIM and provide some documentation. \r\n\r\nI would like to know if it is possible for an app to change wich SIM should access the network. For example I have a One Plus One 3T phone running Nougat and I use two SIM cards. Going into settings, I can manually change / select which SIM card to use to access the network.\r\n\r\nIs it possible to achieve this ?\r\n\r\nThanks !","title":"Android dual SIM -&gt; change network","body":"<p>Starting SDK 22, Android officially support Dual-SIM and provide some documentation. </p>\n\n<p>I would like to know if it is possible for an app to change wich SIM should access the network. For example I have a One Plus One 3T phone running Nougat and I use two SIM cards. Going into settings, I can manually change / select which SIM card to use to access the network.</p>\n\n<p>Is it possible to achieve this ?</p>\n\n<p>Thanks !</p>\n"},{"tags":["java","arraylist","indexing","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352224321,"creation_date":1352209545,"answer_id":13252365,"question_id":13252269,"body_markdown":"EDIT: Java is pass-by-value. That means that if you pass the &quot;index&quot; variable to the function, the external variable won&#39;t be affected by the changes performed inside the function.\r\n\r\nSo you have to keep the index var class-scoped, like the List&lt;People&gt;...\r\n\r\n    public void nextPerson(){ \r\n        if (index&gt;=0 &amp;&amp; index&lt;thePeople.size())\r\n            System.out.println(thePeople.get(index++));\r\n        } else {\r\n            System.out.println(&quot;At the end&quot;);\r\n        }\r\n    }\r\n\r\n\r\nOR to pass it AND return it \r\n\r\n        public int nextPerson(int index){ \r\n            if (index&gt;=0 &amp;&amp; index&lt;thePeople.size())\r\n                System.out.println(thePeople.get(index++));\r\n            } else {\r\n                System.out.println(&quot;At the end&quot;);\r\n            }\r\n            return index;\r\n        }\r\n\r\n\r\nThe same would be for the previouPerson, just use `index--`;\r\n\r\nBy the way, if you keep the index in a consumer Class, outside of this object, you could get the whole List and iterate over it in the consumer class...\r\n","title":"Next in array and index out of bounds","body":"<p>EDIT: Java is pass-by-value. That means that if you pass the \"index\" variable to the function, the external variable won't be affected by the changes performed inside the function.</p>\n\n<p>So you have to keep the index var class-scoped, like the List...</p>\n\n<pre><code>public void nextPerson(){ \n    if (index&gt;=0 &amp;&amp; index&lt;thePeople.size())\n        System.out.println(thePeople.get(index++));\n    } else {\n        System.out.println(\"At the end\");\n    }\n}\n</code></pre>\n\n<p>OR to pass it AND return it </p>\n\n<pre><code>    public int nextPerson(int index){ \n        if (index&gt;=0 &amp;&amp; index&lt;thePeople.size())\n            System.out.println(thePeople.get(index++));\n        } else {\n            System.out.println(\"At the end\");\n        }\n        return index;\n    }\n</code></pre>\n\n<p>The same would be for the previouPerson, just use <code>index--</code>;</p>\n\n<p>By the way, if you keep the index in a consumer Class, outside of this object, you could get the whole List and iterate over it in the consumer class...</p>\n"},{"tags":[],"owner":{"account_id":1959582,"reputation":167,"user_id":1761624,"accept_rate":94,"display_name":"Melky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1352216809,"creation_date":1352216809,"answer_id":13254525,"question_id":13252269,"body_markdown":"I figured out that by having a local variable to keep track of Arraylist index. I was able to instead have 2 methods for handling the moving thoughtout the ArrayList. With one for the current position for outputting.\r\n\r\n    if(arrayPosition &lt; thePeople.size() - 1)","title":"Next in array and index out of bounds","body":"<p>I figured out that by having a local variable to keep track of Arraylist index. I was able to instead have 2 methods for handling the moving thoughtout the ArrayList. With one for the current position for outputting.</p>\n\n<pre><code>if(arrayPosition &lt; thePeople.size() - 1)\n</code></pre>\n"}],"owner":{"account_id":1959582,"reputation":167,"user_id":1761624,"accept_rate":94,"display_name":"Melky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13254525,"answer_count":2,"score":0,"last_activity_date":1686046630,"creation_date":1352209250,"question_id":13252269,"body_markdown":"What would be best practice and solution for checking for &quot;Index out of bounds&quot; The following solution works but feels quite hacky. Is there any better alternatives?\r\n\r\n    public void nextPerson(int index){ //Index is the current location in the arraylist\r\n        try{\r\n            System.out.println(thePeople.get(index++));\r\n        }\r\n        catch (IndexOutOfBoundsException e){\r\n            System.out.println(&quot;At the end&quot;);\r\n        }\r\n    }","title":"Next in array and index out of bounds","body":"<p>What would be best practice and solution for checking for \"Index out of bounds\" The following solution works but feels quite hacky. Is there any better alternatives?</p>\n\n<pre><code>public void nextPerson(int index){ //Index is the current location in the arraylist\n    try{\n        System.out.println(thePeople.get(index++));\n    }\n    catch (IndexOutOfBoundsException e){\n        System.out.println(\"At the end\");\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1469002765,"post_id":38475850,"comment_id":64354563,"body_markdown":"and you need to use criteria query anyway?","body":"and you need to use criteria query anyway?"},{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":0,"creation_date":1469002944,"post_id":38475850,"comment_id":64354653,"body_markdown":"I come from doctrine orm where the use of the criteria allowed to do very complex queries with minimum effort . I have to get the solution that provides the best performance .","body":"I come from doctrine orm where the use of the criteria allowed to do very complex queries with minimum effort . I have to get the solution that provides the best performance ."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":2,"creation_date":1469004264,"post_id":38475850,"comment_id":64355454,"body_markdown":"Turn on Hibernate query logging to see what happens under the hood. And just to note: 5 seconds for the JPQL query is still wickedly slow. It should be milliseconds, not seconds. And for completeness I would also post the entity class so the JPA annotations and mappings are visible.","body":"Turn on Hibernate query logging to see what happens under the hood. And just to note: 5 seconds for the JPQL query is still wickedly slow. It should be milliseconds, not seconds. And for completeness I would also post the entity class so the JPA annotations and mappings are visible."},{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":0,"creation_date":1469005158,"post_id":38475850,"comment_id":64356056,"body_markdown":"ok add entity and change persistence add statistic for hibernate","body":"ok add entity and change persistence add statistic for hibernate"},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1469008541,"post_id":38475850,"comment_id":64358448,"body_markdown":"Why would anyone want to throw away vendor independence and use HIbernate Criteria when you have JPA Criteria?!","body":"Why would anyone want to throw away vendor independence and use HIbernate Criteria when you have JPA Criteria?!"},{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":0,"creation_date":1469012370,"post_id":38475850,"comment_id":64360915,"body_markdown":"you suggest to use this system http://www.objectdb.com/java/jpa/query/criteria","body":"you suggest to use this system <a href=\"http://www.objectdb.com/java/jpa/query/criteria\" rel=\"nofollow noreferrer\">objectdb.com/java/jpa/query/criteria</a>"},{"owner":{"account_id":8287337,"reputation":429,"user_id":6230069,"display_name":"Andrew Kolpakov"},"score":0,"creation_date":1469013797,"post_id":38475850,"comment_id":64361864,"body_markdown":"Try to remove &#39;order by idPlant&#39; from JPA query and compare result.","body":"Try to remove &#39;order by idPlant&#39; from JPA query and compare result."},{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":0,"creation_date":1469018814,"post_id":38475850,"comment_id":64365477,"body_markdown":"@Andrew same result.","body":"@Andrew same result."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1469179270,"post_id":38475850,"comment_id":64440446,"body_markdown":"The entities look very much okay. I&#39;d still be interested to see the hibernate query log to see what queries are being invoked under the hood especially when the criteria is used.","body":"The entities look very much okay. I&#39;d still be interested to see the hibernate query log to see what queries are being invoked under the hood especially when the criteria is used."}],"answers":[{"tags":[],"owner":{"account_id":4531157,"reputation":3278,"user_id":3681607,"display_name":"St&#233;phane Millien"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686045843,"creation_date":1686045843,"answer_id":76413507,"question_id":38475850,"body_markdown":"I have the same issue. Response time ~ 120 seconds with `hibernate`, 0.2 second in `SQL Developper`  \r\nI have removed in my `hibernate.cfg.xml` the following line:\r\n``` lang-xml\r\n&lt;property name=&quot;hibernate.connection.defaultNChar&quot;&gt;true&lt;/property&gt;\r\n```\r\nand the performance issue has gone.","title":"hibernate query too slow using criteria - ignored lazy loading?","body":"<p>I have the same issue. Response time ~ 120 seconds with <code>hibernate</code>, 0.2 second in <code>SQL Developper</code><br />\nI have removed in my <code>hibernate.cfg.xml</code> the following line:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;hibernate.connection.defaultNChar&quot;&gt;true&lt;/property&gt;\n</code></pre>\n<p>and the performance issue has gone.</p>\n"}],"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686045843,"creation_date":1469002429,"question_id":38475850,"body_markdown":"I&#39;ve realized a jpa + hibernate application but if I use hibernate criteria application is very slow.\r\n\r\nThe time difference is 10/20 times.\r\n\r\nif I use this\r\n\r\n\tentityManager.createQuery(&quot;SELECT u FROM PlantEntity u order by idPlant&quot;).setFirstResult(0).setMaxResults(10).getResultList();\r\n\t\r\ntime execution is about 5 seconds\r\n\r\nif I use\r\n\r\n\tSession hs = (Session) entityManager.getDelegate();\r\n    Criteria c = hs.createCriteria(PlantEntity.class,&quot;plant&quot;);\t\r\n\tc.setMaxResults(Integer.parseInt(length));\r\n    c.setFirstResult(Integer.parseInt(start));\r\n\tc.list();\r\n\t\r\ntime is about 40/50 seconds\t\r\n\r\nTable contains about 2000 records\r\n\r\nPlantEntity has relation manyToOne and OneToMany both set as lazy.\r\nWhen I execute criteria query, lazy loading is ignored and I notice, in log4j, that all relation is initialized\r\n\r\nMy persistence.xml\r\n\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\r\n\r\n\t\t&lt;persistence-unit name=&quot;NewPersistenceUnit&quot;&gt;\r\n\t\t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\t\t\t\r\n\t\t\t&lt;class&gt;it.ciro.model.PlantEntity&lt;/class&gt;\r\n\t\t\t&lt;class&gt;it.ciro.model.SegmentEntity&lt;/class&gt;\r\n\t\t\t&lt;class&gt;it.ciro.model.PlanningEntity&lt;/class&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://94.23.66.103:5432/db&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.username&quot; value=&quot;xxxx&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.password&quot; value=&quot;xxxxx&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.useUnicode&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.characterEncoding&quot; value=&quot;UTF-8&quot; /&gt;\r\n\t&lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;validate&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;60&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.max_statements&quot; value=&quot;50&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;90&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.preferredTestQuery&quot; value=&quot;SELECT 1&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.testConnectionOnCheckout&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/persistence-unit&gt;\r\n\t&lt;/persistence&gt;\r\n\r\nhow speed up application?\r\n\r\n\r\nEntity\r\n\r\nPlantEntity\t\r\n\t\r\n\tpackage it.ciro.model;\r\n\t// Generated 13-giu-2016 12.32.01 by Hibernate Tools 5.1.0.Alpha1\r\n\r\n\timport java.util.HashSet;\r\n\timport java.util.Set;\r\n\timport javax.persistence.*;\r\n\r\n\t/**\r\n\t * PlantEntity generated by hbm2java\r\n\t */\r\n\t@Entity\r\n\t@Table(name = &quot;plant&quot;, schema = &quot;public&quot;)\r\n\tpublic class PlantEntity implements java.io.Serializable {\r\n\r\n\t\tprivate int idPlant;\r\n\t\tprivate SegmentEntity segment;\r\n\t\tprivate Integer plantTypeId;\r\n\t\tprivate String name;\r\n\t\tprivate String coordinate;\r\n\t\tprivate String nfcCode;\r\n\t\tprivate String plantCode;\r\n\t\tprivate String picture_link;\r\n\t\tprivate String attached_a;\r\n\t\tprivate String attached_b;\r\n\r\n\t\tprivate Set plannings = new HashSet(0);\r\n\r\n\t\tpublic PlantEntity() {\r\n\t\t}\r\n\r\n\t\tpublic PlantEntity(int idPlant, SegmentEntity segment) {\r\n\t\t\tthis.idPlant = idPlant;\r\n\t\t\tthis.segment = segment;\r\n\t\t}\r\n\r\n\t\tpublic PlantEntity(int idPlant, SegmentEntity segment, Integer plantTypeId, String name, String coordinate, String nfcCode,\r\n\t\t\t\t\t\t\tString plantCode, String picture_link,String attached_a,String attached_b) {\r\n\t\t\tthis.idPlant = idPlant;\r\n\t\t\tthis.segment = segment;\r\n\t\t\tthis.plantTypeId = plantTypeId;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.coordinate = coordinate;\r\n\t\t\tthis.nfcCode = nfcCode;\r\n\t\t\tthis.plantCode = plantCode;\r\n\t\t\tthis.picture_link = picture_link;\r\n\t\t\tthis.attached_a = attached_a;\r\n\t\t\tthis.attached_b = attached_b;\r\n\t\t}\r\n\r\n\t\tpublic PlantEntity(int idPlant, SegmentEntity segment, Integer plantTypeId, String name, String coordinate, String nfcCode,\r\n\t\t\t\t\t\t   Set plannings, String plantCode, String picture_link,String attached_a,String attached_b) {\r\n\t\t\tthis.idPlant = idPlant;\r\n\t\t\tthis.segment = segment;\r\n\t\t\tthis.plantTypeId = plantTypeId;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.coordinate = coordinate;\r\n\t\t\tthis.nfcCode = nfcCode;\r\n\t\t\tthis.plannings = plannings;\r\n\t\t\tthis.plantCode = plantCode;\r\n\t\t\tthis.picture_link = picture_link;\r\n\t\t\tthis.attached_a = attached_a;\r\n\t\t\tthis.attached_b = attached_b;\r\n\t\t}\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Column(name = &quot;id_plant&quot;, unique = true, nullable = false)\r\n\t\tpublic int getIdPlant() {\r\n\t\t\treturn this.idPlant;\r\n\t\t}\r\n\r\n\t\tpublic void setIdPlant(int idPlant) {\r\n\t\t\tthis.idPlant = idPlant;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;segment_id&quot;, nullable = false)\r\n\t\tpublic SegmentEntity getSegment() {\r\n\t\t\treturn this.segment;\r\n\t\t}\r\n\r\n\t\tpublic void setSegment(SegmentEntity segment) {\r\n\t\t\tthis.segment = segment;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;plant_type_id&quot;)\r\n\t\tpublic Integer getPlantTypeId() {\r\n\t\t\treturn this.plantTypeId;\r\n\t\t}\r\n\r\n\t\tpublic void setPlantTypeId(Integer plantTypeId) {\r\n\t\t\tthis.plantTypeId = plantTypeId;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;name&quot;)\r\n\t\tpublic String getName() {\r\n\t\t\treturn this.name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;coordinate&quot;, length = 100)\r\n\t\tpublic String getCoordinate() {\r\n\t\t\treturn this.coordinate;\r\n\t\t}\r\n\r\n\t\tpublic void setCoordinate(String coordinate) {\r\n\t\t\tthis.coordinate = coordinate;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;nfc_code&quot;)\r\n\t\tpublic String getNfcCode() {\r\n\t\t\treturn this.nfcCode;\r\n\t\t}\r\n\r\n\t\tpublic void setNfcCode(String nfcCode) {\r\n\t\t\tthis.nfcCode = nfcCode;\r\n\t\t}\r\n\r\n\r\n\t\t@Column(name = &quot;plant_code&quot;)\r\n\t\tpublic String getPlantCode() {\r\n\t\t\treturn this.plantCode;\r\n\t\t}\r\n\r\n\t\tpublic void setPlantCode(String plantCode) {\r\n\t\t\tthis.plantCode = plantCode;\r\n\t\t}\r\n\r\n\t\t@Column(name=&quot;picture&quot;)\r\n\t\tpublic String getPicture_link() {\r\n\t\t\treturn picture_link;\r\n\t\t}\r\n\r\n\t\tpublic void setPicture_link(String picture_link) {\r\n\t\t\tthis.picture_link = picture_link;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;attached_a&quot;)\r\n\t\tpublic String getAttached_a(){\r\n\t\t\treturn attached_a;\r\n\t\t}\r\n\r\n\t\tpublic void setAttached_a(String attached_a){\r\n\t\t\tthis.attached_a = attached_a;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;attached_b&quot;)\r\n\t\tpublic String getAttached_b(){\r\n\t\t\treturn attached_b;\r\n\t\t}\r\n\r\n\t\tpublic void setAttached_b(String attached_b){\r\n\t\t\tthis.attached_b = attached_b;\r\n\t\t}\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;plant&quot;)\r\n\t\tpublic Set&lt;PlanningEntity&gt; getPlannings() {\r\n\t\t\treturn this.plannings;\r\n\t\t}\r\n\r\n\t\tpublic void setPlannings(Set&lt;PlanningEntity&gt; plannings) {\r\n\t\t\tthis.plannings = plannings;\r\n\t\t}\r\n\r\n\t}\r\n\r\nSegmentEntity\r\n\r\n\tpackage it.ciro.model;\r\n\t// Generated 13-giu-2016 12.32.01 by Hibernate Tools 5.1.0.Alpha1\r\n\r\n\timport java.util.HashSet;\r\n\timport java.util.Set;\r\n\timport javax.persistence.*;\r\n\r\n\t/**\r\n\t * SegmentEntity generated by hbm2java\r\n\t */\r\n\t@Entity\r\n\t@Table(name = &quot;segment&quot;, schema = &quot;public&quot;)\r\n\tpublic class SegmentEntity implements java.io.Serializable {\r\n\r\n\t\tprivate int idSegment;\r\n\t\tprivate PipelineEntity pipeline;\r\n\t\tprivate String name;\r\n\t\tprivate String area;\r\n\t\tprivate String segCode;\r\n\t\tprivate String picture;\r\n\r\n\t\tprivate Set plants = new HashSet(0);\r\n\r\n\t\tpublic SegmentEntity() {\r\n\t\t}\r\n\r\n\t\tpublic SegmentEntity(int idSegment) {\r\n\t\t\tthis.idSegment = idSegment;\r\n\t\t}\r\n\r\n\t\tpublic SegmentEntity(int idSegment, PipelineEntity pipeline, String name, String area, Set plants,String segCode, String picture) {\r\n\t\t\tthis.idSegment = idSegment;\r\n\t\t\tthis.pipeline = pipeline;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.area = area;\r\n\t\t\tthis.plants = plants;\r\n\t\t\tthis.segCode = segCode;\r\n\t\t\tthis.picture = picture;\r\n\t\t}\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Column(name = &quot;id_segment&quot;, unique = true, nullable = false)\r\n\t\tpublic int getIdSegment() {\r\n\t\t\treturn this.idSegment;\r\n\t\t}\r\n\r\n\t\tpublic void setIdSegment(int idSegment) {\r\n\t\t\tthis.idSegment = idSegment;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;pipeline_id&quot;)\r\n\t\tpublic PipelineEntity getPipeline() {\r\n\t\t\treturn this.pipeline;\r\n\t\t}\r\n\r\n\t\tpublic void setPipeline(PipelineEntity pipeline) {\r\n\t\t\tthis.pipeline = pipeline;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;name&quot;)\r\n\t\tpublic String getName() {\r\n\t\t\treturn this.name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;area&quot;)\r\n\t\tpublic String getArea() {\r\n\t\t\treturn this.area;\r\n\t\t}\r\n\r\n\t\tpublic void setArea(String area) {\r\n\t\t\tthis.area = area;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;seg_code&quot;)\r\n\t\tpublic String getSegCode() {\r\n\t\t\treturn this.segCode;\r\n\t\t}\r\n\r\n\t\tpublic void setSegCode(String segCode) {\r\n\t\t\tthis.segCode = segCode;\r\n\t\t}\r\n\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;segment&quot;)\r\n\t\tpublic Set&lt;PlantEntity&gt; getPlants() {\r\n\t\t\treturn this.plants;\r\n\t\t}\r\n\r\n\t\tpublic void setPlants(Set&lt;PlantEntity&gt; plants) {\r\n\t\t\tthis.plants = plants;\r\n\t\t}\r\n\r\n\t\t@Column(name=&quot;picture&quot;)\r\n\t\tpublic String getPicture() {\r\n\t\t\treturn picture;\r\n\t\t}\r\n\r\n\t\tpublic void setPicture(String picture) {\r\n\t\t\tthis.picture = picture;\r\n\t\t}\r\n\t}\r\n\r\nPlanningEntity\r\n\r\n\tpackage it.ciro.model;\r\n\t// Generated 17-giu-2016 9.26.25 by Hibernate Tools 5.1.0.Alpha1\r\n\r\n\timport java.util.Date;\r\n\timport java.util.HashSet;\r\n\timport java.util.Set;\r\n\timport javax.persistence.*;\r\n\r\n\t/**\r\n\t * Planning generated by hbm2java\r\n\t */\r\n\t@Entity\r\n\t@Table(name = &quot;planning&quot;, schema = &quot;public&quot;)\r\n\tpublic class PlanningEntity implements java.io.Serializable {\r\n\r\n\t\tprivate int idPlanning;\r\n\t\tprivate PlanningEntity planning;\r\n\t\tprivate PlantEntity plant;\r\n\t\tprivate ServiceEntity service;\r\n\t\tprivate UserEntity user;\r\n\t\tprivate Date schedulingData;\r\n\t\tprivate Date completationData;\r\n\t\tprivate Integer result;\r\n\t\tprivate Integer status;\r\n\r\n\r\n\r\n\t\tprivate String planningType;\r\n\t\tprivate Set plannings = new HashSet(0);\r\n\t\tprivate Set planningDetails = new HashSet(0);\r\n\r\n\t\tpublic PlanningEntity() {\r\n\t\t}\r\n\r\n\t\tpublic PlanningEntity(int idPlanning, PlantEntity plant, ServiceEntity service, UserEntity user, Date schedulingData) {\r\n\t\t\tthis.idPlanning = idPlanning;\r\n\t\t\tthis.plant = plant;\r\n\t\t\tthis.service = service;\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.schedulingData = schedulingData;\r\n\t\t}\r\n\r\n\t\tpublic PlanningEntity(int idPlanning, PlanningEntity planning, PlantEntity plant, ServiceEntity service, UserEntity user, Date schedulingData,\r\n\t\t\t\tDate completationData, Integer result, Integer status, Set plannings, Set planningDetails) {\r\n\t\t\tthis.idPlanning = idPlanning;\r\n\t\t\tthis.planning = planning;\r\n\t\t\tthis.plant = plant;\r\n\t\t\tthis.service = service;\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.schedulingData = schedulingData;\r\n\t\t\tthis.completationData = completationData;\r\n\t\t\tthis.result = result;\r\n\t\t\tthis.status = status;\r\n\t\t\tthis.plannings = plannings;\r\n\t\t\tthis.planningDetails = planningDetails;\r\n\t\t}\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Column(name = &quot;id_planning&quot;, unique = true, nullable = false)\r\n\t\tpublic int getIdPlanning() {\r\n\t\t\treturn this.idPlanning;\r\n\t\t}\r\n\r\n\t\tpublic void setIdPlanning(int idPlanning) {\r\n\t\t\tthis.idPlanning = idPlanning;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;parent_planning&quot;)\r\n\t\tpublic PlanningEntity getPlanning() {\r\n\t\t\treturn this.planning;\r\n\t\t}\r\n\r\n\t\tpublic void setPlanning(PlanningEntity planning) {\r\n\t\t\tthis.planning = planning;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;plant_id&quot;, nullable = false)\r\n\t\tpublic PlantEntity getPlant() {\r\n\t\t\treturn this.plant;\r\n\t\t}\r\n\r\n\t\tpublic void setPlant(PlantEntity plant) {\r\n\t\t\tthis.plant = plant;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;service_id&quot;, nullable = false)\r\n\t\tpublic ServiceEntity getService() {\r\n\t\t\treturn this.service;\r\n\t\t}\r\n\r\n\t\tpublic void setService(ServiceEntity service) {\r\n\t\t\tthis.service = service;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n\t\tpublic UserEntity getUser() {\r\n\t\t\treturn this.user;\r\n\t\t}\r\n\r\n\t\tpublic void setUser(UserEntity user) {\r\n\t\t\tthis.user = user;\r\n\t\t}\r\n\r\n\t\t@Temporal(TemporalType.DATE)\r\n\t\t@Column(name = &quot;scheduling_data&quot;, nullable = false, length = 13)\r\n\t\tpublic Date getSchedulingData() {\r\n\t\t\treturn this.schedulingData;\r\n\t\t}\r\n\r\n\t\tpublic void setSchedulingData(Date schedulingData) {\r\n\t\t\tthis.schedulingData = schedulingData;\r\n\t\t}\r\n\r\n\t\t@Temporal(TemporalType.TIMESTAMP)\r\n\t\t@Column(name = &quot;completation_data&quot;, length = 29)\r\n\t\tpublic Date getCompletationData() {\r\n\t\t\treturn this.completationData;\r\n\t\t}\r\n\r\n\t\tpublic void setCompletationData(Date completationData) {\r\n\t\t\tthis.completationData = completationData;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;result&quot;)\r\n\t\tpublic Integer getResult() {\r\n\t\t\treturn this.result;\r\n\t\t}\r\n\r\n\t\tpublic void setResult(Integer result) {\r\n\t\t\tthis.result = result;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;status&quot;)\r\n\t\tpublic Integer getStatus() {\r\n\t\t\treturn this.status;\r\n\t\t}\r\n\r\n\t\tpublic void setStatus(Integer status) {\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;planning_type&quot;)\r\n\t\tpublic String getPlanningType() {\r\n\t\t\treturn planningType;\r\n\t\t}\r\n\r\n\t\tpublic void setPlanningType(String planningType) {\r\n\t\t\tthis.planningType = planningType;\r\n\t\t}\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;planning&quot;)\r\n\t\tpublic Set&lt;PlanningEntity&gt; getPlannings() {\r\n\t\t\treturn this.plannings;\r\n\t\t}\r\n\r\n\t\tpublic void setPlannings(Set&lt;PlanningEntity&gt; plannings) {\r\n\t\t\tthis.plannings = plannings;\r\n\t\t}\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;planning&quot;)\r\n\t\t@OrderBy(&quot;idPlanningDetail&quot;)\r\n\t\tpublic Set&lt;PlanningDetailEntity&gt; getPlanningDetails() {\r\n\t\t\treturn this.planningDetails;\r\n\t\t}\r\n\r\n\t\tpublic void setPlanningDetails(Set&lt;PlanningDetailEntity&gt; planningDetails) {\r\n\t\t\tthis.planningDetails = planningDetails;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n\t\r\n\r\n\r\n","title":"hibernate query too slow using criteria - ignored lazy loading?","body":"<p>I've realized a jpa + hibernate application but if I use hibernate criteria application is very slow.</p>\n\n<p>The time difference is 10/20 times.</p>\n\n<p>if I use this</p>\n\n<pre><code>entityManager.createQuery(\"SELECT u FROM PlantEntity u order by idPlant\").setFirstResult(0).setMaxResults(10).getResultList();\n</code></pre>\n\n<p>time execution is about 5 seconds</p>\n\n<p>if I use</p>\n\n<pre><code>Session hs = (Session) entityManager.getDelegate();\nCriteria c = hs.createCriteria(PlantEntity.class,\"plant\");  \nc.setMaxResults(Integer.parseInt(length));\nc.setFirstResult(Integer.parseInt(start));\nc.list();\n</code></pre>\n\n<p>time is about 40/50 seconds </p>\n\n<p>Table contains about 2000 records</p>\n\n<p>PlantEntity has relation manyToOne and OneToMany both set as lazy.\nWhen I execute criteria query, lazy loading is ignored and I notice, in log4j, that all relation is initialized</p>\n\n<p>My persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"2.0\"&gt;\n\n    &lt;persistence-unit name=\"NewPersistenceUnit\"&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n        &lt;class&gt;it.ciro.model.PlantEntity&lt;/class&gt;\n        &lt;class&gt;it.ciro.model.SegmentEntity&lt;/class&gt;\n        &lt;class&gt;it.ciro.model.PlanningEntity&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:postgresql://94.23.66.103:5432/db\"/&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"org.postgresql.Driver\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"xxxx\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"xxxxx\"/&gt;\n            &lt;property name=\"hibernate.archive.autodetection\" value=\"class\"/&gt;\n            &lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.connection.useUnicode\" value=\"true\" /&gt;\n            &lt;property name=\"hibernate.connection.characterEncoding\" value=\"UTF-8\" /&gt;\n&lt;property name=\"hibernate.generate_statistics\" value=\"true\"/&gt;\n            &lt;property name=\"hbm2ddl.auto\" value=\"validate\"/&gt;\n            &lt;property name=\"hibernate.c3p0.min_size\" value=\"5\" /&gt;\n            &lt;property name=\"hibernate.c3p0.max_size\" value=\"20\" /&gt;\n            &lt;property name=\"hibernate.c3p0.timeout\" value=\"60\" /&gt;\n            &lt;property name=\"hibernate.c3p0.max_statements\" value=\"50\" /&gt;\n            &lt;property name=\"hibernate.c3p0.idle_test_period\" value=\"90\" /&gt;\n            &lt;property name=\"hibernate.c3p0.preferredTestQuery\" value=\"SELECT 1\" /&gt;\n            &lt;property name=\"hibernate.c3p0.testConnectionOnCheckout\" value=\"true\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>how speed up application?</p>\n\n<p>Entity</p>\n\n<p>PlantEntity </p>\n\n<pre><code>package it.ciro.model;\n// Generated 13-giu-2016 12.32.01 by Hibernate Tools 5.1.0.Alpha1\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.persistence.*;\n\n/**\n * PlantEntity generated by hbm2java\n */\n@Entity\n@Table(name = \"plant\", schema = \"public\")\npublic class PlantEntity implements java.io.Serializable {\n\n    private int idPlant;\n    private SegmentEntity segment;\n    private Integer plantTypeId;\n    private String name;\n    private String coordinate;\n    private String nfcCode;\n    private String plantCode;\n    private String picture_link;\n    private String attached_a;\n    private String attached_b;\n\n    private Set plannings = new HashSet(0);\n\n    public PlantEntity() {\n    }\n\n    public PlantEntity(int idPlant, SegmentEntity segment) {\n        this.idPlant = idPlant;\n        this.segment = segment;\n    }\n\n    public PlantEntity(int idPlant, SegmentEntity segment, Integer plantTypeId, String name, String coordinate, String nfcCode,\n                        String plantCode, String picture_link,String attached_a,String attached_b) {\n        this.idPlant = idPlant;\n        this.segment = segment;\n        this.plantTypeId = plantTypeId;\n        this.name = name;\n        this.coordinate = coordinate;\n        this.nfcCode = nfcCode;\n        this.plantCode = plantCode;\n        this.picture_link = picture_link;\n        this.attached_a = attached_a;\n        this.attached_b = attached_b;\n    }\n\n    public PlantEntity(int idPlant, SegmentEntity segment, Integer plantTypeId, String name, String coordinate, String nfcCode,\n                       Set plannings, String plantCode, String picture_link,String attached_a,String attached_b) {\n        this.idPlant = idPlant;\n        this.segment = segment;\n        this.plantTypeId = plantTypeId;\n        this.name = name;\n        this.coordinate = coordinate;\n        this.nfcCode = nfcCode;\n        this.plannings = plannings;\n        this.plantCode = plantCode;\n        this.picture_link = picture_link;\n        this.attached_a = attached_a;\n        this.attached_b = attached_b;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id_plant\", unique = true, nullable = false)\n    public int getIdPlant() {\n        return this.idPlant;\n    }\n\n    public void setIdPlant(int idPlant) {\n        this.idPlant = idPlant;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"segment_id\", nullable = false)\n    public SegmentEntity getSegment() {\n        return this.segment;\n    }\n\n    public void setSegment(SegmentEntity segment) {\n        this.segment = segment;\n    }\n\n    @Column(name = \"plant_type_id\")\n    public Integer getPlantTypeId() {\n        return this.plantTypeId;\n    }\n\n    public void setPlantTypeId(Integer plantTypeId) {\n        this.plantTypeId = plantTypeId;\n    }\n\n    @Column(name = \"name\")\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Column(name = \"coordinate\", length = 100)\n    public String getCoordinate() {\n        return this.coordinate;\n    }\n\n    public void setCoordinate(String coordinate) {\n        this.coordinate = coordinate;\n    }\n\n    @Column(name = \"nfc_code\")\n    public String getNfcCode() {\n        return this.nfcCode;\n    }\n\n    public void setNfcCode(String nfcCode) {\n        this.nfcCode = nfcCode;\n    }\n\n\n    @Column(name = \"plant_code\")\n    public String getPlantCode() {\n        return this.plantCode;\n    }\n\n    public void setPlantCode(String plantCode) {\n        this.plantCode = plantCode;\n    }\n\n    @Column(name=\"picture\")\n    public String getPicture_link() {\n        return picture_link;\n    }\n\n    public void setPicture_link(String picture_link) {\n        this.picture_link = picture_link;\n    }\n\n    @Column(name = \"attached_a\")\n    public String getAttached_a(){\n        return attached_a;\n    }\n\n    public void setAttached_a(String attached_a){\n        this.attached_a = attached_a;\n    }\n\n    @Column(name = \"attached_b\")\n    public String getAttached_b(){\n        return attached_b;\n    }\n\n    public void setAttached_b(String attached_b){\n        this.attached_b = attached_b;\n    }\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"plant\")\n    public Set&lt;PlanningEntity&gt; getPlannings() {\n        return this.plannings;\n    }\n\n    public void setPlannings(Set&lt;PlanningEntity&gt; plannings) {\n        this.plannings = plannings;\n    }\n\n}\n</code></pre>\n\n<p>SegmentEntity</p>\n\n<pre><code>package it.ciro.model;\n// Generated 13-giu-2016 12.32.01 by Hibernate Tools 5.1.0.Alpha1\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.persistence.*;\n\n/**\n * SegmentEntity generated by hbm2java\n */\n@Entity\n@Table(name = \"segment\", schema = \"public\")\npublic class SegmentEntity implements java.io.Serializable {\n\n    private int idSegment;\n    private PipelineEntity pipeline;\n    private String name;\n    private String area;\n    private String segCode;\n    private String picture;\n\n    private Set plants = new HashSet(0);\n\n    public SegmentEntity() {\n    }\n\n    public SegmentEntity(int idSegment) {\n        this.idSegment = idSegment;\n    }\n\n    public SegmentEntity(int idSegment, PipelineEntity pipeline, String name, String area, Set plants,String segCode, String picture) {\n        this.idSegment = idSegment;\n        this.pipeline = pipeline;\n        this.name = name;\n        this.area = area;\n        this.plants = plants;\n        this.segCode = segCode;\n        this.picture = picture;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id_segment\", unique = true, nullable = false)\n    public int getIdSegment() {\n        return this.idSegment;\n    }\n\n    public void setIdSegment(int idSegment) {\n        this.idSegment = idSegment;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"pipeline_id\")\n    public PipelineEntity getPipeline() {\n        return this.pipeline;\n    }\n\n    public void setPipeline(PipelineEntity pipeline) {\n        this.pipeline = pipeline;\n    }\n\n    @Column(name = \"name\")\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Column(name = \"area\")\n    public String getArea() {\n        return this.area;\n    }\n\n    public void setArea(String area) {\n        this.area = area;\n    }\n\n    @Column(name = \"seg_code\")\n    public String getSegCode() {\n        return this.segCode;\n    }\n\n    public void setSegCode(String segCode) {\n        this.segCode = segCode;\n    }\n\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"segment\")\n    public Set&lt;PlantEntity&gt; getPlants() {\n        return this.plants;\n    }\n\n    public void setPlants(Set&lt;PlantEntity&gt; plants) {\n        this.plants = plants;\n    }\n\n    @Column(name=\"picture\")\n    public String getPicture() {\n        return picture;\n    }\n\n    public void setPicture(String picture) {\n        this.picture = picture;\n    }\n}\n</code></pre>\n\n<p>PlanningEntity</p>\n\n<pre><code>package it.ciro.model;\n// Generated 17-giu-2016 9.26.25 by Hibernate Tools 5.1.0.Alpha1\n\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.persistence.*;\n\n/**\n * Planning generated by hbm2java\n */\n@Entity\n@Table(name = \"planning\", schema = \"public\")\npublic class PlanningEntity implements java.io.Serializable {\n\n    private int idPlanning;\n    private PlanningEntity planning;\n    private PlantEntity plant;\n    private ServiceEntity service;\n    private UserEntity user;\n    private Date schedulingData;\n    private Date completationData;\n    private Integer result;\n    private Integer status;\n\n\n\n    private String planningType;\n    private Set plannings = new HashSet(0);\n    private Set planningDetails = new HashSet(0);\n\n    public PlanningEntity() {\n    }\n\n    public PlanningEntity(int idPlanning, PlantEntity plant, ServiceEntity service, UserEntity user, Date schedulingData) {\n        this.idPlanning = idPlanning;\n        this.plant = plant;\n        this.service = service;\n        this.user = user;\n        this.schedulingData = schedulingData;\n    }\n\n    public PlanningEntity(int idPlanning, PlanningEntity planning, PlantEntity plant, ServiceEntity service, UserEntity user, Date schedulingData,\n            Date completationData, Integer result, Integer status, Set plannings, Set planningDetails) {\n        this.idPlanning = idPlanning;\n        this.planning = planning;\n        this.plant = plant;\n        this.service = service;\n        this.user = user;\n        this.schedulingData = schedulingData;\n        this.completationData = completationData;\n        this.result = result;\n        this.status = status;\n        this.plannings = plannings;\n        this.planningDetails = planningDetails;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id_planning\", unique = true, nullable = false)\n    public int getIdPlanning() {\n        return this.idPlanning;\n    }\n\n    public void setIdPlanning(int idPlanning) {\n        this.idPlanning = idPlanning;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"parent_planning\")\n    public PlanningEntity getPlanning() {\n        return this.planning;\n    }\n\n    public void setPlanning(PlanningEntity planning) {\n        this.planning = planning;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"plant_id\", nullable = false)\n    public PlantEntity getPlant() {\n        return this.plant;\n    }\n\n    public void setPlant(PlantEntity plant) {\n        this.plant = plant;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"service_id\", nullable = false)\n    public ServiceEntity getService() {\n        return this.service;\n    }\n\n    public void setService(ServiceEntity service) {\n        this.service = service;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\", nullable = false)\n    public UserEntity getUser() {\n        return this.user;\n    }\n\n    public void setUser(UserEntity user) {\n        this.user = user;\n    }\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = \"scheduling_data\", nullable = false, length = 13)\n    public Date getSchedulingData() {\n        return this.schedulingData;\n    }\n\n    public void setSchedulingData(Date schedulingData) {\n        this.schedulingData = schedulingData;\n    }\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = \"completation_data\", length = 29)\n    public Date getCompletationData() {\n        return this.completationData;\n    }\n\n    public void setCompletationData(Date completationData) {\n        this.completationData = completationData;\n    }\n\n    @Column(name = \"result\")\n    public Integer getResult() {\n        return this.result;\n    }\n\n    public void setResult(Integer result) {\n        this.result = result;\n    }\n\n    @Column(name = \"status\")\n    public Integer getStatus() {\n        return this.status;\n    }\n\n    public void setStatus(Integer status) {\n        this.status = status;\n    }\n\n    @Column(name = \"planning_type\")\n    public String getPlanningType() {\n        return planningType;\n    }\n\n    public void setPlanningType(String planningType) {\n        this.planningType = planningType;\n    }\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"planning\")\n    public Set&lt;PlanningEntity&gt; getPlannings() {\n        return this.plannings;\n    }\n\n    public void setPlannings(Set&lt;PlanningEntity&gt; plannings) {\n        this.plannings = plannings;\n    }\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"planning\")\n    @OrderBy(\"idPlanningDetail\")\n    public Set&lt;PlanningDetailEntity&gt; getPlanningDetails() {\n        return this.planningDetails;\n    }\n\n    public void setPlanningDetails(Set&lt;PlanningDetailEntity&gt; planningDetails) {\n        this.planningDetails = planningDetails;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","multi-module"],"answers":[{"tags":[],"owner":{"account_id":53345,"reputation":374,"user_id":159460,"display_name":"mckulpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686045453,"creation_date":1686044581,"answer_id":76413331,"question_id":76403101,"body_markdown":"Your 404 Not Found error comes solely from your Controller not being picked up because of custom ComponentScan annotation on SpringBootApplication but let me raise a few more points:\r\n\r\n1. You should not commit `.gradle`, `.idea`, `build`, etc. directories to Git. Create a `.gitignore` file to ignore them - you have one but its inside `task-service`, you should have one in root directory ideally (but you can have more specific to some particular sub-projects)\r\n2. You have 2 gradle wrappers (in root and task-service) - the one in task-service should be removed\r\n3. I don’t think you need `task-service/settings.gradle` file as well. I realise you probably started with a single-module project and turned it into a multi-module one.\r\n4. You are making `ComponentScan` and `EntityScan` on `com.nyuro.domain` but you have no classes in this package (domain classes are in `module` package), most importantly `@SpringBootApplication` already does component scan on the package it is located in. You should remove `@ComponentScan(“com.nyuro.domain”)` as it prevents you Controller which is not under that package from being picked up by Spring (SpringBootApplication is in `com.nyuro.taskservice` and controller in `com.nyuro.taskservice.controllers` so the default component scan will pick it up as its a sub-package). If you want to scan additional packages you will have to add `task-service` package as well - `@ComponentScan({&quot;com.nyuro.domain&quot;, &quot;com.nyuro.taskservice&quot;})`.\r\n5. You database setup is not working for me, I had to remove it to make this app start ","title":"Multimodule gradle project I get Error: Not Found (Spring with module dependency)","body":"<p>Your 404 Not Found error comes solely from your Controller not being picked up because of custom ComponentScan annotation on SpringBootApplication but let me raise a few more points:</p>\n<ol>\n<li>You should not commit <code>.gradle</code>, <code>.idea</code>, <code>build</code>, etc. directories to Git. Create a <code>.gitignore</code> file to ignore them - you have one but its inside <code>task-service</code>, you should have one in root directory ideally (but you can have more specific to some particular sub-projects)</li>\n<li>You have 2 gradle wrappers (in root and task-service) - the one in task-service should be removed</li>\n<li>I don’t think you need <code>task-service/settings.gradle</code> file as well. I realise you probably started with a single-module project and turned it into a multi-module one.</li>\n<li>You are making <code>ComponentScan</code> and <code>EntityScan</code> on <code>com.nyuro.domain</code> but you have no classes in this package (domain classes are in <code>module</code> package), most importantly <code>@SpringBootApplication</code> already does component scan on the package it is located in. You should remove <code>@ComponentScan(“com.nyuro.domain”)</code> as it prevents you Controller which is not under that package from being picked up by Spring (SpringBootApplication is in <code>com.nyuro.taskservice</code> and controller in <code>com.nyuro.taskservice.controllers</code> so the default component scan will pick it up as its a sub-package). If you want to scan additional packages you will have to add <code>task-service</code> package as well - <code>@ComponentScan({&quot;com.nyuro.domain&quot;, &quot;com.nyuro.taskservice&quot;})</code>.</li>\n<li>You database setup is not working for me, I had to remove it to make this app start </li>\n</ol>\n"}],"owner":{"account_id":9739734,"reputation":3,"user_id":15394848,"display_name":"rafnakb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76413331,"answer_count":1,"score":0,"last_activity_date":1686045453,"creation_date":1685929599,"question_id":76403101,"body_markdown":"When studying and implementing a multimodule project with Java and Gradle, I am having the following error when making a request:  \r\n\r\n`Postman`\r\n```\r\n{\r\n     &quot;status&quot;: 404,\r\n     &quot;error&quot;: &quot;Not Found&quot;,\r\n     &quot;message&quot;: &quot;No message available&quot;,\r\n     &quot;path&quot;: &quot;/tasks/hello&quot;\r\n}\r\n```\r\n**When running the command &quot;./gradlew :task-service:bootRun&quot; the project seems to start normally &quot;Tomcat started on port(s): 8080 (http) with context path&#39;&#39;. But when making requests, I get &quot;not found&quot;. I can&#39;t say where the error is, but I realize that the import of the &quot;domain&quot; module is not correct or I don&#39;t know how to configure it. Can you help me?**  \r\n\r\nThe project and its modules - `group &#39;com.nyuro&#39;`  \r\n\r\n```\r\nnyuro-backend (root-project)\r\n *domain\r\n *task-service\r\n```\r\n\r\nThe &quot;domain&quot; module contains entities, such as the Task class. Services will be Spring Boot app with @Controller, @Service, @Repository. In this example &quot;task-service&quot;. \r\n \r\nHere are the main snippets of settings. I hope that&#39;s enough to point me out some configuration error. Or here is the code on github: [Project Link Here](https://github.com/rafnakb/nyuro-backend)\r\n\r\n`settings.gradle(nyuro-backend)`\r\n```\r\nrootProject.name = &#39;nyuro-backend&#39;\r\ninclude &#39;domain&#39;\r\ninclude &#39;task-service&#39;\r\n```\r\n\r\n`build.gradle(nyuro-backend)`\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;com.nyuro&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n`build.gradle(:domain)`\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;com.nyuro&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    implementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n`build.gradle(:task-service)`\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;application&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.nyuro&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation project(&#39;:domain&#39;)\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n`TaskServiceApplication.java`\r\n\r\n```\r\n@EntityScan({&quot;com.nyuro.domain&quot;})\r\n@EnableJpaRepositories({&quot;com.nyuro.domain&quot;})\r\n@ComponentScan({&quot;com.nyuro.domain&quot;})\r\n@SpringBootApplication\r\npublic class TaskServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TaskServiceApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nThere seems to be a problem importing the domain.models.Task module. I also did several tests on @EntityScan, @EnableJpaRepositories, @ComponentScan imports. No satisfactory result.","title":"Multimodule gradle project I get Error: Not Found (Spring with module dependency)","body":"<p>When studying and implementing a multimodule project with Java and Gradle, I am having the following error when making a request:</p>\n<p><code>Postman</code></p>\n<pre><code>{\n     &quot;status&quot;: 404,\n     &quot;error&quot;: &quot;Not Found&quot;,\n     &quot;message&quot;: &quot;No message available&quot;,\n     &quot;path&quot;: &quot;/tasks/hello&quot;\n}\n</code></pre>\n<p><strong>When running the command &quot;./gradlew :task-service:bootRun&quot; the project seems to start normally &quot;Tomcat started on port(s): 8080 (http) with context path''. But when making requests, I get &quot;not found&quot;. I can't say where the error is, but I realize that the import of the &quot;domain&quot; module is not correct or I don't know how to configure it. Can you help me?</strong></p>\n<p>The project and its modules - <code>group 'com.nyuro'</code></p>\n<pre><code>nyuro-backend (root-project)\n *domain\n *task-service\n</code></pre>\n<p>The &quot;domain&quot; module contains entities, such as the Task class. Services will be Spring Boot app with @Controller, @Service, @Repository. In this example &quot;task-service&quot;.</p>\n<p>Here are the main snippets of settings. I hope that's enough to point me out some configuration error. Or here is the code on github: <a href=\"https://github.com/rafnakb/nyuro-backend\" rel=\"nofollow noreferrer\">Project Link Here</a></p>\n<p><code>settings.gradle(nyuro-backend)</code></p>\n<pre><code>rootProject.name = 'nyuro-backend'\ninclude 'domain'\ninclude 'task-service'\n</code></pre>\n<p><code>build.gradle(nyuro-backend)</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\ngroup 'com.nyuro'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><code>build.gradle(:domain)</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\ngroup 'com.nyuro'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><code>build.gradle(:task-service)</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.nyuro'\nversion = '0.0.1-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation project(':domain')\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><code>TaskServiceApplication.java</code></p>\n<pre><code>@EntityScan({&quot;com.nyuro.domain&quot;})\n@EnableJpaRepositories({&quot;com.nyuro.domain&quot;})\n@ComponentScan({&quot;com.nyuro.domain&quot;})\n@SpringBootApplication\npublic class TaskServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TaskServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>There seems to be a problem importing the domain.models.Task module. I also did several tests on @EntityScan, @EnableJpaRepositories, @ComponentScan imports. No satisfactory result.</p>\n"},{"tags":["java","java-web-start","jnlp","icedtea","icedtea-web"],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686045385,"creation_date":1685985696,"question_id":76408709,"body_markdown":"I tried something like that :\r\n\r\n    javaws -J--add-opens=java.desktop/javax.swing.plaf.metal=ALL-UNNAMED my_jnlp_file.jnlp\r\n\r\nAnd also tried in the jnlp :\r\n\r\n    &lt;j2se java-vm-args=&quot;--add-opens java.desktop/javax.swing.plaf.metal=ALL-UNNAMED -Xms500m -Xmx4096m&quot; /&gt;\r\n\r\nI&#39;m getting this error in the cmd console :\r\n\r\n    java version &quot;17.0.7&quot; 2023-04-18 LTS\r\n    Java(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\r\n    haring)\r\n    Error: --add-opens requires modules to be specified\r\n    Please press any key to close this window/get back prompt\r\n\r\n\r\nAlso tried providing these options with environment variables `JAVA_TOOL_OPTIONS`, `JDK_JAVA_OPTIONS` and `JAVAWS_J_OPTIONS` but no luck:\r\n\r\n    set JAVA_TOOL_OPTIONS=&quot;--add-opens=java.desktop/javax.swing.plaf.metal=ALL-UNNAMED&quot;\r\n\r\n\r\nI found a file `icedtea-web-image\\bin\\itw-modularjdk.args` inside the distribution of icedtea that has `--add-xxx` options so I&#39;ve put the options there and it worked.\r\n\r\n    # -------------------------------------\r\n    # IcedTea-Web jigsaw run args (jdk9+)\r\n    # -------------------------------------\r\n    \r\n    --add-reads=java.base=ALL-UNNAMED,java.desktop\r\n    --add-reads=java.desktop=ALL-UNNAMED,java.naming\r\n    --add-reads=java.naming=ALL-UNNAMED,java.desktop\r\n    \r\n    --add-exports=java.desktop/sun.awt=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.desktop/javax.jnlp=ALL-UNNAMED,java.desktop\r\n    \r\n    --add-exports=java.base/com.sun.net.ssl.internal.ssl=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.net.www.protocol.jar=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.action=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.provider=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.util=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.validator=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.x509=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/jdk.internal.util.jar=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.net.www.protocol.http=ALL-UNNAMED,java.desktop\r\n    \r\n    --add-exports=java.desktop/sun.awt.X11=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.desktop/sun.applet=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.desktop/sun.applet=ALL-UNNAMED,jdk.jsobject\r\n    \r\n    --add-exports=java.naming/com.sun.jndi.toolkit.url=ALL-UNNAMED,java.desktop\r\n\r\nHowever, I&#39;m not quite sure this is the right place for this. I&#39;d rather have it configured outside the distribution. \r\n\r\n\r\nCould you please indicate the right way of passing these options ?\r\n\r\n\r\n","title":"How do I use --add-opens together with IcedTea javaws?","body":"<p>I tried something like that :</p>\n<pre><code>javaws -J--add-opens=java.desktop/javax.swing.plaf.metal=ALL-UNNAMED my_jnlp_file.jnlp\n</code></pre>\n<p>And also tried in the jnlp :</p>\n<pre><code>&lt;j2se java-vm-args=&quot;--add-opens java.desktop/javax.swing.plaf.metal=ALL-UNNAMED -Xms500m -Xmx4096m&quot; /&gt;\n</code></pre>\n<p>I'm getting this error in the cmd console :</p>\n<pre><code>java version &quot;17.0.7&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\nharing)\nError: --add-opens requires modules to be specified\nPlease press any key to close this window/get back prompt\n</code></pre>\n<p>Also tried providing these options with environment variables <code>JAVA_TOOL_OPTIONS</code>, <code>JDK_JAVA_OPTIONS</code> and <code>JAVAWS_J_OPTIONS</code> but no luck:</p>\n<pre><code>set JAVA_TOOL_OPTIONS=&quot;--add-opens=java.desktop/javax.swing.plaf.metal=ALL-UNNAMED&quot;\n</code></pre>\n<p>I found a file <code>icedtea-web-image\\bin\\itw-modularjdk.args</code> inside the distribution of icedtea that has <code>--add-xxx</code> options so I've put the options there and it worked.</p>\n<pre><code># -------------------------------------\n# IcedTea-Web jigsaw run args (jdk9+)\n# -------------------------------------\n\n--add-reads=java.base=ALL-UNNAMED,java.desktop\n--add-reads=java.desktop=ALL-UNNAMED,java.naming\n--add-reads=java.naming=ALL-UNNAMED,java.desktop\n\n--add-exports=java.desktop/sun.awt=ALL-UNNAMED,java.desktop\n--add-exports=java.desktop/javax.jnlp=ALL-UNNAMED,java.desktop\n\n--add-exports=java.base/com.sun.net.ssl.internal.ssl=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.net.www.protocol.jar=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.action=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.provider=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.util=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.validator=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.x509=ALL-UNNAMED,java.desktop\n--add-exports=java.base/jdk.internal.util.jar=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.net.www.protocol.http=ALL-UNNAMED,java.desktop\n\n--add-exports=java.desktop/sun.awt.X11=ALL-UNNAMED,java.desktop\n--add-exports=java.desktop/sun.applet=ALL-UNNAMED,java.desktop\n--add-exports=java.desktop/sun.applet=ALL-UNNAMED,jdk.jsobject\n\n--add-exports=java.naming/com.sun.jndi.toolkit.url=ALL-UNNAMED,java.desktop\n</code></pre>\n<p>However, I'm not quite sure this is the right place for this. I'd rather have it configured outside the distribution.</p>\n<p>Could you please indicate the right way of passing these options ?</p>\n"},{"tags":["java","data-structures","iterator","priority-queue"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1686005672,"post_id":76410372,"comment_id":134737470,"body_markdown":"Nothing in your iterator&#39;s `hasNext()` implementation is affected by subsequent modifications.  It reports only on whether the iterator&#39;s `currentIndex` is less than the heap&#39;s `size`.  If you want also to take the `expectedModificationCount` into account then do.  What prevents you?","body":"Nothing in your iterator&#39;s <code>hasNext()</code> implementation is affected by subsequent modifications.  It reports only on whether the iterator&#39;s <code>currentIndex</code> is less than the heap&#39;s <code>size</code>.  If you want also to take the <code>expectedModificationCount</code> into account then do.  What prevents you?"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1686047339,"post_id":76410372,"comment_id":134742498,"body_markdown":"What is the difference between both `Iterator&lt;E&gt; elements()`? Why should `elements1` be ended after an insert following its instantiation? I concede the API documentation is overly thin in specifying behaviour with concurrent modifications, e.g. *should modifications between instantiation and first use be forbidden or allowed?*","body":"What is the difference between both <code>Iterator&lt;E&gt; elements()</code>? Why should <code>elements1</code> be ended after an insert following its instantiation? I concede the API documentation is overly thin in specifying behaviour with concurrent modifications, e.g. <i>should modifications between instantiation and first use be forbidden or allowed?</i>"}],"owner":{"account_id":28760338,"reputation":11,"user_id":22026376,"display_name":"ivan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686045266,"creation_date":1686004195,"question_id":76410372,"body_markdown":"The following methods don&#39;t work correctly:\r\n\r\n     public Iterator&lt;E&gt; elements() {\r\n            return new Iterator&lt;E&gt;() {\r\n                private int currentIndex = 0;\r\n                private int expectedModificationCount = modificationCount;\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n    \r\n                return currentIndex &lt; size;\r\n            }\r\n    \r\n            @Override\r\n            public K next() {\r\n                // checkModificationCount();\r\n                if (!hasNext()) {\r\n                    throw new NoSuchElementException();\r\n                }\r\n                return heap[currentIndex++].getKey();\r\n            }\r\n    \r\n            private void checkModificationCount() {\r\n                if (expectedModificationCount != modificationCount) {\r\n                    throw new ConcurrentModificationException(&quot;Priority queue modified during     iteration&quot;);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    \r\n    \r\n    public Iterator&lt;E&gt; elements() {\r\n        return new Iterator&lt;E&gt;() {\r\n            private int currentIndex = 0;\r\n            private int expectedModificationCount = modificationCount;\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                //checkModificationCount();\r\n                return currentIndex &lt; size;\r\n            }\r\n    \r\n            @Override\r\n            public E next() {\r\n                checkModificationCount();\r\n                if (!hasNext()) {\r\n                    throw new NoSuchElementException();\r\n                }\r\n                E element = heap[currentIndex].getElement();\r\n                currentIndex++;\r\n                return element;\r\n            }\r\n    \r\n            private void checkModificationCount() {\r\n                if (expectedModificationCount != modificationCount) {\r\n                    throw new ConcurrentModificationException(&quot;Priority queue modified during iteration&quot;);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nIterator should be ended after modification of the priority queue, if I run for example the following test method:\r\n```\r\n@Test\r\nvoid testContinuingElements() {\r\n    PriorityQueue&lt;String, Integer&gt; pq = new HeapBasedPriorityQueue&lt;&gt;(STRING_COMPARATOR);\r\n    pq.insert(&quot;test1&quot;, 1);\r\n    Iterator&lt;Integer&gt; elements1 = pq.elements();\r\n    pq.insert(&quot;test2&quot;, 2);\r\n    Iterator&lt;Integer&gt; elements2 = pq.elements();\r\n    assertFalse(elements1.hasNext(), &quot;Iterator should be ended after modification of the priority queue&quot;);\r\n    assertThrows(ConcurrentModificationException.class, elements1::next, &quot;Iterator should throw ConcurrentModificationException after modification of the priority queue&quot;);\r\n    assertTrue(elements2.hasNext(), &quot;Iterator generated after last change can continue&quot;);\r\n    assertEquals(1, elements2.next(), &quot;Iterator generated after last change can continue&quot;);\r\n}\r\n```\r\n\r\nthe `hasNext()` should return false, to pass the following line of the test method but it doesn&#39;t.\r\n\r\n`assertFalse(elements1.hasNext(), &quot;Iterator should be ended after modification of the priority queue&quot;)`\r\n","title":"implementation of HeapBasedPriorityQueue","body":"<p>The following methods don't work correctly:</p>\n<pre><code> public Iterator&lt;E&gt; elements() {\n        return new Iterator&lt;E&gt;() {\n            private int currentIndex = 0;\n            private int expectedModificationCount = modificationCount;\n\n        @Override\n        public boolean hasNext() {\n\n            return currentIndex &lt; size;\n        }\n\n        @Override\n        public K next() {\n            // checkModificationCount();\n            if (!hasNext()) {\n                throw new NoSuchElementException();\n            }\n            return heap[currentIndex++].getKey();\n        }\n\n        private void checkModificationCount() {\n            if (expectedModificationCount != modificationCount) {\n                throw new ConcurrentModificationException(&quot;Priority queue modified during     iteration&quot;);\n            }\n        }\n    };\n}\n\n\npublic Iterator&lt;E&gt; elements() {\n    return new Iterator&lt;E&gt;() {\n        private int currentIndex = 0;\n        private int expectedModificationCount = modificationCount;\n\n        @Override\n        public boolean hasNext() {\n            //checkModificationCount();\n            return currentIndex &lt; size;\n        }\n\n        @Override\n        public E next() {\n            checkModificationCount();\n            if (!hasNext()) {\n                throw new NoSuchElementException();\n            }\n            E element = heap[currentIndex].getElement();\n            currentIndex++;\n            return element;\n        }\n\n        private void checkModificationCount() {\n            if (expectedModificationCount != modificationCount) {\n                throw new ConcurrentModificationException(&quot;Priority queue modified during iteration&quot;);\n            }\n        }\n    };\n}\n</code></pre>\n<p>Iterator should be ended after modification of the priority queue, if I run for example the following test method:</p>\n<pre><code>@Test\nvoid testContinuingElements() {\n    PriorityQueue&lt;String, Integer&gt; pq = new HeapBasedPriorityQueue&lt;&gt;(STRING_COMPARATOR);\n    pq.insert(&quot;test1&quot;, 1);\n    Iterator&lt;Integer&gt; elements1 = pq.elements();\n    pq.insert(&quot;test2&quot;, 2);\n    Iterator&lt;Integer&gt; elements2 = pq.elements();\n    assertFalse(elements1.hasNext(), &quot;Iterator should be ended after modification of the priority queue&quot;);\n    assertThrows(ConcurrentModificationException.class, elements1::next, &quot;Iterator should throw ConcurrentModificationException after modification of the priority queue&quot;);\n    assertTrue(elements2.hasNext(), &quot;Iterator generated after last change can continue&quot;);\n    assertEquals(1, elements2.next(), &quot;Iterator generated after last change can continue&quot;);\n}\n</code></pre>\n<p>the <code>hasNext()</code> should return false, to pass the following line of the test method but it doesn't.</p>\n<p><code>assertFalse(elements1.hasNext(), &quot;Iterator should be ended after modification of the priority queue&quot;)</code></p>\n"},{"tags":["java","jersey","jax-rs","jodatime"],"answers":[{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353450172,"creation_date":1353450172,"answer_id":13483240,"question_id":13482909,"body_markdown":"From reading [the documentation](http://jersey.java.net/nonav/documentation/latest/user-guide.html#d4e101), it would appear that you&#39;ll need to have your method return a String, which you then turn into a DateTime, I suppose using the [DateTime(long) constructor](http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html#DateTime(long)), there&#39;s a (relatively) easy-to-follow [example at codehale](http://codahale.com/what-makes-jersey-interesting-injection-providers/), let me know if you&#39;d like me to have a go at it.\r\n  ","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>From reading <a href=\"http://jersey.java.net/nonav/documentation/latest/user-guide.html#d4e101\" rel=\"nofollow\">the documentation</a>, it would appear that you'll need to have your method return a String, which you then turn into a DateTime, I suppose using the <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html#DateTime%28long%29\" rel=\"nofollow\">DateTime(long) constructor</a>, there's a (relatively) easy-to-follow <a href=\"http://codahale.com/what-makes-jersey-interesting-injection-providers/\" rel=\"nofollow\">example at codehale</a>, let me know if you'd like me to have a go at it.</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1353603215,"creation_date":1353525834,"answer_id":13500584,"question_id":13482909,"body_markdown":"Here is an implementation that depends on Guice. You can using a different injector with minor modifications:\r\n\r\n\r\n    import com.google.inject.Inject;\r\n    import com.sun.jersey.core.spi.component.ComponentContext;\r\n    import com.sun.jersey.spi.inject.Injectable;\r\n    import com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\r\n    import java.util.List;\r\n    import javax.ws.rs.QueryParam;\r\n    import javax.ws.rs.WebApplicationException;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.Response.Status;\r\n    import javax.ws.rs.core.UriInfo;\r\n    import javax.ws.rs.ext.Provider;\r\n    import org.joda.time.DateTime;\r\n\r\n    /**\r\n     * Enables DateTime to be used as a QueryParam.\r\n     * &lt;p/&gt;\r\n     * @author Gili Tzabari\r\n     */\r\n    @Provider\r\n    public class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;QueryParam, DateTime&gt;\r\n    {\r\n    \tprivate final com.google.inject.Provider&lt;UriInfo&gt; uriInfo;\r\n    \r\n    \t/**\r\n    \t * Creates a new DateTimeInjector.\r\n    \t * &lt;p/&gt;\r\n    \t * @param uriInfo an instance of {@link UriInfo}\r\n    \t */\r\n    \t@Inject\r\n    \tpublic DateTimeInjector(com.google.inject.Provider&lt;UriInfo&gt; uriInfo)\r\n    \t{\r\n    \t\tsuper(DateTime.class);\r\n    \t\tthis.uriInfo = uriInfo;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Injectable&lt;DateTime&gt; getInjectable(final ComponentContext cc, final QueryParam a)\r\n    \t{\r\n    \t\treturn new Injectable&lt;DateTime&gt;()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic DateTime getValue()\r\n    \t\t\t{\r\n    \t\t\t\tfinal List&lt;String&gt; values = uriInfo.get().getQueryParameters().get(a.value());\r\n    \t\t\t\tif (values.size() &gt; 1)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tthrow new WebApplicationException(Response.status(Status.BAD_REQUEST).\r\n    \t\t\t\t\t\tentity(a.value() + &quot; may only contain a single value&quot;).build());\r\n    \t\t\t\t}\r\n    \t\t\t\tif (values.isEmpty())\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\treturn new DateTime(values.get(0));\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nThere are no Guice bindings. @Provider is a JAX-RS annotation. Guice just needs to be able to inject UriInfo and [Jersey-Guice](http://jersey.java.net/nonav/apidocs/1.1.5/contribs/jersey-guice/com/sun/jersey/guice/spi/container/servlet/package-summary.html) provides that binding.","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>Here is an implementation that depends on Guice. You can using a different injector with minor modifications:</p>\n\n<pre><code>import com.google.inject.Inject;\nimport com.sun.jersey.core.spi.component.ComponentContext;\nimport com.sun.jersey.spi.inject.Injectable;\nimport com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\nimport java.util.List;\nimport javax.ws.rs.QueryParam;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport javax.ws.rs.core.UriInfo;\nimport javax.ws.rs.ext.Provider;\nimport org.joda.time.DateTime;\n\n/**\n * Enables DateTime to be used as a QueryParam.\n * &lt;p/&gt;\n * @author Gili Tzabari\n */\n@Provider\npublic class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;QueryParam, DateTime&gt;\n{\n    private final com.google.inject.Provider&lt;UriInfo&gt; uriInfo;\n\n    /**\n     * Creates a new DateTimeInjector.\n     * &lt;p/&gt;\n     * @param uriInfo an instance of {@link UriInfo}\n     */\n    @Inject\n    public DateTimeInjector(com.google.inject.Provider&lt;UriInfo&gt; uriInfo)\n    {\n        super(DateTime.class);\n        this.uriInfo = uriInfo;\n    }\n\n    @Override\n    public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext cc, final QueryParam a)\n    {\n        return new Injectable&lt;DateTime&gt;()\n        {\n            @Override\n            public DateTime getValue()\n            {\n                final List&lt;String&gt; values = uriInfo.get().getQueryParameters().get(a.value());\n                if (values.size() &gt; 1)\n                {\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).\n                        entity(a.value() + \" may only contain a single value\").build());\n                }\n                if (values.isEmpty())\n                    return null;\n                return new DateTime(values.get(0));\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>There are no Guice bindings. @Provider is a JAX-RS annotation. Guice just needs to be able to inject UriInfo and <a href=\"http://jersey.java.net/nonav/apidocs/1.1.5/contribs/jersey-guice/com/sun/jersey/guice/spi/container/servlet/package-summary.html\">Jersey-Guice</a> provides that binding.</p>\n"},{"tags":[],"owner":{"account_id":262594,"reputation":1446,"user_id":1328979,"display_name":"Marc Carr&#233;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354004511,"creation_date":1353571920,"answer_id":13508324,"question_id":13482909,"body_markdown":"@ Gili, sorry I don&#39;t have the required reputation to directly comment your post, but could you please:\r\n\r\n - add the import statements used for your implementation?\r\n - add an example of how you bind everything with Guice?\r\n\r\nThank you very much in advance.\r\n\r\nM.\r\n\r\n----------\r\n**PROBLEMS**:\r\n\r\nI would be interested in doing the same as HolySamosa, and I use Guice as well, but I face the below issues.\r\n\r\nIf I add:\r\n\r\n    bind(DateTimeInjector.class);\r\n\r\nin my `GuiceServletContextListener`, I get:\r\n\r\n    java.lang.RuntimeException: \r\n    The scope of the component class com.foo.mapping.DateTimeInjector must be a singleton\r\n\r\nand if I add `@Singleton` on the `DateTimeInjector` class, I get:\r\n\r\n\r\n    GRAVE: The following errors and warnings have been detected with resource and/or provider classes:\r\n    SEVERE: Missing dependency for method public java.util.List com.foo.ThingService.getThingByIdAndDate(java.lang.String,org.joda.time.DateTime) at parameter at index 1\r\n    SEVERE: Method, public java.util.List com.foo.ThingService.getThingByIdAndDate(java.lang.String,org.joda.time.DateTime), annotated with GET of resource, class com.foo.ThingService, is not recognized as valid resource method.\r\n\r\n----------\r\n**ADVICES / SOLUTIONS**:\r\n\r\n - Pay attention to what annotation you use (unlike me)! For example I was actually using `@PathParam` instead of `@QueryParam`.\r\n - In your service, you do not need to have `UriInfo uriInfo` in the method&#39;s signature. Just the functional parameters should be enough and it should work whether `UriInfo` is present or not.\r\n - Guice needed to be configured with the below to be able to pick up the injector.\r\n\r\nExample:\r\n\r\n    // Configure Jersey with Guice:\r\n    Map&lt;String, String&gt; settings = new HashMap&lt;String, String&gt;();\r\n    settings.put(PackagesResourceConfig.PROPERTY_PACKAGES, &quot;com.foo.mapping&quot;);\r\n    serve(&quot;/*&quot;).with(GuiceContainer.class, settings);\r\n\r\n----------\r\n**FULL SOLUTION**:\r\n\r\n    import java.util.List;\r\n    \r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.WebApplicationException;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.Response.Status;\r\n    import javax.ws.rs.core.UriInfo;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import org.joda.time.DateTime;\r\n    \r\n    import com.google.inject.Inject;\r\n    import com.foo.utils.DateTimeAdapter;\r\n    import com.sun.jersey.core.spi.component.ComponentContext;\r\n    import com.sun.jersey.spi.inject.Injectable;\r\n    import com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\r\n    \r\n    /**\r\n     * Enables DateTime to be used as a PathParam.\r\n     */\r\n    @Provider\r\n    public class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;PathParam, DateTime&gt; {\r\n        private final com.google.inject.Provider&lt;UriInfo&gt; uriInfo;\r\n    \r\n        /**\r\n         * Creates a new DateTimeInjector.\r\n         * \r\n         * @param uriInfo\r\n         *            an instance of {@link UriInfo}\r\n         */\r\n        @Inject\r\n        public DateTimeInjector(com.google.inject.Provider&lt;UriInfo&gt; uriInfo) {\r\n            super(DateTime.class);\r\n            this.uriInfo = uriInfo;\r\n        }\r\n    \r\n        @Override\r\n        public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext context, final PathParam annotation) {\r\n            return new Injectable&lt;DateTime&gt;() {\r\n                @Override\r\n                public DateTime getValue() {\r\n                    final List&lt;String&gt; values = uriInfo.get().getPathParameters().get(annotation.value());\r\n    \r\n                    if (values == null) {\r\n                        throwInternalServerError(annotation);\r\n                    }\r\n    \r\n                    if (values.size() &gt; 1) {\r\n                        throwBadRequestTooManyValues(annotation);\r\n                    }\r\n    \r\n                    if (values.isEmpty()) {\r\n                        throwBadRequestMissingValue(annotation);\r\n                    }\r\n    \r\n                    return parseDate(annotation, values);\r\n                }\r\n    \r\n                private void throwInternalServerError(final PathParam annotation) {\r\n                    String errorMessage = String.format(&quot;Failed to extract parameter [%s] using [%s]. This is likely to be an implementation error.&quot;,\r\n                            annotation.value(), annotation.annotationType().getName());\r\n                    throw new WebApplicationException(Response.status(Status.INTERNAL_SERVER_ERROR).entity(errorMessage).build());\r\n                }\r\n    \r\n                private void throwBadRequestTooManyValues(final PathParam annotation) {\r\n                    String errorMessage = String.format(&quot;Parameter [%s] must only contain one single value.&quot;, annotation.value());\r\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\r\n                }\r\n    \r\n                private void throwBadRequestMissingValue(final PathParam annotation) {\r\n                    String errorMessage = String.format(&quot;Parameter [%s] must be provided.&quot;, annotation.value());\r\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\r\n                }\r\n    \r\n                private DateTime parseDate(final PathParam annotation, final List&lt;String&gt; values) {\r\n                    try {\r\n                        return DateTimeAdapter.parse(values.get(0));\r\n                    } catch (Exception e) {\r\n                        String errorMessage = String.format(&quot;Parameter [%s] is formatted incorrectly: %s&quot;, annotation.value(), e.getMessage());\r\n                        throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\r\n                    }\r\n                }\r\n    \r\n            };\r\n        }\r\n    }","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>@ Gili, sorry I don't have the required reputation to directly comment your post, but could you please:</p>\n\n<ul>\n<li>add the import statements used for your implementation?</li>\n<li>add an example of how you bind everything with Guice?</li>\n</ul>\n\n<p>Thank you very much in advance.</p>\n\n<p>M.</p>\n\n<hr>\n\n<p><strong>PROBLEMS</strong>:</p>\n\n<p>I would be interested in doing the same as HolySamosa, and I use Guice as well, but I face the below issues.</p>\n\n<p>If I add:</p>\n\n<pre><code>bind(DateTimeInjector.class);\n</code></pre>\n\n<p>in my <code>GuiceServletContextListener</code>, I get:</p>\n\n<pre><code>java.lang.RuntimeException: \nThe scope of the component class com.foo.mapping.DateTimeInjector must be a singleton\n</code></pre>\n\n<p>and if I add <code>@Singleton</code> on the <code>DateTimeInjector</code> class, I get:</p>\n\n<pre><code>GRAVE: The following errors and warnings have been detected with resource and/or provider classes:\nSEVERE: Missing dependency for method public java.util.List com.foo.ThingService.getThingByIdAndDate(java.lang.String,org.joda.time.DateTime) at parameter at index 1\nSEVERE: Method, public java.util.List com.foo.ThingService.getThingByIdAndDate(java.lang.String,org.joda.time.DateTime), annotated with GET of resource, class com.foo.ThingService, is not recognized as valid resource method.\n</code></pre>\n\n<hr>\n\n<p><strong>ADVICES / SOLUTIONS</strong>:</p>\n\n<ul>\n<li>Pay attention to what annotation you use (unlike me)! For example I was actually using <code>@PathParam</code> instead of <code>@QueryParam</code>.</li>\n<li>In your service, you do not need to have <code>UriInfo uriInfo</code> in the method's signature. Just the functional parameters should be enough and it should work whether <code>UriInfo</code> is present or not.</li>\n<li>Guice needed to be configured with the below to be able to pick up the injector.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>// Configure Jersey with Guice:\nMap&lt;String, String&gt; settings = new HashMap&lt;String, String&gt;();\nsettings.put(PackagesResourceConfig.PROPERTY_PACKAGES, \"com.foo.mapping\");\nserve(\"/*\").with(GuiceContainer.class, settings);\n</code></pre>\n\n<hr>\n\n<p><strong>FULL SOLUTION</strong>:</p>\n\n<pre><code>import java.util.List;\n\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport javax.ws.rs.core.UriInfo;\nimport javax.ws.rs.ext.Provider;\n\nimport org.joda.time.DateTime;\n\nimport com.google.inject.Inject;\nimport com.foo.utils.DateTimeAdapter;\nimport com.sun.jersey.core.spi.component.ComponentContext;\nimport com.sun.jersey.spi.inject.Injectable;\nimport com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\n\n/**\n * Enables DateTime to be used as a PathParam.\n */\n@Provider\npublic class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;PathParam, DateTime&gt; {\n    private final com.google.inject.Provider&lt;UriInfo&gt; uriInfo;\n\n    /**\n     * Creates a new DateTimeInjector.\n     * \n     * @param uriInfo\n     *            an instance of {@link UriInfo}\n     */\n    @Inject\n    public DateTimeInjector(com.google.inject.Provider&lt;UriInfo&gt; uriInfo) {\n        super(DateTime.class);\n        this.uriInfo = uriInfo;\n    }\n\n    @Override\n    public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext context, final PathParam annotation) {\n        return new Injectable&lt;DateTime&gt;() {\n            @Override\n            public DateTime getValue() {\n                final List&lt;String&gt; values = uriInfo.get().getPathParameters().get(annotation.value());\n\n                if (values == null) {\n                    throwInternalServerError(annotation);\n                }\n\n                if (values.size() &gt; 1) {\n                    throwBadRequestTooManyValues(annotation);\n                }\n\n                if (values.isEmpty()) {\n                    throwBadRequestMissingValue(annotation);\n                }\n\n                return parseDate(annotation, values);\n            }\n\n            private void throwInternalServerError(final PathParam annotation) {\n                String errorMessage = String.format(\"Failed to extract parameter [%s] using [%s]. This is likely to be an implementation error.\",\n                        annotation.value(), annotation.annotationType().getName());\n                throw new WebApplicationException(Response.status(Status.INTERNAL_SERVER_ERROR).entity(errorMessage).build());\n            }\n\n            private void throwBadRequestTooManyValues(final PathParam annotation) {\n                String errorMessage = String.format(\"Parameter [%s] must only contain one single value.\", annotation.value());\n                throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\n            }\n\n            private void throwBadRequestMissingValue(final PathParam annotation) {\n                String errorMessage = String.format(\"Parameter [%s] must be provided.\", annotation.value());\n                throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\n            }\n\n            private DateTime parseDate(final PathParam annotation, final List&lt;String&gt; values) {\n                try {\n                    return DateTimeAdapter.parse(values.get(0));\n                } catch (Exception e) {\n                    String errorMessage = String.format(\"Parameter [%s] is formatted incorrectly: %s\", annotation.value(), e.getMessage());\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\n                }\n            }\n\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2706691,"reputation":21,"user_id":2336150,"display_name":"user2336150"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417745428,"creation_date":1417745428,"answer_id":27307648,"question_id":13482909,"body_markdown":"Another option to deal with the sending of Joda DateTime objects between the client-server is to marshal/de-marshal them explicitly using an adapter and an according annotation.\r\nThe principle is to marshal it as Long object while de-marshalling instantiates a new DateTime object using the Long object for the constructor call. The Long object is obtained via the getMillis method.\r\nTo have this work, specify the adapter to use in the classes that have a DateTime object:\r\n\r\n\r\n\t@XmlElement(name=&quot;capture_date&quot;)\r\n\t@XmlJavaTypeAdapter(XmlDateTimeAdapter.class)\r\n\tpublic DateTime getCaptureDate() { return this.capture_date; }\r\n\tpublic void setCaptureDate(DateTime capture_date) { this.capture_date = capture_date; }\r\n\r\n\r\n\r\nThen write the adapter and the XML class to encapsulate the Long object:\r\n\r\n\r\n\r\n    import javax.xml.bind.annotation.adapters.XmlAdapter;\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.DateTimeZone;\r\n    \r\n    /**\r\n     * Convert between joda datetime and XML-serialisable millis represented as long\r\n     */\r\n    public class XmlDateTimeAdapter  extends XmlAdapter&lt;XmlDateTime, DateTime&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic XmlDateTime marshal(DateTime v) throws Exception {\r\n    \t\t\r\n    \t\tif(v != null)\r\n    \t\t\treturn new XmlDateTime(v.getMillis());\r\n    \t\telse\r\n    \t\t\treturn new XmlDateTime(0); \r\n    \r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic DateTime unmarshal(XmlDateTime v) throws Exception {\r\n    \t\t\r\n    \t\treturn new DateTime(v.millis, DateTimeZone.UTC);\r\n    \t}\r\n    }\r\n\r\n\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n\r\n    /**\r\n     * XML-serialisable wrapper for joda datetime values.\r\n     */\r\n    @XmlRootElement(name=&quot;joda_datetime&quot;)\r\n    public class XmlDateTime {\r\n    \t\r\n    \t@XmlElement(name=&quot;millis&quot;) public long millis;\r\n    \t\r\n    \tpublic XmlDateTime() {};\r\n    \t\r\n    \tpublic XmlDateTime(long millis) { this.millis = millis; }\t\r\n    \r\n    }\r\n\r\n\r\n\r\nIf all goes to plan, the DateTime objects should be marshalled/de-marshalled by using the adaptor; check this by setting breakpoints in the adapter.\r\n","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>Another option to deal with the sending of Joda DateTime objects between the client-server is to marshal/de-marshal them explicitly using an adapter and an according annotation.\nThe principle is to marshal it as Long object while de-marshalling instantiates a new DateTime object using the Long object for the constructor call. The Long object is obtained via the getMillis method.\nTo have this work, specify the adapter to use in the classes that have a DateTime object:</p>\n\n<pre><code>@XmlElement(name=\"capture_date\")\n@XmlJavaTypeAdapter(XmlDateTimeAdapter.class)\npublic DateTime getCaptureDate() { return this.capture_date; }\npublic void setCaptureDate(DateTime capture_date) { this.capture_date = capture_date; }\n</code></pre>\n\n<p>Then write the adapter and the XML class to encapsulate the Long object:</p>\n\n<pre><code>import javax.xml.bind.annotation.adapters.XmlAdapter;\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\n\n/**\n * Convert between joda datetime and XML-serialisable millis represented as long\n */\npublic class XmlDateTimeAdapter  extends XmlAdapter&lt;XmlDateTime, DateTime&gt; {\n\n    @Override\n    public XmlDateTime marshal(DateTime v) throws Exception {\n\n        if(v != null)\n            return new XmlDateTime(v.getMillis());\n        else\n            return new XmlDateTime(0); \n\n\n    }\n\n    @Override\n    public DateTime unmarshal(XmlDateTime v) throws Exception {\n\n        return new DateTime(v.millis, DateTimeZone.UTC);\n    }\n}\n\n\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n/**\n * XML-serialisable wrapper for joda datetime values.\n */\n@XmlRootElement(name=\"joda_datetime\")\npublic class XmlDateTime {\n\n    @XmlElement(name=\"millis\") public long millis;\n\n    public XmlDateTime() {};\n\n    public XmlDateTime(long millis) { this.millis = millis; }   \n\n}\n</code></pre>\n\n<p>If all goes to plan, the DateTime objects should be marshalled/de-marshalled by using the adaptor; check this by setting breakpoints in the adapter.</p>\n"},{"tags":[],"owner":{"account_id":25907381,"reputation":11,"user_id":19632250,"display_name":"Robert Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686045140,"creation_date":1686045140,"answer_id":76413406,"question_id":13482909,"body_markdown":"Another alternative is to write a simple wrapper class with a `String` argument constructor. Such a class then doesn&#39;t need a custom injector registered with Jersey to be injected as a query parameter.\r\n\r\n```\r\npublic class DateTimeParam {\r\n    private final DateTime value;\r\n\r\n    public DateTimeParam(String string) {\r\n        this.value = DateTime.parse(string);\r\n    }\r\n\r\n    public DateTime get() {\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nEven though this requires converting from the wrapper to `DateTime` in your code, this is better than converting from `String` to `DateTime` in your code, as you don&#39;t have to handle failure to parse - it will be handled by Jersey in the same way as any other type.","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>Another alternative is to write a simple wrapper class with a <code>String</code> argument constructor. Such a class then doesn't need a custom injector registered with Jersey to be injected as a query parameter.</p>\n<pre><code>public class DateTimeParam {\n    private final DateTime value;\n\n    public DateTimeParam(String string) {\n        this.value = DateTime.parse(string);\n    }\n\n    public DateTime get() {\n        return value;\n    }\n}\n</code></pre>\n<p>Even though this requires converting from the wrapper to <code>DateTime</code> in your code, this is better than converting from <code>String</code> to <code>DateTime</code> in your code, as you don't have to handle failure to parse - it will be handled by Jersey in the same way as any other type.</p>\n"}],"owner":{"account_id":288664,"reputation":9081,"user_id":589215,"accept_rate":65,"display_name":"HolySamosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7139,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":13500584,"answer_count":5,"score":12,"last_activity_date":1686045140,"creation_date":1353448600,"question_id":13482909,"body_markdown":"I&#39;d like to use Joda&#39;s `DateTime` for query parameters in Jersey, but this isn&#39;t supported by Jersey out-of-the-box.  I&#39;m assuming that implementing an `InjectableProvider` is the proper way to add `DateTime` support.  \r\n\r\nCan someone point me to a good implementation of an `InjectableProvider` for `DateTime`?  Or is there an alternative approach worth recommending?  (I&#39;m aware I can convert from `Date` or `String` in my code, but this seems like a lesser solution).\r\n\r\nThanks.\r\n\r\n**Solution:**\r\n\r\nI modified Gili&#39;s answer below to use the `@Context` injection mechanism in JAX-RS rather than Guice.  \r\n\r\nUpdate: This may not work properly if UriInfo isn&#39;t injected in your service method parameters.\r\n\r\n\timport com.sun.jersey.core.spi.component.ComponentContext;\r\n\timport com.sun.jersey.spi.inject.Injectable;\r\n\timport com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\r\n\timport java.util.List;\r\n\timport javax.ws.rs.QueryParam;\r\n\timport javax.ws.rs.WebApplicationException;\r\n\timport javax.ws.rs.core.Context;\r\n\timport javax.ws.rs.core.Response;\r\n\timport javax.ws.rs.core.Response.Status;\r\n\timport javax.ws.rs.core.UriInfo;\r\n\timport javax.ws.rs.ext.Provider;\r\n\timport org.joda.time.DateTime;\r\n\t\r\n\t/**\r\n\t * Enables DateTime to be used as a QueryParam.\r\n\t * &lt;p/&gt;\r\n\t * @author Gili Tzabari\r\n\t */\r\n\t@Provider\r\n\tpublic class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;QueryParam, DateTime&gt;\r\n\t{\r\n\t    private final UriInfo uriInfo;\r\n\t\r\n\t    /**\r\n\t     * Creates a new DateTimeInjector.\r\n\t     * &lt;p/&gt;\r\n\t     * @param uriInfo an instance of {@link UriInfo}\r\n\t     */\r\n\t    public DateTimeInjector( @Context UriInfo uriInfo)\r\n\t    {\r\n\t        super(DateTime.class);\r\n\t        this.uriInfo = uriInfo;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext cc, final QueryParam a)\r\n\t    {\r\n\t        return new Injectable&lt;DateTime&gt;()\r\n\t        {\r\n\t            @Override\r\n\t            public DateTime getValue()\r\n\t            {\r\n\t                final List&lt;String&gt; values = uriInfo.getQueryParameters().get(a.value());\r\n\r\n\t                if( values == null || values.isEmpty())\r\n\t                    return null;\r\n\t                if (values.size() &gt; 1)\r\n\t                {\r\n\t                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).\r\n\t                        entity(a.value() + &quot; may only contain a single value&quot;).build());\r\n\t                }\r\n\t                return new DateTime(values.get(0));\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t}\r\n\r\n","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>I'd like to use Joda's <code>DateTime</code> for query parameters in Jersey, but this isn't supported by Jersey out-of-the-box.  I'm assuming that implementing an <code>InjectableProvider</code> is the proper way to add <code>DateTime</code> support.  </p>\n\n<p>Can someone point me to a good implementation of an <code>InjectableProvider</code> for <code>DateTime</code>?  Or is there an alternative approach worth recommending?  (I'm aware I can convert from <code>Date</code> or <code>String</code> in my code, but this seems like a lesser solution).</p>\n\n<p>Thanks.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>I modified Gili's answer below to use the <code>@Context</code> injection mechanism in JAX-RS rather than Guice.  </p>\n\n<p>Update: This may not work properly if UriInfo isn't injected in your service method parameters.</p>\n\n<pre><code>import com.sun.jersey.core.spi.component.ComponentContext;\nimport com.sun.jersey.spi.inject.Injectable;\nimport com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\nimport java.util.List;\nimport javax.ws.rs.QueryParam;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport javax.ws.rs.core.UriInfo;\nimport javax.ws.rs.ext.Provider;\nimport org.joda.time.DateTime;\n\n/**\n * Enables DateTime to be used as a QueryParam.\n * &lt;p/&gt;\n * @author Gili Tzabari\n */\n@Provider\npublic class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;QueryParam, DateTime&gt;\n{\n    private final UriInfo uriInfo;\n\n    /**\n     * Creates a new DateTimeInjector.\n     * &lt;p/&gt;\n     * @param uriInfo an instance of {@link UriInfo}\n     */\n    public DateTimeInjector( @Context UriInfo uriInfo)\n    {\n        super(DateTime.class);\n        this.uriInfo = uriInfo;\n    }\n\n    @Override\n    public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext cc, final QueryParam a)\n    {\n        return new Injectable&lt;DateTime&gt;()\n        {\n            @Override\n            public DateTime getValue()\n            {\n                final List&lt;String&gt; values = uriInfo.getQueryParameters().get(a.value());\n\n                if( values == null || values.isEmpty())\n                    return null;\n                if (values.size() &gt; 1)\n                {\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).\n                        entity(a.value() + \" may only contain a single value\").build());\n                }\n                return new DateTime(values.get(0));\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","logging","pyspark","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686044767,"creation_date":1686002736,"answer_id":76410279,"question_id":76408638,"body_markdown":"The pattern you are looking for is `%c{1.2*}` introduced in version `2.20.0` (cf. [LOG4J2-2785](https://issues.apache.org/jira/browse/LOG4J2-2785)).\r\n\r\nThere are now four kinds of `%c` patterns:\r\n\r\n * if the parameter is a positive integer `n` (e.g. `%c{7}`), only `n` rightmost **components** of the logger name are printed,\r\n * if the parameter is a negative integer `-n` (e.g. `%c{-7}`), then the leftmost `n` **components** are dropped,\r\n * if the parameter is of the form `1.n*`, the `n` rightmost **components** are written in full, while the remaining ones are abbreviated to one letter,\r\n * for any other pattern the numbers indicate how many **letters** to print from each component: e.g. `1.4~.7` means 1 letter from the first component followed by a dot `.` followed by 4 letters from the second component (followed by `~` if the name was abbreviated) and a dot `.`. The remaining components are abbreviated to 7 letters with a dot `.`. The last component is written down entirely.","title":"log4j2 How to control logger name using %c{precision} OR logger{precision}","body":"<p>The pattern you are looking for is <code>%c{1.2*}</code> introduced in version <code>2.20.0</code> (cf. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2785\" rel=\"nofollow noreferrer\">LOG4J2-2785</a>).</p>\n<p>There are now four kinds of <code>%c</code> patterns:</p>\n<ul>\n<li>if the parameter is a positive integer <code>n</code> (e.g. <code>%c{7}</code>), only <code>n</code> rightmost <strong>components</strong> of the logger name are printed,</li>\n<li>if the parameter is a negative integer <code>-n</code> (e.g. <code>%c{-7}</code>), then the leftmost <code>n</code> <strong>components</strong> are dropped,</li>\n<li>if the parameter is of the form <code>1.n*</code>, the <code>n</code> rightmost <strong>components</strong> are written in full, while the remaining ones are abbreviated to one letter,</li>\n<li>for any other pattern the numbers indicate how many <strong>letters</strong> to print from each component: e.g. <code>1.4~.7</code> means 1 letter from the first component followed by a dot <code>.</code> followed by 4 letters from the second component (followed by <code>~</code> if the name was abbreviated) and a dot <code>.</code>. The remaining components are abbreviated to 7 letters with a dot <code>.</code>. The last component is written down entirely.</li>\n</ul>\n"}],"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76410279,"answer_count":1,"score":1,"last_activity_date":1686044767,"creation_date":1685985082,"question_id":76408638,"body_markdown":"My logger names follow the convention: `project.class`\r\n\r\nI want to ensure that, in logs, all prefixes except the last 2 are abbreviated to one letter each and the last 2 are printed in full. So I have full names for my loggers AND abbreviated names for other loggers E.g.:\r\n* `project.class` is printed as `project.class`\r\n* `org.apache.spark.util.Utils` is printed as `o.a.s.util.Utils`\r\n\r\n----\r\nAccording to [documentation][1] (as I interpret it) `%c{1.2.*}` is the right pattern for me.\r\n\r\nBut when I set pattern to:\r\n`%c    %c{1}    %c{2}    %c{1.2.*}    %c{1.3.*}    %c{1.*.*}    %c{2.*.*}%n`\r\n```py\r\n&gt;&gt;&gt; l = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger(&#39;project.class&#39;)\r\n&gt;&gt;&gt; o = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger(&#39;org.apache.spark.util.Utils&#39;)\r\n&gt;&gt;&gt; l.info(&#39;&#39;); o.info(&#39;&#39;)\r\nproject.class    class    project.class    p.class    p.class    p.class    pr.class\r\norg.apache.spark.util.Utils    Utils    util.Utils    o.ap.spark.util.Utils    o.apa.spark.util.Utils    o.apache.spark.util.Utils    or.apache.spark.util.Utils\r\n&gt;&gt;&gt;\r\n```\r\n\r\nWhat I want is for it to print: `project.class` and `o.a.s.util.Utils` instead.\r\n\r\n----\r\n\r\nThe description in [official documentation][1] seems VERY confusing:\r\n\r\n&gt; **c{precision}**\r\n&gt;\r\n&gt; **logger{precision}**\r\n&gt;\r\n&gt; *Outputs the name of the logger that published the logging event. The logger conversion specifier can be optionally followed by precision specifier, which consists of a decimal integer, or a pattern starting with a decimal integer.*\r\n&gt;\r\n&gt; *When the precision specifier is an integer value, it reduces the size of the logger name. If the number is positive, the layout prints the corresponding number of rightmost logger name components. If negative, the layout removes the corresponding number of leftmost logger name components. If the precision contains periods then the number before the first period identifies the length to be printed from items that precede tokens in the rest of the pattern. If the number after the first period is followed by an asterisk it indicates how many of the rightmost tokens will be printed in full. See the table below for abbreviation examples.*\r\n&gt;\r\n&gt; *If the precision contains any non-integer characters, then the layout abbreviates the name based on the pattern. If the precision integer is less than one, the layout still prints the right-most token in full. By default, the layout prints the logger name in full.*\r\n\r\n|Conversion Pattern|Logger Name|Result|\r\n|------------------|-----------|------|\r\n|%c{1}|org.apache.commons.Foo|Foo|\r\n|%c{2}|org.apache.commons.Foo|commons.Foo|\r\n|%c{10}|org.apache.commons.Foo|org.apache.commons.Foo|\r\n|%c{-1}|org.apache.commons.Foo|apache.commons.Foo|\r\n|%c{-2}|org.apache.commons.Foo|commons.Foo|\r\n|%c{-10}|org.apache.commons.Foo|org.apache.commons.Foo|\r\n|%c{1.}|org.apache.commons.Foo|o.a.c.Foo|\r\n|%c{1.1.~.~}|org.apache.commons.test.Foo|o.a.~.~.Foo|\r\n|%c{.}|org.apache.commons.test.Foo|....Foo|\r\n|%c{1.1.1.*}|org.apache.commons.test.Foo|o.a.c.test.Foo|\r\n|%c{1.2.*}|org.apache.commons.test.Foo|o.a.c.test.Foo|\r\n|%c{1.3.*}|org.apache.commons.test.Foo|o.a.commons.test.Foo|\r\n|%c{1.8.*}|org.apache.commons.test.Foo|org.apache.commons.test.Foo|\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html#patterns","title":"log4j2 How to control logger name using %c{precision} OR logger{precision}","body":"<p>My logger names follow the convention: <code>project.class</code></p>\n<p>I want to ensure that, in logs, all prefixes except the last 2 are abbreviated to one letter each and the last 2 are printed in full. So I have full names for my loggers AND abbreviated names for other loggers E.g.:</p>\n<ul>\n<li><code>project.class</code> is printed as <code>project.class</code></li>\n<li><code>org.apache.spark.util.Utils</code> is printed as <code>o.a.s.util.Utils</code></li>\n</ul>\n<hr />\n<p>According to <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#patterns\" rel=\"nofollow noreferrer\">documentation</a> (as I interpret it) <code>%c{1.2.*}</code> is the right pattern for me.</p>\n<p>But when I set pattern to:\n<code>%c    %c{1}    %c{2}    %c{1.2.*}    %c{1.3.*}    %c{1.*.*}    %c{2.*.*}%n</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; l = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger('project.class')\n&gt;&gt;&gt; o = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger('org.apache.spark.util.Utils')\n&gt;&gt;&gt; l.info(''); o.info('')\nproject.class    class    project.class    p.class    p.class    p.class    pr.class\norg.apache.spark.util.Utils    Utils    util.Utils    o.ap.spark.util.Utils    o.apa.spark.util.Utils    o.apache.spark.util.Utils    or.apache.spark.util.Utils\n&gt;&gt;&gt;\n</code></pre>\n<p>What I want is for it to print: <code>project.class</code> and <code>o.a.s.util.Utils</code> instead.</p>\n<hr />\n<p>The description in <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#patterns\" rel=\"nofollow noreferrer\">official documentation</a> seems VERY confusing:</p>\n<blockquote>\n<p><strong>c{precision}</strong></p>\n<p><strong>logger{precision}</strong></p>\n<p><em>Outputs the name of the logger that published the logging event. The logger conversion specifier can be optionally followed by precision specifier, which consists of a decimal integer, or a pattern starting with a decimal integer.</em></p>\n<p><em>When the precision specifier is an integer value, it reduces the size of the logger name. If the number is positive, the layout prints the corresponding number of rightmost logger name components. If negative, the layout removes the corresponding number of leftmost logger name components. If the precision contains periods then the number before the first period identifies the length to be printed from items that precede tokens in the rest of the pattern. If the number after the first period is followed by an asterisk it indicates how many of the rightmost tokens will be printed in full. See the table below for abbreviation examples.</em></p>\n<p><em>If the precision contains any non-integer characters, then the layout abbreviates the name based on the pattern. If the precision integer is less than one, the layout still prints the right-most token in full. By default, the layout prints the logger name in full.</em></p>\n</blockquote>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Conversion Pattern</th>\n<th>Logger Name</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>%c{1}</td>\n<td>org.apache.commons.Foo</td>\n<td>Foo</td>\n</tr>\n<tr>\n<td>%c{2}</td>\n<td>org.apache.commons.Foo</td>\n<td>commons.Foo</td>\n</tr>\n<tr>\n<td>%c{10}</td>\n<td>org.apache.commons.Foo</td>\n<td>org.apache.commons.Foo</td>\n</tr>\n<tr>\n<td>%c{-1}</td>\n<td>org.apache.commons.Foo</td>\n<td>apache.commons.Foo</td>\n</tr>\n<tr>\n<td>%c{-2}</td>\n<td>org.apache.commons.Foo</td>\n<td>commons.Foo</td>\n</tr>\n<tr>\n<td>%c{-10}</td>\n<td>org.apache.commons.Foo</td>\n<td>org.apache.commons.Foo</td>\n</tr>\n<tr>\n<td>%c{1.}</td>\n<td>org.apache.commons.Foo</td>\n<td>o.a.c.Foo</td>\n</tr>\n<tr>\n<td>%c{1.1.~.~}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>o.a.~.~.Foo</td>\n</tr>\n<tr>\n<td>%c{.}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>....Foo</td>\n</tr>\n<tr>\n<td>%c{1.1.1.*}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>o.a.c.test.Foo</td>\n</tr>\n<tr>\n<td>%c{1.2.*}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>o.a.c.test.Foo</td>\n</tr>\n<tr>\n<td>%c{1.3.*}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>o.a.commons.test.Foo</td>\n</tr>\n<tr>\n<td>%c{1.8.*}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>org.apache.commons.test.Foo</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","spring-boot","spring-webflux","reactive-programming","netty"],"comments":[{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1686085186,"post_id":76413320,"comment_id":134750416,"body_markdown":"1) There are no proofs &quot;web client time-outs before even making request&quot;. 2) There are no proofs you&#39;ve set read timeout as 2000ms. It is method param which comes somewhere from another place","body":"1) There are no proofs &quot;web client time-outs before even making request&quot;. 2) There are no proofs you&#39;ve set read timeout as 2000ms. It is method param which comes somewhere from another place"},{"owner":{"account_id":13176212,"reputation":535,"user_id":11637718,"display_name":"potatoxchip"},"score":0,"creation_date":1686119486,"post_id":76413320,"comment_id":134753553,"body_markdown":"1) I&#39;ve cross-checked the server and client request logs of both the services(downstream and the service making the API calls). The API calls which are getting timed-out are mostly the cases where the downstream didn&#39;t even get the API call. It is evident from the screenshot of the trace attached as well. The first green line shows the http.request from my reactive service, but there is no span of the request received in the downstream service.\n2) I&#39;ve added the method using which I&#39;m creating the webclient. There I pass the timeouts as 2000ms.","body":"1) I&#39;ve cross-checked the server and client request logs of both the services(downstream and the service making the API calls). The API calls which are getting timed-out are mostly the cases where the downstream didn&#39;t even get the API call. It is evident from the screenshot of the trace attached as well. The first green line shows the http.request from my reactive service, but there is no span of the request received in the downstream service. 2) I&#39;ve added the method using which I&#39;m creating the webclient. There I pass the timeouts as 2000ms."}],"owner":{"account_id":13176212,"reputation":535,"user_id":11637718,"display_name":"potatoxchip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686044441,"creation_date":1686044441,"question_id":76413320,"body_markdown":"My application is a reactive spring boot application, and I am using WebClient to make API calls to downstream services. My downstream service&#39;s p99 is 20ms. The timeout I&#39;ve set to the web client is 2000ms. To my surprise, this doesn&#39;t seem enough for web client to make the request? I checked my APM only to see a lot of API calls reported as read timeouts.\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\r\n```\r\n[![See the image attached for the span reported by APM][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CnxRh.png\r\n\r\nI have initialized the webclient using this:\r\n```java\r\nprivate WebClient getWebClient(String baseUrl, int readTimeOut, int responseTimeOut) {\r\n        ConnectionProvider provider = ConnectionProvider.builder(&quot;fixed&quot;)\r\n                .maxConnections(1000)\r\n                .maxIdleTime(Duration.ofSeconds(20))\r\n                .maxLifeTime(Duration.ofSeconds(60))\r\n                .pendingAcquireTimeout(Duration.ofSeconds(60))\r\n                .evictInBackground(Duration.ofSeconds(120))\r\n                .metrics(true)\r\n                .build();\r\n\r\n        EventLoopGroup eventLoopGroup = new NioEventLoopGroup(4);\r\n\r\n        HttpClient httpClient = HttpClient.create(provider)\r\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 2000)\r\n                .responseTimeout(Duration.ofMillis(responseTimeOut))\r\n                .runOn(eventLoopGroup)\r\n                .doOnConnected(conn -&gt;\r\n                        conn.addHandlerLast(new ReadTimeoutHandler(readTimeOut, TimeUnit.MILLISECONDS))\r\n                                .addHandlerLast(new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS)));\r\n\r\n        return WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                .filters(exchangeFilterFunctions -&gt; {\r\n                    exchangeFilterFunctions.add(logRequest());\r\n                    exchangeFilterFunctions.add(logResponse());\r\n                })\r\n                .baseUrl(baseUrl)\r\n                .build();\r\n    }\r\n```\r\n\r\nOne thing to note here is that the application has pretty high throughput, and every API call to this service, results in n number of API calls to the downstream. I have also checked the CPU usage in the machine and it looks normal (~10-30%)","title":"Reactor netty web client times-out before even making the API call","body":"<p>My application is a reactive spring boot application, and I am using WebClient to make API calls to downstream services. My downstream service's p99 is 20ms. The timeout I've set to the web client is 2000ms. To my surprise, this doesn't seem enough for web client to make the request? I checked my APM only to see a lot of API calls reported as read timeouts.</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CnxRh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnxRh.png\" alt=\"See the image attached for the span reported by APM\" /></a></p>\n<p>I have initialized the webclient using this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebClient getWebClient(String baseUrl, int readTimeOut, int responseTimeOut) {\n        ConnectionProvider provider = ConnectionProvider.builder(&quot;fixed&quot;)\n                .maxConnections(1000)\n                .maxIdleTime(Duration.ofSeconds(20))\n                .maxLifeTime(Duration.ofSeconds(60))\n                .pendingAcquireTimeout(Duration.ofSeconds(60))\n                .evictInBackground(Duration.ofSeconds(120))\n                .metrics(true)\n                .build();\n\n        EventLoopGroup eventLoopGroup = new NioEventLoopGroup(4);\n\n        HttpClient httpClient = HttpClient.create(provider)\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 2000)\n                .responseTimeout(Duration.ofMillis(responseTimeOut))\n                .runOn(eventLoopGroup)\n                .doOnConnected(conn -&gt;\n                        conn.addHandlerLast(new ReadTimeoutHandler(readTimeOut, TimeUnit.MILLISECONDS))\n                                .addHandlerLast(new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS)));\n\n        return WebClient.builder()\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\n                .filters(exchangeFilterFunctions -&gt; {\n                    exchangeFilterFunctions.add(logRequest());\n                    exchangeFilterFunctions.add(logResponse());\n                })\n                .baseUrl(baseUrl)\n                .build();\n    }\n</code></pre>\n<p>One thing to note here is that the application has pretty high throughput, and every API call to this service, results in n number of API calls to the downstream. I have also checked the CPU usage in the machine and it looks normal (~10-30%)</p>\n"},{"tags":["java","scroll","smooth-scrolling","scroller"],"owner":{"account_id":26535061,"reputation":1,"user_id":20166710,"display_name":"stupid Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686043894,"creation_date":1686043375,"question_id":76413182,"body_markdown":"I use this [code](https://stackoverflow.com/questions/8970927/marquee-set-speed/8971920#8971920) snippet to make the text scroll from right to left.\r\nBut I want it to have smoother motion, it can move like this??\r\n\r\n[![\\[enter image description here\\]()][1]][1]\r\n\r\nI have tried continuously checking the scroll position coordinates to make two TextViews run alternately with each other, but it consumes a lot of resources and the two TextViews overlap during scrolling.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r7tCb.jpg","title":"Smooth scrolling effect from right to left","body":"<p>I use this <a href=\"https://stackoverflow.com/questions/8970927/marquee-set-speed/8971920#8971920\">code</a> snippet to make the text scroll from right to left.\nBut I want it to have smoother motion, it can move like this??</p>\n<p><a href=\"https://i.stack.imgur.com/r7tCb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r7tCb.jpg\" alt=\"[enter image description here]()\" /></a></p>\n<p>I have tried continuously checking the scroll position coordinates to make two TextViews run alternately with each other, but it consumes a lot of resources and the two TextViews overlap during scrolling.</p>\n"},{"tags":["java","android","qr-code"],"answers":[{"tags":[],"owner":{"account_id":6901138,"reputation":61,"user_id":5300726,"display_name":"Hossam Waziry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686043496,"creation_date":1686043496,"answer_id":76413203,"question_id":76413035,"body_markdown":"It looks like you haven&#39;t added zxing dependencies, try adding these in your gradle file:\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n       \r\n        implementation &#39;com.google.zxing:core:3.3.0&#39;\r\n    }\r\n\r\nif it doesn&#39;t work, try this library:\r\n\r\nhttps://github.com/journeyapps/zxing-android-embedded","title":"How Can I solve the errors shown in my code","body":"<p>It looks like you haven't added zxing dependencies, try adding these in your gradle file:</p>\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ndependencies {\n   \n    implementation 'com.google.zxing:core:3.3.0'\n}\n</code></pre>\n<p>if it doesn't work, try this library:</p>\n<p><a href=\"https://github.com/journeyapps/zxing-android-embedded\" rel=\"nofollow noreferrer\">https://github.com/journeyapps/zxing-android-embedded</a></p>\n"}],"owner":{"account_id":28763273,"reputation":1,"user_id":22028710,"display_name":"Kevin Nyongesa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1686043496,"creation_date":1686042334,"question_id":76413035,"body_markdown":"The Errors Shown include the following:\r\nCannot resolve symbol &#39;me&#39; in line 17\r\nCannot resolve symbol &#39;ZXingScannerView&#39; in line 19\r\nCannot resolve method &#39;setContentView(ZXingScannerView)&#39; in line 40\r\nCannot resolve method &#39;setResultHandler(ScanQRActivity)&#39;\r\nMethod does not override method from its superclass in line 45\r\nOverriding method should call `super.onRequestPermissionsResult` in line 66\r\nCannot resolve method &#39;startCamera()&#39; in line 42\r\n\r\n    package com.gretsa.studentattendance;\r\n\r\n    import android.Manifest;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n\r\n    import com.google.zxing.Result;\r\n\r\n    import me.dm7.barcodescanner.zxing.ZXingScannerView;\r\n\r\n    public class ScanQRActivity extends AppCompatActivity implements ZXingScannerView.ResultHandler {\r\n\r\n    private static final int CAMERA_PERMISSION_REQUEST_CODE = 200;\r\n    private static final int SCAN_QR_REQUEST_CODE = 201;\r\n\r\n    private ZXingScannerView scannerView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scanqr);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n            startQRScanner();\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_REQUEST_CODE);\r\n        }\r\n    }\r\n\r\n    private void startQRScanner() {\r\n        scannerView = new ZXingScannerView(this);\r\n        setContentView(scannerView);\r\n        scannerView.setResultHandler(this);\r\n        scannerView.startCamera();\r\n    }\r\n\r\n    @Override\r\n    public void handleResult(Result result) {\r\n        String qrCodeData = result.getText();\r\n        Toast.makeText(this, &quot;Scanned: &quot; + qrCodeData, Toast.LENGTH_SHORT).show();\r\n\r\n        // Pass the scanned QR code data back to the calling activity\r\n        Intent intent = new Intent();\r\n        intent.putExtra(&quot;qr_code_data&quot;, qrCodeData);\r\n        setResult(RESULT_OK, intent);\r\n        finish();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        if (scannerView != null) {\r\n            scannerView.stopCamera();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == CAMERA_PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                startQRScanner();\r\n            } else {\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nTried analysing the problem but that didnt help","title":"How Can I solve the errors shown in my code","body":"<p>The Errors Shown include the following:\nCannot resolve symbol 'me' in line 17\nCannot resolve symbol 'ZXingScannerView' in line 19\nCannot resolve method 'setContentView(ZXingScannerView)' in line 40\nCannot resolve method 'setResultHandler(ScanQRActivity)'\nMethod does not override method from its superclass in line 45\nOverriding method should call <code>super.onRequestPermissionsResult</code> in line 66\nCannot resolve method 'startCamera()' in line 42</p>\n<pre><code>package com.gretsa.studentattendance;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport com.google.zxing.Result;\n\nimport me.dm7.barcodescanner.zxing.ZXingScannerView;\n\npublic class ScanQRActivity extends AppCompatActivity implements ZXingScannerView.ResultHandler {\n\nprivate static final int CAMERA_PERMISSION_REQUEST_CODE = 200;\nprivate static final int SCAN_QR_REQUEST_CODE = 201;\n\nprivate ZXingScannerView scannerView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_scanqr);\n\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n        startQRScanner();\n    } else {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_REQUEST_CODE);\n    }\n}\n\nprivate void startQRScanner() {\n    scannerView = new ZXingScannerView(this);\n    setContentView(scannerView);\n    scannerView.setResultHandler(this);\n    scannerView.startCamera();\n}\n\n@Override\npublic void handleResult(Result result) {\n    String qrCodeData = result.getText();\n    Toast.makeText(this, &quot;Scanned: &quot; + qrCodeData, Toast.LENGTH_SHORT).show();\n\n    // Pass the scanned QR code data back to the calling activity\n    Intent intent = new Intent();\n    intent.putExtra(&quot;qr_code_data&quot;, qrCodeData);\n    setResult(RESULT_OK, intent);\n    finish();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    if (scannerView != null) {\n        scannerView.stopCamera();\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    if (requestCode == CAMERA_PERMISSION_REQUEST_CODE) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            startQRScanner();\n        } else {\n            Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n        }\n    }\n}\n}\n</code></pre>\n<p>Tried analysing the problem but that didnt help</p>\n"},{"tags":["java","android","xml","google-play","google-play-console"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1686045769,"post_id":76413067,"comment_id":134742195,"body_markdown":"What&#39;s the version code for both apks ?","body":"What&#39;s the version code for both apks ?"},{"owner":{"account_id":8395653,"reputation":29,"user_id":6302844,"accept_rate":100,"display_name":"Singh vivek Pratap"},"score":0,"creation_date":1686046545,"post_id":76413067,"comment_id":134742339,"body_markdown":"@Nitish Phone :- 14600 and tablet :- 14700","body":"@Nitish Phone :- 14600 and tablet :- 14700"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1686046795,"post_id":76413067,"comment_id":134742404,"body_markdown":"`When two APKs do overlap (they support some of the same device configurations), a device that falls within that overlap range will receive the APK with a higher version code (defined by android:versionCode).`  - [Multiple-apks support](https://developer.android.com/google/play/publishing/multiple-apks), I&#39;m not 100% sure, but this could be one of the reason for tablet apk being download in Samsung Device.","body":"<code>When two APKs do overlap (they support some of the same device configurations), a device that falls within that overlap range will receive the APK with a higher version code (defined by android:versionCode).</code>  - <a href=\"https://developer.android.com/google/play/publishing/multiple-apks\" rel=\"nofollow noreferrer\">Multiple-apks support</a>, I&#39;m not 100% sure, but this could be one of the reason for tablet apk being download in Samsung Device."},{"owner":{"account_id":8395653,"reputation":29,"user_id":6302844,"accept_rate":100,"display_name":"Singh vivek Pratap"},"score":0,"creation_date":1686057160,"post_id":76413067,"comment_id":134744537,"body_markdown":"Hi @Nitish If I am making a version code larger than a tablet for mobile then I am getting the error &#39;This APK will not be served to any users because it is completely shadowed by one or more APKs with higher version codes. Remove this APK from your release or review the targeting and version codes of the APKs that you are including in this release.&#39;","body":"Hi @Nitish If I am making a version code larger than a tablet for mobile then I am getting the error &#39;This APK will not be served to any users because it is completely shadowed by one or more APKs with higher version codes. Remove this APK from your release or review the targeting and version codes of the APKs that you are including in this release.&#39;"}],"owner":{"account_id":8395653,"reputation":29,"user_id":6302844,"accept_rate":100,"display_name":"Singh vivek Pratap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686042531,"creation_date":1686042531,"question_id":76413067,"body_markdown":"Currently, my app is having multiple apk support. When the user is trying to download app from the play store for high-end devices (samsung s21 ulta) Play Store is shipping tablet apk (build) to a mobile device.\r\nCan anyone please help me to identify what parameter I missed in the manifest file?\r\n\r\nCurrent filter parameters are used in the manifest file.\r\n\r\n 1. Phone manifest:- \r\n```\r\n&lt;?xml version=&quot;1.0&quot;    encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;&quot;&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.screen.portrait&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\r\n            android:value=&quot;true&quot; /&gt;\r\n        &lt;meta-data android:name=&quot;android.max_aspect&quot;\r\n            android:value=&quot;2.4&quot;/&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;&quot;\r\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:resizeableActivity=&quot;false&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:maxAspectRatio=&quot;2.4&quot;&gt;\r\n            &lt;!-- API &gt;= 13, screenSize must be specified with orientation --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.provider.Settings.ACTION_ADD_ACCOUNT&quot; /&gt;\r\n                &lt;action android:name=&quot;&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;&quot;\r\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;supports-screens\r\n        android:smallScreens=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:largeScreens=&quot;false&quot;\r\n        android:xlargeScreens=&quot;false&quot;\r\n        android:anyDensity=&quot;true&quot;\r\n        android:requiresSmallestWidthDp=&quot;320&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\n 2. Tablet Manifeast\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;\tencoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\t  package=&quot;&quot;&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.screen.landscape&quot; /&gt;\r\n  &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\r\n\r\n    &lt;meta-data\r\n        android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\r\n        android:value=&quot;true&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;android.max_aspect&quot;\r\n        android:value=&quot;1.7&quot;/&gt;\r\n    &lt;activity android:name=&quot;&quot; android:launchMode=&quot;singleTask&quot;\r\n       android:screenOrientation=&quot;landscape&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\r\n        android:resizeableActivity=&quot;false&quot; android:exported=&quot;true&quot;\r\n        android:maxAspectRatio=&quot;1.7&quot;&gt;\r\n      &lt;!-- API &gt;= 13, screenSize must be specified with orientation --&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.provider.Settings.ACTION_ADD_ACCOUNT&quot;/&gt;\r\n        &lt;action android:name=&quot;&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n\t  \r\n\t  &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;activity android:name=&quot;&quot;\r\n       android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;\r\n       android:screenOrientation=&quot;landscape&quot;\r\n       android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;/&gt;\r\n\r\n  &lt;/application&gt;\r\n\r\n  &lt;supports-screens\r\n      android:smallScreens=&quot;false&quot;\r\n      android:normalScreens=&quot;false&quot;\r\n      android:largeScreens=&quot;true&quot;\r\n      android:xlargeScreens=&quot;true&quot;\r\n      android:anyDensity=&quot;true&quot;\r\n      android:requiresSmallestWidthDp=&quot;600&quot; /&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n 3. Common Manifeast\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;    encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;&quot;\r\n    android:installLocation=&quot;auto&quot;&gt;\r\n\r\n    &lt;uses-feature android:glEsVersion=&quot;&quot; /&gt;\r\n\r\n    &lt;queries&gt;\r\n       \r\n    &lt;/queries&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requiredAccountType=&quot;com.google&quot;\r\n        android:resizeableActivity=&quot;false&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:theme=&quot;@style/AppCompatTheme&quot;&gt;\r\n \r\n\r\n        &lt;activity\r\n            android:name=&quot;&quot;\r\n            android:label=&quot;sdk&quot; /&gt;\r\n\r\n        &lt;!-- google play service for google ads--&gt;\r\n        &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n        &lt;meta-data android:name=&quot;com.google.android.gms.games.APP_ID&quot; android:value=&quot;@string/app_id&quot;/&gt;\r\n        &lt;meta-data android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot; android:value=&quot;&quot;/&gt;\r\n\r\n      &lt;!-- Has Offers --&gt;\r\n        &lt;receiver\r\n            android:name=&quot;com.mobileapptracker.Tracker&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.android.vending.INSTALL_REFERRER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n    &lt;uses-configuration android:reqTouchScreen=&quot;finger&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; android:maxSdkVersion=&quot;25&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; tools:node=&quot;remove&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; tools:node=&quot;remove&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_ACCOUNTS&quot; /&gt;\r\n\r\n    &lt;!-- Required permission to use in-app billing. --&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.CHECK_LICENSE&quot; /&gt;\r\n    &lt;!--&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot; /&gt;\r\n    &lt;!-- Cloud to Device Messaging permissions --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n&lt;/manifest&gt;\r\n```\r\n","title":"With multiple apk support tablet apk is downloading from play store in high end samsung mobile device (Samsung s21 ultra)","body":"<p>Currently, my app is having multiple apk support. When the user is trying to download app from the play store for high-end devices (samsung s21 ulta) Play Store is shipping tablet apk (build) to a mobile device.\nCan anyone please help me to identify what parameter I missed in the manifest file?</p>\n<p>Current filter parameters are used in the manifest file.</p>\n<ol>\n<li>Phone manifest:-</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot;    encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;&quot;&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.screen.portrait&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\n            android:value=&quot;true&quot; /&gt;\n        &lt;meta-data android:name=&quot;android.max_aspect&quot;\n            android:value=&quot;2.4&quot;/&gt;\n\n        &lt;activity\n            android:name=&quot;&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:resizeableActivity=&quot;false&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:maxAspectRatio=&quot;2.4&quot;&gt;\n            &lt;!-- API &gt;= 13, screenSize must be specified with orientation --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.provider.Settings.ACTION_ADD_ACCOUNT&quot; /&gt;\n                &lt;action android:name=&quot;&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot; /&gt;\n    &lt;/application&gt;\n\n    &lt;supports-screens\n        android:smallScreens=&quot;true&quot;\n        android:normalScreens=&quot;true&quot;\n        android:largeScreens=&quot;false&quot;\n        android:xlargeScreens=&quot;false&quot;\n        android:anyDensity=&quot;true&quot;\n        android:requiresSmallestWidthDp=&quot;320&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Tablet Manifeast</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n      package=&quot;&quot;&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.screen.landscape&quot; /&gt;\n  &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\n\n    &lt;meta-data\n        android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\n        android:value=&quot;true&quot;/&gt;\n    &lt;meta-data android:name=&quot;android.max_aspect&quot;\n        android:value=&quot;1.7&quot;/&gt;\n    &lt;activity android:name=&quot;&quot; android:launchMode=&quot;singleTask&quot;\n       android:screenOrientation=&quot;landscape&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n        android:resizeableActivity=&quot;false&quot; android:exported=&quot;true&quot;\n        android:maxAspectRatio=&quot;1.7&quot;&gt;\n      &lt;!-- API &gt;= 13, screenSize must be specified with orientation --&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.provider.Settings.ACTION_ADD_ACCOUNT&quot;/&gt;\n        &lt;action android:name=&quot;&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n      &lt;/intent-filter&gt;\n      \n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=&quot;&quot;\n       android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;\n       android:screenOrientation=&quot;landscape&quot;\n       android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;/&gt;\n\n  &lt;/application&gt;\n\n  &lt;supports-screens\n      android:smallScreens=&quot;false&quot;\n      android:normalScreens=&quot;false&quot;\n      android:largeScreens=&quot;true&quot;\n      android:xlargeScreens=&quot;true&quot;\n      android:anyDensity=&quot;true&quot;\n      android:requiresSmallestWidthDp=&quot;600&quot; /&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Common Manifeast</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot;    encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;&quot;\n    android:installLocation=&quot;auto&quot;&gt;\n\n    &lt;uses-feature android:glEsVersion=&quot;&quot; /&gt;\n\n    &lt;queries&gt;\n       \n    &lt;/queries&gt;\n\n    &lt;application\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:requiredAccountType=&quot;com.google&quot;\n        android:resizeableActivity=&quot;false&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:theme=&quot;@style/AppCompatTheme&quot;&gt;\n \n\n        &lt;activity\n            android:name=&quot;&quot;\n            android:label=&quot;sdk&quot; /&gt;\n\n        &lt;!-- google play service for google ads--&gt;\n        &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt;\n        &lt;meta-data android:name=&quot;com.google.android.gms.games.APP_ID&quot; android:value=&quot;@string/app_id&quot;/&gt;\n        &lt;meta-data android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot; android:value=&quot;&quot;/&gt;\n\n      &lt;!-- Has Offers --&gt;\n        &lt;receiver\n            android:name=&quot;com.mobileapptracker.Tracker&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.android.vending.INSTALL_REFERRER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n    &lt;/application&gt;\n\n    &lt;uses-configuration android:reqTouchScreen=&quot;finger&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; android:maxSdkVersion=&quot;25&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; tools:node=&quot;remove&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; tools:node=&quot;remove&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_ACCOUNTS&quot; /&gt;\n\n    &lt;!-- Required permission to use in-app billing. --&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.CHECK_LICENSE&quot; /&gt;\n    &lt;!--&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot; /&gt;\n    &lt;!-- Cloud to Device Messaging permissions --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","driver","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686042364,"creation_date":1686042364,"answer_id":76413038,"question_id":76410811,"body_markdown":"There have been several threads relating to this issue on the Forge forums. (See [here](https://forums.minecraftforge.net/topic/114940-jvm-access-violation-exception-119/), [here](https://forums.minecraftforge.net/topic/117925-forge-1192-43147-crashing-on-startup-with-exit-code-1) and [here](https://forums.minecraftforge.net/topic/119038-1192-failed-to-run-example-mod-on-fresh-setup/)). You said you tried reinstalling your graphic drivers, but not updating them. I would try updating to the latest first. If that doesn&#39;t work, try downgrading as people in the aforementioned Forge threads have done and reported success.\r\n\r\n&gt;I tried Java 8 and Java 17.\r\n\r\nMinecraft 1.18+ requires Java 17+, so you don&#39;t need to test with Java 8.","title":"Errors outside JVM in file atio6axx.dll+0x193b60","body":"<p>There have been several threads relating to this issue on the Forge forums. (See <a href=\"https://forums.minecraftforge.net/topic/114940-jvm-access-violation-exception-119/\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://forums.minecraftforge.net/topic/117925-forge-1192-43147-crashing-on-startup-with-exit-code-1\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://forums.minecraftforge.net/topic/119038-1192-failed-to-run-example-mod-on-fresh-setup/\" rel=\"nofollow noreferrer\">here</a>). You said you tried reinstalling your graphic drivers, but not updating them. I would try updating to the latest first. If that doesn't work, try downgrading as people in the aforementioned Forge threads have done and reported success.</p>\n<blockquote>\n<p>I tried Java 8 and Java 17.</p>\n</blockquote>\n<p>Minecraft 1.18+ requires Java 17+, so you don't need to test with Java 8.</p>\n"}],"owner":{"account_id":14258314,"reputation":19,"user_id":11273207,"display_name":"TherrSpoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76413038,"answer_count":1,"score":0,"last_activity_date":1686042364,"creation_date":1686013123,"question_id":76410811,"body_markdown":"I am setting up a minecraft mod in IntelliJ in forge version 1.19.2-43.2.12. When I try to run the game from IntelliJ, I get the error message: \r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffb6cda2b60, pid=8868, tid=8924\r\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.7+7 (17.0.7+7) (build 17.0.7+7)\r\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (17.0.7+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [atio6axx.dll+0x192b60]\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/adoptium/adoptium-support/issues\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n```\r\natio6axx.dll is a driver file in Windows System32. I have reinstalled all graphic drivers and updated Windows 10 to its newest version. I use a Radeon RX 570, and I&#39;ve uninstalled AMD Adrenalin and AMD chipset. My IntelliJ is running on the newest 2023 Community version.\r\nI tried Java 8 and Java 17.","title":"Errors outside JVM in file atio6axx.dll+0x193b60","body":"<p>I am setting up a minecraft mod in IntelliJ in forge version 1.19.2-43.2.12. When I try to run the game from IntelliJ, I get the error message:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffb6cda2b60, pid=8868, tid=8924\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.7+7 (17.0.7+7) (build 17.0.7+7)\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (17.0.7+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [atio6axx.dll+0x192b60]\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n# If you would like to submit a bug report, please visit:\n#   https://github.com/adoptium/adoptium-support/issues\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n</code></pre>\n<p>atio6axx.dll is a driver file in Windows System32. I have reinstalled all graphic drivers and updated Windows 10 to its newest version. I use a Radeon RX 570, and I've uninstalled AMD Adrenalin and AMD chipset. My IntelliJ is running on the newest 2023 Community version.\nI tried Java 8 and Java 17.</p>\n"},{"tags":["javascript","java","android","cross-browser","android-webview"],"comments":[{"owner":{"account_id":4690554,"reputation":1470,"user_id":3796784,"accept_rate":67,"display_name":"Umesh Chauhan"},"score":0,"creation_date":1487848219,"post_id":42413894,"comment_id":71973515,"body_markdown":"By following this answer http://stackoverflow.com/a/24977839/3796784 you can achieve what you want.","body":"By following this answer <a href=\"http://stackoverflow.com/a/24977839/3796784\">stackoverflow.com/a/24977839/3796784</a> you can achieve what you want."},{"owner":{"display_name":"user4570857"},"score":0,"creation_date":1487848503,"post_id":42413894,"comment_id":71973727,"body_markdown":"@UmeshChauhan, this solution is works for only specific website. But here User will enter any website, consider he will enter http://www.amazon.in/. Then how can I achieve? Your solution is work for me if I know the id of specific input type.","body":"@UmeshChauhan, this solution is works for only specific website. But here User will enter any website, consider he will enter <a href=\"http://www.amazon.in/\" rel=\"nofollow noreferrer\">amazon.in</a>. Then how can I achieve? Your solution is work for me if I know the id of specific input type."},{"owner":{"account_id":4690554,"reputation":1470,"user_id":3796784,"accept_rate":67,"display_name":"Umesh Chauhan"},"score":0,"creation_date":1487854037,"post_id":42413894,"comment_id":71977589,"body_markdown":"I think it is bit difficult to make a generic solution as there is no standard for ids. Um.. may be you can look for text field and there type (text/password) and build a logic around it, but it is not a concrete solution to problem.","body":"I think it is bit difficult to make a generic solution as there is no standard for ids. Um.. may be you can look for text field and there type (text/password) and build a logic around it, but it is not a concrete solution to problem."}],"answers":[{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686042347,"creation_date":1686042347,"answer_id":76413036,"question_id":42413894,"body_markdown":"\r\nTo automatically click a search button in an Android WebView, you can inject JavaScript code after the page has finished loading. First, you need to know the ID or the class of the button in the web page&#39;s HTML source. For example, if the button has the ID next_button, you can use the following code:\r\n\r\n    WebView webView = findViewById(R.id.webview);\r\n    webView.getSettings().setJavaScriptEnabled(true);\r\n    webView.loadUrl(&quot;https://example.com&quot;);\r\n    \r\n    String js = &quot;javascript:(function() { &quot; +\r\n            &quot;document.getElementById(&#39;next_button&#39;).click();&quot; +\r\n            &quot;})()&quot;;\r\n    \r\n    webView.setWebViewClient(new WebViewClient() {\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n            view.loadUrl(js);\r\n        }\r\n    });\r\n\r\nIf the button has a class instead of an ID, you can modify the JavaScript code accordingly. For example, if the button has the class search_button, you can use this code:\r\n\r\n    String js = &quot;javascript:(function() { &quot; +\r\n            &quot;document.getElementsByClassName(&#39;next_button&#39;)[0].click();&quot; +\r\n            &quot;})()&quot;;\r\n\r\nThis code assumes that the search button is the first element with the specified class. **Adjust the index [0]** if the button is not the first element with that class\r\n\r\n\r\n","title":"How to autofill data inside webview?","body":"<p>To automatically click a search button in an Android WebView, you can inject JavaScript code after the page has finished loading. First, you need to know the ID or the class of the button in the web page's HTML source. For example, if the button has the ID next_button, you can use the following code:</p>\n<pre><code>WebView webView = findViewById(R.id.webview);\nwebView.getSettings().setJavaScriptEnabled(true);\nwebView.loadUrl(&quot;https://example.com&quot;);\n\nString js = &quot;javascript:(function() { &quot; +\n        &quot;document.getElementById('next_button').click();&quot; +\n        &quot;})()&quot;;\n\nwebView.setWebViewClient(new WebViewClient() {\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n        view.loadUrl(js);\n    }\n});\n</code></pre>\n<p>If the button has a class instead of an ID, you can modify the JavaScript code accordingly. For example, if the button has the class search_button, you can use this code:</p>\n<pre><code>String js = &quot;javascript:(function() { &quot; +\n        &quot;document.getElementsByClassName('next_button')[0].click();&quot; +\n        &quot;})()&quot;;\n</code></pre>\n<p>This code assumes that the search button is the first element with the specified class. <strong>Adjust the index [0]</strong> if the button is not the first element with that class</p>\n"}],"owner":{"display_name":"user4570857"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686042347,"creation_date":1487847763,"question_id":42413894,"body_markdown":"I am stucked in one functionality. I am storing login credentials in my app for website. And there is one LOGIN button is there. When I hit that button, it will redirect to webview with  website. And if there is any email and password, my login credentials will be filled there.\r\n\r\nExample: I have stored facebook credentials in my app. And my webview is loading with https://m.facebook.com and when it will finish loading my stored login credentials will be filled there. So I just need to hit login button from webview to move forward.\r\n\r\nFor my app I am using following code. Which is not working for most website. Can anyone help me how to figure out this issue? Or does anyone has better idea to achieve this kind of functionality?\r\n\r\n\r\n    wvAutofill.loadUrl(&quot;https://mobile.twitter.com/login&quot;);\r\n    wvAutofill.setWebViewClient(new WebViewClient() {\r\n\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n\r\n            final String js = &quot;javascript: var x = document.getElementsByTagName(\\&quot;form\\&quot;)[0].getElementsByTagName(&#39;input&#39;);&quot; +\r\n                    &quot;for (var i = 0; i &lt; x.length; i++) {&quot; +\r\n                    &quot;\\nconsole.log(x[i].type);&quot; +\r\n                    &quot;var type = x[i].type;&quot; +\r\n                    &quot;if (type==&#39;text&#39;){&quot; +\r\n                    &quot;x[i].value=\\&quot;abc@gmail.com\\&quot;;&quot; +\r\n                    &quot;};&quot; +\r\n                    &quot;if (type == &#39;password&#39;){\\n&quot; +\r\n                    &quot;x[i].value=\\&quot;abc123\\&quot;;&quot; +\r\n                    &quot;}; &quot; +\r\n                    &quot;if (type == &#39;button&#39; || type == &#39;submit&#39; ||  document.getElementsByTagName(\\&quot;button\\&quot;)[0].tagName == \\&quot;button\\&quot;){&quot; +\r\n                    &quot;x[i].click();&quot; +\r\n                    &quot;}; &quot; +\r\n                    &quot;}&quot;;\r\n\r\n            view.loadUrl(js);\r\n        }\r\n    });\r\n\r\n","title":"How to autofill data inside webview?","body":"<p>I am stucked in one functionality. I am storing login credentials in my app for website. And there is one LOGIN button is there. When I hit that button, it will redirect to webview with  website. And if there is any email and password, my login credentials will be filled there.</p>\n\n<p>Example: I have stored facebook credentials in my app. And my webview is loading with <a href=\"https://m.facebook.com\" rel=\"nofollow noreferrer\">https://m.facebook.com</a> and when it will finish loading my stored login credentials will be filled there. So I just need to hit login button from webview to move forward.</p>\n\n<p>For my app I am using following code. Which is not working for most website. Can anyone help me how to figure out this issue? Or does anyone has better idea to achieve this kind of functionality?</p>\n\n<pre><code>wvAutofill.loadUrl(\"https://mobile.twitter.com/login\");\nwvAutofill.setWebViewClient(new WebViewClient() {\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n        view.loadUrl(url);\n        return true;\n    }\n\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n\n        final String js = \"javascript: var x = document.getElementsByTagName(\\\"form\\\")[0].getElementsByTagName('input');\" +\n                \"for (var i = 0; i &lt; x.length; i++) {\" +\n                \"\\nconsole.log(x[i].type);\" +\n                \"var type = x[i].type;\" +\n                \"if (type=='text'){\" +\n                \"x[i].value=\\\"abc@gmail.com\\\";\" +\n                \"};\" +\n                \"if (type == 'password'){\\n\" +\n                \"x[i].value=\\\"abc123\\\";\" +\n                \"}; \" +\n                \"if (type == 'button' || type == 'submit' ||  document.getElementsByTagName(\\\"button\\\")[0].tagName == \\\"button\\\"){\" +\n                \"x[i].click();\" +\n                \"}; \" +\n                \"}\";\n\n        view.loadUrl(js);\n    }\n});\n</code></pre>\n"},{"tags":["java","azure","azure-vm-scale-set"],"comments":[{"owner":{"account_id":938155,"reputation":961,"user_id":966705,"display_name":"Gautam Sharma"},"score":0,"creation_date":1686043291,"post_id":76412834,"comment_id":134741608,"body_markdown":"you can troubleshoot with below .\n1. Are you able to access your applications url using public Ip address inside linux vm using curl command? \n2. is the default webserver page (http://abc.eastus.cloudapp.azure.com:42200) able to accessible outside the VM or inside windows VM?- \n3. check bout VM belongs to same subnet and same security rules applied?","body":"you can troubleshoot with below . 1. Are you able to access your applications url using public Ip address inside linux vm using curl command?  2. is the default webserver page (<a href=\"http://abc.eastus.cloudapp.azure.com:42200\" rel=\"nofollow noreferrer\">abc.eastus.cloudapp.azure.com:42200</a>) able to accessible outside the VM or inside windows VM?-  3. check bout VM belongs to same subnet and same security rules applied?"},{"owner":{"account_id":3868047,"reputation":59,"user_id":3204086,"display_name":"user3204086"},"score":0,"creation_date":1686045957,"post_id":76412834,"comment_id":134742225,"body_markdown":"@GautamSharma 1. I am unable to access curl abc.eastus.cloudapp.azure.com, getting connection refused :80, however port 80 is already open. 2. Unable to access the http://abc.eastus.cloudapp.azure.com:42200 outside or inside vm 3. Yes, vm belongs to same subnet with same security rules. --- application have a rest endpoint to be called as http://abc.eastus.cloudapp.azure.com:42200/rest/api/&lt;parameters&gt; which should receive get requests and perform actions. Any idea on how to make it work. If I deploy everything locally, it works without issues. But not sure why it is acting weird in cloud.","body":"@GautamSharma 1. I am unable to access curl abc.eastus.cloudapp.azure.com, getting connection refused :80, however port 80 is already open. 2. Unable to access the <a href=\"http://abc.eastus.cloudapp.azure.com:42200\" rel=\"nofollow noreferrer\">abc.eastus.cloudapp.azure.com:42200</a> outside or inside vm 3. Yes, vm belongs to same subnet with same security rules. --- application have a rest endpoint to be called as <a href=\"http://abc.eastus.cloudapp.azure.com:42200/rest/api/&lt;parameters\" rel=\"nofollow noreferrer\">abc.eastus.cloudapp.azure.com:42200/rest/api/&lt;parameters</a>&gt; which should receive get requests and perform actions. Any idea on how to make it work. If I deploy everything locally, it works without issues. But not sure why it is acting weird in cloud."},{"owner":{"account_id":3868047,"reputation":59,"user_id":3204086,"display_name":"user3204086"},"score":0,"creation_date":1686050972,"post_id":76412834,"comment_id":134743169,"body_markdown":"@GautamSharma I updated the endpoint url by using private ip of linux instead of public. When I access the url on browser I get Http Error 403:The IP address/hostname is not allowed. The same error is coming up in postman.","body":"@GautamSharma I updated the endpoint url by using private ip of linux instead of public. When I access the url on browser I get Http Error 403:The IP address/hostname is not allowed. The same error is coming up in postman."}],"owner":{"account_id":3868047,"reputation":59,"user_id":3204086,"display_name":"user3204086"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686042252,"creation_date":1686040627,"question_id":76412834,"body_markdown":"I have 2 Azure VMs (Windows, Linux) using same virtual network. Both are able to ping each other using the public ip.\r\n\r\nI deployed a java application having its own endpoint in Linux VM and I am using url as:\r\nhttp://abc.eastus.cloudapp.azure.com:42200/rest/&lt;process&gt;\r\n\r\nI am trying to send a GET request from Windows VM using Postman and getting below error\r\n\r\n[![Error Logged in Postman][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Rk7m.png\r\n\r\nI already added port number 42200 in inbound and outbound rules of network security groups.\r\nCan anybody let me know what could be the cause of this?\r\nI can provide more details if required.\r\nThanks in advance.","title":"GET request on endpoint hosted on Linux VM in Azure","body":"<p>I have 2 Azure VMs (Windows, Linux) using same virtual network. Both are able to ping each other using the public ip.</p>\n<p>I deployed a java application having its own endpoint in Linux VM and I am using url as:\n<a href=\"http://abc.eastus.cloudapp.azure.com:42200/rest/\" rel=\"nofollow noreferrer\">http://abc.eastus.cloudapp.azure.com:42200/rest/</a></p>\n<p>I am trying to send a GET request from Windows VM using Postman and getting below error</p>\n<p><a href=\"https://i.stack.imgur.com/1Rk7m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Rk7m.png\" alt=\"Error Logged in Postman\" /></a></p>\n<p>I already added port number 42200 in inbound and outbound rules of network security groups.\nCan anybody let me know what could be the cause of this?\nI can provide more details if required.\nThanks in advance.</p>\n"},{"tags":["java","html-parsing","apache-tika"],"owner":{"account_id":22073770,"reputation":25,"user_id":16334411,"display_name":"Eve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686042237,"creation_date":1686042237,"question_id":76413019,"body_markdown":"I use Tika FACADE: tika-core v1.25, tika-parsers v1.25.\r\n\r\nI need to redefine the Html Parser for full control over the html document processing process.\r\n\r\nTo do this, I created a CustomHtmlParser class and want to pass it for processing, but in such a way as not to change the processing for other files.\r\n\r\nNow CustomHtmlParser extends HtmlParser, \r\n\r\nFinding Files:\r\nCustomHtmlParser:\r\npackage com.mycompany.stackexp.CustomParsers;\r\n\r\nHtmlParser:\r\npackage org.apache.tika.parser.html;\r\n\r\nCode for processing any types:\r\n```\r\n    InputStream is = new BufferedInputStream(curFile.getInputStream())\r\n    AutoDetectParser parser = AutoDetectParser();\r\n    ParseContext pc = new ParseContext();\r\n    Metadata metadata = Metadata();\r\n    Tika tika = new Tika();\r\n\r\n    String mimeType = tika.detect(is); //определяем mimeType нашего документа\r\n    metadata.set(Metadata.CONTENT_TYPE, mimeType);//устанавливаем mimeType\r\n\r\n    CustomBodyContentHandler ch = new CustomBodyContentHandler(-1);\r\n    ch.setRoot(fileName); //Установить root\r\n\r\n    //init my htmlParser\r\n    init_customHtmlParser();\r\n\r\n    parser.parse(is, ch, metadata, pc); \r\n```\r\n\r\nUnder the word: does not work, it is assumed that when saving CustomHtmlParser in ParseContext, when processing an html document, there will be a transition to my parse method (inside the CustomHtmlParser class). But in fact, there is a transition to the standard parse method (inside the HTMLParser class).Or by some other method redirect the processing to my class\r\n\r\nTell me how you can make a parser and replace the already created parser. Or by some other method redirect the processing to my class. My goal: either replace HTMLParser with CustomHtmlParser or add a new class.\r\n\r\n\r\nI try to add my parser in pc (ParseContext):\r\n\r\n```\r\n//v1\r\npublic void init_customHtmlParser(){\r\n    //My new parser which extends HtmlParser\r\n    CustomHtmlParser customHtmlParser = new CustomHtmlParser();\r\n    pc.set(HtmlParser.class, customHtmlParser);\r\n}\r\n\r\n//v2\r\npublic void init_customHtmlParser(){\r\n    //My CustomHtmlParser save as HtmlParser\r\n    HtmlParser customHtmlParser = new CustomHtmlParser();\r\n    pc.set(HtmlParser.class, customHtmlParser);\r\n}\r\n```\r\n\r\nBut in the debugger I see that my class is not active.\r\nI see that each time the HTMLParser class is selected, not my CustomHtmlParser class.\r\n\r\nWhy did I decide that this could help me?\r\nI use customEmbeddedDocExtractor and I add it through this code:\r\n\r\n```\r\nif (pc.get(EmbeddedDocumentExtractor.class) == null) {\r\n    Parser p = pc.get(Parser.class);\r\n    if (p == null) {\r\n        pc.set(Parser.class, parser);\r\n    }\r\n\r\n    this.customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\r\n    customEmbeddedDocExtractor.saveCustomBodyContentHandler(ch);\r\n    customEmbeddedDocExtractor.setRoot(fileName);\r\n    pc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);\r\n}\r\n```\r\n\r\n- EmbeddedDocumentExtractor in package org.apache.tika.extractor;\r\n- customEmbeddedDocExtractor in package com.mycompany.stackexp;\r\n\r\nPublic CustomParsingEmbeddedDocumentExtractor extends ParsingEmbeddedDocumentExtractor.\r\n\r\nAnd when working with Custom Parsing Embedded Document Extractor, everything is added and works as expected.\r\n\r\n","title":"Cannot to add HtmlParser in ParseContex in TIKA","body":"<p>I use Tika FACADE: tika-core v1.25, tika-parsers v1.25.</p>\n<p>I need to redefine the Html Parser for full control over the html document processing process.</p>\n<p>To do this, I created a CustomHtmlParser class and want to pass it for processing, but in such a way as not to change the processing for other files.</p>\n<p>Now CustomHtmlParser extends HtmlParser,</p>\n<p>Finding Files:\nCustomHtmlParser:\npackage com.mycompany.stackexp.CustomParsers;</p>\n<p>HtmlParser:\npackage org.apache.tika.parser.html;</p>\n<p>Code for processing any types:</p>\n<pre><code>    InputStream is = new BufferedInputStream(curFile.getInputStream())\n    AutoDetectParser parser = AutoDetectParser();\n    ParseContext pc = new ParseContext();\n    Metadata metadata = Metadata();\n    Tika tika = new Tika();\n\n    String mimeType = tika.detect(is); //определяем mimeType нашего документа\n    metadata.set(Metadata.CONTENT_TYPE, mimeType);//устанавливаем mimeType\n\n    CustomBodyContentHandler ch = new CustomBodyContentHandler(-1);\n    ch.setRoot(fileName); //Установить root\n\n    //init my htmlParser\n    init_customHtmlParser();\n\n    parser.parse(is, ch, metadata, pc); \n</code></pre>\n<p>Under the word: does not work, it is assumed that when saving CustomHtmlParser in ParseContext, when processing an html document, there will be a transition to my parse method (inside the CustomHtmlParser class). But in fact, there is a transition to the standard parse method (inside the HTMLParser class).Or by some other method redirect the processing to my class</p>\n<p>Tell me how you can make a parser and replace the already created parser. Or by some other method redirect the processing to my class. My goal: either replace HTMLParser with CustomHtmlParser or add a new class.</p>\n<p>I try to add my parser in pc (ParseContext):</p>\n<pre><code>//v1\npublic void init_customHtmlParser(){\n    //My new parser which extends HtmlParser\n    CustomHtmlParser customHtmlParser = new CustomHtmlParser();\n    pc.set(HtmlParser.class, customHtmlParser);\n}\n\n//v2\npublic void init_customHtmlParser(){\n    //My CustomHtmlParser save as HtmlParser\n    HtmlParser customHtmlParser = new CustomHtmlParser();\n    pc.set(HtmlParser.class, customHtmlParser);\n}\n</code></pre>\n<p>But in the debugger I see that my class is not active.\nI see that each time the HTMLParser class is selected, not my CustomHtmlParser class.</p>\n<p>Why did I decide that this could help me?\nI use customEmbeddedDocExtractor and I add it through this code:</p>\n<pre><code>if (pc.get(EmbeddedDocumentExtractor.class) == null) {\n    Parser p = pc.get(Parser.class);\n    if (p == null) {\n        pc.set(Parser.class, parser);\n    }\n\n    this.customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\n    customEmbeddedDocExtractor.saveCustomBodyContentHandler(ch);\n    customEmbeddedDocExtractor.setRoot(fileName);\n    pc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);\n}\n</code></pre>\n<ul>\n<li>EmbeddedDocumentExtractor in package org.apache.tika.extractor;</li>\n<li>customEmbeddedDocExtractor in package com.mycompany.stackexp;</li>\n</ul>\n<p>Public CustomParsingEmbeddedDocumentExtractor extends ParsingEmbeddedDocumentExtractor.</p>\n<p>And when working with Custom Parsing Embedded Document Extractor, everything is added and works as expected.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":5476147,"reputation":1705,"user_id":5763564,"accept_rate":89,"display_name":"Marijn"},"score":1,"creation_date":1686043406,"post_id":76413008,"comment_id":134741629,"body_markdown":"Probably because this method is intended for transformations with a format of algorithm/mode/padding, like `getInstance(&quot;AES/CBC/PKCS5Padding&quot;)`. Because they have internal structure, these are more naturally described and parsed as a string instead of a long list of constants for each possible combination. The method also works if you just provide an algorithm name without a transformation, but that does not seem to be the main usecase. Of course you can always create your own constants to prevent typos.","body":"Probably because this method is intended for transformations with a format of algorithm/mode/padding, like <code>getInstance(&quot;AES&#47;CBC&#47;PKCS5Padding&quot;)</code>. Because they have internal structure, these are more naturally described and parsed as a string instead of a long list of constants for each possible combination. The method also works if you just provide an algorithm name without a transformation, but that does not seem to be the main usecase. Of course you can always create your own constants to prevent typos."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1686047419,"post_id":76413008,"comment_id":134742514,"body_markdown":"To answer your title rather than your question, there are constants for init opmode and unwrap keytype: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#field-detail","body":"To answer your title rather than your question, there are constants for init opmode and unwrap keytype: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#field-detail\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/&hellip;</a>"}],"owner":{"account_id":5382167,"reputation":334,"user_id":4287120,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686042158,"creation_date":1686042158,"question_id":76413008,"body_markdown":"I think a hardcoded String is error-prone, but I didnt found any Consants to set the algorithm for \r\n\r\n    Cipher.getInstance(...)\r\n\r\nAm I blind or is there nothing out there?","title":"Are there no constants for javax.crypto.Cipher in Java?","body":"<p>I think a hardcoded String is error-prone, but I didnt found any Consants to set the algorithm for</p>\n<pre><code>Cipher.getInstance(...)\n</code></pre>\n<p>Am I blind or is there nothing out there?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1000261,"reputation":2029,"user_id":1015289,"accept_rate":100,"display_name":"Wayne Phipps"},"score":0,"creation_date":1545961801,"post_id":53952118,"comment_id":94744195,"body_markdown":"Please check your applications manifest. It needs to include the SEND_SMS permission mentioned in the error","body":"Please check your applications manifest. It needs to include the SEND_SMS permission mentioned in the error"},{"owner":{"account_id":14868796,"reputation":39,"user_id":10736925,"display_name":"Coder32"},"score":0,"creation_date":1545962066,"post_id":53952118,"comment_id":94744243,"body_markdown":"I did that getting this error: java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS.","body":"I did that getting this error: java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS."},{"owner":{"account_id":7467256,"reputation":3473,"user_id":5676318,"display_name":"GianhTran"},"score":1,"creation_date":1545964042,"post_id":53952118,"comment_id":94744545,"body_markdown":"you should take a look into official document https://developer.android.com/training/permissions/requesting","body":"you should take a look into official document <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a>"}],"answers":[{"tags":[],"owner":{"account_id":14048539,"reputation":2521,"user_id":10148053,"display_name":"Daniel B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545954611,"creation_date":1545954611,"answer_id":53952128,"question_id":53952118,"body_markdown":"Add `&lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot;/&gt;` to your manifest xml file.\r\n\r\nThe error is generated because the app does not have the proper permissions to send an sms.","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>Add <code>&lt;uses-permission android:name=\"android.permission.SEND_SMS\"/&gt;</code> to your manifest xml file.</p>\n\n<p>The error is generated because the app does not have the proper permissions to send an sms.</p>\n"},{"tags":[],"owner":{"account_id":7586741,"reputation":364,"user_id":5755569,"display_name":"satyan_android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545972730,"creation_date":1545971339,"answer_id":53953691,"question_id":53952118,"body_markdown":"You must Use SMS intent or you need to send a declaration Form...\r\n**SMS, CALL LOG.. not allowed from 2019 Jan 9th.. Plesse Check this link android SMS Permissions**\r\n\r\n[Android SMS PErmissions][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53455680/automatically-read-otp-from-smses-in-later-versions-from-api-level-26-is-not-all","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>You must Use SMS intent or you need to send a declaration Form...\n<strong>SMS, CALL LOG.. not allowed from 2019 Jan 9th.. Plesse Check this link android SMS Permissions</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/53455680/automatically-read-otp-from-smses-in-later-versions-from-api-level-26-is-not-all\">Android SMS PErmissions</a></p>\n"},{"tags":[],"owner":{"account_id":14891413,"reputation":739,"user_id":10752944,"display_name":"Kartik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545992722,"creation_date":1545971605,"answer_id":53953712,"question_id":53952118,"body_markdown":"Try adding this code in onCreate method of your 1st activity and feel free to contact me again if any error persists.\r\nThis will check for SMS permission and will ask for it in case it hasn&#39;t been granted.\r\n\r\n    Here, &#39;this&#39; is the current activity\r\n\r\n    if ((ContextCompat.checkSelfPermission(this, Manifest.permission.READ_SMS) + \r\n        ContextCompat.checkSelfPermission(this, Manifest.permission.SEND_SMS))\r\n            != PackageManager.PERMISSION_GRANTED) {\r\n\r\n    // Permission is not granted\r\n    // Should we show an explanation?\r\n\r\n    if (ActivityCompat.shouldShowRequestPermissionRationale(this,&quot;Manifest.permission.READ_SMS&quot;) ||\r\n                ActivityCompat.shouldShowRequestPermissionRationale(this,&quot;Manifest.permission.READ_SMS&quot;)) {\r\n\r\n        // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n        // this thread waiting for the user&#39;s response! After the user\r\n        // sees the explanation, try again to request the permission.\r\n\r\n    } else {\r\n\r\n        // No explanation needed; request the permission\r\n        ActivityCompat.requestPermissions(this,\r\n                    new String[]{&quot;Manifest.permission.READ_SMS, Manifest.permission.SEND_SMS&quot;},\r\n                    REQUEST_CODE);\r\n\r\n         // REQUEST_CODE is an\r\n         // app-defined int constant. The callback method gets the\r\n         // result of the request.\r\n      }\r\n    }\r\n\r\n    else {\r\n            // Permission has already been granted\r\n    }","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>Try adding this code in onCreate method of your 1st activity and feel free to contact me again if any error persists.\nThis will check for SMS permission and will ask for it in case it hasn't been granted.</p>\n\n<pre><code>Here, 'this' is the current activity\n\nif ((ContextCompat.checkSelfPermission(this, Manifest.permission.READ_SMS) + \n    ContextCompat.checkSelfPermission(this, Manifest.permission.SEND_SMS))\n        != PackageManager.PERMISSION_GRANTED) {\n\n// Permission is not granted\n// Should we show an explanation?\n\nif (ActivityCompat.shouldShowRequestPermissionRationale(this,\"Manifest.permission.READ_SMS\") ||\n            ActivityCompat.shouldShowRequestPermissionRationale(this,\"Manifest.permission.READ_SMS\")) {\n\n    // Show an explanation to the user *asynchronously* -- don't block\n    // this thread waiting for the user's response! After the user\n    // sees the explanation, try again to request the permission.\n\n} else {\n\n    // No explanation needed; request the permission\n    ActivityCompat.requestPermissions(this,\n                new String[]{\"Manifest.permission.READ_SMS, Manifest.permission.SEND_SMS\"},\n                REQUEST_CODE);\n\n     // REQUEST_CODE is an\n     // app-defined int constant. The callback method gets the\n     // result of the request.\n  }\n}\n\nelse {\n        // Permission has already been granted\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820446,"reputation":3830,"user_id":1654631,"accept_rate":0,"display_name":"Shiv Buyya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586206154,"creation_date":1586206154,"answer_id":61068724,"question_id":53952118,"body_markdown":"Add below code in your **first or main activity**, if added in fragment it may not work.\r\n    \r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n                    if (checkSelfPermission(Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_DENIED) {\r\n                        Log.d(&quot;permission&quot;, &quot;permission denied to SEND_SMS - requesting it&quot;);\r\n                        String[] permissions = {Manifest.permission.SEND_SMS};\r\n                        requestPermissions(permissions, PERMISSION_REQUEST_CODE);\r\n                    }\r\n                }\r\n\r\nIf you have not added below permission in Manifest file please add:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot;/&gt;","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>Add below code in your <strong>first or main activity</strong>, if added in fragment it may not work.</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n                if (checkSelfPermission(Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_DENIED) {\n                    Log.d(\"permission\", \"permission denied to SEND_SMS - requesting it\");\n                    String[] permissions = {Manifest.permission.SEND_SMS};\n                    requestPermissions(permissions, PERMISSION_REQUEST_CODE);\n                }\n            }\n</code></pre>\n\n<p>If you have not added below permission in Manifest file please add:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SEND_SMS\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22462554,"reputation":23,"user_id":16752454,"display_name":"sameera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686042033,"creation_date":1686028249,"answer_id":76411592,"question_id":53952118,"body_markdown":"After you run your project,you project apk file install in your phone.then you have to give sms allow permission from your real device into installed app.\r\n\r\nIn your android phone\r\nGo to setting-&gt; apps-&gt; select your project apk -&gt; permission -&gt; allow send sms permission","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>After you run your project,you project apk file install in your phone.then you have to give sms allow permission from your real device into installed app.</p>\n<p>In your android phone\nGo to setting-&gt; apps-&gt; select your project apk -&gt; permission -&gt; allow send sms permission</p>\n"}],"owner":{"account_id":14868796,"reputation":39,"user_id":10736925,"display_name":"Coder32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9704,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1686042033,"creation_date":1545954521,"question_id":53952118,"body_markdown":"My app keeps crashing with this error code: \r\n                                                        \r\n    java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS.\r\n\r\nThis is my code \r\n\r\n            Button button2 = (Button) findViewById(R.id.text);\r\n            button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            String messageToSend = &quot;this is a text&quot;;\r\n            String number = &quot;XXXXXX&quot;;\r\n\r\n            SmsManager.getDefault().sendTextMessage(number, null, messageToSend, null,null);\r\n\r\n        }\r\n    });\r\n\r\n}","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>My app keeps crashing with this error code: </p>\n\n<pre><code>java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS.\n</code></pre>\n\n<p>This is my code </p>\n\n<pre><code>        Button button2 = (Button) findViewById(R.id.text);\n        button2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        String messageToSend = \"this is a text\";\n        String number = \"XXXXXX\";\n\n        SmsManager.getDefault().sendTextMessage(number, null, messageToSend, null,null);\n\n    }\n});\n</code></pre>\n\n<p>}</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9605,"page":387,"page_size":100}
