{"items":[{"tags":["java","android","android-studio","webview"],"answers":[{"tags":[],"owner":{"account_id":26115133,"reputation":1,"user_id":19808391,"display_name":"Mike Soray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674368843,"creation_date":1674368843,"answer_id":75198584,"question_id":75195725,"body_markdown":"Stupid thing, should not have done this late into the night.\r\n\r\nThe problem was only with layout, rest of the page was out of screen.\r\nNeeded only to match the WebView to constraints.","title":"WebView in Android Studio does not show sites properly (i.e. www.google.com is without logo, search bar and all the stuff on upper screen)","body":"<p>Stupid thing, should not have done this late into the night.</p>\n<p>The problem was only with layout, rest of the page was out of screen.\nNeeded only to match the WebView to constraints.</p>\n"}],"owner":{"account_id":26115133,"reputation":1,"user_id":19808391,"display_name":"Mike Soray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674619531,"creation_date":1674326641,"question_id":75195725,"body_markdown":"I have a problem with showing simple google.com in my WebView.\r\nTried this on few emulators and 2 phones, all the same, something is wrong with my code.\r\n\r\n**1. Issue**\r\n- First screen shows normally google&#39;s asking user to accept their legal stuff (1st image).\r\n- After accepting it moves to google&#39;s main page. But only lower part (Country, settings, adds, about etc.) is shown (2nd image). There is no Google logo, no search bar and buttons and no stuff from the upper display (like GMAIL, GRAPHICS, ACCOUNT and so on). \r\n[1ST SCREEN OF GOOGLE.COM](https://i.stack.imgur.com/brvWT.png)\r\n[INCORRECTLY SHOWN GOOGLE PAGE](https://i.stack.imgur.com/IzAUt.png)\r\n\r\n**2. Code**\r\n- I added permission in Manifest.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n\r\n- Trying to solve the issue I stackoverflowed below two lines and added to Manifest, but to no avail:\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n**\r\n3. My java code is below:**\r\n\r\n(each of the settings I tried to comment out and then one by one uncomment, but still no result).\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        WebView webView = findViewById(R.id.webView);\r\n        WebSettings settings = webView.getSettings();\r\n        settings.setDomStorageEnabled(true);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.getSettings().setUseWideViewPort(true);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\r\n        webView.loadUrl(&quot;http://www.google.com&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\nCould someone please check this is tell me what I&#39;ve done wrong here?","title":"WebView in Android Studio does not show sites properly (i.e. www.google.com is without logo, search bar and all the stuff on upper screen)","body":"<p>I have a problem with showing simple google.com in my WebView.\nTried this on few emulators and 2 phones, all the same, something is wrong with my code.</p>\n<p><strong>1. Issue</strong></p>\n<ul>\n<li>First screen shows normally google's asking user to accept their legal stuff (1st image).</li>\n<li>After accepting it moves to google's main page. But only lower part (Country, settings, adds, about etc.) is shown (2nd image). There is no Google logo, no search bar and buttons and no stuff from the upper display (like GMAIL, GRAPHICS, ACCOUNT and so on).\n<a href=\"https://i.stack.imgur.com/brvWT.png\" rel=\"nofollow noreferrer\">1ST SCREEN OF GOOGLE.COM</a>\n<a href=\"https://i.stack.imgur.com/IzAUt.png\" rel=\"nofollow noreferrer\">INCORRECTLY SHOWN GOOGLE PAGE</a></li>\n</ul>\n<p><strong>2. Code</strong></p>\n<ul>\n<li><p>I added permission in Manifest.</p>\n<p></p>\n</li>\n<li><p>Trying to solve the issue I stackoverflowed below two lines and added to Manifest, but to no avail:\nandroid:hardwareAccelerated=&quot;true&quot;\nandroid:usesCleartextTraffic=&quot;true&quot;</p>\n</li>\n</ul>\n<p>**\n3. My java code is below:**</p>\n<p>(each of the settings I tried to comment out and then one by one uncomment, but still no result).</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        WebView webView = findViewById(R.id.webView);\n        WebSettings settings = webView.getSettings();\n        settings.setDomStorageEnabled(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setLoadWithOverviewMode(true);\n        webView.getSettings().setUseWideViewPort(true);\n        webView.getSettings().setDomStorageEnabled(true);\n        webView.setWebViewClient(new WebViewClient());\n        webView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\n        webView.loadUrl(&quot;http://www.google.com&quot;);\n\n    }\n}\n</code></pre>\n<p>Could someone please check this is tell me what I've done wrong here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1633593444,"post_id":69476413,"comment_id":122802197,"body_markdown":"Using `charAt` gives you the `char` at that index, not the digit representation of that character. Meaning, `0` is not &quot;0&quot; but the ASCII value of the character `0`, i.e. `48`.","body":"Using <code>charAt</code> gives you the <code>char</code> at that index, not the digit representation of that character. Meaning, <code>0</code> is not &quot;0&quot; but the ASCII value of the character <code>0</code>, i.e. <code>48</code>."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633588793,"creation_date":1633588578,"answer_id":69476442,"question_id":69476413,"body_markdown":"You are not converting the characters to digits correctly.\r\n\r\nOne of the possible ways to fix it:\r\n\r\n        int b = a.charAt(0)-&#39;0&#39;;\r\n\r\n        int c = a.charAt(1)-&#39;0&#39;;\r\n\r\n        int d = a.charAt(2)-&#39;0&#39;;\r\n\r\nAnother way:\r\n\r\n        int b = Character.digit (a.charAt(0),10);\r\n\r\n        int c = Character.digit (a.charAt(1),10);\r\n\r\n        int d = Character.digit (a.charAt(2),10);\r\n\r\nEither way will give your the output:\r\n\r\n    153\r\n    370\r\n    371\r\n    407","title":"Amstrong number return in blank result (java)","body":"<p>You are not converting the characters to digits correctly.</p>\n<p>One of the possible ways to fix it:</p>\n<pre><code>    int b = a.charAt(0)-'0';\n\n    int c = a.charAt(1)-'0';\n\n    int d = a.charAt(2)-'0';\n</code></pre>\n<p>Another way:</p>\n<pre><code>    int b = Character.digit (a.charAt(0),10);\n\n    int c = Character.digit (a.charAt(1),10);\n\n    int d = Character.digit (a.charAt(2),10);\n</code></pre>\n<p>Either way will give your the output:</p>\n<pre><code>153\n370\n371\n407\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17095622"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633589105,"creation_date":1633589105,"answer_id":69476531,"question_id":69476413,"body_markdown":"Another way you can do it is:\r\n```\r\nimport java.util.*;\r\npublic class ArmstrongNumber3\r\n{\r\n     public static void main(String args[]) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter any number&quot;);\r\n\r\n\r\n        int n = sc.nextInt();\r\n\r\n        int b = n;\r\n        int sum = 0;\r\n        int d = 0;\r\n        while (n != 0) {\r\n            d = n % 10;\r\n            sum += (d * d * d);\r\n            n = n / 10;\r\n\r\n        }\r\n        if (sum == b) {\r\n            System.out.println(&quot;Armstrong&quot;);\r\n\r\n        } else\r\n        {\r\n            System.out.println(&quot;Not Armstrong&quot;);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n}","title":"Amstrong number return in blank result (java)","body":"<p>Another way you can do it is:</p>\n<pre><code>import java.util.*;\npublic class ArmstrongNumber3\n{\n     public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter any number&quot;);\n\n\n        int n = sc.nextInt();\n\n        int b = n;\n        int sum = 0;\n        int d = 0;\n        while (n != 0) {\n            d = n % 10;\n            sum += (d * d * d);\n            n = n / 10;\n\n        }\n        if (sum == b) {\n            System.out.println(&quot;Armstrong&quot;);\n\n        } else\n        {\n            System.out.println(&quot;Not Armstrong&quot;);\n        }\n\n\n\n\n\n\n\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8604274,"reputation":3,"user_id":6444895,"display_name":"Kjs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674619508,"creation_date":1674163723,"answer_id":75178469,"question_id":69476413,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Amstrong {\r\n\r\n    public static void main(String args[]) {\r\n        Integer num, temp, len = 0, initVal;\r\n        double finalVal = 0;\r\n        Scanner scn = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the number&quot;);\r\n        num = scn.nextInt();\r\n        initVal = num;\r\n        temp = num;\r\n        while (temp != 0) {\r\n            temp = temp / 10;\r\n            len++;\r\n        }\r\n\r\n        for (int i = 0; i &lt;= len; i++) {\r\n            temp = num % 10;\r\n            finalVal = finalVal + Math.pow(temp, len);\r\n            num = num / 10;\r\n        }\r\n\r\n        if (Double.valueOf(initVal) == finalVal) {\r\n            System.out.println(&quot;Amstrong&quot;);\r\n        } else {\r\n            System.out.println(&quot;Not Amstrong&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Amstrong number return in blank result (java)","body":"<pre><code>import java.util.Scanner;\n\npublic class Amstrong {\n\n    public static void main(String args[]) {\n        Integer num, temp, len = 0, initVal;\n        double finalVal = 0;\n        Scanner scn = new Scanner(System.in);\n        System.out.println(&quot;Enter the number&quot;);\n        num = scn.nextInt();\n        initVal = num;\n        temp = num;\n        while (temp != 0) {\n            temp = temp / 10;\n            len++;\n        }\n\n        for (int i = 0; i &lt;= len; i++) {\n            temp = num % 10;\n            finalVal = finalVal + Math.pow(temp, len);\n            num = num / 10;\n        }\n\n        if (Double.valueOf(initVal) == finalVal) {\n            System.out.println(&quot;Amstrong&quot;);\n        } else {\n            System.out.println(&quot;Not Amstrong&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22966742,"reputation":11,"user_id":17095694,"display_name":"Đồng Tiến Qu&#226;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1674619508,"creation_date":1633588389,"question_id":69476413,"body_markdown":"    public class Amstrong {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            for (int i = 100; i &lt; 1000; i++) {\r\n    \r\n                String a = String.valueOf(i);\r\n    \r\n                int b = a.charAt(0);\r\n    \r\n                int c = a.charAt(1);\r\n    \r\n                int d = a.charAt(2);\r\n                int e = b * b * b + c * c * c + d * d * d;\r\n    \r\n                if (e == i) {\r\n    \r\n                    System.out.println(i);\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n//Help me out please, no error occurred but the result returned in the blank\r\n","title":"Amstrong number return in blank result (java)","body":"<pre><code>public class Amstrong {\n\n    public static void main(String[] args) {\n\n        for (int i = 100; i &lt; 1000; i++) {\n\n            String a = String.valueOf(i);\n\n            int b = a.charAt(0);\n\n            int c = a.charAt(1);\n\n            int d = a.charAt(2);\n            int e = b * b * b + c * c * c + d * d * d;\n\n            if (e == i) {\n\n                System.out.println(i);\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>//Help me out please, no error occurred but the result returned in the blank</p>\n"},{"tags":["java","tostring"],"comments":[{"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"score":4,"creation_date":1518331122,"post_id":48728957,"comment_id":84456952,"body_markdown":"Have you at least tried something?","body":"Have you at least tried something?"},{"owner":{"account_id":6429844,"reputation":3522,"user_id":4983501,"accept_rate":41,"display_name":"niaomingjian"},"score":0,"creation_date":1518331257,"post_id":48728957,"comment_id":84456981,"body_markdown":"You can override `toString()` method of `Person` Class to display these fields.","body":"You can override <code>toString()</code> method of <code>Person</code> Class to display these fields."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1518337922,"post_id":48728957,"comment_id":84458354,"body_markdown":"Welcome to Stack Overflow! Unfortunately your question only contains requirements - it is not showing any efforts from your side to solve this problem yourself. Please add your attempts to this questions - as this site is not a free &quot;we do your (home)work&quot; service. Beyond that: please turn to the [help] to learn how/what to ask here. Thanks!","body":"Welcome to Stack Overflow! Unfortunately your question only contains requirements - it is not showing any efforts from your side to solve this problem yourself. Please add your attempts to this questions - as this site is not a free &quot;we do your (home)work&quot; service. Beyond that: please turn to the <a href=\"https://stackoverflow.com/help\">help center</a> to learn how/what to ask here. Thanks!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1518337949,"post_id":48728957,"comment_id":84458362,"body_markdown":"You are expected to do serious research prior posting questions. If you did that, you are doing a great job of hiding that.","body":"You are expected to do serious research prior posting questions. If you did that, you are doing a great job of hiding that."}],"answers":[{"tags":[],"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1518331659,"creation_date":1518331659,"answer_id":48729081,"question_id":48728957,"body_markdown":"The `toString` method always exists for each Java class. But if you do not override it to specify what to return it will by default return the &quot;*class name, then ‘at’ sign, and at the end hashCode*&quot;, something like `Person@19821f`. More info [here][1].\r\n\r\nSo you should override the `toString` method in `Person` like this (do change the resulting `String` to taste):\r\n\r\n    @Override\r\n    public String toString() {\r\n          String s = name +&quot;, age &quot;+age+&quot;, isMan: &quot;+isMan;\r\n          return s;\r\n    }\r\n\r\nThen to display this, create the `showPersonInfo` method:\r\n\r\n    public void showPersonInfo(){\r\n        \r\n       System.out.println(this.toString()); // OR\r\n       // System.out.println(this); // Java prints the toString method by default\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/overriding-tostring-method-in-java/","title":"Exercise with toString() method","body":"<p>The <code>toString</code> method always exists for each Java class. But if you do not override it to specify what to return it will by default return the \"<em>class name, then ‘at’ sign, and at the end hashCode</em>\", something like <code>Person@19821f</code>. More info <a href=\"https://www.geeksforgeeks.org/overriding-tostring-method-in-java/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>So you should override the <code>toString</code> method in <code>Person</code> like this (do change the resulting <code>String</code> to taste):</p>\n\n<pre><code>@Override\npublic String toString() {\n      String s = name +\", age \"+age+\", isMan: \"+isMan;\n      return s;\n}\n</code></pre>\n\n<p>Then to display this, create the <code>showPersonInfo</code> method:</p>\n\n<pre><code>public void showPersonInfo(){\n\n   System.out.println(this.toString()); // OR\n   // System.out.println(this); // Java prints the toString method by default\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6429844,"reputation":3522,"user_id":4983501,"accept_rate":41,"display_name":"niaomingjian"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518331938,"creation_date":1518331938,"answer_id":48729110,"question_id":48728957,"body_markdown":"    public class Person {\r\n\r\n\tString name;\r\n\tint age;\r\n\tboolean isMan;\r\n\t\r\n\t\r\n\tPerson(String nameParam,int ageParam,boolean isManParam){\r\n\t\tthis.name = nameParam;\r\n\t\tthis.age = ageParam;\r\n\t\tthis.isMan = isManParam;\r\n\t\t }\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;name:&quot; + this.name + &quot;, age:&quot; + this.age + &quot;, isMan:&quot; + this.isMan ;\r\n    }\r\n\r\n    public void showPersonInfo {\r\n        System.out.println(toString());\r\n    }\r\n","title":"Exercise with toString() method","body":"<pre><code>public class Person {\n\nString name;\nint age;\nboolean isMan;\n\n\nPerson(String nameParam,int ageParam,boolean isManParam){\n    this.name = nameParam;\n    this.age = ageParam;\n    this.isMan = isManParam;\n     }\n}\n\n@Override\npublic String toString() {\n    return \"name:\" + this.name + \", age:\" + this.age + \", isMan:\" + this.isMan ;\n}\n\npublic void showPersonInfo {\n    System.out.println(toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2926765,"reputation":523,"user_id":2507899,"accept_rate":100,"display_name":"Lucas Colombo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518331998,"creation_date":1518331998,"answer_id":48729115,"question_id":48728957,"body_markdown":"    public class Person {\r\n        String name;\r\n        int age;\r\n        boolean isMan;\r\n\r\n        Person(String nameParam,int ageParam,boolean isManParam) {\r\n            this.name = nameParam;\r\n            this.age = ageParam;\r\n            this.isMan = isManParam;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Name: &quot; + this.name +\r\n                   &quot;\\nAge: &quot; + this.age +\r\n                   &quot;\\nIs a Man?: &quot; + this.isMan;\r\n        }\r\n     \r\n        public String showPersonInfo() {\r\n            return this.toString();\r\n        }\r\n    }\r\n\r\nIn your main method:\r\n\r\n    public class toStringDemo {\r\n        public static void main(String[] args) {\r\n            Person human = new Person(&quot;Jack&quot;,28,true);\r\n\r\n            System.out.println(human.showPersonInfo());\r\n        }\r\n    }\r\n","title":"Exercise with toString() method","body":"<pre><code>public class Person {\n    String name;\n    int age;\n    boolean isMan;\n\n    Person(String nameParam,int ageParam,boolean isManParam) {\n        this.name = nameParam;\n        this.age = ageParam;\n        this.isMan = isManParam;\n    }\n\n    @Override\n    public String toString() {\n        return \"Name: \" + this.name +\n               \"\\nAge: \" + this.age +\n               \"\\nIs a Man?: \" + this.isMan;\n    }\n\n    public String showPersonInfo() {\n        return this.toString();\n    }\n}\n</code></pre>\n\n<p>In your main method:</p>\n\n<pre><code>public class toStringDemo {\n    public static void main(String[] args) {\n        Person human = new Person(\"Jack\",28,true);\n\n        System.out.println(human.showPersonInfo());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27570206,"reputation":1,"user_id":21041551,"display_name":"BHUKYA ANJANEYULU NAIK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674619466,"creation_date":1674111981,"answer_id":75168758,"question_id":48728957,"body_markdown":"```\r\npublic class Person\r\n{\r\n\r\n\t   String name;\r\n\t   int age;\r\n\t   boolean isMan;\r\n\t  Person( String name,int age,boolean isMan)   \r\n\t   {\r\n\t     this.name=name;\r\n\t     this.age=age;\r\n\t      this.isMan=isMan;\r\n\t   }\r\n\t   @Override\r\n\t   public String toString()\r\n\t    {\r\n\t      return &quot;name: &quot;+name+&quot;\\nage: &quot;+age+&quot;\\nisMan: &quot;+isMan;\r\n\t     }\r\n\t  \r\n\t}\r\npublic class ToString\r\n {\r\n\t\r\n\t\t  public static void main(String args[])\r\n\t\t   {\r\n\t\t     Person human=new Person(&quot;jack&quot;,28,true);\r\n\t\t     System.out.println(human);\r\n             //System.out.println(human.toString);\r\n\t\t   }\r\n}\r\n```","title":"Exercise with toString() method","body":"<pre><code>public class Person\n{\n\n       String name;\n       int age;\n       boolean isMan;\n      Person( String name,int age,boolean isMan)   \n       {\n         this.name=name;\n         this.age=age;\n          this.isMan=isMan;\n       }\n       @Override\n       public String toString()\n        {\n          return &quot;name: &quot;+name+&quot;\\nage: &quot;+age+&quot;\\nisMan: &quot;+isMan;\n         }\n      \n    }\npublic class ToString\n {\n    \n          public static void main(String args[])\n           {\n             Person human=new Person(&quot;jack&quot;,28,true);\n             System.out.println(human);\n             //System.out.println(human.toString);\n           }\n}\n</code></pre>\n"}],"owner":{"account_id":12923020,"reputation":1,"user_id":9344741,"display_name":"Георги Иванов"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":48729081,"answer_count":4,"score":-4,"last_activity_date":1674619466,"creation_date":1518330464,"question_id":48728957,"body_markdown":"i am pretty much new in Java and i have one perhaps easy question.\r\n\r\nI have this code : \r\n\r\n    public class Person {\r\n\t    String name;\r\n\t    int age;\r\n\t    boolean isMan;\r\n\t\r\n\t    Person(String nameParam,int ageParam,boolean isManParam) {\r\n\t\t    this.name = nameParam;\r\n\t\t    this.age = ageParam;\r\n\t\t    this.isMan = isManParam;\r\n        }\r\n    }\r\n\r\nIn another demoClass i have initialized object of class Person:\r\n\r\n    public class toStringDemo {\r\n        public static void main(String[] args) {\r\n           Person human = new Person(&quot;Jack&quot;,28,true);\r\n\t\t}\r\n    }\r\n\r\nI have a task to write a method showPersonInfo() using toString() method so to \r\ndisplay all the three fields of the initialized object ..Any help?","title":"Exercise with toString() method","body":"<p>i am pretty much new in Java and i have one perhaps easy question.</p>\n\n<p>I have this code : </p>\n\n<pre><code>public class Person {\n    String name;\n    int age;\n    boolean isMan;\n\n    Person(String nameParam,int ageParam,boolean isManParam) {\n        this.name = nameParam;\n        this.age = ageParam;\n        this.isMan = isManParam;\n    }\n}\n</code></pre>\n\n<p>In another demoClass i have initialized object of class Person:</p>\n\n<pre><code>public class toStringDemo {\n    public static void main(String[] args) {\n       Person human = new Person(\"Jack\",28,true);\n    }\n}\n</code></pre>\n\n<p>I have a task to write a method showPersonInfo() using toString() method so to \ndisplay all the three fields of the initialized object ..Any help?</p>\n"},{"tags":["java","json","type-conversion","double","data-conversion"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1674109885,"post_id":75168462,"comment_id":132645723,"body_markdown":"If `amount` is a double, converting it to BigDecimal won&#39;t recover lost precision. You would have to parse as a String or BigDecimal in the first place. What JSON library are you using?","body":"If <code>amount</code> is a double, converting it to BigDecimal won&#39;t recover lost precision. You would have to parse as a String or BigDecimal in the first place. What JSON library are you using?"},{"owner":{"account_id":17263689,"reputation":13,"user_id":12500975,"display_name":"Aleyna"},"score":0,"creation_date":1674110553,"post_id":75168462,"comment_id":132645858,"body_markdown":"@shmosel I believe I&#39;m using  jackson library","body":"@shmosel I believe I&#39;m using  jackson library"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674111923,"post_id":75168462,"comment_id":132646122,"body_markdown":"Try using a proper POJO instead of the Map and declaring the `amount` field as BigDecimal.","body":"Try using a proper POJO instead of the Map and declaring the <code>amount</code> field as BigDecimal."}],"answers":[{"tags":[],"owner":{"account_id":1674131,"reputation":126,"user_id":1540005,"display_name":"Rahul Shandilya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674619344,"creation_date":1674110934,"answer_id":75168625,"question_id":75168462,"body_markdown":"Try following\r\n\r\n```\r\nimport java.math.BigDecimal;\r\nimport static java.math.RoundingMode.HALF_UP;\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        String jsonAmount = &quot;123345555789123495.38&quot;;\r\n        BigDecimal amount = new BigDecimal(jsonAmount).setScale(2, HALF_UP);\r\n    }\r\n}\r\n```","title":"Is it possible to convert large double number to big decimal without losing precision when deserializing a json data?","body":"<p>Try following</p>\n<pre><code>import java.math.BigDecimal;\nimport static java.math.RoundingMode.HALF_UP;\npublic class Test {\n    public static void main(String[] args) {\n        String jsonAmount = &quot;123345555789123495.38&quot;;\n        BigDecimal amount = new BigDecimal(jsonAmount).setScale(2, HALF_UP);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17263689,"reputation":13,"user_id":12500975,"display_name":"Aleyna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674619344,"creation_date":1674109646,"question_id":75168462,"body_markdown":"Customer sends me a json double data like \r\n&quot;amount&quot;: 123345555789123495.38\r\nand in our program we get the whole message and program get the value like 1.23345555789123488E17\r\nIs it possible to convert this data right with precision??\r\n\r\n@JsonProperty(&quot;map&quot;)\r\n    private ConcurrentHashMap&lt;String, Object&gt; extensionMap;\r\n\r\nI tried \r\nnew BigDecimal(String.valueOf(map.get(&quot;amount&quot;))).setScale(2, BigDecimal.ROUND_HALF_EVEN);\r\n\r\nOutput is:\r\n123345555789123488.00\r\n\r\n","title":"Is it possible to convert large double number to big decimal without losing precision when deserializing a json data?","body":"<p>Customer sends me a json double data like\n&quot;amount&quot;: 123345555789123495.38\nand in our program we get the whole message and program get the value like 1.23345555789123488E17\nIs it possible to convert this data right with precision??</p>\n<p>@JsonProperty(&quot;map&quot;)\nprivate ConcurrentHashMap&lt;String, Object&gt; extensionMap;</p>\n<p>I tried\nnew BigDecimal(String.valueOf(map.get(&quot;amount&quot;))).setScale(2, BigDecimal.ROUND_HALF_EVEN);</p>\n<p>Output is:\n123345555789123488.00</p>\n"},{"tags":["java","spring","spring-boot","rest","mustache"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673989727,"post_id":75151738,"comment_id":132618604,"body_markdown":"You need to read [tour] and ask a focused question. This is not a discussion forum.","body":"You need to read <a href=\"https://stackoverflow.com/tour\">tour</a> and ask a focused question. This is not a discussion forum."},{"owner":{"account_id":19042414,"reputation":71,"user_id":13902217,"display_name":"Jeka_FRI"},"score":0,"creation_date":1674045254,"post_id":75151738,"comment_id":132630058,"body_markdown":"Yeah! I see) I want to ask if is it possible? I`ve changed question.","body":"Yeah! I see) I want to ask if is it possible? I`ve changed question."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674049179,"post_id":75151738,"comment_id":132631432,"body_markdown":"I&#39;m sure it&#39;s possible. Please read [ask].","body":"I&#39;m sure it&#39;s possible. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":14762249,"reputation":9,"user_id":10661226,"display_name":"Sri hari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674618932,"creation_date":1674618932,"answer_id":75229557,"question_id":75151738,"body_markdown":"Yes, You can create REST API using OpenAPI(https://support.smartbear.com/swaggerhub/docs/tutorials/openapi-3-tutorial.html) which uses the mustache file to create your code.\r\n\r\nYou need to add following dependencies,\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.6.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nadd the following plugin in the pom.xml for configuration(https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-maven-plugin/README.md),\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;templateDirectory&gt;${project.basedir}/templates\r\n\t\t\t\t\t&lt;/templateDirectory&gt;\r\n\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t//add the configuration options here\r\n\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nBy default it uses the mustache files internally to generate codes, you can change the mustache files from the git location(https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaSpring/)/create your own with the name mentioned in git and place it in the location &lt;templateDirectory&gt;${project.basedir}/templates&lt;/templateDirectory&gt; it will generate your codes during the compile time and you can use them in your project.\r\n\r\nPlace the OpenAPI document in the resource folder where application.properties is placed","title":"Mustache + Spring boot + REST API","body":"<p>Yes, You can create REST API using OpenAPI(<a href=\"https://support.smartbear.com/swaggerhub/docs/tutorials/openapi-3-tutorial.html\" rel=\"nofollow noreferrer\">https://support.smartbear.com/swaggerhub/docs/tutorials/openapi-3-tutorial.html</a>) which uses the mustache file to create your code.</p>\n<p>You need to add following dependencies,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.8&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n    &lt;version&gt;0.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>add the following plugin in the pom.xml for configuration(<a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-maven-plugin/README.md\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator-maven-plugin/README.md</a>),</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;templateDirectory&gt;${project.basedir}/templates\n                &lt;/templateDirectory&gt;\n                &lt;configOptions&gt;\n                    //add the configuration options here\n                &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>By default it uses the mustache files internally to generate codes, you can change the mustache files from the git location(<a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaSpring/\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/JavaSpring/</a>)/create your own with the name mentioned in git and place it in the location ${project.basedir}/templates it will generate your codes during the compile time and you can use them in your project.</p>\n<p>Place the OpenAPI document in the resource folder where application.properties is placed</p>\n"}],"owner":{"account_id":19042414,"reputation":71,"user_id":13902217,"display_name":"Jeka_FRI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674618932,"creation_date":1673986239,"question_id":75151738,"body_markdown":"I decided to make a project using Mustache + Spring Boot + REST API. Earlier, I used to write projects with the front-end used Java EE + Servlets + JSP. Now I decided to try to switch to Spring and write an application with a front-end. And I found a way to create a page on the front-end using Mustache, but if you use Mustache, then everything needs to be saved to the `model`, and I want to use REST API. I mean if it is possible? If it&#39;s possible I&#39;ll be happy if you show a piece of code your `RestController` and Mustache.\r\nThe question is &#39;if possible call endpoint from mustache?&#39;.","title":"Mustache + Spring boot + REST API","body":"<p>I decided to make a project using Mustache + Spring Boot + REST API. Earlier, I used to write projects with the front-end used Java EE + Servlets + JSP. Now I decided to try to switch to Spring and write an application with a front-end. And I found a way to create a page on the front-end using Mustache, but if you use Mustache, then everything needs to be saved to the <code>model</code>, and I want to use REST API. I mean if it is possible? If it's possible I'll be happy if you show a piece of code your <code>RestController</code> and Mustache.\nThe question is 'if possible call endpoint from mustache?'.</p>\n"},{"tags":["java","module","java-module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1673306705,"post_id":75053477,"comment_id":132465444,"body_markdown":"Use `Coupon.class` instead of `proxy.getClass()`.","body":"Use <code>Coupon.class</code> instead of <code>proxy.getClass()</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1673517095,"post_id":75053477,"comment_id":132518690,"body_markdown":"This isn’t even a module specific issue. Using `getClass().getMethod(…)` instead of `{baseclass or interface}.class.getMethod(…)` has been wrong since Reflection was introduced, for exactly that reason. You may end up at a `Method` object with an inaccessible declaring class. On the other hand, when you can use `Coupon.class` in this code, you can also use `((Coupon)proxy).itemDiscount()`","body":"This isn’t even a module specific issue. Using <code>getClass().getMethod(…)</code> instead of <code>{baseclass or interface}.class.getMethod(…)</code> has been wrong since Reflection was introduced, for exactly that reason. You may end up at a <code>Method</code> object with an inaccessible declaring class. On the other hand, when you can use <code>Coupon.class</code> in this code, you can also use <code>((Coupon)proxy).itemDiscount()</code>"},{"owner":{"account_id":1161729,"reputation":1762,"user_id":1233340,"accept_rate":56,"display_name":"timmy"},"score":0,"creation_date":1674355834,"post_id":75053477,"comment_id":132696457,"body_markdown":"Thanks @Holger.  Yes I can use `Coupon.class` and it works with a closed module. But it is interesting that with the `open` module, the code sample in the question works.","body":"Thanks @Holger.  Yes I can use <code>Coupon.class</code> and it works with a closed module. But it is interesting that with the <code>open</code> module, the code sample in the question works."},{"owner":{"account_id":1161729,"reputation":1762,"user_id":1233340,"accept_rate":56,"display_name":"timmy"},"score":0,"creation_date":1674355984,"post_id":75053477,"comment_id":132696470,"body_markdown":"I wonder if this is related to the change in Java16  to strongly encapsulate JDK internals?\n\nhttps://www.happycoders.eu/java/java-16-features/#Strongly_Encapsulate_JDK_Internals_by_Default","body":"I wonder if this is related to the change in Java16  to strongly encapsulate JDK internals?  <a href=\"https://www.happycoders.eu/java/java-16-features/#Strongly_Encapsulate_JDK_Internals_by_Default\" rel=\"nofollow noreferrer\">happycoders.eu/java/java-16-features/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674459929,"post_id":75053477,"comment_id":132710403,"body_markdown":"As said, it is not related to modules at all. `getClass().getMethod(…)` may return an inaccessible method. That’s the fundamental problem of using `getClass().getMethod(…)`. The reasons why the method is inaccessible or the circumstances under which the method happens to be accessible, may vary and are not important.","body":"As said, it is not related to modules at all. <code>getClass().getMethod(…)</code> may return an inaccessible method. That’s the fundamental problem of using <code>getClass().getMethod(…)</code>. The reasons why the method is inaccessible or the circumstances under which the method happens to be accessible, may vary and are not important."},{"owner":{"account_id":1161729,"reputation":1762,"user_id":1233340,"accept_rate":56,"display_name":"timmy"},"score":0,"creation_date":1674482333,"post_id":75053477,"comment_id":132716948,"body_markdown":"But @Holger,  `getClass().getMethod(…)` works if the module is open. JDK 16 made the default mode for modules strongly encapsulated.  That&#39;s why changing the module encapsulation allows `getClass().getMethod(…)` to work","body":"But @Holger,  <code>getClass().getMethod(…)</code> works if the module is open. JDK 16 made the default mode for modules strongly encapsulated.  That&#39;s why changing the module encapsulation allows <code>getClass().getMethod(…)</code> to work"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674496018,"post_id":75053477,"comment_id":132721663,"body_markdown":"[Simple example](https://ideone.com/2uFBjH) which can reproduce the problem in all Java versions from 5 to 17. No module system required. `getClass().getMethod(…)` is not the right approach. The reason why the access fails in a particular use case is irrelevant.","body":"<a href=\"https://ideone.com/2uFBjH\" rel=\"nofollow noreferrer\">Simple example</a> which can reproduce the problem in all Java versions from 5 to 17. No module system required. <code>getClass().getMethod(…)</code> is not the right approach. The reason why the access fails in a particular use case is irrelevant."},{"owner":{"account_id":1161729,"reputation":1762,"user_id":1233340,"accept_rate":56,"display_name":"timmy"},"score":0,"creation_date":1674525040,"post_id":75053477,"comment_id":132728148,"body_markdown":"@Holger you&#39;re not reading the full error message in the original question. It clearly references the module system. \n\n`(in module jdk.proxy2) because module jdk.proxy2 does not export com.sun.proxy.jdk.proxy2 to module ca.example.MyStore`\n\nThere error goes away when you either export the package the class is in or define the module as open.\n\nSounds like the following JEP:  https://openjdk.org/jeps/396","body":"@Holger you&#39;re not reading the full error message in the original question. It clearly references the module system.   <code>(in module jdk.proxy2) because module jdk.proxy2 does not export com.sun.proxy.jdk.proxy2 to module ca.example.MyStore</code>  There error goes away when you either export the package the class is in or define the module as open.  Sounds like the following JEP:  <a href=\"https://openjdk.org/jeps/396\" rel=\"nofollow noreferrer\">openjdk.org/jeps/396</a>"},{"owner":{"account_id":1161729,"reputation":1762,"user_id":1233340,"accept_rate":56,"display_name":"timmy"},"score":0,"creation_date":1674526083,"post_id":75053477,"comment_id":132728275,"body_markdown":"Also, the example for the `ExecutorService` fails, since the `execute` method is package protected.  If you invoke a `public` method via `getClass().getMethod()` it works.  The example in the question is invoking a public method.\n\nAnother counter example:  https://ideone.com/MiyBIU","body":"Also, the example for the <code>ExecutorService</code> fails, since the <code>execute</code> method is package protected.  If you invoke a <code>public</code> method via <code>getClass().getMethod()</code> it works.  The example in the question is invoking a public method.  Another counter example:  <a href=\"https://ideone.com/MiyBIU\" rel=\"nofollow noreferrer\">ideone.com/MiyBIU</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674546406,"post_id":75053477,"comment_id":132731183,"body_markdown":"As said, *the reasons why the method is inaccessible or the circumstances under which the method happens to be accessible, may vary and are not important.* `getClass().getMethod(…)` is not the right approach. Point. Stop bothering me with your irrelevant details.","body":"As said, <i>the reasons why the method is inaccessible or the circumstances under which the method happens to be accessible, may vary and are not important.</i> <code>getClass().getMethod(…)</code> is not the right approach. Point. Stop bothering me with your irrelevant details."},{"owner":{"account_id":1161729,"reputation":1762,"user_id":1233340,"accept_rate":56,"display_name":"timmy"},"score":0,"creation_date":1674618225,"post_id":75053477,"comment_id":132751100,"body_markdown":"It&#39;s not an irrelevant detail @Holger.  Your answer is wrong.  Where does the Java documentation ever say &quot; the circumstances under which the method happens to be accessible, may vary and are not important&quot;.\n\nYou have several examples where `getClass().getMethod(...)` works.  You also are not understanding the original example and are not understanding the cause of the `IllegalAccessException` which make it clear that the strong encapsulation that is the default mode of the module system starting with JDK16 is the cause.  Please stop bothering people with your irrelevant code snippets.","body":"It&#39;s not an irrelevant detail @Holger.  Your answer is wrong.  Where does the Java documentation ever say &quot; the circumstances under which the method happens to be accessible, may vary and are not important&quot;.  You have several examples where <code>getClass().getMethod(...)</code> works.  You also are not understanding the original example and are not understanding the cause of the <code>IllegalAccessException</code> which make it clear that the strong encapsulation that is the default mode of the module system starting with JDK16 is the cause.  Please stop bothering people with your irrelevant code snippets."}],"answers":[{"tags":[],"owner":{"account_id":1161729,"reputation":1762,"user_id":1233340,"accept_rate":56,"display_name":"timmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674618636,"creation_date":1674618636,"answer_id":75229541,"question_id":75053477,"body_markdown":"The reason the example in the question fails is due to changes in JDK 16 that make strong encapsulation of JDK internals the default setting as described in https://openjdk.org/jeps/396.\r\n\r\nJDK 9 introduced the module system and to aid in migration, weak encapsulation was the default setting.\r\n\r\nStarting with JDK 16, strong encapsulation is the default setting.  See the relevant detail in the JEP here as it relates to the example in the question:\r\n\r\n    In Java 9, we improved both the security and the maintainability of the JDK by leveraging modules to limit access to its internal elements. Modules provide strong encapsulation, which means that \r\n\r\n    Code outside of a module can only access the public and protected elements of the packages exported by that module\r\n\r\nThis is why exporting the package the `Coupon` class in the `module-info.java` file allows the above example to work:\r\n\r\n    exports ca.MyStore.domain.coupons\r\n\r\nAlternatively, one can define the module itself as an `open` module.  This works, but is probably not recommended.","title":"module jdk.proxy2 does not export com.sun.proxy.jdk.proxy2 to module ca.example.MyStore","body":"<p>The reason the example in the question fails is due to changes in JDK 16 that make strong encapsulation of JDK internals the default setting as described in <a href=\"https://openjdk.org/jeps/396\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/396</a>.</p>\n<p>JDK 9 introduced the module system and to aid in migration, weak encapsulation was the default setting.</p>\n<p>Starting with JDK 16, strong encapsulation is the default setting.  See the relevant detail in the JEP here as it relates to the example in the question:</p>\n<pre><code>In Java 9, we improved both the security and the maintainability of the JDK by leveraging modules to limit access to its internal elements. Modules provide strong encapsulation, which means that \n\nCode outside of a module can only access the public and protected elements of the packages exported by that module\n</code></pre>\n<p>This is why exporting the package the <code>Coupon</code> class in the <code>module-info.java</code> file allows the above example to work:</p>\n<pre><code>exports ca.MyStore.domain.coupons\n</code></pre>\n<p>Alternatively, one can define the module itself as an <code>open</code> module.  This works, but is probably not recommended.</p>\n"}],"owner":{"account_id":1161729,"reputation":1762,"user_id":1233340,"accept_rate":56,"display_name":"timmy"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2723,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75229541,"answer_count":1,"score":0,"last_activity_date":1674618636,"creation_date":1673242205,"question_id":75053477,"body_markdown":"I&#39;m playing around with modules and am trying to use reflection to invoke a method on a proxy.  I get the following error:\r\n\r\n    java.lang.IllegalAccessException: class ca.example.MyStore.ProxyExample (in module ca.exampe.MyStore) cannot access class com.sun.proxy.jdk.proxy2.$Proxy10 (in module jdk.proxy2) because module jdk.proxy2 does not export com.sun.proxy.jdk.proxy2 to module ca.example.MyStore\r\n\r\nHere is the method invocation on the proxy instance that causes the above exception when the default method is attempted to be invoked:\r\n\r\n```\r\n    public Object executeDefaultMethod() throws InvocationTargetException, IllegalAccessException, NoSuchMethodException {\r\n        // can not use Proxy when the app is modularized unless you specify that the module is open\r\n        // open module notes: https://stackoverflow.com/questions/53927375/how-do-java-module-directives-impact-reflection-access-into-a-module\r\n        Object proxy = Proxy.newProxyInstance(getSystemClassLoader(), new Class&lt;?&gt;[] { Coupon.class },\r\n                (prox, method, args) -&gt; {\r\n                    if (method.isDefault()) {\r\n                        // invokeDefault is new with Java 16\r\n                        return InvocationHandler.invokeDefault(prox, method, args);\r\n                    }\r\n                    return null;\r\n                }\r\n        );\r\n        Method method = proxy.getClass().getMethod(&quot;itemDiscount&quot;);\r\n        return method.invoke(proxy);\r\n    }\r\n```\r\n\r\n\r\nInterestingly, if I `open` the module, the code works.  Why is this?  The reflective call is happening within code that exists in the module.  What is this error telling me?\r\n","title":"module jdk.proxy2 does not export com.sun.proxy.jdk.proxy2 to module ca.example.MyStore","body":"<p>I'm playing around with modules and am trying to use reflection to invoke a method on a proxy.  I get the following error:</p>\n<pre><code>java.lang.IllegalAccessException: class ca.example.MyStore.ProxyExample (in module ca.exampe.MyStore) cannot access class com.sun.proxy.jdk.proxy2.$Proxy10 (in module jdk.proxy2) because module jdk.proxy2 does not export com.sun.proxy.jdk.proxy2 to module ca.example.MyStore\n</code></pre>\n<p>Here is the method invocation on the proxy instance that causes the above exception when the default method is attempted to be invoked:</p>\n<pre><code>    public Object executeDefaultMethod() throws InvocationTargetException, IllegalAccessException, NoSuchMethodException {\n        // can not use Proxy when the app is modularized unless you specify that the module is open\n        // open module notes: https://stackoverflow.com/questions/53927375/how-do-java-module-directives-impact-reflection-access-into-a-module\n        Object proxy = Proxy.newProxyInstance(getSystemClassLoader(), new Class&lt;?&gt;[] { Coupon.class },\n                (prox, method, args) -&gt; {\n                    if (method.isDefault()) {\n                        // invokeDefault is new with Java 16\n                        return InvocationHandler.invokeDefault(prox, method, args);\n                    }\n                    return null;\n                }\n        );\n        Method method = proxy.getClass().getMethod(&quot;itemDiscount&quot;);\n        return method.invoke(proxy);\n    }\n</code></pre>\n<p>Interestingly, if I <code>open</code> the module, the code works.  Why is this?  The reflective call is happening within code that exists in the module.  What is this error telling me?</p>\n"},{"tags":["java","android","android-studio","android-contacts","contactscontract"],"comments":[{"owner":{"account_id":6231757,"reputation":5087,"user_id":4848308,"display_name":"Gueorgui Obregon"},"score":0,"creation_date":1456856533,"post_id":35728406,"comment_id":59135738,"body_markdown":"take a look to this answer http://stackoverflow.com/a/8802659/726954","body":"take a look to this answer <a href=\"http://stackoverflow.com/a/8802659/726954\">stackoverflow.com/a/8802659/726954</a>"},{"owner":{"account_id":6231757,"reputation":5087,"user_id":4848308,"display_name":"Gueorgui Obregon"},"score":1,"creation_date":1456856618,"post_id":35728406,"comment_id":59135785,"body_markdown":"Possible duplicate of [Modifying contact information](http://stackoverflow.com/questions/8788053/modifying-contact-information)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/8788053/modifying-contact-information\">Modifying contact information</a>"}],"answers":[{"tags":[],"owner":{"account_id":1142219,"reputation":868,"user_id":1125774,"display_name":"mohammad madani"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1674618369,"creation_date":1456901470,"answer_id":35740355,"question_id":35728406,"body_markdown":"&gt; [![enter image description here][1]][1]\r\n\r\n&lt;sup&gt;[Image][2] from [Get Contact Emails By Content Provider - Android Example][3]&lt;/sup&gt;\r\n\r\n            Cursor mRawContactCursor = context.getContentResolver().query(\r\n                ContactsContract.RawContacts.CONTENT_URI,\r\n                null,\r\n                ContactsContract.Data.CONTACT_ID + &quot; = ?&quot;,\r\n                new String[] {ID},\r\n                null);\r\n        mRawContactCursor.moveToFirst();\r\n        String rawId = mRawContactCursor.getString(mRawContactCursor.getColumnIndex(ContactsContract.RawContacts._ID));\r\n\r\n\r\nuse this code to find _ID or RAW_CONTACT_ID then update or insert to contact.\r\n\r\n            for (ContactEmail contactEmail : emails) {\r\n            values.put(ContactsContract.Data.RAW_CONTACT_ID, rawId);\r\n            values.put(ContactsContract.Data.MIMETYPE, ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE);\r\n            values.put(ContactsContract.CommonDataKinds.Email.ADDRESS, &quot;a@a.com&quot;);\r\n            values.put(ContactsContract.CommonDataKinds.Email.TYPE, type.home);\r\n            contentResolver.insert(android.provider.ContactsContract.Data.CONTENT_URI, values);\r\n        }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T3vm5.png\r\n  [2]: https://androidexample.com/upload/content/Content_provider_get_email_workflow.png\r\n  [3]: https://androidexample.com/get-contact-emails-content-provider","title":"How to add new field to a contact in android","body":"<blockquote>\n<p><a href=\"https://i.stack.imgur.com/T3vm5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T3vm5.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p><sup><a href=\"https://androidexample.com/upload/content/Content_provider_get_email_workflow.png\" rel=\"nofollow noreferrer\">Image</a> from <a href=\"https://androidexample.com/get-contact-emails-content-provider\" rel=\"nofollow noreferrer\">Get Contact Emails By Content Provider - Android Example</a></sup></p>\n<pre><code>        Cursor mRawContactCursor = context.getContentResolver().query(\n            ContactsContract.RawContacts.CONTENT_URI,\n            null,\n            ContactsContract.Data.CONTACT_ID + &quot; = ?&quot;,\n            new String[] {ID},\n            null);\n    mRawContactCursor.moveToFirst();\n    String rawId = mRawContactCursor.getString(mRawContactCursor.getColumnIndex(ContactsContract.RawContacts._ID));\n</code></pre>\n<p>use this code to find _ID or RAW_CONTACT_ID then update or insert to contact.</p>\n<pre><code>        for (ContactEmail contactEmail : emails) {\n        values.put(ContactsContract.Data.RAW_CONTACT_ID, rawId);\n        values.put(ContactsContract.Data.MIMETYPE, ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE);\n        values.put(ContactsContract.CommonDataKinds.Email.ADDRESS, &quot;a@a.com&quot;);\n        values.put(ContactsContract.CommonDataKinds.Email.TYPE, type.home);\n        contentResolver.insert(android.provider.ContactsContract.Data.CONTENT_URI, values);\n    }\n</code></pre>\n"}],"owner":{"account_id":2601646,"reputation":1457,"user_id":2253852,"display_name":"eliasetm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1385,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35740355,"answer_count":1,"score":2,"last_activity_date":1674618369,"creation_date":1456850276,"question_id":35728406,"body_markdown":"I want to add new email address to an exist contact.\r\n\r\nI use this code: \r\n\r\n        ArrayList&lt;ContentProviderOperation&gt; insertEmailList =\r\n                new ArrayList&lt;ContentProviderOperation&gt;();\r\n        Uri uri=null;\r\n        for (ContactEmail contactEmail : emails) {\r\n            values.put(ContactsContract.Data.RAW_CONTACT_ID, id);\r\n            values.put(ContactsContract.Data.MIMETYPE, ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE);\r\n            values.put(ContactsContract.CommonDataKinds.Email.ADDRESS, contactEmail.getEmailAddress());\r\n            values.put(ContactsContract.CommonDataKinds.Email.TYPE, ContactsContract.CommonDataKinds.Email.TYPE_CUSTOM);\r\n            uri=contentResolver.insert(android.provider.ContactsContract.Data.CONTENT_URI, values);\r\n        }\r\n\r\nWhen run this code `uri` is `content://com.android.contacts/data/2135` but my contact is not updated.my app run without exception. ","title":"How to add new field to a contact in android","body":"<p>I want to add new email address to an exist contact.</p>\n\n<p>I use this code: </p>\n\n<pre><code>    ArrayList&lt;ContentProviderOperation&gt; insertEmailList =\n            new ArrayList&lt;ContentProviderOperation&gt;();\n    Uri uri=null;\n    for (ContactEmail contactEmail : emails) {\n        values.put(ContactsContract.Data.RAW_CONTACT_ID, id);\n        values.put(ContactsContract.Data.MIMETYPE, ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE);\n        values.put(ContactsContract.CommonDataKinds.Email.ADDRESS, contactEmail.getEmailAddress());\n        values.put(ContactsContract.CommonDataKinds.Email.TYPE, ContactsContract.CommonDataKinds.Email.TYPE_CUSTOM);\n        uri=contentResolver.insert(android.provider.ContactsContract.Data.CONTENT_URI, values);\n    }\n</code></pre>\n\n<p>When run this code <code>uri</code> is <code>content://com.android.contacts/data/2135</code> but my contact is not updated.my app run without exception. </p>\n"},{"tags":["java","scala","apache-spark","jdbc","s4hana"],"owner":{"account_id":400545,"reputation":91,"user_id":766569,"display_name":"Santhosha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674617725,"creation_date":1674608503,"question_id":75228808,"body_markdown":"How to manage this cast?\r\n\r\n```\r\nscala.math.BigDecimal cannot be cast to java.math.BigDecimal\r\n```\r\nWhile Reading the data from Redshift and Writing to S4HANA via JDBC.\r\n\r\nJDBC Connection.\r\n```\r\nconnection_sap_options_pfd = {\r\n    &quot;url&quot;: db_url,\r\n    &quot;dbTable&quot;: &#39;dbTable_name&#39;,\r\n    &quot;user&quot;: db_username,\r\n    &quot;password&quot;:db_password,\r\n    &quot;customJdbcDriverS3Path&quot;: driver_path,\r\n    &quot;className&quot;: jdbc_driver_name\r\n}\r\n```\r\n\r\nWriting the dataframe\r\n```\r\nglueContext.write_dynamic_frame.from_options(frame = pfd_dynamicFrame, connection_type=&quot;custom.jdbc&quot;, \r\nconnection_options=connection_sap_options_pfd, \r\ntransformation_ctx = &quot;datasink_pfd&quot;)\r\n```\r\n`pfd_dynamicFrame` has one column which is of type `Decimal(4, 0)`\r\nwhile writing i have the below exception.\r\n\r\n```\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o109.pyWriteDynamicFrame.\r\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 1 in stage 9.0 failed 4 times, most recent failure: Lost task 1.3 in stage 9.0 (TID 51) (44.109.37.157 executor 4): \r\njava.lang.ClassCastException: scala.math.BigDecimal cannot be cast to java.math.BigDecimal\r\n\tat org.apache.spark.sql.Row.getDecimal(Row.scala:285)\r\n\tat org.apache.spark.sql.Row.getDecimal$(Row.scala:285)\r\n\tat org.apache.spark.sql.catalyst.expressions.GenericRow.getDecimal(rows.scala:166)\r\n\tat com.amazonaws.services.glue.marketplace.partner.PartnerJDBCRecordWriter.$anonfun$makeSetter$12(PartnerJDBCDataSink.scala:276)\r\n\tat com.amazonaws.services.glue.marketplace.partner.PartnerJDBCRecordWriter.$anonfun$makeSetter$12$adapted(PartnerJDBCDataSink.scala:275)\r\n\tat com.amazonaws.services.glue.marketplace.partner.PartnerJDBCRecordWriter.writePartition(PartnerJDBCDataSink.scala:163)\r\n\tat com.amazonaws.services.glue.marketplace.connector.GlueCustomDataSink.$anonfun$defaultWriteDynamicFrame$1(CustomDataSink.scala:82)\r\n\tat com.amazonaws.services.glue.marketplace.connector.GlueCustomDataSink.$anonfun$defaultWriteDynamicFrame$1$adapted(CustomDataSink.scala:71)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:138)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1516)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```","title":"An error occurred while calling o109.pyWriteDynamicFrame. scala.math.BigDecimal cannot be cast to java.math.BigDecimal","body":"<p>How to manage this cast?</p>\n<pre><code>scala.math.BigDecimal cannot be cast to java.math.BigDecimal\n</code></pre>\n<p>While Reading the data from Redshift and Writing to S4HANA via JDBC.</p>\n<p>JDBC Connection.</p>\n<pre><code>connection_sap_options_pfd = {\n    &quot;url&quot;: db_url,\n    &quot;dbTable&quot;: 'dbTable_name',\n    &quot;user&quot;: db_username,\n    &quot;password&quot;:db_password,\n    &quot;customJdbcDriverS3Path&quot;: driver_path,\n    &quot;className&quot;: jdbc_driver_name\n}\n</code></pre>\n<p>Writing the dataframe</p>\n<pre><code>glueContext.write_dynamic_frame.from_options(frame = pfd_dynamicFrame, connection_type=&quot;custom.jdbc&quot;, \nconnection_options=connection_sap_options_pfd, \ntransformation_ctx = &quot;datasink_pfd&quot;)\n</code></pre>\n<p><code>pfd_dynamicFrame</code> has one column which is of type <code>Decimal(4, 0)</code>\nwhile writing i have the below exception.</p>\n<pre><code>py4j.protocol.Py4JJavaError: An error occurred while calling o109.pyWriteDynamicFrame.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 1 in stage 9.0 failed 4 times, most recent failure: Lost task 1.3 in stage 9.0 (TID 51) (44.109.37.157 executor 4): \njava.lang.ClassCastException: scala.math.BigDecimal cannot be cast to java.math.BigDecimal\n    at org.apache.spark.sql.Row.getDecimal(Row.scala:285)\n    at org.apache.spark.sql.Row.getDecimal$(Row.scala:285)\n    at org.apache.spark.sql.catalyst.expressions.GenericRow.getDecimal(rows.scala:166)\n    at com.amazonaws.services.glue.marketplace.partner.PartnerJDBCRecordWriter.$anonfun$makeSetter$12(PartnerJDBCDataSink.scala:276)\n    at com.amazonaws.services.glue.marketplace.partner.PartnerJDBCRecordWriter.$anonfun$makeSetter$12$adapted(PartnerJDBCDataSink.scala:275)\n    at com.amazonaws.services.glue.marketplace.partner.PartnerJDBCRecordWriter.writePartition(PartnerJDBCDataSink.scala:163)\n    at com.amazonaws.services.glue.marketplace.connector.GlueCustomDataSink.$anonfun$defaultWriteDynamicFrame$1(CustomDataSink.scala:82)\n    at com.amazonaws.services.glue.marketplace.connector.GlueCustomDataSink.$anonfun$defaultWriteDynamicFrame$1$adapted(CustomDataSink.scala:71)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:138)\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1516)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n"},{"tags":["java","spring-data-jpa","spring-data","thymeleaf"],"owner":{"account_id":22036309,"reputation":23,"user_id":16302750,"display_name":"chengyu-guide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674617668,"creation_date":1673201035,"question_id":75050177,"body_markdown":"I have created a Thymeleaf form which has a field that accepts multiple values. I am attempting to map this list of fields to a JPA entity, but I keep getting the following error:\r\n\r\n```\r\ndefault message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.List&#39; for property &#39;equipmentExerciseList&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;myproject.model.EquipmentExercise&#39; for property &#39;equipmentExerciseList[0]&#39;: no matching editors or conversion strategy found\r\n```\r\n\r\nI am following [this](https://youtu.be/ctwRpskAeIU?t=4803) tutorial, and a difference I see is that one of my entities has an embedded id, so I figure that must be causing my issues.\r\n\r\nBasically, I want to insert a new exercise into the database, with the exercise containing a list of required equipment. The required equipment must be chosen from a list existing in the database.\r\n\r\n## **Tables**\r\n\r\nI have an entity, Exercise, which logically can be performed with multiple props/pieces of equipment. Similarly, the pieces of equipment can be associated with multiple exercises. I have created a join table to handle this relationship, and I also have a third table which controls the equipment that can be selected:\r\n\r\n[![\\[Tables\\](https://i.stack.imgur.com/ewrjv.png)][1]][1]\r\n\r\n## **Code**\r\n\r\n### **Entities**\r\n\r\nExercise.java\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;Exercise&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\npublic class Exercise implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;exercise_name&quot;)\r\n    private String exerciseName;\r\n\r\n    // Others removed for brevity  \r\n\r\n    @OneToMany(mappedBy = &quot;exercise&quot;)\r\n    private List&lt;EquipmentExercise&gt; equipmentExerciseList; \r\n}\r\n```\r\n\r\nEquipmentExercise.java\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;EquipmentExercise&quot;)\r\n@ToString\r\npublic class EquipmentExercise implements Serializable {\r\n\r\n    @EmbeddedId\r\n    EquipmentExerciseId equipmentExerciseId;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;exerciseName&quot;)\r\n    @JoinColumn(name = &quot;exercise_name&quot;)\r\n    Exercise exercise;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;equipmentName&quot;)\r\n    @JoinColumn(name = &quot;equipment_name&quot;)\r\n    Equipment equipment;\r\n\r\n}\r\n```\r\n\r\nEquipmentExerciseId.java\r\n\r\n```\r\n@Embeddable\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\n@ToString\r\npublic class EquipmentExerciseId implements Serializable {\r\n    \r\n    @Column(name = &quot;equipment_name&quot;)\r\n    String equipmentName;\r\n\r\n    @Column(name = &quot;exercise_name&quot;)\r\n    String exercise_name;\r\n}\r\n```\r\n\r\nEquipment.java\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Equipment&quot;)\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class Equipment {\r\n    \r\n    @Id\r\n    @Column(name = &quot;equipment_name&quot;)\r\n    String equipmentName;\r\n\r\n    @OneToMany(mappedBy = &quot;equipment&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;EquipmentExercise&gt; equipmentExerciseList;\r\n\r\n}\r\n```\r\n\r\n## \r\n\r\n## Attempted Solution 1\r\n\r\nAt first I retrieved a list of potential props from the Equipment table and used that to populate the options on the Thymeleaf form:\r\n\r\n### Controller\r\n\r\n```\r\n @GetMapping(&quot;/stretch&quot;)\r\n    public String addStretch(Model model){\r\n        List&lt;Equipment&gt; availableEquipmentList = equipmentService.findAllEquipment();\r\n        EquipmentExercise equipmentExercise = new EquipmentExercise();\r\n\r\n        model.addAttribute(&quot;exercise&quot;, new Exercise());\r\n        model.addAttribute(&quot;availableEquipmentList&quot;, availableEquipmentList);\r\n        model.addAttribute(&quot;EquipmentExercise&quot;, equipmentExercise);\r\n\r\n        return &quot;/add&quot;;\r\n}\r\n```\r\n\r\n### Thymeleaf Form\r\n\r\n```\r\n &lt;div class=&quot;mb-3&quot;&gt;\r\n    &lt;label for=&quot;exercise.equipmentExerciseList&quot; class=&quot;form-label&quot;&gt;Prop(s)&lt;/label&gt;\r\n    &lt;select th:field=&quot;${exercise.equipmentExerciseList}&quot; class=&quot;form-control&quot; multiple=&quot;multiple&quot; name = &quot;exercise.equipmentExerciseList&quot;&gt;\r\n       &lt;th:block th:each=&quot;equipment : ${availableEquipmentList}&quot;&gt;\r\n               &lt;option th:text=&quot;${equipment.equipmentName}&quot; th:value=&quot;${equipment.equipmentName}&quot; /&gt;\r\n       &lt;/th:block&gt;\r\n    &lt;/select&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nbut I got the error from above.\r\n\r\n## Attempted Solution 2\r\n\r\nI did some digging here and discovered that the error probably is arising because the program did not know how to convert from Equipment to EquipmentExercise. So, I tried using an EquipmentExercise object instead of the Equipment object in the form, but I am still effectively getting the same error, just with a different object as the source of the error.\r\n\r\n```\r\n @GetMapping(&quot;/stretch&quot;)\r\n    public String addStretch(Model model){\r\n        List&lt;EquipmentExercise&gt; availableEquipmentList;\r\n\r\n        EquipmentExercise equipmentExercise = new EquipmentExercise();\r\n        EquipmentExerciseId equipmentExerciseId = new EquipmentExerciseId();\r\n        equipmentExercise.setEquipmentName = &quot;Test&quot;;\r\n        equipmentExercise.setEquipmentExerciseId(equipmentExerciseId);\r\n        availableEquipmentList.add(equipmentExercise);\r\n\r\n        model.addAttribute(&quot;exercise&quot;, new Exercise());\r\n        model.addAttribute(&quot;availableEquipmentList&quot;, availableEquipmentList);\r\n\r\n        return &quot;/add&quot;;\r\n}\r\n```\r\n\r\n### Thymeleaf Form\r\n\r\n```\r\n &lt;div class=&quot;mb-3&quot;&gt;\r\n    &lt;label for=&quot;exercise.equipmentList&quot; class=&quot;form-label&quot;&gt;Prop(s)&lt;/label&gt;\r\n    &lt;select th:field=&quot;${exercise.equipmentList}&quot; class=&quot;form-control&quot; multiple=&quot;multiple&quot; name = &quot;exercise.equipmentList&quot;  &gt;\r\n       &lt;th:block th:each=&quot;equipmentExercise : ${equipmentExerciseList}&quot;&gt;\r\n           &lt;option th:text=&quot;${equipmentExercise.getEquipmentExerciseId().getEquipmentName()}&quot; th:value=&quot;${equipmentExercise}&quot; /&gt;\r\n       &lt;/th:block&gt;\r\n    &lt;/select&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n### Error\r\n\r\n```\r\nField error in object &#39;exercise&#39; on field &#39;equipmentExerciseList&#39;: rejected value [EquipmentExercise(equipmentExerciseId=EquipmentExerciseId(equipmentName=Test, exerciseName=null), exercise=null, equipment=null)]; codes [typeMismatch.exercise.equipmentExerciselist,typeMismatch.equipmentExerciseList,typeMismatch.java.util.List,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [exercise.equipmentExerciseList,equipmentExerciseList]; arguments []; default message [equipmentExerciseList]]; default message [Failed to convert property value of type &#39;java.lang.String&#39; to required type &#39;java.util.List&#39; for property &#39;propList&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;myproject.model.EquipmentExercise&#39; for property &#39;equipmentExerciseList[0]&#39;: no matching editors or conversion strategy found]\r\n```\r\n\r\n\r\n----------\r\n**Update**\r\n\r\nI have confirmed my suspicion that the issue stems from the composite id, but I do not yet have a solution. \r\n\r\nTo confirm, I found [this][2] similar question, where one of the answers explains that the th:value is supposed to map to a primary key, which Spring then uses behind the scenes to generate the requested object. I am guessing that the th:values I&#39;ve provided are too ambiguous (due to the composite key) for Spring to map correctly. \r\n\r\nI looked into a custom converter, and was able to get Spring to generate an Exercise object using this, but understandably, the values the other fields in my EquipmentExercise class didn&#39;t map \r\n\r\n```\r\n@Override\r\npublic EquipmentExercise convert(String equipmentName){\r\n    \r\n    EquipmentExercise equipmentExercise = new EquipmentExercise();\r\n    EquipmentExerciseId equipmentExerciseId = new EquipmentExerciseId();\r\n    equipmentExerciseId.setEquipmentName(equipmentName);\r\n    equipmentExercise.setEquipmentExerciseId(equipmentExerciseId);\r\n       \r\n    return equipmentExercise;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pY0wN.png\r\n  [2]: https://stackoverflow.com/questions/25234357/select-tag-with-object-thymeleaf-and-spring-mvc/30430218","title":"Spring JPA, Thymeleaf - Bind Form List to Entity with EmbeddedId (OneToMany; ManyToOne)","body":"<p>I have created a Thymeleaf form which has a field that accepts multiple values. I am attempting to map this list of fields to a JPA entity, but I keep getting the following error:</p>\n<pre><code>default message [Failed to convert property value of type 'java.lang.String' to required type 'java.util.List' for property 'equipmentExerciseList'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'myproject.model.EquipmentExercise' for property 'equipmentExerciseList[0]': no matching editors or conversion strategy found\n</code></pre>\n<p>I am following <a href=\"https://youtu.be/ctwRpskAeIU?t=4803\" rel=\"nofollow noreferrer\">this</a> tutorial, and a difference I see is that one of my entities has an embedded id, so I figure that must be causing my issues.</p>\n<p>Basically, I want to insert a new exercise into the database, with the exercise containing a list of required equipment. The required equipment must be chosen from a list existing in the database.</p>\n<h2><strong>Tables</strong></h2>\n<p>I have an entity, Exercise, which logically can be performed with multiple props/pieces of equipment. Similarly, the pieces of equipment can be associated with multiple exercises. I have created a join table to handle this relationship, and I also have a third table which controls the equipment that can be selected:</p>\n<p><a href=\"https://i.stack.imgur.com/pY0wN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pY0wN.png\" alt=\"[Tables](https://i.stack.imgur.com/ewrjv.png)\" /></a></p>\n<h2><strong>Code</strong></h2>\n<h3><strong>Entities</strong></h3>\n<p>Exercise.java</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;Exercise&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\npublic class Exercise implements Serializable {\n\n    @Id\n    @Column(name = &quot;exercise_name&quot;)\n    private String exerciseName;\n\n    // Others removed for brevity  \n\n    @OneToMany(mappedBy = &quot;exercise&quot;)\n    private List&lt;EquipmentExercise&gt; equipmentExerciseList; \n}\n</code></pre>\n<p>EquipmentExercise.java</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;EquipmentExercise&quot;)\n@ToString\npublic class EquipmentExercise implements Serializable {\n\n    @EmbeddedId\n    EquipmentExerciseId equipmentExerciseId;\n\n    @ManyToOne\n    @MapsId(&quot;exerciseName&quot;)\n    @JoinColumn(name = &quot;exercise_name&quot;)\n    Exercise exercise;\n\n    @ManyToOne\n    @MapsId(&quot;equipmentName&quot;)\n    @JoinColumn(name = &quot;equipment_name&quot;)\n    Equipment equipment;\n\n}\n</code></pre>\n<p>EquipmentExerciseId.java</p>\n<pre><code>@Embeddable\n@Getter\n@Setter\n@EqualsAndHashCode\n@ToString\npublic class EquipmentExerciseId implements Serializable {\n    \n    @Column(name = &quot;equipment_name&quot;)\n    String equipmentName;\n\n    @Column(name = &quot;exercise_name&quot;)\n    String exercise_name;\n}\n</code></pre>\n<p>Equipment.java</p>\n<pre><code>@Entity\n@Table(name = &quot;Equipment&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Equipment {\n    \n    @Id\n    @Column(name = &quot;equipment_name&quot;)\n    String equipmentName;\n\n    @OneToMany(mappedBy = &quot;equipment&quot;, cascade = CascadeType.ALL)\n    private List&lt;EquipmentExercise&gt; equipmentExerciseList;\n\n}\n</code></pre>\n<h2></h2>\n<h2>Attempted Solution 1</h2>\n<p>At first I retrieved a list of potential props from the Equipment table and used that to populate the options on the Thymeleaf form:</p>\n<h3>Controller</h3>\n<pre><code> @GetMapping(&quot;/stretch&quot;)\n    public String addStretch(Model model){\n        List&lt;Equipment&gt; availableEquipmentList = equipmentService.findAllEquipment();\n        EquipmentExercise equipmentExercise = new EquipmentExercise();\n\n        model.addAttribute(&quot;exercise&quot;, new Exercise());\n        model.addAttribute(&quot;availableEquipmentList&quot;, availableEquipmentList);\n        model.addAttribute(&quot;EquipmentExercise&quot;, equipmentExercise);\n\n        return &quot;/add&quot;;\n}\n</code></pre>\n<h3>Thymeleaf Form</h3>\n<pre><code> &lt;div class=&quot;mb-3&quot;&gt;\n    &lt;label for=&quot;exercise.equipmentExerciseList&quot; class=&quot;form-label&quot;&gt;Prop(s)&lt;/label&gt;\n    &lt;select th:field=&quot;${exercise.equipmentExerciseList}&quot; class=&quot;form-control&quot; multiple=&quot;multiple&quot; name = &quot;exercise.equipmentExerciseList&quot;&gt;\n       &lt;th:block th:each=&quot;equipment : ${availableEquipmentList}&quot;&gt;\n               &lt;option th:text=&quot;${equipment.equipmentName}&quot; th:value=&quot;${equipment.equipmentName}&quot; /&gt;\n       &lt;/th:block&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n<p>but I got the error from above.</p>\n<h2>Attempted Solution 2</h2>\n<p>I did some digging here and discovered that the error probably is arising because the program did not know how to convert from Equipment to EquipmentExercise. So, I tried using an EquipmentExercise object instead of the Equipment object in the form, but I am still effectively getting the same error, just with a different object as the source of the error.</p>\n<pre><code> @GetMapping(&quot;/stretch&quot;)\n    public String addStretch(Model model){\n        List&lt;EquipmentExercise&gt; availableEquipmentList;\n\n        EquipmentExercise equipmentExercise = new EquipmentExercise();\n        EquipmentExerciseId equipmentExerciseId = new EquipmentExerciseId();\n        equipmentExercise.setEquipmentName = &quot;Test&quot;;\n        equipmentExercise.setEquipmentExerciseId(equipmentExerciseId);\n        availableEquipmentList.add(equipmentExercise);\n\n        model.addAttribute(&quot;exercise&quot;, new Exercise());\n        model.addAttribute(&quot;availableEquipmentList&quot;, availableEquipmentList);\n\n        return &quot;/add&quot;;\n}\n</code></pre>\n<h3>Thymeleaf Form</h3>\n<pre><code> &lt;div class=&quot;mb-3&quot;&gt;\n    &lt;label for=&quot;exercise.equipmentList&quot; class=&quot;form-label&quot;&gt;Prop(s)&lt;/label&gt;\n    &lt;select th:field=&quot;${exercise.equipmentList}&quot; class=&quot;form-control&quot; multiple=&quot;multiple&quot; name = &quot;exercise.equipmentList&quot;  &gt;\n       &lt;th:block th:each=&quot;equipmentExercise : ${equipmentExerciseList}&quot;&gt;\n           &lt;option th:text=&quot;${equipmentExercise.getEquipmentExerciseId().getEquipmentName()}&quot; th:value=&quot;${equipmentExercise}&quot; /&gt;\n       &lt;/th:block&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n<h3>Error</h3>\n<pre><code>Field error in object 'exercise' on field 'equipmentExerciseList': rejected value [EquipmentExercise(equipmentExerciseId=EquipmentExerciseId(equipmentName=Test, exerciseName=null), exercise=null, equipment=null)]; codes [typeMismatch.exercise.equipmentExerciselist,typeMismatch.equipmentExerciseList,typeMismatch.java.util.List,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [exercise.equipmentExerciseList,equipmentExerciseList]; arguments []; default message [equipmentExerciseList]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'java.util.List' for property 'propList'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'myproject.model.EquipmentExercise' for property 'equipmentExerciseList[0]': no matching editors or conversion strategy found]\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>I have confirmed my suspicion that the issue stems from the composite id, but I do not yet have a solution.</p>\n<p>To confirm, I found <a href=\"https://stackoverflow.com/questions/25234357/select-tag-with-object-thymeleaf-and-spring-mvc/30430218\">this</a> similar question, where one of the answers explains that the th:value is supposed to map to a primary key, which Spring then uses behind the scenes to generate the requested object. I am guessing that the th:values I've provided are too ambiguous (due to the composite key) for Spring to map correctly.</p>\n<p>I looked into a custom converter, and was able to get Spring to generate an Exercise object using this, but understandably, the values the other fields in my EquipmentExercise class didn't map</p>\n<pre><code>@Override\npublic EquipmentExercise convert(String equipmentName){\n    \n    EquipmentExercise equipmentExercise = new EquipmentExercise();\n    EquipmentExerciseId equipmentExerciseId = new EquipmentExerciseId();\n    equipmentExerciseId.setEquipmentName(equipmentName);\n    equipmentExercise.setEquipmentExerciseId(equipmentExerciseId);\n       \n    return equipmentExercise;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674655100,"post_id":75229468,"comment_id":132760598,"body_markdown":"You don&#39;t need `@Transactional` on the listener method - the container will start the transaction (but that shouldn&#39;t be causing the problem). DEBUG logging should help understand why an attempt to call `beginTransaction` is made while we already have  a transaction. It also looks like you are doing some async processing, which is not recommended because the ack will be completed before the work.","body":"You don&#39;t need <code>@Transactional</code> on the listener method - the container will start the transaction (but that shouldn&#39;t be causing the problem). DEBUG logging should help understand why an attempt to call <code>beginTransaction</code> is made while we already have  a transaction. It also looks like you are doing some async processing, which is not recommended because the ack will be completed before the work."},{"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"score":0,"creation_date":1674703609,"post_id":75229468,"comment_id":132772813,"body_markdown":"@GaryRussell As far as the async processing is concerned, I am scheduling a job to process the message at a later time due to our very low timeouts for ACK. I&#39;ll try to see the DEBUG logs as you have suggested...","body":"@GaryRussell As far as the async processing is concerned, I am scheduling a job to process the message at a later time due to our very low timeouts for ACK. I&#39;ll try to see the DEBUG logs as you have suggested..."},{"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"score":0,"creation_date":1674738910,"post_id":75229468,"comment_id":132780532,"body_markdown":"@GaryRussell Kafka is deployed in confluent. There are three partitions in the topic. Two instances of an ECS service are consuming from these partitions. By any chance, can this be causing a problem?","body":"@GaryRussell Kafka is deployed in confluent. There are three partitions in the topic. Two instances of an ECS service are consuming from these partitions. By any chance, can this be causing a problem?"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674740363,"post_id":75229468,"comment_id":132780963,"body_markdown":"Right, but you are acking the record before the async processing is complete. That&#39;s ok if you don&#39;t mind losing records. This has nothing to do with multiple instances, it means a transaction is already in progress but we are trying to start it again for some reason.","body":"Right, but you are acking the record before the async processing is complete. That&#39;s ok if you don&#39;t mind losing records. This has nothing to do with multiple instances, it means a transaction is already in progress but we are trying to start it again for some reason."},{"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"score":0,"creation_date":1674740752,"post_id":75229468,"comment_id":132781095,"body_markdown":"The reason why I suspect multiple instances is, the possibility of having a misconfiguration that causes a transaction to be initiated on a message which is already in transaction.","body":"The reason why I suspect multiple instances is, the possibility of having a misconfiguration that causes a transaction to be initiated on a message which is already in transaction."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674746305,"post_id":75229468,"comment_id":132783202,"body_markdown":"No; transactions are local to the current instance.","body":"No; transactions are local to the current instance."},{"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"score":0,"creation_date":1678192341,"post_id":75229468,"comment_id":133482206,"body_markdown":"@GaryRussell I am sorry for the delayed response. Can you tell me if the following is a possibility?\n1. Consumer (having `@Transactional`) starts consuming a message with offset `x` in a transaction; offset is not acknowledged yet; Spring transaction is still incomplete\n2. Kafka cluster triggers a consumer rebalance\n3. Consumer gets the same partition assigned. Since `x` is still not acknowledged, so the consumer starts consuming again.","body":"@GaryRussell I am sorry for the delayed response. Can you tell me if the following is a possibility? 1. Consumer (having <code>@Transactional</code>) starts consuming a message with offset <code>x</code> in a transaction; offset is not acknowledged yet; Spring transaction is still incomplete 2. Kafka cluster triggers a consumer rebalance 3. Consumer gets the same partition assigned. Since <code>x</code> is still not acknowledged, so the consumer starts consuming again."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678199441,"post_id":75229468,"comment_id":133484239,"body_markdown":"Yes, it&#39;s possible if the time to process the records from a `poll()` exceeds `max.poll.interval.ms`. You must ensure the number of records returned by a poll can be processed within that interval, you can reduce `max.poll.records` and/or increase the interval.","body":"Yes, it&#39;s possible if the time to process the records from a <code>poll()</code> exceeds <code>max.poll.interval.ms</code>. You must ensure the number of records returned by a poll can be processed within that interval, you can reduce <code>max.poll.records</code> and/or increase the interval."}],"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674617565,"creation_date":1674617565,"question_id":75229468,"body_markdown":"I am getting the following exception in the Kafka consumer in my AWS ECS service.\r\n\r\n```bash\r\norg.springframework.transaction.CannotCreateTransactionException: Could not create Kafka transaction; nested exception is org.apache.kafka.common.KafkaException: TransactionalId item-availability-view-tx:41e90b10-0690-487b-8a26-9a4dcb295fbditem_availability_view_service_menu_item_changes.MENU_ITEMS_CHANGE_SYNC_FOR_86N.2: Invalid transition attempted from state IN_TRANSACTION to state IN_TRANSACTION\r\n\tat org.springframework.kafka.transaction.KafkaTransactionManager.doBegin(KafkaTransactionManager.java:162) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListenerInTx(KafkaMessageListenerContainer.java:1621) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1596) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1330) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1062) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:970) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\r\nCaused by: org.apache.kafka.common.KafkaException: TransactionalId item-availability-view-tx:41e90b10-0690-487b-8a26-9a4dcb295fbditem_availability_view_service_menu_item_changes.MENU_ITEMS_CHANGE_SYNC_FOR_86N.2: Invalid transition attempted from state IN_TRANSACTION to state IN_TRANSACTION\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.transitionTo(TransactionManager.java:1053) ~[kafka-clients-2.5.0.jar:na]\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.transitionTo(TransactionManager.java:1046) ~[kafka-clients-2.5.0.jar:na]\r\n\tat org.apache.kafka.clients.producer.internals.TransactionManager.beginTransaction(TransactionManager.java:338) ~[kafka-clients-2.5.0.jar:na]\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.beginTransaction(KafkaProducer.java:612) ~[kafka-clients-2.5.0.jar:na]\r\n\tat org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.beginTransaction(DefaultKafkaProducerFactory.java:795) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n\tat brave.kafka.clients.TracingProducer.beginTransaction(TracingProducer.java:69) ~[brave-instrumentation-kafka-clients-5.12.7.jar:na]\r\n\tat org.springframework.kafka.core.ProducerFactoryUtils.getTransactionalResourceHolder(ProducerFactoryUtils.java:99) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n\tat org.springframework.kafka.transaction.KafkaTransactionManager.doBegin(KafkaTransactionManager.java:146) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\r\n```\r\n\r\nThe consumer is defined as follows.\r\n\r\n```java\r\npublic interface UpdateSyncConsumer {\r\n  @KafkaListener(\r\n      id = &quot;update_sync_consumer&quot;,\r\n      topics = &quot;${app.kafka.topics.UPDATES_TOPIC}&quot;,\r\n      containerFactory = &quot;updatesListenerFactory&quot;)\r\n  @Transactional\r\n  void handleUpdate(\r\n      ConsumerRecord&lt;String, UpdateAvro&gt; consumerRecord, Acknowledgment ack);\r\n}\r\n```\r\n\r\nAnd, the consumer is implemented as follows.\r\n\r\n```java\r\n@Component\r\n@Log4j2\r\n@RequiredArgsConstructor\r\npublic class DefaultUpdateSyncConsumer implements\r\n    UpdateSyncConsumer {\r\n\r\n  private final UpdateAvroMapper avroMapper;\r\n  private final UpdateJobScheduler updateJobScheduler;\r\n\r\n  @Override\r\n  public void handleUpdate(\r\n      final ConsumerRecord&lt;String, UpdateAvro&gt; consumerRecord,\r\n      final Acknowledgment ack) {\r\n    try {\r\n      log.info(\r\n          &quot;Scheduling Update Sync: payload: {} count:{}&quot;,\r\n          consumerRecord.value(),\r\n          consumerRecord.value().getItemIds().size());\r\n\r\n      updateJobScheduler.scheduleUpdateSyncAttempt(avroMapper.map(consumerRecord.value()));\r\n      log.info(&quot;Scheduled Update Sync: DONE&quot;);\r\n    } catch (Exception e) {\r\n      log.error(&quot;ERROR: Scheduling Update Sync: {}&quot;, Throwables.getStackTraceAsString(e));\r\n    } finally {\r\n      ack.acknowledge();\r\n      log.info(&quot;Acknowledged: {}&quot;, consumerRecord.key());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nConsumer configuration is as follows.\r\n\r\n```java\r\n@Log4j2\r\n@EnableKafka\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class KafkaConsumerConfig extends KafkaBasicConfig {\r\n\r\n  private final KafkaTemplate&lt;String, Object&gt; kafkaTemplate;\r\n\r\n  @Bean\r\n  public ConsumerFactory&lt;String, Object&gt; consumerFactory() {\r\n    Map&lt;String, Object&gt; basicConfig = getBasicConfig();\r\n    basicConfig.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n    basicConfig.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n    basicConfig.put(ConsumerConfig.ISOLATION_LEVEL_CONFIG, &quot;read_committed&quot;);\r\n    basicConfig\r\n        .put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n    basicConfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\r\n    basicConfig\r\n        .put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class.getName());\r\n    basicConfig.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS,\r\n        KafkaAvroDeserializer.class.getName());\r\n    basicConfig.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(basicConfig);\r\n  }\r\n\r\n  @Bean(name = &quot;updatesListenerFactory&quot;)\r\n  public ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; kafkaListenerContainerFactory(\r\n      KafkaTransactionManager&lt;String, Object&gt; ktm) {\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory =\r\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    factory.setConcurrency(6);\r\n    factory.setConsumerFactory(consumerFactory());\r\n    factory.getContainerProperties().setTransactionManager(ktm);\r\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n    factory.setAfterRollbackProcessor(afterRollbackProcessor());\r\n    return factory;\r\n  }\r\n\r\n  private DefaultAfterRollbackProcessor&lt;String, Object&gt; afterRollbackProcessor() {\r\n    DefaultAfterRollbackProcessor&lt;String, Object&gt; processor =\r\n        new DefaultAfterRollbackProcessor&lt;&gt;((rec, exception) -&gt; {\r\n          log.error(\r\n              &quot;!!!!!!!!!!! Following Record keeps failing despite multiple attempts, therefore would be skipped !! : &quot;\r\n                  + rec);\r\n          log.error(exception);\r\n        }, new FixedBackOff(1000L, 2L));\r\n    processor.setCommitRecovered(true);\r\n    processor.setKafkaTemplate(kafkaTemplate);\r\n    processor.setLogLevel(KafkaException.Level.ERROR);\r\n    processor.addNotRetryableException(SerializationException.class);\r\n    return processor;\r\n  }\r\n}\r\n```\r\n\r\nThe topic is configured with three (03) partitions and the service has two instances in AWS meaning, there are two consumers polling on 3 topics.\r\n\r\nThe exception mentioned above causes the consumers to stop consumption. Can someone see what&#39;s causing this issue?","title":"Kafka Consumers (in Confluent Cloud) stops consumption after Exception","body":"<p>I am getting the following exception in the Kafka consumer in my AWS ECS service.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>org.springframework.transaction.CannotCreateTransactionException: Could not create Kafka transaction; nested exception is org.apache.kafka.common.KafkaException: TransactionalId item-availability-view-tx:41e90b10-0690-487b-8a26-9a4dcb295fbditem_availability_view_service_menu_item_changes.MENU_ITEMS_CHANGE_SYNC_FOR_86N.2: Invalid transition attempted from state IN_TRANSACTION to state IN_TRANSACTION\n    at org.springframework.kafka.transaction.KafkaTransactionManager.doBegin(KafkaTransactionManager.java:162) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListenerInTx(KafkaMessageListenerContainer.java:1621) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:1596) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1330) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1062) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:970) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\n    at java.base/java.lang.Thread.run(Unknown Source) ~[na:na]\nCaused by: org.apache.kafka.common.KafkaException: TransactionalId item-availability-view-tx:41e90b10-0690-487b-8a26-9a4dcb295fbditem_availability_view_service_menu_item_changes.MENU_ITEMS_CHANGE_SYNC_FOR_86N.2: Invalid transition attempted from state IN_TRANSACTION to state IN_TRANSACTION\n    at org.apache.kafka.clients.producer.internals.TransactionManager.transitionTo(TransactionManager.java:1053) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.producer.internals.TransactionManager.transitionTo(TransactionManager.java:1046) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.producer.internals.TransactionManager.beginTransaction(TransactionManager.java:338) ~[kafka-clients-2.5.0.jar:na]\n    at org.apache.kafka.clients.producer.KafkaProducer.beginTransaction(KafkaProducer.java:612) ~[kafka-clients-2.5.0.jar:na]\n    at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.beginTransaction(DefaultKafkaProducerFactory.java:795) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at brave.kafka.clients.TracingProducer.beginTransaction(TracingProducer.java:69) ~[brave-instrumentation-kafka-clients-5.12.7.jar:na]\n    at org.springframework.kafka.core.ProducerFactoryUtils.getTransactionalResourceHolder(ProducerFactoryUtils.java:99) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n    at org.springframework.kafka.transaction.KafkaTransactionManager.doBegin(KafkaTransactionManager.java:146) ~[spring-kafka-2.5.0.RELEASE.jar:2.5.0.RELEASE]\n</code></pre>\n<p>The consumer is defined as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UpdateSyncConsumer {\n  @KafkaListener(\n      id = &quot;update_sync_consumer&quot;,\n      topics = &quot;${app.kafka.topics.UPDATES_TOPIC}&quot;,\n      containerFactory = &quot;updatesListenerFactory&quot;)\n  @Transactional\n  void handleUpdate(\n      ConsumerRecord&lt;String, UpdateAvro&gt; consumerRecord, Acknowledgment ack);\n}\n</code></pre>\n<p>And, the consumer is implemented as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Log4j2\n@RequiredArgsConstructor\npublic class DefaultUpdateSyncConsumer implements\n    UpdateSyncConsumer {\n\n  private final UpdateAvroMapper avroMapper;\n  private final UpdateJobScheduler updateJobScheduler;\n\n  @Override\n  public void handleUpdate(\n      final ConsumerRecord&lt;String, UpdateAvro&gt; consumerRecord,\n      final Acknowledgment ack) {\n    try {\n      log.info(\n          &quot;Scheduling Update Sync: payload: {} count:{}&quot;,\n          consumerRecord.value(),\n          consumerRecord.value().getItemIds().size());\n\n      updateJobScheduler.scheduleUpdateSyncAttempt(avroMapper.map(consumerRecord.value()));\n      log.info(&quot;Scheduled Update Sync: DONE&quot;);\n    } catch (Exception e) {\n      log.error(&quot;ERROR: Scheduling Update Sync: {}&quot;, Throwables.getStackTraceAsString(e));\n    } finally {\n      ack.acknowledge();\n      log.info(&quot;Acknowledged: {}&quot;, consumerRecord.key());\n    }\n  }\n}\n</code></pre>\n<p>Consumer configuration is as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\n@EnableKafka\n@Configuration\n@RequiredArgsConstructor\npublic class KafkaConsumerConfig extends KafkaBasicConfig {\n\n  private final KafkaTemplate&lt;String, Object&gt; kafkaTemplate;\n\n  @Bean\n  public ConsumerFactory&lt;String, Object&gt; consumerFactory() {\n    Map&lt;String, Object&gt; basicConfig = getBasicConfig();\n    basicConfig.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n    basicConfig.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n    basicConfig.put(ConsumerConfig.ISOLATION_LEVEL_CONFIG, &quot;read_committed&quot;);\n    basicConfig\n        .put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n    basicConfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, ErrorHandlingDeserializer.class);\n    basicConfig\n        .put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class.getName());\n    basicConfig.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS,\n        KafkaAvroDeserializer.class.getName());\n    basicConfig.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, true);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(basicConfig);\n  }\n\n  @Bean(name = &quot;updatesListenerFactory&quot;)\n  public ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; kafkaListenerContainerFactory(\n      KafkaTransactionManager&lt;String, Object&gt; ktm) {\n    ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConcurrency(6);\n    factory.setConsumerFactory(consumerFactory());\n    factory.getContainerProperties().setTransactionManager(ktm);\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n    factory.setAfterRollbackProcessor(afterRollbackProcessor());\n    return factory;\n  }\n\n  private DefaultAfterRollbackProcessor&lt;String, Object&gt; afterRollbackProcessor() {\n    DefaultAfterRollbackProcessor&lt;String, Object&gt; processor =\n        new DefaultAfterRollbackProcessor&lt;&gt;((rec, exception) -&gt; {\n          log.error(\n              &quot;!!!!!!!!!!! Following Record keeps failing despite multiple attempts, therefore would be skipped !! : &quot;\n                  + rec);\n          log.error(exception);\n        }, new FixedBackOff(1000L, 2L));\n    processor.setCommitRecovered(true);\n    processor.setKafkaTemplate(kafkaTemplate);\n    processor.setLogLevel(KafkaException.Level.ERROR);\n    processor.addNotRetryableException(SerializationException.class);\n    return processor;\n  }\n}\n</code></pre>\n<p>The topic is configured with three (03) partitions and the service has two instances in AWS meaning, there are two consumers polling on 3 topics.</p>\n<p>The exception mentioned above causes the consumers to stop consumption. Can someone see what's causing this issue?</p>\n"},{"tags":["java","arrays","junit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674179029,"post_id":75179797,"comment_id":132665240,"body_markdown":"You&#39;ll need to at least show us the output of the test.","body":"You&#39;ll need to at least show us the output of the test."},{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1674179271,"post_id":75179797,"comment_id":132665268,"body_markdown":"@tgdavies I edited the question to include the output now.","body":"@tgdavies I edited the question to include the output now."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674179509,"post_id":75179797,"comment_id":132665290,"body_markdown":"Given that your image is 2x2, I&#39;d start by dumping all the data for the expected and actual images.","body":"Given that your image is 2x2, I&#39;d start by dumping all the data for the expected and actual images."},{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1674179877,"post_id":75179797,"comment_id":132665336,"body_markdown":"@tgdavies when I do that the values I get are 50.8,\n101.6,\n152.39999999999998,\n203.2","body":"@tgdavies when I do that the values I get are 50.8, 101.6, 152.39999999999998, 203.2"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674191900,"post_id":75179797,"comment_id":132665518,"body_markdown":"That&#39;s one of the images -- you haven&#39;t said whether it&#39;s the expected or actual. Dumpt the contents of the other one too.","body":"That&#39;s one of the images -- you haven&#39;t said whether it&#39;s the expected or actual. Dumpt the contents of the other one too."}],"answers":[{"tags":[],"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674617272,"creation_date":1674617272,"answer_id":75229445,"question_id":75179797,"body_markdown":"I was able to fix my code the issue was that normalized2DArray[y][x] = newPixelValue; should have actually been normalized2DArray[x][y] = newPixelValue;","title":"Struggling to set the average brightness of a grayscale image","body":"<p>I was able to fix my code the issue was that normalized2DArray[y][x] = newPixelValue; should have actually been normalized2DArray[x][y] = newPixelValue;</p>\n"}],"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75229445,"answer_count":1,"score":0,"last_activity_date":1674617272,"creation_date":1674177840,"question_id":75179797,"body_markdown":"I am having an issue passing a JUnit test that I know is implemented correctly and I&#39;m not sure why it is failing. The code below should grab each pixel (pixel = a point in the array exe: 2dArray[0][0]). Each pixel holds a brightness value and the goal of my method is to change every pixels brightness value in the entire array to 127 or close to it at least.\r\n\r\nBelow is the JUnit test in question that I can&#39;t seem to pass as well as my current code for the method that the JUnit test is testing. The method below will pass most JUnit test but fails when ever it goes to run the assertEquals() portion of the JUnit test. As it stands now when ever I System.out.println() the normalizedImage.averageBrightness() it is correct and says that the average brightness of the image is 127 or close to it. I find this strange and have been working on this problem for quite awhile now and am unsure of what else to try. Any help would be appreciated.\r\n\r\nJUnit Test:\r\n\t\r\n\r\n    @Test\r\n    \tvoid normalized() {\r\n    \t\tvar smallNorm = smallSquare.normalized();\r\n    \t\tassertEquals(smallNorm.averageBrightness(), 127, 127 * .001);\r\n    \t\tvar scale = 127 / 2.5;\r\n    \t\tvar expectedNorm = new GrayscaleImage(new double[][] { { scale, 2 * scale }, { 3 * scale, 4 * scale } });\r\n    \t\tfor (var row = 0; row &lt; 2; row++) {\r\n    \t\t\tfor (var col = 0; col &lt; 2; col++) {\r\n    \t\t\t\tassertEquals(smallNorm.getPixel(col, row), expectedNorm.getPixel(col, row), expectedNorm.getPixel(col, row) * .001, &quot;pixel at row: &quot; + row + &quot; col: &quot; + col + &quot; incorrect&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nMy Current Code:\r\n \r\n\r\n       /**\r\n         * Return a new GrayScale image where the average new average brightness is 127\r\n         * To do this, uniformly scale each pixel (ie, multiply each imageData entry by the same value)\r\n         * Due to rounding, the new average brightness will not be 127 exactly, but should be very close\r\n         * The original image should not be modified\r\n         * @return a GrayScale image with pixel data uniformly rescaled so that its averageBrightness() is 127\r\n         */\r\n        public GrayscaleImage normalized() {\r\n        \t// First we make a 2D array that is the same size as the original image.\r\n        \tdouble[][] normalized2DArray = new double[imageData[0].length][imageData.length];\r\n        \t\r\n        \t// Then we figure out what we need to multiple the pixel by to make sure our average brightness is equal to 127\r\n        \tdouble scaleFactor = 127 / averageBrightness();\r\n            \r\n        \t// Then we will set the brightness of the specified pixel below.\r\n        \tfor (int y = 0; y &lt; imageData[0].length; y++) {\r\n    \t\t\tfor (int x = 0; x &lt; imageData.length; x++) {\r\n    \t\t\t\t double newPixelValue = getPixel(y, x) * scaleFactor;\r\n    \t\t\t\t normalized2DArray[y][x] = newPixelValue;\r\n    \t\t\t}\r\n    \t\t}\r\n        \t\r\n        \t// We will then turn the 2DArray into a GrayscaleImage\r\n        \tGrayscaleImage normalizedImage = new GrayscaleImage(normalized2DArray);\r\n        \tSystem.out.println(normalizedImage.averageBrightness());\r\n        \t\r\n            return normalizedImage;\r\n        }\r\n\r\n\r\n\r\nHere is the current output of the JUnit test:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WdLS3.png","title":"Struggling to set the average brightness of a grayscale image","body":"<p>I am having an issue passing a JUnit test that I know is implemented correctly and I'm not sure why it is failing. The code below should grab each pixel (pixel = a point in the array exe: 2dArray[0][0]). Each pixel holds a brightness value and the goal of my method is to change every pixels brightness value in the entire array to 127 or close to it at least.</p>\n<p>Below is the JUnit test in question that I can't seem to pass as well as my current code for the method that the JUnit test is testing. The method below will pass most JUnit test but fails when ever it goes to run the assertEquals() portion of the JUnit test. As it stands now when ever I System.out.println() the normalizedImage.averageBrightness() it is correct and says that the average brightness of the image is 127 or close to it. I find this strange and have been working on this problem for quite awhile now and am unsure of what else to try. Any help would be appreciated.</p>\n<p>JUnit Test:</p>\n<pre><code>@Test\n    void normalized() {\n        var smallNorm = smallSquare.normalized();\n        assertEquals(smallNorm.averageBrightness(), 127, 127 * .001);\n        var scale = 127 / 2.5;\n        var expectedNorm = new GrayscaleImage(new double[][] { { scale, 2 * scale }, { 3 * scale, 4 * scale } });\n        for (var row = 0; row &lt; 2; row++) {\n            for (var col = 0; col &lt; 2; col++) {\n                assertEquals(smallNorm.getPixel(col, row), expectedNorm.getPixel(col, row), expectedNorm.getPixel(col, row) * .001, &quot;pixel at row: &quot; + row + &quot; col: &quot; + col + &quot; incorrect&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>My Current Code:</p>\n<pre><code>   /**\n     * Return a new GrayScale image where the average new average brightness is 127\n     * To do this, uniformly scale each pixel (ie, multiply each imageData entry by the same value)\n     * Due to rounding, the new average brightness will not be 127 exactly, but should be very close\n     * The original image should not be modified\n     * @return a GrayScale image with pixel data uniformly rescaled so that its averageBrightness() is 127\n     */\n    public GrayscaleImage normalized() {\n        // First we make a 2D array that is the same size as the original image.\n        double[][] normalized2DArray = new double[imageData[0].length][imageData.length];\n        \n        // Then we figure out what we need to multiple the pixel by to make sure our average brightness is equal to 127\n        double scaleFactor = 127 / averageBrightness();\n        \n        // Then we will set the brightness of the specified pixel below.\n        for (int y = 0; y &lt; imageData[0].length; y++) {\n            for (int x = 0; x &lt; imageData.length; x++) {\n                 double newPixelValue = getPixel(y, x) * scaleFactor;\n                 normalized2DArray[y][x] = newPixelValue;\n            }\n        }\n        \n        // We will then turn the 2DArray into a GrayscaleImage\n        GrayscaleImage normalizedImage = new GrayscaleImage(normalized2DArray);\n        System.out.println(normalizedImage.averageBrightness());\n        \n        return normalizedImage;\n    }\n</code></pre>\n<p>Here is the current output of the JUnit test:\n<a href=\"https://i.stack.imgur.com/WdLS3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WdLS3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674667050,"post_id":75229440,"comment_id":132765014,"body_markdown":"Obviously you can &quot;use&quot; it, but whether or not it does the right thing is impossible to tell based on the code in the question. That said, likely it is the wrong thing to do.","body":"Obviously you can &quot;use&quot; it, but whether or not it does the right thing is impossible to tell based on the code in the question. That said, likely it is the wrong thing to do."}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674617198,"creation_date":1674617198,"question_id":75229440,"body_markdown":"I have some legacy codes using async_methods to do task. I need to synchronize the whole process like this. Will this work?\r\n\r\n    synchronized (taskId)\r\n    {\r\n        async_method_one();\r\n        async_method_two();\r\n    }\r\n\r\nMy goal is to achieve synchronization. The whole block will be blocked. I know it is wasting thread resources to achieve synchronization. ","title":"Can I use synchronized block over async_methods","body":"<p>I have some legacy codes using async_methods to do task. I need to synchronize the whole process like this. Will this work?</p>\n<pre><code>synchronized (taskId)\n{\n    async_method_one();\n    async_method_two();\n}\n</code></pre>\n<p>My goal is to achieve synchronization. The whole block will be blocked. I know it is wasting thread resources to achieve synchronization.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1674450911,"post_id":75201377,"comment_id":132709129,"body_markdown":"you need to remove bill or other.?","body":"you need to remove bill or other.?"},{"owner":{"account_id":27507549,"reputation":11,"user_id":20990052,"display_name":"Nguyen Dinh Anh Tuan FPL HCM"},"score":0,"creation_date":1674489471,"post_id":75201377,"comment_id":132719582,"body_markdown":"Not It&#39;s not exactly the event of deleting bills, actually I&#39;ve already passed that part and my RecyclerView can automatically reset after deleting. The problem I have is that I don&#39;t know how to reset the number of existing invoices in the database when the program executes the command to delete data on the adapter and then set the text back to the bill_total textview.","body":"Not It&#39;s not exactly the event of deleting bills, actually I&#39;ve already passed that part and my RecyclerView can automatically reset after deleting. The problem I have is that I don&#39;t know how to reset the number of existing invoices in the database when the program executes the command to delete data on the adapter and then set the text back to the bill_total textview."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1674544692,"post_id":75201377,"comment_id":132730797,"body_markdown":"okay you need to remove or update data from database and getCount() from database and set into RecyclerView","body":"okay you need to remove or update data from database and getCount() from database and set into RecyclerView"}],"answers":[{"tags":[],"owner":{"account_id":27507549,"reputation":11,"user_id":20990052,"display_name":"Nguyen Dinh Anh Tuan FPL HCM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674614794,"creation_date":1674614794,"answer_id":75229265,"question_id":75201377,"body_markdown":"Thanks &lt;https://stackoverflow.com/users/20015640/urvish-shiroya&gt; recommend me about the interface callback, it kinda hard to understand clearly but i think i got a hand of it.\r\nAll i need to do here is to create an interface file named ViewUpdater then create a class interface in it:\r\n```\r\n    public interface ViewUpdater {\r\n    void CallBack(TextView id);\r\n    }\r\n```\r\nThen create a void class to setText in Bill activity:\r\n```\r\n    public void SetText(ViewUpdater view){\r\n        view.CallBack(bill_total);\r\n\r\n    }\r\n```\r\nFinally call it in the onBindViewHolder at the deleted button for it to automatic the Bill count after i delete a bill:\r\n```\r\n    public void onBindViewHolder(@NonNull Bill_RecyclerView_Viewholder holder, int position) {\r\n        BillModel billModel;\r\n        billModel = bills.get(position);\r\n        holder.picture.setImageBitmap(billModel.BillBookPicture);\r\n        holder.name.setText(billModel.BillBookName);\r\n        holder.category.setText(&quot;Tag: &quot;+billModel.BillBookCategory);\r\n        holder.date.setText(&quot;Date: &quot;+billModel.BillDate);\r\n        holder.money.setText(&quot;Money: &quot;+billModel.BillMoney);\r\n        holder.sale.setText(&quot;Sale: &quot;+billModel.BillSale);\r\n        holder.totalSale.setText(&quot;Total: &quot;+billModel.BillTotalSale);\r\n        holder.del.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dao.BillDel(billModel.id);\r\n                bills = dao.getDSBill();\r\n                ((Bill)context).SetText(new ViewUpdater() {\r\n                    @Override\r\n                    public void CallBack(TextView id) {\r\n                        id.setText(&quot;Bills: &quot;+dao.CountBill()+&quot;&quot;);\r\n                    }\r\n                });\r\n                notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n```\r\nHope this help with someone has the same problem\r\n ","title":"Can i call an activity&#39;s view from a class?","body":"<p>Thanks <a href=\"https://stackoverflow.com/users/20015640/urvish-shiroya\">https://stackoverflow.com/users/20015640/urvish-shiroya</a> recommend me about the interface callback, it kinda hard to understand clearly but i think i got a hand of it.\nAll i need to do here is to create an interface file named ViewUpdater then create a class interface in it:</p>\n<pre><code>    public interface ViewUpdater {\n    void CallBack(TextView id);\n    }\n</code></pre>\n<p>Then create a void class to setText in Bill activity:</p>\n<pre><code>    public void SetText(ViewUpdater view){\n        view.CallBack(bill_total);\n\n    }\n</code></pre>\n<p>Finally call it in the onBindViewHolder at the deleted button for it to automatic the Bill count after i delete a bill:</p>\n<pre><code>    public void onBindViewHolder(@NonNull Bill_RecyclerView_Viewholder holder, int position) {\n        BillModel billModel;\n        billModel = bills.get(position);\n        holder.picture.setImageBitmap(billModel.BillBookPicture);\n        holder.name.setText(billModel.BillBookName);\n        holder.category.setText(&quot;Tag: &quot;+billModel.BillBookCategory);\n        holder.date.setText(&quot;Date: &quot;+billModel.BillDate);\n        holder.money.setText(&quot;Money: &quot;+billModel.BillMoney);\n        holder.sale.setText(&quot;Sale: &quot;+billModel.BillSale);\n        holder.totalSale.setText(&quot;Total: &quot;+billModel.BillTotalSale);\n        holder.del.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                dao.BillDel(billModel.id);\n                bills = dao.getDSBill();\n                ((Bill)context).SetText(new ViewUpdater() {\n                    @Override\n                    public void CallBack(TextView id) {\n                        id.setText(&quot;Bills: &quot;+dao.CountBill()+&quot;&quot;);\n                    }\n                });\n                notifyDataSetChanged();\n            }\n        });\n    }\n</code></pre>\n<p>Hope this help with someone has the same problem</p>\n"}],"owner":{"account_id":27507549,"reputation":11,"user_id":20990052,"display_name":"Nguyen Dinh Anh Tuan FPL HCM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674614794,"creation_date":1674399156,"question_id":75201377,"body_markdown":"I have a pretty cool problem that I keep trying to figure out.\r\nI have an Activity named Bill, it has a Textview and a RecyclerView. I plan to use textview to count the bills I have while recyclerView will show those bills.\r\nBut the problem is that in the adapter when I am processing the Viewholder data for the RecyclerView, it has a button to clear the Bill in case the customer returns or cancels the order.\r\nAnd the problem is now I don&#39;t know how to setText for TextView, can anyone please answer this question for me? Thanks.\r\n\r\nHere is the Bill activity i mention \r\n```\r\n    package anhtuan.example.sample.feature;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import anhtuan.example.sample.Bill.Bill_RecyclerView_Adapter;\r\n    import anhtuan.example.sample.DAO.DAO;\r\n    import anhtuan.example.sample.Model.BillModel;\r\n    import anhtuan.example.sample.R;\r\n\r\n    public class Bill extends AppCompatActivity {\r\n    TextView bill_total;\r\n    RecyclerView bill_RecyclerView;\r\n\r\n    ArrayList&lt;BillModel&gt;bills;\r\n    DAO dao;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_bill);\r\n        setTitle(&quot;Bill&quot;);\r\n        bill_total = findViewById(R.id.bill_total);\r\n        bill_RecyclerView = findViewById(R.id.bill_recyclerView);\r\n        getSupportActionBar().hide();\r\n\r\n        bills=new ArrayList&lt;&gt;();\r\n        dao = new DAO(Bill.this);\r\n        bills= dao.getDSBill();\r\n\r\n        bill_total.setText(&quot;Bills: &quot;+dao.CountBill());\r\n        Bill_RecyclerView_Adapter adapter = new Bill_RecyclerView_Adapter(bills,Bill.this,dao);\r\n        bill_RecyclerView.setLayoutManager(new      LinearLayoutManager(Bill.this,RecyclerView.VERTICAL,false));\r\n        bill_RecyclerView.setAdapter(adapter);\r\n\r\n    }\r\n    }\r\n```\r\nbill_total is the textView i use to count the bill with the function in DAO class named CountBill()\r\n\r\n```\r\n    public int CountBill(){\r\n        SQLiteDatabase database = sqLite.getReadableDatabase();\r\n        Cursor c = database.rawQuery(&quot;select * from bill &quot;,new String[]{});\r\n        int sum = c.getCount();\r\n        c.close();\r\n        return sum;\r\n    }\r\n```\r\nAnd here is the RecyclerView Adapter \r\n```\r\n    package anhtuan.example.sample.Bill;\r\n\r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.TextView;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    import anhtuan.example.sample.DAO.DAO;\r\n    import anhtuan.example.sample.Model.BillModel;\r\n    import anhtuan.example.sample.R;\r\n\r\n    public class Bill_RecyclerView_Adapter extends RecyclerView.Adapter&lt;Bill_RecyclerView_Viewholder&gt; {\r\n\r\n    ArrayList&lt;BillModel&gt; bills;\r\n    Context context;\r\n    DAO dao;\r\n\r\n    public Bill_RecyclerView_Adapter(ArrayList&lt;BillModel&gt; bills, Context context, DAO dao) {\r\n        this.bills = bills;\r\n        this.context = context;\r\n        this.dao = dao;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Bill_RecyclerView_Viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)     {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.bill_viewholder,parent,false);\r\n        return new Bill_RecyclerView_Viewholder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull Bill_RecyclerView_Viewholder holder, int position) {\r\n        BillModel billModel;\r\n        billModel = bills.get(position);\r\n        holder.picture.setImageBitmap(billModel.BillBookPicture);\r\n        holder.name.setText(billModel.BillBookName);\r\n        holder.category.setText(&quot;Tag: &quot;+billModel.BillBookCategory);\r\n        holder.date.setText(&quot;Date: &quot;+billModel.BillDate);\r\n        holder.money.setText(&quot;Money: &quot;+billModel.BillMoney);\r\n        holder.sale.setText(&quot;Sale: &quot;+billModel.BillSale);\r\n        holder.totalSale.setText(&quot;Total: &quot;+billModel.BillTotalSale);\r\n        holder.del.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dao.BillDel(billModel.id);\r\n                bills = dao.getDSBill();\r\n                notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return bills.size();\r\n    }\r\n    }\r\n\r\n```","title":"Can i call an activity&#39;s view from a class?","body":"<p>I have a pretty cool problem that I keep trying to figure out.\nI have an Activity named Bill, it has a Textview and a RecyclerView. I plan to use textview to count the bills I have while recyclerView will show those bills.\nBut the problem is that in the adapter when I am processing the Viewholder data for the RecyclerView, it has a button to clear the Bill in case the customer returns or cancels the order.\nAnd the problem is now I don't know how to setText for TextView, can anyone please answer this question for me? Thanks.</p>\n<p>Here is the Bill activity i mention</p>\n<pre><code>    package anhtuan.example.sample.feature;\n\n    import androidx.appcompat.app.AppCompatActivity;\n    import androidx.recyclerview.widget.LinearLayoutManager;\n    import androidx.recyclerview.widget.RecyclerView;\n\n    import android.os.Bundle;\n    import android.widget.TextView;\n\n    import java.util.ArrayList;\n\n    import anhtuan.example.sample.Bill.Bill_RecyclerView_Adapter;\n    import anhtuan.example.sample.DAO.DAO;\n    import anhtuan.example.sample.Model.BillModel;\n    import anhtuan.example.sample.R;\n\n    public class Bill extends AppCompatActivity {\n    TextView bill_total;\n    RecyclerView bill_RecyclerView;\n\n    ArrayList&lt;BillModel&gt;bills;\n    DAO dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_bill);\n        setTitle(&quot;Bill&quot;);\n        bill_total = findViewById(R.id.bill_total);\n        bill_RecyclerView = findViewById(R.id.bill_recyclerView);\n        getSupportActionBar().hide();\n\n        bills=new ArrayList&lt;&gt;();\n        dao = new DAO(Bill.this);\n        bills= dao.getDSBill();\n\n        bill_total.setText(&quot;Bills: &quot;+dao.CountBill());\n        Bill_RecyclerView_Adapter adapter = new Bill_RecyclerView_Adapter(bills,Bill.this,dao);\n        bill_RecyclerView.setLayoutManager(new      LinearLayoutManager(Bill.this,RecyclerView.VERTICAL,false));\n        bill_RecyclerView.setAdapter(adapter);\n\n    }\n    }\n</code></pre>\n<p>bill_total is the textView i use to count the bill with the function in DAO class named CountBill()</p>\n<pre><code>    public int CountBill(){\n        SQLiteDatabase database = sqLite.getReadableDatabase();\n        Cursor c = database.rawQuery(&quot;select * from bill &quot;,new String[]{});\n        int sum = c.getCount();\n        c.close();\n        return sum;\n    }\n</code></pre>\n<p>And here is the RecyclerView Adapter</p>\n<pre><code>    package anhtuan.example.sample.Bill;\n\n    import android.content.Context;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.widget.TextView;\n\n    import androidx.annotation.NonNull;\n    import androidx.recyclerview.widget.RecyclerView;\n\n    import java.util.ArrayList;\n\n    import anhtuan.example.sample.DAO.DAO;\n    import anhtuan.example.sample.Model.BillModel;\n    import anhtuan.example.sample.R;\n\n    public class Bill_RecyclerView_Adapter extends RecyclerView.Adapter&lt;Bill_RecyclerView_Viewholder&gt; {\n\n    ArrayList&lt;BillModel&gt; bills;\n    Context context;\n    DAO dao;\n\n    public Bill_RecyclerView_Adapter(ArrayList&lt;BillModel&gt; bills, Context context, DAO dao) {\n        this.bills = bills;\n        this.context = context;\n        this.dao = dao;\n    }\n\n    @NonNull\n    @Override\n    public Bill_RecyclerView_Viewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)     {\n        View view = LayoutInflater.from(context).inflate(R.layout.bill_viewholder,parent,false);\n        return new Bill_RecyclerView_Viewholder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull Bill_RecyclerView_Viewholder holder, int position) {\n        BillModel billModel;\n        billModel = bills.get(position);\n        holder.picture.setImageBitmap(billModel.BillBookPicture);\n        holder.name.setText(billModel.BillBookName);\n        holder.category.setText(&quot;Tag: &quot;+billModel.BillBookCategory);\n        holder.date.setText(&quot;Date: &quot;+billModel.BillDate);\n        holder.money.setText(&quot;Money: &quot;+billModel.BillMoney);\n        holder.sale.setText(&quot;Sale: &quot;+billModel.BillSale);\n        holder.totalSale.setText(&quot;Total: &quot;+billModel.BillTotalSale);\n        holder.del.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                dao.BillDel(billModel.id);\n                bills = dao.getDSBill();\n                notifyDataSetChanged();\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return bills.size();\n    }\n    }\n\n</code></pre>\n"},{"tags":["java","mysql","transactions","sql-update"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1674598682,"post_id":75227829,"comment_id":132747983,"body_markdown":"The second version has the problem that a concurrent transaction could get in and assign a user during the time between the read and the update.","body":"The second version has the problem that a concurrent transaction could get in and assign a user during the time between the read and the update."},{"owner":{"account_id":21257942,"reputation":143,"user_id":15639126,"display_name":"rsnlpn"},"score":0,"creation_date":1674599705,"post_id":75227829,"comment_id":132748224,"body_markdown":"It seems that anyway, ideally, you need to work with concurrent process to be able to avoid two updates at one time. Is [this another question/answer](https://stackoverflow.com/questions/22095719/what-is-a-good-approach-for-safe-concurrent-updates-in-a-relational-database) helpful for you?","body":"It seems that anyway, ideally, you need to work with concurrent process to be able to avoid two updates at one time. Is <a href=\"https://stackoverflow.com/questions/22095719/what-is-a-good-approach-for-safe-concurrent-updates-in-a-relational-database\">this another question/answer</a> helpful for you?"}],"answers":[{"tags":[],"owner":{"account_id":25766292,"reputation":88,"user_id":19516175,"display_name":"Oleksandr Myronets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674614223,"creation_date":1674601025,"answer_id":75228146,"question_id":75227829,"body_markdown":"Possible approach here is to go ahead with SQL query. After query execution check number of rows modified in ticketDAO.update method. If 0 rows modified then throw exception DAOException.\r\n\r\n","title":"Safe data update in mySQL / Java","body":"<p>Possible approach here is to go ahead with SQL query. After query execution check number of rows modified in ticketDAO.update method. If 0 rows modified then throw exception DAOException.</p>\n"}],"owner":{"account_id":25990094,"reputation":1,"user_id":20831052,"display_name":"Volodymyr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674614223,"creation_date":1674598498,"question_id":75227829,"body_markdown":"Here I have a dilemma.\r\nLet&#39;s imagine that we have a sql table like this\r\n[enter image description here](https://i.stack.imgur.com/5YkDV.png)\r\n\r\nIt could be a problem when two or more users overwrite data in the table.\r\n\r\nHow should I check if the place hasn&#39;t been taken before update data?\r\n\r\nI have two options\r\n1) in SQL query:\r\n```\r\nUPDATE ticket SET user_user_id = ? WHERE place = ? AND user_user_id is NULL\r\n```\r\n2) or in Service layer:\r\n```\r\ntry {\r\nTicket ticket = ticketDAO.read(place)\r\nif (ticket.getUser() == null) {\r\nticket.setUser(user)\r\nticketDAO.update(ticket)\r\n}else {\r\nthrow new DAOException(&quot;Place has been already tooken&quot;)\r\n}\r\n```\r\n\r\nWhat way is safer and commonly used in practice?\r\n\r\n\r\nPlease, share your advice.","title":"Safe data update in mySQL / Java","body":"<p>Here I have a dilemma.\nLet's imagine that we have a sql table like this\n<a href=\"https://i.stack.imgur.com/5YkDV.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>It could be a problem when two or more users overwrite data in the table.</p>\n<p>How should I check if the place hasn't been taken before update data?</p>\n<p>I have two options</p>\n<ol>\n<li>in SQL query:</li>\n</ol>\n<pre><code>UPDATE ticket SET user_user_id = ? WHERE place = ? AND user_user_id is NULL\n</code></pre>\n<ol start=\"2\">\n<li>or in Service layer:</li>\n</ol>\n<pre><code>try {\nTicket ticket = ticketDAO.read(place)\nif (ticket.getUser() == null) {\nticket.setUser(user)\nticketDAO.update(ticket)\n}else {\nthrow new DAOException(&quot;Place has been already tooken&quot;)\n}\n</code></pre>\n<p>What way is safer and commonly used in practice?</p>\n<p>Please, share your advice.</p>\n"},{"tags":["java","security","pdf","sanitization","malware"],"comments":[{"owner":{"account_id":15536844,"reputation":1592,"user_id":11208820,"display_name":"James Wilson"},"score":1,"creation_date":1674465890,"post_id":75207470,"comment_id":132711910,"body_markdown":"Sounds like you are looking for a CDR product. There are plenty of options out there - https://en.wikipedia.org/wiki/Content_Disarm_%26_Reconstruction","body":"Sounds like you are looking for a CDR product. There are plenty of options out there - <a href=\"https://en.wikipedia.org/wiki/Content_Disarm_%26_Reconstruction\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Content_Disarm_%26_Reconstruction</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1674477917,"post_id":75207470,"comment_id":132715384,"body_markdown":"Or do you want to _implement_ a CDR tool using PDFBox as base library?","body":"Or do you want to <i>implement</i> a CDR tool using PDFBox as base library?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1674479758,"post_id":75207470,"comment_id":132716025,"body_markdown":"I remember a discussion on the pdfbox users mailing list years ago, use the search feature and search for &quot;Roberto Nibali&quot;. IIRC we discussed the many possibilities where there could be JS content :-(","body":"I remember a discussion on the pdfbox users mailing list years ago, use the search feature and search for &quot;Roberto Nibali&quot;. IIRC we discussed the many possibilities where there could be JS content :-("},{"owner":{"account_id":25658857,"reputation":1,"user_id":19424868,"display_name":"Faisul"},"score":0,"creation_date":1674533808,"post_id":75207470,"comment_id":132729188,"body_markdown":"I was looking for a light weight implementation to detect and block PDF files with ActiveContent. Implementation on top of any Opensource library should do","body":"I was looking for a light weight implementation to detect and block PDF files with ActiveContent. Implementation on top of any Opensource library should do"}],"answers":[{"tags":[],"owner":{"account_id":25658857,"reputation":1,"user_id":19424868,"display_name":"Faisul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674610792,"creation_date":1674564660,"answer_id":75221758,"question_id":75207470,"body_markdown":"For anyone who might need it later. This seems like a good starting point.\r\n\r\n(Even though archived) DocBleach project has the implementation to detect malicious content and to sanitize the file. it also supports other office formats. It is build on top of pdfbox.\r\n\r\nhttps://github.com/docbleach/DocBleach","title":"How to Sanitize PDF with a opensource Java tool ( like PDFBox)?","body":"<p>For anyone who might need it later. This seems like a good starting point.</p>\n<p>(Even though archived) DocBleach project has the implementation to detect malicious content and to sanitize the file. it also supports other office formats. It is build on top of pdfbox.</p>\n<p><a href=\"https://github.com/docbleach/DocBleach\" rel=\"nofollow noreferrer\">https://github.com/docbleach/DocBleach</a></p>\n"}],"owner":{"account_id":25658857,"reputation":1,"user_id":19424868,"display_name":"Faisul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674610792,"creation_date":1674465337,"question_id":75207470,"body_markdown":"I am trying to enhance security of a file upload segment in Spring based web application. \r\n\r\nIt uses a antivirus to do virus screening before upload, However it is additionally required to sanitize the files or restrict the files with active contents(javascript, autoaction) from being uploaded .\r\n\r\nAllowed file formats are XLS, DOCX, PDF along with few image formats.\r\n\r\n","title":"How to Sanitize PDF with a opensource Java tool ( like PDFBox)?","body":"<p>I am trying to enhance security of a file upload segment in Spring based web application.</p>\n<p>It uses a antivirus to do virus screening before upload, However it is additionally required to sanitize the files or restrict the files with active contents(javascript, autoaction) from being uploaded .</p>\n<p>Allowed file formats are XLS, DOCX, PDF along with few image formats.</p>\n"},{"tags":["java","postgresql","spring-boot","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673561591,"post_id":75102529,"comment_id":132533582,"body_markdown":"52 rows missing is pretty specific. Take a look at what is persisted in the database and the diff from your data and it might help tell you why. First guess is that spread sheets don&#39;t filter out duplicate rows - does it maybe have multiple rows with duplicated CsvStations.id values? For reference, save just takes the current data and merges it into the existing row if the IDs are duplicated - so the first data is overwritten by the last.","body":"52 rows missing is pretty specific. Take a look at what is persisted in the database and the diff from your data and it might help tell you why. First guess is that spread sheets don&#39;t filter out duplicate rows - does it maybe have multiple rows with duplicated CsvStations.id values? For reference, save just takes the current data and merges it into the existing row if the IDs are duplicated - so the first data is overwritten by the last."},{"owner":{"account_id":24430527,"reputation":43,"user_id":20894830,"display_name":"Erkan Isuf"},"score":1,"creation_date":1673596615,"post_id":75102529,"comment_id":132539042,"body_markdown":"@Chris You are correct! Issue was that I set id of the entity with the csv&#39;s ids. Made new column for csv ids and let the entity generate auto ids and now it saves all of them.","body":"@Chris You are correct! Issue was that I set id of the entity with the csv&#39;s ids. Made new column for csv ids and let the entity generate auto ids and now it saves all of them."}],"owner":{"account_id":24430527,"reputation":43,"user_id":20894830,"display_name":"Erkan Isuf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1579,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1674610534,"creation_date":1673559248,"question_id":75102529,"body_markdown":"I am trying to get some data from CSV file and then save it on start of the application. But when i run saveAll() of the repo it will save only up to 348 rows to the DB while the file has over 400 rows in. I can see in the debbuger that correct amount of data is passed to the saving method.\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.example.demo&quot;)\r\npublic class DemoApplication {\r\n\r\n\tprivate final StationsServicesImpl stationsServices;\r\n\r\n\tpublic DemoApplication(StationsServicesImpl stationsServices) {\r\n\t\tthis.stationsServices = stationsServices;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\tpublic List&lt;CsvStations&gt; parseCSVToCSVStationsObject() throws IOException {\r\n\t\tReader reader = Files.newBufferedReader(Paths.get(&quot;src/main/resources/stations.csv&quot;));\r\n\t\tCsvToBean&lt;CsvStations&gt; csvToBean = new CsvToBeanBuilder(reader).withType(CsvStations.class).withIgnoreLeadingWhiteSpace(false).build();\r\n\t\tList&lt;CsvStations&gt; csvStations = csvToBean.parse();\r\n\t\treturn csvStations;\r\n\t}\r\n\r\n\t@EventListener(ApplicationReadyEvent.class)\r\n\tpublic void onStartApp() throws IOException {\r\n\t\tList&lt;StationsDAO&gt; stations = parseCSVToCSVStationsObject().stream()\r\n\t\t\t\t\t.map(s -&gt; new StationsDAO(\r\n\t\t\t\t\t\t\t\tLong.parseLong(s.getId()),\r\n\t\t\t\t\t\t\t\ts.getName(),\r\n\t\t\t\t\t\t\t\ts.getAdress(),\r\n\t\t\t\t\t\t\t\ts.getKaupunki(),\r\n\t\t\t\t\t\t\t\ts.getKapasiteet(),\r\n\t\t\t\t\t\t\t\ts.getOperaattor(),\r\n\t\t\t\t\t\t\t\ts.getX(),\r\n\t\t\t\t\t\t\t\ts.getY()\r\n\t\t\t\t\t)).collect(Collectors.toList());\r\n\r\n\t\tstationsServices.addStations(stations);\r\n\t}\r\n}\r\n```\r\n\r\nthe ```addStations()``` method inside has just basically .saveAll() of JpaRepository;\r\n\r\nI&#39;ve tried also to loop and use just the .save() method but still same thing and tried to change this too `spring.jpa.properties.hibernate.jdbc.batch_size=100`.","title":"Spring boot Java JPA saveAll not saving all data","body":"<p>I am trying to get some data from CSV file and then save it on start of the application. But when i run saveAll() of the repo it will save only up to 348 rows to the DB while the file has over 400 rows in. I can see in the debbuger that correct amount of data is passed to the saving method.</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;com.example.demo&quot;)\npublic class DemoApplication {\n\n    private final StationsServicesImpl stationsServices;\n\n    public DemoApplication(StationsServicesImpl stationsServices) {\n        this.stationsServices = stationsServices;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    public List&lt;CsvStations&gt; parseCSVToCSVStationsObject() throws IOException {\n        Reader reader = Files.newBufferedReader(Paths.get(&quot;src/main/resources/stations.csv&quot;));\n        CsvToBean&lt;CsvStations&gt; csvToBean = new CsvToBeanBuilder(reader).withType(CsvStations.class).withIgnoreLeadingWhiteSpace(false).build();\n        List&lt;CsvStations&gt; csvStations = csvToBean.parse();\n        return csvStations;\n    }\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void onStartApp() throws IOException {\n        List&lt;StationsDAO&gt; stations = parseCSVToCSVStationsObject().stream()\n                    .map(s -&gt; new StationsDAO(\n                                Long.parseLong(s.getId()),\n                                s.getName(),\n                                s.getAdress(),\n                                s.getKaupunki(),\n                                s.getKapasiteet(),\n                                s.getOperaattor(),\n                                s.getX(),\n                                s.getY()\n                    )).collect(Collectors.toList());\n\n        stationsServices.addStations(stations);\n    }\n}\n</code></pre>\n<p>the <code>addStations()</code> method inside has just basically .saveAll() of JpaRepository;</p>\n<p>I've tried also to loop and use just the .save() method but still same thing and tried to change this too <code>spring.jpa.properties.hibernate.jdbc.batch_size=100</code>.</p>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":0,"creation_date":1674544332,"post_id":75218079,"comment_id":132730731,"body_markdown":"What is `ST datatitle` and `Data data;` in your code? Could you share it?","body":"What is <code>ST datatitle</code> and <code>Data data;</code> in your code? Could you share it?"},{"owner":{"account_id":27606469,"reputation":1,"user_id":21070486,"display_name":"이동걸"},"score":0,"creation_date":1674610546,"post_id":75218079,"comment_id":132750113,"body_markdown":"I put my answer below. Please confirm.","body":"I put my answer below. Please confirm."},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":0,"creation_date":1674626548,"post_id":75218079,"comment_id":132752222,"body_markdown":"I can see in your code classes &#39;ED&#39; and &#39;ANY&#39; which I don&#39;t know. Can you try to change your code so that as few components are needed and the code compiles?\n+ What function do you use for Marshalling? Can you show an example?\nBR.","body":"I can see in your code classes &#39;ED&#39; and &#39;ANY&#39; which I don&#39;t know. Can you try to change your code so that as few components are needed and the code compiles? + What function do you use for Marshalling? Can you show an example? BR."},{"owner":{"account_id":27606469,"reputation":1,"user_id":21070486,"display_name":"이동걸"},"score":1,"creation_date":1674627617,"post_id":75218079,"comment_id":132752419,"body_markdown":"I solved this problem using that annotation.\nChange &quot;List&lt;DataTest&gt; ant123&quot; =&gt; &quot;List&lt;Object&gt; titleOrData&quot;\n\n@XmlElements({@javax.xml.bind.annotation.XmlElement(name=&quot;data&quot;, type=Data.class), @javax.xml.bind.annotation.XmlElement(name=&quot;datatitle&quot;, type=ST.class)})\nprotected List&lt;Object&gt; titleOrData;\n\nThanks for your help.","body":"I solved this problem using that annotation. Change &quot;List&lt;DataTest&gt; ant123&quot; =&gt; &quot;List&lt;Object&gt; titleOrData&quot;  @XmlElements({@javax.xml.bind.annotation.XmlElement(name=&quot;da&zwnj;&#8203;ta&quot;, type=Data.class), @javax.xml.bind.annotation.XmlElement(name=&quot;datatitle&quot;, type=ST.class)}) protected List&lt;Object&gt; titleOrData;  Thanks for your help."}],"answers":[{"tags":[],"owner":{"account_id":27606469,"reputation":1,"user_id":21070486,"display_name":"이동걸"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674610507,"creation_date":1674610507,"answer_id":75228946,"question_id":75218079,"body_markdown":"The items of my ST and Data are as below.\r\n\r\nI have described datatitle and data in the description, but the attribute has different values.\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;ST&quot;, propOrder={&quot;type&quot;})\r\n    @XmlSeeAlso({ SC.class, ADXP.class, ENXP.class})\r\n    public class ST extends ED {\r\n\r\n    @XmlAttribute(name = &quot;type&quot;)\r\n\t@XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n\tprotected String type;\r\n\r\n\tpublic String getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic void setType(String type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Data&quot;, propOrder={&quot;type&quot;,&quot;reference&quot;,&quot;text&quot;})\r\n    @XmlSeeAlso({ SC.class, ADXP.class, ENXP.class})\r\n    public class Data extends ANY {\r\n\r\n\r\n\tprotected POCDMT000040Reference reference;\r\n\t\r\n\t@XmlAttribute(name = &quot;type&quot;)\r\n\t@XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n\tprotected String type;\r\n\t\r\n\tprotected ST text;\r\n\r\n\tpublic String getType() {\r\n\t\treturn type;\r\n\t}\r\n\r\n\tpublic void setType(String type) {\r\n\t\tthis.type = type;\r\n\t}\r\n\r\n\r\n\r\n\tpublic POCDMT000040Reference getReference() {\r\n\t\treturn reference;\r\n\t}\r\n\r\n\tpublic void setReference(POCDMT000040Reference reference) {\r\n\t\tthis.reference = reference;\r\n\t}\r\n\r\n\tpublic ST getText() {\r\n\t\treturn text;\r\n\t}\r\n\r\n\tpublic void setText(ST text) {\r\n\t\tthis.text = text;\r\n\t}\r\n\r\n\r\n**I want xml like below.**\r\n\r\n    &lt;entry&gt;\r\n\t\t&lt;datatitle mediaType=&quot;&quot;&gt;1&lt;/datatitle&gt;\r\n\t\t&lt;data type=&quot;TEXT&quot;&gt;\r\n\t\t\t&lt;text&gt;1&lt;/text&gt;\r\n\t\t&lt;/data&gt;\r\n\t\t&lt;datatitle mediaType=&quot;&quot;&gt;2&lt;/datatitle&gt;\r\n\t\t&lt;data type=&quot;TEXT&quot;&gt;\r\n\t\t\t&lt;text&gt;2&lt;/text&gt;\r\n\t\t&lt;/data&gt;\r\n    &lt;/entry&gt;\r\n\r\n**But the xml is being generated like this..**\r\n\r\n    &lt;entry&gt;\r\n     &lt;any123&gt;\r\n\t\t&lt;datatitle mediaType=&quot;&quot;&gt;1&lt;/datatitle&gt;\r\n\t\t&lt;data type=&quot;TEXT&quot;&gt;\r\n\t\t\t&lt;text&gt;1&lt;/text&gt;\r\n\t\t&lt;/data&gt;\r\n     &lt;/any123&gt;\r\n     &lt;any123&gt;\r\n\t\t&lt;datatitle mediaType=&quot;&quot;&gt;2&lt;/datatitle&gt;\r\n\t\t&lt;data type=&quot;TEXT&quot;&gt;\r\n\t\t\t&lt;text&gt;2&lt;/text&gt;\r\n\t\t&lt;/data&gt;\r\n     &lt;/any123&gt;\r\n    &lt;/entry&gt;","title":"How to remove a specific element when generating xml using JAXB?","body":"<p>The items of my ST and Data are as below.</p>\n<p>I have described datatitle and data in the description, but the attribute has different values.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;ST&quot;, propOrder={&quot;type&quot;})\n@XmlSeeAlso({ SC.class, ADXP.class, ENXP.class})\npublic class ST extends ED {\n\n@XmlAttribute(name = &quot;type&quot;)\n@XmlJavaTypeAdapter(CollapsedStringAdapter.class)\nprotected String type;\n\npublic String getType() {\n    return type;\n}\n\npublic void setType(String type) {\n    this.type = type;\n}\n\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Data&quot;, propOrder={&quot;type&quot;,&quot;reference&quot;,&quot;text&quot;})\n@XmlSeeAlso({ SC.class, ADXP.class, ENXP.class})\npublic class Data extends ANY {\n\n\nprotected POCDMT000040Reference reference;\n\n@XmlAttribute(name = &quot;type&quot;)\n@XmlJavaTypeAdapter(CollapsedStringAdapter.class)\nprotected String type;\n\nprotected ST text;\n\npublic String getType() {\n    return type;\n}\n\npublic void setType(String type) {\n    this.type = type;\n}\n\n\n\npublic POCDMT000040Reference getReference() {\n    return reference;\n}\n\npublic void setReference(POCDMT000040Reference reference) {\n    this.reference = reference;\n}\n\npublic ST getText() {\n    return text;\n}\n\npublic void setText(ST text) {\n    this.text = text;\n}\n</code></pre>\n<p><strong>I want xml like below.</strong></p>\n<pre><code>&lt;entry&gt;\n    &lt;datatitle mediaType=&quot;&quot;&gt;1&lt;/datatitle&gt;\n    &lt;data type=&quot;TEXT&quot;&gt;\n        &lt;text&gt;1&lt;/text&gt;\n    &lt;/data&gt;\n    &lt;datatitle mediaType=&quot;&quot;&gt;2&lt;/datatitle&gt;\n    &lt;data type=&quot;TEXT&quot;&gt;\n        &lt;text&gt;2&lt;/text&gt;\n    &lt;/data&gt;\n&lt;/entry&gt;\n</code></pre>\n<p><strong>But the xml is being generated like this..</strong></p>\n<pre><code>&lt;entry&gt;\n &lt;any123&gt;\n    &lt;datatitle mediaType=&quot;&quot;&gt;1&lt;/datatitle&gt;\n    &lt;data type=&quot;TEXT&quot;&gt;\n        &lt;text&gt;1&lt;/text&gt;\n    &lt;/data&gt;\n &lt;/any123&gt;\n &lt;any123&gt;\n    &lt;datatitle mediaType=&quot;&quot;&gt;2&lt;/datatitle&gt;\n    &lt;data type=&quot;TEXT&quot;&gt;\n        &lt;text&gt;2&lt;/text&gt;\n    &lt;/data&gt;\n &lt;/any123&gt;\n&lt;/entry&gt;\n</code></pre>\n"}],"owner":{"account_id":27606469,"reputation":1,"user_id":21070486,"display_name":"이동걸"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674610507,"creation_date":1674541569,"question_id":75218079,"body_markdown":"I am using JAXB to create xml .\r\n\r\nIt seems that an xml element is created with the current variable name, but the upper list object does not want to be created as an xml element.\r\n\r\nHowever, the parent list object is created with a variable name, how to remove the corresponding element?\r\n\r\n\r\nCurrently my source code is as below.\r\n\r\n\r\n    XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name=&quot;POCD_MT000040.Entry&quot;, propOrder={&quot;ant123&quot;})\r\n    public class POCDMT000040Entry\r\n    {\r\n        protected List&lt;DataTest&gt; ant123;\r\n\r\n        public List&lt;DataTest&gt; getAnt123() {\r\n    \treturn ant123;\r\n    }\r\n\r\n    public void setAnt123(List&lt;DataTest&gt; ant123) {\r\n    \tthis.ant123 = ant123;\r\n    }\r\n    }\r\n\r\n\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name=&quot;DataTest&quot;, propOrder={&quot;datatitle&quot;, &quot;data&quot;})\r\n    public class DataTest\r\n    {\r\n       protected ST datatitle;\r\n       protected Data data;\r\n    \r\n         public ST getDatatitle() {\r\n    \treturn datatitle;\r\n    }\r\n\r\n    public void setDatatitle(ST datatitle) {\r\n    \tthis.datatitle = datatitle;\r\n    }\r\n\r\n    public Data getData() {\r\n    \treturn data;\r\n    }\r\n\r\n    public void setData(Data data) {\r\n    \tthis.data = data;\r\n    }\r\n    }\r\n\r\n\r\n\r\n`I want xml like below.`\r\n\r\n\r\n    &lt;entry&gt;\r\n      &lt;datatitle&gt;1&lt;/datatitle&gt;\r\n      &lt;data&gt;1&lt;/data&gt;\r\n      &lt;datatitle&gt;2&lt;/datatitle&gt;\r\n      &lt;data&gt;2&lt;/data&gt;\r\n      &lt;datatitle&gt;3&lt;/datatitle&gt;\r\n      &lt;data&gt;3&lt;/data&gt;\r\n    &lt;/entry&gt;\r\n\r\n\r\n`But the xml is being generated like this.`\r\n\r\n\r\n    &lt;entry&gt;\r\n     &lt;ant123&gt;\r\n      &lt;datatitle&gt;1&lt;/datatitle&gt;\r\n      &lt;data&gt;1&lt;/data&gt;\r\n     &lt;/ant123&gt;\r\n     &lt;ant123&gt;\r\n      &lt;datatitle&gt;2&lt;/datatitle&gt;\r\n      &lt;data&gt;2&lt;/data&gt;\r\n     &lt;/ant123&gt;\r\n     &lt;ant123&gt;\r\n      &lt;datatitle&gt;3&lt;/datatitle&gt;\r\n      &lt;data&gt;3&lt;/data&gt;\r\n     &lt;/ant123&gt;\r\n    &lt;/entry&gt;\r\n    \r\nI want to remove the ant123 element.\r\nCan you tell me how to solve it?","title":"How to remove a specific element when generating xml using JAXB?","body":"<p>I am using JAXB to create xml .</p>\n<p>It seems that an xml element is created with the current variable name, but the upper list object does not want to be created as an xml element.</p>\n<p>However, the parent list object is created with a variable name, how to remove the corresponding element?</p>\n<p>Currently my source code is as below.</p>\n<pre><code>XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name=&quot;POCD_MT000040.Entry&quot;, propOrder={&quot;ant123&quot;})\npublic class POCDMT000040Entry\n{\n    protected List&lt;DataTest&gt; ant123;\n\n    public List&lt;DataTest&gt; getAnt123() {\n    return ant123;\n}\n\npublic void setAnt123(List&lt;DataTest&gt; ant123) {\n    this.ant123 = ant123;\n}\n}\n\n\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name=&quot;DataTest&quot;, propOrder={&quot;datatitle&quot;, &quot;data&quot;})\npublic class DataTest\n{\n   protected ST datatitle;\n   protected Data data;\n\n     public ST getDatatitle() {\n    return datatitle;\n}\n\npublic void setDatatitle(ST datatitle) {\n    this.datatitle = datatitle;\n}\n\npublic Data getData() {\n    return data;\n}\n\npublic void setData(Data data) {\n    this.data = data;\n}\n}\n</code></pre>\n<p><code>I want xml like below.</code></p>\n<pre><code>&lt;entry&gt;\n  &lt;datatitle&gt;1&lt;/datatitle&gt;\n  &lt;data&gt;1&lt;/data&gt;\n  &lt;datatitle&gt;2&lt;/datatitle&gt;\n  &lt;data&gt;2&lt;/data&gt;\n  &lt;datatitle&gt;3&lt;/datatitle&gt;\n  &lt;data&gt;3&lt;/data&gt;\n&lt;/entry&gt;\n</code></pre>\n<p><code>But the xml is being generated like this.</code></p>\n<pre><code>&lt;entry&gt;\n &lt;ant123&gt;\n  &lt;datatitle&gt;1&lt;/datatitle&gt;\n  &lt;data&gt;1&lt;/data&gt;\n &lt;/ant123&gt;\n &lt;ant123&gt;\n  &lt;datatitle&gt;2&lt;/datatitle&gt;\n  &lt;data&gt;2&lt;/data&gt;\n &lt;/ant123&gt;\n &lt;ant123&gt;\n  &lt;datatitle&gt;3&lt;/datatitle&gt;\n  &lt;data&gt;3&lt;/data&gt;\n &lt;/ant123&gt;\n&lt;/entry&gt;\n</code></pre>\n<p>I want to remove the ant123 element.\nCan you tell me how to solve it?</p>\n"},{"tags":["java","dictionary","hashmap","set","entryset"],"comments":[{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1394971631,"post_id":22436597,"comment_id":34120472,"body_markdown":"Iterate over the set and println ?","body":"Iterate over the set and println ?"}],"answers":[{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1394971947,"creation_date":1394971947,"answer_id":22436662,"question_id":22436597,"body_markdown":"Just iterate over the `EntrySet` of the `Map` and print\r\n\r\n        for(Map.Entry entry : res.entrySet()){\r\n            System.out.println(entry);\r\n            //System.out.println(entry.getKey() + &quot;=[&quot; + entry.getValue() + &quot;]&quot;);\r\n        }","title":"How to make entrySet() show key-value pairs on new line?(java)","body":"<p>Just iterate over the <code>EntrySet</code> of the <code>Map</code> and print</p>\n\n<pre><code>    for(Map.Entry entry : res.entrySet()){\n        System.out.println(entry);\n        //System.out.println(entry.getKey() + \"=[\" + entry.getValue() + \"]\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674610156,"creation_date":1674610156,"answer_id":75228924,"question_id":22436597,"body_markdown":"Concise lambda version of @Aniket Thakur&#39;s answer:\r\n\r\n    res.entrySet().forEach(System.out::println);","title":"How to make entrySet() show key-value pairs on new line?(java)","body":"<p>Concise lambda version of @Aniket Thakur's answer:</p>\n<pre><code>res.entrySet().forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":483169,"reputation":23946,"user_id":898042,"accept_rate":57,"display_name":"ERJAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2850,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22436662,"answer_count":2,"score":2,"last_activity_date":1674610156,"creation_date":1394971554,"question_id":22436597,"body_markdown":"I have a long Map (int, int[] ) ;\r\n\r\nI use map.entrySet() and it returns me the Set view of my map\r\n\r\n\r\n    Map &lt;Integer, ArrayList&lt;Integer&gt;&gt;res = function() ;\r\n\t\tSystem.out.println( res.entrySet() ) ;\r\n\r\n\r\n**i want to show every entry on new line:**\r\n\r\n[1=[1, 47, 432, 433, 527, 678, 679, 680, 820, 904], \r\n\r\n 2=[1, 31, 47, 66, 118, 139, 194, 195, 196, 217]\r\n\r\n 3 = [.............],\r\n\r\n 10 = [..............],\r\n\r\n\r\nbut instead i have it all printed on one line(it&#39;s very long):\r\n\r\n[1=[1, 47, 432, 433, 527, 678, 679, 680, 820, 904], 2=[1, 31, 47, 66, 118, 139, 194, 195, 196, 217], 3=[123,23,.....],............\r\n\r\n\r\n**How to make my set print each key-value pair on new line?** \r\nor is it by default comma after comma and in one line?","title":"How to make entrySet() show key-value pairs on new line?(java)","body":"<p>I have a long Map (int, int[] ) ;</p>\n\n<p>I use map.entrySet() and it returns me the Set view of my map</p>\n\n<pre><code>Map &lt;Integer, ArrayList&lt;Integer&gt;&gt;res = function() ;\n    System.out.println( res.entrySet() ) ;\n</code></pre>\n\n<p><strong>i want to show every entry on new line:</strong></p>\n\n<p>[1=[1, 47, 432, 433, 527, 678, 679, 680, 820, 904], </p>\n\n<p>2=[1, 31, 47, 66, 118, 139, 194, 195, 196, 217]</p>\n\n<p>3 = [.............],</p>\n\n<p>10 = [..............],</p>\n\n<p>but instead i have it all printed on one line(it's very long):</p>\n\n<p>[1=[1, 47, 432, 433, 527, 678, 679, 680, 820, 904], 2=[1, 31, 47, 66, 118, 139, 194, 195, 196, 217], 3=[123,23,.....],............</p>\n\n<p><strong>How to make my set print each key-value pair on new line?</strong> \nor is it by default comma after comma and in one line?</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":27614218,"reputation":1,"user_id":21076628,"display_name":"yasmean"},"score":0,"creation_date":1674610122,"post_id":75228906,"comment_id":132750050,"body_markdown":"import java.util.Arrays;\n\npublic class ArrayFunHouseRunner\n{\n\tpublic static void main( String args[] )\n\t{\n\t\tint[] one = {4,10,0,1,7,6,5,3,2,9};\n\n\t\tSystem.out.println(Arrays.toString(one));\n\t\tSystem.out.println(&quot;sum of spots 3-6  =  &quot; + ArrayFunHouse.getSum(one,3,6));\n\t\tSystem.out.println(&quot;sum of spots 2-9  =  &quot; + ArrayFunHouse.getSum(one,2,9));\n\t\tSystem.out.println(&quot;# of 4s  =  &quot; + ArrayFunHouse.getCount(one,4));\n\t\tSystem.out.println(&quot;# of 9s  =  &quot; + ArrayFunHouse.getCount(one,9));\n\n\t\tint[] two = {4,2,3,4,6,7,8,9,0,10,0,1,7,6,5,3,2,9,9,8,7};\n\n\t\t//add test cases\n\n\n\t}\n}","body":"import java.util.Arrays;  public class ArrayFunHouseRunner { \tpublic static void main( String args[] ) \t{ \t\tint[] one = {4,10,0,1,7,6,5,3,2,9};  \t\tSystem.out.println(Arrays.toString(one)); \t\tSystem.out.println(&quot;sum of spots 3-6  =  &quot; + ArrayFunHouse.getSum(one,3,6)); \t\tSystem.out.println(&quot;sum of spots 2-9  =  &quot; + ArrayFunHouse.getSum(one,2,9)); \t\tSystem.out.println(&quot;# of 4s  =  &quot; + ArrayFunHouse.getCount(one,4)); \t\tSystem.out.println(&quot;# of 9s  =  &quot; + ArrayFunHouse.getCount(one,9));  \t\tint[] two = {4,2,3,4,6,7,8,9,0,10,0,1,7,6,5,3,2,9,9,8,7};  \t\t//add test cases   \t} }"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674610151,"post_id":75228906,"comment_id":132750051,"body_markdown":"Don&#39;t post code in the comments. [Edit] the post and add it with proper formatting.","body":"Don&#39;t post code in the comments. <a href=\"https://stackoverflow.com/posts/75228906/edit\">Edit</a> the post and add it with proper formatting."}],"owner":{"account_id":27614218,"reputation":1,"user_id":21076628,"display_name":"yasmean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674610102,"creation_date":1674609862,"question_id":75228906,"body_markdown":"I am having trouble getting through my Java labs. I don&#39;t have the best instructor and they are due tomorrow. If someone could help me and give a brief summarization of the code, they would use. I have posted this lab description below and attached the code of the runner file in the comments. \r\n\r\n\r\nLab Description:   Write several array manipulation methods.  One method will sum up a section of a provided array, another method will count up how many of a certain number occur in the array, and the last method will remove all of a certain value from the array.\r\n\r\n\r\n\r\nI have tried a forloop to iterate through the array and select the elements but I am stumped on how to select the range and add them.","title":"Sum of Arrays In Given Range, Count of certain #&#39;s in an Array etc","body":"<p>I am having trouble getting through my Java labs. I don't have the best instructor and they are due tomorrow. If someone could help me and give a brief summarization of the code, they would use. I have posted this lab description below and attached the code of the runner file in the comments.</p>\n<p>Lab Description:   Write several array manipulation methods.  One method will sum up a section of a provided array, another method will count up how many of a certain number occur in the array, and the last method will remove all of a certain value from the array.</p>\n<p>I have tried a forloop to iterate through the array and select the elements but I am stumped on how to select the range and add them.</p>\n"},{"tags":["java","log4j2","lazy-evaluation"],"answers":[{"tags":[],"owner":{"account_id":6561636,"reputation":3683,"user_id":5072526,"accept_rate":57,"display_name":"hinneLinks"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1582965623,"creation_date":1440424970,"answer_id":32184284,"question_id":32183966,"body_markdown":"I guess what Log4j means, is that with the curly brackets, they avoid constructing a string when its not necessary (e.g. the Level is not Debug):\r\n\r\nWith\r\n\r\n```java\r\nlogger.debug(&quot;Entry number: &quot; + i + &quot; is &quot; + String.valueOf(entry[i]));\r\n```\r\n\r\nthe complete message is always computed even when it will not be logged.\r\n\r\nWith\r\n\r\n```java\r\nlogger.debug(&quot;Entry number: {} is {}&quot;, i, entry[i]);\r\n```\r\n\r\nLog4j can check the Log-Level first and then decide if its worth to construct the message string. This saves resources needed for string concatenation. It will only call `toString()` on the objects supplied if the message is actually being created, saving further computation costs.\r\n\r\nLog4j uses an internal class (`org.apache.logging.log4j.message.ParameterFormatter`) that replaces every `{}` with the arguments provided. It will also catch exceptions thrown by `toString()` and report these failures.\r\n","title":"How does Log4j 2.x implement lazy argument evaluation?","body":"<p>I guess what Log4j means, is that with the curly brackets, they avoid constructing a string when its not necessary (e.g. the Level is not Debug):</p>\n\n<p>With</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>logger.debug(\"Entry number: \" + i + \" is \" + String.valueOf(entry[i]));\n</code></pre>\n\n<p>the complete message is always computed even when it will not be logged.</p>\n\n<p>With</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>logger.debug(\"Entry number: {} is {}\", i, entry[i]);\n</code></pre>\n\n<p>Log4j can check the Log-Level first and then decide if its worth to construct the message string. This saves resources needed for string concatenation. It will only call <code>toString()</code> on the objects supplied if the message is actually being created, saving further computation costs.</p>\n\n<p>Log4j uses an internal class (<code>org.apache.logging.log4j.message.ParameterFormatter</code>) that replaces every <code>{}</code> with the arguments provided. It will also catch exceptions thrown by <code>toString()</code> and report these failures.</p>\n"},{"tags":[],"owner":{"account_id":6489979,"reputation":101,"user_id":5448650,"display_name":"Yuriy Mankovskiy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1583241644,"creation_date":1583241644,"answer_id":60508206,"question_id":32183966,"body_markdown":"To avoid argument evaluation, just wrap it in lambda:\r\n```\r\nlogger.debug(() -&gt; { \r\n   &quot;Entry number: &quot; + i + &quot; is &quot; + String.valueOf(entry[i])\r\n});\r\n```\r\nIn this form, the supplier will be called for construction only before actual logging. Think of it like a function declaration.","title":"How does Log4j 2.x implement lazy argument evaluation?","body":"<p>To avoid argument evaluation, just wrap it in lambda:</p>\n\n<pre><code>logger.debug(() -&gt; { \n   \"Entry number: \" + i + \" is \" + String.valueOf(entry[i])\n});\n</code></pre>\n\n<p>In this form, the supplier will be called for construction only before actual logging. Think of it like a function declaration.</p>\n"},{"tags":[],"owner":{"account_id":6509695,"reputation":6576,"user_id":5037430,"display_name":"u-ways"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674608913,"creation_date":1674608913,"answer_id":75228839,"question_id":32183966,"body_markdown":"In release 2.4, the Logger interface added support for lambda expressions. Such that, Log4j2 loggers can also take in a message supplier that will be lazily evaluated, here is the signature for the info one:\r\n\r\n```java\r\n@Override\r\npublic void info(final Supplier&lt;?&gt; messageSupplier) {\r\n    logIfEnabled(FQCN, Level.INFO, null, messageSupplier, (Throwable) null);\r\n}\r\n```\r\n\r\nThis allows client code to lazily log messages without explicitly checking if the requested log level is enabled. For example, previously you would write:\r\n\r\n```java\r\n// pre-Java 8 style optimization: explicitly check the log level\r\n// to make sure the expensiveOperation() method is only called if necessary\r\nif (logger.isTraceEnabled()) {\r\n    logger.trace(&quot;Some long-running operation returned {}&quot;, expensiveOperation());\r\n}\r\n```\r\n\r\nWith Java 8 and above you can achieve the same effect with a lambda expression. You no longer need to explicitly check the log level:\r\n\r\n```\r\n// Java-8 style optimization: no need to explicitly check the log level:\r\n// the lambda expression is not evaluated if the TRACE level is not enabled\r\nlogger.trace(&quot;Some long-running operation returned {}&quot;, () -&gt; expensiveOperation());\r\n```\r\n\r\n\r\nFor Kotlin, there is a [Kotlin logging facade based on Log4j 2](https://github.com/apache/logging-log4j-kotlin) in which the signature is as follow:\r\n\r\n```kotlin\r\nfun info(supplier: () -&gt; Any?) {\r\n    delegate.logIfEnabled(FQCN, Level.INFO, null, supplier.asLog4jSupplier(), null)\r\n}\r\n```\r\n\r\nAnd here is a usage example:\r\n\r\n```kotlin\r\nlogger.info { &quot;This is a log event&quot; }\r\n```\r\n\r\nBoth will avoid the cost of parameter construction.","title":"How does Log4j 2.x implement lazy argument evaluation?","body":"<p>In release 2.4, the Logger interface added support for lambda expressions. Such that, Log4j2 loggers can also take in a message supplier that will be lazily evaluated, here is the signature for the info one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void info(final Supplier&lt;?&gt; messageSupplier) {\n    logIfEnabled(FQCN, Level.INFO, null, messageSupplier, (Throwable) null);\n}\n</code></pre>\n<p>This allows client code to lazily log messages without explicitly checking if the requested log level is enabled. For example, previously you would write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// pre-Java 8 style optimization: explicitly check the log level\n// to make sure the expensiveOperation() method is only called if necessary\nif (logger.isTraceEnabled()) {\n    logger.trace(&quot;Some long-running operation returned {}&quot;, expensiveOperation());\n}\n</code></pre>\n<p>With Java 8 and above you can achieve the same effect with a lambda expression. You no longer need to explicitly check the log level:</p>\n<pre><code>// Java-8 style optimization: no need to explicitly check the log level:\n// the lambda expression is not evaluated if the TRACE level is not enabled\nlogger.trace(&quot;Some long-running operation returned {}&quot;, () -&gt; expensiveOperation());\n</code></pre>\n<p>For Kotlin, there is a <a href=\"https://github.com/apache/logging-log4j-kotlin\" rel=\"nofollow noreferrer\">Kotlin logging facade based on Log4j 2</a> in which the signature is as follow:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun info(supplier: () -&gt; Any?) {\n    delegate.logIfEnabled(FQCN, Level.INFO, null, supplier.asLog4jSupplier(), null)\n}\n</code></pre>\n<p>And here is a usage example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>logger.info { &quot;This is a log event&quot; }\n</code></pre>\n<p>Both will avoid the cost of parameter construction.</p>\n"}],"owner":{"account_id":1141367,"reputation":1568,"user_id":1125172,"accept_rate":71,"display_name":"Linuslabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13008,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":32184284,"answer_count":3,"score":21,"last_activity_date":1674608913,"creation_date":1440424065,"question_id":32183966,"body_markdown":"Given the [Java argument evaluation mechanism][1], how does **Log4j 2.x** implement [lazy evaluation][2] when formatting the message with curly brackets &quot;to avoid the cost of parameter construction&quot; when log is disabled?\r\n\r\ne.g.\r\n\r\n    logger.debug(&quot;Entry number: {} is {}&quot;, i, entry[i]);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.4.2\r\n  [2]: https://logging.apache.org/log4j/2.x/performance.html","title":"How does Log4j 2.x implement lazy argument evaluation?","body":"<p>Given the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.4.2\" rel=\"noreferrer\">Java argument evaluation mechanism</a>, how does <strong>Log4j 2.x</strong> implement <a href=\"https://logging.apache.org/log4j/2.x/performance.html\" rel=\"noreferrer\">lazy evaluation</a> when formatting the message with curly brackets \"to avoid the cost of parameter construction\" when log is disabled?</p>\n\n<p>e.g.</p>\n\n<pre><code>logger.debug(\"Entry number: {} is {}\", i, entry[i]);\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-security","spring-authorization-server"],"comments":[{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1672934584,"post_id":75017634,"comment_id":132389393,"body_markdown":"I don&#39;t understand your use of a second `RegisteredClientRepository` marked `@Bean @Primary`. This doesn&#39;t seem necessary. Please also enable trace logging for the `org.springframework.security` package and include the logs from the failed flow.","body":"I don&#39;t understand your use of a second <code>RegisteredClientRepository</code> marked <code>@Bean @Primary</code>. This doesn&#39;t seem necessary. Please also enable trace logging for the <code>org.springframework.security</code> package and include the logs from the failed flow."},{"owner":{"account_id":3942771,"reputation":35,"user_id":3256484,"display_name":"Christian Osterrieder"},"score":0,"creation_date":1673339029,"post_id":75017634,"comment_id":132470583,"body_markdown":"Steve, thanks for the tip, I was able to solve it with that.","body":"Steve, thanks for the tip, I was able to solve it with that."}],"owner":{"account_id":3942771,"reputation":35,"user_id":3256484,"display_name":"Christian Osterrieder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674608623,"creation_date":1672917570,"question_id":75017634,"body_markdown":"I&#39;m trying to develop a spring-authorization-server 1.0.1 with Spring Boot 3 and JPA.\r\nDoes anyone have experience with it?\r\n\r\nWhen I try to authenticate I get the error message:\r\n\r\n`No AuthenticationProvider found for org.springframework.security.authentication.UsernamePasswordAuthenticationToken`\r\n\r\n\r\n\r\n\r\n\r\nHere is my AuthorizationServerConfig:\r\n\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\npublic class AuthorizationServerConfig {\r\n\r\n    @Autowired\r\n    JpaRegisteredClientRepository jpaRegisteredClientRepository;\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AuthorizationServerConfig.class);\r\n\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    /**\r\n     * A Spring Security filter chain for the Protocol Endpoints.\r\n     * aus Doku &#252;bernommen (1)\r\n     */\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .oidc(Customizer.withDefaults());\t// Enable OpenID Connect 1.0\r\n        http\r\n                // Redirect to the login page when not authenticated from the\r\n                // authorization endpoint\r\n                .exceptionHandling((exceptions) -&gt; exceptions\r\n                        .authenticationEntryPoint(\r\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\r\n                )\r\n                // Accept access tokens for User Info and/or Client Registration\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n\r\n        return http.build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    /**\r\n     * A Spring Security filter chain for authentication.\r\n     */\r\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                // Form login handles the redirect to the login page from the\r\n                // authorization server filter chain\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    /**\r\n     * An instance of UserDetailsService for retrieving users to authenticate.\r\n     */\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails userDetails = User.withDefaultPasswordEncoder()\r\n                .username(&quot;utilo&quot;)\r\n                .password(&quot;utilo&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n\r\n        return new InMemoryUserDetailsManager(userDetails);\r\n    }\r\n\r\n    /**\r\n     * \tAn instance of RegisteredClientRepository for managing clients.\r\n     * in Doku vorhanden (4)\r\n     */\r\n    @Bean\r\n    @Primary\r\n    public RegisteredClientRepository registeredClientRepository() {\r\n\r\n        RegisteredClient client = jpaRegisteredClientRepository.findByClientId(&quot;utilo-client&quot;);\r\n        List&lt;RegisteredClient&gt; registrations = new Vector&lt;RegisteredClient&gt;();\r\n        registrations.add(client);\r\n\r\n        InMemoryRegisteredClientRepository inMemoryRegisteredClientRepository\r\n                = new InMemoryRegisteredClientRepository(registrations);\r\n        return inMemoryRegisteredClientRepository;\r\n\r\n    }\r\n\r\n    /*\r\n     * Generate the private/public key pair for signature of JWT.\r\n     */\r\n    @Bean\r\n    /**\r\n     * An instance of com.nimbusds.jose.jwk.source.JWKSource for signing access tokens.\r\n     */\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\r\n        KeyPair keyPair = generateRsaKey();\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n        RSAKey rsaKey = new RSAKey.Builder(publicKey)\r\n                .privateKey(privateKey)\r\n                .keyID(UUID.randomUUID().toString())\r\n                .build();\r\n        JWKSet jwkSet = new JWKSet(rsaKey);\r\n        return new ImmutableJWKSet&lt;&gt;(jwkSet);\r\n    }\r\n\r\n    /**\r\n     * An instance of java.security.KeyPair with keys generated on startup used to create the JWKSource above.\r\n     */\r\n    private static KeyPair generateRsaKey() {\r\n        KeyPair keyPair;\r\n        try {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            keyPair = keyPairGenerator.generateKeyPair();\r\n        }\r\n        catch (Exception ex) {\r\n            throw new IllegalStateException(ex);\r\n        }\r\n        return keyPair;\r\n    }\r\n\r\n    @Bean\r\n    /**\r\n     * \tAn instance of JwtDecoder for decoding signed access tokens.\r\n     */\r\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\r\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\r\n    }\r\n\r\n    @Bean\r\n    /**\r\n     * An instance of AuthorizationServerSettings to configure Spring Authorization Server.\r\n     */\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings.builder().build();\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlease let me know if more problem solving classes are needed.","title":"spring-authorization-server 1.0.1 / JPA (MySQL)","body":"<p>I'm trying to develop a spring-authorization-server 1.0.1 with Spring Boot 3 and JPA.\nDoes anyone have experience with it?</p>\n<p>When I try to authenticate I get the error message:</p>\n<p><code>No AuthenticationProvider found for org.springframework.security.authentication.UsernamePasswordAuthenticationToken</code></p>\n<p>Here is my AuthorizationServerConfig:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class AuthorizationServerConfig {\n\n    @Autowired\n    JpaRegisteredClientRepository jpaRegisteredClientRepository;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(AuthorizationServerConfig.class);\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    /**\n     * A Spring Security filter chain for the Protocol Endpoints.\n     * aus Doku übernommen (1)\n     */\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http) throws Exception {\n\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .oidc(Customizer.withDefaults());   // Enable OpenID Connect 1.0\n        http\n                // Redirect to the login page when not authenticated from the\n                // authorization endpoint\n                .exceptionHandling((exceptions) -&gt; exceptions\n                        .authenticationEntryPoint(\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\n                )\n                // Accept access tokens for User Info and/or Client Registration\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n\n        return http.build();\n\n    }\n\n    @Bean\n    @Order(2)\n    /**\n     * A Spring Security filter chain for authentication.\n     */\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                // Form login handles the redirect to the login page from the\n                // authorization server filter chain\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    /**\n     * An instance of UserDetailsService for retrieving users to authenticate.\n     */\n    public UserDetailsService userDetailsService() {\n        UserDetails userDetails = User.withDefaultPasswordEncoder()\n                .username(&quot;utilo&quot;)\n                .password(&quot;utilo&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n\n        return new InMemoryUserDetailsManager(userDetails);\n    }\n\n    /**\n     *  An instance of RegisteredClientRepository for managing clients.\n     * in Doku vorhanden (4)\n     */\n    @Bean\n    @Primary\n    public RegisteredClientRepository registeredClientRepository() {\n\n        RegisteredClient client = jpaRegisteredClientRepository.findByClientId(&quot;utilo-client&quot;);\n        List&lt;RegisteredClient&gt; registrations = new Vector&lt;RegisteredClient&gt;();\n        registrations.add(client);\n\n        InMemoryRegisteredClientRepository inMemoryRegisteredClientRepository\n                = new InMemoryRegisteredClientRepository(registrations);\n        return inMemoryRegisteredClientRepository;\n\n    }\n\n    /*\n     * Generate the private/public key pair for signature of JWT.\n     */\n    @Bean\n    /**\n     * An instance of com.nimbusds.jose.jwk.source.JWKSource for signing access tokens.\n     */\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\n        KeyPair keyPair = generateRsaKey();\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n        RSAKey rsaKey = new RSAKey.Builder(publicKey)\n                .privateKey(privateKey)\n                .keyID(UUID.randomUUID().toString())\n                .build();\n        JWKSet jwkSet = new JWKSet(rsaKey);\n        return new ImmutableJWKSet&lt;&gt;(jwkSet);\n    }\n\n    /**\n     * An instance of java.security.KeyPair with keys generated on startup used to create the JWKSource above.\n     */\n    private static KeyPair generateRsaKey() {\n        KeyPair keyPair;\n        try {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            keyPair = keyPairGenerator.generateKeyPair();\n        }\n        catch (Exception ex) {\n            throw new IllegalStateException(ex);\n        }\n        return keyPair;\n    }\n\n    @Bean\n    /**\n     *  An instance of JwtDecoder for decoding signed access tokens.\n     */\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\n    }\n\n    @Bean\n    /**\n     * An instance of AuthorizationServerSettings to configure Spring Authorization Server.\n     */\n    public AuthorizationServerSettings authorizationServerSettings() {\n        return AuthorizationServerSettings.builder().build();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p>Please let me know if more problem solving classes are needed.</p>\n"},{"tags":["java","oop","arraylist"],"comments":[{"owner":{"display_name":"user6073886"},"score":6,"creation_date":1674493897,"post_id":75212822,"comment_id":132721014,"body_markdown":"You can either change the scope of your ArrayList from a local variable to a field, or you pass it into the methods as an argument.","body":"You can either change the scope of your ArrayList from a local variable to a field, or you pass it into the methods as an argument."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1674496916,"post_id":75212822,"comment_id":132721922,"body_markdown":"Only because _design_ is part of the question:  directly exposing and passing around a data structure is a bit smelly in the context of your question.  Consider creating a class, such as `People`, that encapsulates  the list.  The class would provide methods, such as `changeName(...)`, and the People object is passed around (rather than the naked data structure).","body":"Only because <i>design</i> is part of the question:  directly exposing and passing around a data structure is a bit smelly in the context of your question.  Consider creating a class, such as <code>People</code>, that encapsulates  the list.  The class would provide methods, such as <code>changeName(...)</code>, and the People object is passed around (rather than the naked data structure)."}],"answers":[{"tags":[],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674608288,"creation_date":1674495429,"answer_id":75213085,"question_id":75212822,"body_markdown":"You can declare the list outside of main method making it global to the class like this:\r\n\r\n    public class Main{\r\n    \r\n         //making your list accessible to other methods within the class\r\n         static ArrayList&lt;Person&gt; personList;\r\n         public static void main(String[] args){\r\n             personList = new ArrayList&lt;Person&gt;();\r\n             Person person1 = new Person(&quot;Daniel&quot;);\r\n             personList.add(person1);\r\n         }\r\n         //Your methods ...\r\n         // ...\r\n    }\r\n\r\nAlso you can pass in the list to the parameters of the method:\r\n\r\n    public static void addPerson(ArrayList&lt;Person&gt; list, Person person){\r\n        list.add(person);\r\n    }\r\n\r\n","title":"Designing methods for manipulating arraylist in java","body":"<p>You can declare the list outside of main method making it global to the class like this:</p>\n<pre><code>public class Main{\n\n     //making your list accessible to other methods within the class\n     static ArrayList&lt;Person&gt; personList;\n     public static void main(String[] args){\n         personList = new ArrayList&lt;Person&gt;();\n         Person person1 = new Person(&quot;Daniel&quot;);\n         personList.add(person1);\n     }\n     //Your methods ...\n     // ...\n}\n</code></pre>\n<p>Also you can pass in the list to the parameters of the method:</p>\n<pre><code>public static void addPerson(ArrayList&lt;Person&gt; list, Person person){\n    list.add(person);\n}\n</code></pre>\n"}],"owner":{"account_id":26501835,"reputation":3,"user_id":20138656,"display_name":"rainbow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674608288,"creation_date":1674493794,"question_id":75212822,"body_markdown":"I&#39;m creating an ArrayList of objects in main and need to create separate public methods for various manipulations with them from outside the main.\r\nBut such methods can&#39;t see my ArrayList. For instance, if the object is a Person with some fields, like name and I need a separate method to access the list of Persons, iterate through it, see if a person with this name already exists to change or retrieve the name.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tArrayList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\r\n\t\tPerson person1 = new Person(&quot;Daniel&quot;);\r\n\t\tpersonList.add(person1);\r\n\t\t\t\t\r\n\t}\r\n\tpublic boolean changeName(String name) {\r\n\t\t//how to reach the list to iterate and manipulate it from here?\t\t\r\n\treturn true;\r\n\t\t\r\n\t}\r\n\r\n","title":"Designing methods for manipulating arraylist in java","body":"<p>I'm creating an ArrayList of objects in main and need to create separate public methods for various manipulations with them from outside the main.\nBut such methods can't see my ArrayList. For instance, if the object is a Person with some fields, like name and I need a separate method to access the list of Persons, iterate through it, see if a person with this name already exists to change or retrieve the name.</p>\n<pre><code>public static void main(String[] args) {\n    \n    ArrayList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\n    Person person1 = new Person(&quot;Daniel&quot;);\n    personList.add(person1);\n            \n}\npublic boolean changeName(String name) {\n    //how to reach the list to iterate and manipulate it from here?     \nreturn true;\n    \n}\n</code></pre>\n"},{"tags":["java","jar","executable-jar"],"owner":{"account_id":10237752,"reputation":1304,"user_id":7556091,"display_name":"progquester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674612787,"answer_count":0,"score":0,"last_activity_date":1674608166,"creation_date":1674607777,"question_id":75228763,"body_markdown":"For example:\r\n```bash\r\n$ tree obj/\r\nobj/\r\n└── com\r\n    ├── deps\r\n    │&#160;&#160; └── Dog.class\r\n    └── test\r\n        └── Main.class\r\n\r\n3 directories, 2 files\r\n```\r\n\r\nI want add `com/deps/Dog.class` and `com/test/Main.class` to my `target.jar `file. I always cd the `obj` path then run:\r\n```bash\r\n$ cd obj\r\n$ jar cvf ../target.jar .\r\nadded manifest\r\nadding: com/(in = 0) (out= 0)(stored 0%)\r\nadding: com/test/(in = 0) (out= 0)(stored 0%)\r\nadding: com/test/Main.class(in = 506) (out= 352)(deflated 30%)\r\nadding: com/deps/(in = 0) (out= 0)(stored 0%)\r\nadding: com/deps/Dog.class(in = 908) (out= 507)(deflated 44%)\r\n```\r\n\r\nIf I run `jar target.jar obj/` in current directory:\r\n```bash\r\n$ jar cvf target.jar obj/\r\nadded manifest\r\nadding: obj/(in = 0) (out= 0)(stored 0%)\r\nadding: obj/com/(in = 0) (out= 0)(stored 0%)\r\nadding: obj/com/test/(in = 0) (out= 0)(stored 0%)\r\nadding: obj/com/test/Main.class(in = 506) (out= 352)(deflated 30%)\r\nadding: obj/com/deps/(in = 0) (out= 0)(stored 0%)\r\nadding: obj/com/deps/Dog.class(in = 908) (out= 507)(deflated 44%)\r\n```\r\n\r\nNoticed that an invalid prefix path `obj` added. Is there any argument can remove `obj/` from the entries?","title":"How to remove the prefix path name when packing classes into a jar by jar command?","body":"<p>For example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ tree obj/\nobj/\n└── com\n    ├── deps\n    │   └── Dog.class\n    └── test\n        └── Main.class\n\n3 directories, 2 files\n</code></pre>\n<p>I want add <code>com/deps/Dog.class</code> and <code>com/test/Main.class</code> to my <code>target.jar </code>file. I always cd the <code>obj</code> path then run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ cd obj\n$ jar cvf ../target.jar .\nadded manifest\nadding: com/(in = 0) (out= 0)(stored 0%)\nadding: com/test/(in = 0) (out= 0)(stored 0%)\nadding: com/test/Main.class(in = 506) (out= 352)(deflated 30%)\nadding: com/deps/(in = 0) (out= 0)(stored 0%)\nadding: com/deps/Dog.class(in = 908) (out= 507)(deflated 44%)\n</code></pre>\n<p>If I run <code>jar target.jar obj/</code> in current directory:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ jar cvf target.jar obj/\nadded manifest\nadding: obj/(in = 0) (out= 0)(stored 0%)\nadding: obj/com/(in = 0) (out= 0)(stored 0%)\nadding: obj/com/test/(in = 0) (out= 0)(stored 0%)\nadding: obj/com/test/Main.class(in = 506) (out= 352)(deflated 30%)\nadding: obj/com/deps/(in = 0) (out= 0)(stored 0%)\nadding: obj/com/deps/Dog.class(in = 908) (out= 507)(deflated 44%)\n</code></pre>\n<p>Noticed that an invalid prefix path <code>obj</code> added. Is there any argument can remove <code>obj/</code> from the entries?</p>\n"},{"tags":["java","xml","pretty-print"],"comments":[{"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"score":0,"creation_date":1250064868,"post_id":139076,"comment_id":1092386,"body_markdown":"check this question: http://stackoverflow.com/questions/1264849/pretty-printing-output-from-javax-xml-transform-transformer-with-only-standard-ja","body":"check this question: <a href=\"http://stackoverflow.com/questions/1264849/pretty-printing-output-from-javax-xml-transform-transformer-with-only-standard-ja\" title=\"pretty printing output from javax xml transform transformer with only standard ja\">stackoverflow.com/questions/1264849/&hellip;</a>"},{"owner":{"account_id":42603,"reputation":1238,"user_id":124123,"accept_rate":100,"display_name":"Abel Morelos"},"score":10,"creation_date":1286385683,"post_id":139076,"comment_id":4123441,"body_markdown":"Just curious, are you sending this output to a XML file or something else where the indenting really matters? Some time ago I was very concerned about formatting my XML in order to have it properly displayed... but after spending a bunch of time on this I realized that I had to send my output to a web browser, and any relatively modern web browser will actually display the XML in a nice tree structure, so I could forget about this issue and move on. I&#39;m mentioning this just in case you (or other user with the same problem) could have overlooked the same detail.","body":"Just curious, are you sending this output to a XML file or something else where the indenting really matters? Some time ago I was very concerned about formatting my XML in order to have it properly displayed... but after spending a bunch of time on this I realized that I had to send my output to a web browser, and any relatively modern web browser will actually display the XML in a nice tree structure, so I could forget about this issue and move on. I&#39;m mentioning this just in case you (or other user with the same problem) could have overlooked the same detail."},{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":4,"creation_date":1286398129,"post_id":139076,"comment_id":4125450,"body_markdown":"@Abel, saving to text files, inserting into an HTML textareas, and dumping to the console for debugging purposes.","body":"@Abel, saving to text files, inserting into an HTML textareas, and dumping to the console for debugging purposes."},{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":6,"creation_date":1531739951,"post_id":139076,"comment_id":89693203,"body_markdown":"&quot;put on hold as too broad&quot; - it is hard to be more precise than the question currently is!","body":"&quot;put on hold as too broad&quot; - it is hard to be more precise than the question currently is!"}],"answers":[{"tags":[],"owner":{"account_id":4384,"reputation":6071,"user_id":2273540,"display_name":"Lorenzo Boccaccia"},"down_vote_count":4,"up_vote_count":311,"is_accepted":false,"score":307,"last_activity_date":1662106607,"creation_date":1222432001,"answer_id":139096,"question_id":139076,"body_markdown":"```java\r\nTransformer transformer = TransformerFactory.newInstance().newTransformer();\r\ntransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\ntransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n// initialize StreamResult with File object to save to file\r\nStreamResult result = new StreamResult(new StringWriter());\r\nDOMSource source = new DOMSource(doc);\r\ntransformer.transform(source, result);\r\nString xmlString = result.getWriter().toString();\r\nSystem.out.println(xmlString);\r\n```\r\nNote: Results may vary depending on the Java version. Search for workarounds specific to your platform.","title":"How to pretty print XML from Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>Transformer transformer = TransformerFactory.newInstance().newTransformer();\ntransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\ntransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\n// initialize StreamResult with File object to save to file\nStreamResult result = new StreamResult(new StringWriter());\nDOMSource source = new DOMSource(doc);\ntransformer.transform(source, result);\nString xmlString = result.getWriter().toString();\nSystem.out.println(xmlString);\n</code></pre>\n<p>Note: Results may vary depending on the Java version. Search for workarounds specific to your platform.</p>\n"},{"tags":[],"owner":{"account_id":11636,"reputation":41624,"user_id":22514,"accept_rate":86,"display_name":"Kevin Hakanson"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1674608071,"creation_date":1222433903,"answer_id":139333,"question_id":139076,"body_markdown":"Since you are starting with a `String`, you can convert to a `DOM` object (e.g. `Node`) before you use the `Transformer`.   However, if you know your XML string is valid, and you don&#39;t want to incur the memory overhead of parsing a string into a DOM, then running a transform over the DOM to get a string back - you could just do some old fashioned character by character parsing.  Insert a newline and spaces after every `&lt;/...&gt;` characters, keep and indent counter (to determine the number of spaces) that you increment for every `&lt;...&gt;` and decrement for every `&lt;/...&gt;` you see.\r\n\r\nDisclaimer - I did a cut/paste/text edit of the functions below, so they may not compile as is.\r\n\r\n    public static final Element createDOM(String strXML) \r\n        throws ParserConfigurationException, SAXException, IOException {\r\n    \r\n    \tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    \tdbf.setValidating(true);\r\n    \tDocumentBuilder db = dbf.newDocumentBuilder();\r\n    \tInputSource sourceXML = new InputSource(new StringReader(strXML));\r\n    \tDocument xmlDoc = db.parse(sourceXML);\r\n    \tElement e = xmlDoc.getDocumentElement();\r\n    \te.normalize();\r\n    \treturn e;\r\n    }\r\n    \r\n    public static final void prettyPrint(Node xml, OutputStream out)\r\n        throws TransformerConfigurationException, TransformerFactoryConfigurationError, TransformerException {\r\n    \tTransformer tf = TransformerFactory.newInstance().newTransformer();\r\n    \ttf.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n    \ttf.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n    \ttf.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n    \ttf.transform(new DOMSource(xml), new StreamResult(out));\r\n    }\r\n\r\n","title":"How to pretty print XML from Java?","body":"<p>Since you are starting with a <code>String</code>, you can convert to a <code>DOM</code> object (e.g. <code>Node</code>) before you use the <code>Transformer</code>.   However, if you know your XML string is valid, and you don't want to incur the memory overhead of parsing a string into a DOM, then running a transform over the DOM to get a string back - you could just do some old fashioned character by character parsing.  Insert a newline and spaces after every <code>&lt;/...&gt;</code> characters, keep and indent counter (to determine the number of spaces) that you increment for every <code>&lt;...&gt;</code> and decrement for every <code>&lt;/...&gt;</code> you see.</p>\n<p>Disclaimer - I did a cut/paste/text edit of the functions below, so they may not compile as is.</p>\n<pre><code>public static final Element createDOM(String strXML) \n    throws ParserConfigurationException, SAXException, IOException {\n\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    dbf.setValidating(true);\n    DocumentBuilder db = dbf.newDocumentBuilder();\n    InputSource sourceXML = new InputSource(new StringReader(strXML));\n    Document xmlDoc = db.parse(sourceXML);\n    Element e = xmlDoc.getDocumentElement();\n    e.normalize();\n    return e;\n}\n\npublic static final void prettyPrint(Node xml, OutputStream out)\n    throws TransformerConfigurationException, TransformerFactoryConfigurationError, TransformerException {\n    Transformer tf = TransformerFactory.newInstance().newTransformer();\n    tf.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n    tf.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\n    tf.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n    tf.transform(new DOMSource(xml), new StreamResult(out));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":5,"up_vote_count":145,"is_accepted":false,"score":140,"last_activity_date":1225460628,"creation_date":1222434795,"answer_id":139426,"question_id":139076,"body_markdown":"Here&#39;s an answer to my own question. I combined the answers from the various results to write a class that pretty prints XML.\r\n\r\nNo guarantees on how it responds with invalid XML or large documents.\r\n\r\n    package ecb.sdw.pretty;\r\n    \r\n    import org.apache.xml.serialize.OutputFormat;\r\n    import org.apache.xml.serialize.XMLSerializer;\r\n    import org.w3c.dom.Document;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.SAXException;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n    import java.io.StringWriter;\r\n    import java.io.Writer;\r\n    \r\n    /**\r\n     * Pretty-prints xml, supplied as a string.\r\n     * &lt;p/&gt;\r\n     * eg.\r\n     * &lt;code&gt;\r\n     * String formattedXml = new XmlFormatter().format(&quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;);\r\n     * &lt;/code&gt;\r\n     */\r\n    public class XmlFormatter {\r\n    \r\n        public XmlFormatter() {\r\n        }\r\n    \r\n        public String format(String unformattedXml) {\r\n            try {\r\n                final Document document = parseXmlFile(unformattedXml);\r\n    \r\n                OutputFormat format = new OutputFormat(document);\r\n                format.setLineWidth(65);\r\n                format.setIndenting(true);\r\n                format.setIndent(2);\r\n                Writer out = new StringWriter();\r\n                XMLSerializer serializer = new XMLSerializer(out, format);\r\n                serializer.serialize(document);\r\n    \r\n                return out.toString();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        private Document parseXmlFile(String in) {\r\n            try {\r\n                DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder db = dbf.newDocumentBuilder();\r\n                InputSource is = new InputSource(new StringReader(in));\r\n                return db.parse(is);\r\n            } catch (ParserConfigurationException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (SAXException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String unformattedXml =\r\n                    &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;QueryMessage\\n&quot; +\r\n                            &quot;        xmlns=\\&quot;http://www.SDMX.org/resources/SDMXML/schemas/v2_0/message\\&quot;\\n&quot; +\r\n                            &quot;        xmlns:query=\\&quot;http://www.SDMX.org/resources/SDMXML/schemas/v2_0/query\\&quot;&gt;\\n&quot; +\r\n                            &quot;    &lt;Query&gt;\\n&quot; +\r\n                            &quot;        &lt;query:CategorySchemeWhere&gt;\\n&quot; +\r\n                            &quot;   \\t\\t\\t\\t\\t         &lt;query:AgencyID&gt;ECB\\n\\n\\n\\n&lt;/query:AgencyID&gt;\\n&quot; +\r\n                            &quot;        &lt;/query:CategorySchemeWhere&gt;\\n&quot; +\r\n                            &quot;    &lt;/Query&gt;\\n\\n\\n\\n\\n&quot; +\r\n                            &quot;&lt;/QueryMessage&gt;&quot;;\r\n    \r\n            System.out.println(new XmlFormatter().format(unformattedXml));\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to pretty print XML from Java?","body":"<p>Here's an answer to my own question. I combined the answers from the various results to write a class that pretty prints XML.</p>\n\n<p>No guarantees on how it responds with invalid XML or large documents.</p>\n\n<pre><code>package ecb.sdw.pretty;\n\nimport org.apache.xml.serialize.OutputFormat;\nimport org.apache.xml.serialize.XMLSerializer;\nimport org.w3c.dom.Document;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport java.io.IOException;\nimport java.io.StringReader;\nimport java.io.StringWriter;\nimport java.io.Writer;\n\n/**\n * Pretty-prints xml, supplied as a string.\n * &lt;p/&gt;\n * eg.\n * &lt;code&gt;\n * String formattedXml = new XmlFormatter().format(\"&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;\");\n * &lt;/code&gt;\n */\npublic class XmlFormatter {\n\n    public XmlFormatter() {\n    }\n\n    public String format(String unformattedXml) {\n        try {\n            final Document document = parseXmlFile(unformattedXml);\n\n            OutputFormat format = new OutputFormat(document);\n            format.setLineWidth(65);\n            format.setIndenting(true);\n            format.setIndent(2);\n            Writer out = new StringWriter();\n            XMLSerializer serializer = new XMLSerializer(out, format);\n            serializer.serialize(document);\n\n            return out.toString();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private Document parseXmlFile(String in) {\n        try {\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n            DocumentBuilder db = dbf.newDocumentBuilder();\n            InputSource is = new InputSource(new StringReader(in));\n            return db.parse(is);\n        } catch (ParserConfigurationException e) {\n            throw new RuntimeException(e);\n        } catch (SAXException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) {\n        String unformattedXml =\n                \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;QueryMessage\\n\" +\n                        \"        xmlns=\\\"http://www.SDMX.org/resources/SDMXML/schemas/v2_0/message\\\"\\n\" +\n                        \"        xmlns:query=\\\"http://www.SDMX.org/resources/SDMXML/schemas/v2_0/query\\\"&gt;\\n\" +\n                        \"    &lt;Query&gt;\\n\" +\n                        \"        &lt;query:CategorySchemeWhere&gt;\\n\" +\n                        \"   \\t\\t\\t\\t\\t         &lt;query:AgencyID&gt;ECB\\n\\n\\n\\n&lt;/query:AgencyID&gt;\\n\" +\n                        \"        &lt;/query:CategorySchemeWhere&gt;\\n\" +\n                        \"    &lt;/Query&gt;\\n\\n\\n\\n\\n\" +\n                        \"&lt;/QueryMessage&gt;\";\n\n        System.out.println(new XmlFormatter().format(unformattedXml));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1606982682,"creation_date":1222439897,"answer_id":139929,"question_id":139076,"body_markdown":"There is a very nice command line XML utility called xmlstarlet(http://xmlstar.sourceforge.net/) that can do a lot of things which a lot of people use.\r\n\r\nYou could execute this program programmatically using Runtime.exec and then read in the formatted output file. It has more options and better error reporting than a few lines of Java code can provide.\r\n\r\ndownload xmlstarlet : http://sourceforge.net/project/showfiles.php?group_id=66612&amp;package_id=64589","title":"How to pretty print XML from Java?","body":"<p>There is a very nice command line XML utility called xmlstarlet(<a href=\"http://xmlstar.sourceforge.net/\" rel=\"nofollow noreferrer\">http://xmlstar.sourceforge.net/</a>) that can do a lot of things which a lot of people use.</p>\n<p>You could execute this program programmatically using Runtime.exec and then read in the formatted output file. It has more options and better error reporting than a few lines of Java code can provide.</p>\n<p>download xmlstarlet : <a href=\"http://sourceforge.net/project/showfiles.php?group_id=66612&amp;package_id=64589\" rel=\"nofollow noreferrer\">http://sourceforge.net/project/showfiles.php?group_id=66612&amp;package_id=64589</a></p>\n"},{"tags":[],"owner":{"account_id":15560,"reputation":361,"user_id":32993,"display_name":"mlo55"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1225757860,"creation_date":1225754557,"answer_id":260314,"question_id":139076,"body_markdown":"I&#39;ve pretty printed in the past using the **org.dom4j.io.OutputFormat.createPrettyPrint()** method\r\n\r\n    public String prettyPrint(final String xml){  \r\n\r\n        if (StringUtils.isBlank(xml)) {\r\n            throw new RuntimeException(&quot;xml was null or blank in prettyPrint()&quot;);\r\n        }\r\n\r\n        final StringWriter sw;\r\n\r\n        try {\r\n            final OutputFormat format = OutputFormat.createPrettyPrint();\r\n            final org.dom4j.Document document = DocumentHelper.parseText(xml);\r\n            sw = new StringWriter();\r\n            final XMLWriter writer = new XMLWriter(sw, format);\r\n            writer.write(document);\r\n        }\r\n        catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error pretty printing xml:\\n&quot; + xml, e);\r\n        }\r\n        return sw.toString();\r\n    }\r\n","title":"How to pretty print XML from Java?","body":"<p>I've pretty printed in the past using the <strong>org.dom4j.io.OutputFormat.createPrettyPrint()</strong> method</p>\n\n<pre><code>public String prettyPrint(final String xml){  \n\n    if (StringUtils.isBlank(xml)) {\n        throw new RuntimeException(\"xml was null or blank in prettyPrint()\");\n    }\n\n    final StringWriter sw;\n\n    try {\n        final OutputFormat format = OutputFormat.createPrettyPrint();\n        final org.dom4j.Document document = DocumentHelper.parseText(xml);\n        sw = new StringWriter();\n        final XMLWriter writer = new XMLWriter(sw, format);\n        writer.write(document);\n    }\n    catch (Exception e) {\n        throw new RuntimeException(\"Error pretty printing xml:\\n\" + xml, e);\n    }\n    return sw.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1235678093,"creation_date":1235678093,"answer_id":592146,"question_id":139076,"body_markdown":"Regarding comment that &quot;you must first build a DOM tree&quot;: No, you need not and should not do that.\r\n\r\nInstead, create a StreamSource (new StreamSource(new StringReader(str)), and feed that to the identity transformer mentioned. That&#39;ll use SAX parser, and result will be much faster.\r\nBuilding an intermediate tree is pure overhead for this case.\r\nOtherwise the top-ranked answer is good.\r\n","title":"How to pretty print XML from Java?","body":"<p>Regarding comment that \"you must first build a DOM tree\": No, you need not and should not do that.</p>\n\n<p>Instead, create a StreamSource (new StreamSource(new StringReader(str)), and feed that to the identity transformer mentioned. That'll use SAX parser, and result will be much faster.\nBuilding an intermediate tree is pure overhead for this case.\nOtherwise the top-ranked answer is good.</p>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1244482750,"creation_date":1244391987,"answer_id":962225,"question_id":139076,"body_markdown":"If using a 3rd party XML library is ok, you can get away with something significantly simpler than what the currently [highest-voted][1] [answers][2] suggest.  \r\n\r\nIt was stated that both input and output should be Strings, so here&#39;s a utility method that does just that, implemented with the **[XOM][3]** library:\r\n    \r\n    import nu.xom.*;\r\n    import java.io.*;\r\n    \r\n    [...]\r\n\r\n    public static String format(String xml) throws ParsingException, IOException {\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        Serializer serializer = new Serializer(out);\r\n        serializer.setIndent(4);  // or whatever you like\r\n        serializer.write(new Builder().build(xml, &quot;&quot;));\r\n        return out.toString(&quot;UTF-8&quot;);\r\n    }\r\n\r\nI tested that it works, and the results *do not* depend on your JRE version or anything like that. To see how to customise the output format to your liking, take a look at the [`Serializer`][4] API.\r\n\r\nThis actually came out longer than I thought - some extra lines were needed because `Serializer` wants an `OutputStream` to write to. But note that there&#39;s very little code for actual XML twiddling here.\r\n\r\n(This answer is part of my evaluation of XOM, which was [suggested][5] as one option in my [question about the best Java XML library][6] to replace dom4j. For the record, with dom4j you could achieve this with similar ease using [`XMLWriter`][7] and [`OutputFormat`][8]. **Edit**: ...as demonstrated in [mlo55&#39;s answer][9].)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java/139096#139096\r\n  [2]: https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java/139333#139333\r\n  [3]: http://xom.nu\r\n  [4]: http://xom.nu/apidocs/nu/xom/Serializer.html\r\n  [5]: https://stackoverflow.com/questions/831865/what-java-xml-library-do-you-recommend-to-replace-dom4j/833241#833241\r\n  [6]: https://stackoverflow.com/questions/831865/what-java-xml-library-do-you-recommend-to-replace-dom4j\r\n  [7]: http://dom4j.org/dom4j-1.6.1/apidocs/org/dom4j/io/XMLWriter.html\r\n  [8]: http://dom4j.org/dom4j-1.6.1/apidocs/org/dom4j/io/OutputFormat.html\r\n  [9]: https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java/260314#260314","title":"How to pretty print XML from Java?","body":"<p>If using a 3rd party XML library is ok, you can get away with something significantly simpler than what the currently <a href=\"https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java/139096#139096\">highest-voted</a> <a href=\"https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java/139333#139333\">answers</a> suggest.  </p>\n\n<p>It was stated that both input and output should be Strings, so here's a utility method that does just that, implemented with the <strong><a href=\"http://xom.nu\" rel=\"nofollow noreferrer\">XOM</a></strong> library:</p>\n\n<pre><code>import nu.xom.*;\nimport java.io.*;\n\n[...]\n\npublic static String format(String xml) throws ParsingException, IOException {\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    Serializer serializer = new Serializer(out);\n    serializer.setIndent(4);  // or whatever you like\n    serializer.write(new Builder().build(xml, \"\"));\n    return out.toString(\"UTF-8\");\n}\n</code></pre>\n\n<p>I tested that it works, and the results <em>do not</em> depend on your JRE version or anything like that. To see how to customise the output format to your liking, take a look at the <a href=\"http://xom.nu/apidocs/nu/xom/Serializer.html\" rel=\"nofollow noreferrer\"><code>Serializer</code></a> API.</p>\n\n<p>This actually came out longer than I thought - some extra lines were needed because <code>Serializer</code> wants an <code>OutputStream</code> to write to. But note that there's very little code for actual XML twiddling here.</p>\n\n<p>(This answer is part of my evaluation of XOM, which was <a href=\"https://stackoverflow.com/questions/831865/what-java-xml-library-do-you-recommend-to-replace-dom4j/833241#833241\">suggested</a> as one option in my <a href=\"https://stackoverflow.com/questions/831865/what-java-xml-library-do-you-recommend-to-replace-dom4j\">question about the best Java XML library</a> to replace dom4j. For the record, with dom4j you could achieve this with similar ease using <a href=\"http://dom4j.org/dom4j-1.6.1/apidocs/org/dom4j/io/XMLWriter.html\" rel=\"nofollow noreferrer\"><code>XMLWriter</code></a> and <a href=\"http://dom4j.org/dom4j-1.6.1/apidocs/org/dom4j/io/OutputFormat.html\" rel=\"nofollow noreferrer\"><code>OutputFormat</code></a>. <strong>Edit</strong>: ...as demonstrated in <a href=\"https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java/260314#260314\">mlo55's answer</a>.)</p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":145,"is_accepted":false,"score":145,"last_activity_date":1621940689,"creation_date":1250065377,"answer_id":1264912,"question_id":139076,"body_markdown":"[a simpler solution based on this answer][1]: \r\n\r\n    public static String prettyFormat(String input, int indent) {\r\n        try {\r\n            Source xmlInput = new StreamSource(new StringReader(input));\r\n            StringWriter stringWriter = new StringWriter();\r\n            StreamResult xmlOutput = new StreamResult(stringWriter);\r\n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n            transformerFactory.setAttribute(&quot;indent-number&quot;, indent);\r\n            transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n            transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n            Transformer transformer = transformerFactory.newTransformer(); \r\n            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n            transformer.transform(xmlInput, xmlOutput);\r\n            return xmlOutput.getWriter().toString();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e); // simple exception handling, please review it\r\n        }\r\n    }\r\n\r\n    public static String prettyFormat(String input) {\r\n        return prettyFormat(input, 2);\r\n    }\r\n\r\ntestcase:\r\n\r\n    prettyFormat(&quot;&lt;root&gt;&lt;child&gt;aaa&lt;/child&gt;&lt;child/&gt;&lt;/root&gt;&quot;);\r\n\r\nreturns:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;root&gt;\r\n      &lt;child&gt;aaa&lt;/child&gt;\r\n      &lt;child/&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1264849/pretty-printing-output-from-javax-xml-transform-transformer-with-only-standard-ja/1264872#1264872\r\n\r\n//Ignore: Original edit just needs missing s in the Class name in code. redundant six characters added to get over 6 characters validation on SO","title":"How to pretty print XML from Java?","body":"<p><a href=\"https://stackoverflow.com/questions/1264849/pretty-printing-output-from-javax-xml-transform-transformer-with-only-standard-ja/1264872#1264872\">a simpler solution based on this answer</a>:</p>\n<pre><code>public static String prettyFormat(String input, int indent) {\n    try {\n        Source xmlInput = new StreamSource(new StringReader(input));\n        StringWriter stringWriter = new StringWriter();\n        StreamResult xmlOutput = new StreamResult(stringWriter);\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        transformerFactory.setAttribute(&quot;indent-number&quot;, indent);\n        transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n        transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n        Transformer transformer = transformerFactory.newTransformer(); \n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n        transformer.transform(xmlInput, xmlOutput);\n        return xmlOutput.getWriter().toString();\n    } catch (Exception e) {\n        throw new RuntimeException(e); // simple exception handling, please review it\n    }\n}\n\npublic static String prettyFormat(String input) {\n    return prettyFormat(input, 2);\n}\n</code></pre>\n<p>testcase:</p>\n<pre><code>prettyFormat(&quot;&lt;root&gt;&lt;child&gt;aaa&lt;/child&gt;&lt;child/&gt;&lt;/root&gt;&quot;);\n</code></pre>\n<p>returns:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n  &lt;child&gt;aaa&lt;/child&gt;\n  &lt;child/&gt;\n&lt;/root&gt;\n</code></pre>\n<p>//Ignore: Original edit just needs missing s in the Class name in code. redundant six characters added to get over 6 characters validation on SO</p>\n"},{"tags":[],"owner":{"account_id":580582,"reputation":117,"user_id":237114,"display_name":"Sandeep Phukan"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1391182771,"creation_date":1261509991,"answer_id":1948577,"question_id":139076,"body_markdown":"Hmmm... faced something like this and it is a known bug ... \r\njust add this OutputProperty ..\r\n\r\n    transformer.setOutputProperty(OutputPropertiesFactory.S_KEY_INDENT_AMOUNT, &quot;8&quot;);\r\n\r\nHope this helps ...","title":"How to pretty print XML from Java?","body":"<p>Hmmm... faced something like this and it is a known bug ... \njust add this OutputProperty ..</p>\n\n<pre><code>transformer.setOutputProperty(OutputPropertiesFactory.S_KEY_INDENT_AMOUNT, \"8\");\n</code></pre>\n\n<p>Hope this helps ...</p>\n"},{"tags":[],"owner":{"account_id":85212,"reputation":11234,"user_id":237733,"accept_rate":94,"display_name":"Mark Pope"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1299549587,"creation_date":1270722540,"answer_id":2599074,"question_id":139076,"body_markdown":"Here&#39;s a way of doing it using [dom4j][1]:\r\n\r\nImports:\r\n\r\n    import org.dom4j.Document;  \r\n    import org.dom4j.DocumentHelper;  \r\n    import org.dom4j.io.OutputFormat;  \r\n    import org.dom4j.io.XMLWriter;\r\n  \r\nCode: \r\n\r\n    String xml = &quot;&lt;your xml=&#39;here&#39;/&gt;&quot;;  \r\n    Document doc = DocumentHelper.parseText(xml);  \r\n    StringWriter sw = new StringWriter();  \r\n    OutputFormat format = OutputFormat.createPrettyPrint();  \r\n    XMLWriter xw = new XMLWriter(sw, format);  \r\n    xw.write(doc);  \r\n    String result = sw.toString();\r\n\r\n\r\n  [1]: http://www.dom4j.org/dom4j-1.6.1/","title":"How to pretty print XML from Java?","body":"<p>Here's a way of doing it using <a href=\"http://www.dom4j.org/dom4j-1.6.1/\" rel=\"noreferrer\">dom4j</a>:</p>\n\n<p>Imports:</p>\n\n<pre><code>import org.dom4j.Document;  \nimport org.dom4j.DocumentHelper;  \nimport org.dom4j.io.OutputFormat;  \nimport org.dom4j.io.XMLWriter;\n</code></pre>\n\n<p>Code: </p>\n\n<pre><code>String xml = \"&lt;your xml='here'/&gt;\";  \nDocument doc = DocumentHelper.parseText(xml);  \nStringWriter sw = new StringWriter();  \nOutputFormat format = OutputFormat.createPrettyPrint();  \nXMLWriter xw = new XMLWriter(sw, format);  \nxw.write(doc);  \nString result = sw.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25497,"reputation":1347,"user_id":65555,"accept_rate":73,"display_name":"David Easley"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1274957422,"creation_date":1274957422,"answer_id":2920419,"question_id":139076,"body_markdown":"Kevin Hakanson said:\r\n&quot;However, if you know your XML string is valid, and you don&#39;t want to incur the memory overhead of parsing a string into a DOM, then running a transform over the DOM to get a string back - you could just do some old fashioned character by character parsing. Insert a newline and spaces after every &lt;/...&gt; characters, keep and indent counter (to determine the number of spaces) that you increment for every &lt;...&gt; and decrement for every &lt;/...&gt; you see.&quot;\r\n\r\nAgreed. Such an approach is much faster and has far fewer dependencies.\r\n\r\nExample solution:\r\n\r\n    /**\r\n     * XML utils, including formatting.\r\n     */\r\n    public class XmlUtils\r\n    {\r\n      private static XmlFormatter formatter = new XmlFormatter(2, 80);\r\n    \r\n      public static String formatXml(String s)\r\n      {\r\n        return formatter.format(s, 0);\r\n      }\r\n    \r\n      public static String formatXml(String s, int initialIndent)\r\n      {\r\n        return formatter.format(s, initialIndent);\r\n      }\r\n    \r\n      private static class XmlFormatter\r\n      {\r\n        private int indentNumChars;\r\n        private int lineLength;\r\n        private boolean singleLine;\r\n    \r\n        public XmlFormatter(int indentNumChars, int lineLength)\r\n        {\r\n          this.indentNumChars = indentNumChars;\r\n          this.lineLength = lineLength;\r\n        }\r\n    \r\n        public synchronized String format(String s, int initialIndent)\r\n        {\r\n          int indent = initialIndent;\r\n          StringBuilder sb = new StringBuilder();\r\n          for (int i = 0; i &lt; s.length(); i++)\r\n          {\r\n            char currentChar = s.charAt(i);\r\n            if (currentChar == &#39;&lt;&#39;)\r\n            {\r\n              char nextChar = s.charAt(i + 1);\r\n              if (nextChar == &#39;/&#39;)\r\n                indent -= indentNumChars;\r\n              if (!singleLine)   // Don&#39;t indent before closing element if we&#39;re creating opening and closing elements on a single line.\r\n                sb.append(buildWhitespace(indent));\r\n              if (nextChar != &#39;?&#39; &amp;&amp; nextChar != &#39;!&#39; &amp;&amp; nextChar != &#39;/&#39;)\r\n                indent += indentNumChars;\r\n              singleLine = false;  // Reset flag.\r\n            }\r\n            sb.append(currentChar);\r\n            if (currentChar == &#39;&gt;&#39;)\r\n            {\r\n              if (s.charAt(i - 1) == &#39;/&#39;)\r\n              {\r\n                indent -= indentNumChars;\r\n                sb.append(&quot;\\n&quot;);\r\n              }\r\n              else\r\n              {\r\n                int nextStartElementPos = s.indexOf(&#39;&lt;&#39;, i);\r\n                if (nextStartElementPos &gt; i + 1)\r\n                {\r\n                  String textBetweenElements = s.substring(i + 1, nextStartElementPos);\r\n    \r\n                  // If the space between elements is solely newlines, let them through to preserve additional newlines in source document.\r\n                  if (textBetweenElements.replaceAll(&quot;\\n&quot;, &quot;&quot;).length() == 0)\r\n                  {\r\n                    sb.append(textBetweenElements + &quot;\\n&quot;);\r\n                  }\r\n                  // Put tags and text on a single line if the text is short.\r\n                  else if (textBetweenElements.length() &lt;= lineLength * 0.5)\r\n                  {\r\n                    sb.append(textBetweenElements);\r\n                    singleLine = true;\r\n                  }\r\n                  // For larger amounts of text, wrap lines to a maximum line length.\r\n                  else\r\n                  {\r\n                    sb.append(&quot;\\n&quot; + lineWrap(textBetweenElements, lineLength, indent, null) + &quot;\\n&quot;);\r\n                  }\r\n                  i = nextStartElementPos - 1;\r\n                }\r\n                else\r\n                {\r\n                  sb.append(&quot;\\n&quot;);\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return sb.toString();\r\n        }\r\n      }\r\n    \r\n      private static String buildWhitespace(int numChars)\r\n      {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; numChars; i++)\r\n          sb.append(&quot; &quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Wraps the supplied text to the specified line length.\r\n       * @lineLength the maximum length of each line in the returned string (not including indent if specified).\r\n       * @indent optional number of whitespace characters to prepend to each line before the text.\r\n       * @linePrefix optional string to append to the indent (before the text).\r\n       * @returns the supplied text wrapped so that no line exceeds the specified line length + indent, optionally with\r\n       * indent and prefix applied to each line.\r\n       */\r\n      private static String lineWrap(String s, int lineLength, Integer indent, String linePrefix)\r\n      {\r\n        if (s == null)\r\n          return null;\r\n    \r\n        StringBuilder sb = new StringBuilder();\r\n        int lineStartPos = 0;\r\n        int lineEndPos;\r\n        boolean firstLine = true;\r\n        while(lineStartPos &lt; s.length())\r\n        {\r\n          if (!firstLine)\r\n            sb.append(&quot;\\n&quot;);\r\n          else\r\n            firstLine = false;\r\n    \r\n          if (lineStartPos + lineLength &gt; s.length())\r\n            lineEndPos = s.length() - 1;\r\n          else\r\n          {\r\n            lineEndPos = lineStartPos + lineLength - 1;\r\n            while (lineEndPos &gt; lineStartPos &amp;&amp; (s.charAt(lineEndPos) != &#39; &#39; &amp;&amp; s.charAt(lineEndPos) != &#39;\\t&#39;))\r\n              lineEndPos--;\r\n          }\r\n          sb.append(buildWhitespace(indent));\r\n          if (linePrefix != null)\r\n            sb.append(linePrefix);\r\n    \r\n          sb.append(s.substring(lineStartPos, lineEndPos + 1));\r\n          lineStartPos = lineEndPos + 1;\r\n        }\r\n        return sb.toString();\r\n      }\r\n      \r\n      // other utils removed for brevity\r\n    }\r\n","title":"How to pretty print XML from Java?","body":"<p>Kevin Hakanson said:\n\"However, if you know your XML string is valid, and you don't want to incur the memory overhead of parsing a string into a DOM, then running a transform over the DOM to get a string back - you could just do some old fashioned character by character parsing. Insert a newline and spaces after every  characters, keep and indent counter (to determine the number of spaces) that you increment for every &lt;...> and decrement for every  you see.\"</p>\n\n<p>Agreed. Such an approach is much faster and has far fewer dependencies.</p>\n\n<p>Example solution:</p>\n\n<pre><code>/**\n * XML utils, including formatting.\n */\npublic class XmlUtils\n{\n  private static XmlFormatter formatter = new XmlFormatter(2, 80);\n\n  public static String formatXml(String s)\n  {\n    return formatter.format(s, 0);\n  }\n\n  public static String formatXml(String s, int initialIndent)\n  {\n    return formatter.format(s, initialIndent);\n  }\n\n  private static class XmlFormatter\n  {\n    private int indentNumChars;\n    private int lineLength;\n    private boolean singleLine;\n\n    public XmlFormatter(int indentNumChars, int lineLength)\n    {\n      this.indentNumChars = indentNumChars;\n      this.lineLength = lineLength;\n    }\n\n    public synchronized String format(String s, int initialIndent)\n    {\n      int indent = initialIndent;\n      StringBuilder sb = new StringBuilder();\n      for (int i = 0; i &lt; s.length(); i++)\n      {\n        char currentChar = s.charAt(i);\n        if (currentChar == '&lt;')\n        {\n          char nextChar = s.charAt(i + 1);\n          if (nextChar == '/')\n            indent -= indentNumChars;\n          if (!singleLine)   // Don't indent before closing element if we're creating opening and closing elements on a single line.\n            sb.append(buildWhitespace(indent));\n          if (nextChar != '?' &amp;&amp; nextChar != '!' &amp;&amp; nextChar != '/')\n            indent += indentNumChars;\n          singleLine = false;  // Reset flag.\n        }\n        sb.append(currentChar);\n        if (currentChar == '&gt;')\n        {\n          if (s.charAt(i - 1) == '/')\n          {\n            indent -= indentNumChars;\n            sb.append(\"\\n\");\n          }\n          else\n          {\n            int nextStartElementPos = s.indexOf('&lt;', i);\n            if (nextStartElementPos &gt; i + 1)\n            {\n              String textBetweenElements = s.substring(i + 1, nextStartElementPos);\n\n              // If the space between elements is solely newlines, let them through to preserve additional newlines in source document.\n              if (textBetweenElements.replaceAll(\"\\n\", \"\").length() == 0)\n              {\n                sb.append(textBetweenElements + \"\\n\");\n              }\n              // Put tags and text on a single line if the text is short.\n              else if (textBetweenElements.length() &lt;= lineLength * 0.5)\n              {\n                sb.append(textBetweenElements);\n                singleLine = true;\n              }\n              // For larger amounts of text, wrap lines to a maximum line length.\n              else\n              {\n                sb.append(\"\\n\" + lineWrap(textBetweenElements, lineLength, indent, null) + \"\\n\");\n              }\n              i = nextStartElementPos - 1;\n            }\n            else\n            {\n              sb.append(\"\\n\");\n            }\n          }\n        }\n      }\n      return sb.toString();\n    }\n  }\n\n  private static String buildWhitespace(int numChars)\n  {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; numChars; i++)\n      sb.append(\" \");\n    return sb.toString();\n  }\n\n  /**\n   * Wraps the supplied text to the specified line length.\n   * @lineLength the maximum length of each line in the returned string (not including indent if specified).\n   * @indent optional number of whitespace characters to prepend to each line before the text.\n   * @linePrefix optional string to append to the indent (before the text).\n   * @returns the supplied text wrapped so that no line exceeds the specified line length + indent, optionally with\n   * indent and prefix applied to each line.\n   */\n  private static String lineWrap(String s, int lineLength, Integer indent, String linePrefix)\n  {\n    if (s == null)\n      return null;\n\n    StringBuilder sb = new StringBuilder();\n    int lineStartPos = 0;\n    int lineEndPos;\n    boolean firstLine = true;\n    while(lineStartPos &lt; s.length())\n    {\n      if (!firstLine)\n        sb.append(\"\\n\");\n      else\n        firstLine = false;\n\n      if (lineStartPos + lineLength &gt; s.length())\n        lineEndPos = s.length() - 1;\n      else\n      {\n        lineEndPos = lineStartPos + lineLength - 1;\n        while (lineEndPos &gt; lineStartPos &amp;&amp; (s.charAt(lineEndPos) != ' ' &amp;&amp; s.charAt(lineEndPos) != '\\t'))\n          lineEndPos--;\n      }\n      sb.append(buildWhitespace(indent));\n      if (linePrefix != null)\n        sb.append(linePrefix);\n\n      sb.append(s.substring(lineStartPos, lineEndPos + 1));\n      lineStartPos = lineEndPos + 1;\n    }\n    return sb.toString();\n  }\n\n  // other utils removed for brevity\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":113581,"reputation":2674,"user_id":299075,"accept_rate":91,"display_name":"Kristoffer Lindvall"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1276288215,"creation_date":1276288215,"answer_id":3026021,"question_id":139076,"body_markdown":"I had the same problem and I&#39;m having great success with JTidy (http://jtidy.sourceforge.net/index.html)\r\n\r\nExample:\r\n\r\n    Tidy t = new Tidy();\r\n\tt.setIndentContent(true);\r\n\tDocument d = t.parseDOM(\r\n\t\tnew ByteArrayInputStream(&quot;HTML goes here&quot;, null);\r\n\t\t\r\n\tOutputStream out = new ByteArrayOutputStream();\r\n\tt.pprint(d, out);\r\n\tString html = out.toString();","title":"How to pretty print XML from Java?","body":"<p>I had the same problem and I'm having great success with JTidy (<a href=\"http://jtidy.sourceforge.net/index.html\" rel=\"nofollow noreferrer\">http://jtidy.sourceforge.net/index.html</a>)</p>\n\n<p>Example:</p>\n\n<pre><code>Tidy t = new Tidy();\nt.setIndentContent(true);\nDocument d = t.parseDOM(\n    new ByteArrayInputStream(\"HTML goes here\", null);\n\nOutputStream out = new ByteArrayOutputStream();\nt.pprint(d, out);\nString html = out.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90762,"reputation":4440,"user_id":249672,"display_name":"khylo"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1295455787,"creation_date":1292603251,"answer_id":4472580,"question_id":139076,"body_markdown":"Just to note that top rated answer requires the use of xerces.\r\n\r\nIf you don&#39;t want to add this external dependency then you can simply use the standard jdk libraries (which actually are built using xerces internally).\r\n\r\nN.B. There was a bug with jdk version 1.5 see [https://bugs.java.com/bugdatabase/view_bug?bug_id=6296446][1] but it is resolved now.,\r\n\r\n(Note if an error occurs this will return the original text)\r\n\r\n\tpackage com.test;\r\n\r\n\timport java.io.ByteArrayInputStream;\r\n\timport java.io.ByteArrayOutputStream;\r\n\r\n\timport javax.xml.transform.OutputKeys;\r\n\timport javax.xml.transform.Source;\r\n\timport javax.xml.transform.Transformer;\r\n\timport javax.xml.transform.sax.SAXSource;\r\n\timport javax.xml.transform.sax.SAXTransformerFactory;\r\n\timport javax.xml.transform.stream.StreamResult;\r\n\r\n\timport org.xml.sax.InputSource;\r\n\r\n\tpublic class XmlTest {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tXmlTest t = new XmlTest();\r\n\t\t\tSystem.out.println(t.formatXml(&quot;&lt;a&gt;&lt;b&gt;&lt;c/&gt;&lt;d&gt;text D&lt;/d&gt;&lt;e value=&#39;0&#39;/&gt;&lt;/b&gt;&lt;/a&gt;&quot;));\r\n\t\t}\r\n\r\n\t\tpublic String formatXml(String xml){\r\n\t\t\ttry{\r\n\t\t\t\tTransformer serializer= SAXTransformerFactory.newInstance().newTransformer();\r\n\t\t\t\tserializer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\t\t\t\t//serializer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n\t\t\t\tserializer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n\t\t\t\t//serializer.setOutputProperty(&quot;{http://xml.customer.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n\t\t\t\tSource xmlSource=new SAXSource(new InputSource(new ByteArrayInputStream(xml.getBytes())));\r\n\t\t\t\tStreamResult res =  new StreamResult(new ByteArrayOutputStream());            \r\n\t\t\t\tserializer.transform(xmlSource, res);\r\n\t\t\t\treturn new String(((ByteArrayOutputStream)res.getOutputStream()).toByteArray());\r\n\t\t\t}catch(Exception e){\r\n\t\t\t\t//TODO log error\r\n\t\t\t\treturn xml;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6296446","title":"How to pretty print XML from Java?","body":"<p>Just to note that top rated answer requires the use of xerces.</p>\n<p>If you don't want to add this external dependency then you can simply use the standard jdk libraries (which actually are built using xerces internally).</p>\n<p>N.B. There was a bug with jdk version 1.5 see <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6296446\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6296446</a> but it is resolved now.,</p>\n<p>(Note if an error occurs this will return the original text)</p>\n<pre><code>package com.test;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\n\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.sax.SAXSource;\nimport javax.xml.transform.sax.SAXTransformerFactory;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.xml.sax.InputSource;\n\npublic class XmlTest {\n    public static void main(String[] args) {\n        XmlTest t = new XmlTest();\n        System.out.println(t.formatXml(&quot;&lt;a&gt;&lt;b&gt;&lt;c/&gt;&lt;d&gt;text D&lt;/d&gt;&lt;e value='0'/&gt;&lt;/b&gt;&lt;/a&gt;&quot;));\n    }\n\n    public String formatXml(String xml){\n        try{\n            Transformer serializer= SAXTransformerFactory.newInstance().newTransformer();\n            serializer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n            //serializer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\n            serializer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\n            //serializer.setOutputProperty(&quot;{http://xml.customer.org/xslt}indent-amount&quot;, &quot;2&quot;);\n            Source xmlSource=new SAXSource(new InputSource(new ByteArrayInputStream(xml.getBytes())));\n            StreamResult res =  new StreamResult(new ByteArrayOutputStream());            \n            serializer.transform(xmlSource, res);\n            return new String(((ByteArrayOutputStream)res.getOutputStream()).toByteArray());\n        }catch(Exception e){\n            //TODO log error\n            return xml;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19417,"reputation":37980,"user_id":45525,"accept_rate":83,"display_name":"Synesso"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1299549521,"creation_date":1299549521,"answer_id":5227490,"question_id":139076,"body_markdown":"Using scala:\r\n\r\n    import xml._\r\n    val xml = XML.loadString(&quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;)\r\n    val formatted = new PrettyPrinter(150, 2).format(xml)\r\n    println(formatted)\r\n\r\nYou can do this in Java too, if you depend on the scala-library.jar. It looks like this:\r\n\r\n    import scala.xml.*;\r\n\r\n    public class FormatXML {\r\n        public static void main(String[] args) {\r\n            String unformattedXml = &quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;;\r\n            PrettyPrinter pp = new PrettyPrinter(150, 3);\r\n            String formatted = pp.format(XML.loadString(unformattedXml), TopScope$.MODULE$);\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n\r\nThe `PrettyPrinter` object is constructed with two ints, the first being max line length and the second being the indentation step.","title":"How to pretty print XML from Java?","body":"<p>Using scala:</p>\n\n<pre><code>import xml._\nval xml = XML.loadString(\"&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;\")\nval formatted = new PrettyPrinter(150, 2).format(xml)\nprintln(formatted)\n</code></pre>\n\n<p>You can do this in Java too, if you depend on the scala-library.jar. It looks like this:</p>\n\n<pre><code>import scala.xml.*;\n\npublic class FormatXML {\n    public static void main(String[] args) {\n        String unformattedXml = \"&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;\";\n        PrettyPrinter pp = new PrettyPrinter(150, 3);\n        String formatted = pp.format(XML.loadString(unformattedXml), TopScope$.MODULE$);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n\n<p>The <code>PrettyPrinter</code> object is constructed with two ints, the first being max line length and the second being the indentation step.</p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1318257785,"creation_date":1318257785,"answer_id":7714473,"question_id":139076,"body_markdown":"Just for future reference, here&#39;s a solution that worked for me (thanks to a comment that @George Hawkins posted in one of the answers):\r\n\r\n    DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\r\n    DOMImplementationLS impl = (DOMImplementationLS) registry.getDOMImplementation(&quot;LS&quot;);\r\n    LSSerializer writer = impl.createLSSerializer();\r\n    writer.getDomConfig().setParameter(&quot;format-pretty-print&quot;, Boolean.TRUE);\r\n    LSOutput output = impl.createLSOutput();\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    output.setByteStream(out);\r\n    writer.write(document, output);\r\n    String xmlStr = new String(out.toByteArray());","title":"How to pretty print XML from Java?","body":"<p>Just for future reference, here's a solution that worked for me (thanks to a comment that @George Hawkins posted in one of the answers):</p>\n\n<pre><code>DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\nDOMImplementationLS impl = (DOMImplementationLS) registry.getDOMImplementation(\"LS\");\nLSSerializer writer = impl.createLSSerializer();\nwriter.getDomConfig().setParameter(\"format-pretty-print\", Boolean.TRUE);\nLSOutput output = impl.createLSOutput();\nByteArrayOutputStream out = new ByteArrayOutputStream();\noutput.setByteStream(out);\nwriter.write(document, output);\nString xmlStr = new String(out.toByteArray());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":454296,"reputation":1537,"user_id":851774,"accept_rate":83,"display_name":"JFK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1341516989,"creation_date":1341516989,"answer_id":11351356,"question_id":139076,"body_markdown":"I have found that in Java 1.6.0_32 the normal method to pretty print an XML ***string*** (using a Transformer with a null or identity xslt) does not behave as I would like if tags are merely separated by whitespace, as opposed to having no separating text. I tried using `&lt;xsl:strip-space elements=&quot;*&quot;/&gt;` in my template to no avail. The simplest solution I found was to strip the space the way I wanted using a SAXSource and XML filter. Since my solution was for logging  I also extended this to work with incomplete XML fragments. Note the normal method seems to work fine if you use a DOMSource but I did not want to use this because of the incompleteness and memory overhead. \r\n\r\n    \t\r\n\tpublic static class WhitespaceIgnoreFilter extends XMLFilterImpl\r\n\t{\r\n\r\n\t\t@Override\r\n\t\tpublic void ignorableWhitespace(char[] arg0,\r\n\t\t\t\t\t\t\t\t\t\tint arg1,\r\n\t\t\t\t\t\t\t\t\t\tint arg2) throws SAXException\r\n\t\t{\r\n\t\t\t//Ignore it then...\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void characters(\tchar[] ch,\r\n\t\t\t\t\t\t\t\tint start,\r\n\t\t\t\t\t\t\t\tint length) throws SAXException\r\n\t\t{\r\n\t\t\tif (!new String(ch, start, length).trim().equals(&quot;&quot;)) \r\n\t\t\t       super.characters(ch, start, length); \r\n\t\t}\r\n\t}\r\n\r\n    public static String prettyXML(String logMsg, boolean allowBadlyFormedFragments) throws SAXException, IOException, TransformerException\r\n    \t{\r\n    \t\tTransformerFactory transFactory = TransformerFactory.newInstance();\r\n    \t\ttransFactory.setAttribute(&quot;indent-number&quot;, new Integer(2));\r\n    \t\tTransformer transformer = transFactory.newTransformer();\r\n    \t\ttransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n    \t\ttransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n    \t\tStringWriter out = new StringWriter();\r\n    \t\tXMLReader masterParser = SAXHelper.getSAXParser(true);\r\n    \t\tXMLFilter parser = new WhitespaceIgnoreFilter();\r\n    \t\tparser.setParent(masterParser);\r\n    \r\n    \t\tif(allowBadlyFormedFragments)\r\n    \t\t{\r\n    \t\t\ttransformer.setErrorListener(new ErrorListener()\r\n    \t\t\t{\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void warning(TransformerException exception) throws TransformerException\r\n    \t\t\t\t{\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void fatalError(TransformerException exception) throws TransformerException\r\n    \t\t\t\t{\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void error(TransformerException exception) throws TransformerException\r\n    \t\t\t\t{\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\ttransformer.transform(new SAXSource(parser, new InputSource(new StringReader(logMsg))), new StreamResult(out));\r\n    \t\t}\r\n    \t\tcatch (TransformerException e)\r\n    \t\t{\r\n    \t\t\tif(e.getCause() != null &amp;&amp; e.getCause() instanceof SAXParseException)\r\n    \t\t\t{\r\n    \t\t\t\tif(!allowBadlyFormedFragments || !&quot;XML document structures must start and end within the same entity.&quot;.equals(e.getCause().getMessage()))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tthrow e;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tthrow e;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tout.flush();\r\n    \t\treturn out.toString();\r\n    \t}","title":"How to pretty print XML from Java?","body":"<p>I have found that in Java 1.6.0_32 the normal method to pretty print an XML <strong><em>string</em></strong> (using a Transformer with a null or identity xslt) does not behave as I would like if tags are merely separated by whitespace, as opposed to having no separating text. I tried using <code>&lt;xsl:strip-space elements=\"*\"/&gt;</code> in my template to no avail. The simplest solution I found was to strip the space the way I wanted using a SAXSource and XML filter. Since my solution was for logging  I also extended this to work with incomplete XML fragments. Note the normal method seems to work fine if you use a DOMSource but I did not want to use this because of the incompleteness and memory overhead. </p>\n\n<pre><code>public static class WhitespaceIgnoreFilter extends XMLFilterImpl\n{\n\n    @Override\n    public void ignorableWhitespace(char[] arg0,\n                                    int arg1,\n                                    int arg2) throws SAXException\n    {\n        //Ignore it then...\n    }\n\n    @Override\n    public void characters( char[] ch,\n                            int start,\n                            int length) throws SAXException\n    {\n        if (!new String(ch, start, length).trim().equals(\"\")) \n               super.characters(ch, start, length); \n    }\n}\n\npublic static String prettyXML(String logMsg, boolean allowBadlyFormedFragments) throws SAXException, IOException, TransformerException\n    {\n        TransformerFactory transFactory = TransformerFactory.newInstance();\n        transFactory.setAttribute(\"indent-number\", new Integer(2));\n        Transformer transformer = transFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n        transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"4\");\n        StringWriter out = new StringWriter();\n        XMLReader masterParser = SAXHelper.getSAXParser(true);\n        XMLFilter parser = new WhitespaceIgnoreFilter();\n        parser.setParent(masterParser);\n\n        if(allowBadlyFormedFragments)\n        {\n            transformer.setErrorListener(new ErrorListener()\n            {\n                @Override\n                public void warning(TransformerException exception) throws TransformerException\n                {\n                }\n\n                @Override\n                public void fatalError(TransformerException exception) throws TransformerException\n                {\n                }\n\n                @Override\n                public void error(TransformerException exception) throws TransformerException\n                {\n                }\n            });\n        }\n\n        try\n        {\n            transformer.transform(new SAXSource(parser, new InputSource(new StringReader(logMsg))), new StreamResult(out));\n        }\n        catch (TransformerException e)\n        {\n            if(e.getCause() != null &amp;&amp; e.getCause() instanceof SAXParseException)\n            {\n                if(!allowBadlyFormedFragments || !\"XML document structures must start and end within the same entity.\".equals(e.getCause().getMessage()))\n                {\n                    throw e;\n                }\n            }\n            else\n            {\n                throw e;\n            }\n        }\n        out.flush();\n        return out.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1359524812,"creation_date":1342517358,"answer_id":11519668,"question_id":139076,"body_markdown":"Now it&#39;s 2012 and Java can do more than it used to with XML, I&#39;d like to add an alternative to my accepted answer. This has no dependencies outside of Java 6.\r\n\r\n\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.bootstrap.DOMImplementationRegistry;\r\n    import org.w3c.dom.ls.DOMImplementationLS;\r\n    import org.w3c.dom.ls.LSSerializer;\r\n    import org.xml.sax.InputSource;\r\n    \r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import java.io.StringReader;\r\n    \r\n    /**\r\n     * Pretty-prints xml, supplied as a string.\r\n     * &lt;p/&gt;\r\n     * eg.\r\n     * &lt;code&gt;\r\n     * String formattedXml = new XmlFormatter().format(&quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;);\r\n     * &lt;/code&gt;\r\n     */\r\n    public class XmlFormatter {\r\n    \r\n        public String format(String xml) {\r\n    \r\n            try {\r\n                final InputSource src = new InputSource(new StringReader(xml));\r\n                final Node document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(src).getDocumentElement();\r\n                final Boolean keepDeclaration = Boolean.valueOf(xml.startsWith(&quot;&lt;?xml&quot;));\r\n    \r\n            //May need this: System.setProperty(DOMImplementationRegistry.PROPERTY,&quot;com.sun.org.apache.xerces.internal.dom.DOMImplementationSourceImpl&quot;);\r\n\r\n\r\n                final DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\r\n                final DOMImplementationLS impl = (DOMImplementationLS) registry.getDOMImplementation(&quot;LS&quot;);\r\n                final LSSerializer writer = impl.createLSSerializer();\r\n    \r\n                writer.getDomConfig().setParameter(&quot;format-pretty-print&quot;, Boolean.TRUE); // Set this to true if the output needs to be beautified.\r\n                writer.getDomConfig().setParameter(&quot;xml-declaration&quot;, keepDeclaration); // Set this to true if the declaration is needed to be outputted.\r\n    \r\n                return writer.writeToString(document);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String unformattedXml =\r\n                    &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;QueryMessage\\n&quot; +\r\n                            &quot;        xmlns=\\&quot;http://www.SDMX.org/resources/SDMXML/schemas/v2_0/message\\&quot;\\n&quot; +\r\n                            &quot;        xmlns:query=\\&quot;http://www.SDMX.org/resources/SDMXML/schemas/v2_0/query\\&quot;&gt;\\n&quot; +\r\n                            &quot;    &lt;Query&gt;\\n&quot; +\r\n                            &quot;        &lt;query:CategorySchemeWhere&gt;\\n&quot; +\r\n                            &quot;   \\t\\t\\t\\t\\t         &lt;query:AgencyID&gt;ECB\\n\\n\\n\\n&lt;/query:AgencyID&gt;\\n&quot; +\r\n                            &quot;        &lt;/query:CategorySchemeWhere&gt;\\n&quot; +\r\n                            &quot;    &lt;/Query&gt;\\n\\n\\n\\n\\n&quot; +\r\n                            &quot;&lt;/QueryMessage&gt;&quot;;\r\n    \r\n            System.out.println(new XmlFormatter().format(unformattedXml));\r\n        }\r\n    }\r\n\r\n","title":"How to pretty print XML from Java?","body":"<p>Now it's 2012 and Java can do more than it used to with XML, I'd like to add an alternative to my accepted answer. This has no dependencies outside of Java 6.</p>\n\n<pre><code>import org.w3c.dom.Node;\nimport org.w3c.dom.bootstrap.DOMImplementationRegistry;\nimport org.w3c.dom.ls.DOMImplementationLS;\nimport org.w3c.dom.ls.LSSerializer;\nimport org.xml.sax.InputSource;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport java.io.StringReader;\n\n/**\n * Pretty-prints xml, supplied as a string.\n * &lt;p/&gt;\n * eg.\n * &lt;code&gt;\n * String formattedXml = new XmlFormatter().format(\"&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;\");\n * &lt;/code&gt;\n */\npublic class XmlFormatter {\n\n    public String format(String xml) {\n\n        try {\n            final InputSource src = new InputSource(new StringReader(xml));\n            final Node document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(src).getDocumentElement();\n            final Boolean keepDeclaration = Boolean.valueOf(xml.startsWith(\"&lt;?xml\"));\n\n        //May need this: System.setProperty(DOMImplementationRegistry.PROPERTY,\"com.sun.org.apache.xerces.internal.dom.DOMImplementationSourceImpl\");\n\n\n            final DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\n            final DOMImplementationLS impl = (DOMImplementationLS) registry.getDOMImplementation(\"LS\");\n            final LSSerializer writer = impl.createLSSerializer();\n\n            writer.getDomConfig().setParameter(\"format-pretty-print\", Boolean.TRUE); // Set this to true if the output needs to be beautified.\n            writer.getDomConfig().setParameter(\"xml-declaration\", keepDeclaration); // Set this to true if the declaration is needed to be outputted.\n\n            return writer.writeToString(document);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) {\n        String unformattedXml =\n                \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;&lt;QueryMessage\\n\" +\n                        \"        xmlns=\\\"http://www.SDMX.org/resources/SDMXML/schemas/v2_0/message\\\"\\n\" +\n                        \"        xmlns:query=\\\"http://www.SDMX.org/resources/SDMXML/schemas/v2_0/query\\\"&gt;\\n\" +\n                        \"    &lt;Query&gt;\\n\" +\n                        \"        &lt;query:CategorySchemeWhere&gt;\\n\" +\n                        \"   \\t\\t\\t\\t\\t         &lt;query:AgencyID&gt;ECB\\n\\n\\n\\n&lt;/query:AgencyID&gt;\\n\" +\n                        \"        &lt;/query:CategorySchemeWhere&gt;\\n\" +\n                        \"    &lt;/Query&gt;\\n\\n\\n\\n\\n\" +\n                        \"&lt;/QueryMessage&gt;\";\n\n        System.out.println(new XmlFormatter().format(unformattedXml));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1417555852,"creation_date":1381188769,"answer_id":19236572,"question_id":139076,"body_markdown":"For those searching for a quick and dirty solution - which doesn&#39;t need the XML to be 100% valid. e.g. in case of REST / SOAP logging (you never know what the others send ;-))\r\n\r\nI found and advanced a code snipped I found online which I think is still missing here as a valid possible approach: \r\n \r\n\r\n    public static String prettyPrintXMLAsString(String xmlString) {\r\n\t\t/* Remove new lines */\r\n\t\tfinal String LINE_BREAK = &quot;\\n&quot;;\r\n\t\txmlString = xmlString.replaceAll(LINE_BREAK, &quot;&quot;);\r\n\t\tStringBuffer prettyPrintXml = new StringBuffer();\r\n\t\t/* Group the xml tags */\r\n\t\tPattern pattern = Pattern.compile(&quot;(&lt;[^/][^&gt;]+&gt;)?([^&lt;]*)(&lt;/[^&gt;]+&gt;)?(&lt;[^/][^&gt;]+/&gt;)?&quot;);\r\n\t\tMatcher matcher = pattern.matcher(xmlString);\r\n\t\tint tabCount = 0;\r\n\t\twhile (matcher.find()) {\r\n\t\t\tString str1 = (null == matcher.group(1) || &quot;null&quot;.equals(matcher.group())) ? &quot;&quot; : matcher.group(1);\r\n\t\t\tString str2 = (null == matcher.group(2) || &quot;null&quot;.equals(matcher.group())) ? &quot;&quot; : matcher.group(2);\r\n\t\t\tString str3 = (null == matcher.group(3) || &quot;null&quot;.equals(matcher.group())) ? &quot;&quot; : matcher.group(3);\r\n\t\t\tString str4 = (null == matcher.group(4) || &quot;null&quot;.equals(matcher.group())) ? &quot;&quot; : matcher.group(4);\r\n\r\n\t\t\tif (matcher.group() != null &amp;&amp; !matcher.group().trim().equals(&quot;&quot;)) {\r\n\t\t\t\tprintTabs(tabCount, prettyPrintXml);\r\n\t\t\t\tif (!str1.equals(&quot;&quot;) &amp;&amp; str3.equals(&quot;&quot;)) {\r\n\t\t\t\t\t++tabCount;\r\n\t\t\t\t}\r\n\t\t\t\tif (str1.equals(&quot;&quot;) &amp;&amp; !str3.equals(&quot;&quot;)) {\r\n\t\t\t\t\t--tabCount;\r\n\t\t\t\t\tprettyPrintXml.deleteCharAt(prettyPrintXml.length() - 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tprettyPrintXml.append(str1);\r\n\t\t\t\tprettyPrintXml.append(str2);\r\n\t\t\t\tprettyPrintXml.append(str3);\r\n\t\t\t\tif (!str4.equals(&quot;&quot;)) {\r\n\t\t\t\t\tprettyPrintXml.append(LINE_BREAK);\r\n\t\t\t\t\tprintTabs(tabCount, prettyPrintXml);\r\n\t\t\t\t\tprettyPrintXml.append(str4);\r\n\t\t\t\t}\r\n\t\t\t\tprettyPrintXml.append(LINE_BREAK);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn prettyPrintXml.toString();\r\n\t}\r\n\r\n\tprivate static void printTabs(int count, StringBuffer stringBuffer) {\r\n\t\tfor (int i = 0; i &lt; count; i++) {\r\n\t\t\tstringBuffer.append(&quot;\\t&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = new String(\r\n\t\t\t\t&quot;&lt;soap:Envelope xmlns:soap=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&gt;&lt;soap:Body&gt;&lt;soap:Fault&gt;&lt;faultcode&gt;soap:Client&lt;/faultcode&gt;&lt;faultstring&gt;INVALID_MESSAGE&lt;/faultstring&gt;&lt;detail&gt;&lt;ns3:XcbSoapFault xmlns=\\&quot;\\&quot; xmlns:ns3=\\&quot;http://www.someapp.eu/xcb/types/xcb/v1\\&quot;&gt;&lt;CauseCode&gt;20007&lt;/CauseCode&gt;&lt;CauseText&gt;INVALID_MESSAGE&lt;/CauseText&gt;&lt;DebugInfo&gt;Problems creating SAAJ object model&lt;/DebugInfo&gt;&lt;/ns3:XcbSoapFault&gt;&lt;/detail&gt;&lt;/soap:Fault&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;&quot;);\r\n\t\tSystem.out.println(prettyPrintXMLAsString(x));\r\n\t}\r\n\r\nhere is the output:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n\t  &lt;soap:Body&gt;\r\n\t\t&lt;soap:Fault&gt;\r\n\t\t\t&lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\r\n\t\t\t&lt;faultstring&gt;INVALID_MESSAGE&lt;/faultstring&gt;\r\n\t\t\t&lt;detail&gt;\r\n\t\t\t\t&lt;ns3:XcbSoapFault xmlns=&quot;&quot; xmlns:ns3=&quot;http://www.someapp.eu/xcb/types/xcb/v1&quot;&gt;\r\n\t\t\t\t\t&lt;CauseCode&gt;20007&lt;/CauseCode&gt;\r\n\t\t\t\t\t&lt;CauseText&gt;INVALID_MESSAGE&lt;/CauseText&gt;\r\n\t\t\t\t\t&lt;DebugInfo&gt;Problems creating SAAJ object model&lt;/DebugInfo&gt;\r\n\t\t\t\t&lt;/ns3:XcbSoapFault&gt;\r\n\t\t\t&lt;/detail&gt;\r\n\t\t&lt;/soap:Fault&gt;\r\n\t  &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;","title":"How to pretty print XML from Java?","body":"<p>For those searching for a quick and dirty solution - which doesn't need the XML to be 100% valid. e.g. in case of REST / SOAP logging (you never know what the others send ;-))</p>\n\n<p>I found and advanced a code snipped I found online which I think is still missing here as a valid possible approach: </p>\n\n<pre><code>public static String prettyPrintXMLAsString(String xmlString) {\n    /* Remove new lines */\n    final String LINE_BREAK = \"\\n\";\n    xmlString = xmlString.replaceAll(LINE_BREAK, \"\");\n    StringBuffer prettyPrintXml = new StringBuffer();\n    /* Group the xml tags */\n    Pattern pattern = Pattern.compile(\"(&lt;[^/][^&gt;]+&gt;)?([^&lt;]*)(&lt;/[^&gt;]+&gt;)?(&lt;[^/][^&gt;]+/&gt;)?\");\n    Matcher matcher = pattern.matcher(xmlString);\n    int tabCount = 0;\n    while (matcher.find()) {\n        String str1 = (null == matcher.group(1) || \"null\".equals(matcher.group())) ? \"\" : matcher.group(1);\n        String str2 = (null == matcher.group(2) || \"null\".equals(matcher.group())) ? \"\" : matcher.group(2);\n        String str3 = (null == matcher.group(3) || \"null\".equals(matcher.group())) ? \"\" : matcher.group(3);\n        String str4 = (null == matcher.group(4) || \"null\".equals(matcher.group())) ? \"\" : matcher.group(4);\n\n        if (matcher.group() != null &amp;&amp; !matcher.group().trim().equals(\"\")) {\n            printTabs(tabCount, prettyPrintXml);\n            if (!str1.equals(\"\") &amp;&amp; str3.equals(\"\")) {\n                ++tabCount;\n            }\n            if (str1.equals(\"\") &amp;&amp; !str3.equals(\"\")) {\n                --tabCount;\n                prettyPrintXml.deleteCharAt(prettyPrintXml.length() - 1);\n            }\n\n            prettyPrintXml.append(str1);\n            prettyPrintXml.append(str2);\n            prettyPrintXml.append(str3);\n            if (!str4.equals(\"\")) {\n                prettyPrintXml.append(LINE_BREAK);\n                printTabs(tabCount, prettyPrintXml);\n                prettyPrintXml.append(str4);\n            }\n            prettyPrintXml.append(LINE_BREAK);\n        }\n    }\n    return prettyPrintXml.toString();\n}\n\nprivate static void printTabs(int count, StringBuffer stringBuffer) {\n    for (int i = 0; i &lt; count; i++) {\n        stringBuffer.append(\"\\t\");\n    }\n}\n\npublic static void main(String[] args) {\n    String x = new String(\n            \"&lt;soap:Envelope xmlns:soap=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"&gt;&lt;soap:Body&gt;&lt;soap:Fault&gt;&lt;faultcode&gt;soap:Client&lt;/faultcode&gt;&lt;faultstring&gt;INVALID_MESSAGE&lt;/faultstring&gt;&lt;detail&gt;&lt;ns3:XcbSoapFault xmlns=\\\"\\\" xmlns:ns3=\\\"http://www.someapp.eu/xcb/types/xcb/v1\\\"&gt;&lt;CauseCode&gt;20007&lt;/CauseCode&gt;&lt;CauseText&gt;INVALID_MESSAGE&lt;/CauseText&gt;&lt;DebugInfo&gt;Problems creating SAAJ object model&lt;/DebugInfo&gt;&lt;/ns3:XcbSoapFault&gt;&lt;/detail&gt;&lt;/soap:Fault&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\");\n    System.out.println(prettyPrintXMLAsString(x));\n}\n</code></pre>\n\n<p>here is the output:</p>\n\n<pre><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;soap:Fault&gt;\n        &lt;faultcode&gt;soap:Client&lt;/faultcode&gt;\n        &lt;faultstring&gt;INVALID_MESSAGE&lt;/faultstring&gt;\n        &lt;detail&gt;\n            &lt;ns3:XcbSoapFault xmlns=\"\" xmlns:ns3=\"http://www.someapp.eu/xcb/types/xcb/v1\"&gt;\n                &lt;CauseCode&gt;20007&lt;/CauseCode&gt;\n                &lt;CauseText&gt;INVALID_MESSAGE&lt;/CauseText&gt;\n                &lt;DebugInfo&gt;Problems creating SAAJ object model&lt;/DebugInfo&gt;\n            &lt;/ns3:XcbSoapFault&gt;\n        &lt;/detail&gt;\n    &lt;/soap:Fault&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1392228984,"creation_date":1392228984,"answer_id":21736245,"question_id":139076,"body_markdown":"If you&#39;re sure that you have a valid XML, this one is simple, and avoids XML DOM trees. Maybe has some bugs, do comment if you see anything\r\n\r\n    public String prettyPrint(String xml) {\r\n                if (xml == null || xml.trim().length() == 0) return &quot;&quot;;\r\n               \r\n                int stack = 0;\r\n                StringBuilder pretty = new StringBuilder();\r\n                String[] rows = xml.trim().replaceAll(&quot;&gt;&quot;, &quot;&gt;\\n&quot;).replaceAll(&quot;&lt;&quot;, &quot;\\n&lt;&quot;).split(&quot;\\n&quot;);\r\n               \r\n                for (int i = 0; i &lt; rows.length; i++) {\r\n                        if (rows[i] == null || rows[i].trim().length() == 0) continue;\r\n \r\n                        String row = rows[i].trim();\r\n                        if (row.startsWith(&quot;&lt;?&quot;)) {\r\n                                // xml version tag\r\n                                pretty.append(row + &quot;\\n&quot;);\r\n                        } else if (row.startsWith(&quot;&lt;/&quot;)) {\r\n                                // closing tag\r\n                                String indent = repeatString(&quot;    &quot;, --stack);\r\n                                pretty.append(indent + row + &quot;\\n&quot;);\r\n                        } else if (row.startsWith(&quot;&lt;&quot;)) {\r\n                                // starting tag\r\n                                String indent = repeatString(&quot;    &quot;, stack++);\r\n                                pretty.append(indent + row + &quot;\\n&quot;);\r\n                        } else {\r\n                                // tag data\r\n                                String indent = repeatString(&quot;    &quot;, stack);\r\n                                pretty.append(indent + row + &quot;\\n&quot;);\r\n                        }\r\n                }\r\n               \r\n                return pretty.toString().trim();\r\n        }","title":"How to pretty print XML from Java?","body":"<p>If you're sure that you have a valid XML, this one is simple, and avoids XML DOM trees. Maybe has some bugs, do comment if you see anything</p>\n\n<pre><code>public String prettyPrint(String xml) {\n            if (xml == null || xml.trim().length() == 0) return \"\";\n\n            int stack = 0;\n            StringBuilder pretty = new StringBuilder();\n            String[] rows = xml.trim().replaceAll(\"&gt;\", \"&gt;\\n\").replaceAll(\"&lt;\", \"\\n&lt;\").split(\"\\n\");\n\n            for (int i = 0; i &lt; rows.length; i++) {\n                    if (rows[i] == null || rows[i].trim().length() == 0) continue;\n\n                    String row = rows[i].trim();\n                    if (row.startsWith(\"&lt;?\")) {\n                            // xml version tag\n                            pretty.append(row + \"\\n\");\n                    } else if (row.startsWith(\"&lt;/\")) {\n                            // closing tag\n                            String indent = repeatString(\"    \", --stack);\n                            pretty.append(indent + row + \"\\n\");\n                    } else if (row.startsWith(\"&lt;\")) {\n                            // starting tag\n                            String indent = repeatString(\"    \", stack++);\n                            pretty.append(indent + row + \"\\n\");\n                    } else {\n                            // tag data\n                            String indent = repeatString(\"    \", stack);\n                            pretty.append(indent + row + \"\\n\");\n                    }\n            }\n\n            return pretty.toString().trim();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":307973,"reputation":1481,"user_id":619587,"display_name":"codeskraps"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1446720235,"creation_date":1404901066,"answer_id":24650999,"question_id":139076,"body_markdown":"slightly improved version from [milosmns][1]...\r\n\r\n    public static String getPrettyXml(String xml) {\r\n\t\tif (xml == null || xml.trim().length() == 0) return &quot;&quot;;\r\n\r\n\t\tint stack = 0;\r\n\t\tStringBuilder pretty = new StringBuilder();\r\n\t\tString[] rows = xml.trim().replaceAll(&quot;&gt;&quot;, &quot;&gt;\\n&quot;).replaceAll(&quot;&lt;&quot;, &quot;\\n&lt;&quot;).split(&quot;\\n&quot;);\r\n\r\n\t\tfor (int i = 0; i &lt; rows.length; i++) {\r\n\t\t\tif (rows[i] == null || rows[i].trim().length() == 0) continue;\r\n\r\n\t\t\tString row = rows[i].trim();\r\n\t\t\tif (row.startsWith(&quot;&lt;?&quot;)) {\r\n\t\t\t\tpretty.append(row + &quot;\\n&quot;);\r\n\t\t\t} else if (row.startsWith(&quot;&lt;/&quot;)) {\r\n\t\t\t\tString indent = repeatString(--stack);\r\n\t\t\t\tpretty.append(indent + row + &quot;\\n&quot;);\r\n\t\t\t} else if (row.startsWith(&quot;&lt;&quot;) &amp;&amp; row.endsWith(&quot;/&gt;&quot;) == false) {\r\n\t\t\t\tString indent = repeatString(stack++);\r\n\t\t\t\tpretty.append(indent + row + &quot;\\n&quot;);\r\n\t\t\t\tif (row.endsWith(&quot;]]&gt;&quot;)) stack--;\r\n\t\t\t} else {\r\n\t\t\t\tString indent = repeatString(stack);\r\n\t\t\t\tpretty.append(indent + row + &quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn pretty.toString().trim();\r\n\t}\r\n\r\n    private static String repeatString(int stack) {\r\n         StringBuilder indent = new StringBuilder();\r\n         for (int i = 0; i &lt; stack; i++) {\r\n            indent.append(&quot; &quot;);\r\n         }\r\n         return indent.toString();\r\n    } \r\n\r\n  [1]: https://stackoverflow.com/a/21736245/619587","title":"How to pretty print XML from Java?","body":"<p>slightly improved version from <a href=\"https://stackoverflow.com/a/21736245/619587\">milosmns</a>...</p>\n\n<pre><code>public static String getPrettyXml(String xml) {\n    if (xml == null || xml.trim().length() == 0) return \"\";\n\n    int stack = 0;\n    StringBuilder pretty = new StringBuilder();\n    String[] rows = xml.trim().replaceAll(\"&gt;\", \"&gt;\\n\").replaceAll(\"&lt;\", \"\\n&lt;\").split(\"\\n\");\n\n    for (int i = 0; i &lt; rows.length; i++) {\n        if (rows[i] == null || rows[i].trim().length() == 0) continue;\n\n        String row = rows[i].trim();\n        if (row.startsWith(\"&lt;?\")) {\n            pretty.append(row + \"\\n\");\n        } else if (row.startsWith(\"&lt;/\")) {\n            String indent = repeatString(--stack);\n            pretty.append(indent + row + \"\\n\");\n        } else if (row.startsWith(\"&lt;\") &amp;&amp; row.endsWith(\"/&gt;\") == false) {\n            String indent = repeatString(stack++);\n            pretty.append(indent + row + \"\\n\");\n            if (row.endsWith(\"]]&gt;\")) stack--;\n        } else {\n            String indent = repeatString(stack);\n            pretty.append(indent + row + \"\\n\");\n        }\n    }\n\n    return pretty.toString().trim();\n}\n\nprivate static String repeatString(int stack) {\n     StringBuilder indent = new StringBuilder();\n     for (int i = 0; i &lt; stack; i++) {\n        indent.append(\" \");\n     }\n     return indent.toString();\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3177957,"reputation":1440,"user_id":2685402,"accept_rate":53,"display_name":"Wojtek"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1413291386,"creation_date":1413290845,"answer_id":26361221,"question_id":139076,"body_markdown":"The solutions I have found here for Java 1.6+ do not reformat the code if it is already formatted. The one that worked for me (and re-formatted already formatted code) was the following.\r\n\r\n    import org.apache.xml.security.c14n.CanonicalizationException;\r\n    import org.apache.xml.security.c14n.Canonicalizer;\r\n    import org.apache.xml.security.c14n.InvalidCanonicalizerException;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.bootstrap.DOMImplementationRegistry;\r\n    import org.w3c.dom.ls.DOMImplementationLS;\r\n    import org.w3c.dom.ls.LSSerializer;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.SAXException;\r\n\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.transform.TransformerException;\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n\r\n    public class XmlUtils {\r\n        public static String toCanonicalXml(String xml) throws InvalidCanonicalizerException, ParserConfigurationException, SAXException, CanonicalizationException, IOException {\r\n            Canonicalizer canon = Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_OMIT_COMMENTS);\r\n            byte canonXmlBytes[] = canon.canonicalize(xml.getBytes());\r\n            return new String(canonXmlBytes);\r\n        }\r\n    \r\n        public static String prettyFormat(String input) throws TransformerException, ParserConfigurationException, IOException, SAXException, InstantiationException, IllegalAccessException, ClassNotFoundException {\r\n            InputSource src = new InputSource(new StringReader(input));\r\n            Element document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(src).getDocumentElement();\r\n            Boolean keepDeclaration = input.startsWith(&quot;&lt;?xml&quot;);\r\n            DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\r\n            DOMImplementationLS impl = (DOMImplementationLS) registry.getDOMImplementation(&quot;LS&quot;);\r\n            LSSerializer writer = impl.createLSSerializer();\r\n            writer.getDomConfig().setParameter(&quot;format-pretty-print&quot;, Boolean.TRUE);\r\n            writer.getDomConfig().setParameter(&quot;xml-declaration&quot;, keepDeclaration);\r\n            return writer.writeToString(document);\r\n        }\r\n    }\r\n\r\nIt is a good tool to use in your unit tests for full-string xml comparison. \r\n\r\n    private void assertXMLEqual(String expected, String actual) throws ParserConfigurationException, IOException, SAXException, CanonicalizationException, InvalidCanonicalizerException, TransformerException, IllegalAccessException, ClassNotFoundException, InstantiationException {\r\n        String canonicalExpected = prettyFormat(toCanonicalXml(expected));\r\n        String canonicalActual = prettyFormat(toCanonicalXml(actual));\r\n        assertEquals(canonicalExpected, canonicalActual);\r\n    }\r\n","title":"How to pretty print XML from Java?","body":"<p>The solutions I have found here for Java 1.6+ do not reformat the code if it is already formatted. The one that worked for me (and re-formatted already formatted code) was the following.</p>\n\n<pre><code>import org.apache.xml.security.c14n.CanonicalizationException;\nimport org.apache.xml.security.c14n.Canonicalizer;\nimport org.apache.xml.security.c14n.InvalidCanonicalizerException;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.bootstrap.DOMImplementationRegistry;\nimport org.w3c.dom.ls.DOMImplementationLS;\nimport org.w3c.dom.ls.LSSerializer;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.TransformerException;\nimport java.io.IOException;\nimport java.io.StringReader;\n\npublic class XmlUtils {\n    public static String toCanonicalXml(String xml) throws InvalidCanonicalizerException, ParserConfigurationException, SAXException, CanonicalizationException, IOException {\n        Canonicalizer canon = Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_OMIT_COMMENTS);\n        byte canonXmlBytes[] = canon.canonicalize(xml.getBytes());\n        return new String(canonXmlBytes);\n    }\n\n    public static String prettyFormat(String input) throws TransformerException, ParserConfigurationException, IOException, SAXException, InstantiationException, IllegalAccessException, ClassNotFoundException {\n        InputSource src = new InputSource(new StringReader(input));\n        Element document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(src).getDocumentElement();\n        Boolean keepDeclaration = input.startsWith(\"&lt;?xml\");\n        DOMImplementationRegistry registry = DOMImplementationRegistry.newInstance();\n        DOMImplementationLS impl = (DOMImplementationLS) registry.getDOMImplementation(\"LS\");\n        LSSerializer writer = impl.createLSSerializer();\n        writer.getDomConfig().setParameter(\"format-pretty-print\", Boolean.TRUE);\n        writer.getDomConfig().setParameter(\"xml-declaration\", keepDeclaration);\n        return writer.writeToString(document);\n    }\n}\n</code></pre>\n\n<p>It is a good tool to use in your unit tests for full-string xml comparison. </p>\n\n<pre><code>private void assertXMLEqual(String expected, String actual) throws ParserConfigurationException, IOException, SAXException, CanonicalizationException, InvalidCanonicalizerException, TransformerException, IllegalAccessException, ClassNotFoundException, InstantiationException {\n    String canonicalExpected = prettyFormat(toCanonicalXml(expected));\n    String canonicalActual = prettyFormat(toCanonicalXml(actual));\n    assertEquals(canonicalExpected, canonicalActual);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208843,"reputation":8250,"user_id":459579,"display_name":"ThomasRS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450274902,"creation_date":1419805509,"answer_id":27681201,"question_id":139076,"body_markdown":"As an alternative to the answers from [max][1], [codeskraps][2], [David Easley][3] and [milosmns][4], have a look at my lightweight, high-performance pretty-printer library: [xml-formatter][5]\r\n\r\n     \r\n    // construct lightweight, threadsafe, instance\r\n    PrettyPrinter prettyPrinter = PrettyPrinterBuilder.newPrettyPrinter().build();\r\n     \r\n    StringBuilder buffer = new StringBuilder();\r\n    String xml = ..; // also works with char[] or Reader\r\n     \r\n    if(prettyPrinter.process(xml, buffer)) {\r\n         // valid XML, print buffer\r\n    } else {\r\n         // invalid XML, print xml\r\n    }\r\n    \r\nSometimes, like when running mocked SOAP services directly from file, it is good to have a pretty-printer which also handles already pretty-printed XML:\r\n\r\n    PrettyPrinter prettyPrinter = PrettyPrinterBuilder.newPrettyPrinter().ignoreWhitespace().build();\r\n\r\n\r\nAs some have commented, pretty-printing is just a way of presenting XML in a more human-readable form - whitespace strictly does not belong in your XML data. \r\n\r\nThe library is intended for pretty-printing for logging purposes, and also includes functions for filtering (subtree removal / anonymization) and pretty-printing of XML in CDATA and Text nodes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/767434/max\r\n  [2]: https://stackoverflow.com/users/619587/codeskraps\r\n  [3]: https://stackoverflow.com/users/65555/david-easley\r\n  [4]: https://stackoverflow.com/users/2102748/milosmns\r\n  [5]: https://github.com/greenbird/xml-formatter-core","title":"How to pretty print XML from Java?","body":"<p>As an alternative to the answers from <a href=\"https://stackoverflow.com/users/767434/max\">max</a>, <a href=\"https://stackoverflow.com/users/619587/codeskraps\">codeskraps</a>, <a href=\"https://stackoverflow.com/users/65555/david-easley\">David Easley</a> and <a href=\"https://stackoverflow.com/users/2102748/milosmns\">milosmns</a>, have a look at my lightweight, high-performance pretty-printer library: <a href=\"https://github.com/greenbird/xml-formatter-core\" rel=\"nofollow noreferrer\">xml-formatter</a></p>\n\n<pre><code>// construct lightweight, threadsafe, instance\nPrettyPrinter prettyPrinter = PrettyPrinterBuilder.newPrettyPrinter().build();\n\nStringBuilder buffer = new StringBuilder();\nString xml = ..; // also works with char[] or Reader\n\nif(prettyPrinter.process(xml, buffer)) {\n     // valid XML, print buffer\n} else {\n     // invalid XML, print xml\n}\n</code></pre>\n\n<p>Sometimes, like when running mocked SOAP services directly from file, it is good to have a pretty-printer which also handles already pretty-printed XML:</p>\n\n<pre><code>PrettyPrinter prettyPrinter = PrettyPrinterBuilder.newPrettyPrinter().ignoreWhitespace().build();\n</code></pre>\n\n<p>As some have commented, pretty-printing is just a way of presenting XML in a more human-readable form - whitespace strictly does not belong in your XML data. </p>\n\n<p>The library is intended for pretty-printing for logging purposes, and also includes functions for filtering (subtree removal / anonymization) and pretty-printing of XML in CDATA and Text nodes.</p>\n"},{"tags":[],"owner":{"account_id":2354988,"reputation":2177,"user_id":2063026,"accept_rate":100,"display_name":"vsnyc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430512944,"creation_date":1430512944,"answer_id":29994838,"question_id":139076,"body_markdown":"I saw [one answer](https://stackoverflow.com/a/5227490/2063026) using `Scala`, so here is another one in `Groovy`, just in case someone finds it interesting. The default indentation is 2 steps, `XmlNodePrinter` constructor can be passed another value as well.\r\n\r\n    def xml = &quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;\r\n    def stringWriter = new StringWriter()\r\n    def node = new XmlParser().parseText(xml);\r\n    new XmlNodePrinter(new PrintWriter(stringWriter)).print(node)\r\n    println stringWriter.toString()\r\n\r\nUsage from Java if groovy jar is in classpath\r\n\r\n      String xml = &quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;;\r\n      StringWriter stringWriter = new StringWriter();\r\n      Node node = new XmlParser().parseText(xml);\r\n      new XmlNodePrinter(new PrintWriter(stringWriter)).print(node);\r\n      System.out.println(stringWriter.toString());\r\n\r\n","title":"How to pretty print XML from Java?","body":"<p>I saw <a href=\"https://stackoverflow.com/a/5227490/2063026\">one answer</a> using <code>Scala</code>, so here is another one in <code>Groovy</code>, just in case someone finds it interesting. The default indentation is 2 steps, <code>XmlNodePrinter</code> constructor can be passed another value as well.</p>\n\n<pre><code>def xml = \"&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;\"\ndef stringWriter = new StringWriter()\ndef node = new XmlParser().parseText(xml);\nnew XmlNodePrinter(new PrintWriter(stringWriter)).print(node)\nprintln stringWriter.toString()\n</code></pre>\n\n<p>Usage from Java if groovy jar is in classpath</p>\n\n<pre><code>  String xml = \"&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;\";\n  StringWriter stringWriter = new StringWriter();\n  Node node = new XmlParser().parseText(xml);\n  new XmlNodePrinter(new PrintWriter(stringWriter)).print(node);\n  System.out.println(stringWriter.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124055,"reputation":99,"user_id":2339693,"display_name":"BijanE"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1435056856,"creation_date":1431356447,"answer_id":30171112,"question_id":139076,"body_markdown":"Using jdom2 : http://www.jdom.org/\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.io.StringReader;\r\n    import org.jdom2.input.SAXBuilder;\r\n    import org.jdom2.output.Format;\r\n    import org.jdom2.output.XMLOutputter;\r\n\r\n    String prettyXml = new XMLOutputter(Format.getPrettyFormat()).\r\n                             outputString(new SAXBuilder().build(new StringReader(uglyXml)));\r\n","title":"How to pretty print XML from Java?","body":"<p>Using jdom2 : <a href=\"http://www.jdom.org/\" rel=\"nofollow\">http://www.jdom.org/</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.StringReader;\nimport org.jdom2.input.SAXBuilder;\nimport org.jdom2.output.Format;\nimport org.jdom2.output.XMLOutputter;\n\nString prettyXml = new XMLOutputter(Format.getPrettyFormat()).\n                         outputString(new SAXBuilder().build(new StringReader(uglyXml)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":186461,"reputation":13643,"user_id":423868,"accept_rate":65,"display_name":"Georgy Gobozov"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1431516421,"creation_date":1431516421,"answer_id":30213453,"question_id":139076,"body_markdown":"All above solutions didn&#39;t work for me, then I found this http://myshittycode.com/2014/02/10/java-properly-indenting-xml-string/\r\n\r\nThe clue is remove whitespaces with XPath\r\n\r\n        String xml = &quot;&lt;root&gt;&quot; +\r\n                 &quot;\\n   &quot; +\r\n                 &quot;\\n&lt;name&gt;Coco Puff&lt;/name&gt;&quot; +\r\n                 &quot;\\n        &lt;total&gt;10&lt;/total&gt;    &lt;/root&gt;&quot;;\r\n     \r\n    try {\r\n        Document document = DocumentBuilderFactory.newInstance()\r\n                .newDocumentBuilder()\r\n                .parse(new InputSource(new ByteArrayInputStream(xml.getBytes(&quot;utf-8&quot;))));\r\n     \r\n        XPath xPath = XPathFactory.newInstance().newXPath();\r\n        NodeList nodeList = (NodeList) xPath.evaluate(&quot;//text()[normalize-space()=&#39;&#39;]&quot;,\r\n                                                      document,\r\n                                                      XPathConstants.NODESET);\r\n     \r\n        for (int i = 0; i &lt; nodeList.getLength(); ++i) {\r\n            Node node = nodeList.item(i);\r\n            node.getParentNode().removeChild(node);\r\n        }\r\n     \r\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;4&quot;);\r\n     \r\n        StringWriter stringWriter = new StringWriter();\r\n        StreamResult streamResult = new StreamResult(stringWriter);\r\n     \r\n        transformer.transform(new DOMSource(document), streamResult);\r\n     \r\n        System.out.println(stringWriter.toString());\r\n    }\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }","title":"How to pretty print XML from Java?","body":"<p>All above solutions didn't work for me, then I found this <a href=\"http://myshittycode.com/2014/02/10/java-properly-indenting-xml-string/\" rel=\"noreferrer\">http://myshittycode.com/2014/02/10/java-properly-indenting-xml-string/</a></p>\n\n<p>The clue is remove whitespaces with XPath</p>\n\n<pre><code>    String xml = \"&lt;root&gt;\" +\n             \"\\n   \" +\n             \"\\n&lt;name&gt;Coco Puff&lt;/name&gt;\" +\n             \"\\n        &lt;total&gt;10&lt;/total&gt;    &lt;/root&gt;\";\n\ntry {\n    Document document = DocumentBuilderFactory.newInstance()\n            .newDocumentBuilder()\n            .parse(new InputSource(new ByteArrayInputStream(xml.getBytes(\"utf-8\"))));\n\n    XPath xPath = XPathFactory.newInstance().newXPath();\n    NodeList nodeList = (NodeList) xPath.evaluate(\"//text()[normalize-space()='']\",\n                                                  document,\n                                                  XPathConstants.NODESET);\n\n    for (int i = 0; i &lt; nodeList.getLength(); ++i) {\n        Node node = nodeList.item(i);\n        node.getParentNode().removeChild(node);\n    }\n\n    Transformer transformer = TransformerFactory.newInstance().newTransformer();\n    transformer.setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n    transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n    transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"4\");\n\n    StringWriter stringWriter = new StringWriter();\n    StreamResult streamResult = new StreamResult(stringWriter);\n\n    transformer.transform(new DOMSource(document), streamResult);\n\n    System.out.println(stringWriter.toString());\n}\ncatch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1447152600,"creation_date":1437590700,"answer_id":31571512,"question_id":139076,"body_markdown":"Just another solution which works for us\r\n\r\n    import java.io.StringWriter;\r\n    import org.dom4j.DocumentHelper;\r\n    import org.dom4j.io.OutputFormat;\r\n    import org.dom4j.io.XMLWriter;\r\n\r\n    **\r\n\t * Pretty Print XML String\r\n\t * \r\n\t * @param inputXmlString\r\n\t * @return\r\n\t */\r\n\tpublic static String prettyPrintXml(String xml) {\r\n\r\n\t\tfinal StringWriter sw;\r\n\r\n\t\ttry {\r\n\t\t\tfinal OutputFormat format = OutputFormat.createPrettyPrint();\r\n\t\t\tfinal org.dom4j.Document document = DocumentHelper.parseText(xml);\r\n\t\t\tsw = new StringWriter();\r\n\t\t\tfinal XMLWriter writer = new XMLWriter(sw, format);\r\n\t\t\twriter.write(document);\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tthrow new RuntimeException(&quot;Error pretty printing xml:\\n&quot; + xml, e);\r\n\t\t}\r\n\t\treturn sw.toString();\r\n\t}","title":"How to pretty print XML from Java?","body":"<p>Just another solution which works for us</p>\n\n<pre><code>import java.io.StringWriter;\nimport org.dom4j.DocumentHelper;\nimport org.dom4j.io.OutputFormat;\nimport org.dom4j.io.XMLWriter;\n\n**\n * Pretty Print XML String\n * \n * @param inputXmlString\n * @return\n */\npublic static String prettyPrintXml(String xml) {\n\n    final StringWriter sw;\n\n    try {\n        final OutputFormat format = OutputFormat.createPrettyPrint();\n        final org.dom4j.Document document = DocumentHelper.parseText(xml);\n        sw = new StringWriter();\n        final XMLWriter writer = new XMLWriter(sw, format);\n        writer.write(document);\n    }\n    catch (Exception e) {\n        throw new RuntimeException(\"Error pretty printing xml:\\n\" + xml, e);\n    }\n    return sw.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209251,"reputation":5134,"user_id":460175,"display_name":"comonad"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1440076846,"creation_date":1440076846,"answer_id":32119396,"question_id":139076,"body_markdown":"In case you do not need indentation that much but a few line breaks, it could be sufficient to simply regex...\r\n\r\n    String leastPrettifiedXml = uglyXml.replaceAll(&quot;&gt;&lt;&quot;, &quot;&gt;\\n&lt;&quot;);\r\n\r\nThe code is nice, not the result because of missing indentation. \r\n\r\n-----\r\n\r\n(For solutions with indentation, see other answers.)\r\n","title":"How to pretty print XML from Java?","body":"<p>In case you do not need indentation that much but a few line breaks, it could be sufficient to simply regex...</p>\n\n<pre><code>String leastPrettifiedXml = uglyXml.replaceAll(\"&gt;&lt;\", \"&gt;\\n&lt;\");\n</code></pre>\n\n<p>The code is nice, not the result because of missing indentation. </p>\n\n<hr>\n\n<p>(For solutions with indentation, see other answers.)</p>\n"},{"tags":[],"owner":{"account_id":2348323,"reputation":13158,"user_id":2057902,"accept_rate":80,"display_name":"Sireesh Yarlagadda"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1465427436,"creation_date":1463184998,"answer_id":37221093,"question_id":139076,"body_markdown":" Try this:\r\n    \r\n    \r\n\r\n     try\r\n         \t\t\t\t{\r\n         \t\t\t\t\tTransformerFactory transFactory = TransformerFactory.newInstance();\r\n         \t\t\t\t\tTransformer transformer = null;\r\n         \t\t\t\t\ttransformer = transFactory.newTransformer();\r\n         \t\t\t\t\tStringWriter buffer = new StringWriter();\r\n         \t\t\t\t\ttransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n         \t\t\t\t\ttransformer.transform(new DOMSource(element),\r\n         \t\t\t\t\t\t      new StreamResult(buffer)); \r\n         \t\t\t\t\tString str = buffer.toString();\r\n         \t\t\t\t\tSystem.out.println(&quot;XML INSIDE IS #########################################&quot;+str);\r\n        \t\t\t\t\treturn element;\r\n         \t\t\t\t}\r\n         \t\t\t\tcatch (TransformerConfigurationException e)\r\n         \t\t\t\t{\r\n         \t\t\t\t\te.printStackTrace();\r\n         \t\t\t\t}\r\n         \t\t\t\tcatch (TransformerException e)\r\n         \t\t\t\t{\r\n         \t\t\t\t\te.printStackTrace();\r\n         \t\t\t\t}","title":"How to pretty print XML from Java?","body":"<p>Try this:</p>\n\n<pre><code> try\n                    {\n                        TransformerFactory transFactory = TransformerFactory.newInstance();\n                        Transformer transformer = null;\n                        transformer = transFactory.newTransformer();\n                        StringWriter buffer = new StringWriter();\n                        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n                        transformer.transform(new DOMSource(element),\n                                  new StreamResult(buffer)); \n                        String str = buffer.toString();\n                        System.out.println(\"XML INSIDE IS #########################################\"+str);\n                        return element;\n                    }\n                    catch (TransformerConfigurationException e)\n                    {\n                        e.printStackTrace();\n                    }\n                    catch (TransformerException e)\n                    {\n                        e.printStackTrace();\n                    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8049397,"reputation":61,"user_id":6068492,"display_name":"maks tkach"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1464892299,"creation_date":1464892299,"answer_id":37599612,"question_id":139076,"body_markdown":"This code below working perfectly\r\n\r\n\r\n    import javax.xml.transform.OutputKeys;\r\n    import javax.xml.transform.Source;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import javax.xml.transform.stream.StreamSource;\r\n\r\n    String formattedXml1 = prettyFormat(&quot;&lt;root&gt;&lt;child&gt;aaa&lt;/child&gt;&lt;child/&gt;&lt;/root&gt;&quot;);\r\n    \t\r\n    public static String prettyFormat(String input) {\r\n    \treturn prettyFormat(input, &quot;2&quot;);\r\n    }\r\n    \t\r\n    public static String prettyFormat(String input, String indent) {\r\n    \tSource xmlInput = new StreamSource(new StringReader(input));\r\n    \tStringWriter stringWriter = new StringWriter();\r\n    \ttry {\r\n    \t\tTransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    \t\tTransformer transformer = transformerFactory.newTransformer();\r\n    \t\ttransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n    \t\ttransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, indent);\r\n    \t\ttransformer.transform(xmlInput, new StreamResult(stringWriter));\r\n    \r\n    \t\tString pretty = stringWriter.toString();\r\n    \t\tpretty = pretty.replace(&quot;\\r\\n&quot;, &quot;\\n&quot;);\r\n    \t\treturn pretty;\t\t\t\t\r\n    \t} catch (Exception e) {\r\n    \t\tthrow new RuntimeException(e);\r\n    \t}\r\n    }","title":"How to pretty print XML from Java?","body":"<p>This code below working perfectly</p>\n\n<pre><code>import javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\n\nString formattedXml1 = prettyFormat(\"&lt;root&gt;&lt;child&gt;aaa&lt;/child&gt;&lt;child/&gt;&lt;/root&gt;\");\n\npublic static String prettyFormat(String input) {\n    return prettyFormat(input, \"2\");\n}\n\npublic static String prettyFormat(String input, String indent) {\n    Source xmlInput = new StreamSource(new StringReader(input));\n    StringWriter stringWriter = new StringWriter();\n    try {\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        Transformer transformer = transformerFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n        transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", indent);\n        transformer.transform(xmlInput, new StreamResult(stringWriter));\n\n        String pretty = stringWriter.toString();\n        pretty = pretty.replace(\"\\r\\n\", \"\\n\");\n        return pretty;              \n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4234133,"reputation":323,"user_id":3465795,"display_name":"Steve T"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509834330,"creation_date":1509769120,"answer_id":47107329,"question_id":139076,"body_markdown":"I should have looked for this page first before coming up with my own solution!  Anyway, mine uses Java recursion to parse the xml page.  This code is totally self-contained and does not rely on third party libraries.  Also .. it uses recursion!\r\n\r\n    // you call this method passing in the xml text\r\n\tpublic static void prettyPrint(String text){\r\n\t\tprettyPrint(text, 0);\r\n\t}\r\n\t\r\n\t// &quot;index&quot; corresponds to the number of levels of nesting and/or the number of tabs to print before printing the tag\r\n\tpublic static void prettyPrint(String xmlText, int index){\r\n\t\tboolean foundTagStart = false;\r\n\t\tStringBuilder tagChars = new StringBuilder();\r\n\t\tString startTag = &quot;&quot;;\r\n\t\tString endTag = &quot;&quot;;\r\n\t\tString[] chars = xmlText.split(&quot;&quot;);\r\n\t\t// find the next start tag\r\n\t\tfor(String ch : chars){\r\n\t\t\tif(ch.equalsIgnoreCase(&quot;&lt;&quot;)){\r\n\t\t\t\ttagChars.append(ch);\r\n\t\t\t\tfoundTagStart = true;\r\n\t\t\t} else if(ch.equalsIgnoreCase(&quot;&gt;&quot;) &amp;&amp; foundTagStart){\r\n\t\t\t\tstartTag = tagChars.append(ch).toString();\r\n\t\t\t\tString tempTag = startTag;\r\n\t\t\t\tendTag = (tempTag.contains(&quot;\\&quot;&quot;) ? (tempTag.split(&quot; &quot;)[0] + &quot;&gt;&quot;) : tempTag).replace(&quot;&lt;&quot;, &quot;&lt;/&quot;); // &lt;startTag attr1=1 attr2=2&gt; =&gt; &lt;/startTag&gt;\r\n\t\t\t\tbreak;\r\n\t\t\t} else if(foundTagStart){\r\n\t\t\t\ttagChars.append(ch);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// once start and end tag are calculated, print start tag, then content, then end tag\r\n\t\tif(foundTagStart){\r\n\t\t\tint startIndex = xmlText.indexOf(startTag);\r\n\t\t\tint endIndex = xmlText.indexOf(endTag);\r\n\t\t\t// handle if matching tags NOT found\r\n\t\t\tif((startIndex &lt; 0) || (endIndex &lt; 0)){\r\n\t\t\t\tif(startIndex &lt; 0) {\r\n\t\t\t\t\t// no start tag found\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// start tag found, no end tag found (handles single tags aka &quot;&lt;mytag/&gt;&quot; or &quot;&lt;?xml ...&gt;&quot;)\r\n\t\t\t\t\tprintTabs(index);\r\n\t\t\t\t\tSystem.out.println(startTag);\r\n\t\t\t\t\t// move on to the next tag\r\n\t\t\t\t\t// NOTE: &quot;index&quot; (not index+1) because next tag is on same level as this one\r\n\t\t\t\t\tprettyPrint(xmlText.substring(startIndex+startTag.length(), xmlText.length()), index);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t// handle when matching tags found\r\n\t\t\t} else {\r\n\t\t\t\tString content = xmlText.substring(startIndex+startTag.length(), endIndex);\r\n\t\t\t\tboolean isTagContainsTags = content.contains(&quot;&lt;&quot;); // content contains tags\r\n\t\t\t\tprintTabs(index);\r\n\t\t\t\tif(isTagContainsTags){ // ie: &lt;tag1&gt;&lt;tag2&gt;stuff&lt;/tag2&gt;&lt;/tag1&gt;\r\n\t\t\t\t\tSystem.out.println(startTag);\r\n\t\t\t\t\tprettyPrint(content, index+1); // &quot;index+1&quot; because &quot;content&quot; is nested\r\n\t\t\t\t\tprintTabs(index);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.print(startTag); // ie: &lt;tag1&gt;stuff&lt;/tag1&gt; or &lt;tag1&gt;&lt;/tag1&gt;\r\n\t\t\t\t\tSystem.out.print(content);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(endTag);\r\n\t\t\t\tint nextIndex = endIndex + endTag.length();\r\n\t\t\t\tif(xmlText.length() &gt; nextIndex){ // if there are more tags on this level, continue\r\n\t\t\t\t\tprettyPrint(xmlText.substring(nextIndex, xmlText.length()), index);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSystem.out.print(xmlText);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static void printTabs(int counter){\r\n\t\twhile(counter-- &gt; 0){ \r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t}\r\n\t}","title":"How to pretty print XML from Java?","body":"<p>I should have looked for this page first before coming up with my own solution!  Anyway, mine uses Java recursion to parse the xml page.  This code is totally self-contained and does not rely on third party libraries.  Also .. it uses recursion!</p>\n\n<pre><code>// you call this method passing in the xml text\npublic static void prettyPrint(String text){\n    prettyPrint(text, 0);\n}\n\n// \"index\" corresponds to the number of levels of nesting and/or the number of tabs to print before printing the tag\npublic static void prettyPrint(String xmlText, int index){\n    boolean foundTagStart = false;\n    StringBuilder tagChars = new StringBuilder();\n    String startTag = \"\";\n    String endTag = \"\";\n    String[] chars = xmlText.split(\"\");\n    // find the next start tag\n    for(String ch : chars){\n        if(ch.equalsIgnoreCase(\"&lt;\")){\n            tagChars.append(ch);\n            foundTagStart = true;\n        } else if(ch.equalsIgnoreCase(\"&gt;\") &amp;&amp; foundTagStart){\n            startTag = tagChars.append(ch).toString();\n            String tempTag = startTag;\n            endTag = (tempTag.contains(\"\\\"\") ? (tempTag.split(\" \")[0] + \"&gt;\") : tempTag).replace(\"&lt;\", \"&lt;/\"); // &lt;startTag attr1=1 attr2=2&gt; =&gt; &lt;/startTag&gt;\n            break;\n        } else if(foundTagStart){\n            tagChars.append(ch);\n        }\n    }\n    // once start and end tag are calculated, print start tag, then content, then end tag\n    if(foundTagStart){\n        int startIndex = xmlText.indexOf(startTag);\n        int endIndex = xmlText.indexOf(endTag);\n        // handle if matching tags NOT found\n        if((startIndex &lt; 0) || (endIndex &lt; 0)){\n            if(startIndex &lt; 0) {\n                // no start tag found\n                return;\n            } else {\n                // start tag found, no end tag found (handles single tags aka \"&lt;mytag/&gt;\" or \"&lt;?xml ...&gt;\")\n                printTabs(index);\n                System.out.println(startTag);\n                // move on to the next tag\n                // NOTE: \"index\" (not index+1) because next tag is on same level as this one\n                prettyPrint(xmlText.substring(startIndex+startTag.length(), xmlText.length()), index);\n                return;\n            }\n        // handle when matching tags found\n        } else {\n            String content = xmlText.substring(startIndex+startTag.length(), endIndex);\n            boolean isTagContainsTags = content.contains(\"&lt;\"); // content contains tags\n            printTabs(index);\n            if(isTagContainsTags){ // ie: &lt;tag1&gt;&lt;tag2&gt;stuff&lt;/tag2&gt;&lt;/tag1&gt;\n                System.out.println(startTag);\n                prettyPrint(content, index+1); // \"index+1\" because \"content\" is nested\n                printTabs(index);\n            } else {\n                System.out.print(startTag); // ie: &lt;tag1&gt;stuff&lt;/tag1&gt; or &lt;tag1&gt;&lt;/tag1&gt;\n                System.out.print(content);\n            }\n            System.out.println(endTag);\n            int nextIndex = endIndex + endTag.length();\n            if(xmlText.length() &gt; nextIndex){ // if there are more tags on this level, continue\n                prettyPrint(xmlText.substring(nextIndex, xmlText.length()), index);\n            }\n        }\n    } else {\n        System.out.print(xmlText);\n    }\n}\n\nprivate static void printTabs(int counter){\n    while(counter-- &gt; 0){ \n        System.out.print(\"\\t\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3705277,"reputation":71,"user_id":3083990,"display_name":"bharg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531252052,"creation_date":1531252052,"answer_id":51272975,"question_id":139076,"body_markdown":"I mix all of them and writing one small program. It is reading from the xml file and printing out. Just Instead of xzy give your file path.\r\n\r\n\r\n        public static void main(String[] args) throws Exception {\r\n\t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t\tdbf.setValidating(false);\r\n\t\tDocumentBuilder db = dbf.newDocumentBuilder();\r\n\t\tDocument doc = db.parse(new FileInputStream(new File(&quot;C:/Users/xyz.xml&quot;)));\r\n\t\tprettyPrint(doc);\r\n\r\n\t}\r\n\r\n\tprivate static String prettyPrint(Document document)\r\n\t\t\tthrows TransformerException {\r\n\t\tTransformerFactory transformerFactory = TransformerFactory\r\n\t\t\t\t.newInstance();\r\n\t\tTransformer transformer = transformerFactory.newTransformer();\r\n\t\ttransformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\t\ttransformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n\t\ttransformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n\t\ttransformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;no&quot;);\r\n\t\tDOMSource source = new DOMSource(document);\r\n\t\tStringWriter strWriter = new StringWriter();\r\n\t\tStreamResult result = new StreamResult(strWriter);transformer.transform(source, result);\r\n\t\tSystem.out.println(strWriter.getBuffer().toString());\r\n\r\n\t\treturn strWriter.getBuffer().toString();\r\n\r\n\t}","title":"How to pretty print XML from Java?","body":"<p>I mix all of them and writing one small program. It is reading from the xml file and printing out. Just Instead of xzy give your file path.</p>\n\n<pre><code>    public static void main(String[] args) throws Exception {\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    dbf.setValidating(false);\n    DocumentBuilder db = dbf.newDocumentBuilder();\n    Document doc = db.parse(new FileInputStream(new File(\"C:/Users/xyz.xml\")));\n    prettyPrint(doc);\n\n}\n\nprivate static String prettyPrint(Document document)\n        throws TransformerException {\n    TransformerFactory transformerFactory = TransformerFactory\n            .newInstance();\n    Transformer transformer = transformerFactory.newTransformer();\n    transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n    transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"2\");\n    transformer.setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"no\");\n    DOMSource source = new DOMSource(document);\n    StringWriter strWriter = new StringWriter();\n    StreamResult result = new StreamResult(strWriter);transformer.transform(source, result);\n    System.out.println(strWriter.getBuffer().toString());\n\n    return strWriter.getBuffer().toString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644106183,"creation_date":1550117700,"answer_id":54683129,"question_id":139076,"body_markdown":"[Underscore-java][1] has static method `U.formatXml(string)`. [Live example][2]\r\n\r\n    import com.github.underscore.U;\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            String xml = &quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;;\r\n\r\n            System.out.println(U.formatXml(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;root&gt;&quot; + xml + &quot;&lt;/root&gt;&quot;));\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;root&gt;\r\n       &lt;tag&gt;\r\n          &lt;nested&gt;hello&lt;/nested&gt;\r\n       &lt;/tag&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/QaB","title":"How to pretty print XML from Java?","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> has static method <code>U.formatXml(string)</code>. <a href=\"https://www.jdoodle.com/embed/v0/QaB\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.U;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        String xml = &quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;;\n\n        System.out.println(U.formatXml(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&lt;root&gt;&quot; + xml + &quot;&lt;/root&gt;&quot;));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n   &lt;tag&gt;\n      &lt;nested&gt;hello&lt;/nested&gt;\n   &lt;/tag&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9049317,"reputation":559,"user_id":6740199,"display_name":"Benson Githinji"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557150472,"creation_date":1557149278,"answer_id":56006254,"question_id":139076,"body_markdown":"**I always use the below function:**\r\n\r\n    public static String prettyPrintXml(String xmlStringToBeFormatted) {\r\n        String formattedXmlString = null;\r\n        try {\r\n            DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\r\n            documentBuilderFactory.setValidating(true);\r\n            DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();\r\n            InputSource inputSource = new InputSource(new StringReader(xmlStringToBeFormatted));\r\n            Document document = documentBuilder.parse(inputSource);\r\n\r\n            Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n            transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n\r\n            StreamResult streamResult = new StreamResult(new StringWriter());\r\n            DOMSource dOMSource = new DOMSource(document);\r\n            transformer.transform(dOMSource, streamResult);\r\n            formattedXmlString = streamResult.getWriter().toString().trim();\r\n        } catch (Exception ex) {\r\n            StringWriter sw = new StringWriter();\r\n            ex.printStackTrace(new PrintWriter(sw));\r\n            System.err.println(sw.toString());\r\n        }\r\n        return formattedXmlString;\r\n    }","title":"How to pretty print XML from Java?","body":"<p><strong>I always use the below function:</strong></p>\n\n<pre><code>public static String prettyPrintXml(String xmlStringToBeFormatted) {\n    String formattedXmlString = null;\n    try {\n        DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n        documentBuilderFactory.setValidating(true);\n        DocumentBuilder documentBuilder = documentBuilderFactory.newDocumentBuilder();\n        InputSource inputSource = new InputSource(new StringReader(xmlStringToBeFormatted));\n        Document document = documentBuilder.parse(inputSource);\n\n        Transformer transformer = TransformerFactory.newInstance().newTransformer();\n        transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n        transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"2\");\n\n        StreamResult streamResult = new StreamResult(new StringWriter());\n        DOMSource dOMSource = new DOMSource(document);\n        transformer.transform(dOMSource, streamResult);\n        formattedXmlString = streamResult.getWriter().toString().trim();\n    } catch (Exception ex) {\n        StringWriter sw = new StringWriter();\n        ex.printStackTrace(new PrintWriter(sw));\n        System.err.println(sw.toString());\n    }\n    return formattedXmlString;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11365833,"reputation":1,"user_id":8332759,"display_name":"Faisal K"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1560190573,"creation_date":1560190573,"answer_id":56531539,"question_id":139076,"body_markdown":"I was trying to achieve something similar, but without any external dependency. The application was already using DOM to format just for logging the XMLs!\r\n\r\nHere is my sample snippet\r\n\r\n    public void formatXML(final String unformattedXML) {\r\n\t\tfinal int length = unformattedXML.length();\r\n\t\tfinal int indentSpace = 3;\r\n\t\tfinal StringBuilder newString = new StringBuilder(length + length / 10);\r\n\t\tfinal char space = &#39; &#39;;\r\n\t\tint i = 0;\r\n\t\tint indentCount = 0;\r\n\t\tchar currentChar = unformattedXML.charAt(i++);\r\n\t\tchar previousChar = currentChar;\r\n\t\tboolean nodeStarted = true;\r\n\t\tnewString.append(currentChar);\r\n\t\tfor (; i &lt; length - 1;) {\r\n\t\t\tcurrentChar = unformattedXML.charAt(i++);\r\n\t\t\tif(((int) currentChar &lt; 33) &amp;&amp; !nodeStarted) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tswitch (currentChar) {\r\n\t\t\tcase &#39;&lt;&#39;:\r\n\t\t\t\tif (&#39;&gt;&#39; == previousChar &amp;&amp; &#39;/&#39; != unformattedXML.charAt(i - 1) &amp;&amp; &#39;/&#39; != unformattedXML.charAt(i) &amp;&amp; &#39;!&#39; != unformattedXML.charAt(i)) {\r\n\t\t\t\t\tindentCount++;\r\n\t\t\t\t}\r\n\t\t\t\tnewString.append(System.lineSeparator());\r\n\t\t\t\tfor (int j = indentCount * indentSpace; j &gt; 0; j--) {\r\n\t\t\t\t\tnewString.append(space);\r\n\t\t\t\t}\r\n\t\t\t\tnewString.append(currentChar);\r\n\t\t\t\tnodeStarted = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;&gt;&#39;:\r\n\t\t\t\tnewString.append(currentChar);\r\n\t\t\t\tnodeStarted = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase &#39;/&#39;:\r\n\t\t\t\tif (&#39;&lt;&#39; == previousChar || &#39;&gt;&#39; == unformattedXML.charAt(i)) {\r\n\t\t\t\t\tindentCount--;\r\n\t\t\t\t}\r\n\t\t\t\tnewString.append(currentChar);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tnewString.append(currentChar);\r\n\t\t\t}\r\n\t\t\tpreviousChar = currentChar;\r\n\t\t}\r\n\t\tnewString.append(unformattedXML.charAt(length - 1));\r\n\t\tSystem.out.println(newString.toString());\r\n\t}","title":"How to pretty print XML from Java?","body":"<p>I was trying to achieve something similar, but without any external dependency. The application was already using DOM to format just for logging the XMLs!</p>\n\n<p>Here is my sample snippet</p>\n\n<pre><code>public void formatXML(final String unformattedXML) {\n    final int length = unformattedXML.length();\n    final int indentSpace = 3;\n    final StringBuilder newString = new StringBuilder(length + length / 10);\n    final char space = ' ';\n    int i = 0;\n    int indentCount = 0;\n    char currentChar = unformattedXML.charAt(i++);\n    char previousChar = currentChar;\n    boolean nodeStarted = true;\n    newString.append(currentChar);\n    for (; i &lt; length - 1;) {\n        currentChar = unformattedXML.charAt(i++);\n        if(((int) currentChar &lt; 33) &amp;&amp; !nodeStarted) {\n            continue;\n        }\n        switch (currentChar) {\n        case '&lt;':\n            if ('&gt;' == previousChar &amp;&amp; '/' != unformattedXML.charAt(i - 1) &amp;&amp; '/' != unformattedXML.charAt(i) &amp;&amp; '!' != unformattedXML.charAt(i)) {\n                indentCount++;\n            }\n            newString.append(System.lineSeparator());\n            for (int j = indentCount * indentSpace; j &gt; 0; j--) {\n                newString.append(space);\n            }\n            newString.append(currentChar);\n            nodeStarted = true;\n            break;\n        case '&gt;':\n            newString.append(currentChar);\n            nodeStarted = false;\n            break;\n        case '/':\n            if ('&lt;' == previousChar || '&gt;' == unformattedXML.charAt(i)) {\n                indentCount--;\n            }\n            newString.append(currentChar);\n            break;\n        default:\n            newString.append(currentChar);\n        }\n        previousChar = currentChar;\n    }\n    newString.append(unformattedXML.charAt(length - 1));\n    System.out.println(newString.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551384,"favorite_count":0,"down_vote_count":2,"up_vote_count":501,"accepted_answer_id":11519668,"answer_count":34,"score":499,"last_activity_date":1674608071,"creation_date":1222431671,"question_id":139076,"body_markdown":"I have a Java String that contains XML, with no line feeds or indentations. I would like to turn it into a String with nicely formatted XML. How do I do this?\r\n\r\n    String unformattedXml = &quot;&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;&quot;;\r\n    String formattedXml = new [UnknownClass]().format(unformattedXml);\r\n\r\nNote: My input is a **String**. My output is a **String**. \r\n\r\n(Basic) mock result:\r\n\r\n&lt;!-- lang-all: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;root&gt;\r\n      &lt;tag&gt;\r\n        &lt;nested&gt;hello&lt;/nested&gt;\r\n      &lt;/tag&gt;\r\n    &lt;/root&gt;","title":"How to pretty print XML from Java?","body":"<p>I have a Java String that contains XML, with no line feeds or indentations. I would like to turn it into a String with nicely formatted XML. How do I do this?</p>\n\n<pre><code>String unformattedXml = \"&lt;tag&gt;&lt;nested&gt;hello&lt;/nested&gt;&lt;/tag&gt;\";\nString formattedXml = new [UnknownClass]().format(unformattedXml);\n</code></pre>\n\n<p>Note: My input is a <strong>String</strong>. My output is a <strong>String</strong>. </p>\n\n<p>(Basic) mock result:</p>\n\n\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;root&gt;\n  &lt;tag&gt;\n    &lt;nested&gt;hello&lt;/nested&gt;\n  &lt;/tag&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74379,"reputation":14630,"user_id":213758,"accept_rate":100,"display_name":"justkt"},"score":0,"creation_date":1300298769,"post_id":5329685,"comment_id":6015733,"body_markdown":"So you want to store the source (not the compiled class) in the database, compile it on the fly, then load it?","body":"So you want to store the source (not the compiled class) in the database, compile it on the fly, then load it?"},{"owner":{"account_id":55301,"reputation":15295,"user_id":165589,"accept_rate":99,"display_name":"Koerr"},"score":0,"creation_date":1300299394,"post_id":5329685,"comment_id":6015920,"body_markdown":"@justkt yes,can I do it? thanks :)","body":"@justkt yes,can I do it? thanks :)"}],"answers":[{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1674607549,"creation_date":1300298949,"answer_id":5329754,"question_id":5329685,"body_markdown":"Assuming you already compiled the class, you can create a `DatabaseClassLoader`, which loads the class from a database.\r\n\r\n    public class DatabaseClassLoader extends ClassLoader {\r\n\r\n        public DatabaseClassLoader(ClassLoader parent, ... /* connection to database */ ) {\r\n           super(parent);\r\n           // store the connection\r\n        }\r\n\r\n        public Class findClass(String name) {\r\n           byte[] data = loadDataFromDatabase(name);\r\n           return defineClass(name, data, 0, data.length);\r\n        }\r\n        private byte[] loadDataFromDatabase(String name) {\r\n            // this is your job.\r\n        }\r\n    }\r\n\r\nIf the database only contains the source code, you&#39;ll have to compile it first - look into the Java compiler API for how to do this without any files.\r\n\r\nPay attention, the class loaded this way will stay alive as long as the classloader is alive, so you&#39;ll need a new class loader to be able to reload the class in case of changes.\r\n\r\nAlso, if you want to interact with the class by other ways than reflection, you would better let it implement some interface (which itself is in your class path), and let the application class loader be the parent of your database class loader.\r\n\r\nAh, and how to load:\r\n\r\n    Class&lt;?&gt; c = Class.forName(&quot;util.abc.Test&quot;, myClassLoader);\r\n\r\nor directly\r\n\r\n    Class&lt;?&gt; c = myClassLoader.loadClass(&quot;util.abc.Test&quot;);\r\n\r\n\r\n----------\r\n\r\nHere is a method which creates objects of your interface (of any interface, in fact):\r\n\r\n    public &lt;X&gt; X getImplementingObject(Class&lt;X&gt; interfaceClass, String className)\r\n       throws ClassNotFoundException, IllegalAccessException, InstantiationException\r\n    {\r\n        ClassLoader loader = new DatabaseClassLoader(interfaceClass.getClassLoader(), ...);\r\n        Class&lt;?&gt; cl = loader.loadClass(className);\r\n        Class&lt;? extends X&gt; c = cl.asSubclass(interfaceClass);\r\n        return c.newInstance();\r\n    }\r\n\r\n(It needs the class to have a no-argument constructor which does not throw any exceptions, of course (if it does, you&#39;ll get this exception thrown, too).)\r\n\r\nThis creates a new ClassLoader for every such class, so they can only cooperate with each other by means of the interface (or reflection).\r\n\r\nFor on-the-fly compiling you should look at the Java Compiler API, as mentioned in the answer from *dcn*. But I think it would be better to do the compiling on the side which puts the classes into the database than the side who pulls them out.","title":"How can I load java class from database?","body":"<p>Assuming you already compiled the class, you can create a <code>DatabaseClassLoader</code>, which loads the class from a database.</p>\n<pre><code>public class DatabaseClassLoader extends ClassLoader {\n\n    public DatabaseClassLoader(ClassLoader parent, ... /* connection to database */ ) {\n       super(parent);\n       // store the connection\n    }\n\n    public Class findClass(String name) {\n       byte[] data = loadDataFromDatabase(name);\n       return defineClass(name, data, 0, data.length);\n    }\n    private byte[] loadDataFromDatabase(String name) {\n        // this is your job.\n    }\n}\n</code></pre>\n<p>If the database only contains the source code, you'll have to compile it first - look into the Java compiler API for how to do this without any files.</p>\n<p>Pay attention, the class loaded this way will stay alive as long as the classloader is alive, so you'll need a new class loader to be able to reload the class in case of changes.</p>\n<p>Also, if you want to interact with the class by other ways than reflection, you would better let it implement some interface (which itself is in your class path), and let the application class loader be the parent of your database class loader.</p>\n<p>Ah, and how to load:</p>\n<pre><code>Class&lt;?&gt; c = Class.forName(&quot;util.abc.Test&quot;, myClassLoader);\n</code></pre>\n<p>or directly</p>\n<pre><code>Class&lt;?&gt; c = myClassLoader.loadClass(&quot;util.abc.Test&quot;);\n</code></pre>\n<hr />\n<p>Here is a method which creates objects of your interface (of any interface, in fact):</p>\n<pre><code>public &lt;X&gt; X getImplementingObject(Class&lt;X&gt; interfaceClass, String className)\n   throws ClassNotFoundException, IllegalAccessException, InstantiationException\n{\n    ClassLoader loader = new DatabaseClassLoader(interfaceClass.getClassLoader(), ...);\n    Class&lt;?&gt; cl = loader.loadClass(className);\n    Class&lt;? extends X&gt; c = cl.asSubclass(interfaceClass);\n    return c.newInstance();\n}\n</code></pre>\n<p>(It needs the class to have a no-argument constructor which does not throw any exceptions, of course (if it does, you'll get this exception thrown, too).)</p>\n<p>This creates a new ClassLoader for every such class, so they can only cooperate with each other by means of the interface (or reflection).</p>\n<p>For on-the-fly compiling you should look at the Java Compiler API, as mentioned in the answer from <em>dcn</em>. But I think it would be better to do the compiling on the side which puts the classes into the database than the side who pulls them out.</p>\n"},{"tags":[],"owner":{"account_id":335769,"reputation":4439,"user_id":663030,"accept_rate":91,"display_name":"dcn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1300299852,"creation_date":1300299852,"answer_id":5329920,"question_id":5329685,"body_markdown":"If you want to store the source code in you DB, you can use the Java 6 Compiler API to compile it at runtime. See [here][1] for an example.\r\n\r\nIn order to load classes at runtime, you can either use an URLClassLoader if you can specify the location of the bytecode with a URL, or use [ClassLoader.defineClass][3] and supply the bytecode as an array of bytes. \r\n\r\nEither way you should pay attention, that in order to use your dynamically loaded class, it should implement an interface that is known at compile time.\r\n\r\n\r\n  [1]: http://juixe.com/techknow/index.php/2006/12/13/java-se-6-compiler-api/\r\n  [3]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ClassLoader.html#defineClass%28java.lang.String,%20byte%5B%5D,%20int,%20int%29","title":"How can I load java class from database?","body":"<p>If you want to store the source code in you DB, you can use the Java 6 Compiler API to compile it at runtime. See <a href=\"http://juixe.com/techknow/index.php/2006/12/13/java-se-6-compiler-api/\" rel=\"noreferrer\">here</a> for an example.</p>\n\n<p>In order to load classes at runtime, you can either use an URLClassLoader if you can specify the location of the bytecode with a URL, or use <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/ClassLoader.html#defineClass%28java.lang.String,%20byte%5B%5D,%20int,%20int%29\" rel=\"noreferrer\">ClassLoader.defineClass</a> and supply the bytecode as an array of bytes. </p>\n\n<p>Either way you should pay attention, that in order to use your dynamically loaded class, it should implement an interface that is known at compile time.</p>\n"}],"owner":{"account_id":55301,"reputation":15295,"user_id":165589,"accept_rate":99,"display_name":"Koerr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12179,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":5329754,"answer_count":2,"score":12,"last_activity_date":1674607549,"creation_date":1300298667,"question_id":5329685,"body_markdown":"With the following source code:\r\n\r\n    package util.abc;\r\n    public class Test{\r\n        public String out(){\r\n            return &quot;Hello World!&quot;;\r\n        }\r\n    }\r\n\r\nI can use:\r\n\r\n    Class c = Class.forName(&quot;util.abc.Test&quot;);\r\n\r\nto instantiate this Class, but I must put this source file(`Test.java`) in the classpath `/util/abc/`\r\n\r\nI want to dynamically load this class from the database (store the source code as `string` or `binary`)\r\n\r\nIs this possible ?","title":"How can I load java class from database?","body":"<p>With the following source code:</p>\n\n<pre><code>package util.abc;\npublic class Test{\n    public String out(){\n        return \"Hello World!\";\n    }\n}\n</code></pre>\n\n<p>I can use:</p>\n\n<pre><code>Class c = Class.forName(\"util.abc.Test\");\n</code></pre>\n\n<p>to instantiate this Class, but I must put this source file(<code>Test.java</code>) in the classpath <code>/util/abc/</code></p>\n\n<p>I want to dynamically load this class from the database (store the source code as <code>string</code> or <code>binary</code>)</p>\n\n<p>Is this possible ?</p>\n"},{"tags":["java","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"score":0,"creation_date":1614517973,"post_id":65503259,"comment_id":117404074,"body_markdown":"Although I don&#39;t know of any application in which you would need 2 scanners at the same time, it does work.\nThe problem in Your example is, that You close the first scanner before using the second scanner. You need to *cascade* the second scanner. In particular, this means that all scanners must be closed in the reverse order in which they were created. To use the autoclosing mechanism is the safest way to do this. See the example down the page…","body":"Although I don&#39;t know of any application in which you would need 2 scanners at the same time, it does work. The problem in Your example is, that You close the first scanner before using the second scanner. You need to <i>cascade</i> the second scanner. In particular, this means that all scanners must be closed in the reverse order in which they were created. To use the autoclosing mechanism is the safest way to do this. See the example down the page…"}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609341132,"creation_date":1609312227,"answer_id":65503321,"question_id":65503259,"body_markdown":"You should only create one `Scanner` _per input stream_. Among other things, the scanner reads ahead and so will consume more of the input than has actually been returned. (This is how it knows, for example, whether the input `hasNextInt()` and so on.)\r\n\r\nIt&#39;s entirely sensible to create multiple scanners if you have multiple input streams (such as processing multiple files), but `System.in` should only have a single scanner using it.","title":"Should a Scanner only be instantiated only once? if that&#39;s the case why so?","body":"<p>You should only create one <code>Scanner</code> <em>per input stream</em>. Among other things, the scanner reads ahead and so will consume more of the input than has actually been returned. (This is how it knows, for example, whether the input <code>hasNextInt()</code> and so on.)</p>\n<p>It's entirely sensible to create multiple scanners if you have multiple input streams (such as processing multiple files), but <code>System.in</code> should only have a single scanner using it.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1674605877,"creation_date":1609313804,"answer_id":65503544,"question_id":65503259,"body_markdown":"There are actually two separate things going on here.\r\n\r\n1.  You should create one `Scanner` per input **source**.  For example, one `Scanner` for each distinct input file, one for `System.in`, one for each distinct socket input stream.\r\n\r\n    The reason is (as Chrylis points out) is that various methods of `Scanner` read ahead on the scanner&#39;s input source.  When the characters are not *consumed* by the operation, they are not put back into the input source.  Rather they are buffered by the `Scanner` itself, and kept for the next `Scanner` operation to use.  So if you have two `Scanner` instances trying to read from the same input source, one may &quot;steal&quot; input intended for the other.  \r\n\r\n    This is the **real** reason why opening multiple `Scanner` objects on `System.in` is bad.  Not the &quot;redundancy&quot; argument that you proposed.  There is nothing fundamentally wrong with a bit of redundancy ... especially if it simplifies the application.  But scanners competing for input *may* result in unexpected behavior / bugs.\r\n\r\n2.  The second problem is that when you `close()` a `Scanner` that also closes the input source.\r\n\r\n    In your case that means that you are closing `System.in`.  And then you are creating a second `Scanner` to read from the (now closed) `System.in`.\r\n\r\n    When you attempt to us a `Scanner` to read from a closed `System.in`, that leads to a `NoSuchElementException`.\r\n\r\n\r\nSo if you hadn&#39;t called `close()` on the first `Scanner`, your code *might* have worked, but that would depend on the sequence of operations you made on the first `Scanner`.\r\n\r\n-------------------\r\n\r\n&gt; People are saying `Scanner` ain&#39;t cloneable.\r\n\r\nThey are correct.","title":"Should a Scanner only be instantiated only once? if that&#39;s the case why so?","body":"<p>There are actually two separate things going on here.</p>\n<ol>\n<li><p>You should create one <code>Scanner</code> per input <strong>source</strong>.  For example, one <code>Scanner</code> for each distinct input file, one for <code>System.in</code>, one for each distinct socket input stream.</p>\n<p>The reason is (as Chrylis points out) is that various methods of <code>Scanner</code> read ahead on the scanner's input source.  When the characters are not <em>consumed</em> by the operation, they are not put back into the input source.  Rather they are buffered by the <code>Scanner</code> itself, and kept for the next <code>Scanner</code> operation to use.  So if you have two <code>Scanner</code> instances trying to read from the same input source, one may &quot;steal&quot; input intended for the other.</p>\n<p>This is the <strong>real</strong> reason why opening multiple <code>Scanner</code> objects on <code>System.in</code> is bad.  Not the &quot;redundancy&quot; argument that you proposed.  There is nothing fundamentally wrong with a bit of redundancy ... especially if it simplifies the application.  But scanners competing for input <em>may</em> result in unexpected behavior / bugs.</p>\n</li>\n<li><p>The second problem is that when you <code>close()</code> a <code>Scanner</code> that also closes the input source.</p>\n<p>In your case that means that you are closing <code>System.in</code>.  And then you are creating a second <code>Scanner</code> to read from the (now closed) <code>System.in</code>.</p>\n<p>When you attempt to us a <code>Scanner</code> to read from a closed <code>System.in</code>, that leads to a <code>NoSuchElementException</code>.</p>\n</li>\n</ol>\n<p>So if you hadn't called <code>close()</code> on the first <code>Scanner</code>, your code <em>might</em> have worked, but that would depend on the sequence of operations you made on the first <code>Scanner</code>.</p>\n<hr />\n<blockquote>\n<p>People are saying <code>Scanner</code> ain't cloneable.</p>\n</blockquote>\n<p>They are correct.</p>\n"},{"tags":[],"owner":{"account_id":18000087,"reputation":47,"user_id":13082214,"display_name":"Adnan Mahida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609315609,"creation_date":1609315227,"answer_id":65503771,"question_id":65503259,"body_markdown":"It&#39;s so simple, You should only create one Scanner per input. The Scanner reads line one by one using nextLine() method. last check the condition hasNext() so you can find out the arguments.\r\n\r\n**Try This**\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Nope{\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;What&#39;s your name?&quot;);\r\n        String name = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Welcome &quot; + name + &quot;!&quot;);\r\n        // Now\r\n        System.out.println(&quot;where you do live?&quot;);\r\n        String country = scanner.nextLine();\r\n\r\n        System.out.println(country +&quot; Is a lovely place&quot;);\r\n        if(!scanner.hasNext()){\r\n        scanner.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**output like**\r\n```cmd\r\n\r\nWhat&#39;s your name?\r\nxyz\r\nWelcome xyz!\r\nwhere you do live?\r\nrjk\r\nrjk Is a lovely place\r\n\r\n```","title":"Should a Scanner only be instantiated only once? if that&#39;s the case why so?","body":"<p>It's so simple, You should only create one Scanner per input. The Scanner reads line one by one using nextLine() method. last check the condition hasNext() so you can find out the arguments.</p>\n<p><strong>Try This</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Nope{\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;What's your name?&quot;);\n        String name = scanner.nextLine();\n\n        System.out.println(&quot;Welcome &quot; + name + &quot;!&quot;);\n        // Now\n        System.out.println(&quot;where you do live?&quot;);\n        String country = scanner.nextLine();\n\n        System.out.println(country +&quot; Is a lovely place&quot;);\n        if(!scanner.hasNext()){\n        scanner.close();\n        }\n    }\n}\n</code></pre>\n<p><strong>output like</strong></p>\n<pre><code>\nWhat's your name?\nxyz\nWelcome xyz!\nwhere you do live?\nrjk\nrjk Is a lovely place\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609544049,"creation_date":1609375490,"answer_id":65515359,"question_id":65503259,"body_markdown":"*This answer focuses on the **`close()`** operation and why there&#39;s no option to read again from ***`System.in`*** if a Scanner instance previously closed it, as the top answer already gave the correct info. Just if curious.*\r\n\r\n---\r\n\r\n&gt; **[Scanner][1]**\r\n&gt;\r\n&gt; *When a Scanner is closed, it will close its input source if the source\r\n&gt; implements the Closeable interface.\r\n&gt; A Scanner is not safe for multithreaded use without external\r\n&gt; synchronization.*\r\n\r\n - You should create a Scanner instance for each  source you want to read from.\r\n - If you must share the same instance, you should implement the synchronization mechanism, as it&#39;s not thread safe.\r\n - As other answers already pointed, `close()` is a &quot;dangerous&quot; operation.\r\n\r\n----\r\n\r\n`System.in close()`\r\n-------\r\nLet&#39;s suppose **`System.in`** was specified as source. \r\n\r\nThis is the close method from the [**`InputStreamReader`**][2]\r\n\r\n    public void close() throws IOException\r\n    {\r\n        synchronized (lock)\r\n        {\r\n           // Makes sure all intermediate data is released by the decoder.\r\n           if (decoder != null)\r\n              decoder.reset();\r\n           if (in != null)\r\n              in.close();\r\n           in = null;\r\n           isDone = true;\r\n           decoder = null;\r\n         }\r\n    }\r\n\r\nThe variable that refers to **`System.in`** is the one called **`in`**.\r\n\r\n **Two operations** are performed on this `InputStream` (*besides the null check*):\r\n\r\n  ------\r\n\r\n **1.** **`in.close()`** \r\n\r\n[**This does nothing at all**][3]: [**`System.in`**][4] &#39;s class (`InputStream`) just leaves an empty implementation of the inherited `close()` method (from *`Closeable`*)\r\n\r\n    /**\r\n     * Closes this stream. Concrete implementations of this class should free\r\n     * any resources during close. This implementation does nothing.\r\n     *\r\n     */\r\n    public void close() throws IOException {\r\n        /* empty */\r\n    }\r\n\r\nNot even the [javadocs][5] *hide the truth*:\r\n\r\n&gt; The close method of InputStream **does nothing**.\r\n\r\n\r\n\r\n----\r\n\r\n\r\n **2.** **`in = null`**\r\n\r\nThis is the real reason why you won&#39;t be able to read again from **`System.in`**. Setting it to **null** unables any further read attempts from this source with a new **`Scanner`**.   \r\n\r\n\r\n-----\r\n\r\n***But... why does it throw a `NoSuchElementException` instead of a `NullPointerException`?***\r\n\r\nThe initialization of the `Scanner` **doesn&#39;t** fail in the step of creating its **`Reader`** instance. This is because the `InputStream` is wrapped into a new `BufferedInputStream`. So the `lock` Object is not null at the initialization of the Scanner&#39;s `Reader`:\r\n\r\n\r\n    public InputStreamReader(InputStream in) \r\n    {\r\n        super(in);  \r\n        this.in = in;\r\n        ...\r\n    }\r\n\r\n. \r\n   \r\n    protected Reader(Object lock) \r\n    {\r\n        if (lock == null) {    \r\n            throw new NullPointerException();   \r\n        }\r\n        this.lock = lock;\r\n    }\r\n\r\nYou&#39;ll be able to create a second `Scanner` instance from `System.in` without any exception being thrown; As the `InputStream` is wrapped into a new `BufferedInputStream` instance, the `lock` Object is not null and passes the filter. But the inner `InputStream`, **`System.in`**, is null indeed, from the moment it was set to null in the previous `close()` operation:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nThis is the `lock` Object in the second initialization of the `Scanner` for `System.in`. The Scanner still doesn&#39;t know something will go badly, as its initialization was succesfull (*due to the wrapped `BufferedInputStream`*) and still believes its `InputStream` is valid. \r\n\r\nBut at the first try for reading again from `System.in`, this happens:\r\n\r\n    public String nextLine() {\r\n        if (hasNextPattern == linePattern())\r\n            return getCachedResult();\r\n        clearCaches();\r\n\r\n        String result = findWithinHorizon(linePattern, 0);\r\n        if (result == null) /* result is null, as there&#39;s no source */\r\n           throw new NoSuchElementException(&quot;No line found&quot;);\r\n\r\n         (...)\r\n     }\r\n\r\nThat&#39;s the moment where `Scanner` notices **at last** that *something is not going well*. The result of `findWithinHorizon` will return null as there&#39;s no source from where to find. \r\n\r\nAs a result of previously setting **`System.in`** to null in the `close()` operation, you get the error when trying to read from the second `Scanner` instance: **`NoSuchElementException`**.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\r\n  [2]: http://developer.claspath.org/doc/java/io/InputStreamReader-source.html\r\n  [3]: https://cdn.successconsciousness.com/blog/wp-content/uploads/being-lazy.jpg\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#in\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#close()\r\n  [6]: https://i.stack.imgur.com/X6xnt.png","title":"Should a Scanner only be instantiated only once? if that&#39;s the case why so?","body":"<p><em>This answer focuses on the <strong><code>close()</code></strong> operation and why there's no option to read again from <em><strong><code>System.in</code></strong></em> if a Scanner instance previously closed it, as the top answer already gave the correct info. Just if curious.</em></p>\n<hr />\n<blockquote>\n<p><strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></strong></p>\n<p><em>When a Scanner is closed, it will close its input source if the source\nimplements the Closeable interface.\nA Scanner is not safe for multithreaded use without external\nsynchronization.</em></p>\n</blockquote>\n<ul>\n<li>You should create a Scanner instance for each  source you want to read from.</li>\n<li>If you must share the same instance, you should implement the synchronization mechanism, as it's not thread safe.</li>\n<li>As other answers already pointed, <code>close()</code> is a &quot;dangerous&quot; operation.</li>\n</ul>\n<hr />\n<h2><code>System.in close()</code></h2>\n<p>Let's suppose <strong><code>System.in</code></strong> was specified as source.</p>\n<p>This is the close method from the <a href=\"http://developer.claspath.org/doc/java/io/InputStreamReader-source.html\" rel=\"nofollow noreferrer\"><strong><code>InputStreamReader</code></strong></a></p>\n<pre><code>public void close() throws IOException\n{\n    synchronized (lock)\n    {\n       // Makes sure all intermediate data is released by the decoder.\n       if (decoder != null)\n          decoder.reset();\n       if (in != null)\n          in.close();\n       in = null;\n       isDone = true;\n       decoder = null;\n     }\n}\n</code></pre>\n<p>The variable that refers to <strong><code>System.in</code></strong> is the one called <strong><code>in</code></strong>.</p>\n<p><strong>Two operations</strong> are performed on this <code>InputStream</code> (<em>besides the null check</em>):</p>\n<hr />\n<p><strong>1.</strong> <strong><code>in.close()</code></strong></p>\n<p><a href=\"https://cdn.successconsciousness.com/blog/wp-content/uploads/being-lazy.jpg\" rel=\"nofollow noreferrer\"><strong>This does nothing at all</strong></a>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#in\" rel=\"nofollow noreferrer\"><strong><code>System.in</code></strong></a> 's class (<code>InputStream</code>) just leaves an empty implementation of the inherited <code>close()</code> method (from <em><code>Closeable</code></em>)</p>\n<pre><code>/**\n * Closes this stream. Concrete implementations of this class should free\n * any resources during close. This implementation does nothing.\n *\n */\npublic void close() throws IOException {\n    /* empty */\n}\n</code></pre>\n<p>Not even the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#close()\" rel=\"nofollow noreferrer\">javadocs</a> <em>hide the truth</em>:</p>\n<blockquote>\n<p>The close method of InputStream <strong>does nothing</strong>.</p>\n</blockquote>\n<hr />\n<p><strong>2.</strong> <strong><code>in = null</code></strong></p>\n<p>This is the real reason why you won't be able to read again from <strong><code>System.in</code></strong>. Setting it to <strong>null</strong> unables any further read attempts from this source with a new <strong><code>Scanner</code></strong>.</p>\n<hr />\n<p><em><strong>But... why does it throw a <code>NoSuchElementException</code> instead of a <code>NullPointerException</code>?</strong></em></p>\n<p>The initialization of the <code>Scanner</code> <strong>doesn't</strong> fail in the step of creating its <strong><code>Reader</code></strong> instance. This is because the <code>InputStream</code> is wrapped into a new <code>BufferedInputStream</code>. So the <code>lock</code> Object is not null at the initialization of the Scanner's <code>Reader</code>:</p>\n<pre><code>public InputStreamReader(InputStream in) \n{\n    super(in);  \n    this.in = in;\n    ...\n}\n</code></pre>\n<p>.</p>\n<pre><code>protected Reader(Object lock) \n{\n    if (lock == null) {    \n        throw new NullPointerException();   \n    }\n    this.lock = lock;\n}\n</code></pre>\n<p>You'll be able to create a second <code>Scanner</code> instance from <code>System.in</code> without any exception being thrown; As the <code>InputStream</code> is wrapped into a new <code>BufferedInputStream</code> instance, the <code>lock</code> Object is not null and passes the filter. But the inner <code>InputStream</code>, <strong><code>System.in</code></strong>, is null indeed, from the moment it was set to null in the previous <code>close()</code> operation:</p>\n<p><a href=\"https://i.stack.imgur.com/X6xnt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X6xnt.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the <code>lock</code> Object in the second initialization of the <code>Scanner</code> for <code>System.in</code>. The Scanner still doesn't know something will go badly, as its initialization was succesfull (<em>due to the wrapped <code>BufferedInputStream</code></em>) and still believes its <code>InputStream</code> is valid.</p>\n<p>But at the first try for reading again from <code>System.in</code>, this happens:</p>\n<pre><code>public String nextLine() {\n    if (hasNextPattern == linePattern())\n        return getCachedResult();\n    clearCaches();\n\n    String result = findWithinHorizon(linePattern, 0);\n    if (result == null) /* result is null, as there's no source */\n       throw new NoSuchElementException(&quot;No line found&quot;);\n\n     (...)\n }\n</code></pre>\n<p>That's the moment where <code>Scanner</code> notices <strong>at last</strong> that <em>something is not going well</em>. The result of <code>findWithinHorizon</code> will return null as there's no source from where to find.</p>\n<p>As a result of previously setting <strong><code>System.in</code></strong> to null in the <code>close()</code> operation, you get the error when trying to read from the second <code>Scanner</code> instance: <strong><code>NoSuchElementException</code></strong>.</p>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614456016,"creation_date":1614449605,"answer_id":66401952,"question_id":65503259,"body_markdown":"`Scanner` *implements the* `AutoCloseable` *interface*&lt;br /&gt;\r\ndon&#39;t call `close` separately use instead the [autocloseable mechanism][1]\r\n\r\n    public class Nope\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        System.out.println(&quot;What&#39;s your name?&quot;);\r\n        try( Scanner scanner = new Scanner(System.in) ) {\r\n          String name = scanner.nextLine();\r\n    \r\n          System.out.println(&quot;Welcome &quot; + name + &quot;!&quot;);\r\n    \r\n          // Now \r\n          System.out.println(&quot;where you do live?&quot;);\r\n          try( Scanner sc = new Scanner(System.in) ) {\r\n            String country = sc.nextLine();\r\n    \r\n            System.out.println(&quot;That&#39;s a lovely place&quot;);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nnow everything works as expected and `close` is automatically called when exiting the try-with-resources block…\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html","title":"Should a Scanner only be instantiated only once? if that&#39;s the case why so?","body":"<p><code>Scanner</code> <em>implements the</em> <code>AutoCloseable</code> <em>interface</em><br />\ndon't call <code>close</code> separately use instead the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">autocloseable mechanism</a></p>\n<pre><code>public class Nope\n{\n  public static void main(String[] args)\n  {\n    System.out.println(&quot;What's your name?&quot;);\n    try( Scanner scanner = new Scanner(System.in) ) {\n      String name = scanner.nextLine();\n\n      System.out.println(&quot;Welcome &quot; + name + &quot;!&quot;);\n\n      // Now \n      System.out.println(&quot;where you do live?&quot;);\n      try( Scanner sc = new Scanner(System.in) ) {\n        String country = sc.nextLine();\n\n        System.out.println(&quot;That's a lovely place&quot;);\n      }\n    }\n  }\n}\n</code></pre>\n<p>now everything works as expected and <code>close</code> is automatically called when exiting the try-with-resources block…</p>\n"}],"owner":{"account_id":18831935,"reputation":73,"user_id":13735540,"display_name":"Paris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3520,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65503544,"answer_count":5,"score":5,"last_activity_date":1674605877,"creation_date":1609311779,"question_id":65503259,"body_markdown":"I know I&#39;m going out on a limb here, but I just can&#39;t seem to understand why can&#39;t we just create an instance of the Scanner class twice. I&#39;ll add an example just in case.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Nope\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tSystem.out.println(&quot;What&#39;s your name?&quot;);\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tString name = scanner.nextLine();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Welcome &quot; + name + &quot;!&quot;);\r\n\t\tscanner.close();\r\n\t\t\r\n\t\t// Now \r\n\t\tSystem.out.println(&quot;where you do live?&quot;);\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString country = sc.nextLine();\r\n\t\t\r\n\t\tSystem.out.println(&quot;That&#39;s a lovely place&quot;);\r\n\t\tsc.close();\r\n\t\t\r\n\t}\r\n}\r\n```\r\nAnd I get a runtime error which looks something like this\r\n```\r\nWhat&#39;s your name?\r\nKate\r\nWelcome Kate!\r\nException in thread &quot;main&quot; where you do live?\r\njava.util.NoSuchElementException: No line found\r\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n\tat Nope.main(Nope.java:17)\r\n```\r\n\r\nI know it doesn&#39;t make sense to create a new object again of the same class, encouraging redundancy. But I just think it will clear my mind if I know why, don&#39;t you think so too?\r\n\r\nWhat does the machine mean by **&#39;java.util.NoSuchElementException: No line found&#39;** and people are saying Scanner ain&#39;t cloneable. \r\n\r\nPS: I intentionally closed my first scanner and created a new object just to understand the issue.","title":"Should a Scanner only be instantiated only once? if that&#39;s the case why so?","body":"<p>I know I'm going out on a limb here, but I just can't seem to understand why can't we just create an instance of the Scanner class twice. I'll add an example just in case.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Nope\n{\n    public static void main(String[] args)\n    {\n        System.out.println(&quot;What's your name?&quot;);\n        Scanner scanner = new Scanner(System.in);\n        String name = scanner.nextLine();\n        \n        System.out.println(&quot;Welcome &quot; + name + &quot;!&quot;);\n        scanner.close();\n        \n        // Now \n        System.out.println(&quot;where you do live?&quot;);\n        Scanner sc = new Scanner(System.in);\n        String country = sc.nextLine();\n        \n        System.out.println(&quot;That's a lovely place&quot;);\n        sc.close();\n        \n    }\n}\n</code></pre>\n<p>And I get a runtime error which looks something like this</p>\n<pre><code>What's your name?\nKate\nWelcome Kate!\nException in thread &quot;main&quot; where you do live?\njava.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n    at Nope.main(Nope.java:17)\n</code></pre>\n<p>I know it doesn't make sense to create a new object again of the same class, encouraging redundancy. But I just think it will clear my mind if I know why, don't you think so too?</p>\n<p>What does the machine mean by <strong>'java.util.NoSuchElementException: No line found'</strong> and people are saying Scanner ain't cloneable.</p>\n<p>PS: I intentionally closed my first scanner and created a new object just to understand the issue.</p>\n"},{"tags":["java","micronaut"],"answers":[{"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674604319,"creation_date":1674604319,"answer_id":75228462,"question_id":75221539,"body_markdown":"Out of the box, neither [micronaut-problem-json](https://github.com/micronaut-projects/micronaut-problem-json) nor the [problem library](https://github.com/zalando/problem) uses Java Internationalization. \r\n\r\nThere are customizations that you can do within Micronaut. See [Micronaut Problem Json User Documentation](\r\nhttps://micronaut-projects.github.io/micronaut-problem-json/latest/guide/).\r\n\r\nYou can always request the feature or provide a pull-request. \r\n\r\n\r\n","title":"How to translate the messages from the micronaut-problem-json library?","body":"<p>Out of the box, neither <a href=\"https://github.com/micronaut-projects/micronaut-problem-json\" rel=\"nofollow noreferrer\">micronaut-problem-json</a> nor the <a href=\"https://github.com/zalando/problem\" rel=\"nofollow noreferrer\">problem library</a> uses Java Internationalization.</p>\n<p>There are customizations that you can do within Micronaut. See <a href=\"https://micronaut-projects.github.io/micronaut-problem-json/latest/guide/\" rel=\"nofollow noreferrer\">Micronaut Problem Json User Documentation</a>.</p>\n<p>You can always request the feature or provide a pull-request.</p>\n"}],"owner":{"account_id":3016002,"reputation":426,"user_id":2558163,"display_name":"Alexandre V."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674605620,"creation_date":1674563470,"question_id":75221539,"body_markdown":"**What**: I would like to know how to translate the messages for the **micronaut-problem-json** library. Does it support `src/main/resources/i18n/messages.properties`? This information is not documented on the GitHub project&#39;s page.\r\n\r\nThe project: https://github.com/micronaut-projects/micronaut-problem-json/\r\n\r\n**Why**: The motivation for this is obvious, to support the internationalization of the messages. \r\n\r\nThis is a typical payload generated by the library in case of a constraint validation error:\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;https://zalando.github.io/problem/constraint-violation&quot;,\r\n  &quot;title&quot;: &quot;Constraint Violation&quot;,\r\n  &quot;status&quot;: 400,\r\n  &quot;violations&quot;: [\r\n    {\r\n      &quot;field&quot;: &quot;create.signup.username&quot;,\r\n      &quot;message&quot;: &quot;size must be between 3 and 30&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI would like to add support to other languages, like Portuguese, Spanish, etc. When an HTTP request from the client includes the HTTP header `Accept-Language: pt` the server should return the following payload:\r\n\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;https://zalando.github.io/problem/constraint-violation&quot;,\r\n  &quot;title&quot;: &quot;Viola&#231;&#227;o de integridade&quot;,\r\n  &quot;status&quot;: 400,\r\n  &quot;violations&quot;: [\r\n    {\r\n      &quot;field&quot;: &quot;create.signup.username&quot;,\r\n      &quot;message&quot;: &quot;o tamanho deve ser entre 3 e 30&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"How to translate the messages from the micronaut-problem-json library?","body":"<p><strong>What</strong>: I would like to know how to translate the messages for the <strong>micronaut-problem-json</strong> library. Does it support <code>src/main/resources/i18n/messages.properties</code>? This information is not documented on the GitHub project's page.</p>\n<p>The project: <a href=\"https://github.com/micronaut-projects/micronaut-problem-json/\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-problem-json/</a></p>\n<p><strong>Why</strong>: The motivation for this is obvious, to support the internationalization of the messages.</p>\n<p>This is a typical payload generated by the library in case of a constraint validation error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;https://zalando.github.io/problem/constraint-violation&quot;,\n  &quot;title&quot;: &quot;Constraint Violation&quot;,\n  &quot;status&quot;: 400,\n  &quot;violations&quot;: [\n    {\n      &quot;field&quot;: &quot;create.signup.username&quot;,\n      &quot;message&quot;: &quot;size must be between 3 and 30&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I would like to add support to other languages, like Portuguese, Spanish, etc. When an HTTP request from the client includes the HTTP header <code>Accept-Language: pt</code> the server should return the following payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;https://zalando.github.io/problem/constraint-violation&quot;,\n  &quot;title&quot;: &quot;Violação de integridade&quot;,\n  &quot;status&quot;: 400,\n  &quot;violations&quot;: [\n    {\n      &quot;field&quot;: &quot;create.signup.username&quot;,\n      &quot;message&quot;: &quot;o tamanho deve ser entre 3 e 30&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","lambda","future","completable-future","completion-stage"],"comments":[{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":1,"creation_date":1674588660,"post_id":75226262,"comment_id":132745074,"body_markdown":"You can first log the stacktrace of the exception, that will tell you why it occurred.","body":"You can first log the stacktrace of the exception, that will tell you why it occurred."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1674597735,"post_id":75226262,"comment_id":132747736,"body_markdown":"Please make this a [mre], which should include the code of `handleAmbiguousException()`, and provide the exception stack trace.","body":"Please make this a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which should include the code of <code>handleAmbiguousException()</code>, and provide the exception stack trace."},{"owner":{"account_id":23200469,"reputation":1,"user_id":17295381,"display_name":"Curiosity"},"score":0,"creation_date":1674604262,"post_id":75226262,"comment_id":132749212,"body_markdown":"@Lae,  Stack trace says: java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273). And that&#39;s the whole stack trace - does that tell us anything?","body":"@Lae,  Stack trace says: java.util.concurrent.CompletableFuture.encodeThrowable(Compl&zwnj;&#8203;etableFuture.java:27&zwnj;&#8203;3). And that&#39;s the whole stack trace - does that tell us anything?"},{"owner":{"account_id":23200469,"reputation":1,"user_id":17295381,"display_name":"Curiosity"},"score":0,"creation_date":1674604849,"post_id":75226262,"comment_id":132749304,"body_markdown":"@DidierL, I added in handleAmbiguousException code.","body":"@DidierL, I added in handleAmbiguousException code."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1674606176,"post_id":75226262,"comment_id":132749498,"body_markdown":"Please refer to https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it","body":"Please refer to <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\" title=\"what is a nullpointerexception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a>"},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":1,"creation_date":1674608557,"post_id":75226262,"comment_id":132749845,"body_markdown":"You can use [printStackTrace()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#printStackTrace()) to obtain the whole stack trace. If you read the documentation on that method it will help you understand it.","body":"You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#printStackTrace()\" rel=\"nofollow noreferrer\">printStackTrace()</a> to obtain the whole stack trace. If you read the documentation on that method it will help you understand it."}],"owner":{"account_id":23200469,"reputation":1,"user_id":17295381,"display_name":"Curiosity"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674605214,"creation_date":1674588116,"question_id":75226262,"body_markdown":"There is a problem that causes the code to land in the handleAmbiguousException method, but I do not know what the problem is that causes the code to get there. *My question is this: how can I rewrite the code below in order to actually figure out what the real exception is?*\r\n\r\nInside handleAmbiguousException, it says there is a problem calling an upstream service, but I have determined that there is no problem from the upstream service. So I think the issue must be in one of the following methods.\r\n\r\nFirst there is the doSomething() method, which calls retrieveConfiguration(). retrieveConfiguration() accepts a func, which I believe is where the problem is.\r\n\r\n    public void doSomething(final HttpServletRequest httpServletRequest,\r\n                                final AbstractCreateTokenRequest request,\r\n                                final AsyncResponse asyncResponse){\r\n    \r\n\r\n    retrieveConfiguration(asyncResponse,\r\n                                configuration -&gt; doInternalMethod(asyncResponse, request, configuration), InternalConfiguration.class);\r\n}`\r\n\r\n    private &lt;T extends SomeConfiguration&gt; void\r\n        retrieveConfiguration(final AsyncResponse asyncResponse,\r\n                              final Consumer&lt;T&gt; func,\r\n                              final Class&lt;T&gt; configClass) {\r\n\r\n        CompletionStage&lt;T&gt; configuration = configurationService.getConfiguration(configClass);\r\n\r\n        configuration.thenAccept(func).\r\n                exceptionally(throwable -&gt; {\r\n                    handleAmbiguousException(asyncResponse, throwable);\r\n                    return null;\r\n                });\r\n    }`\r\n\r\nBased off log statements I added, I don&#39;t think the code ever reaches doInternalMethod, but I have pasted it below here in case it is helpful:\r\n\r\n    private CompletionStage&lt;Either&lt;ServiceErrorResponse, TokenResponse&gt;&gt;\r\n        doInternalMethod(final AsyncResponse asyncResponse,\r\n                            final AbstractCreateTokenRequest request,\r\n                            final TokenConfiguration configuration) {\r\n\r\n        final CompletionStage&lt;Either&lt;ServiceErrorResponse, TokenResponse&gt;&gt; stage = tokenCreator\r\n                .createToken(configuration)\r\n                .exceptionally(this::nestedException);\r\n        stage.whenComplete((response, throwable) -&gt; {\r\n            MDC.clear();\r\n        });\r\n        setAsyncResponseFromEither(stage, asyncResponse, REQUEST_TIMEOUT_MS, request.toString());\r\n        return stage;\r\n    }`\r\n\r\n\r\n\r\nI tried adding log statements right before configuration.thenAccept(func), and they successfully logged to console. But my logs in doInternalMethod() were never reached. So it seems like something is happening at the configuration.thenAccept(func) part. But I do not know how to debug/troubleshoot this to figure out what exactly the error is.\r\n\r\nPeople asked for handleAmbiguousException code, and here it is. This is also where I got the stack trace from:\r\n\r\n    private void\r\n        handleAmibguousException(final AsyncResponse asyncResponse,\r\n                                  final Throwable throwable) {\r\n       asyncResponse.resume(ExceptionHandler.mapTheError(throwable));\r\n        }\r\n\r\nPrinting the stack trace only gives me this:\r\njava.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\r\n\r\nConverting the throwable to string gets me this:\r\n     java.util.concurrent.CompletionException: java.lang.NullPointerException\r\n\r\nPrinting the message of the throwable gets me this: \r\n    MESSAGE java.lang.NullPointerException","title":"How to troubleshoot a CompletionStage?","body":"<p>There is a problem that causes the code to land in the handleAmbiguousException method, but I do not know what the problem is that causes the code to get there. <em>My question is this: how can I rewrite the code below in order to actually figure out what the real exception is?</em></p>\n<p>Inside handleAmbiguousException, it says there is a problem calling an upstream service, but I have determined that there is no problem from the upstream service. So I think the issue must be in one of the following methods.</p>\n<p>First there is the doSomething() method, which calls retrieveConfiguration(). retrieveConfiguration() accepts a func, which I believe is where the problem is.</p>\n<pre><code>public void doSomething(final HttpServletRequest httpServletRequest,\n                            final AbstractCreateTokenRequest request,\n                            final AsyncResponse asyncResponse){\n\n\nretrieveConfiguration(asyncResponse,\n                            configuration -&gt; doInternalMethod(asyncResponse, request, configuration), InternalConfiguration.class);\n</code></pre>\n<p>}`</p>\n<pre><code>private &lt;T extends SomeConfiguration&gt; void\n    retrieveConfiguration(final AsyncResponse asyncResponse,\n                          final Consumer&lt;T&gt; func,\n                          final Class&lt;T&gt; configClass) {\n\n    CompletionStage&lt;T&gt; configuration = configurationService.getConfiguration(configClass);\n\n    configuration.thenAccept(func).\n            exceptionally(throwable -&gt; {\n                handleAmbiguousException(asyncResponse, throwable);\n                return null;\n            });\n}`\n</code></pre>\n<p>Based off log statements I added, I don't think the code ever reaches doInternalMethod, but I have pasted it below here in case it is helpful:</p>\n<pre><code>private CompletionStage&lt;Either&lt;ServiceErrorResponse, TokenResponse&gt;&gt;\n    doInternalMethod(final AsyncResponse asyncResponse,\n                        final AbstractCreateTokenRequest request,\n                        final TokenConfiguration configuration) {\n\n    final CompletionStage&lt;Either&lt;ServiceErrorResponse, TokenResponse&gt;&gt; stage = tokenCreator\n            .createToken(configuration)\n            .exceptionally(this::nestedException);\n    stage.whenComplete((response, throwable) -&gt; {\n        MDC.clear();\n    });\n    setAsyncResponseFromEither(stage, asyncResponse, REQUEST_TIMEOUT_MS, request.toString());\n    return stage;\n}`\n</code></pre>\n<p>I tried adding log statements right before configuration.thenAccept(func), and they successfully logged to console. But my logs in doInternalMethod() were never reached. So it seems like something is happening at the configuration.thenAccept(func) part. But I do not know how to debug/troubleshoot this to figure out what exactly the error is.</p>\n<p>People asked for handleAmbiguousException code, and here it is. This is also where I got the stack trace from:</p>\n<pre><code>private void\n    handleAmibguousException(final AsyncResponse asyncResponse,\n                              final Throwable throwable) {\n   asyncResponse.resume(ExceptionHandler.mapTheError(throwable));\n    }\n</code></pre>\n<p>Printing the stack trace only gives me this:\njava.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)</p>\n<p>Converting the throwable to string gets me this:\njava.util.concurrent.CompletionException: java.lang.NullPointerException</p>\n<p>Printing the message of the throwable gets me this:\nMESSAGE java.lang.NullPointerException</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674641967,"post_id":75227998,"comment_id":132756230,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":17402519,"reputation":137,"user_id":12611136,"display_name":"Syeda Soghat Zehra Jaffri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674605057,"creation_date":1674605057,"answer_id":75228526,"question_id":75227998,"body_markdown":"In your BottomNavigationView add this line\r\n\r\n     android:layout_alignParentBottom=&quot;true&quot;","title":"Below a widget in XML","body":"<p>In your BottomNavigationView add this line</p>\n<pre><code> android:layout_alignParentBottom=&quot;true&quot;\n</code></pre>\n"}],"owner":{"account_id":27613519,"reputation":1,"user_id":21076097,"display_name":"Jos&#233; Danrley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674605057,"creation_date":1674599831,"question_id":75227998,"body_markdown":"i&#39;ve tried to fix this problem but every way that i tried went wrong. i&#39;m trying to add a BottomNavigationView below the FrameLayout but everytime the BottomNavigationView keep up of the FrameLayout or inside it. What could i do?\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout\r\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     android:layout_height=&quot;match_parent&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:background=&quot;#2b2b2b&quot;\r\n     android:id=&quot;@+id/coordinator&quot;\r\n     tools:context=&quot;.Home&quot;&gt;\r\n\r\n    &lt;android.widget.FrameLayout\r\n        android:id=&quot;@+id/bottom_nav_frame&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n        (...)\r\n    &lt;/android.widget.FrameLayout&gt;\r\n    \r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_nav&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/bottom_nav_frame&quot;\r\n        android:background=&quot;#2b2b2b&quot;\r\n        app:iconTint=&quot;#ffffff&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```","title":"Below a widget in XML","body":"<p>i've tried to fix this problem but every way that i tried went wrong. i'm trying to add a BottomNavigationView below the FrameLayout but everytime the BottomNavigationView keep up of the FrameLayout or inside it. What could i do?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n     xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n     android:layout_height=&quot;match_parent&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:background=&quot;#2b2b2b&quot;\n     android:id=&quot;@+id/coordinator&quot;\n     tools:context=&quot;.Home&quot;&gt;\n\n    &lt;android.widget.FrameLayout\n        android:id=&quot;@+id/bottom_nav_frame&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n        (...)\n    &lt;/android.widget.FrameLayout&gt;\n    \n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottom_nav&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/bottom_nav_frame&quot;\n        android:background=&quot;#2b2b2b&quot;\n        app:iconTint=&quot;#ffffff&quot;\n        app:menu=&quot;@menu/bottom_nav_menu&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-java","fluentwait"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1674591073,"post_id":75223968,"comment_id":132745794,"body_markdown":"1/2 second is already pretty short.  Remember that it will take a certain amount of time to check the DOM, for the thrown exception to happen, for the driver to check the exception and ignore it... there is also travel time between browser-&gt;driver-&gt;your code and back again.. I don&#39;t know how long that is, but at a certain point you won&#39;t have a speed increase at all, but maybe even a slowdown.","body":"1/2 second is already pretty short.  Remember that it will take a certain amount of time to check the DOM, for the thrown exception to happen, for the driver to check the exception and ignore it... there is also travel time between browser-&gt;driver-&gt;your code and back again.. I don&#39;t know how long that is, but at a certain point you won&#39;t have a speed increase at all, but maybe even a slowdown."},{"owner":{"account_id":26686224,"reputation":13,"user_id":20295502,"display_name":"Bozidar Kostic"},"score":0,"creation_date":1674595487,"post_id":75223968,"comment_id":132747146,"body_markdown":"Thank you very much for your response! Can you expand on (or provide some resources I could analyze and read) regarding the potential slowdown happening? I am aware that there is a time needed to perform the checks and that it is not possible to cut that time, which I am okay with. The framework I am developing is data-driven, so there might be up to 1000 combinations in 1 flow, and about 50 locators per flow, so by my calculations this change (from 250ms to 10ms) would make each run of 1000 combinations 2.8h faster.","body":"Thank you very much for your response! Can you expand on (or provide some resources I could analyze and read) regarding the potential slowdown happening? I am aware that there is a time needed to perform the checks and that it is not possible to cut that time, which I am okay with. The framework I am developing is data-driven, so there might be up to 1000 combinations in 1 flow, and about 50 locators per flow, so by my calculations this change (from 250ms to 10ms) would make each run of 1000 combinations 2.8h faster."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1674596975,"post_id":75223968,"comment_id":132747550,"body_markdown":"each wait is only going to take as long as it needs to meet the expected condition.  Only if the element is never found would it take the full timeout period.  So you might be shaving some milliseconds but it wouldn&#39;t be predictable... those are sleeps inside a loop but the actual polling takes a certain amount of time....  I don&#39;t have any resources to cite, you should just do your own speed checks/benchmarks to see at what point you have diminishing returns.","body":"each wait is only going to take as long as it needs to meet the expected condition.  Only if the element is never found would it take the full timeout period.  So you might be shaving some milliseconds but it wouldn&#39;t be predictable... those are sleeps inside a loop but the actual polling takes a certain amount of time....  I don&#39;t have any resources to cite, you should just do your own speed checks/benchmarks to see at what point you have diminishing returns."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1674597704,"post_id":75223968,"comment_id":132747732,"body_markdown":"if the main concern is speed you might consider threading browser/driver pairs.  Or, if you can get way with it, using something more lightweight like HTMLUnit and thread that.","body":"if the main concern is speed you might consider threading browser/driver pairs.  Or, if you can get way with it, using something more lightweight like HTMLUnit and thread that."},{"owner":{"account_id":26686224,"reputation":13,"user_id":20295502,"display_name":"Bozidar Kostic"},"score":0,"creation_date":1674598885,"post_id":75223968,"comment_id":132748032,"body_markdown":"Multithreading is unfortunately not an option since this is an E2E integration testing framework, and some of the flows need to be done in order, due to the specific product needs. That is the main reason I am considering other avenues to shave off some time. I appreciate the time spent answering my question and replying to my comments!","body":"Multithreading is unfortunately not an option since this is an E2E integration testing framework, and some of the flows need to be done in order, due to the specific product needs. That is the main reason I am considering other avenues to shave off some time. I appreciate the time spent answering my question and replying to my comments!"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674600141,"creation_date":1674599062,"answer_id":75227902,"question_id":75223968,"body_markdown":"[**FluentWait**](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html)\r\n--------------\r\nAs per the documentation, [FluentWait](https://stackoverflow.com/questions/42275658/the-type-fluentwait-is-not-generic-it-cannot-be-parameterized-with-arguments-w) is the implementation of the [Wait](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/Wait.html) interface that may have its timeout and polling interval configured on the fly. Each FluentWait instance defines the maximum amount of time to wait for a condition, as well as the frequency with which to check the condition. Furthermore, the user may configure the wait to ignore specific types of exceptions whilst waiting, such as NoSuchElementExceptions when searching for an element on the page.\r\n\r\nSample Usage:\r\n\r\n    // Waiting 30 seconds for an element to be present on the page, checking\r\n    // for its presence once every 5 seconds.\r\n    Wait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\r\n        .withTimeout(Duration.ofSeconds(30L))\r\n        .pollingEvery(Duration.ofSeconds(5L))\r\n        .ignoring(NoSuchElementException.class);\r\n\r\n    WebElement foo = wait.until(new Function&lt;WebDriver, WebElement&gt;() {\r\n      public WebElement apply(WebDriver driver) {\r\n        return driver.findElement(By.id(&quot;foo&quot;));\r\n      }\r\n    });\r\n\r\nThe documentation also mention of a possible tradeoff as:\r\n\r\n&gt;This class makes no thread safety guarantees.\r\n\r\n\r\n----------\r\n\r\n\r\npollingEvery\r\n------------\r\nAgain, as per the dococumentation, [pollingEvery](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html#pollingEvery(java.time.Duration)) sets how often the condition should be evaluated. In realtime usecases, the interval may be greater as the cost of actually evaluating a condition function is not factored in. However the default polling interval is [DEFAULT_WAIT_DURATION](https://www.selenium.dev/selenium/docs/api/java/constant-values.html#org.openqa.selenium.support.ui.FluentWait.DEFAULT_SLEEP_TIMEOUT) which is defined as _**`500L`**_:\r\n\r\n![DEFAULT_SLEEP_TIMEOUT](https://i.stack.imgur.com/yFV4M.png)\r\n\r\n\r\n----------\r\n\r\n\r\nThis usecase\r\n------------\r\nConsidering the above mentioned aspects, I don&#39;t see any issues reducing the _`polling duration`_ from it&#39;s default value to `10ms` or even `5ms` which would reduce the framework execution time. The only concern being [_WebDriver is not thread-safe_](https://www.selenium.dev/documentation/legacy/selenium_2/faq/#q-is-webdriver-thread-safe).","title":"Are there potential drawbacks of ultra short polling duration in Fluent Wait in Selenium?","body":"<h2><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html\" rel=\"nofollow noreferrer\"><strong>FluentWait</strong></a></h2>\n<p>As per the documentation, <a href=\"https://stackoverflow.com/questions/42275658/the-type-fluentwait-is-not-generic-it-cannot-be-parameterized-with-arguments-w\">FluentWait</a> is the implementation of the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/Wait.html\" rel=\"nofollow noreferrer\">Wait</a> interface that may have its timeout and polling interval configured on the fly. Each FluentWait instance defines the maximum amount of time to wait for a condition, as well as the frequency with which to check the condition. Furthermore, the user may configure the wait to ignore specific types of exceptions whilst waiting, such as NoSuchElementExceptions when searching for an element on the page.</p>\n<p>Sample Usage:</p>\n<pre><code>// Waiting 30 seconds for an element to be present on the page, checking\n// for its presence once every 5 seconds.\nWait&lt;WebDriver&gt; wait = new FluentWait&lt;WebDriver&gt;(driver)\n    .withTimeout(Duration.ofSeconds(30L))\n    .pollingEvery(Duration.ofSeconds(5L))\n    .ignoring(NoSuchElementException.class);\n\nWebElement foo = wait.until(new Function&lt;WebDriver, WebElement&gt;() {\n  public WebElement apply(WebDriver driver) {\n    return driver.findElement(By.id(&quot;foo&quot;));\n  }\n});\n</code></pre>\n<p>The documentation also mention of a possible tradeoff as:</p>\n<blockquote>\n<p>This class makes no thread safety guarantees.</p>\n</blockquote>\n<hr />\n<h2>pollingEvery</h2>\n<p>Again, as per the dococumentation, <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/FluentWait.html#pollingEvery(java.time.Duration)\" rel=\"nofollow noreferrer\">pollingEvery</a> sets how often the condition should be evaluated. In realtime usecases, the interval may be greater as the cost of actually evaluating a condition function is not factored in. However the default polling interval is <a href=\"https://www.selenium.dev/selenium/docs/api/java/constant-values.html#org.openqa.selenium.support.ui.FluentWait.DEFAULT_SLEEP_TIMEOUT\" rel=\"nofollow noreferrer\">DEFAULT_WAIT_DURATION</a> which is defined as <em><strong><code>500L</code></strong></em>:</p>\n<p><img src=\"https://i.stack.imgur.com/yFV4M.png\" alt=\"DEFAULT_SLEEP_TIMEOUT\" /></p>\n<hr />\n<h2>This usecase</h2>\n<p>Considering the above mentioned aspects, I don't see any issues reducing the <em><code>polling duration</code></em> from it's default value to <code>10ms</code> or even <code>5ms</code> which would reduce the framework execution time. The only concern being <a href=\"https://www.selenium.dev/documentation/legacy/selenium_2/faq/#q-is-webdriver-thread-safe\" rel=\"nofollow noreferrer\"><em>WebDriver is not thread-safe</em></a>.</p>\n"}],"owner":{"account_id":26686224,"reputation":13,"user_id":20295502,"display_name":"Bozidar Kostic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75227902,"answer_count":1,"score":1,"last_activity_date":1674603770,"creation_date":1674575493,"question_id":75223968,"body_markdown":"When using FluentWait in Selenium, it is possible to configure the polling duration of the FluentWait\r\n\r\nAs far as I know, that is the frequency of checking if the element exists, for example\r\n\r\nSo, if the timeout is 3 seconds, and the polling duration set is 250 milliseconds, the driver will check for element 12 times before ultimately throwing an exception when it checks for the element the 13th time.\r\n\r\nTo my understanding, and by that logic, decreasing the polling duration makes the script perform better because it will check for the element more times\r\n\r\nBelow you can find my implementation of the FluentWait\r\n\r\n    public static void waitForElementWithDuration(By locator, Duration duration) {\r\n            FluentWait&lt;org.openqa.selenium.WebDriver&gt; wait = new FluentWait&lt;&gt;(Base.driver);\r\n            wait.withTimeout(duration)\r\n                .pollingEvery(ConfigurationManager.DEFAULT_POLLING_DURATION)\r\n                .ignoring(NoSuchElementException.class, ElementClickInterceptedException.class)\r\n                .until(ExpectedConditions.and(\r\n                       ExpectedConditions.presenceOfElementLocated(locator),\r\n                       ExpectedConditions.elementToBeClickable(locator)));\r\n    }\r\n\r\nI am thinking about making the default polling duration in my configuration manager class shorter (right now it is at 250ms)\r\nWould there be any potential drawbacks of me setting the polling duration to 10ms? \r\nAs the flow I am automating is rather long, and needs to be repeated for many times, implementing a shorter polling duration would make the total time needed to run the tests much shorter\r\n\r\nI have been working as a Test Automation Engineer for 1.5 years, so I am still new, and would appreciate some help from more experienced Test Automation Engineers","title":"Are there potential drawbacks of ultra short polling duration in Fluent Wait in Selenium?","body":"<p>When using FluentWait in Selenium, it is possible to configure the polling duration of the FluentWait</p>\n<p>As far as I know, that is the frequency of checking if the element exists, for example</p>\n<p>So, if the timeout is 3 seconds, and the polling duration set is 250 milliseconds, the driver will check for element 12 times before ultimately throwing an exception when it checks for the element the 13th time.</p>\n<p>To my understanding, and by that logic, decreasing the polling duration makes the script perform better because it will check for the element more times</p>\n<p>Below you can find my implementation of the FluentWait</p>\n<pre><code>public static void waitForElementWithDuration(By locator, Duration duration) {\n        FluentWait&lt;org.openqa.selenium.WebDriver&gt; wait = new FluentWait&lt;&gt;(Base.driver);\n        wait.withTimeout(duration)\n            .pollingEvery(ConfigurationManager.DEFAULT_POLLING_DURATION)\n            .ignoring(NoSuchElementException.class, ElementClickInterceptedException.class)\n            .until(ExpectedConditions.and(\n                   ExpectedConditions.presenceOfElementLocated(locator),\n                   ExpectedConditions.elementToBeClickable(locator)));\n}\n</code></pre>\n<p>I am thinking about making the default polling duration in my configuration manager class shorter (right now it is at 250ms)\nWould there be any potential drawbacks of me setting the polling duration to 10ms?\nAs the flow I am automating is rather long, and needs to be repeated for many times, implementing a shorter polling duration would make the total time needed to run the tests much shorter</p>\n<p>I have been working as a Test Automation Engineer for 1.5 years, so I am still new, and would appreciate some help from more experienced Test Automation Engineers</p>\n"},{"tags":["java","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674602536,"creation_date":1674602536,"answer_id":75228282,"question_id":75225349,"body_markdown":"I think what you can do is change your topology to something like this:\r\n\r\n`stream.transform(() -&gt; new MyTransformer()).to(&quot;out-topic&quot;, keySerde, valueSerde)`\r\n\r\nand the `Transformer` instance would look something like this:\r\n\r\n```\r\nMyTransformer&lt;key, value&gt; implements Transformer&lt;key, value&gt; {\r\n  ProcessorContext context;\r\n\r\n void init(ProcessorContext context) {\r\n    this.context = context;\r\n }\r\n\r\n Void&lt;value&gt; transform(key, value) {\r\n    List&lt;key&gt; keys  = util.fetchKeys(key);\r\n    List&lt;value&gt; values = util.fetchValues(value);\r\n    //assumes both lists have the same length\r\n    for(int i = 0; i &lt; keys.size(); i++) {\r\n      //forwards each key-value to the sink node\r\n      context.forward(keys.get(i), values.get(i)\r\n    }\r\n  return null; //filtered out by Kafka Streams - not forwarded\r\n\r\n  void close() { }\r\n}\r\n```\r\n\r\nIf you are using Kafka Streams v. 3.0 or higher, `transform` is deprecated, so in that case, swap out `transform` for the newer [process][1] operator but overall, the principal is the same.\r\n\r\nHTH,\r\nBill\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.apache.kafka/kafka-streams/3.3.2/org/apache/kafka/streams/kstream/KStream.html#process-org.apache.kafka.streams.processor.api.ProcessorSupplier-org.apache.kafka.streams.kstream.Named-java.lang.String...-","title":"How to produce individual key and values to kafka topic from the list of keys and values","body":"<p>I think what you can do is change your topology to something like this:</p>\n<p><code>stream.transform(() -&gt; new MyTransformer()).to(&quot;out-topic&quot;, keySerde, valueSerde)</code></p>\n<p>and the <code>Transformer</code> instance would look something like this:</p>\n<pre><code>MyTransformer&lt;key, value&gt; implements Transformer&lt;key, value&gt; {\n  ProcessorContext context;\n\n void init(ProcessorContext context) {\n    this.context = context;\n }\n\n Void&lt;value&gt; transform(key, value) {\n    List&lt;key&gt; keys  = util.fetchKeys(key);\n    List&lt;value&gt; values = util.fetchValues(value);\n    //assumes both lists have the same length\n    for(int i = 0; i &lt; keys.size(); i++) {\n      //forwards each key-value to the sink node\n      context.forward(keys.get(i), values.get(i)\n    }\n  return null; //filtered out by Kafka Streams - not forwarded\n\n  void close() { }\n}\n</code></pre>\n<p>If you are using Kafka Streams v. 3.0 or higher, <code>transform</code> is deprecated, so in that case, swap out <code>transform</code> for the newer <a href=\"https://javadoc.io/static/org.apache.kafka/kafka-streams/3.3.2/org/apache/kafka/streams/kstream/KStream.html#process-org.apache.kafka.streams.processor.api.ProcessorSupplier-org.apache.kafka.streams.kstream.Named-java.lang.String...-\" rel=\"nofollow noreferrer\">process</a> operator but overall, the principal is the same.</p>\n<p>HTH,\nBill</p>\n"}],"owner":{"account_id":5369253,"reputation":21,"user_id":4278252,"display_name":"Naga Ramesh Busam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674602536,"creation_date":1674582593,"question_id":75225349,"body_markdown":"`KStream&lt;List&lt;keys&gt;, List&lt;values&gt;&gt; mapValues = stream.selectKey((key, value) -&gt; \r\n\t\t\t\t\tutil.fetchKeys(key, value)) \r\n\t\t\t\t.mapValues(value -&gt; \r\n\t\t\t\t\tutil.fetchValues(value)) ;`\r\n\r\n\r\nAbove is my code snippet. Here I want to loop through each key and value, produce to my topic using\r\n\r\n`.to(&quot;out-topic&quot;, keySerdes, valueSerdes)`.\r\n\r\nHere keySerdes, valueSerdes are in avro converted\r\n\r\nPlease let me know, if there is any way to get this done.\r\n\r\nThanks in advance!\r\n\r\nTried flattening to get the keys and values didn&#39;t work for me","title":"How to produce individual key and values to kafka topic from the list of keys and values","body":"<p><code>KStream&lt;List&lt;keys&gt;, List&lt;values&gt;&gt; mapValues = stream.selectKey((key, value) -&gt;  util.fetchKeys(key, value))  .mapValues(value -&gt;  util.fetchValues(value)) ;</code></p>\n<p>Above is my code snippet. Here I want to loop through each key and value, produce to my topic using</p>\n<p><code>.to(&quot;out-topic&quot;, keySerdes, valueSerdes)</code>.</p>\n<p>Here keySerdes, valueSerdes are in avro converted</p>\n<p>Please let me know, if there is any way to get this done.</p>\n<p>Thanks in advance!</p>\n<p>Tried flattening to get the keys and values didn't work for me</p>\n"},{"tags":["java","docker","devops","keycloak","quarkus"],"comments":[{"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"score":0,"creation_date":1674732262,"post_id":75228225,"comment_id":132778536,"body_markdown":"I&#39;ve tried this with https://github.com/quarkusio/quarkus-quickstarts/tree/main/security-keycloak-authorization-quickstart, copied your configurations, and it worked as expected. Can you provide a reproducer?","body":"I&#39;ve tried this with <a href=\"https://github.com/quarkusio/quarkus-quickstarts/tree/main/security-keycloak-authorization-quickstart\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus-quickstarts/tree/main/&hellip;</a>, copied your configurations, and it worked as expected. Can you provide a reproducer?"}],"owner":{"account_id":17922090,"reputation":305,"user_id":13021632,"display_name":"MansouriAla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674601902,"creation_date":1674601902,"question_id":75228225,"body_markdown":"**TOPIC**\r\n\r\nI&#39;m running a quarkus application and I want to connect it with a keycloak server deployed on another host.\r\n\r\nthe keycloak server is working with other services means no problems in there.\r\n\r\nThe keycloak server is exposing this hostname: `flitch.hostname.com`. So the url to connect to it is\r\n`QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname`\r\n\r\n***When running the quarkus project locally everything works fine, I can manage users, auth, tokens...***.\r\n\r\n**PROBLEM**\r\n\r\nBut the when creating an image and running it on a the docker container it throws an error: `&#39;quarkus.oidc.auth-server-url&#39; property must be configured`\r\n\r\n**DEBUGGING**\r\n\r\n- `QUARKUS_OIDC_ENABLED=false` ( disabled the OIDC ) then running the project in the container, results to server is running well, in the mean time I&#39;ve sent a curl request from the container bash to the `QUARKUS_OIDC_AUTH_SERVER_URL` it returns a success reponse with the appropriate json response. also tried `printenv` inside the container and all env vars exists and are set correctly.\r\n- Changed the correct url to any other url e.g.`http://flitch.hostame.com/auth/realms/realmname/` in the container it logs an error message saying the server url is unreachable or denied, alongside the old error of `&#39;quarkus.oidc.auth-server-url&#39; property must be configured`\r\n\r\n**FILES**\r\n\r\n`application.properties`\r\n    \r\n\r\n    # OIDC Configuration\r\n        quarkus.keycloak.devservices.realm-path=${QUARKUS_KEYCLOAK_DEVSERVICES_REALM_PATH}\r\n    quarkus.oidc.client-id=${QUARKUS_OIDC_CLIENT_ID}\r\n    quarkus.oidc.credentials.jwt.signature-algorithm=${QUARKUS_OIDC_CREDENTIALS_JWT_SIGNATURE_ALGORITHM}\r\n    quarkus.oidc.enabled=${QUARKUS_OIDC_ENABLED}\r\n    quarkus.oidc.auth-role-mapper.authentication.verify-access-token=${QUARKUS_OIDC_AUTH_ROLE_MAPPER_AUTHENTICATION_VERIFY_ACCESS_TOKEN}\r\n    quarkus.oidc.auth-server-url=${QUARKUS_OIDC_AUTH_SERVER_URL}\r\n    %prod.quarkus.oidc.auth-server-url=${QUARKUS_OIDC_AUTH_SERVER_URL}\r\n    %dev.quarkus.oidc.auth-server-url=${QUARKUS_OIDC_AUTH_SERVER_URL}\r\n    %test.quarkus.oidc.auth-server-url=${QUARKUS_OIDC_AUTH_SERVER_URL}\r\n    quarkus.oidc.auth-role-mapper.authentication.cookie-force-secure=${QUARKUS_OIDC_AUTH_ROLE_MAPPER_AUTHENTICATION_COOKIE_FORCE_SECURE}\r\n\r\n`.env`\r\n\r\n    QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname\r\n    _DEV_QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname\r\n    _TEST_QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname\r\n    _PROD_QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname\r\n    QUARKUS_OIDC_CLIENT_ID=account\r\n    QUARKUS_OIDC_CREDENTIALS_JWT_SIGNATURE_ALGORITHM=****\r\n    QUARKUS_OIDC_ENABLED=true\r\n    QUARKUS_OIDC_AUTH_ROLE_MAPPER_AUTHENTICATION_VERIFY_ACCESS_TOKEN=true\r\n    QUARKUS_LIVE_RELOAD_INSTRUMENTATION=true\r\n    JAVAX_VALIDATION_ENABLE=true\r\n    QUARKUS_CONFIG_PATH=.env\r\n    QUARKUS_OIDC_AUTH_ROLE_MAPPER_AUTHENTICATION_COOKIE_FORCE_SECURE=false\r\n    QUARKUS_KEYCLOAK_DEVSERVICES_REALM_PATH=keycloak.json\r\n    QUARKUS_KEYCLOAK_REALM=realmname\r\n    QUARKUS_KEYCLOAK_DEVSERVICES_SHOW_LOGS=true\r\n\r\n`docker-compose.yml`\r\n\r\n    version: &quot;3.7&quot;\r\n    services:\r\n      quarkus:\r\n        image: quarkus/quarkus-project\r\n        container_name: quarkus_project_container\r\n        restart: always\r\n        network_mode: &quot;host&quot;\r\n        build:\r\n          context: $PWD\r\n          dockerfile: ./src/main/docker/Dockerfile.jvm\r\n        env_file: .env\r\n        ports:\r\n          - 5005:5005\r\n          - 8080:8080\r\nAnd docker file is the default one generated by quarkus:\r\n\r\n    FROM registry.access.redhat.com/ubi8/openjdk-17:1.14\r\n    \r\n    ENV LANGUAGE=&#39;en_US:en&#39;\r\n    \r\n    # We make four distinct layers so if there are application changes the library layers can be re-used\r\n    COPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\r\n    COPY --chown=185 target/quarkus-app/*.jar /deployments/\r\n    COPY --chown=185 target/quarkus-app/app/ /deployments/app/\r\n    COPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\r\n    \r\n    EXPOSE 8080\r\n    USER 185\r\n    ENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Ddebug -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\n    ENV JAVA_DEBUG=&quot;true&quot;\r\n    ENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;\r\n\r\n","title":"&#39;quarkus.oidc.auth-server-url&#39; property must be configured. only when running the quarkus app on docker","body":"<p><strong>TOPIC</strong></p>\n<p>I'm running a quarkus application and I want to connect it with a keycloak server deployed on another host.</p>\n<p>the keycloak server is working with other services means no problems in there.</p>\n<p>The keycloak server is exposing this hostname: <code>flitch.hostname.com</code>. So the url to connect to it is\n<code>QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname</code></p>\n<p><em><strong>When running the quarkus project locally everything works fine, I can manage users, auth, tokens...</strong></em>.</p>\n<p><strong>PROBLEM</strong></p>\n<p>But the when creating an image and running it on a the docker container it throws an error: <code>'quarkus.oidc.auth-server-url' property must be configured</code></p>\n<p><strong>DEBUGGING</strong></p>\n<ul>\n<li><code>QUARKUS_OIDC_ENABLED=false</code> ( disabled the OIDC ) then running the project in the container, results to server is running well, in the mean time I've sent a curl request from the container bash to the <code>QUARKUS_OIDC_AUTH_SERVER_URL</code> it returns a success reponse with the appropriate json response. also tried <code>printenv</code> inside the container and all env vars exists and are set correctly.</li>\n<li>Changed the correct url to any other url e.g.<code>http://flitch.hostame.com/auth/realms/realmname/</code> in the container it logs an error message saying the server url is unreachable or denied, alongside the old error of <code>'quarkus.oidc.auth-server-url' property must be configured</code></li>\n</ul>\n<p><strong>FILES</strong></p>\n<p><code>application.properties</code></p>\n<pre><code># OIDC Configuration\n    quarkus.keycloak.devservices.realm-path=${QUARKUS_KEYCLOAK_DEVSERVICES_REALM_PATH}\nquarkus.oidc.client-id=${QUARKUS_OIDC_CLIENT_ID}\nquarkus.oidc.credentials.jwt.signature-algorithm=${QUARKUS_OIDC_CREDENTIALS_JWT_SIGNATURE_ALGORITHM}\nquarkus.oidc.enabled=${QUARKUS_OIDC_ENABLED}\nquarkus.oidc.auth-role-mapper.authentication.verify-access-token=${QUARKUS_OIDC_AUTH_ROLE_MAPPER_AUTHENTICATION_VERIFY_ACCESS_TOKEN}\nquarkus.oidc.auth-server-url=${QUARKUS_OIDC_AUTH_SERVER_URL}\n%prod.quarkus.oidc.auth-server-url=${QUARKUS_OIDC_AUTH_SERVER_URL}\n%dev.quarkus.oidc.auth-server-url=${QUARKUS_OIDC_AUTH_SERVER_URL}\n%test.quarkus.oidc.auth-server-url=${QUARKUS_OIDC_AUTH_SERVER_URL}\nquarkus.oidc.auth-role-mapper.authentication.cookie-force-secure=${QUARKUS_OIDC_AUTH_ROLE_MAPPER_AUTHENTICATION_COOKIE_FORCE_SECURE}\n</code></pre>\n<p><code>.env</code></p>\n<pre><code>QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname\n_DEV_QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname\n_TEST_QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname\n_PROD_QUARKUS_OIDC_AUTH_SERVER_URL=http://flitch.hostame.com/realms/realmname\nQUARKUS_OIDC_CLIENT_ID=account\nQUARKUS_OIDC_CREDENTIALS_JWT_SIGNATURE_ALGORITHM=****\nQUARKUS_OIDC_ENABLED=true\nQUARKUS_OIDC_AUTH_ROLE_MAPPER_AUTHENTICATION_VERIFY_ACCESS_TOKEN=true\nQUARKUS_LIVE_RELOAD_INSTRUMENTATION=true\nJAVAX_VALIDATION_ENABLE=true\nQUARKUS_CONFIG_PATH=.env\nQUARKUS_OIDC_AUTH_ROLE_MAPPER_AUTHENTICATION_COOKIE_FORCE_SECURE=false\nQUARKUS_KEYCLOAK_DEVSERVICES_REALM_PATH=keycloak.json\nQUARKUS_KEYCLOAK_REALM=realmname\nQUARKUS_KEYCLOAK_DEVSERVICES_SHOW_LOGS=true\n</code></pre>\n<p><code>docker-compose.yml</code></p>\n<pre><code>version: &quot;3.7&quot;\nservices:\n  quarkus:\n    image: quarkus/quarkus-project\n    container_name: quarkus_project_container\n    restart: always\n    network_mode: &quot;host&quot;\n    build:\n      context: $PWD\n      dockerfile: ./src/main/docker/Dockerfile.jvm\n    env_file: .env\n    ports:\n      - 5005:5005\n      - 8080:8080\n</code></pre>\n<p>And docker file is the default one generated by quarkus:</p>\n<pre><code>FROM registry.access.redhat.com/ubi8/openjdk-17:1.14\n\nENV LANGUAGE='en_US:en'\n\n# We make four distinct layers so if there are application changes the library layers can be re-used\nCOPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\n\nEXPOSE 8080\nUSER 185\nENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Ddebug -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\nENV JAVA_DEBUG=&quot;true&quot;\nENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;\n</code></pre>\n"},{"tags":["java","regex","datetime"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1674598477,"post_id":75227767,"comment_id":132747927,"body_markdown":"Something like this? `^\\d\\d([-/])\\d\\d\\1\\d{4} \\d\\d:\\d\\d [AP]M ET$` https://regex101.com/r/nZC9PB/1","body":"Something like this? <code>^\\d\\d([-&#47;])\\d\\d\\1\\d{4} \\d\\d:\\d\\d [AP]M ET$</code> <a href=\"https://regex101.com/r/nZC9PB/1\" rel=\"nofollow noreferrer\">regex101.com/r/nZC9PB/1</a>"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1674598612,"post_id":75227767,"comment_id":132747966,"body_markdown":"How is this regex used? Does _...is written using..._ really referring to parsing?","body":"How is this regex used? Does <i>...is written using...</i> really referring to parsing?"},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":2,"creation_date":1674599428,"post_id":75227767,"comment_id":132748153,"body_markdown":"You should really use `java.time.format.DateTimeFormatter` instead of regex.","body":"You should really use <code>java.time.format.DateTimeFormatter</code> instead of regex."},{"owner":{"account_id":24830235,"reputation":485,"user_id":18709498,"display_name":"dc-ddfe"},"score":1,"creation_date":1674600971,"post_id":75227767,"comment_id":132748527,"body_markdown":"I would suggest you read up on regex first. The sample regex you&#39;ve given matches a date format of `2023-06-01T11:59:00Z` which really doesn&#39;t bear any resemblance to the format you&#39;re trying to match.","body":"I would suggest you read up on regex first. The sample regex you&#39;ve given matches a date format of <code>2023-06-01T11:59:00Z</code> which really doesn&#39;t bear any resemblance to the format you&#39;re trying to match."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674641814,"post_id":75227767,"comment_id":132756182,"body_markdown":"Is that 06 January or June 01 or one of each?","body":"Is that 06 January or June 01 or one of each?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674641956,"post_id":75227767,"comment_id":132756229,"body_markdown":"Don’t use 11:59 PM to represent the end of the day. Use 00:00 AM on the following day. That is when the day ends.","body":"Don’t use 11:59 PM to represent the end of the day. Use 00:00 AM on the following day. That is when the day ends."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674601545,"creation_date":1674600218,"answer_id":75228046,"question_id":75227767,"body_markdown":"# *java.time*\r\n\r\nRather than use [regex][1], you can use *java.time* classes. \r\n\r\nSpecify a `DateTimeFormatter` object for each of your expected inputs. Attempt to parse the input with each of these. If `DateTimeParseException` is thrown, you know the input does not match that formatter — move on to the next formatter. If no exception, then you have a match. If all of the formatters throw the exception, then you have an unexpected invalid input.\r\n\r\nIn most situations, you should *never* [swallow an exception][2]. But here is an exception to the rule; here it makes sense. We expect at least 2 of our 3 formatters will fail to parse, and possibly all three. \r\n\r\nYour second case is peculiar in that it combines a time-of-day with a pseudo time zone, `ET`. Java does include a class [`OffsetTime`][3] for a time combined with an offset-from-UTC. But (a) that class makes no sense logically; I presume that class was included merely for compatibility with the same illogical data type defined in the [SQL standard][4]. And, (b) your input uses a pseudo [time zone][5], not an [offset][6]. To resolve this conundrum, I use the `LocalTime` class which represents solely a time-of-day, no date, no time zone, no offset. \r\n\r\n```java\r\npackage work.basil.example.time;\r\n\r\nimport java.time.format.*;\r\nimport java.time.*;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class App5\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App5 app = new App5();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        List &lt; String &gt; inputs =\r\n                List.of(\r\n                        &quot;06-01-2023&quot; ,\r\n                        &quot;11:59 PM ET&quot; ,\r\n                        &quot;06/01/2023 11:59 PM ET&quot; ,\r\n                        &quot;bogus&quot;\r\n                );\r\n        for ( String input : inputs )\r\n        {\r\n            // LocalDate\r\n            try\r\n            {\r\n                LocalDate localDate = LocalDate.parse( input , DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) );\r\n                System.out.println( &quot;Found a match for LocalDate: &quot; + localDate );\r\n                continue;\r\n            }\r\n            catch ( DateTimeParseException e )\r\n            {\r\n                // Ignore here. Try other formatters.\r\n            }\r\n\r\n            // LocalTime\r\n            try\r\n            {\r\n                LocalTime localTime = LocalTime.parse( input , DateTimeFormatter.ofPattern( &quot;hh:mm a v&quot; ).withLocale( Locale.US ) );\r\n                System.out.println( &quot;Found a match for OffsetTime: &quot; + localTime );\r\n                continue;\r\n            }\r\n            catch ( DateTimeParseException e )\r\n            {\r\n                // Ignore here. Try other formatters.\r\n            }\r\n\r\n            // ZonedDateTime\r\n            try\r\n            {\r\n                ZonedDateTime zdt = ZonedDateTime.parse( input , DateTimeFormatter.ofPattern( &quot;MM/dd/uuuu hh:mm a v&quot; ).withLocale( Locale.US ) );\r\n                System.out.println( &quot;Found a match for ZonedDateTime: &quot; + zdt );\r\n                continue;\r\n            }\r\n            catch ( DateTimeParseException e )\r\n            {\r\n                // Ignore here. Try other formatters.\r\n            }\r\n\r\n            // Reaching this point means the input in unexpected, invalid. \r\n            System.out.println( &quot;ERROR - Input is invalid: &quot; + input );\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nFound a match for LocalDate: 2023-01-06\r\nFound a match for OffsetTime: 23:59\r\nFound a match for ZonedDateTime: 2023-06-01T23:59-04:00[America/New_York]\r\nERROR - Input is invalid: bogus\r\n```\r\n\r\n## ISO 8601\r\n\r\nFYI, such custom localized formats are a terrible way to communicate date-time values textually. Educate the publisher of your data about the virtues of using standard [ISO 8601][7] formats for data exchange and data storage.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Regular_expression\r\n  [2]: https://en.wikipedia.org/wiki/Error_hiding\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetTime.html\r\n  [4]: https://en.wikipedia.org/wiki/SQL\r\n  [5]: https://en.wikipedia.org/wiki/Time_zone\r\n  [6]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [7]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to validate date and time format with time zone?","body":"<h1><em>java.time</em></h1>\n<p>Rather than use <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regex</a>, you can use <em>java.time</em> classes.</p>\n<p>Specify a <code>DateTimeFormatter</code> object for each of your expected inputs. Attempt to parse the input with each of these. If <code>DateTimeParseException</code> is thrown, you know the input does not match that formatter — move on to the next formatter. If no exception, then you have a match. If all of the formatters throw the exception, then you have an unexpected invalid input.</p>\n<p>In most situations, you should <em>never</em> <a href=\"https://en.wikipedia.org/wiki/Error_hiding\" rel=\"nofollow noreferrer\">swallow an exception</a>. But here is an exception to the rule; here it makes sense. We expect at least 2 of our 3 formatters will fail to parse, and possibly all three.</p>\n<p>Your second case is peculiar in that it combines a time-of-day with a pseudo time zone, <code>ET</code>. Java does include a class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetTime.html\" rel=\"nofollow noreferrer\"><code>OffsetTime</code></a> for a time combined with an offset-from-UTC. But (a) that class makes no sense logically; I presume that class was included merely for compatibility with the same illogical data type defined in the <a href=\"https://en.wikipedia.org/wiki/SQL\" rel=\"nofollow noreferrer\">SQL standard</a>. And, (b) your input uses a pseudo <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time zone</a>, not an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset</a>. To resolve this conundrum, I use the <code>LocalTime</code> class which represents solely a time-of-day, no date, no time zone, no offset.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.time;\n\nimport java.time.format.*;\nimport java.time.*;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class App5\n{\n    public static void main ( String[] args )\n    {\n        App5 app = new App5();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        List &lt; String &gt; inputs =\n                List.of(\n                        &quot;06-01-2023&quot; ,\n                        &quot;11:59 PM ET&quot; ,\n                        &quot;06/01/2023 11:59 PM ET&quot; ,\n                        &quot;bogus&quot;\n                );\n        for ( String input : inputs )\n        {\n            // LocalDate\n            try\n            {\n                LocalDate localDate = LocalDate.parse( input , DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) );\n                System.out.println( &quot;Found a match for LocalDate: &quot; + localDate );\n                continue;\n            }\n            catch ( DateTimeParseException e )\n            {\n                // Ignore here. Try other formatters.\n            }\n\n            // LocalTime\n            try\n            {\n                LocalTime localTime = LocalTime.parse( input , DateTimeFormatter.ofPattern( &quot;hh:mm a v&quot; ).withLocale( Locale.US ) );\n                System.out.println( &quot;Found a match for OffsetTime: &quot; + localTime );\n                continue;\n            }\n            catch ( DateTimeParseException e )\n            {\n                // Ignore here. Try other formatters.\n            }\n\n            // ZonedDateTime\n            try\n            {\n                ZonedDateTime zdt = ZonedDateTime.parse( input , DateTimeFormatter.ofPattern( &quot;MM/dd/uuuu hh:mm a v&quot; ).withLocale( Locale.US ) );\n                System.out.println( &quot;Found a match for ZonedDateTime: &quot; + zdt );\n                continue;\n            }\n            catch ( DateTimeParseException e )\n            {\n                // Ignore here. Try other formatters.\n            }\n\n            // Reaching this point means the input in unexpected, invalid. \n            System.out.println( &quot;ERROR - Input is invalid: &quot; + input );\n        }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Found a match for LocalDate: 2023-01-06\nFound a match for OffsetTime: 23:59\nFound a match for ZonedDateTime: 2023-06-01T23:59-04:00[America/New_York]\nERROR - Input is invalid: bogus\n</code></pre>\n<h2>ISO 8601</h2>\n<p>FYI, such custom localized formats are a terrible way to communicate date-time values textually. Educate the publisher of your data about the virtues of using standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for data exchange and data storage.</p>\n"}],"owner":{"account_id":25337796,"reputation":25,"user_id":19156645,"display_name":"iDan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674601545,"creation_date":1674597979,"question_id":75227767,"body_markdown":"I need to make sure that my date is written using one of the following formats:\r\n**06-01-2023 11:59 PM ET** or **06/01/2023 11:59 PM ET**\r\n\r\n\r\n\r\nI tried to use the following regex, but it didn&#39;t work out: \r\n```\r\n^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2})Z$\r\n```\r\n\r\nCan somebody please help me with regex and let me know how can I achieve the desired format for my date and time?\r\n","title":"How to validate date and time format with time zone?","body":"<p>I need to make sure that my date is written using one of the following formats:\n<strong>06-01-2023 11:59 PM ET</strong> or <strong>06/01/2023 11:59 PM ET</strong></p>\n<p>I tried to use the following regex, but it didn't work out:</p>\n<pre><code>^(\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2})Z$\n</code></pre>\n<p>Can somebody please help me with regex and let me know how can I achieve the desired format for my date and time?</p>\n"},{"tags":["java","spring","spring-boot","canonicalization"],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1674600964,"creation_date":1674593484,"question_id":75227163,"body_markdown":"I have a bunch of Spring configuration files in various formats from various projects. I am doing some analytics on the combined merged results of the properties files. \r\n\r\nSo I would like to parse out the hierarchy of each file (yaml, json and properties files).\r\n\r\nBut the trick is I need to convert each property key into canonical form before I store it into the data structure. because of this stuff https://github.com/spring-projects/spring-boot/wiki/Canonical-properties\r\n\r\nNamely:\r\n\r\n```\r\nspring.jpa.database-platform=mysql\r\nspring.jpa.databasePlatform=mysql\r\nspring.JPA.database_platform=mysql\r\n```\r\n\r\nEach of these properties is the exact same.\r\n\r\nSo the tricky part here is that each property key needs to be converted to canonical form before doing any sort of comparison.\r\n\r\nIs there a Spring-friendly-way to convert keys to and from the canonical form? \r\n\r\nExamples:\r\n\r\n`databasePlatform` -&gt; `database-platform`\r\n`dataBasePlatform` -&gt; `data-base-platform`\r\n\r\nBecause I have found random canonical string snippets on the internet and none of them seem to work quite like Spring&#39;s does. \r\n\r\nAny advise how to proceed here is welcome thanks.\r\n\r\nHere is what I&#39;ve found so far:\r\n\r\n```\r\npublic String convertToCanonicalForm(String key) {\r\n  return key.replaceAll(&quot;(.)(\\\\p{Upper}+|\\\\d+)&quot;, &quot;$1-$2&quot;).toLowerCase();\r\n}\r\n```\r\n\r\nbut I&#39;m not sure about some of the edge cases. How do you handle `abc123` is it `abc-123` or `abc123` ? Or what about `a123` is that `a-123` or just `a123`? Or what about `A123` is that `a-123` or `a123`? etc. \r\n\r\n\r\nUPDATE: I found a better function here, but not sure if this is adequate: \r\nhttps://stackoverflow.com/a/70226943/1174024\r\n```\r\n\tpublic String convertToCanonicalForm(String key) {\r\n\t\treturn key.replaceAll(&quot;([a-z])([A-Z])&quot;, &quot;$1-$2&quot;).toLowerCase();\r\n\t}\r\n```","title":"Spring boot - converting to and from canonical form of property names maintaining nesting?","body":"<p>I have a bunch of Spring configuration files in various formats from various projects. I am doing some analytics on the combined merged results of the properties files.</p>\n<p>So I would like to parse out the hierarchy of each file (yaml, json and properties files).</p>\n<p>But the trick is I need to convert each property key into canonical form before I store it into the data structure. because of this stuff <a href=\"https://github.com/spring-projects/spring-boot/wiki/Canonical-properties\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Canonical-properties</a></p>\n<p>Namely:</p>\n<pre><code>spring.jpa.database-platform=mysql\nspring.jpa.databasePlatform=mysql\nspring.JPA.database_platform=mysql\n</code></pre>\n<p>Each of these properties is the exact same.</p>\n<p>So the tricky part here is that each property key needs to be converted to canonical form before doing any sort of comparison.</p>\n<p>Is there a Spring-friendly-way to convert keys to and from the canonical form?</p>\n<p>Examples:</p>\n<p><code>databasePlatform</code> -&gt; <code>database-platform</code>\n<code>dataBasePlatform</code> -&gt; <code>data-base-platform</code></p>\n<p>Because I have found random canonical string snippets on the internet and none of them seem to work quite like Spring's does.</p>\n<p>Any advise how to proceed here is welcome thanks.</p>\n<p>Here is what I've found so far:</p>\n<pre><code>public String convertToCanonicalForm(String key) {\n  return key.replaceAll(&quot;(.)(\\\\p{Upper}+|\\\\d+)&quot;, &quot;$1-$2&quot;).toLowerCase();\n}\n</code></pre>\n<p>but I'm not sure about some of the edge cases. How do you handle <code>abc123</code> is it <code>abc-123</code> or <code>abc123</code> ? Or what about <code>a123</code> is that <code>a-123</code> or just <code>a123</code>? Or what about <code>A123</code> is that <code>a-123</code> or <code>a123</code>? etc.</p>\n<p>UPDATE: I found a better function here, but not sure if this is adequate:\n<a href=\"https://stackoverflow.com/a/70226943/1174024\">https://stackoverflow.com/a/70226943/1174024</a></p>\n<pre><code>    public String convertToCanonicalForm(String key) {\n        return key.replaceAll(&quot;([a-z])([A-Z])&quot;, &quot;$1-$2&quot;).toLowerCase();\n    }\n</code></pre>\n"},{"tags":["java","spring","vue.js","authentication"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674641808,"post_id":75228059,"comment_id":132756179,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27613592,"reputation":1,"user_id":21076153,"display_name":"Chris F"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674600375,"creation_date":1674600375,"question_id":75228059,"body_markdown":"I am in the process of connecting a Vue frontend with a Java Spring backend, deployed via Google Cloud. I can&#39;t seem to figure out how to incorporate Google Identity to secure both backend and frontend.\r\n\r\nDo you have any ideas of a good solution for using GCP Identity that authenticates and authorize access to both backend and frontend?\r\n\r\nTried to research the matter, but can&#39;t find a direct solution to the problem.","title":"Spring + Vue + GCP auth","body":"<p>I am in the process of connecting a Vue frontend with a Java Spring backend, deployed via Google Cloud. I can't seem to figure out how to incorporate Google Identity to secure both backend and frontend.</p>\n<p>Do you have any ideas of a good solution for using GCP Identity that authenticates and authorize access to both backend and frontend?</p>\n<p>Tried to research the matter, but can't find a direct solution to the problem.</p>\n"},{"tags":["java","spring","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6145098,"reputation":599,"user_id":4791305,"accept_rate":67,"display_name":"Ivan Timoshin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492625217,"creation_date":1492625217,"answer_id":43503093,"question_id":43502232,"body_markdown":"It seems like you haven&#39;t included the `javax.servlet.jar` library in your project. \r\n\r\nIf you&#39;re not using any dependency managers, you should add &#39;javax.servlet.jar&#39; file to your classpath manually with Intellij IDEA: Project Structure (Ctrl+Alt+Shift+S) -&gt; Libraries -&gt; New Project Library -&gt; Java. This jar-file can be downloaded here: http://central.maven.org/maven2/javax/servlet/javax.servlet-api/3.0.1/javax.servlet-api-3.0.1.jar\r\n\r\nIf you&#39;re using Maven, then just add this dependency to maven pom.xml file.\r\n\r\n  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n","title":"JavaConfig : The type javax.servlet.ServletContext and javax.servlet.ServletException cannot be resolved","body":"<p>It seems like you haven't included the <code>javax.servlet.jar</code> library in your project. </p>\n\n<p>If you're not using any dependency managers, you should add 'javax.servlet.jar' file to your classpath manually with Intellij IDEA: Project Structure (Ctrl+Alt+Shift+S) -> Libraries -> New Project Library -> Java. This jar-file can be downloaded here: <a href=\"http://central.maven.org/maven2/javax/servlet/javax.servlet-api/3.0.1/javax.servlet-api-3.0.1.jar\" rel=\"noreferrer\">http://central.maven.org/maven2/javax/servlet/javax.servlet-api/3.0.1/javax.servlet-api-3.0.1.jar</a></p>\n\n<p>If you're using Maven, then just add this dependency to maven pom.xml file.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27613625,"reputation":1,"user_id":21076177,"display_name":"Soslan Zagagov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674600336,"creation_date":1674600336,"answer_id":75228055,"question_id":43502232,"body_markdown":"ran into a similar problem, I already had a dependency implemented\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHowever, the problem was solved by changing the version of\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"JavaConfig : The type javax.servlet.ServletContext and javax.servlet.ServletException cannot be resolved","body":"<p>ran into a similar problem, I already had a dependency implemented</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However, the problem was solved by changing the version of</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;6.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10561661,"reputation":205,"user_id":7781262,"accept_rate":14,"display_name":"mattt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674600336,"creation_date":1492622428,"question_id":43502232,"body_markdown":"create my first project in Spring and I have some problem. \r\nI use JavaConfig to configuration my project and when I start I have this error :\r\n\r\n    Error:(6, 8) java: cannot access javax.servlet.ServletException\r\n    class file for javax.servlet.ServletException not found\r\n\r\nI now I have to add javax.servlet api but I do not know where to do it.\r\nI create my project in IntelliJ Ultimate 2017.","title":"JavaConfig : The type javax.servlet.ServletContext and javax.servlet.ServletException cannot be resolved","body":"<p>create my first project in Spring and I have some problem. \nI use JavaConfig to configuration my project and when I start I have this error :</p>\n\n<pre><code>Error:(6, 8) java: cannot access javax.servlet.ServletException\nclass file for javax.servlet.ServletException not found\n</code></pre>\n\n<p>I now I have to add javax.servlet api but I do not know where to do it.\nI create my project in IntelliJ Ultimate 2017.</p>\n"},{"tags":["math","graphics","bezier","java","renderer"],"comments":[{"owner":{"account_id":155163,"reputation":3636,"user_id":371623,"accept_rate":80,"display_name":"CromTheDestroyer"},"score":0,"creation_date":1277238389,"post_id":3096806,"comment_id":3175399,"body_markdown":"I would have done some error analysis myself, but I&#39;m hoping someone knows off the top of their head.","body":"I would have done some error analysis myself, but I&#39;m hoping someone knows off the top of their head."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":1,"creation_date":1277242614,"post_id":3096806,"comment_id":3175987,"body_markdown":"Are your Bezier curves rational or without weights?","body":"Are your Bezier curves rational or without weights?"},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1674600657,"post_id":3096806,"comment_id":132748450,"body_markdown":"If this is for some manufacturing purpose, then maybe also consider approximating the ellipse with circular arcs, since CNC machines of all kinds support those directly.","body":"If this is for some manufacturing purpose, then maybe also consider approximating the ellipse with circular arcs, since CNC machines of all kinds support those directly."}],"answers":[{"tags":[],"owner":{"account_id":110659,"reputation":13540,"user_id":292731,"accept_rate":89,"display_name":"Justin L."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1277284481,"creation_date":1277284481,"answer_id":3100354,"question_id":3096806,"body_markdown":"Your questions basically ask &quot;are these good approximations for a semicircle/arc of an ellipse&quot;.\r\n\r\nYou might want to try computing `B_y(a) - sin(a)` (of course, parameterizing your equations to both end at `(-1,0)` at the same value of `a`) for your curve `B(a)`, on a graphing utility such as [Wolfram Alpha](http://www.wolframalpha.com) to graph it, and see how much the variance is, and whether or not it suits your purposes.\r\n\r\nIf you want a more precise and non-visual answer, you may calculate\r\n\r\n    Integral (from 0 to K) [B_y(a) - sin(a)]^2 da / 2\r\n\r\nWhere K is the value of `a` where both parameterized curves end up at `(-1,0)`.\r\n\r\nThis integral is related/proportional (somewhat) to some measure of Standard Deviation, and will serve well as a numerical analysis.  If it&#39;s within your desired accuracy, you are good.\r\n\r\nYour second question, where you mention an affine transformation of a circle to an ellipse, will give you an error proportional to your original error, if your transformation is essentially linear.  If not, you could try using the [Jacobian Determinant](http://en.wikipedia.org/wiki/Jacobian_matrix_and_determinant) of your transformation to see how the error would vary.\r\n\r\nI have also found a nice [**Analysis of Semicircle-Bezier Approximations**](http://digerati-illuminatus.blogspot.com/2008/05/approximating-semicircle-with-cubic.html) where the author finds a pretty sexy approximation:\r\n\r\n![Bezier Semicircle](https://bp2.blogger.com/_W3ZUYKgeEpk/SDcC_Lq1xoI/AAAAAAAAAA8/3XmK3Rf6zT4/s400/ZoomOfResults.jpg)\r\n\r\nGiven by:\r\n\r\n&lt;pre&gt;\r\nxValueInset = Diameter * 0.05\r\nyValueOffset = radius * 4.0 / 3.0\r\n\r\nP0 = (0,0)\r\nP1 = (xValueInset, yValueOffset)\r\nP2 = (Diameter - xValueInset, yValueOffset)\r\nP3 = (Diameter, 0)\r\n&lt;/pre&gt;\r\n\r\nWhere P1 and P2 are your control points.  Note that this approximates the semicircle:\r\n\r\n    B(a) = [ (d/2)*cos(a)+d/2 , (d/2)*sin(a) ]","title":"Circle approximations using Bezier curves","body":"<p>Your questions basically ask \"are these good approximations for a semicircle/arc of an ellipse\".</p>\n\n<p>You might want to try computing <code>B_y(a) - sin(a)</code> (of course, parameterizing your equations to both end at <code>(-1,0)</code> at the same value of <code>a</code>) for your curve <code>B(a)</code>, on a graphing utility such as <a href=\"http://www.wolframalpha.com\" rel=\"nofollow noreferrer\">Wolfram Alpha</a> to graph it, and see how much the variance is, and whether or not it suits your purposes.</p>\n\n<p>If you want a more precise and non-visual answer, you may calculate</p>\n\n<pre><code>Integral (from 0 to K) [B_y(a) - sin(a)]^2 da / 2\n</code></pre>\n\n<p>Where K is the value of <code>a</code> where both parameterized curves end up at <code>(-1,0)</code>.</p>\n\n<p>This integral is related/proportional (somewhat) to some measure of Standard Deviation, and will serve well as a numerical analysis.  If it's within your desired accuracy, you are good.</p>\n\n<p>Your second question, where you mention an affine transformation of a circle to an ellipse, will give you an error proportional to your original error, if your transformation is essentially linear.  If not, you could try using the <a href=\"http://en.wikipedia.org/wiki/Jacobian_matrix_and_determinant\" rel=\"nofollow noreferrer\">Jacobian Determinant</a> of your transformation to see how the error would vary.</p>\n\n<p>I have also found a nice <a href=\"http://digerati-illuminatus.blogspot.com/2008/05/approximating-semicircle-with-cubic.html\" rel=\"nofollow noreferrer\"><strong>Analysis of Semicircle-Bezier Approximations</strong></a> where the author finds a pretty sexy approximation:</p>\n\n<p><img src=\"https://bp2.blogger.com/_W3ZUYKgeEpk/SDcC_Lq1xoI/AAAAAAAAAA8/3XmK3Rf6zT4/s400/ZoomOfResults.jpg\" alt=\"Bezier Semicircle\"></p>\n\n<p>Given by:</p>\n\n<pre>\nxValueInset = Diameter * 0.05\nyValueOffset = radius * 4.0 / 3.0\n\nP0 = (0,0)\nP1 = (xValueInset, yValueOffset)\nP2 = (Diameter - xValueInset, yValueOffset)\nP3 = (Diameter, 0)\n</pre>\n\n<p>Where P1 and P2 are your control points.  Note that this approximates the semicircle:</p>\n\n<pre><code>B(a) = [ (d/2)*cos(a)+d/2 , (d/2)*sin(a) ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37021,"reputation":7541,"user_id":105752,"accept_rate":100,"display_name":"xan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674600109,"creation_date":1302221667,"answer_id":5589051,"question_id":3096806,"body_markdown":"Here&#39;s a [general solution for any elliptical arc][1] as a cubic Bezier curve. \r\n\r\nThe error is most dependent on the difference of the start and end angles. I&#39;ve had good success by limiting the angle difference to 60&amp;deg;. That is, I make a separate cubic segment for every 60&amp;deg; (or fraction thereof) and chain them together.\r\n\r\n  [1]: https://modules.raku.org/dist/PDF::Document:cpan:TBROWDER/resources/elliptical-arc.pdf","title":"Circle approximations using Bezier curves","body":"<p>Here's a <a href=\"https://modules.raku.org/dist/PDF::Document:cpan:TBROWDER/resources/elliptical-arc.pdf\" rel=\"nofollow noreferrer\">general solution for any elliptical arc</a> as a cubic Bezier curve.</p>\n<p>The error is most dependent on the difference of the start and end angles. I've had good success by limiting the angle difference to 60°. That is, I make a separate cubic segment for every 60° (or fraction thereof) and chain them together.</p>\n"}],"owner":{"account_id":155163,"reputation":3636,"user_id":371623,"accept_rate":80,"display_name":"CromTheDestroyer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6993,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5589051,"answer_count":2,"score":5,"last_activity_date":1674600109,"creation_date":1277237945,"question_id":3096806,"body_markdown":"I have 2 questions about bezier curves, and using them to approximate portions of circles.\r\n  \r\n1. Given the unit circle arc (1,0)-&gt;(cos(a),sin(a)) where 0 &lt; a &lt; pi/2, will it result\r\nin a good approximation of this arc to find the bezier curve&#39;s control points p1, p2 by solving the equations imposed by the requirements B(1/3) = (cos(a/3), sin(a/3))\r\nand B(2/3) = (cos(2a/3), sin(2a/3)). (In other words, requiring that the\r\nbezier curve go through two evenly spaced points in the arc).\r\n\r\n2. If we have an affine transformation A which turns the circle arc in an\r\nellipse arc will the transformed control points Ap0, Ap1, Ap2, Ap3 define\r\na good bezier approximation to the ellipse arc?\r\n\r\np0 and p3, of course, are the start and end points of the curve: (1,0) and (cos(a), sin(a)).\r\n\r\nThank you","title":"Circle approximations using Bezier curves","body":"<p>I have 2 questions about bezier curves, and using them to approximate portions of circles.</p>\n\n<ol>\n<li><p>Given the unit circle arc (1,0)->(cos(a),sin(a)) where 0 &lt; a &lt; pi/2, will it result\nin a good approximation of this arc to find the bezier curve's control points p1, p2 by solving the equations imposed by the requirements B(1/3) = (cos(a/3), sin(a/3))\nand B(2/3) = (cos(2a/3), sin(2a/3)). (In other words, requiring that the\nbezier curve go through two evenly spaced points in the arc).</p></li>\n<li><p>If we have an affine transformation A which turns the circle arc in an\nellipse arc will the transformed control points Ap0, Ap1, Ap2, Ap3 define\na good bezier approximation to the ellipse arc?</p></li>\n</ol>\n\n<p>p0 and p3, of course, are the start and end points of the curve: (1,0) and (cos(a), sin(a)).</p>\n\n<p>Thank you</p>\n"},{"tags":["java","encapsulation"],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1367928298,"creation_date":1367928298,"answer_id":16418594,"question_id":16418571,"body_markdown":"&gt; Any how i am able to change the values of fields through setter methods.\r\n\r\nOnly if the setter method lets you do that.\r\n\r\n&gt; How we are preventing the accessing fields?\r\n\r\nThe setter and getter get to control if and how you can access the fields.\r\n\r\nA setter may check if the value is valid. It may ask a SecurityManager if you should be allowed to do this. It may convert between data types. And so on.","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<blockquote>\n  <p>Any how i am able to change the values of fields through setter methods.</p>\n</blockquote>\n\n<p>Only if the setter method lets you do that.</p>\n\n<blockquote>\n  <p>How we are preventing the accessing fields?</p>\n</blockquote>\n\n<p>The setter and getter get to control if and how you can access the fields.</p>\n\n<p>A setter may check if the value is valid. It may ask a SecurityManager if you should be allowed to do this. It may convert between data types. And so on.</p>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1367928347,"creation_date":1367928347,"answer_id":16418617,"question_id":16418571,"body_markdown":"Assume you have an `age` property.\r\n\r\nThe user can enter a value of `-10`, which although is a valid number, is an invalid age. A setter method could have logic which would allow you to catch such things.\r\n\r\nAnother scenario, would be to have the `age` field, but hide it. You could also have a Date of Birth field, and in it&#39;s setter you would have something like so:\r\n\r\n    ...\r\n    private int age\r\n    private Date dob\r\n    \r\n    ...\r\n    public void setDateOfBirth(Date dob)\r\n    {\r\n        this.dob = dob;\r\n        age = ... //some logic to calculate the age from the Date of Birth.\r\n    }","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>Assume you have an <code>age</code> property.</p>\n\n<p>The user can enter a value of <code>-10</code>, which although is a valid number, is an invalid age. A setter method could have logic which would allow you to catch such things.</p>\n\n<p>Another scenario, would be to have the <code>age</code> field, but hide it. You could also have a Date of Birth field, and in it's setter you would have something like so:</p>\n\n<pre><code>...\nprivate int age\nprivate Date dob\n\n...\npublic void setDateOfBirth(Date dob)\n{\n    this.dob = dob;\n    age = ... //some logic to calculate the age from the Date of Birth.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25539,"reputation":2965,"user_id":65691,"accept_rate":93,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1367928360,"creation_date":1367928360,"answer_id":16418622,"question_id":16418571,"body_markdown":"The real use of encapsulation is also in the fact that you can do additional checks/processing on the way the values are set.","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>The real use of encapsulation is also in the fact that you can do additional checks/processing on the way the values are set.</p>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367928382,"creation_date":1367928382,"answer_id":16418631,"question_id":16418571,"body_markdown":"If you have class all of its properties are private-meaning that they cannot be accessed from outside the class- and the only way to interact with class properties is through its public methods.\r\n\r\nYou are changing tha values by giving the public access to those methods(setters).\r\n\r\n**using encapsulation the fields of a class can be made `read-only` or `write-only.`**\r\n","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>If you have class all of its properties are private-meaning that they cannot be accessed from outside the class- and the only way to interact with class properties is through its public methods.</p>\n\n<p>You are changing tha values by giving the public access to those methods(setters).</p>\n\n<p><strong>using encapsulation the fields of a class can be made <code>read-only</code> or <code>write-only.</code></strong></p>\n"},{"tags":[],"owner":{"account_id":376483,"reputation":5120,"user_id":727980,"accept_rate":82,"display_name":"mikey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1367928430,"creation_date":1367928430,"answer_id":16418648,"question_id":16418571,"body_markdown":"You&#39;re not exactly preventing access to the fields -- you&#39;re controlling how others can access certain fields.  For example you can add validation to your setter method, or you can also update some other dependent field when the setter method of a field is called.\r\n\r\nYou can prevent write or read access to the field (e.g. by only providing a getter or setter respectively) -- but encapsulation with properties allows you to do more than just that.","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>You're not exactly preventing access to the fields -- you're controlling how others can access certain fields.  For example you can add validation to your setter method, or you can also update some other dependent field when the setter method of a field is called.</p>\n\n<p>You can prevent write or read access to the field (e.g. by only providing a getter or setter respectively) -- but encapsulation with properties allows you to do more than just that.</p>\n"},{"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367928616,"creation_date":1367928616,"answer_id":16418706,"question_id":16418571,"body_markdown":"It&#39;s aim is nothing but protecting anything which is prone to change. You have plenty of examples on the web, so I give you some of the advantages of it:\r\n\r\n 1. Encapsulated Code is more **flexible** and easy to change with new requirements\r\n 2. Allows you to control **who can access what**. (!!!)\r\n 3. Helps to write **`immutable class`** in Java\r\n 4. It allows you to change **one part** of code without affecting other part of code.\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>It's aim is nothing but protecting anything which is prone to change. You have plenty of examples on the web, so I give you some of the advantages of it:</p>\n\n<ol>\n<li>Encapsulated Code is more <strong>flexible</strong> and easy to change with new requirements</li>\n<li>Allows you to control <strong>who can access what</strong>. (!!!)</li>\n<li>Helps to write <strong><code>immutable class</code></strong> in Java</li>\n<li>It allows you to change <strong>one part</strong> of code without affecting other part of code.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2590317,"reputation":171,"user_id":2245180,"display_name":"user2245180"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367928620,"creation_date":1367928620,"answer_id":16418708,"question_id":16418571,"body_markdown":"Instead of letting everyone access the variables directly:\r\n\r\n    public Object object;\r\n\r\nIs better to use SET and GET methods, or for example just the GET method (Sometimes you dont want nobody to set other value to that variable).\r\n\r\n    public Object getObject() { \r\n    \r\n    return object;\r\n    }\r\n    \r\n    public void setObject(Object object) { \r\n    \r\n    this.object = object;\r\n    }","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>Instead of letting everyone access the variables directly:</p>\n\n<pre><code>public Object object;\n</code></pre>\n\n<p>Is better to use SET and GET methods, or for example just the GET method (Sometimes you dont want nobody to set other value to that variable).</p>\n\n<pre><code>public Object getObject() { \n\nreturn object;\n}\n\npublic void setObject(Object object) { \n\nthis.object = object;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367928773,"creation_date":1367928773,"answer_id":16418764,"question_id":16418571,"body_markdown":"Accessing fields thru methods make difference because it makes it OOP. Eg you can extend you class and change the behaviour which you cannot do with direct access. If you have getters / setters you can make a proxy of your class and do some AOP or a make a 1.4 dynamic proxy. You can make a mock from your class and make unit testing...","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>Accessing fields thru methods make difference because it makes it OOP. Eg you can extend you class and change the behaviour which you cannot do with direct access. If you have getters / setters you can make a proxy of your class and do some AOP or a make a 1.4 dynamic proxy. You can make a mock from your class and make unit testing...</p>\n"},{"tags":[],"owner":{"account_id":2516006,"reputation":2551,"user_id":2187439,"display_name":"MMeersseman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1367929166,"creation_date":1367929166,"answer_id":16418892,"question_id":16418571,"body_markdown":"Lets suppose you make a custom Date class with the following setters / getters:\r\n\r\n    getDay() \r\n    getMonth() \r\n    getYear() \r\n    setDay() \r\n    setMonth() \r\n    setYear()\r\n\r\nInternally you could store the date using:\r\n\r\n    private int day;\r\n    private int month;\r\n    private int year;\r\n\r\nOr you could store the date using a java.lang.Date-object:\r\n\r\n    private Date date;\r\n\r\nEncapsulation doesn&#39;t expose how your class is working internally. It gives you more freedom to change how your class works. It gives you the option to control the access to your class. You can check if what the user enters is valid (you don&#39;t want the user to enter a day with a value of 32).","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>Lets suppose you make a custom Date class with the following setters / getters:</p>\n\n<pre><code>getDay() \ngetMonth() \ngetYear() \nsetDay() \nsetMonth() \nsetYear()\n</code></pre>\n\n<p>Internally you could store the date using:</p>\n\n<pre><code>private int day;\nprivate int month;\nprivate int year;\n</code></pre>\n\n<p>Or you could store the date using a java.lang.Date-object:</p>\n\n<pre><code>private Date date;\n</code></pre>\n\n<p>Encapsulation doesn't expose how your class is working internally. It gives you more freedom to change how your class works. It gives you the option to control the access to your class. You can check if what the user enters is valid (you don't want the user to enter a day with a value of 32).</p>\n"},{"tags":[],"owner":{"account_id":2674661,"reputation":297,"user_id":2311327,"display_name":"Sello"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1444860346,"creation_date":1367929706,"answer_id":16419065,"question_id":16418571,"body_markdown":"If you have private fields they can&#39;t be accessed outside the class, that means basically those fields don&#39;t exist to the outside world and yes you can change their value through setter methods but using setter methods you have more flexibility/control to say who gets to change the fields and to what value can they be changed to...basically with encapsulation you get to put restrictions on how and who changes your fields.\r\nFor example you have: private double salary, you setter method could restrict that only hr staff can change the salary field it could be written as:    \r\n\r\n    void setSalary(Person p,double newSalary)    \r\n    {    \r\n    //only HR objects have access to change salary field.   \r\n    If(p instanceof HR &amp;&amp; newSalary&gt;=0)    \r\n    //change salary.   \r\n    else   \r\n     S.o.p(&quot;access denied&quot;);    \r\n    } \r\n\r\n   \r\n Imagine if salary was public and could be access directly any can change it however and whenever they want, this basically the significance of encapsulation\r\n","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>If you have private fields they can't be accessed outside the class, that means basically those fields don't exist to the outside world and yes you can change their value through setter methods but using setter methods you have more flexibility/control to say who gets to change the fields and to what value can they be changed to...basically with encapsulation you get to put restrictions on how and who changes your fields.\nFor example you have: private double salary, you setter method could restrict that only hr staff can change the salary field it could be written as:    </p>\n\n<pre><code>void setSalary(Person p,double newSalary)    \n{    \n//only HR objects have access to change salary field.   \nIf(p instanceof HR &amp;&amp; newSalary&gt;=0)    \n//change salary.   \nelse   \n S.o.p(\"access denied\");    \n} \n</code></pre>\n\n<p>Imagine if salary was public and could be access directly any can change it however and whenever they want, this basically the significance of encapsulation</p>\n"},{"tags":[],"owner":{"account_id":1913793,"reputation":412,"user_id":1726883,"display_name":"Uche Dim"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1603846914,"creation_date":1410292600,"answer_id":25752613,"question_id":16418571,"body_markdown":"I have also been confused like you too for a long time until I read the book **Encapsulation and Inheritance in Object-Oriented Programming Language** and a website that explained the importance of Encapsulation. I was actually directed from the website to the book.\r\n\r\nPeople always say encapsulation is &quot;hiding of information&quot; therefore, maybe, making encapsulation focus on security as the main use. Yes you are hiding information in practice, but that should not be the definition as it could confuse people.\r\n\r\nEncapsulation is simply &quot;minimizing inter-dependencies among separately-written modules by defining strict external interfaces&quot; (quoting from the book). That is to say that when I am building a module, I want a strict contract between my clients and me on how they can access my module. Reason being that, I can improve the inner workings without it AFFECTING my client&#39;s, life, application or whatever they are using my module for. Because their &quot;module&quot; does not exactly depend on the Inner workings of my module but depends on the &quot;external interface&quot;, I made available to them.\r\n\r\nSo, if I don&#39;t provide my client with a setter and give them direct access to a variable, and I realize that I need to set some restriction on the variable before my client could use it, me changing it, could be me, changing the life of my client, or application of my client with HUGE EXPENSE. But if I provided the &quot;strict contract&quot; by creating a &quot;strict external interface&quot; i.e setter, then I can easily change my inner workings with very little or no expense to my clients. \r\n\r\nIn the setter situation (using encapsulation), if it happens that when you set a variable, and I return a message informing you that it has been assigned, now I could send a message via my &quot;interface&quot;, informing my client of the new way my module have to be interacted with, i.e &quot;You cannot assign negative numbers&quot; that is if my clients try to assign negative number. But if I did not use encapsulation, and gave my client direct access to a variable and I do my changes, it could result in a crashed system. Because if the restriction I implemented, is that, you could not save negatives and my client have always been able to store negatives, my clients will have a crashed system in their hands (if that &quot;crashed system&quot; was a banking system, imagine what could happen).\r\n\r\nSo, encapsulation is more about reducing dependency between module, and an improvement can be made &quot;quietly&quot; with little or no expense to other modules interacting with it, than it is of security. Because the interacting modules depend on the &quot;strict external interface or strict contract&quot;.\r\n\r\nI hope this explains it properly. If not you could go the links below and read for yourself.\r\n\r\n[encapsulation matters][1]\r\n\r\n\r\n[Encapsulation and Inheritance in Object-Oriented Programming Languages][2]\r\n\r\n\r\n  [1]: http://java.dzone.com/articles/why-encapsulation-matters\r\n  [2]: http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.36.8552&amp;rep=rep1&amp;type=pdf","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>I have also been confused like you too for a long time until I read the book <strong>Encapsulation and Inheritance in Object-Oriented Programming Language</strong> and a website that explained the importance of Encapsulation. I was actually directed from the website to the book.</p>\n<p>People always say encapsulation is &quot;hiding of information&quot; therefore, maybe, making encapsulation focus on security as the main use. Yes you are hiding information in practice, but that should not be the definition as it could confuse people.</p>\n<p>Encapsulation is simply &quot;minimizing inter-dependencies among separately-written modules by defining strict external interfaces&quot; (quoting from the book). That is to say that when I am building a module, I want a strict contract between my clients and me on how they can access my module. Reason being that, I can improve the inner workings without it AFFECTING my client's, life, application or whatever they are using my module for. Because their &quot;module&quot; does not exactly depend on the Inner workings of my module but depends on the &quot;external interface&quot;, I made available to them.</p>\n<p>So, if I don't provide my client with a setter and give them direct access to a variable, and I realize that I need to set some restriction on the variable before my client could use it, me changing it, could be me, changing the life of my client, or application of my client with HUGE EXPENSE. But if I provided the &quot;strict contract&quot; by creating a &quot;strict external interface&quot; i.e setter, then I can easily change my inner workings with very little or no expense to my clients.</p>\n<p>In the setter situation (using encapsulation), if it happens that when you set a variable, and I return a message informing you that it has been assigned, now I could send a message via my &quot;interface&quot;, informing my client of the new way my module have to be interacted with, i.e &quot;You cannot assign negative numbers&quot; that is if my clients try to assign negative number. But if I did not use encapsulation, and gave my client direct access to a variable and I do my changes, it could result in a crashed system. Because if the restriction I implemented, is that, you could not save negatives and my client have always been able to store negatives, my clients will have a crashed system in their hands (if that &quot;crashed system&quot; was a banking system, imagine what could happen).</p>\n<p>So, encapsulation is more about reducing dependency between module, and an improvement can be made &quot;quietly&quot; with little or no expense to other modules interacting with it, than it is of security. Because the interacting modules depend on the &quot;strict external interface or strict contract&quot;.</p>\n<p>I hope this explains it properly. If not you could go the links below and read for yourself.</p>\n<p><a href=\"http://java.dzone.com/articles/why-encapsulation-matters\" rel=\"noreferrer\">encapsulation matters</a></p>\n<p><a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.36.8552&amp;rep=rep1&amp;type=pdf\" rel=\"noreferrer\">Encapsulation and Inheritance in Object-Oriented Programming Languages</a></p>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467890612,"creation_date":1467890612,"answer_id":38244218,"question_id":16418571,"body_markdown":"By using encapsulation you separate your class from the out-side world (other classes) and out-side world can access and modify your class instance variables through access modifiers, which provides several benefits:\r\n\r\n-You can do some logging in your getter/setter methods.\r\n\r\n-You can validate /normalize (for example trim spaces, remove special character,...) Your input in setter method.\r\n\r\nAnd also you can hide your implementation from the outside world, for example you have a collection like array list in your class and you write your getter method like this\r\n\r\n    public List&lt;t&gt; get collection(){\r\n     return new  ArrayList&lt;t&gt;(this.arrayList);\r\n    }\r\nSo in this case, in the future if you decide to change your implementation of collection from array list to something else like linked list, you are free to do so because out side world doesn&#39;t know anything about your implementation.","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>By using encapsulation you separate your class from the out-side world (other classes) and out-side world can access and modify your class instance variables through access modifiers, which provides several benefits:</p>\n\n<p>-You can do some logging in your getter/setter methods.</p>\n\n<p>-You can validate /normalize (for example trim spaces, remove special character,...) Your input in setter method.</p>\n\n<p>And also you can hide your implementation from the outside world, for example you have a collection like array list in your class and you write your getter method like this</p>\n\n<pre><code>public List&lt;t&gt; get collection(){\n return new  ArrayList&lt;t&gt;(this.arrayList);\n}\n</code></pre>\n\n<p>So in this case, in the future if you decide to change your implementation of collection from array list to something else like linked list, you are free to do so because out side world doesn't know anything about your implementation.</p>\n"},{"tags":[],"owner":{"account_id":5472461,"reputation":134,"user_id":4351428,"display_name":"Saurabh Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485805184,"creation_date":1485805184,"answer_id":41944109,"question_id":16418571,"body_markdown":"Encapsultaion is used for hiding the member variables ,by making member as private and access that member variable by getter and setter methods.\r\n\r\nExample \r\n\r\nclass Encapsulation{\r\n\r\n    private int value ;\r\n\r\n    Encapsulation() {\r\n        System.out.println(&quot;constructor calling &quot;);\r\n    }\r\n\r\n    void setValue(int value){\r\n        this.value = value;\r\n    }\r\n    int getValue() {\r\n        return value;\r\n    }\r\n}\r\nclass EncapsulationMain {\r\n\r\n    public static void main(String args[]) {\r\n        Encapsulation obj = new Encapsulation();\r\n        obj.setValue(4);\r\n        //System.out.print(&quot;value is &quot;+obj.value); \r\n        //obj.value = 55;\r\n        //System.out.print(&quot;obj changing the value&quot;+obj.value);\r\n        System.out.print(&quot;calling the value through the getterMethod&quot;+obj.getValue());\r\n    }\r\n}\r\n\r\nyou cannot access the private value outside the class.","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>Encapsultaion is used for hiding the member variables ,by making member as private and access that member variable by getter and setter methods.</p>\n\n<p>Example </p>\n\n<p>class Encapsulation{</p>\n\n<pre><code>private int value ;\n\nEncapsulation() {\n    System.out.println(\"constructor calling \");\n}\n\nvoid setValue(int value){\n    this.value = value;\n}\nint getValue() {\n    return value;\n}\n</code></pre>\n\n<p>}\nclass EncapsulationMain {</p>\n\n<pre><code>public static void main(String args[]) {\n    Encapsulation obj = new Encapsulation();\n    obj.setValue(4);\n    //System.out.print(\"value is \"+obj.value); \n    //obj.value = 55;\n    //System.out.print(\"obj changing the value\"+obj.value);\n    System.out.print(\"calling the value through the getterMethod\"+obj.getValue());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>you cannot access the private value outside the class.</p>\n"},{"tags":[],"owner":{"account_id":10460334,"reputation":89,"user_id":7711299,"display_name":"Vinjamuri Satya Krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489590568,"creation_date":1489590568,"answer_id":42813649,"question_id":16418571,"body_markdown":"Well, encapsulation is not all about hiding data. It is all about getting control over what is stored in the fields. Using encapsulation we can make a field as read-only or write-only depending upon the requirements.Also the users don&#39;t know how the data is stored in the fields. We can use some special encryption in the setter methods and store it in the fields.\r\n    For example human is a object. We only require the name field of the human to be read by the user but not to be modified. Then we define only get method on the name field.This is how the encapsulation is useful.","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>Well, encapsulation is not all about hiding data. It is all about getting control over what is stored in the fields. Using encapsulation we can make a field as read-only or write-only depending upon the requirements.Also the users don't know how the data is stored in the fields. We can use some special encryption in the setter methods and store it in the fields.\n    For example human is a object. We only require the name field of the human to be read by the user but not to be modified. Then we define only get method on the name field.This is how the encapsulation is useful.</p>\n"},{"tags":[],"owner":{"account_id":5527790,"reputation":11911,"user_id":4388776,"display_name":"Keet Sugathadasa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1507827054,"creation_date":1507827054,"answer_id":46715011,"question_id":16418571,"body_markdown":"The main idea behind encapsulation is data hiding. There are several reasons why we use encapsulation in object oriented programming. Some of the identified reasons for why we encapsulation are as follows (**The real use of encapsulation**).\r\n\r\n 1. **Better maintainability**: When all the properties are private and encapsulated, it is easy for us to maintain the program simply by changing the methods. \r\n\r\n 2. **Make Debugging Easy**: This is in line with the above point. We know that the object can only be manipulated through methods. So, this makes it easy to debug and catch bugs.\r\n\r\n 3. **Have a Controlled Environment**: Let the users use the given objects, in a controlled manner, through objects.\r\n\r\n 4. **Hide Complexities**: Hiding the complexities irrelevant to the users. Sometimes, some properties and methods are only for internal use and the user doesn&#39;t have to know about these. This makes is simple for the user to use the object.\r\n\r\n\r\nSo, to answer the question, &quot;*What is the use of encapsulation when I&#39;m able to change the property values with setter methods?*&quot;, given above are some of the main reasons why we use encapsulation. To provide an understanding on **why, getters and setters are useful**, given below are some important points, obtained from this [article][1]. \r\n\r\n - You can limit the values that can be stored in a field (i.e. gender must be F or M). \r\n\r\n - You can take actions when the field is modified (trigger event, validate, etc). \r\n\r\n - You can provide thread safety by synchronizing the method. \r\n\r\n - You can switch to a new data representation (i.e. calculated fields, different data type)\r\n\r\n  [1]: https://dzone.com/articles/why-encapsulation-matters","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>The main idea behind encapsulation is data hiding. There are several reasons why we use encapsulation in object oriented programming. Some of the identified reasons for why we encapsulation are as follows (<strong>The real use of encapsulation</strong>).</p>\n\n<ol>\n<li><p><strong>Better maintainability</strong>: When all the properties are private and encapsulated, it is easy for us to maintain the program simply by changing the methods. </p></li>\n<li><p><strong>Make Debugging Easy</strong>: This is in line with the above point. We know that the object can only be manipulated through methods. So, this makes it easy to debug and catch bugs.</p></li>\n<li><p><strong>Have a Controlled Environment</strong>: Let the users use the given objects, in a controlled manner, through objects.</p></li>\n<li><p><strong>Hide Complexities</strong>: Hiding the complexities irrelevant to the users. Sometimes, some properties and methods are only for internal use and the user doesn't have to know about these. This makes is simple for the user to use the object.</p></li>\n</ol>\n\n<p>So, to answer the question, \"<em>What is the use of encapsulation when I'm able to change the property values with setter methods?</em>\", given above are some of the main reasons why we use encapsulation. To provide an understanding on <strong>why, getters and setters are useful</strong>, given below are some important points, obtained from this <a href=\"https://dzone.com/articles/why-encapsulation-matters\" rel=\"noreferrer\">article</a>. </p>\n\n<ul>\n<li><p>You can limit the values that can be stored in a field (i.e. gender must be F or M). </p></li>\n<li><p>You can take actions when the field is modified (trigger event, validate, etc). </p></li>\n<li><p>You can provide thread safety by synchronizing the method. </p></li>\n<li><p>You can switch to a new data representation (i.e. calculated fields, different data type)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1974896,"reputation":12096,"user_id":1772898,"accept_rate":65,"display_name":"Ahmad Ismail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670750913,"creation_date":1670669457,"answer_id":74752242,"question_id":16418571,"body_markdown":"Encapsulation is not about secrecy, it is about **reducing dependency over separate part of the application**.\r\n\r\nWe control dependency (loose / weak / low coupling) by hiding information over separate part of the application.\r\n\r\nAdding to [Uche Dim&#39;s answer][1], look at the following example: \r\n\r\n**Two Connections:**\r\n\r\n    public class Area {\r\n    \r\n        // fields to calculate area\r\n        private int length;\r\n        private int breadth;\r\n    \r\n        // constructor to initialize values\r\n        Area(int length, int breadth) {\r\n            this.length = length;\r\n            this.breadth = breadth;\r\n        }\r\n    \r\n        public int getLength() {\r\n            return length;\r\n        }\r\n    \r\n        public void setLength(int length) {\r\n            this.length = length;\r\n        }\r\n    \r\n        public int getBreadth() {\r\n            return breadth;\r\n        }\r\n    \r\n        public void setBreadth(int breadth) {\r\n            this.breadth = breadth;\r\n        }\r\n\r\n        public int getArea() {\r\n            int area = length * breadth;\r\n            return area;\r\n        }\r\n    }\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            Area rectangle = new Area(5, 6);\r\n    \r\n            // Two Connections\r\n            int length = rectangle.getLength();\r\n            int breadth = rectangle.getBreadth();\r\n            int area = length * breadth;\r\n            System.out.println(&quot;Area: &quot; + area);\r\n        }\r\n    }\r\n\r\nPlease note that in the `Main` class, we are calling two methods (`getLength()` and `getBreadth()`) of `Area` class. \r\n\r\n**One Connection:**\r\n\r\n    public class Area {\r\n    \r\n        // fields to calculate area\r\n        private int length;\r\n        private int breadth;\r\n    \r\n        // constructor to initialize values\r\n        Area(int length, int breadth) {\r\n            this.length = length;\r\n            this.breadth = breadth;\r\n        }\r\n    \r\n        public int getArea() {\r\n            int area = length * breadth;\r\n            return area;\r\n        }\r\n    }\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            Area rectangle = new Area(5, 6);\r\n    \r\n            // One Connection\r\n            int area = rectangle.getArea();\r\n            System.out.println(&quot;Area: &quot; + area);\r\n    \r\n        }\r\n    }\r\n\r\nHere, in the `Main` class, we are calling one methods (`getArea()`) of `Area` class. \r\n\r\nSo in the second example, the connection is weaker than the previous one (first one calling two methods or the `Area` class, second one calling one method of the `Area` class). Given, less connection (lower / weaker coupling) is better, the second example is better.\r\n\r\n**We should always keep fields and methods private unless necessary**. In the *Two Connections* example, we made the mistake of creating the getters unnecessarily. As we have created it, the IntelliJ Idea (auto suggestion of modern IDE) suggested the developer who was working on the `Main` class that you can use the `getLength()` and `getBreadth()` methods and he did. He did not inquire further to check if there was a `getArea()` method. As a result he created stronger coupling than necessary.\r\n\r\nWe should not unnecessarily create getters. We should not unnecessarily make fields public or protected. If you must, first try protected, if that does not work then make it public. That way we will have a lesser possibility of having a tighter coupling.\r\n\r\nIf you still have the question &quot;what is the difference between making a field public compared to making a field private but it&#39;s getters public?&quot;, in other words &quot;Why should we use a function to get a value instead of getting it directly?&quot; Well it gives you another layer of abstraction. For example, if you need some extra processing of the data before receiving it (ex. validation), you can do it there. Moreover, once you expose internals of a class, you can not change that internal representation or make it better until making changes in all client codes.&#160;\r\n\r\nFor example, suppose you did something like:\r\n\r\n    public class Area {\r\n    \r\n        private int length;\r\n        private int breadth;\r\n    \r\n    }\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            Area rectangle = new Area(5, 6);\r\n    \r\n            int area = rectangle.length * rectangle.breadth;\r\n            System.out.println(&quot;Area: &quot; + area);\r\n        }\r\n    }\r\n\r\nNow, if you want to change `breadth` to `width` in `Area` class, you can not do it without breaking the program, unless you search and replace `rectangle.breadth` with `rectangle.width` in all the clients where `rectangle.breadth` was used (in this case `Main` class).\r\n\r\nThere are other benefits as well. For example, [Member variables cannot be overridden like methods][2]. If a class has getters and setters, it&#39;s subclass can override&#160;these methods and return what makes more sense in the context of subclass.\r\n\r\nPlease check [Why getter and setter are better than public fields in Java?][3] for more details.\r\n\r\n**P.S.** These are trivial examples, but in large scale, when program grows and frequent change requests are a reality, this makes sense.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25752613/1772898\r\n  [2]: https://stackoverflow.com/a/9415062/1772898\r\n  [3]: https://javarevisited.blogspot.com/2012/12/getter-and-setter-method-vs-public-modifier-field-java.html","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>Encapsulation is not about secrecy, it is about <strong>reducing dependency over separate part of the application</strong>.</p>\n<p>We control dependency (loose / weak / low coupling) by hiding information over separate part of the application.</p>\n<p>Adding to <a href=\"https://stackoverflow.com/a/25752613/1772898\">Uche Dim's answer</a>, look at the following example:</p>\n<p><strong>Two Connections:</strong></p>\n<pre><code>public class Area {\n\n    // fields to calculate area\n    private int length;\n    private int breadth;\n\n    // constructor to initialize values\n    Area(int length, int breadth) {\n        this.length = length;\n        this.breadth = breadth;\n    }\n\n    public int getLength() {\n        return length;\n    }\n\n    public void setLength(int length) {\n        this.length = length;\n    }\n\n    public int getBreadth() {\n        return breadth;\n    }\n\n    public void setBreadth(int breadth) {\n        this.breadth = breadth;\n    }\n\n    public int getArea() {\n        int area = length * breadth;\n        return area;\n    }\n}\n\nclass Main {\n    public static void main(String[] args) {\n\n        Area rectangle = new Area(5, 6);\n\n        // Two Connections\n        int length = rectangle.getLength();\n        int breadth = rectangle.getBreadth();\n        int area = length * breadth;\n        System.out.println(&quot;Area: &quot; + area);\n    }\n}\n</code></pre>\n<p>Please note that in the <code>Main</code> class, we are calling two methods (<code>getLength()</code> and <code>getBreadth()</code>) of <code>Area</code> class.</p>\n<p><strong>One Connection:</strong></p>\n<pre><code>public class Area {\n\n    // fields to calculate area\n    private int length;\n    private int breadth;\n\n    // constructor to initialize values\n    Area(int length, int breadth) {\n        this.length = length;\n        this.breadth = breadth;\n    }\n\n    public int getArea() {\n        int area = length * breadth;\n        return area;\n    }\n}\n\nclass Main {\n    public static void main(String[] args) {\n\n        Area rectangle = new Area(5, 6);\n\n        // One Connection\n        int area = rectangle.getArea();\n        System.out.println(&quot;Area: &quot; + area);\n\n    }\n}\n</code></pre>\n<p>Here, in the <code>Main</code> class, we are calling one methods (<code>getArea()</code>) of <code>Area</code> class.</p>\n<p>So in the second example, the connection is weaker than the previous one (first one calling two methods or the <code>Area</code> class, second one calling one method of the <code>Area</code> class). Given, less connection (lower / weaker coupling) is better, the second example is better.</p>\n<p><strong>We should always keep fields and methods private unless necessary</strong>. In the <em>Two Connections</em> example, we made the mistake of creating the getters unnecessarily. As we have created it, the IntelliJ Idea (auto suggestion of modern IDE) suggested the developer who was working on the <code>Main</code> class that you can use the <code>getLength()</code> and <code>getBreadth()</code> methods and he did. He did not inquire further to check if there was a <code>getArea()</code> method. As a result he created stronger coupling than necessary.</p>\n<p>We should not unnecessarily create getters. We should not unnecessarily make fields public or protected. If you must, first try protected, if that does not work then make it public. That way we will have a lesser possibility of having a tighter coupling.</p>\n<p>If you still have the question &quot;what is the difference between making a field public compared to making a field private but it's getters public?&quot;, in other words &quot;Why should we use a function to get a value instead of getting it directly?&quot; Well it gives you another layer of abstraction. For example, if you need some extra processing of the data before receiving it (ex. validation), you can do it there. Moreover, once you expose internals of a class, you can not change that internal representation or make it better until making changes in all client codes. </p>\n<p>For example, suppose you did something like:</p>\n<pre><code>public class Area {\n\n    private int length;\n    private int breadth;\n\n}\n\nclass Main {\n    public static void main(String[] args) {\n\n        Area rectangle = new Area(5, 6);\n\n        int area = rectangle.length * rectangle.breadth;\n        System.out.println(&quot;Area: &quot; + area);\n    }\n}\n</code></pre>\n<p>Now, if you want to change <code>breadth</code> to <code>width</code> in <code>Area</code> class, you can not do it without breaking the program, unless you search and replace <code>rectangle.breadth</code> with <code>rectangle.width</code> in all the clients where <code>rectangle.breadth</code> was used (in this case <code>Main</code> class).</p>\n<p>There are other benefits as well. For example, <a href=\"https://stackoverflow.com/a/9415062/1772898\">Member variables cannot be overridden like methods</a>. If a class has getters and setters, it's subclass can override these methods and return what makes more sense in the context of subclass.</p>\n<p>Please check <a href=\"https://javarevisited.blogspot.com/2012/12/getter-and-setter-method-vs-public-modifier-field-java.html\" rel=\"nofollow noreferrer\">Why getter and setter are better than public fields in Java?</a> for more details.</p>\n<p><strong>P.S.</strong> These are trivial examples, but in large scale, when program grows and frequent change requests are a reality, this makes sense.</p>\n"},{"tags":[],"owner":{"account_id":15379861,"reputation":1,"user_id":11095564,"display_name":"Luigi Santagada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674600091,"creation_date":1674576952,"answer_id":75224269,"question_id":16418571,"body_markdown":"I&#39;m OK with using get and set, to mask and make reengineering easier, but if you tell to a novice programmer that using get and set does encapsulation, as I&#39;ve seen many times, they will use set and get for internal members initialized by the constructor.\r\nAnd this 99.9 % is wrong!!!!!\r\n\r\n    private uint8_t myvar = 0;\r\n    \r\n    setMyVar(uint8_t value){ \r\n    this.myvar = value * (20 / 41);\r\n    }\r\n    uint8_t  getMyVar(){\r\n    return this. myvar  ;\r\n    }\r\n\r\nThat’s for me is ok,   but I think encapsulation is a method first, rather than get and set.\r\nMy inglish is not very well,but I think that this article says something like this.\r\n\r\n\r\n[1]: https://martinfowler.com/bliki/SelfEncapsulation.html","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>I'm OK with using get and set, to mask and make reengineering easier, but if you tell to a novice programmer that using get and set does encapsulation, as I've seen many times, they will use set and get for internal members initialized by the constructor.\nAnd this 99.9 % is wrong!!!!!</p>\n<pre><code>private uint8_t myvar = 0;\n\nsetMyVar(uint8_t value){ \nthis.myvar = value * (20 / 41);\n}\nuint8_t  getMyVar(){\nreturn this. myvar  ;\n}\n</code></pre>\n<p>That’s for me is ok,   but I think encapsulation is a method first, rather than get and set.\nMy inglish is not very well,but I think that this article says something like this.</p>\n"}],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41800,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":16418617,"answer_count":17,"score":34,"last_activity_date":1674600091,"creation_date":1367928213,"question_id":16418571,"body_markdown":"I try to understand a lot of times but I failed to understand this.\r\n\r\n&gt; Encapsulation is the technique of making the fields in a class private\r\n&gt; and providing access to the fields via public methods. If a field is\r\n&gt; declared private, it cannot be accessed by anyone outside the class,\r\n&gt; thereby hiding the fields within the class.\r\n\r\nHow can we change the values of fields through setter methods? How do we prevent accessing the fields directly? What is the real use of encapsulation?","title":"What is the use of encapsulation when I&#39;m able to change the property values with setter methods?","body":"<p>I try to understand a lot of times but I failed to understand this.</p>\n\n<blockquote>\n  <p>Encapsulation is the technique of making the fields in a class private\n  and providing access to the fields via public methods. If a field is\n  declared private, it cannot be accessed by anyone outside the class,\n  thereby hiding the fields within the class.</p>\n</blockquote>\n\n<p>How can we change the values of fields through setter methods? How do we prevent accessing the fields directly? What is the real use of encapsulation?</p>\n"},{"tags":["java","multithreading","swing","animation","paint"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1511465684,"post_id":47461863,"comment_id":81879366,"body_markdown":"`So I have to store each square object in the ArrayList.` - good. `However, I am having trouble with painting those squares. I can paint one square but when I try to paint multiple squares, it does not show` - you need to iterate through the ArrayList to paint each square. So instead of having multiple panels each painting a single square, you need one panel that paints all the squares. Check out: https://stackoverflow.com/questions/42358359/how-do-i-paint-multiple-objetcs-that-move-at-different-speeds-in-java/42358637#42358637 for a working example.","body":"<code>So I have to store each square object in the ArrayList.</code> - good. <code>However, I am having trouble with painting those squares. I can paint one square but when I try to paint multiple squares, it does not show</code> - you need to iterate through the ArrayList to paint each square. So instead of having multiple panels each painting a single square, you need one panel that paints all the squares. Check out: <a href=\"https://stackoverflow.com/questions/42358359/how-do-i-paint-multiple-objetcs-that-move-at-different-speeds-in-java/42358637#42358637\" title=\"how do i paint multiple objetcs that move at different speeds in java\">stackoverflow.com/questions/42358359/&hellip;</a> for a working example."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674599928,"creation_date":1511470810,"answer_id":47463194,"question_id":47461863,"body_markdown":"So, starting with...\r\n\r\n    public class DrawSquare extends JPanel {\r\n        public Square square;\r\n        public DrawSquare() {\r\n            square = new Square();\r\n        }\r\n    \r\n        @Override\r\n        public void paintComponents(Graphics g) {\r\n            // TODO Auto-generated method stub\r\n            super.paintComponents(g);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            // TODO Auto-generated method stub\r\n            super.paint(g);\r\n    \r\n            g.setColor(square.getC());\r\n            g.fillRect(square.getX(), square.getY(), square.getR(), square.getR());\r\n        }\r\n    }\r\n\r\nAs general recommendation, it&#39;s preferred to put custom painting in the `paintComponent` method (note, there&#39;s no `s` at the end)\r\n\r\nWhen `paint` is called, the `Graphics` context has already been translated to the component coordinate position.  This means that `0x0` is the top/left corner of the component, this also means that...\r\n\r\n    g.fillRect(square.getX(), square.getY(), square.getR(), square.getR());\r\n\r\nis painting the rect at `x + x` x `y + y`, which will, at the very least, paint the rect in the wrong position, at worst paint it beyond the visible scope of the component.\r\n\r\nYou&#39;re also not providing any sizing hints for the component, so it&#39;s default size will be `0x0`, which prevent it from been painted.\r\n\r\n&gt; Since I am using multi thread I assume I have to control each squares. \r\n\r\nWell, since I can&#39;t really see what&#39;s driving the animation, I imagine that when you say &quot;multi thread&quot; you&#39;re suggesting that each square has it&#39;s own `Thread`.  In this case, that&#39;s a bad idea. Let&#39;s put aside the thread synchronisation issues for a moment, more threads doesn&#39;t equate to more work you can do, at some point, it will begin to degrade the system performance.\r\n\r\nIn most cases, a single, well managed thread, is all you really need.  You also have to understand that Swing is NOT thread safe.  This means that you shouldn&#39;t update the UI (or states that the UI relies on) from outside the context of the Event Dispatching Thread.\r\n\r\nSo, while you&#39;re thread can update the position of the rects, you need to take care to ensure that they are not been painted while they are been update. Once you&#39;ve updated the state, you then need to trigger a paint pass (which is trivial in of itself)\r\n\r\n&gt; So I have to store each square object in the ArrayList.\r\n\r\nYep, good start\r\n\r\n&gt; However, I am having trouble with painting those squares. I can paint one square but when I try to paint multiple squares, it does not show.\r\n\r\nOkay, so instead of using multiple components, use one.  Run through your `ArrayList` within the `paintComponent` method of this component and paint all the rects to it.  This provides a much simpler way to manage things like bounds detection, as you have only one container to worry about.\r\n\r\nI&#39;d highly recommend you have a look at:\r\n\r\n- https://stackoverflow.com/questions/13022754/java-bouncing-ball which demonstrates many of the concepts discussed here\r\n- [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)\r\n- [How to use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)\r\n- [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)\r\n- [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html)","title":"Java Drawing Multiple Squares in Same JFrame","body":"<p>So, starting with...</p>\n<pre><code>public class DrawSquare extends JPanel {\n    public Square square;\n    public DrawSquare() {\n        square = new Square();\n    }\n\n    @Override\n    public void paintComponents(Graphics g) {\n        // TODO Auto-generated method stub\n        super.paintComponents(g);\n\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        // TODO Auto-generated method stub\n        super.paint(g);\n\n        g.setColor(square.getC());\n        g.fillRect(square.getX(), square.getY(), square.getR(), square.getR());\n    }\n}\n</code></pre>\n<p>As general recommendation, it's preferred to put custom painting in the <code>paintComponent</code> method (note, there's no <code>s</code> at the end)</p>\n<p>When <code>paint</code> is called, the <code>Graphics</code> context has already been translated to the component coordinate position.  This means that <code>0x0</code> is the top/left corner of the component, this also means that...</p>\n<pre><code>g.fillRect(square.getX(), square.getY(), square.getR(), square.getR());\n</code></pre>\n<p>is painting the rect at <code>x + x</code> x <code>y + y</code>, which will, at the very least, paint the rect in the wrong position, at worst paint it beyond the visible scope of the component.</p>\n<p>You're also not providing any sizing hints for the component, so it's default size will be <code>0x0</code>, which prevent it from been painted.</p>\n<blockquote>\n<p>Since I am using multi thread I assume I have to control each squares.</p>\n</blockquote>\n<p>Well, since I can't really see what's driving the animation, I imagine that when you say &quot;multi thread&quot; you're suggesting that each square has it's own <code>Thread</code>.  In this case, that's a bad idea. Let's put aside the thread synchronisation issues for a moment, more threads doesn't equate to more work you can do, at some point, it will begin to degrade the system performance.</p>\n<p>In most cases, a single, well managed thread, is all you really need.  You also have to understand that Swing is NOT thread safe.  This means that you shouldn't update the UI (or states that the UI relies on) from outside the context of the Event Dispatching Thread.</p>\n<p>So, while you're thread can update the position of the rects, you need to take care to ensure that they are not been painted while they are been update. Once you've updated the state, you then need to trigger a paint pass (which is trivial in of itself)</p>\n<blockquote>\n<p>So I have to store each square object in the ArrayList.</p>\n</blockquote>\n<p>Yep, good start</p>\n<blockquote>\n<p>However, I am having trouble with painting those squares. I can paint one square but when I try to paint multiple squares, it does not show.</p>\n</blockquote>\n<p>Okay, so instead of using multiple components, use one.  Run through your <code>ArrayList</code> within the <code>paintComponent</code> method of this component and paint all the rects to it.  This provides a much simpler way to manage things like bounds detection, as you have only one container to worry about.</p>\n<p>I'd highly recommend you have a look at:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/13022754/java-bouncing-ball\">Java Bouncing Ball</a> which demonstrates many of the concepts discussed here</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to use Swing Timers</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n</ul>\n"}],"owner":{"account_id":6000092,"reputation":382,"user_id":6654419,"accept_rate":56,"display_name":"rawsly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47463194,"answer_count":1,"score":0,"last_activity_date":1674599928,"creation_date":1511463160,"question_id":47461863,"body_markdown":"I am trying to make an animation with multiple thread. I want to paint *n* squares where this *n* comes from commend-line argument. Every square has their x-y coordinates, colors and speed. They are moving to the right of the frame with different speed, color and coordinates. Since I am using multi thread I assume I have to control each squares. So I have to store each square object in the ArrayList. However, I am having trouble with painting those squares. I can paint one square but when I try to paint multiple squares, it does not show. Here what I have done so far:\r\n\r\n**DrawSquare.java**\r\n\r\n    import java.awt.Graphics;\r\n\timport javax.swing.JPanel;\r\n\t\r\n\tpublic class DrawSquare extends JPanel {\r\n\t\tpublic Square square;\r\n\t\tpublic DrawSquare() {\r\n\t\t\tsquare = new Square();\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void paintComponents(Graphics g) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tsuper.paintComponents(g);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void paint(Graphics g) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tsuper.paint(g);\r\n\t\t\t\r\n\t\t\tg.setColor(square.getC());\r\n\t\t\tg.fillRect(square.getX(), square.getY(), square.getR(), square.getR());\r\n\t\t}\r\n\t}\r\n\r\n**Square.java**\r\n    \r\n    import java.awt.Color;\r\n\timport java.util.Random;\r\n\t\r\n\tpublic class Square {\r\n\t\tprivate int x,y,r,s;\r\n\t\tprivate Color c;\r\n\t\tprivate Random random;\r\n\t\r\n\t\tpublic Square() {\r\n\t\t\trandom = new Random();\r\n\t\t\tx = random.nextInt(100) + 30;\r\n\t\t\ty = random.nextInt(100) + 30;\r\n\t\t\tr = random.nextInt(50) + 20;\r\n\t\t\ts = random.nextInt(20) + 5;\r\n\t\t\tc = new Color(random.nextInt(255),random.nextInt(255),random.nextInt(255));\r\n\t\t}\r\n\t\r\n\t\tpublic int getX() {\r\n\t\t\treturn x;\r\n\t\t}\r\n\t\r\n\t\tpublic int getY() {\r\n\t\t\treturn y;\r\n\t\t}\r\n\t\r\n\t\tpublic int getR() {\r\n\t\t\treturn r;\r\n\t\t}\r\n\t\r\n\t\tpublic int getS() {\r\n\t\t\treturn s;\r\n\t\t}\r\n\t\r\n\t\tpublic Color getC() {\r\n\t\t\treturn c;\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Animation.java**\r\n\r\n    import java.awt.BorderLayout;\r\n\t\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\r\n\tpublic class Animation extends JFrame implements Runnable {\r\n\t\tprivate JPanel panel;\r\n\t\tprivate DrawSquare square;\r\n\t\t\r\n\t\tpublic Animation() {\r\n\t\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tAnimation w = new Animation();\r\n\t\t\tDrawSquare square = new DrawSquare();\r\n\t\t\tJFrame f = new JFrame(&quot;Week 9&quot;);\r\n\t\t\tint n = Integer.parseInt(args[0]);\r\n\t\t\tf.setVisible(true);\r\n\t\t\tf.setSize(700,700);\r\n\t\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tf.setResizable(false);\r\n\t\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\t\tf.getContentPane().add(square);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n","title":"Java Drawing Multiple Squares in Same JFrame","body":"<p>I am trying to make an animation with multiple thread. I want to paint <em>n</em> squares where this <em>n</em> comes from commend-line argument. Every square has their x-y coordinates, colors and speed. They are moving to the right of the frame with different speed, color and coordinates. Since I am using multi thread I assume I have to control each squares. So I have to store each square object in the ArrayList. However, I am having trouble with painting those squares. I can paint one square but when I try to paint multiple squares, it does not show. Here what I have done so far:</p>\n\n<p><strong>DrawSquare.java</strong></p>\n\n<pre><code>import java.awt.Graphics;\nimport javax.swing.JPanel;\n\npublic class DrawSquare extends JPanel {\n    public Square square;\n    public DrawSquare() {\n        square = new Square();\n    }\n\n    @Override\n    public void paintComponents(Graphics g) {\n        // TODO Auto-generated method stub\n        super.paintComponents(g);\n\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        // TODO Auto-generated method stub\n        super.paint(g);\n\n        g.setColor(square.getC());\n        g.fillRect(square.getX(), square.getY(), square.getR(), square.getR());\n    }\n}\n</code></pre>\n\n<p><strong>Square.java</strong></p>\n\n<pre><code>import java.awt.Color;\nimport java.util.Random;\n\npublic class Square {\n    private int x,y,r,s;\n    private Color c;\n    private Random random;\n\n    public Square() {\n        random = new Random();\n        x = random.nextInt(100) + 30;\n        y = random.nextInt(100) + 30;\n        r = random.nextInt(50) + 20;\n        s = random.nextInt(20) + 5;\n        c = new Color(random.nextInt(255),random.nextInt(255),random.nextInt(255));\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public int getR() {\n        return r;\n    }\n\n    public int getS() {\n        return s;\n    }\n\n    public Color getC() {\n        return c;\n    }\n}\n</code></pre>\n\n<p><strong>Animation.java</strong></p>\n\n<pre><code>import java.awt.BorderLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Animation extends JFrame implements Runnable {\n    private JPanel panel;\n    private DrawSquare square;\n\n    public Animation() {\n\n    }\n\n    public static void main(String[] args) {\n        Animation w = new Animation();\n        DrawSquare square = new DrawSquare();\n        JFrame f = new JFrame(\"Week 9\");\n        int n = Integer.parseInt(args[0]);\n        f.setVisible(true);\n        f.setSize(700,700);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setResizable(false);\n        for(int i=0; i&lt;n; i++) {\n            f.getContentPane().add(square);\n        }\n    }\n\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","intellij-idea","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1674620066,"post_id":75227923,"comment_id":132751334,"body_markdown":"`cell.getStringCellValue()` only works if the cell contains a string, else it throws exception. So your program breaks on second row at the cell having numeric content 1. See https://poi.apache.org/components/spreadsheet/quick-guide.html#CellContents for how to get cell contents properly.","body":"<code>cell.getStringCellValue()</code> only works if the cell contains a string, else it throws exception. So your program breaks on second row at the cell having numeric content 1. See <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#CellContents\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/&hellip;</a> for how to get cell contents properly."},{"owner":{"account_id":17303066,"reputation":187,"user_id":12532393,"display_name":"Anant Doshi"},"score":0,"creation_date":1675964355,"post_id":75227923,"comment_id":133045896,"body_markdown":"Try to for loop using sheet.getLastRow()","body":"Try to for loop using sheet.getLastRow()"}],"owner":{"account_id":27613488,"reputation":1,"user_id":21076073,"display_name":"FrancoRuiz48"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674599209,"creation_date":1674599209,"question_id":75227923,"body_markdown":"\r\nI have created this code to read the contents of excel files using Apache POI. I am using Intellij Idea as editor but when i ran the code i have a problem: only read the first row and not the rest. What&#39;s the problem? The content of excel is the following:\r\n \r\n\r\nMy dependencies with Maven:\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.ferreteria.ferreteria;\r\n\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.util.Iterator;\r\n\r\nimport org.apache.poi.ss.usermodel.*;\r\n\r\npublic class ExcelService {\r\n\r\n    public static void leer() {\r\n        String nombreArchivo = &quot;Libro1.xlsx&quot;;\r\n        String rutaArchivo = &quot;C:\\\\Users\\\\54261\\\\Downloads\\\\&quot; + nombreArchivo;\r\n\r\n        try (FileInputStream file = new FileInputStream(new File(rutaArchivo))) {\r\n            // leer archivo excel\r\n            Workbook worbook = WorkbookFactory.create(file);\r\n\r\n            //obtener la hoja que se va leer\r\n            Sheet sheet = worbook.getSheetAt(0);\r\n            //obtener todas las filas de la hoja excel\r\n            Iterator&lt;Row&gt; rowIterator = sheet.rowIterator();\r\n\r\n            Row row;\r\n\r\n            // se recorre cada fila hasta el final\r\n            while (rowIterator.hasNext()) {\r\n                row = rowIterator.next();\r\n                //se obtiene las celdas por fila\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                Cell cell;\r\n\r\n                //se recorre cada celda\r\n                while (cellIterator.hasNext()) {\r\n                    // se obtiene la celda en espec&#237;fico y se la imprime\r\n                    cell = cellIterator.next();\r\n                    System.out.print(cell.getStringCellValue()+&quot; | &quot;);\r\n\r\n                }\r\n                System.out.println();\r\n            }\r\n        } catch (Exception e) {\r\n            e.getMessage();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[Excel with data](https://i.stack.imgur.com/ujvLB.png)\r\n\r\nThe result was:\r\n[enter image description here](https://i.stack.imgur.com/nlVNB.png)\r\n\r\n\r\nI&#39;m trying to read all the excel file","title":"Cannot read all the rows of Excel with Spring MVC using Apache POI","body":"<p>I have created this code to read the contents of excel files using Apache POI. I am using Intellij Idea as editor but when i ran the code i have a problem: only read the first row and not the rest. What's the problem? The content of excel is the following:</p>\n<p>My dependencies with Maven:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>package com.ferreteria.ferreteria;\n\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.util.Iterator;\n\nimport org.apache.poi.ss.usermodel.*;\n\npublic class ExcelService {\n\n    public static void leer() {\n        String nombreArchivo = &quot;Libro1.xlsx&quot;;\n        String rutaArchivo = &quot;C:\\\\Users\\\\54261\\\\Downloads\\\\&quot; + nombreArchivo;\n\n        try (FileInputStream file = new FileInputStream(new File(rutaArchivo))) {\n            // leer archivo excel\n            Workbook worbook = WorkbookFactory.create(file);\n\n            //obtener la hoja que se va leer\n            Sheet sheet = worbook.getSheetAt(0);\n            //obtener todas las filas de la hoja excel\n            Iterator&lt;Row&gt; rowIterator = sheet.rowIterator();\n\n            Row row;\n\n            // se recorre cada fila hasta el final\n            while (rowIterator.hasNext()) {\n                row = rowIterator.next();\n                //se obtiene las celdas por fila\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                Cell cell;\n\n                //se recorre cada celda\n                while (cellIterator.hasNext()) {\n                    // se obtiene la celda en específico y se la imprime\n                    cell = cellIterator.next();\n                    System.out.print(cell.getStringCellValue()+&quot; | &quot;);\n\n                }\n                System.out.println();\n            }\n        } catch (Exception e) {\n            e.getMessage();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ujvLB.png\" rel=\"nofollow noreferrer\">Excel with data</a></p>\n<p>The result was:\n<a href=\"https://i.stack.imgur.com/nlVNB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I'm trying to read all the excel file</p>\n"},{"tags":["java","linux","web-applications","applet"],"answers":[{"tags":[],"owner":{"account_id":7412,"reputation":236624,"user_id":12870,"accept_rate":63,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267437025,"creation_date":1267437025,"answer_id":2354927,"question_id":2354872,"body_markdown":"These are how I thought of doing this, in order of complexity ***for me***:\r\n\r\n 1. Create a simple server-side-language (PHP/Python) website that can communicate with (ie launch and process the return of) your application\r\n\r\n 2. Modify your application to have a built-in webserver that just punched out HTML (command line parameters taken through the URL)\r\n\r\n 3. Modify the app to publish JSON and use javascript on a simple HTML page to pull it in.\r\n\r\nYou could write a Java applet (as you&#39;ve tagged this thread) but *I* think you&#39;d be wasting time. This can be quite simple if you&#39;re willing to spend 10 minutes looking up a few simple commands.","title":"web-browser based GUI","body":"<p>These are how I thought of doing this, in order of complexity <strong><em>for me</em></strong>:</p>\n\n<ol>\n<li><p>Create a simple server-side-language (PHP/Python) website that can communicate with (ie launch and process the return of) your application</p></li>\n<li><p>Modify your application to have a built-in webserver that just punched out HTML (command line parameters taken through the URL)</p></li>\n<li><p>Modify the app to publish JSON and use javascript on a simple HTML page to pull it in.</p></li>\n</ol>\n\n<p>You could write a Java applet (as you've tagged this thread) but <em>I</em> think you'd be wasting time. This can be quite simple if you're willing to spend 10 minutes looking up a few simple commands.</p>\n"},{"tags":[],"owner":{"account_id":83981,"reputation":31313,"user_id":235058,"accept_rate":70,"display_name":"Roland Bouman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1267438824,"creation_date":1267438824,"answer_id":2355092,"question_id":2354872,"body_markdown":"I would start by setting up a regular HTTP server, like lighttp or Apache httpd. \r\n\r\nYou say you already have a command line program that does the actual work - As a first step, I would reuse that, and configure the web server to call your program using CGI - see forexample [http://httpd.apache.org/docs/2.2/howto/cgi.html][1] for apache\r\n\r\nFinally, I&#39;d pick some javascript framework like jQuery or YUI with Ajax capabilities to do requests to the server to call the CGI script from within a webpage. You could also create a form-based web application without ajax or any framework, but that would require you to stuff all kinds of logic in your program to generate HTML pages. By using Ajax, you can leave the command line application as is, and parse any responses it gives with javascript, and then use that to dynamically change the webpage in a way that would make sense to the user.\r\n\r\nIf this all works, then I would try to figure out how to package all these components. Perhaps you just want to create a simple archive with all the programs inside, or maybe you want to go as far as actually embedding the webserver in your program. Alternatively, you may want to do it the other way around and rewrite your program as an ISAPI module that you can plug into your webserver. Or if that&#39;s not integrated enough still you could write your own (partial) HTTP server. That&#39;s really up to you (I&#39;d probably spend time and energy on searching for the leanest, meanest existing open source http serverr and use that instead)\r\n\r\nAt any rate, the prior steps won&#39;t be lost work. Most likely, developing the web page is going form a substantial part of the work, so I would probably create a quick and dirty working solution first using the age-old CGI trick, and then develop the webpage to my satisfaction. At that point you can already have an acceptable distributable solution by simply putting all programs in a single archive (of course you would have to tweak the webserver&#39;s configuration too, like changing the default port so it won&#39;t interfere with existing webservers.) Only after that I would spend time on creating a more integrated fancy solution.\r\n\r\n\r\n  [1]: http://httpd.apache.org/docs/2.2/howto/cgi.html","title":"web-browser based GUI","body":"<p>I would start by setting up a regular HTTP server, like lighttp or Apache httpd. </p>\n\n<p>You say you already have a command line program that does the actual work - As a first step, I would reuse that, and configure the web server to call your program using CGI - see forexample <a href=\"http://httpd.apache.org/docs/2.2/howto/cgi.html\" rel=\"nofollow noreferrer\">http://httpd.apache.org/docs/2.2/howto/cgi.html</a> for apache</p>\n\n<p>Finally, I'd pick some javascript framework like jQuery or YUI with Ajax capabilities to do requests to the server to call the CGI script from within a webpage. You could also create a form-based web application without ajax or any framework, but that would require you to stuff all kinds of logic in your program to generate HTML pages. By using Ajax, you can leave the command line application as is, and parse any responses it gives with javascript, and then use that to dynamically change the webpage in a way that would make sense to the user.</p>\n\n<p>If this all works, then I would try to figure out how to package all these components. Perhaps you just want to create a simple archive with all the programs inside, or maybe you want to go as far as actually embedding the webserver in your program. Alternatively, you may want to do it the other way around and rewrite your program as an ISAPI module that you can plug into your webserver. Or if that's not integrated enough still you could write your own (partial) HTTP server. That's really up to you (I'd probably spend time and energy on searching for the leanest, meanest existing open source http serverr and use that instead)</p>\n\n<p>At any rate, the prior steps won't be lost work. Most likely, developing the web page is going form a substantial part of the work, so I would probably create a quick and dirty working solution first using the age-old CGI trick, and then develop the webpage to my satisfaction. At that point you can already have an acceptable distributable solution by simply putting all programs in a single archive (of course you would have to tweak the webserver's configuration too, like changing the default port so it won't interfere with existing webservers.) Only after that I would spend time on creating a more integrated fancy solution.</p>\n"},{"tags":[],"owner":{"account_id":274324,"reputation":11,"user_id":566480,"display_name":"user566480"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294380503,"creation_date":1294380503,"answer_id":4622934,"question_id":2354872,"body_markdown":"I ended up using Wt though I&#39;d update for future reference. ","title":"web-browser based GUI","body":"<p>I ended up using Wt though I'd update for future reference. </p>\n"},{"tags":[],"owner":{"account_id":26683053,"reputation":230,"user_id":20292772,"display_name":"Albert Shown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674599070,"creation_date":1674599070,"answer_id":75227907,"question_id":2354872,"body_markdown":"After 12 years, web browser-based GUI started to appear, [WebUI][1] is one of them.\r\n\r\n\r\n  [1]: https://github.com/alifcommunity/webui","title":"web-browser based GUI","body":"<p>After 12 years, web browser-based GUI started to appear, <a href=\"https://github.com/alifcommunity/webui\" rel=\"nofollow noreferrer\">WebUI</a> is one of them.</p>\n"}],"owner":{"display_name":"user283491"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":2355092,"answer_count":4,"score":1,"last_activity_date":1674599070,"creation_date":1267436293,"question_id":2354872,"body_markdown":"I am working on an application in Linux which will interfaces with hardware. One of the requirements is to create the GUI in Web-browser . the application will be c++ based. I m not familiar with web realted stuff so i want to know Is it possible to do such a thing (currently it&#39;s a console application take input from txt file/cmd line). gui will be simple using button and showing output messages on browser from the application. i want to know which technologies/languages are involved and how can it be done. some of the idea i read but havn&#39;t found anything concrete yet. if u have any idea about these or a better suggestion please share\r\n\r\n- run the app in background and communicate with browser ? \r\n- call library functions directly from browser ?\r\n\r\nany other idea ?\r\n","title":"web-browser based GUI","body":"<p>I am working on an application in Linux which will interfaces with hardware. One of the requirements is to create the GUI in Web-browser . the application will be c++ based. I m not familiar with web realted stuff so i want to know Is it possible to do such a thing (currently it's a console application take input from txt file/cmd line). gui will be simple using button and showing output messages on browser from the application. i want to know which technologies/languages are involved and how can it be done. some of the idea i read but havn't found anything concrete yet. if u have any idea about these or a better suggestion please share</p>\n\n<ul>\n<li>run the app in background and communicate with browser ? </li>\n<li>call library functions directly from browser ?</li>\n</ul>\n\n<p>any other idea ?</p>\n"},{"tags":["java","methods","static"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674597879,"creation_date":1674596907,"answer_id":75227637,"question_id":75227499,"body_markdown":"Remove the static keyword from your methods and instance fields.  But to call them from within `main` you need to create an `instance` of the containing class (in this case the one that contains the `main` method) and use that to call the other methods.  What I do sometimes is to create an instance method (i.e. non-static) and call that to start the process.  Then everything that would be in main I would put in that method.  Here is an example.\r\n```\r\n    public static void main(String[] args) {\r\n        MatrixRefill mr = new MatrixRefill();\r\n        mr.start();\r\n    }\r\n    public void start() {\r\n        target = args[2];\r\n        rows = Integer.parseInt(args[1].substring(0,1));\r\n        cols = Integer.parseInt(args[1].substring(2));\r\n        matrix = matrixCreator(args[0]);\r\n        enemy = matrix[rows][cols];\r\n        recursive(rows, cols, target);\r\n        printer(matrix);\r\n    }\r\n    // rest of code here\r\n}\r\n```\r\nBy putting what was in `main` in the `start` method you can call the other instance methods and access instance fields without qualifying them with a reference to the class (i.e. in this case prefixing with `mr.`)\r\n","title":"How do I avoid making methods and variables static in this code?","body":"<p>Remove the static keyword from your methods and instance fields.  But to call them from within <code>main</code> you need to create an <code>instance</code> of the containing class (in this case the one that contains the <code>main</code> method) and use that to call the other methods.  What I do sometimes is to create an instance method (i.e. non-static) and call that to start the process.  Then everything that would be in main I would put in that method.  Here is an example.</p>\n<pre><code>    public static void main(String[] args) {\n        MatrixRefill mr = new MatrixRefill();\n        mr.start();\n    }\n    public void start() {\n        target = args[2];\n        rows = Integer.parseInt(args[1].substring(0,1));\n        cols = Integer.parseInt(args[1].substring(2));\n        matrix = matrixCreator(args[0]);\n        enemy = matrix[rows][cols];\n        recursive(rows, cols, target);\n        printer(matrix);\n    }\n    // rest of code here\n}\n</code></pre>\n<p>By putting what was in <code>main</code> in the <code>start</code> method you can call the other instance methods and access instance fields without qualifying them with a reference to the class (i.e. in this case prefixing with <code>mr.</code>)</p>\n"}],"owner":{"account_id":26491591,"reputation":27,"user_id":20129821,"display_name":"Arson1st"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75227637,"answer_count":1,"score":0,"last_activity_date":1674597879,"creation_date":1674595957,"question_id":75227499,"body_markdown":" I was solving past exams for my java class and I&#39;m struggling with one of them. I keep getting wrong result and I think its because all of classes and instance variables are static. How do I avoid making them static? Also this question basically wants you to find same letters of the location given in args[1] and convert them to the &quot;S&quot; if they are near of the given location (Args are &quot;K,K,K,Y-K,Y,M,M-K,Y,Y,Y 2,1 S&quot; if you need) \r\n\r\n    public class MatrixRefill {\r\n    \tpublic static String[][] matrix;\r\n    \tpublic static int rows;\r\n    \tpublic static int cols;\r\n    \tpublic static String enemy;      \r\n    \tpublic static String target;        \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttarget = args[2];\r\n    \t\trows = Integer.parseInt(args[1].substring(0,1));\r\n    \t\tcols = Integer.parseInt(args[1].substring(2));\r\n    \t\tmatrix = matrixCreator(args[0]);\r\n    \t\tenemy = matrix[rows][cols];\r\n    \t\trecursive(rows, cols, target);\r\n    \t\tprinter(matrix);\r\n    \t}\r\n    \tpublic static String[][] matrixCreator(String mx) {\r\n    \t\tint ro = 0;\r\n    \t\tint co = 0;\r\n    \t\tfor (int i = 0; i &lt; mx.length(); i++) {\r\n    \t\t\tif (mx.substring(i,i+1).equals(&quot;,&quot;))\r\n    \t\t\t\tco++;\r\n    \t\t\tif (mx.substring(i,i+1).equals(&quot;-&quot;))\r\n    \t\t\t\tro++;\r\n    \t\t}\r\n    \t\tString[][] matriks = new String[ro+1][co/3+1];\r\n    \t\tro = 0;\r\n    \t\tco = 0;\r\n    \t\tfor (int j = 0; j &lt; mx.length(); j++) {\r\n    \t\t\tif (mx.substring(j,j+1).equals(&quot;,&quot;))\r\n    \t\t\t\tco++;\r\n    \t\t\telse if (mx.substring(j,j+1).equals(&quot;-&quot;)) {\r\n    \t\t\t\tro++;\r\n    \t\t\t\tco = 0;\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t\tmatriks[ro][co] = mx.substring(j,j+1);\r\n    \t\t}\r\n    \t\treturn matriks;\r\n    \t}\t\r\n    \tpublic static void recursive(int row, int col, String target) {\r\n    \t\tif (valid(row,col)) {\r\n    \t\t\trecursive(row+1,col, target);\r\n    \t\t\trecursive(row,col+1, target);\r\n    \t\t\trecursive(row,col-1, target);\r\n    \t\t\trecursive(row-1,col, target);\r\n    \t\t\tmatrix[row][col] = target;\r\n    \t\t}\r\n    \t}\r\n    \tpublic static boolean valid(int row, int col) {\r\n    \t\tboolean result = false;\r\n    \t\tif (row &gt;= 0 &amp;&amp; row &lt; matrix.length &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; matrix[row].length)\r\n    \t\t\tif (matrix[row][col] == enemy)\r\n    \t\t\t\tresult = true;\r\n    \t\treturn result;\r\n    \t}\r\n    \tpublic static void printer(String[][] owo) {\r\n    \t\tfor(int i = 0; i &lt; owo.length; i++) {\r\n    \t\t    for(int j = 0; j &lt; owo[i].length; j++) {\r\n    \t\t        System.out.print(owo[i][j]);\r\n    \t\t        if(j &lt; owo[i].length - 1)\r\n    \t\t        \tSystem.out.print(&quot; &quot;);\r\n    \t\t    }\r\n    \t\t    System.out.println();\r\n    \t\t}\r\n    \t}\t\r\n    }","title":"How do I avoid making methods and variables static in this code?","body":"<p>I was solving past exams for my java class and I'm struggling with one of them. I keep getting wrong result and I think its because all of classes and instance variables are static. How do I avoid making them static? Also this question basically wants you to find same letters of the location given in args[1] and convert them to the &quot;S&quot; if they are near of the given location (Args are &quot;K,K,K,Y-K,Y,M,M-K,Y,Y,Y 2,1 S&quot; if you need)</p>\n<pre><code>public class MatrixRefill {\n    public static String[][] matrix;\n    public static int rows;\n    public static int cols;\n    public static String enemy;      \n    public static String target;        \n    public static void main(String[] args) {\n        target = args[2];\n        rows = Integer.parseInt(args[1].substring(0,1));\n        cols = Integer.parseInt(args[1].substring(2));\n        matrix = matrixCreator(args[0]);\n        enemy = matrix[rows][cols];\n        recursive(rows, cols, target);\n        printer(matrix);\n    }\n    public static String[][] matrixCreator(String mx) {\n        int ro = 0;\n        int co = 0;\n        for (int i = 0; i &lt; mx.length(); i++) {\n            if (mx.substring(i,i+1).equals(&quot;,&quot;))\n                co++;\n            if (mx.substring(i,i+1).equals(&quot;-&quot;))\n                ro++;\n        }\n        String[][] matriks = new String[ro+1][co/3+1];\n        ro = 0;\n        co = 0;\n        for (int j = 0; j &lt; mx.length(); j++) {\n            if (mx.substring(j,j+1).equals(&quot;,&quot;))\n                co++;\n            else if (mx.substring(j,j+1).equals(&quot;-&quot;)) {\n                ro++;\n                co = 0;\n            }\n            else\n                matriks[ro][co] = mx.substring(j,j+1);\n        }\n        return matriks;\n    }   \n    public static void recursive(int row, int col, String target) {\n        if (valid(row,col)) {\n            recursive(row+1,col, target);\n            recursive(row,col+1, target);\n            recursive(row,col-1, target);\n            recursive(row-1,col, target);\n            matrix[row][col] = target;\n        }\n    }\n    public static boolean valid(int row, int col) {\n        boolean result = false;\n        if (row &gt;= 0 &amp;&amp; row &lt; matrix.length &amp;&amp; col &gt;= 0 &amp;&amp; col &lt; matrix[row].length)\n            if (matrix[row][col] == enemy)\n                result = true;\n        return result;\n    }\n    public static void printer(String[][] owo) {\n        for(int i = 0; i &lt; owo.length; i++) {\n            for(int j = 0; j &lt; owo[i].length; j++) {\n                System.out.print(owo[i][j]);\n                if(j &lt; owo[i].length - 1)\n                    System.out.print(&quot; &quot;);\n            }\n            System.out.println();\n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","java-stream","lazy-evaluation","short-circuiting"],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674581972,"creation_date":1674581972,"answer_id":75225246,"question_id":75221416,"body_markdown":"This is caused by [JDK-8277306: stream with sorted() and concat() causes some ops not to be lazy](https://bugs.openjdk.org/browse/JDK-8277306), which was closed as “*Won’t fix*” with the following comment:\r\n\r\n&gt; Stream.concat takes the spliterator from each input stream and combines them to create a new spliterator from which a new stream is constructed. Thereby it binds to the sources of each stream to concatenate.\r\n&gt;\r\n&gt; It is currently not possible propagate the short circuiting property of the stream pipeline after the concatenation to pipeline before the concatenation. It comes down to resolving the push vs. pull differences across the spliterator boundary. That&#39;s a tricky problem, and one that Ilikely requires significant effort that I find hard to justify given the scope of the problem. ","title":"Weird streams behavior with sorted() and concat()","body":"<p>This is caused by <a href=\"https://bugs.openjdk.org/browse/JDK-8277306\" rel=\"nofollow noreferrer\">JDK-8277306: stream with sorted() and concat() causes some ops not to be lazy</a>, which was closed as “<em>Won’t fix</em>” with the following comment:</p>\n<blockquote>\n<p>Stream.concat takes the spliterator from each input stream and combines them to create a new spliterator from which a new stream is constructed. Thereby it binds to the sources of each stream to concatenate.</p>\n<p>It is currently not possible propagate the short circuiting property of the stream pipeline after the concatenation to pipeline before the concatenation. It comes down to resolving the push vs. pull differences across the spliterator boundary. That's a tricky problem, and one that Ilikely requires significant effort that I find hard to justify given the scope of the problem.</p>\n</blockquote>\n"}],"owner":{"account_id":2102061,"reputation":637,"user_id":1869409,"accept_rate":38,"display_name":"aviad cohen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75225246,"answer_count":1,"score":2,"last_activity_date":1674596658,"creation_date":1674562900,"question_id":75221416,"body_markdown":"Stream evaluation is usually lazy (by default), unless statefull operations exist as part of the pipeline. I encountered a case where the lazyness is violated due to stateful operation and I don&#39;t understand why it happens.\r\n\r\nConsider the following code:\r\n\r\n    List&lt;Integer&gt; l1 = List.of(4, 5, 3, 1, 2);\r\n    List&lt;Integer&gt; l2 = List.of(6, 7, 8, 9, 10);\r\n\r\n    Stream\r\n        .concat(\r\n            l1.stream()\r\n                .map(i -&gt; {\r\n                    System.out.println(&quot;in the map for &quot; + i);\r\n                    if (i % 3 != 0) {\r\n                        return null;\r\n                    }\r\n                    return i;\r\n                }),\r\n            l2.stream())\r\n        .filter(i -&gt; {\r\n            System.out.println(&quot;in the filter &quot; + i);\r\n            return i != null;\r\n        })\r\n        .findAny();\r\n\r\nIn details: \r\n\r\nI have two steams constructed out of integer lists (`l1` &amp; `l2`). Both streams are concatenated to form a new stream. \r\n\r\nThe `l1` stream goes through some mapping that converts every item not divisible by 3 to `null`; the `l2` stream is taken as is. On the concatenated stream, I am adding a filter (filters the non-null values only --&gt; so from the first stream, only the items divided to 3 will go through the pipeline) and finally a terminal operation `findAny` which triggers the stream&#39;s pipeline (and will effectively deliver back the first item divisible by 3 and stop the stream processing).\r\n\r\nThis code works as expected: first all `l1` items are consumed before `l2` items are reached. The output shows how `l1` mapping function is called followed by the concatenated-stream-filter function for the first two `l1` items, and the whole stream is finished when the 3rd item of `l1` is not converted to null and thus survives the filter:\r\n\r\n```\r\nin the map for 4\r\nin the filter null\r\nin the map for 5\r\nin the filter null\r\nin the map for 3\r\nin the filter 3\r\n```\r\n\r\nThe problem (or the thing I don&#39;t understand) starts when the `l1` stream is modified with the `.sorted` operation:\r\n```\r\nStream\r\n    .concat(\r\n        l1.stream()\r\n            .sorted()\r\n            .map(i -&gt; {\r\n                System.out.println(&quot;in the map for &quot; + i);\r\n                if (i % 3 != 0) {\r\n                    return null;\r\n                }\r\n                return i;\r\n            }),\r\n        l2.stream())\r\n    .filter(i -&gt; {\r\n        System.out.println(&quot;in the filter &quot; + i);\r\n        return i != null;\r\n    })\r\n    .findAny();\r\n```\r\n... now things look different:\r\n\r\n```\r\nin the map for 1\r\nin the map for 2\r\nin the map for 3\r\nin the map for 4\r\nin the map for 5\r\nin the filter null\r\nin the filter null\r\nin the filter 3\r\n```\r\nas sorted is statefull operation, I know that it first needs to consume the entire `l1` stream to sort its values. My surprise came as it seems that it also affects **the remaining of the `l1` pipeline** as the `map` function is called **eagerly** before any of the concatenated-stream-filter method invocations, as was before.\r\n\r\nI read [Java Streams - Buffering huge streams](https://stackoverflow.com/questions/61114380/java-streams-buffering-huge-streams) and [Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?](https://stackoverflow.com/questions/29229373/why-filter-after-flatmap-is-not-completely-lazy-in-java-streams/29230939#29230939), and I am already running on java 17 and working with `Stream.concat()` and I am not using `flatMap()` (at least not explicitly).\r\n\r\nCan you explain why ? What am I missing here ?","title":"Weird streams behavior with sorted() and concat()","body":"<p>Stream evaluation is usually lazy (by default), unless statefull operations exist as part of the pipeline. I encountered a case where the lazyness is violated due to stateful operation and I don't understand why it happens.</p>\n<p>Consider the following code:</p>\n<pre><code>List&lt;Integer&gt; l1 = List.of(4, 5, 3, 1, 2);\nList&lt;Integer&gt; l2 = List.of(6, 7, 8, 9, 10);\n\nStream\n    .concat(\n        l1.stream()\n            .map(i -&gt; {\n                System.out.println(&quot;in the map for &quot; + i);\n                if (i % 3 != 0) {\n                    return null;\n                }\n                return i;\n            }),\n        l2.stream())\n    .filter(i -&gt; {\n        System.out.println(&quot;in the filter &quot; + i);\n        return i != null;\n    })\n    .findAny();\n</code></pre>\n<p>In details:</p>\n<p>I have two steams constructed out of integer lists (<code>l1</code> &amp; <code>l2</code>). Both streams are concatenated to form a new stream.</p>\n<p>The <code>l1</code> stream goes through some mapping that converts every item not divisible by 3 to <code>null</code>; the <code>l2</code> stream is taken as is. On the concatenated stream, I am adding a filter (filters the non-null values only --&gt; so from the first stream, only the items divided to 3 will go through the pipeline) and finally a terminal operation <code>findAny</code> which triggers the stream's pipeline (and will effectively deliver back the first item divisible by 3 and stop the stream processing).</p>\n<p>This code works as expected: first all <code>l1</code> items are consumed before <code>l2</code> items are reached. The output shows how <code>l1</code> mapping function is called followed by the concatenated-stream-filter function for the first two <code>l1</code> items, and the whole stream is finished when the 3rd item of <code>l1</code> is not converted to null and thus survives the filter:</p>\n<pre><code>in the map for 4\nin the filter null\nin the map for 5\nin the filter null\nin the map for 3\nin the filter 3\n</code></pre>\n<p>The problem (or the thing I don't understand) starts when the <code>l1</code> stream is modified with the <code>.sorted</code> operation:</p>\n<pre><code>Stream\n    .concat(\n        l1.stream()\n            .sorted()\n            .map(i -&gt; {\n                System.out.println(&quot;in the map for &quot; + i);\n                if (i % 3 != 0) {\n                    return null;\n                }\n                return i;\n            }),\n        l2.stream())\n    .filter(i -&gt; {\n        System.out.println(&quot;in the filter &quot; + i);\n        return i != null;\n    })\n    .findAny();\n</code></pre>\n<p>... now things look different:</p>\n<pre><code>in the map for 1\nin the map for 2\nin the map for 3\nin the map for 4\nin the map for 5\nin the filter null\nin the filter null\nin the filter 3\n</code></pre>\n<p>as sorted is statefull operation, I know that it first needs to consume the entire <code>l1</code> stream to sort its values. My surprise came as it seems that it also affects <strong>the remaining of the <code>l1</code> pipeline</strong> as the <code>map</code> function is called <strong>eagerly</strong> before any of the concatenated-stream-filter method invocations, as was before.</p>\n<p>I read <a href=\"https://stackoverflow.com/questions/61114380/java-streams-buffering-huge-streams\">Java Streams - Buffering huge streams</a> and <a href=\"https://stackoverflow.com/questions/29229373/why-filter-after-flatmap-is-not-completely-lazy-in-java-streams/29230939#29230939\">Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?</a>, and I am already running on java 17 and working with <code>Stream.concat()</code> and I am not using <code>flatMap()</code> (at least not explicitly).</p>\n<p>Can you explain why ? What am I missing here ?</p>\n"},{"tags":["java","android","robolectric"],"comments":[{"owner":{"account_id":399491,"reputation":551,"user_id":764869,"display_name":"bystander"},"score":0,"creation_date":1375877511,"post_id":17593562,"comment_id":26500720,"body_markdown":"http://stackoverflow.com/questions/16645885/robolectric-2-1-and-eclipse Would this link help you out?","body":"<a href=\"http://stackoverflow.com/questions/16645885/robolectric-2-1-and-eclipse\" title=\"robolectric 2 1 and eclipse\">stackoverflow.com/questions/16645885/&hellip;</a> Would this link help you out?"}],"answers":[{"tags":[],"owner":{"account_id":2648745,"reputation":59,"user_id":2290947,"display_name":"DanFredell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379703340,"creation_date":1379703340,"answer_id":18923943,"question_id":17593562,"body_markdown":"It appears that [lots of people][1] are having this issue, and it causes no harm. So I would say just suppress that warning. \r\nCheck out [Suppressing Lint Warnings.][2]\r\nAlso this has been asked on Stack Overflow [before][3]. \r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/robolectric/FxSE3gRsbyM\r\n  [2]: http://tools.android.com/tips/lint/suppressing-lint-warnings\r\n  [3]: https://stackoverflow.com/questions/17357213/robolectric-and-android-in-eclipse-warning-no-system-properties-value-for-ro-b","title":"Android test &quot;ro.build.date.utc&quot; warning","body":"<p>It appears that <a href=\"https://groups.google.com/forum/#!topic/robolectric/FxSE3gRsbyM\" rel=\"nofollow noreferrer\">lots of people</a> are having this issue, and it causes no harm. So I would say just suppress that warning. \nCheck out <a href=\"http://tools.android.com/tips/lint/suppressing-lint-warnings\" rel=\"nofollow noreferrer\">Suppressing Lint Warnings.</a>\nAlso this has been asked on Stack Overflow <a href=\"https://stackoverflow.com/questions/17357213/robolectric-and-android-in-eclipse-warning-no-system-properties-value-for-ro-b\">before</a>. </p>\n"}],"owner":{"account_id":1821219,"reputation":6213,"user_id":1655245,"display_name":"Arik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4573,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1674596647,"creation_date":1373546111,"question_id":17593562,"body_markdown":"I&#39;m trying to use Robolectric to test my Android application, and I always get the following warning:\r\n\r\n    WARNING: no system properties value for ro.build.date.utc\r\n\r\nAny idea how to fix it?","title":"Android test &quot;ro.build.date.utc&quot; warning","body":"<p>I'm trying to use Robolectric to test my Android application, and I always get the following warning:</p>\n\n<pre><code>WARNING: no system properties value for ro.build.date.utc\n</code></pre>\n\n<p>Any idea how to fix it?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1674571105,"post_id":75216006,"comment_id":132739103,"body_markdown":"You don&#39;t need a `customReleaseStrategy` if you use `apply-sequence=&quot;true&quot;`: looks like you still try to rely on a standard group size releasing strategy anyway. That&#39;s first.","body":"You don&#39;t need a <code>customReleaseStrategy</code> if you use <code>apply-sequence=&quot;true&quot;</code>: looks like you still try to rely on a standard group size releasing strategy anyway. That&#39;s first."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1674571228,"post_id":75216006,"comment_id":132739157,"body_markdown":"`org.springframework.expression.AccessException: Unable to access property &#39;payload&#39; through getter method` - looks like you don&#39;t show everything to us: there is some error in some SpEL expression we don&#39;t see in your current code.","body":"<code>org.springframework.expression.AccessException: Unable to access property &#39;payload&#39; through getter method</code> - looks like you don&#39;t show everything to us: there is some error in some SpEL expression we don&#39;t see in your current code."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1674571285,"post_id":75216006,"comment_id":132739178,"body_markdown":"And you probably don&#39;t need those `&lt;bridge&gt;` definitions since you then just propagated down to your service activators. I believe the error you got is not relevant to the config you show us.","body":"And you probably don&#39;t need those <code>&lt;bridge&gt;</code> definitions since you then just propagated down to your service activators. I believe the error you got is not relevant to the config you show us."},{"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"score":0,"creation_date":1674584435,"post_id":75216006,"comment_id":132743812,"body_markdown":"Thanks Artem. I will go through the feedback. I have shared all the config files and related code. This is error Caused by: java.lang.IllegalStateException: Invalid method parameter for payload: was expecting collection.\n\tat org.springframework.util.Assert.state(Assert.java:76)\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper$ParametersWrapper.getPayload(MessagingMethodInvokerHelper.java:1384)","body":"Thanks Artem. I will go through the feedback. I have shared all the config files and related code. This is error Caused by: java.lang.IllegalStateException: Invalid method parameter for payload: was expecting collection. \tat org.springframework.util.Assert.state(Assert.java:76) \tat org.springframework.integration.handler.support.MessagingMet&zwnj;&#8203;hodInvokerHelper$Par&zwnj;&#8203;ametersWrapper.getPa&zwnj;&#8203;yload(MessagingMetho&zwnj;&#8203;dInvokerHelper.java:&zwnj;&#8203;1384)"},{"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"score":0,"creation_date":1674584471,"post_id":75216006,"comment_id":132743824,"body_markdown":"Also can you point me out how to write custom aggregator to aggregate the results from all the scatter channel?","body":"Also can you point me out how to write custom aggregator to aggregate the results from all the scatter channel?"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674584985,"creation_date":1674584985,"answer_id":75225765,"question_id":75216006,"body_markdown":"Can you show, please, the whole stack trace in your question and formatted properly? For custom aggregation function see `ref` attribute of the `&lt;gatherer&gt;`.\r\n\r\nAlthough I see you already use it, but you point to a wrong type `ReleaseStrategy`.\r\n\r\nThat `ref` have to be an implementation of `MessageGroupProcessor`. See some out-of-the-box types. Not sure why a `DefaultAggregatingMessageGroupProcessor` which produces a collection of payloads doesn&#39;t work for you...","title":"Aggregate response in Spring integration scatter gather","body":"<p>Can you show, please, the whole stack trace in your question and formatted properly? For custom aggregation function see <code>ref</code> attribute of the <code>&lt;gatherer&gt;</code>.</p>\n<p>Although I see you already use it, but you point to a wrong type <code>ReleaseStrategy</code>.</p>\n<p>That <code>ref</code> have to be an implementation of <code>MessageGroupProcessor</code>. See some out-of-the-box types. Not sure why a <code>DefaultAggregatingMessageGroupProcessor</code> which produces a collection of payloads doesn't work for you...</p>\n"}],"owner":{"account_id":1044116,"reputation":161,"user_id":1049469,"accept_rate":0,"display_name":"ProblemSolver"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75225765,"answer_count":1,"score":0,"last_activity_date":1674596333,"creation_date":1674515567,"question_id":75216006,"body_markdown":"I have a requirement of calling 3 different http endpoint which will return me a same domain object and gather the response of these 3 different http endpoint in a single object. I am using Spring scatter gather pattern for same and kind of lost how to aggregate results in single object.\r\nBelow is my scatter gather config file:\r\n\r\n    &lt;scatter-gather input-channel=&quot;inputDistribution&quot; output-channel=&quot;outputDistribution&quot; gather-channel=&quot;gatherChannel&quot; send-timeout=&quot;1000&quot;\r\n                    gather-timeout=&quot;1000&quot;&gt;\r\n        &lt;scatterer apply-sequence=&quot;true&quot;&gt;\r\n            &lt;recipient channel=&quot;distribution1Channel&quot;/&gt;\r\n            &lt;recipient channel=&quot;distribution2Channel&quot;/&gt;\r\n            &lt;recipient channel=&quot;distribution3Channel&quot;/&gt;\r\n        &lt;/scatterer&gt;\r\n        &lt;gatherer release-strategy=&quot;customReleaseStrategy&quot; ref=&quot;customReleaseStrategy&quot;/&gt;\r\n    &lt;/scatter-gather&gt;\r\n\r\n    &lt;channel id=&quot;gatherChannel&quot;&gt;\r\n        &lt;queue/&gt;\r\n    &lt;/channel&gt;\r\n\r\n    &lt;bridge input-channel=&quot;distribution1Channel&quot; output-channel=&quot;serviceChannel1&quot;/&gt;\r\n    &lt;bridge input-channel=&quot;distribution2Channel&quot; output-channel=&quot;serviceChannel2&quot;/&gt;\r\n    &lt;bridge input-channel=&quot;distribution3Channel&quot; output-channel=&quot;serviceChannel3&quot;/&gt;\r\n\r\n    &lt;service-activator input-channel=&quot;serviceChannel1&quot; output-channel=&quot;gatherChannel&quot; ref=&quot;firstService&quot; method=&quot;process&quot;/&gt;\r\n    &lt;service-activator input-channel=&quot;serviceChannel2&quot; output-channel=&quot;gatherChannel&quot; ref=&quot;secondService&quot; method=&quot;process&quot;/&gt;\r\n    &lt;service-activator input-channel=&quot;serviceChannel3&quot; output-channel=&quot;gatherChannel&quot; ref=&quot;thirdService&quot; method=&quot;process&quot;/&gt;\r\n\r\n    &lt;beans:bean id=&quot;firstService&quot; class=&quot;com.test.scattergather.service.FirstService&quot;/&gt;\r\n    &lt;beans:bean id=&quot;secondService&quot; class=&quot;com.test.scattergather.service.SecondService&quot;/&gt;\r\n    &lt;beans:bean id=&quot;thirdService&quot; class=&quot;com.test.scattergather.service.ThirdService&quot;/&gt;\r\n\r\n    &lt;beans:bean id=&quot;customReleaseStrategy&quot; class=&quot;com.test.scattergather.strategy.CustomReleaseStrategy&quot;/&gt;\r\n\r\nBelow is my service activator code which will call and endpoint and get a domain object\r\n\r\n  \tpublic class FirstService {\r\n    @ServiceActivator\r\n    public Dummy process() {\r\n        //In actual scenario, call api endpoint and get this object. This object will be populated from API response.\r\n\t\tdummy.setID(1);\r\n        Dummy dummy = new Dummy();\r\n        return dummy;\r\n    }}\r\n\r\nSimilarly secondService and thirdService will populate Dummy object by calling an endpoint.\r\n\r\nBelow is the code for ReleaseStrategy where i am checking if all the 3 responses has been received\r\n\r\n    public class CustomReleaseStrategy implements ReleaseStrategy {\r\n\r\n    @Override\r\n    public boolean canRelease(MessageGroup group) {\r\n        if(group.getMessages().size() == 3) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }}\r\n\r\nI am using below test to send the message:\r\n\r\n     this.inputDistribution.send(new GenericMessage&lt;&gt;(&quot;foo&quot;),1000);\r\n     Message&lt;?&gt; outputMessage = this.outputDistribution.receive(10000);\r\n\r\nAnd getting this error:  \r\n\r\n    15:24:11.579 [task-scheduler-2] DEBUG org.springframework.integration.handler.LoggingHandler - bean &#39;_org.springframework.integration.errorLogger.handler&#39; for component &#39;_org.springframework.integration.errorLogger&#39; received message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean &#39;org.springframework.integration.scattergather.ScatterGatherHandler#0.gatherer&#39;; defined in: &#39;class path resource [com/test/scattergather/scattergather/config/scatter-gather-context.xml]&#39;; from source: &#39;&#39;gatherer&#39;&#39;]; nested exception is org.springframework.expression.AccessException: Unable to access property &#39;payload&#39; through getter method, failedMessage=GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean &#39;gatherChannel&#39;, sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}], headers={id=19b6097a-2114-e896-4c00-49f818a6d9e6, timestamp=1674595451578}] for original GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean &#39;gatherChannel&#39;, sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}]\r\n    15:24:11.584 [task-scheduler-2] ERROR org.springframework.integration.handler.LoggingHandler - org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean &#39;org.springframework.integration.scattergather.ScatterGatherHandler#0.gatherer&#39;; defined in: &#39;class path resource [com/test/scattergather/scattergather/config/scatter-gather-context.xml]&#39;; from source: &#39;&#39;gatherer&#39;&#39;]; nested exception is org.springframework.expression.AccessException: Unable to access property &#39;payload&#39; through getter method, failedMessage=GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean &#39;gatherChannel&#39;, sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}]\r\n    \tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:65)\r\n    \tat org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:158)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:475)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:461)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:413)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n    \tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n    \tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n    \tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n    \tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.springframework.expression.AccessException: Unable to access property &#39;payload&#39; through getter method\r\n    \tat org.springframework.expression.spel.support.ReflectivePropertyAccessor$OptimalPropertyAccessor.read(ReflectivePropertyAccessor.java:708)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:204)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91)\r\n    \tat org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:164)\r\n    \tat org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:81)\r\n    \tat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70)\r\n    \tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91)\r\n    \tat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\r\n    \tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:376)\r\n    \tat org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)\r\n    \tat org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:154)\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:637)\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.fallbackToInvokeExpression(MessagingMethodInvokerHelper.java:630)\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInvokeExceptionAndFallbackToExpressionIfAny(MessagingMethodInvokerHelper.java:616)\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:587)\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:479)\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:363)\r\n    \tat org.springframework.integration.aggregator.MethodInvokingMessageListProcessor.process(MethodInvokingMessageListProcessor.java:92)\r\n    \tat org.springframework.integration.aggregator.MethodInvokingMessageGroupProcessor.aggregatePayloads(MethodInvokingMessageGroupProcessor.java:90)\r\n    \tat org.springframework.integration.aggregator.AbstractAggregatingMessageGroupProcessor.processMessageGroup(AbstractAggregatingMessageGroupProcessor.java:94)\r\n    \tat org.springframework.integration.aggregator.AbstractCorrelatingMessageHandler.completeGroup(AbstractCorrelatingMessageHandler.java:898)\r\n    \tat org.springframework.integration.aggregator.AbstractCorrelatingMessageHandler.processMessageForGroup(AbstractCorrelatingMessageHandler.java:574)\r\n    \tat org.springframework.integration.aggregator.AbstractCorrelatingMessageHandler.handleMessageInternal(AbstractCorrelatingMessageHandler.java:541)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\r\n    \t... 17 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.expression.spel.support.ReflectivePropertyAccessor$OptimalPropertyAccessor.read(ReflectivePropertyAccessor.java:704)\r\n    \t... 41 more\r\n    Caused by: java.lang.IllegalStateException: Invalid method parameter for payload: was expecting collection.\r\n    \tat org.springframework.util.Assert.state(Assert.java:76)\r\n    \tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper$ParametersWrapper.getPayload(MessagingMethodInvokerHelper.java:1384)\r\n    \t... 46 more\r\n    \r\n    15:24:11.586 [task-scheduler-2] DEBUG org.springframework.integration.channel.PublishSubscribeChannel - postSend (sent=true) on channel &#39;bean &#39;errorChannel&#39;&#39;, message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean &#39;org.springframework.integration.scattergather.ScatterGatherHandler#0.gatherer&#39;; defined in: &#39;class path resource [com/test/scattergather/scattergather/config/scatter-gather-context.xml]&#39;; from source: &#39;&#39;gatherer&#39;&#39;]; nested exception is org.springframework.expression.AccessException: Unable to access property &#39;payload&#39; through getter method, failedMessage=GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean &#39;gatherChannel&#39;, sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}], headers={id=19b6097a-2114-e896-4c00-49f818a6d9e6, timestamp=1674595451578}] for original GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean &#39;gatherChannel&#39;, sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}]\r\n    15:24:12.545 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = &#39;{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}&#39;, classes = &#39;{}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]]]\r\n    15:24:12.545 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]\r\n    15:24:12.553 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = &#39;{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}&#39;, classes = &#39;{}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]]]\r\n    15:24:12.554 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]\r\n    15:24:12.558 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = &#39;{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}&#39;, classes = &#39;{}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]]]\r\n    15:24:12.558 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 1]\r\n    15:24:12.559 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = &#39;{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}&#39;, classes = &#39;{}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]]]\r\n    15:24:12.559 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 1]\r\n    15:24:12.564 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = &#39;{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}&#39;, classes = &#39;{}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]]]\r\n    15:24:12.564 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 1]\r\n    15:24:12.569 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = &#39;{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}&#39;, classes = &#39;{}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]]]\r\n    15:24:12.570 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 1]\r\n    15:24:12.572 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@305e95a4 testClass = ScatterGatherConfigTest, testInstance = com.test.scattergather.scattergather.config.ScatterGatherConfigTest@67b8d45, testMethod = configDistributionTest@ScatterGatherConfigTest, testException = org.springframework.integration.handler.ReplyRequiredException: No reply produced by handler &#39;org.springframework.integration.scattergather.ScatterGatherHandler#0&#39;, and its &#39;requiresReply&#39; property is set to true., failedMessage=GenericMessage [payload=foo, headers={id=8a2e124d-ae9a-00b0-dc3e-f434849499c1, timestamp=1674595451468}], mergedContextConfiguration = [MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = &#39;{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}&#39;, classes = &#39;{}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{}&#39;, contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = &#39;org.springframework.test.context.support.DelegatingSmartContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents&#39; -&gt; false]], class annotated with @DirtiesContext [true] with mode [AFTER_CLASS], method annotated with @DirtiesContext [false] with mode [null].\r\n    \r\n    No reply produced by handler &#39;org.springframework.integration.scattergather.ScatterGatherHandler#0&#39;, and its &#39;requiresReply&#39; property is set to true.\r\n    org.springframework.integration.handler.ReplyRequiredException: No reply produced by handler &#39;org.springframework.integration.scattergather.ScatterGatherHandler#0&#39;, and its &#39;requiresReply&#39; property is set to true., failedMessage=GenericMessage [payload=foo, headers={id=8a2e124d-ae9a-00b0-dc3e-f434849499c1, timestamp=1674595451468}]\r\n    \tat app//org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:146)\r\n    \tat app//org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\r\n    \tat app//org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n    \tat app//org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n    \tat app//org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n    \tat app//org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n    \tat app//org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\r\n    \tat app//com.test.scattergather.scattergather.config.ScatterGatherConfigTest.configDistributionTest(ScatterGatherConfigTest.java:41)\r\n    \tat java.base@11.0.16/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base@11.0.16/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base@11.0.16/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base@11.0.16/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\r\n\r\nI want to know how to resolve this error and also how to aggregate the results from all the scatter channel?\r\n","title":"Aggregate response in Spring integration scatter gather","body":"<p>I have a requirement of calling 3 different http endpoint which will return me a same domain object and gather the response of these 3 different http endpoint in a single object. I am using Spring scatter gather pattern for same and kind of lost how to aggregate results in single object.\nBelow is my scatter gather config file:</p>\n<pre><code>&lt;scatter-gather input-channel=&quot;inputDistribution&quot; output-channel=&quot;outputDistribution&quot; gather-channel=&quot;gatherChannel&quot; send-timeout=&quot;1000&quot;\n                gather-timeout=&quot;1000&quot;&gt;\n    &lt;scatterer apply-sequence=&quot;true&quot;&gt;\n        &lt;recipient channel=&quot;distribution1Channel&quot;/&gt;\n        &lt;recipient channel=&quot;distribution2Channel&quot;/&gt;\n        &lt;recipient channel=&quot;distribution3Channel&quot;/&gt;\n    &lt;/scatterer&gt;\n    &lt;gatherer release-strategy=&quot;customReleaseStrategy&quot; ref=&quot;customReleaseStrategy&quot;/&gt;\n&lt;/scatter-gather&gt;\n\n&lt;channel id=&quot;gatherChannel&quot;&gt;\n    &lt;queue/&gt;\n&lt;/channel&gt;\n\n&lt;bridge input-channel=&quot;distribution1Channel&quot; output-channel=&quot;serviceChannel1&quot;/&gt;\n&lt;bridge input-channel=&quot;distribution2Channel&quot; output-channel=&quot;serviceChannel2&quot;/&gt;\n&lt;bridge input-channel=&quot;distribution3Channel&quot; output-channel=&quot;serviceChannel3&quot;/&gt;\n\n&lt;service-activator input-channel=&quot;serviceChannel1&quot; output-channel=&quot;gatherChannel&quot; ref=&quot;firstService&quot; method=&quot;process&quot;/&gt;\n&lt;service-activator input-channel=&quot;serviceChannel2&quot; output-channel=&quot;gatherChannel&quot; ref=&quot;secondService&quot; method=&quot;process&quot;/&gt;\n&lt;service-activator input-channel=&quot;serviceChannel3&quot; output-channel=&quot;gatherChannel&quot; ref=&quot;thirdService&quot; method=&quot;process&quot;/&gt;\n\n&lt;beans:bean id=&quot;firstService&quot; class=&quot;com.test.scattergather.service.FirstService&quot;/&gt;\n&lt;beans:bean id=&quot;secondService&quot; class=&quot;com.test.scattergather.service.SecondService&quot;/&gt;\n&lt;beans:bean id=&quot;thirdService&quot; class=&quot;com.test.scattergather.service.ThirdService&quot;/&gt;\n\n&lt;beans:bean id=&quot;customReleaseStrategy&quot; class=&quot;com.test.scattergather.strategy.CustomReleaseStrategy&quot;/&gt;\n</code></pre>\n<p>Below is my service activator code which will call and endpoint and get a domain object</p>\n<pre><code>public class FirstService {\n@ServiceActivator\npublic Dummy process() {\n    //In actual scenario, call api endpoint and get this object. This object will be populated from API response.\n    dummy.setID(1);\n    Dummy dummy = new Dummy();\n    return dummy;\n}}\n</code></pre>\n<p>Similarly secondService and thirdService will populate Dummy object by calling an endpoint.</p>\n<p>Below is the code for ReleaseStrategy where i am checking if all the 3 responses has been received</p>\n<pre><code>public class CustomReleaseStrategy implements ReleaseStrategy {\n\n@Override\npublic boolean canRelease(MessageGroup group) {\n    if(group.getMessages().size() == 3) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}}\n</code></pre>\n<p>I am using below test to send the message:</p>\n<pre><code> this.inputDistribution.send(new GenericMessage&lt;&gt;(&quot;foo&quot;),1000);\n Message&lt;?&gt; outputMessage = this.outputDistribution.receive(10000);\n</code></pre>\n<p>And getting this error:</p>\n<pre><code>15:24:11.579 [task-scheduler-2] DEBUG org.springframework.integration.handler.LoggingHandler - bean '_org.springframework.integration.errorLogger.handler' for component '_org.springframework.integration.errorLogger' received message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean 'org.springframework.integration.scattergather.ScatterGatherHandler#0.gatherer'; defined in: 'class path resource [com/test/scattergather/scattergather/config/scatter-gather-context.xml]'; from source: ''gatherer'']; nested exception is org.springframework.expression.AccessException: Unable to access property 'payload' through getter method, failedMessage=GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean 'gatherChannel', sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}], headers={id=19b6097a-2114-e896-4c00-49f818a6d9e6, timestamp=1674595451578}] for original GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean 'gatherChannel', sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}]\n15:24:11.584 [task-scheduler-2] ERROR org.springframework.integration.handler.LoggingHandler - org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean 'org.springframework.integration.scattergather.ScatterGatherHandler#0.gatherer'; defined in: 'class path resource [com/test/scattergather/scattergather/config/scatter-gather-context.xml]'; from source: ''gatherer'']; nested exception is org.springframework.expression.AccessException: Unable to access property 'payload' through getter method, failedMessage=GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean 'gatherChannel', sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:65)\n    at org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:158)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:475)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:461)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:413)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.expression.AccessException: Unable to access property 'payload' through getter method\n    at org.springframework.expression.spel.support.ReflectivePropertyAccessor$OptimalPropertyAccessor.read(ReflectivePropertyAccessor.java:708)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:204)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91)\n    at org.springframework.expression.spel.ast.MethodReference.getArguments(MethodReference.java:164)\n    at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:81)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:376)\n    at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)\n    at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:154)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:637)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.fallbackToInvokeExpression(MessagingMethodInvokerHelper.java:630)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInvokeExceptionAndFallbackToExpressionIfAny(MessagingMethodInvokerHelper.java:616)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:587)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:479)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:363)\n    at org.springframework.integration.aggregator.MethodInvokingMessageListProcessor.process(MethodInvokingMessageListProcessor.java:92)\n    at org.springframework.integration.aggregator.MethodInvokingMessageGroupProcessor.aggregatePayloads(MethodInvokingMessageGroupProcessor.java:90)\n    at org.springframework.integration.aggregator.AbstractAggregatingMessageGroupProcessor.processMessageGroup(AbstractAggregatingMessageGroupProcessor.java:94)\n    at org.springframework.integration.aggregator.AbstractCorrelatingMessageHandler.completeGroup(AbstractCorrelatingMessageHandler.java:898)\n    at org.springframework.integration.aggregator.AbstractCorrelatingMessageHandler.processMessageForGroup(AbstractCorrelatingMessageHandler.java:574)\n    at org.springframework.integration.aggregator.AbstractCorrelatingMessageHandler.handleMessageInternal(AbstractCorrelatingMessageHandler.java:541)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\n    ... 17 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.expression.spel.support.ReflectivePropertyAccessor$OptimalPropertyAccessor.read(ReflectivePropertyAccessor.java:704)\n    ... 41 more\nCaused by: java.lang.IllegalStateException: Invalid method parameter for payload: was expecting collection.\n    at org.springframework.util.Assert.state(Assert.java:76)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper$ParametersWrapper.getPayload(MessagingMethodInvokerHelper.java:1384)\n    ... 46 more\n\n15:24:11.586 [task-scheduler-2] DEBUG org.springframework.integration.channel.PublishSubscribeChannel - postSend (sent=true) on channel 'bean 'errorChannel'', message: ErrorMessage [payload=org.springframework.messaging.MessageHandlingException: error occurred in message handler [bean 'org.springframework.integration.scattergather.ScatterGatherHandler#0.gatherer'; defined in: 'class path resource [com/test/scattergather/scattergather/config/scatter-gather-context.xml]'; from source: ''gatherer'']; nested exception is org.springframework.expression.AccessException: Unable to access property 'payload' through getter method, failedMessage=GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean 'gatherChannel', sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}], headers={id=19b6097a-2114-e896-4c00-49f818a6d9e6, timestamp=1674595451578}] for original GenericMessage [payload=com.test.scattergather.domain.Dummy@28b1ccd1, headers={gatherResultChannel=org.springframework.integration.channel.QueueChannel@7879348, replyChannel=bean 'gatherChannel', sequenceNumber=3, sequenceSize=3, correlationId=ee0c2cd6-7650-3f31-e093-3c0da197ac8b, id=ab7a162c-73aa-d7ac-608b-a93923c38969, timestamp=1674595451526}]\n15:24:12.545 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = '{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]\n15:24:12.545 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]\n15:24:12.553 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = '{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]\n15:24:12.554 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]\n15:24:12.558 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = '{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]\n15:24:12.558 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 1]\n15:24:12.559 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = '{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]\n15:24:12.559 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 1]\n15:24:12.564 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = '{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]\n15:24:12.564 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 1]\n15:24:12.569 [Test worker] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext [758700911] from cache with key [[MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = '{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]\n15:24:12.570 [Test worker] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@5e6dcfa size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 1]\n15:24:12.572 [Test worker] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@305e95a4 testClass = ScatterGatherConfigTest, testInstance = com.test.scattergather.scattergather.config.ScatterGatherConfigTest@67b8d45, testMethod = configDistributionTest@ScatterGatherConfigTest, testException = org.springframework.integration.handler.ReplyRequiredException: No reply produced by handler 'org.springframework.integration.scattergather.ScatterGatherHandler#0', and its 'requiresReply' property is set to true., failedMessage=GenericMessage [payload=foo, headers={id=8a2e124d-ae9a-00b0-dc3e-f434849499c1, timestamp=1674595451468}], mergedContextConfiguration = [MergedContextConfiguration@55e42684 testClass = ScatterGatherConfigTest, locations = '{classpath:/com/test/scattergather/scattergather/config/scatter-gather-context.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c497a55, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@2f86f9cf, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6dded900, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@39c7fb0b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -&gt; false]], class annotated with @DirtiesContext [true] with mode [AFTER_CLASS], method annotated with @DirtiesContext [false] with mode [null].\n\nNo reply produced by handler 'org.springframework.integration.scattergather.ScatterGatherHandler#0', and its 'requiresReply' property is set to true.\norg.springframework.integration.handler.ReplyRequiredException: No reply produced by handler 'org.springframework.integration.scattergather.ScatterGatherHandler#0', and its 'requiresReply' property is set to true., failedMessage=GenericMessage [payload=foo, headers={id=8a2e124d-ae9a-00b0-dc3e-f434849499c1, timestamp=1674595451468}]\n    at app//org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:146)\n    at app//org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\n    at app//org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at app//org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at app//org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at app//org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at app//org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\n    at app//com.test.scattergather.scattergather.config.ScatterGatherConfigTest.configDistributionTest(ScatterGatherConfigTest.java:41)\n    at java.base@11.0.16/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@11.0.16/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base@11.0.16/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@11.0.16/java.lang.reflect.Method.invoke(Method.java:566)\n</code></pre>\n<p>I want to know how to resolve this error and also how to aggregate the results from all the scatter channel?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":1589697,"reputation":382,"user_id":1473320,"display_name":"kashev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674596129,"creation_date":1674596129,"answer_id":75227522,"question_id":72577001,"body_markdown":"To directly answer your question: assuming you&#39;re using a relatively modern version of QueryDSL, you should be able to use a `BooleanBuilder`:\r\n\r\n```lang-java\r\nQOrder order = QOrder.order;\r\nSQLQuery&lt;Order&gt; query = from(order);\r\nquery.where(order.status.eq(&quot;ready&quot;));\r\n// Example data\r\nList&lt;List&lt;String&gt;&gt; filterTypes = ImmutableList.of(\r\n        ImmutableList.of(&quot;t1&quot;, &quot;t2&quot;),\r\n        ImmutableList.of(&quot;t3&quot;, &quot;t4&quot;));\r\n\r\nBooleanBuilder builder = new BooleanBuilder();\r\n\r\nfor (List&lt;String&gt; types : filterTypes) {\r\n    builder.or(order.type.in(types));\r\n}\r\n\r\nquery.where(builder);\r\n```\r\n\r\nBacking up, assuming your actual application data model is similar to the example you provided, this:\r\n```lang-sql\r\no.type in (t1,t2) or o.type in (t3,t4)\r\n```\r\nIs equivalent to:\r\n```lang-sql\r\no.type in (t1,t2,t3,t4)\r\n```\r\nYou could translate your `List&lt;List&lt;String&gt;&gt;` into `List&lt;String&gt;` and do your type query update once:\r\n```lang-java\r\nQOrder order = QOrder.order;\r\nSQLQuery&lt;Order&gt; query = from(order);\r\nquery.where(order.status.eq(&quot;ready&quot;));\r\n// Example data\r\nList&lt;List&lt;String&gt;&gt; filterTypes = ImmutableList.of(\r\n        ImmutableList.of(&quot;t1&quot;, &quot;t2&quot;),\r\n        ImmutableList.of(&quot;t3&quot;, &quot;t4&quot;));\r\nList&lt;String&gt; flatFilterTypes = filterTypes.stream().flatMap(List::stream).collect(Collectors.toList());\r\nquery.where(order.type.in(flatFilterTypes));\r\n```\r\n\r\nI _suspect_ that your database&#39;s query optimizer would do the same thing for either query (you&#39;d have to check a [query execution plan to be sure](https://www.postgresql.org/docs/current/using-explain.html)), but it&#39;d probably be more clear what&#39;s going on if you did simplified the query on the Java side rather than relying on the database query optimizer.","title":"Query dsl - Looping through a list to create OR predicates","body":"<p>To directly answer your question: assuming you're using a relatively modern version of QueryDSL, you should be able to use a <code>BooleanBuilder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>QOrder order = QOrder.order;\nSQLQuery&lt;Order&gt; query = from(order);\nquery.where(order.status.eq(&quot;ready&quot;));\n// Example data\nList&lt;List&lt;String&gt;&gt; filterTypes = ImmutableList.of(\n        ImmutableList.of(&quot;t1&quot;, &quot;t2&quot;),\n        ImmutableList.of(&quot;t3&quot;, &quot;t4&quot;));\n\nBooleanBuilder builder = new BooleanBuilder();\n\nfor (List&lt;String&gt; types : filterTypes) {\n    builder.or(order.type.in(types));\n}\n\nquery.where(builder);\n</code></pre>\n<p>Backing up, assuming your actual application data model is similar to the example you provided, this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>o.type in (t1,t2) or o.type in (t3,t4)\n</code></pre>\n<p>Is equivalent to:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>o.type in (t1,t2,t3,t4)\n</code></pre>\n<p>You could translate your <code>List&lt;List&lt;String&gt;&gt;</code> into <code>List&lt;String&gt;</code> and do your type query update once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>QOrder order = QOrder.order;\nSQLQuery&lt;Order&gt; query = from(order);\nquery.where(order.status.eq(&quot;ready&quot;));\n// Example data\nList&lt;List&lt;String&gt;&gt; filterTypes = ImmutableList.of(\n        ImmutableList.of(&quot;t1&quot;, &quot;t2&quot;),\n        ImmutableList.of(&quot;t3&quot;, &quot;t4&quot;));\nList&lt;String&gt; flatFilterTypes = filterTypes.stream().flatMap(List::stream).collect(Collectors.toList());\nquery.where(order.type.in(flatFilterTypes));\n</code></pre>\n<p>I <em>suspect</em> that your database's query optimizer would do the same thing for either query (you'd have to check a <a href=\"https://www.postgresql.org/docs/current/using-explain.html\" rel=\"nofollow noreferrer\">query execution plan to be sure</a>), but it'd probably be more clear what's going on if you did simplified the query on the Java side rather than relying on the database query optimizer.</p>\n"}],"owner":{"account_id":6532709,"reputation":432,"user_id":5053357,"accept_rate":38,"display_name":"Nero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674596129,"creation_date":1654876437,"question_id":72577001,"body_markdown":"How do I dynamically create &quot;OR&quot; predicates if I have a `List&lt;List&lt;String&gt;&gt;`\r\nI am using query dsl and spring data.\r\n\r\n    QOrder order = QOrder.order;\r\n    JPQLQuery&lt;Order&gt; query = from(order);\r\n    query.where(order.status.eq(&quot;ready&quot;));\r\n    List&lt;List&lt;String&gt;&gt; filterTypes;\r\n\r\nThis is what I am trying to do:\r\n\r\n    for(List&lt;String&gt; types : filterTypes) {\r\n        query.where(order.type.in(types));\r\n    }\r\n\r\nSo the result should be something like\r\n\r\n    select * from order o where o.status=&#39;ready&#39; and (o.type in(t1,t2) or o.type in(t3,t4))","title":"Query dsl - Looping through a list to create OR predicates","body":"<p>How do I dynamically create &quot;OR&quot; predicates if I have a <code>List&lt;List&lt;String&gt;&gt;</code>\nI am using query dsl and spring data.</p>\n<pre><code>QOrder order = QOrder.order;\nJPQLQuery&lt;Order&gt; query = from(order);\nquery.where(order.status.eq(&quot;ready&quot;));\nList&lt;List&lt;String&gt;&gt; filterTypes;\n</code></pre>\n<p>This is what I am trying to do:</p>\n<pre><code>for(List&lt;String&gt; types : filterTypes) {\n    query.where(order.type.in(types));\n}\n</code></pre>\n<p>So the result should be something like</p>\n<pre><code>select * from order o where o.status='ready' and (o.type in(t1,t2) or o.type in(t3,t4))\n</code></pre>\n"},{"tags":["java","kotlin","android-camera","arcore","screen-capture"],"comments":[{"owner":{"account_id":13859796,"reputation":10065,"user_id":10005707,"display_name":"Jaswant Singh"},"score":0,"creation_date":1702293207,"post_id":75227417,"comment_id":136874332,"body_markdown":"Have you found the solution?","body":"Have you found the solution?"}],"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674595287,"creation_date":1674595287,"question_id":75227417,"body_markdown":"I&#39;m working on an augmented reality application based on ARCore. I&#39;d need to capture the screen to perform some extra manipulation, which wouldn&#39;t be a real time manipulation so it won&#39;t be in the OpenGL / shader level.\r\n\r\nI&#39;m calling the ARCore frame&#39;s `acquireCameraImage` https://developers.google.com/ar/reference/java/com/google/ar/core/Frame#acquireCameraImage()\r\nIt returns a YUV_420_888 image but the dimensions are unexpected (to me). My phone&#39;s screen has 1920x1080 resolution (16:9 aspect ratio). The returned YUV Image from the API has a 640x480 resolution (4:3 aspect ratio). I&#39;d need to access the unaugmented screen resolution (or at least aspect ratio) image.\r\n\r\nWhat&#39;s the best way to achieve that?","title":"How to obtain screen aspect ratio unaugmented camera image in an ARCore application?","body":"<p>I'm working on an augmented reality application based on ARCore. I'd need to capture the screen to perform some extra manipulation, which wouldn't be a real time manipulation so it won't be in the OpenGL / shader level.</p>\n<p>I'm calling the ARCore frame's <code>acquireCameraImage</code> <a href=\"https://developers.google.com/ar/reference/java/com/google/ar/core/Frame#acquireCameraImage()\" rel=\"nofollow noreferrer\">https://developers.google.com/ar/reference/java/com/google/ar/core/Frame#acquireCameraImage()</a>\nIt returns a YUV_420_888 image but the dimensions are unexpected (to me). My phone's screen has 1920x1080 resolution (16:9 aspect ratio). The returned YUV Image from the API has a 640x480 resolution (4:3 aspect ratio). I'd need to access the unaugmented screen resolution (or at least aspect ratio) image.</p>\n<p>What's the best way to achieve that?</p>\n"},{"tags":["java","mockito","powermockito","testng.xml"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674589149,"post_id":75222794,"comment_id":132745219,"body_markdown":"I don&#39;t think your test is testing anything useful; everything is mocked out. What are you trying to test?","body":"I don&#39;t think your test is testing anything useful; everything is mocked out. What are you trying to test?"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674595214,"creation_date":1674589033,"answer_id":75226430,"question_id":75222794,"body_markdown":"You have to ask yourself: what is your test actually testing? I&#39;d say: nothing. Everything important is mocked out and the method simply returns what you tell the mocked object to return. So in effect, you are testing that Mockito/PowerMock does its job properly.\r\n\r\nMore useful tests could be:\r\n\r\n* Calling the method and verifying that the result is a non-empty string\r\n* Calling the method and verifying that the result is a valid base64 string\r\n* Calling the method two times and asserting that the result is different for both calls (real randomness allows the method to return the same output two times in a row, but the chances are really, _really_ slim for 32 bytes of random data).\r\n\r\nNB Do not create a new instance of `SecureRandom` every time your method is called; create it once when the class is loaded and reuse that instance.\r\n\r\nOr even better: inject the random instance, so you can replace it with a test double when testing. That way you have full control over the generated random value and can thus assert the method&#39;s output.\r\n\r\n****\r\n\r\nIgnoring that, back to your question:\r\n\r\n`Base64.getUrlEncoder()` is never set up to return anything but the default. The default for non-setup&#39;ed methods is … `null` mostly (with some exceptions, such as empty collections).\r\n\r\nEither manually stub every call in your chain, or specify `Answers.RETURNS_DEEP_STUBS` (so every call would return another call).\r\n\r\nAlso, if your test throws an exception, your `mockStatic` resource is never closed. It&#39;s better to use the try-with-resources pattern when working with `AutoCloseable` instances: it handles all the error conditions properly and closes your resource under any circumstances:\r\n\r\n    try (MockedStatic&lt;Base64&gt; mockedStaticBase64 = mockStatic(Base64.class)) {\r\n        String codeVerifier= &quot;&quot;;\r\n        when(Base64.getUrlEncoder().withoutPadding().encodeToString(any())).thenReturn(codeVerifier);\r\n        final String codeVerifierReturned = PkceUtil.generateCodeVerifier();\r\n        \r\n        assertEquals(codeVerifierReturned, codeVerifier);\r\n        verify(Base64.getUrlEncoder().withoutPadding().encodeToString(any()));   \r\n    }\r\n\r\nOne question though: why do you want to mock the UrlEncoder to always return an empty string? If it is passed an empty string, it should already return one. What do you gain by mocking it (and then verifying that the mock has been called)?\r\n\r\nPS. [Everytime a mock returns a mock a fairy dies](https://tuhrig.de/everytime-a-mock-returns-a-mock-a-fairy-dies/)","title":"Nullpointerexception in when of testNG testing method","body":"<p>You have to ask yourself: what is your test actually testing? I'd say: nothing. Everything important is mocked out and the method simply returns what you tell the mocked object to return. So in effect, you are testing that Mockito/PowerMock does its job properly.</p>\n<p>More useful tests could be:</p>\n<ul>\n<li>Calling the method and verifying that the result is a non-empty string</li>\n<li>Calling the method and verifying that the result is a valid base64 string</li>\n<li>Calling the method two times and asserting that the result is different for both calls (real randomness allows the method to return the same output two times in a row, but the chances are really, <em>really</em> slim for 32 bytes of random data).</li>\n</ul>\n<p>NB Do not create a new instance of <code>SecureRandom</code> every time your method is called; create it once when the class is loaded and reuse that instance.</p>\n<p>Or even better: inject the random instance, so you can replace it with a test double when testing. That way you have full control over the generated random value and can thus assert the method's output.</p>\n<hr />\n<p>Ignoring that, back to your question:</p>\n<p><code>Base64.getUrlEncoder()</code> is never set up to return anything but the default. The default for non-setup'ed methods is … <code>null</code> mostly (with some exceptions, such as empty collections).</p>\n<p>Either manually stub every call in your chain, or specify <code>Answers.RETURNS_DEEP_STUBS</code> (so every call would return another call).</p>\n<p>Also, if your test throws an exception, your <code>mockStatic</code> resource is never closed. It's better to use the try-with-resources pattern when working with <code>AutoCloseable</code> instances: it handles all the error conditions properly and closes your resource under any circumstances:</p>\n<pre><code>try (MockedStatic&lt;Base64&gt; mockedStaticBase64 = mockStatic(Base64.class)) {\n    String codeVerifier= &quot;&quot;;\n    when(Base64.getUrlEncoder().withoutPadding().encodeToString(any())).thenReturn(codeVerifier);\n    final String codeVerifierReturned = PkceUtil.generateCodeVerifier();\n    \n    assertEquals(codeVerifierReturned, codeVerifier);\n    verify(Base64.getUrlEncoder().withoutPadding().encodeToString(any()));   \n}\n</code></pre>\n<p>One question though: why do you want to mock the UrlEncoder to always return an empty string? If it is passed an empty string, it should already return one. What do you gain by mocking it (and then verifying that the mock has been called)?</p>\n<p>PS. <a href=\"https://tuhrig.de/everytime-a-mock-returns-a-mock-a-fairy-dies/\" rel=\"nofollow noreferrer\">Everytime a mock returns a mock a fairy dies</a></p>\n"}],"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75226430,"answer_count":1,"score":0,"last_activity_date":1674595214,"creation_date":1674569800,"question_id":75222794,"body_markdown":"I have to test a method with testNG framework:\r\n\r\n    public class PkceUtil {\r\n    \r\n        private PkceUtil(){\r\n            super();\r\n        }\r\n    \r\n        /**\r\n         * External application use this method for generating a Base64 URL encoded alphanumeric string of characters\r\n         * with a minimum length of 43 characters and a maximum length of 128 characters (code verifier).\r\n         * @return code verifier\r\n         */\r\n        public static String generateCodeVerifier(){\r\n            SecureRandom secureRandom = new SecureRandom();\r\n            byte[] codeVerifier = new byte[32];\r\n            secureRandom.nextBytes(codeVerifier);\r\n            return Base64.getUrlEncoder().withoutPadding().encodeToString(codeVerifier);\r\n        }\r\n    ..\r\n\r\nBut i get a Nullpointer in when(**Base64.getUrlEncoder()**...\r\n\r\n\r\n    import org.mockito.MockedStatic;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.testng.PowerMockTestCase;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import java.util.Base64;\r\n    \r\n    import static org.mockito.Mockito.*;\r\n    import static org.testng.Assert.assertEquals;\r\n    \r\n    @PrepareForTest(Base64.class)\r\n    public class PkceUtilTest extends PowerMockTestCase {\r\n    \r\n    \r\n        @Test\r\n        public void testGenerateCodeVerifier() {\r\n            MockedStatic&lt;Base64&gt; mockedStaticBase64 = mockStatic(Base64.class);\r\n            String codeVerifier= &quot;&quot;;\r\n            23: --&gt;when(Base64.getUrlEncoder().withoutPadding().encodeToString(any())).thenReturn(codeVerifier);\r\n            final String codeVerifierReturned = PkceUtil.generateCodeVerifier();\r\n            \r\n            assertEquals(codeVerifierReturned, codeVerifier);\r\n            verify(Base64.getUrlEncoder().withoutPadding().encodeToString(any()));\r\n            \r\n            mockedStaticBase64.close();\r\n        }\r\n    }\r\n\r\n\r\njava.lang.NullPointerException\r\n\tat com.cadit.oidc.sdk.pkce.PkceUtilTest.testGenerateCodeVerifier(PkceUtilTest.java:23)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:764)\r\n\tat org.testng.TestRunner.run(TestRunner.java:585)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\r\n\r\n     &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                    &lt;version&gt;7.3.0&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.0.7&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.13&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.13&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n\r\nWhat&#39;s wrong with my test code?\r\n\r\nthanks ","title":"Nullpointerexception in when of testNG testing method","body":"<p>I have to test a method with testNG framework:</p>\n<pre><code>public class PkceUtil {\n\n    private PkceUtil(){\n        super();\n    }\n\n    /**\n     * External application use this method for generating a Base64 URL encoded alphanumeric string of characters\n     * with a minimum length of 43 characters and a maximum length of 128 characters (code verifier).\n     * @return code verifier\n     */\n    public static String generateCodeVerifier(){\n        SecureRandom secureRandom = new SecureRandom();\n        byte[] codeVerifier = new byte[32];\n        secureRandom.nextBytes(codeVerifier);\n        return Base64.getUrlEncoder().withoutPadding().encodeToString(codeVerifier);\n    }\n..\n</code></pre>\n<p>But i get a Nullpointer in when(<strong>Base64.getUrlEncoder()</strong>...</p>\n<pre><code>import org.mockito.MockedStatic;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.testng.PowerMockTestCase;\nimport org.testng.annotations.Test;\n\nimport java.util.Base64;\n\nimport static org.mockito.Mockito.*;\nimport static org.testng.Assert.assertEquals;\n\n@PrepareForTest(Base64.class)\npublic class PkceUtilTest extends PowerMockTestCase {\n\n\n    @Test\n    public void testGenerateCodeVerifier() {\n        MockedStatic&lt;Base64&gt; mockedStaticBase64 = mockStatic(Base64.class);\n        String codeVerifier= &quot;&quot;;\n        23: --&gt;when(Base64.getUrlEncoder().withoutPadding().encodeToString(any())).thenReturn(codeVerifier);\n        final String codeVerifierReturned = PkceUtil.generateCodeVerifier();\n        \n        assertEquals(codeVerifierReturned, codeVerifier);\n        verify(Base64.getUrlEncoder().withoutPadding().encodeToString(any()));\n        \n        mockedStaticBase64.close();\n    }\n}\n</code></pre>\n<p>java.lang.NullPointerException\nat com.cadit.oidc.sdk.pkce.PkceUtilTest.testGenerateCodeVerifier(PkceUtilTest.java:23)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.util.ArrayList.forEach(ArrayList.java:1257)\nat org.testng.TestRunner.privateRun(TestRunner.java:764)\nat org.testng.TestRunner.run(TestRunner.java:585)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\nat org.testng.SuiteRunner.run(SuiteRunner.java:286)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)</p>\n<pre><code> &lt;dependency&gt;\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;version&gt;7.3.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n                &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\n                &lt;version&gt;2.0.7&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n                &lt;version&gt;3.5.13&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n                &lt;version&gt;3.5.13&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>What's wrong with my test code?</p>\n<p>thanks</p>\n"},{"tags":["java","sql","postgresql","eclipselink","postgres-14"],"comments":[{"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"score":0,"creation_date":1674640473,"post_id":75226129,"comment_id":132755739,"body_markdown":"In case there is a question about the `UUIDEclipseConverter` - it is a converter ispired by [this answer](https://stackoverflow.com/a/61291101/2915423).","body":"In case there is a question about the <code>UUIDEclipseConverter</code> - it is a converter ispired by <a href=\"https://stackoverflow.com/a/61291101/2915423\">this answer</a>."},{"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"score":0,"creation_date":1674652655,"post_id":75226129,"comment_id":132759670,"body_markdown":"I switched to a better workaround using [UuidGenerator](https://www.eclipse.org/eclipselink/api/2.7/org/eclipse/persistence/annotations/UuidGenerator.html), so I can avoid using `PrePersist` listener. But it is still a workaround as the value is generated on the application side.","body":"I switched to a better workaround using <a href=\"https://www.eclipse.org/eclipselink/api/2.7/org/eclipse/persistence/annotations/UuidGenerator.html\" rel=\"nofollow noreferrer\">UuidGenerator</a>, so I can avoid using <code>PrePersist</code> listener. But it is still a workaround as the value is generated on the application side."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1674661313,"post_id":75226129,"comment_id":132762829,"body_markdown":"UUIDGenerator that generates one app side is better IMO, as you can pre-allocated sequences independent of the database - so outside the transaction - and not have to obtain them &#39;after&#39; the insert. Identity didn&#39;t work all that well (or at all) with batch inserts on most DBs from what I remember, as lastval only returns the &#39;last&#39; value generated, not sequence of them. You might look at https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_returninsert.htm which, if you look at how it works for the Oracle platform, might be adapted for Postgres too - or use a stored proc","body":"UUIDGenerator that generates one app side is better IMO, as you can pre-allocated sequences independent of the database - so outside the transaction - and not have to obtain them &#39;after&#39; the insert. Identity didn&#39;t work all that well (or at all) with batch inserts on most DBs from what I remember, as lastval only returns the &#39;last&#39; value generated, not sequence of them. You might look at <a href=\"https://www.eclipse.org/eclipselink/documentation/2.4/jpa/extensions/a_returninsert.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.4/jpa/extensions/&hellip;</a> which, if you look at how it works for the Oracle platform, might be adapted for Postgres too - or use a stored proc"}],"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674594147,"creation_date":1674587155,"question_id":75226129,"body_markdown":"I have a database running on `postgres` 14 RDBMS. This (relatively) late version has been selected specifically because it features `UUID` `DEFAULT` generation function.\r\n\r\nThe application that uses the DB is `JAX RS` `java` application running within `Payara` application container using `JPA` `EclipseLink` as its DB layer (ORM). I have configured the application to work with UUIDs as PKs almost without a problem so far as I was only *reading* the entities (that have `UUID` primary keys to be exact).\r\n\r\nRecently I am implementing a `POST` endpoint, that is to `INSERT` a record. Now there is a problem with `PK` `id` generation.\r\n\r\nThe table is defined like this:\r\n\r\n```\r\nCREATE TABLE field (                                                            \r\n    id UUID NOT NULL PRIMARY KEY DEFAULT gen_random_uuid(),                     \r\n    ...                                              \r\n);\r\n```\r\nUntil now I had the entity defined like this:\r\n\r\n```\r\n@Entity                                                                         \r\n@Converter(name=&quot;uuidConverter&quot;, converterClass=UUIDEclipseConverter.class)     \r\n@Table(name=&quot;field&quot;)                                                  \r\npublic class Field {                                                   \r\n                                                                                \r\n    @Id                                                                         \r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)                         \r\n    @Convert(&quot;uuidConverter&quot;)                                                   \r\n    @Column(nullable = false)                                                   \r\n    private UUID id;                                                \r\n\r\n    ...\r\n```\r\nAnd it works OK for reading the entites, relating to other entities even the UUIDs work as a part of composite keys of other tables.\r\n\r\nBut once I tried to insert an entity like this, the query fails. Three different failures for three different generation strategies:\r\n\r\n 1. `GenerationType.IDENTITY`:\r\n\r\nCrashes spectacularly with\r\n```\r\nException [EclipseLink-4002] (Eclipse Persistence Services - 2.7.9.payara-p1): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: org.postgresql.util.PSQLException: ERROR: lastval is not yet defined in this session\r\nError Code: 0\r\nCall: select lastval()\r\nQuery: ValueReadQuery(name=&quot;SEQ_GEN_IDENTITY&quot; sql=&quot;select lastval()&quot;)\r\n...\r\n```\r\n* There is no sequence, so the origin of the error is understandable.\r\n\r\n2. `GenerationType.TABLE`:\r\n```\r\nException [EclipseLink-4002] (Eclipse Persistence Services - 2.7.9.payara-p1): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: org.postgresql.util.PSQLException: ERROR: relation &quot;planner.sequence&quot; does not exist\r\n  Position: 8\r\nError Code: 0\r\nCall: UPDATE planner.SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\r\n\tbind =&gt; [2 parameters bound]\r\nQuery: DataModifyQuery(name=&quot;SEQ_GEN_TABLE&quot; sql=&quot;UPDATE planner.SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?&quot;)\r\n...\r\n```\r\n* Again, expecting a sequence, thus the failure.\r\n\r\n3. `GenerationType.SEQUENCE`: \r\nWithout much hope I tried the last option.\r\n```\r\nInternal Exception: org.postgresql.util.PSQLException: ERROR: relation &quot;planner.seq_gen_sequence&quot; does not exist\r\n  Position: 16\r\nError Code: 0\r\nCall: select nextval(&#39;planner.SEQ_GEN_SEQUENCE&#39;)\r\n...\r\n```\r\n* Understandably a failure occurred.\r\n\r\nSo I wonder how to achive to utilize the `DEFAULT` generation for a `PK` `ID` the RDBMS provides. \r\n\r\nAnother approaches I tried so far:\r\n\r\n 1. I had an idea just to remove the `GeneratedValue` annotation. I must admit it sounded quite promising, but failed, because the Eclipselink doesn&#39;t know it should utilize the `DEFAULT` generation the RDBMS provides. And so it tries to `INSERT` `NULL` value into a `NOT NULL` column.\r\n 2. Then I tried to set both `insertable` and `updatable` column properties to `false` which also fails, because JPA needs a writable PK identifier.\r\n3. So I removed `updatable` column property and the `INSERT` worked. But the JPA won&#39;t hydrate the autogenerated ID into the entity, so I cannot deterministically recognize which record had just been created, so not an ideal solution as well (I also need to return the ID to my API&#39;s consumer for it to be able to address the same record later)\r\n\r\nFor now I am using a workaround based on stripping the `GeneratedValue` annotation and generating random `UUID` at the application side via `PrePersist` listener, which I don&#39;t like, but can live with should there be no better solution. Ie:\r\n```\r\n@Entity                                                                         \r\n@Converter(name=&quot;uuidConverter&quot;, converterClass=UUIDEclipseConverter.class)     \r\n@Table(name=&quot;field&quot;)                                                            \r\npublic class Field {                                                            \r\n                                                                                \r\n    @Id                                                                         \r\n    @Convert(&quot;uuidConverter&quot;)                                                   \r\n    @Column(nullable = false, columnDefinition=&quot;uuid&quot;)                          \r\n    private UUID id;                                           \r\n\r\n    ...\r\n\r\n    @PrePersist                                                                 \r\n    private void prePersist() {                                                 \r\n        if (id != null)                                                         \r\n            return;                                                             \r\n        // TODO: I do not like this solution at all                             \r\n        id = UUID.randomUUID();                                                 \r\n    }                                                                           \r\n}   \r\n```\r\n\r\nMy question therefore is:\r\n\r\nIs there a way to configure EclipseLink JPA (via entity annotation?) to utilize a `DEFAULT` value provided for a `PK` column by RDBMS (Posgres 14&#39;s `gen_random_uuid()` function specifically) without the need to generate it manually on the application side?\r\n\r\nThere surely has to be an elegant solution, has it not?\r\n\r\nVersions:\r\n * Java openjdk version &quot;1.8.0_312&quot;\r\n * Payara (full) 5.2021.10\r\n * EclipseLink 2.7\r\n * PostgreSQL 14.6\r\n\r\n(no hibernate, no spring)\r\n\r\nThe whole stack is running in a docker environment which DNM IMO.","title":"Is there a way to use generated Identity PK (UUID as DEFAULT) using Eclipselink on Postgres 14?","body":"<p>I have a database running on <code>postgres</code> 14 RDBMS. This (relatively) late version has been selected specifically because it features <code>UUID</code> <code>DEFAULT</code> generation function.</p>\n<p>The application that uses the DB is <code>JAX RS</code> <code>java</code> application running within <code>Payara</code> application container using <code>JPA</code> <code>EclipseLink</code> as its DB layer (ORM). I have configured the application to work with UUIDs as PKs almost without a problem so far as I was only <em>reading</em> the entities (that have <code>UUID</code> primary keys to be exact).</p>\n<p>Recently I am implementing a <code>POST</code> endpoint, that is to <code>INSERT</code> a record. Now there is a problem with <code>PK</code> <code>id</code> generation.</p>\n<p>The table is defined like this:</p>\n<pre><code>CREATE TABLE field (                                                            \n    id UUID NOT NULL PRIMARY KEY DEFAULT gen_random_uuid(),                     \n    ...                                              \n);\n</code></pre>\n<p>Until now I had the entity defined like this:</p>\n<pre><code>@Entity                                                                         \n@Converter(name=&quot;uuidConverter&quot;, converterClass=UUIDEclipseConverter.class)     \n@Table(name=&quot;field&quot;)                                                  \npublic class Field {                                                   \n                                                                                \n    @Id                                                                         \n    @GeneratedValue(strategy = GenerationType.IDENTITY)                         \n    @Convert(&quot;uuidConverter&quot;)                                                   \n    @Column(nullable = false)                                                   \n    private UUID id;                                                \n\n    ...\n</code></pre>\n<p>And it works OK for reading the entites, relating to other entities even the UUIDs work as a part of composite keys of other tables.</p>\n<p>But once I tried to insert an entity like this, the query fails. Three different failures for three different generation strategies:</p>\n<ol>\n<li><code>GenerationType.IDENTITY</code>:</li>\n</ol>\n<p>Crashes spectacularly with</p>\n<pre><code>Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.9.payara-p1): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: org.postgresql.util.PSQLException: ERROR: lastval is not yet defined in this session\nError Code: 0\nCall: select lastval()\nQuery: ValueReadQuery(name=&quot;SEQ_GEN_IDENTITY&quot; sql=&quot;select lastval()&quot;)\n...\n</code></pre>\n<ul>\n<li>There is no sequence, so the origin of the error is understandable.</li>\n</ul>\n<ol start=\"2\">\n<li><code>GenerationType.TABLE</code>:</li>\n</ol>\n<pre><code>Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.9.payara-p1): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: org.postgresql.util.PSQLException: ERROR: relation &quot;planner.sequence&quot; does not exist\n  Position: 8\nError Code: 0\nCall: UPDATE planner.SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?\n    bind =&gt; [2 parameters bound]\nQuery: DataModifyQuery(name=&quot;SEQ_GEN_TABLE&quot; sql=&quot;UPDATE planner.SEQUENCE SET SEQ_COUNT = SEQ_COUNT + ? WHERE SEQ_NAME = ?&quot;)\n...\n</code></pre>\n<ul>\n<li>Again, expecting a sequence, thus the failure.</li>\n</ul>\n<ol start=\"3\">\n<li><code>GenerationType.SEQUENCE</code>:\nWithout much hope I tried the last option.</li>\n</ol>\n<pre><code>Internal Exception: org.postgresql.util.PSQLException: ERROR: relation &quot;planner.seq_gen_sequence&quot; does not exist\n  Position: 16\nError Code: 0\nCall: select nextval('planner.SEQ_GEN_SEQUENCE')\n...\n</code></pre>\n<ul>\n<li>Understandably a failure occurred.</li>\n</ul>\n<p>So I wonder how to achive to utilize the <code>DEFAULT</code> generation for a <code>PK</code> <code>ID</code> the RDBMS provides.</p>\n<p>Another approaches I tried so far:</p>\n<ol>\n<li>I had an idea just to remove the <code>GeneratedValue</code> annotation. I must admit it sounded quite promising, but failed, because the Eclipselink doesn't know it should utilize the <code>DEFAULT</code> generation the RDBMS provides. And so it tries to <code>INSERT</code> <code>NULL</code> value into a <code>NOT NULL</code> column.</li>\n<li>Then I tried to set both <code>insertable</code> and <code>updatable</code> column properties to <code>false</code> which also fails, because JPA needs a writable PK identifier.</li>\n<li>So I removed <code>updatable</code> column property and the <code>INSERT</code> worked. But the JPA won't hydrate the autogenerated ID into the entity, so I cannot deterministically recognize which record had just been created, so not an ideal solution as well (I also need to return the ID to my API's consumer for it to be able to address the same record later)</li>\n</ol>\n<p>For now I am using a workaround based on stripping the <code>GeneratedValue</code> annotation and generating random <code>UUID</code> at the application side via <code>PrePersist</code> listener, which I don't like, but can live with should there be no better solution. Ie:</p>\n<pre><code>@Entity                                                                         \n@Converter(name=&quot;uuidConverter&quot;, converterClass=UUIDEclipseConverter.class)     \n@Table(name=&quot;field&quot;)                                                            \npublic class Field {                                                            \n                                                                                \n    @Id                                                                         \n    @Convert(&quot;uuidConverter&quot;)                                                   \n    @Column(nullable = false, columnDefinition=&quot;uuid&quot;)                          \n    private UUID id;                                           \n\n    ...\n\n    @PrePersist                                                                 \n    private void prePersist() {                                                 \n        if (id != null)                                                         \n            return;                                                             \n        // TODO: I do not like this solution at all                             \n        id = UUID.randomUUID();                                                 \n    }                                                                           \n}   \n</code></pre>\n<p>My question therefore is:</p>\n<p>Is there a way to configure EclipseLink JPA (via entity annotation?) to utilize a <code>DEFAULT</code> value provided for a <code>PK</code> column by RDBMS (Posgres 14's <code>gen_random_uuid()</code> function specifically) without the need to generate it manually on the application side?</p>\n<p>There surely has to be an elegant solution, has it not?</p>\n<p>Versions:</p>\n<ul>\n<li>Java openjdk version &quot;1.8.0_312&quot;</li>\n<li>Payara (full) 5.2021.10</li>\n<li>EclipseLink 2.7</li>\n<li>PostgreSQL 14.6</li>\n</ul>\n<p>(no hibernate, no spring)</p>\n<p>The whole stack is running in a docker environment which DNM IMO.</p>\n"},{"tags":["java","json","parsing","gson"],"answers":[{"tags":[],"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1385147912,"creation_date":1385147912,"answer_id":20152805,"question_id":20152710,"body_markdown":"Try \r\n\r\n    String result = jobj.get(&quot;test&quot;).getAsString();\r\n\r\nget(String) method returns [JsonElement][1] object which you then should get the value from.\r\n\r\n\r\n  [1]: http://google-gson.googlecode.com/svn/tags/1.2.3/docs/javadocs/com/google/gson/JsonElement.html","title":"GSON - Get JSON value from String","body":"<p>Try </p>\n\n<pre><code>String result = jobj.get(\"test\").getAsString();\n</code></pre>\n\n<p>get(String) method returns <a href=\"http://google-gson.googlecode.com/svn/tags/1.2.3/docs/javadocs/com/google/gson/JsonElement.html\" rel=\"noreferrer\">JsonElement</a> object which you then should get the value from.</p>\n"},{"tags":[],"owner":{"account_id":3542644,"reputation":3919,"user_id":2959331,"display_name":"Sanj"},"down_vote_count":0,"up_vote_count":89,"is_accepted":true,"score":89,"last_activity_date":1385156312,"creation_date":1385148090,"answer_id":20152866,"question_id":20152710,"body_markdown":"    double result = jobj.get(&quot;test&quot;).getAsDouble();\r\n","title":"GSON - Get JSON value from String","body":"<pre><code>double result = jobj.get(\"test\").getAsDouble();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8102714,"reputation":1403,"user_id":6105280,"display_name":"Timetrax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536930318,"creation_date":1535473743,"answer_id":52062526,"question_id":20152710,"body_markdown":"\r\n    double getDoubleFromString = Double.parseDouble(result);\r\n\r\nEDIT: \r\nper the comment below: Here is some explanation\r\n\r\nif you ever have a string =&gt; in this case &quot;result&quot; was set to a string on line 3. The key &quot;test&quot; in the myJSONString variable has a value of 100.00 In order to &quot;DOUBLEFY&quot; this value of 100.00, you call the parseDouble method from the Double class. Thats is how to convert a VALID string double into a double Double.parseDouble(result); will turn the string &quot;result&#39; into a double ","title":"GSON - Get JSON value from String","body":"<pre><code>double getDoubleFromString = Double.parseDouble(result);\n</code></pre>\n\n<p>EDIT: \nper the comment below: Here is some explanation</p>\n\n<p>if you ever have a string => in this case \"result\" was set to a string on line 3. The key \"test\" in the myJSONString variable has a value of 100.00 In order to \"DOUBLEFY\" this value of 100.00, you call the parseDouble method from the Double class. Thats is how to convert a VALID string double into a double Double.parseDouble(result); will turn the string \"result' into a double </p>\n"}],"owner":{"account_id":2182911,"reputation":3963,"user_id":1931996,"accept_rate":64,"display_name":"jan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116564,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":20152866,"answer_count":3,"score":76,"last_activity_date":1674594100,"creation_date":1385147593,"question_id":20152710,"body_markdown":"I&#39;m trying to parse the JSON String &quot;{&#39;test&#39;: &#39;100.00&#39;}&quot; and in order to get the value: `100.00` with the GSON library. My code looks like this:\r\n\r\n\r\n\tString myJSONString = &quot;{&#39;test&#39;: &#39;100.00&#39;}&quot;;\r\n\tJsonObject jobj = new Gson().fromJson(myJSONString, JsonObject.class);\r\n\r\n\tString result = jobj.get(&quot;test&quot;).toString();\r\n\r\n\tSystem.out.println(result);\r\n\r\nMy result looks like this: `&quot;100.00&quot;`, but I would need just `100.00` without the quotes. How can this be achieved? ","title":"GSON - Get JSON value from String","body":"<p>I'm trying to parse the JSON String &quot;{'test': '100.00'}&quot; and in order to get the value: <code>100.00</code> with the GSON library. My code looks like this:</p>\n<pre><code>String myJSONString = &quot;{'test': '100.00'}&quot;;\nJsonObject jobj = new Gson().fromJson(myJSONString, JsonObject.class);\n\nString result = jobj.get(&quot;test&quot;).toString();\n\nSystem.out.println(result);\n</code></pre>\n<p>My result looks like this: <code>&quot;100.00&quot;</code>, but I would need just <code>100.00</code> without the quotes. How can this be achieved?</p>\n"},{"tags":["java","android","kotlin","callback","azure-ad-msal"],"owner":{"account_id":113220,"reputation":15923,"user_id":298288,"accept_rate":55,"display_name":"stefan.at.kotlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674593930,"creation_date":1674593930,"question_id":75227244,"body_markdown":"I want to to be notified if the logged in user in MSAL changes. I therefore used `msalClient.getCurrentAccountAsync(callback)` but the callback is only called once initially, not after changes like logging in. Is that the intended behaviour? How can I observe the logged in user? Do I have to build my own wrapper around MSAL so I know a user logged in/logged out etc?\r\n\r\n\r\n    val msalClient = PublicClientApplication.createSingleAccountPublicClientApplication(\r\n    \tapplicationContext,\r\n    \tR.raw.msal_config\r\n    )\r\n    \r\n    val callback = object : CurrentAccountCallback {\r\n    \toverride fun onAccountLoaded(activeAccount: IAccount?) {\r\n    \t\tTimber.i(&quot;MSAL monitor login: getCurrentAccountAsync callback onAccountLoaded&quot;)\r\n    \t}\r\n    \r\n    \toverride fun onAccountChanged(\r\n    \t\tpriorAccount: IAccount?,\r\n    \t\tcurrentAccount: IAccount?\r\n    \t) {\r\n    \t\tTimber.i(&quot;MSAL monitor login: getCurrentAccountAsync callback onAccountChanged&quot;)\r\n    \t}\r\n    \r\n    \toverride fun onError(exception: MsalException) {\r\n    \t\tTimber.e(&quot;MSAL monitor login: getCurrentAccountAsync callback onError, exception follows:&quot;)\r\n    \t}\r\n    }\r\n    \r\n    msalClient.getCurrentAccountAsync(callback)\r\n    // callback is fired once directly after registering it\r\n    \r\n    // call msalClient.signIn(...) and sign in\r\n    // I would expect the callback to be fired again after the login but it is not\r\n\r\n","title":"Observe logged in user in MSAL?","body":"<p>I want to to be notified if the logged in user in MSAL changes. I therefore used <code>msalClient.getCurrentAccountAsync(callback)</code> but the callback is only called once initially, not after changes like logging in. Is that the intended behaviour? How can I observe the logged in user? Do I have to build my own wrapper around MSAL so I know a user logged in/logged out etc?</p>\n<pre><code>val msalClient = PublicClientApplication.createSingleAccountPublicClientApplication(\n    applicationContext,\n    R.raw.msal_config\n)\n\nval callback = object : CurrentAccountCallback {\n    override fun onAccountLoaded(activeAccount: IAccount?) {\n        Timber.i(&quot;MSAL monitor login: getCurrentAccountAsync callback onAccountLoaded&quot;)\n    }\n\n    override fun onAccountChanged(\n        priorAccount: IAccount?,\n        currentAccount: IAccount?\n    ) {\n        Timber.i(&quot;MSAL monitor login: getCurrentAccountAsync callback onAccountChanged&quot;)\n    }\n\n    override fun onError(exception: MsalException) {\n        Timber.e(&quot;MSAL monitor login: getCurrentAccountAsync callback onError, exception follows:&quot;)\n    }\n}\n\nmsalClient.getCurrentAccountAsync(callback)\n// callback is fired once directly after registering it\n\n// call msalClient.signIn(...) and sign in\n// I would expect the callback to be fired again after the login but it is not\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":3930885,"reputation":1913,"user_id":3249497,"accept_rate":22,"display_name":"Sergiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653045350,"creation_date":1653045350,"answer_id":72318039,"question_id":72135559,"body_markdown":"I also experienced the same issue. And it seems not to be fixed yet(in 6.0.1).\r\n\r\nAt least I see in https://github.com/hibernate/hibernate-orm/blob/c18e611ed6786fd62a6bf2d17c39589c2452fe35/hibernate-core/src/main/java/org/hibernate/internal/FastSessionServices.java that old (and deprecated) javax.* properties are still set and then logged by LegacySpecHelper:\r\n\r\n    p.putIfAbsent( AvailableSettings.FLUSH_MODE, FlushMode.AUTO.name() );\r\n    p.putIfAbsent( JPA_LOCK_SCOPE, PessimisticLockScope.EXTENDED.name() );\r\n    p.putIfAbsent( JAKARTA_LOCK_SCOPE, PessimisticLockScope.EXTENDED.name() );\r\n    p.putIfAbsent( JPA_LOCK_TIMEOUT, LockOptions.WAIT_FOREVER );","title":"Upgrading to hibernate 6: Encountered deprecated setting [javax.persistence.lock.timeout], use [jakarta.persistence.lock.timeout] instead","body":"<p>I also experienced the same issue. And it seems not to be fixed yet(in 6.0.1).</p>\n<p>At least I see in <a href=\"https://github.com/hibernate/hibernate-orm/blob/c18e611ed6786fd62a6bf2d17c39589c2452fe35/hibernate-core/src/main/java/org/hibernate/internal/FastSessionServices.java\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/c18e611ed6786fd62a6bf2d17c39589c2452fe35/hibernate-core/src/main/java/org/hibernate/internal/FastSessionServices.java</a> that old (and deprecated) javax.* properties are still set and then logged by LegacySpecHelper:</p>\n<pre><code>p.putIfAbsent( AvailableSettings.FLUSH_MODE, FlushMode.AUTO.name() );\np.putIfAbsent( JPA_LOCK_SCOPE, PessimisticLockScope.EXTENDED.name() );\np.putIfAbsent( JAKARTA_LOCK_SCOPE, PessimisticLockScope.EXTENDED.name() );\np.putIfAbsent( JPA_LOCK_TIMEOUT, LockOptions.WAIT_FOREVER );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10299803,"reputation":1540,"user_id":7598851,"display_name":"MartinBG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674593834,"creation_date":1674593404,"answer_id":75227151,"question_id":72135559,"body_markdown":"According to [HHH-15768][1] it is going to be fixed in Hibernate 6.1.7.\r\n\r\nA temporary workaround is to set the property explicitly (accepted modes are defined [here][2]):\r\n```\r\nspring.jpa.properties.jakarta.persistence.sharedCache.mode=ENABLE_SELECTIVE\r\n```\r\n\r\nMore on the problem and the workaround - [here][3]\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-15768\r\n  [2]: https://github.com/jakartaee/persistence/blob/master/api/src/main/java/jakarta/persistence/SharedCacheMode.java\r\n  [3]: https://github.com/spring-projects/spring-data-jpa/issues/2717","title":"Upgrading to hibernate 6: Encountered deprecated setting [javax.persistence.lock.timeout], use [jakarta.persistence.lock.timeout] instead","body":"<p>According to <a href=\"https://hibernate.atlassian.net/browse/HHH-15768\" rel=\"nofollow noreferrer\">HHH-15768</a> it is going to be fixed in Hibernate 6.1.7.</p>\n<p>A temporary workaround is to set the property explicitly (accepted modes are defined <a href=\"https://github.com/jakartaee/persistence/blob/master/api/src/main/java/jakarta/persistence/SharedCacheMode.java\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>spring.jpa.properties.jakarta.persistence.sharedCache.mode=ENABLE_SELECTIVE\n</code></pre>\n<p>More on the problem and the workaround - <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2717\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":87760,"reputation":14178,"user_id":243203,"accept_rate":77,"display_name":"Kurru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3012,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674593834,"creation_date":1651804581,"question_id":72135559,"body_markdown":"I am trying to upgrade to Hibernate 6, but this causes a huge amount of log spam. For every query with my database I get a warning in my console logs: \r\n\r\n     WARN deprecation:44 - HHH90000021: \r\n     Encountered deprecated setting [javax.persistence.lock.timeout], use [jakarta.persistence.lock.timeout] instead\r\n\r\nOur code base does not reference `javax.persistence.lock.timeout` and setting the jakarta property into the peristence.xml file does nothing. \r\n\r\nThis issue doesn&#39;t seem to be documented on the internet, I could only find a single reference to this in a [hibernate bug report][1] team, but there are no details.\r\n\r\nIf its relevant, we are connecting to Postgres on AWS RDS, via the C3P0 connection pool.\r\n\r\nThis warning continues to appear after removing C3P0 from the server so I don&#39;t think this default is coming from there. \r\n\r\nShould I just suppress this log source in my log properties file or are there alternatives others are following?\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-15189","title":"Upgrading to hibernate 6: Encountered deprecated setting [javax.persistence.lock.timeout], use [jakarta.persistence.lock.timeout] instead","body":"<p>I am trying to upgrade to Hibernate 6, but this causes a huge amount of log spam. For every query with my database I get a warning in my console logs:</p>\n<pre><code> WARN deprecation:44 - HHH90000021: \n Encountered deprecated setting [javax.persistence.lock.timeout], use [jakarta.persistence.lock.timeout] instead\n</code></pre>\n<p>Our code base does not reference <code>javax.persistence.lock.timeout</code> and setting the jakarta property into the peristence.xml file does nothing.</p>\n<p>This issue doesn't seem to be documented on the internet, I could only find a single reference to this in a <a href=\"https://hibernate.atlassian.net/browse/HHH-15189\" rel=\"nofollow noreferrer\">hibernate bug report</a> team, but there are no details.</p>\n<p>If its relevant, we are connecting to Postgres on AWS RDS, via the C3P0 connection pool.</p>\n<p>This warning continues to appear after removing C3P0 from the server so I don't think this default is coming from there.</p>\n<p>Should I just suppress this log source in my log properties file or are there alternatives others are following?</p>\n"},{"tags":["java","datetime"],"owner":{"account_id":27612870,"reputation":1,"user_id":21075580,"display_name":"Worst Developer Ever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674593506,"answer_count":0,"score":0,"last_activity_date":1674593195,"creation_date":1674593195,"question_id":75227126,"body_markdown":"I&#39;m trying to make a code that select files from a specific folder by date, and move to other directory. I have searching for a specific method, but I couldn&#39;t find. Can you help-me?\r\n\r\nI don&#39;t have a code, because this is just a part of the code that I coundn&#39;t make.\r\n","title":"Selecting files by date in java","body":"<p>I'm trying to make a code that select files from a specific folder by date, and move to other directory. I have searching for a specific method, but I couldn't find. Can you help-me?</p>\n<p>I don't have a code, because this is just a part of the code that I coundn't make.</p>\n"},{"tags":["java","python-3.x","jwt","pyjwt"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674577136,"post_id":75224283,"comment_id":132741426,"body_markdown":"Did you check if the token is already expired?","body":"Did you check if the token is already expired?"},{"owner":{"account_id":11359354,"reputation":466,"user_id":8328000,"display_name":"Parker Dell"},"score":0,"creation_date":1674577303,"post_id":75224283,"comment_id":132741494,"body_markdown":"Right now I dont care if password is expired, i just changed the comment to ignore exp check for now since i know that part works","body":"Right now I dont care if password is expired, i just changed the comment to ignore exp check for now since i know that part works"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":1,"creation_date":1674577750,"post_id":75224283,"comment_id":132741655,"body_markdown":"The token that you show in your Python example **can&#39;t** be verified with the secret that you showed us. And on jwt.io you made a common mistake in using the tool and got a false verification: You clicked on &quot;secret base64 encoded&quot; (which is not the case) and that changed the signature. In [my answer here](https://stackoverflow.com/questions/69862105/jwt-io-says-signature-verified-even-when-key-is-not-provided) I describe how to do it right.","body":"The token that you show in your Python example <b>can&#39;t</b> be verified with the secret that you showed us. And on jwt.io you made a common mistake in using the tool and got a false verification: You clicked on &quot;secret base64 encoded&quot; (which is not the case) and that changed the signature. In <a href=\"https://stackoverflow.com/questions/69862105/jwt-io-says-signature-verified-even-when-key-is-not-provided\">my answer here</a> I describe how to do it right."},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1674577843,"post_id":75224283,"comment_id":132741689,"body_markdown":"Aside from that, the Python code looks fine, and  wonder if you just made a mistake by copying back the token from jwt.io to your code instead of using the original token from your Java code.","body":"Aside from that, the Python code looks fine, and  wonder if you just made a mistake by copying back the token from jwt.io to your code instead of using the original token from your Java code."},{"owner":{"account_id":11359354,"reputation":466,"user_id":8328000,"display_name":"Parker Dell"},"score":0,"creation_date":1674578070,"post_id":75224283,"comment_id":132741772,"body_markdown":"I followed the steps you listed, i added the key first (checked the box for encoded) `CFB86D5E4DC4C11C6AFA9E5DF5AD9` and then entered the jwt and it shows verified `eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTY3NDUwMzE2NSwibmJmIjoxNjc0NTAzMTY1LCJpc3MiOiJ0ZXN0IiwiZXhwIjoxNjc0NTA2NzY1fQ.wPc98PTVmZKKUEBmuKZG3Z_fXrC7QLLpLE9BXHR3Sw4`","body":"I followed the steps you listed, i added the key first (checked the box for encoded) <code>CFB86D5E4DC4C11C6AFA9E5DF5AD9</code> and then entered the jwt and it shows verified <code>eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTY3NDUwMzE&zwnj;&#8203;2NSwibmJmIjoxNjc0NTA&zwnj;&#8203;zMTY1LCJpc3MiOiJ0ZXN&zwnj;&#8203;0IiwiZXhwIjoxNjc0NTA&zwnj;&#8203;2NzY1fQ.wPc98PTVmZKK&zwnj;&#8203;UEBmuKZG3Z_fXrC7QLLp&zwnj;&#8203;LE9BXHR3Sw4</code>"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1674578322,"post_id":75224283,"comment_id":132741852,"body_markdown":"no, clicking on the box &quot;secret base64 encoded&quot; is the wrong part. The secret is not base64 encoded. It&#39;s a hex ascii string. Java treats it as a normal string when it signs the token. I believe the token that your Java code created is not the one you show in your python example. Please check again. (The token in your Python example looks identical to the one on the jwt.io screenshot)","body":"no, clicking on the box &quot;secret base64 encoded&quot; is the wrong part. The secret is not base64 encoded. It&#39;s a hex ascii string. Java treats it as a normal string when it signs the token. I believe the token that your Java code created is not the one you show in your python example. Please check again. (The token in your Python example looks identical to the one on the jwt.io screenshot)"},{"owner":{"account_id":11359354,"reputation":466,"user_id":8328000,"display_name":"Parker Dell"},"score":0,"creation_date":1674584839,"post_id":75224283,"comment_id":132743925,"body_markdown":"I was able to verify that the code matches. For testing purposes i changed the secret and generated a new token with it  `687ADCC21ACAC129ED4BA3781759F` and token `eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyb290IiwiaWF0IjoxNjc0NTg0NjY4LCJuYmYiOjE2NzQ1ODQ2NjgsImlzcyI6ImRlZXBjb3JlIiwiZXhwIjoxNjc0NTg4MjY4fQ.9RYbzL1s7ZkNTr0KzTj7RSuocdNxJdc8KI9PXuYyzTA`","body":"I was able to verify that the code matches. For testing purposes i changed the secret and generated a new token with it  <code>687ADCC21ACAC129ED4BA3781759F</code> and token <code>eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJyb290IiwiaWF0IjoxNjc0NTg0NjY&zwnj;&#8203;4LCJuYmYiOjE2NzQ1ODQ&zwnj;&#8203;2NjgsImlzcyI6ImRlZXB&zwnj;&#8203;jb3JlIiwiZXhwIjoxNjc&zwnj;&#8203;0NTg4MjY4fQ.9RYbzL1s&zwnj;&#8203;7ZkNTr0KzTj7RSuocdNx&zwnj;&#8203;Jdc8KI9PXuYyzTA</code>"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1674586051,"post_id":75224283,"comment_id":132744302,"body_markdown":"What does it mean now? Can you verify a token from Java in your Python code?","body":"What does it mean now? Can you verify a token from Java in your Python code?"},{"owner":{"account_id":11359354,"reputation":466,"user_id":8328000,"display_name":"Parker Dell"},"score":0,"creation_date":1674586639,"post_id":75224283,"comment_id":132744457,"body_markdown":"sorry for lack of clarification. I meant i went into the java code and printed out the secret and then made a new token and still get errors","body":"sorry for lack of clarification. I meant i went into the java code and printed out the secret and then made a new token and still get errors"}],"owner":{"account_id":11359354,"reputation":466,"user_id":8328000,"display_name":"Parker Dell"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674593185,"creation_date":1674577017,"question_id":75224283,"body_markdown":"I have a Java Spring boot API that a user logs in and is issued a JWT token ( i cant change this code). I have a new python API that needs to parse the JWT to verify its been authenticated.\r\n\r\nJava Code\r\n```\r\nimport io.jsonwebtoken.Jwts;\r\n\r\n   private String secretKey = &quot;CFB86D5E4DC4C11C6AFA9E5DF5AD9&quot;\r\n\r\n   String jwt = Jwts.builder()\r\n          .setSubject(userByUsername.getUsername())\r\n          .setIssuedAt(now)\r\n          .setNotBefore(now)\r\n          .setIssuer(&quot;my-authenticator&quot;)\r\n          .setExpiration(new Date(System.currentTimeMillis() + (1000L * tokenMaxAge)))\r\n          .signWith(SignatureAlgorithm.HS256, secretKey)\r\n          .compact();\r\n```\r\nInside my python code i have\r\n```\r\nimport jwt\r\n\r\n    token = &quot;eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTY3NDUwMzE2NSwibmJmIjoxNjc0NTAzMTY1LCJpc3MiOiJ0ZXN0IiwiZXhwIjoxNjc0NTA2NzY1fQ.wPc98PTVmZKKUEBmuKZG3Z_fXrC7QLLpLE9BXHR3Sw4&quot;\r\n    key = &#39;CFB86D5E4DC4C11C6AFA9E5DF5AD9&#39;\r\n\r\n    jwt_options = {\r\n        &#39;verify_signature&#39;: True,\r\n        &#39;verify_exp&#39;: False,\r\n        &#39;verify_nbf&#39;: False,\r\n        &#39;verify_iat&#39;: True,\r\n        &#39;verify_aud&#39;: False\r\n    }\r\n\r\n    parts = jwt.decode(token, key, algorithms=&quot;HS256&quot;, options=jwt_options)\r\n\r\n    print(parts)\r\n\r\n```\r\nIf I set `verify_signature = False` everything works and i can parse the jwt. But I need to have this set to true. If I go to jwt.io the signature shows up as verified\r\n[![enter image description here](https://i.stack.imgur.com/JACVv.png)](https://i.stack.imgur.com/JACVv.png)\r\nI&#39;ve tried playing around with encoding/decoding the string but Im not sure what I&#39;m missing\r\n\r\n\r\n\r\nI have tried decoding and encoding the key but havn&#39;t had success. The secret is the same in the java application and python application\r\n\r\nex1.  key = b&#39;CFB86D5E4DC4C11C6AFA9E5DF5AD9&#39;\r\n\r\nex2.  key = str(base64.urlsafe_b64decode(CFB86D5E4DC4C11C6AFA9E5DF5AD9), &#39;utf-8&#39;)\r\n\r\nex3. key = base64.urlsafe_b64decode(CFB86D5E4DC4C11C6AFA9E5DF5AD9)\r\n\r\nex4. key = base64.b64decode(&#39;CFB86D5E4DC4C11C6AFA9E5DF5AD9&#39;) # this gives binascii.Error: Invalid base64-encoded string: number of data characters (29) cannot be 1 more than a multiple of 4\r\n\r\n\r\n**Solution:**\r\n\r\nSo I was able to solve my question but im not sure why it worked. The first consisted of setting my secret to a 256 character string ex. 73357638792F423F4428472B4B6250655368566D597133743677397A24432646 The next step was to encode it to UTF-8 and then b64encode it so: \r\n``` \r\n jwt_options = {\r\n     &#39;verify_signature&#39;: True,\r\n     &#39;verify_exp&#39;: False,\r\n     &#39;verify_nbf&#39;: False,\r\n     &#39;verify_iat&#39;: True,\r\n     &#39;verify_aud&#39;: False\r\n }\r\n\r\n signature_key = config.config.signature_key\r\n signature_key = b64decode(signature_key.encode(&quot;utf-8&quot;))\r\n\r\n parts = jwt.decode(self.token, signature_key, algorithms=[&quot;HS256&quot;], options=jwt_options)\r\n\r\n```","title":"Parse a JWT Token issued by a Java application, inside a python script","body":"<p>I have a Java Spring boot API that a user logs in and is issued a JWT token ( i cant change this code). I have a new python API that needs to parse the JWT to verify its been authenticated.</p>\n<p>Java Code</p>\n<pre><code>import io.jsonwebtoken.Jwts;\n\n   private String secretKey = &quot;CFB86D5E4DC4C11C6AFA9E5DF5AD9&quot;\n\n   String jwt = Jwts.builder()\n          .setSubject(userByUsername.getUsername())\n          .setIssuedAt(now)\n          .setNotBefore(now)\n          .setIssuer(&quot;my-authenticator&quot;)\n          .setExpiration(new Date(System.currentTimeMillis() + (1000L * tokenMaxAge)))\n          .signWith(SignatureAlgorithm.HS256, secretKey)\n          .compact();\n</code></pre>\n<p>Inside my python code i have</p>\n<pre><code>import jwt\n\n    token = &quot;eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTY3NDUwMzE2NSwibmJmIjoxNjc0NTAzMTY1LCJpc3MiOiJ0ZXN0IiwiZXhwIjoxNjc0NTA2NzY1fQ.wPc98PTVmZKKUEBmuKZG3Z_fXrC7QLLpLE9BXHR3Sw4&quot;\n    key = 'CFB86D5E4DC4C11C6AFA9E5DF5AD9'\n\n    jwt_options = {\n        'verify_signature': True,\n        'verify_exp': False,\n        'verify_nbf': False,\n        'verify_iat': True,\n        'verify_aud': False\n    }\n\n    parts = jwt.decode(token, key, algorithms=&quot;HS256&quot;, options=jwt_options)\n\n    print(parts)\n\n</code></pre>\n<p>If I set <code>verify_signature = False</code> everything works and i can parse the jwt. But I need to have this set to true. If I go to jwt.io the signature shows up as verified\n<a href=\"https://i.stack.imgur.com/JACVv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JACVv.png\" alt=\"enter image description here\" /></a>\nI've tried playing around with encoding/decoding the string but Im not sure what I'm missing</p>\n<p>I have tried decoding and encoding the key but havn't had success. The secret is the same in the java application and python application</p>\n<p>ex1.  key = b'CFB86D5E4DC4C11C6AFA9E5DF5AD9'</p>\n<p>ex2.  key = str(base64.urlsafe_b64decode(CFB86D5E4DC4C11C6AFA9E5DF5AD9), 'utf-8')</p>\n<p>ex3. key = base64.urlsafe_b64decode(CFB86D5E4DC4C11C6AFA9E5DF5AD9)</p>\n<p>ex4. key = base64.b64decode('CFB86D5E4DC4C11C6AFA9E5DF5AD9') # this gives binascii.Error: Invalid base64-encoded string: number of data characters (29) cannot be 1 more than a multiple of 4</p>\n<p><strong>Solution:</strong></p>\n<p>So I was able to solve my question but im not sure why it worked. The first consisted of setting my secret to a 256 character string ex. 73357638792F423F4428472B4B6250655368566D597133743677397A24432646 The next step was to encode it to UTF-8 and then b64encode it so:</p>\n<pre><code> jwt_options = {\n     'verify_signature': True,\n     'verify_exp': False,\n     'verify_nbf': False,\n     'verify_iat': True,\n     'verify_aud': False\n }\n\n signature_key = config.config.signature_key\n signature_key = b64decode(signature_key.encode(&quot;utf-8&quot;))\n\n parts = jwt.decode(self.token, signature_key, algorithms=[&quot;HS256&quot;], options=jwt_options)\n\n</code></pre>\n"},{"tags":["java","android","kotlin","android-webview","mobile-webkit"],"owner":{"account_id":25338004,"reputation":1,"user_id":19156823,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674593146,"creation_date":1674593146,"question_id":75227117,"body_markdown":"I&#39;m desperately attempting to disable audio-focus in an application I&#39;m developing, but to no avail.\r\n\r\nI have two web-views each one paying a video and i would like them to play at the same time, but it is not possible as they steal the audio-focus each other and get paused. \r\n\r\nTo my understanding, this is happening since the web-view engine interprets the html element and convert them into android views, and the video element, it is converted into a standard video view, with its default settings of audio-focus.\r\nIf i could access the video views i could set a different audio-focus mode... maybe.\r\n\r\n\r\nBut i cannot find this views anywhere, i thought maybe are hidden children and i can expose them with java reflection in the debugger, but I couldn&#39;t, maybe I&#39;m searching in the wrong place. Any help?\r\n\r\nTo be fair that idea of the audio-focus of the single video view might be flawed, as I was able to reproduce two videos in the same web-view.","title":"Android: accessing video elements in web-view (maybe with java reflection)","body":"<p>I'm desperately attempting to disable audio-focus in an application I'm developing, but to no avail.</p>\n<p>I have two web-views each one paying a video and i would like them to play at the same time, but it is not possible as they steal the audio-focus each other and get paused.</p>\n<p>To my understanding, this is happening since the web-view engine interprets the html element and convert them into android views, and the video element, it is converted into a standard video view, with its default settings of audio-focus.\nIf i could access the video views i could set a different audio-focus mode... maybe.</p>\n<p>But i cannot find this views anywhere, i thought maybe are hidden children and i can expose them with java reflection in the debugger, but I couldn't, maybe I'm searching in the wrong place. Any help?</p>\n<p>To be fair that idea of the audio-focus of the single video view might be flawed, as I was able to reproduce two videos in the same web-view.</p>\n"},{"tags":["java","android","android-studio","android-edittext","onfocuschangelistener"],"answers":[{"tags":[],"owner":{"account_id":2862621,"reputation":7920,"user_id":2457566,"accept_rate":53,"display_name":"Adnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608136378,"creation_date":1608136378,"answer_id":65327340,"question_id":65327307,"body_markdown":"Have you tried with this for ChangeContact?\r\n\r\n     android:focusable=&quot;true&quot;\r\n     android:focusableInTouchMode=&quot;true&quot;\r\n\r\nalso \r\nChangeContact.requestFocus() ?","title":"EditText focus is not working in android studio, i want to hide a textview when focus change in edittext, how to do this?","body":"<p>Have you tried with this for ChangeContact?</p>\n<pre><code> android:focusable=&quot;true&quot;\n android:focusableInTouchMode=&quot;true&quot;\n</code></pre>\n<p>also\nChangeContact.requestFocus() ?</p>\n"},{"tags":[],"owner":{"account_id":13147505,"reputation":207,"user_id":9497128,"display_name":"Gomer Grek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674591885,"creation_date":1674591885,"answer_id":75226921,"question_id":65327307,"body_markdown":"In my case I can&#39;t get on focus change event because I forgot to delete `setContentView()` function and used it with binding initialization like this:\r\n\r\n     setContentView(R.layout.activity_main)\r\n        \r\n     binding = ActivityMainBinding.inflate(layoutInflater, null, false)\r\n\r\nalso eventually I understood that binding initialization also was incorrect ","title":"EditText focus is not working in android studio, i want to hide a textview when focus change in edittext, how to do this?","body":"<p>In my case I can't get on focus change event because I forgot to delete <code>setContentView()</code> function and used it with binding initialization like this:</p>\n<pre><code> setContentView(R.layout.activity_main)\n    \n binding = ActivityMainBinding.inflate(layoutInflater, null, false)\n</code></pre>\n<p>also eventually I understood that binding initialization also was incorrect</p>\n"}],"owner":{"account_id":19712696,"reputation":39,"user_id":14432836,"display_name":"Shaik Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1674591885,"creation_date":1608136232,"question_id":65327307,"body_markdown":"**EditText as ChangeContact**\r\n\r\n**EditText focus is not working in android studio, i want to hide a textview when focus change in edittext, how to do this?**\r\n\r\n````\r\n       ChangeContact.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n                @Override\r\n                public void onFocusChange(View v, boolean hasFocus) {\r\n                    if (!hasFocus) {\r\n                        Toast.makeText(mContext, &quot;focus loosed&quot;, Toast.LENGTH_LONG).show();\r\n                      \r\n                    } else {\r\n                        Toast.makeText(mContext, &quot;focused&quot;, Toast.LENGTH_LONG).show();\r\n                        bookLinear.setVisibility(View.GONE);\r\n                    }\r\n                }\r\n            });\r\n\r\n````\r\nMy edit text in XMl file\r\n\r\n````\r\n  &lt;EditText\r\n                    android:id=&quot;@+id/etChangeAddress&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;6dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:background=&quot;@drawable/shape_transparent&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:focusableInTouchMode=&quot;true&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:hint=&quot;Address&quot;\r\n                    android:inputType=&quot;textPersonName&quot;\r\n                    android:padding=&quot;5dp&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/etChangeNumber&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n````\r\n\r\n**But i cant see the Toast**\r\n\r\nPlease help ....","title":"EditText focus is not working in android studio, i want to hide a textview when focus change in edittext, how to do this?","body":"<p><strong>EditText as ChangeContact</strong></p>\n<p><strong>EditText focus is not working in android studio, i want to hide a textview when focus change in edittext, how to do this?</strong></p>\n<pre><code>       ChangeContact.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n                @Override\n                public void onFocusChange(View v, boolean hasFocus) {\n                    if (!hasFocus) {\n                        Toast.makeText(mContext, &quot;focus loosed&quot;, Toast.LENGTH_LONG).show();\n                      \n                    } else {\n                        Toast.makeText(mContext, &quot;focused&quot;, Toast.LENGTH_LONG).show();\n                        bookLinear.setVisibility(View.GONE);\n                    }\n                }\n            });\n\n</code></pre>\n<p>My edit text in XMl file</p>\n<pre><code>  &lt;EditText\n                    android:id=&quot;@+id/etChangeAddress&quot;\n                    android:layout_width=&quot;0dp&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;6dp&quot;\n                    android:layout_marginBottom=&quot;8dp&quot;\n                    android:background=&quot;@drawable/shape_transparent&quot;\n                    android:ems=&quot;10&quot;\n                    android:focusable=&quot;true&quot;\n                    android:focusableInTouchMode=&quot;true&quot;\n                    android:gravity=&quot;center&quot;\n                    android:hint=&quot;Address&quot;\n                    android:inputType=&quot;textPersonName&quot;\n                    android:padding=&quot;5dp&quot;\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/etChangeNumber&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p><strong>But i cant see the Toast</strong></p>\n<p>Please help ....</p>\n"},{"tags":["java","hadoop","hadoop-yarn"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":3,"creation_date":1674461757,"post_id":75204502,"comment_id":132710782,"body_markdown":"`For more detailed output, check the application tracking page: http://localhost:8088/cluster/app/application_1674418413963_0005 Then click on links to logs of each attempt.` what does that say?","body":"<code>For more detailed output, check the application tracking page: http:&#47;&#47;localhost:8088&#47;cluster&#47;app&#47;application_1674418413963_&zwnj;&#8203;0005 Then click on links to logs of each attempt.</code> what does that say?"}],"answers":[{"tags":[],"owner":{"account_id":22916503,"reputation":45,"user_id":17053025,"display_name":"grojas123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674591572,"creation_date":1674591572,"answer_id":75226869,"question_id":75204502,"body_markdown":"This is a issue with the variables on /etc/hadoop/conf/yarn-site.xml\r\n```\r\n&lt;property&gt;\r\n    &lt;description&gt;Classpath for typical applications.&lt;/description&gt;\r\n     &lt;name&gt;yarn.application.classpath&lt;/name&gt;\r\n     &lt;value&gt;\r\n       /etc/hadoop/conf,\r\n       /usr/lib/hadoop/*,\r\n       /usr/lib/hadoop/lib/*,\r\n       /usr/lib/hadoop-hdfs/*,\r\n       /usr/lib/hadoop-hdfs/lib/*,\r\n       /usr/lib/hadoop-mapreduce/*,\r\n       /usr/lib/hadoop-mapreduce/lib/*,\r\n       /usr/lib/hadoop-yarn/*,\r\n       /usr/lib/hadoop-yarn/lib/*\r\n     &lt;/value&gt;\r\n  &lt;/property&gt;\r\n```\r\nAnd you don&#39;t need anything else .","title":"I cannot run a haddop jar on Hadoop 3.0.0-cdh6.3.2","body":"<p>This is a issue with the variables on /etc/hadoop/conf/yarn-site.xml</p>\n<pre><code>&lt;property&gt;\n    &lt;description&gt;Classpath for typical applications.&lt;/description&gt;\n     &lt;name&gt;yarn.application.classpath&lt;/name&gt;\n     &lt;value&gt;\n       /etc/hadoop/conf,\n       /usr/lib/hadoop/*,\n       /usr/lib/hadoop/lib/*,\n       /usr/lib/hadoop-hdfs/*,\n       /usr/lib/hadoop-hdfs/lib/*,\n       /usr/lib/hadoop-mapreduce/*,\n       /usr/lib/hadoop-mapreduce/lib/*,\n       /usr/lib/hadoop-yarn/*,\n       /usr/lib/hadoop-yarn/lib/*\n     &lt;/value&gt;\n  &lt;/property&gt;\n</code></pre>\n<p>And you don't need anything else .</p>\n"}],"owner":{"account_id":22916503,"reputation":45,"user_id":17053025,"display_name":"grojas123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674591572,"creation_date":1674428253,"question_id":75204502,"body_markdown":"I have a machine with Hadoop 3.0.0-cdh6.3.2 installed .\r\nI ran this \r\n```\r\nhadoop jar helloworld.jar solution.CardDriver /user/vmuser/playing_cards_simple /user/vmuser/output\r\n```\r\nAnd show me this error:\r\n```2023-01-22 16:24:13,822 INFO mapreduce.Job: Job job_1674418413963_0005 failed with state FAILED due to: Application application_1674418413963_0005 failed 2 times due to AM Container for appattempt_1674418413963_0005_000002 exited with  exitCode: 1\r\nFailing this attempt.Diagnostics: [2023-01-22 16:24:13.729]Exception from container-launch.\r\nContainer id: container_1674418413963_0005_02_000001\r\nExit code: 1\r\n\r\n[2023-01-22 16:24:13.730]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\n/var/lib/hadoop-yarn/cache/yarn/nm-local-dir/usercache/vmuser/appcache/application_1674418413963_0005/container_1674418413963_0005_02_000001/launch_container.sh: line 19: ${/usr/lib/hadoop-mapreduce}: bad substitution\r\n\r\n[2023-01-22 16:24:13.731]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\n/var/lib/hadoop-yarn/cache/yarn/nm-local-dir/usercache/vmuser/appcache/application_1674418413963_0005/container_1674418413963_0005_02_000001/launch_container.sh: line 19: ${/usr/lib/hadoop-mapreduce}: bad substitution\r\n\r\nFor more detailed output, check the application tracking page: http://localhost:8088/cluster/app/application_1674418413963_0005 Then click on links to logs of each attempt.\r\n```\r\nI set\r\n```\r\n/etc/hadoop/conf/mapred-site.xml \r\n/etc/hadoop/conf/core-site.xml\r\n```\r\nwith this value \r\n```\r\nHADOOP_MAPRED_HOME=${/usr/lib/hadoop-mapreduce} . I tried with $HADOOP_HOME but gave a lot of errors.\r\n```\r\nI didn&#39;t change the yarn-site.xml (The values of yarn.application.classpath are set but I don&#39;t if there is right .\r\nThe values of yarn-site.xml are :\r\n```&lt;property&gt;\r\n    &lt;description&gt;Classpath for typical applications.&lt;/description&gt;\r\n     &lt;name&gt;yarn.application.classpath&lt;/name&gt;\r\n     &lt;value&gt;\r\n        $HADOOP_CONF_DIR,\r\n        $HADOOP_COMMON_HOME/*,$HADOOP_COMMON_HOME/lib/*,\r\n        $HADOOP_HDFS_HOME/*,$HADOOP_HDFS_HOME/lib/*,\r\n        $HADOOP_MAPRED_HOME/*,$HADOOP_MAPRED_HOME/lib/*,\r\n        $HADOOP_YARN_HOME/*,$HADOOP_YARN_HOME/lib/*\r\n     &lt;/value&gt;\r\n  &lt;/property&gt; \r\n```\r\nPls your help I invested several days on this , any light can help me at lot .","title":"I cannot run a haddop jar on Hadoop 3.0.0-cdh6.3.2","body":"<p>I have a machine with Hadoop 3.0.0-cdh6.3.2 installed .\nI ran this</p>\n<pre><code>hadoop jar helloworld.jar solution.CardDriver /user/vmuser/playing_cards_simple /user/vmuser/output\n</code></pre>\n<p>And show me this error:</p>\n<pre><code>Failing this attempt.Diagnostics: [2023-01-22 16:24:13.729]Exception from container-launch.\nContainer id: container_1674418413963_0005_02_000001\nExit code: 1\n\n[2023-01-22 16:24:13.730]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\n/var/lib/hadoop-yarn/cache/yarn/nm-local-dir/usercache/vmuser/appcache/application_1674418413963_0005/container_1674418413963_0005_02_000001/launch_container.sh: line 19: ${/usr/lib/hadoop-mapreduce}: bad substitution\n\n[2023-01-22 16:24:13.731]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\n/var/lib/hadoop-yarn/cache/yarn/nm-local-dir/usercache/vmuser/appcache/application_1674418413963_0005/container_1674418413963_0005_02_000001/launch_container.sh: line 19: ${/usr/lib/hadoop-mapreduce}: bad substitution\n\nFor more detailed output, check the application tracking page: http://localhost:8088/cluster/app/application_1674418413963_0005 Then click on links to logs of each attempt.\n</code></pre>\n<p>I set</p>\n<pre><code>/etc/hadoop/conf/mapred-site.xml \n/etc/hadoop/conf/core-site.xml\n</code></pre>\n<p>with this value</p>\n<pre><code>HADOOP_MAPRED_HOME=${/usr/lib/hadoop-mapreduce} . I tried with $HADOOP_HOME but gave a lot of errors.\n</code></pre>\n<p>I didn't change the yarn-site.xml (The values of yarn.application.classpath are set but I don't if there is right .\nThe values of yarn-site.xml are :</p>\n<pre><code>    &lt;description&gt;Classpath for typical applications.&lt;/description&gt;\n     &lt;name&gt;yarn.application.classpath&lt;/name&gt;\n     &lt;value&gt;\n        $HADOOP_CONF_DIR,\n        $HADOOP_COMMON_HOME/*,$HADOOP_COMMON_HOME/lib/*,\n        $HADOOP_HDFS_HOME/*,$HADOOP_HDFS_HOME/lib/*,\n        $HADOOP_MAPRED_HOME/*,$HADOOP_MAPRED_HOME/lib/*,\n        $HADOOP_YARN_HOME/*,$HADOOP_YARN_HOME/lib/*\n     &lt;/value&gt;\n  &lt;/property&gt; \n</code></pre>\n<p>Pls your help I invested several days on this , any light can help me at lot .</p>\n"},{"tags":["java","model-view-controller","nullpointerexception","processing","pgraphics"],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674591360,"creation_date":1674591360,"answer_id":75226838,"question_id":75226309,"body_markdown":"I have never worked with Processing, but a few things first:\r\n\r\nPlease stop using letters as variable names, it makes it a real pain to debug your code or to even look at it. Also, always include the stacktrace for exceptions and every method involved in causing it, if its needed. \r\n\r\nRegarding your first problem: `this.g is null` -&gt; I can&#39;t see a `g` variable anywhere? \r\n\r\nThe second problem comes from java not finding a no-args constructor for your `LeiterspielController` - judging from your code, it takes several args which you haven&#39;t shared. \r\n\r\nThe constructor should by called by `PApplet.main(LeiterspielView.class);` - this method ([source][1]) calls another main method ([source][2]) which then calls the `runSketch(final String[] args,final PApplet constructedSketch)` method ([source][3]) in this method, you find the following [snippet][4] which tries to acquire a no-args constructor by reflection:\r\n\r\n    Class&lt;?&gt; c = Thread.currentThread().getContextClassLoader().loadClass(name);\r\n    sketch = (PApplet) c.getDeclaredConstructor().newInstance();\r\n\r\nSee the javadoc for [getDeclaredConstructor()][5] - as shown by the javadoc, this method throws an exception:\r\n\r\n\r\n&gt; NoSuchMethodException - if a matching method is not found.\r\n\r\nIn Java, classes actually do have a default no-args constructor unless you have defined another one, which you actually have (see this [answer][6]).\r\n\r\nSo basically you need a non-args constructor here and probably this may not work with your architecture. I&#39;d therefore recommend you to stick to examples with Processing and think about which architecture makes sense for you given the limits by Processing. However: There *might* be a way to do this I am not aware of, as I said, I never worked with that particular library. \r\n\r\n\r\n  [1]: https://github.com/processing/processing/blob/master/core%2Fsrc%2Fprocessing%2Fcore%2FPApplet.java#L10610\r\n  [2]: https://github.com/processing/processing/blob/master/core%2Fsrc%2Fprocessing%2Fcore%2FPApplet.java#L10634\r\n  [3]: https://github.com/processing/processing/blob/8b15e4f548c1426df3a5ebe4c2106619faf7c4ba/core/src/processing/core/PApplet.java#L10647\r\n  [4]: https://github.com/processing/processing/blob/8b15e4f548c1426df3a5ebe4c2106619faf7c4ba/core/src/processing/core/PApplet.java#L10826\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredConstructor-java.lang.Class...-\r\n  [6]: https://stackoverflow.com/a/27654193/4934937","title":"How can i resolve Runtime Error in Java Processing Application?","body":"<p>I have never worked with Processing, but a few things first:</p>\n<p>Please stop using letters as variable names, it makes it a real pain to debug your code or to even look at it. Also, always include the stacktrace for exceptions and every method involved in causing it, if its needed.</p>\n<p>Regarding your first problem: <code>this.g is null</code> -&gt; I can't see a <code>g</code> variable anywhere?</p>\n<p>The second problem comes from java not finding a no-args constructor for your <code>LeiterspielController</code> - judging from your code, it takes several args which you haven't shared.</p>\n<p>The constructor should by called by <code>PApplet.main(LeiterspielView.class);</code> - this method (<a href=\"https://github.com/processing/processing/blob/master/core%2Fsrc%2Fprocessing%2Fcore%2FPApplet.java#L10610\" rel=\"nofollow noreferrer\">source</a>) calls another main method (<a href=\"https://github.com/processing/processing/blob/master/core%2Fsrc%2Fprocessing%2Fcore%2FPApplet.java#L10634\" rel=\"nofollow noreferrer\">source</a>) which then calls the <code>runSketch(final String[] args,final PApplet constructedSketch)</code> method (<a href=\"https://github.com/processing/processing/blob/8b15e4f548c1426df3a5ebe4c2106619faf7c4ba/core/src/processing/core/PApplet.java#L10647\" rel=\"nofollow noreferrer\">source</a>) in this method, you find the following <a href=\"https://github.com/processing/processing/blob/8b15e4f548c1426df3a5ebe4c2106619faf7c4ba/core/src/processing/core/PApplet.java#L10826\" rel=\"nofollow noreferrer\">snippet</a> which tries to acquire a no-args constructor by reflection:</p>\n<pre><code>Class&lt;?&gt; c = Thread.currentThread().getContextClassLoader().loadClass(name);\nsketch = (PApplet) c.getDeclaredConstructor().newInstance();\n</code></pre>\n<p>See the javadoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getDeclaredConstructor-java.lang.Class...-\" rel=\"nofollow noreferrer\">getDeclaredConstructor()</a> - as shown by the javadoc, this method throws an exception:</p>\n<blockquote>\n<p>NoSuchMethodException - if a matching method is not found.</p>\n</blockquote>\n<p>In Java, classes actually do have a default no-args constructor unless you have defined another one, which you actually have (see this <a href=\"https://stackoverflow.com/a/27654193/4934937\">answer</a>).</p>\n<p>So basically you need a non-args constructor here and probably this may not work with your architecture. I'd therefore recommend you to stick to examples with Processing and think about which architecture makes sense for you given the limits by Processing. However: There <em>might</em> be a way to do this I am not aware of, as I said, I never worked with that particular library.</p>\n"}],"owner":{"account_id":27611702,"reputation":1,"user_id":21074680,"display_name":"Randy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674591360,"creation_date":1674588359,"question_id":75226309,"body_markdown":"I have written an Java Processing application.\r\nIf I try to start it,\r\nI get the following error:\r\n\r\n&gt;&quot;&quot;processing.core.PGraphics.createShape(int, float[])&quot; because &quot;this.g&quot; is null&quot;.\r\n\r\nMy Application has a View, Controller and Modell. \r\nThey only interact through interfaces with each other.\r\nMy Modell-Classes extend PApplet and create some shapes,\r\nbut I also get errors in my view.\r\nMaybe something is not passed on correctly.\r\n\r\nI know, that the error may be caused,\r\nbecause I try to call a method on an object that has not been initialized yet.\r\nIn this case the processing.core.PGraphics.createShape(int, float[]) method on this.g.\r\n\r\nMy PApplet window opens, but nothing is drawn on it.\r\n\r\nCould someone please look into it?\r\n\r\nI tried to create instances of PApplet and/or Graphic in my View class \r\nand pass it in to my controller class; e.g.:\r\n\r\nmy View, where the objects are drawn.\r\n\r\n```\r\npublic class xyView extends PApplet implements ILeiterspielView {\r\n    public static void main(String[] args) {\r\n        PApplet.main(LeiterspielView.class);\r\n    }\r\n...\r\n    private static PApplet instance;\r\n   //other attempt: PApplet p = this;\r\n   //other attempt: PApplet p;\r\n...\r\npublic xyView (other examples/*PApplet pa*//*Graphics gd*/) {\r\n        instance = this;\r\n        //this.gd = gd;\r\n        //this.p = pa;\r\n        setSize(1000, 1000);\r\n    }\r\npublic void setup (/*Dice[] dice*//*this*/) {\r\n        this.controller = new xyController(this, width, height, instance);\r\n        ...\r\n    }\r\n```\r\n\r\nmy controller, the interface between the view and model.\r\n\r\n```\r\npublic LeiterspielController (IxyView view, ..., PApplet p) {\r\n        this.view = view;\r\n        this.game = new xyModel();\r\n        this.p = p;\r\n...\r\n    }\r\n```\r\n\r\nMy first solution doesn&#39;t change the outcome.\r\n\r\nThe PApplet p = this solution changes the outcome to:\r\n\r\n&gt;java.lang.RuntimeException: java.lang.NoSuchMethodException: leiterspiel.view.LeiterspielView.&lt;init&gt;()\r\n\r\nI don&#39;t know what this means and the PApplet window doesn&#39;t open.","title":"How can i resolve Runtime Error in Java Processing Application?","body":"<p>I have written an Java Processing application.\nIf I try to start it,\nI get the following error:</p>\n<blockquote>\n<p>&quot;&quot;processing.core.PGraphics.createShape(int, float[])&quot; because &quot;this.g&quot; is null&quot;.</p>\n</blockquote>\n<p>My Application has a View, Controller and Modell.\nThey only interact through interfaces with each other.\nMy Modell-Classes extend PApplet and create some shapes,\nbut I also get errors in my view.\nMaybe something is not passed on correctly.</p>\n<p>I know, that the error may be caused,\nbecause I try to call a method on an object that has not been initialized yet.\nIn this case the processing.core.PGraphics.createShape(int, float[]) method on this.g.</p>\n<p>My PApplet window opens, but nothing is drawn on it.</p>\n<p>Could someone please look into it?</p>\n<p>I tried to create instances of PApplet and/or Graphic in my View class\nand pass it in to my controller class; e.g.:</p>\n<p>my View, where the objects are drawn.</p>\n<pre><code>public class xyView extends PApplet implements ILeiterspielView {\n    public static void main(String[] args) {\n        PApplet.main(LeiterspielView.class);\n    }\n...\n    private static PApplet instance;\n   //other attempt: PApplet p = this;\n   //other attempt: PApplet p;\n...\npublic xyView (other examples/*PApplet pa*//*Graphics gd*/) {\n        instance = this;\n        //this.gd = gd;\n        //this.p = pa;\n        setSize(1000, 1000);\n    }\npublic void setup (/*Dice[] dice*//*this*/) {\n        this.controller = new xyController(this, width, height, instance);\n        ...\n    }\n</code></pre>\n<p>my controller, the interface between the view and model.</p>\n<pre><code>public LeiterspielController (IxyView view, ..., PApplet p) {\n        this.view = view;\n        this.game = new xyModel();\n        this.p = p;\n...\n    }\n</code></pre>\n<p>My first solution doesn't change the outcome.</p>\n<p>The PApplet p = this solution changes the outcome to:</p>\n<blockquote>\n<p>java.lang.RuntimeException: java.lang.NoSuchMethodException: leiterspiel.view.LeiterspielView.()</p>\n</blockquote>\n<p>I don't know what this means and the PApplet window doesn't open.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1674571867,"post_id":75223083,"comment_id":132739422,"body_markdown":"You are using Lazy Fetch for your list of techList. So it won&#39;t come with parent entity. You would rather need to use Eager Fetch or make seperate query and populate object post that.","body":"You are using Lazy Fetch for your list of techList. So it won&#39;t come with parent entity. You would rather need to use Eager Fetch or make seperate query and populate object post that."},{"owner":{"account_id":27137289,"reputation":1,"user_id":20678560,"display_name":"hung kun"},"score":0,"creation_date":1674572088,"post_id":75223083,"comment_id":132739506,"body_markdown":"I tried that. But still it still the same. Beside, i&#39;m using RestController, like: \t@PostMapping(&quot;/category/viewAll&quot;)\n\tpublic List&lt;Category&gt; viewAllCategory() {\n\t\treturn repo.findAll();\nwhich the JSON parse will make it run","body":"I tried that. But still it still the same. Beside, i&#39;m using RestController, like: \t@PostMapping(&quot;/category/viewAll&quot;) \tpublic List&lt;Category&gt; viewAllCategory() { \t\treturn repo.findAll(); which the JSON parse will make it run"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1674572275,"post_id":75223083,"comment_id":132739590,"body_markdown":"Would you please share your complete code? It&#39;s tough to find the issue with available info.","body":"Would you please share your complete code? It&#39;s tough to find the issue with available info."},{"owner":{"account_id":27137289,"reputation":1,"user_id":20678560,"display_name":"hung kun"},"score":0,"creation_date":1674572496,"post_id":75223083,"comment_id":132739681,"body_markdown":"that&#39;s pretty much everything. I only have 2 entity, and 1 controller which run categoryRepository.findAll","body":"that&#39;s pretty much everything. I only have 2 entity, and 1 controller which run categoryRepository.findAll"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1674572528,"post_id":75223083,"comment_id":132739696,"body_markdown":"I don&#39;t see controller here","body":"I don&#39;t see controller here"},{"owner":{"account_id":27137289,"reputation":1,"user_id":20678560,"display_name":"hung kun"},"score":0,"creation_date":1674572566,"post_id":75223083,"comment_id":132739715,"body_markdown":"@PostMapping(&quot;/category/viewAll&quot;) \npublic List&lt;Category&gt; viewAllCategory() \n{ return repo.findAll();}\nAh, i post it in the last comment","body":"@PostMapping(&quot;/category/viewAll&quot;)  public List&lt;Category&gt; viewAllCategory()  { return repo.findAll();} Ah, i post it in the last comment"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1674572596,"post_id":75223083,"comment_id":132739728,"body_markdown":"Please add that complete code in question rather, in order to help you better.","body":"Please add that complete code in question rather, in order to help you better."},{"owner":{"account_id":27137289,"reputation":1,"user_id":20678560,"display_name":"hung kun"},"score":0,"creation_date":1674572801,"post_id":75223083,"comment_id":132739817,"body_markdown":"I just did. I dont think the jpa function only need to be posted","body":"I just did. I dont think the jpa function only need to be posted"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1674575069,"post_id":75223083,"comment_id":132740620,"body_markdown":"You have a bidirectional relationship that is controlled from the TechnicalStack side - this means for the relationship to be persisted in the database, the Posted TechnicalStack MUST have its category reference set. The JSON you have doesn&#39;t set it, and it isn&#39;t likely being set in your controllers - that would be the place to do it. When you take in a Category, go through its list of TechnicalStack and make sure each reference &#39;this&#39; category. You WILL get a stack overflow error once you do this though because you do not have mechanisms to tell JSON how to handle the circular reference","body":"You have a bidirectional relationship that is controlled from the TechnicalStack side - this means for the relationship to be persisted in the database, the Posted TechnicalStack MUST have its category reference set. The JSON you have doesn&#39;t set it, and it isn&#39;t likely being set in your controllers - that would be the place to do it. When you take in a Category, go through its list of TechnicalStack and make sure each reference &#39;this&#39; category. You WILL get a stack overflow error once you do this though because you do not have mechanisms to tell JSON how to handle the circular reference"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1674575112,"post_id":75223083,"comment_id":132740639,"body_markdown":"Try @JSONIgnore and look for questions on circular references in JSON","body":"Try @JSONIgnore and look for questions on circular references in JSON"},{"owner":{"account_id":27137289,"reputation":1,"user_id":20678560,"display_name":"hung kun"},"score":0,"creation_date":1674577130,"post_id":75223083,"comment_id":132741423,"body_markdown":"I thought @OneToMany mean the category should be the one who controll the technicalStack?","body":"I thought @OneToMany mean the category should be the one who controll the technicalStack?"}],"answers":[{"tags":[],"owner":{"account_id":27085849,"reputation":291,"user_id":20634376,"display_name":"Georgii Vlasov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674591327,"creation_date":1674591327,"answer_id":75226830,"question_id":75223083,"body_markdown":"One way you can do it is by using Spring Data JPA Projection. In your spring data JPA Repository, define the following method:&#160;\r\n\r\n    public interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\r\n    @Query(&quot;select c from Category c&quot;)\r\n    List&lt;CategoryWithTechList&gt; findAllWithTechList();\r\n    }\r\n\r\n\r\nAnd here is how the CategoryWithTechList projection will look like:\r\n\r\n    import java.util.Set;\r\n    \r\n    public interface CategoryWithTechList {\r\n        Long getId();\r\n    \r\n        String getCategoryName();\r\n    \r\n        String getDescription();\r\n    \r\n        Set&lt;TechnicalStackInfo&gt; getTechList();\r\n        \r\n        interface TechnicalStackInfo {\r\n            Long getID();\r\n    \r\n            String getQuestion();\r\n    \r\n            String getAnswer();\r\n    \r\n            int getBookmark();\r\n    \r\n            int getCheatSheet();\r\n        }\r\n    }\r\n\r\n\r\nThe get endpoint:\r\n\r\n\r\n    @GetMapping(&quot;/category/viewAll&quot;)\r\n    public List&lt;CategoryWithTechList&gt; viewAllCategory() {\r\n    &#160;&#160;&#160; return categoryRepository.findAllWithTechList();\r\n    }\r\n\r\nReturned result:\r\n\r\n    [\r\n    &#160; {\r\n    &#160;&#160;&#160; &quot;id&quot;: 1,\r\n    &#160;&#160;&#160; &quot;techList&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160; {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;id&quot;: 1,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;question&quot;: &quot;1&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;bookmark&quot;: 1,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;cheatSheet&quot;: 1,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;answer&quot;: &quot;1&quot;\r\n    &#160;&#160;&#160;&#160;&#160; },\r\n    &#160;&#160;&#160;&#160;&#160; {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;id&quot;: 2,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;question&quot;: &quot;1&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;bookmark&quot;: 1,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;cheatSheet&quot;: 1,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;answer&quot;: &quot;1&quot;\r\n    &#160;&#160;&#160;&#160;&#160; }\r\n    &#160;&#160;&#160; ],\r\n    &#160;&#160;&#160; &quot;categoryName&quot;: &quot;Cat1&quot;,\r\n    &#160;&#160;&#160; &quot;description&quot;: &quot;1&quot;\r\n    &#160; },\r\n    &#160; {\r\n    &#160;&#160;&#160; &quot;id&quot;: 2,\r\n    &#160;&#160;&#160; &quot;techList&quot;: [\r\n    &#160;&#160;&#160;&#160;&#160; {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;id&quot;: 4,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;question&quot;: &quot;2&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;bookmark&quot;: 2,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;cheatSheet&quot;: 2,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;answer&quot;: &quot;2&quot;\r\n    &#160;&#160;&#160;&#160;&#160; },\r\n    &#160;&#160;&#160;&#160;&#160; {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;id&quot;: 3,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;question&quot;: &quot;2&quot;,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;bookmark&quot;: 2,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;cheatSheet&quot;: 2,\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160; &quot;answer&quot;: &quot;2&quot;\r\n    &#160;&#160;&#160;&#160;&#160; }\r\n    &#160;&#160;&#160; ],\r\n    &#160;&#160;&#160; &quot;categoryName&quot;: &quot;Cat2&quot;,\r\n    &#160;&#160;&#160; &quot;description&quot;: &quot;2&quot;\r\n    &#160; },\r\n    ]\r\n\r\n\r\nBtw, I also recond you keep all the field names in camelCase in your JPA Entities.","title":"How to show List in @OneToMany relation","body":"<p>One way you can do it is by using Spring Data JPA Projection. In your spring data JPA Repository, define the following method: </p>\n<pre><code>public interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\n@Query(&quot;select c from Category c&quot;)\nList&lt;CategoryWithTechList&gt; findAllWithTechList();\n}\n</code></pre>\n<p>And here is how the CategoryWithTechList projection will look like:</p>\n<pre><code>import java.util.Set;\n\npublic interface CategoryWithTechList {\n    Long getId();\n\n    String getCategoryName();\n\n    String getDescription();\n\n    Set&lt;TechnicalStackInfo&gt; getTechList();\n    \n    interface TechnicalStackInfo {\n        Long getID();\n\n        String getQuestion();\n\n        String getAnswer();\n\n        int getBookmark();\n\n        int getCheatSheet();\n    }\n}\n</code></pre>\n<p>The get endpoint:</p>\n<pre><code>@GetMapping(&quot;/category/viewAll&quot;)\npublic List&lt;CategoryWithTechList&gt; viewAllCategory() {\n    return categoryRepository.findAllWithTechList();\n}\n</code></pre>\n<p>Returned result:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;techList&quot;: [\n      {\n        &quot;id&quot;: 1,\n        &quot;question&quot;: &quot;1&quot;,\n        &quot;bookmark&quot;: 1,\n        &quot;cheatSheet&quot;: 1,\n        &quot;answer&quot;: &quot;1&quot;\n      },\n      {\n        &quot;id&quot;: 2,\n        &quot;question&quot;: &quot;1&quot;,\n        &quot;bookmark&quot;: 1,\n        &quot;cheatSheet&quot;: 1,\n        &quot;answer&quot;: &quot;1&quot;\n      }\n    ],\n    &quot;categoryName&quot;: &quot;Cat1&quot;,\n    &quot;description&quot;: &quot;1&quot;\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;techList&quot;: [\n      {\n        &quot;id&quot;: 4,\n        &quot;question&quot;: &quot;2&quot;,\n        &quot;bookmark&quot;: 2,\n        &quot;cheatSheet&quot;: 2,\n        &quot;answer&quot;: &quot;2&quot;\n      },\n      {\n        &quot;id&quot;: 3,\n        &quot;question&quot;: &quot;2&quot;,\n        &quot;bookmark&quot;: 2,\n        &quot;cheatSheet&quot;: 2,\n        &quot;answer&quot;: &quot;2&quot;\n      }\n    ],\n    &quot;categoryName&quot;: &quot;Cat2&quot;,\n    &quot;description&quot;: &quot;2&quot;\n  },\n]\n</code></pre>\n<p>Btw, I also recond you keep all the field names in camelCase in your JPA Entities.</p>\n"}],"owner":{"account_id":27137289,"reputation":1,"user_id":20678560,"display_name":"hung kun"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674591327,"creation_date":1674571229,"question_id":75223083,"body_markdown":"I&#39;m having an entity TechnicalStack and an entity Category, which an Category may have many TechnicalStack inside.\r\n\r\nHere is my code:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;technical_stack&quot;)\r\npublic class TechnicalStack implements Serializable{\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long ID;\r\n\t\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;)\r\n    private Category category;\r\n\t\r\n\tprivate String Question;\r\n\t\r\n\t@Column(columnDefinition = &quot;NVARCHAR(MAX)&quot;)\t\r\n\tprivate String Answer;\r\n\t\r\n\tprivate int Bookmark;\r\n\t\r\n\tprivate int CheatSheet;\r\n}\r\n```\r\n\r\n\r\nand Category\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;categories&quot;)\r\npublic class Category implements Serializable {\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY,cascade = CascadeType.ALL)\r\n    @Fetch(FetchMode.SUBSELECT)\r\n    private Set&lt;TechnicalStack&gt; techList = new HashSet&lt;&gt;();\r\n\r\n    private String categoryName;\r\n    private String description;\r\n}\r\n```\r\n\r\nI&#39;m only using normal JPA function, findAll, save, etc.\r\n\r\nSo, when I save an category item, like:\r\n\r\n```\r\n{\r\n    &quot;description&quot; : &quot;...&quot;,\r\n    &quot;categoryName&quot; : &quot;name1update&quot;,\r\n    &quot;techList&quot;: [{\r\n        &quot;question&quot; : &quot;ABC&quot;,\r\n        &quot;answer&quot; : &quot;XYZ&quot;\r\n    }]\r\n}\r\n```\r\n\r\n\r\n\r\nwhen I already have some records in 2 table TechStack and Category, I want to view category, i&#39;m having this by calling findAll()\r\n\r\n```\r\n`[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;techList&quot;: [],\r\n        &quot;categoryName&quot;: &quot;name1update&quot;,\r\n        &quot;description&quot;: &quot;...&quot;\r\n    }\r\n]`\r\n```\r\n\r\nbut, when I check technical stack record, i have like this:\r\n\r\n```\r\n`{\r\n    &quot;category&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;techList&quot;: [],\r\n        &quot;categoryName&quot;: null,\r\n        &quot;description&quot;: null\r\n    },\r\n    &quot;id&quot;: 3,\r\n    &quot;question&quot;: &quot;question11&quot;,\r\n    &quot;answer&quot;: &quot;answer22&quot;,\r\n    &quot;bookmark&quot;: 0,\r\n    &quot;cheatSheet&quot;: 0\r\n}`\r\n```\r\n\r\nController:\r\n\r\n    \t@PostMapping(&quot;/category/viewAll&quot;)\r\n\tpublic List&lt;Category&gt; viewAllCategory() {\r\n\t\treturn repo.findAll();\r\n\t}\r\n\r\n\r\nTechnicalStack is working fine, but vice versa is not. The techList inside category shouldn&#39;t be empty.\r\nHow do i implement, so when the jpa call category by findAll(), I also got the techList?\r\n\r\nI think i can do it by manually call the techList. That wouldn&#39;t be a problem. One query statement to call the category id, and one query to call the technical stack IN the list just called. But I don&#39;t think that is fully used JPA/Hibernate.\r\n\r\nThank you","title":"How to show List in @OneToMany relation","body":"<p>I'm having an entity TechnicalStack and an entity Category, which an Category may have many TechnicalStack inside.</p>\n<p>Here is my code:</p>\n<pre><code>@Entity\n@Table(name = &quot;technical_stack&quot;)\npublic class TechnicalStack implements Serializable{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long ID;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;)\n    private Category category;\n    \n    private String Question;\n    \n    @Column(columnDefinition = &quot;NVARCHAR(MAX)&quot;) \n    private String Answer;\n    \n    private int Bookmark;\n    \n    private int CheatSheet;\n}\n</code></pre>\n<p>and Category</p>\n<pre><code>@Entity\n@Table(name=&quot;categories&quot;)\npublic class Category implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @OneToMany(mappedBy = &quot;category&quot;, fetch = FetchType.LAZY,cascade = CascadeType.ALL)\n    @Fetch(FetchMode.SUBSELECT)\n    private Set&lt;TechnicalStack&gt; techList = new HashSet&lt;&gt;();\n\n    private String categoryName;\n    private String description;\n}\n</code></pre>\n<p>I'm only using normal JPA function, findAll, save, etc.</p>\n<p>So, when I save an category item, like:</p>\n<pre><code>{\n    &quot;description&quot; : &quot;...&quot;,\n    &quot;categoryName&quot; : &quot;name1update&quot;,\n    &quot;techList&quot;: [{\n        &quot;question&quot; : &quot;ABC&quot;,\n        &quot;answer&quot; : &quot;XYZ&quot;\n    }]\n}\n</code></pre>\n<p>when I already have some records in 2 table TechStack and Category, I want to view category, i'm having this by calling findAll()</p>\n<pre><code>`[\n    {\n        &quot;id&quot;: 1,\n        &quot;techList&quot;: [],\n        &quot;categoryName&quot;: &quot;name1update&quot;,\n        &quot;description&quot;: &quot;...&quot;\n    }\n]`\n</code></pre>\n<p>but, when I check technical stack record, i have like this:</p>\n<pre><code>`{\n    &quot;category&quot;: {\n        &quot;id&quot;: 1,\n        &quot;techList&quot;: [],\n        &quot;categoryName&quot;: null,\n        &quot;description&quot;: null\n    },\n    &quot;id&quot;: 3,\n    &quot;question&quot;: &quot;question11&quot;,\n    &quot;answer&quot;: &quot;answer22&quot;,\n    &quot;bookmark&quot;: 0,\n    &quot;cheatSheet&quot;: 0\n}`\n</code></pre>\n<p>Controller:</p>\n<pre><code>    @PostMapping(&quot;/category/viewAll&quot;)\npublic List&lt;Category&gt; viewAllCategory() {\n    return repo.findAll();\n}\n</code></pre>\n<p>TechnicalStack is working fine, but vice versa is not. The techList inside category shouldn't be empty.\nHow do i implement, so when the jpa call category by findAll(), I also got the techList?</p>\n<p>I think i can do it by manually call the techList. That wouldn't be a problem. One query statement to call the category id, and one query to call the technical stack IN the list just called. But I don't think that is fully used JPA/Hibernate.</p>\n<p>Thank you</p>\n"},{"tags":["java","hawtio","jolokia"],"owner":{"account_id":3031154,"reputation":2749,"user_id":2570135,"accept_rate":62,"display_name":"user2570135"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674591232,"creation_date":1674591232,"question_id":75226815,"body_markdown":"Hawtio throws &quot;Cannot connect to Jolokia to access this Java process&quot; exception for user , while trying to access container perspective from the Hawtio UI\r\n\r\n\r\nThis is what I have done so far\r\n\r\n\r\n## on hawtio server\r\n\r\n 1. Have a tomcat server running\r\n 2. Install hawtio.war file\r\n 3. Modify the hawtio/WEB-INF/web.xml and add my remote server IP to the param-name&gt;proxyWhitelist&lt;/param-name&gt;\r\n 4. Access http://IP:3100/hawtio/login from browser and is able to see the authentication screen\r\n 5. authenticate successfully\r\n 6. Get the error when trying to connect to the remote tomcat machine\r\n\r\n\r\n## Remote server tomcat server\r\n\r\n 1. Install jolokia war\r\n 2. Modify jolokia-access.xml file -- add the HAWTIO server \r\n 3. curl http://localhost:3100/jolokia  -- This return the Jolokia version\r\n\r\nCan you please let me know how what else I need to change\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n--\r\n\r\n\r\n\r\n","title":"Hawtio throws &quot;Cannot connect to Jolokia to access this Java process&quot; exception","body":"<p>Hawtio throws &quot;Cannot connect to Jolokia to access this Java process&quot; exception for user , while trying to access container perspective from the Hawtio UI</p>\n<p>This is what I have done so far</p>\n<h2>on hawtio server</h2>\n<ol>\n<li>Have a tomcat server running</li>\n<li>Install hawtio.war file</li>\n<li>Modify the hawtio/WEB-INF/web.xml and add my remote server IP to the param-name&gt;proxyWhitelist</li>\n<li>Access http://IP:3100/hawtio/login from browser and is able to see the authentication screen</li>\n<li>authenticate successfully</li>\n<li>Get the error when trying to connect to the remote tomcat machine</li>\n</ol>\n<h2>Remote server tomcat server</h2>\n<ol>\n<li>Install jolokia war</li>\n<li>Modify jolokia-access.xml file -- add the HAWTIO server</li>\n<li>curl http://localhost:3100/jolokia  -- This return the Jolokia version</li>\n</ol>\n<p>Can you please let me know how what else I need to change</p>\n<p>Thanks</p>\n<p>--</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":2094826,"reputation":434,"user_id":1863849,"accept_rate":75,"display_name":"Merlyn007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674590037,"creation_date":1674590037,"answer_id":75226609,"question_id":75226536,"body_markdown":"Your variable names are not descriptive, so that&#39;s not good.\r\n\r\nTry to `flush()` the object that is reading the JSON and then `close()` it, that should do it.","title":"Not able to delete the file, Getting exception as File is used by another process","body":"<p>Your variable names are not descriptive, so that's not good.</p>\n<p>Try to <code>flush()</code> the object that is reading the JSON and then <code>close()</code> it, that should do it.</p>\n"},{"tags":[],"owner":{"account_id":15915815,"reputation":736,"user_id":11484412,"display_name":"Konrad Neitzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674591152,"creation_date":1674591152,"answer_id":75226797,"question_id":75226536,"body_markdown":"You do not close the FileReader. So instead of just creating a FileReader directly inside the method call parser.parse(..)., you should use a &quot;try wih resources&quot; (or at least close the reeader after reading the content).\r\n\r\nSo instead of:\r\n\r\n    Object obj = parser.parse(new FileReader(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;));\r\n\r\nYou have code like:\r\n\r\n    Object obj;\r\n    try (FileReader reader = new FileReader(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;)) {\r\n        obj = parser.parse(reader);\r\n    }\r\n\r\nThat way the reader is closed and the file is no longer in use.","title":"Not able to delete the file, Getting exception as File is used by another process","body":"<p>You do not close the FileReader. So instead of just creating a FileReader directly inside the method call parser.parse(..)., you should use a &quot;try wih resources&quot; (or at least close the reeader after reading the content).</p>\n<p>So instead of:</p>\n<pre><code>Object obj = parser.parse(new FileReader(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;));\n</code></pre>\n<p>You have code like:</p>\n<pre><code>Object obj;\ntry (FileReader reader = new FileReader(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;)) {\n    obj = parser.parse(reader);\n}\n</code></pre>\n<p>That way the reader is closed and the file is no longer in use.</p>\n"}],"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75226797,"answer_count":2,"score":0,"last_activity_date":1674591152,"creation_date":1674589600,"question_id":75226536,"body_markdown":"Can someone please help me out that how to delete the file, below is the code  using to convert the JSON file to Excel file, but after conversion am unable to delete the JSON file in the respective path.Getting exception saying that &quot;java.nio.file.FileSystemException: .\\Json_files\\db-AAPL.json: The process cannot access the file because it is being used by another process\r\n&quot;\r\n\r\n    public class DB_Search_API {\r\n\r\n\tString stockname;\r\n\tpublic static XSSFWorkbook wb;\r\n\tpublic static XSSFSheet s;\r\n\tpublic static FileInputStream fi;\r\n\tpublic static FileOutputStream fo;\r\n\tpublic static Row r;\r\n\tpublic static Row r1;\r\n\tpublic static Cell c;\r\n\r\n\t@Test\r\n\tpublic void FinBlock() throws Exception {\r\n\t\tint lastRow = dataXl.getRowCount(&quot;Sheet1&quot;);\r\n\t\t////\r\n\t\tLocalDateTime date = LocalDateTime.now();\r\n\r\n\t\tDateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n\t\tString formattedDate = date.format(dateFormat);\r\n\r\n\t\tDateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm&quot;);\r\n\t\tString formatedate = date.format(dateformat);\r\n\r\n\t\tPath dir = Paths.get(&quot;.//Output_Files//DB_Excelfiles-&quot; + formattedDate);\r\n\t\tFiles.createDirectories(dir);\r\n\t\twb = new XSSFWorkbook();\r\n\t\t \r\n\r\n\t\t//////\r\n\r\n\t\tfor (int i = 2; i &lt;= lastRow; i++) {\r\n\t\t\tstockname = dataXl.getCellData(&quot;Sheet1&quot;, &quot;Stock name&quot;, i);\r\n\t\t\tString USERNAME = CONFIG.getProperty(&quot;Username&quot;);\r\n\t\t\tString Password = CONFIG.getProperty(&quot;password&quot;);\r\n\t\t\tString URI = CONFIG.getProperty(&quot;API&quot;);\r\n\t\t\tSessionFilter session = new SessionFilter();\r\n\t\t\tRestAssured.baseURI = URI;\r\n\r\n\t\t\tString Response = given().auth().preemptive().basic(USERNAME, Password).filter(session).when()\r\n\t\t\t\t\t.get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\r\n\r\n\t\t\tResponse resp = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when()\r\n\t\t\t\t\t.get(&quot;******&quot;\r\n\t\t\t\t\t\t\t+ stockname\r\n\t\t\t\t\t\t\t+ &quot;*****&quot;)\r\n\t\t\t\t\t.then().log().all().extract().response();\r\n\t\t\t \r\n\t\t\tPrintWriter out = new PrintWriter(new FileWriter(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;, true), true);\r\n\t\t\tout.write(resp.asString());\r\n\t\t\tout.close();\r\n\r\n\t\t\tJSONParser parser = new JSONParser();\r\n\r\n\t\t\tObject obj = parser.parse(new FileReader(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;));\r\n\t\t\tJSONObject jsonObj = (JSONObject) obj;\r\n\t\t\tJSONObject response = (JSONObject) jsonObj.get(&quot;response&quot;);\r\n\t\t\tJSONObject arraybody = (JSONObject) response.get(&quot;data&quot;);\r\n\t\t\tJSONArray arrayindex = (JSONArray) arraybody.get(&quot;arrayRowData&quot;);\r\n\r\n\t\t\tint n = arrayindex.size();\r\n\r\n\t\t\ts = wb.createSheet(stockname);\r\n\r\n\t\t\tfor (int j = 0; j &lt; n; j++) {\r\n\t\t\t\tJSONObject jsonObject = new JSONObject((Map) arrayindex.get(j));\r\n\t\t\t\tJSONObject jsonObject1 = (JSONObject) jsonObject.get(&quot;header&quot;);\r\n\t\t\t\tString value = (String) jsonObject1.get(&quot;displayName&quot;);\r\n\t\t\t\ts.createRow(j + 1).createCell(0).setCellValue(value);\r\n\t\t\t\tJSONArray arrayindex1 = (JSONArray) jsonObject.get(&quot;cellData&quot;);\r\n\r\n\t\t\t\tint m = arrayindex1.size();\r\n\t\t\t\tint x = m - 1;\r\n\t\t\t\tr = s.getRow(j + 1);\r\n\t\t\t\tr1 = s.createRow(0);\r\n\r\n\t\t\t\tfor (int k = 0; k &lt;= x; k++) {\r\n\t\t\t\t\tJSONObject jsonObject12 = new JSONObject((Map) arrayindex1.get(k));\r\n\t\t\t\t\tString newdate = (String) jsonObject12.get(&quot;fiscalDate&quot;);\r\n\t\t\t\t\tr1.createCell(k + 1).setCellValue(newdate);\r\n\r\n\t\t\t\t\tif (jsonObject12.get(&quot;value&quot;) == null) {\r\n\t\t\t\t\t\tr.createCell(k + 1).setCellValue(&quot;-&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tr.createCell(k + 1).setCellValue((double) jsonObject12.get(&quot;value&quot;));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfo = new FileOutputStream(dir + &quot;//DB_Search&quot; + &quot;-&quot; + formatedate + &quot;.xlsx&quot;);\r\n\t\t\twb.write(fo);\r\n\t\t\tfo.flush();\r\n\t\t\tfo.close();\r\n \r\n\t\t\ttry {\r\n\r\n\t\t\t\t Files.deleteIfExists(Paths.get(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;));\r\n\t\t\t\t \r\n\r\n\t\t\t} catch (NoSuchFileException e) {\r\n\t\t\t\tSystem.out.println(&quot;No such file/directory exists&quot;);\r\n\r\n\t\t\t} catch (DirectoryNotEmptyException e) {\r\n\t\t\t\tSystem.out.println(&quot;Directory is not empty.&quot;);\r\n\r\n\t\t\t} \r\n \r\n\r\n\t\t}\r\n\r\n\t}\r\n}","title":"Not able to delete the file, Getting exception as File is used by another process","body":"<p>Can someone please help me out that how to delete the file, below is the code  using to convert the JSON file to Excel file, but after conversion am unable to delete the JSON file in the respective path.Getting exception saying that &quot;java.nio.file.FileSystemException: .\\Json_files\\db-AAPL.json: The process cannot access the file because it is being used by another process\n&quot;</p>\n<pre><code>public class DB_Search_API {\n\nString stockname;\npublic static XSSFWorkbook wb;\npublic static XSSFSheet s;\npublic static FileInputStream fi;\npublic static FileOutputStream fo;\npublic static Row r;\npublic static Row r1;\npublic static Cell c;\n\n@Test\npublic void FinBlock() throws Exception {\n    int lastRow = dataXl.getRowCount(&quot;Sheet1&quot;);\n    ////\n    LocalDateTime date = LocalDateTime.now();\n\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n    String formattedDate = date.format(dateFormat);\n\n    DateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm&quot;);\n    String formatedate = date.format(dateformat);\n\n    Path dir = Paths.get(&quot;.//Output_Files//DB_Excelfiles-&quot; + formattedDate);\n    Files.createDirectories(dir);\n    wb = new XSSFWorkbook();\n     \n\n    //////\n\n    for (int i = 2; i &lt;= lastRow; i++) {\n        stockname = dataXl.getCellData(&quot;Sheet1&quot;, &quot;Stock name&quot;, i);\n        String USERNAME = CONFIG.getProperty(&quot;Username&quot;);\n        String Password = CONFIG.getProperty(&quot;password&quot;);\n        String URI = CONFIG.getProperty(&quot;API&quot;);\n        SessionFilter session = new SessionFilter();\n        RestAssured.baseURI = URI;\n\n        String Response = given().auth().preemptive().basic(USERNAME, Password).filter(session).when()\n                .get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\n\n        Response resp = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when()\n                .get(&quot;******&quot;\n                        + stockname\n                        + &quot;*****&quot;)\n                .then().log().all().extract().response();\n         \n        PrintWriter out = new PrintWriter(new FileWriter(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;, true), true);\n        out.write(resp.asString());\n        out.close();\n\n        JSONParser parser = new JSONParser();\n\n        Object obj = parser.parse(new FileReader(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;));\n        JSONObject jsonObj = (JSONObject) obj;\n        JSONObject response = (JSONObject) jsonObj.get(&quot;response&quot;);\n        JSONObject arraybody = (JSONObject) response.get(&quot;data&quot;);\n        JSONArray arrayindex = (JSONArray) arraybody.get(&quot;arrayRowData&quot;);\n\n        int n = arrayindex.size();\n\n        s = wb.createSheet(stockname);\n\n        for (int j = 0; j &lt; n; j++) {\n            JSONObject jsonObject = new JSONObject((Map) arrayindex.get(j));\n            JSONObject jsonObject1 = (JSONObject) jsonObject.get(&quot;header&quot;);\n            String value = (String) jsonObject1.get(&quot;displayName&quot;);\n            s.createRow(j + 1).createCell(0).setCellValue(value);\n            JSONArray arrayindex1 = (JSONArray) jsonObject.get(&quot;cellData&quot;);\n\n            int m = arrayindex1.size();\n            int x = m - 1;\n            r = s.getRow(j + 1);\n            r1 = s.createRow(0);\n\n            for (int k = 0; k &lt;= x; k++) {\n                JSONObject jsonObject12 = new JSONObject((Map) arrayindex1.get(k));\n                String newdate = (String) jsonObject12.get(&quot;fiscalDate&quot;);\n                r1.createCell(k + 1).setCellValue(newdate);\n\n                if (jsonObject12.get(&quot;value&quot;) == null) {\n                    r.createCell(k + 1).setCellValue(&quot;-&quot;);\n                } else {\n                    r.createCell(k + 1).setCellValue((double) jsonObject12.get(&quot;value&quot;));\n                }\n            }\n        }\n\n        fo = new FileOutputStream(dir + &quot;//DB_Search&quot; + &quot;-&quot; + formatedate + &quot;.xlsx&quot;);\n        wb.write(fo);\n        fo.flush();\n        fo.close();\n\n        try {\n\n             Files.deleteIfExists(Paths.get(&quot;.//Json_files//db-&quot; + stockname + &quot;.json&quot;));\n             \n\n        } catch (NoSuchFileException e) {\n            System.out.println(&quot;No such file/directory exists&quot;);\n\n        } catch (DirectoryNotEmptyException e) {\n            System.out.println(&quot;Directory is not empty.&quot;);\n\n        } \n\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","regex","zsh"],"comments":[{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1674635234,"post_id":75226638,"comment_id":132754103,"body_markdown":"For your case, using a regexp is overkill, but it is of course a good idea to know about them. You start reading about regular expressions in zsh at _man zshmisc_ , in the chapter _CONDITIONAL EXPRESSIONS_. From this you will see that zsh can do two types of regexp: Extended POSIX (default), and PCRE (must be turned on if you want to use it). About PCRE, you find information in _man zshmodules_","body":"For your case, using a regexp is overkill, but it is of course a good idea to know about them. You start reading about regular expressions in zsh at <i>man zshmisc</i> , in the chapter <i>CONDITIONAL EXPRESSIONS</i>. From this you will see that zsh can do two types of regexp: Extended POSIX (default), and PCRE (must be turned on if you want to use it). About PCRE, you find information in <i>man zshmodules</i>"}],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674591095,"creation_date":1674591095,"answer_id":75226789,"question_id":75226638,"body_markdown":"You can use a simple string substitution: `${1//.java}` This will remove the last occurence of `.java` from the parameter `$1`.","title":"How can I use a regular expression to remove the file extension in zhell?","body":"<p>You can use a simple string substitution: <code>${1//.java}</code> This will remove the last occurence of <code>.java</code> from the parameter <code>$1</code>.</p>\n"}],"owner":{"account_id":27037239,"reputation":37,"user_id":20592666,"display_name":"jennifer k."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1674591095,"creation_date":1674590205,"question_id":75226638,"body_markdown":"I am trying to simplify my command line java using this zshell script where `$1` holds the file name, in this case `Hello.java.`\r\n\r\n\r\n```\r\n# jcr stands for java compile and run\r\njcr() {\r\n  javac $1    # $1 contains the first argument Hello.java\r\n  java Hello  # I want to replace Hello with a \r\n              # regular expression or similar which extracts Hello \r\n}\r\n```\r\n\r\nI need a good reference or cheat sheet for zshell and zhell regular expressions.","title":"How can I use a regular expression to remove the file extension in zhell?","body":"<p>I am trying to simplify my command line java using this zshell script where <code>$1</code> holds the file name, in this case <code>Hello.java.</code></p>\n<pre><code># jcr stands for java compile and run\njcr() {\n  javac $1    # $1 contains the first argument Hello.java\n  java Hello  # I want to replace Hello with a \n              # regular expression or similar which extracts Hello \n}\n</code></pre>\n<p>I need a good reference or cheat sheet for zshell and zhell regular expressions.</p>\n"},{"tags":["java","postgresql","jdbc","postgresql-11"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":4,"creation_date":1674591321,"post_id":75226766,"comment_id":132745873,"body_markdown":"_&quot;I&#39;ve found nothing in postgres logs&quot;_ - because the traffic never made it to Postgres, it was blocked at the network level.  The problem is in the network/firewall configuration at the server.","body":"<i>&quot;I&#39;ve found nothing in postgres logs&quot;</i> - because the traffic never made it to Postgres, it was blocked at the network level.  The problem is in the network/firewall configuration at the server."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1674610676,"post_id":75226766,"comment_id":132750130,"body_markdown":"&quot;Before I&#39;ve added pg_hba.conf configuration I was getting error about no entry in this file&quot;  You must have broke something, because now you are failing even earlier in the process than it was before.  Or were those errors coming when connecting from a different server?","body":"&quot;Before I&#39;ve added pg_hba.conf configuration I was getting error about no entry in this file&quot;  You must have broke something, because now you are failing even earlier in the process than it was before.  Or were those errors coming when connecting from a different server?"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1674610739,"post_id":75226766,"comment_id":132750140,"body_markdown":"Where was pgAdmin installed?  On the same server as your app, the same server as the database, or somewhere else?","body":"Where was pgAdmin installed?  On the same server as your app, the same server as the database, or somewhere else?"},{"owner":{"account_id":6422700,"reputation":117,"user_id":4978944,"accept_rate":92,"display_name":"RIP"},"score":0,"creation_date":1675064046,"post_id":75226766,"comment_id":132839896,"body_markdown":"Problem solved. Network configuration only allowed connections from 192.168.44.x adressess. Thanks for your advices.","body":"Problem solved. Network configuration only allowed connections from 192.168.44.x adressess. Thanks for your advices."}],"owner":{"account_id":6422700,"reputation":117,"user_id":4978944,"accept_rate":92,"display_name":"RIP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674590999,"creation_date":1674590999,"question_id":75226766,"body_markdown":"I have two virtual machines where one is hosting postgres DB and another application that is connecting to database. I have tried multiple configuration ways, but every time connecting I&#39;m connecting via JDBC I get:\r\n\r\n    org.postgresql.util.PSQLException: The connection attempt failed.\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\r\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225)\r\n        at org.postgresql.Driver.makeConnection(Driver.java:465)\r\n        at org.postgresql.Driver.connect(Driver.java:264)\r\n        at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\r\n        at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)\r\n        at java.base/java.net.SocksSocketImpl.connect(Unknown Source)\r\n        at java.base/java.net.Socket.connect(Unknown Source)\r\n        at org.postgresql.core.PGStream.createSocket(PGStream.java:231)\r\n        at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95)\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98)\r\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n\r\n\r\nFor now in my pg_hba.conf file I have configured application host with:\r\n\r\n&gt; host    my_db     user     192.168.14.147/32       password (**tried md5 and even trust, same result**)\r\n\r\nI have also checked postgresql.conf and I have \r\n\r\n&gt; listen_addresses = &#39;*&#39;\r\n\r\nI have reloaded conf in db with:\r\n&gt; SELECT pg_reload_conf();\r\n\r\nMy postgresql server is working on host 192.168.44.38. Before I&#39;ve added pg_hba.conf configuration I was getting error about no entry in this file and I also tried to connect to DB via pgAdmin and it works, so my config should be okay.\r\n\r\nMy jdbc connection method:\r\n\r\n     try {\r\n            String postgresConnectionUrl = &quot;jdbc:postgresql://192.168.44.38:5432/my_db&quot;;\r\n            Connection connection = DriverManager.getConnection(postgresConnectionUrl, &quot;user&quot;, &quot;my_pass&quot;);\r\n            return connection;\r\n        } catch (SQLException sqlException) {\r\n            log.error(&quot;Error connecting. &quot;, sqlException);\r\n            return null;\r\n        }\r\n\r\n I&#39;ve found nothing in postgres logs, also my user account has no limited connections and isn&#39;t even used. ","title":"Java JDBC getting Postgres socket timeout exception for allowed connection","body":"<p>I have two virtual machines where one is hosting postgres DB and another application that is connecting to database. I have tried multiple configuration ways, but every time connecting I'm connecting via JDBC I get:</p>\n<pre><code>org.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:225)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n    at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\nCaused by: java.net.SocketTimeoutException: connect timed out\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\n    at java.base/java.net.AbstractPlainSocketImpl.connect(Unknown Source)\n    at java.base/java.net.SocksSocketImpl.connect(Unknown Source)\n    at java.base/java.net.Socket.connect(Unknown Source)\n    at org.postgresql.core.PGStream.createSocket(PGStream.java:231)\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n</code></pre>\n<p>For now in my pg_hba.conf file I have configured application host with:</p>\n<blockquote>\n<p>host    my_db     user     192.168.14.147/32       password (<strong>tried md5 and even trust, same result</strong>)</p>\n</blockquote>\n<p>I have also checked postgresql.conf and I have</p>\n<blockquote>\n<p>listen_addresses = '*'</p>\n</blockquote>\n<p>I have reloaded conf in db with:</p>\n<blockquote>\n<p>SELECT pg_reload_conf();</p>\n</blockquote>\n<p>My postgresql server is working on host 192.168.44.38. Before I've added pg_hba.conf configuration I was getting error about no entry in this file and I also tried to connect to DB via pgAdmin and it works, so my config should be okay.</p>\n<p>My jdbc connection method:</p>\n<pre><code> try {\n        String postgresConnectionUrl = &quot;jdbc:postgresql://192.168.44.38:5432/my_db&quot;;\n        Connection connection = DriverManager.getConnection(postgresConnectionUrl, &quot;user&quot;, &quot;my_pass&quot;);\n        return connection;\n    } catch (SQLException sqlException) {\n        log.error(&quot;Error connecting. &quot;, sqlException);\n        return null;\n    }\n</code></pre>\n<p>I've found nothing in postgres logs, also my user account has no limited connections and isn't even used.</p>\n"},{"tags":["java","kubernetes","fabric8","fabric8-kubernetes-client"],"answers":[{"tags":[],"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674575136,"creation_date":1674575136,"answer_id":75223882,"question_id":75223762,"body_markdown":"Pods are not instantly created as consequence of creating a Job: The Job controller needs to become active and create the Pods accordingly. Depending on the load on your control plane and number of Job instances you may need to wait more or less time.","title":"Pod size returned zero post kubernetes job creation","body":"<p>Pods are not instantly created as consequence of creating a Job: The Job controller needs to become active and create the Pods accordingly. Depending on the load on your control plane and number of Job instances you may need to wait more or less time.</p>\n"}],"owner":{"account_id":17104650,"reputation":121,"user_id":12376938,"display_name":"santosh jk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674590613,"creation_date":1674574636,"question_id":75223762,"body_markdown":"We are creating kubernates job using java kubernates client api (V:5.12.2) like below. \r\n\r\nI am struck with two places . Could some one please help on this ? \r\n\r\n1. podList.getItems().size() in below code snippet is some times returning zero even though I see pod get created and with other existing jobs. \r\n2. How to specify particular label to job pod? \r\n\r\n&gt;     KubernetesClient kubernetesClient = new DefaultKubernetesClient();\r\n&gt;     String namespace = System.getenv(POD_NAMESPACE);\r\n&gt;     String jobName = TextUtils.concatenateToString(&quot;flatten&quot; + Constants.HYPHEN+ flattenId);\r\n&gt;     Job jobRequest = createJob(flattenId, authValue);\r\n&gt;     \r\n&gt;     var jobResult = kubernetesClient.batch().v1().jobs().inNamespace(namespace)\r\n&gt;         .create(jobRequest);\r\n&gt;     PodList podList = kubernetesClient.pods().inNamespace(namespace)\r\n&gt;         .withLabel(&quot;job-name&quot;, jobName).list();\r\n&gt;     \r\n&gt;     \r\n&gt;     // Wait for pod to complete\r\n&gt;     var pods = podList.getItems().size();\r\n&gt;     var terminalPodStatus = List.of(&quot;succeeded&quot;, &quot;failed&quot;);\r\n&gt;     _LOGGER.info(&quot;pods created size:&quot; + pods);\r\n&gt;     if (pods &gt; 0) {\r\n&gt;     // returns zero some times. \r\n&gt;     var k8sPod = podList.getItems().get(0);\r\n&gt;     var podName = k8sPod.getMetadata().getName();\r\n&gt;     kubernetesClient.pods().inNamespace(namespace).withName(podName)\r\n&gt;         .waitUntilCondition(pod -&gt; {\r\n&gt;           var podPhase = pod.getStatus().getPhase();\r\n&gt;     \t\t //some logic \r\n&gt;           return terminalPodStatus.contains(podPhase.toLowerCase());\r\n&gt;         }, JOB_TIMEOUT, TimeUnit.MINUTES);\r\n&gt;     kubernetesClient.close();\r\n&gt;     }\r\n\r\n    private Job createJob(String flattenId, String authValue) {\r\n           return new JobBuilder()\r\n            .withApiVersion(API_VERSION)\r\n            .withNewMetadata().withName(jobName)\r\n            .withLabels(labels)\r\n            .endMetadata()\r\n            .withNewSpec()\r\n            .withTtlSecondsAfterFinished(300)\r\n            .withBackoffLimit(0)\r\n            .withNewTemplate()\r\n            .withNewMetadata().withAnnotations(LINKERD_INJECT_ANNOTATIONS)\r\n            .endMetadata()\r\n            .withNewSpec()\r\n            .withServiceAccount(Constants.TEST_SERVICEACCOUNT)\r\n            .addNewContainer()\r\n            .addAllToEnv(envVars)\r\n            .withImage(System.getenv(BUILD_JOB_IMAGE))\r\n            .withName(“”test)\r\n            .withCommand(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;java -jar test.jar&quot;)\r\n            .endContainer()\r\n            .withRestartPolicy(RESTART_POLICY_NEVER)\r\n            .endSpec()\r\n            .endTemplate()\r\n            .endSpec()\r\n            .build();\r\n      }\r\n\r\n\r\n","title":"Pod size returned zero post kubernetes job creation","body":"<p>We are creating kubernates job using java kubernates client api (V:5.12.2) like below.</p>\n<p>I am struck with two places . Could some one please help on this ?</p>\n<ol>\n<li>podList.getItems().size() in below code snippet is some times returning zero even though I see pod get created and with other existing jobs.</li>\n<li>How to specify particular label to job pod?</li>\n</ol>\n<blockquote>\n<pre><code>KubernetesClient kubernetesClient = new DefaultKubernetesClient();\nString namespace = System.getenv(POD_NAMESPACE);\nString jobName = TextUtils.concatenateToString(&quot;flatten&quot; + Constants.HYPHEN+ flattenId);\nJob jobRequest = createJob(flattenId, authValue);\n\nvar jobResult = kubernetesClient.batch().v1().jobs().inNamespace(namespace)\n    .create(jobRequest);\nPodList podList = kubernetesClient.pods().inNamespace(namespace)\n    .withLabel(&quot;job-name&quot;, jobName).list();\n\n\n// Wait for pod to complete\nvar pods = podList.getItems().size();\nvar terminalPodStatus = List.of(&quot;succeeded&quot;, &quot;failed&quot;);\n_LOGGER.info(&quot;pods created size:&quot; + pods);\nif (pods &gt; 0) {\n// returns zero some times. \nvar k8sPod = podList.getItems().get(0);\nvar podName = k8sPod.getMetadata().getName();\nkubernetesClient.pods().inNamespace(namespace).withName(podName)\n    .waitUntilCondition(pod -&gt; {\n      var podPhase = pod.getStatus().getPhase();\n       //some logic \n      return terminalPodStatus.contains(podPhase.toLowerCase());\n    }, JOB_TIMEOUT, TimeUnit.MINUTES);\nkubernetesClient.close();\n}\n</code></pre>\n</blockquote>\n<pre><code>private Job createJob(String flattenId, String authValue) {\n       return new JobBuilder()\n        .withApiVersion(API_VERSION)\n        .withNewMetadata().withName(jobName)\n        .withLabels(labels)\n        .endMetadata()\n        .withNewSpec()\n        .withTtlSecondsAfterFinished(300)\n        .withBackoffLimit(0)\n        .withNewTemplate()\n        .withNewMetadata().withAnnotations(LINKERD_INJECT_ANNOTATIONS)\n        .endMetadata()\n        .withNewSpec()\n        .withServiceAccount(Constants.TEST_SERVICEACCOUNT)\n        .addNewContainer()\n        .addAllToEnv(envVars)\n        .withImage(System.getenv(BUILD_JOB_IMAGE))\n        .withName(“”test)\n        .withCommand(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;java -jar test.jar&quot;)\n        .endContainer()\n        .withRestartPolicy(RESTART_POLICY_NEVER)\n        .endSpec()\n        .endTemplate()\n        .endSpec()\n        .build();\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674590570,"creation_date":1674590570,"answer_id":75226693,"question_id":75225921,"body_markdown":"Look at [Spring Data JPA projections][1] and perform the following query:\r\n\r\n    @Query(&quot;select item.*, itm_s.code from items item join item.item_state itm_s where item.id = itm_s.id&quot;)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\r\n\r\nYou will have to look at the resulting query to write your projection class.","title":"How to include redundant column to show in SELECT Query from second table instead from the main table in Spring Repository?","body":"<p>Look at <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">Spring Data JPA projections</a> and perform the following query:</p>\n<pre><code>@Query(&quot;select item.*, itm_s.code from items item join item.item_state itm_s where item.id = itm_s.id&quot;)\n</code></pre>\n<p>You will have to look at the resulting query to write your projection class.</p>\n"}],"owner":{"account_id":25860904,"reputation":11,"user_id":19593416,"display_name":"coredev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674590570,"creation_date":1674585948,"question_id":75225921,"body_markdown":"I have a query like this:\r\nQuery 1:\r\n\r\n    select *\r\n    from items item\r\n\r\nThis is bind to an entity in SpringJPA.\r\nNow I have to select one more column from another table like below.\r\n\r\nQuery 2:\r\n\r\n    select item.*,is.id\r\n    from items item\r\n    inner join item_state itm_s where item.id=itm_s.id\r\n\r\nNow,there is a column &quot;code&quot; which exists in both item and item_state. I want to select it from item_state and not from item due to some data issues. I know the straight forward way is to write all columns in select statement,excluding code column from item and including code column from item_state.\r\nBut the thing is item table has around 100 columns.\r\nIs there a good way to solve this issue without changing the entity class?","title":"How to include redundant column to show in SELECT Query from second table instead from the main table in Spring Repository?","body":"<p>I have a query like this:\nQuery 1:</p>\n<pre><code>select *\nfrom items item\n</code></pre>\n<p>This is bind to an entity in SpringJPA.\nNow I have to select one more column from another table like below.</p>\n<p>Query 2:</p>\n<pre><code>select item.*,is.id\nfrom items item\ninner join item_state itm_s where item.id=itm_s.id\n</code></pre>\n<p>Now,there is a column &quot;code&quot; which exists in both item and item_state. I want to select it from item_state and not from item due to some data issues. I know the straight forward way is to write all columns in select statement,excluding code column from item and including code column from item_state.\nBut the thing is item table has around 100 columns.\nIs there a good way to solve this issue without changing the entity class?</p>\n"},{"tags":["java","android","adb","android-source"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674511398,"post_id":75215405,"comment_id":132725985,"body_markdown":"usesClearTextTraffic.","body":"usesClearTextTraffic."},{"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"score":0,"creation_date":1674511555,"post_id":75215405,"comment_id":132726026,"body_markdown":"@blackapps not the error. Had that at first, but added it to the manifest already","body":"@blackapps not the error. Had that at first, but added it to the manifest already"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1674512151,"post_id":75215405,"comment_id":132726177,"body_markdown":"What happens when you enter the URL in a web browser like Chrome on the device? What Android version is running?","body":"What happens when you enter the URL in a web browser like Chrome on the device? What Android version is running?"},{"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"score":0,"creation_date":1674512551,"post_id":75215405,"comment_id":132726270,"body_markdown":"@Robert From the browser I can open the site. I am running Android 11, or more specifically LineageOS 19.1","body":"@Robert From the browser I can open the site. I am running Android 11, or more specifically LineageOS 19.1"},{"owner":{"account_id":2660156,"reputation":325,"user_id":2300057,"display_name":"Wilson Castiblanco"},"score":0,"creation_date":1674514353,"post_id":75215405,"comment_id":132726661,"body_markdown":"try to run an `adb reverse tcp:8545 tcp:8080` or `adb reverse tcp:8080 tcp:8545`","body":"try to run an <code>adb reverse tcp:8545 tcp:8080</code> or <code>adb reverse tcp:8080 tcp:8545</code>"},{"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"score":0,"creation_date":1674515245,"post_id":75215405,"comment_id":132726816,"body_markdown":"@WilsonCastiblanco What is the reason behind the command? I am trying to get to a webserver that is being run on the same device as the app","body":"@WilsonCastiblanco What is the reason behind the command? I am trying to get to a webserver that is being run on the same device as the app"},{"owner":{"account_id":2660156,"reputation":325,"user_id":2300057,"display_name":"Wilson Castiblanco"},"score":0,"creation_date":1674516537,"post_id":75215405,"comment_id":132727044,"body_markdown":"`adb reverse ` enable a port in your phone to be accessed by your computer, but if you are trying to run it on the same phone, try `adb reverse tcp:8545 tcp:8545` or in your android phone, use `10.0.2.2` instead of `localhost` or `0.0.0.0`","body":"<code>adb reverse </code> enable a port in your phone to be accessed by your computer, but if you are trying to run it on the same phone, try <code>adb reverse tcp:8545 tcp:8545</code> or in your android phone, use <code>10.0.2.2</code> instead of <code>localhost</code> or <code>0.0.0.0</code>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1674547796,"post_id":75215405,"comment_id":132731522,"body_markdown":"@WilsonCastiblanco `10.0.2.2` only works for the Android emulator no for real devices.","body":"@WilsonCastiblanco <code>10.0.2.2</code> only works for the Android emulator no for real devices."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674548059,"post_id":75215405,"comment_id":132731601,"body_markdown":"`From the browser I can open the site.` Ok. But that does not match your complaint: `but as soon as I try to do it within any android app running on the same device I get an error`","body":"<code>From the browser I can open the site.</code> Ok. But that does not match your complaint: <code>but as soon as I try to do it within any android app running on the same device I get an error</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674548142,"post_id":75215405,"comment_id":132731624,"body_markdown":"And it is time you show your code as we have no idea what you are doing.","body":"And it is time you show your code as we have no idea what you are doing."}],"answers":[{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674590110,"creation_date":1674590110,"answer_id":75226623,"question_id":75215405,"body_markdown":"WebView honors **clear text traffic** for applications targeting API level 26 and higher.\r\n\r\nThe application you are using to access your service (which you didn&#39;t mention) should have the attribute `android:usesCleartextTraffic` set to `true`.","title":"Cannot connect to local webserver in app, but adb shell works","body":"<p>WebView honors <strong>clear text traffic</strong> for applications targeting API level 26 and higher.</p>\n<p>The application you are using to access your service (which you didn't mention) should have the attribute <code>android:usesCleartextTraffic</code> set to <code>true</code>.</p>\n"}],"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674590110,"creation_date":1674510650,"question_id":75215405,"body_markdown":"I have a system service on my android phone which runs a webserver as soon as the device is booted. When I go into the adb shell and use curl to make a request it works perfectly fine, but as soon as I try to do it within any android app running on the same device I get an error saying that it failed to connect:\r\n\r\n```\r\nCaused by: java.net.SocketTimeoutException: failed to connect to /127.0.0.1 (port 8545) from /127.0.0.1 (port 48102) after 10000ms\r\n```\r\n\r\nand this is for reference my curl command (this works):\r\n```\r\ncurl http://127.0.0.1:8545\r\n```","title":"Cannot connect to local webserver in app, but adb shell works","body":"<p>I have a system service on my android phone which runs a webserver as soon as the device is booted. When I go into the adb shell and use curl to make a request it works perfectly fine, but as soon as I try to do it within any android app running on the same device I get an error saying that it failed to connect:</p>\n<pre><code>Caused by: java.net.SocketTimeoutException: failed to connect to /127.0.0.1 (port 8545) from /127.0.0.1 (port 48102) after 10000ms\n</code></pre>\n<p>and this is for reference my curl command (this works):</p>\n<pre><code>curl http://127.0.0.1:8545\n</code></pre>\n"},{"tags":["java","http","spring-mvc","multipart"],"answers":[{"tags":[],"owner":{"account_id":25379232,"reputation":1,"user_id":19191875,"display_name":"GonWell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674589093,"creation_date":1674589029,"answer_id":75226426,"question_id":39163784,"body_markdown":"One way to break a content multipart is as follows:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    byte[] byteArray = null;\r\n\r\n                            ByteArrayInputStream content = new ByteArrayInputStream(/*YOU BYTE[] RESPONSE*/);\r\n\r\n                            MultipartStream multipartStream = new MultipartStream(content, (&quot;MIME_boundary&quot;).getBytes(), null);\r\n\r\n                            boolean nextPart;\r\n                            try {\r\n                                nextPart = multipartStream.skipPreamble();\r\n\r\n                                while (nextPart) {\r\n                                    String header = multipartStream.readHeaders(); //HEADER MENSSAGE\r\n\r\n                                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\r\n                                    multipartStream.readBodyData(byteArrayOutputStream); //Reads file within multipart\r\n\r\n                                    byteArray = byteArrayOutputStream.toByteArray();\r\n\r\n                                    nextPart = multipartStream.readBoundary();\r\n                                }\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n\r\n                            retorno = Base64.getEncoder().encodeToString(byteArray);\r\n\r\n                            return retorno;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Multipart File Downloading in Spring?","body":"<p>One way to break a content multipart is as follows:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>byte[] byteArray = null;\n\n                        ByteArrayInputStream content = new ByteArrayInputStream(/*YOU BYTE[] RESPONSE*/);\n\n                        MultipartStream multipartStream = new MultipartStream(content, (\"MIME_boundary\").getBytes(), null);\n\n                        boolean nextPart;\n                        try {\n                            nextPart = multipartStream.skipPreamble();\n\n                            while (nextPart) {\n                                String header = multipartStream.readHeaders(); //HEADER MENSSAGE\n\n                                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n\n                                multipartStream.readBodyData(byteArrayOutputStream); //Reads file within multipart\n\n                                byteArray = byteArrayOutputStream.toByteArray();\n\n                                nextPart = multipartStream.readBoundary();\n                            }\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n\n                        retorno = Base64.getEncoder().encodeToString(byteArray);\n\n                        return retorno;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4051,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674589093,"creation_date":1472206221,"question_id":39163784,"body_markdown":"I&#39;m developing an application to do some mp3 streaming from my server. I want the  user not to download the whole mp3 file, so the bytes are partially written in the OutputStream of the response.\r\n\r\nI know this is also related to HTTP headers and ranges, so I found [this class][1] that should work. \r\n\r\nHowever, I&#39;m using Spring MVC Controller and it seems to be not working as expected: the file is fully downloaded and there are two petitions to the Controller in one user request, with the following exception:\r\n\r\n     java.net.SocketException: Connection reset by peer: socket write error\r\n\r\n\r\nI know the existence of CommonsMultipartResolver, but all I found about this is for uploading files, not downloading. My question is, **is there something in Spring to do this easily?**\r\n\r\n\r\n\r\n\r\n\r\nPD: I attach the code where I&#39;m using the class mentioned above\r\n\r\n     @RequestMapping(value = &quot;merge/{name:.+\\\\.mp3}&quot;)\r\n        public void playMerged( @PathVariable(&quot;name&quot;) String audioName, HttpServletRequest request,\r\n                HttpServletResponse response) {\r\n                String mergedAudioPath = service.getMergedAudio(audioName);\r\n         MultipartFileSender.fromPath(Paths.get(mergedAudioPath)).with(request).with(response).serveResource();\r\n       }\r\n\r\nThanks!\r\n\r\n  [1]: https://github.com/davinkevin/Podcast-Server/blob/d927d9b8cb9ea1268af74316cd20b7192ca92da7/src/main/java/lan/dk/podcastserver/utils/multipart/MultipartFileSender.java","title":"Multipart File Downloading in Spring?","body":"<p>I'm developing an application to do some mp3 streaming from my server. I want the  user not to download the whole mp3 file, so the bytes are partially written in the OutputStream of the response.</p>\n\n<p>I know this is also related to HTTP headers and ranges, so I found <a href=\"https://github.com/davinkevin/Podcast-Server/blob/d927d9b8cb9ea1268af74316cd20b7192ca92da7/src/main/java/lan/dk/podcastserver/utils/multipart/MultipartFileSender.java\" rel=\"nofollow\">this class</a> that should work. </p>\n\n<p>However, I'm using Spring MVC Controller and it seems to be not working as expected: the file is fully downloaded and there are two petitions to the Controller in one user request, with the following exception:</p>\n\n<pre><code> java.net.SocketException: Connection reset by peer: socket write error\n</code></pre>\n\n<p>I know the existence of CommonsMultipartResolver, but all I found about this is for uploading files, not downloading. My question is, <strong>is there something in Spring to do this easily?</strong></p>\n\n<p>PD: I attach the code where I'm using the class mentioned above</p>\n\n<pre><code> @RequestMapping(value = \"merge/{name:.+\\\\.mp3}\")\n    public void playMerged( @PathVariable(\"name\") String audioName, HttpServletRequest request,\n            HttpServletResponse response) {\n            String mergedAudioPath = service.getMergedAudio(audioName);\n     MultipartFileSender.fromPath(Paths.get(mergedAudioPath)).with(request).with(response).serveResource();\n   }\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","spring-rabbit","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674589042,"creation_date":1674589042,"answer_id":75226431,"question_id":75224142,"body_markdown":"You need a listener container for each listener.\r\n\r\nYou can use Boot&#39;s auto configured listener container factory to created each container and add a listener to it.\r\n\r\nIf the same listener can consume from multiple queues, you can configure the container to listen to those queues.\r\n","title":"Spring Rabbitmq - how to configure the consumer without using @RabbitListener","body":"<p>You need a listener container for each listener.</p>\n<p>You can use Boot's auto configured listener container factory to created each container and add a listener to it.</p>\n<p>If the same listener can consume from multiple queues, you can configure the container to listen to those queues.</p>\n"}],"owner":{"account_id":27610591,"reputation":3,"user_id":21073804,"display_name":"Mark G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75226431,"answer_count":1,"score":0,"last_activity_date":1674589042,"creation_date":1674576349,"question_id":75224142,"body_markdown":"I&#39;m writing some core features for developers who will use my library. \r\nOne of the features is to provide an ability to switch the message consumption between two different sources by flag configuration, the handling of these messages should remain as is, no mater to the source - for example switching message consumption from kafka to rabbitmq. the same business logic will be executed with income message. \r\n\r\n**I try to figure out how to configure the consumer without using the `@RabbitListener`, is it possible? **\r\n\r\n`RabbitAdmin` - responsible for connect to the source.\r\n`RabbitTemplete` - responsible for publishing messages.\r\n\r\nThe only clue that I found is to use springs `SimpleMessageListenerContainer`, but the issue with him is that there is no ability to set multiple `onMessage` handlers?\r\n\r\nAlso I saw the option to use `MessageListenerAdapter` [in this answer](https://stackoverflow.com/questions/39976292/getting-message-object-using-message-listener-adapter-in-spring-amqp)\r\n\r\nThe main issue with these answers is that I&#39;m going to deal with multiple number of queues and bindings.. and here it seem like solution for single consumer in whole application. - am I wrong here?","title":"Spring Rabbitmq - how to configure the consumer without using @RabbitListener","body":"<p>I'm writing some core features for developers who will use my library.\nOne of the features is to provide an ability to switch the message consumption between two different sources by flag configuration, the handling of these messages should remain as is, no mater to the source - for example switching message consumption from kafka to rabbitmq. the same business logic will be executed with income message.</p>\n<p>**I try to figure out how to configure the consumer without using the <code>@RabbitListener</code>, is it possible? **</p>\n<p><code>RabbitAdmin</code> - responsible for connect to the source.\n<code>RabbitTemplete</code> - responsible for publishing messages.</p>\n<p>The only clue that I found is to use springs <code>SimpleMessageListenerContainer</code>, but the issue with him is that there is no ability to set multiple <code>onMessage</code> handlers?</p>\n<p>Also I saw the option to use <code>MessageListenerAdapter</code> <a href=\"https://stackoverflow.com/questions/39976292/getting-message-object-using-message-listener-adapter-in-spring-amqp\">in this answer</a></p>\n<p>The main issue with these answers is that I'm going to deal with multiple number of queues and bindings.. and here it seem like solution for single consumer in whole application. - am I wrong here?</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline"],"answers":[{"tags":[],"owner":{"account_id":26753526,"reputation":99,"user_id":20352532,"display_name":"Evgen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674588679,"creation_date":1674588679,"answer_id":75226359,"question_id":75225047,"body_markdown":"ld-linux-aarch64.so.1 is the dynamic linker for the guest binary. If you have a dynamically linked guest binary then you need to tell the emulator about not just the binary itself but also the dynamic linker and all the dynamic libraries that the guest binary links to (usually by passing it an option to tell it about a directory which has all the libraries in the usual places they would be on the real filesystem of the guest).\r\n\r\nFor gem5 you can use --redirects and --interp-dir","title":"When checking Maven in Jenkins I get this error &quot;Could not open &#39;/lib/ld-linux-aarch64.so.1&#39;: No such file or directory&quot;","body":"<p>ld-linux-aarch64.so.1 is the dynamic linker for the guest binary. If you have a dynamically linked guest binary then you need to tell the emulator about not just the binary itself but also the dynamic linker and all the dynamic libraries that the guest binary links to (usually by passing it an option to tell it about a directory which has all the libraries in the usual places they would be on the real filesystem of the guest).</p>\n<p>For gem5 you can use --redirects and --interp-dir</p>\n"}],"owner":{"account_id":4165445,"reputation":51,"user_id":3414500,"display_name":"GmanG77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674588679,"creation_date":1674580895,"question_id":75225047,"body_markdown":"I&#39;ve been looking at this for days.\r\n\r\nI&#39;ve created an instance of Jenkins in Docker to run locally using this DockerFile - \r\n\r\n`FROM jenkins/jenkins:2.346.2-jdk11\r\n\r\nUSER root\r\nRUN curl -sSL https://get.docker.com/ | sh\r\nRUN usermod -a -G docker jenkins\r\nUSER jenkins\r\n\r\nCOPY plugins.txt /usr/share/jenkins/ref/plugins.txt\r\nRUN jenkins-plugin-cli --plugin-file /usr/share/jenkins/ref/plugins.txt\r\n\r\nCOPY seedJob.xml /usr/share/jenkins/ref/jobs/seed-job/config.xml\r\n\r\nENV JAVA_OPTS -Djenkins.install.runSetupWizard=false`\r\n\r\n\r\nI have then installed the JDK in Jenkins\r\n\r\nI have then installed Maven in Jenkins\r\n\r\nI have then created a simple Pipeline to test for Maven\r\n\r\n`pipeline {\r\n    agent any\r\n\r\n    tools {\r\n        // Install the Maven version configured as &quot;M3&quot; and add it to the path.\r\n        maven &#39;3.8.6&#39;\r\n        jdk &#39;openjdk-171&#39;\r\n    }\r\n    \r\n    stages {\r\n        stage(&#39;Example&#39;) {\r\n            steps {\r\n               \r\n                sh &#39;mvn --version&#39;\r\n\r\n            }\r\n        }\r\n    }\r\n}\r\n`\r\nAND I get this message \r\n\r\n&quot;Could not open &#39;/lib/ld-linux-aarch64.so.1&#39;: No such file or directory&quot;\r\n\r\nI&#39;ve tried rebuilding from Scratch, followed youtube tutorials - still nothing\r\n\r\n(I&#39;m also running on a Mac). Any help massively appreciated! \r\n\r\n\r\nI expect it to return the version number of Maven","title":"When checking Maven in Jenkins I get this error &quot;Could not open &#39;/lib/ld-linux-aarch64.so.1&#39;: No such file or directory&quot;","body":"<p>I've been looking at this for days.</p>\n<p>I've created an instance of Jenkins in Docker to run locally using this DockerFile -</p>\n<p>`FROM jenkins/jenkins:2.346.2-jdk11</p>\n<p>USER root\nRUN curl -sSL <a href=\"https://get.docker.com/\" rel=\"nofollow noreferrer\">https://get.docker.com/</a> | sh\nRUN usermod -a -G docker jenkins\nUSER jenkins</p>\n<p>COPY plugins.txt /usr/share/jenkins/ref/plugins.txt\nRUN jenkins-plugin-cli --plugin-file /usr/share/jenkins/ref/plugins.txt</p>\n<p>COPY seedJob.xml /usr/share/jenkins/ref/jobs/seed-job/config.xml</p>\n<p>ENV JAVA_OPTS -Djenkins.install.runSetupWizard=false`</p>\n<p>I have then installed the JDK in Jenkins</p>\n<p>I have then installed Maven in Jenkins</p>\n<p>I have then created a simple Pipeline to test for Maven</p>\n<p>`pipeline {\nagent any</p>\n<pre><code>tools {\n    // Install the Maven version configured as &quot;M3&quot; and add it to the path.\n    maven '3.8.6'\n    jdk 'openjdk-171'\n}\n\nstages {\n    stage('Example') {\n        steps {\n           \n            sh 'mvn --version'\n\n        }\n    }\n}\n</code></pre>\n<p>}\n`\nAND I get this message</p>\n<p>&quot;Could not open '/lib/ld-linux-aarch64.so.1': No such file or directory&quot;</p>\n<p>I've tried rebuilding from Scratch, followed youtube tutorials - still nothing</p>\n<p>(I'm also running on a Mac). Any help massively appreciated!</p>\n<p>I expect it to return the version number of Maven</p>\n"},{"tags":["java","android","oauth-2.0","android-webview","google-oauth"],"comments":[{"owner":{"account_id":5423259,"reputation":3487,"user_id":4316327,"accept_rate":44,"display_name":"Harry T."},"score":0,"creation_date":1530686274,"post_id":51167203,"comment_id":89317556,"body_markdown":"Show your code please.","body":"Show your code please."},{"owner":{"account_id":5423259,"reputation":3487,"user_id":4316327,"accept_rate":44,"display_name":"Harry T."},"score":0,"creation_date":1530686961,"post_id":51167203,"comment_id":89317867,"body_markdown":"No. Please paste some code when you implemented google sign here.","body":"No. Please paste some code when you implemented google sign here."},{"owner":{"account_id":10660216,"reputation":518,"user_id":7848404,"display_name":"Karan Chunara"},"score":0,"creation_date":1530687037,"post_id":51167203,"comment_id":89317922,"body_markdown":"Refer this link [link](https://developer.android.com/guide/webapps/webview)","body":"Refer this link <a href=\"https://developer.android.com/guide/webapps/webview\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":13887725,"reputation":181,"user_id":10026464,"display_name":"Girish M"},"score":0,"creation_date":1530688820,"post_id":51167203,"comment_id":89318873,"body_markdown":"TruongHieu , please find the code above","body":"TruongHieu , please find the code above"}],"answers":[{"tags":[],"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1530686404,"creation_date":1530686404,"answer_id":51167288,"question_id":51167203,"body_markdown":"Google does not allow default implementations of WebView to be used. Therefore you need to set a custom User-Agent to your WebView:    \r\n\r\n    webView.getSettings().setUserAgentString(&quot;YourAppName&quot;);\r\n\r\nYou can use any string instead of `YourAppName`.","title":"Android Google login not working inside WebView","body":"<p>Google does not allow default implementations of WebView to be used. Therefore you need to set a custom User-Agent to your WebView:    </p>\n\n<pre><code>webView.getSettings().setUserAgentString(\"YourAppName\");\n</code></pre>\n\n<p>You can use any string instead of <code>YourAppName</code>.</p>\n"},{"tags":[],"owner":{"account_id":13892858,"reputation":5,"user_id":10030387,"display_name":"Tin Tran"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1530687029,"creation_date":1530687029,"answer_id":51167437,"question_id":51167203,"body_markdown":"If you use firebase for your application. I think you can find a workaround here: \r\nhttps://firebase.google.com/docs/auth/android/google-signin\r\n\r\nGood luck!","title":"Android Google login not working inside WebView","body":"<p>If you use firebase for your application. I think you can find a workaround here: \n<a href=\"https://firebase.google.com/docs/auth/android/google-signin\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/android/google-signin</a></p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":12184361,"reputation":423,"user_id":8894779,"display_name":"Mahmood Hussain"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1600094275,"creation_date":1563161713,"answer_id":57032973,"question_id":51167203,"body_markdown":"Late answer but may help somebody in future.\r\n\r\nActually Google Blocks OAuth Requests Made Via Embedded Browsers. so you can write something like in your code:\r\n\r\n     public static final String USER_AGENT = &quot;Mozilla/5.0 (Linux; Android 4.1.1; Galaxy Nexus Build/JRO03C) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile Safari/535.19&quot;;\r\n     mWebView.getSettings().setUserAgentString(USER_AGENT);\r\n\r\nor you can do like this:\r\n\r\n    mWebView.getSettings().setUserAgentString(&quot;yourAppName&quot;);\r\n\r\nand you should be able to use sign in with google.","title":"Android Google login not working inside WebView","body":"<p>Late answer but may help somebody in future.</p>\n<p>Actually Google Blocks OAuth Requests Made Via Embedded Browsers. so you can write something like in your code:</p>\n<pre><code> public static final String USER_AGENT = &quot;Mozilla/5.0 (Linux; Android 4.1.1; Galaxy Nexus Build/JRO03C) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile Safari/535.19&quot;;\n mWebView.getSettings().setUserAgentString(USER_AGENT);\n</code></pre>\n<p>or you can do like this:</p>\n<pre><code>mWebView.getSettings().setUserAgentString(&quot;yourAppName&quot;);\n</code></pre>\n<p>and you should be able to use sign in with google.</p>\n"},{"tags":[],"owner":{"account_id":11683233,"reputation":646,"user_id":8554111,"display_name":"sum20156"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1607930610,"creation_date":1607930610,"answer_id":65285065,"question_id":51167203,"body_markdown":"You have to create a custom webchromeclient and handle the popup from webview. Whenever there will requirement of popup from website, you have to load it in alert dialog.\r\n\r\n    public class WebViewActivity extends AppCompatActivity {\r\n\r\n    private WebView webViewPopUp;\r\n    private AlertDialog builder;\r\n    private Context globalContext;\r\n\r\n    private String url = &quot;https://www.bellyfulstore.com/&quot;;\r\n\r\n    private WebView webView;\r\n    private String userAgent;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_web_view);\r\n\r\n        webView = findViewById(R.id.webView);\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.loadUrl(url);\r\n\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n\r\n        // Set User Agent\r\n        userAgent = System.getProperty(&quot;http.agent&quot;);\r\n        webSettings.setUserAgentString(userAgent + &quot;yourAppName&quot;);\r\n\r\n        // Enable Cookies\r\n        CookieManager.getInstance().setAcceptCookie(true);\r\n        if(android.os.Build.VERSION.SDK_INT &gt;= 21)\r\n            CookieManager.getInstance().setAcceptThirdPartyCookies(webView, true);\r\n\r\n        // Handle Popups\r\n        webView.setWebChromeClient(new CustomChromeClient());\r\n        webSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        webSettings.setSupportMultipleWindows(true);\r\n        globalContext = this.getApplicationContext();\r\n\r\n        // WebView Tweaks\r\n        webSettings.setRenderPriority(WebSettings.RenderPriority.HIGH);\r\n        webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);\r\n        webSettings.setAppCacheEnabled(true);\r\n        webSettings.setDomStorageEnabled(true);\r\n        webSettings.setLayoutAlgorithm(WebSettings.LayoutAlgorithm.NARROW_COLUMNS);\r\n        webSettings.setUseWideViewPort(true);\r\n        webSettings.setSaveFormData(true);\r\n        webSettings.setEnableSmoothTransition(true);\r\n        webView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\n\r\n\r\n\r\n        webView.setWebViewClient(new WebViewClient() {\r\n\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view, url, favicon);\r\n                findViewById(R.id.progressBar).setVisibility(View.VISIBLE);\r\n\r\n            }\r\n\r\n            public void onPageFinished(WebView view, String url) {\r\n                // do your stuff here\r\n                findViewById(R.id.progressBar).setVisibility(View.GONE);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n    class CustomChromeClient extends WebChromeClient {\r\n\r\n\r\n        @Override\r\n        public boolean onCreateWindow(WebView view, boolean isDialog,\r\n                                      boolean isUserGesture, Message resultMsg) {\r\n            webViewPopUp = new WebView(globalContext);\r\n            webViewPopUp.setVerticalScrollBarEnabled(false);\r\n            webViewPopUp.setHorizontalScrollBarEnabled(false);\r\n            webViewPopUp.setWebChromeClient(new CustomChromeClient());\r\n            webViewPopUp.getSettings().setJavaScriptEnabled(true);\r\n            webViewPopUp.getSettings().setSaveFormData(true);\r\n            webViewPopUp.getSettings().setEnableSmoothTransition(true);\r\n            webViewPopUp.getSettings().setUserAgentString(userAgent + &quot;yourAppName&quot;);\r\n\r\n            // pop the  webview with alert dialog\r\n            builder = new AlertDialog.Builder(WebViewActivity.this).create();\r\n            builder.setTitle(&quot;&quot;);\r\n            builder.setView(webViewPopUp);\r\n\r\n            builder.setButton(&quot;Close&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int id) {\r\n                    webViewPopUp.destroy();\r\n                    dialog.dismiss();\r\n                }\r\n            });\r\n\r\n            builder.show();\r\n            builder.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE|WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\r\n\r\n            CookieManager cookieManager = CookieManager.getInstance();\r\n            cookieManager.setAcceptCookie(true);\r\n            if(android.os.Build.VERSION.SDK_INT &gt;= 21) {\r\n                cookieManager.setAcceptThirdPartyCookies(webViewPopUp, true);\r\n                cookieManager.setAcceptThirdPartyCookies(webView, true);\r\n            }\r\n\r\n            WebView.WebViewTransport transport = (WebView.WebViewTransport) resultMsg.obj;\r\n            transport.setWebView(webViewPopUp);\r\n            resultMsg.sendToTarget();\r\n\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void onCloseWindow(WebView window) {\r\n            //Toast.makeText(contextPop,&quot;onCloseWindow called&quot;,Toast.LENGTH_SHORT).show();\r\n            try {\r\n                webViewPopUp.destroy();\r\n            } catch (Exception e) {\r\n                Log.d(&quot;Destroyed with Error &quot;, e.getStackTrace().toString());\r\n            }\r\n\r\n            try {\r\n                builder.dismiss();\r\n            } catch (Exception e) {\r\n                Log.d(&quot;Dismissed with Error: &quot;, e.getStackTrace().toString());\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (webView!=null){\r\n            if (webView.canGoBack()){\r\n                webView.goBack();\r\n                return;\r\n            }\r\n        }\r\n        super.onBackPressed();\r\n    }\r\n}","title":"Android Google login not working inside WebView","body":"<p>You have to create a custom webchromeclient and handle the popup from webview. Whenever there will requirement of popup from website, you have to load it in alert dialog.</p>\n<pre><code>public class WebViewActivity extends AppCompatActivity {\n\nprivate WebView webViewPopUp;\nprivate AlertDialog builder;\nprivate Context globalContext;\n\nprivate String url = &quot;https://www.bellyfulstore.com/&quot;;\n\nprivate WebView webView;\nprivate String userAgent;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_web_view);\n\n    webView = findViewById(R.id.webView);\n    webView.setWebViewClient(new WebViewClient());\n    webView.loadUrl(url);\n\n    WebSettings webSettings = webView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n\n    // Set User Agent\n    userAgent = System.getProperty(&quot;http.agent&quot;);\n    webSettings.setUserAgentString(userAgent + &quot;yourAppName&quot;);\n\n    // Enable Cookies\n    CookieManager.getInstance().setAcceptCookie(true);\n    if(android.os.Build.VERSION.SDK_INT &gt;= 21)\n        CookieManager.getInstance().setAcceptThirdPartyCookies(webView, true);\n\n    // Handle Popups\n    webView.setWebChromeClient(new CustomChromeClient());\n    webSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n    webSettings.setSupportMultipleWindows(true);\n    globalContext = this.getApplicationContext();\n\n    // WebView Tweaks\n    webSettings.setRenderPriority(WebSettings.RenderPriority.HIGH);\n    webSettings.setCacheMode(WebSettings.LOAD_DEFAULT);\n    webSettings.setAppCacheEnabled(true);\n    webSettings.setDomStorageEnabled(true);\n    webSettings.setLayoutAlgorithm(WebSettings.LayoutAlgorithm.NARROW_COLUMNS);\n    webSettings.setUseWideViewPort(true);\n    webSettings.setSaveFormData(true);\n    webSettings.setEnableSmoothTransition(true);\n    webView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\n\n\n\n    webView.setWebViewClient(new WebViewClient() {\n\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view, url, favicon);\n            findViewById(R.id.progressBar).setVisibility(View.VISIBLE);\n\n        }\n\n        public void onPageFinished(WebView view, String url) {\n            // do your stuff here\n            findViewById(R.id.progressBar).setVisibility(View.GONE);\n        }\n    });\n}\n\n\n\n\nclass CustomChromeClient extends WebChromeClient {\n\n\n    @Override\n    public boolean onCreateWindow(WebView view, boolean isDialog,\n                                  boolean isUserGesture, Message resultMsg) {\n        webViewPopUp = new WebView(globalContext);\n        webViewPopUp.setVerticalScrollBarEnabled(false);\n        webViewPopUp.setHorizontalScrollBarEnabled(false);\n        webViewPopUp.setWebChromeClient(new CustomChromeClient());\n        webViewPopUp.getSettings().setJavaScriptEnabled(true);\n        webViewPopUp.getSettings().setSaveFormData(true);\n        webViewPopUp.getSettings().setEnableSmoothTransition(true);\n        webViewPopUp.getSettings().setUserAgentString(userAgent + &quot;yourAppName&quot;);\n\n        // pop the  webview with alert dialog\n        builder = new AlertDialog.Builder(WebViewActivity.this).create();\n        builder.setTitle(&quot;&quot;);\n        builder.setView(webViewPopUp);\n\n        builder.setButton(&quot;Close&quot;, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int id) {\n                webViewPopUp.destroy();\n                dialog.dismiss();\n            }\n        });\n\n        builder.show();\n        builder.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE|WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n\n        CookieManager cookieManager = CookieManager.getInstance();\n        cookieManager.setAcceptCookie(true);\n        if(android.os.Build.VERSION.SDK_INT &gt;= 21) {\n            cookieManager.setAcceptThirdPartyCookies(webViewPopUp, true);\n            cookieManager.setAcceptThirdPartyCookies(webView, true);\n        }\n\n        WebView.WebViewTransport transport = (WebView.WebViewTransport) resultMsg.obj;\n        transport.setWebView(webViewPopUp);\n        resultMsg.sendToTarget();\n\n        return true;\n    }\n\n    @Override\n    public void onCloseWindow(WebView window) {\n        //Toast.makeText(contextPop,&quot;onCloseWindow called&quot;,Toast.LENGTH_SHORT).show();\n        try {\n            webViewPopUp.destroy();\n        } catch (Exception e) {\n            Log.d(&quot;Destroyed with Error &quot;, e.getStackTrace().toString());\n        }\n\n        try {\n            builder.dismiss();\n        } catch (Exception e) {\n            Log.d(&quot;Dismissed with Error: &quot;, e.getStackTrace().toString());\n        }\n\n    }\n}\n\n@Override\npublic void onBackPressed() {\n    if (webView!=null){\n        if (webView.canGoBack()){\n            webView.goBack();\n            return;\n        }\n    }\n    super.onBackPressed();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":12367794,"reputation":472,"user_id":9019131,"display_name":"Razz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674588287,"creation_date":1674588287,"answer_id":75226296,"question_id":51167203,"body_markdown":"    webSettings.setUserAgentString(webSettings.getUserAgentString().replace(&quot;; wv&quot;,&quot;&quot;));","title":"Android Google login not working inside WebView","body":"<pre><code>webSettings.setUserAgentString(webSettings.getUserAgentString().replace(&quot;; wv&quot;,&quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":13887725,"reputation":181,"user_id":10026464,"display_name":"Girish M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29056,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":5,"score":18,"last_activity_date":1674588287,"creation_date":1530686149,"question_id":51167203,"body_markdown":"I am new to android development. Trying to integrate FB and Google+ login in Android web view. FB login is working fine. But Google login is not allowing to login. I referred a few links but unable to succeed. \r\n\r\nProblem is after providing user name and password in Gmail my web site is not sign in\r\n \r\nhttps://stackoverflow.com/questions/36839965/a-webview-overlay-over-another-webview\r\n\r\nhttps://stackoverflow.com/questions/28125741/google-sign-in-not-working-android-webview-app\r\n\r\nhttps://stackoverflow.com/questions/28125741/google-sign-in-not-working-android-webview-app\r\n\r\n\r\n    private class MyCustomWebViewClient extends WebViewClient {\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            String host = Uri.parse(url).getHost();\r\n            Log.d(&quot;Loading URL&quot;, url);\r\n            if (host.equals(target_url_prefix)) {\r\n                // This is my web site, so do not override; let my WebView load\r\n                // the page\r\n                if (mWebviewPop != null) {\r\n                    mWebviewPop.setVisibility(View.GONE);\r\n                    mContainer.removeView(mWebviewPop);\r\n                    mWebviewPop = null;\r\n                }\r\n                return false;\r\n            }\r\n    \r\n            if (host.contains(&quot;m.facebook.com&quot;) || host.contains(&quot;facebook.co&quot;)\r\n                    || host.contains(&quot;google.co&quot;)\r\n                    || host.contains(&quot;www.facebook.com&quot;)\r\n                    || host.contains(&quot;.google.com&quot;)\r\n                    || host.contains(&quot;.google&quot;)\r\n                    || host.contains(&quot;accounts.google.com/signin/oauth/consent&quot;)\r\n                    || host.contains(&quot;accounts.youtube.com&quot;)\r\n                    || host.contains(&quot;accounts.google.com&quot;)\r\n                    || host.contains(&quot;accounts.google.co.in&quot;)\r\n                    || host.contains(&quot;www.accounts.google.com&quot;)\r\n                    || host.contains(&quot;oauth.googleusercontent.com&quot;)\r\n                    || host.contains(&quot;content.googleapis.com&quot;)\r\n                    || host.contains(&quot;ssl.gstatic.com&quot;)\r\n                //     || host.contains(&quot;https://accounts.google.com/signin/oauth/consent&quot;)\r\n    \r\n            ) {\r\n                return false;\r\n            }\r\n            // Otherwise, the link is not for a page on my site, so launch\r\n            // another Activity that handles URLs\r\n    \r\n            Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n            startActivity(intent);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\r\n            Log.d(&quot;onReceivedSslError&quot;, &quot;onReceivedSslError&quot;);\r\n            super.onReceivedSslError(view, handler, error);\r\n        }\r\n    \r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            if (url.startsWith(&quot;https://m.facebook.com/v2.7/dialog/oauth&quot;)\r\n    \r\n    \r\n            ) {\r\n                if (mWebviewPop != null) {\r\n                    mWebviewPop.setVisibility(View.GONE);\r\n                    mContainer.removeView(mWebviewPop);\r\n                    mWebviewPop = null;\r\n                }\r\n                view.loadUrl(&quot;https://www.cbazaar.com&quot;);\r\n                return;\r\n            }\r\n    \r\n            super.onPageFinished(view, url);\r\n        }\r\n    }\r\n    \r\n    private class UriWebChromeClient extends WebChromeClient {\r\n    \r\n        @Override\r\n        public boolean onCreateWindow(WebView view, boolean isDialog, boolean isUserGesture, Message resultMsg) {\r\n            mWebviewPop = new WebView(mContext);\r\n            mWebviewPop.setVerticalScrollBarEnabled(false);\r\n            mWebviewPop.setHorizontalScrollBarEnabled(false);\r\n            mWebviewPop.setWebViewClient(new MyCustomWebViewClient());\r\n            mWebviewPop.setWebChromeClient(new UriWebChromeClient());\r\n            mWebviewPop.getSettings().setJavaScriptEnabled(true);\r\n            mWebviewPop.clearHistory();\r\n            mWebviewPop.clearFormData();\r\n            mWebviewPop.clearCache(true);\r\n            mWebviewPop.getSettings().setSavePassword(true);\r\n            mWebviewPop.getSettings().setSaveFormData(true);\r\n            mWebviewPop.getSettings().setUserAgentString(USER_AGENT_FAKE);\r\n    \r\n            builder = new AlertDialog.Builder(MainActivity.this, AlertDialog.THEME_DEVICE_DEFAULT_LIGHT).create();\r\n    \r\n            builder.setTitle(&quot;&quot;);\r\n            builder.setView(mWebviewPop);\r\n    \r\n            builder.setButton(&quot;close&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int id) {\r\n                    mWebviewPop.destroy();\r\n                    dialog.dismiss();\r\n    \r\n                }\r\n            });\r\n    \r\n            builder.show();\r\n            builder.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\r\n        \r\n                 /*   CookieManager cookieManager = CookieManager.getInstance();\r\n                    cookieManager.setAcceptCookie(true);\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                        cookieManager.setAcceptThirdPartyCookies(mWebviewPop,true);\r\n                    }\r\n        */\r\n    \r\n            WebView.WebViewTransport transport = (WebView.WebViewTransport) resultMsg.obj;\r\n            transport.setWebView(mWebviewPop);\r\n            resultMsg.sendToTarget();\r\n    \r\n            return true;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCloseWindow(WebView window) {\r\n    \r\n            try {\r\n                mWebviewPop.destroy();\r\n            } catch (Exception e) {\r\n            }\r\n    \r\n            try {\r\n                builder.dismiss();\r\n    \r\n            } catch (Exception e) {\r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"Android Google login not working inside WebView","body":"<p>I am new to android development. Trying to integrate FB and Google+ login in Android web view. FB login is working fine. But Google login is not allowing to login. I referred a few links but unable to succeed. </p>\n\n<p>Problem is after providing user name and password in Gmail my web site is not sign in</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36839965/a-webview-overlay-over-another-webview\">A webview overlay over another webview</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/28125741/google-sign-in-not-working-android-webview-app\">Google sign in not working android webview app</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/28125741/google-sign-in-not-working-android-webview-app\">Google sign in not working android webview app</a></p>\n\n<pre><code>private class MyCustomWebViewClient extends WebViewClient {\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n        String host = Uri.parse(url).getHost();\n        Log.d(\"Loading URL\", url);\n        if (host.equals(target_url_prefix)) {\n            // This is my web site, so do not override; let my WebView load\n            // the page\n            if (mWebviewPop != null) {\n                mWebviewPop.setVisibility(View.GONE);\n                mContainer.removeView(mWebviewPop);\n                mWebviewPop = null;\n            }\n            return false;\n        }\n\n        if (host.contains(\"m.facebook.com\") || host.contains(\"facebook.co\")\n                || host.contains(\"google.co\")\n                || host.contains(\"www.facebook.com\")\n                || host.contains(\".google.com\")\n                || host.contains(\".google\")\n                || host.contains(\"accounts.google.com/signin/oauth/consent\")\n                || host.contains(\"accounts.youtube.com\")\n                || host.contains(\"accounts.google.com\")\n                || host.contains(\"accounts.google.co.in\")\n                || host.contains(\"www.accounts.google.com\")\n                || host.contains(\"oauth.googleusercontent.com\")\n                || host.contains(\"content.googleapis.com\")\n                || host.contains(\"ssl.gstatic.com\")\n            //     || host.contains(\"https://accounts.google.com/signin/oauth/consent\")\n\n        ) {\n            return false;\n        }\n        // Otherwise, the link is not for a page on my site, so launch\n        // another Activity that handles URLs\n\n        Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\n        startActivity(intent);\n        return true;\n    }\n\n    @Override\n    public void onReceivedSslError(WebView view, SslErrorHandler handler, SslError error) {\n        Log.d(\"onReceivedSslError\", \"onReceivedSslError\");\n        super.onReceivedSslError(view, handler, error);\n    }\n\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        if (url.startsWith(\"https://m.facebook.com/v2.7/dialog/oauth\")\n\n\n        ) {\n            if (mWebviewPop != null) {\n                mWebviewPop.setVisibility(View.GONE);\n                mContainer.removeView(mWebviewPop);\n                mWebviewPop = null;\n            }\n            view.loadUrl(\"https://www.cbazaar.com\");\n            return;\n        }\n\n        super.onPageFinished(view, url);\n    }\n}\n\nprivate class UriWebChromeClient extends WebChromeClient {\n\n    @Override\n    public boolean onCreateWindow(WebView view, boolean isDialog, boolean isUserGesture, Message resultMsg) {\n        mWebviewPop = new WebView(mContext);\n        mWebviewPop.setVerticalScrollBarEnabled(false);\n        mWebviewPop.setHorizontalScrollBarEnabled(false);\n        mWebviewPop.setWebViewClient(new MyCustomWebViewClient());\n        mWebviewPop.setWebChromeClient(new UriWebChromeClient());\n        mWebviewPop.getSettings().setJavaScriptEnabled(true);\n        mWebviewPop.clearHistory();\n        mWebviewPop.clearFormData();\n        mWebviewPop.clearCache(true);\n        mWebviewPop.getSettings().setSavePassword(true);\n        mWebviewPop.getSettings().setSaveFormData(true);\n        mWebviewPop.getSettings().setUserAgentString(USER_AGENT_FAKE);\n\n        builder = new AlertDialog.Builder(MainActivity.this, AlertDialog.THEME_DEVICE_DEFAULT_LIGHT).create();\n\n        builder.setTitle(\"\");\n        builder.setView(mWebviewPop);\n\n        builder.setButton(\"close\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int id) {\n                mWebviewPop.destroy();\n                dialog.dismiss();\n\n            }\n        });\n\n        builder.show();\n        builder.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE | WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n\n             /*   CookieManager cookieManager = CookieManager.getInstance();\n                cookieManager.setAcceptCookie(true);\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                    cookieManager.setAcceptThirdPartyCookies(mWebviewPop,true);\n                }\n    */\n\n        WebView.WebViewTransport transport = (WebView.WebViewTransport) resultMsg.obj;\n        transport.setWebView(mWebviewPop);\n        resultMsg.sendToTarget();\n\n        return true;\n    }\n\n\n    @Override\n    public void onCloseWindow(WebView window) {\n\n        try {\n            mWebviewPop.destroy();\n        } catch (Exception e) {\n        }\n\n        try {\n            builder.dismiss();\n\n        } catch (Exception e) {\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","api","maven"],"owner":{"account_id":26691508,"reputation":3,"user_id":20300017,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674587819,"creation_date":1674542776,"question_id":75218219,"body_markdown":"How to use this method in another class? I have to make its object as I have to use this API while creating otherAPI so how can I create its object and use this in another class in same project.\r\n\r\n```\r\n\r\n    @POST\r\n\t@Path(PathConstants.UPDATE_EPM_DETAILS)\r\n\t@Consumes(MediaType.APPLICATION_JSON)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic Response updateEpmDetails(InputStream incomingData, @Context HttpHeaders headers) {\r\n\t\tlogger.info();\r\n\t\tmapper = getObjectMapper();\r\n\t\tepmHelper = getEpmHelper();\r\n\t\tElementUpdateEpmRequest[] updateEpmRequestArray = null;\r\n\t\tString jsonInString = &quot;{}&quot;;\r\n\t\tUpdateEpmDetailsResponse updateEpmDetailsResponse = new UpdateEpmDetailsResponse();\r\n\t\tint responseStatus = Response.Status.OK.getStatusCode();\r\n\t\ttry {\r\n\t\t\tupdateEpmRequestArray = mapper.readValue(incomingData, ElementUpdateEpmRequest[].class);\r\n\t\t\tList&lt;ElementUpdateEpmRequest&gt; updateEpmRequestList = new ArrayList&lt;&gt;(Arrays.asList(updateEpmRequestArray));\r\n\t\t\tupdateEpmDetailsResponse = epmHelper.updateEpmDetails(updateEpmRequestList);\r\n\t\t\tjsonInString = mapper.writeValueAsString(updateEpmDetailsResponse);\r\n\t\t\tlogger.infoEndOfMethod();\r\n\t\t\treturn Response.status(responseStatus).entity(jsonInString).build();\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn DataUtils.prepareServerErrorWithMessage(e, e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n```","title":"How to create object of a response service class in spring framework","body":"<p>How to use this method in another class? I have to make its object as I have to use this API while creating otherAPI so how can I create its object and use this in another class in same project.</p>\n<pre><code>\n    @POST\n    @Path(PathConstants.UPDATE_EPM_DETAILS)\n    @Consumes(MediaType.APPLICATION_JSON)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response updateEpmDetails(InputStream incomingData, @Context HttpHeaders headers) {\n        logger.info();\n        mapper = getObjectMapper();\n        epmHelper = getEpmHelper();\n        ElementUpdateEpmRequest[] updateEpmRequestArray = null;\n        String jsonInString = &quot;{}&quot;;\n        UpdateEpmDetailsResponse updateEpmDetailsResponse = new UpdateEpmDetailsResponse();\n        int responseStatus = Response.Status.OK.getStatusCode();\n        try {\n            updateEpmRequestArray = mapper.readValue(incomingData, ElementUpdateEpmRequest[].class);\n            List&lt;ElementUpdateEpmRequest&gt; updateEpmRequestList = new ArrayList&lt;&gt;(Arrays.asList(updateEpmRequestArray));\n            updateEpmDetailsResponse = epmHelper.updateEpmDetails(updateEpmRequestList);\n            jsonInString = mapper.writeValueAsString(updateEpmDetailsResponse);\n            logger.infoEndOfMethod();\n            return Response.status(responseStatus).entity(jsonInString).build();\n        } catch (Exception e) {\n            return DataUtils.prepareServerErrorWithMessage(e, e.getMessage());\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","spring-boot","log4j2"],"comments":[{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":1,"creation_date":1674579445,"post_id":75224628,"comment_id":132742236,"body_markdown":"Obvious question, but do you have the dependency on your classpath?  Have you confirmed?","body":"Obvious question, but do you have the dependency on your classpath?  Have you confirmed?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1674582082,"post_id":75224628,"comment_id":132743101,"body_markdown":"What happens if you remove the exclusion from your POM - the one for `spring-boot-starter-logging`? (I&#39;m not saying this will allow emails to be sent - but it should resolve the `NoClassDefFoundError` you are currently getting.)","body":"What happens if you remove the exclusion from your POM - the one for <code>spring-boot-starter-logging</code>? (I&#39;m not saying this will allow emails to be sent - but it should resolve the <code>NoClassDefFoundError</code> you are currently getting.)"}],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674584631,"creation_date":1674584631,"answer_id":75225696,"question_id":75224628,"body_markdown":"Try replacing \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n with the following the dependencies \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"Struggling sending e-mails with log4j2 and SMTP Appender","body":"<p>Try replacing</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>with the following the dependencies</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674587048,"creation_date":1674586709,"answer_id":75226055,"question_id":75224628,"body_markdown":"Your are facing one of the side-effects of the gap between Java EE 8 and Jakarta EE 9 (it&#39;s a very disruptive renaming of classes): Spring Boot 3.x contains an implementation of Jakarta Mail 2.0, while the SMTP appender in Log4j2 Core requires and implementation of Java Mail 1.6.\r\n\r\nTo fill the gap, we published an alternative implementation of [`MailManager`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/net/MailManager.html) (the engine behind the SMTP appender) in the [`log4j-jakarta-smtp`](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jakarta-smtp) artifact. To use it, you just need to add it to your runtime classpath:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-jakarta-smtp&lt;/artifactId&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta-activation&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;smtp&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n(the version is managed by Spring Boot).\r\n","title":"Struggling sending e-mails with log4j2 and SMTP Appender","body":"<p>Your are facing one of the side-effects of the gap between Java EE 8 and Jakarta EE 9 (it's a very disruptive renaming of classes): Spring Boot 3.x contains an implementation of Jakarta Mail 2.0, while the SMTP appender in Log4j2 Core requires and implementation of Java Mail 1.6.</p>\n<p>To fill the gap, we published an alternative implementation of <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/net/MailManager.html\" rel=\"nofollow noreferrer\"><code>MailManager</code></a> (the engine behind the SMTP appender) in the <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jakarta-smtp\" rel=\"nofollow noreferrer\"><code>log4j-jakarta-smtp</code></a> artifact. To use it, you just need to add it to your runtime classpath:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-jakarta-smtp&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta-activation&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;smtp&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(the version is managed by Spring Boot).</p>\n"}],"owner":{"account_id":17329639,"reputation":51,"user_id":12553074,"display_name":"Th&#233;o"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674587048,"creation_date":1674578734,"question_id":75224628,"body_markdown":"I&#39;m completely new to springboot and log4j2, and I cannot manage to send e-mail for a certain type of log (Warn&amp;Error). I dont&#39; understand why i get &quot;ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.SmtpAppender&quot; message. Does anyone have a clue?\r\n\r\n**log4j2.xml**\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE Configuration SYSTEM &quot;log4j2.dtd&quot;&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE Configuration SYSTEM &quot;log4j2.dtd&quot;&gt;\r\n    &lt;Configuration status=&quot;debug&quot; monitorInterval=&quot;30&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;SMTP name=&quot;Mailer&quot; subject=&quot;Error Log&quot; to=&quot;email@email.com&quot;\r\n                from=&quot;email2@email.com&quot;\r\n                smtpHost=&quot;host&quot; smtpUsername=&quot;username&quot;\r\n                smtpPassword=&quot;mdp&quot; smtpProtocol=&quot;smtp&quot;\r\n                bufferSize=&quot;50&quot;&gt;\r\n                &lt;HtmlLayout /&gt;\r\n                &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c:%L - %m%n&quot; /&gt;\r\n            &lt;/SMTP&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Mailer&quot; /&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;smtp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;smtp&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**SmtpApplication.java**\r\n\r\n```\r\npackage com.example.smtp;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SmtpApplication {\r\n\tprivate static final Logger logger = LogManager.getLogger(SmtpApplication.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SmtpApplication.class, args);\r\n\r\n\t\tlogger.debug(&quot;Debugging log&quot;);\r\n\t\tlogger.info(&quot;Info log&quot;);\r\n\t\tlogger.warn(&quot;Hey, This is a warning!&quot;);\r\n\t\tlogger.error(&quot;Oops! We have an Error. OK&quot;);\r\n\t\tlogger.fatal(&quot;Damn! Fatal error. Please fix me.&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**LOG**\r\n\r\n```\r\n2023-01-24 17:30:17,730 main DEBUG AsyncLogger.ThreadNameStrategy=UNCACHED (user specified null, default is UNCACHED)\r\n2023-01-24 17:30:17,731 main DEBUG org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\r\n2023-01-24 17:31:47,540 Log4j2-TF-4-Scheduled-2 INFO Source &#39;C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml&#39; was modified on Tue Jan 24 17:31:33 CET 2023 (1674577893351), previous modification was on Tue Jan 24 17:29:57 CET 2023 (1674577797490)\r\n2023-01-24 17:31:47,542 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Reconfiguration started for context 6d5380c2 (org.apache.logging.log4j.core.LoggerContext@7674b62c)\r\n2023-01-24 17:31:47,544 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager &#39;Lookup&#39; found 17 plugins\r\n2023-01-24 17:31:47,546 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Closing FileInputStream java.io.FileInputStream@465ecc51\r\n2023-01-24 17:31:47,550 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Watching configuration &#39;C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml&#39; for lastModified Tue Jan 24 17:31:33 CET 2023 (1674577893351)\r\n2023-01-24 17:31:47,552 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Apache Log4j Core 2.19.0 initializing configuration XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]        \r\n2023-01-24 17:31:47,553 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager &#39;Core&#39; found 131 plugins\r\n2023-01-24 17:31:47,554 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager &#39;Level&#39; found 0 plugins\r\n2023-01-24 17:31:47,554 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager &#39;Lookup&#39; found 17 plugins\r\n2023-01-24 17:31:47,556 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=layout, class=org.apache.logging.log4j.core.layout.HtmlLayout].\r\n2023-01-24 17:31:47,557 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG HtmlLayout$Builder(locationInfo=&quot;null&quot;, title=&quot;null&quot;, contentType=&quot;null&quot;, charset=&quot;null&quot;, fontSize=&quot;null&quot;, fontName=&quot;null&quot;, datePattern=&quot;null&quot;, timezone=&quot;null&quot;)\r\n2023-01-24 17:31:47,557 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=layout, class=org.apache.logging.log4j.core.layout.PatternLayout].\r\n2023-01-24 17:31:47,558 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PatternLayout$Builder(pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c:%L - %m%n&quot;, PatternSelector=null, Configuration(C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml), Replace=null, charset=&quot;null&quot;, alwaysWriteExceptions=&quot;null&quot;, disableAnsi=&quot;null&quot;, noConsoleNoAnsi=&quot;null&quot;, header=&quot;null&quot;, footer=&quot;null&quot;)\r\n2023-01-24 17:31:47,558 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager &#39;Converter&#39; found 48 plugins\r\n2023-01-24 17:31:47,559 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=appender, class=org.apache.logging.log4j.core.appender.SmtpAppender].\r\n2023-01-24 17:31:47,561 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG SmtpAppender$Builder(to=&quot;email@email.com&quot;, cc=&quot;null&quot;, bcc=&quot;null&quot;, from=&quot;email2@email.com&quot;, replyTo=&quot;null&quot;, subject=&quot;Error Log&quot;, smtpProtocol=&quot;smtp&quot;, smtpHost=&quot;host&quot;, smtpPort=&quot;null&quot;, smtpUsername=&quot;username&quot;, smtpPassword=&quot;*****&quot;, smtpDebug=&quot;null&quot;, bufferSize=&quot;50&quot;, SSL=null, ignoreExceptions=&quot;null&quot;, HtmlLayout(org.apache.logging.log4j.core.layout.HtmlLayout@42614042), name=&quot;Mailer&quot;, Configuration(C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml), Filter=null, ={})\r\n2023-01-24 17:31:47,563 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR appender SMTP has no parameter that matches element PatternLayout\r\n2023-01-24 17:31:47,566 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.SmtpAppender for element SMTP: java.lang.NoClassDefFoundError: javax/mail/MessagingException java.lang.NoClassDefFoundError: javax/mail/MessagingException\r\n        at org.apache.logging.log4j.core.appender.SmtpAppender$Builder.lambda$build$0(SmtpAppender.java:288)\r\n        at java.base/java.util.Optional.orElseGet(Unknown Source)\r\n        at org.apache.logging.log4j.core.appender.SmtpAppender$Builder.build(SmtpAppender.java:288)\r\n        at org.apache.logging.log4j.core.appender.SmtpAppender$Builder.build(SmtpAppender.java:92)\r\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:124)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1138)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1063)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1055)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:664)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:258)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:304)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:621)\r\n        at org.apache.logging.log4j.core.LoggerContext.onChange(LoggerContext.java:757)\r\n        at org.apache.logging.log4j.core.util.AbstractWatcher$ReconfigurationRunnable.run(AbstractWatcher.java:93)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: java.lang.ClassNotFoundException: javax.mail.MessagingException\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 15 more\r\n\r\n2023-01-24 17:31:47,571 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.SmtpAppender for element SMTP: java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.SmtpAppender java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.SmtpAppender\r\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:260)\r\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:136)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1138)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1063)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1055)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:664)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:258)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:304)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:621)\r\n        at org.apache.logging.log4j.core.LoggerContext.onChange(LoggerContext.java:757)\r\n        at org.apache.logging.log4j.core.util.AbstractWatcher$ReconfigurationRunnable.run(AbstractWatcher.java:93)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\n\r\n2023-01-24 17:31:47,575 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=appenders, class=org.apache.logging.log4j.core.config.AppendersPlugin].\r\n2023-01-24 17:31:47,577 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR Null object returned for SMTP in Appenders.\r\n2023-01-24 17:31:47,579 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG createAppenders(={})\r\n2023-01-24 17:31:47,580 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\r\n2023-01-24 17:31:47,581 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG createAppenderRef(ref=&quot;Mailer&quot;, level=&quot;null&quot;, Filter=null)\r\n2023-01-24 17:31:47,581 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=root, class=org.apache.logging.log4j.core.config.LoggerConfig$RootLogger].\r\n2023-01-24 17:31:47,582 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG LoggerConfig$RootLogger$Builder(additivity=&quot;null&quot;, level=&quot;INFO&quot;, levelAndRefs=&quot;null&quot;, includeLocation=&quot;null&quot;, ={Mailer}, ={}, Configuration(C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml), Filter=null)\r\n2023-01-24 17:31:47,583 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=loggers, class=org.apache.logging.log4j.core.config.LoggersPlugin].\r\n2023-01-24 17:31:47,584 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG createLoggers(={root})\r\n2023-01-24 17:31:47,585 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR Unable to locate appender &quot;Mailer&quot; for logger config &quot;root&quot;\r\n2023-01-24 17:31:47,586 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Configuration XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml] initialized\r\n2023-01-24 17:31:47,587 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Starting configuration XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]\r\n2023-01-24 17:31:47,588 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4j2 ConfigurationScheduler starting 1 threads\r\n2023-01-24 17:31:47,589 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Started configuration XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml] OK.\r\n2023-01-24 17:31:47,590 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4jBridgeHandler.propertyChange(): java.beans.PropertyChangeEvent[propertyName=config; oldValue=XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]; newValue=XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]; propagationId=null; source=org.apache.logging.log4j.core.LoggerContext@7674b62c]        \r\n2023-01-24 17:31:47,591 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4jBridgeHandler.propagateLogLevels(): XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]\r\n2023-01-24 17:31:47,593 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4j2 ConfigurationScheduler shutting down threads in java.util.concurrent.ScheduledThreadPoolExecutor@6302a2c0[Running, pool size = 1, active threads \r\n= 0, queued tasks = 1, completed tasks = 3]\r\n2023-01-24 17:31:47,595 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Stopped XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml] OK\r\n2023-01-24 17:31:47,596 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4jBridgeHandler.propertyChange(): java.beans.PropertyChangeEvent[propertyName=config; oldValue=XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]; newValue=XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]; propagationId=null; source=org.apache.logging.log4j.core.LoggerContext@7674b62c]        \r\n2023-01-24 17:31:47,599 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4jBridgeHandler.propagateLogLevels(): XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]\r\n2023-01-24 17:31:47,602 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Registering MBean org.apache.logging.log4j2:type=6d5380c2\r\n2023-01-24 17:31:47,603 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Registering MBean org.apache.logging.log4j2:type=6d5380c2,component=StatusLogger\r\n2023-01-24 17:31:47,604 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Registering MBean org.apache.logging.log4j2:type=6d5380c2,component=ContextSelector\r\n2023-01-24 17:31:47,606 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Registering MBean org.apache.logging.log4j2:type=6d5380c2,component=Loggers,name=\r\n2023-01-24 17:31:47,606 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Reconfiguration completed for 6d5380c2 (org.apache.logging.log4j.core.LoggerContext@7674b62c) in 65 milliseconds.\r\n```\r\n\r\nI&#39;ve tried plenty of things, but cannot mannage du make it work. Does anyone avec a clue?","title":"Struggling sending e-mails with log4j2 and SMTP Appender","body":"<p>I'm completely new to springboot and log4j2, and I cannot manage to send e-mail for a certain type of log (Warn&amp;Error). I dont' understand why i get &quot;ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.SmtpAppender&quot; message. Does anyone have a clue?</p>\n<p><strong>log4j2.xml</strong></p>\n\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE Configuration SYSTEM &quot;log4j2.dtd&quot;&gt;\n&lt;Configuration status=&quot;debug&quot; monitorInterval=&quot;30&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;SMTP name=&quot;Mailer&quot; subject=&quot;Error Log&quot; to=&quot;email@email.com&quot;\n            from=&quot;email2@email.com&quot;\n            smtpHost=&quot;host&quot; smtpUsername=&quot;username&quot;\n            smtpPassword=&quot;mdp&quot; smtpProtocol=&quot;smtp&quot;\n            bufferSize=&quot;50&quot;&gt;\n            &lt;HtmlLayout /&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c:%L - %m%n&quot; /&gt;\n        &lt;/SMTP&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Mailer&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;smtp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;smtp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>SmtpApplication.java</strong></p>\n<pre><code>package com.example.smtp;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SmtpApplication {\n    private static final Logger logger = LogManager.getLogger(SmtpApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(SmtpApplication.class, args);\n\n        logger.debug(&quot;Debugging log&quot;);\n        logger.info(&quot;Info log&quot;);\n        logger.warn(&quot;Hey, This is a warning!&quot;);\n        logger.error(&quot;Oops! We have an Error. OK&quot;);\n        logger.fatal(&quot;Damn! Fatal error. Please fix me.&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>LOG</strong></p>\n<pre><code>2023-01-24 17:30:17,730 main DEBUG AsyncLogger.ThreadNameStrategy=UNCACHED (user specified null, default is UNCACHED)\n2023-01-24 17:30:17,731 main DEBUG org.apache.logging.log4j.core.util.SystemClock supports precise timestamps.\n2023-01-24 17:31:47,540 Log4j2-TF-4-Scheduled-2 INFO Source 'C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml' was modified on Tue Jan 24 17:31:33 CET 2023 (1674577893351), previous modification was on Tue Jan 24 17:29:57 CET 2023 (1674577797490)\n2023-01-24 17:31:47,542 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Reconfiguration started for context 6d5380c2 (org.apache.logging.log4j.core.LoggerContext@7674b62c)\n2023-01-24 17:31:47,544 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager 'Lookup' found 17 plugins\n2023-01-24 17:31:47,546 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Closing FileInputStream java.io.FileInputStream@465ecc51\n2023-01-24 17:31:47,550 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Watching configuration 'C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml' for lastModified Tue Jan 24 17:31:33 CET 2023 (1674577893351)\n2023-01-24 17:31:47,552 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Apache Log4j Core 2.19.0 initializing configuration XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]        \n2023-01-24 17:31:47,553 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager 'Core' found 131 plugins\n2023-01-24 17:31:47,554 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager 'Level' found 0 plugins\n2023-01-24 17:31:47,554 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager 'Lookup' found 17 plugins\n2023-01-24 17:31:47,556 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=layout, class=org.apache.logging.log4j.core.layout.HtmlLayout].\n2023-01-24 17:31:47,557 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG HtmlLayout$Builder(locationInfo=&quot;null&quot;, title=&quot;null&quot;, contentType=&quot;null&quot;, charset=&quot;null&quot;, fontSize=&quot;null&quot;, fontName=&quot;null&quot;, datePattern=&quot;null&quot;, timezone=&quot;null&quot;)\n2023-01-24 17:31:47,557 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=layout, class=org.apache.logging.log4j.core.layout.PatternLayout].\n2023-01-24 17:31:47,558 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PatternLayout$Builder(pattern=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c:%L - %m%n&quot;, PatternSelector=null, Configuration(C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml), Replace=null, charset=&quot;null&quot;, alwaysWriteExceptions=&quot;null&quot;, disableAnsi=&quot;null&quot;, noConsoleNoAnsi=&quot;null&quot;, header=&quot;null&quot;, footer=&quot;null&quot;)\n2023-01-24 17:31:47,558 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG PluginManager 'Converter' found 48 plugins\n2023-01-24 17:31:47,559 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=appender, class=org.apache.logging.log4j.core.appender.SmtpAppender].\n2023-01-24 17:31:47,561 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG SmtpAppender$Builder(to=&quot;email@email.com&quot;, cc=&quot;null&quot;, bcc=&quot;null&quot;, from=&quot;email2@email.com&quot;, replyTo=&quot;null&quot;, subject=&quot;Error Log&quot;, smtpProtocol=&quot;smtp&quot;, smtpHost=&quot;host&quot;, smtpPort=&quot;null&quot;, smtpUsername=&quot;username&quot;, smtpPassword=&quot;*****&quot;, smtpDebug=&quot;null&quot;, bufferSize=&quot;50&quot;, SSL=null, ignoreExceptions=&quot;null&quot;, HtmlLayout(org.apache.logging.log4j.core.layout.HtmlLayout@42614042), name=&quot;Mailer&quot;, Configuration(C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml), Filter=null, ={})\n2023-01-24 17:31:47,563 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR appender SMTP has no parameter that matches element PatternLayout\n2023-01-24 17:31:47,566 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR Could not create plugin of type class org.apache.logging.log4j.core.appender.SmtpAppender for element SMTP: java.lang.NoClassDefFoundError: javax/mail/MessagingException java.lang.NoClassDefFoundError: javax/mail/MessagingException\n        at org.apache.logging.log4j.core.appender.SmtpAppender$Builder.lambda$build$0(SmtpAppender.java:288)\n        at java.base/java.util.Optional.orElseGet(Unknown Source)\n        at org.apache.logging.log4j.core.appender.SmtpAppender$Builder.build(SmtpAppender.java:288)\n        at org.apache.logging.log4j.core.appender.SmtpAppender$Builder.build(SmtpAppender.java:92)\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:124)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1138)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1063)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1055)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:664)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:258)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:304)\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:621)\n        at org.apache.logging.log4j.core.LoggerContext.onChange(LoggerContext.java:757)\n        at org.apache.logging.log4j.core.util.AbstractWatcher$ReconfigurationRunnable.run(AbstractWatcher.java:93)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: javax.mail.MessagingException\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 15 more\n\n2023-01-24 17:31:47,571 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR Unable to invoke factory method in class org.apache.logging.log4j.core.appender.SmtpAppender for element SMTP: java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.SmtpAppender java.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.SmtpAppender\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:260)\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:136)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1138)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1063)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:1055)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:664)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:258)\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:304)\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:621)\n        at org.apache.logging.log4j.core.LoggerContext.onChange(LoggerContext.java:757)\n        at org.apache.logging.log4j.core.util.AbstractWatcher$ReconfigurationRunnable.run(AbstractWatcher.java:93)\n        at java.base/java.lang.Thread.run(Unknown Source)\n\n2023-01-24 17:31:47,575 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=appenders, class=org.apache.logging.log4j.core.config.AppendersPlugin].\n2023-01-24 17:31:47,577 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR Null object returned for SMTP in Appenders.\n2023-01-24 17:31:47,579 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG createAppenders(={})\n2023-01-24 17:31:47,580 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=AppenderRef, class=org.apache.logging.log4j.core.config.AppenderRef].\n2023-01-24 17:31:47,581 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG createAppenderRef(ref=&quot;Mailer&quot;, level=&quot;null&quot;, Filter=null)\n2023-01-24 17:31:47,581 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=root, class=org.apache.logging.log4j.core.config.LoggerConfig$RootLogger].\n2023-01-24 17:31:47,582 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG LoggerConfig$RootLogger$Builder(additivity=&quot;null&quot;, level=&quot;INFO&quot;, levelAndRefs=&quot;null&quot;, includeLocation=&quot;null&quot;, ={Mailer}, ={}, Configuration(C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml), Filter=null)\n2023-01-24 17:31:47,583 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Building Plugin[name=loggers, class=org.apache.logging.log4j.core.config.LoggersPlugin].\n2023-01-24 17:31:47,584 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG createLoggers(={root})\n2023-01-24 17:31:47,585 Log4j2-TF-3-ConfigurationFileWatcher-3 ERROR Unable to locate appender &quot;Mailer&quot; for logger config &quot;root&quot;\n2023-01-24 17:31:47,586 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Configuration XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml] initialized\n2023-01-24 17:31:47,587 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Starting configuration XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]\n2023-01-24 17:31:47,588 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4j2 ConfigurationScheduler starting 1 threads\n2023-01-24 17:31:47,589 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Started configuration XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml] OK.\n2023-01-24 17:31:47,590 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4jBridgeHandler.propertyChange(): java.beans.PropertyChangeEvent[propertyName=config; oldValue=XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]; newValue=XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]; propagationId=null; source=org.apache.logging.log4j.core.LoggerContext@7674b62c]        \n2023-01-24 17:31:47,591 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4jBridgeHandler.propagateLogLevels(): XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]\n2023-01-24 17:31:47,593 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4j2 ConfigurationScheduler shutting down threads in java.util.concurrent.ScheduledThreadPoolExecutor@6302a2c0[Running, pool size = 1, active threads \n= 0, queued tasks = 1, completed tasks = 3]\n2023-01-24 17:31:47,595 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Stopped XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml] OK\n2023-01-24 17:31:47,596 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4jBridgeHandler.propertyChange(): java.beans.PropertyChangeEvent[propertyName=config; oldValue=XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]; newValue=XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]; propagationId=null; source=org.apache.logging.log4j.core.LoggerContext@7674b62c]        \n2023-01-24 17:31:47,599 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Log4jBridgeHandler.propagateLogLevels(): XmlConfiguration[location=C:\\Users\\theo.lalande\\Desktop\\smtp\\target\\classes\\log4j2.xml]\n2023-01-24 17:31:47,602 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Registering MBean org.apache.logging.log4j2:type=6d5380c2\n2023-01-24 17:31:47,603 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Registering MBean org.apache.logging.log4j2:type=6d5380c2,component=StatusLogger\n2023-01-24 17:31:47,604 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Registering MBean org.apache.logging.log4j2:type=6d5380c2,component=ContextSelector\n2023-01-24 17:31:47,606 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Registering MBean org.apache.logging.log4j2:type=6d5380c2,component=Loggers,name=\n2023-01-24 17:31:47,606 Log4j2-TF-3-ConfigurationFileWatcher-3 DEBUG Reconfiguration completed for 6d5380c2 (org.apache.logging.log4j.core.LoggerContext@7674b62c) in 65 milliseconds.\n</code></pre>\n<p>I've tried plenty of things, but cannot mannage du make it work. Does anyone avec a clue?</p>\n"},{"tags":["java","android","c++","dlopen"],"comments":[{"owner":{"account_id":283271,"reputation":16653,"user_id":580677,"accept_rate":63,"display_name":"nmr"},"score":0,"creation_date":1674587196,"post_id":75226090,"comment_id":132744627,"body_markdown":"Posting verbose build output might help, also build.gradle. There are a few ways things could fail like you describe (arch mismatch, stale CMakeLists.txt, bad build config.)","body":"Posting verbose build output might help, also build.gradle. There are a few ways things could fail like you describe (arch mismatch, stale CMakeLists.txt, bad build config.)"},{"owner":{"account_id":24611567,"reputation":108,"user_id":18513089,"display_name":"AggelosT"},"score":0,"creation_date":1674587286,"post_id":75226090,"comment_id":132744664,"body_markdown":"Which build.gradle of the two?","body":"Which build.gradle of the two?"},{"owner":{"account_id":283271,"reputation":16653,"user_id":580677,"accept_rate":63,"display_name":"nmr"},"score":0,"creation_date":1674587356,"post_id":75226090,"comment_id":132744692,"body_markdown":"If there are two both are probably relevant","body":"If there are two both are probably relevant"}],"owner":{"account_id":24611567,"reputation":108,"user_id":18513089,"display_name":"AggelosT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674586910,"creation_date":1674586910,"question_id":75226090,"body_markdown":"I am just getting started with porting a library to Android, and created a basic application to test out the progress. It builds fine, however when I run it, I get an `UnsatisfiedLinkError` exception saying it can&#39;t find `libnvddemo.so` (The library for my application, not the one I&#39;m porting). This is what my CMakeLists.txt looks like:\r\n```\r\ncmake_minimum_required(VERSION 3.18.1)\r\nset(SOURCES native-lib.cpp)\r\n\r\nproject(&quot;nvddemo&quot;)\r\nadd_library(\r\n        nvddemo\r\n        SHARED\r\n        ${SOURCES})\r\nfind_library(\r\n        log-lib\r\n        log)\r\n\r\ntarget_link_libraries(\r\n        nvddemo\r\n        ${log-lib})\r\n```\r\nAnd this is how I load my library:\r\n```java\r\ntry {\r\n    System.loadLibrary(&quot;nvddemo&quot;);\r\n} catch (UnsatisfiedLinkError e) {\r\n    Log.e(&quot;nvddemo&quot;, &quot;Cannot link to native C++ library: &quot; + e.toString());\r\n    throw new RuntimeException(&quot;This project requires its C++ library to be available.&quot;);\r\n}\r\n```","title":"Android Studio can&#39;t find the native (C++) library for my project","body":"<p>I am just getting started with porting a library to Android, and created a basic application to test out the progress. It builds fine, however when I run it, I get an <code>UnsatisfiedLinkError</code> exception saying it can't find <code>libnvddemo.so</code> (The library for my application, not the one I'm porting). This is what my CMakeLists.txt looks like:</p>\n<pre><code>cmake_minimum_required(VERSION 3.18.1)\nset(SOURCES native-lib.cpp)\n\nproject(&quot;nvddemo&quot;)\nadd_library(\n        nvddemo\n        SHARED\n        ${SOURCES})\nfind_library(\n        log-lib\n        log)\n\ntarget_link_libraries(\n        nvddemo\n        ${log-lib})\n</code></pre>\n<p>And this is how I load my library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    System.loadLibrary(&quot;nvddemo&quot;);\n} catch (UnsatisfiedLinkError e) {\n    Log.e(&quot;nvddemo&quot;, &quot;Cannot link to native C++ library: &quot; + e.toString());\n    throw new RuntimeException(&quot;This project requires its C++ library to be available.&quot;);\n}\n</code></pre>\n"},{"tags":["java","gradle","junit","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1674767201,"post_id":75225834,"comment_id":132789458,"body_markdown":"I think, generally put, the best practice is to test each unit &quot;once&quot;.  That said, if there is logic in your interface, test that logic there.  If there is logic in layer 1, test that there.  If you are duplicating logic between layer 1 and layer 2, consider moving that logic to the interface...?  If you&#39;re copying code, you&#39;re breaking the DRY principle (&quot;Don&#39;t Repeat Yourself&quot;).  If you&#39;re NOT repeating yourself, you don&#39;t need to test it twice, do you?","body":"I think, generally put, the best practice is to test each unit &quot;once&quot;.  That said, if there is logic in your interface, test that logic there.  If there is logic in layer 1, test that there.  If you are duplicating logic between layer 1 and layer 2, consider moving that logic to the interface...?  If you&#39;re copying code, you&#39;re breaking the DRY principle (&quot;Don&#39;t Repeat Yourself&quot;).  If you&#39;re NOT repeating yourself, you don&#39;t need to test it twice, do you?"},{"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"score":0,"creation_date":1674857128,"post_id":75225834,"comment_id":132810511,"body_markdown":"In my case there is no logic that can be moved to the interface. The implementations of the interface are vastly different (one is implemented using pure Java, the other one wraps a binary), so there is no shared logic between them. Still, since both implementations follow the same specification, a shared test suite makes sense in my eyes. Its only a question of how to share the suite :D","body":"In my case there is no logic that can be moved to the interface. The implementations of the interface are vastly different (one is implemented using pure Java, the other one wraps a binary), so there is no shared logic between them. Still, since both implementations follow the same specification, a shared test suite makes sense in my eyes. Its only a question of how to share the suite :D"},{"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"score":0,"creation_date":1674861782,"post_id":75225834,"comment_id":132811272,"body_markdown":"Since my issue might not have become totally clear, let me try to expain it with an anology: Let&#39;s say I wrote an interface &quot;List&quot;, which follows a specification. Now I created two implementations (&quot;ArrayList&quot; and &quot;LinkedList&quot;) which work differently, but follow the same specification. These implementations reside in different gradle subprojects. Now I want to have a shared test suite which checks the behavior of those implementations. For that reason I need to inject the implementations into the test suite which only depends on the interface, but does not know the implementations.","body":"Since my issue might not have become totally clear, let me try to expain it with an anology: Let&#39;s say I wrote an interface &quot;List&quot;, which follows a specification. Now I created two implementations (&quot;ArrayList&quot; and &quot;LinkedList&quot;) which work differently, but follow the same specification. These implementations reside in different gradle subprojects. Now I want to have a shared test suite which checks the behavior of those implementations. For that reason I need to inject the implementations into the test suite which only depends on the interface, but does not know the implementations."}],"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674586787,"creation_date":1674585411,"question_id":75225834,"body_markdown":"I have created a java library module (named `sop-java`) consisting of a set of interfaces which specify an API. This module only contains interfaces, no concrete implementations.\r\n\r\nIn the same repository I also created another library module `external-sop` which provides an implementation of `sop-java`. This module can be used as a concrete implementation of `sop-java`.\r\n\r\nLastly, in another repository I created yet another implementation of `sop-java`, named `pgpainless-sop`. This module also contains implementations of the `sop-java` API and it can be used as a drop-in too.\r\n\r\nCurrently I have two distinct test suites, one for `pgpainless-sop` and one for `external-sop`, but I realized that it makes sense to merge both test suites into one, since expectations for both implementations are the same (both implement the same API which is derived from a specification draft). I believe they can therefore be called black-box-tests?\r\nFurther, it probably makes sense to have this test suite &quot;reside&quot; in the `sop-java` module.\r\n\r\nIs sharing a test suite across different projects a thing? If yes, how would I inject my &quot;test subjects&quot; (the concrete implementation(s)) into the test suite? The entry point to the API is the interface `SOP`, for which I would inject either a `new ExternalSOP()` in case of `external-sop` or a `new SOPImpl()` in case of `pgpainless-sop`.\r\n\r\nI read that with JUnit 3, you would create AbstractBaseTest classes and then extend those in the test sources of the concrete implementation, injecting the subject. However, I also read that inheritance in tests is not recommended anymore (and my test suite also will consist of multiple test classes, making it cumbersome to extend each and every one individually). Is there some kind of &quot;TestSuiteInitializer&quot; class which can set up a test suite by injecting test dependencies?\r\n\r\nTo add to the complexity, in `external-sop`s test suite I make use of `@ParametrizedTest` in combination with a `@MethodSource` providing multiple `SOP` instances already. Ideally the combined test suite would reuse this pattern, with `pgpainless-sop` then only providing/injecting a single `SOP` instance to the tests.\r\n\r\nI am using Gradle 7.5 and JUnit Jupiter in my projects.\r\n\r\nI hope it became clear what I am trying to do and I hope this question hasn&#39;t been answered using different vocabulary :D\r\n\r\nMy repositories are free and open source software:\r\n* [sop-java](https://github.com/pgpainless/sop-java/tree/main/sop-java) (API definition)\r\n* [external-sop](https://github.com/pgpainless/sop-java/tree/main/external-sop) (first implementation)\r\n* [pgpainless-sop](https://github.com/pgpainless/pgpainless/tree/main/pgpainless-sop) (second implementation)","title":"Gradle: Reuse black-box JUnit test suite in multiple modules implementing a shared interface","body":"<p>I have created a java library module (named <code>sop-java</code>) consisting of a set of interfaces which specify an API. This module only contains interfaces, no concrete implementations.</p>\n<p>In the same repository I also created another library module <code>external-sop</code> which provides an implementation of <code>sop-java</code>. This module can be used as a concrete implementation of <code>sop-java</code>.</p>\n<p>Lastly, in another repository I created yet another implementation of <code>sop-java</code>, named <code>pgpainless-sop</code>. This module also contains implementations of the <code>sop-java</code> API and it can be used as a drop-in too.</p>\n<p>Currently I have two distinct test suites, one for <code>pgpainless-sop</code> and one for <code>external-sop</code>, but I realized that it makes sense to merge both test suites into one, since expectations for both implementations are the same (both implement the same API which is derived from a specification draft). I believe they can therefore be called black-box-tests?\nFurther, it probably makes sense to have this test suite &quot;reside&quot; in the <code>sop-java</code> module.</p>\n<p>Is sharing a test suite across different projects a thing? If yes, how would I inject my &quot;test subjects&quot; (the concrete implementation(s)) into the test suite? The entry point to the API is the interface <code>SOP</code>, for which I would inject either a <code>new ExternalSOP()</code> in case of <code>external-sop</code> or a <code>new SOPImpl()</code> in case of <code>pgpainless-sop</code>.</p>\n<p>I read that with JUnit 3, you would create AbstractBaseTest classes and then extend those in the test sources of the concrete implementation, injecting the subject. However, I also read that inheritance in tests is not recommended anymore (and my test suite also will consist of multiple test classes, making it cumbersome to extend each and every one individually). Is there some kind of &quot;TestSuiteInitializer&quot; class which can set up a test suite by injecting test dependencies?</p>\n<p>To add to the complexity, in <code>external-sop</code>s test suite I make use of <code>@ParametrizedTest</code> in combination with a <code>@MethodSource</code> providing multiple <code>SOP</code> instances already. Ideally the combined test suite would reuse this pattern, with <code>pgpainless-sop</code> then only providing/injecting a single <code>SOP</code> instance to the tests.</p>\n<p>I am using Gradle 7.5 and JUnit Jupiter in my projects.</p>\n<p>I hope it became clear what I am trying to do and I hope this question hasn't been answered using different vocabulary :D</p>\n<p>My repositories are free and open source software:</p>\n<ul>\n<li><a href=\"https://github.com/pgpainless/sop-java/tree/main/sop-java\" rel=\"nofollow noreferrer\">sop-java</a> (API definition)</li>\n<li><a href=\"https://github.com/pgpainless/sop-java/tree/main/external-sop\" rel=\"nofollow noreferrer\">external-sop</a> (first implementation)</li>\n<li><a href=\"https://github.com/pgpainless/pgpainless/tree/main/pgpainless-sop\" rel=\"nofollow noreferrer\">pgpainless-sop</a> (second implementation)</li>\n</ul>\n"},{"tags":["java","apache-spark","rdd"],"comments":[{"owner":{"account_id":3210892,"reputation":121,"user_id":2710936,"display_name":"Devin Wu"},"score":0,"creation_date":1664671308,"post_id":71877538,"comment_id":130525249,"body_markdown":"I got the same problem. When it running on small driver, it running pretty well, but show this error on large driverset.","body":"I got the same problem. When it running on small driver, it running pretty well, but show this error on large driverset."}],"answers":[{"tags":[],"owner":{"account_id":4104274,"reputation":173,"user_id":3368857,"accept_rate":0,"display_name":"Nicholas Kou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674586755,"creation_date":1674586755,"answer_id":75226063,"question_id":71877538,"body_markdown":"Finally solved the mystery. The problem relates to the cluster network. Specifically, I added on the /etc/hosts file of each machine (node) their local ip mapped with their hostname (as an alias) like:\r\n\r\n    192.168.0.1 snf-1234\r\n    192.168.0.2 snf-1235\r\n    ...\r\n\r\nIt seems that when the sample was large, the driver was trying to establish a connection that could not be achieved due to the missing matching between the ipv4 and the hostnames.","title":"Apache Spark - ERROR RetryingBlockFetcher: Exception while beginning fetch of 1 outstanding blocks","body":"<p>Finally solved the mystery. The problem relates to the cluster network. Specifically, I added on the /etc/hosts file of each machine (node) their local ip mapped with their hostname (as an alias) like:</p>\n<pre><code>192.168.0.1 snf-1234\n192.168.0.2 snf-1235\n...\n</code></pre>\n<p>It seems that when the sample was large, the driver was trying to establish a connection that could not be achieved due to the missing matching between the ipv4 and the hostnames.</p>\n"}],"owner":{"account_id":4104274,"reputation":173,"user_id":3368857,"accept_rate":0,"display_name":"Nicholas Kou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4746,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1674586755,"creation_date":1649969883,"question_id":71877538,"body_markdown":"I&#39;m running a Spark Job  in a cluster with the following configuration:\r\n\r\n```none\r\n--master yarn --deploy-mode client\r\n--executor-memory 4g \r\n--executor-cores 2 \r\n--driver-memory 6g \r\n--num-executors 12 \r\n```\r\nThe problem occurs in the job when I am taking a sample of data in the driver. The command that is run is the following:\r\n\r\n\r\n    rddTuplesA.sample(false, 0.03, 261).collect().forEach((tuple) -&gt;\r\n                        //build histogram...\r\n                ); \r\n\r\nThe `rddTuplesA` object is of `JavaRDD&lt;Tuple3&lt;String, Double, Double&gt;&gt;` type.\r\n\r\nThe Job throws the following error:\r\n\r\n&gt; 22/04/14 23:19:22 ERROR RetryingBlockFetcher: Exception while\r\n&gt; beginning fetch of 1 outstanding blocks  java.io.IOException: Failed\r\n&gt; to connect to snf-8802/192.168.0.6:35615\r\n&gt;         at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:287)\r\n&gt;         at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:218)\r\n&gt;         at org.apache.spark.network.netty.NettyBlockTransferService$$anon$2.createAndStart(NettyBlockTransferService.scala:123)\r\n&gt;         at org.apache.spark.network.shuffle.RetryingBlockFetcher.fetchAllOutstanding(RetryingBlockFetcher.java:153)\r\n&gt;         at org.apache.spark.network.shuffle.RetryingBlockFetcher.start(RetryingBlockFetcher.java:133)\r\n&gt;         at org.apache.spark.network.netty.NettyBlockTransferService.fetchBlocks(NettyBlockTransferService.scala:143)\r\n&gt;         at org.apache.spark.network.BlockTransferService.fetchBlockSync(BlockTransferService.scala:102)\r\n&gt;         at org.apache.spark.storage.BlockManager.fetchRemoteManagedBuffer(BlockManager.scala:1061)\r\n&gt;         at org.apache.spark.storage.BlockManager.$anonfun$getRemoteBlock$8(BlockManager.scala:1005)\r\n&gt;         at scala.Option.orElse(Option.scala:447)\r\n&gt;         at org.apache.spark.storage.BlockManager.getRemoteBlock(BlockManager.scala:1005)\r\n&gt;         at org.apache.spark.storage.BlockManager.getRemoteBytes(BlockManager.scala:1143)\r\n&gt;         at org.apache.spark.scheduler.TaskResultGetter$$anon$3.$anonfun$run$1(TaskResultGetter.scala:88)\r\n&gt;         at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt;         at org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:1996)\r\n&gt;         at org.apache.spark.scheduler.TaskResultGetter$$anon$3.run(TaskResultGetter.scala:63)\r\n&gt;         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt;         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt;         at java.lang.Thread.run(Thread.java:748) Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection\r\n&gt; refused: snf-8802/192.168.0.6:35615 Caused by:\r\n&gt; java.net.ConnectException: Connection refused\r\n&gt;         at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n&gt;         at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)\r\n&gt;         at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n&gt;         at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n&gt;         at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\r\n&gt;         at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n&gt;         at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n&gt;         at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n&gt;         at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n&gt;         at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n&gt;         at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n&gt;         at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nHowever, when I get a smaller sample, the job works perfectly e.g. \r\n\r\n    rddTuplesA.sample(false, 0.01, 261).collect().forEach((tuple) -&gt;\r\n                            //build histogram...\r\n                    ); \r\n\r\nIs there any config parameter to change so as to make the job run? It seems that the issue is related to the network. Also, if this occurs due to memory issues, wouldn&#39;t there be a memory related error on the Driver? Something like:\r\n\r\n&gt; java.lang.OutOfMemoryError: GC overhead limit exceeded \r\n\r\n \r\n","title":"Apache Spark - ERROR RetryingBlockFetcher: Exception while beginning fetch of 1 outstanding blocks","body":"<p>I'm running a Spark Job  in a cluster with the following configuration:</p>\n<pre class=\"lang-none prettyprint-override\"><code>--master yarn --deploy-mode client\n--executor-memory 4g \n--executor-cores 2 \n--driver-memory 6g \n--num-executors 12 \n</code></pre>\n<p>The problem occurs in the job when I am taking a sample of data in the driver. The command that is run is the following:</p>\n<pre><code>rddTuplesA.sample(false, 0.03, 261).collect().forEach((tuple) -&gt;\n                    //build histogram...\n            ); \n</code></pre>\n<p>The <code>rddTuplesA</code> object is of <code>JavaRDD&lt;Tuple3&lt;String, Double, Double&gt;&gt;</code> type.</p>\n<p>The Job throws the following error:</p>\n<blockquote>\n<p>22/04/14 23:19:22 ERROR RetryingBlockFetcher: Exception while\nbeginning fetch of 1 outstanding blocks  java.io.IOException: Failed\nto connect to snf-8802/192.168.0.6:35615\nat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:287)\nat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:218)\nat org.apache.spark.network.netty.NettyBlockTransferService$$anon$2.createAndStart(NettyBlockTransferService.scala:123)\nat org.apache.spark.network.shuffle.RetryingBlockFetcher.fetchAllOutstanding(RetryingBlockFetcher.java:153)\nat org.apache.spark.network.shuffle.RetryingBlockFetcher.start(RetryingBlockFetcher.java:133)\nat org.apache.spark.network.netty.NettyBlockTransferService.fetchBlocks(NettyBlockTransferService.scala:143)\nat org.apache.spark.network.BlockTransferService.fetchBlockSync(BlockTransferService.scala:102)\nat org.apache.spark.storage.BlockManager.fetchRemoteManagedBuffer(BlockManager.scala:1061)\nat org.apache.spark.storage.BlockManager.$anonfun$getRemoteBlock$8(BlockManager.scala:1005)\nat scala.Option.orElse(Option.scala:447)\nat org.apache.spark.storage.BlockManager.getRemoteBlock(BlockManager.scala:1005)\nat org.apache.spark.storage.BlockManager.getRemoteBytes(BlockManager.scala:1143)\nat org.apache.spark.scheduler.TaskResultGetter$$anon$3.$anonfun$run$1(TaskResultGetter.scala:88)\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:1996)\nat org.apache.spark.scheduler.TaskResultGetter$$anon$3.run(TaskResultGetter.scala:63)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748) Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection\nrefused: snf-8802/192.168.0.6:35615 Caused by:\njava.net.ConnectException: Connection refused\nat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\nat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:714)\nat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\nat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\nat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\nat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\nat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\nat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\nat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\nat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\nat java.lang.Thread.run(Thread.java:748)</p>\n</blockquote>\n<p>However, when I get a smaller sample, the job works perfectly e.g.</p>\n<pre><code>rddTuplesA.sample(false, 0.01, 261).collect().forEach((tuple) -&gt;\n                        //build histogram...\n                ); \n</code></pre>\n<p>Is there any config parameter to change so as to make the job run? It seems that the issue is related to the network. Also, if this occurs due to memory issues, wouldn't there be a memory related error on the Driver? Something like:</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: GC overhead limit exceeded</p>\n</blockquote>\n"},{"tags":["java","java-7"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":1,"creation_date":1582782388,"post_id":60426873,"comment_id":106897400,"body_markdown":"Why not Java 8 or any later version which support tls 1.2 by defqult?","body":"Why not Java 8 or any later version which support tls 1.2 by defqult?"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1582782554,"post_id":60426873,"comment_id":106897445,"body_markdown":"@NomadMaker Few restriction from Client side.","body":"@NomadMaker Few restriction from Client side."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1589354208,"creation_date":1582784935,"answer_id":60427406,"question_id":60426873,"body_markdown":"&gt; Why Java 7 release not available after jdk-7u80?\r\n\r\nBecause of Oracle business reasons.  Free public support ended in April 2015.\r\n\r\n(Backporting patches and so on requires a team of people.  That costs money.  Oracle is a commercial enterprise.   And other reasons.)\r\n\r\n&gt; Is this because user have to buy license/paid version ?\r\n\r\nYes.  You need an Extended Support Contract to use versions after 7u80\r\n\r\n&gt; These version not available for individual developer ?\r\n\r\nNo.\r\n\r\nIf you or your client requires Java 7 with TLSv1.1 and later, your options are:\r\n\r\n 1. Upgrade to Java 8 or (better) 11. This is the best option.\r\n 2. Use a 3rd-party JCE provider (such as BouncyCastle) that still supports Java 7.\r\n 3. Pay Oracle for an &quot;Extended Support&quot; support contract.\r\n\r\nPoint out to the client that this is the cost of them not investing the money / effort in keeping their Java application stack up with the latest versions.  \r\n\r\nIf they are still using old libraries and applications that are permanently stuck at Java 7, they should be planning to discard or replace them.  Yes it is painful, but it is more painful in the long term if they don&#39;t.  (In July 2022, even &quot;Extended Support&quot; ends for Java 7.  After that, even security fixes will stop.)\r\n\r\nNote that Java 8 is due to reach end of life fairly soon too.  Indeed, free support for commercial use has already ceased for Oracle Java 8.  You / they should really be aiming to get to Java 11 ASAP.\r\n\r\nI would also suggest that if they want you to continue supporting them on Java 7, they should be (in effect) paying for the Java support contract that you need to do your job.  Renegotiate your billing rate, or whatever.\r\n\r\nFor more information on Java versions, end of life, and end of support; see:\r\n\r\n  - https://en.wikipedia.org/wiki/Java_version_history\r\n  - https://www.oracle.com/java/technologies/java-se-support-roadmap.html\r\n","title":"Why Java 7 release not available after jdk-7u80?","body":"<blockquote>\n  <p>Why Java 7 release not available after jdk-7u80?</p>\n</blockquote>\n\n<p>Because of Oracle business reasons.  Free public support ended in April 2015.</p>\n\n<p>(Backporting patches and so on requires a team of people.  That costs money.  Oracle is a commercial enterprise.   And other reasons.)</p>\n\n<blockquote>\n  <p>Is this because user have to buy license/paid version ?</p>\n</blockquote>\n\n<p>Yes.  You need an Extended Support Contract to use versions after 7u80</p>\n\n<blockquote>\n  <p>These version not available for individual developer ?</p>\n</blockquote>\n\n<p>No.</p>\n\n<p>If you or your client requires Java 7 with TLSv1.1 and later, your options are:</p>\n\n<ol>\n<li>Upgrade to Java 8 or (better) 11. This is the best option.</li>\n<li>Use a 3rd-party JCE provider (such as BouncyCastle) that still supports Java 7.</li>\n<li>Pay Oracle for an \"Extended Support\" support contract.</li>\n</ol>\n\n<p>Point out to the client that this is the cost of them not investing the money / effort in keeping their Java application stack up with the latest versions.  </p>\n\n<p>If they are still using old libraries and applications that are permanently stuck at Java 7, they should be planning to discard or replace them.  Yes it is painful, but it is more painful in the long term if they don't.  (In July 2022, even \"Extended Support\" ends for Java 7.  After that, even security fixes will stop.)</p>\n\n<p>Note that Java 8 is due to reach end of life fairly soon too.  Indeed, free support for commercial use has already ceased for Oracle Java 8.  You / they should really be aiming to get to Java 11 ASAP.</p>\n\n<p>I would also suggest that if they want you to continue supporting them on Java 7, they should be (in effect) paying for the Java support contract that you need to do your job.  Renegotiate your billing rate, or whatever.</p>\n\n<p>For more information on Java versions, end of life, and end of support; see:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_version_history</a></li>\n<li><a href=\"https://www.oracle.com/java/technologies/java-se-support-roadmap.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/java-se-support-roadmap.html</a></li>\n</ul>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60427406,"answer_count":1,"score":2,"last_activity_date":1674586480,"creation_date":1582781922,"question_id":60426873,"body_markdown":"I want to download `JRE 1.7.0_131-b31` as i read its support `TLSv1.2` by default\r\n\r\n&gt; TLSv1.2 and TLSv1.1 are now enabled by default on the TLS client\r\n&gt; end-points. This is similar behavior to what already happens in JDK 8\r\n&gt; releases.\r\n\r\nBut Oracle site showing latest version of [jdk-7u80][1] and after this release no other Java 7 version available.\r\n\r\n 1. Is this because ,user have to buy license/paid version ?\r\n 2. These version not available for individual developer ?\r\n\r\n \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html","title":"Why Java 7 release not available after jdk-7u80?","body":"<p>I want to download <code>JRE 1.7.0_131-b31</code> as i read its support <code>TLSv1.2</code> by default</p>\n<blockquote>\n<p>TLSv1.2 and TLSv1.1 are now enabled by default on the TLS client\nend-points. This is similar behavior to what already happens in JDK 8\nreleases.</p>\n</blockquote>\n<p>But Oracle site showing latest version of <a href=\"https://www.oracle.com/java/technologies/javase/javase7-archive-downloads.html\" rel=\"nofollow noreferrer\">jdk-7u80</a> and after this release no other Java 7 version available.</p>\n<ol>\n<li>Is this because ,user have to buy license/paid version ?</li>\n<li>These version not available for individual developer ?</li>\n</ol>\n"},{"tags":["java","android","git","github"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674630346,"post_id":75225797,"comment_id":132752906,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27612024,"reputation":1,"user_id":21074939,"display_name":"Fahama Rahmani"},"score":0,"creation_date":1674734730,"post_id":75225797,"comment_id":132779265,"body_markdown":"I want to push my project from android to GitHub , while adding file to VCS this problem occurred in git add , i dont know what is the problem please give me solution.","body":"I want to push my project from android to GitHub , while adding file to VCS this problem occurred in git add , i dont know what is the problem please give me solution."},{"owner":{"account_id":283531,"reputation":32508,"user_id":581076,"accept_rate":47,"display_name":"tymtam"},"score":0,"creation_date":1674873822,"post_id":75225797,"comment_id":132812694,"body_markdown":"What are you doing to get this error?","body":"What are you doing to get this error?"}],"answers":[{"tags":[],"owner":{"account_id":14572358,"reputation":361,"user_id":10525306,"display_name":"FreddyNoNose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674586294,"creation_date":1674586294,"answer_id":75225979,"question_id":75225797,"body_markdown":"This might be helpful.\r\n\r\n```git config core.longpaths true```\r\n\r\nBasic explanation: This answer suggests not to have such setting applied to the global system (to all projects so avoiding ```--system``` or ```--global tag```) configurations. This command only solves the problem by being specific to the current project.","title":"how to push android project to github","body":"<p>This might be helpful.</p>\n<p><code>git config core.longpaths true</code></p>\n<p>Basic explanation: This answer suggests not to have such setting applied to the global system (to all projects so avoiding <code>--system</code> or <code>--global tag</code>) configurations. This command only solves the problem by being specific to the current project.</p>\n"}],"owner":{"account_id":27612024,"reputation":1,"user_id":21074939,"display_name":"Fahama Rahmani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674586294,"creation_date":1674585157,"question_id":75225797,"body_markdown":"open(&quot;gradle/wrapper/caches/6.1.1/scripts-remapped/ijinit_duzwis2ipqrhqcdf5qgg8bfpx/9fi4s0842i0sksg2m7izv32e4/cp_init3607aee355f62839c5e6f549478ccc87/classes/ijinit_duzwis2ipqrhqcdf5qgg8bfpx$_run_closure1.class&quot;): Filename too long unable to index file\r\n\r\nI have this issue with android studio , when I want push my project to github . when i want to add my file to vcs .\r\ngit -&gt; add  \r\n\r\nI want to solve my issue","title":"how to push android project to github","body":"<p>open(&quot;gradle/wrapper/caches/6.1.1/scripts-remapped/ijinit_duzwis2ipqrhqcdf5qgg8bfpx/9fi4s0842i0sksg2m7izv32e4/cp_init3607aee355f62839c5e6f549478ccc87/classes/ijinit_duzwis2ipqrhqcdf5qgg8bfpx$_run_closure1.class&quot;): Filename too long unable to index file</p>\n<p>I have this issue with android studio , when I want push my project to github . when i want to add my file to vcs .\ngit -&gt; add</p>\n<p>I want to solve my issue</p>\n"},{"tags":["java","spring","jackson"],"comments":[{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1674587008,"post_id":75215361,"comment_id":132744570,"body_markdown":"The url you link to presents this exact issue and the solution he used.  Have you tried that to see if it works for you?","body":"The url you link to presents this exact issue and the solution he used.  Have you tried that to see if it works for you?"}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674511028,"creation_date":1674511028,"answer_id":75215462,"question_id":75215361,"body_markdown":"You could create a new service with similar polymorphism, for example\r\n\r\n    public class DeductionAddressController {\r\n    \r\n        @Autowired\r\n        private AddressService addressService;\r\n    \r\n        @PostMapping()\r\n        public Address create(@RequestBody Address address) {\r\n            addressService.processAddress(address);\r\n\r\n            return address;\r\n        }\r\n    }\r\n\r\nwhere `AddressService` looks like\r\n\r\n\r\n    @Service\r\n    public class AddressServiceImpl implements AddressService {\r\n    \r\n       @Override\r\n       public void processAddress(HomeAddressDto homeAddress) {\r\n          System.out.println(&quot;home&quot;);\r\n          // process HomeAddressDto...\r\n       }\r\n    \r\n       @Override\r\n       public void processAddress(OfficeAddressDto homeAddress) {\r\n          System.out.println(&quot;office&quot;);\r\n          // process OfficeAddressDto...\r\n       }\r\n    }   ","title":"polymorphic dto in a controller","body":"<p>You could create a new service with similar polymorphism, for example</p>\n<pre><code>public class DeductionAddressController {\n\n    @Autowired\n    private AddressService addressService;\n\n    @PostMapping()\n    public Address create(@RequestBody Address address) {\n        addressService.processAddress(address);\n\n        return address;\n    }\n}\n</code></pre>\n<p>where <code>AddressService</code> looks like</p>\n<pre><code>@Service\npublic class AddressServiceImpl implements AddressService {\n\n   @Override\n   public void processAddress(HomeAddressDto homeAddress) {\n      System.out.println(&quot;home&quot;);\n      // process HomeAddressDto...\n   }\n\n   @Override\n   public void processAddress(OfficeAddressDto homeAddress) {\n      System.out.println(&quot;office&quot;);\n      // process OfficeAddressDto...\n   }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674586285,"creation_date":1674586285,"answer_id":75225976,"question_id":75215361,"body_markdown":"I think this might be what you&#39;re looking for.\r\n\r\n\r\n\r\nAbstract (Parent) Class:\r\n    \r\n    //I&#39;m assuming this discriminator works\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = HomeAddressDto.class)\r\n    @JsonSubTypes({\r\n        @Type(HomeAddressDto.class),\r\n        @Type(OfficeAddressDto.class)\r\n    })\r\n    public abstract class Address {\r\n       public enum AddressType {\r\n          HOME(&quot;home&quot;), OFFICE(&quot;office&quot;);\r\n          // set the rest up\r\n       }\r\n     \r\n       public abstract AddressType getType();\r\n       \r\n    }\r\n\r\nHome Address Class:\r\n\r\n    public record HomeAddressDto(String street, String postalCode, String unit) extends Address {\r\n    \r\n       @Overrides\r\n       public AddressType getType(){\r\n          return AddressType.HOME;\r\n       }\r\n    }\r\n    \r\nOffice Address Class:\r\n\r\n    public record OfficeAddressDto(String building, String street, String postalCode, String unit) extends Address {\r\n\r\n       @Overrides\r\n       public AddressType getType(){\r\n          return AddressType.OFFICE;\r\n       }\r\n    }\r\n\r\n\r\nCONTROLLER:\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/deduction/addresses&quot;)\r\n    public class DeductionAddressController {\r\n    \r\n        @PostMapping()\r\n        public Address create(@RequestBody Address address) {\r\n            Log.info(address.getType());\r\n            ...\r\n            ...\r\n            return address;\r\n        }\r\n    }","title":"polymorphic dto in a controller","body":"<p>I think this might be what you're looking for.</p>\n<p>Abstract (Parent) Class:</p>\n<pre><code>//I'm assuming this discriminator works\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = HomeAddressDto.class)\n@JsonSubTypes({\n    @Type(HomeAddressDto.class),\n    @Type(OfficeAddressDto.class)\n})\npublic abstract class Address {\n   public enum AddressType {\n      HOME(&quot;home&quot;), OFFICE(&quot;office&quot;);\n      // set the rest up\n   }\n \n   public abstract AddressType getType();\n   \n}\n</code></pre>\n<p>Home Address Class:</p>\n<pre><code>public record HomeAddressDto(String street, String postalCode, String unit) extends Address {\n\n   @Overrides\n   public AddressType getType(){\n      return AddressType.HOME;\n   }\n}\n</code></pre>\n<p>Office Address Class:</p>\n<pre><code>public record OfficeAddressDto(String building, String street, String postalCode, String unit) extends Address {\n\n   @Overrides\n   public AddressType getType(){\n      return AddressType.OFFICE;\n   }\n}\n</code></pre>\n<p>CONTROLLER:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/deduction/addresses&quot;)\npublic class DeductionAddressController {\n\n    @PostMapping()\n    public Address create(@RequestBody Address address) {\n        Log.info(address.getType());\n        ...\n        ...\n        return address;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674586285,"creation_date":1674510288,"question_id":75215361,"body_markdown":"I have folowed this way to use polymorphic dto in a spring controller\r\n\r\nhttps://bwgjoseph.com/polymorphic-dto-using-java-record-with-jackson\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = HomeAddressDto.class)\r\n    @JsonSubTypes({\r\n        @Type(HomeAddressDto.class),\r\n        @Type(OfficeAddressDto.class)\r\n    })\r\n    public interface Address {\r\n    \r\n    }\r\n\r\n    public record HomeAddressDto(String street, String postalCode, String unit) implements Address {}\r\n\r\n    public record OfficeAddressDto(String building, String street, String postalCode, String unit) implements Address {}\r\n\r\nThat work well but in the controller \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/deduction/addresses&quot;)\r\n    public class DeductionAddressController {\r\n    \r\n        @PostMapping()\r\n        public Address create(@RequestBody Address address) {\r\n            if (address instanceof HomeAddressDto) {\r\n                System.out.println(&quot;home&quot;);\r\n            }\r\n    \r\n            if (address instanceof OfficeAddressDto) {\r\n                System.out.println(&quot;office&quot;);\r\n            }\r\n    \r\n            return address;\r\n        }\r\n    }\r\n\r\ninstanceof is used, is there a way to avoid that?","title":"polymorphic dto in a controller","body":"<p>I have folowed this way to use polymorphic dto in a spring controller</p>\n<p><a href=\"https://bwgjoseph.com/polymorphic-dto-using-java-record-with-jackson\" rel=\"nofollow noreferrer\">https://bwgjoseph.com/polymorphic-dto-using-java-record-with-jackson</a></p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = HomeAddressDto.class)\n@JsonSubTypes({\n    @Type(HomeAddressDto.class),\n    @Type(OfficeAddressDto.class)\n})\npublic interface Address {\n\n}\n\npublic record HomeAddressDto(String street, String postalCode, String unit) implements Address {}\n\npublic record OfficeAddressDto(String building, String street, String postalCode, String unit) implements Address {}\n</code></pre>\n<p>That work well but in the controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/deduction/addresses&quot;)\npublic class DeductionAddressController {\n\n    @PostMapping()\n    public Address create(@RequestBody Address address) {\n        if (address instanceof HomeAddressDto) {\n            System.out.println(&quot;home&quot;);\n        }\n\n        if (address instanceof OfficeAddressDto) {\n            System.out.println(&quot;office&quot;);\n        }\n\n        return address;\n    }\n}\n</code></pre>\n<p>instanceof is used, is there a way to avoid that?</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","getattribute"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1674581935,"post_id":75225176,"comment_id":132743050,"body_markdown":"You mean: `//div[@class=name-slider-header&#39;]//button//img`? What are you asking?","body":"You mean: <code>&#47;&#47;div[@class=name-slider-header&#39;]&#47;&#47;button&#47;&#47;img</code>? What are you asking?"},{"owner":{"account_id":26403014,"reputation":29,"user_id":21042124,"display_name":"Max Brian"},"score":0,"creation_date":1674583630,"post_id":75225176,"comment_id":132743583,"body_markdown":"That xpath of yours locates first element but fails for second.","body":"That xpath of yours locates first element but fails for second."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1674597179,"post_id":75225176,"comment_id":132747595,"body_markdown":"Albeit `//div[@class=name-slider-header&#39;]//button//img` is the common xpath but how to use the xpath depends a lot on your usecase, what you want to do if either of the node is selected.","body":"Albeit <code>&#47;&#47;div[@class=name-slider-header&#39;]&#47;&#47;button&#47;&#47;img</code> is the common xpath but how to use the xpath depends a lot on your usecase, what you want to do if either of the node is selected."},{"owner":{"account_id":12411624,"reputation":5567,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1674607624,"post_id":75225176,"comment_id":132749726,"body_markdown":"Will this work? `//div[@class=&#39;name-slider-header&#39;]//button//img[contains(@src,&#39;red&#39;)][position()=1 or position()=2]`","body":"Will this work? <code>&#47;&#47;div[@class=&#39;name-slider-header&#39;]&#47;&#47;button&#47;&#47;img[contains(@sr&zwnj;&#8203;c,&#39;red&#39;)][position()&zwnj;&#8203;=1 or position()=2]</code>"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674582250,"creation_date":1674582250,"answer_id":75225296,"question_id":75225176,"body_markdown":"The common XPath of these 2 elements is `//div[@class=name-slider-header&#39;]//button//img`. So, you can get a list of elements and then iterate over the list extracting the element attribute, as following:\r\n```java\r\nelements = driver.findElements(By.xpath(&quot;//div[@class=name-slider-header&#39;]//button//img&quot;));\r\nfor(WebElement element : elements){\r\n    if(element.getAttribute(&quot;src&quot;).contains(&quot;red&quot;)){\r\n      // do something\r\n  }\r\n}\r\n```","title":"Is it possible to find common xpath for this elements?","body":"<p>The common XPath of these 2 elements is <code>//div[@class=name-slider-header']//button//img</code>. So, you can get a list of elements and then iterate over the list extracting the element attribute, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>elements = driver.findElements(By.xpath(&quot;//div[@class=name-slider-header']//button//img&quot;));\nfor(WebElement element : elements){\n    if(element.getAttribute(&quot;src&quot;).contains(&quot;red&quot;)){\n      // do something\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674586177,"creation_date":1674586177,"answer_id":75225955,"question_id":75225176,"body_markdown":"Use the following xpath to identify the `image` elements where `src` value contains `red`\r\n\r\n    //div[@class=&#39;name-slider-header&#39;]//button//img[contains(@src, &#39;red&#39;)]\r\n\r\ncode:\r\n\r\n    imgElements = driver.findElements(By.xpath(&quot;//div[@class=&#39;name-slider-header&#39;]//button//img[contains(@src, &#39;red&#39;)]&quot;));","title":"Is it possible to find common xpath for this elements?","body":"<p>Use the following xpath to identify the <code>image</code> elements where <code>src</code> value contains <code>red</code></p>\n<pre><code>//div[@class='name-slider-header']//button//img[contains(@src, 'red')]\n</code></pre>\n<p>code:</p>\n<pre><code>imgElements = driver.findElements(By.xpath(&quot;//div[@class='name-slider-header']//button//img[contains(@src, 'red')]&quot;));\n</code></pre>\n"}],"owner":{"account_id":26403014,"reputation":29,"user_id":21042124,"display_name":"Max Brian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75225955,"answer_count":2,"score":1,"last_activity_date":1674586177,"creation_date":1674581675,"question_id":75225176,"body_markdown":"xpath of one element is: `//div[@class=name-slider-header&#39;]//button//img[2]`\r\n\r\nxpath of another element is: `//div[@class=name-slider-header&#39;]//button//img[1]`\r\n\r\nActually I need to check attribute of element must contains &quot;red&quot; after element gets **disabled**\r\nafter clicking &quot;n&quot; times, so I am using `element.getAttribute(&quot;src&quot;).contains(&quot;red&quot;);`\r\n`element2.getAttribute(&quot;src&quot;).contains(&quot;red&quot;);`\r\n\r\nIs it possible to find common xpath for this elements?","title":"Is it possible to find common xpath for this elements?","body":"<p>xpath of one element is: <code>//div[@class=name-slider-header']//button//img[2]</code></p>\n<p>xpath of another element is: <code>//div[@class=name-slider-header']//button//img[1]</code></p>\n<p>Actually I need to check attribute of element must contains &quot;red&quot; after element gets <strong>disabled</strong>\nafter clicking &quot;n&quot; times, so I am using <code>element.getAttribute(&quot;src&quot;).contains(&quot;red&quot;);</code>\n<code>element2.getAttribute(&quot;src&quot;).contains(&quot;red&quot;);</code></p>\n<p>Is it possible to find common xpath for this elements?</p>\n"},{"tags":["java","spring","jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":14889478,"reputation":124,"user_id":10751633,"display_name":"bosowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674585685,"creation_date":1674584290,"answer_id":75225635,"question_id":75225032,"body_markdown":"Probably not related, since the exception is from JPA and not JDBC, but you are using a class named `User` as your data class name and table name as I can see from the query. Depending on what underlying database you are using, you could be running into conflicts relating to **restricted** keywords of that database.\r\n\r\nFor example, in newer versions of H2 the `USER` keyword is restricted.\r\nhttps://www.h2database.com/html/advanced.html\r\n\r\n\r\nOn another note, if you run a clean SpringBoot project with the following:\r\n\r\n    import jakarta.persistence.*;\r\n    \r\n    @Entity\r\n    public class UserTest {\r\n        \r\n        public UserTest(){}\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        public Long id;\r\n    \r\n        public String userDesc;\r\n    \r\n        public String userName;\r\n    \r\n    }\r\n-----------\r\n\r\n    import jakarta.transaction.Transactional;\r\n    import org.springframework.data.jpa.repository.Modifying;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    @Transactional\r\n    public interface UserRepository extends CrudRepository&lt; UserTest, Long&gt; {\r\n    \r\n        @Modifying\r\n        @Query(&quot;update UserTest u set u.userDesc = :userDesc where u.userName = :userName&quot;)\r\n        public int updateUser(String userDesc, String userName);\r\n    }\r\n\r\n\r\nIt does run and the update method works just fine, so the issue must be somewhere else in your code, or in your imports which you are not showing.","title":"Spring Repository Update - No property found for type","body":"<p>Probably not related, since the exception is from JPA and not JDBC, but you are using a class named <code>User</code> as your data class name and table name as I can see from the query. Depending on what underlying database you are using, you could be running into conflicts relating to <strong>restricted</strong> keywords of that database.</p>\n<p>For example, in newer versions of H2 the <code>USER</code> keyword is restricted.\n<a href=\"https://www.h2database.com/html/advanced.html\" rel=\"nofollow noreferrer\">https://www.h2database.com/html/advanced.html</a></p>\n<p>On another note, if you run a clean SpringBoot project with the following:</p>\n<pre><code>import jakarta.persistence.*;\n\n@Entity\npublic class UserTest {\n    \n    public UserTest(){}\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;id&quot;, nullable = false)\n    public Long id;\n\n    public String userDesc;\n\n    public String userName;\n\n}\n</code></pre>\n<hr />\n<pre><code>import jakarta.transaction.Transactional;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\n@Transactional\npublic interface UserRepository extends CrudRepository&lt; UserTest, Long&gt; {\n\n    @Modifying\n    @Query(&quot;update UserTest u set u.userDesc = :userDesc where u.userName = :userName&quot;)\n    public int updateUser(String userDesc, String userName);\n}\n</code></pre>\n<p>It does run and the update method works just fine, so the issue must be somewhere else in your code, or in your imports which you are not showing.</p>\n"}],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75225635,"answer_count":1,"score":0,"last_activity_date":1674585685,"creation_date":1674580831,"question_id":75225032,"body_markdown":"I have searched on StackOverflow a solution for this on the other discussions about this same error, but couldn&#39;t find an answer for this specific scenario.\r\n\r\nHere is what&#39;s happening.\r\n\r\nI have the following Spring Repository.\r\n\r\n    @Repository\r\n    @Transactional\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt;{   \r\n    \r\n           @Modifying\r\n           @Query(&quot;update User u set u.userDesc = :userDesc where u.userName = :userName&quot;)\r\n           public int updateUser(String userDesc, String userName);\r\n    }\r\n\r\nGetting this error. \r\n\r\n*Could not create query for public abstract int com.xyz.UserRepository.updateUser(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract int com.xyz.UserRepository.updateUser(java.lang.String,java.lang.String)! No property &#39;updateUser&#39; found for type &#39;User&#39;;*\r\n\r\n\r\nWhy?\r\n\r\n","title":"Spring Repository Update - No property found for type","body":"<p>I have searched on StackOverflow a solution for this on the other discussions about this same error, but couldn't find an answer for this specific scenario.</p>\n<p>Here is what's happening.</p>\n<p>I have the following Spring Repository.</p>\n<pre><code>@Repository\n@Transactional\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt;{   \n\n       @Modifying\n       @Query(&quot;update User u set u.userDesc = :userDesc where u.userName = :userName&quot;)\n       public int updateUser(String userDesc, String userName);\n}\n</code></pre>\n<p>Getting this error.</p>\n<p><em>Could not create query for public abstract int com.xyz.UserRepository.updateUser(java.lang.String,java.lang.String); Reason: Failed to create query for method public abstract int com.xyz.UserRepository.updateUser(java.lang.String,java.lang.String)! No property 'updateUser' found for type 'User';</em></p>\n<p>Why?</p>\n"},{"tags":["java","variables"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1674580829,"post_id":75224984,"comment_id":132742685,"body_markdown":"Do you expect the compiler to deduce that at least one of those `if` statements will execute? If so, I suggest you revise your expectations. Note that if you change it to `if (i == 4) { c = 1; } else { c = 2; }` then it&#39;ll be fine.","body":"Do you expect the compiler to deduce that at least one of those <code>if</code> statements will execute? If so, I suggest you revise your expectations. Note that if you change it to <code>if (i == 4) { c = 1; } else { c = 2; }</code> then it&#39;ll be fine."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1674580830,"post_id":75224984,"comment_id":132742687,"body_markdown":"because theoretically it is possible for variable `i` to change its values between `if` conditions","body":"because theoretically it is possible for variable <code>i</code> to change its values between <code>if</code> conditions"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1674580850,"post_id":75224984,"comment_id":132742694,"body_markdown":"The compiler simply isn&#39;t smart enough and doesn&#39;t analyze your code deep enough to understand that one of the if statements has to be true. So it thinks there is a possibility that none of your initialization statements is reached before you try to print the variable. If you change your double if statements to an `if (i==4) { c=1; } else { c=2; }` the compiler will understand that either the if or the else will be entered and you won&#39;t have that problem.","body":"The compiler simply isn&#39;t smart enough and doesn&#39;t analyze your code deep enough to understand that one of the if statements has to be true. So it thinks there is a possibility that none of your initialization statements is reached before you try to print the variable. If you change your double if statements to an <code>if (i==4) { c=1; } else { c=2; }</code> the compiler will understand that either the if or the else will be entered and you won&#39;t have that problem."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1674580873,"post_id":75224984,"comment_id":132742704,"body_markdown":"@IłyaBursov: No, it isn&#39;t possible when it&#39;s a local variable - but the language does not attempt to require the compiler to work out when multiple conditions cover all aspects.","body":"@IłyaBursov: No, it isn&#39;t possible when it&#39;s a local variable - but the language does not attempt to require the compiler to work out when multiple conditions cover all aspects."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1674580891,"post_id":75224984,"comment_id":132742711,"body_markdown":"Throws an exception?  Or won&#39;t compile?","body":"Throws an exception?  Or won&#39;t compile?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1674581897,"post_id":75224984,"comment_id":132743031,"body_markdown":"BTW it is not too hard to have the value changed in-between, for example by setting a conditional break-point where the condition changes the value of `i` as side-effect (maybe also with some byte-code manipulating framework)","body":"BTW it is not too hard to have the value changed in-between, for example by setting a conditional break-point where the condition changes the value of <code>i</code> as side-effect (maybe also with some byte-code manipulating framework)"},{"owner":{"account_id":23115935,"reputation":1466,"user_id":17223188,"display_name":"rnewed_user"},"score":0,"creation_date":1674588263,"post_id":75224984,"comment_id":132744955,"body_markdown":"please study scope of states","body":"please study scope of states"}],"owner":{"account_id":27611476,"reputation":29,"user_id":21074504,"display_name":"Puneet Chhabra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674585437,"creation_date":1674580590,"question_id":75224984,"body_markdown":"The following java code throws an exception: c not initialised. \r\n\r\n```\r\nint i = 4;\r\nint c;\r\nif (i == 4) c = 1;\r\nif (i != 4) c = 2;\r\nSystem.out.println(c);\r\n```\r\n\r\n\r\nIf the code executes line by line, then why we need to initialise beforehand?","title":"Why is it necessary to initialize the variable before if condition","body":"<p>The following java code throws an exception: c not initialised.</p>\n<pre><code>int i = 4;\nint c;\nif (i == 4) c = 1;\nif (i != 4) c = 2;\nSystem.out.println(c);\n</code></pre>\n<p>If the code executes line by line, then why we need to initialise beforehand?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1674585000,"post_id":75225749,"comment_id":132743969,"body_markdown":"You can&#39;t use `i` for the iteration AND the while loop check","body":"You can&#39;t use <code>i</code> for the iteration AND the while loop check"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1674585109,"post_id":75225749,"comment_id":132744013,"body_markdown":"This is an endless loop. The outer loop waits for i to reach 100, the inner loop decreases it.","body":"This is an endless loop. The outer loop waits for i to reach 100, the inner loop decreases it."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1674585141,"post_id":75225749,"comment_id":132744020,"body_markdown":"You&#39;re messing with the value of `i` inside the `while` loop.  By the time your program gets out of the `while` loop, you&#39;ve made `i` equal to zero.  But that always obeys the condition of the `for` loop, so the `for` loop never ends.  Maybe you should use two separate variables instead of `i`.","body":"You&#39;re messing with the value of <code>i</code> inside the <code>while</code> loop.  By the time your program gets out of the <code>while</code> loop, you&#39;ve made <code>i</code> equal to zero.  But that always obeys the condition of the <code>for</code> loop, so the <code>for</code> loop never ends.  Maybe you should use two separate variables instead of <code>i</code>."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674585124,"creation_date":1674585124,"answer_id":75225791,"question_id":75225749,"body_markdown":"You&#39;re using `i` for the outer loop but then you also use it for the check and divide it by 10\r\n\r\n\r\n    int counter = 0;\r\n    for (int i = 1; i &lt;= 100; i++) {\r\n        int j = i;\r\n        while (j &gt; 0) {\r\n            int LastDig = j % 10;\r\n            if (LastDig == 9) {\r\n                counter = counter + 1;\r\n            }\r\n            j = j / 10;\r\n        }\r\n    }\r\n    System.out.println(counter);\r\n\r\n---\r\n\r\nDetails\r\n\r\n- `int i = 1` makes i at 1\r\n- `i = i/10` makes i at 0\r\n- `i++` makes i at 1\r\n- `i = i/10` makes i at 0\r\n- `i++` makes i at 1\r\n- *infinite loop because you never each 100*","title":"Count how many number of times a value appears","body":"<p>You're using <code>i</code> for the outer loop but then you also use it for the check and divide it by 10</p>\n<pre><code>int counter = 0;\nfor (int i = 1; i &lt;= 100; i++) {\n    int j = i;\n    while (j &gt; 0) {\n        int LastDig = j % 10;\n        if (LastDig == 9) {\n            counter = counter + 1;\n        }\n        j = j / 10;\n    }\n}\nSystem.out.println(counter);\n</code></pre>\n<hr />\n<p>Details</p>\n<ul>\n<li><code>int i = 1</code> makes i at 1</li>\n<li><code>i = i/10</code> makes i at 0</li>\n<li><code>i++</code> makes i at 1</li>\n<li><code>i = i/10</code> makes i at 0</li>\n<li><code>i++</code> makes i at 1</li>\n<li><em>infinite loop because you never each 100</em></li>\n</ul>\n"}],"owner":{"account_id":27611930,"reputation":3,"user_id":21074860,"display_name":"Shivam Choudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75225791,"answer_count":1,"score":0,"last_activity_date":1674585124,"creation_date":1674584891,"question_id":75225749,"body_markdown":"I want to write a program that tells me how many no. of times a desired value is repeated between 1 to 100 or any other range. Ex:- 9 appears 20 times between 1 to 100.\r\n\r\n```\r\npublic class NumberCal {\r\n    public static void main(String []args){\r\n        int counter = 0;\r\n        for(int i=1; i&lt;=100; i++){\r\n            while(i &gt; 0){ \r\n                int LastDig = i%10;\r\n                if(LastDig == 9){         \r\n                    counter = counter+1 ;     \r\n                    i = i/10;            \r\n                } else{\r\n                    i = i/10;\r\n                }                        \r\n            }     \r\n        }                    \r\n        System.out.println(counter);\r\n    }\r\n}\r\n```\r\n\r\nI tried this but there is no output. Any suggestions?","title":"Count how many number of times a value appears","body":"<p>I want to write a program that tells me how many no. of times a desired value is repeated between 1 to 100 or any other range. Ex:- 9 appears 20 times between 1 to 100.</p>\n<pre><code>public class NumberCal {\n    public static void main(String []args){\n        int counter = 0;\n        for(int i=1; i&lt;=100; i++){\n            while(i &gt; 0){ \n                int LastDig = i%10;\n                if(LastDig == 9){         \n                    counter = counter+1 ;     \n                    i = i/10;            \n                } else{\n                    i = i/10;\n                }                        \n            }     \n        }                    \n        System.out.println(counter);\n    }\n}\n</code></pre>\n<p>I tried this but there is no output. Any suggestions?</p>\n"},{"tags":["java","spring-boot","gitlab","gitlab-ci"],"owner":{"account_id":13613012,"reputation":61,"user_id":9819856,"display_name":"Alan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674584400,"creation_date":1674584400,"question_id":75225655,"body_markdown":"My spring application is throwing this error, when I deploy it using gitlab ci.\r\n\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\r\nIt works fine when I deploy the same container manually. But the error occurs only when app is deployed via gitlab ci.\r\n\r\nI&#39;ve define pool size, in application.properites file.\r\n\r\n    spring.datasource.hikari.minimumIdle=20\r\n    spring.datasource.hikari.maximumPoolSize=30\r\n    spring.datasource.hikari.connectionTimeout=50000\r\n\r\nI dont how else can I troubleshoot this issue.\r\n\r\nmore log.\r\n\r\n    20:00:47.418 [http-nio-8098-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: null                                                                                \r\n    20:00:47.419 [http-nio-8098-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - HikariPool-1 - Connection is not available, request timed out after 30481ms.                                                \r\n    20:00:47.452 [http-nio-8098-exec-10] WARN  g.e.SimpleDataFetcherExceptionHandler - Exception while fetching data (/getCodes) : Could not open JPA EntityManager for transaction; nested exception is org.hiberna\r\n    te.exception.JDBCConnectionException: Unable to acquire JDBC Connection                                                                                                                                              org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Conne\r\n    ction                                                                                                                                                                                                                \r\n            at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467) ~[spring-orm-5.3.7.jar!/:5.3.7]             \r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.7.jar!/:5.3.7]\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.7.jar!/:5.3.7]                                     \r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.7.jar!/:5.3.7]\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.7.jar!/:5.3.7]\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.7.jar!/:5.3.7]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.7.jar!/:5.3.7]\r\n            at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.7.jar!/:5.3.7]                 \r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.7.jar!/:5.3.7]                                               \r\n            at com.idg.idgcore.pricing.app.service.priceCode.PriceCodeApplicationService$$EnhancerBySpringCGLIB$$936d76c1.getAll(&lt;generated&gt;) ~[classes!/:na]                        \r\n            at jdk.internal.reflect.GeneratedMethodAccessor172.invoke(Unknown Source) ~[na:na]                                                                                                                           \r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]                                                                                         \r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]                                                                                                                                       \r\n            at io.leangen.graphql.metadata.execution.SingletonMethodInvoker.execute(SingletonMethodInvoker.java:21) ~[spqr-0.9.9.jar!/:na]     ","title":"springboot Unable to acquire JDBC Connection when deployed with gitlab ci","body":"<p>My spring application is throwing this error, when I deploy it using gitlab ci.</p>\n<pre><code>Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n</code></pre>\n<p>It works fine when I deploy the same container manually. But the error occurs only when app is deployed via gitlab ci.</p>\n<p>I've define pool size, in application.properites file.</p>\n<pre><code>spring.datasource.hikari.minimumIdle=20\nspring.datasource.hikari.maximumPoolSize=30\nspring.datasource.hikari.connectionTimeout=50000\n</code></pre>\n<p>I dont how else can I troubleshoot this issue.</p>\n<p>more log.</p>\n<pre><code>20:00:47.418 [http-nio-8098-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: null                                                                                \n20:00:47.419 [http-nio-8098-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - HikariPool-1 - Connection is not available, request timed out after 30481ms.                                                \n20:00:47.452 [http-nio-8098-exec-10] WARN  g.e.SimpleDataFetcherExceptionHandler - Exception while fetching data (/getCodes) : Could not open JPA EntityManager for transaction; nested exception is org.hiberna\nte.exception.JDBCConnectionException: Unable to acquire JDBC Connection                                                                                                                                              org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Conne\nction                                                                                                                                                                                                                \n        at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467) ~[spring-orm-5.3.7.jar!/:5.3.7]             \n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.7.jar!/:5.3.7]\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.7.jar!/:5.3.7]                                     \n        at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.7.jar!/:5.3.7]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.7.jar!/:5.3.7]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.7.jar!/:5.3.7]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.7.jar!/:5.3.7]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-5.3.7.jar!/:5.3.7]                 \n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.7.jar!/:5.3.7]                                               \n        at com.idg.idgcore.pricing.app.service.priceCode.PriceCodeApplicationService$$EnhancerBySpringCGLIB$$936d76c1.getAll(&lt;generated&gt;) ~[classes!/:na]                        \n        at jdk.internal.reflect.GeneratedMethodAccessor172.invoke(Unknown Source) ~[na:na]                                                                                                                           \n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]                                                                                         \n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]                                                                                                                                       \n        at io.leangen.graphql.metadata.execution.SingletonMethodInvoker.execute(SingletonMethodInvoker.java:21) ~[spqr-0.9.9.jar!/:na]     \n</code></pre>\n"},{"tags":["java","spring-boot","maven","swagger-ui","openapi"],"owner":{"account_id":8608155,"reputation":2562,"user_id":6447573,"display_name":"Ivonet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674584337,"creation_date":1674584337,"question_id":75225644,"body_markdown":"I have a maven project in which I generate most of a spring-boot application based on an OpenApi Contract.\r\n\r\nwhen I had one contract it was easy to do and I only had to implement the delegate, but now I have two contracts to full-fill.\r\n\r\nHere is a somewhat redacted part of my pom.xml file with the openapi plugin part specified:\r\n\r\n```\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;!--    ...--&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;6.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-one&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;inputSpec&gt;project-one/openapi.yaml&lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;basePackage&gt;com.example&lt;/basePackage&gt;\r\n                                &lt;apiPackage&gt;com.example.generated.one.api&lt;/apiPackage&gt;\r\n                                &lt;modelPackage&gt;com.example.generated.one.model&lt;/modelPackage&gt;\r\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                                &lt;apiFirst&gt;false&lt;/apiFirst&gt;\r\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                                &lt;useTags&gt;true&lt;/useTags&gt;\r\n                                &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\r\n                                &lt;additionalModelTypeAnnotations&gt;\r\n                                    @lombok.Builder;\r\n                                    @lombok.AllArgsConstructor(access=lombok.AccessLevel.PRIVATE);\r\n                                    @com.fasterxml.jackson.annotation.JsonInclude(com.fasterxml.jackson.annotation.JsonInclude.Include.NON_NULL)\r\n                                &lt;/additionalModelTypeAnnotations&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-two&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;inputSpec&gt;project-two/openapi.yaml&lt;/inputSpec&gt;\r\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\r\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;basePackage&gt;com.example&lt;/basePackage&gt;\r\n                                &lt;apiPackage&gt;com.example.generated.two.api&lt;/apiPackage&gt;\r\n                                &lt;modelPackage&gt;com.example.generated.two.model&lt;/modelPackage&gt;\r\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                                &lt;apiFirst&gt;false&lt;/apiFirst&gt;\r\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                                &lt;useTags&gt;true&lt;/useTags&gt;\r\n                                &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\r\n                                &lt;additionalModelTypeAnnotations&gt;\r\n                                    @lombok.Builder;\r\n                                    @lombok.AllArgsConstructor(access=lombok.AccessLevel.PRIVATE);\r\n                                    @com.fasterxml.jackson.annotation.JsonInclude(com.fasterxml.jackson.annotation.JsonInclude.Include.NON_NULL)\r\n                                &lt;/additionalModelTypeAnnotations&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;project-one-contract&lt;/artifactId&gt;\r\n                        &lt;version&gt;${project-one-contract.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;project-two-contract&lt;/artifactId&gt;\r\n                        &lt;version&gt;${project-two-contract.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSo I have two executions for two contracts and those contracts live as `project-name/openapi.yaml` files in the dependencies listed in the plugin\r\n\r\nThe following goes wrong, but I have found a work-around for:\r\n\r\n - Both executions generate the complete spring-boot project and where common code exists the last execution overwrites the other. The workaround here was to use the same base package and then the @ComponentScan will still work.\r\n\r\nIs there a better solution for this? I would really love to not have to switch to interfaceOnly mode.\r\n\r\nThe following also goes wrong but I have not found a solution for this one. I could really use some help:\r\n\r\n - the openapi.yaml for the swagger-ui will also overwrite per `execution` so only the last one run will have a swagger-ui interface.\r\n\r\nIs there a solution for this problem? Like maybe aggregate the contracts? or give them different names through configuration and different swagger-ui endpoints? I can not find how to do any of this though?!","title":"Maven OpenApi plugin with multiple contracts and spring generator does not aggregate contracts for the swagger-ui","body":"<p>I have a maven project in which I generate most of a spring-boot application based on an OpenApi Contract.</p>\n<p>when I had one contract it was easy to do and I only had to implement the delegate, but now I have two contracts to full-fill.</p>\n<p>Here is a somewhat redacted part of my pom.xml file with the openapi plugin part specified:</p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;!--    ...--&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;6.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-one&lt;/id&gt;\n                        &lt;goals&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;project-one/openapi.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;configOptions&gt;\n                                &lt;basePackage&gt;com.example&lt;/basePackage&gt;\n                                &lt;apiPackage&gt;com.example.generated.one.api&lt;/apiPackage&gt;\n                                &lt;modelPackage&gt;com.example.generated.one.model&lt;/modelPackage&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;apiFirst&gt;false&lt;/apiFirst&gt;\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                                &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\n                                &lt;additionalModelTypeAnnotations&gt;\n                                    @lombok.Builder;\n                                    @lombok.AllArgsConstructor(access=lombok.AccessLevel.PRIVATE);\n                                    @com.fasterxml.jackson.annotation.JsonInclude(com.fasterxml.jackson.annotation.JsonInclude.Include.NON_NULL)\n                                &lt;/additionalModelTypeAnnotations&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-two&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;project-two/openapi.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;configOptions&gt;\n                                &lt;basePackage&gt;com.example&lt;/basePackage&gt;\n                                &lt;apiPackage&gt;com.example.generated.two.api&lt;/apiPackage&gt;\n                                &lt;modelPackage&gt;com.example.generated.two.model&lt;/modelPackage&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;apiFirst&gt;false&lt;/apiFirst&gt;\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                                &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\n                                &lt;additionalModelTypeAnnotations&gt;\n                                    @lombok.Builder;\n                                    @lombok.AllArgsConstructor(access=lombok.AccessLevel.PRIVATE);\n                                    @com.fasterxml.jackson.annotation.JsonInclude(com.fasterxml.jackson.annotation.JsonInclude.Include.NON_NULL)\n                                &lt;/additionalModelTypeAnnotations&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\n                        &lt;artifactId&gt;project-one-contract&lt;/artifactId&gt;\n                        &lt;version&gt;${project-one-contract.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.example&lt;/groupId&gt;\n                        &lt;artifactId&gt;project-two-contract&lt;/artifactId&gt;\n                        &lt;version&gt;${project-two-contract.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So I have two executions for two contracts and those contracts live as <code>project-name/openapi.yaml</code> files in the dependencies listed in the plugin</p>\n<p>The following goes wrong, but I have found a work-around for:</p>\n<ul>\n<li>Both executions generate the complete spring-boot project and where common code exists the last execution overwrites the other. The workaround here was to use the same base package and then the @ComponentScan will still work.</li>\n</ul>\n<p>Is there a better solution for this? I would really love to not have to switch to interfaceOnly mode.</p>\n<p>The following also goes wrong but I have not found a solution for this one. I could really use some help:</p>\n<ul>\n<li>the openapi.yaml for the swagger-ui will also overwrite per <code>execution</code> so only the last one run will have a swagger-ui interface.</li>\n</ul>\n<p>Is there a solution for this problem? Like maybe aggregate the contracts? or give them different names through configuration and different swagger-ui endpoints? I can not find how to do any of this though?!</p>\n"},{"tags":["java","inheritance","annotations","composition"],"owner":{"account_id":8833180,"reputation":99,"user_id":14504822,"display_name":"MMC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674583997,"creation_date":1674512558,"question_id":75215654,"body_markdown":"I would like to annotate my `@CustomAnnotation` by `@SomeMapping` and I expect CustomAnnotation&#39;s `path` element will overrides `path` annotation element from `SomeMapping`.\r\n\r\n    @interface SomeMapping {\r\n        String path();\r\n    }\r\n\r\n    @SomeMapping\r\n    @interface CustomAnnotation {\r\n        String path();\r\n    }\r\n\r\n    @CustomAnnotation(path=“/stuff”)\r\n    class SomeAnnotatedClass {\r\n      // it should be like @SomeMapping(path=“/stuff”)\r\n    }\r\n\r\n\r\nDoes it actualy possible?\r\n\r\n\r\n     ","title":"Overriding annotations element value by element of annotation","body":"<p>I would like to annotate my <code>@CustomAnnotation</code> by <code>@SomeMapping</code> and I expect CustomAnnotation's <code>path</code> element will overrides <code>path</code> annotation element from <code>SomeMapping</code>.</p>\n<pre><code>@interface SomeMapping {\n    String path();\n}\n\n@SomeMapping\n@interface CustomAnnotation {\n    String path();\n}\n\n@CustomAnnotation(path=“/stuff”)\nclass SomeAnnotatedClass {\n  // it should be like @SomeMapping(path=“/stuff”)\n}\n</code></pre>\n<p>Does it actualy possible?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674592655,"post_id":75225473,"comment_id":132746274,"body_markdown":"This error makes no sense. You should be able to use ACTION_VIEW a hundred times. Which pdf viewer app is chosen by the user?","body":"This error makes no sense. You should be able to use ACTION_VIEW a hundred times. Which pdf viewer app is chosen by the user?"},{"owner":{"account_id":8622719,"reputation":107,"user_id":6457016,"display_name":"Neeraj vishwakarma"},"score":0,"creation_date":1674617665,"post_id":75225473,"comment_id":132751027,"body_markdown":"Pdf reader app is being used to open the pdf, it opens the pdf but with blank page nothing shows up there. I&#39;ve tried other apps as well but its the same behavior.","body":"Pdf reader app is being used to open the pdf, it opens the pdf but with blank page nothing shows up there. I&#39;ve tried other apps as well but its the same behavior."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674628828,"post_id":75225473,"comment_id":132752614,"body_markdown":"??? That does not match: `This is working fine when user open the file inital few times but`.","body":"??? That does not match: <code>This is working fine when user open the file inital few times but</code>."},{"owner":{"account_id":8622719,"reputation":107,"user_id":6457016,"display_name":"Neeraj vishwakarma"},"score":0,"creation_date":1674629022,"post_id":75225473,"comment_id":132752645,"body_markdown":"yes initial few times it loads perfectly with proper content.. after few times or a day after when we try it shows blank page","body":"yes initial few times it loads perfectly with proper content.. after few times or a day after when we try it shows blank page"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674629437,"post_id":75225473,"comment_id":132752707,"body_markdown":"That makes no sense. Well read my first comment..","body":"That makes no sense. Well read my first comment.."},{"owner":{"account_id":1235493,"reputation":939,"user_id":1199154,"accept_rate":100,"display_name":"Sandeep Yohans"},"score":0,"creation_date":1683537745,"post_id":75225473,"comment_id":134376555,"body_markdown":"@Neerajvishwakarma did u find any solution for this?","body":"@Neerajvishwakarma did u find any solution for this?"},{"owner":{"account_id":8622719,"reputation":107,"user_id":6457016,"display_name":"Neeraj vishwakarma"},"score":2,"creation_date":1686207106,"post_id":75225473,"comment_id":134768078,"body_markdown":"@SandeepYohans No solution yet but I WPS Office is able to open that pdf.","body":"@SandeepYohans No solution yet but I WPS Office is able to open that pdf."}],"owner":{"account_id":8622719,"reputation":107,"user_id":6457016,"display_name":"Neeraj vishwakarma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674583256,"creation_date":1674583256,"question_id":75225473,"body_markdown":"In  my Android app, I am downloading pdf on button click in users mobile external storage(download directory). Once downloaded I am giving option to open the file and allowing user to choose among pdf viewers available usin ActionView Intent.Below is my code -\r\n```\r\nval uri: Uri = FileProvider.getUriForFile(binding.root.context,\r\n                BuildConfig.APPLICATION_ID + &quot;.fileprovider&quot;,Storage.getFile(&quot;${fileName}.pdf&quot;))\r\n\r\nval intent = Intent(Intent.ACTION_VIEW)\r\nintent.setDataAndType(uri, &quot;application/pdf&quot;)\r\nintent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n                     \r\nbinding.root.context.startActivity(intent)\r\n```\r\n\r\nThis is working fine when user open the file inital few times but after that file dosen&#39;t open. Getting below error:\r\nCan&#39;t load file (doesn&#39;t open)  Display Data [PDF : 0.Paper 1.pdf] +ContentOpenable, uri: content://com.applications.koushik.ugcnetpractice.fileprovider/external_files/Download/0.Paper%201.pdf, has subtitles: false\r\nError getting package info: com.applications.koushik.ugcnetpractice\r\n\r\nChecked that file exsist in the location also able to open it directly.\r\n\r\nBelow is my Provider tag from Mainifest file:\r\n\r\n```\r\n&lt;provider\r\n    android:name=&quot;androidx.core.content.FileProvider&quot;\r\n    android:authorities=&quot;com.applications.koushik.ugcnetpractice.fileprovider&quot;\r\n    android:exported=&quot;false&quot;\r\n    android:grantUriPermissions=&quot;true&quot;&gt;\r\n    &lt;meta-data\r\n     android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n     android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n&lt;/provider&gt;\r\n```\r\n\r\nHere is my provider_paths.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths&gt;\r\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n&lt;/paths&gt;\r\n```\r\n\r\n\r\nPlease help me in resolving this error.","title":"Can&#39;t load file (doesn&#39;t open) Display Data +ContentOpenable using ACTION_VIEW intent in android","body":"<p>In  my Android app, I am downloading pdf on button click in users mobile external storage(download directory). Once downloaded I am giving option to open the file and allowing user to choose among pdf viewers available usin ActionView Intent.Below is my code -</p>\n<pre><code>val uri: Uri = FileProvider.getUriForFile(binding.root.context,\n                BuildConfig.APPLICATION_ID + &quot;.fileprovider&quot;,Storage.getFile(&quot;${fileName}.pdf&quot;))\n\nval intent = Intent(Intent.ACTION_VIEW)\nintent.setDataAndType(uri, &quot;application/pdf&quot;)\nintent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n                     \nbinding.root.context.startActivity(intent)\n</code></pre>\n<p>This is working fine when user open the file inital few times but after that file dosen't open. Getting below error:\nCan't load file (doesn't open)  Display Data [PDF : 0.Paper 1.pdf] +ContentOpenable, uri: content://com.applications.koushik.ugcnetpractice.fileprovider/external_files/Download/0.Paper%201.pdf, has subtitles: false\nError getting package info: com.applications.koushik.ugcnetpractice</p>\n<p>Checked that file exsist in the location also able to open it directly.</p>\n<p>Below is my Provider tag from Mainifest file:</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;\n    android:authorities=&quot;com.applications.koushik.ugcnetpractice.fileprovider&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n    &lt;meta-data\n     android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n     android:resource=&quot;@xml/provider_paths&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>Here is my provider_paths.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Please help me in resolving this error.</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","amqp"],"comments":[{"owner":{"account_id":1575381,"reputation":12553,"user_id":1461984,"display_name":"pinepain"},"score":1,"creation_date":1448313694,"post_id":33880410,"comment_id":55526211,"body_markdown":"In spring config you have `activemq.user=test` but you connects to rabbitmq, not activemq and rabbitmq logs shows that you connect under `guest` username","body":"In spring config you have <code>activemq.user=test</code> but you connects to rabbitmq, not activemq and rabbitmq logs shows that you connect under <code>guest</code> username"}],"answers":[{"tags":[],"owner":{"account_id":4250462,"reputation":4103,"user_id":3477712,"accept_rate":84,"display_name":"code"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1448320583,"creation_date":1448320583,"answer_id":33882597,"question_id":33880410,"body_markdown":"Spring Properties includes specific settings for RabbitMQ. Try replacing your ActiveMQ config with below.\r\n\r\nExample:\r\n\r\n    spring.rabbitmq.host = 127.0.0.1\r\n    spring.rabbitmq.port = 5672\r\n    spring.rabbitmq.username = guest\r\n    spring.rabbitmq.password = guest","title":"spring boot cannot connect to rabbitmq","body":"<p>Spring Properties includes specific settings for RabbitMQ. Try replacing your ActiveMQ config with below.</p>\n\n<p>Example:</p>\n\n<pre><code>spring.rabbitmq.host = 127.0.0.1\nspring.rabbitmq.port = 5672\nspring.rabbitmq.username = guest\nspring.rabbitmq.password = guest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8498199,"reputation":4123,"user_id":6372139,"display_name":"Daniel Bubenheim"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1674583035,"creation_date":1466336440,"answer_id":37906832,"question_id":33880410,"body_markdown":"src/main/resources/application.yml\r\n\r\n    spring:\r\n      rabbitmq:\r\n        username: guest\r\n        password: guest\r\n        host: rabbitmq\r\n        port: 5672\r\n        virtual-host: someVirtualHost\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html","title":"spring boot cannot connect to rabbitmq","body":"<p>src/main/resources/application.yml</p>\n<pre><code>spring:\n  rabbitmq:\n    username: guest\n    password: guest\n    host: rabbitmq\n    port: 5672\n    virtual-host: someVirtualHost\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html</a></p>\n"},{"tags":[],"owner":{"account_id":3583904,"reputation":53,"user_id":2991480,"display_name":"Muni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515143984,"creation_date":1515143984,"answer_id":48110521,"question_id":33880410,"body_markdown":"Using default setting up with springboot is good but if we want to add external rabbit instance to spring container then we should follow as below \r\n\r\napplication.yml\r\n\r\n    rabbitmq:\r\n      host: &#39;hostname&#39;\r\n      vhost: &#39;vhostname&#39;\r\n      user: &#39;userName&#39;\r\n      password: &#39;passwd&#39;\r\n      port: 5672\r\n\r\nConfig class\r\n\r\n            @Configuration\r\n        public class RabbitConfig {\r\n            \r\n            @Value(&quot;${rabbitmq.host}&quot;)\r\n            private String host;\r\n            @Value(&quot;${rabbitmq.vhost}&quot;)\r\n            private String vhost;\r\n            @Value(&quot;${rabbitmq.user}&quot;)\r\n            private String user;\r\n            @Value(&quot;${rabbitmq.password}&quot;)\r\n            private String password;\r\n            @Value(&quot;${rabbitmq.port}&quot;)\r\n            private int port;\r\n            \r\n            @Bean\r\n            public ConnectionFactory connectionFactory() {\r\n                CachingConnectionFactory factory = new CachingConnectionFactory();\r\n                System.out.println(&quot;rmqhost is &quot; + host);\r\n                factory.setHost(host);\r\n                factory.setVirtualHost(vhost);\r\n                factory.setUsername(user);\r\n                factory.setPassword(password);\r\n                factory.setPort(port);\r\n                return factory;\r\n            }\r\n            \r\n            @Bean\r\n            public RabbitAdmin rabbitAdmin() {\r\n                return new RabbitAdmin(connectionFactory());\r\n            }\r\n            \r\n        }\r\n\r\n \r\nand we can create Bean for either rabbitmqtemplate or rabbitmqListener","title":"spring boot cannot connect to rabbitmq","body":"<p>Using default setting up with springboot is good but if we want to add external rabbit instance to spring container then we should follow as below </p>\n\n<p>application.yml</p>\n\n<pre><code>rabbitmq:\n  host: 'hostname'\n  vhost: 'vhostname'\n  user: 'userName'\n  password: 'passwd'\n  port: 5672\n</code></pre>\n\n<p>Config class</p>\n\n<pre><code>        @Configuration\n    public class RabbitConfig {\n\n        @Value(\"${rabbitmq.host}\")\n        private String host;\n        @Value(\"${rabbitmq.vhost}\")\n        private String vhost;\n        @Value(\"${rabbitmq.user}\")\n        private String user;\n        @Value(\"${rabbitmq.password}\")\n        private String password;\n        @Value(\"${rabbitmq.port}\")\n        private int port;\n\n        @Bean\n        public ConnectionFactory connectionFactory() {\n            CachingConnectionFactory factory = new CachingConnectionFactory();\n            System.out.println(\"rmqhost is \" + host);\n            factory.setHost(host);\n            factory.setVirtualHost(vhost);\n            factory.setUsername(user);\n            factory.setPassword(password);\n            factory.setPort(port);\n            return factory;\n        }\n\n        @Bean\n        public RabbitAdmin rabbitAdmin() {\n            return new RabbitAdmin(connectionFactory());\n        }\n\n    }\n</code></pre>\n\n<p>and we can create Bean for either rabbitmqtemplate or rabbitmqListener</p>\n"},{"tags":[],"owner":{"account_id":13291674,"reputation":865,"user_id":11423910,"display_name":"soufiane ELAMMARI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587993992,"creation_date":1586131078,"answer_id":61051065,"question_id":33880410,"body_markdown":"Try to change your rabbitMQ configuration in spring boot properties  :\r\n\r\n    spring.rabbitmq.host = 127.0.0.1\r\n    spring.rabbitmq.port = 5672\r\n    spring.rabbitmq.username = guest\r\n    spring.rabbitmq.password = guest","title":"spring boot cannot connect to rabbitmq","body":"<p>Try to change your rabbitMQ configuration in spring boot properties  :</p>\n\n<pre><code>spring.rabbitmq.host = 127.0.0.1\nspring.rabbitmq.port = 5672\nspring.rabbitmq.username = guest\nspring.rabbitmq.password = guest\n</code></pre>\n"}],"owner":{"account_id":287538,"reputation":6899,"user_id":587406,"accept_rate":88,"display_name":"Luiz E."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33882597,"answer_count":4,"score":1,"last_activity_date":1674583035,"creation_date":1448311698,"question_id":33880410,"body_markdown":"I have a RabbitMQ server like this  \r\n[![enter image description here][1]][1]\r\n\r\nWhen I try to connect to this server via Spring Boot amqp, I see `com.rabbitmq.client.AuthenticationFailureException: ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.`\r\n\r\nMy configs are this one\r\n\r\n    # Message\r\n    spring.activemq.broker-url=tcp://127.0.0.1:5672\r\n    spring.activemq.user=test\r\n    spring.activemq.password=test\r\n\r\nYes, the user test can access Virtual Hosts on / and yes, I can login with test/test on RabbitMQ GUI\r\n\r\n**EDIT**\r\n\r\nLooking at the rabbitmq logs, I saw this\r\n\r\n    {handshake_error,starting,0,\r\n                 {amqp_error,access_refused,\r\n                             &quot;PLAIN login refused: user &#39;guest&#39; - invalid credentials&quot;,\r\n                             &#39;connection.start_ok&#39;}}\r\n\r\nseems like Spring is ignoring my configs and trying to connect with `guest`\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/HgGW9.png","title":"spring boot cannot connect to rabbitmq","body":"<p>I have a RabbitMQ server like this<br>\n<a href=\"https://i.stack.imgur.com/HgGW9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HgGW9.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I try to connect to this server via Spring Boot amqp, I see <code>com.rabbitmq.client.AuthenticationFailureException: ACCESS_REFUSED - Login was refused using authentication mechanism PLAIN. For details see the broker logfile.</code></p>\n\n<p>My configs are this one</p>\n\n<pre><code># Message\nspring.activemq.broker-url=tcp://127.0.0.1:5672\nspring.activemq.user=test\nspring.activemq.password=test\n</code></pre>\n\n<p>Yes, the user test can access Virtual Hosts on / and yes, I can login with test/test on RabbitMQ GUI</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Looking at the rabbitmq logs, I saw this</p>\n\n<pre><code>{handshake_error,starting,0,\n             {amqp_error,access_refused,\n                         \"PLAIN login refused: user 'guest' - invalid credentials\",\n                         'connection.start_ok'}}\n</code></pre>\n\n<p>seems like Spring is ignoring my configs and trying to connect with <code>guest</code></p>\n"},{"tags":["java","oracle","ldap"],"comments":[{"owner":{"account_id":2434952,"reputation":498,"user_id":4971473,"accept_rate":60,"display_name":"Hamza Tahiri"},"score":1,"creation_date":1604497283,"post_id":64660799,"comment_id":114364505,"body_markdown":"export the old entry to an ldif file, then create the new one by changing the DN, and finnaly delete the old entry","body":"export the old entry to an ldif file, then create the new one by changing the DN, and finnaly delete the old entry"},{"owner":{"account_id":5373911,"reputation":157,"user_id":4281517,"display_name":"Vihanga Liyanage"},"score":0,"creation_date":1604739846,"post_id":64660799,"comment_id":114443477,"body_markdown":"That&#39;s what I did for the moment! But was wondering whether we have something more straightforward. :)","body":"That&#39;s what I did for the moment! But was wondering whether we have something more straightforward. :)"}],"answers":[{"tags":[],"owner":{"account_id":27586394,"reputation":79,"user_id":21054492,"display_name":"ZoltanB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674582826,"creation_date":1674582826,"answer_id":75225391,"question_id":64660799,"body_markdown":"Please modify try Block:\r\n\r\n    try {\r\n        ctx = new InitialDirContext(environment);\r\n        String oldDn = &quot;uid=wso21,ou=wso2,ou=Users,dc=WSO2,dc=ORG&quot;;\r\n        String newDn = &quot;uid=wso21,ou=vodafone,ou=Users,dc=WSO2,dc=ORG&quot;;\r\n        String newCn=&quot;newCN&quot;;\r\n        String newSn=&quot;newSN&quot;;\r\n        Attributes attrs = ctx.getAttributes(oldDn);\r\n    \tctx.rename(oldDn,newDn);\r\n        attrs.remove(&quot;cn&quot;);\r\n        attrs.remove(&quot;sn&quot;);\r\n        //if needed remove more attributes\r\n     \tattrs.put(&quot;cn&quot;,newCn);\r\n        attrs.put(&quot;sn&quot;,newSn);\r\n        //if needed add more attributes\r\n    \tctx.modifyAttributes(newDn, DirContext.ADD_ATTRIBUTE, attrs);\r\n    } ","title":"Oracle LDAP Move User to a Different OU with Java","body":"<p>Please modify try Block:</p>\n<pre><code>try {\n    ctx = new InitialDirContext(environment);\n    String oldDn = &quot;uid=wso21,ou=wso2,ou=Users,dc=WSO2,dc=ORG&quot;;\n    String newDn = &quot;uid=wso21,ou=vodafone,ou=Users,dc=WSO2,dc=ORG&quot;;\n    String newCn=&quot;newCN&quot;;\n    String newSn=&quot;newSN&quot;;\n    Attributes attrs = ctx.getAttributes(oldDn);\n    ctx.rename(oldDn,newDn);\n    attrs.remove(&quot;cn&quot;);\n    attrs.remove(&quot;sn&quot;);\n    //if needed remove more attributes\n    attrs.put(&quot;cn&quot;,newCn);\n    attrs.put(&quot;sn&quot;,newSn);\n    //if needed add more attributes\n    ctx.modifyAttributes(newDn, DirContext.ADD_ATTRIBUTE, attrs);\n} \n</code></pre>\n"}],"owner":{"account_id":5373911,"reputation":157,"user_id":4281517,"display_name":"Vihanga Liyanage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75225391,"answer_count":1,"score":1,"last_activity_date":1674582826,"creation_date":1604398454,"question_id":64660799,"body_markdown":"I&#39;m looking for a way to change the OU of a user in my Oracle LDAP, using Java. So far I found only the ***DirContext.rename*** method, but that results in a corrupted LDAP entry. Below is the code I tried.\r\n\r\n        Hashtable&lt;String, String&gt; environment = new Hashtable&lt;String, String&gt;();\r\n        environment.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n        environment.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n        environment.put(Context.REFERRAL, &quot;follow&quot;);\r\n        environment.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389&quot;);\r\n        environment.put(Context.SECURITY_PRINCIPAL, &quot;uid=admin,ou=system&quot;);\r\n        environment.put(Context.SECURITY_CREDENTIALS, &quot;admin&quot;);\r\n\r\n        DirContext ctx = null;\r\n        try {\r\n            ctx = new InitialDirContext(environment);\r\n            String oldCn = &quot;uid=wso21,ou=wso2,ou=Users,dc=WSO2,dc=ORG&quot;;\r\n            String newCn = &quot;uid=wso21,ou=vodafone,ou=Users,dc=WSO2,dc=ORG&quot;;\r\n            ctx.rename(oldCn, newCn);\r\n        } catch (NamingException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                ctx.close();\r\n            } catch (NamingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nAfter this is executed, the moved entry is there but no attributes are present.\r\n\r\nTIA!","title":"Oracle LDAP Move User to a Different OU with Java","body":"<p>I'm looking for a way to change the OU of a user in my Oracle LDAP, using Java. So far I found only the <em><strong>DirContext.rename</strong></em> method, but that results in a corrupted LDAP entry. Below is the code I tried.</p>\n<pre><code>    Hashtable&lt;String, String&gt; environment = new Hashtable&lt;String, String&gt;();\n    environment.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n    environment.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n    environment.put(Context.REFERRAL, &quot;follow&quot;);\n    environment.put(Context.PROVIDER_URL, &quot;ldap://localhost:10389&quot;);\n    environment.put(Context.SECURITY_PRINCIPAL, &quot;uid=admin,ou=system&quot;);\n    environment.put(Context.SECURITY_CREDENTIALS, &quot;admin&quot;);\n\n    DirContext ctx = null;\n    try {\n        ctx = new InitialDirContext(environment);\n        String oldCn = &quot;uid=wso21,ou=wso2,ou=Users,dc=WSO2,dc=ORG&quot;;\n        String newCn = &quot;uid=wso21,ou=vodafone,ou=Users,dc=WSO2,dc=ORG&quot;;\n        ctx.rename(oldCn, newCn);\n    } catch (NamingException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            ctx.close();\n        } catch (NamingException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>After this is executed, the moved entry is there but no attributes are present.</p>\n<p>TIA!</p>\n"},{"tags":["java","jdbi3"],"answers":[{"tags":[],"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674582695,"creation_date":1674582695,"answer_id":75225367,"question_id":75165002,"body_markdown":"Resolved by updating to the latest 3.x. It appears this is a newly added feature.\r\n\r\n```groovy\r\n    final JDBI = &#39;3.35.0&#39;\r\n    api &quot;org.jdbi:jdbi3-core:${JDBI}&quot;\r\n    api &quot;org.jdbi:jdbi3-sqlobject:${JDBI}&quot;\r\n    api &quot;org.jdbi:jdbi3-stringtemplate4:${JDBI}&quot;\r\n```","title":"JDBI3 SqlObject Consumer: How to fix &quot;No Mapper Registered&quot; error?","body":"<p>Resolved by updating to the latest 3.x. It appears this is a newly added feature.</p>\n<pre><code>    final JDBI = '3.35.0'\n    api &quot;org.jdbi:jdbi3-core:${JDBI}&quot;\n    api &quot;org.jdbi:jdbi3-sqlobject:${JDBI}&quot;\n    api &quot;org.jdbi:jdbi3-stringtemplate4:${JDBI}&quot;\n</code></pre>\n"}],"owner":{"account_id":1416081,"reputation":101,"user_id":1341731,"display_name":"Michael Conrad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674582695,"creation_date":1674074067,"question_id":75165002,"body_markdown":"What do I need to do to fix &quot;No Mapper Registered&quot; when trying to Stream a result set from a SqlObject DAO? The method is annotated with @RegisterBeanMapper and the documentation seems incomplete.\r\n\r\nAccording to https://jdbi.org/#_consumer_arguments:\r\n\r\n### 15.1.3. Consumer Arguments\r\n\r\n&gt; As a special case, it is possible to use a Consumer&lt;T&gt; argument in addition to other bound arguments.\r\n&gt;\r\n&gt; Unless the type T is a Stream or an Iterator, the consumer is executed once for each row in the result set. The static type of parameter T determines the row type.\r\n&gt;\r\n&gt; If the consumer implements Consumer&lt;Iterator&lt;T&gt;&gt;, or Consumer&lt;Stream&lt;T&gt;&gt;, then the consumer is executed once with the Iterator or Stream holding the results. The static type of parameter T determines the mapped row type here as well.\r\n&gt; When using a consumer argument with an iterator or a stream, Jdbi will manage and close them after the callback completes.\r\n\r\nI&#39;m using the following in a DAO interface:\r\n\r\n```Java\r\n\r\n    @SqlQuery(&quot; SELECT id, title FROM &quot; + TABLE_XML_RECORDS //\r\n        + &quot; WHERE&quot; //\r\n        + &quot;  issuedate IS NULL&quot; //\r\n        + &quot;  AND sort_date &lt;= :issueweek&quot; //\r\n        + &quot;  AND sort_date &gt;= :oldest&quot; //\r\n        + &quot;  AND sort_date IS NOT NULL&quot; //\r\n        + &quot; ORDER BY sort_date DESC&quot;)\r\n        @RegisterBeanMapper(IdTitle.class)\r\n        void getRecordIdsFor(@Bind(&quot;issueweek&quot;) LocalDate issueweek, @Bind(&quot;oldest&quot;) LocalDate oldestSortDate, java.util.function.Consumer&lt;Stream&lt;IdTitle&gt;&gt; consumer);\r\n\r\n```\r\n\r\nBut I&#39;m getting:\r\n\r\n```Java\r\n\r\n    No mapper registered for type java.util.stream.Stream&lt;clarivate.mariadb.models.IdTitle&gt;\r\n\r\n```\r\n\r\nI&#39;ve tried searching for code snippets to go by, but my search foo is failing and the documentation does not contain a simple concrete example to go by.\r\n\r\n\r\n","title":"JDBI3 SqlObject Consumer: How to fix &quot;No Mapper Registered&quot; error?","body":"<p>What do I need to do to fix &quot;No Mapper Registered&quot; when trying to Stream a result set from a SqlObject DAO? The method is annotated with @RegisterBeanMapper and the documentation seems incomplete.</p>\n<p>According to <a href=\"https://jdbi.org/#_consumer_arguments\" rel=\"nofollow noreferrer\">https://jdbi.org/#_consumer_arguments</a>:</p>\n<h3>15.1.3. Consumer Arguments</h3>\n<blockquote>\n<p>As a special case, it is possible to use a Consumer argument in addition to other bound arguments.</p>\n<p>Unless the type T is a Stream or an Iterator, the consumer is executed once for each row in the result set. The static type of parameter T determines the row type.</p>\n<p>If the consumer implements Consumer&lt;Iterator&gt;, or Consumer&lt;Stream&gt;, then the consumer is executed once with the Iterator or Stream holding the results. The static type of parameter T determines the mapped row type here as well.\nWhen using a consumer argument with an iterator or a stream, Jdbi will manage and close them after the callback completes.</p>\n</blockquote>\n<p>I'm using the following in a DAO interface:</p>\n<pre><code>\n    @SqlQuery(&quot; SELECT id, title FROM &quot; + TABLE_XML_RECORDS //\n        + &quot; WHERE&quot; //\n        + &quot;  issuedate IS NULL&quot; //\n        + &quot;  AND sort_date &lt;= :issueweek&quot; //\n        + &quot;  AND sort_date &gt;= :oldest&quot; //\n        + &quot;  AND sort_date IS NOT NULL&quot; //\n        + &quot; ORDER BY sort_date DESC&quot;)\n        @RegisterBeanMapper(IdTitle.class)\n        void getRecordIdsFor(@Bind(&quot;issueweek&quot;) LocalDate issueweek, @Bind(&quot;oldest&quot;) LocalDate oldestSortDate, java.util.function.Consumer&lt;Stream&lt;IdTitle&gt;&gt; consumer);\n\n</code></pre>\n<p>But I'm getting:</p>\n<pre><code>\n    No mapper registered for type java.util.stream.Stream&lt;clarivate.mariadb.models.IdTitle&gt;\n\n</code></pre>\n<p>I've tried searching for code snippets to go by, but my search foo is failing and the documentation does not contain a simple concrete example to go by.</p>\n"},{"tags":["java","date","java-time","date-parsing","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674560567,"post_id":75188206,"comment_id":132735348,"body_markdown":"You haven’t had much luck with attention to your question. I guess this is because you forgot to add the java tag. I added it for you this time.","body":"You haven’t had much luck with attention to your question. I guess this is because you forgot to add the java tag. I added it for you this time."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674560775,"post_id":75188206,"comment_id":132735417,"body_markdown":"You need formatting more than parsing. Use `LocalDate.parse(date)` without the formatter for parsing. Then set `dueDate` to `localDate.format(dateTimeFormatter)`. I got `jan. 25, 02023` in my locale. I recommend you specify which locale you want. You may also use `yyyy` instead of `yyyyy` for 4 digit year.","body":"You need formatting more than parsing. Use <code>LocalDate.parse(date)</code> without the formatter for parsing. Then set <code>dueDate</code> to <code>localDate.format(dateTimeFormatter)</code>. I got <code>jan. 25, 02023</code> in my locale. I recommend you specify which locale you want. You may also use <code>yyyy</code> instead of <code>yyyyy</code> for 4 digit year."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674630532,"post_id":75188206,"comment_id":132752947,"body_markdown":"For the vast majority of purposes you should not convert your date from a string in one format to a string in a different format. You should keep our date in a `LocalDate`. When you receive string input, parse it into a `LocalDate` first thing. Only when you need to give string output, format the `LocalDate` into a new string in the desired format.","body":"For the vast majority of purposes you should not convert your date from a string in one format to a string in a different format. You should keep our date in a <code>LocalDate</code>. When you receive string input, parse it into a <code>LocalDate</code> first thing. Only when you need to give string output, format the <code>LocalDate</code> into a new string in the desired format."}],"answers":[{"tags":[],"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674562930,"creation_date":1674562930,"answer_id":75221421,"question_id":75188206,"body_markdown":"You need 2 different `DateTimeFormatter` one to parse your input String into a LocalDate. Then a second to format your LocalDate into the wanted String.\r\n\r\n    String inputString = &quot;2023-01-25&quot;;\r\n    DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    LocalDate date = LocalDate.parse(inputString, parser);\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyy&quot;);\r\n    String outputString = date.format(formatter);\r\n    System.out.println(outputString );","title":"java.time.format.DateTimeParseException: Text &#39;2023-01-25&#39; could not be parsed at index 0","body":"<p>You need 2 different <code>DateTimeFormatter</code> one to parse your input String into a LocalDate. Then a second to format your LocalDate into the wanted String.</p>\n<pre><code>String inputString = &quot;2023-01-25&quot;;\nDateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nLocalDate date = LocalDate.parse(inputString, parser);\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyy&quot;);\nString outputString = date.format(formatter);\nSystem.out.println(outputString );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674563076,"creation_date":1674563076,"answer_id":75221456,"question_id":75188206,"body_markdown":"Your format that you created `DateTimeFormatter.ofPattern(&quot;MMM dd, yyyyy&quot;)` is how you want to display your date. Yet you attempt to parse the String `&quot;2023-01-25&quot;` to `LocalDate` with your format and this obviously fails since your format expects the String to start with 3-letter month name but it starts with &quot;2023&quot;. So you need to create 2 formats - one for parsing a String to LocalDate and in your case the pattern should be `&quot;yyyy-MM-dd&quot;`. Once you get your LocalDate you can format it to String with your formatter \r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyyy&quot;);\r\n    String outputString = date.format(formatter);\r\n","title":"java.time.format.DateTimeParseException: Text &#39;2023-01-25&#39; could not be parsed at index 0","body":"<p>Your format that you created <code>DateTimeFormatter.ofPattern(&quot;MMM dd, yyyyy&quot;)</code> is how you want to display your date. Yet you attempt to parse the String <code>&quot;2023-01-25&quot;</code> to <code>LocalDate</code> with your format and this obviously fails since your format expects the String to start with 3-letter month name but it starts with &quot;2023&quot;. So you need to create 2 formats - one for parsing a String to LocalDate and in your case the pattern should be <code>&quot;yyyy-MM-dd&quot;</code>. Once you get your LocalDate you can format it to String with your formatter</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyyy&quot;);\nString outputString = date.format(formatter);\n</code></pre>\n"}],"owner":{"account_id":8326614,"reputation":1,"user_id":6256516,"display_name":"Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674582486,"answer_count":2,"score":0,"last_activity_date":1674582681,"creation_date":1674240347,"question_id":75188206,"body_markdown":"I am getting error as &quot;java.time.format.DateTimeParseException: Text &#39;2023-01-25&#39; could not be parsed at index 0&quot; when passing string &quot;2023-01-25&quot; to parse method.\r\n\r\n            String date = &quot;2023-01-25&quot;;\r\n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyyy&quot;);\r\n            LocalDate localDate = LocalDate.parse(date, dateTimeFormatter);\r\n            String dueDate = localDate.toString();\r\n            System.out.println(dueDate);\r\n\r\nI want to display result as &quot;Jan 25, 2023&quot;","title":"java.time.format.DateTimeParseException: Text &#39;2023-01-25&#39; could not be parsed at index 0","body":"<p>I am getting error as &quot;java.time.format.DateTimeParseException: Text '2023-01-25' could not be parsed at index 0&quot; when passing string &quot;2023-01-25&quot; to parse method.</p>\n<pre><code>        String date = &quot;2023-01-25&quot;;\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MMM dd, yyyyy&quot;);\n        LocalDate localDate = LocalDate.parse(date, dateTimeFormatter);\n        String dueDate = localDate.toString();\n        System.out.println(dueDate);\n</code></pre>\n<p>I want to display result as &quot;Jan 25, 2023&quot;</p>\n"},{"tags":["java","postman","linkedin-api","ugc"],"answers":[{"tags":[],"owner":{"account_id":26005788,"reputation":5,"user_id":19715509,"display_name":"Liudmila Zavyalova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674582681,"creation_date":1674582681,"answer_id":75225366,"question_id":71885271,"body_markdown":"I had such a mistake. I used wrong value from https://api.linkedin.com/v2/me request answer. You need to add `id` in your request query if you haven&#39;t already, \r\nfor example \r\n\r\n`https://api.linkedin.com/v2/me?projection=(id,localizedFirstName,localizedLastName)`\r\n\r\nalso you need to use value from id field of JSON answer:\r\n\r\n    {&quot;id\\&quot;:\\&quot;XyyyyXXXXX\\&quot;}\r\nIt will be some kind of value with numbers and letters, not just numbers.","title":"LinkedIn UGC Post Method","body":"<p>I had such a mistake. I used wrong value from <a href=\"https://api.linkedin.com/v2/me\" rel=\"nofollow noreferrer\">https://api.linkedin.com/v2/me</a> request answer. You need to add <code>id</code> in your request query if you haven't already,\nfor example</p>\n<p><code>https://api.linkedin.com/v2/me?projection=(id,localizedFirstName,localizedLastName)</code></p>\n<p>also you need to use value from id field of JSON answer:</p>\n<pre><code>{&quot;id\\&quot;:\\&quot;XyyyyXXXXX\\&quot;}\n</code></pre>\n<p>It will be some kind of value with numbers and letters, not just numbers.</p>\n"}],"owner":{"account_id":24949038,"reputation":11,"user_id":18814073,"display_name":"Akshay Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674582681,"creation_date":1650032826,"question_id":71885271,"body_markdown":"I am trying to post a text on LinkedIn using UGC through Postman.\r\n\r\nHere is my request body:\r\n```\r\n{\r\n    &quot;author&quot;: &quot;urn:li:person:{uid of my account}&quot;,\r\n    &quot;lifecycleState&quot;: &quot;PUBLISHED&quot;,\r\n    &quot;specificContent&quot;: {\r\n        &quot;com.linkedin.ugc.ShareContent&quot;: {\r\n            &quot;shareCommentary&quot;: {\r\n                &quot;text&quot;: &quot;Hello World! This is my first Share on LinkedIn!&quot;\r\n            },\r\n            &quot;shareMediaCategory&quot;: &quot;NONE&quot;\r\n        }\r\n    },\r\n    &quot;visibility&quot;: {\r\n        &quot;com.linkedin.ugc.MemberNetworkVisibility&quot;: &quot;PUBLIC&quot;\r\n    }\r\n}\r\n```\r\n\r\nNote: `uid` of my account is fetched through - https://api.linkedin.com/v2/me\r\n\r\n\r\nThe response I am getting is:\r\n```\r\n{\r\n    &quot;message&quot;: &quot;ERROR :: /author :: \\&quot;urn:li:person:oQRNppEnm\\&quot; does not match urn:li:company:\\\\d+|urn:li:member:\\\\d+\\n&quot;,\r\n    &quot;status&quot;: 422\r\n}\r\n```\r\n\r\nCan anyone please help out here?\r\n","title":"LinkedIn UGC Post Method","body":"<p>I am trying to post a text on LinkedIn using UGC through Postman.</p>\n<p>Here is my request body:</p>\n<pre><code>{\n    &quot;author&quot;: &quot;urn:li:person:{uid of my account}&quot;,\n    &quot;lifecycleState&quot;: &quot;PUBLISHED&quot;,\n    &quot;specificContent&quot;: {\n        &quot;com.linkedin.ugc.ShareContent&quot;: {\n            &quot;shareCommentary&quot;: {\n                &quot;text&quot;: &quot;Hello World! This is my first Share on LinkedIn!&quot;\n            },\n            &quot;shareMediaCategory&quot;: &quot;NONE&quot;\n        }\n    },\n    &quot;visibility&quot;: {\n        &quot;com.linkedin.ugc.MemberNetworkVisibility&quot;: &quot;PUBLIC&quot;\n    }\n}\n</code></pre>\n<p>Note: <code>uid</code> of my account is fetched through - <a href=\"https://api.linkedin.com/v2/me\" rel=\"nofollow noreferrer\">https://api.linkedin.com/v2/me</a></p>\n<p>The response I am getting is:</p>\n<pre><code>{\n    &quot;message&quot;: &quot;ERROR :: /author :: \\&quot;urn:li:person:oQRNppEnm\\&quot; does not match urn:li:company:\\\\d+|urn:li:member:\\\\d+\\n&quot;,\n    &quot;status&quot;: 422\n}\n</code></pre>\n<p>Can anyone please help out here?</p>\n"},{"tags":["java","eclipse","osgi"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1662313006,"post_id":73601313,"comment_id":129972254,"body_markdown":"Eclipse is an [OSGi](https://en.wikipedia.org/wiki/OSGi) application. [For tracing, you can start Eclipse with the `-debug` argument and an `.option` file](https://www.vogella.com/tutorials/EclipsePerformance/article.html#using-the-build-in-tracing-facilities-of-eclipse).","body":"Eclipse is an <a href=\"https://en.wikipedia.org/wiki/OSGi\" rel=\"nofollow noreferrer\">OSGi</a> application. <a href=\"https://www.vogella.com/tutorials/EclipsePerformance/article.html#using-the-build-in-tracing-facilities-of-eclipse\" rel=\"nofollow noreferrer\">For tracing, you can start Eclipse with the <code>-debug</code> argument and an <code>.option</code> file</a>."},{"owner":{"account_id":10113309,"reputation":113,"user_id":9126624,"display_name":"Baytars"},"score":0,"creation_date":1662363817,"post_id":73601313,"comment_id":129980313,"body_markdown":"Thank you @howlger it&#39;s been helpful!","body":"Thank you @howlger it&#39;s been helpful!"}],"answers":[{"tags":[],"owner":{"account_id":10113309,"reputation":113,"user_id":9126624,"display_name":"Baytars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662689160,"creation_date":1662689160,"answer_id":73656619,"question_id":73601313,"body_markdown":"Following @howlger&#39;s instructions in the comment section above and running `eclipse -debug`, the console shows below outputs. We can deduce the processes to three major steps:\r\n\r\n 1. Start initiation by the platform-specific Eclipse executable\r\n 2. Reading configuration file in `eclipse.ini`\r\n 3. Reading information of bundles in `configuration/org.eclipse.equinox.simpleconfigurator/bundles.info` and loading them by their respective start level and order\r\n\r\n```\r\nStart VM: -Dosgi.requiredJavaVersion=1.8\r\n-Xms40m\r\n-Xmx512m\r\n-Djava.class.path=path/to/eclipse/.\\\\plugins/org.eclipse.equinox.launcher_1.3.200.v20160318-1642.jar\r\n-os win32\r\n-ws win32\r\n-arch x86_64\r\n-showsplash path/to/eclipse/.\\\\plugins\\org.eclipse.platform_4.6.1.v20160907-1200\\splash.bmp\r\n-launcher path/to/eclipse/.\\eclipse.exe\r\n-name Eclipse\r\n--launcher.library path/to/eclipse/.\\\\plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.400.v20160518-1444\\eclipse_1617.dll\r\n-startup path/to/eclipse/.\\\\plugins/org.eclipse.equinox.launcher_1.3.200.v20160318-1642.jar\r\n--launcher.appendVmargs\r\n-debug\r\n-vm path/to/java/runtime\\\\bin\\server\\jvm.dll\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=1.8\r\n-Xms40m\r\n-Xmx512m\r\n-Djava.class.path=path/to/eclipse/.\\\\plugins/org.eclipse.equinox.launcher_1.3.200.v20160318-1642.jar\r\nInstall location:\r\n    file:/path/to/eclipse/\r\nConfiguration file:\r\n    file:/path/to/eclipse/configuration/config.ini loaded\r\nConfiguration location:\r\n    file:/path/to/eclipse/configuration/\r\nFramework located:\r\n    file:/path/to/eclipse/plugins/org.eclipse.osgi_3.11.1.v20160708-1632.jar\r\nLoading extension: reference:file:org.eclipse.osgi.compatibility.state_1.0.200.v20160504-1419.jar\r\n        eclipse.properties not found\r\nFramework classpath:\r\n    file:/path/to/eclipse/plugins/org.eclipse.osgi_3.11.1.v20160708-1632.jar\r\n    file:/path/to/eclipse/plugins/\r\n    file:/path/to/eclipse/plugins/org.eclipse.osgi.compatibility.state_1.0.200.v20160504-1419.jar\r\nSplash location:\r\n    path/to/eclipse/.\\\\plugins\\org.eclipse.platform_4.6.1.v20160907-1200\\splash.bmp\r\nDebug options:\r\n    file:/path/to/eclipse/.options loaded\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.eclipse.osgi.storage.FrameworkExtensionInstaller (file:/path/to/eclipse/plugins/org.eclipse.osgi_3.11.1.v20160708-1632.jar) to method java.net.URLClassLoader.addURL(java.net.URL)\r\nWARNING: Please consider reporting this to the maintainers of org.eclipse.osgi.storage.FrameworkExtensionInstaller\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nFinding activator for org.eclipse.osgi_3.11.1.v20160708-1632 [0]\r\nStarting org.eclipse.osgi_3.11.1.v20160708-1632 [0]\r\nEnd starting org.eclipse.osgi_3.11.1.v20160708-1632 [0] 65\r\nTime to load bundles: 57\r\nFinding activator for org.eclipse.equinox.simpleconfigurator_1.1.200.v20160504-1450 [2]\r\nStarting org.eclipse.equinox.simpleconfigurator_1.1.200.v20160504-1450 [2]\r\nEnd starting org.eclipse.equinox.simpleconfigurator_1.1.200.v20160504-1450 [2] 741\r\nFinding activator for org.eclipse.equinox.common_3.8.0.v20160509-1230 [86]\r\nStarting org.eclipse.equinox.common_3.8.0.v20160509-1230 [86]\r\nEnd starting org.eclipse.equinox.common_3.8.0.v20160509-1230 [86] 22\r\nFinding activator for org.eclipse.equinox.ds_1.4.400.v20160226-2036 [89]\r\nStarting org.eclipse.equinox.ds_1.4.400.v20160226-2036 [89]\r\nEnd starting org.eclipse.equinox.ds_1.4.400.v20160226-2036 [89] 62\r\nFinding activator for org.eclipse.equinox.event_1.3.200.v20160324-1850 [90]\r\nStarting org.eclipse.equinox.event_1.3.200.v20160324-1850 [90]\r\nEnd starting org.eclipse.equinox.event_1.3.200.v20160324-1850 [90] 3\r\nFinding activator for org.eclipse.e4.core.di_1.6.1.v20160712-0927 [53]\r\nFinding activator for org.eclipse.e4.core.di.extensions_0.14.0.v20160211-1614 [55]\r\nFinding activator for org.eclipse.equinox.util_1.0.500.v20130404-1337 [133]\r\nStarting org.eclipse.equinox.util_1.0.500.v20130404-1337 [133]\r\nEnd starting org.eclipse.equinox.util_1.0.500.v20130404-1337 [133] 15\r\nFinding activator for org.eclipse.core.runtime_3.12.0.v20160606-1342 [47]\r\nStarting org.eclipse.core.runtime_3.12.0.v20160606-1342 [47]\r\nFinding activator for org.eclipse.core.contenttype_3.5.100.v20160418-1621 [32]\r\nStarting org.eclipse.core.contenttype_3.5.100.v20160418-1621 [32]\r\nFinding activator for org.eclipse.equinox.preferences_3.6.1.v20160815-1406 [127]\r\nStarting org.eclipse.equinox.preferences_3.6.1.v20160815-1406 [127]\r\nEnd starting org.eclipse.equinox.preferences_3.6.1.v20160815-1406 [127] 37\r\nFinding activator for org.eclipse.equinox.registry_3.6.100.v20160223-2218 [128]\r\nStarting org.eclipse.equinox.registry_3.6.100.v20160223-2218 [128]\r\nEnd starting org.eclipse.equinox.registry_3.6.100.v20160223-2218 [128] 529\r\nEnd starting org.eclipse.core.contenttype_3.5.100.v20160418-1621 [32] 581\r\nFinding activator for org.eclipse.update.configurator_3.3.400.v20160506-0750 [185]\r\nStarting org.eclipse.update.configurator_3.3.400.v20160506-0750 [185]\r\nEnd starting org.eclipse.update.configurator_3.3.400.v20160506-0750 [185] 220\r\nFinding activator for org.eclipse.core.jobs_3.8.0.v20160509-0411 [42]\r\nStarting org.eclipse.core.jobs_3.8.0.v20160509-0411 [42]\r\nEnd starting org.eclipse.core.jobs_3.8.0.v20160509-0411 [42] 22\r\nFinding activator for org.eclipse.equinox.app_1.3.400.v20150715-1528 [84]\r\nStarting org.eclipse.equinox.app_1.3.400.v20150715-1528 [84]\r\nEnd starting org.eclipse.equinox.app_1.3.400.v20150715-1528 [84] 33\r\nEnd starting org.eclipse.core.runtime_3.12.0.v20160606-1342 [47] 890\r\nFinding activator for org.eclipse.equinox.p2.reconciler.dropins_1.1.400.v20160504-1450 [115]\r\nFinding activator for org.eclipse.equinox.p2.core_2.4.100.v20160419-0834 [102]\r\nStarting org.eclipse.equinox.p2.core_2.4.100.v20160419-0834 [102]\r\nEnd starting org.eclipse.equinox.p2.core_2.4.100.v20160419-0834 [102] 6\r\nFinding activator for org.eclipse.equinox.p2.directorywatcher_1.1.100.v20150423-1455 [105]\r\nStarting org.eclipse.equinox.p2.directorywatcher_1.1.100.v20150423-1455 [105]\r\nEnd starting org.eclipse.equinox.p2.directorywatcher_1.1.100.v20150423-1455 [105] 0\r\nStarting org.eclipse.equinox.p2.reconciler.dropins_1.1.400.v20160504-1450 [115]\r\nFinding activator for org.eclipse.equinox.p2.publisher_1.4.100.v20160504-1450 [113]\r\nStarting org.eclipse.equinox.p2.publisher_1.4.100.v20160504-1450 [113]\r\nEnd starting org.eclipse.equinox.p2.publisher_1.4.100.v20160504-1450 [113] 1\r\nFinding activator for org.eclipse.equinox.p2.metadata_2.3.100.v20160427-2220 [110]\r\nStarting org.eclipse.equinox.p2.metadata_2.3.100.v20160427-2220 [110]\r\nEnd starting org.eclipse.equinox.p2.metadata_2.3.100.v20160427-2220 [110] 1\r\nFinding activator for org.eclipse.equinox.p2.repository_2.3.200.v20160421-0324 [116]\r\nStarting org.eclipse.equinox.p2.repository_2.3.200.v20160421-0324 [116]\r\nEnd starting org.eclipse.equinox.p2.repository_2.3.200.v20160421-0324 [116] 1\r\nFinding activator for org.eclipse.equinox.p2.metadata.repository_1.2.300.v20160419-0834 [111]\r\nStarting org.eclipse.equinox.p2.metadata.repository_1.2.300.v20160419-0834 [111]\r\nEnd starting org.eclipse.equinox.p2.metadata.repository_1.2.300.v20160419-0834 [111] 1\r\nFinding activator for org.eclipse.equinox.security_1.2.200.v20150715-1528 [129]\r\nStarting org.eclipse.equinox.security_1.2.200.v20150715-1528 [129]\r\nEnd starting org.eclipse.equinox.security_1.2.200.v20150715-1528 [129] 2\r\nFinding activator for org.eclipse.equinox.p2.engine_2.4.100.v20160419-0834 [106]\r\nStarting org.eclipse.equinox.p2.engine_2.4.100.v20160419-0834 [106]\r\nEnd starting org.eclipse.equinox.p2.engine_2.4.100.v20160419-0834 [106] 1\r\nFinding activator for org.eclipse.equinox.p2.extensionlocation_1.2.300.v20160419-0834 [107]\r\nStarting org.eclipse.equinox.p2.extensionlocation_1.2.300.v20160419-0834 [107]\r\nEnd starting org.eclipse.equinox.p2.extensionlocation_1.2.300.v20160419-0834 [107] 1\r\nFinding activator for org.eclipse.equinox.p2.updatesite_1.0.600.v20160504-1450 [126]\r\nStarting org.eclipse.equinox.p2.updatesite_1.0.600.v20160504-1450 [126]\r\nEnd starting org.eclipse.equinox.p2.updatesite_1.0.600.v20160504-1450 [126] 1\r\nFinding activator for org.eclipse.equinox.p2.transport.ecf_1.1.200.v20160606-1311 [120]\r\nStarting org.eclipse.equinox.p2.transport.ecf_1.1.200.v20160606-1311 [120]\r\nEnd starting org.eclipse.equinox.p2.transport.ecf_1.1.200.v20160606-1311 [120] 1\r\nFinding activator for org.eclipse.ecf.filetransfer_5.0.0.v20160405-1820 [73]\r\nStarting org.eclipse.ecf.filetransfer_5.0.0.v20160405-1820 [73]\r\nEnd starting org.eclipse.ecf.filetransfer_5.0.0.v20160405-1820 [73] 1\r\nFinding activator for org.eclipse.equinox.p2.artifact.repository_1.1.500.v20160419-0834 [100]\r\nStarting org.eclipse.equinox.p2.artifact.repository_1.1.500.v20160419-0834 [100]\r\nEnd starting org.eclipse.equinox.p2.artifact.repository_1.1.500.v20160419-0834 [100] 1\r\nFinding activator for org.eclipse.equinox.p2.touchpoint.eclipse_2.1.400.v20160419-0834 [118]\r\nStarting org.eclipse.equinox.p2.touchpoint.eclipse_2.1.400.v20160419-0834 [118]\r\nEnd starting org.eclipse.equinox.p2.touchpoint.eclipse_2.1.400.v20160419-0834 [118] 2\r\nFinding activator for org.eclipse.equinox.p2.director_2.3.300.v20160504-1450 [103]\r\nStarting org.eclipse.equinox.p2.director_2.3.300.v20160504-1450 [103]\r\nEnd starting org.eclipse.equinox.p2.director_2.3.300.v20160504-1450 [103] 2\r\nFinding activator for org.eclipse.equinox.p2.garbagecollector_1.0.300.v20160504-1450 [108]\r\nStarting org.eclipse.equinox.p2.garbagecollector_1.0.300.v20160504-1450 [108]\r\nEnd starting org.eclipse.equinox.p2.garbagecollector_1.0.300.v20160504-1450 [108] 1\r\nEnd starting org.eclipse.equinox.p2.reconciler.dropins_1.1.400.v20160504-1450 [115] 1040\r\nFinding activator for org.eclipse.equinox.console_1.1.200.v20150929-1405 [88]\r\nStarting org.eclipse.equinox.console_1.1.200.v20150929-1405 [88]\r\nFinding activator for org.apache.felix.gogo.runtime_0.10.0.v201209301036 [20]\r\nStarting org.apache.felix.gogo.runtime_0.10.0.v201209301036 [20]\r\nEnd starting org.apache.felix.gogo.runtime_0.10.0.v201209301036 [20] 54\r\nFinding activator for org.apache.felix.gogo.shell_0.10.0.v201212101605 [21]\r\nStarting org.apache.felix.gogo.shell_0.10.0.v201212101605 [21]\r\nEnd starting org.apache.felix.gogo.shell_0.10.0.v201212101605 [21] 22\r\nFinding activator for org.apache.felix.gogo.command_0.10.0.v201209301215 [19]\r\nStarting org.apache.felix.gogo.command_0.10.0.v201209301215 [19]\r\nEnd starting org.apache.felix.gogo.command_0.10.0.v201209301215 [19] 14\r\nEnd starting org.eclipse.equinox.console_1.1.200.v20150929-1405 [88] 148\r\nStarting application: 4563\r\nFinding activator for org.eclipse.ui.ide.application_1.1.101.v20160829-0827 [171]\r\nFinding activator for org.eclipse.ui.workbench_3.108.1.v20160819-2118 [183]\r\nStarting org.eclipse.ui.workbench_3.108.1.v20160819-2118 [183]\r\nFinding activator for com.ibm.icu_56.1.0.v201601250100 [3]\r\nFinding activator for org.eclipse.ui_3.108.0.v20160518-1929 [163]\r\nStarting org.eclipse.ui_3.108.0.v20160518-1929 [163]\r\nEnd starting org.eclipse.ui_3.108.0.v20160518-1929 [163] 6\r\nEnd starting org.eclipse.ui.workbench_3.108.1.v20160819-2118 [183] 101\r\nFinding activator for org.eclipse.e4.ui.workbench_1.4.0.v20160517-1624 [67]\r\nStarting org.eclipse.e4.ui.workbench_1.4.0.v20160517-1624 [67]\r\nEnd starting org.eclipse.e4.ui.workbench_1.4.0.v20160517-1624 [67] 7\r\nFinding activator for org.eclipse.e4.ui.model.workbench_1.2.0.v20160229-1459 [64]\r\nFinding activator for org.eclipse.ui.ide_3.12.1.v20160823-0925 [170]\r\nStarting org.eclipse.ui.ide_3.12.1.v20160823-0925 [170]\r\nEnd starting org.eclipse.ui.ide_3.12.1.v20160823-0925 [170] 3\r\n```","title":"What is the activation sequence of components after launching Eclipse IDE via the executable?","body":"<p>Following @howlger's instructions in the comment section above and running <code>eclipse -debug</code>, the console shows below outputs. We can deduce the processes to three major steps:</p>\n<ol>\n<li>Start initiation by the platform-specific Eclipse executable</li>\n<li>Reading configuration file in <code>eclipse.ini</code></li>\n<li>Reading information of bundles in <code>configuration/org.eclipse.equinox.simpleconfigurator/bundles.info</code> and loading them by their respective start level and order</li>\n</ol>\n<pre><code>Start VM: -Dosgi.requiredJavaVersion=1.8\n-Xms40m\n-Xmx512m\n-Djava.class.path=path/to/eclipse/.\\\\plugins/org.eclipse.equinox.launcher_1.3.200.v20160318-1642.jar\n-os win32\n-ws win32\n-arch x86_64\n-showsplash path/to/eclipse/.\\\\plugins\\org.eclipse.platform_4.6.1.v20160907-1200\\splash.bmp\n-launcher path/to/eclipse/.\\eclipse.exe\n-name Eclipse\n--launcher.library path/to/eclipse/.\\\\plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.400.v20160518-1444\\eclipse_1617.dll\n-startup path/to/eclipse/.\\\\plugins/org.eclipse.equinox.launcher_1.3.200.v20160318-1642.jar\n--launcher.appendVmargs\n-debug\n-vm path/to/java/runtime\\\\bin\\server\\jvm.dll\n-vmargs\n-Dosgi.requiredJavaVersion=1.8\n-Xms40m\n-Xmx512m\n-Djava.class.path=path/to/eclipse/.\\\\plugins/org.eclipse.equinox.launcher_1.3.200.v20160318-1642.jar\nInstall location:\n    file:/path/to/eclipse/\nConfiguration file:\n    file:/path/to/eclipse/configuration/config.ini loaded\nConfiguration location:\n    file:/path/to/eclipse/configuration/\nFramework located:\n    file:/path/to/eclipse/plugins/org.eclipse.osgi_3.11.1.v20160708-1632.jar\nLoading extension: reference:file:org.eclipse.osgi.compatibility.state_1.0.200.v20160504-1419.jar\n        eclipse.properties not found\nFramework classpath:\n    file:/path/to/eclipse/plugins/org.eclipse.osgi_3.11.1.v20160708-1632.jar\n    file:/path/to/eclipse/plugins/\n    file:/path/to/eclipse/plugins/org.eclipse.osgi.compatibility.state_1.0.200.v20160504-1419.jar\nSplash location:\n    path/to/eclipse/.\\\\plugins\\org.eclipse.platform_4.6.1.v20160907-1200\\splash.bmp\nDebug options:\n    file:/path/to/eclipse/.options loaded\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.eclipse.osgi.storage.FrameworkExtensionInstaller (file:/path/to/eclipse/plugins/org.eclipse.osgi_3.11.1.v20160708-1632.jar) to method java.net.URLClassLoader.addURL(java.net.URL)\nWARNING: Please consider reporting this to the maintainers of org.eclipse.osgi.storage.FrameworkExtensionInstaller\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nFinding activator for org.eclipse.osgi_3.11.1.v20160708-1632 [0]\nStarting org.eclipse.osgi_3.11.1.v20160708-1632 [0]\nEnd starting org.eclipse.osgi_3.11.1.v20160708-1632 [0] 65\nTime to load bundles: 57\nFinding activator for org.eclipse.equinox.simpleconfigurator_1.1.200.v20160504-1450 [2]\nStarting org.eclipse.equinox.simpleconfigurator_1.1.200.v20160504-1450 [2]\nEnd starting org.eclipse.equinox.simpleconfigurator_1.1.200.v20160504-1450 [2] 741\nFinding activator for org.eclipse.equinox.common_3.8.0.v20160509-1230 [86]\nStarting org.eclipse.equinox.common_3.8.0.v20160509-1230 [86]\nEnd starting org.eclipse.equinox.common_3.8.0.v20160509-1230 [86] 22\nFinding activator for org.eclipse.equinox.ds_1.4.400.v20160226-2036 [89]\nStarting org.eclipse.equinox.ds_1.4.400.v20160226-2036 [89]\nEnd starting org.eclipse.equinox.ds_1.4.400.v20160226-2036 [89] 62\nFinding activator for org.eclipse.equinox.event_1.3.200.v20160324-1850 [90]\nStarting org.eclipse.equinox.event_1.3.200.v20160324-1850 [90]\nEnd starting org.eclipse.equinox.event_1.3.200.v20160324-1850 [90] 3\nFinding activator for org.eclipse.e4.core.di_1.6.1.v20160712-0927 [53]\nFinding activator for org.eclipse.e4.core.di.extensions_0.14.0.v20160211-1614 [55]\nFinding activator for org.eclipse.equinox.util_1.0.500.v20130404-1337 [133]\nStarting org.eclipse.equinox.util_1.0.500.v20130404-1337 [133]\nEnd starting org.eclipse.equinox.util_1.0.500.v20130404-1337 [133] 15\nFinding activator for org.eclipse.core.runtime_3.12.0.v20160606-1342 [47]\nStarting org.eclipse.core.runtime_3.12.0.v20160606-1342 [47]\nFinding activator for org.eclipse.core.contenttype_3.5.100.v20160418-1621 [32]\nStarting org.eclipse.core.contenttype_3.5.100.v20160418-1621 [32]\nFinding activator for org.eclipse.equinox.preferences_3.6.1.v20160815-1406 [127]\nStarting org.eclipse.equinox.preferences_3.6.1.v20160815-1406 [127]\nEnd starting org.eclipse.equinox.preferences_3.6.1.v20160815-1406 [127] 37\nFinding activator for org.eclipse.equinox.registry_3.6.100.v20160223-2218 [128]\nStarting org.eclipse.equinox.registry_3.6.100.v20160223-2218 [128]\nEnd starting org.eclipse.equinox.registry_3.6.100.v20160223-2218 [128] 529\nEnd starting org.eclipse.core.contenttype_3.5.100.v20160418-1621 [32] 581\nFinding activator for org.eclipse.update.configurator_3.3.400.v20160506-0750 [185]\nStarting org.eclipse.update.configurator_3.3.400.v20160506-0750 [185]\nEnd starting org.eclipse.update.configurator_3.3.400.v20160506-0750 [185] 220\nFinding activator for org.eclipse.core.jobs_3.8.0.v20160509-0411 [42]\nStarting org.eclipse.core.jobs_3.8.0.v20160509-0411 [42]\nEnd starting org.eclipse.core.jobs_3.8.0.v20160509-0411 [42] 22\nFinding activator for org.eclipse.equinox.app_1.3.400.v20150715-1528 [84]\nStarting org.eclipse.equinox.app_1.3.400.v20150715-1528 [84]\nEnd starting org.eclipse.equinox.app_1.3.400.v20150715-1528 [84] 33\nEnd starting org.eclipse.core.runtime_3.12.0.v20160606-1342 [47] 890\nFinding activator for org.eclipse.equinox.p2.reconciler.dropins_1.1.400.v20160504-1450 [115]\nFinding activator for org.eclipse.equinox.p2.core_2.4.100.v20160419-0834 [102]\nStarting org.eclipse.equinox.p2.core_2.4.100.v20160419-0834 [102]\nEnd starting org.eclipse.equinox.p2.core_2.4.100.v20160419-0834 [102] 6\nFinding activator for org.eclipse.equinox.p2.directorywatcher_1.1.100.v20150423-1455 [105]\nStarting org.eclipse.equinox.p2.directorywatcher_1.1.100.v20150423-1455 [105]\nEnd starting org.eclipse.equinox.p2.directorywatcher_1.1.100.v20150423-1455 [105] 0\nStarting org.eclipse.equinox.p2.reconciler.dropins_1.1.400.v20160504-1450 [115]\nFinding activator for org.eclipse.equinox.p2.publisher_1.4.100.v20160504-1450 [113]\nStarting org.eclipse.equinox.p2.publisher_1.4.100.v20160504-1450 [113]\nEnd starting org.eclipse.equinox.p2.publisher_1.4.100.v20160504-1450 [113] 1\nFinding activator for org.eclipse.equinox.p2.metadata_2.3.100.v20160427-2220 [110]\nStarting org.eclipse.equinox.p2.metadata_2.3.100.v20160427-2220 [110]\nEnd starting org.eclipse.equinox.p2.metadata_2.3.100.v20160427-2220 [110] 1\nFinding activator for org.eclipse.equinox.p2.repository_2.3.200.v20160421-0324 [116]\nStarting org.eclipse.equinox.p2.repository_2.3.200.v20160421-0324 [116]\nEnd starting org.eclipse.equinox.p2.repository_2.3.200.v20160421-0324 [116] 1\nFinding activator for org.eclipse.equinox.p2.metadata.repository_1.2.300.v20160419-0834 [111]\nStarting org.eclipse.equinox.p2.metadata.repository_1.2.300.v20160419-0834 [111]\nEnd starting org.eclipse.equinox.p2.metadata.repository_1.2.300.v20160419-0834 [111] 1\nFinding activator for org.eclipse.equinox.security_1.2.200.v20150715-1528 [129]\nStarting org.eclipse.equinox.security_1.2.200.v20150715-1528 [129]\nEnd starting org.eclipse.equinox.security_1.2.200.v20150715-1528 [129] 2\nFinding activator for org.eclipse.equinox.p2.engine_2.4.100.v20160419-0834 [106]\nStarting org.eclipse.equinox.p2.engine_2.4.100.v20160419-0834 [106]\nEnd starting org.eclipse.equinox.p2.engine_2.4.100.v20160419-0834 [106] 1\nFinding activator for org.eclipse.equinox.p2.extensionlocation_1.2.300.v20160419-0834 [107]\nStarting org.eclipse.equinox.p2.extensionlocation_1.2.300.v20160419-0834 [107]\nEnd starting org.eclipse.equinox.p2.extensionlocation_1.2.300.v20160419-0834 [107] 1\nFinding activator for org.eclipse.equinox.p2.updatesite_1.0.600.v20160504-1450 [126]\nStarting org.eclipse.equinox.p2.updatesite_1.0.600.v20160504-1450 [126]\nEnd starting org.eclipse.equinox.p2.updatesite_1.0.600.v20160504-1450 [126] 1\nFinding activator for org.eclipse.equinox.p2.transport.ecf_1.1.200.v20160606-1311 [120]\nStarting org.eclipse.equinox.p2.transport.ecf_1.1.200.v20160606-1311 [120]\nEnd starting org.eclipse.equinox.p2.transport.ecf_1.1.200.v20160606-1311 [120] 1\nFinding activator for org.eclipse.ecf.filetransfer_5.0.0.v20160405-1820 [73]\nStarting org.eclipse.ecf.filetransfer_5.0.0.v20160405-1820 [73]\nEnd starting org.eclipse.ecf.filetransfer_5.0.0.v20160405-1820 [73] 1\nFinding activator for org.eclipse.equinox.p2.artifact.repository_1.1.500.v20160419-0834 [100]\nStarting org.eclipse.equinox.p2.artifact.repository_1.1.500.v20160419-0834 [100]\nEnd starting org.eclipse.equinox.p2.artifact.repository_1.1.500.v20160419-0834 [100] 1\nFinding activator for org.eclipse.equinox.p2.touchpoint.eclipse_2.1.400.v20160419-0834 [118]\nStarting org.eclipse.equinox.p2.touchpoint.eclipse_2.1.400.v20160419-0834 [118]\nEnd starting org.eclipse.equinox.p2.touchpoint.eclipse_2.1.400.v20160419-0834 [118] 2\nFinding activator for org.eclipse.equinox.p2.director_2.3.300.v20160504-1450 [103]\nStarting org.eclipse.equinox.p2.director_2.3.300.v20160504-1450 [103]\nEnd starting org.eclipse.equinox.p2.director_2.3.300.v20160504-1450 [103] 2\nFinding activator for org.eclipse.equinox.p2.garbagecollector_1.0.300.v20160504-1450 [108]\nStarting org.eclipse.equinox.p2.garbagecollector_1.0.300.v20160504-1450 [108]\nEnd starting org.eclipse.equinox.p2.garbagecollector_1.0.300.v20160504-1450 [108] 1\nEnd starting org.eclipse.equinox.p2.reconciler.dropins_1.1.400.v20160504-1450 [115] 1040\nFinding activator for org.eclipse.equinox.console_1.1.200.v20150929-1405 [88]\nStarting org.eclipse.equinox.console_1.1.200.v20150929-1405 [88]\nFinding activator for org.apache.felix.gogo.runtime_0.10.0.v201209301036 [20]\nStarting org.apache.felix.gogo.runtime_0.10.0.v201209301036 [20]\nEnd starting org.apache.felix.gogo.runtime_0.10.0.v201209301036 [20] 54\nFinding activator for org.apache.felix.gogo.shell_0.10.0.v201212101605 [21]\nStarting org.apache.felix.gogo.shell_0.10.0.v201212101605 [21]\nEnd starting org.apache.felix.gogo.shell_0.10.0.v201212101605 [21] 22\nFinding activator for org.apache.felix.gogo.command_0.10.0.v201209301215 [19]\nStarting org.apache.felix.gogo.command_0.10.0.v201209301215 [19]\nEnd starting org.apache.felix.gogo.command_0.10.0.v201209301215 [19] 14\nEnd starting org.eclipse.equinox.console_1.1.200.v20150929-1405 [88] 148\nStarting application: 4563\nFinding activator for org.eclipse.ui.ide.application_1.1.101.v20160829-0827 [171]\nFinding activator for org.eclipse.ui.workbench_3.108.1.v20160819-2118 [183]\nStarting org.eclipse.ui.workbench_3.108.1.v20160819-2118 [183]\nFinding activator for com.ibm.icu_56.1.0.v201601250100 [3]\nFinding activator for org.eclipse.ui_3.108.0.v20160518-1929 [163]\nStarting org.eclipse.ui_3.108.0.v20160518-1929 [163]\nEnd starting org.eclipse.ui_3.108.0.v20160518-1929 [163] 6\nEnd starting org.eclipse.ui.workbench_3.108.1.v20160819-2118 [183] 101\nFinding activator for org.eclipse.e4.ui.workbench_1.4.0.v20160517-1624 [67]\nStarting org.eclipse.e4.ui.workbench_1.4.0.v20160517-1624 [67]\nEnd starting org.eclipse.e4.ui.workbench_1.4.0.v20160517-1624 [67] 7\nFinding activator for org.eclipse.e4.ui.model.workbench_1.2.0.v20160229-1459 [64]\nFinding activator for org.eclipse.ui.ide_3.12.1.v20160823-0925 [170]\nStarting org.eclipse.ui.ide_3.12.1.v20160823-0925 [170]\nEnd starting org.eclipse.ui.ide_3.12.1.v20160823-0925 [170] 3\n</code></pre>\n"}],"owner":{"account_id":10113309,"reputation":113,"user_id":9126624,"display_name":"Baytars"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73656619,"answer_count":1,"score":-2,"last_activity_date":1674582417,"creation_date":1662311226,"question_id":73601313,"body_markdown":"After double clicking the Eclipse executable, which files in the installation folder will be activated sequentially?","title":"What is the activation sequence of components after launching Eclipse IDE via the executable?","body":"<p>After double clicking the Eclipse executable, which files in the installation folder will be activated sequentially?</p>\n"},{"tags":["java","mysql","rest","jpa","error-handling"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674268909,"post_id":75190818,"comment_id":132684772,"body_markdown":"Please [edit] the post and share the (relevant) code.","body":"Please <a href=\"https://stackoverflow.com/posts/75190818/edit\">edit</a> the post and share the (relevant) code."}],"answers":[{"tags":[],"owner":{"account_id":8667078,"reputation":575,"user_id":6487148,"display_name":"the_tech_maddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674582078,"creation_date":1674282316,"answer_id":75191523,"question_id":75190818,"body_markdown":"This can be achieved in multiple ways.\r\n\r\n1. You can use JpaRepository&#39;s `existsById()` or similar &quot;exists&quot; methods. This would return a boolean. If it&#39;s true, that is if the entry already exists for a given id, you can send an error response. Otherwise, new user object. For that, you can have a model class something like `UserOrError` which will either hold a user object or an error string at a time. Use `@JsonView` annotation from Jackson library to show/ hide the fields. [Read more][1]\r\n2. Based on the result of the above &quot;exists&quot; method, wrap it with `ResponseEntity&lt;T&gt;`. The return type of your controller method should be `ResponseEntity&lt;T&gt;`. Here&#39;s the [link][2]. The advantage of this method is that you can send different HTTP status codes\r\n3. Throw a custom `RuntimeException` in your service layer and use Spring&#39;s exception handling like the `RestControllerAdvice` annotation\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-json-view-annotation\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html","title":"How to return a message to HTTP request in Java?","body":"<p>This can be achieved in multiple ways.</p>\n<ol>\n<li>You can use JpaRepository's <code>existsById()</code> or similar &quot;exists&quot; methods. This would return a boolean. If it's true, that is if the entry already exists for a given id, you can send an error response. Otherwise, new user object. For that, you can have a model class something like <code>UserOrError</code> which will either hold a user object or an error string at a time. Use <code>@JsonView</code> annotation from Jackson library to show/ hide the fields. <a href=\"https://www.baeldung.com/jackson-json-view-annotation\" rel=\"nofollow noreferrer\">Read more</a></li>\n<li>Based on the result of the above &quot;exists&quot; method, wrap it with <code>ResponseEntity&lt;T&gt;</code>. The return type of your controller method should be <code>ResponseEntity&lt;T&gt;</code>. Here's the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"nofollow noreferrer\">link</a>. The advantage of this method is that you can send different HTTP status codes</li>\n<li>Throw a custom <code>RuntimeException</code> in your service layer and use Spring's exception handling like the <code>RestControllerAdvice</code> annotation</li>\n</ol>\n"}],"owner":{"account_id":17774746,"reputation":128,"user_id":12907379,"display_name":"mdaabis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75191523,"answer_count":1,"score":1,"last_activity_date":1674582078,"creation_date":1674268643,"question_id":75190818,"body_markdown":"I am creating an API to simulate a vending machine and I&#39;m using Spring, JPA and MySQL. I have an endpoint for a POST request that allows for new user creation by entering the user&#39;s details into a table called `users`. I have a check to see if the username already exists in the table and if it does, I want to return a message that says the creation of a new user was unsuccessful because that username is already in use. If the user name is not in the table, I want to return the `User` object.\r\n\r\nHow do I return this error message? From what I have found so far, suggestions include the usage of ResponseEntity or creating a custom exception handler which all seemed overly complicated for something that I feel is quite straightforward. Is there an easier way to do this?\r\n\r\nSo this is what I want the response to look like when a new user has been created successfully (which I have currently managed to get working successfully):\r\n```\r\n{\r\n    &quot;username&quot;: &quot;user&quot;,\r\n    &quot;password&quot;: &quot;password&quot;,\r\n    &quot;role&quot;: &quot;BUYER&quot;,\r\n    &quot;deposit&quot;: 0.0,\r\n    &quot;id&quot;: 12\r\n}\r\n```\r\n\r\nAnd if it fails, I want it to return something that looks along the lines of:\r\n```\r\nError: username already in use.\r\n```\r\nor:\r\n```\r\n{\r\n  &quot;error&quot; : &quot;Username already in use&quot;\r\n}\r\n```\r\n\r\nUser object:\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User\r\n{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int userId;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;username&quot;, unique = true)\r\n    private String username;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;role&quot;)\r\n    private Role role;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;deposit&quot;)\r\n    private BigDecimal deposit;\r\n\r\n    public User() {}\r\n\r\n    public User(String username, String password, Role role, BigDecimal deposit)\r\n    {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.role = role;\r\n        this.deposit = deposit;\r\n    }\r\n\r\n    public int getId()\r\n    {\r\n        return userId;\r\n    }\r\n\r\n    public String getUsername()\r\n    {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username)\r\n    {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword()\r\n    {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password)\r\n    {\r\n        this.password = password;\r\n    }\r\n\r\n    public Role getRole()\r\n    {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role)\r\n    {\r\n        this.role = Role.valueOf(role);\r\n    }\r\n\r\n    public void setRole(Role role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public BigDecimal getDeposit()\r\n    {\r\n        return deposit;\r\n    }\r\n\r\n    public void setDeposit(BigDecimal deposit)\r\n    {\r\n        this.deposit = deposit;\r\n    }\r\n}\r\n```\r\n\r\nMethod in the controller that is being called:\r\n```\r\n    @PostMapping(value = &quot;/create-user&quot;, consumes = {&quot;application/json&quot;})\r\n    public User createUser(@RequestBody User user)\r\n    {\r\n        return userService.createUser(user);\r\n    }\r\n```\r\n\r\ncreateUser method in UserService:\r\n```\r\n    public User createUser(User user)\r\n    {\r\n//        if(userRepository.userExists(user.getUsername()) == 0)\r\n        return userRepository.save(user);\r\n    }\r\n```\r\n`UserRepository` is an interface that extends `JpaRepository`.\r\n\r\nIf I have missed some information or have worded the question incorrectly, please let me know and I&#39;ll update accordingly.\r\n","title":"How to return a message to HTTP request in Java?","body":"<p>I am creating an API to simulate a vending machine and I'm using Spring, JPA and MySQL. I have an endpoint for a POST request that allows for new user creation by entering the user's details into a table called <code>users</code>. I have a check to see if the username already exists in the table and if it does, I want to return a message that says the creation of a new user was unsuccessful because that username is already in use. If the user name is not in the table, I want to return the <code>User</code> object.</p>\n<p>How do I return this error message? From what I have found so far, suggestions include the usage of ResponseEntity or creating a custom exception handler which all seemed overly complicated for something that I feel is quite straightforward. Is there an easier way to do this?</p>\n<p>So this is what I want the response to look like when a new user has been created successfully (which I have currently managed to get working successfully):</p>\n<pre><code>{\n    &quot;username&quot;: &quot;user&quot;,\n    &quot;password&quot;: &quot;password&quot;,\n    &quot;role&quot;: &quot;BUYER&quot;,\n    &quot;deposit&quot;: 0.0,\n    &quot;id&quot;: 12\n}\n</code></pre>\n<p>And if it fails, I want it to return something that looks along the lines of:</p>\n<pre><code>Error: username already in use.\n</code></pre>\n<p>or:</p>\n<pre><code>{\n  &quot;error&quot; : &quot;Username already in use&quot;\n}\n</code></pre>\n<p>User object:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int userId;\n\n    @NotNull\n    @Column(name = &quot;username&quot;, unique = true)\n    private String username;\n\n    @NotNull\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @NotNull\n    @Column(name = &quot;role&quot;)\n    private Role role;\n\n    @NotNull\n    @Column(name = &quot;deposit&quot;)\n    private BigDecimal deposit;\n\n    public User() {}\n\n    public User(String username, String password, Role role, BigDecimal deposit)\n    {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n        this.deposit = deposit;\n    }\n\n    public int getId()\n    {\n        return userId;\n    }\n\n    public String getUsername()\n    {\n        return username;\n    }\n\n    public void setUsername(String username)\n    {\n        this.username = username;\n    }\n\n    public String getPassword()\n    {\n        return password;\n    }\n\n    public void setPassword(String password)\n    {\n        this.password = password;\n    }\n\n    public Role getRole()\n    {\n        return role;\n    }\n\n    public void setRole(String role)\n    {\n        this.role = Role.valueOf(role);\n    }\n\n    public void setRole(Role role) {\n        this.role = role;\n    }\n\n    public BigDecimal getDeposit()\n    {\n        return deposit;\n    }\n\n    public void setDeposit(BigDecimal deposit)\n    {\n        this.deposit = deposit;\n    }\n}\n</code></pre>\n<p>Method in the controller that is being called:</p>\n<pre><code>    @PostMapping(value = &quot;/create-user&quot;, consumes = {&quot;application/json&quot;})\n    public User createUser(@RequestBody User user)\n    {\n        return userService.createUser(user);\n    }\n</code></pre>\n<p>createUser method in UserService:</p>\n<pre><code>    public User createUser(User user)\n    {\n//        if(userRepository.userExists(user.getUsername()) == 0)\n        return userRepository.save(user);\n    }\n</code></pre>\n<p><code>UserRepository</code> is an interface that extends <code>JpaRepository</code>.</p>\n<p>If I have missed some information or have worded the question incorrectly, please let me know and I'll update accordingly.</p>\n"},{"tags":["java","logging","log4j2"],"owner":{"account_id":2636141,"reputation":315,"user_id":2280760,"accept_rate":62,"display_name":"Configueroa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674581773,"creation_date":1674577232,"question_id":75224325,"body_markdown":"In Log4j 2 properties we have had recently configured the daily roll - which was working great for the first few days.  Last night it rolled our log file, but it did not create the new one that&#39;s defined by fileName below.  Would the application itself be responsible for creating (touching) a new log file or would this be Log4j 2&#39;s job?  If it&#39;s Log4j 2 - what area of the properties would I look at - like I mentioned, it worked fine the last few days and we have not modified anything in the properties file.\r\n\r\n```ini\r\n# LOG4J daily rolling log files configuration\r\nlog4j.rootLogger=DEBUG, RollingAppender\r\nlog4j.appender.RollingAppender=org.apache.log4j.DailyRollingFileAppender\r\nlog4j.appender.RollingAppender.fileName=app.log\r\nlog4j.appender.RollingAppender.DatePattern=&#39;.&#39;yyyy-MM-dd\r\nlog4j.appender.RollingAppender.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.RollingAppender.layout.ConversionPattern=[%p] %d %c %M - %m%n\r\n```\r\n","title":"Log4J2 is not creating a new log file after the log file was rolled","body":"<p>In Log4j 2 properties we have had recently configured the daily roll - which was working great for the first few days.  Last night it rolled our log file, but it did not create the new one that's defined by fileName below.  Would the application itself be responsible for creating (touching) a new log file or would this be Log4j 2's job?  If it's Log4j 2 - what area of the properties would I look at - like I mentioned, it worked fine the last few days and we have not modified anything in the properties file.</p>\n<pre class=\"lang-ini prettyprint-override\"><code># LOG4J daily rolling log files configuration\nlog4j.rootLogger=DEBUG, RollingAppender\nlog4j.appender.RollingAppender=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.RollingAppender.fileName=app.log\nlog4j.appender.RollingAppender.DatePattern='.'yyyy-MM-dd\nlog4j.appender.RollingAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.RollingAppender.layout.ConversionPattern=[%p] %d %c %M - %m%n\n</code></pre>\n"},{"tags":["java","logging","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1625151033,"post_id":68211717,"comment_id":120556718,"body_markdown":"When you say unit tests, do you mean actual unit tests or tests annotated with `@QuarkusTest`?","body":"When you say unit tests, do you mean actual unit tests or tests annotated with <code>@QuarkusTest</code>?"},{"owner":{"account_id":3649743,"reputation":1729,"user_id":3042207,"accept_rate":42,"display_name":"Fabrizio Stellato"},"score":0,"creation_date":1625151712,"post_id":68211717,"comment_id":120557060,"body_markdown":"Just annotated with @Test","body":"Just annotated with @Test"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625158615,"creation_date":1625158615,"answer_id":68214180,"question_id":68211717,"body_markdown":"The Quarkus logging configuration only applies to tests that are annotated with `@QuarkusTest`. It does not work for non Quarkus unit tests","title":"Quarkus, cannot log on unit test using slf4j","body":"<p>The Quarkus logging configuration only applies to tests that are annotated with <code>@QuarkusTest</code>. It does not work for non Quarkus unit tests</p>\n"},{"tags":[],"owner":{"account_id":4037407,"reputation":3390,"user_id":3321301,"display_name":"josesuero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674581742,"creation_date":1674581742,"answer_id":75225192,"question_id":68211717,"body_markdown":"If you&#39;re running the application with `quarkus dev` you need to turn on test outputs, by clicking &quot;o&quot;\r\n\r\nif you click h you can see help for this\r\n\r\n```\r\n== Continuous Testing\r\n\r\n[r] - Re-run all tests\r\n[f] - Re-run failed tests\r\n[b] - Toggle &#39;broken only&#39; mode, where only failing tests are run (disabled)\r\n[v] - Print failures from the last test run\r\n[p] - Pause tests\r\n[o] - Toggle test output (enabled)\r\n```","title":"Quarkus, cannot log on unit test using slf4j","body":"<p>If you're running the application with <code>quarkus dev</code> you need to turn on test outputs, by clicking &quot;o&quot;</p>\n<p>if you click h you can see help for this</p>\n<pre><code>== Continuous Testing\n\n[r] - Re-run all tests\n[f] - Re-run failed tests\n[b] - Toggle 'broken only' mode, where only failing tests are run (disabled)\n[v] - Print failures from the last test run\n[p] - Pause tests\n[o] - Toggle test output (enabled)\n</code></pre>\n"}],"owner":{"account_id":3649743,"reputation":1729,"user_id":3042207,"accept_rate":42,"display_name":"Fabrizio Stellato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68214180,"answer_count":2,"score":3,"last_activity_date":1674581742,"creation_date":1625148466,"question_id":68211717,"body_markdown":"I&#39;m using **Quarkus** framework and I&#39;ve built some unit tests using junit5 jupiter.\r\n\r\nThis is my **application.properties** under resources folder of my maven project:\r\n\r\n    quarkus.log.console.enable=true\r\n    quarkus.log.level=DEBUG\r\n    test.quarkus.log.level=DEBUG\r\n    dev.quarkus.log.level=DEBUG\r\n    quarkus.log.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n\r\n\r\nThe logger is initialized in the usual way:\r\n\r\n     private static final Logger logger = LoggerFactory.getLogger(MyClass.class); \r\n\r\nHowever I cannot see any logging on console. This happens ONLY in unit tests, so when starting the application things work properly.\r\n\r\nAny hints?","title":"Quarkus, cannot log on unit test using slf4j","body":"<p>I'm using <strong>Quarkus</strong> framework and I've built some unit tests using junit5 jupiter.</p>\n<p>This is my <strong>application.properties</strong> under resources folder of my maven project:</p>\n<pre><code>quarkus.log.console.enable=true\nquarkus.log.level=DEBUG\ntest.quarkus.log.level=DEBUG\ndev.quarkus.log.level=DEBUG\nquarkus.log.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n\n</code></pre>\n<p>The logger is initialized in the usual way:</p>\n<pre><code> private static final Logger logger = LoggerFactory.getLogger(MyClass.class); \n</code></pre>\n<p>However I cannot see any logging on console. This happens ONLY in unit tests, so when starting the application things work properly.</p>\n<p>Any hints?</p>\n"},{"tags":["java","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":4777266,"reputation":2979,"user_id":3860046,"display_name":"S&#233;bastien Blanc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1498392957,"creation_date":1498392957,"answer_id":44746282,"question_id":44739006,"body_markdown":"I think you have a typo at \r\n`keycloak.security-constraints[0].authRoles[0]=testuser` , you should specify the role here and not the user. \r\nIf you follow the blogpost instructions it should be : \r\n`keycloak.security-constraints[0].authRoles[0]=user`","title":"Spring Boot - KeyCloak directed to 403 forbidden","body":"<p>I think you have a typo at \n<code>keycloak.security-constraints[0].authRoles[0]=testuser</code> , you should specify the role here and not the user. \nIf you follow the blogpost instructions it should be : \n<code>keycloak.security-constraints[0].authRoles[0]=user</code></p>\n"},{"tags":[],"owner":{"account_id":11294176,"reputation":1,"user_id":8282165,"display_name":"Bertrand Toussaint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499672144,"creation_date":1499672144,"answer_id":45006210,"question_id":44739006,"body_markdown":"I have tried this Week End to replay the example from the very interesting DEvoxx Sebastien speak. \r\n\r\nI had the same 403 error with the role &quot;user&quot; specified in the property\r\n`keycloak.security-constraints[0].authRoles[0]=user`\r\n\r\nThe &quot;user&quot; role does not exists in the default keycloak configuration. You have to create it before in your realm  (realm/configuration/roles) and assign it to your user (realm/users/user/roles mappings).\r\n","title":"Spring Boot - KeyCloak directed to 403 forbidden","body":"<p>I have tried this Week End to replay the example from the very interesting DEvoxx Sebastien speak. </p>\n\n<p>I had the same 403 error with the role \"user\" specified in the property\n<code>keycloak.security-constraints[0].authRoles[0]=user</code></p>\n\n<p>The \"user\" role does not exists in the default keycloak configuration. You have to create it before in your realm  (realm/configuration/roles) and assign it to your user (realm/users/user/roles mappings).</p>\n"},{"tags":[],"owner":{"account_id":11294176,"reputation":1,"user_id":8282165,"display_name":"Bertrand Toussaint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499673063,"creation_date":1499673063,"answer_id":45006502,"question_id":44739006,"body_markdown":"About that tutorial, I just have a problem with logout feature.\r\n\r\nSometimes the logout does not work.\r\n\r\n1) I click on logout and then I click on /products, then I am not redirected to keycloak login page\r\n\r\n2) If I click on logout, then I refresh the browser page, then I click on /products I am redirected to the keycloak login page.\r\n\r\nIt seams to be that the logout implementation from HttpServletRequest is not enough to really logout the user ?\r\n\r\n`\r\n\r\n    @GetMapping(path = &quot;/logout&quot;)\r\n    public String logout(HttpServletRequest request) throws ServletException{\r\n    \t\trequest.logout();\r\n    \t\treturn &quot;/&quot;;\r\n    }\r\n\r\n`\r\n\r\nIf somebody has an explanation on that behavior between springboot and keycloak. Thank you.\r\n\r\n\r\n","title":"Spring Boot - KeyCloak directed to 403 forbidden","body":"<p>About that tutorial, I just have a problem with logout feature.</p>\n\n<p>Sometimes the logout does not work.</p>\n\n<p>1) I click on logout and then I click on /products, then I am not redirected to keycloak login page</p>\n\n<p>2) If I click on logout, then I refresh the browser page, then I click on /products I am redirected to the keycloak login page.</p>\n\n<p>It seams to be that the logout implementation from HttpServletRequest is not enough to really logout the user ?</p>\n\n<p>`</p>\n\n<pre><code>@GetMapping(path = \"/logout\")\npublic String logout(HttpServletRequest request) throws ServletException{\n        request.logout();\n        return \"/\";\n}\n</code></pre>\n\n<p>`</p>\n\n<p>If somebody has an explanation on that behavior between springboot and keycloak. Thank you.</p>\n"},{"tags":[],"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553253720,"creation_date":1553253720,"answer_id":55298532,"question_id":44739006,"body_markdown":"In my case here I set `use-resource-role-mappings` to `true`, considering that it would provide both realm and client roles, but it turns out that if this option is set to `true`, *only* client roles are considered.\r\n\r\nAFAICS, [there is no way to use both][1].\r\n\r\n\r\n  [1]: http://lists.jboss.org/pipermail/keycloak-user/2015-June/002396.html","title":"Spring Boot - KeyCloak directed to 403 forbidden","body":"<p>In my case here I set <code>use-resource-role-mappings</code> to <code>true</code>, considering that it would provide both realm and client roles, but it turns out that if this option is set to <code>true</code>, <em>only</em> client roles are considered.</p>\n\n<p>AFAICS, <a href=\"http://lists.jboss.org/pipermail/keycloak-user/2015-June/002396.html\" rel=\"nofollow noreferrer\">there is no way to use both</a>.</p>\n"},{"tags":[],"owner":{"account_id":10534727,"reputation":191,"user_id":7762996,"display_name":"solecoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597053348,"creation_date":1597053348,"answer_id":63337959,"question_id":44739006,"body_markdown":"Late to the party, but this might help someone.\r\n\r\nIn my case, I had resource authorization enabled (so client was not public). I had to do the following\r\n\r\nUnder Client\r\nAuthorization -&gt; Settings -&gt; Policy Enforcement Mode\r\n\r\nSet it to &quot;Permissive&quot; ","title":"Spring Boot - KeyCloak directed to 403 forbidden","body":"<p>Late to the party, but this might help someone.</p>\n<p>In my case, I had resource authorization enabled (so client was not public). I had to do the following</p>\n<p>Under Client\nAuthorization -&gt; Settings -&gt; Policy Enforcement Mode</p>\n<p>Set it to &quot;Permissive&quot;</p>\n"},{"tags":[],"owner":{"account_id":21439365,"reputation":11,"user_id":15794241,"display_name":"Priya Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621974783,"creation_date":1621974783,"answer_id":67695282,"question_id":44739006,"body_markdown":"I had the same issue and the problem was that I was using variables separated by dashes, instead of camel case. For example,\r\nI had this (incorrect): \r\n\r\n    keycloak:\r\n      auth-server-url: http://localhost:8083/auth\r\n      realm: springdemo\r\n      resource: Resource_Name\r\n      public-client: true\r\n      security-constraints[0].auth-roles[0]: user\r\n      security-constraints[0].security-collections[0].patterns[0]: /\r\n\r\ninstead of (correct):\r\n\r\n    keycloak:\r\n      authServerUrl: http://localhost:8083/auth\r\n      realm: springdemo\r\n      resource: Resource_Name\r\n      publicClient: true\r\n      securityConstraints[0].authRoles[0]: user\r\n      securityConstraints[0].securityCollections[0].patterns[0]: /","title":"Spring Boot - KeyCloak directed to 403 forbidden","body":"<p>I had the same issue and the problem was that I was using variables separated by dashes, instead of camel case. For example,\nI had this (incorrect):</p>\n<pre><code>keycloak:\n  auth-server-url: http://localhost:8083/auth\n  realm: springdemo\n  resource: Resource_Name\n  public-client: true\n  security-constraints[0].auth-roles[0]: user\n  security-constraints[0].security-collections[0].patterns[0]: /\n</code></pre>\n<p>instead of (correct):</p>\n<pre><code>keycloak:\n  authServerUrl: http://localhost:8083/auth\n  realm: springdemo\n  resource: Resource_Name\n  publicClient: true\n  securityConstraints[0].authRoles[0]: user\n  securityConstraints[0].securityCollections[0].patterns[0]: /\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27611610,"reputation":1,"user_id":21074615,"display_name":"Nguyễn Th&#224;nh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674581451,"creation_date":1674581451,"answer_id":75225141,"question_id":44739006,"body_markdown":"In my case I have to turn off Client Authentication and Authorization (both) in client config.","title":"Spring Boot - KeyCloak directed to 403 forbidden","body":"<p>In my case I have to turn off Client Authentication and Authorization (both) in client config.</p>\n"}],"owner":{"account_id":5635756,"reputation":605,"user_id":4461310,"accept_rate":80,"display_name":"Chamith Chathuka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15407,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44746282,"answer_count":7,"score":6,"last_activity_date":1674581451,"creation_date":1498324702,"question_id":44739006,"body_markdown":"I am new to Keycloak, I am using the official tutorial project on \r\n[https://github.com/sebastienblanc/spring-boot-keycloak-tutorial][1]\r\n\r\nfor integrating with Springboot application, I have setup the KeyCloak server successfully and the spring boot application also directing to the client application I have created on the Realm I have created on KeyCloak, after providing the correct credentials it directs to the forbidden page.\r\n\r\n    @Controller\r\n    class ProductController {\r\n    \r\n    @GetMapping(path = &quot;/products&quot;)\r\n    public String getProducts(Model model){\r\n    \tmodel.addAttribute(&quot;products&quot;, Arrays.asList(&quot;iPad&quot;,&quot;iPhone&quot;,&quot;iPod&quot;));\r\n    \treturn &quot;products&quot;;\r\n    }\r\n    \r\n    @GetMapping(path = &quot;/logout&quot;)\r\n    public String logout(HttpServletRequest request) throws ServletException {\r\n    \trequest.logout();\r\n    \treturn &quot;/&quot;;\r\n    }\r\n    }\r\n\r\n\r\nApplication.properties file\r\n\r\n    keycloak.auth-server-url=http://localhost:8080/auth\r\n    keycloak.realm=springdemo\r\n    keycloak.resource=product-app\r\n    keycloak.public-client=true\r\n    \r\n    keycloak.security-constraints[0].authRoles[0]=testuser\r\n    keycloak.security-\r\n    constraints[0].securityCollections[0].patterns[0]=/products/*\r\n    \r\n    server.port=8081\r\n\r\n\r\nI am not getting any error message from KeyCloak console or spring embedded tomcat console.\r\n\r\n[Check the tomcat console here - no error][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://github.com/sebastienblanc/spring-boot-keycloak-tutorial\r\n  [2]: https://pastebin.com/FfFCtaTj\r\n  [3]: https://i.stack.imgur.com/HrzcP.png\r\n","title":"Spring Boot - KeyCloak directed to 403 forbidden","body":"<p>I am new to Keycloak, I am using the official tutorial project on \n<a href=\"https://github.com/sebastienblanc/spring-boot-keycloak-tutorial\" rel=\"noreferrer\">https://github.com/sebastienblanc/spring-boot-keycloak-tutorial</a></p>\n\n<p>for integrating with Springboot application, I have setup the KeyCloak server successfully and the spring boot application also directing to the client application I have created on the Realm I have created on KeyCloak, after providing the correct credentials it directs to the forbidden page.</p>\n\n<pre><code>@Controller\nclass ProductController {\n\n@GetMapping(path = \"/products\")\npublic String getProducts(Model model){\n    model.addAttribute(\"products\", Arrays.asList(\"iPad\",\"iPhone\",\"iPod\"));\n    return \"products\";\n}\n\n@GetMapping(path = \"/logout\")\npublic String logout(HttpServletRequest request) throws ServletException {\n    request.logout();\n    return \"/\";\n}\n}\n</code></pre>\n\n<p>Application.properties file</p>\n\n<pre><code>keycloak.auth-server-url=http://localhost:8080/auth\nkeycloak.realm=springdemo\nkeycloak.resource=product-app\nkeycloak.public-client=true\n\nkeycloak.security-constraints[0].authRoles[0]=testuser\nkeycloak.security-\nconstraints[0].securityCollections[0].patterns[0]=/products/*\n\nserver.port=8081\n</code></pre>\n\n<p>I am not getting any error message from KeyCloak console or spring embedded tomcat console.</p>\n\n<p><a href=\"https://pastebin.com/FfFCtaTj\" rel=\"noreferrer\">Check the tomcat console here - no error</a>\n<a href=\"https://i.stack.imgur.com/HrzcP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HrzcP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thank you.</p>\n"},{"tags":["java","jpa","ssl"],"owner":{"account_id":11349573,"reputation":27,"user_id":8321062,"display_name":"Ramon Gonz&#225;lez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674581020,"creation_date":1674577135,"question_id":75224309,"body_markdown":"I&#39;m getting the exception below creating an EntityManagerFactory instance after setting javax.net.ssl.keyStore system property. I don&#39;t get this exception if I call EMF before the \r\njavax.net.ssl.keyStore system property setting.\r\n\r\nAny suggestions? Should be my jdbc connection ssl encrypted as well?\r\n\r\nThank you.\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n           \r\n            \r\n            System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;ServerAccesKey.jks&quot;);\r\n            \r\n            System.setProperty(&quot;jenter code hereavax.net.ssl.keyStorePassword&quot;, &quot;acceskey&quot;);\r\n           \r\n            \r\n            EntityManagerFactory createEntityManagerFactory = Persistence.createEntityManagerFactory(&quot;JavaApplication4PU&quot;);\r\n            EntityManager createEntityManager = createEntityManagerFactory.createEntityManager();\r\n            \r\n        }\r\n\r\njavax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\nError Code: 0\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:858)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:222)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:200)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:542)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:153)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat javaapplication4.JavaApplication4.main(JavaApplication4.java:30)\r\nCaused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure","title":"Exception on call EntityManagerFactory intance after setting javax.net.ssl.keyStore system property","body":"<p>I'm getting the exception below creating an EntityManagerFactory instance after setting javax.net.ssl.keyStore system property. I don't get this exception if I call EMF before the\njavax.net.ssl.keyStore system property setting.</p>\n<p>Any suggestions? Should be my jdbc connection ssl encrypted as well?</p>\n<p>Thank you.</p>\n<pre><code>public static void main(String[] args) {\n       \n        \n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;ServerAccesKey.jks&quot;);\n        \n        System.setProperty(&quot;jenter code hereavax.net.ssl.keyStorePassword&quot;, &quot;acceskey&quot;);\n       \n        \n        EntityManagerFactory createEntityManagerFactory = Persistence.createEntityManagerFactory(&quot;JavaApplication4PU&quot;);\n        EntityManager createEntityManager = createEntityManagerFactory.createEntityManager();\n        \n    }\n</code></pre>\n<p>javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</p>\n<p>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nError Code: 0\nat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:858)\nat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:222)\nat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:200)\nat org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:542)\nat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:153)\nat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:191)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\nat javaapplication4.JavaApplication4.main(JavaApplication4.java:30)\nCaused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.10.v20211216-fe64cd39c3): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</p>\n"},{"tags":["java","parquet"],"answers":[{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674580651,"creation_date":1674580651,"answer_id":75224993,"question_id":75120882,"body_markdown":"`AvroParquetWriter` itself shouldn&#39;t be deprecated. Its constructors are deprecated, in favor of a static method [`builder​(org.apache.parquet.io.OutputFile&#160;file)`](https://javadoc.io/doc/org.apache.parquet/parquet-avro/latest/org/apache/parquet/avro/AvroParquetWriter.html#builder(org.apache.parquet.io.OutputFile)).\r\n","title":"Writing files to Parquet format in Java?","body":"<p><code>AvroParquetWriter</code> itself shouldn't be deprecated. Its constructors are deprecated, in favor of a static method <a href=\"https://javadoc.io/doc/org.apache.parquet/parquet-avro/latest/org/apache/parquet/avro/AvroParquetWriter.html#builder(org.apache.parquet.io.OutputFile)\" rel=\"nofollow noreferrer\"><code>builder​(org.apache.parquet.io.OutputFile file)</code></a>.</p>\n"}],"owner":{"account_id":25291875,"reputation":7,"user_id":19117788,"display_name":"lostSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674580651,"creation_date":1673726521,"question_id":75120882,"body_markdown":"While researching on writing files to Parquet in Java I came across -\r\n1. org.apache.parquet.hadoop.ParquetWriter \r\n2. org.apache.parquet.avro.AvroParquetWriter \r\n\r\nBut both have been deprecated. What are the alternatives?","title":"Writing files to Parquet format in Java?","body":"<p>While researching on writing files to Parquet in Java I came across -</p>\n<ol>\n<li>org.apache.parquet.hadoop.ParquetWriter</li>\n<li>org.apache.parquet.avro.AvroParquetWriter</li>\n</ol>\n<p>But both have been deprecated. What are the alternatives?</p>\n"},{"tags":["java","unit-testing","apache-kafka","mockito","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672353079,"post_id":74954853,"comment_id":132275104,"body_markdown":"I suggest looking at the existing tests in the schema registry project","body":"I suggest looking at the existing tests in the schema registry project"},{"owner":{"account_id":159200,"reputation":667,"user_id":378341,"accept_rate":83,"display_name":"YCN"},"score":0,"creation_date":1672507198,"post_id":74954853,"comment_id":132300854,"body_markdown":"referring to this? https://github.com/confluentinc/schema-registry/blob/4f305070b42c5d25c14f874a9a41a181425771db/schema-rules/src/test/java/io/confluent/kafka/schemaregistry/rules/cel/CelExecutorTest.java","body":"referring to this? <a href=\"https://github.com/confluentinc/schema-registry/blob/4f305070b42c5d25c14f874a9a41a181425771db/schema-rules/src/test/java/io/confluent/kafka/schemaregistry/rules/cel/CelExecutorTest.java\" rel=\"nofollow noreferrer\">github.com/confluentinc/schema-registry/blob/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672539759,"post_id":74954853,"comment_id":132304449,"body_markdown":"That is the correct repo, but not tests for the serializer","body":"That is the correct repo, but not tests for the serializer"}],"answers":[{"tags":[],"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674580253,"creation_date":1674580253,"answer_id":75224922,"question_id":74954853,"body_markdown":"Instead of mocking the `KafkaAvroDeserializer`, it will probably work better if you use the [MockSchemaRegistry][1].\r\n\r\nYou do this by supplying the following config `schema.registry.url=mock://deserializer-test` to the deserializer.  That way you&#39;re still using SR but it&#39;s in-memory so completely unit-testable.\r\n\r\nHTH,\r\nBill\r\n\r\n\r\n  [1]: https://github.com/confluentinc/schema-registry/blob/master/client/src/main/java/io/confluent/kafka/schemaregistry/client/MockSchemaRegistryClient.java","title":"Mocking KafkaAvroDeserializer for unit testing using Mockito","body":"<p>Instead of mocking the <code>KafkaAvroDeserializer</code>, it will probably work better if you use the <a href=\"https://github.com/confluentinc/schema-registry/blob/master/client/src/main/java/io/confluent/kafka/schemaregistry/client/MockSchemaRegistryClient.java\" rel=\"nofollow noreferrer\">MockSchemaRegistry</a>.</p>\n<p>You do this by supplying the following config <code>schema.registry.url=mock://deserializer-test</code> to the deserializer.  That way you're still using SR but it's in-memory so completely unit-testable.</p>\n<p>HTH,\nBill</p>\n"}],"owner":{"account_id":159200,"reputation":667,"user_id":378341,"accept_rate":83,"display_name":"YCN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674580253,"creation_date":1672338807,"question_id":74954853,"body_markdown":"I am trying to unit test a class which uses KafkaAvroDeserializer to deserialize an object. I would like to mock the KafkaAvroDeserializer so that I can test the business logic. However, when I am trying to mock KafkaAvroDeserializer, I get the following error:\r\n\r\n&gt; Underlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [class io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer, interface org.apache.kafka.common.serialization.Deserializer, interface java.io.Closeable, class io.confluent.kafka.serializers.KafkaAvroDeserializer, class io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe, interface java.lang.AutoCloseable]\r\n\r\n&gt; org.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class io.confluent.kafka.serializers.KafkaAvroDeserializer.\r\n\r\nMockito version: 4.8.0\r\nJDK: 8 and tried 11 too. \r\n\r\nAny help here is appreciated. Thanks.","title":"Mocking KafkaAvroDeserializer for unit testing using Mockito","body":"<p>I am trying to unit test a class which uses KafkaAvroDeserializer to deserialize an object. I would like to mock the KafkaAvroDeserializer so that I can test the business logic. However, when I am trying to mock KafkaAvroDeserializer, I get the following error:</p>\n<blockquote>\n<p>Underlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [class io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer, interface org.apache.kafka.common.serialization.Deserializer, interface java.io.Closeable, class io.confluent.kafka.serializers.KafkaAvroDeserializer, class io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe, interface java.lang.AutoCloseable]</p>\n</blockquote>\n<blockquote>\n<p>org.mockito.exceptions.base.MockitoException:\nMockito cannot mock this class: class io.confluent.kafka.serializers.KafkaAvroDeserializer.</p>\n</blockquote>\n<p>Mockito version: 4.8.0\nJDK: 8 and tried 11 too.</p>\n<p>Any help here is appreciated. Thanks.</p>\n"},{"tags":["java","spring-boot","fatjar","embedded-tomcat"],"owner":{"account_id":14711026,"reputation":633,"user_id":10624378,"display_name":"CoderJammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674580208,"creation_date":1674580208,"question_id":75224912,"body_markdown":"I have create a SpringBoot fat war application to run it inside his embedded Tomcat.\r\n\r\nNow I have a older configuration like follow:\r\n\r\n    @SpringBootApplication\r\n    @PropertySources({\r\n     @PropertySource(value = &quot;${app.config}&quot;, ignoreResourceNotFound = true),\r\n    })\r\n    public class MyApp extends SpringBootServletInitializer {\r\n      ....\r\n    }\r\n\r\nclearly ${app.config} represent a file linked in *JBoss* `standalone.xml` as follows:\r\n\r\n    &lt;system-properties&gt;\r\n        &lt;property name=&quot;app.config&quot; value=&quot;file:C://path//configuration.properties&quot;/&gt;\r\n    &lt;/system-properties&gt;\r\n\r\nThere is a way to pass this reference by command line? From externalize Spring configuration found [here][1] It seems not possible but maybe I read wrong.\r\n\r\nAnother value I want to pass through the command-line is the follow one set inside `application.properties`.\r\n\r\nThis is my `application.properties`:\r\n\r\n    logging.config=${log4j2.properties.path}\r\n\r\nI couldn&#39;t find anything about the second one. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html","title":"Passing @PropertySource and Maven variable from command line","body":"<p>I have create a SpringBoot fat war application to run it inside his embedded Tomcat.</p>\n<p>Now I have a older configuration like follow:</p>\n<pre><code>@SpringBootApplication\n@PropertySources({\n @PropertySource(value = &quot;${app.config}&quot;, ignoreResourceNotFound = true),\n})\npublic class MyApp extends SpringBootServletInitializer {\n  ....\n}\n</code></pre>\n<p>clearly ${app.config} represent a file linked in <em>JBoss</em> <code>standalone.xml</code> as follows:</p>\n<pre><code>&lt;system-properties&gt;\n    &lt;property name=&quot;app.config&quot; value=&quot;file:C://path//configuration.properties&quot;/&gt;\n&lt;/system-properties&gt;\n</code></pre>\n<p>There is a way to pass this reference by command line? From externalize Spring configuration found <a href=\"https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">here</a> It seems not possible but maybe I read wrong.</p>\n<p>Another value I want to pass through the command-line is the follow one set inside <code>application.properties</code>.</p>\n<p>This is my <code>application.properties</code>:</p>\n<pre><code>logging.config=${log4j2.properties.path}\n</code></pre>\n<p>I couldn't find anything about the second one.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9289,"page":703,"page_size":100}
