{"items":[{"tags":["java","hibernate","jpa","spring-data","hibernate-mapping"],"comments":[{"owner":{"account_id":4284875,"reputation":4472,"user_id":3503019,"accept_rate":42,"display_name":"Akash"},"score":0,"creation_date":1589206274,"post_id":61731604,"comment_id":109193138,"body_markdown":"Your before and after code is same.","body":"Your before and after code is same."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589206534,"creation_date":1589206534,"answer_id":61731849,"question_id":61731604,"body_markdown":"You can resolve it via getter/setter for the field in the database and applying `@Transient` annotation to the integer property.\r\n\r\n```\r\n@Entity\r\npublic class TestEntity {\r\n    @Column(name = &quot;test&quot;) \r\n    private  String getTest() {\r\n        return String.valueOf(this.intTest);\r\n    }\r\n\r\n    private void setTest(String test) {\r\n        try {\r\n            this.intTest = Integer.parseInt(test);\r\n        } catch (NumberFormatException e) {\r\n            this.intTest = 0;\r\n        }\r\n    }\r\n\r\n    @Transient\r\n    private int intTest;\r\n\r\n    public int getIntTest() { return intTest; }\r\n\r\n    public void setIntTest(int test) {\r\n        this.intTest = intTest;\r\n    }\r\n}\r\n```","title":"Map Varchar column type to Integer in entity jpa","body":"<p>You can resolve it via getter/setter for the field in the database and applying <code>@Transient</code> annotation to the integer property.</p>\n\n<pre><code>@Entity\npublic class TestEntity {\n    @Column(name = \"test\") \n    private  String getTest() {\n        return String.valueOf(this.intTest);\n    }\n\n    private void setTest(String test) {\n        try {\n            this.intTest = Integer.parseInt(test);\n        } catch (NumberFormatException e) {\n            this.intTest = 0;\n        }\n    }\n\n    @Transient\n    private int intTest;\n\n    public int getIntTest() { return intTest; }\n\n    public void setIntTest(int test) {\n        this.intTest = intTest;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1589207270,"creation_date":1589207270,"answer_id":61732105,"question_id":61731604,"body_markdown":"Create an `AttributeConverter` which will be use for Database to entity type converstion\r\n\r\n    @Converter\r\n    public class IntegerToStringConverter implements AttributeConverter &lt; Integer,\r\n     String &gt; {\r\n      @Override\r\n      public String convertToDatabaseColumn(Integer value) {\r\n       return Integer.toString(number);\r\n      }\r\n    \r\n      @Override\r\n      public Integer convertToEntityAttribute(String number) {\r\n       try {\r\n        return Integer.parseInt(number);\r\n       } catch (Exception e) {\r\n        throw new IllegalStateException(&quot;Invalid number: &quot; + value);\r\n       }\r\n      }\r\n     }\r\n\r\nAnd use it on your column\r\n\r\n    @Convert(converter = IntegerToStringConverter.class)\r\n    @Column(name = &quot;Test&quot;)\r\n    private Integer Test;\r\n\r\n","title":"Map Varchar column type to Integer in entity jpa","body":"<p>Create an <code>AttributeConverter</code> which will be use for Database to entity type converstion</p>\n\n<pre><code>@Converter\npublic class IntegerToStringConverter implements AttributeConverter &lt; Integer,\n String &gt; {\n  @Override\n  public String convertToDatabaseColumn(Integer value) {\n   return Integer.toString(number);\n  }\n\n  @Override\n  public Integer convertToEntityAttribute(String number) {\n   try {\n    return Integer.parseInt(number);\n   } catch (Exception e) {\n    throw new IllegalStateException(\"Invalid number: \" + value);\n   }\n  }\n }\n</code></pre>\n\n<p>And use it on your column</p>\n\n<pre><code>@Convert(converter = IntegerToStringConverter.class)\n@Column(name = \"Test\")\nprivate Integer Test;\n</code></pre>\n"}],"owner":{"account_id":15865616,"reputation":299,"user_id":11447747,"display_name":"Faizan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5940,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61732105,"answer_count":2,"score":3,"last_activity_date":1640594370,"creation_date":1589205906,"question_id":61731604,"body_markdown":"I have legacy table in which one of its column&#39;s type is varchar but there is all numbers in it. I don&#39;t want to change datatype in table. I want to change the column data type in entity.\r\n\r\nBefore it was string now i changed it to Integer and crud operations are working fine.  Is this fine doing or there is some other way of doing it?  Sample code:\r\n\r\n\r\n**Before:**\r\n```java\r\n@Entity\r\npublic class TestEntity{\r\n    @Column(name = &quot;Test&quot;)\r\n    private String test;\r\n}\r\n```\r\n**Now:**\r\n\r\n```java\r\n@Entity\r\npublic class TestEntity{\r\n    @Column(name = &quot;Test&quot;)\r\n    private Integer test;\r\n}\r\n```","title":"Map Varchar column type to Integer in entity jpa","body":"<p>I have legacy table in which one of its column's type is varchar but there is all numbers in it. I don't want to change datatype in table. I want to change the column data type in entity.</p>\n<p>Before it was string now i changed it to Integer and crud operations are working fine.  Is this fine doing or there is some other way of doing it?  Sample code:</p>\n<p><strong>Before:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class TestEntity{\n    @Column(name = &quot;Test&quot;)\n    private String test;\n}\n</code></pre>\n<p><strong>Now:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class TestEntity{\n    @Column(name = &quot;Test&quot;)\n    private Integer test;\n}\n</code></pre>\n"},{"tags":["java","xml","spring","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1640597050,"post_id":70493108,"comment_id":124611250,"body_markdown":"And line 7 is what?","body":"And line 7 is what?"},{"owner":{"account_id":22549698,"reputation":35,"user_id":16738974,"display_name":"ingan25"},"score":0,"creation_date":1640649851,"post_id":70493108,"comment_id":124625553,"body_markdown":"This is the part of servlet-context.xml.          \n&#39;xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;&#39;","body":"This is the part of servlet-context.xml.           &#39;xsi:schemaLocation=&quot;<a href=\"http://www.springframework.org/schema/mvc\" rel=\"nofollow noreferrer\">springframework.org/schema/mvc</a> <a href=\"https://www.springframework.org/schema/mvc/spring-mvc.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/mvc/spring-mvc.xsd</a>         <a href=\"http://www.springframework.org/schema/beans\" rel=\"nofollow noreferrer\">springframework.org/schema/beans</a> <a href=\"https://www.springframework.org/schema/beans/spring-beans.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/beans/spring-beans.xsd</a>         <a href=\"http://www.springframework.org/schema/context\" rel=\"nofollow noreferrer\">springframework.org/schema/context</a> <a href=\"https://www.springframework.org/schema/context/spring-context.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/context/spring-context.xsd</a>&quot;&gt;&#39;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641290683,"post_id":70493108,"comment_id":124761069,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":22549698,"reputation":35,"user_id":16738974,"display_name":"ingan25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640594110,"creation_date":1640592999,"question_id":70493108,"body_markdown":"While implementing CRUD with a spring, this error occurred and has not been able to proceed with CRUD for several hours... \r\n\r\n&quot;Line 7 of the xml document of the servlet context resource [/web-inf/spring/appservlet/slaplet-slap.xml] is invalid.&quot; \r\n\r\nEven if line 7 is erased, line 6 is an error and line 5 is an error if erased once again, so I don&#39;t think this is an empty tag problem.\r\n\r\nJust in case, I&#39;ll put the controller and dao. \r\n\r\nI&#39;m worried that it&#39;ll be uncomfortable to watch. sorry..\r\nhelp me!! \r\n\r\nController\r\n    \t\r\n  \r\n    @Controller\r\n    @RequestMapping(&quot;/article&quot;)\r\n    public class ArticleController {\r\n        private static final Logger logger = LoggerFactory.getLogger(ArticleController.class);\r\n        private final ArticleService articleService;\r\n    \r\n    @Inject\r\n    public ArticleController(ArticleService articleService) {\r\n        this.articleService = articleService;\r\n    }\r\n    \r\n    \r\n    @RequestMapping(value = &quot;/write&quot;, method = RequestMethod.GET)\r\n    \r\n    public String writeGET() {\r\n        logger.info(&quot;write GET...&quot;);\r\n        return &quot;/article/write&quot;;\r\n    }\r\n    \r\n    @RequestMapping(value = &quot;/write&quot;, method = RequestMethod.POST)\r\n    \r\n    public String writePOST(ArticleVO articleVO, RedirectAttributes redirectAttributes) throws Exception {\r\n        logger.info(&quot;writePOST...&quot;);\r\n        logger.info(articleVO.toString());\r\n        articleService.create(articleVO);\r\n        ;\r\n        redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;regSuccess&quot;);\r\n        return &quot;redirect:/article/list&quot;;\r\n    }\r\n    \r\n    @RequestMapping(value = &quot;/list&quot;, method = RequestMethod.GET)\r\n    \r\n    public String list(Model model) throws Exception {\r\n        logger.info(&quot;list ...&quot;);\r\n        model.addAttribute(&quot;articles&quot;, articleService.listAll());\r\n        return &quot;/article/list&quot;;\r\n    } \r\n    \r\n    @RequestMapping(value = &quot;/read&quot;, method = RequestMethod.GET)\r\n    public String read(@RequestParam(&quot;article_no&quot;) int article_no, Model model) throws Exception {\r\n        logger.info(&quot;read ...&quot;);\r\n        model.addAttribute(&quot;article&quot;, articleService.read(article_no));\r\n        return &quot;/article/read&quot;;\r\n    } \r\n    \r\n    @RequestMapping(value = &quot;/modify&quot;, method = RequestMethod.GET)\r\n    public String modifyGET(@RequestParam(&quot;article_no&quot;) int article_no, Model model) throws Exception {\r\n        logger.info(&quot;modifyGet ...&quot;);\r\n        model.addAttribute(&quot;article&quot;, articleService.read(article_no));\r\n        return &quot;/article/modify&quot;;\r\n    } \r\n    \r\n    @RequestMapping(value = &quot;/modify&quot;, method = RequestMethod.POST)\r\n    public String modifyPOST(ArticleVO articleVO, RedirectAttributes redirectAttributes) throws Exception {\r\n        logger.info(&quot;modifyPOST ...&quot;);\r\n        articleService.update(articleVO);\r\n        redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;modSuccess&quot;);\r\n        return &quot;redirect:/article/list&quot;;\r\n    }\r\n    \r\n    @RequestMapping(value = &quot;/remove&quot;, method = RequestMethod.POST)\r\n    \r\n    public String remove(@RequestParam(&quot;article_no&quot;) int article_no, RedirectAttributes redirectAttributes)\r\n            throws Exception {\r\n        logger.info(&quot;remove ...&quot;);\r\n        articleService.delete(article_no);\r\n        redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;delSuccess&quot;);\r\n        return &quot;redirect:/article/list&quot;;\r\n    }\r\n    }\r\n\r\nDAO\r\n   \r\n\r\n     @Controller\r\n        @RequestMapping(&quot;/article&quot;)\r\n        public class ArticleController {\r\n            private static final Logger logger = LoggerFactory.getLogger(ArticleController.class);\r\n            private final ArticleService articleService;\r\n        \r\n        @Inject\r\n        public ArticleController(ArticleService articleService) {\r\n            this.articleService = articleService;\r\n     \r\n        @RequestMapping(value = &quot;/write&quot;, method = RequestMethod.GET)\r\n        \r\n        public String writeGET() {\r\n            logger.info(&quot;write GET...&quot;);\r\n            return &quot;/article/write&quot;;\r\n        } \r\n        \r\n        @RequestMapping(value = &quot;/write&quot;, method = RequestMethod.POST)\r\n        \r\n        public String writePOST(ArticleVO articleVO, RedirectAttributes redirectAttributes) throws Exception {\r\n            logger.info(&quot;writePOST...&quot;);\r\n            logger.info(articleVO.toString());\r\n            articleService.create(articleVO);\r\n            ;\r\n            redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;regSuccess&quot;);\r\n            return &quot;redirect:/article/list&quot;;\r\n        } \r\n        \r\n        @RequestMapping(value = &quot;/list&quot;, method = RequestMethod.GET)\r\n        \r\n        public String list(Model model) throws Exception {\r\n            logger.info(&quot;list ...&quot;);\r\n            model.addAttribute(&quot;articles&quot;, articleService.listAll());\r\n            return &quot;/article/list&quot;;\r\n        } \r\n        \r\n        @RequestMapping(value = &quot;/read&quot;, method = RequestMethod.GET)\r\n        public String read(@RequestParam(&quot;article_no&quot;) int article_no, Model model) throws Exception {\r\n            logger.info(&quot;read ...&quot;);\r\n            model.addAttribute(&quot;article&quot;, articleService.read(article_no));\r\n            return &quot;/article/read&quot;;\r\n        } \r\n        \r\n        @RequestMapping(value = &quot;/modify&quot;, method = RequestMethod.GET)\r\n        public String modifyGET(@RequestParam(&quot;article_no&quot;) int article_no, Model model) throws Exception {\r\n            logger.info(&quot;modifyGet ...&quot;);\r\n            model.addAttribute(&quot;article&quot;, articleService.read(article_no));\r\n            return &quot;/article/modify&quot;;\r\n        } \r\n        \r\n        @RequestMapping(value = &quot;/modify&quot;, method = RequestMethod.POST)\r\n        public String modifyPOST(ArticleVO articleVO, RedirectAttributes redirectAttributes) throws Exception {\r\n            logger.info(&quot;modifyPOST ...&quot;);\r\n            articleService.update(articleVO);\r\n            redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;modSuccess&quot;);\r\n            return &quot;redirect:/article/list&quot;;\r\n        } \r\n        \r\n        @RequestMapping(value = &quot;/remove&quot;, method = RequestMethod.POST)\r\n        \r\n        public String remove(@RequestParam(&quot;article_no&quot;) int article_no, RedirectAttributes redirectAttributes)\r\n                throws Exception {\r\n            logger.info(&quot;remove ...&quot;);\r\n            articleService.delete(article_no);\r\n            redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;delSuccess&quot;);\r\n            return &quot;redirect:/article/list&quot;;\r\n        }\r\n        }\r\n\r\nservlet-context.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n            http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n            \r\n         &lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing \r\n            infrastructure --&gt; &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n        &lt;annotation-driven /&gt; &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up \r\n            static resources in the ${webappRoot}/resources directory --&gt;\r\n        &lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n        &lt;resources mapping=&quot;/plugins/**&quot;\r\n            location=&quot;/resources/plugins/&quot; /&gt;\r\n        &lt;resources mapping=&quot;/dist/**&quot; location=&quot;/resources/dist/&quot; /&gt; &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \r\n            in the /WEB-INF/views directory --&gt;\r\n        &lt;beans:bean\r\n            class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n            &lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n        &lt;context:component-scan\r\n            base-package=&quot;com.cameldev.httpsession&quot; /&gt;\r\n    &lt;/beans:beans&gt;\r\n\r\nroot-context.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n        http://www.springframework.org/schema/beans/spring-beans.xsd \r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; \r\n    \r\n        &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n        &lt;bean id=&quot;dataSource&quot;\r\n            class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n            &lt;property name=&quot;driverClassName&quot;\r\n                value=&quot;net.sf.log4jdbc.sql.jdbcapi.DriverSpy&quot; /&gt;\r\n            &lt;property name=&quot;url&quot;\r\n                value=&quot;jdbc:log4jdbc:mysql://127.0.0.1:3306/injo?serverTimezone=UTC&amp;useSSL=false&quot; /&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;howang12&quot; /&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean id=&quot;sqlSessionFactory&quot;\r\n            class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n            &lt;property name=&quot;configLocation&quot;\r\n                value=&quot;classpath:/mybatis-config.xml&quot; /&gt;\r\n            &lt;property name=&quot;mapperLocations&quot;\r\n                value=&quot;classpath:mappers/**/*Mapper.xml&quot; /&gt;\r\n        &lt;/bean&gt;\r\n        &lt;bean id=&quot;sqlSession&quot;\r\n            class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;\r\n            destroy-method=&quot;clearCache&quot;&gt;\r\n            &lt;constructor-arg name=&quot;sqlSessionFactory&quot;\r\n                ref=&quot;sqlSessionFactory&quot; /&gt;\r\n        &lt;/bean&gt;\r\n        &lt;context:component-scan base-package=&quot;com.cameldev.httpsession&quot; /&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee https://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt; \r\n        &lt;!-- The definition of the Root Spring Container shared by all Servlets and Filters --&gt;\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/spring/root-context.xml&lt;/param-value&gt;\r\n        &lt;/context-param&gt; &lt;!-- Creates the Spring Container shared by all Servlets and Filters --&gt;\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt; &lt;!-- Processes application requests --&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;encoding&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n                &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;encoding&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n","title":"SEVERE: Servlet.init() call for Servlet [appServlet] caused an exception","body":"<p>While implementing CRUD with a spring, this error occurred and has not been able to proceed with CRUD for several hours...</p>\n<p>&quot;Line 7 of the xml document of the servlet context resource [/web-inf/spring/appservlet/slaplet-slap.xml] is invalid.&quot;</p>\n<p>Even if line 7 is erased, line 6 is an error and line 5 is an error if erased once again, so I don't think this is an empty tag problem.</p>\n<p>Just in case, I'll put the controller and dao.</p>\n<p>I'm worried that it'll be uncomfortable to watch. sorry..\nhelp me!!</p>\n<p>Controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/article&quot;)\npublic class ArticleController {\n    private static final Logger logger = LoggerFactory.getLogger(ArticleController.class);\n    private final ArticleService articleService;\n\n@Inject\npublic ArticleController(ArticleService articleService) {\n    this.articleService = articleService;\n}\n\n\n@RequestMapping(value = &quot;/write&quot;, method = RequestMethod.GET)\n\npublic String writeGET() {\n    logger.info(&quot;write GET...&quot;);\n    return &quot;/article/write&quot;;\n}\n\n@RequestMapping(value = &quot;/write&quot;, method = RequestMethod.POST)\n\npublic String writePOST(ArticleVO articleVO, RedirectAttributes redirectAttributes) throws Exception {\n    logger.info(&quot;writePOST...&quot;);\n    logger.info(articleVO.toString());\n    articleService.create(articleVO);\n    ;\n    redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;regSuccess&quot;);\n    return &quot;redirect:/article/list&quot;;\n}\n\n@RequestMapping(value = &quot;/list&quot;, method = RequestMethod.GET)\n\npublic String list(Model model) throws Exception {\n    logger.info(&quot;list ...&quot;);\n    model.addAttribute(&quot;articles&quot;, articleService.listAll());\n    return &quot;/article/list&quot;;\n} \n\n@RequestMapping(value = &quot;/read&quot;, method = RequestMethod.GET)\npublic String read(@RequestParam(&quot;article_no&quot;) int article_no, Model model) throws Exception {\n    logger.info(&quot;read ...&quot;);\n    model.addAttribute(&quot;article&quot;, articleService.read(article_no));\n    return &quot;/article/read&quot;;\n} \n\n@RequestMapping(value = &quot;/modify&quot;, method = RequestMethod.GET)\npublic String modifyGET(@RequestParam(&quot;article_no&quot;) int article_no, Model model) throws Exception {\n    logger.info(&quot;modifyGet ...&quot;);\n    model.addAttribute(&quot;article&quot;, articleService.read(article_no));\n    return &quot;/article/modify&quot;;\n} \n\n@RequestMapping(value = &quot;/modify&quot;, method = RequestMethod.POST)\npublic String modifyPOST(ArticleVO articleVO, RedirectAttributes redirectAttributes) throws Exception {\n    logger.info(&quot;modifyPOST ...&quot;);\n    articleService.update(articleVO);\n    redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;modSuccess&quot;);\n    return &quot;redirect:/article/list&quot;;\n}\n\n@RequestMapping(value = &quot;/remove&quot;, method = RequestMethod.POST)\n\npublic String remove(@RequestParam(&quot;article_no&quot;) int article_no, RedirectAttributes redirectAttributes)\n        throws Exception {\n    logger.info(&quot;remove ...&quot;);\n    articleService.delete(article_no);\n    redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;delSuccess&quot;);\n    return &quot;redirect:/article/list&quot;;\n}\n}\n</code></pre>\n<p>DAO</p>\n<pre><code> @Controller\n    @RequestMapping(&quot;/article&quot;)\n    public class ArticleController {\n        private static final Logger logger = LoggerFactory.getLogger(ArticleController.class);\n        private final ArticleService articleService;\n    \n    @Inject\n    public ArticleController(ArticleService articleService) {\n        this.articleService = articleService;\n \n    @RequestMapping(value = &quot;/write&quot;, method = RequestMethod.GET)\n    \n    public String writeGET() {\n        logger.info(&quot;write GET...&quot;);\n        return &quot;/article/write&quot;;\n    } \n    \n    @RequestMapping(value = &quot;/write&quot;, method = RequestMethod.POST)\n    \n    public String writePOST(ArticleVO articleVO, RedirectAttributes redirectAttributes) throws Exception {\n        logger.info(&quot;writePOST...&quot;);\n        logger.info(articleVO.toString());\n        articleService.create(articleVO);\n        ;\n        redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;regSuccess&quot;);\n        return &quot;redirect:/article/list&quot;;\n    } \n    \n    @RequestMapping(value = &quot;/list&quot;, method = RequestMethod.GET)\n    \n    public String list(Model model) throws Exception {\n        logger.info(&quot;list ...&quot;);\n        model.addAttribute(&quot;articles&quot;, articleService.listAll());\n        return &quot;/article/list&quot;;\n    } \n    \n    @RequestMapping(value = &quot;/read&quot;, method = RequestMethod.GET)\n    public String read(@RequestParam(&quot;article_no&quot;) int article_no, Model model) throws Exception {\n        logger.info(&quot;read ...&quot;);\n        model.addAttribute(&quot;article&quot;, articleService.read(article_no));\n        return &quot;/article/read&quot;;\n    } \n    \n    @RequestMapping(value = &quot;/modify&quot;, method = RequestMethod.GET)\n    public String modifyGET(@RequestParam(&quot;article_no&quot;) int article_no, Model model) throws Exception {\n        logger.info(&quot;modifyGet ...&quot;);\n        model.addAttribute(&quot;article&quot;, articleService.read(article_no));\n        return &quot;/article/modify&quot;;\n    } \n    \n    @RequestMapping(value = &quot;/modify&quot;, method = RequestMethod.POST)\n    public String modifyPOST(ArticleVO articleVO, RedirectAttributes redirectAttributes) throws Exception {\n        logger.info(&quot;modifyPOST ...&quot;);\n        articleService.update(articleVO);\n        redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;modSuccess&quot;);\n        return &quot;redirect:/article/list&quot;;\n    } \n    \n    @RequestMapping(value = &quot;/remove&quot;, method = RequestMethod.POST)\n    \n    public String remove(@RequestParam(&quot;article_no&quot;) int article_no, RedirectAttributes redirectAttributes)\n            throws Exception {\n        logger.info(&quot;remove ...&quot;);\n        articleService.delete(article_no);\n        redirectAttributes.addFlashAttribute(&quot;msg&quot;, &quot;delSuccess&quot;);\n        return &quot;redirect:/article/list&quot;;\n    }\n    }\n</code></pre>\n<p>servlet-context.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\n        \n     &lt;!-- DispatcherServlet Context: defines this servlet's request-processing \n        infrastructure --&gt; &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n    &lt;annotation-driven /&gt; &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up \n        static resources in the ${webappRoot}/resources directory --&gt;\n    &lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\n    &lt;resources mapping=&quot;/plugins/**&quot;\n        location=&quot;/resources/plugins/&quot; /&gt;\n    &lt;resources mapping=&quot;/dist/**&quot; location=&quot;/resources/dist/&quot; /&gt; &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \n        in the /WEB-INF/views directory --&gt;\n    &lt;beans:bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/beans:bean&gt;\n    &lt;context:component-scan\n        base-package=&quot;com.cameldev.httpsession&quot; /&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n<p>root-context.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans.xsd \n    http://www.springframework.org/schema/context \n    http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; \n\n    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n    &lt;bean id=&quot;dataSource&quot;\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot;\n            value=&quot;net.sf.log4jdbc.sql.jdbcapi.DriverSpy&quot; /&gt;\n        &lt;property name=&quot;url&quot;\n            value=&quot;jdbc:log4jdbc:mysql://127.0.0.1:3306/injo?serverTimezone=UTC&amp;useSSL=false&quot; /&gt;\n        &lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;howang12&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;sqlSessionFactory&quot;\n        class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n        &lt;property name=&quot;configLocation&quot;\n            value=&quot;classpath:/mybatis-config.xml&quot; /&gt;\n        &lt;property name=&quot;mapperLocations&quot;\n            value=&quot;classpath:mappers/**/*Mapper.xml&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;sqlSession&quot;\n        class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;\n        destroy-method=&quot;clearCache&quot;&gt;\n        &lt;constructor-arg name=&quot;sqlSessionFactory&quot;\n            ref=&quot;sqlSessionFactory&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;context:component-scan base-package=&quot;com.cameldev.httpsession&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee https://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt; \n    &lt;!-- The definition of the Root Spring Container shared by all Servlets and Filters --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/root-context.xml&lt;/param-value&gt;\n    &lt;/context-param&gt; &lt;!-- Creates the Spring Container shared by all Servlets and Filters --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt; &lt;!-- Processes application requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;encoding&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encoding&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","oop","doubly-linked-list"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640593518,"post_id":70493152,"comment_id":124610315,"body_markdown":"That main is not a valid main (at least, not if it is intended to be an entry point of your program, as that should be `public static void main(String[] args)`, not just `void main()`). If you had a correct main, the problem would become immediately obvious (because it wouldn&#39;t compile). In your last code, you are calling the methods on `this` implicitly, which is the instance of `DoublyLinkedList` you called `main()` on, while in your original code you call it on the instance referenced by `obj`.","body":"That main is not a valid main (at least, not if it is intended to be an entry point of your program, as that should be <code>public static void main(String[] args)</code>, not just <code>void main()</code>). If you had a correct main, the problem would become immediately obvious (because it wouldn&#39;t compile). In your last code, you are calling the methods on <code>this</code> implicitly, which is the instance of <code>DoublyLinkedList</code> you called <code>main()</code> on, while in your original code you call it on the instance referenced by <code>obj</code>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1640593751,"post_id":70493152,"comment_id":124610364,"body_markdown":"_what will happen if I just call the functions directly_ There&#39;s one way to find out, isn&#39;t there?","body":"<i>what will happen if I just call the functions directly</i> There&#39;s one way to find out, isn&#39;t there?"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":1,"creation_date":1640596384,"post_id":70493152,"comment_id":124611070,"body_markdown":"Does this answer your question? [Calling Non-Static Method In Static Method In Java](https://stackoverflow.com/questions/2042813/calling-non-static-method-in-static-method-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2042813/calling-non-static-method-in-static-method-in-java\">Calling Non-Static Method In Static Method In Java</a>"},{"owner":{"account_id":22755845,"reputation":95,"user_id":16915314,"display_name":"Surya Majumder"},"score":0,"creation_date":1640597165,"post_id":70493152,"comment_id":124611284,"body_markdown":"@user16320675 I have actually tried that before posting my question. The fact is that if i create an object, but calling some function without it, then that function is not working. But it works when all functions are called without object and the object is not created. So, you see I am getting output in both the ways but I want to know the difference and why the patial object and function combo not working. Please help.","body":"@user16320675 I have actually tried that before posting my question. The fact is that if i create an object, but calling some function without it, then that function is not working. But it works when all functions are called without object and the object is not created. So, you see I am getting output in both the ways but I want to know the difference and why the patial object and function combo not working. Please help."},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1640598444,"post_id":70493152,"comment_id":124611676,"body_markdown":"@SuryaMajumder You should read the basics from a book , try to search about what is the difference between static and instance methods , search for what is the meaning of the word static in java,  what is an instance  ... thanks","body":"@SuryaMajumder You should read the basics from a book , try to search about what is the difference between static and instance methods , search for what is the meaning of the word static in java,  what is an instance  ... thanks"},{"owner":{"account_id":22755845,"reputation":95,"user_id":16915314,"display_name":"Surya Majumder"},"score":0,"creation_date":1640598776,"post_id":70493152,"comment_id":124611772,"body_markdown":"@OussamaZAGHDOUD thank you so much for the topic to search on ; difference between static and instance methods ; finally got my answer thank you. Thanks a lot.","body":"@OussamaZAGHDOUD thank you so much for the topic to search on ; difference between static and instance methods ; finally got my answer thank you. Thanks a lot."},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1640602605,"post_id":70493152,"comment_id":124612946,"body_markdown":"Welcome , static method is like a shared method, you can call it just using the reference to the method , or using a reference of an instance , or using a reference of the class , , instance methods are methods of objects or instances , you can call them just using a reference of the instance","body":"Welcome , static method is like a shared method, you can call it just using the reference to the method , or using a reference of an instance , or using a reference of the class , , instance methods are methods of objects or instances , you can call them just using a reference of the instance"},{"owner":{"account_id":22755845,"reputation":95,"user_id":16915314,"display_name":"Surya Majumder"},"score":0,"creation_date":1640686515,"post_id":70493152,"comment_id":124632354,"body_markdown":"Wow! Thank you a lot @OussamaZAGHDOUD for the beautiful description. Thanks a lot.","body":"Wow! Thank you a lot @OussamaZAGHDOUD for the beautiful description. Thanks a lot."}],"owner":{"account_id":22755845,"reputation":95,"user_id":16915314,"display_name":"Surya Majumder"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640593463,"creation_date":1640593332,"question_id":70493152,"body_markdown":"I am very new to programming with Java and I had a question with the usage of objects of a class. I have done a program on DLL as shown below :\r\n\r\n    class DoublyLinkedList\r\n    {\r\n        Node1 head;\r\n        void createFirst(int d)\r\n        {\r\n            Node1 newnode = new Node1(d);\r\n            head = newnode;\r\n        }\r\n        void appendNode(int d)\r\n        {\r\n            Node1 temp = head;\r\n            while(temp.next!=null)\r\n            {\r\n                temp = temp.next;\r\n            }\r\n            Node1 newnode = new Node1(d);\r\n            temp.next = newnode;\r\n            newnode.prev = temp;\r\n        }\r\n        void display()\r\n        {\r\n            Node1 temp = head;\r\n            if(head==null)\r\n            {\r\n                System.out.print(&quot;Empty List&quot;);\r\n                return;\r\n            }\r\n            System.out.print(&quot;Nodes are ...&quot;);\r\n            while(temp!=null)\r\n            {\r\n                System.out.print(temp.data+&quot; &quot;);\r\n                temp = temp.next;\r\n            }\r\n        }\r\n        void main()\r\n        {\r\n            DoublyLinkedList obj = new DoublyLinkedList();\r\n            obj.createFirst(2);\r\n            obj.appendNode(5);\r\n            obj.appendNode(7);\r\n            obj.display();\r\n        }\r\n    }\r\n\r\nMy question is inside the main() instead of making an object as I was taught, what will happen if I just call the functions directly as shown below :\r\n\r\n        void main()\r\n        {\r\n            createFirst(2);\r\n            appendNode(5);\r\n            appendNode(7);\r\n            display();\r\n        }\r\n\r\nI want to know the problem, the relation that this object creates etc. Someone please help.","title":"Usage of objects of a class in Java","body":"<p>I am very new to programming with Java and I had a question with the usage of objects of a class. I have done a program on DLL as shown below :</p>\n<pre><code>class DoublyLinkedList\n{\n    Node1 head;\n    void createFirst(int d)\n    {\n        Node1 newnode = new Node1(d);\n        head = newnode;\n    }\n    void appendNode(int d)\n    {\n        Node1 temp = head;\n        while(temp.next!=null)\n        {\n            temp = temp.next;\n        }\n        Node1 newnode = new Node1(d);\n        temp.next = newnode;\n        newnode.prev = temp;\n    }\n    void display()\n    {\n        Node1 temp = head;\n        if(head==null)\n        {\n            System.out.print(&quot;Empty List&quot;);\n            return;\n        }\n        System.out.print(&quot;Nodes are ...&quot;);\n        while(temp!=null)\n        {\n            System.out.print(temp.data+&quot; &quot;);\n            temp = temp.next;\n        }\n    }\n    void main()\n    {\n        DoublyLinkedList obj = new DoublyLinkedList();\n        obj.createFirst(2);\n        obj.appendNode(5);\n        obj.appendNode(7);\n        obj.display();\n    }\n}\n</code></pre>\n<p>My question is inside the main() instead of making an object as I was taught, what will happen if I just call the functions directly as shown below :</p>\n<pre><code>    void main()\n    {\n        createFirst(2);\n        appendNode(5);\n        appendNode(7);\n        display();\n    }\n</code></pre>\n<p>I want to know the problem, the relation that this object creates etc. Someone please help.</p>\n"},{"tags":["java","spring","maven","spring-boot","pom.xml"],"comments":[{"owner":{"account_id":1587080,"reputation":3848,"user_id":2600196,"accept_rate":100,"display_name":"kakabali"},"score":0,"creation_date":1522855845,"post_id":49654666,"comment_id":86318749,"body_markdown":"please share the beginning `&lt;project&gt;` tag","body":"please share the beginning <code>&lt;project&gt;</code> tag"}],"answers":[{"tags":[],"owner":{"account_id":1466693,"reputation":1023,"user_id":1379329,"display_name":"Kevin Raoofi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522855239,"creation_date":1522855239,"answer_id":49654763,"question_id":49654666,"body_markdown":"`relativePath` requires a path inside it like so:\r\n \r\n    &lt;parent&gt;\r\n      &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-app&lt;/artifactId&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n      &lt;relativePath&gt;../parent/pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n\r\nAll you likely need to do is remove `&lt;relativePath/&gt;` and make your parent look like so:\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;","title":"spring boot pom.xml Failure to transfer","body":"<p><code>relativePath</code> requires a path inside it like so:</p>\n\n<pre><code>&lt;parent&gt;\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;relativePath&gt;../parent/pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>All you likely need to do is remove <code>&lt;relativePath/&gt;</code> and make your parent look like so:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1587080,"reputation":3848,"user_id":2600196,"accept_rate":100,"display_name":"kakabali"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1584801120,"creation_date":1522855337,"answer_id":49654802,"question_id":49654666,"body_markdown":"Things to try\r\n\r\n1. You can try replacing your beginning `&lt;project&gt;` tag like below:-\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;!-- Other stuff of the pom.xml here --&gt;\r\n    &lt;/project&gt;\r\n\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\n2. You need to remove `&lt;relativePath/&gt;` and the parent will look like below:-\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;!-- use your specific version here --&gt;\r\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\n3. If still it is not resolving then it could be various things like:-\r\n\r\n 1. internet connection, could be proxy issue also\r\n 2. try deleting the folder `M2_FOLDER_LOCATION\\.m2\\repository\\org\\springframework\\boot\\spring-boot-parent` and then re importing the project.","title":"spring boot pom.xml Failure to transfer","body":"<p>Things to try</p>\n\n<ol>\n<li>You can try replacing your beginning <code>&lt;project&gt;</code> tag like below:-</li>\n</ol>\n\n<p><pre><code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n            http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;!-- Other stuff of the pom.xml here --&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p></pre></code></p>\n\n<ol start=\"2\">\n<li>You need to remove <code>&lt;relativePath/&gt;</code> and the parent will look like below:-</li>\n</ol>\n\n<p><pre><code></p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;!-- use your specific version here --&gt;\n    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p></pre></code></p>\n\n<ol start=\"3\">\n<li><p>If still it is not resolving then it could be various things like:-</p>\n\n<ol>\n<li>internet connection, could be proxy issue also</li>\n<li>try deleting the folder <code>M2_FOLDER_LOCATION\\.m2\\repository\\org\\springframework\\boot\\spring-boot-parent</code> and then re importing the project.</li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18042988,"reputation":131,"user_id":13114649,"display_name":"pratyusha k"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1588873684,"creation_date":1588850607,"answer_id":61656551,"question_id":49654666,"body_markdown":"I was facing the same problem.\r\nI followed the following steps: \r\n\r\n1. Right-click on the project and select Maven,\r\n2. Click on Update Project,\r\n3. Except Offline select every checkbox.\r\n\r\n\r\nIt should work fine now.","title":"spring boot pom.xml Failure to transfer","body":"<p>I was facing the same problem.\nI followed the following steps: </p>\n\n<ol>\n<li>Right-click on the project and select Maven,</li>\n<li>Click on Update Project,</li>\n<li>Except Offline select every checkbox.</li>\n</ol>\n\n<p>It should work fine now.</p>\n"},{"tags":[],"owner":{"account_id":1255028,"reputation":9,"user_id":1214683,"display_name":"user1214683"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620729749,"creation_date":1620729749,"answer_id":67485152,"question_id":49654666,"body_markdown":"I was practicing in home, so no proxy with one ISP, it was causing a problem but it was not before in any project for practice only. So deleted the setting.xml in .m2 folder (in windows os). parent error in pom.xml disappeared","title":"spring boot pom.xml Failure to transfer","body":"<p>I was practicing in home, so no proxy with one ISP, it was causing a problem but it was not before in any project for practice only. So deleted the setting.xml in .m2 folder (in windows os). parent error in pom.xml disappeared</p>\n"},{"tags":[],"owner":{"account_id":8818173,"reputation":983,"user_id":6588928,"display_name":"vaibhav singhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640079311,"creation_date":1640079311,"answer_id":70433264,"question_id":49654666,"body_markdown":"In my case it was a internet proxy issue.\r\n\r\nThis might be a problem with the internet proxy as well. Check your internet proxy settings. Somehow MAVEN is not able to download the dependencies because of proxy.\r\n\r\nIf you are using proxy, then follow steps mentioned in below link\r\nhttps://maven.apache.org/guides/mini/guide-proxies.html\r\n\r\nI have used below configuration to make it work.\r\n\r\n    &lt;settings&gt;\r\n    &lt;proxies&gt;\r\n        &lt;proxy&gt;\r\n          &lt;id&gt;proxy&lt;/id&gt;\r\n          &lt;active&gt;true&lt;/active&gt;\r\n          &lt;protocol&gt;http&lt;/protocol&gt;\r\n    \t  &lt;!--\r\n          &lt;username&gt;....&lt;/username&gt;\r\n          &lt;password&gt;....&lt;/password&gt;\r\n    \t  --&gt;\r\n          &lt;host&gt;proxy.abcd.com&lt;/host&gt;\r\n          &lt;port&gt;1234&lt;/port&gt;\r\n          &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\r\n        &lt;/proxy&gt;\r\n       &lt;/proxies&gt;\r\n    &lt;/settings&gt;\r\n\r\n\r\n","title":"spring boot pom.xml Failure to transfer","body":"<p>In my case it was a internet proxy issue.</p>\n<p>This might be a problem with the internet proxy as well. Check your internet proxy settings. Somehow MAVEN is not able to download the dependencies because of proxy.</p>\n<p>If you are using proxy, then follow steps mentioned in below link\n<a href=\"https://maven.apache.org/guides/mini/guide-proxies.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/mini/guide-proxies.html</a></p>\n<p>I have used below configuration to make it work.</p>\n<pre><code>&lt;settings&gt;\n&lt;proxies&gt;\n    &lt;proxy&gt;\n      &lt;id&gt;proxy&lt;/id&gt;\n      &lt;active&gt;true&lt;/active&gt;\n      &lt;protocol&gt;http&lt;/protocol&gt;\n      &lt;!--\n      &lt;username&gt;....&lt;/username&gt;\n      &lt;password&gt;....&lt;/password&gt;\n      --&gt;\n      &lt;host&gt;proxy.abcd.com&lt;/host&gt;\n      &lt;port&gt;1234&lt;/port&gt;\n      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;\n    &lt;/proxy&gt;\n   &lt;/proxies&gt;\n&lt;/settings&gt;\n</code></pre>\n"}],"owner":{"account_id":11460773,"reputation":526,"user_id":8400493,"display_name":"Omar Amaoun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75687,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":49654802,"answer_count":5,"score":10,"last_activity_date":1640592613,"creation_date":1522854954,"question_id":49654666,"body_markdown":"I&#39;ve just create a new spring boot projet and i have a probleme in the pom.xml and i have no idea how to resolve it, please some help, thanks for all. \r\n\r\nthe error in the the pom.xml it in the parent tag whitch is :\r\n\r\nProject build error: Non-resolvable parent POM for com.example:ProjetTest:0.0.1-SNAPSHOT: Failure to transfer \r\n org.springframework.boot:spring-boot-starter-parent:pom:2.0.0.RELEASE from https://repo.maven.apache.org/maven2 was cached in the local \r\n repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not \r\n transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.0.0.RELEASE from/to central (https://repo.maven.apache.org/\r\n maven2): Connection refused: connect and &#39;parent.relativePath&#39; points at no local POM\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Ticketing&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;Ticketing&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"spring boot pom.xml Failure to transfer","body":"<p>I've just create a new spring boot projet and i have a probleme in the pom.xml and i have no idea how to resolve it, please some help, thanks for all. </p>\n\n<p>the error in the the pom.xml it in the parent tag whitch is :</p>\n\n<p>Project build error: Non-resolvable parent POM for com.example:ProjetTest:0.0.1-SNAPSHOT: Failure to transfer \n org.springframework.boot:spring-boot-starter-parent:pom:2.0.0.RELEASE from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"noreferrer\">https://repo.maven.apache.org/maven2</a> was cached in the local \n repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not \n transfer artifact org.springframework.boot:spring-boot-starter-parent:pom:2.0.0.RELEASE from/to central (<a href=\"https://repo.maven.apache.org/\" rel=\"noreferrer\">https://repo.maven.apache.org/</a>\n maven2): Connection refused: connect and 'parent.relativePath' points at no local POM</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Ticketing&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Ticketing&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","vaadin"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640559261,"post_id":70489846,"comment_id":124605517,"body_markdown":"Which version of Vaadin?","body":"Which version of Vaadin?"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640588062,"creation_date":1640588062,"answer_id":70492467,"question_id":70489846,"body_markdown":"&gt; But the ListSelect does not extend Component\r\n\r\nListSelect extends `com.vaadin.ui.Component`. Flow requires that your components extend `com.vaadin.flow.component.Component`.\r\n\r\nBased on your package names `com.vaadin.ui` vs `com.vaadin.flow.component` it looks like you are mixing up Vaadin 8 and Vaadin 14+ for example (or Vaadin 7 and some other Vaadin 14+ version).\r\n\r\nYou may have the both frameworks in your classpath, thus IDE autocompletion suggest you classes from both libraries.\r\n\r\nIf you are developing application with Vaadin 14 or newer, instead of ListSelect component use `com.vaaadin.flow.component.select.Select`.","title":"Vaadin ui components are incompatable","body":"<blockquote>\n<p>But the ListSelect does not extend Component</p>\n</blockquote>\n<p>ListSelect extends <code>com.vaadin.ui.Component</code>. Flow requires that your components extend <code>com.vaadin.flow.component.Component</code>.</p>\n<p>Based on your package names <code>com.vaadin.ui</code> vs <code>com.vaadin.flow.component</code> it looks like you are mixing up Vaadin 8 and Vaadin 14+ for example (or Vaadin 7 and some other Vaadin 14+ version).</p>\n<p>You may have the both frameworks in your classpath, thus IDE autocompletion suggest you classes from both libraries.</p>\n<p>If you are developing application with Vaadin 14 or newer, instead of ListSelect component use <code>com.vaaadin.flow.component.select.Select</code>.</p>\n"}],"owner":{"account_id":15530105,"reputation":23,"user_id":11203874,"display_name":"Ashamaz Shomakhov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70492467,"answer_count":1,"score":0,"last_activity_date":1640591767,"creation_date":1640552524,"question_id":70489846,"body_markdown":"I have a view extended from `com.vaadin.flow.component.orderedlayout.VerticalLayout`\r\nI need to add a component `com.vaadin.ui.ListSelect`\r\nBut the `ListSelect` does not extend `Component`, so i can&#39;t use it on my view.\r\n\r\nHow can i arrange compatibility?\r\n","title":"Vaadin ui components are incompatable","body":"<p>I have a view extended from <code>com.vaadin.flow.component.orderedlayout.VerticalLayout</code>\nI need to add a component <code>com.vaadin.ui.ListSelect</code>\nBut the <code>ListSelect</code> does not extend <code>Component</code>, so i can't use it on my view.</p>\n<p>How can i arrange compatibility?</p>\n"},{"tags":["java","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1636028081,"post_id":69839072,"comment_id":123451304,"body_markdown":"[Please do not upload images of code/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"},{"owner":{"account_id":13691213,"reputation":141,"user_id":9878940,"display_name":"gamedo"},"score":0,"creation_date":1640249377,"post_id":69839072,"comment_id":124551486,"body_markdown":"please show  more logs which surrounding with the first log( may be `grep -C 100 &#39;2021-11-04T12:37:22.250+0800&#39;` is enough.).","body":"please show  more logs which surrounding with the first log( may be <code>grep -C 100 &#39;2021-11-04T12:37:22.250+0800&#39;</code> is enough.)."},{"owner":{"account_id":19147519,"reputation":1,"user_id":13986151,"display_name":"wangzhiwen"},"score":0,"creation_date":1640591659,"post_id":69839072,"comment_id":124609944,"body_markdown":"@pcloves More logs have been added.","body":"@pcloves More logs have been added."}],"owner":{"account_id":19147519,"reputation":1,"user_id":13986151,"display_name":"wangzhiwen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640591472,"creation_date":1636027975,"question_id":69839072,"body_markdown":"G1 gc &#39;Other&#39; takes a long time. What is the most possible cause and how to solve it?\r\n\r\n[gc log][1]\r\n    \r\n   [1]: https://i.stack.imgur.com/AfOpc.png\r\n    \r\njvm params:\r\n\r\n&gt; -XX:+UseG1GC -XX:MaxGCPauseMillis=10 -Xmx2048m -Xms2048m -Xss512k -XX:NewRatio=2 -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=512m -XX:ReservedCodeCacheSize=256m -XX:InitialCodeCacheSize=256m -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=128M -Xloggc:/med/log/mall-product.gc.log -XX:+HeapDumpOnOutOfMemoryError\r\n\r\n    2021-11-04T12:36:18.118+0800: 96537.313: [GC pause (G1 Evacuation Pause) (young)\r\n    Desired survivor size 45088768 bytes, new threshold 15 (max 15)\r\n    - age   1:    3923792 bytes,    3923792 total\r\n    - age   2:     281104 bytes,    4204896 total\r\n    - age   3:     311088 bytes,    4515984 total\r\n    - age   4:      74304 bytes,    4590288 total\r\n    - age   5:      91728 bytes,    4682016 total\r\n    - age   6:      66368 bytes,    4748384 total\r\n    - age   7:     111832 bytes,    4860216 total\r\n    - age   8:      82232 bytes,    4942448 total\r\n    - age   9:      53752 bytes,    4996200 total\r\n    - age  10:      47432 bytes,    5043632 total\r\n    - age  11:     115944 bytes,    5159576 total\r\n    - age  12:     134000 bytes,    5293576 total\r\n    - age  13:     478392 bytes,    5771968 total\r\n    - age  14:     378696 bytes,    6150664 total\r\n    - age  15:     595856 bytes,    6746520 total\r\n    , 0.0161776 secs]\r\n       [Parallel Time: 12.3 ms, GC Workers: 4]\r\n          [GC Worker Start (ms): Min: 96537314.0, Avg: 96537314.0, Max: 96537314.1, Diff: 0.1]\r\n          [Ext Root Scanning (ms): Min: 4.2, Avg: 4.5, Max: 4.7, Diff: 0.5, Sum: 17.9]\r\n          [Update RS (ms): Min: 2.5, Avg: 2.5, Max: 2.5, Diff: 0.0, Sum: 10.0]\r\n             [Processed Buffers: Min: 28, Avg: 39.0, Max: 53, Diff: 25, Sum: 156]\r\n          [Scan RS (ms): Min: 0.4, Avg: 0.5, Max: 0.5, Diff: 0.0, Sum: 1.8]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n          [Object Copy (ms): Min: 4.4, Avg: 4.6, Max: 4.8, Diff: 0.4, Sum: 18.4]\r\n          [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n             [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 4]\r\n          [GC Worker Other (ms): Min: 0.1, Avg: 0.1, Max: 0.1, Diff: 0.0, Sum: 0.4]\r\n          [GC Worker Total (ms): Min: 12.1, Avg: 12.1, Max: 12.2, Diff: 0.2, Sum: 48.5]\r\n          [GC Worker End (ms): Min: 96537326.1, Avg: 96537326.2, Max: 96537326.2, Diff: 0.1]\r\n       [Code Root Fixup: 0.0 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [Clear CT: 0.3 ms]\r\n       [Other: 3.6 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 1.4 ms]\r\n          [Ref Enq: 0.1 ms]\r\n          [Redirty Cards: 0.1 ms]\r\n          [Humongous Register: 0.1 ms]\r\n          [Humongous Reclaim: 0.0 ms]\r\n          [Free CSet: 1.1 ms]\r\n       [Eden: 674.0M(674.0M)-&gt;0.0B(674.0M) Survivors: 8192.0K-&gt;8192.0K Heap: 1428.6M(2048.0M)-&gt;755.3M(2048.0M)]\r\n    Heap after GC invocations=2668 (full 0):\r\n     garbage-first heap   total 2097152K, used 773428K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\r\n      region size 1024K, 8 young (8192K), 8 survivors (8192K)\r\n     Metaspace       used 133822K, capacity 141304K, committed 141440K, reserved 1173504K\r\n      class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\r\n    }\r\n     [Times: user=0.05 sys=0.01, real=0.02 secs] \r\n    {Heap before GC invocations=2668 (full 0):\r\n     garbage-first heap   total 2097152K, used 1463604K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\r\n      region size 1024K, 682 young (698368K), 8 survivors (8192K)\r\n     Metaspace       used 133822K, capacity 141304K, committed 141440K, reserved 1173504K\r\n      class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\r\n\r\n    2021-11-04T12:37:22.250+0800: 96601.445: [GC pause (G1 Evacuation Pause) (young)\r\n    Desired survivor size 45088768 bytes, new threshold 15 (max 15)\r\n    - age   1:    3170160 bytes,    3170160 total\r\n    - age   2:    1426024 bytes,    4596184 total\r\n    - age   3:     396136 bytes,    4992320 total\r\n    - age   4:      67992 bytes,    5060312 total\r\n    - age   5:     123112 bytes,    5183424 total\r\n    - age   6:      64320 bytes,    5247744 total\r\n    - age   7:      75640 bytes,    5323384 total\r\n    - age   8:      56656 bytes,    5380040 total\r\n    - age   9:      87560 bytes,    5467600 total\r\n    - age  10:      79568 bytes,    5547168 total\r\n    - age  11:      34016 bytes,    5581184 total\r\n    - age  12:      47432 bytes,    5628616 total\r\n    - age  13:     115944 bytes,    5744560 total\r\n    - age  14:     133456 bytes,    5878016 total\r\n    - age  15:     477016 bytes,    6355032 total\r\n    , 0.1573301 secs]\r\n       [Parallel Time: 12.2 ms, GC Workers: 4]\r\n          [GC Worker Start (ms): Min: 96601587.8, Avg: 96601587.9, Max: 96601587.9, Diff: 0.1]\r\n          [Ext Root Scanning (ms): Min: 4.0, Avg: 4.3, Max: 4.7, Diff: 0.7, Sum: 17.1]\r\n          [Update RS (ms): Min: 2.0, Avg: 2.1, Max: 2.1, Diff: 0.0, Sum: 8.3]\r\n             [Processed Buffers: Min: 30, Avg: 38.5, Max: 46, Diff: 16, Sum: 154]\r\n          [Scan RS (ms): Min: 0.9, Avg: 0.9, Max: 1.0, Diff: 0.1, Sum: 3.6]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n          [Object Copy (ms): Min: 4.3, Avg: 4.7, Max: 5.0, Diff: 0.7, Sum: 19.0]\r\n          [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n             [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 4]\r\n          [GC Worker Other (ms): Min: 0.0, Avg: 0.1, Max: 0.1, Diff: 0.1, Sum: 0.3]\r\n          [GC Worker Total (ms): Min: 12.0, Avg: 12.1, Max: 12.1, Diff: 0.1, Sum: 48.3]\r\n          [GC Worker End (ms): Min: 96601599.9, Avg: 96601599.9, Max: 96601600.0, Diff: 0.1]\r\n       [Code Root Fixup: 0.0 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [Clear CT: 0.3 ms]\r\n       [Other: 144.8 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 1.3 ms]\r\n          [Ref Enq: 0.1 ms]\r\n          [Redirty Cards: 0.1 ms]\r\n          [Humongous Register: 0.1 ms]\r\n          [Humongous Reclaim: 0.0 ms]\r\n          [Free CSet: 0.7 ms]\r\n       [Eden: 674.0M(674.0M)-&gt;0.0B(674.0M) Survivors: 8192.0K-&gt;8192.0K Heap: 1430.5M(2048.0M)-&gt;756.7M(2048.0M)]\r\n    Heap after GC invocations=2670 (full 0):\r\n     garbage-first heap   total 2097152K, used 774853K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\r\n      region size 1024K, 8 young (8192K), 8 survivors (8192K)\r\n     Metaspace       used 133822K, capacity 141304K, committed 141440K, reserved 1173504K\r\n      class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\r\n    }\r\n     [Times: user=0.05 sys=0.00, real=0.16 secs] \r\n    {Heap before GC invocations=2670 (full 0):\r\n     garbage-first heap   total 2097152K, used 1465029K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\r\n      region size 1024K, 682 young (698368K), 8 survivors (8192K)\r\n     Metaspace       used 133824K, capacity 141304K, committed 141440K, reserved 1173504K\r\n      class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\r\n\r\n\r\n    2021-11-04T12:38:26.994+0800: 96666.190: [GC pause (G1 Evacuation Pause) (young)\r\n    Desired survivor size 45088768 bytes, new threshold 15 (max 15)\r\n    - age   1:    3254096 bytes,    3254096 total\r\n    - age   2:    1682680 bytes,    4936776 total\r\n    - age   3:     837152 bytes,    5773928 total\r\n    - age   4:     280664 bytes,    6054592 total\r\n    - age   5:     204576 bytes,    6259168 total\r\n    - age   6:      41664 bytes,    6300832 total\r\n    - age   7:     114536 bytes,    6415368 total\r\n    - age   8:      64256 bytes,    6479624 total\r\n    - age   9:      68944 bytes,    6548568 total\r\n    - age  10:      39424 bytes,    6587992 total\r\n    - age  11:      73704 bytes,    6661696 total\r\n    - age  12:      66912 bytes,    6728608 total\r\n    - age  13:      33808 bytes,    6762416 total\r\n    - age  14:      47432 bytes,    6809848 total\r\n    - age  15:     115944 bytes,    6925792 total\r\n    , 0.0582912 secs]\r\n       [Parallel Time: 11.2 ms, GC Workers: 4]\r\n          [GC Worker Start (ms): Min: 96666233.8, Avg: 96666233.9, Max: 96666233.9, Diff: 0.1]\r\n          [Ext Root Scanning (ms): Min: 3.2, Avg: 3.5, Max: 3.7, Diff: 0.5, Sum: 14.0]\r\n          [Update RS (ms): Min: 2.2, Avg: 2.3, Max: 2.5, Diff: 0.4, Sum: 9.0]\r\n             [Processed Buffers: Min: 10, Avg: 39.0, Max: 57, Diff: 47, Sum: 156]\r\n          [Scan RS (ms): Min: 0.3, Avg: 0.6, Max: 0.7, Diff: 0.4, Sum: 2.4]\r\n          [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\r\n          [Object Copy (ms): Min: 4.5, Avg: 4.6, Max: 4.8, Diff: 0.3, Sum: 18.6]\r\n          [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n             [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 4]\r\n          [GC Worker Other (ms): Min: 0.1, Avg: 0.1, Max: 0.1, Diff: 0.0, Sum: 0.3]\r\n          [GC Worker Total (ms): Min: 11.1, Avg: 11.1, Max: 11.1, Diff: 0.1, Sum: 44.4]\r\n          [GC Worker End (ms): Min: 96666245.0, Avg: 96666245.0, Max: 96666245.0, Diff: 0.0]\r\n       [Code Root Fixup: 0.0 ms]\r\n       [Code Root Purge: 0.0 ms]\r\n       [Clear CT: 0.2 ms]\r\n       [Other: 46.8 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 1.4 ms]\r\n          [Ref Enq: 0.1 ms]\r\n          [Redirty Cards: 0.0 ms]\r\n          [Humongous Register: 0.0 ms]\r\n          [Humongous Reclaim: 0.0 ms]\r\n          [Free CSet: 0.8 ms]\r\n       [Eden: 674.0M(674.0M)-&gt;0.0B(673.0M) Survivors: 8192.0K-&gt;9216.0K Heap: 1431.6M(2048.0M)-&gt;758.3M(2048.0M)]\r\n    Heap after GC invocations=2672 (full 0):\r\n     garbage-first heap   total 2097152K, used 776487K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\r\n      region size 1024K, 9 young (9216K), 9 survivors (9216K)\r\n     Metaspace       used 133824K, capacity 141304K, committed 141440K, reserved 1173504K\r\n      class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\r\n    }\r\n     [Times: user=0.05 sys=0.00, real=0.06 secs] \r\n    {Heap before GC invocations=2672 (full 0):\r\n     garbage-first heap   total 2097152K, used 1465639K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\r\n      region size 1024K, 682 young (698368K), 9 survivors (9216K)\r\n     Metaspace       used 133824K, capacity 141304K, committed 141440K, reserved 1173504K\r\n      class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K","title":"g1 gc &#39;Other&#39; take a long time","body":"<p>G1 gc 'Other' takes a long time. What is the most possible cause and how to solve it?</p>\n<p><a href=\"https://i.stack.imgur.com/AfOpc.png\" rel=\"nofollow noreferrer\">gc log</a></p>\n<p>jvm params:</p>\n<blockquote>\n<p>-XX:+UseG1GC -XX:MaxGCPauseMillis=10 -Xmx2048m -Xms2048m -Xss512k -XX:NewRatio=2 -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=512m -XX:ReservedCodeCacheSize=256m -XX:InitialCodeCacheSize=256m -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=128M -Xloggc:/med/log/mall-product.gc.log -XX:+HeapDumpOnOutOfMemoryError</p>\n</blockquote>\n<pre><code>2021-11-04T12:36:18.118+0800: 96537.313: [GC pause (G1 Evacuation Pause) (young)\nDesired survivor size 45088768 bytes, new threshold 15 (max 15)\n- age   1:    3923792 bytes,    3923792 total\n- age   2:     281104 bytes,    4204896 total\n- age   3:     311088 bytes,    4515984 total\n- age   4:      74304 bytes,    4590288 total\n- age   5:      91728 bytes,    4682016 total\n- age   6:      66368 bytes,    4748384 total\n- age   7:     111832 bytes,    4860216 total\n- age   8:      82232 bytes,    4942448 total\n- age   9:      53752 bytes,    4996200 total\n- age  10:      47432 bytes,    5043632 total\n- age  11:     115944 bytes,    5159576 total\n- age  12:     134000 bytes,    5293576 total\n- age  13:     478392 bytes,    5771968 total\n- age  14:     378696 bytes,    6150664 total\n- age  15:     595856 bytes,    6746520 total\n, 0.0161776 secs]\n   [Parallel Time: 12.3 ms, GC Workers: 4]\n      [GC Worker Start (ms): Min: 96537314.0, Avg: 96537314.0, Max: 96537314.1, Diff: 0.1]\n      [Ext Root Scanning (ms): Min: 4.2, Avg: 4.5, Max: 4.7, Diff: 0.5, Sum: 17.9]\n      [Update RS (ms): Min: 2.5, Avg: 2.5, Max: 2.5, Diff: 0.0, Sum: 10.0]\n         [Processed Buffers: Min: 28, Avg: 39.0, Max: 53, Diff: 25, Sum: 156]\n      [Scan RS (ms): Min: 0.4, Avg: 0.5, Max: 0.5, Diff: 0.0, Sum: 1.8]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [Object Copy (ms): Min: 4.4, Avg: 4.6, Max: 4.8, Diff: 0.4, Sum: 18.4]\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 4]\n      [GC Worker Other (ms): Min: 0.1, Avg: 0.1, Max: 0.1, Diff: 0.0, Sum: 0.4]\n      [GC Worker Total (ms): Min: 12.1, Avg: 12.1, Max: 12.2, Diff: 0.2, Sum: 48.5]\n      [GC Worker End (ms): Min: 96537326.1, Avg: 96537326.2, Max: 96537326.2, Diff: 0.1]\n   [Code Root Fixup: 0.0 ms]\n   [Code Root Purge: 0.0 ms]\n   [Clear CT: 0.3 ms]\n   [Other: 3.6 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 1.4 ms]\n      [Ref Enq: 0.1 ms]\n      [Redirty Cards: 0.1 ms]\n      [Humongous Register: 0.1 ms]\n      [Humongous Reclaim: 0.0 ms]\n      [Free CSet: 1.1 ms]\n   [Eden: 674.0M(674.0M)-&gt;0.0B(674.0M) Survivors: 8192.0K-&gt;8192.0K Heap: 1428.6M(2048.0M)-&gt;755.3M(2048.0M)]\nHeap after GC invocations=2668 (full 0):\n garbage-first heap   total 2097152K, used 773428K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\n  region size 1024K, 8 young (8192K), 8 survivors (8192K)\n Metaspace       used 133822K, capacity 141304K, committed 141440K, reserved 1173504K\n  class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\n}\n [Times: user=0.05 sys=0.01, real=0.02 secs] \n{Heap before GC invocations=2668 (full 0):\n garbage-first heap   total 2097152K, used 1463604K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\n  region size 1024K, 682 young (698368K), 8 survivors (8192K)\n Metaspace       used 133822K, capacity 141304K, committed 141440K, reserved 1173504K\n  class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\n\n2021-11-04T12:37:22.250+0800: 96601.445: [GC pause (G1 Evacuation Pause) (young)\nDesired survivor size 45088768 bytes, new threshold 15 (max 15)\n- age   1:    3170160 bytes,    3170160 total\n- age   2:    1426024 bytes,    4596184 total\n- age   3:     396136 bytes,    4992320 total\n- age   4:      67992 bytes,    5060312 total\n- age   5:     123112 bytes,    5183424 total\n- age   6:      64320 bytes,    5247744 total\n- age   7:      75640 bytes,    5323384 total\n- age   8:      56656 bytes,    5380040 total\n- age   9:      87560 bytes,    5467600 total\n- age  10:      79568 bytes,    5547168 total\n- age  11:      34016 bytes,    5581184 total\n- age  12:      47432 bytes,    5628616 total\n- age  13:     115944 bytes,    5744560 total\n- age  14:     133456 bytes,    5878016 total\n- age  15:     477016 bytes,    6355032 total\n, 0.1573301 secs]\n   [Parallel Time: 12.2 ms, GC Workers: 4]\n      [GC Worker Start (ms): Min: 96601587.8, Avg: 96601587.9, Max: 96601587.9, Diff: 0.1]\n      [Ext Root Scanning (ms): Min: 4.0, Avg: 4.3, Max: 4.7, Diff: 0.7, Sum: 17.1]\n      [Update RS (ms): Min: 2.0, Avg: 2.1, Max: 2.1, Diff: 0.0, Sum: 8.3]\n         [Processed Buffers: Min: 30, Avg: 38.5, Max: 46, Diff: 16, Sum: 154]\n      [Scan RS (ms): Min: 0.9, Avg: 0.9, Max: 1.0, Diff: 0.1, Sum: 3.6]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [Object Copy (ms): Min: 4.3, Avg: 4.7, Max: 5.0, Diff: 0.7, Sum: 19.0]\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 4]\n      [GC Worker Other (ms): Min: 0.0, Avg: 0.1, Max: 0.1, Diff: 0.1, Sum: 0.3]\n      [GC Worker Total (ms): Min: 12.0, Avg: 12.1, Max: 12.1, Diff: 0.1, Sum: 48.3]\n      [GC Worker End (ms): Min: 96601599.9, Avg: 96601599.9, Max: 96601600.0, Diff: 0.1]\n   [Code Root Fixup: 0.0 ms]\n   [Code Root Purge: 0.0 ms]\n   [Clear CT: 0.3 ms]\n   [Other: 144.8 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 1.3 ms]\n      [Ref Enq: 0.1 ms]\n      [Redirty Cards: 0.1 ms]\n      [Humongous Register: 0.1 ms]\n      [Humongous Reclaim: 0.0 ms]\n      [Free CSet: 0.7 ms]\n   [Eden: 674.0M(674.0M)-&gt;0.0B(674.0M) Survivors: 8192.0K-&gt;8192.0K Heap: 1430.5M(2048.0M)-&gt;756.7M(2048.0M)]\nHeap after GC invocations=2670 (full 0):\n garbage-first heap   total 2097152K, used 774853K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\n  region size 1024K, 8 young (8192K), 8 survivors (8192K)\n Metaspace       used 133822K, capacity 141304K, committed 141440K, reserved 1173504K\n  class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\n}\n [Times: user=0.05 sys=0.00, real=0.16 secs] \n{Heap before GC invocations=2670 (full 0):\n garbage-first heap   total 2097152K, used 1465029K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\n  region size 1024K, 682 young (698368K), 8 survivors (8192K)\n Metaspace       used 133824K, capacity 141304K, committed 141440K, reserved 1173504K\n  class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\n\n\n2021-11-04T12:38:26.994+0800: 96666.190: [GC pause (G1 Evacuation Pause) (young)\nDesired survivor size 45088768 bytes, new threshold 15 (max 15)\n- age   1:    3254096 bytes,    3254096 total\n- age   2:    1682680 bytes,    4936776 total\n- age   3:     837152 bytes,    5773928 total\n- age   4:     280664 bytes,    6054592 total\n- age   5:     204576 bytes,    6259168 total\n- age   6:      41664 bytes,    6300832 total\n- age   7:     114536 bytes,    6415368 total\n- age   8:      64256 bytes,    6479624 total\n- age   9:      68944 bytes,    6548568 total\n- age  10:      39424 bytes,    6587992 total\n- age  11:      73704 bytes,    6661696 total\n- age  12:      66912 bytes,    6728608 total\n- age  13:      33808 bytes,    6762416 total\n- age  14:      47432 bytes,    6809848 total\n- age  15:     115944 bytes,    6925792 total\n, 0.0582912 secs]\n   [Parallel Time: 11.2 ms, GC Workers: 4]\n      [GC Worker Start (ms): Min: 96666233.8, Avg: 96666233.9, Max: 96666233.9, Diff: 0.1]\n      [Ext Root Scanning (ms): Min: 3.2, Avg: 3.5, Max: 3.7, Diff: 0.5, Sum: 14.0]\n      [Update RS (ms): Min: 2.2, Avg: 2.3, Max: 2.5, Diff: 0.4, Sum: 9.0]\n         [Processed Buffers: Min: 10, Avg: 39.0, Max: 57, Diff: 47, Sum: 156]\n      [Scan RS (ms): Min: 0.3, Avg: 0.6, Max: 0.7, Diff: 0.4, Sum: 2.4]\n      [Code Root Scanning (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.1]\n      [Object Copy (ms): Min: 4.5, Avg: 4.6, Max: 4.8, Diff: 0.3, Sum: 18.6]\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n         [Termination Attempts: Min: 1, Avg: 1.0, Max: 1, Diff: 0, Sum: 4]\n      [GC Worker Other (ms): Min: 0.1, Avg: 0.1, Max: 0.1, Diff: 0.0, Sum: 0.3]\n      [GC Worker Total (ms): Min: 11.1, Avg: 11.1, Max: 11.1, Diff: 0.1, Sum: 44.4]\n      [GC Worker End (ms): Min: 96666245.0, Avg: 96666245.0, Max: 96666245.0, Diff: 0.0]\n   [Code Root Fixup: 0.0 ms]\n   [Code Root Purge: 0.0 ms]\n   [Clear CT: 0.2 ms]\n   [Other: 46.8 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 1.4 ms]\n      [Ref Enq: 0.1 ms]\n      [Redirty Cards: 0.0 ms]\n      [Humongous Register: 0.0 ms]\n      [Humongous Reclaim: 0.0 ms]\n      [Free CSet: 0.8 ms]\n   [Eden: 674.0M(674.0M)-&gt;0.0B(673.0M) Survivors: 8192.0K-&gt;9216.0K Heap: 1431.6M(2048.0M)-&gt;758.3M(2048.0M)]\nHeap after GC invocations=2672 (full 0):\n garbage-first heap   total 2097152K, used 776487K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\n  region size 1024K, 9 young (9216K), 9 survivors (9216K)\n Metaspace       used 133824K, capacity 141304K, committed 141440K, reserved 1173504K\n  class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\n}\n [Times: user=0.05 sys=0.00, real=0.06 secs] \n{Heap before GC invocations=2672 (full 0):\n garbage-first heap   total 2097152K, used 1465639K [0x0000000080000000, 0x0000000080104000, 0x0000000100000000)\n  region size 1024K, 682 young (698368K), 9 survivors (9216K)\n Metaspace       used 133824K, capacity 141304K, committed 141440K, reserved 1173504K\n  class space    used 16174K, capacity 17421K, committed 17536K, reserved 1048576K\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","query-hints"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1640595925,"post_id":70492627,"comment_id":124610922,"body_markdown":"The query hint is for JPA/Hibernate NOT for the database. Are you execution native SQL?","body":"The query hint is for JPA/Hibernate NOT for the database. Are you execution native SQL?"},{"owner":{"account_id":15568957,"reputation":21,"user_id":11231930,"display_name":"picassoo"},"score":0,"creation_date":1640697865,"post_id":70492627,"comment_id":124635785,"body_markdown":"Yes, I already solved with native SQL. EclipseLink gives us these funcionality that manipulete SQL its own QueryHints annotation. But I try to solve in JPA/Hibernate QueryHint annotation. If there is no solution without native SQL, I publish app with native SQL solution.","body":"Yes, I already solved with native SQL. EclipseLink gives us these funcionality that manipulete SQL its own QueryHints annotation. But I try to solve in JPA/Hibernate QueryHint annotation. If there is no solution without native SQL, I publish app with native SQL solution."}],"owner":{"account_id":15568957,"reputation":21,"user_id":11231930,"display_name":"picassoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640589769,"creation_date":1640589442,"question_id":70492627,"body_markdown":"In a project, I need to specify oracle hint in query. Spring JPA gives us to ability defining hint in @QueryHint (*javax.persistence*) annotation for query definition. But when I set oracle hint, app throws **Ignoring unrecognized query hint [hint-definition]** while query executes. \r\n\r\nI found some question and answer 10 years ago or earlier than. They told you should be use native query. But I aim that code should be clean as possible. \r\n\r\nHow can specify custom query hint with JPA (or any Spring and Hibernate) annototion based on query?\r\n\r\n&gt;Note : In project, eclipselink is not used. \r\n\r\nThanks for your help. \r\n  ","title":"How to set custom hint via Spring JPA annotation","body":"<p>In a project, I need to specify oracle hint in query. Spring JPA gives us to ability defining hint in @QueryHint (<em>javax.persistence</em>) annotation for query definition. But when I set oracle hint, app throws <strong>Ignoring unrecognized query hint [hint-definition]</strong> while query executes.</p>\n<p>I found some question and answer 10 years ago or earlier than. They told you should be use native query. But I aim that code should be clean as possible.</p>\n<p>How can specify custom query hint with JPA (or any Spring and Hibernate) annototion based on query?</p>\n<blockquote>\n<p>Note : In project, eclipselink is not used.</p>\n</blockquote>\n<p>Thanks for your help.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1640588620,"post_id":70492511,"comment_id":124609240,"body_markdown":"show us the error and what is the android version of the tablet?","body":"show us the error and what is the android version of the tablet?"},{"owner":{"account_id":22455998,"reputation":21,"user_id":16658676,"display_name":"GOBLiN TheDev"},"score":0,"creation_date":1640588750,"post_id":70492511,"comment_id":124609264,"body_markdown":"android 9 and i run this on one of my client devices","body":"android 9 and i run this on one of my client devices"},{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1640588843,"post_id":70492511,"comment_id":124609286,"body_markdown":"did you try to run on any other android device with version 9? is it working?","body":"did you try to run on any other android device with version 9? is it working?"},{"owner":{"account_id":22455998,"reputation":21,"user_id":16658676,"display_name":"GOBLiN TheDev"},"score":0,"creation_date":1640588958,"post_id":70492511,"comment_id":124609313,"body_markdown":"It shows like java.lang.nullpointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$compressFormat, int,java.io.OutputStream)&#39; on a null object reference","body":"It shows like java.lang.nullpointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$com&zwnj;&#8203;pressFormat, int,java.io.OutputStream)&#39; on a null object reference"},{"owner":{"account_id":22455998,"reputation":21,"user_id":16658676,"display_name":"GOBLiN TheDev"},"score":0,"creation_date":1640589028,"post_id":70492511,"comment_id":124609323,"body_markdown":"@UsamaAltaf yes it is working fine","body":"@UsamaAltaf yes it is working fine"},{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1640589314,"post_id":70492511,"comment_id":124609391,"body_markdown":"your bitmap lines are returning null check in the log what is the problem","body":"your bitmap lines are returning null check in the log what is the problem"},{"owner":{"account_id":19044113,"reputation":704,"user_id":13903584,"display_name":"Muhammad Asad"},"score":0,"creation_date":1640589442,"post_id":70492511,"comment_id":124609412,"body_markdown":"try this  : https://github.com/chtgupta/QRUtils-Android","body":"try this  : <a href=\"https://github.com/chtgupta/QRUtils-Android\" rel=\"nofollow noreferrer\">github.com/chtgupta/QRUtils-Android</a>"},{"owner":{"account_id":12425803,"reputation":544,"user_id":9050523,"accept_rate":100,"display_name":"faizy"},"score":0,"creation_date":1640591192,"post_id":70492511,"comment_id":124609819,"body_markdown":"try this:\n&lt;application android:hardwareAccelerated=&quot;true&quot; ...&gt;\n\nadd this on manifest file","body":"try this: &lt;application android:hardwareAccelerated=&quot;true&quot; ...&gt;  add this on manifest file"}],"owner":{"account_id":22455998,"reputation":21,"user_id":16658676,"display_name":"GOBLiN TheDev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640588483,"creation_date":1640588483,"question_id":70492511,"body_markdown":"It works on every android smartphone except tablet and it shows null object reference\r\n\r\n    String qrBase64 =&quot;Hello World...!&quot;;\r\n        qrgEncoder = new QRGEncoder(qrBase64, null, QRGContents.Type.TEXT, dimen);\r\n        \r\n                try {\r\n                    bitmap = qrgEncoder.encodeAsBitmap();\r\n                    bitmap.compress(Bitmap.CompressFormat.JPEG,100,byteArrayOutputStream);\r\n                    byte[] byteArray = byteArrayOutputStream.toByteArray();\r\n                    String imageBase64 = Base64.encodeToString(byteArray, Base64.DEFAULT);\r\n                    String image2 = &quot;data:image/png;base64,&quot; + imageBase64;\r\n                    data = data.replace(&quot;{IMAGE_PLACEHOLDER}&quot;, image2);\r\n                } catch (WriterException e) {\r\n                    Log.e(&quot;Tag&quot;, e.toString());\r\n                }","title":"Iam trying to make an qrcode by compressing the text to convert to qr code in following way","body":"<p>It works on every android smartphone except tablet and it shows null object reference</p>\n<pre><code>String qrBase64 =&quot;Hello World...!&quot;;\n    qrgEncoder = new QRGEncoder(qrBase64, null, QRGContents.Type.TEXT, dimen);\n    \n            try {\n                bitmap = qrgEncoder.encodeAsBitmap();\n                bitmap.compress(Bitmap.CompressFormat.JPEG,100,byteArrayOutputStream);\n                byte[] byteArray = byteArrayOutputStream.toByteArray();\n                String imageBase64 = Base64.encodeToString(byteArray, Base64.DEFAULT);\n                String image2 = &quot;data:image/png;base64,&quot; + imageBase64;\n                data = data.replace(&quot;{IMAGE_PLACEHOLDER}&quot;, image2);\n            } catch (WriterException e) {\n                Log.e(&quot;Tag&quot;, e.toString());\n            }\n</code></pre>\n"},{"tags":["java","android","google-cloud-messaging","onesignal"],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640587848,"creation_date":1640587848,"answer_id":70492437,"question_id":70492383,"body_markdown":"This likely comes coming from a `PendingIntent`, which doesn&#39;t have the correct flags set.","title":"Crash when received One Signal nofication on Android Target S+","body":"<p>This likely comes coming from a <code>PendingIntent</code>, which doesn't have the correct flags set.</p>\n"}],"owner":{"account_id":23754951,"reputation":1,"user_id":17771180,"display_name":"Linh Nguyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640587848,"creation_date":1640587296,"question_id":70492383,"body_markdown":"i&#39;m using OneSignal for push notification on Android . but when i change the Android target Sdk to 31 it crash when receive notification \r\n\r\nMy Android Manifest : \r\n [1]: https://i.stack.imgur.com/9jSGd.png\r\n\r\nMy error :\r\n [2]: https://i.stack.imgur.com/Lgf9A.png","title":"Crash when received One Signal nofication on Android Target S+","body":"<p>i'm using OneSignal for push notification on Android . but when i change the Android target Sdk to 31 it crash when receive notification</p>\n<p>My Android Manifest :\n[1]: <a href=\"https://i.stack.imgur.com/9jSGd.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9jSGd.png</a></p>\n<p>My error :\n[2]: <a href=\"https://i.stack.imgur.com/Lgf9A.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Lgf9A.png</a></p>\n"},{"tags":["java","email","smtp","gmail","dkim"],"answers":[{"tags":[],"owner":{"account_id":11183087,"reputation":59,"user_id":8206461,"display_name":"Ranjith rajavelu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543086909,"creation_date":1543086909,"answer_id":53461549,"question_id":40804429,"body_markdown":"the msesage ID will be modified only if it does not obey RFC standard. so send mail with correct message id format","title":"gmail is modifying header(Message-ID) of incoming mails","body":"<p>the msesage ID will be modified only if it does not obey RFC standard. so send mail with correct message id format</p>\n"},{"tags":[],"owner":{"account_id":106814,"reputation":681,"user_id":284366,"accept_rate":11,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640586379,"creation_date":1640586379,"answer_id":70492301,"question_id":40804429,"body_markdown":"After many tries, I finally figured out that you need to add brackets enclosing the Message-Id\r\n\r\n&lt;&lt;yourid@domain.com&gt;&gt;","title":"gmail is modifying header(Message-ID) of incoming mails","body":"<p>After many tries, I finally figured out that you need to add brackets enclosing the Message-Id</p>\n<p>&lt;yourid@domain.com&gt;</p>\n"}],"owner":{"account_id":9720574,"reputation":111,"user_id":7209444,"display_name":"satyam mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3756,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1640586379,"creation_date":1480074728,"question_id":40804429,"body_markdown":"I sent a mail from my smtp server to gmail.\r\nThe message-id that I got is:\r\nMessage-ID: SMTPIN_ADDED_BROKEN@mx.google.com&gt;\r\n         X-Google-Original-Message-ID:&lt;Original message-id.\r\n\r\nGmail appended extra parts in Message-id.\r\n\r\nAll I got on google that it can be an authentication issue.But source of mail shows:\r\n**SPF:PASS** \r\n\r\nBut DKIM is not present in the source.\r\nDo we require DKIM to be necessarily present in the mail&#39;s source??\r\nWhat can I do to prevent header from being modified?\r\n","title":"gmail is modifying header(Message-ID) of incoming mails","body":"<p>I sent a mail from my smtp server to gmail.\nThe message-id that I got is:\nMessage-ID: SMTPIN_ADDED_BROKEN@mx.google.com>\n         X-Google-Original-Message-ID:\n\n<p>Gmail appended extra parts in Message-id.</p>\n\n<p>All I got on google that it can be an authentication issue.But source of mail shows:\n<strong>SPF:PASS</strong> </p>\n\n<p>But DKIM is not present in the source.\nDo we require DKIM to be necessarily present in the mail's source??\nWhat can I do to prevent header from being modified?</p>\n"},{"tags":["java","mongodb","java-stream","export-to-excel"],"answers":[{"tags":[],"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640525631,"creation_date":1640385598,"answer_id":70476927,"question_id":70476523,"body_markdown":"You need to wait for the Future(here your parameter data) to be loaded, you an do it [async][1] or you can just call data.get() and then start using &#39;.foreach&#39;, it stops the current thread as long as it takes to complete the future.\r\n\r\nEdit:\r\nJust replace the lower method with this:\r\n\r\n    public static InputStream writeToExcel(CompletableFuture&lt;ArrayList&lt;UserProfile&gt;&gt; data) throws Exception {\r\n        //Blank workbook\r\n        try (XSSFWorkbook workbook = new XSSFWorkbook()) {\r\n\r\n            //Create a blank sheet\r\n            XSSFSheet sheet = workbook.createSheet(&quot;userDetails report&quot;);\r\n\r\n            AtomicInteger rowNum = new AtomicInteger(1);\r\n            AtomicBoolean isHeaderSet = new AtomicBoolean(false);\r\n            data.get().forEach(userProfile -&gt; {\r\n                if (!isHeaderSet.get()){\r\n                    createHeader(userProfile, sheet);\r\n                    isHeaderSet.set(true);\r\n                }\r\n                XSSFRow row = sheet.createRow(rowNum.getAndIncrement());\r\n\r\n                ObjectMapper mapObject = new ObjectMapper();\r\n                Map&lt;String, Object&gt; mapObj = mapObject.convertValue(userProfile, Map.class);\r\n\r\n\r\n                AtomicInteger cellNum = new AtomicInteger();\r\n                mapObj.forEach((key, value) -&gt; {\r\n                    XSSFCell cell = row.createCell(cellNum.getAndIncrement());\r\n                    cell.setCellValue(key);\r\n                    if (value instanceof Integer)\r\n                        cell.setCellValue((Integer) value);\r\n                    else if (value instanceof BigDecimal)\r\n                        cell.setCellValue(((BigDecimal) value).doubleValue());\r\n                    else if (value instanceof Long)\r\n                        cell.setCellValue((Long) value);\r\n                    else cell.setCellValue(String.valueOf(value));\r\n\r\n                });\r\n            });\r\n            try {\r\n                //Write the workbook in file system\r\n                ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                workbook.write(bos);\r\n                byte[] barray = bos.toByteArray();\r\n                InputStream is = new ByteArrayInputStream(barray);\r\n                log.info(&quot;userDetails.csv written successfully on disk.&quot;);\r\n                return is;\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw new Exception(e.getMessage());\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new Exception(e.getMessage());\r\n\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/38654826/how-to-use-observable-fromfuture","title":"How to fix bug with a class that writes to excel in Java","body":"<p>You need to wait for the Future(here your parameter data) to be loaded, you an do it <a href=\"https://stackoverflow.com/questions/38654826/how-to-use-observable-fromfuture\">async</a> or you can just call data.get() and then start using '.foreach', it stops the current thread as long as it takes to complete the future.</p>\n<p>Edit:\nJust replace the lower method with this:</p>\n<pre><code>public static InputStream writeToExcel(CompletableFuture&lt;ArrayList&lt;UserProfile&gt;&gt; data) throws Exception {\n    //Blank workbook\n    try (XSSFWorkbook workbook = new XSSFWorkbook()) {\n\n        //Create a blank sheet\n        XSSFSheet sheet = workbook.createSheet(&quot;userDetails report&quot;);\n\n        AtomicInteger rowNum = new AtomicInteger(1);\n        AtomicBoolean isHeaderSet = new AtomicBoolean(false);\n        data.get().forEach(userProfile -&gt; {\n            if (!isHeaderSet.get()){\n                createHeader(userProfile, sheet);\n                isHeaderSet.set(true);\n            }\n            XSSFRow row = sheet.createRow(rowNum.getAndIncrement());\n\n            ObjectMapper mapObject = new ObjectMapper();\n            Map&lt;String, Object&gt; mapObj = mapObject.convertValue(userProfile, Map.class);\n\n\n            AtomicInteger cellNum = new AtomicInteger();\n            mapObj.forEach((key, value) -&gt; {\n                XSSFCell cell = row.createCell(cellNum.getAndIncrement());\n                cell.setCellValue(key);\n                if (value instanceof Integer)\n                    cell.setCellValue((Integer) value);\n                else if (value instanceof BigDecimal)\n                    cell.setCellValue(((BigDecimal) value).doubleValue());\n                else if (value instanceof Long)\n                    cell.setCellValue((Long) value);\n                else cell.setCellValue(String.valueOf(value));\n\n            });\n        });\n        try {\n            //Write the workbook in file system\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\n            workbook.write(bos);\n            byte[] barray = bos.toByteArray();\n            InputStream is = new ByteArrayInputStream(barray);\n            log.info(&quot;userDetails.csv written successfully on disk.&quot;);\n            return is;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new Exception(e.getMessage());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw new Exception(e.getMessage());\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22968286,"reputation":82,"user_id":17097058,"display_name":"Curious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70476927,"answer_count":1,"score":0,"last_activity_date":1640585865,"creation_date":1640380170,"question_id":70476523,"body_markdown":"I currently want to fetch details of users in an asynchronous way and convert those details into an excel file. \r\n\r\nHere is the method that fetches the details in batches from the db created in the repository.\r\n\r\n    public CompletableFuture&lt;ArrayList&lt;UserProfile&gt;&gt; fetchUserDetailsBatches(Bson filter){\r\n            return CompletableFuture.supplyAsync( () -&gt; {\r\n                Bson projection = Projections.fields(Projections.exclude(&quot;roleGroup&quot;, &quot;roles&quot;));\r\n                return this.userCollection.find(filter).projection(projection).skip(1).limit(1000).\r\n                        into(new ArrayList&lt;&gt;());\r\n            });\r\n        }\r\n\r\nHere is the class that converts to excel file. It was working pretty fine before now till when I was using Stream before I changed to CompleteFuture. \r\n\r\n    public static InputStream writeToExcel(CompletableFuture&lt;ArrayList&lt;UserProfile&gt;&gt; data) throws Exception {\r\n            //Blank workbook\r\n            try (XSSFWorkbook workbook = new XSSFWorkbook()) {\r\n    \r\n                //Create a blank sheet\r\n                XSSFSheet sheet = workbook.createSheet(&quot;userDetails report&quot;);\r\n    \r\n                AtomicInteger rowNum = new AtomicInteger(1);\r\n                AtomicBoolean isHeaderSet = new AtomicBoolean(false);\r\n                data.forEach(userProfile -&gt; {\r\n                    if (!isHeaderSet.get()){\r\n                        createHeader(userProfile, sheet);\r\n                        isHeaderSet.set(true);\r\n                    }\r\n                    XSSFRow row = sheet.createRow(rowNum.getAndIncrement());\r\n    \r\n                    ObjectMapper mapObject = new ObjectMapper();\r\n                    Map&lt;String, Object&gt; mapObj = mapObject.convertValue(userProfile, Map.class);\r\n    \r\n    \r\n                    AtomicInteger cellNum = new AtomicInteger();\r\n                    mapObj.forEach((key, value) -&gt; {\r\n                        XSSFCell cell = row.createCell(cellNum.getAndIncrement());\r\n                        cell.setCellValue(key);\r\n                        if (value instanceof Integer)\r\n                            cell.setCellValue((Integer) value);\r\n                        else if (value instanceof BigDecimal)\r\n                            cell.setCellValue(((BigDecimal) value).doubleValue());\r\n                        else if (value instanceof Long)\r\n                            cell.setCellValue((Long) value);\r\n                        else cell.setCellValue(String.valueOf(value));\r\n    \r\n                    });\r\n                });\r\n                try {\r\n                    //Write the workbook in file system\r\n                    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                    workbook.write(bos);\r\n                    byte[] barray = bos.toByteArray();\r\n                    InputStream is = new ByteArrayInputStream(barray);\r\n                    log.info(&quot;userDetails.csv written successfully on disk.&quot;);\r\n                    return is;\r\n    \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    throw new Exception(e.getMessage());\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                throw new Exception(e.getMessage());\r\n    \r\n            }\r\n        }\r\nThis error here has been fixed by @Cremer. The file that id being returned here, I want it to be saved in S3 buckets and a url link will be sent to the email of the user. \r\n\r\nThis is what I was doing but not working. \r\n\r\n    public BaseResponse&lt;Object&gt; uploadDownloads(HttpServletRequest request, InputStream fileInputStream,\r\n                                                    FormDataContentDisposition fileDetail, String documentType){\r\n    \r\n            String url = &quot; &quot;;\r\n            try {\r\n                int contentLength = request.getContentLength();\r\n                if (contentLength == -1 || contentLength &gt; FILE_SIZE_MAX) {\r\n                    throw new Exception(&quot;File size must be less than 5mb&quot;);\r\n                }\r\n                String fileName = fileDetail.getFileName();\r\n                int index = fileName.lastIndexOf(&#39;.&#39;);\r\n                String extension = index &gt; 0 ? fileName.substring(index) : &quot;&quot;;\r\n    \r\n                final String unique_name = fileName + &quot;_&quot; + documentType + extension;\r\n                final String filePath = String.format(&quot;file/%s&quot;, unique_name);\r\n    \r\n                url = awsFactory.putS3Object(filePath, fileInputStream, &quot;csv/&quot; + fileDetail.getFileName().substring(index + 1));\r\n    \r\n                return BaseResponse.&lt;Object&gt;builder()\r\n                        .status(true)\r\n                        .responseCode(&quot;00&quot;)\r\n                        .message(SUCCESS)\r\n                        .data(url)\r\n                        .build();\r\n    \r\n            } catch (Exception ase) {\r\n                ase.printStackTrace();\r\n                return BaseResponse.&lt;Object&gt;builder()\r\n                        .status(false)\r\n                        .responseCode(&quot;96&quot;)\r\n                        .message(ase.getMessage())\r\n                        .data(null)\r\n                        .build();\r\n            }\r\n    \r\n        }\r\n\r\nThis is how the s3 buckets looks like \r\n\r\n     public String putS3Object(String objectKey, InputStream inputStream, String contentType) throws IOException {\r\n            try {\r\n    \r\n                awsCreds = AwsBasicCredentials.create(getAccessKey(), getSecretKey());\r\n    \r\n                Region region = Region.EU_WEST_2;\r\n                S3Client s3 = S3Client.builder()\r\n                        .region(region)\r\n                        .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\r\n                        .build();\r\n    \r\n                PutObjectRequest objectRequest = PutObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(objectKey)\r\n                        .contentDisposition(String.format(&quot;inline; filename:%s&quot;, objectKey))\r\n                        .contentType(contentType)\r\n                        .build();\r\n    \r\n                s3.putObject(objectRequest, RequestBody.fromBytes(inputStream.readAllBytes()));\r\n    \r\n                return String.valueOf(s3.utilities().getUrl(\r\n                        GetUrlRequest.builder().bucket(bucketName).key(objectKey).region(region).build()));\r\n    \r\n            } catch (SdkServiceException e) {\r\n                e.printStackTrace();\r\n                log.info(e.getMessage());\r\n            }\r\n            return null;\r\n        }\r\n\r\nThis is how the controller looks like\r\n\r\n    @GET\r\n        @Path(&quot;/uploadReport/&quot;)\r\n        @Timed\r\n    \r\n        @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public Response uploadDownloads( @Context final HttpServletRequest request,\r\n        @NotNull final String id,@FormDataParam(&quot;file&quot;) final InputStream fileInputStream,\r\n                                   @FormDataParam(&quot;file&quot;) final FormDataContentDisposition fileDetail,\r\n                                   @FormDataParam(&quot;documentType&quot;) String documentType) {\r\n    //\r\n    //        log.info(&quot;this is the userId -&gt; {}&quot;, id);\r\n    \r\n            return Response.status(Response.Status.OK).entity(\r\n                    userProfileService.uploadDownloads(request, fileInputStream, fileDetail, documentType)\r\n            ).build();\r\n    \r\n        }","title":"How to fix bug with a class that writes to excel in Java","body":"<p>I currently want to fetch details of users in an asynchronous way and convert those details into an excel file.</p>\n<p>Here is the method that fetches the details in batches from the db created in the repository.</p>\n<pre><code>public CompletableFuture&lt;ArrayList&lt;UserProfile&gt;&gt; fetchUserDetailsBatches(Bson filter){\n        return CompletableFuture.supplyAsync( () -&gt; {\n            Bson projection = Projections.fields(Projections.exclude(&quot;roleGroup&quot;, &quot;roles&quot;));\n            return this.userCollection.find(filter).projection(projection).skip(1).limit(1000).\n                    into(new ArrayList&lt;&gt;());\n        });\n    }\n</code></pre>\n<p>Here is the class that converts to excel file. It was working pretty fine before now till when I was using Stream before I changed to CompleteFuture.</p>\n<pre><code>public static InputStream writeToExcel(CompletableFuture&lt;ArrayList&lt;UserProfile&gt;&gt; data) throws Exception {\n        //Blank workbook\n        try (XSSFWorkbook workbook = new XSSFWorkbook()) {\n\n            //Create a blank sheet\n            XSSFSheet sheet = workbook.createSheet(&quot;userDetails report&quot;);\n\n            AtomicInteger rowNum = new AtomicInteger(1);\n            AtomicBoolean isHeaderSet = new AtomicBoolean(false);\n            data.forEach(userProfile -&gt; {\n                if (!isHeaderSet.get()){\n                    createHeader(userProfile, sheet);\n                    isHeaderSet.set(true);\n                }\n                XSSFRow row = sheet.createRow(rowNum.getAndIncrement());\n\n                ObjectMapper mapObject = new ObjectMapper();\n                Map&lt;String, Object&gt; mapObj = mapObject.convertValue(userProfile, Map.class);\n\n\n                AtomicInteger cellNum = new AtomicInteger();\n                mapObj.forEach((key, value) -&gt; {\n                    XSSFCell cell = row.createCell(cellNum.getAndIncrement());\n                    cell.setCellValue(key);\n                    if (value instanceof Integer)\n                        cell.setCellValue((Integer) value);\n                    else if (value instanceof BigDecimal)\n                        cell.setCellValue(((BigDecimal) value).doubleValue());\n                    else if (value instanceof Long)\n                        cell.setCellValue((Long) value);\n                    else cell.setCellValue(String.valueOf(value));\n\n                });\n            });\n            try {\n                //Write the workbook in file system\n                ByteArrayOutputStream bos = new ByteArrayOutputStream();\n                workbook.write(bos);\n                byte[] barray = bos.toByteArray();\n                InputStream is = new ByteArrayInputStream(barray);\n                log.info(&quot;userDetails.csv written successfully on disk.&quot;);\n                return is;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n                throw new Exception(e.getMessage());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            throw new Exception(e.getMessage());\n\n        }\n    }\n</code></pre>\n<p>This error here has been fixed by @Cremer. The file that id being returned here, I want it to be saved in S3 buckets and a url link will be sent to the email of the user.</p>\n<p>This is what I was doing but not working.</p>\n<pre><code>public BaseResponse&lt;Object&gt; uploadDownloads(HttpServletRequest request, InputStream fileInputStream,\n                                                FormDataContentDisposition fileDetail, String documentType){\n\n        String url = &quot; &quot;;\n        try {\n            int contentLength = request.getContentLength();\n            if (contentLength == -1 || contentLength &gt; FILE_SIZE_MAX) {\n                throw new Exception(&quot;File size must be less than 5mb&quot;);\n            }\n            String fileName = fileDetail.getFileName();\n            int index = fileName.lastIndexOf('.');\n            String extension = index &gt; 0 ? fileName.substring(index) : &quot;&quot;;\n\n            final String unique_name = fileName + &quot;_&quot; + documentType + extension;\n            final String filePath = String.format(&quot;file/%s&quot;, unique_name);\n\n            url = awsFactory.putS3Object(filePath, fileInputStream, &quot;csv/&quot; + fileDetail.getFileName().substring(index + 1));\n\n            return BaseResponse.&lt;Object&gt;builder()\n                    .status(true)\n                    .responseCode(&quot;00&quot;)\n                    .message(SUCCESS)\n                    .data(url)\n                    .build();\n\n        } catch (Exception ase) {\n            ase.printStackTrace();\n            return BaseResponse.&lt;Object&gt;builder()\n                    .status(false)\n                    .responseCode(&quot;96&quot;)\n                    .message(ase.getMessage())\n                    .data(null)\n                    .build();\n        }\n\n    }\n</code></pre>\n<p>This is how the s3 buckets looks like</p>\n<pre><code> public String putS3Object(String objectKey, InputStream inputStream, String contentType) throws IOException {\n        try {\n\n            awsCreds = AwsBasicCredentials.create(getAccessKey(), getSecretKey());\n\n            Region region = Region.EU_WEST_2;\n            S3Client s3 = S3Client.builder()\n                    .region(region)\n                    .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\n                    .build();\n\n            PutObjectRequest objectRequest = PutObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(objectKey)\n                    .contentDisposition(String.format(&quot;inline; filename:%s&quot;, objectKey))\n                    .contentType(contentType)\n                    .build();\n\n            s3.putObject(objectRequest, RequestBody.fromBytes(inputStream.readAllBytes()));\n\n            return String.valueOf(s3.utilities().getUrl(\n                    GetUrlRequest.builder().bucket(bucketName).key(objectKey).region(region).build()));\n\n        } catch (SdkServiceException e) {\n            e.printStackTrace();\n            log.info(e.getMessage());\n        }\n        return null;\n    }\n</code></pre>\n<p>This is how the controller looks like</p>\n<pre><code>@GET\n    @Path(&quot;/uploadReport/&quot;)\n    @Timed\n\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response uploadDownloads( @Context final HttpServletRequest request,\n    @NotNull final String id,@FormDataParam(&quot;file&quot;) final InputStream fileInputStream,\n                               @FormDataParam(&quot;file&quot;) final FormDataContentDisposition fileDetail,\n                               @FormDataParam(&quot;documentType&quot;) String documentType) {\n//\n//        log.info(&quot;this is the userId -&gt; {}&quot;, id);\n\n        return Response.status(Response.Status.OK).entity(\n                userProfileService.uploadDownloads(request, fileInputStream, fileDetail, documentType)\n        ).build();\n\n    }\n</code></pre>\n"},{"tags":["java","mysql","docker","mybatis"],"comments":[{"owner":{"account_id":5284837,"reputation":40467,"user_id":9401096,"display_name":"Zeitounator"},"score":1,"creation_date":1640591695,"post_id":70492245,"comment_id":124609950,"body_markdown":"Short answer: don&#39;t do that. Use multiple containers. You can build your migration image against a base openjdk image and connect the container you start from it to MySQL.","body":"Short answer: don&#39;t do that. Use multiple containers. You can build your migration image against a base openjdk image and connect the container you start from it to MySQL."},{"owner":{"account_id":5763652,"reputation":191,"user_id":4549234,"display_name":"Devansh Sharma"},"score":0,"creation_date":1640592176,"post_id":70492245,"comment_id":124610055,"body_markdown":"I was afraid it might come down to that :( But yeah will give it a try. Still curious tho, ignoring any &quot;standard practices&quot; or extra effort is it possible to do what I mentioned in the question ?","body":"I was afraid it might come down to that :( But yeah will give it a try. Still curious tho, ignoring any &quot;standard practices&quot; or extra effort is it possible to do what I mentioned in the question ?"},{"owner":{"account_id":5284837,"reputation":40467,"user_id":9401096,"display_name":"Zeitounator"},"score":0,"creation_date":1640593473,"post_id":70492245,"comment_id":124610306,"body_markdown":"Why afraid ? It&#39;s much easier to use docker how it is intended to: separating every part you run in its own micro service. Take whatever tutorial to run e.g. a spingboot application with docker-compose and you will have all the basics.","body":"Why afraid ? It&#39;s much easier to use docker how it is intended to: separating every part you run in its own micro service. Take whatever tutorial to run e.g. a spingboot application with docker-compose and you will have all the basics."},{"owner":{"account_id":5763652,"reputation":191,"user_id":4549234,"display_name":"Devansh Sharma"},"score":1,"creation_date":1640596506,"post_id":70492245,"comment_id":124611104,"body_markdown":"Ah no not afraid to try. Just that now I gotta refactor my stuff. I didn&#39;t realize the java problem until the end so gotta redo most of things that&#39;s why :) Was hoping something like this would be possible.","body":"Ah no not afraid to try. Just that now I gotta refactor my stuff. I didn&#39;t realize the java problem until the end so gotta redo most of things that&#39;s why :) Was hoping something like this would be possible."},{"owner":{"account_id":101143,"reputation":3128,"user_id":272258,"display_name":"zhouji"},"score":0,"creation_date":1678042439,"post_id":70492245,"comment_id":133452203,"body_markdown":"I think this is a very reasonable question and haven&#39;t seen a real answer/solution except that the &#39;proper&#39; approach is to use multiple containers. Image we have an application that for some reason uses both Java and python, is there a straightforward, not over-killing, solution in docker for that kind of situation?","body":"I think this is a very reasonable question and haven&#39;t seen a real answer/solution except that the &#39;proper&#39; approach is to use multiple containers. Image we have an application that for some reason uses both Java and python, is there a straightforward, not over-killing, solution in docker for that kind of situation?"}],"owner":{"account_id":5763652,"reputation":191,"user_id":4549234,"display_name":"Devansh Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1640585782,"creation_date":1640585782,"question_id":70492245,"body_markdown":"My use case involves a MySQL DB and [Mybatis Migrations][1] to run scripts on the DB. Mybatis requires Java to be able to function. So, I need a JRE in the MySQL image. I&#39;m currently searching for ways to use multiple images (MySQL and OpenJDK in this case) but not getting a concrete solution.\r\n\r\nI have come across multi-stage builds, but this doesn&#39;t seem to fit my use case. What I believe I need is only the java executables to be present in my DB image.\r\n\r\nThe MySQL part of my image is working. All I need the java executable in that container and I&#39;ll be golden. How can I go about this ?\r\nThanks!\r\n\r\n\r\n  [1]: https://mybatis.org/migrations/","title":"Docker - Combining MySQL and OpenJDK images into one","body":"<p>My use case involves a MySQL DB and <a href=\"https://mybatis.org/migrations/\" rel=\"nofollow noreferrer\">Mybatis Migrations</a> to run scripts on the DB. Mybatis requires Java to be able to function. So, I need a JRE in the MySQL image. I'm currently searching for ways to use multiple images (MySQL and OpenJDK in this case) but not getting a concrete solution.</p>\n<p>I have come across multi-stage builds, but this doesn't seem to fit my use case. What I believe I need is only the java executables to be present in my DB image.</p>\n<p>The MySQL part of my image is working. All I need the java executable in that container and I'll be golden. How can I go about this ?\nThanks!</p>\n"},{"tags":["java","spring-boot","swagger","openapi","swagger-codegen"],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1640585476,"creation_date":1640585476,"question_id":70492215,"body_markdown":"We have a POST API in Spring Boot and there is one Request Body Model class got generated through Swagger CodeGen with OpenApi yaml file. One field is annotated with,\r\n\r\n@Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n\r\n\r\n**Code snippet:**\r\n\r\n    public class Sample   {\r\n    \r\n      @JsonProperty(&quot;name&quot;)\r\n      private String name = null;\r\n    \r\n      @JsonProperty(&quot;plainData&quot;)\r\n      @Valid\r\n      private final Map&lt;String, Object&gt; plainData = new HashMap&lt;String, Object&gt;();\r\n    \r\n      @JsonProperty(&quot;data&quot;)\r\n      @Valid\r\n      private final Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\r\n      ....\r\n      \r\n      @Schema(accessMode = Schema.AccessMode.READ_ONLY, description = &quot;Encrypted version of the data&quot;)\r\n      \r\n      public Map&lt;String, Object&gt; getData() {\r\n        return data;\r\n      }\r\n      \r\n      ....\r\n      \r\n    }\r\n\r\n1) So the field &#39;**data**&#39; will not be supplied in POST Request Body by the Client?\r\n\r\n2) And in case by mistake the Client sends the filed &#39;data&#39; in the Request Body json what will happen?","title":"What is Schema.AccessMode.READ_ONLY in Swagger generated Model class","body":"<p>We have a POST API in Spring Boot and there is one Request Body Model class got generated through Swagger CodeGen with OpenApi yaml file. One field is annotated with,</p>\n<p>@Schema(accessMode = Schema.AccessMode.READ_ONLY)</p>\n<p><strong>Code snippet:</strong></p>\n<pre><code>public class Sample   {\n\n  @JsonProperty(&quot;name&quot;)\n  private String name = null;\n\n  @JsonProperty(&quot;plainData&quot;)\n  @Valid\n  private final Map&lt;String, Object&gt; plainData = new HashMap&lt;String, Object&gt;();\n\n  @JsonProperty(&quot;data&quot;)\n  @Valid\n  private final Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n\n  ....\n  \n  @Schema(accessMode = Schema.AccessMode.READ_ONLY, description = &quot;Encrypted version of the data&quot;)\n  \n  public Map&lt;String, Object&gt; getData() {\n    return data;\n  }\n  \n  ....\n  \n}\n</code></pre>\n<ol>\n<li><p>So the field '<strong>data</strong>' will not be supplied in POST Request Body by the Client?</p>\n</li>\n<li><p>And in case by mistake the Client sends the filed 'data' in the Request Body json what will happen?</p>\n</li>\n</ol>\n"},{"tags":["java","jar","nohup"],"answers":[{"tags":[],"owner":{"account_id":50892,"reputation":747,"user_id":151909,"accept_rate":89,"display_name":"gshauger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640583377,"creation_date":1640583377,"answer_id":70492038,"question_id":70492007,"body_markdown":"I run Spring Boot via the same command and only a handful of times have I seen this behavior.  It turned out that the JVM ran out of memory and it crashed.  When I changed the heap size settings it was rock solid again.","title":"Java service auto kill on linux","body":"<p>I run Spring Boot via the same command and only a handful of times have I seen this behavior.  It turned out that the JVM ran out of memory and it crashed.  When I changed the heap size settings it was rock solid again.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640584469,"creation_date":1640584147,"answer_id":70492102,"question_id":70492007,"body_markdown":"On Linux, one possibility is that it is the `oomkiller` process.  This watches for processes that appears to be triggering excessive paging activity, and sends them a `SIGKILL` signal.  The oom killer&#39;s purpose is to prevent the paging system from *thrashing* ... which can bring the entire system to its knees.\r\n\r\nIf it is the oom killer killing your Java app, you should see a log message in `/var/log/messages` or `/var/log/syslog`.\r\n\r\nThe solution may be as simple as reducing the Java app&#39;s heap size so that it all fits in the available *physical* memory.  Alternatively, if your Java app&#39;s heap usage is growing all of the time, you may need to look for a possible memory leak in your app.  (Search for articles on finding Java memory leaks ...)","title":"Java service auto kill on linux","body":"<p>On Linux, one possibility is that it is the <code>oomkiller</code> process.  This watches for processes that appears to be triggering excessive paging activity, and sends them a <code>SIGKILL</code> signal.  The oom killer's purpose is to prevent the paging system from <em>thrashing</em> ... which can bring the entire system to its knees.</p>\n<p>If it is the oom killer killing your Java app, you should see a log message in <code>/var/log/messages</code> or <code>/var/log/syslog</code>.</p>\n<p>The solution may be as simple as reducing the Java app's heap size so that it all fits in the available <em>physical</em> memory.  Alternatively, if your Java app's heap usage is growing all of the time, you may need to look for a possible memory leak in your app.  (Search for articles on finding Java memory leaks ...)</p>\n"}],"owner":{"account_id":23754523,"reputation":13,"user_id":17770807,"display_name":"SBE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70492038,"answer_count":2,"score":1,"last_activity_date":1640584469,"creation_date":1640583039,"question_id":70492007,"body_markdown":" I have ran *nohup java -jar sample.jar &amp;* on my linux server as a backend service of web application but service is automatically killed after few hours and need to re-run the command.\r\nI want to know what is the reason and how to resolve the issue","title":"Java service auto kill on linux","body":"<p>I have ran <em>nohup java -jar sample.jar &amp;</em> on my linux server as a backend service of web application but service is automatically killed after few hours and need to re-run the command.\nI want to know what is the reason and how to resolve the issue</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"score":0,"creation_date":1640578790,"post_id":70491601,"comment_id":124607721,"body_markdown":"It seems the problem is with the second element `java.util.ArrayList[1]`, which has a `unit` of `null`. How does your `TypeDeserializer` look like?","body":"It seems the problem is with the second element <code>java.util.ArrayList[1]</code>, which has a <code>unit</code> of <code>null</code>. How does your <code>TypeDeserializer</code> look like?"},{"owner":{"account_id":15079536,"reputation":3,"user_id":10882548,"display_name":"Qi Vic"},"score":0,"creation_date":1640579379,"post_id":70491601,"comment_id":124607789,"body_markdown":"I add the `TypeDeserializer ` in the `Code` section","body":"I add the <code>TypeDeserializer </code> in the <code>Code</code> section"}],"answers":[{"tags":[],"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640583697,"creation_date":1640583697,"answer_id":70492064,"question_id":70491601,"body_markdown":"The problem isn&#39;t really about deserializing a collection. I think the `while` loop here in the `TypeDeserializer` isn&#39;t working properly. It seems it exhausts the entire objects the first time it is used. Instead of looping the object yourself, this is a better way of deserializing the `DataType`:\r\n\r\n```java\r\nJsonNode jsonNode = jsonParser.getCodec().readTree(jsonParser);\r\nString type = jsonNode.get(&quot;type&quot;).asText(); \r\nString unit = jsonNode.get(&quot;unit&quot;).asText(); // I&#39;m assuming the type and unit fields are Strings.\r\n```\r\n\r\nThe rest of the deserializer can largely stay the same. Here is a good tutorial about [using custom deserialization in Jackson][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-deserialization","title":"Jackson array deserialize to java: MismatchedInputException: Unexpected end-of-input when trying read value of type","body":"<p>The problem isn't really about deserializing a collection. I think the <code>while</code> loop here in the <code>TypeDeserializer</code> isn't working properly. It seems it exhausts the entire objects the first time it is used. Instead of looping the object yourself, this is a better way of deserializing the <code>DataType</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonNode jsonNode = jsonParser.getCodec().readTree(jsonParser);\nString type = jsonNode.get(&quot;type&quot;).asText(); \nString unit = jsonNode.get(&quot;unit&quot;).asText(); // I'm assuming the type and unit fields are Strings.\n</code></pre>\n<p>The rest of the deserializer can largely stay the same. Here is a good tutorial about <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">using custom deserialization in Jackson</a></p>\n"}],"owner":{"account_id":15079536,"reputation":3,"user_id":10882548,"display_name":"Qi Vic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70492064,"answer_count":1,"score":0,"last_activity_date":1640583697,"creation_date":1640578251,"question_id":70491601,"body_markdown":"## Description\r\nI&#39;m trying to parse json array string to java collection, and I&#39;ve checked the format of the array string. There is my test case:\r\n```java\r\nList&lt;PropertySchema&gt; schemas = new ArrayList&lt;&gt;();\r\nschemas.add(new PropertySchema(&quot;test1&quot;, &quot;test1&quot;, new BoolDataType(), null, null));\r\nschemas.add(new PropertySchema(&quot;test2&quot;, &quot;test2&quot;, new LongDataType(), null, null));\r\nschemas.add(new PropertySchema(&quot;test3&quot;,&quot;test3&quot;,new DoubleDataType(),null,null));\r\nschemas.add(new PropertySchema(&quot;test4&quot;,&quot;test4&quot;,new TextDataType(),null,null));\r\n\r\nfinal String js = new ObjectMapper().writeValueAsString(schemas);\r\nSystem.out.println(js);\r\n\r\nschemas = new ObjectMapper().readValue(js, new TypeReference&lt;List&lt;PropertySchema&gt;&gt;() {\r\n        });\r\n\r\nSystem.out.println(schemas);\r\n```\r\n`writeValueAsString` is succeed but `readValue` throw exception:\r\n## Exception\r\n```log\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected end-of-input when trying read value of type `com.cainiao.iot.digital.map.bean.PropertySchema`\r\n at [Source: (String)&quot;[{&quot;code&quot;:&quot;test1&quot;,&quot;name&quot;:&quot;test1&quot;,&quot;dataType&quot;:{&quot;type&quot;:&quot;Boolean&quot;},&quot;description&quot;:null,&quot;ui&quot;:null,&quot;defaultValue&quot;:null,&quot;editable&quot;:true},{&quot;code&quot;:&quot;test2&quot;,&quot;name&quot;:&quot;test2&quot;,&quot;dataType&quot;:{&quot;type&quot;:&quot;Long&quot;,&quot;unit&quot;:null},&quot;description&quot;:null,&quot;ui&quot;:null,&quot;defaultValue&quot;:null,&quot;editable&quot;:true},{&quot;code&quot;:&quot;test3&quot;,&quot;name&quot;:&quot;test3&quot;,&quot;dataType&quot;:{&quot;type&quot;:&quot;Double&quot;,&quot;unit&quot;:null},&quot;description&quot;:null,&quot;ui&quot;:null,&quot;defaultValue&quot;:null,&quot;editable&quot;:true},{&quot;code&quot;:&quot;test4&quot;,&quot;name&quot;:&quot;test4&quot;,&quot;dataType&quot;:{&quot;type&quot;:&quot;String&quot;},&quot;description&quot;:null,&quot;ui&quot;:null,&quot;defaultV&quot;[truncated 28 chars]; line: 1, column: 528] (through reference chain: java.util.ArrayList[1])\r\n\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1462)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:223)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:186)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3612)\r\n\tat com.cainiao.JacksonTest.listDeserialize(JacksonTest.java:89)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\nI can&#39;t figure out why, there is the java bean class:\r\n## Code\r\n```java\r\n@Data\r\n@Accessors(chain = true)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class PropertySchema implements Serializable {\r\n    private static final long serialVersionUID = 4534224437154640700L;\r\n    private String code;\r\n    private String name;\r\n    @JsonDeserialize(using = TypeDeserializer.class)\r\n    private DataType dataType;\r\n    private String description;\r\n    private String ui;\r\n    private Object defaultValue = &quot;&quot;;\r\n    private boolean editable = true;\r\n\r\n    public PropertySchema() {\r\n    }\r\n\r\n\r\n    public PropertySchema(String code, String name, DataType dataType, Object defaultValue, String description) {\r\n        this.code = code;\r\n        this.name = name;\r\n        this.dataType = dataType;\r\n        this.description = description;\r\n        this.defaultValue = defaultValue;\r\n    }\r\n}\r\n\r\npublic class TypeDeserializer extends JsonDeserializer&lt;DataType&gt; {\r\n    @Override\r\n    public DataType deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n        String type = null;\r\n        String unit = null;\r\n        while (!jsonParser.isClosed()) {\r\n            final JsonToken jsonToken = jsonParser.nextToken();\r\n            if (JsonToken.FIELD_NAME == jsonToken) {\r\n                final String fieldName = jsonParser.currentName();\r\n                jsonParser.nextToken();\r\n                switch (fieldName) {\r\n                    case &quot;type&quot;:\r\n                        type = jsonParser.getValueAsString();\r\n                        break;\r\n                    case &quot;unit&quot;:\r\n                        unit = jsonParser.getValueAsString();\r\n                        break;\r\n                    default:\r\n                }\r\n            }\r\n        }\r\n        if (type == null) {\r\n            return null;\r\n        }\r\n        DataType dataType;\r\n        switch (type) {\r\n            case &quot;Double&quot;: {\r\n                dataType = new DoubleDataType();\r\n                if (unit != null) {\r\n                    ((DoubleDataType) dataType).setUnit(unit);\r\n                }\r\n                break;\r\n            }\r\n            case &quot;Boolean&quot;: {\r\n                dataType = new BoolDataType();\r\n                break;\r\n            }\r\n            case &quot;Long&quot;: {\r\n                dataType = new LongDataType();\r\n                if (unit != null) {\r\n                    ((LongDataType) dataType).setUnit(unit);\r\n                }\r\n                break;\r\n            }\r\n            case &quot;String&quot;: {\r\n                dataType = new TextDataType();\r\n                break;\r\n            }\r\n            default:\r\n                return null;\r\n        }\r\n        return dataType;\r\n    }\r\n}\r\n```\r\n\r\nWhat&#39;s the correct way to deserialize array string to java collection ? ","title":"Jackson array deserialize to java: MismatchedInputException: Unexpected end-of-input when trying read value of type","body":"<h2>Description</h2>\n<p>I'm trying to parse json array string to java collection, and I've checked the format of the array string. There is my test case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;PropertySchema&gt; schemas = new ArrayList&lt;&gt;();\nschemas.add(new PropertySchema(&quot;test1&quot;, &quot;test1&quot;, new BoolDataType(), null, null));\nschemas.add(new PropertySchema(&quot;test2&quot;, &quot;test2&quot;, new LongDataType(), null, null));\nschemas.add(new PropertySchema(&quot;test3&quot;,&quot;test3&quot;,new DoubleDataType(),null,null));\nschemas.add(new PropertySchema(&quot;test4&quot;,&quot;test4&quot;,new TextDataType(),null,null));\n\nfinal String js = new ObjectMapper().writeValueAsString(schemas);\nSystem.out.println(js);\n\nschemas = new ObjectMapper().readValue(js, new TypeReference&lt;List&lt;PropertySchema&gt;&gt;() {\n        });\n\nSystem.out.println(schemas);\n</code></pre>\n<p><code>writeValueAsString</code> is succeed but <code>readValue</code> throw exception:</p>\n<h2>Exception</h2>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected end-of-input when trying read value of type `com.cainiao.iot.digital.map.bean.PropertySchema`\n at [Source: (String)&quot;[{&quot;code&quot;:&quot;test1&quot;,&quot;name&quot;:&quot;test1&quot;,&quot;dataType&quot;:{&quot;type&quot;:&quot;Boolean&quot;},&quot;description&quot;:null,&quot;ui&quot;:null,&quot;defaultValue&quot;:null,&quot;editable&quot;:true},{&quot;code&quot;:&quot;test2&quot;,&quot;name&quot;:&quot;test2&quot;,&quot;dataType&quot;:{&quot;type&quot;:&quot;Long&quot;,&quot;unit&quot;:null},&quot;description&quot;:null,&quot;ui&quot;:null,&quot;defaultValue&quot;:null,&quot;editable&quot;:true},{&quot;code&quot;:&quot;test3&quot;,&quot;name&quot;:&quot;test3&quot;,&quot;dataType&quot;:{&quot;type&quot;:&quot;Double&quot;,&quot;unit&quot;:null},&quot;description&quot;:null,&quot;ui&quot;:null,&quot;defaultValue&quot;:null,&quot;editable&quot;:true},{&quot;code&quot;:&quot;test4&quot;,&quot;name&quot;:&quot;test4&quot;,&quot;dataType&quot;:{&quot;type&quot;:&quot;String&quot;},&quot;description&quot;:null,&quot;ui&quot;:null,&quot;defaultV&quot;[truncated 28 chars]; line: 1, column: 528] (through reference chain: java.util.ArrayList[1])\n\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1741)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1515)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1462)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:223)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:186)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3612)\n    at com.cainiao.JacksonTest.listDeserialize(JacksonTest.java:89)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>I can't figure out why, there is the java bean class:</p>\n<h2>Code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Accessors(chain = true)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class PropertySchema implements Serializable {\n    private static final long serialVersionUID = 4534224437154640700L;\n    private String code;\n    private String name;\n    @JsonDeserialize(using = TypeDeserializer.class)\n    private DataType dataType;\n    private String description;\n    private String ui;\n    private Object defaultValue = &quot;&quot;;\n    private boolean editable = true;\n\n    public PropertySchema() {\n    }\n\n\n    public PropertySchema(String code, String name, DataType dataType, Object defaultValue, String description) {\n        this.code = code;\n        this.name = name;\n        this.dataType = dataType;\n        this.description = description;\n        this.defaultValue = defaultValue;\n    }\n}\n\npublic class TypeDeserializer extends JsonDeserializer&lt;DataType&gt; {\n    @Override\n    public DataType deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        String type = null;\n        String unit = null;\n        while (!jsonParser.isClosed()) {\n            final JsonToken jsonToken = jsonParser.nextToken();\n            if (JsonToken.FIELD_NAME == jsonToken) {\n                final String fieldName = jsonParser.currentName();\n                jsonParser.nextToken();\n                switch (fieldName) {\n                    case &quot;type&quot;:\n                        type = jsonParser.getValueAsString();\n                        break;\n                    case &quot;unit&quot;:\n                        unit = jsonParser.getValueAsString();\n                        break;\n                    default:\n                }\n            }\n        }\n        if (type == null) {\n            return null;\n        }\n        DataType dataType;\n        switch (type) {\n            case &quot;Double&quot;: {\n                dataType = new DoubleDataType();\n                if (unit != null) {\n                    ((DoubleDataType) dataType).setUnit(unit);\n                }\n                break;\n            }\n            case &quot;Boolean&quot;: {\n                dataType = new BoolDataType();\n                break;\n            }\n            case &quot;Long&quot;: {\n                dataType = new LongDataType();\n                if (unit != null) {\n                    ((LongDataType) dataType).setUnit(unit);\n                }\n                break;\n            }\n            case &quot;String&quot;: {\n                dataType = new TextDataType();\n                break;\n            }\n            default:\n                return null;\n        }\n        return dataType;\n    }\n}\n</code></pre>\n<p>What's the correct way to deserialize array string to java collection ?</p>\n"},{"tags":["java","optimization","currency","math","bigdecimal"],"comments":[{"owner":{"account_id":25210,"reputation":4782,"user_id":64657,"display_name":"sfossen"},"score":0,"creation_date":1236190004,"post_id":611732,"comment_id":424244,"body_markdown":"if the values of b and c have little variation, you could memoize the values.","body":"if the values of b and c have little variation, you could memoize the values."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1236194975,"post_id":611732,"comment_id":424643,"body_markdown":"Oddly enough, this was something that was easier in C.  Just link against a BCD library and you were done!","body":"Oddly enough, this was something that was easier in C.  Just link against a BCD library and you were done!"},{"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"score":0,"creation_date":1236198421,"post_id":611732,"comment_id":124293253,"body_markdown":"I remember attending a sales presentation from IBM for a hardware accelerated implementation of BigDecimal. So if your target platform is IBM System z, or System p, you could exploit this seamlessly.","body":"I remember attending a sales presentation from IBM for a hardware accelerated implementation of BigDecimal. So if your target platform is IBM System z, or System p, you could exploit this seamlessly."},{"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"score":2,"creation_date":1236203734,"post_id":611732,"comment_id":425392,"body_markdown":"not odd at all, Java makes easier common tasks, while big decimal is not so much common.","body":"not odd at all, Java makes easier common tasks, while big decimal is not so much common."},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":1,"creation_date":1272071290,"post_id":611732,"comment_id":2726051,"body_markdown":"Don&#39;t laugh, but one solution is to use PHP. I just found this posting while investigating the reason why a small program I converted from PHP to Java was so much slower in Java than PHP.","body":"Don&#39;t laugh, but one solution is to use PHP. I just found this posting while investigating the reason why a small program I converted from PHP to Java was so much slower in Java than PHP."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1396620723,"post_id":611732,"comment_id":34884565,"body_markdown":"@AlexR: How did you achieved it? Does PHP give you access to AVX or did you employ the GPU? Fun aside, I&#39;m really curios. Maybe post a question...","body":"@AlexR: How did you achieved it? Does PHP give you access to AVX or did you employ the GPU? Fun aside, I&#39;m really curios. Maybe post a question..."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1523666270,"post_id":611732,"comment_id":86669161,"body_markdown":"I realize I&#39;m a few years late to the party, but what is the value of `b`?  Unless `b` is special, the code `ONE.divide(b)` will crash.  So you&#39;re leaving out a few details from your question.","body":"I realize I&#39;m a few years late to the party, but what is the value of <code>b</code>?  Unless <code>b</code> is special, the code <code>ONE.divide(b)</code> will crash.  So you&#39;re leaving out a few details from your question."}],"answers":[{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1236189727,"creation_date":1236189727,"answer_id":611747,"question_id":611732,"body_markdown":"May be you should start with replacing a = (1/b) * c with a = c/b ? It&#39;s not 10x, but still something.\r\n\r\nIf I were you, I&#39;d create my own class Money, which would keep long dollars and long cents, and do math in it. ","title":"What to do with Java BigDecimal performance?","body":"<p>May be you should start with replacing a = (1/b) * c with a = c/b ? It's not 10x, but still something.</p>\n\n<p>If I were you, I'd create my own class Money, which would keep long dollars and long cents, and do math in it. </p>\n"},{"tags":[],"owner":{"account_id":12214,"reputation":23816,"user_id":23921,"display_name":"Pesto"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1236189979,"creation_date":1236189979,"answer_id":611761,"question_id":611732,"body_markdown":"Store longs as the number of cents.  For example, `BigDecimal money = new BigDecimal (&quot;4.20&quot;)` becomes `long money = 420`.  You just have to remember to mod by 100 to get dollars and cents for output.  If you need to track, say, tenths of a cent, it&#39;d become `long money = 4200` instead.","title":"What to do with Java BigDecimal performance?","body":"<p>Store longs as the number of cents.  For example, <code>BigDecimal money = new BigDecimal (\"4.20\")</code> becomes <code>long money = 420</code>.  You just have to remember to mod by 100 to get dollars and cents for output.  If you need to track, say, tenths of a cent, it'd become <code>long money = 4200</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":25210,"reputation":4782,"user_id":64657,"display_name":"sfossen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1236190662,"creation_date":1236190199,"answer_id":611772,"question_id":611732,"body_markdown":"You might want to move to fixed point math. Just searching for some libraries right now.\r\non sourceforge [fixed-point](http://sourceforge.net/projects/jmfp) I haven&#39;t looked at this in depth yet. [beartonics](http://www.beartronics.com/imode/fplib/index.html)\r\n\r\nDid you test with org.jscience.economics.money? since that has assured accuracy. The fixed point will only be as accurate as the # of bits assigned to each piece, but is fast.","title":"What to do with Java BigDecimal performance?","body":"<p>You might want to move to fixed point math. Just searching for some libraries right now.\non sourceforge <a href=\"http://sourceforge.net/projects/jmfp\" rel=\"nofollow noreferrer\">fixed-point</a> I haven't looked at this in depth yet. <a href=\"http://www.beartronics.com/imode/fplib/index.html\" rel=\"nofollow noreferrer\">beartonics</a></p>\n\n<p>Did you test with org.jscience.economics.money? since that has assured accuracy. The fixed point will only be as accurate as the # of bits assigned to each piece, but is fast.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1236190199,"creation_date":1236190199,"answer_id":611773,"question_id":611732,"body_markdown":"1/b is not exactly representable with BigDecimal either. See the API docs to work out how the result is rounded.\r\n\r\nIt shouldn&#39;t be *too* difficult to write your own fixed decimal class based around a long field or two. I don&#39;t know any appropriate off the shelf libraries.","title":"What to do with Java BigDecimal performance?","body":"<p>1/b is not exactly representable with BigDecimal either. See the API docs to work out how the result is rounded.</p>\n\n<p>It shouldn't be <em>too</em> difficult to write your own fixed decimal class based around a long field or two. I don't know any appropriate off the shelf libraries.</p>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1276807702,"creation_date":1236191024,"answer_id":611821,"question_id":611732,"body_markdown":"Assuming you can work to some arbitrary but known precision (say a billionth of a cent) and have a known maximum value you need handle (a trillion trillion dollars?) you can write a class which stores that value as an integer number of billionths of a cent. You&#39;ll need two longs to represent it. That should be maybe ten times as slow as using double; about a hundred times as fast as BigDecimal.\r\n\r\nMost of the operations are just performing the operation on each part and renormalizing. Division is slightly more complicated, but not much.\r\n\r\nEDIT:In response to the comment. You will need to implement a bitshift operation on your class (easy as along as the multiplier for the high long is a power of two). To do division shift the divisor until it&#39;s not quite bigger than the dividend; subtract shifted divisor from dividend and increment the result (with appropriate shift). Repeat.\r\n\r\nEDIT AGAIN:You may find BigInteger does what you need here.","title":"What to do with Java BigDecimal performance?","body":"<p>Assuming you can work to some arbitrary but known precision (say a billionth of a cent) and have a known maximum value you need handle (a trillion trillion dollars?) you can write a class which stores that value as an integer number of billionths of a cent. You'll need two longs to represent it. That should be maybe ten times as slow as using double; about a hundred times as fast as BigDecimal.</p>\n\n<p>Most of the operations are just performing the operation on each part and renormalizing. Division is slightly more complicated, but not much.</p>\n\n<p>EDIT:In response to the comment. You will need to implement a bitshift operation on your class (easy as along as the multiplier for the high long is a power of two). To do division shift the divisor until it's not quite bigger than the dividend; subtract shifted divisor from dividend and increment the result (with appropriate shift). Repeat.</p>\n\n<p>EDIT AGAIN:You may find BigInteger does what you need here.</p>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1236193242,"creation_date":1236192022,"answer_id":611896,"question_id":611732,"body_markdown":"What version of the JDK/JRE are you using?\r\n\r\nAlso you might try [ArciMath BigDecimal][1] to see if theirs speeds it up for you.\r\n\r\nEdit:\r\n\r\nI remember reading somewhere (I think it was Effective Java) that the BigDecmal class was changed from being JNI called to a C library to all Java at some point... and it got faster from that.  So it could be that any arbitrary precision library you use is not going to get you the speed you need.\r\n\r\n  [1]: http://users.belgacombusiness.net/arci/","title":"What to do with Java BigDecimal performance?","body":"<p>What version of the JDK/JRE are you using?</p>\n\n<p>Also you might try <a href=\"http://users.belgacombusiness.net/arci/\" rel=\"nofollow noreferrer\">ArciMath BigDecimal</a> to see if theirs speeds it up for you.</p>\n\n<p>Edit:</p>\n\n<p>I remember reading somewhere (I think it was Effective Java) that the BigDecmal class was changed from being JNI called to a C library to all Java at some point... and it got faster from that.  So it could be that any arbitrary precision library you use is not going to get you the speed you need.</p>\n"},{"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1236194116,"creation_date":1236193680,"answer_id":611987,"question_id":611732,"body_markdown":"Is JNI a possibility? You may be able to recover some speed and potentially leverage existing native fixed point libraries (maybe even some SSE* goodness too)\r\n\r\nPerhaps http://gmplib.org/","title":"What to do with Java BigDecimal performance?","body":"<p>Is JNI a possibility? You may be able to recover some speed and potentially leverage existing native fixed point libraries (maybe even some SSE* goodness too)</p>\n\n<p>Perhaps <a href=\"http://gmplib.org/\" rel=\"nofollow noreferrer\">http://gmplib.org/</a></p>\n"},{"tags":[],"owner":{"account_id":1254,"reputation":57918,"user_id":1666,"accept_rate":84,"display_name":"SCdF"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1236193943,"creation_date":1236193943,"answer_id":612009,"question_id":611732,"body_markdown":"Personally, I don&#39;t think BigDecimal is ideal for this.\r\n\r\nYou really want to implement your own Money class using longs internally to represent the smallest unit (i.e. cent, 10th cent). There is some work in that, implementing `add()` and `divide()` etc, but it&#39;s not really that hard.","title":"What to do with Java BigDecimal performance?","body":"<p>Personally, I don't think BigDecimal is ideal for this.</p>\n\n<p>You really want to implement your own Money class using longs internally to represent the smallest unit (i.e. cent, 10th cent). There is some work in that, implementing <code>add()</code> and <code>divide()</code> etc, but it's not really that hard.</p>\n"},{"tags":[],"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236194717,"creation_date":1236194717,"answer_id":612061,"question_id":611732,"body_markdown":"Maybe you should look into getting hardware accelerated decimal arithmetics?\r\n\r\nhttp://speleotrove.com/decimal/\r\n","title":"What to do with Java BigDecimal performance?","body":"<p>Maybe you should look into getting hardware accelerated decimal arithmetics?</p>\n\n<p><a href=\"http://speleotrove.com/decimal/\" rel=\"nofollow noreferrer\">http://speleotrove.com/decimal/</a></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1240621184,"creation_date":1236194793,"answer_id":612063,"question_id":611732,"body_markdown":"Most double operations give you more than enough precision.  You can represent $10 trillion with cent accuracy with double which may be more than enough for you.\r\n\r\nIn all the trading systems I have worked on (four different banks), they have used double with appropriate rounding.  I don&#39;t see any reason to be using BigDecimal.","title":"What to do with Java BigDecimal performance?","body":"<p>Most double operations give you more than enough precision.  You can represent $10 trillion with cent accuracy with double which may be more than enough for you.</p>\n\n<p>In all the trading systems I have worked on (four different banks), they have used double with appropriate rounding.  I don't see any reason to be using BigDecimal.</p>\n"},{"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1236802730,"creation_date":1236802730,"answer_id":636181,"question_id":611732,"body_markdown":"Had a similar problem to this in an equity trading system back in 99. At the very start of the design we choose to have every number in the system represented as a long multiplied by 1000000 thus 1.3423 was 1342300L. But the main driver for this was memory foot print rather than straight line performance.\r\n\r\nOne word on caution, I wouldn&#39;t do this again today unless I was *really* sure that the math performance was super critical. In most bog standard webapps the overhead of jdbc access and accessing other network resources swamps any benefit of having really quick math.\r\n","title":"What to do with Java BigDecimal performance?","body":"<p>Had a similar problem to this in an equity trading system back in 99. At the very start of the design we choose to have every number in the system represented as a long multiplied by 1000000 thus 1.3423 was 1342300L. But the main driver for this was memory foot print rather than straight line performance.</p>\n\n<p>One word on caution, I wouldn't do this again today unless I was <em>really</em> sure that the math performance was super critical. In most bog standard webapps the overhead of jdbc access and accessing other network resources swamps any benefit of having really quick math.</p>\n"},{"tags":[],"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246251659,"creation_date":1246251659,"answer_id":1056632,"question_id":611732,"body_markdown":"\r\n    Only 10x performance increase desired for something that is 1000x slower than primitive?!.\r\n\r\nThrowing a bit more hardware at this might be cheaper (considering the probability of having a currency calculation error). \r\n","title":"What to do with Java BigDecimal performance?","body":"<pre><code>Only 10x performance increase desired for something that is 1000x slower than primitive?!.\n</code></pre>\n\n<p>Throwing a bit more hardware at this might be cheaper (considering the probability of having a currency calculation error). </p>\n"},{"tags":[],"owner":{"account_id":89100,"reputation":311,"user_id":246018,"display_name":"ozone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288415982,"creation_date":1288415982,"answer_id":4057365,"question_id":611732,"body_markdown":"It seems like the simplest solution is to use BigInteger instead of long to implement pesto&#39;s solution.  If it seems messy it would be easy to write a class that wraps BigInteger to hide the precision adjustment.","title":"What to do with Java BigDecimal performance?","body":"<p>It seems like the simplest solution is to use BigInteger instead of long to implement pesto's solution.  If it seems messy it would be easy to write a class that wraps BigInteger to hide the precision adjustment.</p>\n"},{"tags":[],"owner":{"account_id":750595,"reputation":29,"user_id":738421,"display_name":"Chris"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1304526052,"creation_date":1304526052,"answer_id":5886596,"question_id":611732,"body_markdown":"easy... round your results often will eliminate double data type&#39;s error.\r\nif you are doing balance calculation, you have to also consider who will own the more/less penny caused by rounding. \r\n\r\nbigdeciaml calculation produces more/less penny too, consider 100/3 case.","title":"What to do with Java BigDecimal performance?","body":"<p>easy... round your results often will eliminate double data type's error.\nif you are doing balance calculation, you have to also consider who will own the more/less penny caused by rounding. </p>\n\n<p>bigdeciaml calculation produces more/less penny too, consider 100/3 case.</p>\n"},{"tags":[],"owner":{"account_id":1577284,"reputation":26,"user_id":1463420,"display_name":"Marek Kowalczyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340016083,"creation_date":1340016083,"answer_id":11081160,"question_id":611732,"body_markdown":"I know that I&#39;m posting under very old topic, but this was the first topic found by google.\r\nConsider moving your calculations to the database from which you probably are taking the data for processing. Also I agree with Gareth Davis who wrote:\r\n\r\n&gt;. In most bog standard webapps the overhead of jdbc access and accessing other network \r\n&gt; resources swamps any benefit of having really quick math.\r\n\r\nIn most cases wrong queries have higher impact on performance than math library.","title":"What to do with Java BigDecimal performance?","body":"<p>I know that I'm posting under very old topic, but this was the first topic found by google.\nConsider moving your calculations to the database from which you probably are taking the data for processing. Also I agree with Gareth Davis who wrote:</p>\n\n<blockquote>\n  <p>. In most bog standard webapps the overhead of jdbc access and accessing other network \n  resources swamps any benefit of having really quick math.</p>\n</blockquote>\n\n<p>In most cases wrong queries have higher impact on performance than math library.</p>\n"},{"tags":[],"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1396621675,"creation_date":1360167806,"answer_id":14733855,"question_id":611732,"body_markdown":"So my original answer was just flat out wrong, because my benchmark was written badly. I guess I&#39;m the one who should have been criticized, not OP ;) This may have been one of the first benchmarks I ever wrote... oh well, that&#39;s how you learn. Rather than deleting the answer, here are the results where I&#39;m not measuring the wrong thing. Some notes:\r\n\r\n - Precalculate the arrays so I don&#39;t mess with the results by generating them\r\n - Don&#39;t *ever* call `BigDecimal.doubleValue()`, as it&#39;s extremely slow\r\n - Don&#39;t mess with the results by adding `BigDecimal`s. Just return one value, and use an if statement to prevent compiler optimization. Make sure to have it work most of the time to allow branch prediction to eliminate that part of the code, though.\r\n\r\nTests:\r\n\r\n - BigDecimal: do the math exactly as you suggested it\r\n - BigDecNoRecip: (1/b) * c = c/b, just do c/b\r\n - Double: do the math with doubles\r\n\r\nHere is the output:\r\n\r\n     0% Scenario{vm=java, trial=0, benchmark=Double} 0.34 ns; ?=0.00 ns @ 3 trials\r\n    33% Scenario{vm=java, trial=0, benchmark=BigDecimal} 356.03 ns; ?=11.51 ns @ 10 trials\r\n    67% Scenario{vm=java, trial=0, benchmark=BigDecNoRecip} 301.91 ns; ?=14.86 ns @ 10 trials\r\n\r\n        benchmark      ns linear runtime\r\n           Double   0.335 =\r\n       BigDecimal 356.031 ==============================\r\n    BigDecNoRecip 301.909 =========================\r\n\r\n    vm: java\r\n    trial: 0\r\n\r\nHere&#39;s the code:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.math.MathContext;\r\n    import java.util.Random;\r\n    \r\n    import com.google.caliper.Runner;\r\n    import com.google.caliper.SimpleBenchmark;\r\n    \r\n    public class BigDecimalTest {\r\n      public static class Benchmark1 extends SimpleBenchmark {\r\n        private static int ARRAY_SIZE = 131072;\r\n    \r\n        private Random r;\r\n    \r\n        private BigDecimal[][] bigValues = new BigDecimal[3][];\r\n        private double[][] doubleValues = new double[3][];\r\n    \r\n        @Override\r\n        protected void setUp() throws Exception {\r\n          super.setUp();\r\n          r = new Random();\r\n    \r\n          for(int i = 0; i &lt; 3; i++) {\r\n            bigValues[i] = new BigDecimal[ARRAY_SIZE];\r\n            doubleValues[i] = new double[ARRAY_SIZE];\r\n    \r\n            for(int j = 0; j &lt; ARRAY_SIZE; j++) {\r\n              doubleValues[i][j] = r.nextDouble() * 1000000;\r\n              bigValues[i][j] = BigDecimal.valueOf(doubleValues[i][j]); \r\n            }\r\n          }\r\n        }\r\n    \r\n        public double timeDouble(int reps) {\r\n          double returnValue = 0;\r\n          for (int i = 0; i &lt; reps; i++) {\r\n            double a = doubleValues[0][reps &amp; 131071];\r\n            double b = doubleValues[1][reps &amp; 131071];\r\n            double c = doubleValues[2][reps &amp; 131071];\r\n            double division = a * (1/b) * c; \r\n            if((i &amp; 255) == 0) returnValue = division;\r\n          }\r\n          return returnValue;\r\n        }\r\n    \r\n        public BigDecimal timeBigDecimal(int reps) {\r\n          BigDecimal returnValue = BigDecimal.ZERO;\r\n          for (int i = 0; i &lt; reps; i++) {\r\n            BigDecimal a = bigValues[0][reps &amp; 131071];\r\n            BigDecimal b = bigValues[1][reps &amp; 131071];\r\n            BigDecimal c = bigValues[2][reps &amp; 131071];\r\n            BigDecimal division = a.multiply(BigDecimal.ONE.divide(b, MathContext.DECIMAL64).multiply(c));\r\n            if((i &amp; 255) == 0) returnValue = division;\r\n          }\r\n          return returnValue;\r\n        }\r\n    \r\n        public BigDecimal timeBigDecNoRecip(int reps) {\r\n          BigDecimal returnValue = BigDecimal.ZERO;\r\n          for (int i = 0; i &lt; reps; i++) {\r\n            BigDecimal a = bigValues[0][reps &amp; 131071];\r\n            BigDecimal b = bigValues[1][reps &amp; 131071];\r\n            BigDecimal c = bigValues[2][reps &amp; 131071];\r\n            BigDecimal division = a.multiply(c.divide(b, MathContext.DECIMAL64));\r\n            if((i &amp; 255) == 0) returnValue = division;\r\n          }\r\n          return returnValue;\r\n        }\r\n      }\r\n    \r\n      public static void main(String... args) {\r\n        Runner.main(Benchmark1.class, new String[0]);\r\n      }\r\n    }","title":"What to do with Java BigDecimal performance?","body":"<p>So my original answer was just flat out wrong, because my benchmark was written badly. I guess I'm the one who should have been criticized, not OP ;) This may have been one of the first benchmarks I ever wrote... oh well, that's how you learn. Rather than deleting the answer, here are the results where I'm not measuring the wrong thing. Some notes:</p>\n\n<ul>\n<li>Precalculate the arrays so I don't mess with the results by generating them</li>\n<li>Don't <em>ever</em> call <code>BigDecimal.doubleValue()</code>, as it's extremely slow</li>\n<li>Don't mess with the results by adding <code>BigDecimal</code>s. Just return one value, and use an if statement to prevent compiler optimization. Make sure to have it work most of the time to allow branch prediction to eliminate that part of the code, though.</li>\n</ul>\n\n<p>Tests:</p>\n\n<ul>\n<li>BigDecimal: do the math exactly as you suggested it</li>\n<li>BigDecNoRecip: (1/b) * c = c/b, just do c/b</li>\n<li>Double: do the math with doubles</li>\n</ul>\n\n<p>Here is the output:</p>\n\n<pre><code> 0% Scenario{vm=java, trial=0, benchmark=Double} 0.34 ns; ?=0.00 ns @ 3 trials\n33% Scenario{vm=java, trial=0, benchmark=BigDecimal} 356.03 ns; ?=11.51 ns @ 10 trials\n67% Scenario{vm=java, trial=0, benchmark=BigDecNoRecip} 301.91 ns; ?=14.86 ns @ 10 trials\n\n    benchmark      ns linear runtime\n       Double   0.335 =\n   BigDecimal 356.031 ==============================\nBigDecNoRecip 301.909 =========================\n\nvm: java\ntrial: 0\n</code></pre>\n\n<p>Here's the code:</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.math.MathContext;\nimport java.util.Random;\n\nimport com.google.caliper.Runner;\nimport com.google.caliper.SimpleBenchmark;\n\npublic class BigDecimalTest {\n  public static class Benchmark1 extends SimpleBenchmark {\n    private static int ARRAY_SIZE = 131072;\n\n    private Random r;\n\n    private BigDecimal[][] bigValues = new BigDecimal[3][];\n    private double[][] doubleValues = new double[3][];\n\n    @Override\n    protected void setUp() throws Exception {\n      super.setUp();\n      r = new Random();\n\n      for(int i = 0; i &lt; 3; i++) {\n        bigValues[i] = new BigDecimal[ARRAY_SIZE];\n        doubleValues[i] = new double[ARRAY_SIZE];\n\n        for(int j = 0; j &lt; ARRAY_SIZE; j++) {\n          doubleValues[i][j] = r.nextDouble() * 1000000;\n          bigValues[i][j] = BigDecimal.valueOf(doubleValues[i][j]); \n        }\n      }\n    }\n\n    public double timeDouble(int reps) {\n      double returnValue = 0;\n      for (int i = 0; i &lt; reps; i++) {\n        double a = doubleValues[0][reps &amp; 131071];\n        double b = doubleValues[1][reps &amp; 131071];\n        double c = doubleValues[2][reps &amp; 131071];\n        double division = a * (1/b) * c; \n        if((i &amp; 255) == 0) returnValue = division;\n      }\n      return returnValue;\n    }\n\n    public BigDecimal timeBigDecimal(int reps) {\n      BigDecimal returnValue = BigDecimal.ZERO;\n      for (int i = 0; i &lt; reps; i++) {\n        BigDecimal a = bigValues[0][reps &amp; 131071];\n        BigDecimal b = bigValues[1][reps &amp; 131071];\n        BigDecimal c = bigValues[2][reps &amp; 131071];\n        BigDecimal division = a.multiply(BigDecimal.ONE.divide(b, MathContext.DECIMAL64).multiply(c));\n        if((i &amp; 255) == 0) returnValue = division;\n      }\n      return returnValue;\n    }\n\n    public BigDecimal timeBigDecNoRecip(int reps) {\n      BigDecimal returnValue = BigDecimal.ZERO;\n      for (int i = 0; i &lt; reps; i++) {\n        BigDecimal a = bigValues[0][reps &amp; 131071];\n        BigDecimal b = bigValues[1][reps &amp; 131071];\n        BigDecimal c = bigValues[2][reps &amp; 131071];\n        BigDecimal division = a.multiply(c.divide(b, MathContext.DECIMAL64));\n        if((i &amp; 255) == 0) returnValue = division;\n      }\n      return returnValue;\n    }\n  }\n\n  public static void main(String... args) {\n    Runner.main(Benchmark1.class, new String[0]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1733989,"reputation":31003,"user_id":1586965,"accept_rate":76,"display_name":"samthebest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379001496,"creation_date":1379001496,"answer_id":18769079,"question_id":611732,"body_markdown":"Commons Math - The Apache Commons Mathematics Library\r\n\r\nhttp://mvnrepository.com/artifact/org.apache.commons/commons-math3/3.2\r\n\r\nAccording to my own benchmarking for my specific use case it&#39;s 10 - 20x slower than double (much better than 1000x) - basically for addition / multiplication.  After benchmarking another algorithm which had a sequence of additions followed by an exponentiation the performance decrease was quite a bit worse: 200x - 400x. So it seems pretty fast for + and *, but not exp and log.\r\n\r\n&gt; *Commons Math is a library of lightweight, self-contained mathematics and statistics components addressing the most common problems not\r\n&gt; available in the Java programming language or Commons Lang.*\r\n\r\nNote: The API protects the constructors to force a factory pattern while naming the factory DfpField (rather than the somewhat more intuitive DfpFac or DfpFactory).  So you have to use \r\n\r\n    new DfpField(numberOfDigits).newDfp(myNormalNumber)\r\n\r\nto instantiate a Dfp, then you can call `.multiply` or whatever on this. I thought I&#39;d mention this because it&#39;s a bit confusing.","title":"What to do with Java BigDecimal performance?","body":"<p>Commons Math - The Apache Commons Mathematics Library</p>\n\n<p><a href=\"http://mvnrepository.com/artifact/org.apache.commons/commons-math3/3.2\" rel=\"nofollow\">http://mvnrepository.com/artifact/org.apache.commons/commons-math3/3.2</a></p>\n\n<p>According to my own benchmarking for my specific use case it's 10 - 20x slower than double (much better than 1000x) - basically for addition / multiplication.  After benchmarking another algorithm which had a sequence of additions followed by an exponentiation the performance decrease was quite a bit worse: 200x - 400x. So it seems pretty fast for + and *, but not exp and log.</p>\n\n<blockquote>\n  <p><em>Commons Math is a library of lightweight, self-contained mathematics and statistics components addressing the most common problems not\n  available in the Java programming language or Commons Lang.</em></p>\n</blockquote>\n\n<p>Note: The API protects the constructors to force a factory pattern while naming the factory DfpField (rather than the somewhat more intuitive DfpFac or DfpFactory).  So you have to use </p>\n\n<pre><code>new DfpField(numberOfDigits).newDfp(myNormalNumber)\n</code></pre>\n\n<p>to instantiate a Dfp, then you can call <code>.multiply</code> or whatever on this. I thought I'd mention this because it's a bit confusing.</p>\n"},{"tags":[],"owner":{"account_id":3738222,"reputation":119,"user_id":3108653,"display_name":"tsquared"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493323104,"creation_date":1493323104,"answer_id":43666905,"question_id":611732,"body_markdown":"On a 64bit JVM creating your BigDecimal as below makes it about 5x faster:\r\n\r\n    BigDecimal bd = new BigDecimal(Double.toString(d), MathContext.DECIMAL64);","title":"What to do with Java BigDecimal performance?","body":"<p>On a 64bit JVM creating your BigDecimal as below makes it about 5x faster:</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(Double.toString(d), MathContext.DECIMAL64);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20591054,"reputation":21,"user_id":15900807,"display_name":"TheWheelMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625071500,"creation_date":1624639785,"answer_id":68134579,"question_id":611732,"body_markdown":"I know this is a really old thread, but i am writing an app (incidentally a trading app), in which computation of the indicators like MACD (which computes multiple exponential moving averages) over several thousand ticks of historical candlesticks was taking an unacceptable amount of time (several minutes). I was using BigDecimal.\r\n\r\nevery time i scrolled or resized the window, it would have to just iterate through the cached values to resize the Y scale, but even that would take several seconds to update. it made the app unusable. every time i would tweak the parameters for various indicators, it would take several minutes again to recompute.\r\n\r\nthen i switched it all to double and it&#39;s sooooo much faster. the problem was that i cache values using a hashmap. the solution i came up with uses a pool of wrappers for the double values. by pooling the wrappers, you don&#39;t take the performance hit of autoboxing to/from Double.\r\n\r\nthe app now calculates MACD (+MACD signal, MACD histogram) instantly with no lag. it&#39;s amazing how expensive BigDecimal object creation was. think about something like a.add( b.multiply( c )).scale(3) and how many objects that one statement creates.\r\n\r\n   \r\n\r\n     import java.util.HashMap;\r\n    \r\n    public class FastDoubleMap&lt;K&gt;\r\n    {\r\n    \tprivate static final Pool&lt;Wrapper&gt; POOL = new Pool&lt;FastDoubleMap.Wrapper&gt;()\r\n    \t{\r\n    \t\tprotected Wrapper newInstance()\r\n    \t\t{\r\n    \t\t\treturn new Wrapper();\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tprivate final HashMap&lt;K, Wrapper&gt; mMap;\r\n    \t\r\n    \tpublic FastDoubleMap()\r\n    \t{\r\n    \t\tmMap = new HashMap&lt;&gt;();\r\n    \t}\r\n    \r\n    \tpublic void put( K pKey, double pValue )\r\n    \t{\r\n    \t\tWrapper lWrapper = POOL.checkOut();\r\n    \t\tlWrapper.mValue = pValue;\r\n    \t\tmMap.put( pKey, lWrapper );\r\n    \t}\r\n    \t\r\n    \tpublic double get( K pKey )\r\n    \t{\r\n    \t\tWrapper lWrapper  = mMap.get( pKey );\r\n    \t\tif( lWrapper == null )\r\n    \t\t{\r\n    \t\t\treturn Double.NaN;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn lWrapper.mValue;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n        public double remove( K pKey )\r\n\t    {\r\n\t\t    Wrapper lWrapper = mMap.remove( pKey );\r\n\t\t    if( lWrapper != null )\r\n\t\t    {\r\n\t\t\t    double lDouble = lWrapper.mDouble;\r\n\t\t\t    POOL.checkIn( lWrapper );\r\n\t\t\t    return lDouble;\r\n\t\t    }\r\n\t\t    else\r\n\t\t    {\r\n\t\t\t    return Double.NaN;\r\n\t\t    }\r\n\t    }\r\n\r\n    \tprivate static class Wrapper\r\n    \t\timplements Pooled\r\n    \t{\r\n    \t\tprivate double mValue ;\r\n    \t\t\r\n    \t\tpublic void cleanup()\r\n    \t\t{\r\n    \t\t\tmValue = Double.NaN;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"What to do with Java BigDecimal performance?","body":"<p>I know this is a really old thread, but i am writing an app (incidentally a trading app), in which computation of the indicators like MACD (which computes multiple exponential moving averages) over several thousand ticks of historical candlesticks was taking an unacceptable amount of time (several minutes). I was using BigDecimal.</p>\n<p>every time i scrolled or resized the window, it would have to just iterate through the cached values to resize the Y scale, but even that would take several seconds to update. it made the app unusable. every time i would tweak the parameters for various indicators, it would take several minutes again to recompute.</p>\n<p>then i switched it all to double and it's sooooo much faster. the problem was that i cache values using a hashmap. the solution i came up with uses a pool of wrappers for the double values. by pooling the wrappers, you don't take the performance hit of autoboxing to/from Double.</p>\n<p>the app now calculates MACD (+MACD signal, MACD histogram) instantly with no lag. it's amazing how expensive BigDecimal object creation was. think about something like a.add( b.multiply( c )).scale(3) and how many objects that one statement creates.</p>\n<pre><code> import java.util.HashMap;\n\npublic class FastDoubleMap&lt;K&gt;\n{\n    private static final Pool&lt;Wrapper&gt; POOL = new Pool&lt;FastDoubleMap.Wrapper&gt;()\n    {\n        protected Wrapper newInstance()\n        {\n            return new Wrapper();\n        }\n    };\n    \n    private final HashMap&lt;K, Wrapper&gt; mMap;\n    \n    public FastDoubleMap()\n    {\n        mMap = new HashMap&lt;&gt;();\n    }\n\n    public void put( K pKey, double pValue )\n    {\n        Wrapper lWrapper = POOL.checkOut();\n        lWrapper.mValue = pValue;\n        mMap.put( pKey, lWrapper );\n    }\n    \n    public double get( K pKey )\n    {\n        Wrapper lWrapper  = mMap.get( pKey );\n        if( lWrapper == null )\n        {\n            return Double.NaN;\n        }\n        else\n        {\n            return lWrapper.mValue;\n        }\n    }\n    \n    public double remove( K pKey )\n    {\n        Wrapper lWrapper = mMap.remove( pKey );\n        if( lWrapper != null )\n        {\n            double lDouble = lWrapper.mDouble;\n            POOL.checkIn( lWrapper );\n            return lDouble;\n        }\n        else\n        {\n            return Double.NaN;\n        }\n    }\n\n    private static class Wrapper\n        implements Pooled\n    {\n        private double mValue ;\n        \n        public void cleanup()\n        {\n            mValue = Double.NaN;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":561887,"reputation":661,"user_id":73824,"display_name":"Alexander Temerev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46041,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":19,"score":66,"last_activity_date":1640582519,"creation_date":1236189515,"question_id":611732,"body_markdown":"I write currency trading applications for living, so I have to work with monetary values (it&#39;s a shame that Java still doesn&#39;t have decimal float type and has nothing to support arbitrary-precision monetary calculations). &quot;Use BigDecimal!&quot;  you might say. I do. But now I have some code where performance **is** an issue, and BigDecimal is more than 1000 times (!) slower than `double` primitives.\r\n\r\nThe calculations are very simple: what the system does is calculating `a = (1/b) * c` many many times (where `a`, `b` and `c` are fixed-point values). The problem, however, lies with this `(1/b)`. I can&#39;t use fixed point arithmetic because there is no fixed point. And `BigDecimal result = a.multiply(BigDecimal.ONE.divide(b).multiply(c)` is not only ugly, but sluggishly slow.\r\n\r\nWhat can I use to replace BigDecimal? I need at least 10x performance increase. I found otherwise excellent [JScience library][1] which has arbitrary-precision arithmetics, but it&#39;s even slower than BigDecimal.\r\n\r\nAny suggestions?\r\n\r\n\r\n  [1]: http://www.jscience.org &quot;JScience&quot;","title":"What to do with Java BigDecimal performance?","body":"<p>I write currency trading applications for living, so I have to work with monetary values (it's a shame that Java still doesn't have decimal float type and has nothing to support arbitrary-precision monetary calculations). \"Use BigDecimal!\"  you might say. I do. But now I have some code where performance <strong>is</strong> an issue, and BigDecimal is more than 1000 times (!) slower than <code>double</code> primitives.</p>\n\n<p>The calculations are very simple: what the system does is calculating <code>a = (1/b) * c</code> many many times (where <code>a</code>, <code>b</code> and <code>c</code> are fixed-point values). The problem, however, lies with this <code>(1/b)</code>. I can't use fixed point arithmetic because there is no fixed point. And <code>BigDecimal result = a.multiply(BigDecimal.ONE.divide(b).multiply(c)</code> is not only ugly, but sluggishly slow.</p>\n\n<p>What can I use to replace BigDecimal? I need at least 10x performance increase. I found otherwise excellent <a href=\"http://www.jscience.org\" rel=\"noreferrer\" title=\"JScience\">JScience library</a> which has arbitrary-precision arithmetics, but it's even slower than BigDecimal.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","sharepoint","microsoft-graph-api","office365"],"answers":[{"tags":[],"owner":{"account_id":373120,"reputation":1141,"user_id":722556,"accept_rate":46,"display_name":"Chetan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640582106,"creation_date":1640582106,"answer_id":70491909,"question_id":70377973,"body_markdown":"1. One should have the Drive Id , Site Id handy for doing this. \r\n2. Create a folder on your sharepoint site , share the same folder in one drive so that the paths can be used to upload the excel file. \r\n3. Use the below given link for more information. \r\nhttps://rahul-metangale.medium.com/upload-a-file-to-sharepoint-using-azure-graph-api-9deacce57449\r\n4. There is more to this than specified in this blog. ","title":"Sharepoint site Excel file operations using Java graph apis","body":"<ol>\n<li>One should have the Drive Id , Site Id handy for doing this.</li>\n<li>Create a folder on your sharepoint site , share the same folder in one drive so that the paths can be used to upload the excel file.</li>\n<li>Use the below given link for more information.\n<a href=\"https://rahul-metangale.medium.com/upload-a-file-to-sharepoint-using-azure-graph-api-9deacce57449\" rel=\"nofollow noreferrer\">https://rahul-metangale.medium.com/upload-a-file-to-sharepoint-using-azure-graph-api-9deacce57449</a></li>\n<li>There is more to this than specified in this blog.</li>\n</ol>\n"}],"owner":{"account_id":373120,"reputation":1141,"user_id":722556,"accept_rate":46,"display_name":"Chetan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640582106,"creation_date":1639653029,"question_id":70377973,"body_markdown":"Would like to **create the excel file on sharepoint site** using Java Graph API , also would like to **get the id of the same file** so that modifications on the file can be done using the Graph API. \r\n\r\n","title":"Sharepoint site Excel file operations using Java graph apis","body":"<p>Would like to <strong>create the excel file on sharepoint site</strong> using Java Graph API , also would like to <strong>get the id of the same file</strong> so that modifications on the file can be done using the Graph API.</p>\n"},{"tags":["java","sql-server","spring","azure-sql-database","database-deadlocks"],"comments":[{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1639832207,"post_id":70400841,"comment_id":124451908,"body_markdown":"Try an explicit serializable transaction. T-SQL example: `SET XACT_ABORT ON;BEGIN TRAN;UPDATE target WITH(SERIALZABLE)...;IF @@ROWCOUNT = 0 INSERT target...; COMMIT;`.","body":"Try an explicit serializable transaction. T-SQL example: <code>SET XACT_ABORT ON;BEGIN TRAN;UPDATE target WITH(SERIALZABLE)...;IF @@ROWCOUNT = 0 INSERT target...; COMMIT;</code>."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1639978636,"post_id":70400841,"comment_id":124477017,"body_markdown":"@DanGuzman - Thank you.  I will give it a try and keep you posted. any reason for suggesting &quot;WITH(SERIALZABLE)&quot; so that I could search more than if requried.","body":"@DanGuzman - Thank you.  I will give it a try and keep you posted. any reason for suggesting &quot;WITH(SERIALZABLE)&quot; so that I could search more than if requried."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1639998891,"post_id":70400841,"comment_id":124482580,"body_markdown":"The `SERIALIZABLE` hint (or session level SERIALIZABLE transaction isolation level) will prevent other sessions from inserting or updating rows with the same key (blocking them) until the transaction commits. See the [SET TRANSACTION ISOLATION LEVEL documentattion](https://learn.microsoft.com/en-us/sql/t-sql/statements/set-transaction-isolation-level-transact-sql?view=sql-server-ver15)","body":"The <code>SERIALIZABLE</code> hint (or session level SERIALIZABLE transaction isolation level) will prevent other sessions from inserting or updating rows with the same key (blocking them) until the transaction commits. See the <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/statements/set-transaction-isolation-level-transact-sql?view=sql-server-ver15\" rel=\"nofollow noreferrer\">SET TRANSACTION ISOLATION LEVEL documentattion</a>"},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1639998998,"post_id":70400841,"comment_id":124482628,"body_markdown":"Thank you, does it cause performance?","body":"Thank you, does it cause performance?"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1639999981,"post_id":70400841,"comment_id":124482889,"body_markdown":"With this short small transaction, I would not expect a performance concern. In fact, I would expect it to be faster than separate insert/updates commands from the app.","body":"With this short small transaction, I would not expect a performance concern. In fact, I would expect it to be faster than separate insert/updates commands from the app."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1640019759,"post_id":70400841,"comment_id":124490571,"body_markdown":"@DanGuzman - I have updated the question with the SQL Server deadlock details, please suggest.","body":"@DanGuzman - I have updated the question with the SQL Server deadlock details, please suggest."},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1640021589,"post_id":70400841,"comment_id":124491238,"body_markdown":"Make sure the parameter and column data types match. The string parameter data types show `nvarchar` and that may prevent efficient index use if the referenced key column is `varchar`, resulting in scans that are prone to deadlocks. Take a look at the UPDATE execution plan to see if it&#39;s scanning.","body":"Make sure the parameter and column data types match. The string parameter data types show <code>nvarchar</code> and that may prevent efficient index use if the referenced key column is <code>varchar</code>, resulting in scans that are prone to deadlocks. Take a look at the UPDATE execution plan to see if it&#39;s scanning."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1640022592,"post_id":70400841,"comment_id":124491557,"body_markdown":"I will review the update execution plan and share the results. In between, should I convert the datatype to varchar for those columns used in the clustered index?","body":"I will review the update execution plan and share the results. In between, should I convert the datatype to varchar for those columns used in the clustered index?"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1640024482,"post_id":70400841,"comment_id":124492241,"body_markdown":"If the column data type is varchar, then yes you should change the parameter data type to varchar.","body":"If the column data type is varchar, then yes you should change the parameter data type to varchar."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1640050221,"post_id":70400841,"comment_id":124498622,"body_markdown":"@DanGuzman - - I reviewed the table and found that all the columns are char, varchar or datatime2.. I don&#39;t find any column with nvarchar. I have also updated my java JDBC URL with sendStringParametersAsUnicode=false. How can I change the parameter data type to varchar? Where should change - in app/at sql server level?","body":"@DanGuzman - - I reviewed the table and found that all the columns are char, varchar or datatime2.. I don&#39;t find any column with nvarchar. I have also updated my java JDBC URL with sendStringParametersAsUnicode=false. How can I change the parameter data type to varchar? Where should change - in app/at sql server level?"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1640058971,"post_id":70400841,"comment_id":124499731,"body_markdown":"The `endStringParametersAsUnicode=false` should change the parmaeters to varchar. Ahve you looked at the plan? Are you still seeing deadlocks?","body":"The <code>endStringParametersAsUnicode=false</code> should change the parmaeters to varchar. Ahve you looked at the plan? Are you still seeing deadlocks?"},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1640060042,"post_id":70400841,"comment_id":124499905,"body_markdown":"Unfortunately I could still see the deadlocks even after setting the sendStringParametersAsUnicode=false as well as I could see that datatype is properly set in the application. I will review the execution plan","body":"Unfortunately I could still see the deadlocks even after setting the sendStringParametersAsUnicode=false as well as I could see that datatype is properly set in the application. I will review the execution plan"},{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":1,"creation_date":1640085747,"post_id":70400841,"comment_id":124506693,"body_markdown":"If the update plan is using an index seek, you may need to also add an UPDLOCK hint to avoid a deadlock during lock conversion (e.g. `WITH (SERIALIZABLE, UPDLOCK)`).","body":"If the update plan is using an index seek, you may need to also add an UPDLOCK hint to avoid a deadlock during lock conversion (e.g. <code>WITH (SERIALIZABLE, UPDLOCK)</code>)."},{"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"score":0,"creation_date":1640097756,"post_id":70400841,"comment_id":124511339,"body_markdown":"I have added &lt;property name=&quot;connectionProperties&quot; value=&quot;sendStringParametersAsUnicode=false;&quot;/&gt; in the datasource config xml and removed all the table hints. I no longer see the deadlock issue. Thank you, @DanGuzman.","body":"I have added &lt;property name=&quot;connectionProperties&quot; value=&quot;sendStringParametersAsUnicode=false;&quot;/&gt; in the datasource config xml and removed all the table hints. I no longer see the deadlock issue. Thank you, @DanGuzman."}],"answers":[{"tags":[],"owner":{"account_id":5579625,"reputation":2366,"user_id":4421944,"display_name":"Ronen Ariely"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640581660,"creation_date":1640581660,"answer_id":70491870,"question_id":70400841,"body_markdown":"&gt; Error: An error occurred during item update for Item [0000000000000] ] Store [0001] ] Batch [0] ] Date [2021-10-29] :org.springframework.dao.DeadlockLoserDataAccessException: \r\n\r\nBy deafult Transact-SQL statement is committed or rolled back when it completes (Autocommit Transactions).\r\n\r\nThe most commonly solution for issues related to modifications by other processes is to wrap the vulnerable statements in a transaction (execute all or nothing as one).\r\n\r\nIn *theory*, using a transaction provides isolation from the effects of other concurrent activities.\r\n\r\n**In reality**, we only have  a degree of isolation depending on the  transaction isolation level.\r\n\r\nSerializable is the most isolated of the standard transaction isolation levels. It&#39;s behaves like each SQL-transaction executes to completion before the next SQL-transaction begins.\r\n\r\nNote that **it is not the same as serialized executions**, where each transaction actually runs exclusively to completion before the next one starts! Serializable isolation only required to have the same effects as if they were executed serially (in some unspecified order).\r\n\r\nFor example, if we execute UPDATE on two unrelated rows using two transactions, then Serializable isolation allows to execute these transaction in parallel since the result is the same as executing the transactions one after the other.\r\n\r\nBut what if we have a constraint (like primary key), which enforces a uniqueness relation between the rows - you cannot set (UPDATE/INSERT) a value which exists. This means that the server must confirm the value is not in used first (SQL Server is &quot;smart&quot; and not necessarily will have to scan the entire table but yet it will have to enforce uniqueness with all values).\r\n\r\n&gt; cluster primary key constraint as Store + Eff_Date + ItemID\r\n\r\nThis enforces the relation between all rows and in your case all columns [Store],[Eff_Date],[ItemID]\r\n\r\n&gt; Most of the update fails with DeadlockLoserDataAccessException.\r\n\r\nThis is not coming from SQL Server directly but from spring framework\r\n\r\n**To have more information about SQL Side you should monitor SQL Server errors.** It is very difficult to monitor source of issue when you don&#39;t have the source of the error but only a &quot;second hand&quot; information.\r\n\r\nIn general from the SQL Server side, it makes sense to have waits/lock, as I explained above about the relations which you enfoeced by using this Promary key. These waits/locks can lead to deadlocks as well\r\n\r\n&gt; Insert into Table with (Tablock)\r\n\r\nThis means that you lock the entire table from the start of the INSERT to the end! This sound like a very bad idea in most cases.\r\n\r\n&gt; Insert into Table with (SERIALIZABLE)... Now update statement no longer fails with DeadlockLoserDataAccessException however few of the insert statement throws the DeadlockLoserDataAccessException exception\r\n\r\nAgain, I have no idea what is DeadlockLoserDataAccessException since it is not the source issue but the interpretation of the client side (the spring framework which connect the SQL Server), but it makes sense that you will have deadlock in the insert statement since you have UPDATE which require X lock (Exclusive lock)\r\n\r\nCheck my explanation above and remember that Serializable isolation is not the same as serialized executions!\r\n\r\n&gt; What could be the reason and fix?\r\n\r\n(1) First, start with monitor the source of the issue and not the interpretation of the issue by the spring framework.\r\n\r\nMonitor the waits, locks, deadlock in the SQL Server side directly. There are multiple tools for this which Google can find youo best toturials for this common task.\r\n\r\n&gt; If Insert fails, update the Record\r\n\r\n(2) Instead of using INSERT and if this fails then trying to use UPDATE simply use MERGE query. This single query will not need to compate another query which lock the same resources and will probably provide much better performance on the way\r\n\r\n(3) Try to remove all the query hints which you configure and let the server manage the queries, once you move to use MERGE.","title":"Spring Batch - org.springframework.dao.DeadlockLoserDataAccessException in Azure SQL Server?","body":"<blockquote>\n<p>Error: An error occurred during item update for Item [0000000000000] ] Store [0001] ] Batch [0] ] Date [2021-10-29] :org.springframework.dao.DeadlockLoserDataAccessException:</p>\n</blockquote>\n<p>By deafult Transact-SQL statement is committed or rolled back when it completes (Autocommit Transactions).</p>\n<p>The most commonly solution for issues related to modifications by other processes is to wrap the vulnerable statements in a transaction (execute all or nothing as one).</p>\n<p>In <em>theory</em>, using a transaction provides isolation from the effects of other concurrent activities.</p>\n<p><strong>In reality</strong>, we only have  a degree of isolation depending on the  transaction isolation level.</p>\n<p>Serializable is the most isolated of the standard transaction isolation levels. It's behaves like each SQL-transaction executes to completion before the next SQL-transaction begins.</p>\n<p>Note that <strong>it is not the same as serialized executions</strong>, where each transaction actually runs exclusively to completion before the next one starts! Serializable isolation only required to have the same effects as if they were executed serially (in some unspecified order).</p>\n<p>For example, if we execute UPDATE on two unrelated rows using two transactions, then Serializable isolation allows to execute these transaction in parallel since the result is the same as executing the transactions one after the other.</p>\n<p>But what if we have a constraint (like primary key), which enforces a uniqueness relation between the rows - you cannot set (UPDATE/INSERT) a value which exists. This means that the server must confirm the value is not in used first (SQL Server is &quot;smart&quot; and not necessarily will have to scan the entire table but yet it will have to enforce uniqueness with all values).</p>\n<blockquote>\n<p>cluster primary key constraint as Store + Eff_Date + ItemID</p>\n</blockquote>\n<p>This enforces the relation between all rows and in your case all columns [Store],[Eff_Date],[ItemID]</p>\n<blockquote>\n<p>Most of the update fails with DeadlockLoserDataAccessException.</p>\n</blockquote>\n<p>This is not coming from SQL Server directly but from spring framework</p>\n<p><strong>To have more information about SQL Side you should monitor SQL Server errors.</strong> It is very difficult to monitor source of issue when you don't have the source of the error but only a &quot;second hand&quot; information.</p>\n<p>In general from the SQL Server side, it makes sense to have waits/lock, as I explained above about the relations which you enfoeced by using this Promary key. These waits/locks can lead to deadlocks as well</p>\n<blockquote>\n<p>Insert into Table with (Tablock)</p>\n</blockquote>\n<p>This means that you lock the entire table from the start of the INSERT to the end! This sound like a very bad idea in most cases.</p>\n<blockquote>\n<p>Insert into Table with (SERIALIZABLE)... Now update statement no longer fails with DeadlockLoserDataAccessException however few of the insert statement throws the DeadlockLoserDataAccessException exception</p>\n</blockquote>\n<p>Again, I have no idea what is DeadlockLoserDataAccessException since it is not the source issue but the interpretation of the client side (the spring framework which connect the SQL Server), but it makes sense that you will have deadlock in the insert statement since you have UPDATE which require X lock (Exclusive lock)</p>\n<p>Check my explanation above and remember that Serializable isolation is not the same as serialized executions!</p>\n<blockquote>\n<p>What could be the reason and fix?</p>\n</blockquote>\n<p>(1) First, start with monitor the source of the issue and not the interpretation of the issue by the spring framework.</p>\n<p>Monitor the waits, locks, deadlock in the SQL Server side directly. There are multiple tools for this which Google can find youo best toturials for this common task.</p>\n<blockquote>\n<p>If Insert fails, update the Record</p>\n</blockquote>\n<p>(2) Instead of using INSERT and if this fails then trying to use UPDATE simply use MERGE query. This single query will not need to compate another query which lock the same resources and will probably provide much better performance on the way</p>\n<p>(3) Try to remove all the query hints which you configure and let the server manage the queries, once you move to use MERGE.</p>\n"}],"owner":{"account_id":96255,"reputation":181,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1640581660,"creation_date":1639799148,"question_id":70400841,"body_markdown":"I have a spring batch application that uses Azure SQL Server as a database.\r\n\r\nThe Source table has two entries for the combination of each Store [0001] Eff_Date [2021-10-29] and ItemID [0000000000000]\r\n\r\nSomething like\r\n\r\n    Store [0001] Eff_Date [2021-10-29] and ItemID [0000000000000]\r\n    Store [0001] Eff_Date [2021-10-29] and ItemID [0000000000000]\r\n    \r\n    Store [0002] Eff_Date [2021-10-29] and ItemID [0000000000000]\r\n    Store [0002] Eff_Date [2021-10-29] and ItemID [0000000000000]\r\n\r\nThe target table has a cluster primary key constraint as **Store + Eff_Date + ItemID**.\r\n\r\nThe application is designed is such a way\r\n\r\n 1. Insert the Record \r\n 2. If Insert fails, update the Record\r\n\r\n\r\nI was getting the following error while trying to process the above records\r\n\r\n\r\n    2021-12-15 03:42:51,134 DEBUG [SimpleAsyncTaskExecutor-1] ItemItemWriter - Writing record for [0001] Eff_Date [2021-10-29] Host Batch [0] UPC [0000000000000]\r\n    2021-12-15 03:42:51,134 DEBUG [SimpleAsyncTaskExecutor-1] ItemDaoImpl - Inserting New Item Data: ItemId [0000000000000] StoreNbr [0001] EffectiveDt [2021-10-29]\r\n    \r\n    2021-12-15 03:42:51,136 DEBUG [SimpleAsyncTaskExecutor-1] ItemItemWriter - Writing record for [0001] Eff_Date [2021-10-29] Host Batch [0] UPC [0000000000000]\r\n    2021-12-15 03:42:51,136 DEBUG [SimpleAsyncTaskExecutor-1] ItemDaoImpl - Inserting New Item Data: ItemId [0000000000000] StoreNbr [0001] EffectiveDt [2021-10-29]\r\n    2021-12-15 03:42:51,139 DEBUG [SimpleAsyncTaskExecutor-1] ItemDaoImpl - Updating Existing Item Data: ItemId [0000000000000] StoreNbr [0001] EffectiveDt [2021-10-29]\r\n    2021-12-15 03:42:52,546 ERROR [SimpleAsyncTaskExecutor-1] ItemDaoImpl - An error occurred during item update for Item [0000000000000] ] Store [0001] ] Batch [0] ] Date [2021-10-29] :org.springframework.dao.DeadlockLoserDataAccessException: \r\n\r\n\r\nMost of the update fails with DeadlockLoserDataAccessException.\r\n\r\nSo, I have updated the **Insert &amp; Update** statement like (with and without Begin Tran &amp; commit Tran, result is same)\r\n\r\n 1. Begin Tran Insert into Table **with (Tablock)**... Commit tran\r\n 2. Begin Tran Update Table **with (Tablock)** set commit Tran\r\n\r\nalso tried(with and without Begin Tran &amp; commit Tran, result is same):\r\n\r\n 1. Begin Tran Insert into Table **with (SERIALIZABLE)**... Commit tran\r\n 2. Begin Tran Update Table **with (SERIALIZABLE)** set commit Tran\r\n\r\nNow update statement no longer fails with DeadlockLoserDataAccessException however few of the insert statement throws the DeadlockLoserDataAccessException exception \r\n\r\n     An error occurred during new item insert for Item [0000060923410] ] Store [0056]  \r\n     An error occurred during new item insert for Item [0000060923410] ] Store [0052]  \r\n     An error occurred during new item insert for Item [0000060923410] ] Store [3278]  \r\n     An error occurred during new item insert for Item [0000060923410] ] Store [0052]  \r\n     An error occurred during new item insert for Item [0000060923410] ] Store [3284]  \r\n     An error occurred during new item insert for Item [0000060923410] ] Store [3278]  \r\n     An error occurred during new item insert for Item [0000060923410] ] Store [3290]  \r\n     An error occurred during new item insert for Item [0000060923410] ] Store [3284]  \r\n     An error occurred during new item insert for Item [0001030010279] ] Store [3278]  \r\n     An error occurred during new item insert for Item [0001030010279] ] Store [3284]  \r\n     An error occurred during new item insert for Item [0000060923410] ] Store [3290]  \r\n     An error occurred during new item insert for Item [0000954242689] ] Store [0052]  \r\n     An error occurred during new item insert for Item [0001030010279] ] Store [3290]  \r\n     An error occurred during tag request insert for Item [0001030010279] ] Store [3290]  \r\n     An error occurred during new item insert for Item [0001030053664] ] Store [3284]  \r\n     An error occurred during new item insert for Item [0001030080895] ] Store [3284]  \r\n     An error occurred during tag request insert for Item [0001030080895] ] Store [3284]  \r\n\r\n\r\nWhat could be the reason and fix?\r\n\r\nNote: I tried removing with (tablock) from the insert statement but update statement starts throwing the deadlock errors. \r\n\r\n**Deadlock details from SQL Server**\r\n\r\n    &lt;deadlock&gt;\r\n      &lt;victim-list&gt;\r\n        &lt;victimProcess id=&quot;process1d67b529c28&quot; /&gt;\r\n      &lt;/victim-list&gt;\r\n      &lt;process-list&gt;\r\n        &lt;process id=&quot;process1d67b529c28&quot; taskpriority=&quot;0&quot; logused=&quot;0&quot; waitresource=&quot;OBJECT: 6:1442156233:0 &quot; waittime=&quot;7673&quot; ownerId=&quot;101271231&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-20T13:03:47.363&quot; XDES=&quot;0x1d68c330428&quot; lockMode=&quot;X&quot; schedulerid=&quot;8&quot; kpid=&quot;23916&quot; status=&quot;suspended&quot; spid=&quot;172&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-20T13:03:47.363&quot; lastbatchcompleted=&quot;2021-12-20T13:03:47.273&quot; lastattention=&quot;1900-01-01T00:00:00.273&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;myLaptop&quot; hostpid=&quot;0&quot; loginname=&quot;myDBUser&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;101271231&quot; currentdb=&quot;6&quot; currentdbname=&quot;myDBUser&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\r\n          &lt;executionStack&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x7c82d557079e2a63&quot; queryplanhash=&quot;0xe907b104918dcca3&quot; line=&quot;1&quot; stmtstart=&quot;6176&quot; stmtend=&quot;12328&quot; sqlhandle=&quot;0x020000003a328135b9a6da13379eb4d245948c00142904ee0000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x0000000000000000&quot; queryplanhash=&quot;0x0000000000000000&quot; line=&quot;1&quot; sqlhandle=&quot;0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n          &lt;/executionStack&gt;\r\n          &lt;inputbuf&gt;\r\n    (@P0 nvarchar(4000),@P1 nvarchar(4000),@P2 date,@P3 nvarchar(4000),@P4 nvarchar(4000),@P5 nvarchar(4000),@P6 nvarchar(4000),@P7 int,@P8 nvarchar(4000),@P9 nvarchar(4000),@P10 nvarchar(4000),@P11 nvarchar(4000),@P12 decimal(38,4),@P13 nvarchar(4000),@P14 smallint,@P15 decimal(38,4),@P16 decimal(38,2),@P17 smallint,@P18 decimal(38,0),@P19 decimal(38,0),@P20 smallint,@P21 nvarchar(4000),@P22 nvarchar(4000),@P23 nvarchar(4000),@P24 smallint,@P25 decimal(38,2),@P26 smallint,@P27 decimal(38,0),@P28 decimal(38,0),@P29 decimal(38,2),@P30 smallint,@P31 smallint,@P32 nvarchar(4000),@P33 nvarchar(4000),@P34 nvarchar(4000),@P35 decimal(38,2),@P36 decimal(38,4),@P37 nvarchar(4000),@P38 nvarchar(4000),@P39 nvarchar(4000),@P40 nvarchar(4000),@P41 nvarchar(4000),@P42 nvarchar(4000),@P43 nvarchar(4000),@P44 nvarchar(4000),@P45 nvarchar(4000),@P46 nvarchar(4000),@P47 nvarchar(4000),@P48 nvarchar(4000),@P49 nvarchar(4000),@P50 nvarchar(4000),@P51 nvarchar(4000),@P52 nvarchar(4000),@P53 nvarchar(4000),@P54 nvarchar(4000),@P55 n   &lt;/inputbuf&gt;\r\n        &lt;/process&gt;\r\n        &lt;process id=&quot;process1d67b575468&quot; taskpriority=&quot;0&quot; logused=&quot;0&quot; waitresource=&quot;OBJECT: 6:1442156233:7 &quot; waittime=&quot;2498&quot; ownerId=&quot;101271602&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-20T13:04:11.150&quot; XDES=&quot;0x1d55a758428&quot; lockMode=&quot;X&quot; schedulerid=&quot;1&quot; kpid=&quot;62644&quot; status=&quot;suspended&quot; spid=&quot;171&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-20T13:04:11.150&quot; lastbatchcompleted=&quot;2021-12-20T13:03:46.487&quot; lastattention=&quot;1900-01-01T00:00:00.487&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;myLaptop&quot; hostpid=&quot;0&quot; loginname=&quot;myDBUser&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;101271602&quot; currentdb=&quot;6&quot; currentdbname=&quot;myDBUser&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\r\n          &lt;executionStack&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x7c82d557079e2a63&quot; queryplanhash=&quot;0xe907b104918dcca3&quot; line=&quot;1&quot; stmtstart=&quot;6176&quot; stmtend=&quot;12328&quot; sqlhandle=&quot;0x02000000314353379a6b206b3eb6880ab89e1e4d79d124220000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n          &lt;/executionStack&gt;\r\n          &lt;inputbuf&gt;\r\n    (@P0 nvarchar(4000),@P1 nvarchar(4000),@P2 date,@P3 nvarchar(4000),@P4 nvarchar(4000),@P5 nvarchar(4000),@P6 nvarchar(4000),@P7 int,@P8 nvarchar(4000),@P9 nvarchar(4000),@P10 nvarchar(4000),@P11 nvarchar(4000),@P12 decimal(38,4),@P13 nvarchar(4000),@P14 smallint,@P15 decimal(38,4),@P16 decimal(38,0),@P17 smallint,@P18 decimal(38,0),@P19 decimal(38,0),@P20 smallint,@P21 nvarchar(4000),@P22 nvarchar(4000),@P23 nvarchar(4000),@P24 smallint,@P25 decimal(38,0),@P26 smallint,@P27 decimal(38,0),@P28 decimal(38,0),@P29 decimal(38,0),@P30 smallint,@P31 smallint,@P32 nvarchar(4000),@P33 nvarchar(4000),@P34 nvarchar(4000),@P35 decimal(38,0),@P36 decimal(38,4),@P37 nvarchar(4000),@P38 nvarchar(4000),@P39 nvarchar(4000),@P40 nvarchar(4000),@P41 nvarchar(4000),@P42 nvarchar(4000),@P43 nvarchar(4000),@P44 nvarchar(4000),@P45 nvarchar(4000),@P46 nvarchar(4000),@P47 nvarchar(4000),@P48 nvarchar(4000),@P49 nvarchar(4000),@P50 nvarchar(4000),@P51 nvarchar(4000),@P52 nvarchar(4000),@P53 nvarchar(4000),@P54 nvarchar(4000),@P55 n   &lt;/inputbuf&gt;\r\n        &lt;/process&gt;\r\n      &lt;/process-list&gt;\r\n      &lt;resource-list&gt;\r\n        &lt;objectlock lockPartition=&quot;0&quot; objid=&quot;1442156233&quot; subresource=&quot;FULL&quot; dbid=&quot;6&quot; objectname=&quot;3d6766e5-31cc-4898-8415-e27d1c16d503.myDBUser.STORE_ITEM&quot; id=&quot;lock1d655388f80&quot; mode=&quot;X&quot; associatedObjectId=&quot;1442156233&quot;&gt;\r\n          &lt;owner-list&gt;\r\n            &lt;owner id=&quot;process1d67b575468&quot; mode=&quot;X&quot; /&gt;\r\n          &lt;/owner-list&gt;\r\n          &lt;waiter-list&gt;\r\n            &lt;waiter id=&quot;process1d67b529c28&quot; mode=&quot;X&quot; requestType=&quot;wait&quot; /&gt;\r\n          &lt;/waiter-list&gt;\r\n        &lt;/objectlock&gt;\r\n        &lt;objectlock lockPartition=&quot;7&quot; objid=&quot;1442156233&quot; subresource=&quot;FULL&quot; dbid=&quot;6&quot; objectname=&quot;3d6766e5-31cc-4898-8415-e27d1c16d503.myDBUser.STORE_ITEM&quot; id=&quot;lock1d6350c9b80&quot; mode=&quot;IX&quot; associatedObjectId=&quot;1442156233&quot;&gt;\r\n          &lt;owner-list&gt;\r\n            &lt;owner id=&quot;process1d67b529c28&quot; mode=&quot;IX&quot; /&gt;\r\n          &lt;/owner-list&gt;\r\n          &lt;waiter-list&gt;\r\n            &lt;waiter id=&quot;process1d67b575468&quot; mode=&quot;X&quot; requestType=&quot;wait&quot; /&gt;\r\n          &lt;/waiter-list&gt;\r\n        &lt;/objectlock&gt;\r\n      &lt;/resource-list&gt;\r\n    &lt;/deadlock&gt;\r\n\r\nanother one\r\n\r\n    &lt;deadlock&gt;\r\n      &lt;victim-list&gt;\r\n        &lt;victimProcess id=&quot;process1d67b573088&quot; /&gt;\r\n      &lt;/victim-list&gt;\r\n      &lt;process-list&gt;\r\n        &lt;process id=&quot;process1d67b573088&quot; taskpriority=&quot;0&quot; logused=&quot;0&quot; waitresource=&quot;OBJECT: 6:1442156233:4 &quot; waittime=&quot;2510&quot; ownerId=&quot;101411096&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-20T13:40:14.337&quot; XDES=&quot;0x1d68c984428&quot; lockMode=&quot;X&quot; schedulerid=&quot;6&quot; kpid=&quot;15084&quot; status=&quot;suspended&quot; spid=&quot;145&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-20T13:40:14.337&quot; lastbatchcompleted=&quot;2021-12-20T13:40:14.260&quot; lastattention=&quot;1900-01-01T00:00:00.260&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;myLaptop&quot; hostpid=&quot;0&quot; loginname=&quot;myDBUser&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;101411096&quot; currentdb=&quot;6&quot; currentdbname=&quot;myDBUser&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\r\n          &lt;executionStack&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x7c82d557079e2a63&quot; queryplanhash=&quot;0xe907b104918dcca3&quot; line=&quot;1&quot; stmtstart=&quot;6176&quot; stmtend=&quot;12328&quot; sqlhandle=&quot;0x020000003a328135b9a6da13379eb4d245948c00142904ee0000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x0000000000000000&quot; queryplanhash=&quot;0x0000000000000000&quot; line=&quot;1&quot; sqlhandle=&quot;0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n          &lt;/executionStack&gt;\r\n          &lt;inputbuf&gt;\r\n    (@P0 nvarchar(4000),@P1 nvarchar(4000),@P2 date,@P3 nvarchar(4000),@P4 nvarchar(4000),@P5 nvarchar(4000),@P6 nvarchar(4000),@P7 int,@P8 nvarchar(4000),@P9 nvarchar(4000),@P10 nvarchar(4000),@P11 nvarchar(4000),@P12 decimal(38,4),@P13 nvarchar(4000),@P14 smallint,@P15 decimal(38,4),@P16 decimal(38,2),@P17 smallint,@P18 decimal(38,0),@P19 decimal(38,0),@P20 smallint,@P21 nvarchar(4000),@P22 nvarchar(4000),@P23 nvarchar(4000),@P24 smallint,@P25 decimal(38,2),@P26 smallint,@P27 decimal(38,0),@P28 decimal(38,0),@P29 decimal(38,2),@P30 smallint,@P31 smallint,@P32 nvarchar(4000),@P33 nvarchar(4000),@P34 nvarchar(4000),@P35 decimal(38,2),@P36 decimal(38,4),@P37 nvarchar(4000),@P38 nvarchar(4000),@P39 nvarchar(4000),@P40 nvarchar(4000),@P41 nvarchar(4000),@P42 nvarchar(4000),@P43 nvarchar(4000),@P44 nvarchar(4000),@P45 nvarchar(4000),@P46 nvarchar(4000),@P47 nvarchar(4000),@P48 nvarchar(4000),@P49 nvarchar(4000),@P50 nvarchar(4000),@P51 nvarchar(4000),@P52 nvarchar(4000),@P53 nvarchar(4000),@P54 nvarchar(4000),@P55 n   &lt;/inputbuf&gt;\r\n        &lt;/process&gt;\r\n        &lt;process id=&quot;process1d67ab88108&quot; taskpriority=&quot;0&quot; logused=&quot;0&quot; waitresource=&quot;OBJECT: 6:1442156233:0 &quot; waittime=&quot;2510&quot; ownerId=&quot;101410953&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-20T13:40:12.427&quot; XDES=&quot;0x1d595d04428&quot; lockMode=&quot;X&quot; schedulerid=&quot;5&quot; kpid=&quot;13796&quot; status=&quot;suspended&quot; spid=&quot;146&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-20T13:40:12.427&quot; lastbatchcompleted=&quot;2021-12-20T13:40:12.370&quot; lastattention=&quot;1900-01-01T00:00:00.370&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;myLaptop&quot; hostpid=&quot;0&quot; loginname=&quot;myDBUser&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;101410953&quot; currentdb=&quot;6&quot; currentdbname=&quot;myDBUser&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\r\n          &lt;executionStack&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x7c82d557079e2a63&quot; queryplanhash=&quot;0xe907b104918dcca3&quot; line=&quot;1&quot; stmtstart=&quot;6176&quot; stmtend=&quot;12328&quot; sqlhandle=&quot;0x020000003a328135b9a6da13379eb4d245948c00142904ee0000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n            &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x0000000000000000&quot; queryplanhash=&quot;0x0000000000000000&quot; line=&quot;1&quot; sqlhandle=&quot;0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;&gt;\r\n    unknown    &lt;/frame&gt;\r\n          &lt;/executionStack&gt;\r\n          &lt;inputbuf&gt;\r\n    (@P0 nvarchar(4000),@P1 nvarchar(4000),@P2 date,@P3 nvarchar(4000),@P4 nvarchar(4000),@P5 nvarchar(4000),@P6 nvarchar(4000),@P7 int,@P8 nvarchar(4000),@P9 nvarchar(4000),@P10 nvarchar(4000),@P11 nvarchar(4000),@P12 decimal(38,4),@P13 nvarchar(4000),@P14 smallint,@P15 decimal(38,4),@P16 decimal(38,2),@P17 smallint,@P18 decimal(38,0),@P19 decimal(38,0),@P20 smallint,@P21 nvarchar(4000),@P22 nvarchar(4000),@P23 nvarchar(4000),@P24 smallint,@P25 decimal(38,2),@P26 smallint,@P27 decimal(38,0),@P28 decimal(38,0),@P29 decimal(38,2),@P30 smallint,@P31 smallint,@P32 nvarchar(4000),@P33 nvarchar(4000),@P34 nvarchar(4000),@P35 decimal(38,2),@P36 decimal(38,4),@P37 nvarchar(4000),@P38 nvarchar(4000),@P39 nvarchar(4000),@P40 nvarchar(4000),@P41 nvarchar(4000),@P42 nvarchar(4000),@P43 nvarchar(4000),@P44 nvarchar(4000),@P45 nvarchar(4000),@P46 nvarchar(4000),@P47 nvarchar(4000),@P48 nvarchar(4000),@P49 nvarchar(4000),@P50 nvarchar(4000),@P51 nvarchar(4000),@P52 nvarchar(4000),@P53 nvarchar(4000),@P54 nvarchar(4000),@P55 n   &lt;/inputbuf&gt;\r\n        &lt;/process&gt;\r\n      &lt;/process-list&gt;\r\n      &lt;resource-list&gt;\r\n        &lt;objectlock lockPartition=&quot;4&quot; objid=&quot;1442156233&quot; subresource=&quot;FULL&quot; dbid=&quot;6&quot; objectname=&quot;3d6766e5-31cc-4898-8415-e27d1c16d503.myDBUser.STORE_ITEM&quot; id=&quot;lock1d6598a7280&quot; mode=&quot;IX&quot; associatedObjectId=&quot;1442156233&quot;&gt;\r\n          &lt;owner-list&gt;\r\n            &lt;owner id=&quot;process1d67ab88108&quot; mode=&quot;IX&quot; /&gt;\r\n          &lt;/owner-list&gt;\r\n          &lt;waiter-list&gt;\r\n            &lt;waiter id=&quot;process1d67b573088&quot; mode=&quot;X&quot; requestType=&quot;wait&quot; /&gt;\r\n          &lt;/waiter-list&gt;\r\n        &lt;/objectlock&gt;\r\n        &lt;objectlock lockPartition=&quot;0&quot; objid=&quot;1442156233&quot; subresource=&quot;FULL&quot; dbid=&quot;6&quot; objectname=&quot;3d6766e5-31cc-4898-8415-e27d1c16d503.myDBUser.STORE_ITEM&quot; id=&quot;lock1d5b1706a00&quot; mode=&quot;X&quot; associatedObjectId=&quot;1442156233&quot;&gt;\r\n          &lt;owner-list&gt;\r\n            &lt;owner id=&quot;process1d67b573088&quot; mode=&quot;X&quot; /&gt;\r\n          &lt;/owner-list&gt;\r\n          &lt;waiter-list&gt;\r\n            &lt;waiter id=&quot;process1d67ab88108&quot; mode=&quot;X&quot; requestType=&quot;wait&quot; /&gt;\r\n          &lt;/waiter-list&gt;\r\n        &lt;/objectlock&gt;\r\n      &lt;/resource-list&gt;\r\n    &lt;/deadlock&gt;\r\n\r\n**Note:** \r\nI have appended my JDBC URL with sendStringParametersAsUnicode=false\r\n\r\nI verified the table and found only char, varchar, int &amp; Datetime2 columns. \r\n\r\nAlso jdbctemplate.update takes  query, values and the datatype. Datatype is properly defined in the application. No reference of nvarchar found anywhere in the application. \r\n","title":"Spring Batch - org.springframework.dao.DeadlockLoserDataAccessException in Azure SQL Server?","body":"<p>I have a spring batch application that uses Azure SQL Server as a database.</p>\n<p>The Source table has two entries for the combination of each Store [0001] Eff_Date [2021-10-29] and ItemID [0000000000000]</p>\n<p>Something like</p>\n<pre><code>Store [0001] Eff_Date [2021-10-29] and ItemID [0000000000000]\nStore [0001] Eff_Date [2021-10-29] and ItemID [0000000000000]\n\nStore [0002] Eff_Date [2021-10-29] and ItemID [0000000000000]\nStore [0002] Eff_Date [2021-10-29] and ItemID [0000000000000]\n</code></pre>\n<p>The target table has a cluster primary key constraint as <strong>Store + Eff_Date + ItemID</strong>.</p>\n<p>The application is designed is such a way</p>\n<ol>\n<li>Insert the Record</li>\n<li>If Insert fails, update the Record</li>\n</ol>\n<p>I was getting the following error while trying to process the above records</p>\n<pre><code>2021-12-15 03:42:51,134 DEBUG [SimpleAsyncTaskExecutor-1] ItemItemWriter - Writing record for [0001] Eff_Date [2021-10-29] Host Batch [0] UPC [0000000000000]\n2021-12-15 03:42:51,134 DEBUG [SimpleAsyncTaskExecutor-1] ItemDaoImpl - Inserting New Item Data: ItemId [0000000000000] StoreNbr [0001] EffectiveDt [2021-10-29]\n\n2021-12-15 03:42:51,136 DEBUG [SimpleAsyncTaskExecutor-1] ItemItemWriter - Writing record for [0001] Eff_Date [2021-10-29] Host Batch [0] UPC [0000000000000]\n2021-12-15 03:42:51,136 DEBUG [SimpleAsyncTaskExecutor-1] ItemDaoImpl - Inserting New Item Data: ItemId [0000000000000] StoreNbr [0001] EffectiveDt [2021-10-29]\n2021-12-15 03:42:51,139 DEBUG [SimpleAsyncTaskExecutor-1] ItemDaoImpl - Updating Existing Item Data: ItemId [0000000000000] StoreNbr [0001] EffectiveDt [2021-10-29]\n2021-12-15 03:42:52,546 ERROR [SimpleAsyncTaskExecutor-1] ItemDaoImpl - An error occurred during item update for Item [0000000000000] ] Store [0001] ] Batch [0] ] Date [2021-10-29] :org.springframework.dao.DeadlockLoserDataAccessException: \n</code></pre>\n<p>Most of the update fails with DeadlockLoserDataAccessException.</p>\n<p>So, I have updated the <strong>Insert &amp; Update</strong> statement like (with and without Begin Tran &amp; commit Tran, result is same)</p>\n<ol>\n<li>Begin Tran Insert into Table <strong>with (Tablock)</strong>... Commit tran</li>\n<li>Begin Tran Update Table <strong>with (Tablock)</strong> set commit Tran</li>\n</ol>\n<p>also tried(with and without Begin Tran &amp; commit Tran, result is same):</p>\n<ol>\n<li>Begin Tran Insert into Table <strong>with (SERIALIZABLE)</strong>... Commit tran</li>\n<li>Begin Tran Update Table <strong>with (SERIALIZABLE)</strong> set commit Tran</li>\n</ol>\n<p>Now update statement no longer fails with DeadlockLoserDataAccessException however few of the insert statement throws the DeadlockLoserDataAccessException exception</p>\n<pre><code> An error occurred during new item insert for Item [0000060923410] ] Store [0056]  \n An error occurred during new item insert for Item [0000060923410] ] Store [0052]  \n An error occurred during new item insert for Item [0000060923410] ] Store [3278]  \n An error occurred during new item insert for Item [0000060923410] ] Store [0052]  \n An error occurred during new item insert for Item [0000060923410] ] Store [3284]  \n An error occurred during new item insert for Item [0000060923410] ] Store [3278]  \n An error occurred during new item insert for Item [0000060923410] ] Store [3290]  \n An error occurred during new item insert for Item [0000060923410] ] Store [3284]  \n An error occurred during new item insert for Item [0001030010279] ] Store [3278]  \n An error occurred during new item insert for Item [0001030010279] ] Store [3284]  \n An error occurred during new item insert for Item [0000060923410] ] Store [3290]  \n An error occurred during new item insert for Item [0000954242689] ] Store [0052]  \n An error occurred during new item insert for Item [0001030010279] ] Store [3290]  \n An error occurred during tag request insert for Item [0001030010279] ] Store [3290]  \n An error occurred during new item insert for Item [0001030053664] ] Store [3284]  \n An error occurred during new item insert for Item [0001030080895] ] Store [3284]  \n An error occurred during tag request insert for Item [0001030080895] ] Store [3284]  \n</code></pre>\n<p>What could be the reason and fix?</p>\n<p>Note: I tried removing with (tablock) from the insert statement but update statement starts throwing the deadlock errors.</p>\n<p><strong>Deadlock details from SQL Server</strong></p>\n<pre><code>&lt;deadlock&gt;\n  &lt;victim-list&gt;\n    &lt;victimProcess id=&quot;process1d67b529c28&quot; /&gt;\n  &lt;/victim-list&gt;\n  &lt;process-list&gt;\n    &lt;process id=&quot;process1d67b529c28&quot; taskpriority=&quot;0&quot; logused=&quot;0&quot; waitresource=&quot;OBJECT: 6:1442156233:0 &quot; waittime=&quot;7673&quot; ownerId=&quot;101271231&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-20T13:03:47.363&quot; XDES=&quot;0x1d68c330428&quot; lockMode=&quot;X&quot; schedulerid=&quot;8&quot; kpid=&quot;23916&quot; status=&quot;suspended&quot; spid=&quot;172&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-20T13:03:47.363&quot; lastbatchcompleted=&quot;2021-12-20T13:03:47.273&quot; lastattention=&quot;1900-01-01T00:00:00.273&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;myLaptop&quot; hostpid=&quot;0&quot; loginname=&quot;myDBUser&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;101271231&quot; currentdb=&quot;6&quot; currentdbname=&quot;myDBUser&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\n      &lt;executionStack&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x7c82d557079e2a63&quot; queryplanhash=&quot;0xe907b104918dcca3&quot; line=&quot;1&quot; stmtstart=&quot;6176&quot; stmtend=&quot;12328&quot; sqlhandle=&quot;0x020000003a328135b9a6da13379eb4d245948c00142904ee0000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x0000000000000000&quot; queryplanhash=&quot;0x0000000000000000&quot; line=&quot;1&quot; sqlhandle=&quot;0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n      &lt;/executionStack&gt;\n      &lt;inputbuf&gt;\n(@P0 nvarchar(4000),@P1 nvarchar(4000),@P2 date,@P3 nvarchar(4000),@P4 nvarchar(4000),@P5 nvarchar(4000),@P6 nvarchar(4000),@P7 int,@P8 nvarchar(4000),@P9 nvarchar(4000),@P10 nvarchar(4000),@P11 nvarchar(4000),@P12 decimal(38,4),@P13 nvarchar(4000),@P14 smallint,@P15 decimal(38,4),@P16 decimal(38,2),@P17 smallint,@P18 decimal(38,0),@P19 decimal(38,0),@P20 smallint,@P21 nvarchar(4000),@P22 nvarchar(4000),@P23 nvarchar(4000),@P24 smallint,@P25 decimal(38,2),@P26 smallint,@P27 decimal(38,0),@P28 decimal(38,0),@P29 decimal(38,2),@P30 smallint,@P31 smallint,@P32 nvarchar(4000),@P33 nvarchar(4000),@P34 nvarchar(4000),@P35 decimal(38,2),@P36 decimal(38,4),@P37 nvarchar(4000),@P38 nvarchar(4000),@P39 nvarchar(4000),@P40 nvarchar(4000),@P41 nvarchar(4000),@P42 nvarchar(4000),@P43 nvarchar(4000),@P44 nvarchar(4000),@P45 nvarchar(4000),@P46 nvarchar(4000),@P47 nvarchar(4000),@P48 nvarchar(4000),@P49 nvarchar(4000),@P50 nvarchar(4000),@P51 nvarchar(4000),@P52 nvarchar(4000),@P53 nvarchar(4000),@P54 nvarchar(4000),@P55 n   &lt;/inputbuf&gt;\n    &lt;/process&gt;\n    &lt;process id=&quot;process1d67b575468&quot; taskpriority=&quot;0&quot; logused=&quot;0&quot; waitresource=&quot;OBJECT: 6:1442156233:7 &quot; waittime=&quot;2498&quot; ownerId=&quot;101271602&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-20T13:04:11.150&quot; XDES=&quot;0x1d55a758428&quot; lockMode=&quot;X&quot; schedulerid=&quot;1&quot; kpid=&quot;62644&quot; status=&quot;suspended&quot; spid=&quot;171&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-20T13:04:11.150&quot; lastbatchcompleted=&quot;2021-12-20T13:03:46.487&quot; lastattention=&quot;1900-01-01T00:00:00.487&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;myLaptop&quot; hostpid=&quot;0&quot; loginname=&quot;myDBUser&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;101271602&quot; currentdb=&quot;6&quot; currentdbname=&quot;myDBUser&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\n      &lt;executionStack&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x7c82d557079e2a63&quot; queryplanhash=&quot;0xe907b104918dcca3&quot; line=&quot;1&quot; stmtstart=&quot;6176&quot; stmtend=&quot;12328&quot; sqlhandle=&quot;0x02000000314353379a6b206b3eb6880ab89e1e4d79d124220000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n      &lt;/executionStack&gt;\n      &lt;inputbuf&gt;\n(@P0 nvarchar(4000),@P1 nvarchar(4000),@P2 date,@P3 nvarchar(4000),@P4 nvarchar(4000),@P5 nvarchar(4000),@P6 nvarchar(4000),@P7 int,@P8 nvarchar(4000),@P9 nvarchar(4000),@P10 nvarchar(4000),@P11 nvarchar(4000),@P12 decimal(38,4),@P13 nvarchar(4000),@P14 smallint,@P15 decimal(38,4),@P16 decimal(38,0),@P17 smallint,@P18 decimal(38,0),@P19 decimal(38,0),@P20 smallint,@P21 nvarchar(4000),@P22 nvarchar(4000),@P23 nvarchar(4000),@P24 smallint,@P25 decimal(38,0),@P26 smallint,@P27 decimal(38,0),@P28 decimal(38,0),@P29 decimal(38,0),@P30 smallint,@P31 smallint,@P32 nvarchar(4000),@P33 nvarchar(4000),@P34 nvarchar(4000),@P35 decimal(38,0),@P36 decimal(38,4),@P37 nvarchar(4000),@P38 nvarchar(4000),@P39 nvarchar(4000),@P40 nvarchar(4000),@P41 nvarchar(4000),@P42 nvarchar(4000),@P43 nvarchar(4000),@P44 nvarchar(4000),@P45 nvarchar(4000),@P46 nvarchar(4000),@P47 nvarchar(4000),@P48 nvarchar(4000),@P49 nvarchar(4000),@P50 nvarchar(4000),@P51 nvarchar(4000),@P52 nvarchar(4000),@P53 nvarchar(4000),@P54 nvarchar(4000),@P55 n   &lt;/inputbuf&gt;\n    &lt;/process&gt;\n  &lt;/process-list&gt;\n  &lt;resource-list&gt;\n    &lt;objectlock lockPartition=&quot;0&quot; objid=&quot;1442156233&quot; subresource=&quot;FULL&quot; dbid=&quot;6&quot; objectname=&quot;3d6766e5-31cc-4898-8415-e27d1c16d503.myDBUser.STORE_ITEM&quot; id=&quot;lock1d655388f80&quot; mode=&quot;X&quot; associatedObjectId=&quot;1442156233&quot;&gt;\n      &lt;owner-list&gt;\n        &lt;owner id=&quot;process1d67b575468&quot; mode=&quot;X&quot; /&gt;\n      &lt;/owner-list&gt;\n      &lt;waiter-list&gt;\n        &lt;waiter id=&quot;process1d67b529c28&quot; mode=&quot;X&quot; requestType=&quot;wait&quot; /&gt;\n      &lt;/waiter-list&gt;\n    &lt;/objectlock&gt;\n    &lt;objectlock lockPartition=&quot;7&quot; objid=&quot;1442156233&quot; subresource=&quot;FULL&quot; dbid=&quot;6&quot; objectname=&quot;3d6766e5-31cc-4898-8415-e27d1c16d503.myDBUser.STORE_ITEM&quot; id=&quot;lock1d6350c9b80&quot; mode=&quot;IX&quot; associatedObjectId=&quot;1442156233&quot;&gt;\n      &lt;owner-list&gt;\n        &lt;owner id=&quot;process1d67b529c28&quot; mode=&quot;IX&quot; /&gt;\n      &lt;/owner-list&gt;\n      &lt;waiter-list&gt;\n        &lt;waiter id=&quot;process1d67b575468&quot; mode=&quot;X&quot; requestType=&quot;wait&quot; /&gt;\n      &lt;/waiter-list&gt;\n    &lt;/objectlock&gt;\n  &lt;/resource-list&gt;\n&lt;/deadlock&gt;\n</code></pre>\n<p>another one</p>\n<pre><code>&lt;deadlock&gt;\n  &lt;victim-list&gt;\n    &lt;victimProcess id=&quot;process1d67b573088&quot; /&gt;\n  &lt;/victim-list&gt;\n  &lt;process-list&gt;\n    &lt;process id=&quot;process1d67b573088&quot; taskpriority=&quot;0&quot; logused=&quot;0&quot; waitresource=&quot;OBJECT: 6:1442156233:4 &quot; waittime=&quot;2510&quot; ownerId=&quot;101411096&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-20T13:40:14.337&quot; XDES=&quot;0x1d68c984428&quot; lockMode=&quot;X&quot; schedulerid=&quot;6&quot; kpid=&quot;15084&quot; status=&quot;suspended&quot; spid=&quot;145&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-20T13:40:14.337&quot; lastbatchcompleted=&quot;2021-12-20T13:40:14.260&quot; lastattention=&quot;1900-01-01T00:00:00.260&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;myLaptop&quot; hostpid=&quot;0&quot; loginname=&quot;myDBUser&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;101411096&quot; currentdb=&quot;6&quot; currentdbname=&quot;myDBUser&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\n      &lt;executionStack&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x7c82d557079e2a63&quot; queryplanhash=&quot;0xe907b104918dcca3&quot; line=&quot;1&quot; stmtstart=&quot;6176&quot; stmtend=&quot;12328&quot; sqlhandle=&quot;0x020000003a328135b9a6da13379eb4d245948c00142904ee0000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x0000000000000000&quot; queryplanhash=&quot;0x0000000000000000&quot; line=&quot;1&quot; sqlhandle=&quot;0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n      &lt;/executionStack&gt;\n      &lt;inputbuf&gt;\n(@P0 nvarchar(4000),@P1 nvarchar(4000),@P2 date,@P3 nvarchar(4000),@P4 nvarchar(4000),@P5 nvarchar(4000),@P6 nvarchar(4000),@P7 int,@P8 nvarchar(4000),@P9 nvarchar(4000),@P10 nvarchar(4000),@P11 nvarchar(4000),@P12 decimal(38,4),@P13 nvarchar(4000),@P14 smallint,@P15 decimal(38,4),@P16 decimal(38,2),@P17 smallint,@P18 decimal(38,0),@P19 decimal(38,0),@P20 smallint,@P21 nvarchar(4000),@P22 nvarchar(4000),@P23 nvarchar(4000),@P24 smallint,@P25 decimal(38,2),@P26 smallint,@P27 decimal(38,0),@P28 decimal(38,0),@P29 decimal(38,2),@P30 smallint,@P31 smallint,@P32 nvarchar(4000),@P33 nvarchar(4000),@P34 nvarchar(4000),@P35 decimal(38,2),@P36 decimal(38,4),@P37 nvarchar(4000),@P38 nvarchar(4000),@P39 nvarchar(4000),@P40 nvarchar(4000),@P41 nvarchar(4000),@P42 nvarchar(4000),@P43 nvarchar(4000),@P44 nvarchar(4000),@P45 nvarchar(4000),@P46 nvarchar(4000),@P47 nvarchar(4000),@P48 nvarchar(4000),@P49 nvarchar(4000),@P50 nvarchar(4000),@P51 nvarchar(4000),@P52 nvarchar(4000),@P53 nvarchar(4000),@P54 nvarchar(4000),@P55 n   &lt;/inputbuf&gt;\n    &lt;/process&gt;\n    &lt;process id=&quot;process1d67ab88108&quot; taskpriority=&quot;0&quot; logused=&quot;0&quot; waitresource=&quot;OBJECT: 6:1442156233:0 &quot; waittime=&quot;2510&quot; ownerId=&quot;101410953&quot; transactionname=&quot;implicit_transaction&quot; lasttranstarted=&quot;2021-12-20T13:40:12.427&quot; XDES=&quot;0x1d595d04428&quot; lockMode=&quot;X&quot; schedulerid=&quot;5&quot; kpid=&quot;13796&quot; status=&quot;suspended&quot; spid=&quot;146&quot; sbid=&quot;0&quot; ecid=&quot;0&quot; priority=&quot;0&quot; trancount=&quot;2&quot; lastbatchstarted=&quot;2021-12-20T13:40:12.427&quot; lastbatchcompleted=&quot;2021-12-20T13:40:12.370&quot; lastattention=&quot;1900-01-01T00:00:00.370&quot; clientapp=&quot;Microsoft JDBC Driver for SQL Server&quot; hostname=&quot;myLaptop&quot; hostpid=&quot;0&quot; loginname=&quot;myDBUser&quot; isolationlevel=&quot;read committed (2)&quot; xactid=&quot;101410953&quot; currentdb=&quot;6&quot; currentdbname=&quot;myDBUser&quot; lockTimeout=&quot;4294967295&quot; clientoption1=&quot;671088672&quot; clientoption2=&quot;128058&quot;&gt;\n      &lt;executionStack&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x7c82d557079e2a63&quot; queryplanhash=&quot;0xe907b104918dcca3&quot; line=&quot;1&quot; stmtstart=&quot;6176&quot; stmtend=&quot;12328&quot; sqlhandle=&quot;0x020000003a328135b9a6da13379eb4d245948c00142904ee0000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n        &lt;frame procname=&quot;unknown&quot; queryhash=&quot;0x0000000000000000&quot; queryplanhash=&quot;0x0000000000000000&quot; line=&quot;1&quot; sqlhandle=&quot;0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;&gt;\nunknown    &lt;/frame&gt;\n      &lt;/executionStack&gt;\n      &lt;inputbuf&gt;\n(@P0 nvarchar(4000),@P1 nvarchar(4000),@P2 date,@P3 nvarchar(4000),@P4 nvarchar(4000),@P5 nvarchar(4000),@P6 nvarchar(4000),@P7 int,@P8 nvarchar(4000),@P9 nvarchar(4000),@P10 nvarchar(4000),@P11 nvarchar(4000),@P12 decimal(38,4),@P13 nvarchar(4000),@P14 smallint,@P15 decimal(38,4),@P16 decimal(38,2),@P17 smallint,@P18 decimal(38,0),@P19 decimal(38,0),@P20 smallint,@P21 nvarchar(4000),@P22 nvarchar(4000),@P23 nvarchar(4000),@P24 smallint,@P25 decimal(38,2),@P26 smallint,@P27 decimal(38,0),@P28 decimal(38,0),@P29 decimal(38,2),@P30 smallint,@P31 smallint,@P32 nvarchar(4000),@P33 nvarchar(4000),@P34 nvarchar(4000),@P35 decimal(38,2),@P36 decimal(38,4),@P37 nvarchar(4000),@P38 nvarchar(4000),@P39 nvarchar(4000),@P40 nvarchar(4000),@P41 nvarchar(4000),@P42 nvarchar(4000),@P43 nvarchar(4000),@P44 nvarchar(4000),@P45 nvarchar(4000),@P46 nvarchar(4000),@P47 nvarchar(4000),@P48 nvarchar(4000),@P49 nvarchar(4000),@P50 nvarchar(4000),@P51 nvarchar(4000),@P52 nvarchar(4000),@P53 nvarchar(4000),@P54 nvarchar(4000),@P55 n   &lt;/inputbuf&gt;\n    &lt;/process&gt;\n  &lt;/process-list&gt;\n  &lt;resource-list&gt;\n    &lt;objectlock lockPartition=&quot;4&quot; objid=&quot;1442156233&quot; subresource=&quot;FULL&quot; dbid=&quot;6&quot; objectname=&quot;3d6766e5-31cc-4898-8415-e27d1c16d503.myDBUser.STORE_ITEM&quot; id=&quot;lock1d6598a7280&quot; mode=&quot;IX&quot; associatedObjectId=&quot;1442156233&quot;&gt;\n      &lt;owner-list&gt;\n        &lt;owner id=&quot;process1d67ab88108&quot; mode=&quot;IX&quot; /&gt;\n      &lt;/owner-list&gt;\n      &lt;waiter-list&gt;\n        &lt;waiter id=&quot;process1d67b573088&quot; mode=&quot;X&quot; requestType=&quot;wait&quot; /&gt;\n      &lt;/waiter-list&gt;\n    &lt;/objectlock&gt;\n    &lt;objectlock lockPartition=&quot;0&quot; objid=&quot;1442156233&quot; subresource=&quot;FULL&quot; dbid=&quot;6&quot; objectname=&quot;3d6766e5-31cc-4898-8415-e27d1c16d503.myDBUser.STORE_ITEM&quot; id=&quot;lock1d5b1706a00&quot; mode=&quot;X&quot; associatedObjectId=&quot;1442156233&quot;&gt;\n      &lt;owner-list&gt;\n        &lt;owner id=&quot;process1d67b573088&quot; mode=&quot;X&quot; /&gt;\n      &lt;/owner-list&gt;\n      &lt;waiter-list&gt;\n        &lt;waiter id=&quot;process1d67ab88108&quot; mode=&quot;X&quot; requestType=&quot;wait&quot; /&gt;\n      &lt;/waiter-list&gt;\n    &lt;/objectlock&gt;\n  &lt;/resource-list&gt;\n&lt;/deadlock&gt;\n</code></pre>\n<p><strong>Note:</strong>\nI have appended my JDBC URL with sendStringParametersAsUnicode=false</p>\n<p>I verified the table and found only char, varchar, int &amp; Datetime2 columns.</p>\n<p>Also jdbctemplate.update takes  query, values and the datatype. Datatype is properly defined in the application. No reference of nvarchar found anywhere in the application.</p>\n"},{"tags":["java","spring","spring-boot","image","file-upload"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1640429425,"post_id":70479478,"comment_id":124586397,"body_markdown":"You need to look at what services the other server provides.  Is ot controlled by you?","body":"You need to look at what services the other server provides.  Is ot controlled by you?"},{"owner":{"account_id":11569704,"reputation":3127,"user_id":8476830,"display_name":"Partho63"},"score":0,"creation_date":1640429609,"post_id":70479478,"comment_id":124586424,"body_markdown":"yes. the other server has just tomcat server running at port 8080. I have to save the file `192.168.148.154:8080/photos` folder.","body":"yes. the other server has just tomcat server running at port 8080. I have to save the file <code>192.168.148.154:8080&#47;photos</code> folder."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1640429857,"post_id":70479478,"comment_id":124586463,"body_markdown":"If you have private HTTP access to that server, what is stopping you from using that scheme? If there are more ways open at your storage, use those ways. Perhaps you even have the remote server storage mounted to your local server file system, thus writing directly to your local file system mount point would be fine. In any case, it depends.","body":"If you have private HTTP access to that server, what is stopping you from using that scheme? If there are more ways open at your storage, use those ways. Perhaps you even have the remote server storage mounted to your local server file system, thus writing directly to your local file system mount point would be fine. In any case, it depends."},{"owner":{"account_id":17589164,"reputation":4047,"user_id":12761369,"display_name":"k-wasilewski"},"score":0,"creation_date":1640456356,"post_id":70479478,"comment_id":124590556,"body_markdown":"You could just use a `HttpURLConnection` to forward your request to another server from the `upload` method of your first server, if you don&#39;t want to / can&#39;t do two separate frontend requests..","body":"You could just use a <code>HttpURLConnection</code> to forward your request to another server from the <code>upload</code> method of your first server, if you don&#39;t want to / can&#39;t do two separate frontend requests.."}],"answers":[{"tags":[],"owner":{"account_id":8995943,"reputation":49,"user_id":6706360,"display_name":"Anton Solovev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640581460,"creation_date":1640581460,"answer_id":70491850,"question_id":70479478,"body_markdown":"you can try to use [feign][1]. It doesn&#39;t require any other spring cloud tools\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/","title":"Upload image to another server","body":"<p>you can try to use <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/\" rel=\"nofollow noreferrer\">feign</a>. It doesn't require any other spring cloud tools</p>\n"}],"owner":{"account_id":11569704,"reputation":3127,"user_id":8476830,"display_name":"Partho63"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640581460,"creation_date":1640429174,"question_id":70479478,"body_markdown":"I am working on a Spring Boot application. I have image upload functionalities in the application. Until now it was needed to save the image in the same server. So I did it like below:\r\n\r\n\t@PostMapping(&quot;/upload&quot;)\r\n\tpublic String upload(@RequestParam(&quot;photo&quot;) MultipartFile photo) throws IOException {\r\n\t\t\r\n        Path currentPath = Paths.get(&quot;&quot;);\t\t\r\n\t\tPath absolutePath = currentPath.toAbsolutePath();\r\n\t\tPath photoPath = Paths.get(absolutePath + &quot;/photos/photo.png&quot;);\r\n\t\t\r\n        byte[] photoBytes = photo.getBytes();\r\n\t\tFiles.write(photoPath, photoBytes);\r\n        \r\n        return &quot;redirect:/index&quot;;\r\n    }\r\n\r\nNow it is needed to save the image in photos folder of another server with ip address like: 192.168.148.154\r\n\r\nHow can I save image to another server?","title":"Upload image to another server","body":"<p>I am working on a Spring Boot application. I have image upload functionalities in the application. Until now it was needed to save the image in the same server. So I did it like below:</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\npublic String upload(@RequestParam(&quot;photo&quot;) MultipartFile photo) throws IOException {\n    \n    Path currentPath = Paths.get(&quot;&quot;);       \n    Path absolutePath = currentPath.toAbsolutePath();\n    Path photoPath = Paths.get(absolutePath + &quot;/photos/photo.png&quot;);\n    \n    byte[] photoBytes = photo.getBytes();\n    Files.write(photoPath, photoBytes);\n    \n    return &quot;redirect:/index&quot;;\n}\n</code></pre>\n<p>Now it is needed to save the image in photos folder of another server with ip address like: 192.168.148.154</p>\n<p>How can I save image to another server?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1640547766,"post_id":70488466,"comment_id":124603461,"body_markdown":"You are trying to show the Ad right after calling `load` which obviously won&#39;t work as the Ad hasn&#39;t loaded yet. If you want to show the Ad as soon as it loads then use `show(...)` in `onAdLoaded`.","body":"You are trying to show the Ad right after calling <code>load</code> which obviously won&#39;t work as the Ad hasn&#39;t loaded yet. If you want to show the Ad as soon as it loads then use <code>show(...)</code> in <code>onAdLoaded</code>."},{"owner":{"account_id":23750985,"reputation":1,"user_id":17767742,"display_name":"softwaretk"},"score":0,"creation_date":1640642342,"post_id":70488466,"comment_id":124624215,"body_markdown":"Thank you for your fast answer now it works","body":"Thank you for your fast answer now it works"}],"answers":[{"tags":[],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640581387,"creation_date":1640581387,"answer_id":70491847,"question_id":70488466,"body_markdown":"you can show an Ad after it will load successfully, if Ad was not loaded, it can&#39;t be shown, so you must load before show Ad.\r\n\r\n**Update your code with this.**\r\n\r\n\r\n \r\n        \r\n        \r\n    \r\n\r\n    import com.google.android.gms.ads.interstitial.InterstitialAd;\r\n    import com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\n        \r\n    public class MainActivity extends AppCompatActivity implements LocationListener {\r\n        \r\n                    private InterstitialAd mInterstitialAd; //Variable AdMob\r\n        \r\n                    @Override\r\n                    protected void onCreate(Bundle savedInstanceState) {\r\n                        super.onCreate(savedInstanceState);\r\n                        setContentView(R.layout.activity_main);\r\n        //AdMob\r\n                        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                            @Override\r\n                            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n                            }\r\n                        });\r\n        \r\n        \r\n                        AdRequest adRequest = new AdRequest.Builder().build();\r\n        //ca-app-pub-3940256099942544/1033173712\r\n                        InterstitialAd.load(this, &quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\r\n                                new InterstitialAdLoadCallback() {\r\n                                    @Override\r\n                                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                                        // The mInterstitialAd reference will be null until\r\n                                        // an ad is loaded.\r\n                                        mInterstitialAd = interstitialAd;\r\n                                        //Log.i(TAG, &quot;onAdLoaded&quot;);\r\n                                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\r\n                                            @Override\r\n                                            public void onAdDismissedFullScreenContent() {\r\n                                                // Called when fullscreen content is dismissed.\r\n                                                Log.d(&quot;TAG&quot;, &quot;The ad was dismissed.&quot;);\r\n                                            }\r\n        \r\n                                            @Override\r\n                                            public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                                // Called when fullscreen content failed to show.\r\n                                                Log.d(&quot;TAG&quot;, &quot;The ad failed to show.&quot;);\r\n                                            }\r\n        \r\n                                            @Override\r\n                                            public void onAdShowedFullScreenContent() {\r\n                                                // Called when fullscreen content is shown.\r\n                                                // Make sure to set your reference to null so you don&#39;t\r\n                                                // show it a second time.\r\n                                                mInterstitialAd = null;\r\n                                                Log.d(&quot;TAG&quot;, &quot;The ad was shown.&quot;);\r\n                                            }\r\n                                        });\r\n        \r\n                                        if (mInterstitialAd != null) {\r\n                                            mInterstitialAd.show(MainActivity.this);\r\n                                        } else {\r\n                                            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn&#39;t ready yet.&quot;);\r\n                                        }\r\n                                    }\r\n        \r\n                                    @Override\r\n                                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                                        // Handle the error\r\n                                        //Log.i(TAG, loadAdError.getMessage());\r\n                                        mInterstitialAd = null;\r\n                                    }\r\n                                });\r\n        \r\n        \r\n                    }\r\n                }","title":"The InterstitialAd is not shown in the App, Logcat says: The interstitial ad wasn&#39;t ready yet","body":"<p>you can show an Ad after it will load successfully, if Ad was not loaded, it can't be shown, so you must load before show Ad.</p>\n<p><strong>Update your code with this.</strong></p>\n<pre><code>import com.google.android.gms.ads.interstitial.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\n    \npublic class MainActivity extends AppCompatActivity implements LocationListener {\n    \n                private InterstitialAd mInterstitialAd; //Variable AdMob\n    \n                @Override\n                protected void onCreate(Bundle savedInstanceState) {\n                    super.onCreate(savedInstanceState);\n                    setContentView(R.layout.activity_main);\n    //AdMob\n                    MobileAds.initialize(this, new OnInitializationCompleteListener() {\n                        @Override\n                        public void onInitializationComplete(InitializationStatus initializationStatus) {\n                        }\n                    });\n    \n    \n                    AdRequest adRequest = new AdRequest.Builder().build();\n    //ca-app-pub-3940256099942544/1033173712\n                    InterstitialAd.load(this, &quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\n                            new InterstitialAdLoadCallback() {\n                                @Override\n                                public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                                    // The mInterstitialAd reference will be null until\n                                    // an ad is loaded.\n                                    mInterstitialAd = interstitialAd;\n                                    //Log.i(TAG, &quot;onAdLoaded&quot;);\n                                    mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback() {\n                                        @Override\n                                        public void onAdDismissedFullScreenContent() {\n                                            // Called when fullscreen content is dismissed.\n                                            Log.d(&quot;TAG&quot;, &quot;The ad was dismissed.&quot;);\n                                        }\n    \n                                        @Override\n                                        public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                            // Called when fullscreen content failed to show.\n                                            Log.d(&quot;TAG&quot;, &quot;The ad failed to show.&quot;);\n                                        }\n    \n                                        @Override\n                                        public void onAdShowedFullScreenContent() {\n                                            // Called when fullscreen content is shown.\n                                            // Make sure to set your reference to null so you don't\n                                            // show it a second time.\n                                            mInterstitialAd = null;\n                                            Log.d(&quot;TAG&quot;, &quot;The ad was shown.&quot;);\n                                        }\n                                    });\n    \n                                    if (mInterstitialAd != null) {\n                                        mInterstitialAd.show(MainActivity.this);\n                                    } else {\n                                        Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn't ready yet.&quot;);\n                                    }\n                                }\n    \n                                @Override\n                                public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                                    // Handle the error\n                                    //Log.i(TAG, loadAdError.getMessage());\n                                    mInterstitialAd = null;\n                                }\n                            });\n    \n    \n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":23750985,"reputation":1,"user_id":17767742,"display_name":"softwaretk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640581387,"creation_date":1640539544,"question_id":70488466,"body_markdown":"The App is starting and running normally but the InterstitialAd is not shown. \r\nbuild.gradles are OK\r\nAndroidManifest sems to be OK\r\nI tried it before with an On Start App Ad it worked with out any probelms, but here it don&#39;t work.\r\n\r\nI made everything how its in the Video Tutorial was shown:\r\nhttps://www.youtube.com/watch?v=UTY5gKmhqxU&amp;t=4s\r\nExcept the FullScreenContentCallback(){ I put in the InterstitialAd.load function.\r\nOtherwise the App crashes.\r\n\r\nAny One have an Idea why the InterstitialAd is not showing?\r\nThankYou\r\n\r\nHere my Code:\r\n```\r\nimport com.google.android.gms.ads.interstitial.InterstitialAd;\r\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\r\n\r\npublic class MainActivity extends AppCompatActivity implements LocationListener {\r\n\r\n  private InterstitialAd mInterstitialAd; //Variable AdMob\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n//AdMob\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\r\n        });\r\n\r\n\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n//ca-app-pub-3940256099942544/1033173712\r\n        InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\r\n                new InterstitialAdLoadCallback() {\r\n                    @Override\r\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\r\n                        // The mInterstitialAd reference will be null until\r\n                        // an ad is loaded.\r\n                        mInterstitialAd = interstitialAd;\r\n                        //Log.i(TAG, &quot;onAdLoaded&quot;);\r\n                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback(){\r\n                            @Override\r\n                            public void onAdDismissedFullScreenContent() {\r\n                                // Called when fullscreen content is dismissed.\r\n                                Log.d(&quot;TAG&quot;, &quot;The ad was dismissed.&quot;);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\r\n                                // Called when fullscreen content failed to show.\r\n                                Log.d(&quot;TAG&quot;, &quot;The ad failed to show.&quot;);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onAdShowedFullScreenContent() {\r\n                                // Called when fullscreen content is shown.\r\n                                // Make sure to set your reference to null so you don&#39;t\r\n                                // show it a second time.\r\n                                mInterstitialAd = null;\r\n                                Log.d(&quot;TAG&quot;, &quot;The ad was shown.&quot;);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\r\n                        // Handle the error\r\n                        //Log.i(TAG, loadAdError.getMessage());\r\n                        mInterstitialAd = null;\r\n                    }\r\n                });\r\n\r\n        if (mInterstitialAd != null) {\r\n            mInterstitialAd.show(MainActivity.this);\r\n        } else {\r\n            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn&#39;t ready yet.&quot;);\r\n        }\r\n}\r\n```\r\n\r\nMainfest File:\r\n```\r\n&lt;!-- Sample AdMob app ID: ca-app-pub-3940256099942544~3347511713 --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;\r\n```","title":"The InterstitialAd is not shown in the App, Logcat says: The interstitial ad wasn&#39;t ready yet","body":"<p>The App is starting and running normally but the InterstitialAd is not shown.\nbuild.gradles are OK\nAndroidManifest sems to be OK\nI tried it before with an On Start App Ad it worked with out any probelms, but here it don't work.</p>\n<p>I made everything how its in the Video Tutorial was shown:\n<a href=\"https://www.youtube.com/watch?v=UTY5gKmhqxU&amp;t=4s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=UTY5gKmhqxU&amp;t=4s</a>\nExcept the FullScreenContentCallback(){ I put in the InterstitialAd.load function.\nOtherwise the App crashes.</p>\n<p>Any One have an Idea why the InterstitialAd is not showing?\nThankYou</p>\n<p>Here my Code:</p>\n<pre><code>import com.google.android.gms.ads.interstitial.InterstitialAd;\nimport com.google.android.gms.ads.interstitial.InterstitialAdLoadCallback;\n\npublic class MainActivity extends AppCompatActivity implements LocationListener {\n\n  private InterstitialAd mInterstitialAd; //Variable AdMob\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n//AdMob\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {}\n        });\n\n\n        AdRequest adRequest = new AdRequest.Builder().build();\n//ca-app-pub-3940256099942544/1033173712\n        InterstitialAd.load(this,&quot;ca-app-pub-3940256099942544/1033173712&quot;, adRequest,\n                new InterstitialAdLoadCallback() {\n                    @Override\n                    public void onAdLoaded(@NonNull InterstitialAd interstitialAd) {\n                        // The mInterstitialAd reference will be null until\n                        // an ad is loaded.\n                        mInterstitialAd = interstitialAd;\n                        //Log.i(TAG, &quot;onAdLoaded&quot;);\n                        mInterstitialAd.setFullScreenContentCallback(new FullScreenContentCallback(){\n                            @Override\n                            public void onAdDismissedFullScreenContent() {\n                                // Called when fullscreen content is dismissed.\n                                Log.d(&quot;TAG&quot;, &quot;The ad was dismissed.&quot;);\n                            }\n\n                            @Override\n                            public void onAdFailedToShowFullScreenContent(AdError adError) {\n                                // Called when fullscreen content failed to show.\n                                Log.d(&quot;TAG&quot;, &quot;The ad failed to show.&quot;);\n                            }\n\n                            @Override\n                            public void onAdShowedFullScreenContent() {\n                                // Called when fullscreen content is shown.\n                                // Make sure to set your reference to null so you don't\n                                // show it a second time.\n                                mInterstitialAd = null;\n                                Log.d(&quot;TAG&quot;, &quot;The ad was shown.&quot;);\n                            }\n                        });\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(@NonNull LoadAdError loadAdError) {\n                        // Handle the error\n                        //Log.i(TAG, loadAdError.getMessage());\n                        mInterstitialAd = null;\n                    }\n                });\n\n        if (mInterstitialAd != null) {\n            mInterstitialAd.show(MainActivity.this);\n        } else {\n            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn't ready yet.&quot;);\n        }\n}\n</code></pre>\n<p>Mainfest File:</p>\n<pre><code>&lt;!-- Sample AdMob app ID: ca-app-pub-3940256099942544~3347511713 --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring","inversion-of-control","setter","getter"],"answers":[{"tags":[],"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350962266,"creation_date":1350962266,"answer_id":13023071,"question_id":13022702,"body_markdown":"This depends on how you&#39;re creating your bean.  Spring does not require setters.  There are a number of other ways:\r\n\r\n* Autowiring (with or without Qualifiers) via annotation at the field level\r\n* Constructor injection (either by xml or annotations in the code)\r\n\r\nPublic fields (as you suggested) might work, though i have never tried it, and would advise against it even if it does.\r\n\r\nUnfortunately, the XML approach does not look into private fields (that i know of).  You either need to add a setter, use the constructor, or set up some sort of autowiring.\r\n\r\nKeep in mind, autowiring can be combined with XML.  Spring will pay attention to your wiring annotations even if you create your bean via xml (as opposed to something like @Component and component scanning).\r\n\r\n\r\n     ","title":"Spring getter and setter dependent?","body":"<p>This depends on how you're creating your bean.  Spring does not require setters.  There are a number of other ways:</p>\n\n<ul>\n<li>Autowiring (with or without Qualifiers) via annotation at the field level</li>\n<li>Constructor injection (either by xml or annotations in the code)</li>\n</ul>\n\n<p>Public fields (as you suggested) might work, though i have never tried it, and would advise against it even if it does.</p>\n\n<p>Unfortunately, the XML approach does not look into private fields (that i know of).  You either need to add a setter, use the constructor, or set up some sort of autowiring.</p>\n\n<p>Keep in mind, autowiring can be combined with XML.  Spring will pay attention to your wiring annotations even if you create your bean via xml (as opposed to something like @Component and component scanning).</p>\n"},{"tags":[],"owner":{"account_id":1627799,"reputation":320,"user_id":1502932,"accept_rate":40,"display_name":"kartheek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350968609,"creation_date":1350968609,"answer_id":13023867,"question_id":13022702,"body_markdown":"It is not necessary to have  Setter to inject a reference, you can use Autowire on a public variable of a class or on the setter method, u can also inject beans using constructor-arg which is a good way of injecting dependencies and autowiring can be done on Constructors also. @inject also does the same functionality as @autowired, however @Autowired has an additional behaviour where it internally also uses @required attribute, to see if the bean has a references and injected properly.","title":"Spring getter and setter dependent?","body":"<p>It is not necessary to have  Setter to inject a reference, you can use Autowire on a public variable of a class or on the setter method, u can also inject beans using constructor-arg which is a good way of injecting dependencies and autowiring can be done on Constructors also. @inject also does the same functionality as @autowired, however @Autowired has an additional behaviour where it internally also uses @required attribute, to see if the bean has a references and injected properly.</p>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352645713,"creation_date":1352645713,"answer_id":13332265,"question_id":13022702,"body_markdown":"Spring provides several alternatives for DI besides setter injection. For example, you can use [constructor injection][1]. Alternatively, you can use Spring&#39;s [@Autowired][2] annotation for constructor, field or setter injection. Since you mentioned it, I guess that you would also be interested in knowing that Spring supports the [@Inject][3] annotation.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-constructor-injection\r\n  [2]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-autowired-annotation\r\n  [3]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-inject-named","title":"Spring getter and setter dependent?","body":"<p>Spring provides several alternatives for DI besides setter injection. For example, you can use <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-constructor-injection\" rel=\"nofollow\">constructor injection</a>. Alternatively, you can use Spring's <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-autowired-annotation\" rel=\"nofollow\">@Autowired</a> annotation for constructor, field or setter injection. Since you mentioned it, I guess that you would also be interested in knowing that Spring supports the <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-inject-named\" rel=\"nofollow\">@Inject</a> annotation.</p>\n"}],"owner":{"account_id":161848,"reputation":6734,"user_id":382920,"accept_rate":74,"display_name":"Necronet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1640581225,"creation_date":1350959031,"question_id":13022702,"body_markdown":"I would like to make sure if I understand this correctly. Spring needs a setter to inject a field reference? Couldn&#39;t it do it by just detecting it as a public field?\r\n\r\nIs there an alternative to this. From what I understand Java EE&#39;s @Inject annotation can do this without any problem. But I have always been inclined more to Spring.\r\n\r\n","title":"Spring getter and setter dependent?","body":"<p>I would like to make sure if I understand this correctly. Spring needs a setter to inject a field reference? Couldn't it do it by just detecting it as a public field?</p>\n\n<p>Is there an alternative to this. From what I understand Java EE's @Inject annotation can do this without any problem. But I have always been inclined more to Spring.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1640541417,"post_id":70488522,"comment_id":124602243,"body_markdown":"Not sure if this applies to Slice and List (in the repository). Did you try Slice ? https://howtodoinjava.com/spring-boot2/pagination-sorting-example/","body":"Not sure if this applies to Slice and List (in the repository). Did you try Slice ? <a href=\"https://howtodoinjava.com/spring-boot2/pagination-sorting-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/spring-boot2/pagination-sorting-example</a>"},{"owner":{"account_id":2617167,"reputation":45,"user_id":2266011,"accept_rate":75,"display_name":"asomethings"},"score":0,"creation_date":1640575237,"post_id":70488522,"comment_id":124607336,"body_markdown":"@PeterMmm Tried slice and still issuing count query from page 2","body":"@PeterMmm Tried slice and still issuing count query from page 2"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1640720812,"post_id":70488522,"comment_id":124643196,"body_markdown":"fyi, for simplicity you should be able to autowire ArticleRepository with just: @AutoWired private ArticleRepository articleRepository;","body":"fyi, for simplicity you should be able to autowire ArticleRepository with just: @AutoWired private ArticleRepository articleRepository;"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1640721938,"post_id":70488522,"comment_id":124643581,"body_markdown":"This is an interesting question. Based on the logs, the count query appears to issued when I try this, too (even for page 1). Makes me question the Spring documentation (&quot;... the additional count query that would have been necessary is not issued&quot;).","body":"This is an interesting question. Based on the logs, the count query appears to issued when I try this, too (even for page 1). Makes me question the Spring documentation (&quot;... the additional count query that would have been necessary is not issued&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":21410604,"reputation":355,"user_id":15770918,"display_name":"leandro.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640543880,"creation_date":1640543880,"answer_id":70488945,"question_id":70488522,"body_markdown":"If you need to extend CrudRepository, then you will be able to define method with [Slice][1] in your repository:\r\n\r\n```java\r\nSlice&lt;Article&gt; findAll(Pageable pageable);\r\n```\r\n\r\nI think that other option is change the super interface to `PagingAndSortingRepository`. It can solve the use of `List` on the return.\r\n\r\n```java\r\ninterface ArticleRepository extends PagingAndSortingRepository&lt;Article, Long&gt; {\r\n    List&lt;Article&gt; findAll(Pageable pageable);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Slice.html","title":"Spring Data JPA Pagination without count query","body":"<p>If you need to extend CrudRepository, then you will be able to define method with <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Slice.html\" rel=\"nofollow noreferrer\">Slice</a> in your repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Slice&lt;Article&gt; findAll(Pageable pageable);\n</code></pre>\n<p>I think that other option is change the super interface to <code>PagingAndSortingRepository</code>. It can solve the use of <code>List</code> on the return.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ArticleRepository extends PagingAndSortingRepository&lt;Article, Long&gt; {\n    List&lt;Article&gt; findAll(Pageable pageable);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8995943,"reputation":49,"user_id":6706360,"display_name":"Anton Solovev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640578990,"creation_date":1640577265,"answer_id":70491529,"question_id":70488522,"body_markdown":"1. you can compose PagingAndSortingRepository and CrudRepository as they both are interfaces or use JpaRepository instead.\r\n2. you can write your own count query by setting it into @Query annotation.\r\n\r\n\r\nin source code for `public Page&lt;T&gt; findAll(Pageable pageable)` there is `totalSupplier` which executes count query to get total number. \r\n\r\n```java\r\nif (content.size() != 0 &amp;&amp; pageable.getPageSize() &gt; content.size()) {\r\n    return new PageImpl&lt;&gt;(content, pageable, pageable.getOffset() + content.size());\r\n}\r\nreturn new PageImpl&lt;&gt;(content, pageable, totalSupplier.getAsLong());\r\n```\r\nSo you cannot avoid it with default repository method. Specify you own jpa method or declare query annotation under `PagingAndSortingRepository` class. ","title":"Spring Data JPA Pagination without count query","body":"<ol>\n<li>you can compose PagingAndSortingRepository and CrudRepository as they both are interfaces or use JpaRepository instead.</li>\n<li>you can write your own count query by setting it into @Query annotation.</li>\n</ol>\n<p>in source code for <code>public Page&lt;T&gt; findAll(Pageable pageable)</code> there is <code>totalSupplier</code> which executes count query to get total number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (content.size() != 0 &amp;&amp; pageable.getPageSize() &gt; content.size()) {\n    return new PageImpl&lt;&gt;(content, pageable, pageable.getOffset() + content.size());\n}\nreturn new PageImpl&lt;&gt;(content, pageable, totalSupplier.getAsLong());\n</code></pre>\n<p>So you cannot avoid it with default repository method. Specify you own jpa method or declare query annotation under <code>PagingAndSortingRepository</code> class.</p>\n"}],"owner":{"account_id":2617167,"reputation":45,"user_id":2266011,"accept_rate":75,"display_name":"asomethings"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640578990,"creation_date":1640539990,"question_id":70488522,"body_markdown":"According to Spring docs https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters returning with `List` should not issue count query.\r\n\r\nBut with my spring it goes kinda strange.\r\n\r\nWhen running page request with page `1` it works without count query which i suppose is right.\r\n\r\n[![Requested with page 1][3]][3]\r\n\r\nBut when I invoke repository with page `2`(or above) suddenly it does a count query after select query which I didn&#39;t expect.\r\n\r\n[![Requested with page 2 or above][4]][4]\r\n\r\nIs there any way that I could make count query **not issued** with using Pageable?\r\n\r\nRepository and service code for what i did.\r\n```java\r\n@Repository\r\npublic interface ArticleRepository extends CrudRepository&lt;Article, Long&gt; {\r\n  // Slice was also tested and did issue count query from page 2\r\n  List&lt;Article&gt; findAll(Pageable pageable);\r\n} \r\n\r\n@Service\r\npublic class ArticleService {\r\n  private final ArticleRepository articleRepository;\r\n\r\n  @Autowired\r\n  public ArticleService(\r\n      ArticleRepository articleRepository) {\r\n    this.articleRepository = articleRepository;\r\n  }\r\n\r\n  public List&lt;Article&gt; getArticles(int page) {\r\n    PageRequest pageRequest = PageRequest.of(page, 50, Sort.by(&quot;createdAt&quot;).descending());\r\n    return articleRepository.findAll(pageRequest);\r\n  }\r\n}\r\n\r\n```\r\n\r\n  [3]: https://i.stack.imgur.com/N13BK.png\r\n  [4]: https://i.stack.imgur.com/b2QLQ.png","title":"Spring Data JPA Pagination without count query","body":"<p>According to Spring docs <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.special-parameters</a> returning with <code>List</code> should not issue count query.</p>\n<p>But with my spring it goes kinda strange.</p>\n<p>When running page request with page <code>1</code> it works without count query which i suppose is right.</p>\n<p><a href=\"https://i.stack.imgur.com/N13BK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N13BK.png\" alt=\"Requested with page 1\" /></a></p>\n<p>But when I invoke repository with page <code>2</code>(or above) suddenly it does a count query after select query which I didn't expect.</p>\n<p><a href=\"https://i.stack.imgur.com/b2QLQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b2QLQ.png\" alt=\"Requested with page 2 or above\" /></a></p>\n<p>Is there any way that I could make count query <strong>not issued</strong> with using Pageable?</p>\n<p>Repository and service code for what i did.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ArticleRepository extends CrudRepository&lt;Article, Long&gt; {\n  // Slice was also tested and did issue count query from page 2\n  List&lt;Article&gt; findAll(Pageable pageable);\n} \n\n@Service\npublic class ArticleService {\n  private final ArticleRepository articleRepository;\n\n  @Autowired\n  public ArticleService(\n      ArticleRepository articleRepository) {\n    this.articleRepository = articleRepository;\n  }\n\n  public List&lt;Article&gt; getArticles(int page) {\n    PageRequest pageRequest = PageRequest.of(page, 50, Sort.by(&quot;createdAt&quot;).descending());\n    return articleRepository.findAll(pageRequest);\n  }\n}\n\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-dynamodb"],"comments":[{"owner":{"account_id":16070366,"reputation":3584,"user_id":11598956,"display_name":"OARP"},"score":0,"creation_date":1640348347,"post_id":70472077,"comment_id":124574623,"body_markdown":"Are you running this app on an EC2 instance? The instance has attached an IAM Role?","body":"Are you running this app on an EC2 instance? The instance has attached an IAM Role?"},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1640348989,"post_id":70472077,"comment_id":124574788,"body_markdown":"Hello @OmarRosadio, No I am running the app locally and configured the keys using `aws configure`. Do I need to deploy app to EC2 and check from there? If yes, is there any possible way to test it locally? Thanks","body":"Hello @OmarRosadio, No I am running the app locally and configured the keys using <code>aws configure</code>. Do I need to deploy app to EC2 and check from there? If yes, is there any possible way to test it locally? Thanks"},{"owner":{"account_id":16070366,"reputation":3584,"user_id":11598956,"display_name":"OARP"},"score":0,"creation_date":1640349332,"post_id":70472077,"comment_id":124574871,"body_markdown":"The Credentials Provider class is able to read access key and secret access key from env vars, aws config file or role attached to the instance. You mentioned STS and Web Identity Token, do you need to assume a role from another account?","body":"The Credentials Provider class is able to read access key and secret access key from env vars, aws config file or role attached to the instance. You mentioned STS and Web Identity Token, do you need to assume a role from another account?"},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1640352406,"post_id":70472077,"comment_id":124575603,"body_markdown":"@OmarRosadio, **do you need to assume a role from another account?** Can you please add more details I am not sure which information you required. Earlier I was able to connect to the database with an access key and secret key but was not able to do when I have changed to `WebIdentityTokenFileCredentialsProvider `","body":"@OmarRosadio, <b>do you need to assume a role from another account?</b> Can you please add more details I am not sure which information you required. Earlier I was able to connect to the database with an access key and secret key but was not able to do when I have changed to <code>WebIdentityTokenFileCredentialsProvider </code>"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640357513,"creation_date":1640357102,"answer_id":70474011,"question_id":70472077,"body_markdown":"You have more then creds issues in your Java code. The bigger issue is you are mixing up V1 and V2.  \r\n\r\nThe Java DynamoDB V1 API is: \r\n\r\n**com.amazonaws.services.dynamodbv2.***\r\n\r\nThe Java DyanamoDB V2 API is:\r\n\r\n **software.amazon.awssdk.services.dynamodb.***\r\n\r\nNow your POM file references V2 API: \r\n\r\n    &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.15.0&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n\r\n**You should not mix up V1 and V2**. You are using V2 for the Service Client, and V1 for the **DynamoDBMapperConfig** object. This is not good practice and will not work. \r\n\r\nGet rid of V1 API and replace with only V2 API. You seem to want to use **DynamoDBMapper** functionality. For V2, this is now part of Enhanced Client. \r\n\r\n[Using the DynamoDB Enhanced Client in the AWS SDK for Java 2.x][1]\r\n\r\nTo see an AWS Tutorial that shows you how to build a Spring BOOT app using the AWS SDK for Java V2 (including the Enhanced Client), see: \r\n\r\n[Creating the Amazon DynamoDB web application item tracker][2]\r\n\r\nIn this tutorial, the **EnvironmentVariableCredentialsProvider** is used to handle the AWS key values. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/dynamodb-enhanced-client.html\r\n  [2]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_dynamodb_web_app","title":"How to connect with DynamoDB using WebIdentityTokenFileCredentialsProvider","body":"<p>You have more then creds issues in your Java code. The bigger issue is you are mixing up V1 and V2.</p>\n<p>The Java DynamoDB V1 API is:</p>\n<p><strong>com.amazonaws.services.dynamodbv2.</strong>*</p>\n<p>The Java DyanamoDB V2 API is:</p>\n<p><strong>software.amazon.awssdk.services.dynamodb.</strong>*</p>\n<p>Now your POM file references V2 API:</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;2.15.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p><strong>You should not mix up V1 and V2</strong>. You are using V2 for the Service Client, and V1 for the <strong>DynamoDBMapperConfig</strong> object. This is not good practice and will not work.</p>\n<p>Get rid of V1 API and replace with only V2 API. You seem to want to use <strong>DynamoDBMapper</strong> functionality. For V2, this is now part of Enhanced Client.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/dynamodb-enhanced-client.html\" rel=\"nofollow noreferrer\">Using the DynamoDB Enhanced Client in the AWS SDK for Java 2.x</a></p>\n<p>To see an AWS Tutorial that shows you how to build a Spring BOOT app using the AWS SDK for Java V2 (including the Enhanced Client), see:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_dynamodb_web_app\" rel=\"nofollow noreferrer\">Creating the Amazon DynamoDB web application item tracker</a></p>\n<p>In this tutorial, the <strong>EnvironmentVariableCredentialsProvider</strong> is used to handle the AWS key values.</p>\n"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1832,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640578797,"creation_date":1640342738,"question_id":70472077,"body_markdown":"I have the access key, secret key, region and DynamoDB endpoint through which I am able to connect to the database and I have kept the configurations in the application.properties file. Now the requirement is to not to keep the access key and secret keys in the application.properties file and follow the [Web identity token from AWS STS][1]. I have removed the access key and secret from the application.properties file and have the below configurations. When I start the application I am getting the below message \r\n\r\n**Consider defining a bean of type &#39;com.amazonaws.services.dynamodbv2.AmazonDynamoDB&#39; in your configuration.**\r\n\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperConfig;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperConfig.DefaultTableNameResolver;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperConfig.TableNameOverride;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverterFactory;\r\n    import org.socialsignin.spring.data.dynamodb.repository.config.EnableDynamoDBRepositories;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import software.amazon.awssdk.auth.credentials.WebIdentityTokenFileCredentialsProvider;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.dynamodb.DynamoDbClient;\r\n    \r\n    @Configuration\r\n    @EnableDynamoDBRepositories(dynamoDBMapperConfigRef = &quot;dynamoDBMapperConfig&quot;, basePackages = &quot;com.xyz.repository&quot;)\r\n    public class DynamoDBConfiguration {\r\n    \r\n      @Value(&quot;${aws.dynamodb.endpoint}&quot;)\r\n      private String endpoint;\r\n    \r\n      @Value(&quot;${aws.region}&quot;)\r\n      private String region;\r\n    \r\n      @Value(&quot;${aws.dynamodb.table.name}&quot;)\r\n      private String tableName;\r\n    \r\n      @Bean\r\n      public DynamoDBMapperConfig dynamoDBMapperConfig(TableNameOverride tableNameOverrider) {\r\n        DynamoDBMapperConfig.Builder builder = new DynamoDBMapperConfig.Builder();\r\n        builder.withTypeConverterFactory(DynamoDBTypeConverterFactory.standard());\r\n        builder.withTableNameResolver(DefaultTableNameResolver.INSTANCE);\r\n        builder.withTableNameOverride(tableNameOverrider());\r\n        return builder.build();\r\n      }\r\n    \r\n      @Bean\r\n      public TableNameOverride tableNameOverrider() {\r\n        return TableNameOverride.withTableNamePrefix(tableName);\r\n      }\r\n    \r\n      @Bean\r\n      public DynamoDbClient amazonDynamoDB() {\r\n        return DynamoDbClient.builder()\r\n            .region(Region.of(region))\r\n            .credentialsProvider(WebIdentityTokenFileCredentialsProvider.create())\r\n            .build();\r\n      }\r\n    \r\n    } \r\n\r\nIn pom.xml I have the below dependency related to AWS.\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.15.0&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.github.boostchicken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-dynamodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt; \r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html","title":"How to connect with DynamoDB using WebIdentityTokenFileCredentialsProvider","body":"<p>I have the access key, secret key, region and DynamoDB endpoint through which I am able to connect to the database and I have kept the configurations in the application.properties file. Now the requirement is to not to keep the access key and secret keys in the application.properties file and follow the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">Web identity token from AWS STS</a>. I have removed the access key and secret from the application.properties file and have the below configurations. When I start the application I am getting the below message</p>\n<p><strong>Consider defining a bean of type 'com.amazonaws.services.dynamodbv2.AmazonDynamoDB' in your configuration.</strong></p>\n<pre><code>import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperConfig;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperConfig.DefaultTableNameResolver;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperConfig.TableNameOverride;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverterFactory;\nimport org.socialsignin.spring.data.dynamodb.repository.config.EnableDynamoDBRepositories;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport software.amazon.awssdk.auth.credentials.WebIdentityTokenFileCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.dynamodb.DynamoDbClient;\n\n@Configuration\n@EnableDynamoDBRepositories(dynamoDBMapperConfigRef = &quot;dynamoDBMapperConfig&quot;, basePackages = &quot;com.xyz.repository&quot;)\npublic class DynamoDBConfiguration {\n\n  @Value(&quot;${aws.dynamodb.endpoint}&quot;)\n  private String endpoint;\n\n  @Value(&quot;${aws.region}&quot;)\n  private String region;\n\n  @Value(&quot;${aws.dynamodb.table.name}&quot;)\n  private String tableName;\n\n  @Bean\n  public DynamoDBMapperConfig dynamoDBMapperConfig(TableNameOverride tableNameOverrider) {\n    DynamoDBMapperConfig.Builder builder = new DynamoDBMapperConfig.Builder();\n    builder.withTypeConverterFactory(DynamoDBTypeConverterFactory.standard());\n    builder.withTableNameResolver(DefaultTableNameResolver.INSTANCE);\n    builder.withTableNameOverride(tableNameOverrider());\n    return builder.build();\n  }\n\n  @Bean\n  public TableNameOverride tableNameOverrider() {\n    return TableNameOverride.withTableNamePrefix(tableName);\n  }\n\n  @Bean\n  public DynamoDbClient amazonDynamoDB() {\n    return DynamoDbClient.builder()\n        .region(Region.of(region))\n        .credentialsProvider(WebIdentityTokenFileCredentialsProvider.create())\n        .build();\n  }\n\n} \n</code></pre>\n<p>In pom.xml I have the below dependency related to AWS.</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;2.15.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.boostchicken&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-dynamodb&lt;/artifactId&gt;\n            &lt;version&gt;5.2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sts&lt;/artifactId&gt;\n        &lt;/dependency&gt; \n</code></pre>\n"},{"tags":["java","date","simpledateformat","red-black-tree","date-comparison"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1636492636,"post_id":69905148,"comment_id":123571093,"body_markdown":"Essentially what you&#39;re trying to do as determine what format the value is in.  Since the two formats use different separators, you can easily check which format might be in use.  If you have different formats using the same separator, it becomes more difficult, for [example](https://stackoverflow.com/questions/20231539/java-check-the-date-format-of-current-string-is-according-to-required-format-or/20232680#20232680).  Personally, I prefer to convert the `String` value to a `LocalDate` value and deal with it from there","body":"Essentially what you&#39;re trying to do as determine what format the value is in.  Since the two formats use different separators, you can easily check which format might be in use.  If you have different formats using the same separator, it becomes more difficult, for <a href=\"https://stackoverflow.com/questions/20231539/java-check-the-date-format-of-current-string-is-according-to-required-format-or/20232680#20232680\">example</a>.  Personally, I prefer to convert the <code>String</code> value to a <code>LocalDate</code> value and deal with it from there"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636492894,"post_id":69905148,"comment_id":123571203,"body_markdown":"Cant you just store all the dates as `LocalDate` objects rather than strings? I wish you could, at least.","body":"Cant you just store all the dates as <code>LocalDate</code> objects rather than strings? I wish you could, at least."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636493007,"post_id":69905148,"comment_id":123571257,"body_markdown":"When you mention `SimpleDateFormat`, I recommend you dont use that class. It is notoriously troublesome and long outdated. Instead use `DateTimeFormatter` and also `LocalDate`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"When you mention <code>SimpleDateFormat</code>, I recommend you dont use that class. It is notoriously troublesome and long outdated. Instead use <code>DateTimeFormatter</code> and also <code>LocalDate</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636493988,"creation_date":1636493404,"answer_id":69905364,"question_id":69905148,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date work.\r\n\r\nIf you are reading data from a text file, as soon as possible parse your date strings into `LocalDate` objects and store those in your red-black tree. For parsing strings in your two formats, if you dont know in advance which format you get, the following method handles both simply by testing whether the string contains a slash or not.\r\n\r\n\tprivate static final DateTimeFormatter DATE_FORMATTER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;M/d/y&quot;, Locale.ROOT);\r\n\t\t\r\n\t/** Parses yyyy-MM-dd or M/d/yyyy */\r\n\tprivate static LocalDate parseDateString(String dateString) {\r\n\t\tif (dateString.contains(&quot;/&quot;)) {\r\n\t\t\treturn LocalDate.parse(dateString, DATE_FORMATTER);\r\n\t\t} else {\r\n\t\t\treturn LocalDate.parse(dateString, DateTimeFormatter.ISO_LOCAL_DATE);\r\n\t\t}\r\n\t}\r\n\r\nLets try it out:\r\n\r\n\t\tSystem.out.println(parseDateString(&quot;2023-11-20&quot;));\r\n\t\tSystem.out.println(parseDateString(&quot;9/18/2019&quot;));\r\n\r\nOutput:\r\n\r\n&gt;     2023-11-20\r\n&gt;     2019-09-18\r\n\r\n## Comparison\r\n\r\n`LocalDate` implements comparable, so you can compare them using `compareTo()`. For a simple demonstration not involving any tree:\r\n\r\n\t\tLocalDate dateFromIso = parseDateString(&quot;2023-11-20&quot;);\r\n\t\tLocalDate dateFromSlashFormat = parseDateString(&quot;9/18/2019&quot;);\r\n\t\tLocalDate[] dates = { dateFromIso, dateFromSlashFormat };\r\n\t\t\r\n\t\tSystem.out.println(&quot;Before sort: &quot; + Arrays.toString(dates));\r\n\t\t\r\n\t\tArrays.sort(dates);\r\n\t\t\r\n\t\tSystem.out.println(&quot;After sort:  &quot; + Arrays.toString(dates));\r\n\r\n&gt;     Before sort: [2023-11-20, 2019-09-18]\r\n&gt;     After sort:  [2019-09-18, 2023-11-20]\r\n\r\n## Tutorial link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n\r\n\r\n\r\n","title":"SimpleDateFormat to format one date into another for Red Black Tree? Used together with if statement?","body":"<h2>java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date work.</p>\n<p>If you are reading data from a text file, as soon as possible parse your date strings into <code>LocalDate</code> objects and store those in your red-black tree. For parsing strings in your two formats, if you dont know in advance which format you get, the following method handles both simply by testing whether the string contains a slash or not.</p>\n<pre><code>private static final DateTimeFormatter DATE_FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;M/d/y&quot;, Locale.ROOT);\n    \n/** Parses yyyy-MM-dd or M/d/yyyy */\nprivate static LocalDate parseDateString(String dateString) {\n    if (dateString.contains(&quot;/&quot;)) {\n        return LocalDate.parse(dateString, DATE_FORMATTER);\n    } else {\n        return LocalDate.parse(dateString, DateTimeFormatter.ISO_LOCAL_DATE);\n    }\n}\n</code></pre>\n<p>Lets try it out:</p>\n<pre><code>    System.out.println(parseDateString(&quot;2023-11-20&quot;));\n    System.out.println(parseDateString(&quot;9/18/2019&quot;));\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<pre><code>2023-11-20\n2019-09-18\n</code></pre>\n</blockquote>\n<h2>Comparison</h2>\n<p><code>LocalDate</code> implements comparable, so you can compare them using <code>compareTo()</code>. For a simple demonstration not involving any tree:</p>\n<pre><code>    LocalDate dateFromIso = parseDateString(&quot;2023-11-20&quot;);\n    LocalDate dateFromSlashFormat = parseDateString(&quot;9/18/2019&quot;);\n    LocalDate[] dates = { dateFromIso, dateFromSlashFormat };\n    \n    System.out.println(&quot;Before sort: &quot; + Arrays.toString(dates));\n    \n    Arrays.sort(dates);\n    \n    System.out.println(&quot;After sort:  &quot; + Arrays.toString(dates));\n</code></pre>\n<blockquote>\n<pre><code>Before sort: [2023-11-20, 2019-09-18]\nAfter sort:  [2019-09-18, 2023-11-20]\n</code></pre>\n</blockquote>\n<h2>Tutorial link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640578625,"creation_date":1636493421,"answer_id":69905371,"question_id":69905148,"body_markdown":"Personally, I hate dealing with date/time values that are `String` (or numerically) based.  Java (now) has a nice date/time API and we might as well take advantage of it where ever possible (IMHO)\r\n\r\nSince you have two formats which are relatively easy to distinguish (either they use `/` or `-`), it would be a simple matter to parse them, for example...\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            DateTimeFormatter yearMonthDayFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n            DateTimeFormatter monthDayYearFormatter = DateTimeFormatter.ofPattern(&quot;d/MM/yyyy&quot;);\r\n\r\n            String yearMonthDayValue = &quot;2020-10-10&quot;;\r\n            String monthDayYearValue = &quot;10/10/2020&quot;;\r\n\r\n            List&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n            values.add(&quot;2020-10-10&quot;);\r\n            values.add(&quot;10/10/2020&quot;);\r\n\r\n            for (String value : values) {\r\n                LocalDate dateValue = null;\r\n                if (value.contains(&quot;-&quot;)) {\r\n                    dateValue = LocalDate.parse(value, yearMonthDayFormatter);\r\n                } else if (value.contains(&quot;/&quot;)) {\r\n                    dateValue = LocalDate.parse(value, monthDayYearFormatter);\r\n                } else {\r\n                    System.err.println(&quot;Bad format [&quot; + value + &quot;]&quot;);\r\n                }\r\n\r\n                if (dateValue != null) {\r\n                    // Deal with it\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI would suggest having a look at the [Date/Time trail](https://docs.oracle.com/javase/tutorial/datetime/TOC.html) for more details","title":"SimpleDateFormat to format one date into another for Red Black Tree? Used together with if statement?","body":"<p>Personally, I hate dealing with date/time values that are <code>String</code> (or numerically) based.  Java (now) has a nice date/time API and we might as well take advantage of it where ever possible (IMHO)</p>\n<p>Since you have two formats which are relatively easy to distinguish (either they use <code>/</code> or <code>-</code>), it would be a simple matter to parse them, for example...</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        DateTimeFormatter yearMonthDayFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n        DateTimeFormatter monthDayYearFormatter = DateTimeFormatter.ofPattern(&quot;d/MM/yyyy&quot;);\n\n        String yearMonthDayValue = &quot;2020-10-10&quot;;\n        String monthDayYearValue = &quot;10/10/2020&quot;;\n\n        List&lt;String&gt; values = new ArrayList&lt;&gt;();\n        values.add(&quot;2020-10-10&quot;);\n        values.add(&quot;10/10/2020&quot;);\n\n        for (String value : values) {\n            LocalDate dateValue = null;\n            if (value.contains(&quot;-&quot;)) {\n                dateValue = LocalDate.parse(value, yearMonthDayFormatter);\n            } else if (value.contains(&quot;/&quot;)) {\n                dateValue = LocalDate.parse(value, monthDayYearFormatter);\n            } else {\n                System.err.println(&quot;Bad format [&quot; + value + &quot;]&quot;);\n            }\n\n            if (dateValue != null) {\n                // Deal with it\n            }\n        }\n    }\n}\n</code></pre>\n<p>I would suggest having a look at the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Date/Time trail</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636494675,"creation_date":1636494675,"answer_id":69905559,"question_id":69905148,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n\r\n**Solution using `java.time`, the modern Date-Time API:** You can specify multiple optional patterns using square brackets inside a `DateTimeFormatter`. Parse the date strings into `LocalDate` and compare them using [`LocalDate#isBefore`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-), `LocalDate#isAfter`, `LocalDate#isEqual` etc.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;[uuuu-MM-dd][M/dd/uuuu]&quot;, Locale.ENGLISH);\r\n    \r\n    \t\t// Test\r\n    \t\tStream.of(\r\n    \t\t\t\t&quot;2021-11-09&quot;,\r\n    \t\t\t\t&quot;11/09/2021&quot;,\r\n    \t\t\t\t&quot;5/09/2021&quot;\r\n    \t\t).forEach(s -&gt; System.out.println(LocalDate.parse(s, dtf)));\r\n    \t}\r\n    }\r\n\r\n    \r\n**Output:**\r\n\r\n    2021-11-09\r\n    2021-11-09\r\n    2021-05-09\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary). Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/N8guNv\r\n","title":"SimpleDateFormat to format one date into another for Red Black Tree? Used together with if statement?","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong> You can specify multiple optional patterns using square brackets inside a <code>DateTimeFormatter</code>. Parse the date strings into <code>LocalDate</code> and compare them using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#isBefore-java.time.chrono.ChronoLocalDate-\" rel=\"nofollow noreferrer\"><code>LocalDate#isBefore</code></a>, <code>LocalDate#isAfter</code>, <code>LocalDate#isEqual</code> etc.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;[uuuu-MM-dd][M/dd/uuuu]&quot;, Locale.ENGLISH);\n\n        // Test\n        Stream.of(\n                &quot;2021-11-09&quot;,\n                &quot;11/09/2021&quot;,\n                &quot;5/09/2021&quot;\n        ).forEach(s -&gt; System.out.println(LocalDate.parse(s, dtf)));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-11-09\n2021-11-09\n2021-05-09\n</code></pre>\n<p><a href=\"https://ideone.com/N8guNv\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636547997,"creation_date":1636495583,"answer_id":69905679,"question_id":69905148,"body_markdown":"Another possibility to complement MadProgrammer&#39;s answer would be just delegating the distinction between date formats to the parser itself with exception handling.\r\n\r\nSomething like defining an array of possible formats (in your case for now just two):\r\n\r\n    private final DateTimeFormatter[] formats = {\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;),\r\n            DateTimeFormatter.ofPattern(&quot;d/MM/yyyy&quot;)\r\n    };\r\n\r\nAnd creating a method to normalize a &quot;raw&quot; date read in input:\r\n\r\n    String normalize(String dateRaw) {\r\n        if (dateRaw == null) {\r\n            throw new IllegalArgumentException(&quot;Null date&quot;);\r\n        }\r\n        LocalDate standardized = null;\r\n        for (DateTimeFormatter fmt : formats) {\r\n            try {\r\n                standardized = LocalDate.parse(dateRaw, fmt);\r\n                break;\r\n            } catch (final DateTimeParseException e) {\r\n                // ignore or log if you need to\r\n            }\r\n        }\r\n        if (standardized == null) {\r\n            // do something about it, parse failed, invalid date\r\n        }\r\n        return standardized.toString();\r\n    }\r\n\r\n**EDIT**\r\n\r\nAs mentioned in the comments, it&#39;s easier to just compare `LocalDate` objects if your spec allows it:\r\n\r\n    LocalDate toLocalDate(String dateRaw) {\r\n        if (dateRaw == null) {\r\n            throw new IllegalArgumentException(&quot;Null date&quot;);\r\n        }\r\n        LocalDate localDate = null;\r\n        for (DateTimeFormatter fmt : formats) {\r\n            try {\r\n                localDate = LocalDate.parse(dateRaw, fmt);\r\n                break;\r\n            } catch (final DateTimeParseException e) {\r\n                // ignore or log if you need to\r\n            }\r\n        }\r\n        if (localDate == null) {\r\n            // do something about it, parse failed, invalid date\r\n        }\r\n        return localDate;\r\n    }\r\n\r\nAnd then if you need a String representation, you can get it directly from the `LocalDate` returned","title":"SimpleDateFormat to format one date into another for Red Black Tree? Used together with if statement?","body":"<p>Another possibility to complement MadProgrammer's answer would be just delegating the distinction between date formats to the parser itself with exception handling.</p>\n<p>Something like defining an array of possible formats (in your case for now just two):</p>\n<pre><code>private final DateTimeFormatter[] formats = {\n        DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;),\n        DateTimeFormatter.ofPattern(&quot;d/MM/yyyy&quot;)\n};\n</code></pre>\n<p>And creating a method to normalize a &quot;raw&quot; date read in input:</p>\n<pre><code>String normalize(String dateRaw) {\n    if (dateRaw == null) {\n        throw new IllegalArgumentException(&quot;Null date&quot;);\n    }\n    LocalDate standardized = null;\n    for (DateTimeFormatter fmt : formats) {\n        try {\n            standardized = LocalDate.parse(dateRaw, fmt);\n            break;\n        } catch (final DateTimeParseException e) {\n            // ignore or log if you need to\n        }\n    }\n    if (standardized == null) {\n        // do something about it, parse failed, invalid date\n    }\n    return standardized.toString();\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>As mentioned in the comments, it's easier to just compare <code>LocalDate</code> objects if your spec allows it:</p>\n<pre><code>LocalDate toLocalDate(String dateRaw) {\n    if (dateRaw == null) {\n        throw new IllegalArgumentException(&quot;Null date&quot;);\n    }\n    LocalDate localDate = null;\n    for (DateTimeFormatter fmt : formats) {\n        try {\n            localDate = LocalDate.parse(dateRaw, fmt);\n            break;\n        } catch (final DateTimeParseException e) {\n            // ignore or log if you need to\n        }\n    }\n    if (localDate == null) {\n        // do something about it, parse failed, invalid date\n    }\n    return localDate;\n}\n</code></pre>\n<p>And then if you need a String representation, you can get it directly from the <code>LocalDate</code> returned</p>\n"}],"owner":{"account_id":16474516,"reputation":55,"user_id":14336933,"display_name":"potroast12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69905364,"answer_count":4,"score":0,"last_activity_date":1640578625,"creation_date":1636492288,"question_id":69905148,"body_markdown":"I have a text file full of data that I am putting into a Red Black tree, using the date as the key and the rest of the data from that line as the value. The problem is that some of the dates have this format:\r\n```\r\n&quot;yyyy-MM-dd&quot;\r\n```\r\nwhile some of the other dates have this format:\r\n```\r\n&quot;M/dd/yyyy&quot;\r\n```\r\nI need a way to compare these two dates, since I am using them as the key in my Red Black tree, so I need a common format. I&#39;m not sure which would be easier for comparison, but I just know that they need to be in the same format. I&#39;ve read a bit about SimpleDateFormat, but since I&#39;m thinking of reading through the file, having some sort of if statement to determine if the date is in the wrong format, and then formatting it to the one I want, I&#39;m just not sure how to do that with SimpleDateFormat since I&#39;ve never used it before. Any help would be appreciated!","title":"SimpleDateFormat to format one date into another for Red Black Tree? Used together with if statement?","body":"<p>I have a text file full of data that I am putting into a Red Black tree, using the date as the key and the rest of the data from that line as the value. The problem is that some of the dates have this format:</p>\n<pre><code>&quot;yyyy-MM-dd&quot;\n</code></pre>\n<p>while some of the other dates have this format:</p>\n<pre><code>&quot;M/dd/yyyy&quot;\n</code></pre>\n<p>I need a way to compare these two dates, since I am using them as the key in my Red Black tree, so I need a common format. I'm not sure which would be easier for comparison, but I just know that they need to be in the same format. I've read a bit about SimpleDateFormat, but since I'm thinking of reading through the file, having some sort of if statement to determine if the date is in the wrong format, and then formatting it to the one I want, I'm just not sure how to do that with SimpleDateFormat since I've never used it before. Any help would be appreciated!</p>\n"},{"tags":["java","jsp","web-inf"],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640578400,"creation_date":1640578400,"answer_id":70491610,"question_id":70491404,"body_markdown":"As you said, the WEB-INF content will not be accessible when the web is deployed. Commonly this folder store web **low level settings**. Also when the app is deployed (classic war on tomcat) this folder WEB-INF **has a folder called lib** with all the jar libraries.\r\n\r\nAny other static asset like, html, css, font, js, etc should be outside of **WEB-INF** \r\n\r\nJust the dynamic content like .jsp should be inside  of **WEB-INF** \r\n\r\nTake a look to this [maven structure](https://mkyong.com/maven/how-to-create-a-web-application-project-with-maven/):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nor this in which we can see the classic [web.xml](https://mkyong.com/maven/how-to-create-a-web-application-project-with-maven/)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nor this with [spring-boot](https://github.com/jrichardsz/spring-examples/tree/master/spring-boot-jsp)\r\n```\r\n./pom.xml\r\n./src\r\n./src/main\r\n./src/main/webapp\r\n./src/main/webapp/WEB-INF\r\n./src/main/webapp/WEB-INF/jsp\r\n./src/main/webapp/WEB-INF/jsp/hello.jsp\r\n./src/main/resources\r\n./src/main/resources/application.properties\r\n./src/main/java\r\n./src/main/java/com\r\n./src/main/java/com/\r\n./src/main/java/com/examples\r\n./src/main/java/com/examples/spring\r\n./src/main/java/com/examples/spring/springbootjsp\r\n./src/main/java/com/examples/spring/springbootjsp/controllers\r\n./src/main/java/com/examples/spring/springbootjsp/controllers/HelloController.java\r\n./src/main/java/com/examples/spring/springbootjsp/SpringBootJspApplication.java\r\n```\r\n\r\n\r\nI advice you:\r\n\r\n- Use a maven structure for your java web app\r\n- Use spring\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1oB8R.png\r\n  [2]: https://i.stack.imgur.com/u7jrm.png","title":"What is the best practice of the directory Structure Of Java Web Application","body":"<p>As you said, the WEB-INF content will not be accessible when the web is deployed. Commonly this folder store web <strong>low level settings</strong>. Also when the app is deployed (classic war on tomcat) this folder WEB-INF <strong>has a folder called lib</strong> with all the jar libraries.</p>\n<p>Any other static asset like, html, css, font, js, etc should be outside of <strong>WEB-INF</strong></p>\n<p>Just the dynamic content like .jsp should be inside  of <strong>WEB-INF</strong></p>\n<p>Take a look to this <a href=\"https://mkyong.com/maven/how-to-create-a-web-application-project-with-maven/\" rel=\"nofollow noreferrer\">maven structure</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/1oB8R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1oB8R.png\" alt=\"enter image description here\" /></a></p>\n<p>or this in which we can see the classic <a href=\"https://mkyong.com/maven/how-to-create-a-web-application-project-with-maven/\" rel=\"nofollow noreferrer\">web.xml</a></p>\n<p><a href=\"https://i.stack.imgur.com/u7jrm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u7jrm.png\" alt=\"enter image description here\" /></a></p>\n<p>or this with <a href=\"https://github.com/jrichardsz/spring-examples/tree/master/spring-boot-jsp\" rel=\"nofollow noreferrer\">spring-boot</a></p>\n<pre><code>./pom.xml\n./src\n./src/main\n./src/main/webapp\n./src/main/webapp/WEB-INF\n./src/main/webapp/WEB-INF/jsp\n./src/main/webapp/WEB-INF/jsp/hello.jsp\n./src/main/resources\n./src/main/resources/application.properties\n./src/main/java\n./src/main/java/com\n./src/main/java/com/\n./src/main/java/com/examples\n./src/main/java/com/examples/spring\n./src/main/java/com/examples/spring/springbootjsp\n./src/main/java/com/examples/spring/springbootjsp/controllers\n./src/main/java/com/examples/spring/springbootjsp/controllers/HelloController.java\n./src/main/java/com/examples/spring/springbootjsp/SpringBootJspApplication.java\n</code></pre>\n<p>I advice you:</p>\n<ul>\n<li>Use a maven structure for your java web app</li>\n<li>Use spring</li>\n</ul>\n"}],"owner":{"account_id":20719168,"reputation":47,"user_id":15213946,"display_name":"mike kong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640578400,"creation_date":1640575141,"question_id":70491404,"body_markdown":"For the WEB-INF folder, it will only store the files that are not accessible to the public. So it will be only index.html stay outside of the WEB-INF folder? For example, like the login and register jsp file should stay inside or outside the WEB-INF folder? ","title":"What is the best practice of the directory Structure Of Java Web Application","body":"<p>For the WEB-INF folder, it will only store the files that are not accessible to the public. So it will be only index.html stay outside of the WEB-INF folder? For example, like the login and register jsp file should stay inside or outside the WEB-INF folder?</p>\n"},{"tags":["java","maven","plugins","java-8","log4j"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1640572263,"post_id":70489977,"comment_id":124607014,"body_markdown":"This looks like it is being made available for your test code.  `loggerPath` used anywhere?","body":"This looks like it is being made available for your test code.  <code>loggerPath</code> used anywhere?"}],"answers":[{"tags":[],"owner":{"account_id":8995943,"reputation":49,"user_id":6706360,"display_name":"Anton Solovev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640576151,"creation_date":1640576151,"answer_id":70491455,"question_id":70489977,"body_markdown":"I&#39;m not sure that it is even working for you. I didn&#39;t see any usage of `loggerPath` property inside the plugin.\r\nDoes it create a proper appender in your tests?\r\n\r\nI think you can easily remove `systemProperties` from here if tests generate logs in the same way they do now.","title":"log4j used as property under maven-surefire-plugin , Do I need to change anything as log4j has vulnerability in its version?","body":"<p>I'm not sure that it is even working for you. I didn't see any usage of <code>loggerPath</code> property inside the plugin.\nDoes it create a proper appender in your tests?</p>\n<p>I think you can easily remove <code>systemProperties</code> from here if tests generate logs in the same way they do now.</p>\n"}],"owner":{"account_id":14788289,"reputation":105,"user_id":10679918,"display_name":"Ashvini Panwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640576151,"creation_date":1640554118,"question_id":70489977,"body_markdown":"```log4j``` used as property under ```maven-surefire-plugin``` , Do I need to change anything as log4j has vulnerability in its version? If yes then how to know which version is used by this plugin and how do I update the same. \r\n\r\nPlugin configuration goes like this, also my plugin version is 2.12\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemProperties&gt;\r\n                        &lt;property&gt;\r\n                            &lt;name&gt;loggerPath&lt;/name&gt;\r\n                            &lt;value&gt;conf/log4j.properties&lt;/value&gt;\r\n                        &lt;/property&gt;\r\n                    &lt;/systemProperties&gt;\r\n                    &lt;argLine&gt;-Xms512m -Xmx1500m&lt;/argLine&gt;\r\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                    &lt;forkMode&gt;pertest&lt;/forkMode&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nThanks!","title":"log4j used as property under maven-surefire-plugin , Do I need to change anything as log4j has vulnerability in its version?","body":"<p><code>log4j</code> used as property under <code>maven-surefire-plugin</code> , Do I need to change anything as log4j has vulnerability in its version? If yes then how to know which version is used by this plugin and how do I update the same.</p>\n<p>Plugin configuration goes like this, also my plugin version is 2.12</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.12&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;loggerPath&lt;/name&gt;\n                            &lt;value&gt;conf/log4j.properties&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/systemProperties&gt;\n                    &lt;argLine&gt;-Xms512m -Xmx1500m&lt;/argLine&gt;\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\n                    &lt;forkMode&gt;pertest&lt;/forkMode&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1640575199,"post_id":70491385,"comment_id":124607329,"body_markdown":"Please don&#39;t post screenshots of your code, or other textual content. Instead post the actual text, and use the formatting tools of Stack Overflow to mark it up.","body":"Please don&#39;t post screenshots of your code, or other textual content. Instead post the actual text, and use the formatting tools of Stack Overflow to mark it up."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1640575395,"post_id":70491385,"comment_id":124607353,"body_markdown":"I&#39;m not sure I understand your data structure, nor what you want the output to be. What is the meaning of the `-M...` keys under `younssbouch`? I get they come from calling `push()`, but what are they for? Why don&#39;t you just call `...child(&quot;user_enrollments&quot;).child(username).setValue(true)` to indicate that `username` was enrolled?","body":"I&#39;m not sure I understand your data structure, nor what you want the output to be. What is the meaning of the <code>-M...</code> keys under <code>younssbouch</code>? I get they come from calling <code>push()</code>, but what are they for? Why don&#39;t you just call <code>...child(&quot;user_enrollments&quot;).child(username).setValue(true)</code> to indicate that <code>username</code> was enrolled?"},{"owner":{"account_id":23753821,"reputation":1,"user_id":17770184,"display_name":"Younes Bouchbouk"},"score":0,"creation_date":1640615382,"post_id":70491385,"comment_id":124616697,"body_markdown":"in this user_enrollments collection i want to store all groups id that user younesbouch intergrate in so **Id** in  ` ...child(&quot;User_enrolments&quot;).child(username).child(**Id**).setValue(&quot;true&quot;);` is referenced to the group id in group Collection","body":"in this user_enrollments collection i want to store all groups id that user younesbouch intergrate in so <b>Id</b> in  ` ...child(&quot;User_enrolments&quot;).child(username).child(<b>Id</b>).setVal&zwnj;&#8203;ue(&quot;true&quot;);` is referenced to the group id in group Collection"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1640617164,"post_id":70491385,"comment_id":124617268,"body_markdown":"In that case I don&#39;t understand what you want the code to do. Please edit your question (there&#39;s a link right under it) to: 1) show the code as text, and not as a screenshot, 2) Show the JSON that you want to get after running the code with an existing username (I also recommend posting this as text, but make sure it&#39;s valid JSON in that case).","body":"In that case I don&#39;t understand what you want the code to do. Please edit your question (there&#39;s a link right under it) to: 1) show the code as text, and not as a screenshot, 2) Show the JSON that you want to get after running the code with an existing username (I also recommend posting this as text, but make sure it&#39;s valid JSON in that case)."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640575476,"creation_date":1640575476,"answer_id":70491422,"question_id":70491385,"body_markdown":"I think you may be overcomplicating things in your data structure. If you want to track the usernames of who has enrolled, how about simple doing:\r\n\r\n```\r\nUser_enrollments\r\n  .child(&quot;user_enrollments&quot;)\r\n  .child(username)\r\n  .setValue(true)\r\n```\r\n","title":"How to add new field with out replace the old document?","body":"<p>I think you may be overcomplicating things in your data structure. If you want to track the usernames of who has enrolled, how about simple doing:</p>\n<pre><code>User_enrollments\n  .child(&quot;user_enrollments&quot;)\n  .child(username)\n  .setValue(true)\n</code></pre>\n"}],"owner":{"account_id":23753821,"reputation":1,"user_id":17770184,"display_name":"Younes Bouchbouk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640575476,"creation_date":1640574824,"question_id":70491385,"body_markdown":"So I&#39;m trying to implement many-to-many relationship between user and group in my java mobile application, So on a user can be in multiple groups and a group can have multiple users, I&#39;m using firebase to store my data.\r\n\r\ni have found this example : \r\n\r\n[enter image description here][1]\r\n\r\n\r\nand this is my code : \r\n\r\n![enter image description here][2]\r\n\r\n\r\nThe problem here is that push generates a new id then it adds the Id of the group with the value true inside : \r\n\r\n![enter image description here][3]\r\n\r\nbut I don&#39;t want that if I delete.push() I only found one field of the last group i have added so i think that every time i added a new group it take the place of the last one\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oH5VB.png\r\n  [2]: https://i.stack.imgur.com/5avll.png\r\n  [3]: https://i.stack.imgur.com/kUFBG.png","title":"How to add new field with out replace the old document?","body":"<p>So I'm trying to implement many-to-many relationship between user and group in my java mobile application, So on a user can be in multiple groups and a group can have multiple users, I'm using firebase to store my data.</p>\n<p>i have found this example :</p>\n<p><a href=\"https://i.stack.imgur.com/oH5VB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and this is my code :</p>\n<p><img src=\"https://i.stack.imgur.com/5avll.png\" alt=\"enter image description here\" /></p>\n<p>The problem here is that push generates a new id then it adds the Id of the group with the value true inside :</p>\n<p><img src=\"https://i.stack.imgur.com/kUFBG.png\" alt=\"enter image description here\" /></p>\n<p>but I don't want that if I delete.push() I only found one field of the last group i have added so i think that every time i added a new group it take the place of the last one</p>\n"},{"tags":["java","recursion","turtle-graphics"],"answers":[{"tags":[],"owner":{"account_id":7610133,"reputation":40891,"user_id":5771269,"display_name":"cdlane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491620039,"creation_date":1491619718,"answer_id":43289623,"question_id":43289327,"body_markdown":"One simple approach would be to replace:\r\n\r\n    koch(bob, 3, 12.0);\r\n\r\nwith:\r\n\r\n    koch(bob, 3, 12.0);\r\n\tbob.right(120);\r\n\tkoch(bob, 3, 12.0);\r\n\tbob.right(120);\r\n\tkoch(bob, 3, 12.0);\r\n\r\nor the equivalent loop:\r\n\r\n\tfor (int i = 0; i &lt; 3; i++) {\r\n\t\tkoch(bob, 3, 12.0);\r\n\t\tbob.right(120);\r\n\t}\r\n\r\n**OUTPUT**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rQisJ.png","title":"Draw koch snowflake using recursion","body":"<p>One simple approach would be to replace:</p>\n\n<pre><code>koch(bob, 3, 12.0);\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>koch(bob, 3, 12.0);\nbob.right(120);\nkoch(bob, 3, 12.0);\nbob.right(120);\nkoch(bob, 3, 12.0);\n</code></pre>\n\n<p>or the equivalent loop:</p>\n\n<pre><code>for (int i = 0; i &lt; 3; i++) {\n    koch(bob, 3, 12.0);\n    bob.right(120);\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/rQisJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rQisJ.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":10207912,"reputation":23,"user_id":7536048,"display_name":"suliman E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640574405,"creation_date":1491616098,"question_id":43289327,"body_markdown":"I am trying to write code for a koch recursion method. I made it this far however I cant seem to figure out how to turn the turtle and get an actual snowflake shape.\r\n\r\nAny sort of explanation will be much appreciated, thanks!\r\n\r\n    import java.awt.Color;\r\n    \r\n    \r\n    public class Triangle {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tWorld myWorld = new World(900,900,Color.GREEN);\r\n    \t\tTurtle bob = new Turtle(myWorld);\r\n    \t\tbob.setDelay(0);\r\n    \t\t//drawTriangle(bob, 4, -200,-100,405,-100,100,350.75);\r\n    \t\t\r\n    \t\tkoch(bob, 3, 12.0);\r\n    \r\n    \t}\r\n    \t\r\n    \t public static void koch(Turtle t, int n, double size) {\r\n    \t\tif(n==0)\r\n    \t\t\tt.forward(size);\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tkoch(t, n-1, size);\r\n    \t\t\tt.left(60);\r\n    \t\t\tkoch(t, n-1, size);\r\n    \t\t\tt.right(120);\r\n    \t\t\tkoch(t, n-1, size);\r\n    \t\t\tt.left(60);\r\n    \t\t\tkoch(t, n-1, size);\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t\r\n    \t }","title":"Draw koch snowflake using recursion","body":"<p>I am trying to write code for a koch recursion method. I made it this far however I cant seem to figure out how to turn the turtle and get an actual snowflake shape.</p>\n\n<p>Any sort of explanation will be much appreciated, thanks!</p>\n\n<pre><code>import java.awt.Color;\n\n\npublic class Triangle {\n\n    public static void main(String[] args) {\n        World myWorld = new World(900,900,Color.GREEN);\n        Turtle bob = new Turtle(myWorld);\n        bob.setDelay(0);\n        //drawTriangle(bob, 4, -200,-100,405,-100,100,350.75);\n\n        koch(bob, 3, 12.0);\n\n    }\n\n     public static void koch(Turtle t, int n, double size) {\n        if(n==0)\n            t.forward(size);\n        else\n        {\n            koch(t, n-1, size);\n            t.left(60);\n            koch(t, n-1, size);\n            t.right(120);\n            koch(t, n-1, size);\n            t.left(60);\n            koch(t, n-1, size);\n        }\n\n\n     }\n</code></pre>\n"},{"tags":["java","java.util.scanner","tokenize","split"],"answers":[{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":2,"up_vote_count":251,"is_accepted":true,"score":249,"last_activity_date":1427672986,"creation_date":1238182852,"answer_id":691224,"question_id":691184,"body_markdown":"They&#39;re essentially horses for courses.\r\n\r\n- `Scanner` is designed for cases where you need to parse a string, pulling out data of different types. It&#39;s very flexible, but arguably doesn&#39;t give you the simplest API for simply getting an array of strings delimited by a particular expression.\r\n- `String.split()` and `Pattern.split()` give you an easy syntax for doing the latter, but that&#39;s essentially all that they do. If you want to parse the resulting strings, or change the delimiter halfway through depending on a particular token, they won&#39;t help you with that.\r\n- `StringTokenizer` is even more restrictive than `String.split()`, and also a bit fiddlier to use. It is essentially designed for pulling out tokens delimited by fixed substrings. Because of this restriction, it&#39;s about twice as fast as `String.split()`. (See my [comparison of `String.split()` and `StringTokenizer`][1].) It also predates the regular expressions API, of which `String.split()` is a part.\r\n\r\nYou&#39;ll note from my timings that `String.split()` can still tokenize **thousands of strings in a few milliseconds** on a typical machine. In addition, it has the advantage over `StringTokenizer` that it gives you the output as a string array, which is usually what you want. Using an `Enumeration`, as provided by `StringTokenizer`, is too &quot;syntactically fussy&quot; most of the time. From this point of view, `StringTokenizer` is a bit of a waste of space nowadays, and you may as well just use `String.split()`.\r\n\r\n  [1]: http://www.javamex.com/tutorials/regular_expressions/splitting_tokenisation_performance.shtml","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>They're essentially horses for courses.</p>\n\n<ul>\n<li><code>Scanner</code> is designed for cases where you need to parse a string, pulling out data of different types. It's very flexible, but arguably doesn't give you the simplest API for simply getting an array of strings delimited by a particular expression.</li>\n<li><code>String.split()</code> and <code>Pattern.split()</code> give you an easy syntax for doing the latter, but that's essentially all that they do. If you want to parse the resulting strings, or change the delimiter halfway through depending on a particular token, they won't help you with that.</li>\n<li><code>StringTokenizer</code> is even more restrictive than <code>String.split()</code>, and also a bit fiddlier to use. It is essentially designed for pulling out tokens delimited by fixed substrings. Because of this restriction, it's about twice as fast as <code>String.split()</code>. (See my <a href=\"http://www.javamex.com/tutorials/regular_expressions/splitting_tokenisation_performance.shtml\" rel=\"noreferrer\">comparison of <code>String.split()</code> and <code>StringTokenizer</code></a>.) It also predates the regular expressions API, of which <code>String.split()</code> is a part.</li>\n</ul>\n\n<p>You'll note from my timings that <code>String.split()</code> can still tokenize <strong>thousands of strings in a few milliseconds</strong> on a typical machine. In addition, it has the advantage over <code>StringTokenizer</code> that it gives you the output as a string array, which is usually what you want. Using an <code>Enumeration</code>, as provided by <code>StringTokenizer</code>, is too \"syntactically fussy\" most of the time. From this point of view, <code>StringTokenizer</code> is a bit of a waste of space nowadays, and you may as well just use <code>String.split()</code>.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1238182913,"creation_date":1238182913,"answer_id":691227,"question_id":691184,"body_markdown":"If you have a String object you want to tokenize, favor using String&#39;s [split][1] method over a StringTokenizer.  If you&#39;re parsing text data from a source outside your program, like from a file, or from the user, that&#39;s where a Scanner comes in handy.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#split(java.lang.String)","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>If you have a String object you want to tokenize, favor using String's <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\">split</a> method over a StringTokenizer.  If you're parsing text data from a source outside your program, like from a file, or from the user, that's where a Scanner comes in handy.</p>\n"},{"tags":[],"owner":{"account_id":30651,"reputation":3007,"user_id":83674,"display_name":"HMM"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1238186326,"creation_date":1238183903,"answer_id":691277,"question_id":691184,"body_markdown":"StringTokenizer was always there. It is the fastest of all, but the enumeration-like idiom might not look as elegant as the others.\r\n\r\nsplit came to existence on JDK 1.4. Slower than tokenizer but easier to use, since it is callable from the String class.\r\n\r\nScanner came to be on JDK 1.5. It is the most flexible and fills a long standing gap on the Java API to support an equivalent of the famous Cs scanf function family.","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>StringTokenizer was always there. It is the fastest of all, but the enumeration-like idiom might not look as elegant as the others.</p>\n\n<p>split came to existence on JDK 1.4. Slower than tokenizer but easier to use, since it is callable from the String class.</p>\n\n<p>Scanner came to be on JDK 1.5. It is the most flexible and fills a long standing gap on the Java API to support an equivalent of the famous Cs scanf function family.</p>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1238183921,"creation_date":1238183921,"answer_id":691279,"question_id":691184,"body_markdown":"Let&#39;s start by eliminating [`StringTokenizer`][1]. It is getting old and doesn&#39;t even support regular expressions. Its documentation states:\r\n&gt; `StringTokenizer` is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the `split` method of `String` or the `java.util.regex` package instead.\r\n\r\nSo let&#39;s throw it out right away. That leaves [`split()`][2] and [`Scanner`][3]. What&#39;s the difference between them?\r\n\r\nFor one thing, `split()` simply returns an array, which makes it easy to use a foreach loop:\r\n\r\n    for (String token : input.split(&quot;\\\\s+&quot;) { ... }\r\n\r\n`Scanner` is built more like a stream:\r\n\r\n    while (myScanner.hasNext()) {\r\n        String token = myScanner.next();\r\n        ...\r\n    }\r\nor\r\n\r\n    while (myScanner.hasNextDouble()) {\r\n        double token = myScanner.nextDouble();\r\n        ...\r\n    }\r\n\r\n(It has a rather [large API][4], so don&#39;t think that it&#39;s always restricted to such simple things.)\r\n\r\nThis stream-style interface can be useful for parsing simple text files or console input, when you don&#39;t have (or can&#39;t get) all the input before starting to parse.\r\n\r\nPersonally, the only time I can remember using `Scanner` is for school projects, when I had to get user input from the command line. It makes that sort of operation easy. But if I have a `String` that I want to split up, it&#39;s almost a no-brainer to go with `split()`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#split(java.lang.String)\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#method_summary","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>Let's start by eliminating <a href=\"http://java.sun.com/javase/6/docs/api/java/util/StringTokenizer.html\" rel=\"noreferrer\"><code>StringTokenizer</code></a>. It is getting old and doesn't even support regular expressions. Its documentation states:</p>\n\n<blockquote>\n  <p><code>StringTokenizer</code> is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the <code>split</code> method of <code>String</code> or the <code>java.util.regex</code> package instead.</p>\n</blockquote>\n\n<p>So let's throw it out right away. That leaves <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\"><code>split()</code></a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"noreferrer\"><code>Scanner</code></a>. What's the difference between them?</p>\n\n<p>For one thing, <code>split()</code> simply returns an array, which makes it easy to use a foreach loop:</p>\n\n<pre><code>for (String token : input.split(\"\\\\s+\") { ... }\n</code></pre>\n\n<p><code>Scanner</code> is built more like a stream:</p>\n\n<pre><code>while (myScanner.hasNext()) {\n    String token = myScanner.next();\n    ...\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while (myScanner.hasNextDouble()) {\n    double token = myScanner.nextDouble();\n    ...\n}\n</code></pre>\n\n<p>(It has a rather <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html#method_summary\" rel=\"noreferrer\">large API</a>, so don't think that it's always restricted to such simple things.)</p>\n\n<p>This stream-style interface can be useful for parsing simple text files or console input, when you don't have (or can't get) all the input before starting to parse.</p>\n\n<p>Personally, the only time I can remember using <code>Scanner</code> is for school projects, when I had to get user input from the command line. It makes that sort of operation easy. But if I have a <code>String</code> that I want to split up, it's almost a no-brainer to go with <code>split()</code>.</p>\n"},{"tags":[],"owner":{"account_id":569483,"reputation":49,"user_id":203246,"display_name":"Manish"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1257407440,"creation_date":1257407440,"answer_id":1678982,"question_id":691184,"body_markdown":"String.split seems to be much slower than StringTokenizer. The only advantage with split is that you get an array of the tokens. Also you can use any regular expressions in split. \r\n    org.apache.commons.lang.StringUtils has a split method which works much more faster than any of two viz. StringTokenizer or String.split. \r\n    But the CPU utilization for all the three is nearly the same. So we also need a method which is less CPU intensive, which I am still not able to find. ","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>String.split seems to be much slower than StringTokenizer. The only advantage with split is that you get an array of the tokens. Also you can use any regular expressions in split. \n    org.apache.commons.lang.StringUtils has a split method which works much more faster than any of two viz. StringTokenizer or String.split. \n    But the CPU utilization for all the three is nearly the same. So we also need a method which is less CPU intensive, which I am still not able to find. </p>\n"},{"tags":[],"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640573736,"creation_date":1327571334,"answer_id":9016278,"question_id":691184,"body_markdown":"I recently did some experiments about the bad performance of String.split() in highly performance sensitive situations. You may find this useful.  \r\n\r\n[Hidden evils of Java&#39;s String.split() and replace()][1]\r\n\r\nThe gist is that String.split() compiles a Regular Expression pattern each time and can thus slow down your program, compared to if you use a precompiled Pattern object and use it directly to operate on a String.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20120131135552/http://eblog.chrononsystems.com/hidden-evils-of-javas-stringsplit-and-stringr","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>I recently did some experiments about the bad performance of String.split() in highly performance sensitive situations. You may find this useful.</p>\n<p><a href=\"https://web.archive.org/web/20120131135552/http://eblog.chrononsystems.com/hidden-evils-of-javas-stringsplit-and-stringr\" rel=\"nofollow noreferrer\">Hidden evils of Java's String.split() and replace()</a></p>\n<p>The gist is that String.split() compiles a Regular Expression pattern each time and can thus slow down your program, compared to if you use a precompiled Pattern object and use it directly to operate on a String.</p>\n"},{"tags":[],"owner":{"account_id":73951,"reputation":8115,"user_id":212731,"accept_rate":73,"display_name":"Hugh Perkins"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490947506,"creation_date":1349924391,"answer_id":12831515,"question_id":691184,"body_markdown":"Split is slow, but not as slow as Scanner.  StringTokenizer is faster than split. However, I found that I could obtain double the speed, by trading some flexibility, to get a speed-boost, which I did at JFastParser https://github.com/hughperkins/jfastparser\r\n\r\nTesting on a string containing one million doubles:\r\n\r\n    Scanner: 10642 ms\r\n    Split: 715 ms\r\n    StringTokenizer: 544ms\r\n    JFastParser: 290ms\r\n","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>Split is slow, but not as slow as Scanner.  StringTokenizer is faster than split. However, I found that I could obtain double the speed, by trading some flexibility, to get a speed-boost, which I did at JFastParser <a href=\"https://github.com/hughperkins/jfastparser\" rel=\"nofollow noreferrer\">https://github.com/hughperkins/jfastparser</a></p>\n\n<p>Testing on a string containing one million doubles:</p>\n\n<pre><code>Scanner: 10642 ms\nSplit: 715 ms\nStringTokenizer: 544ms\nJFastParser: 290ms\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2404083,"reputation":19,"user_id":2101536,"display_name":"Mujahid shaik"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1361570999,"creation_date":1361570999,"answer_id":15034041,"question_id":691184,"body_markdown":"String.split() works very good but has its own boundaries, like if you wanted to split a string as shown below based on single or double pipe (|) symbol, it doesn&#39;t work. In this situation you can use StringTokenizer.\r\n\r\nABC|IJK","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>String.split() works very good but has its own boundaries, like if you wanted to split a string as shown below based on single or double pipe (|) symbol, it doesn't work. In this situation you can use StringTokenizer.</p>\n\n<p>ABC|IJK</p>\n"},{"tags":[],"owner":{"account_id":55152,"reputation":13183,"user_id":165106,"accept_rate":83,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426158450,"creation_date":1426158107,"answer_id":29007992,"question_id":691184,"body_markdown":"For the default scenarios I would suggest Pattern.split() as well but if you need maximum performance (especially on Android all solutions I tested are quite slow) and you only need to split by a single char, I now use my own method:\r\n\r\n\tpublic static ArrayList&lt;String&gt; splitBySingleChar(final char[] s,\r\n\t\t\tfinal char splitChar) {\r\n\t\tfinal ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n\t\tfinal int length = s.length;\r\n\t\tint offset = 0;\r\n\t\tint count = 0;\r\n\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\tif (s[i] == splitChar) {\r\n\t\t\t\tif (count &gt; 0) {\r\n\t\t\t\t\tresult.add(new String(s, offset, count));\r\n\t\t\t\t}\r\n\t\t\t\toffset = i + 1;\r\n\t\t\t\tcount = 0;\r\n\t\t\t} else {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (count &gt; 0) {\r\n\t\t\tresult.add(new String(s, offset, count));\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nUse &quot;abc&quot;.toCharArray() to get the char array for a String. For example:\r\n\r\n\tString s = &quot;     a bb   ccc  dddd eeeee  ffffff    ggggggg &quot;;\r\n\tArrayList&lt;String&gt; result = splitBySingleChar(s.toCharArray(), &#39; &#39;);","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>For the default scenarios I would suggest Pattern.split() as well but if you need maximum performance (especially on Android all solutions I tested are quite slow) and you only need to split by a single char, I now use my own method:</p>\n\n<pre><code>public static ArrayList&lt;String&gt; splitBySingleChar(final char[] s,\n        final char splitChar) {\n    final ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    final int length = s.length;\n    int offset = 0;\n    int count = 0;\n    for (int i = 0; i &lt; length; i++) {\n        if (s[i] == splitChar) {\n            if (count &gt; 0) {\n                result.add(new String(s, offset, count));\n            }\n            offset = i + 1;\n            count = 0;\n        } else {\n            count++;\n        }\n    }\n    if (count &gt; 0) {\n        result.add(new String(s, offset, count));\n    }\n    return result;\n}\n</code></pre>\n\n<p>Use \"abc\".toCharArray() to get the char array for a String. For example:</p>\n\n<pre><code>String s = \"     a bb   ccc  dddd eeeee  ffffff    ggggggg \";\nArrayList&lt;String&gt; result = splitBySingleChar(s.toCharArray(), ' ');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691426,"reputation":3360,"user_id":2324685,"accept_rate":70,"display_name":"John29"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461256806,"creation_date":1461256054,"answer_id":36775514,"question_id":691184,"body_markdown":"One important difference is that both String.split() and Scanner can produce empty strings but StringTokenizer never does it.\r\n\r\nFor example:\r\n\r\n    String str = &quot;ab cd  ef&quot;;\r\n    \r\n    StringTokenizer st = new StringTokenizer(str, &quot; &quot;);\r\n    for (int i = 0; st.hasMoreTokens(); i++) System.out.println(&quot;#&quot; + i + &quot;: &quot; + st.nextToken());\r\n    \r\n    String[] split = str.split(&quot; &quot;);\r\n    for (int i = 0; i &lt; split.length; i++) System.out.println(&quot;#&quot; + i + &quot;: &quot; + split[i]);\r\n    \r\n    Scanner sc = new Scanner(str).useDelimiter(&quot; &quot;);\r\n    for (int i = 0; sc.hasNext(); i++) System.out.println(&quot;#&quot; + i + &quot;: &quot; + sc.next());\r\n\r\nOutput:\r\n\r\n    //StringTokenizer\r\n    #0: ab\r\n    #1: cd\r\n    #2: ef\r\n    //String.split()\r\n    #0: ab\r\n    #1: cd\r\n    #2: \r\n    #3: ef\r\n    //Scanner\r\n    #0: ab\r\n    #1: cd\r\n    #2: \r\n    #3: ef\r\n\r\nThis is because the delimiter for String.split() and Scanner.useDelimiter() is not just a string, but a regular expression. We can replace the delimiter &quot; &quot; with &quot; +&quot; in the example above to make them behave like StringTokenizer.","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>One important difference is that both String.split() and Scanner can produce empty strings but StringTokenizer never does it.</p>\n\n<p>For example:</p>\n\n<pre><code>String str = \"ab cd  ef\";\n\nStringTokenizer st = new StringTokenizer(str, \" \");\nfor (int i = 0; st.hasMoreTokens(); i++) System.out.println(\"#\" + i + \": \" + st.nextToken());\n\nString[] split = str.split(\" \");\nfor (int i = 0; i &lt; split.length; i++) System.out.println(\"#\" + i + \": \" + split[i]);\n\nScanner sc = new Scanner(str).useDelimiter(\" \");\nfor (int i = 0; sc.hasNext(); i++) System.out.println(\"#\" + i + \": \" + sc.next());\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>//StringTokenizer\n#0: ab\n#1: cd\n#2: ef\n//String.split()\n#0: ab\n#1: cd\n#2: \n#3: ef\n//Scanner\n#0: ab\n#1: cd\n#2: \n#3: ef\n</code></pre>\n\n<p>This is because the delimiter for String.split() and Scanner.useDelimiter() is not just a string, but a regular expression. We can replace the delimiter \" \" with \" +\" in the example above to make them behave like StringTokenizer.</p>\n"}],"owner":{"account_id":19413,"reputation":4050,"user_id":45507,"accept_rate":100,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154702,"favorite_count":0,"down_vote_count":0,"up_vote_count":168,"accepted_answer_id":691224,"answer_count":10,"score":168,"last_activity_date":1640573736,"creation_date":1238182162,"question_id":691184,"body_markdown":"I just learned about Java&#39;s Scanner class and now I&#39;m wondering how it compares/competes with the StringTokenizer and String.Split. I know that the StringTokenizer and String.Split only work on Strings, so why would I want to use the Scanner for a String? Is Scanner just intended to be one-stop-shopping for spliting?","title":"Scanner vs. StringTokenizer vs. String.Split","body":"<p>I just learned about Java's Scanner class and now I'm wondering how it compares/competes with the StringTokenizer and String.Split. I know that the StringTokenizer and String.Split only work on Strings, so why would I want to use the Scanner for a String? Is Scanner just intended to be one-stop-shopping for spliting?</p>\n"},{"tags":["java","spring","security","java-8","checkmarx"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1640111925,"post_id":70440154,"comment_id":124516990,"body_markdown":"Understand the tools you are using. Don&#39;t follow warnings blindly.","body":"Understand the tools you are using. Don&#39;t follow warnings blindly."},{"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"score":0,"creation_date":1640112871,"post_id":70440154,"comment_id":124517263,"body_markdown":"Agreed..The tool is complaining - &quot;The partDto at src\\main\\java\\com\\ge\\digital\\oa\\moa\\controller\\PartController.java in line 104 may unintentionally allow setting the value of saveAndFlush in savePartDtoUpdateAutoCso, in the object src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\PartService.java at line 136.&quot; It is true, I am saving the partDto object in the savePartDtoUpdateAutoCso() method. Isnt it a good practise?","body":"Agreed..The tool is complaining - &quot;The partDto at src\\main\\java\\com\\ge\\digital\\oa\\moa\\controller\\PartControlle&zwnj;&#8203;r.java in line 104 may unintentionally allow setting the value of saveAndFlush in savePartDtoUpdateAutoCso, in the object src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\PartService.java at line 136.&quot; It is true, I am saving the partDto object in the savePartDtoUpdateAutoCso() method. Isnt it a good practise?"}],"answers":[{"tags":[],"owner":{"account_id":5439142,"reputation":2507,"user_id":4327668,"display_name":"securecodeninja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640474511,"creation_date":1640474511,"answer_id":70483363,"question_id":70440154,"body_markdown":"There&#39;s a risk of mass assignment vulnerability (unsafe object binding) in your code. It is advised to be granular on the parameters you passed to prevent unwanted property and member value tampering. \r\n\r\nWhile there&#39;s only a couple of properties/members of the PartDto class, it might change due to a requirement in the future. \r\n\r\nSo instead of passing the whole PartDto object, just pass each member explicitly (what&#39;s only needed). Here&#39;s a pseudo code as a guide:\r\n\r\n        public PartDto createPart(string partNumber, integer esnId, integer poNumber) {\r\n                //log.debug(&quot;PartDto: {}&quot;, partDto);\r\n                if (partExists(partNumber, esnId, poNumber))\r\n                    throw new ValidationException(&quot;For this ESN, the Part Number and PO Number combination already exists.&quot;);\r\n                 // create a PartDto object and save the values \r\n    \r\n           }\r\n\r\n","title":"Access private setters in codebase","body":"<p>There's a risk of mass assignment vulnerability (unsafe object binding) in your code. It is advised to be granular on the parameters you passed to prevent unwanted property and member value tampering.</p>\n<p>While there's only a couple of properties/members of the PartDto class, it might change due to a requirement in the future.</p>\n<p>So instead of passing the whole PartDto object, just pass each member explicitly (what's only needed). Here's a pseudo code as a guide:</p>\n<pre><code>    public PartDto createPart(string partNumber, integer esnId, integer poNumber) {\n            //log.debug(&quot;PartDto: {}&quot;, partDto);\n            if (partExists(partNumber, esnId, poNumber))\n                throw new ValidationException(&quot;For this ESN, the Part Number and PO Number combination already exists.&quot;);\n             // create a PartDto object and save the values \n\n       }\n</code></pre>\n"}],"owner":{"account_id":7527372,"reputation":920,"user_id":5717021,"accept_rate":65,"display_name":"sromit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1640572467,"creation_date":1640111818,"question_id":70440154,"body_markdown":"I have a DTO object which I used in the controller method which initially had all the getters and setters as public. Due to a SAST scanning (Unsafe object binding) in checkmarx tool, I have to make the setters as private in that DTO. Now checkmarx is not complaining. \r\nBut in my codebase, I have used some of those setters so now my build is failing. \r\nHow to resolve this problem, or what technique should be used so that the checkmarx tool doesnot complain and my code builds and runs fine at the same time.\r\n\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    @NoArgsConstructor @AllArgsConstructor @ToString\r\n    @Builder(toBuilder=true)\r\n    public class PartDto implements Serializable {\r\n    \r\n    \tprivate Date autoCsoCommit;\r\n        private Integer statusId;\r\n    \r\n    \tpublic Integer getStatusId() {\r\n    \t\treturn statusId;\r\n    \t}\r\n    \r\n    \tprivate void setStatusId(Integer statusId) {\r\n    \t\tthis.statusId = statusId;\r\n    \t}\r\n    \tpublic Date getAutoCsoCommit() {\r\n    \t\treturn autoCsoCommit;\r\n    \t}\r\n    \r\n    \tprivate void setAutoCsoCommit(Date autoCsoCommit) {\r\n    \t\tthis.autoCsoCommit = autoCsoCommit;\r\n    \t}\r\n\r\n-------\r\n\r\nCode where its used:\r\n\r\n        public PartDto createPart(final PartDto partDto) {\r\n        \t\tlog.debug(&quot;PartDto: {}&quot;, partDto);\r\n        \t\tif (partExists(partDto.getPartNumber(), partDto.getEsnId(), partDto.getPoNumber()))\r\n        \t\t\tthrow new ValidationException(&quot;For this ESN, the Part Number and PO Number combination already exists.&quot;);\r\n        \t\tlog.debug(&quot;Part: {}&quot;, getPart(partDto, new Part()));\r\n        \r\n        \t\tif (partDto.getStatusId() == null) \r\n        \t\t\tpartDto.setStatusId(0);\r\n        \t\t\r\n        \t\tPart finalPart = savePartDtoUpdateAutoCso(partDto, new Part());\r\n        \t\t\r\n    \r\n    return getPartDtoByPartId(finalPart.getPartId());\r\n    \t}\r\n\r\n------\r\n\r\n    PartDto updateAutoCsoCommitDateForPartDto(PartDto partDto) {\r\n    \t\r\n    \tif (partDto == null) {\r\n    \t\tlog.error(&quot;partDto is null&quot;);\r\n    \t\treturn null;\r\n    \t}\r\n    \t\t\t\t\r\n    \tpartDto.setAutoCsoCommit(retrieveAutoCsoDate(\r\n    \t\t\tpartDto.getMaterialStream(), \r\n    \t\t\tpartDto.getSource(), \r\n    \t\t\tpartDto.getSourceId(), \r\n    \t\t\tpartDto.getPartNumber(), \r\n    \t\t\tpartDto.getPoNumber())\r\n    \t\t\t);\r\n    \r\n    \treturn partDto;\r\n    };\r\n\r\n------\r\n\r\nError in build:\r\n\r\n    $ gradle bootrun\r\n    \r\n    &gt; Task :compileJava\r\n    C:\\Users\\502622018\\moa_workspace\\moa-svc\\src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\PartService.java:123: error: setStatusId(Integer) has private access in PartDto\r\n                            partDto.setStatusId(0);\r\n                                   ^\r\n    C:\\Users\\502622018\\moa_workspace\\moa-svc\\src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\PartService.java:366: error: setAutoCsoCommit(Date) has private access in PartDto\r\n                    partDto.setAutoCsoCommit(retrieveAutoCsoDate(\r\n                           ^\r\n    Note: Some input files use or override a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.\r\n    Note: C:\\Users\\502622018\\moa_workspace\\moa-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\aws\\SecretsManagerPropertySourceLocator.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    2 errors\r\n    \r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n\r\n--------\r\nThe method where the partDTO object is saved is \r\n\r\n    private Part savePartDtoUpdateAutoCso(final PartDto partDto, final Part existingPart) {\r\n    \t\r\n    \t// we need to save and retrieve the part so all string fields\r\n    \t// have values, since we use them for the auto cso commit determination\r\n    \tPart savedPart = partRepo.saveAndFlush(getPart(partDto, existingPart));\r\n    \tentityManager.refresh(savedPart);\r\n    \t\r\n    \tlog.debug(&quot;saved domain part: {}&quot;,savedPart);\r\n    \tPartDto savedPartDto = getPartDtoByPartId(savedPart.getPartId());\r\n    \tlog.debug(&quot;Part after save: {}&quot;, savedPartDto);\r\n    \tupdateAutoCsoCommitDateForPartDto(savedPartDto);\r\n    \t\r\n    \tPart finalPart = partRepo.save(getPart(savedPartDto, savedPart));\r\n\r\n\treturn finalPart;\r\n\t}\r\n\r\n\r\n-------\r\nPostMapping code:\r\n\r\n    @PostMapping\r\n    public HttpEntity&lt;PartDto&gt; createPart(@RequestBody @Valid PartDto partDto) {\r\n    \tif (!securityService.isAdmin()) {\r\n    \t\treturn new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n    \t}\r\n    \tlog.debug(&quot;Start...&quot; + partDto);\r\n    \treturn new ResponseEntity&lt;&gt;(partService.createPart(partDto), HttpStatus.CREATED);\r\n    }\r\n\t\r\n\r\n","title":"Access private setters in codebase","body":"<p>I have a DTO object which I used in the controller method which initially had all the getters and setters as public. Due to a SAST scanning (Unsafe object binding) in checkmarx tool, I have to make the setters as private in that DTO. Now checkmarx is not complaining.\nBut in my codebase, I have used some of those setters so now my build is failing.\nHow to resolve this problem, or what technique should be used so that the checkmarx tool doesnot complain and my code builds and runs fine at the same time.</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\n@NoArgsConstructor @AllArgsConstructor @ToString\n@Builder(toBuilder=true)\npublic class PartDto implements Serializable {\n\n    private Date autoCsoCommit;\n    private Integer statusId;\n\n    public Integer getStatusId() {\n        return statusId;\n    }\n\n    private void setStatusId(Integer statusId) {\n        this.statusId = statusId;\n    }\n    public Date getAutoCsoCommit() {\n        return autoCsoCommit;\n    }\n\n    private void setAutoCsoCommit(Date autoCsoCommit) {\n        this.autoCsoCommit = autoCsoCommit;\n    }\n</code></pre>\n<hr />\n<p>Code where its used:</p>\n<pre><code>    public PartDto createPart(final PartDto partDto) {\n            log.debug(&quot;PartDto: {}&quot;, partDto);\n            if (partExists(partDto.getPartNumber(), partDto.getEsnId(), partDto.getPoNumber()))\n                throw new ValidationException(&quot;For this ESN, the Part Number and PO Number combination already exists.&quot;);\n            log.debug(&quot;Part: {}&quot;, getPart(partDto, new Part()));\n    \n            if (partDto.getStatusId() == null) \n                partDto.setStatusId(0);\n            \n            Part finalPart = savePartDtoUpdateAutoCso(partDto, new Part());\n            \n\nreturn getPartDtoByPartId(finalPart.getPartId());\n    }\n</code></pre>\n<hr />\n<pre><code>PartDto updateAutoCsoCommitDateForPartDto(PartDto partDto) {\n    \n    if (partDto == null) {\n        log.error(&quot;partDto is null&quot;);\n        return null;\n    }\n                \n    partDto.setAutoCsoCommit(retrieveAutoCsoDate(\n            partDto.getMaterialStream(), \n            partDto.getSource(), \n            partDto.getSourceId(), \n            partDto.getPartNumber(), \n            partDto.getPoNumber())\n            );\n\n    return partDto;\n};\n</code></pre>\n<hr />\n<p>Error in build:</p>\n<pre><code>$ gradle bootrun\n\n&gt; Task :compileJava\nC:\\Users\\502622018\\moa_workspace\\moa-svc\\src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\PartService.java:123: error: setStatusId(Integer) has private access in PartDto\n                        partDto.setStatusId(0);\n                               ^\nC:\\Users\\502622018\\moa_workspace\\moa-svc\\src\\main\\java\\com\\ge\\digital\\oa\\moa\\service\\PartService.java:366: error: setAutoCsoCommit(Date) has private access in PartDto\n                partDto.setAutoCsoCommit(retrieveAutoCsoDate(\n                       ^\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: C:\\Users\\502622018\\moa_workspace\\moa-svc\\src\\main\\java\\com\\ge\\digital\\oa\\common\\config\\aws\\SecretsManagerPropertySourceLocator.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n2 errors\n\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<hr />\n<p>The method where the partDTO object is saved is</p>\n<pre><code>private Part savePartDtoUpdateAutoCso(final PartDto partDto, final Part existingPart) {\n    \n    // we need to save and retrieve the part so all string fields\n    // have values, since we use them for the auto cso commit determination\n    Part savedPart = partRepo.saveAndFlush(getPart(partDto, existingPart));\n    entityManager.refresh(savedPart);\n    \n    log.debug(&quot;saved domain part: {}&quot;,savedPart);\n    PartDto savedPartDto = getPartDtoByPartId(savedPart.getPartId());\n    log.debug(&quot;Part after save: {}&quot;, savedPartDto);\n    updateAutoCsoCommitDateForPartDto(savedPartDto);\n    \n    Part finalPart = partRepo.save(getPart(savedPartDto, savedPart));\n\nreturn finalPart;\n}\n</code></pre>\n<hr />\n<p>PostMapping code:</p>\n<pre><code>@PostMapping\npublic HttpEntity&lt;PartDto&gt; createPart(@RequestBody @Valid PartDto partDto) {\n    if (!securityService.isAdmin()) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n    }\n    log.debug(&quot;Start...&quot; + partDto);\n    return new ResponseEntity&lt;&gt;(partService.createPart(partDto), HttpStatus.CREATED);\n}\n</code></pre>\n"},{"tags":["java","swing","jtable","jcombobox"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1640546833,"post_id":70483538,"comment_id":124603281,"body_markdown":"1) For better help sooner, [edit] to add a [mre]. It should take far less than 190 lines of code to get to .. failing to transfer data between a single combo box and a table. 2) Choose tags carefully. This was tagged applet and nothing else. A (Java) applet was nowhere involved, but Java, Swing, JTable &amp; JCombobox *are* all relevant and available as tags.","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/70483538/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It should take far less than 190 lines of code to get to .. failing to transfer data between a single combo box and a table. 2) Choose tags carefully. This was tagged applet and nothing else. A (Java) applet was nowhere involved, but Java, Swing, JTable &amp; JCombobox <i>are</i> all relevant and available as tags."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1640557349,"post_id":70483538,"comment_id":124605168,"body_markdown":"I added an image of your GUI to your question.  You have a dropbox and a table with a list of pavilions.  Why do you need both?  You either have a dropbox or a table with a list of pavilions.  A table with a list of pavilions usually has buttons between the two tables to move items in both directions.  It appears that what you want are called bi-directional selection tables.","body":"I added an image of your GUI to your question.  You have a dropbox and a table with a list of pavilions.  Why do you need both?  You either have a dropbox or a table with a list of pavilions.  A table with a list of pavilions usually has buttons between the two tables to move items in both directions.  It appears that what you want are called bi-directional selection tables."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640572119,"creation_date":1640559429,"answer_id":70490428,"question_id":70483538,"body_markdown":"# Answering The Question\r\n\r\nYou&#39;re not learning Swing by using a GUI builder.  Oracle has a helpful tutorial, [Creating a GUI With Swing][1].  Skip the Netbeans section.\r\n\r\nYou have a dropbox and a table with a list of pavilions. Why do you need both? You either have a dropbox or a table with a list of pavilions. A table with a list of pavilions usually has buttons between the two tables to move items in both directions. It appears that what you want are called bi-directional selection lists. \r\n\r\nAlso, you have two different lists of pavilions.  Fiji has an extra space in the table list and the UK pavilion has pavillion uncapitalized.  \r\n\r\nHere&#39;s the GUI after selecting three pavilions.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nModify these methods.  \r\n\r\n    private void DropboxActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // TODO add your handling code here:\r\n    }                                       \r\n\r\n    private void visitMouseClicked(java.awt.event.MouseEvent evt) {                                   \r\n        // TODO add your handling code here:\r\n    }                                  \r\n\r\n\tprivate void VISITEDActionPerformed(java.awt.event.ActionEvent evt) {\r\n\t\t// Keep user from selecting &quot;Select...&quot;\r\n\t\tint index = Dropbox.getSelectedIndex();\r\n\t\tif (index &lt;= 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Add visited pavilion\r\n\t\tString pavilion = ((String) Dropbox.getSelectedItem()).trim();\r\n\t\tObject[] modelRow = new Object[] { pavilion };\r\n\t\tDefaultTableModel visitModel = (DefaultTableModel) visit.getModel();\r\n\t\tvisitModel.addRow(modelRow);\r\n\r\n\t\t// Remove visited pavilion\r\n\t\tDropbox.removeItem(pavilion);\r\n\t\tDropbox.setSelectedIndex(0);\r\n\t\tDefaultTableModel notvisitModel = (DefaultTableModel) notvisit.getModel();\r\n\r\n\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\tVector&lt;Vector&gt; vector = notvisitModel.getDataVector();\r\n\t\tint size = vector.size();\r\n\t\tfor (index = 0; index &lt; size; index++) {\r\n\t\t\tVector&lt;?&gt; innerVector = vector.get(index);\r\n\t\t\tString visitedPavilion = ((String) innerVector.get(0)).trim();\r\n\t\t\tif (pavilion.equals(visitedPavilion)) {\r\n\t\t\t\tvector.remove(index);\r\n\t\t\t\tnotvisit.repaint();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}  \r\n\r\n# A Better Way\r\n\r\nI created what I&#39;ve seen as a bi-directional selection list.\r\n\r\nI didn&#39;t use a GUI builder.  I coded the Swing GUI by hand.\r\n\r\nNot only does the selection list work in both directions, but the sort order of the pavilions is also maintained.\r\n\r\nHere&#39;s the GUI when starting the application.\r\n\r\n[![enter image description here][3]][3] \r\n\r\nHere&#39;s the GUI after selecting three pavilions.  You select multiple pavilions by holding down the Ctrl key while left-clicking the mouse on the pavilions you&#39;ve visited.\r\n\r\n[![enter image description here][4]][4]   \r\n\r\nHere&#39;s the GUI after left-clicking the `&gt;` button.\r\n\r\n[![enter image description here][5]][5]\r\n\r\nHere&#39;s the GUI after I changed my mind snd removed one pavilion.\r\n\r\n[![enter image description here][6]][6]\r\n\r\nHere&#39;s the final state of the GUI.\r\n                 \r\n[![enter image description here][7]][7]\r\n\r\n# Explanation\r\n\r\nI created one model for the not visited pavilions.  I don&#39;t have to worry about two data models holding inconsistent information.\r\n\r\nI extended the `DefaultListModel` class to add a sort method.  This method ensures that the pavilion list in both the not visited and visited `JLists` will be in alphabetical order.\r\n\r\nI coded a `JFrame`, a main `JPanel`, and two inner `JPanels`.  The `JFrame` uses a default `BorderLayout`.  The main `JPanel` uses a `FlowLayout` and holds the two inner `JPanels` and the two `JButtons`.\r\n\r\nEach inner `JPanel` uses a `BoxLayout` and holds a `JLabel` and a `JList` inside of a `JScrollPane`.  I made both inner `JPanels` the same preferred size.\r\n\r\nHere&#39;s the complete runnable code.  i made all the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.FlowLayout;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.DefaultListModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class ExpoGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new ExpoGUI());\r\n    \t}\r\n    \t\r\n    \tprivate final ExpoModel model;\r\n    \t\r\n    \tprivate JList&lt;String&gt; notVisitedList, visitedList;\r\n    \t\r\n    \tpublic ExpoGUI() {\r\n    \t\tthis.model = new ExpoModel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Expo GUI&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tJPanel notVisitedPanel = createNotVisitedPanel();\r\n    \t\tJPanel visitedPanel = createVisitedPanel();\r\n    \t\tvisitedPanel.setPreferredSize(notVisitedPanel.getPreferredSize());\r\n    \t\tpanel.add(notVisitedPanel);\r\n    \t\t\r\n    \t\tJButton removeButton = new JButton(&quot;&lt;&quot;);\r\n    \t\tpanel.add(removeButton);\r\n    \t\t\r\n    \t\tremoveButton.addActionListener(event -&gt; {\r\n    \t\t\tint[] indices = visitedList.getSelectedIndices();\r\n    \t\t\tString[] pavilions = new String[indices.length];\r\n    \t\t\tfor (int index = 0; index &lt; indices.length; index++) {\r\n    \t\t\t\tpavilions[index] = model.getVisitedListModel().get(indices[index]);\r\n    \t\t\t\tmodel.addNotVisited(pavilions[index]);\r\n    \t\t\t}\r\n    \t\t\tfor (int index = 0; index &lt; indices.length; index++) {\r\n    \t\t\t\tmodel.removeVisited(pavilions[index]);\r\n    \t\t\t}\r\n    \t\t\tmodel.getNotVisitedListModel().sort();\r\n    \t\t\tmodel.getVisitedListModel().sort();\r\n    \t\t});\r\n    \t\t\r\n    \t\tJButton addButton = new JButton(&quot;&gt;&quot;);\r\n    \t\tpanel.add(addButton);\r\n    \t\t\r\n    \t\taddButton.addActionListener(event -&gt; {\r\n    \t\t\tint[] indices = notVisitedList.getSelectedIndices();\r\n    \t\t\tString[] pavilions = new String[indices.length];\r\n    \t\t\tfor (int index = 0; index &lt; indices.length; index++) {\r\n    \t\t\t\tpavilions[index] = model.getNotVisitedListModel().get(indices[index]);\r\n    \t\t\t\tmodel.addVisited(pavilions[index]);\r\n    \t\t\t}\r\n    \t\t\tfor (int index = 0; index &lt; indices.length; index++) {\r\n    \t\t\t\tmodel.removeNotVisited(pavilions[index]);\r\n    \t\t\t}\r\n    \t\t\tmodel.getNotVisitedListModel().sort();\r\n    \t\t\tmodel.getVisitedListModel().sort();\r\n    \t\t});\r\n    \t\t\r\n    \t\tpanel.add(visitedPanel);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createNotVisitedPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tJLabel label = new JLabel(&quot;Not Visited&quot;);\r\n    \t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\tpanel.add(label);\r\n    \t\t\r\n    \t\tnotVisitedList = new JList&lt;&gt;(model.getNotVisitedListModel());\r\n    \t\tJScrollPane scrollPane = new JScrollPane(notVisitedList);\r\n    \t\tscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n    \t\tpanel.add(scrollPane);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createVisitedPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tJLabel label = new JLabel(&quot;Visited&quot;);\r\n    \t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\tpanel.add(label);\r\n    \t\t\r\n    \t\tvisitedList = new JList&lt;&gt;(model.getVisitedListModel());\r\n    \t\tJScrollPane scrollPane = new JScrollPane(visitedList);\r\n    \t\tscrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n    \t\tpanel.add(scrollPane);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tpublic class ExpoModel {\r\n    \t\t\r\n    \t\tprivate final String [] pavilions = {            \r\n    \t\t\t&quot;Algeria Pavilion&quot;,\r\n                &quot;Brazil Pavillon&quot;,\r\n                &quot;Chile Pavilion&quot;,\r\n                &quot;Denmark Pavilion&quot;,\r\n                &quot;Ethiopia Pavllion&quot;,\r\n                &quot;Fiji Pavilion&quot;,\r\n                &quot;Germany Pavilion&quot;,\r\n                &quot;Hungary Pavilion&quot;,\r\n                &quot;Indonesia Pavilion&quot;,\r\n                &quot;Japan Pavilion&quot;,\r\n                &quot;Korea Pavilion&quot;,\r\n                &quot;Luxembourg Pavilion&quot;,\r\n                &quot;Malaysia Pavilion&quot;,\r\n                &quot;Niger Pavilion&quot;,\r\n                &quot;Palestine Pavilion&quot;,\r\n                &quot;Qatar Pavilion&quot;,\r\n                &quot;Rawanda Pavilion&quot;,\r\n                &quot;Singapore Pavilion&quot;,\r\n                &quot;UK Pavilion&quot;,\r\n                &quot;Venezuela Pavilion&quot;,\r\n                &quot;Yemen Pavilion&quot;,\r\n                &quot;Zambia Pavilion&quot;\r\n            };\r\n    \t\t\r\n    \t\tprivate final SortedListModel notVisitedListModel, visitedListModel;\r\n    \t\t\r\n    \t\tpublic ExpoModel() {\r\n    \t\t\tthis.notVisitedListModel = new SortedListModel();\r\n    \t\t\tthis.visitedListModel = new SortedListModel();\r\n    \t\t\t\r\n    \t\t\tfor (int index = 0; index &lt; pavilions.length; index++) {\r\n    \t\t\t\tthis.notVisitedListModel.addElement(pavilions[index]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void addNotVisited(String pavilion) {\r\n    \t\t\tnotVisitedListModel.addElement(pavilion);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void addVisited(String pavilion) {\r\n    \t\t\tvisitedListModel.addElement(pavilion);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void removeNotVisited(String pavilion) {\r\n    \t\t\tnotVisitedListModel.removeElement(pavilion);\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void removeVisited(String pavilion) {\r\n    \t\t\tvisitedListModel.removeElement(pavilion);\r\n    \t\t}\r\n    \r\n    \t\tpublic SortedListModel getNotVisitedListModel() {\r\n    \t\t\treturn notVisitedListModel;\r\n    \t\t}\r\n    \r\n    \t\tpublic SortedListModel getVisitedListModel() {\r\n    \t\t\treturn visitedListModel;\r\n    \t\t}\r\n    \t\r\n    \t}\r\n    \t\r\n    \tpublic class SortedListModel extends DefaultListModel&lt;String&gt; {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate String[] array;\r\n    \r\n    \t\tpublic void sort() {\r\n    \t\t\tif (getSize() &lt;= 0) {\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tarray = new String[getSize()];\r\n    \t\t\tcopyInto(array);\r\n    \t\t\tArrays.sort(array);\r\n    \t\t\tclear();\r\n    \r\n    \t\t\tfor (String s : array) {\r\n    \t\t\t\taddElement(s);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/index.html\r\n  [2]: https://i.stack.imgur.com/HJGeX.png\r\n  [3]: https://i.stack.imgur.com/8BbTb.png\r\n  [4]: https://i.stack.imgur.com/zCvHf.png\r\n  [5]: https://i.stack.imgur.com/cyHmK.png\r\n  [6]: https://i.stack.imgur.com/fOz55.png\r\n  [7]: https://i.stack.imgur.com/HLP18.png\r\n","title":"I want to transfer JComboBox info into this JTable","body":"<h1>Answering The Question</h1>\n<p>You're not learning Swing by using a GUI builder.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Netbeans section.</p>\n<p>You have a dropbox and a table with a list of pavilions. Why do you need both? You either have a dropbox or a table with a list of pavilions. A table with a list of pavilions usually has buttons between the two tables to move items in both directions. It appears that what you want are called bi-directional selection lists.</p>\n<p>Also, you have two different lists of pavilions.  Fiji has an extra space in the table list and the UK pavilion has pavillion uncapitalized.</p>\n<p>Here's the GUI after selecting three pavilions.</p>\n<p><a href=\"https://i.stack.imgur.com/HJGeX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HJGeX.png\" alt=\"enter image description here\" /></a></p>\n<p>Modify these methods.</p>\n<pre><code>private void DropboxActionPerformed(java.awt.event.ActionEvent evt) {                                        \n    // TODO add your handling code here:\n}                                       \n\nprivate void visitMouseClicked(java.awt.event.MouseEvent evt) {                                   \n    // TODO add your handling code here:\n}                                  \n\nprivate void VISITEDActionPerformed(java.awt.event.ActionEvent evt) {\n    // Keep user from selecting &quot;Select...&quot;\n    int index = Dropbox.getSelectedIndex();\n    if (index &lt;= 0) {\n        return;\n    }\n\n    // Add visited pavilion\n    String pavilion = ((String) Dropbox.getSelectedItem()).trim();\n    Object[] modelRow = new Object[] { pavilion };\n    DefaultTableModel visitModel = (DefaultTableModel) visit.getModel();\n    visitModel.addRow(modelRow);\n\n    // Remove visited pavilion\n    Dropbox.removeItem(pavilion);\n    Dropbox.setSelectedIndex(0);\n    DefaultTableModel notvisitModel = (DefaultTableModel) notvisit.getModel();\n\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    Vector&lt;Vector&gt; vector = notvisitModel.getDataVector();\n    int size = vector.size();\n    for (index = 0; index &lt; size; index++) {\n        Vector&lt;?&gt; innerVector = vector.get(index);\n        String visitedPavilion = ((String) innerVector.get(0)).trim();\n        if (pavilion.equals(visitedPavilion)) {\n            vector.remove(index);\n            notvisit.repaint();\n            break;\n        }\n    }\n}  \n</code></pre>\n<h1>A Better Way</h1>\n<p>I created what I've seen as a bi-directional selection list.</p>\n<p>I didn't use a GUI builder.  I coded the Swing GUI by hand.</p>\n<p>Not only does the selection list work in both directions, but the sort order of the pavilions is also maintained.</p>\n<p>Here's the GUI when starting the application.</p>\n<p><a href=\"https://i.stack.imgur.com/8BbTb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BbTb.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the GUI after selecting three pavilions.  You select multiple pavilions by holding down the Ctrl key while left-clicking the mouse on the pavilions you've visited.</p>\n<p><a href=\"https://i.stack.imgur.com/zCvHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zCvHf.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the GUI after left-clicking the <code>&gt;</code> button.</p>\n<p><a href=\"https://i.stack.imgur.com/cyHmK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cyHmK.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the GUI after I changed my mind snd removed one pavilion.</p>\n<p><a href=\"https://i.stack.imgur.com/fOz55.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOz55.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the final state of the GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/HLP18.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HLP18.png\" alt=\"enter image description here\" /></a></p>\n<h1>Explanation</h1>\n<p>I created one model for the not visited pavilions.  I don't have to worry about two data models holding inconsistent information.</p>\n<p>I extended the <code>DefaultListModel</code> class to add a sort method.  This method ensures that the pavilion list in both the not visited and visited <code>JLists</code> will be in alphabetical order.</p>\n<p>I coded a <code>JFrame</code>, a main <code>JPanel</code>, and two inner <code>JPanels</code>.  The <code>JFrame</code> uses a default <code>BorderLayout</code>.  The main <code>JPanel</code> uses a <code>FlowLayout</code> and holds the two inner <code>JPanels</code> and the two <code>JButtons</code>.</p>\n<p>Each inner <code>JPanel</code> uses a <code>BoxLayout</code> and holds a <code>JLabel</code> and a <code>JList</code> inside of a <code>JScrollPane</code>.  I made both inner <code>JPanels</code> the same preferred size.</p>\n<p>Here's the complete runnable code.  i made all the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.util.Arrays;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.BoxLayout;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.SwingUtilities;\n\npublic class ExpoGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new ExpoGUI());\n    }\n    \n    private final ExpoModel model;\n    \n    private JList&lt;String&gt; notVisitedList, visitedList;\n    \n    public ExpoGUI() {\n        this.model = new ExpoModel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Expo GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        JPanel notVisitedPanel = createNotVisitedPanel();\n        JPanel visitedPanel = createVisitedPanel();\n        visitedPanel.setPreferredSize(notVisitedPanel.getPreferredSize());\n        panel.add(notVisitedPanel);\n        \n        JButton removeButton = new JButton(&quot;&lt;&quot;);\n        panel.add(removeButton);\n        \n        removeButton.addActionListener(event -&gt; {\n            int[] indices = visitedList.getSelectedIndices();\n            String[] pavilions = new String[indices.length];\n            for (int index = 0; index &lt; indices.length; index++) {\n                pavilions[index] = model.getVisitedListModel().get(indices[index]);\n                model.addNotVisited(pavilions[index]);\n            }\n            for (int index = 0; index &lt; indices.length; index++) {\n                model.removeVisited(pavilions[index]);\n            }\n            model.getNotVisitedListModel().sort();\n            model.getVisitedListModel().sort();\n        });\n        \n        JButton addButton = new JButton(&quot;&gt;&quot;);\n        panel.add(addButton);\n        \n        addButton.addActionListener(event -&gt; {\n            int[] indices = notVisitedList.getSelectedIndices();\n            String[] pavilions = new String[indices.length];\n            for (int index = 0; index &lt; indices.length; index++) {\n                pavilions[index] = model.getNotVisitedListModel().get(indices[index]);\n                model.addVisited(pavilions[index]);\n            }\n            for (int index = 0; index &lt; indices.length; index++) {\n                model.removeNotVisited(pavilions[index]);\n            }\n            model.getNotVisitedListModel().sort();\n            model.getVisitedListModel().sort();\n        });\n        \n        panel.add(visitedPanel);\n        \n        return panel;\n    }\n    \n    private JPanel createNotVisitedPanel() {\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        JLabel label = new JLabel(&quot;Not Visited&quot;);\n        label.setHorizontalAlignment(JLabel.CENTER);\n        panel.add(label);\n        \n        notVisitedList = new JList&lt;&gt;(model.getNotVisitedListModel());\n        JScrollPane scrollPane = new JScrollPane(notVisitedList);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        panel.add(scrollPane);\n        \n        return panel;\n    }\n    \n    private JPanel createVisitedPanel() {\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.PAGE_AXIS));\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        JLabel label = new JLabel(&quot;Visited&quot;);\n        label.setHorizontalAlignment(JLabel.CENTER);\n        panel.add(label);\n        \n        visitedList = new JList&lt;&gt;(model.getVisitedListModel());\n        JScrollPane scrollPane = new JScrollPane(visitedList);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        panel.add(scrollPane);\n        \n        return panel;\n    }\n    \n    public class ExpoModel {\n        \n        private final String [] pavilions = {            \n            &quot;Algeria Pavilion&quot;,\n            &quot;Brazil Pavillon&quot;,\n            &quot;Chile Pavilion&quot;,\n            &quot;Denmark Pavilion&quot;,\n            &quot;Ethiopia Pavllion&quot;,\n            &quot;Fiji Pavilion&quot;,\n            &quot;Germany Pavilion&quot;,\n            &quot;Hungary Pavilion&quot;,\n            &quot;Indonesia Pavilion&quot;,\n            &quot;Japan Pavilion&quot;,\n            &quot;Korea Pavilion&quot;,\n            &quot;Luxembourg Pavilion&quot;,\n            &quot;Malaysia Pavilion&quot;,\n            &quot;Niger Pavilion&quot;,\n            &quot;Palestine Pavilion&quot;,\n            &quot;Qatar Pavilion&quot;,\n            &quot;Rawanda Pavilion&quot;,\n            &quot;Singapore Pavilion&quot;,\n            &quot;UK Pavilion&quot;,\n            &quot;Venezuela Pavilion&quot;,\n            &quot;Yemen Pavilion&quot;,\n            &quot;Zambia Pavilion&quot;\n        };\n        \n        private final SortedListModel notVisitedListModel, visitedListModel;\n        \n        public ExpoModel() {\n            this.notVisitedListModel = new SortedListModel();\n            this.visitedListModel = new SortedListModel();\n            \n            for (int index = 0; index &lt; pavilions.length; index++) {\n                this.notVisitedListModel.addElement(pavilions[index]);\n            }\n        }\n        \n        public void addNotVisited(String pavilion) {\n            notVisitedListModel.addElement(pavilion);\n        }\n        \n        public void addVisited(String pavilion) {\n            visitedListModel.addElement(pavilion);\n        }\n        \n        public void removeNotVisited(String pavilion) {\n            notVisitedListModel.removeElement(pavilion);\n        }\n        \n        public void removeVisited(String pavilion) {\n            visitedListModel.removeElement(pavilion);\n        }\n\n        public SortedListModel getNotVisitedListModel() {\n            return notVisitedListModel;\n        }\n\n        public SortedListModel getVisitedListModel() {\n            return visitedListModel;\n        }\n    \n    }\n    \n    public class SortedListModel extends DefaultListModel&lt;String&gt; {\n\n        private static final long serialVersionUID = 1L;\n\n        private String[] array;\n\n        public void sort() {\n            if (getSize() &lt;= 0) {\n                return;\n            }\n            \n            array = new String[getSize()];\n            copyInto(array);\n            Arrays.sort(array);\n            clear();\n\n            for (String s : array) {\n                addElement(s);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19487993,"reputation":3,"user_id":14256875,"display_name":"Deepit Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70490428,"answer_count":1,"score":0,"last_activity_date":1640572119,"creation_date":1640477791,"question_id":70483538,"body_markdown":"Am pressing the Button but it&#39;s not working for some reason.\r\nI want to transfer `JComboBox` info into this `JTable`.\r\n\r\nHere&#39;s what the GUI looks like\r\n\r\n[![enter image description here][1]][1]\r\n\r\nPlease help me fix this issue. I am suspect it&#39;s a logic error.\r\nI just want the contents in the dropbox to be transferred to the 2nd table (Which is basically empty)\r\n\r\nHere&#39;s the code:\r\n\r\n``` \r\npackage com.mycompany.expoapp.newpackage;\r\n\r\nimport java.util.Vector;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport javax.swing.JFrame;\r\n\r\npublic class ExpoAPP extends javax.swing.JFrame {\r\n    DefaultTableModel model;\r\n\r\n    /**\r\n     * Creates new form ExpoAPP\r\n     */\r\n    public ExpoAPP() {\r\n        initComponents();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)                         \r\n    private void initComponents() {\r\n        Dropbox = new javax.swing.JComboBox&lt;&gt;();\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        visit = new javax.swing.JTable();\r\n        jScrollPane2 = new javax.swing.JScrollPane();\r\n        notvisit = new javax.swing.JTable();\r\n        VISITED = new javax.swing.JButton();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        Dropbox.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;Select the Pavillion you Visited&quot;, &quot;Algeria Pavillion&quot;, &quot;Brazil Pavillion&quot;, &quot;Chile Pavillion&quot;, &quot;Denmark Pavillion&quot;, &quot;Ethiopia Pavillion&quot;, &quot;Fiji Pavillion&quot;, &quot;Germany Pavillion&quot;, &quot;Hungary Pavillion&quot;, &quot;Indonesia Pavillion&quot;, &quot;Japan Pavillion&quot;, &quot;Korea Pavillion&quot;, &quot;Luxembourg Pavillion&quot;, &quot;Malaysia Pavillion&quot;, &quot;Niger Pavillion&quot;, &quot;Palestine Pavillion&quot;, &quot;Qatar Pavillion&quot;, &quot;Rawanda Pavillion&quot;, &quot;Singapore Pavillion&quot;, &quot;UK pavillion&quot;, &quot;Venezuela Pavillion&quot;, &quot;Yemen Pavillion&quot;, &quot;Zambia Pavillion&quot; }));\r\n        Dropbox.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                DropboxActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        visit.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n            },\r\n            new String [] {\r\n                &quot;Visited&quot;\r\n            }\r\n        ));\r\n        visit.setAlignmentX(1.0F);\r\n        visit.setAlignmentY(1.0F);\r\n        visit.addMouseListener(new java.awt.event.MouseAdapter() {\r\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n                visitMouseClicked(evt);\r\n            }\r\n        });\r\n        jScrollPane1.setViewportView(visit);\r\n\r\n        notvisit.setModel(new javax.swing.table.DefaultTableModel(\r\n            new Object [][] {\r\n                {&quot;Algeria Pavillion&quot;},\r\n                {&quot;Brazil Pavillion&quot;},\r\n                {&quot;Chile Pavillion&quot;},\r\n                {&quot;Denmark Pavillion&quot;},\r\n                {&quot;Ethiopia Pavillion&quot;},\r\n                {&quot;Fiji Pavillion &quot;},\r\n                {&quot;Germany Pavillion&quot;},\r\n                {&quot;Hungary Pavillion&quot;},\r\n                {&quot;Indonesia Pavillion&quot;},\r\n                {&quot;Japan Pavillion&quot;},\r\n                {&quot;Korea Pavillion&quot;},\r\n                {&quot;Luxembourg Pavillion&quot;},\r\n                {&quot;Malaysia Pavillion&quot;},\r\n                {&quot;Niger Pavillion&quot;},\r\n                {&quot;Palestine Pavillion&quot;},\r\n                {&quot;Qatar Pavillion&quot;},\r\n                {&quot;Rawanda Pavillion&quot;},\r\n                {&quot;Singapore Pavillion&quot;},\r\n                {&quot;UK pavillion&quot;},\r\n                {&quot;Venezuela Pavillion&quot;},\r\n                {&quot;Yemen Pavillion&quot;},\r\n                {&quot;Zambia Pavillion&quot;}\r\n            },\r\n            new String [] {\r\n                &quot;Not Visited&quot;\r\n            }\r\n        ));\r\n        notvisit.setAlignmentX(1.0F);\r\n        notvisit.setAlignmentY(1.0F);\r\n        jScrollPane2.setViewportView(notvisit);\r\n\r\n        VISITED.setText(&quot;Visited!&quot;);\r\n        VISITED.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                VISITEDActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(Dropbox, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 34, Short.MAX_VALUE)\r\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap())\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(132, 132, 132)\r\n                .addComponent(VISITED, javax.swing.GroupLayout.PREFERRED_SIZE, 112, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(61, 61, 61)\r\n                .addComponent(Dropbox, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(28, 28, 28)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 385, Short.MAX_VALUE)\r\n                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(VISITED, javax.swing.GroupLayout.DEFAULT_SIZE, 38, Short.MAX_VALUE)\r\n                .addGap(25, 25, 25))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void DropboxActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // TODO add your handling code here:\r\n    }                                       \r\n\r\n    private void visitMouseClicked(java.awt.event.MouseEvent evt) {                                   \r\n        // TODO add your handling code here:\r\nint selectedRow = visit.getSelectedRow();\r\n    String comboSub = model.getValueAt(selectedRow, 0).toString();\r\n        for (int i = 0; i &lt; Dropbox.getItemCount(); i++) \r\n{\r\n           if (Dropbox.getItemAt(i).toString().equalsIgnoreCase(comboSub)) \r\n               {\r\n                Dropbox.setSelectedIndex(i);\r\n               }\r\n}\r\n    }                                  \r\n\r\n    private void VISITEDActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // TODO add your handling code here:\r\n    }                                       \r\n\r\n    /*\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(ExpoAPP.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(ExpoAPP.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(ExpoAPP.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(ExpoAPP.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new ExpoAPP().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JComboBox&lt;String&gt; Dropbox;\r\n    private javax.swing.JButton VISITED;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JScrollPane jScrollPane2;\r\n    private javax.swing.JTable notvisit;\r\n    private javax.swing.JTable visit;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KsOcr.png","title":"I want to transfer JComboBox info into this JTable","body":"<p>Am pressing the Button but it's not working for some reason.\nI want to transfer <code>JComboBox</code> info into this <code>JTable</code>.</p>\n<p>Here's what the GUI looks like</p>\n<p><a href=\"https://i.stack.imgur.com/KsOcr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KsOcr.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help me fix this issue. I am suspect it's a logic error.\nI just want the contents in the dropbox to be transferred to the 2nd table (Which is basically empty)</p>\n<p>Here's the code:</p>\n<pre><code>package com.mycompany.expoapp.newpackage;\n\nimport java.util.Vector;\nimport javax.swing.JOptionPane;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.JFrame;\n\npublic class ExpoAPP extends javax.swing.JFrame {\n    DefaultTableModel model;\n\n    /**\n     * Creates new form ExpoAPP\n     */\n    public ExpoAPP() {\n        initComponents();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)                         \n    private void initComponents() {\n        Dropbox = new javax.swing.JComboBox&lt;&gt;();\n        jScrollPane1 = new javax.swing.JScrollPane();\n        visit = new javax.swing.JTable();\n        jScrollPane2 = new javax.swing.JScrollPane();\n        notvisit = new javax.swing.JTable();\n        VISITED = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        Dropbox.setModel(new javax.swing.DefaultComboBoxModel&lt;&gt;(new String[] { &quot;Select the Pavillion you Visited&quot;, &quot;Algeria Pavillion&quot;, &quot;Brazil Pavillion&quot;, &quot;Chile Pavillion&quot;, &quot;Denmark Pavillion&quot;, &quot;Ethiopia Pavillion&quot;, &quot;Fiji Pavillion&quot;, &quot;Germany Pavillion&quot;, &quot;Hungary Pavillion&quot;, &quot;Indonesia Pavillion&quot;, &quot;Japan Pavillion&quot;, &quot;Korea Pavillion&quot;, &quot;Luxembourg Pavillion&quot;, &quot;Malaysia Pavillion&quot;, &quot;Niger Pavillion&quot;, &quot;Palestine Pavillion&quot;, &quot;Qatar Pavillion&quot;, &quot;Rawanda Pavillion&quot;, &quot;Singapore Pavillion&quot;, &quot;UK pavillion&quot;, &quot;Venezuela Pavillion&quot;, &quot;Yemen Pavillion&quot;, &quot;Zambia Pavillion&quot; }));\n        Dropbox.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                DropboxActionPerformed(evt);\n            }\n        });\n\n        visit.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n            },\n            new String [] {\n                &quot;Visited&quot;\n            }\n        ));\n        visit.setAlignmentX(1.0F);\n        visit.setAlignmentY(1.0F);\n        visit.addMouseListener(new java.awt.event.MouseAdapter() {\n            public void mouseClicked(java.awt.event.MouseEvent evt) {\n                visitMouseClicked(evt);\n            }\n        });\n        jScrollPane1.setViewportView(visit);\n\n        notvisit.setModel(new javax.swing.table.DefaultTableModel(\n            new Object [][] {\n                {&quot;Algeria Pavillion&quot;},\n                {&quot;Brazil Pavillion&quot;},\n                {&quot;Chile Pavillion&quot;},\n                {&quot;Denmark Pavillion&quot;},\n                {&quot;Ethiopia Pavillion&quot;},\n                {&quot;Fiji Pavillion &quot;},\n                {&quot;Germany Pavillion&quot;},\n                {&quot;Hungary Pavillion&quot;},\n                {&quot;Indonesia Pavillion&quot;},\n                {&quot;Japan Pavillion&quot;},\n                {&quot;Korea Pavillion&quot;},\n                {&quot;Luxembourg Pavillion&quot;},\n                {&quot;Malaysia Pavillion&quot;},\n                {&quot;Niger Pavillion&quot;},\n                {&quot;Palestine Pavillion&quot;},\n                {&quot;Qatar Pavillion&quot;},\n                {&quot;Rawanda Pavillion&quot;},\n                {&quot;Singapore Pavillion&quot;},\n                {&quot;UK pavillion&quot;},\n                {&quot;Venezuela Pavillion&quot;},\n                {&quot;Yemen Pavillion&quot;},\n                {&quot;Zambia Pavillion&quot;}\n            },\n            new String [] {\n                &quot;Not Visited&quot;\n            }\n        ));\n        notvisit.setAlignmentX(1.0F);\n        notvisit.setAlignmentY(1.0F);\n        jScrollPane2.setViewportView(notvisit);\n\n        VISITED.setText(&quot;Visited!&quot;);\n        VISITED.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                VISITEDActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(Dropbox, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 34, Short.MAX_VALUE)\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addContainerGap())\n            .addGroup(layout.createSequentialGroup()\n                .addGap(132, 132, 132)\n                .addComponent(VISITED, javax.swing.GroupLayout.PREFERRED_SIZE, 112, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(61, 61, 61)\n                .addComponent(Dropbox, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(28, 28, 28)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 385, Short.MAX_VALUE)\n                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(VISITED, javax.swing.GroupLayout.DEFAULT_SIZE, 38, Short.MAX_VALUE)\n                .addGap(25, 25, 25))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void DropboxActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        // TODO add your handling code here:\n    }                                       \n\n    private void visitMouseClicked(java.awt.event.MouseEvent evt) {                                   \n        // TODO add your handling code here:\nint selectedRow = visit.getSelectedRow();\n    String comboSub = model.getValueAt(selectedRow, 0).toString();\n        for (int i = 0; i &lt; Dropbox.getItemCount(); i++) \n{\n           if (Dropbox.getItemAt(i).toString().equalsIgnoreCase(comboSub)) \n               {\n                Dropbox.setSelectedIndex(i);\n               }\n}\n    }                                  \n\n    private void VISITEDActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        // TODO add your handling code here:\n    }                                       \n\n    /*\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(ExpoAPP.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(ExpoAPP.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(ExpoAPP.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(ExpoAPP.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new ExpoAPP().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JComboBox&lt;String&gt; Dropbox;\n    private javax.swing.JButton VISITED;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JScrollPane jScrollPane2;\n    private javax.swing.JTable notvisit;\n    private javax.swing.JTable visit;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1638792692,"post_id":70217853,"comment_id":124174192,"body_markdown":"Do you use same Gradle and Android SDK and JDK versions as in a separate project? Additional Android projects are not supported in a multi-module non-Android Gradle projects: https://youtrack.jetbrains.com/issue/IDEA-267451","body":"Do you use same Gradle and Android SDK and JDK versions as in a separate project? Additional Android projects are not supported in a multi-module non-Android Gradle projects: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-267451\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-267451</a>"},{"owner":{"account_id":7140374,"reputation":527,"user_id":6596010,"accept_rate":62,"display_name":"Matt Groth"},"score":0,"creation_date":1638888899,"post_id":70217853,"comment_id":124204111,"body_markdown":"Thanks for the comment Andrey. So to put it in simple words, am I correct in understanding from what you are saying that it&#39;s impossible to have both a Desktop JavaFX app (developed with Java16) and an android app in the same gradle multi-project build?","body":"Thanks for the comment Andrey. So to put it in simple words, am I correct in understanding from what you are saying that it&#39;s impossible to have both a Desktop JavaFX app (developed with Java16) and an android app in the same gradle multi-project build?"},{"owner":{"account_id":7140374,"reputation":527,"user_id":6596010,"accept_rate":62,"display_name":"Matt Groth"},"score":0,"creation_date":1638889045,"post_id":70217853,"comment_id":124204186,"body_markdown":"Also I&#39;m not sure I understand your question, but I use the same gradle version and executable for all projects, and just use the default updated android SDK from Android studio / intelliJ, and on the desktop app side use openjdk16. By the way, all in kotlin.","body":"Also I&#39;m not sure I understand your question, but I use the same gradle version and executable for all projects, and just use the default updated android SDK from Android studio / intelliJ, and on the desktop app side use openjdk16. By the way, all in kotlin."}],"answers":[{"tags":[],"owner":{"account_id":122694,"reputation":2864,"user_id":1126796,"accept_rate":25,"display_name":"msridhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640571788,"creation_date":1640571788,"answer_id":70491191,"question_id":70217853,"body_markdown":"I just ran into this same problem.  It seems to be some kind of versioning issue with the ASM library, probably due to interactions with some other library.  Don&#39;t know the exact root cause, but I managed to fix it by tweaking my buildscript dependencies block as follows:\r\n```gradle\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n        classpath(&#39;org.ow2.asm:asm&#39;) {\r\n            version {\r\n                strictly &#39;9.2&#39;\r\n            }\r\n        }\r\n    }\r\n```","title":"How to include Android project in a gradle multi-project build?","body":"<p>I just ran into this same problem.  It seems to be some kind of versioning issue with the ASM library, probably due to interactions with some other library.  Don't know the exact root cause, but I managed to fix it by tweaking my buildscript dependencies block as follows:</p>\n<pre><code>    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n        classpath('org.ow2.asm:asm') {\n            version {\n                strictly '9.2'\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":7140374,"reputation":527,"user_id":6596010,"accept_rate":62,"display_name":"Matt Groth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640571788,"creation_date":1638549769,"question_id":70217853,"body_markdown":"I have a kotlin-gradle dsl multi-project build running on openjdk 16. I understand android uses a different jdk, and I think this is why I am getting an error. I am running into [this issue][1] (```An exception occurred applying plugin request [id: &#39;com.android.application&#39;]```), and the top answer says the solution is to switch the jdk. However, I don&#39;t want the entire build to be on a different JDK, I only want the android project.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66376361/an-exception-occurred-applying-plugin-request-id-com-android-application-wh\r\n\r\nI am using Gradle 7.1.1, Kotlin 1.4.31, IntelliJ 2021.3. I can build an android app on Android Studio in its own separate project without issue. I copied the gradle code directly from the template android project that was created in Android Studio:\r\n\r\n\r\n`build.gradle`\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;kotlin-android&#39;\r\n}\r\n\r\n//repositories {\r\n//    google()\r\n//    mavenCentral()\r\n//}\r\n\r\nandroid {\r\n    compileSdk 30\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myapplication&quot;\r\n        minSdk 23\r\n        targetSdk 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support:design:28.0.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n    implementation &#39;android.arch.navigation:navigation-fragment-ktx:1.0.0&#39;\r\n    implementation &#39;android.arch.navigation:navigation-ui-ktx:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n}\r\n```\r\n\r\nI also added these lines to the root buildscript:\r\n\r\n`build.gradle.kts`\r\n```\r\nbuildscript {\r\n\r\n  repositories {\r\n\tgoogle() /*android*/\r\n\tmavenCentral() /*android*/\r\n  }\r\n\r\n  dependencies {\r\n\tclasspath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.10&quot;) /*was already here before*/\r\n\tclasspath(&quot;com.android.tools.build:gradle:7.0.3&quot;) /*android*/\r\n  }\r\n}\r\n```\r\n\r\nI also copied the `local.properties` file from Android Studio:\r\n\r\n```\r\nsdk.dir=/Users/matt/Library/Android/sdk\r\n```\r\n\r\nAnd also copied these two lines into `gradle.properties`:\r\n\r\n```\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n```\r\n\r\nThe full error I get is:\r\n\r\n```\r\nAn exception occurred applying plugin request [id: &#39;com.android.application&#39;]\r\n&gt; Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n   &gt; java.lang.IllegalArgumentException\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: &#39;com.android.application&#39;]\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:207)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:189)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$1(DefaultPluginRequestApplicator.java:127)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:127)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:123)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:280)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:307)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:279)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n\tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n\tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:280)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:340)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:340)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:321)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:279)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:741)\r\n\tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:149)\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:253)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\r\n\tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:57)\r\n\tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n\tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n\tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:85)\r\n\tat org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:69)\r\n\tat org.gradle.initialization.VintageBuildModelController.scheduleRequestedTasks(VintageBuildModelController.java:61)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$scheduleRequestedTasks$1(DefaultBuildLifecycleController.java:112)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.withModel(DefaultBuildLifecycleController.java:134)\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.scheduleRequestedTasks(DefaultBuildLifecycleController.java:110)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:72)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doBuild$4(DefaultBuildTreeLifecycleController.java:105)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doBuild(DefaultBuildTreeLifecycleController.java:99)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:70)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:58)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:52)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:50)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:40)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:55)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:54)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:173)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:146)\r\n\tat org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyType(DefaultObjectConfigurationAction.java:167)\r\n\tat org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$200(DefaultObjectConfigurationAction.java:43)\r\n\tat org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$3.run(DefaultObjectConfigurationAction.java:98)\r\n\tat org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:190)\r\n\tat org.gradle.api.internal.project.AbstractPluginAware.apply(AbstractPluginAware.java:49)\r\n\tat com.android.build.gradle.AppPlugin.apply(AppPlugin.kt:28)\r\n\tat com.android.build.gradle.AppPlugin.apply(AppPlugin.kt:24)\r\n\tat org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:43)\r\n\tat org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:51)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:187)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.access$100(DefaultPluginManager.java:52)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:282)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.lambda$doApply$0(DefaultPluginManager.java:167)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:166)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:137)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$0(DefaultPluginRequestApplicator.java:129)\r\n\tat org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:185)\r\n\t... 142 more\r\nCaused by: com.google.common.util.concurrent.UncheckedExecutionException: java.lang.IllegalArgumentException\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2051)\r\n\tat com.google.common.cache.LocalCache.get(LocalCache.java:3951)\r\n\tat com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3974)\r\n\tat com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4958)\r\n\tat com.android.build.gradle.internal.dsl.decorator.DslDecorator.decorate(DslDecorator.kt:72)\r\n\tat com.android.build.gradle.internal.services.DslServicesImpl.newDecoratedInstance(DslServicesImpl.kt:66)\r\n\tat com.android.build.gradle.internal.plugins.AppPlugin.createExtension(AppPlugin.java:112)\r\n\tat com.android.build.gradle.internal.plugins.BasePlugin.configureExtension(BasePlugin.java:533)\r\n\tat com.android.build.gradle.internal.profile.NoOpAnalyticsConfiguratorService.recordBlock(NoOpAnalyticsConfiguratorService.kt:48)\r\n\tat com.android.build.gradle.internal.plugins.BasePlugin.basePluginApply(BasePlugin.java:348)\r\n\tat com.android.build.gradle.internal.plugins.BasePlugin.lambda$apply$0(BasePlugin.java:276)\r\n\tat com.android.build.gradle.internal.crash.CrashReporting.runAction(crash_reporting.kt:27)\r\n\tat com.android.build.gradle.internal.plugins.BasePlugin.apply(BasePlugin.java:274)\r\n\tat com.android.build.gradle.internal.plugins.BasePlugin.apply(BasePlugin.java:149)\r\n\tat org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:43)\r\n\tat org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:51)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:187)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.access$100(DefaultPluginManager.java:52)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:282)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.lambda$doApply$0(DefaultPluginManager.java:167)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n\tat org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:166)\r\n\t... 171 more\r\nCaused by: java.lang.IllegalArgumentException\r\n\tat org.objectweb.asm.MethodVisitor.&lt;init&gt;(MethodVisitor.java:82)\r\n\tat org.objectweb.asm.commons.LocalVariablesSorter.&lt;init&gt;(LocalVariablesSorter.java:102)\r\n\tat org.objectweb.asm.commons.GeneratorAdapter.&lt;init&gt;(GeneratorAdapter.java:227)\r\n\tat org.objectweb.asm.commons.GeneratorAdapter.&lt;init&gt;(GeneratorAdapter.java:204)\r\n\tat org.objectweb.asm.commons.GeneratorAdapter.&lt;init&gt;(GeneratorAdapter.java:245)\r\n\tat org.objectweb.asm.commons.GeneratorAdapter.&lt;init&gt;(GeneratorAdapter.java:265)\r\n\tat com.android.build.gradle.internal.dsl.decorator.DslDecorator.decorateDslClassImpl$gradle_core(DslDecorator.kt:129)\r\n\tat com.android.build.gradle.internal.dsl.decorator.DslDecorator$cache$1.load(DslDecorator.kt:58)\r\n\tat com.android.build.gradle.internal.dsl.decorator.DslDecorator$cache$1.load(DslDecorator.kt:54)\r\n\tat com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529)\r\n\tat com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278)\r\n\tat com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155)\r\n\tat com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045)\r\n\t... 202 more\r\n\r\n\r\n```\r\n\r\nAnd again, I think based on that other question and my understanding that Android Studio uses a unique JDK that I need to change the JDK somewhere. However, I do not want to change the JDK for the entire IntelliJ project or the entire multi-project gradle build. I want to continue using JDK 16 in other subprojects but use the android JDK where it is needed, in the Android subproject. My question, assuming this is the correct solution to the above error and that its possible to accomplish, is how exacty to change the JDK *only* for the android subproject in IntelliJ and/or Gradle.","title":"How to include Android project in a gradle multi-project build?","body":"<p>I have a kotlin-gradle dsl multi-project build running on openjdk 16. I understand android uses a different jdk, and I think this is why I am getting an error. I am running into <a href=\"https://stackoverflow.com/questions/66376361/an-exception-occurred-applying-plugin-request-id-com-android-application-wh\">this issue</a> (<code>An exception occurred applying plugin request [id: 'com.android.application']</code>), and the top answer says the solution is to switch the jdk. However, I don't want the entire build to be on a different JDK, I only want the android project.</p>\n<p>I am using Gradle 7.1.1, Kotlin 1.4.31, IntelliJ 2021.3. I can build an android app on Android Studio in its own separate project without issue. I copied the gradle code directly from the template android project that was created in Android Studio:</p>\n<p><code>build.gradle</code></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n}\n\n//repositories {\n//    google()\n//    mavenCentral()\n//}\n\nandroid {\n    compileSdk 30\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdk 23\n        targetSdk 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n    implementation 'android.arch.navigation:navigation-fragment-ktx:1.0.0'\n    implementation 'android.arch.navigation:navigation-ui-ktx:1.0.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n<p>I also added these lines to the root buildscript:</p>\n<p><code>build.gradle.kts</code></p>\n<pre><code>buildscript {\n\n  repositories {\n    google() /*android*/\n    mavenCentral() /*android*/\n  }\n\n  dependencies {\n    classpath(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.10&quot;) /*was already here before*/\n    classpath(&quot;com.android.tools.build:gradle:7.0.3&quot;) /*android*/\n  }\n}\n</code></pre>\n<p>I also copied the <code>local.properties</code> file from Android Studio:</p>\n<pre><code>sdk.dir=/Users/matt/Library/Android/sdk\n</code></pre>\n<p>And also copied these two lines into <code>gradle.properties</code>:</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>The full error I get is:</p>\n<pre><code>An exception occurred applying plugin request [id: 'com.android.application']\n&gt; Failed to apply plugin 'com.android.internal.application'.\n   &gt; java.lang.IllegalArgumentException\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.InvalidPluginException: An exception occurred applying plugin request [id: 'com.android.application']\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.exceptionOccurred(DefaultPluginRequestApplicator.java:207)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:189)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$1(DefaultPluginRequestApplicator.java:127)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:127)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:123)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:117)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:280)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:307)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:279)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:280)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:340)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:340)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:321)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:279)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:741)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:149)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:253)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:57)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:85)\n    at org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:69)\n    at org.gradle.initialization.VintageBuildModelController.scheduleRequestedTasks(VintageBuildModelController.java:61)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$scheduleRequestedTasks$1(DefaultBuildLifecycleController.java:112)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withModel(DefaultBuildLifecycleController.java:134)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.scheduleRequestedTasks(DefaultBuildLifecycleController.java:110)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:72)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doBuild$4(DefaultBuildTreeLifecycleController.java:105)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doBuild(DefaultBuildTreeLifecycleController.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:70)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:58)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:52)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:50)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:128)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:40)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:55)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:54)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin 'com.android.internal.application'.\n    at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:173)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:146)\n    at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyType(DefaultObjectConfigurationAction.java:167)\n    at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$200(DefaultObjectConfigurationAction.java:43)\n    at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$3.run(DefaultObjectConfigurationAction.java:98)\n    at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:190)\n    at org.gradle.api.internal.project.AbstractPluginAware.apply(AbstractPluginAware.java:49)\n    at com.android.build.gradle.AppPlugin.apply(AppPlugin.kt:28)\n    at com.android.build.gradle.AppPlugin.apply(AppPlugin.kt:24)\n    at org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:43)\n    at org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:51)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:187)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.access$100(DefaultPluginManager.java:52)\n    at org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:282)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.lambda$doApply$0(DefaultPluginManager.java:167)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:166)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.apply(DefaultPluginManager.java:137)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.lambda$applyPlugins$0(DefaultPluginRequestApplicator.java:129)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugin(DefaultPluginRequestApplicator.java:185)\n    ... 142 more\nCaused by: com.google.common.util.concurrent.UncheckedExecutionException: java.lang.IllegalArgumentException\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2051)\n    at com.google.common.cache.LocalCache.get(LocalCache.java:3951)\n    at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3974)\n    at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4958)\n    at com.android.build.gradle.internal.dsl.decorator.DslDecorator.decorate(DslDecorator.kt:72)\n    at com.android.build.gradle.internal.services.DslServicesImpl.newDecoratedInstance(DslServicesImpl.kt:66)\n    at com.android.build.gradle.internal.plugins.AppPlugin.createExtension(AppPlugin.java:112)\n    at com.android.build.gradle.internal.plugins.BasePlugin.configureExtension(BasePlugin.java:533)\n    at com.android.build.gradle.internal.profile.NoOpAnalyticsConfiguratorService.recordBlock(NoOpAnalyticsConfiguratorService.kt:48)\n    at com.android.build.gradle.internal.plugins.BasePlugin.basePluginApply(BasePlugin.java:348)\n    at com.android.build.gradle.internal.plugins.BasePlugin.lambda$apply$0(BasePlugin.java:276)\n    at com.android.build.gradle.internal.crash.CrashReporting.runAction(crash_reporting.kt:27)\n    at com.android.build.gradle.internal.plugins.BasePlugin.apply(BasePlugin.java:274)\n    at com.android.build.gradle.internal.plugins.BasePlugin.apply(BasePlugin.java:149)\n    at org.gradle.api.internal.plugins.ImperativeOnlyPluginTarget.applyImperative(ImperativeOnlyPluginTarget.java:43)\n    at org.gradle.api.internal.plugins.RuleBasedPluginTarget.applyImperative(RuleBasedPluginTarget.java:51)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.addPlugin(DefaultPluginManager.java:187)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.access$100(DefaultPluginManager.java:52)\n    at org.gradle.api.internal.plugins.DefaultPluginManager$AddPluginBuildOperation.run(DefaultPluginManager.java:282)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.lambda$doApply$0(DefaultPluginManager.java:167)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.api.internal.plugins.DefaultPluginManager.doApply(DefaultPluginManager.java:166)\n    ... 171 more\nCaused by: java.lang.IllegalArgumentException\n    at org.objectweb.asm.MethodVisitor.&lt;init&gt;(MethodVisitor.java:82)\n    at org.objectweb.asm.commons.LocalVariablesSorter.&lt;init&gt;(LocalVariablesSorter.java:102)\n    at org.objectweb.asm.commons.GeneratorAdapter.&lt;init&gt;(GeneratorAdapter.java:227)\n    at org.objectweb.asm.commons.GeneratorAdapter.&lt;init&gt;(GeneratorAdapter.java:204)\n    at org.objectweb.asm.commons.GeneratorAdapter.&lt;init&gt;(GeneratorAdapter.java:245)\n    at org.objectweb.asm.commons.GeneratorAdapter.&lt;init&gt;(GeneratorAdapter.java:265)\n    at com.android.build.gradle.internal.dsl.decorator.DslDecorator.decorateDslClassImpl$gradle_core(DslDecorator.kt:129)\n    at com.android.build.gradle.internal.dsl.decorator.DslDecorator$cache$1.load(DslDecorator.kt:58)\n    at com.android.build.gradle.internal.dsl.decorator.DslDecorator$cache$1.load(DslDecorator.kt:54)\n    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3529)\n    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2278)\n    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2155)\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2045)\n    ... 202 more\n\n\n</code></pre>\n<p>And again, I think based on that other question and my understanding that Android Studio uses a unique JDK that I need to change the JDK somewhere. However, I do not want to change the JDK for the entire IntelliJ project or the entire multi-project gradle build. I want to continue using JDK 16 in other subprojects but use the android JDK where it is needed, in the Android subproject. My question, assuming this is the correct solution to the above error and that its possible to accomplish, is how exacty to change the JDK <em>only</em> for the android subproject in IntelliJ and/or Gradle.</p>\n"},{"tags":["java","intellij-idea","search","full-text-search","structural-search"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1578568491,"post_id":59661358,"comment_id":105484589,"body_markdown":"You may use reference filter (https://www.jetbrains.com/help/idea/search-templates.html#reference_filter). But ot&#39;s not possible to set annotation type.","body":"You may use reference filter (<a href=\"https://www.jetbrains.com/help/idea/search-templates.html#reference_filter\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/search-templates.html#reference_fil&zwnj;&#8203;ter</a>). But ot&#39;s not possible to set annotation type."},{"owner":{"account_id":17488568,"reputation":1,"user_id":12681145,"display_name":"Eliot"},"score":0,"creation_date":1578661609,"post_id":59661358,"comment_id":105521504,"body_markdown":"Precisely, I am using a reference filter in $REPO$ but that does not work by coupling it with &#39;$METHOD$&#39; = a type filter with &quot;findById&quot;. Any ideas ?","body":"Precisely, I am using a reference filter in $REPO$ but that does not work by coupling it with &#39;$METHOD$&#39; = a type filter with &quot;findById&quot;. Any ideas ?"}],"owner":{"account_id":17488568,"reputation":1,"user_id":12681145,"display_name":"Eliot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640571676,"creation_date":1578563764,"question_id":59661358,"body_markdown":"I want to perform a structural search from IntelliJ IDEA.\r\nMy research is made up of two criteria:\r\n\r\n1.\tFind all classes with custom **@CustomAnnotate** annotation\r\n\r\n - This annotation is placed exclusively on Repository springs; the result of this research will exclusively cite Repositories\r\n\r\n2.\tFind a text corresponding to the name of an &lt;code&gt;org.springframework.data.repository.CrudRepository&lt;/code&gt; method; for example **findById**\r\n  - The result of this research will cite services calling for Repositories\r\n\r\nI can&#39;t combine the two searches at the same time. i.e. the Repositories called to perform a findById (search 2) must have the annotation @CustomAnnotate (search 1).\r\n\r\nI tried this: `$REPO$.$METHOD$($VARS$)`\r\n\r\nWith:\r\n\r\n- `$REPO$` = a reference filter on the first reference search which has been recorded.\r\n- `$METHOD$` = a type filter with &quot;findById&quot;\r\n- `$VAR$` = [0, ]\r\n\r\nThe two criteria do not work together into my research, but they work independently.\r\n\r\nWhat solution is possible? With a script?","title":"Structural Search IntelliJ IDEA","body":"<p>I want to perform a structural search from IntelliJ IDEA.\nMy research is made up of two criteria:</p>\n<ol>\n<li>Find all classes with custom <strong>@CustomAnnotate</strong> annotation</li>\n</ol>\n<ul>\n<li>This annotation is placed exclusively on Repository springs; the result of this research will exclusively cite Repositories</li>\n</ul>\n<ol start=\"2\">\n<li>Find a text corresponding to the name of an <code>org.springframework.data.repository.CrudRepository</code> method; for example <strong>findById</strong></li>\n</ol>\n<ul>\n<li>The result of this research will cite services calling for Repositories</li>\n</ul>\n<p>I can't combine the two searches at the same time. i.e. the Repositories called to perform a findById (search 2) must have the annotation @CustomAnnotate (search 1).</p>\n<p>I tried this: <code>$REPO$.$METHOD$($VARS$)</code></p>\n<p>With:</p>\n<ul>\n<li><code>$REPO$</code> = a reference filter on the first reference search which has been recorded.</li>\n<li><code>$METHOD$</code> = a type filter with &quot;findById&quot;</li>\n<li><code>$VAR$</code> = [0, ]</li>\n</ul>\n<p>The two criteria do not work together into my research, but they work independently.</p>\n<p>What solution is possible? With a script?</p>\n"},{"tags":["java","file-io","listener","event-listener"],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640570484,"creation_date":1640570484,"answer_id":70491098,"question_id":70489809,"body_markdown":"You implement &quot;push&quot; by running a `take()` loop in its own thread. On each `take()` you start a new thread to process the changed lines.\r\n\r\nTo determine what changed, keep track of the file length each time... Changed data is at offset `previousSize` for length `newSize - previousSize`.\r\n\r\nYou&#39;ll probably want some kind of event coordination to prevent starting the process again before the previous instance completes.  That could happen if there are multiple changes in a very short period of time.","title":"Listen to file modification and identify newly added lines in java","body":"<p>You implement &quot;push&quot; by running a <code>take()</code> loop in its own thread. On each <code>take()</code> you start a new thread to process the changed lines.</p>\n<p>To determine what changed, keep track of the file length each time... Changed data is at offset <code>previousSize</code> for length <code>newSize - previousSize</code>.</p>\n<p>You'll probably want some kind of event coordination to prevent starting the process again before the previous instance completes.  That could happen if there are multiple changes in a very short period of time.</p>\n"}],"owner":{"account_id":13150141,"reputation":137,"user_id":9499019,"display_name":"Nader Kahwaji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640570484,"creation_date":1640552198,"question_id":70489809,"body_markdown":"I&#39;m building a library (java 8) that needs to listen to the modifications of several files. The library needs parse the newly added lines in the corresponding files each time a modification occurs.\r\n\r\nThe files are like event logs. So they are always appended (no deletion or overriding)\r\n\r\nI have two questions:\r\n\r\n\r\n 1. Is there a way to know what are the newly added lines in a file when its modified? (is there a functionality in java NIO to identify this?)\r\n\r\n 2. I&#39;ve seen solutions in NIO package (Watch Service API) that can be used as poll based mechanism to listen to file modification. Is there another native solution to make it push based? so that I don&#39;t need to keep polling between intervals of time.\r\n\r\nI&#39;m mainly looking for a native solution but third party solution suggestion are also appreciated \r\n\r\nthanks\r\n","title":"Listen to file modification and identify newly added lines in java","body":"<p>I'm building a library (java 8) that needs to listen to the modifications of several files. The library needs parse the newly added lines in the corresponding files each time a modification occurs.</p>\n<p>The files are like event logs. So they are always appended (no deletion or overriding)</p>\n<p>I have two questions:</p>\n<ol>\n<li><p>Is there a way to know what are the newly added lines in a file when its modified? (is there a functionality in java NIO to identify this?)</p>\n</li>\n<li><p>I've seen solutions in NIO package (Watch Service API) that can be used as poll based mechanism to listen to file modification. Is there another native solution to make it push based? so that I don't need to keep polling between intervals of time.</p>\n</li>\n</ol>\n<p>I'm mainly looking for a native solution but third party solution suggestion are also appreciated</p>\n<p>thanks</p>\n"},{"tags":["java","maven","minecraft"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1640544921,"post_id":70489030,"comment_id":124602928,"body_markdown":"Can you please make an example project on github....","body":"Can you please make an example project on github...."},{"owner":{"account_id":18446687,"reputation":15,"user_id":13437790,"display_name":"JXc"},"score":0,"creation_date":1640545387,"post_id":70489030,"comment_id":124603033,"body_markdown":"Of course here: https://github.com/JXCoding/MavenTests","body":"Of course here: <a href=\"https://github.com/JXCoding/MavenTests\" rel=\"nofollow noreferrer\">github.com/JXCoding/MavenTests</a>"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1640554635,"post_id":70489030,"comment_id":124604734,"body_markdown":"share us the exact used commands, also your os, java and maven version. You project has several errors","body":"share us the exact used commands, also your os, java and maven version. You project has several errors"}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640568858,"creation_date":1640568858,"answer_id":70490992,"question_id":70489030,"body_markdown":"**Usually** [maven reactor](https://maven.apache.org/guides/mini/guide-multiple-modules.html) is used for:\r\n\r\n- Collects all the available modules to build\r\n- Sorts the projects into the correct build order\r\n- Builds the selected projects in order\r\n\r\n**And not to be as parent of another projects**. If you need to centralize libraries , versions, etc create a extra project with `&lt;packaging&gt;pom&lt;/packaging&gt;`.\r\n\r\n## Solution\r\n\r\n- Remove the **parent** from your submodules\r\n- Add this to all of your submodules which requires spigot jars\r\n\r\n```\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;elmakers-repo&lt;/id&gt;\r\n      &lt;url&gt;https://maven.elmakers.com/repository/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nWIth these fixes, I was able to build your git repository with `mvn clean package`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n## Spigot notes\r\n\r\n- offical git repository don&#39;t build https://hub.spigotmc.org/stash/projects/SPIGOT\r\n- Official repository don&#39;t works: https://www.spigotmc.org/wiki/spigot-maven/\r\n- Only this repository works https://maven.elmakers.com/repository/org/spigotmc/spigot/\r\n\r\n  [1]: https://i.stack.imgur.com/lw4my.png","title":"Can the submodules use the reactor as parent in Maven?","body":"<p><strong>Usually</strong> <a href=\"https://maven.apache.org/guides/mini/guide-multiple-modules.html\" rel=\"nofollow noreferrer\">maven reactor</a> is used for:</p>\n<ul>\n<li>Collects all the available modules to build</li>\n<li>Sorts the projects into the correct build order</li>\n<li>Builds the selected projects in order</li>\n</ul>\n<p><strong>And not to be as parent of another projects</strong>. If you need to centralize libraries , versions, etc create a extra project with <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code>.</p>\n<h2>Solution</h2>\n<ul>\n<li>Remove the <strong>parent</strong> from your submodules</li>\n<li>Add this to all of your submodules which requires spigot jars</li>\n</ul>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;elmakers-repo&lt;/id&gt;\n      &lt;url&gt;https://maven.elmakers.com/repository/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>WIth these fixes, I was able to build your git repository with <code>mvn clean package</code></p>\n<p><a href=\"https://i.stack.imgur.com/lw4my.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lw4my.png\" alt=\"enter image description here\" /></a></p>\n<h2>Spigot notes</h2>\n<ul>\n<li>offical git repository don't build <a href=\"https://hub.spigotmc.org/stash/projects/SPIGOT\" rel=\"nofollow noreferrer\">https://hub.spigotmc.org/stash/projects/SPIGOT</a></li>\n<li>Official repository don't works: <a href=\"https://www.spigotmc.org/wiki/spigot-maven/\" rel=\"nofollow noreferrer\">https://www.spigotmc.org/wiki/spigot-maven/</a></li>\n<li>Only this repository works <a href=\"https://maven.elmakers.com/repository/org/spigotmc/spigot/\" rel=\"nofollow noreferrer\">https://maven.elmakers.com/repository/org/spigotmc/spigot/</a></li>\n</ul>\n"}],"owner":{"account_id":18446687,"reputation":15,"user_id":13437790,"display_name":"JXc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70490992,"answer_count":1,"score":0,"last_activity_date":1640568858,"creation_date":1640544625,"question_id":70489030,"body_markdown":"Hello Stackoverflow community,\r\n\r\ni recently started working with maven to see what is possible or better to see if its easier to have a dependency manager or including everything to your own.\r\n\r\n## Basic Informations\r\n\r\n**Repository**\r\n\r\nhttps://github.com/JXCoding/MavenTests\r\n\r\n**Reactor** \r\n\r\n    &lt;groupId&gt;de.jxson.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MavenTests&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;modules&gt;\r\n        &lt;module&gt;API&lt;/module&gt;\r\n        &lt;module&gt;v1_18_R1&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n**submodule API**\r\n\r\n    &lt;parent&gt;\r\n      &lt;artifactId&gt;MavenTests&lt;/artifactId&gt;\r\n      &lt;groupId&gt;de.jxson.maven&lt;/groupId&gt;\r\n      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;artifactId&gt;API&lt;/artifactId&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    ...\r\n    &lt;/dependencies&gt;\r\n\r\nWhich depends of reactor as parent\r\n\r\n**submodule v1_18_R1**\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;MavenTests&lt;/artifactId&gt;\r\n        &lt;groupId&gt;de.jxson.maven&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;v1_18_R1&lt;/artifactId&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;de.jxson.maven&lt;/groupId&gt;\r\n          &lt;artifactId&gt;API&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nWhich depends of API and reactor as parent\r\n\r\n## My Problem is:\r\n\r\nWhen I build with `mvn clean package`, there is an error on my module v1_18_R1 in which a class from API is not found.\r\n\r\n## Questions: \r\n\r\nWhy a class is not found if the required dependency is already added?","title":"Can the submodules use the reactor as parent in Maven?","body":"<p>Hello Stackoverflow community,</p>\n<p>i recently started working with maven to see what is possible or better to see if its easier to have a dependency manager or including everything to your own.</p>\n<h2>Basic Informations</h2>\n<p><strong>Repository</strong></p>\n<p><a href=\"https://github.com/JXCoding/MavenTests\" rel=\"nofollow noreferrer\">https://github.com/JXCoding/MavenTests</a></p>\n<p><strong>Reactor</strong></p>\n<pre><code>&lt;groupId&gt;de.jxson.maven&lt;/groupId&gt;\n&lt;artifactId&gt;MavenTests&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n&lt;modules&gt;\n    &lt;module&gt;API&lt;/module&gt;\n    &lt;module&gt;v1_18_R1&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n<p><strong>submodule API</strong></p>\n<pre><code>&lt;parent&gt;\n  &lt;artifactId&gt;MavenTests&lt;/artifactId&gt;\n  &lt;groupId&gt;de.jxson.maven&lt;/groupId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;API&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n...\n&lt;/dependencies&gt;\n</code></pre>\n<p>Which depends of reactor as parent</p>\n<p><strong>submodule v1_18_R1</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;artifactId&gt;MavenTests&lt;/artifactId&gt;\n    &lt;groupId&gt;de.jxson.maven&lt;/groupId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n&lt;artifactId&gt;v1_18_R1&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;de.jxson.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;API&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Which depends of API and reactor as parent</p>\n<h2>My Problem is:</h2>\n<p>When I build with <code>mvn clean package</code>, there is an error on my module v1_18_R1 in which a class from API is not found.</p>\n<h2>Questions:</h2>\n<p>Why a class is not found if the required dependency is already added?</p>\n"},{"tags":["java","android-studio","retrofit","okhttp"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1640567269,"post_id":70490691,"comment_id":124606441,"body_markdown":"Is your question about the weird characters or the fact that `onResponse` is never invoked?  (The weird characters are normal and expected;  audio data is not readable text.)","body":"Is your question about the weird characters or the fact that <code>onResponse</code> is never invoked?  (The weird characters are normal and expected;  audio data is not readable text.)"},{"owner":{"account_id":15718606,"reputation":704,"user_id":11342139,"display_name":"Angel Hadzhiev"},"score":0,"creation_date":1640568820,"post_id":70490691,"comment_id":124606606,"body_markdown":"@VGR It would be why the onResponse is never invoked.","body":"@VGR It would be why the onResponse is never invoked."},{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":0,"creation_date":1640579100,"post_id":70490691,"comment_id":124607760,"body_markdown":"@AngelHadzhiev What do you mean it never reaches `onResponse` part although it returns you a 200 success? HTTP response code can only be checked inside `onResponse` callback. if you want to check what was sent from the server you need to check `response.body()`.","body":"@AngelHadzhiev What do you mean it never reaches <code>onResponse</code> part although it returns you a 200 success? HTTP response code can only be checked inside <code>onResponse</code> callback. if you want to check what was sent from the server you need to check <code>response.body()</code>."},{"owner":{"account_id":15718606,"reputation":704,"user_id":11342139,"display_name":"Angel Hadzhiev"},"score":0,"creation_date":1640600184,"post_id":70490691,"comment_id":124612195,"body_markdown":"@YaMiN it never prints response.body()","body":"@YaMiN it never prints response.body()"},{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":0,"creation_date":1640678131,"post_id":70490691,"comment_id":124629942,"body_markdown":"@AngelHadzhiev Then maybe no response body is sent from the server.","body":"@AngelHadzhiev Then maybe no response body is sent from the server."}],"owner":{"account_id":15718606,"reputation":704,"user_id":11342139,"display_name":"Angel Hadzhiev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1640568846,"creation_date":1640563622,"question_id":70490691,"body_markdown":"I am making a post request with an audio file uploaded with a multipart/form-data in Android Studio and it successfully gives me a 200 response but I am unable to print the response. It gives a strange output coming from OkHttp. \r\n\r\nOkHTpp output: \r\n\r\n        I/okhttp.OkHttpClient: --&gt; POST https://zenya-image-class.herokuapp.com/getText\r\n        Content-Type: multipart/form-data; boundary=169ee4dc-0587-4a82-85a7-fe5af0c3a5e9\r\n    I/okhttp.OkHttpClient: Content-Length: 753233\r\n    I/okhttp.OkHttpClient: --169ee4dc-0587-4a82-85a7-fe5af0c3a5e9\r\n        Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;AudioRecording.wav&quot;\r\n        Content-Type: audio/*\r\n        Content-Length: 753024\r\n        RIFFx}WAVEfmt DdataT} \r\n        // IT IS LONGER THAN THIS BUT IT IS THE SAME CHARACTERS TILL THE END\r\n\r\n\r\nHere is my post request: \r\n\r\n        File file = new File(filename);\r\n        RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;audio/*&quot;), file);\r\n       \r\n        MultipartBody.Part body =\r\n                MultipartBody.Part.createFormData(&quot;file&quot;, file.getName(), requestBody);\r\n\r\n        speechApi.postWavAudio(body)\r\n                .enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                    @Override\r\n                    public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                        Log.d(TAG, &quot;onResponse response:: &quot; + response);\r\n   \r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                        Log.d(TAG, &quot;onFailure error:: &quot; + t);\r\n                    }\r\n                });\r\n\r\nIt never reaches the onResponse part although it returns me a 200 Success. Also, it does work in Postman. ","title":"Why does `onResponse` never gets invoked?","body":"<p>I am making a post request with an audio file uploaded with a multipart/form-data in Android Studio and it successfully gives me a 200 response but I am unable to print the response. It gives a strange output coming from OkHttp.</p>\n<p>OkHTpp output:</p>\n<pre><code>    I/okhttp.OkHttpClient: --&gt; POST https://zenya-image-class.herokuapp.com/getText\n    Content-Type: multipart/form-data; boundary=169ee4dc-0587-4a82-85a7-fe5af0c3a5e9\nI/okhttp.OkHttpClient: Content-Length: 753233\nI/okhttp.OkHttpClient: --169ee4dc-0587-4a82-85a7-fe5af0c3a5e9\n    Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;AudioRecording.wav&quot;\n    Content-Type: audio/*\n    Content-Length: 753024\n    RIFFx}WAVEfmt DdataT} \n    // IT IS LONGER THAN THIS BUT IT IS THE SAME CHARACTERS TILL THE END\n</code></pre>\n<p>Here is my post request:</p>\n<pre><code>    File file = new File(filename);\n    RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;audio/*&quot;), file);\n   \n    MultipartBody.Part body =\n            MultipartBody.Part.createFormData(&quot;file&quot;, file.getName(), requestBody);\n\n    speechApi.postWavAudio(body)\n            .enqueue(new Callback&lt;ResponseBody&gt;() {\n                @Override\n                public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n                    Log.d(TAG, &quot;onResponse response:: &quot; + response);\n\n\n                }\n\n                @Override\n                public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n                    Log.d(TAG, &quot;onFailure error:: &quot; + t);\n                }\n            });\n</code></pre>\n<p>It never reaches the onResponse part although it returns me a 200 Success. Also, it does work in Postman.</p>\n"},{"tags":["java","json","tomcat","jboss","resteasy"],"comments":[{"owner":{"account_id":214845,"reputation":2329,"user_id":469077,"display_name":"eiden"},"score":0,"creation_date":1346142386,"post_id":12142712,"comment_id":16264724,"body_markdown":"http://docs.jboss.org/resteasy/docs/2.3.3.Final/userguide/html_single/index.html#JAXB_Map","body":"<a href=\"http://docs.jboss.org/resteasy/docs/2.3.3.Final/userguide/html_single/index.html#JAXB_Map\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/2.3.3.Final/userguide/html_sing&zwnj;&#8203;le/&hellip;</a>"},{"owner":{"account_id":216888,"reputation":11757,"user_id":472393,"accept_rate":80,"display_name":"Flavio"},"score":0,"creation_date":1346225114,"post_id":12142712,"comment_id":16293520,"body_markdown":"Did you try directly returning `Map&lt;String, String&gt;`, instead of a `Response` object?","body":"Did you try directly returning <code>Map&lt;String, String&gt;</code>, instead of a <code>Response</code> object?"},{"owner":{"account_id":216316,"reputation":8480,"user_id":471481,"accept_rate":100,"display_name":"Andrei Sfat"},"score":0,"creation_date":1346225451,"post_id":12142712,"comment_id":16293660,"body_markdown":"this might help: https://community.jboss.org/thread/191022?_sscc=t","body":"this might help: <a href=\"https://community.jboss.org/thread/191022?_sscc=t\" rel=\"nofollow noreferrer\">community.jboss.org/thread/191022?_sscc=t</a>"},{"owner":{"account_id":1778999,"reputation":133,"user_id":1622185,"accept_rate":11,"display_name":"tun_eng"},"score":0,"creation_date":1346323245,"post_id":12142712,"comment_id":16330023,"body_markdown":"@ Flavio : yes I tried to return directly Map&lt;String, String&gt; instead of Response, but I had the same problem.","body":"@ Flavio : yes I tried to return directly Map&lt;String, String&gt; instead of Response, but I had the same problem."},{"owner":{"account_id":1778999,"reputation":133,"user_id":1622185,"accept_rate":11,"display_name":"tun_eng"},"score":1,"creation_date":1346323517,"post_id":12142712,"comment_id":16330133,"body_markdown":"I **resolved** the problem in **Tomcat** by the modifications that I found in [this link](http://stackoverflow.com/questions/1900132/jax-rs-mapstring-string-to-json-without-the-overhead). The author wrote how he had recovered a map in JSON. **But I encounter always the same problem in JBOSS**","body":"I <b>resolved</b> the problem in <b>Tomcat</b> by the modifications that I found in <a href=\"http://stackoverflow.com/questions/1900132/jax-rs-mapstring-string-to-json-without-the-overhead\">this link</a>. The author wrote how he had recovered a map in JSON. <b>But I encounter always the same problem in JBOSS</b>"},{"owner":{"account_id":1778999,"reputation":133,"user_id":1622185,"accept_rate":11,"display_name":"tun_eng"},"score":0,"creation_date":1346661919,"post_id":12142712,"comment_id":16412493,"body_markdown":"I have packaged the war and the jar that I had in an ear and deployed the ear in JBoss server. the problem has been resolved and I can now see the code JSON returned. Thanks to all :)","body":"I have packaged the war and the jar that I had in an ear and deployed the ear in JBoss server. the problem has been resolved and I can now see the code JSON returned. Thanks to all :)"},{"owner":{"account_id":78292,"reputation":776,"user_id":222926,"display_name":"Fabio Kenji"},"score":0,"creation_date":1367963848,"post_id":12142712,"comment_id":23561246,"body_markdown":"I think you may had been missing a JSON Resteasy provider in your classpath; you should package it with you war file. You could try setting this in your pom.xml file: http://search.maven.org/#artifactdetails%7Corg.jboss.resteasy%7Cresteasy-jackson-provider%7C2.0.1.GA%7Cjar","body":"I think you may had been missing a JSON Resteasy provider in your classpath; you should package it with you war file. You could try setting this in your pom.xml file: <a href=\"http://search.maven.org/#artifactdetails%7Corg.jboss.resteasy%7Cresteasy-jackson-provider%7C2.0.1.GA%7Cjar\" rel=\"nofollow noreferrer\">search.maven.org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2559743,"reputation":3088,"user_id":2220997,"display_name":"yntelectual"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437842771,"creation_date":1437842771,"answer_id":31628825,"question_id":12142712,"body_markdown":"How do you deploy your application? What application server do you use? What version of RestEasy? What RestEasy configuration have you specified(in web.xml or Application class)?\r\nResteasy relies on providers for serialization/deserialization of objects.\r\nThese providers need to contained in the classpath of your JAX-RS application. Depending on your build, application packaging and runtime environment these providers might be missing. Furthermore, discovery of providres can be configured, e.g. automatically discover all privoders in classpath, or only use those explicitly mentioned in conf.  Commonly used providers with application/json capabilities are _resteasy-jackson-provider_, _resteasy-jettison-provider_. Verify that at least one of these is available in your classpath.","title":"Could not find MessageBodyWriter for response object of type: java.util.LinkedHashMap of media type: application/json","body":"<p>How do you deploy your application? What application server do you use? What version of RestEasy? What RestEasy configuration have you specified(in web.xml or Application class)?\nResteasy relies on providers for serialization/deserialization of objects.\nThese providers need to contained in the classpath of your JAX-RS application. Depending on your build, application packaging and runtime environment these providers might be missing. Furthermore, discovery of providres can be configured, e.g. automatically discover all privoders in classpath, or only use those explicitly mentioned in conf.  Commonly used providers with application/json capabilities are <em>resteasy-jackson-provider</em>, <em>resteasy-jettison-provider</em>. Verify that at least one of these is available in your classpath.</p>\n"}],"owner":{"account_id":1778999,"reputation":133,"user_id":1622185,"accept_rate":11,"display_name":"tun_eng"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10756,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1640567160,"creation_date":1346073316,"question_id":12142712,"body_markdown":"I have this REST service that returns JSON code : \r\n\r\n    @GET\r\n    @Path(&quot;/mypath&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response getS() {\r\n        Map&lt;String, String&gt; map = new LinkedHashMap&lt;String, String&gt;();\r\n\r\n        map.put(key1, val1);\r\n        map.put(key2, val2);\r\n\r\n        return Response.ok(map, MediaType.APPLICATION_JSON).build();\r\n    }\r\n\r\nThis service is deployed in a Tomcat server. I am using RESTeasy as framework. When trying to access the service, I encounter this:\r\n\r\n&gt; Could not find MessageBodyWriter for response object of type:\r\n&gt; java.util.LinkedHashMap of media type: application/json.\r\n\r\nI didn&#39;t understand what is the problem.\r\n\r\nThanks in advance","title":"Could not find MessageBodyWriter for response object of type: java.util.LinkedHashMap of media type: application/json","body":"<p>I have this REST service that returns JSON code : </p>\n\n<pre><code>@GET\n@Path(\"/mypath\")\n@Produces(MediaType.APPLICATION_JSON)\npublic Response getS() {\n    Map&lt;String, String&gt; map = new LinkedHashMap&lt;String, String&gt;();\n\n    map.put(key1, val1);\n    map.put(key2, val2);\n\n    return Response.ok(map, MediaType.APPLICATION_JSON).build();\n}\n</code></pre>\n\n<p>This service is deployed in a Tomcat server. I am using RESTeasy as framework. When trying to access the service, I encounter this:</p>\n\n<blockquote>\n  <p>Could not find MessageBodyWriter for response object of type:\n  java.util.LinkedHashMap of media type: application/json.</p>\n</blockquote>\n\n<p>I didn't understand what is the problem.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","macos","swing"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640562822,"post_id":70490634,"comment_id":124605941,"body_markdown":"[Search Stack Overflow](https://duckduckgo.com/?q=site%3Astackoverflow.com+java+mac+app+icon&amp;t=ipad&amp;ia=web) before posting.","body":"<a href=\"https://duckduckgo.com/?q=site%3Astackoverflow.com+java+mac+app+icon&amp;t=ipad&amp;ia=web\" rel=\"nofollow noreferrer\">Search Stack Overflow</a> before posting."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640563044,"post_id":70490634,"comment_id":124605972,"body_markdown":"[*jpackage*](https://openjdk.java.net/jeps/392) tool is likely the modern approach.","body":"<a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\"><i>jpackage</i></a> tool is likely the modern approach."}],"owner":{"account_id":18891832,"reputation":1,"user_id":16714410,"display_name":"An Apple"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640562852,"answer_count":0,"score":0,"last_activity_date":1640562956,"creation_date":1640562674,"question_id":70490634,"body_markdown":"I&#39;m new to the Java Swing Package and I am trying to build a basic application. I want to change the *dock icon on MacOS* from the basic Java logo to my own and I tried using the code below but nothing changes. And this is the [dock icons][1]. I&#39;m using MacOS 12.0.1 and Java SE 17.\r\n\r\n    var image = new ImageIcon(&quot;Content.png&quot;);\r\n    frame.setIconImage(image.getImage());\r\nCan anyone help?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aF8Eh.png","title":"Set Java Swing Dock Icon on Mac","body":"<p>I'm new to the Java Swing Package and I am trying to build a basic application. I want to change the <em>dock icon on MacOS</em> from the basic Java logo to my own and I tried using the code below but nothing changes. And this is the <a href=\"https://i.stack.imgur.com/aF8Eh.png\" rel=\"nofollow noreferrer\">dock icons</a>. I'm using MacOS 12.0.1 and Java SE 17.</p>\n<pre><code>var image = new ImageIcon(&quot;Content.png&quot;);\nframe.setIconImage(image.getImage());\n</code></pre>\n<p>Can anyone help?</p>\n"},{"tags":["java","sql","database","h2"],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571410972,"creation_date":1571410972,"answer_id":58453504,"question_id":58453106,"body_markdown":"You really should provide a complete stack trace and not just the error message in such questions.\r\n\r\nAnd message that you see is not a compilation error.\r\n\r\nUsually such message means that your database is corrupted. If you don&#39;t need any data from it, you can simply delete all its files and re-create it from the scratch.\r\n\r\nIf you can open the database from some tool, but cannot open it from your application, check the versions of H2 that are used in both places and align them. You can export the database in version that works to an SQL script with `SCRIPT TO &#39;filename.sql&#39;` command and use that script to populate the data into new database to make sure that it isn&#39;t damaged (with the version that you prefer).","title":"How to fix: Embedded H2 Database &quot;NonTransientError: Unable to read the page at position&quot; error?","body":"<p>You really should provide a complete stack trace and not just the error message in such questions.</p>\n\n<p>And message that you see is not a compilation error.</p>\n\n<p>Usually such message means that your database is corrupted. If you don't need any data from it, you can simply delete all its files and re-create it from the scratch.</p>\n\n<p>If you can open the database from some tool, but cannot open it from your application, check the versions of H2 that are used in both places and align them. You can export the database in version that works to an SQL script with <code>SCRIPT TO 'filename.sql'</code> command and use that script to populate the data into new database to make sure that it isn't damaged (with the version that you prefer).</p>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1573314515,"creation_date":1573314515,"answer_id":58780872,"question_id":58453106,"body_markdown":"https://github.com/h2database/h2database/issues/2078\r\nyou should use the same driver, so reading it with 1.4.200 (current spring data version) is not possible after modification with 1.4.196 (used by IDEA). So mine crash scenario was open db in IDEA with driver 1.4.196 while spring application code used 1.4.200. So it will not start again. You can declare 1.4.196 version in pom.xml for your app but it looks like that you will be bounded to this version and I don&#39;t know how you can completely repair your db.","title":"How to fix: Embedded H2 Database &quot;NonTransientError: Unable to read the page at position&quot; error?","body":"<p><a href=\"https://github.com/h2database/h2database/issues/2078\" rel=\"noreferrer\">https://github.com/h2database/h2database/issues/2078</a>\nyou should use the same driver, so reading it with 1.4.200 (current spring data version) is not possible after modification with 1.4.196 (used by IDEA). So mine crash scenario was open db in IDEA with driver 1.4.196 while spring application code used 1.4.200. So it will not start again. You can declare 1.4.196 version in pom.xml for your app but it looks like that you will be bounded to this version and I don't know how you can completely repair your db.</p>\n"},{"tags":[],"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1577401059,"creation_date":1577401059,"answer_id":59494267,"question_id":58453106,"body_markdown":"As already noted by @Yura , you need to ensure that all your code base and all your tools use the same version of the driver, be it 1.4.196 or 1.4.200.\r\n\r\nNext, if there was nothing valuable in your db, you can safely drop the db file, and it will be re-created again.\r\n\r\nIf you had some valuable data and you have no backup, then getting the db repaired may become a quest, not necessarily successful...\r\n\r\nAnd if you have a backup, then a procedure of &quot;backup-to-sql-using-196&quot; and &quot;restore-from-sql-using-200&quot; is most likely to do the job for you, see http://www.h2database.com/html/tutorial.html#upgrade_backup_restore ...","title":"How to fix: Embedded H2 Database &quot;NonTransientError: Unable to read the page at position&quot; error?","body":"<p>As already noted by @Yura , you need to ensure that all your code base and all your tools use the same version of the driver, be it 1.4.196 or 1.4.200.</p>\n\n<p>Next, if there was nothing valuable in your db, you can safely drop the db file, and it will be re-created again.</p>\n\n<p>If you had some valuable data and you have no backup, then getting the db repaired may become a quest, not necessarily successful...</p>\n\n<p>And if you have a backup, then a procedure of \"backup-to-sql-using-196\" and \"restore-from-sql-using-200\" is most likely to do the job for you, see <a href=\"http://www.h2database.com/html/tutorial.html#upgrade_backup_restore\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/tutorial.html#upgrade_backup_restore</a> ...</p>\n"},{"tags":[],"owner":{"account_id":14045720,"reputation":96,"user_id":10146036,"display_name":"Soundous Bahri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596093704,"creation_date":1596093704,"answer_id":63168108,"question_id":58453106,"body_markdown":"First of all you have to keep a copy of your database somewhere safe.\r\n\r\nCopy a fresh copy to your project to avoid any corruption, make sure you don&#39;t try to open it using inteliJ.\r\n\r\nGo to datasources and drivers -&gt;Drivers -&gt; H2 -&gt;Driver files, change it to 1.4.196.\r\nCreate a new datasource of type h2 and fill in the fields \r\n\r\nuser: &quot;sa&quot;\r\n\r\npassword:&quot;&quot; (empty)\r\n\r\nurl is in this form (path to your database file)\r\n\r\n    jdbc:h2:file:D:\\Downloads\\loans\\loans\\Database\r\n\r\nthen click on test connection and it should show a green message. Apply and close.\r\n\r\nRight click on your database in the database view in the editor, then &quot;Open query console&quot;. Run this line (link where you want to dump your database)\r\n\r\n    SCRIPT TO &#39;D:\\Downloads\\loans\\loans\\db-dump.sql&#39;\r\n\r\nCreate a new database file (Test.mv.database), follow the previous steps and change the driver version back to 1.4.200. Create a new datasource with the same steps this time linking to your new database\r\n\r\n     jdbc:h2:file:D:\\Downloads\\loans\\loans\\Test\r\n\r\nTest the connection, Apply and close.\r\n\r\nOpen the query console and copy paste the script from db-dump.sql and run it. Right click on the database in the database view and click &quot;Refresh&quot;. You should see the data. Right click again and click &quot;Disconnect&quot;.\r\n\r\nMake sure your application.properties file is pointing to the correct database(Test) and run your application.\r\n \r\n\r\n ","title":"How to fix: Embedded H2 Database &quot;NonTransientError: Unable to read the page at position&quot; error?","body":"<p>First of all you have to keep a copy of your database somewhere safe.</p>\n<p>Copy a fresh copy to your project to avoid any corruption, make sure you don't try to open it using inteliJ.</p>\n<p>Go to datasources and drivers -&gt;Drivers -&gt; H2 -&gt;Driver files, change it to 1.4.196.\nCreate a new datasource of type h2 and fill in the fields</p>\n<p>user: &quot;sa&quot;</p>\n<p>password:&quot;&quot; (empty)</p>\n<p>url is in this form (path to your database file)</p>\n<pre><code>jdbc:h2:file:D:\\Downloads\\loans\\loans\\Database\n</code></pre>\n<p>then click on test connection and it should show a green message. Apply and close.</p>\n<p>Right click on your database in the database view in the editor, then &quot;Open query console&quot;. Run this line (link where you want to dump your database)</p>\n<pre><code>SCRIPT TO 'D:\\Downloads\\loans\\loans\\db-dump.sql'\n</code></pre>\n<p>Create a new database file (Test.mv.database), follow the previous steps and change the driver version back to 1.4.200. Create a new datasource with the same steps this time linking to your new database</p>\n<pre><code> jdbc:h2:file:D:\\Downloads\\loans\\loans\\Test\n</code></pre>\n<p>Test the connection, Apply and close.</p>\n<p>Open the query console and copy paste the script from db-dump.sql and run it. Right click on the database in the database view and click &quot;Refresh&quot;. You should see the data. Right click again and click &quot;Disconnect&quot;.</p>\n<p>Make sure your application.properties file is pointing to the correct database(Test) and run your application.</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640562228,"creation_date":1639644652,"answer_id":70376193,"question_id":58453106,"body_markdown":"I&#39;ve reproduced the same issue:\r\n\r\n    java.lang.IllegalStateException: Unable to read the page at position\r\n\r\n[![enter image description here][1]][1]\r\n\r\nwhile connecting to `H2` db using `Data Source` via connection `URL`:\r\n\r\n    jdbc:h2:file:./data/testdb;DB_CLOSE_ON_EXIT=FALSE;AUTO_SERVER=TRUE\r\n\r\nusing dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.197&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAfter some investigations the way how to solve the problem was found.\r\n\r\n**Solution:**\r\n\r\n1) So, firstly, I changed version of dependency in `POM` to:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.200&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n2) Secondly, fully recreated `Data Source` configuration with the same connection `URL`:\r\n\r\n&gt;     jdbc:h2:file:./data/testdb;DB_CLOSE_ON_EXIT=FALSE;AUTO_SERVER=TRUE\r\n\r\n\r\nwith removing `Data Base` files for old driver (it&#39;ll be regenerated after new connection):\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n3) After recreation configuration in `Data Source` using new driver, checking connection and as result it works for me:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/usRN6.png\r\n  [2]: https://i.stack.imgur.com/rMU6P.png\r\n  [3]: https://i.stack.imgur.com/XZVij.png\r\n  [4]: https://i.stack.imgur.com/z06R1.png\r\n  [5]: https://i.stack.imgur.com/tIhgA.png","title":"How to fix: Embedded H2 Database &quot;NonTransientError: Unable to read the page at position&quot; error?","body":"<p>I've reproduced the same issue:</p>\n<pre><code>java.lang.IllegalStateException: Unable to read the page at position\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/usRN6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usRN6.png\" alt=\"enter image description here\" /></a></p>\n<p>while connecting to <code>H2</code> db using <code>Data Source</code> via connection <code>URL</code>:</p>\n<pre><code>jdbc:h2:file:./data/testdb;DB_CLOSE_ON_EXIT=FALSE;AUTO_SERVER=TRUE\n</code></pre>\n<p>using dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.197&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>After some investigations the way how to solve the problem was found.</p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li><p>So, firstly, I changed version of dependency in <code>POM</code> to:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n     &lt;artifactId&gt;h2&lt;/artifactId&gt;\n     &lt;version&gt;1.4.200&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Secondly, fully recreated <code>Data Source</code> configuration with the same connection <code>URL</code>:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>jdbc:h2:file:./data/testdb;DB_CLOSE_ON_EXIT=FALSE;AUTO_SERVER=TRUE\n</code></pre>\n</blockquote>\n<p>with removing <code>Data Base</code> files for old driver (it'll be regenerated after new connection):</p>\n<p><a href=\"https://i.stack.imgur.com/z06R1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z06R1.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>After recreation configuration in <code>Data Source</code> using new driver, checking connection and as result it works for me:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/tIhgA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tIhgA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8785961,"reputation":171,"user_id":6567891,"display_name":"Bablu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640156630,"creation_date":1640156630,"answer_id":70445336,"question_id":58453106,"body_markdown":"If you don&#39;t want to alter pom or change h2 version then try deleting the file:\r\n1. userDatabase.mv.db\r\n2. userDatabase.trace.db  \r\n\r\nYou may find these files inside dir &quot;D:/trant/Documents/Java Practice/Order A Car2/res/&quot;.  \r\nBut before delete ensure that there is no active connection to the db from anywhere else. If not sure then delete just after restarting the machine.\r\n\r\nAfter all done, try running the code again. Those files will be re-generated by pom\r\n\r\n","title":"How to fix: Embedded H2 Database &quot;NonTransientError: Unable to read the page at position&quot; error?","body":"<p>If you don't want to alter pom or change h2 version then try deleting the file:</p>\n<ol>\n<li>userDatabase.mv.db</li>\n<li>userDatabase.trace.db</li>\n</ol>\n<p>You may find these files inside dir &quot;D:/trant/Documents/Java Practice/Order A Car2/res/&quot;.<br />\nBut before delete ensure that there is no active connection to the db from anywhere else. If not sure then delete just after restarting the machine.</p>\n<p>After all done, try running the code again. Those files will be re-generated by pom</p>\n"}],"owner":{"account_id":3416265,"reputation":416,"user_id":2865064,"accept_rate":80,"display_name":"Suede"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16881,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":6,"score":20,"last_activity_date":1640562228,"creation_date":1571409677,"question_id":58453106,"body_markdown":"I am creating a JavaFX program with an embedded H2 database that will be used to handle user logins and passwords. Using Intellij Ultimate, I have a database that I can run from the toolbar. In addition, I am almost certain I have the correct JDBC driver and URL. The database runs fine from Intellij&#39;s database console. The error occurs when I try to access the database with Java code. I am using a database class to handle my database connection.\r\n\r\nI am receiving a `JdbcSQLNonTransientException`, General error:\r\n\r\n&gt; Illegal state exception: unable to read the page at position\r\n\r\nCaused by: java.lang.IllegalStateException: Unsupported type 17.\r\n\r\nThe line of code that is shown in my compiler, causing the error:\r\n`Connection conn = DriverManager.getConnection(DB_URL, &quot;sa&quot;, &quot;&quot;);`\r\n\r\nI have tried finding a similar issue everywhere but cannot find related problems. I have tried simplifying my class as much as possible to isolate the problem and simply establish a connection. I deleted my project and tried to start fresh. \r\n\r\nSimplified `DatabaseManager` class that produces the problem:\r\n\r\n```\r\npublic class DatabaseManager {\r\n    static final String JDBC_DRIVER = &quot;org.h2.Driver&quot;;\r\n    static final String DB_URL = &quot;jdbc:h2:D:/trant/Documents/Java Practice/Order A Car2/res/userDatabase&quot;;\r\n\r\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {\r\n        Class.forName(&quot;org.h2.Driver&quot;);\r\n        Connection conn = DriverManager.getConnection(DB_URL, &quot;sa&quot;, &quot;&quot;);\r\n        Statement st = conn.createStatement();\r\n        st.executeUpdate(&quot;SELECT * FROM JOBS&quot;);\r\n        conn.close();\r\n    }\r\n}\r\n```\r\n\r\nI expect to connect to an H2 database and retrieve data from the table &quot;JOBS&quot;. The code is not compiling with the above errors.\r\n\r\n**edit: If I use version `1.4.199` of H2 rather than `1.4.200`, the issue goes away. I found an almost identical problem here: https://github.com/h2database/h2database/issues/2078. This link has an identical stack trace to mine. I have yet to resolve the problem with version `1.4.200`**","title":"How to fix: Embedded H2 Database &quot;NonTransientError: Unable to read the page at position&quot; error?","body":"<p>I am creating a JavaFX program with an embedded H2 database that will be used to handle user logins and passwords. Using Intellij Ultimate, I have a database that I can run from the toolbar. In addition, I am almost certain I have the correct JDBC driver and URL. The database runs fine from Intellij's database console. The error occurs when I try to access the database with Java code. I am using a database class to handle my database connection.</p>\n\n<p>I am receiving a <code>JdbcSQLNonTransientException</code>, General error:</p>\n\n<blockquote>\n  <p>Illegal state exception: unable to read the page at position</p>\n</blockquote>\n\n<p>Caused by: java.lang.IllegalStateException: Unsupported type 17.</p>\n\n<p>The line of code that is shown in my compiler, causing the error:\n<code>Connection conn = DriverManager.getConnection(DB_URL, \"sa\", \"\");</code></p>\n\n<p>I have tried finding a similar issue everywhere but cannot find related problems. I have tried simplifying my class as much as possible to isolate the problem and simply establish a connection. I deleted my project and tried to start fresh. </p>\n\n<p>Simplified <code>DatabaseManager</code> class that produces the problem:</p>\n\n<pre><code>public class DatabaseManager {\n    static final String JDBC_DRIVER = \"org.h2.Driver\";\n    static final String DB_URL = \"jdbc:h2:D:/trant/Documents/Java Practice/Order A Car2/res/userDatabase\";\n\n    public static void main(String[] args) throws ClassNotFoundException, SQLException {\n        Class.forName(\"org.h2.Driver\");\n        Connection conn = DriverManager.getConnection(DB_URL, \"sa\", \"\");\n        Statement st = conn.createStatement();\n        st.executeUpdate(\"SELECT * FROM JOBS\");\n        conn.close();\n    }\n}\n</code></pre>\n\n<p>I expect to connect to an H2 database and retrieve data from the table \"JOBS\". The code is not compiling with the above errors.</p>\n\n<p><strong>edit: If I use version <code>1.4.199</code> of H2 rather than <code>1.4.200</code>, the issue goes away. I found an almost identical problem here: <a href=\"https://github.com/h2database/h2database/issues/2078\" rel=\"noreferrer\">https://github.com/h2database/h2database/issues/2078</a>. This link has an identical stack trace to mine. I have yet to resolve the problem with version <code>1.4.200</code></strong></p>\n"},{"tags":["java","algorithm","recursion","backtracking","recursive-backtracking"],"comments":[{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1640566334,"post_id":70490529,"comment_id":124606331,"body_markdown":"I think, you are going in right direction, let me add few points which may help you, after two calls for close you get the first result, which is added and returned immediately, now you have control back after close but there is nothing after it so it will return to previous close, where same will happen and it returns from there as well, now your control reaches back to open if (here you went into close first time).","body":"I think, you are going in right direction, let me add few points which may help you, after two calls for close you get the first result, which is added and returned immediately, now you have control back after close but there is nothing after it so it will return to previous close, where same will happen and it returns from there as well, now your control reaches back to open if (here you went into close first time)."},{"owner":{"account_id":1894993,"reputation":1129,"user_id":1712172,"display_name":"code_mechanic"},"score":0,"creation_date":1640566529,"post_id":70490529,"comment_id":124606350,"body_markdown":"Now, the second open has completed and corresponding close also executed so it will return and you will reach after first open call, which has waiting close call with params (1,0, &#39;(&#39; ) and so on...","body":"Now, the second open has completed and corresponding close also executed so it will return and you will reach after first open call, which has waiting close call with params (1,0, &#39;(&#39; ) and so on..."}],"owner":{"account_id":20059877,"reputation":153,"user_id":14706827,"display_name":"SomeoneLearning17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640560988,"creation_date":1640560988,"question_id":70490529,"body_markdown":"i&#39;m trying to understand a solution for the leetcode problem #22 where we generate parentheses recursively and I&#39;m stuck on where the function returns to after we find the first combination of parentheses\r\n\r\nthe question asks you to create all possible valid (open and close correctly) combinations of n-parentheses pairs. so for n=2 the answer is a list being = [ &quot;()()&quot;, &quot;(())&quot; ]\r\n\r\nthis is the code solution (credits: nick white):\r\n\r\n    class Solution {\r\n        \r\n        // first\r\n        public List&lt;String&gt; generateParenthesis(int n) {\r\n            List&lt;String&gt; output_arr = new ArrayList();\r\n            backtrack(output_arr, &quot;&quot;, 0, 0, n);\r\n            return output_arr;\r\n        }\r\n        \r\n        // backtracking recursive method\r\n        public void backtrack (List&lt;String&gt; output_arr, String current_string, int open, int closed, int max){\r\n            // base case\r\n            if (current_string.length() == max*2){\r\n                output_arr.add(current_string);\r\n                return;\r\n            }\r\n            // recursive\r\n            if (open &lt; max) backtrack(output_arr, current_string + &quot;(&quot;, open+1, closed, max);\r\n            if (closed &lt; open) backtrack(output_arr, current_string + &quot;)&quot;, open, closed+1, max);\r\n        }  \r\n    }\r\n\r\nthis is my interpretation of the recursive calls for an example case of n=2, but I&#39;m not sure this is correct:\r\n\r\n    /*\r\n    example - n = 2\r\n    \r\n    backtrack (output_arr, &quot;&quot;, 0, 0, 2)\r\n    \r\n    into method 2\r\n    \r\n    if (cs.length == 4) add to output arr &amp; return\r\n    if (open &lt; 2) backtrack (output_arr, &quot;(&quot;, 1, 0, 2 );     # A\r\n    if (closed &lt; open) backtrack \r\n    \r\n    into # A - backtrack (output_arr, &quot;(&quot;, 1, 0, 2 );\r\n    \r\n    if (cs.length == 4) add, return\r\n    if (open &lt; 2) backtrack (output_arr, &quot;((&quot;, 2, 0, 2 );    # B\r\n    if (closed &lt; open)   - do we come here after we fail to find anything in # H??? \r\n    \r\n        RETURNED HERE FROM # D - open = 1, closed = 0. closed &lt; open\r\n        backtrack ( output_arr, &quot;()&quot;, 1, 1, 2 )   # E \r\n        \r\n        into # E \r\n        \r\n        if (cs.length)\r\n        if (open &lt;2)  backtrack (output_arr, &quot;()(&quot;, 2, 1, 2)   # F\r\n        if (closed &lt; open) \r\n            after into # G, we return HERE! lets call this #H closed is not less than open (1 == 1) now where do we go to?\r\n        \r\n        into # F\r\n        \r\n        if (cs.length)\r\n        if (open &lt;2)\r\n        if (closed &lt; open)  backtrack (output_arr, &quot;()()&quot;, 2, 2, 2)  # G\r\n        \r\n        int # G\r\n        \r\n        if (cs.length)\r\n            output arr . add [ &quot;(())&quot;, &quot;()()&quot; ] \r\n            return  - WHERE TO ??\r\n    \r\n    into # B\r\n    \r\n    if (cs.length == 4) add, return\r\n    if (open &lt;2)\r\n    if (closed &lt; open)  backtrack (out_arr, &quot;(()&quot;, 2, 1, 2)   # C\r\n    \r\n    into # C\r\n    \r\n    if ( cs.length == 4) add, return\r\n    if (open &lt; 2)\r\n    if (closed &lt; open) backtrack (out_arr, &quot;(())&quot;, 2, 2, 2)    # D\r\n    \r\n    into # D\r\n    \r\n    if ( cs.length == 4) add, return: \r\n        output arr [&quot;(())&quot;]\r\n        return  -- WHERE DO WE RETURN TO?\r\n    \r\n    */\r\n\r\n","title":"issue understanding backtracking (recursion) in java","body":"<p>i'm trying to understand a solution for the leetcode problem #22 where we generate parentheses recursively and I'm stuck on where the function returns to after we find the first combination of parentheses</p>\n<p>the question asks you to create all possible valid (open and close correctly) combinations of n-parentheses pairs. so for n=2 the answer is a list being = [ &quot;()()&quot;, &quot;(())&quot; ]</p>\n<p>this is the code solution (credits: nick white):</p>\n<pre><code>class Solution {\n    \n    // first\n    public List&lt;String&gt; generateParenthesis(int n) {\n        List&lt;String&gt; output_arr = new ArrayList();\n        backtrack(output_arr, &quot;&quot;, 0, 0, n);\n        return output_arr;\n    }\n    \n    // backtracking recursive method\n    public void backtrack (List&lt;String&gt; output_arr, String current_string, int open, int closed, int max){\n        // base case\n        if (current_string.length() == max*2){\n            output_arr.add(current_string);\n            return;\n        }\n        // recursive\n        if (open &lt; max) backtrack(output_arr, current_string + &quot;(&quot;, open+1, closed, max);\n        if (closed &lt; open) backtrack(output_arr, current_string + &quot;)&quot;, open, closed+1, max);\n    }  \n}\n</code></pre>\n<p>this is my interpretation of the recursive calls for an example case of n=2, but I'm not sure this is correct:</p>\n<pre><code>/*\nexample - n = 2\n\nbacktrack (output_arr, &quot;&quot;, 0, 0, 2)\n\ninto method 2\n\nif (cs.length == 4) add to output arr &amp; return\nif (open &lt; 2) backtrack (output_arr, &quot;(&quot;, 1, 0, 2 );     # A\nif (closed &lt; open) backtrack \n\ninto # A - backtrack (output_arr, &quot;(&quot;, 1, 0, 2 );\n\nif (cs.length == 4) add, return\nif (open &lt; 2) backtrack (output_arr, &quot;((&quot;, 2, 0, 2 );    # B\nif (closed &lt; open)   - do we come here after we fail to find anything in # H??? \n\n    RETURNED HERE FROM # D - open = 1, closed = 0. closed &lt; open\n    backtrack ( output_arr, &quot;()&quot;, 1, 1, 2 )   # E \n    \n    into # E \n    \n    if (cs.length)\n    if (open &lt;2)  backtrack (output_arr, &quot;()(&quot;, 2, 1, 2)   # F\n    if (closed &lt; open) \n        after into # G, we return HERE! lets call this #H closed is not less than open (1 == 1) now where do we go to?\n    \n    into # F\n    \n    if (cs.length)\n    if (open &lt;2)\n    if (closed &lt; open)  backtrack (output_arr, &quot;()()&quot;, 2, 2, 2)  # G\n    \n    int # G\n    \n    if (cs.length)\n        output arr . add [ &quot;(())&quot;, &quot;()()&quot; ] \n        return  - WHERE TO ??\n\ninto # B\n\nif (cs.length == 4) add, return\nif (open &lt;2)\nif (closed &lt; open)  backtrack (out_arr, &quot;(()&quot;, 2, 1, 2)   # C\n\ninto # C\n\nif ( cs.length == 4) add, return\nif (open &lt; 2)\nif (closed &lt; open) backtrack (out_arr, &quot;(())&quot;, 2, 2, 2)    # D\n\ninto # D\n\nif ( cs.length == 4) add, return: \n    output arr [&quot;(())&quot;]\n    return  -- WHERE DO WE RETURN TO?\n\n*/\n</code></pre>\n"},{"tags":["java","nullpointerexception","java-8"],"comments":[{"owner":{"account_id":2985775,"reputation":3189,"user_id":2534648,"accept_rate":77,"display_name":"ooxi"},"score":4,"creation_date":1414070587,"post_id":26529091,"comment_id":41684742,"body_markdown":"[Optional](http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) is part of Java 8 but I don&#39;t know about the elvis operator","body":"<a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a> is part of Java 8 but I don&#39;t know about the elvis operator"},{"owner":{"account_id":412545,"reputation":5279,"user_id":785663,"accept_rate":75,"display_name":"mabi"},"score":5,"creation_date":1414070869,"post_id":26529091,"comment_id":41684920,"body_markdown":"Um, `?.` isn&#39;t what groovy calls the elvis operator. That would be `?:`.","body":"Um, <code>?.</code> isn&#39;t what groovy calls the elvis operator. That would be <code>?:</code>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1414071387,"post_id":26529091,"comment_id":41685293,"body_markdown":"&quot;Safe navigation&quot; operator. The Elvis operator is a shortened ternary where the result is either the item being operated on or an alternative if it&#39;s null/falsey.","body":"&quot;Safe navigation&quot; operator. The Elvis operator is a shortened ternary where the result is either the item being operated on or an alternative if it&#39;s null/falsey."},{"owner":{"account_id":4650598,"reputation":353,"user_id":3852752,"display_name":"user73362"},"score":0,"creation_date":1414071776,"post_id":26529091,"comment_id":41685541,"body_markdown":"thanks for clarifying, should I change the Title of the Question then?","body":"thanks for clarifying, should I change the Title of the Question then?"},{"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"score":0,"creation_date":1430869409,"post_id":26529091,"comment_id":48244884,"body_markdown":"The Elvis operator was discussed here: http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/000047.html","body":"The Elvis operator was discussed here: <a href=\"http://mail.openjdk.java.net/pipermail/coin-dev/2009-March/000047.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/coin-dev/2009-March/000047.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1414071773,"creation_date":1414071773,"answer_id":26529503,"question_id":26529091,"body_markdown":"No.  There are no current or future plans to reconsider the null-safe operators in Java.  ","title":"Null check in Java 8 Elvis operator?","body":"<p>No.  There are no current or future plans to reconsider the null-safe operators in Java.  </p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1640560588,"creation_date":1617933151,"answer_id":67014059,"question_id":26529091,"body_markdown":"A long time ago, there was a function\r\n\r\n    public static Foo getFoo(Bar bar) {\r\n      return bar.getFoo();\r\n    }\r\n\r\nAnd people just couldn&#39;t agree what should happen if bar was null.\r\n\r\nFirst of all, there would be people who would claim that violating the intent of the function should be penalized with a **checked exception**.\r\n\r\n    public static Foo getFoo(Bar bar) throws FooNotFoundException {\r\n      if (bar == null) throw new FooNotFoundException();\r\n      return bar.getFoo();\r\n    }\r\n\r\nThe caller of the function would then be forced to take this scenario in account. It would have to catch the exception or rethrow it. It would be so forceful that it would annoy people, and soon they would argue that this shouldn&#39;t be a checked exception, but **a runtime exception**, to make it less forceful. \r\n\r\n    public static Foo getFoo(Bar bar) {\r\n      if (bar == null) throw new FooNotFoundException();\r\n      return bar.getFoo();\r\n    }\r\n\r\nSome would claim that there would be no point in throwing an exception, since java would already throw an exception anyway: **a Nullpointer exception**.\r\n\r\nThose who would fear unexpected exceptions, would just make their code more rebust and would add `null`-checks at the start of their functions, which would **simply return `null`**.\r\n\r\n    public static Foo getFoo(Bar bar) {\r\n      if (bar == null) return null;\r\n      return bar.getFoo();\r\n    }\r\n\r\nSoon people would be arguing if it would be ok to return empty lists, or whether those empty lists should actually be `null` values as well. &quot;Surely, you don&#39;t want to check nullability before each and every iteration, do you?&quot; would the other side argue. And soon, they would be creating all kind of constructs to **avoid nullability entirely**.\r\n\r\n    public static Foo getFoo(Bar bar) {\r\n      if (bar == null) return Foo.Empty;\r\n      return bar.getFoo();\r\n    }\r\n\r\nEach approach would have a wide range of consequences. And those consequences would make it difficult to combine different approaches. Those consequences would result in coding rules where each individual rule would be connected to the next rule. The way they supported each other would give the impression that each and every rule was undisputable. And finally **coding rules would become like religions** with reasoning which only made sense inside the scope of the full ruleset. \r\n\r\nDepending on your choice of ruleset you would have difficulties using certain frameworks. **In the end, the *empty-list with unchecked-exceptions* religion became dominant.** This religion can be summarized as follows:\r\n\r\n - you should avoid returning `null` values.\r\n - if a list is empty, you return it as is.\r\n - if you iterate a list, you never have to check for null.\r\n - a method should never throw a checked exception\r\n - checked exceptions should be wrapped in runtime exceptions.\r\n - strings shouldn&#39;t ever be `null`, instead they should be `&quot;&quot;`.\r\n\r\nAnd apparently this religion got so strong that it managed to **influence the framework and language specification**.\r\n\r\n - compiler optimizations for empty lists\r\n - an `Optional` class\r\n - value types\r\n\r\nSome external libraries and editors would actually try to re-unite the different teams by providing annotations (`@Null` and `@NotNull`). The IDE would just mark all violations for you. A simple but effective solution. Nevertheless, the JDK never included its own `@Null` or `@NotNull`, instead each library had to ship their own.\r\n\r\nAnd taking all of this in account, right now, it is **very unlikely that there will ever be an elvis operator in java**. If you want to code in java, you better forget about `null`.\r\n\r\nOr to put it in the words of Tony Hoare (the inventor of null):\r\n\r\n&gt; I call it **my billion-dollar mistake**. It was the invention of the null\r\n&gt; reference in 1965. At that time, I was designing the first\r\n&gt; comprehensive type system for references in an object oriented\r\n&gt; language (ALGOL W). My goal was to ensure that all use of references\r\n&gt; should be absolutely safe, with checking performed automatically by\r\n&gt; the compiler. But I couldn&#39;t resist the temptation to put in a null\r\n&gt; reference, simply because it was so easy to implement. This has led to\r\n&gt; innumerable errors, vulnerabilities, and system crashes, which have\r\n&gt; probably caused a billion dollars of pain and damage in the last forty\r\n&gt; years.\r\n\r\nPersonally, I think this absolutely makes no sense, given the fact that every decent programming language has a null. Some even have multiple ones to indicate different kinds of nullabilities. After all, **even in mathematics there are undefined values**.\r\n\r\nAnyway, if you don&#39;t have an elvis operator, you can still \r\n\r\n    Foo foo = bar == null ? null : bar.getFoo();\r\n\r\nAnd this just fits perfectly in the spirit of java. After all, in 2021 java is a very explicit language. ","title":"Null check in Java 8 Elvis operator?","body":"<p>A long time ago, there was a function</p>\n<pre><code>public static Foo getFoo(Bar bar) {\n  return bar.getFoo();\n}\n</code></pre>\n<p>And people just couldn't agree what should happen if bar was null.</p>\n<p>First of all, there would be people who would claim that violating the intent of the function should be penalized with a <strong>checked exception</strong>.</p>\n<pre><code>public static Foo getFoo(Bar bar) throws FooNotFoundException {\n  if (bar == null) throw new FooNotFoundException();\n  return bar.getFoo();\n}\n</code></pre>\n<p>The caller of the function would then be forced to take this scenario in account. It would have to catch the exception or rethrow it. It would be so forceful that it would annoy people, and soon they would argue that this shouldn't be a checked exception, but <strong>a runtime exception</strong>, to make it less forceful.</p>\n<pre><code>public static Foo getFoo(Bar bar) {\n  if (bar == null) throw new FooNotFoundException();\n  return bar.getFoo();\n}\n</code></pre>\n<p>Some would claim that there would be no point in throwing an exception, since java would already throw an exception anyway: <strong>a Nullpointer exception</strong>.</p>\n<p>Those who would fear unexpected exceptions, would just make their code more rebust and would add <code>null</code>-checks at the start of their functions, which would <strong>simply return <code>null</code></strong>.</p>\n<pre><code>public static Foo getFoo(Bar bar) {\n  if (bar == null) return null;\n  return bar.getFoo();\n}\n</code></pre>\n<p>Soon people would be arguing if it would be ok to return empty lists, or whether those empty lists should actually be <code>null</code> values as well. &quot;Surely, you don't want to check nullability before each and every iteration, do you?&quot; would the other side argue. And soon, they would be creating all kind of constructs to <strong>avoid nullability entirely</strong>.</p>\n<pre><code>public static Foo getFoo(Bar bar) {\n  if (bar == null) return Foo.Empty;\n  return bar.getFoo();\n}\n</code></pre>\n<p>Each approach would have a wide range of consequences. And those consequences would make it difficult to combine different approaches. Those consequences would result in coding rules where each individual rule would be connected to the next rule. The way they supported each other would give the impression that each and every rule was undisputable. And finally <strong>coding rules would become like religions</strong> with reasoning which only made sense inside the scope of the full ruleset.</p>\n<p>Depending on your choice of ruleset you would have difficulties using certain frameworks. <strong>In the end, the <em>empty-list with unchecked-exceptions</em> religion became dominant.</strong> This religion can be summarized as follows:</p>\n<ul>\n<li>you should avoid returning <code>null</code> values.</li>\n<li>if a list is empty, you return it as is.</li>\n<li>if you iterate a list, you never have to check for null.</li>\n<li>a method should never throw a checked exception</li>\n<li>checked exceptions should be wrapped in runtime exceptions.</li>\n<li>strings shouldn't ever be <code>null</code>, instead they should be <code>&quot;&quot;</code>.</li>\n</ul>\n<p>And apparently this religion got so strong that it managed to <strong>influence the framework and language specification</strong>.</p>\n<ul>\n<li>compiler optimizations for empty lists</li>\n<li>an <code>Optional</code> class</li>\n<li>value types</li>\n</ul>\n<p>Some external libraries and editors would actually try to re-unite the different teams by providing annotations (<code>@Null</code> and <code>@NotNull</code>). The IDE would just mark all violations for you. A simple but effective solution. Nevertheless, the JDK never included its own <code>@Null</code> or <code>@NotNull</code>, instead each library had to ship their own.</p>\n<p>And taking all of this in account, right now, it is <strong>very unlikely that there will ever be an elvis operator in java</strong>. If you want to code in java, you better forget about <code>null</code>.</p>\n<p>Or to put it in the words of Tony Hoare (the inventor of null):</p>\n<blockquote>\n<p>I call it <strong>my billion-dollar mistake</strong>. It was the invention of the null\nreference in 1965. At that time, I was designing the first\ncomprehensive type system for references in an object oriented\nlanguage (ALGOL W). My goal was to ensure that all use of references\nshould be absolutely safe, with checking performed automatically by\nthe compiler. But I couldn't resist the temptation to put in a null\nreference, simply because it was so easy to implement. This has led to\ninnumerable errors, vulnerabilities, and system crashes, which have\nprobably caused a billion dollars of pain and damage in the last forty\nyears.</p>\n</blockquote>\n<p>Personally, I think this absolutely makes no sense, given the fact that every decent programming language has a null. Some even have multiple ones to indicate different kinds of nullabilities. After all, <strong>even in mathematics there are undefined values</strong>.</p>\n<p>Anyway, if you don't have an elvis operator, you can still</p>\n<pre><code>Foo foo = bar == null ? null : bar.getFoo();\n</code></pre>\n<p>And this just fits perfectly in the spirit of java. After all, in 2021 java is a very explicit language.</p>\n"}],"owner":{"account_id":4650598,"reputation":353,"user_id":3852752,"display_name":"user73362"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8625,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1640560588,"creation_date":1414070481,"question_id":26529091,"body_markdown":"**Question**: Is there an implementation of the **Elvis operator** scheduled for any future Java release? Or is there any Library that brings it to Java?\r\n\r\nI have read that \r\n\r\n&gt; it was proposed for Java SE 7 but didn&#39;t make it into that release\r\n\r\nhttp://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html\r\n\r\nI know Java 8 allows this\r\n\r\n    String name = computer.flatMap(Computer::getSoundcard)\r\n                              .flatMap(Soundcard::getUSB)\r\n                              .map(USB::getVersion)\r\n                              .orElse(&quot;UNKNOWN&quot;);\r\n\r\nbut I it&#39;s s bit too much for my taste. SO if anyone could point me out any project / library that would bring the Groovy like/C# like syntax to Java for Null Checks, would be greatly appreciated.\r\n\r\n\r\n**Edit:** By Elvis operator I mean this:\r\n\r\n    String version = computer?.getSoundcard()?.getUSB()?.getVersion();\r\n\r\nor similar","title":"Null check in Java 8 Elvis operator?","body":"<p><strong>Question</strong>: Is there an implementation of the <strong>Elvis operator</strong> scheduled for any future Java release? Or is there any Library that brings it to Java?</p>\n\n<p>I have read that </p>\n\n<blockquote>\n  <p>it was proposed for Java SE 7 but didn't make it into that release</p>\n</blockquote>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html\">http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html</a></p>\n\n<p>I know Java 8 allows this</p>\n\n<pre><code>String name = computer.flatMap(Computer::getSoundcard)\n                          .flatMap(Soundcard::getUSB)\n                          .map(USB::getVersion)\n                          .orElse(\"UNKNOWN\");\n</code></pre>\n\n<p>but I it's s bit too much for my taste. SO if anyone could point me out any project / library that would bring the Groovy like/C# like syntax to Java for Null Checks, would be greatly appreciated.</p>\n\n<p><strong>Edit:</strong> By Elvis operator I mean this:</p>\n\n<pre><code>String version = computer?.getSoundcard()?.getUSB()?.getVersion();\n</code></pre>\n\n<p>or similar</p>\n"},{"tags":["java","eclipse","javafx","runtime-error","scenebuilder"],"comments":[{"owner":{"account_id":21163271,"reputation":26,"user_id":15561088,"display_name":"Aidan"},"score":0,"creation_date":1640558576,"post_id":70490334,"comment_id":124605393,"body_markdown":"[This seemed to help some people with the same issue](https://stackoverflow.com/questions/26451990/javafx-exception-in-application-start-method)","body":"<a href=\"https://stackoverflow.com/questions/26451990/javafx-exception-in-application-start-method\">This seemed to help some people with the same issue</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1640559468,"post_id":70490334,"comment_id":124605549,"body_markdown":"Please provide the full stack trace, as text formatted as code, in the question itself. You can [edit] your question to add this information. Also, please only tag the question with relevant tags; based on your description, you are getting a run-time error, not [tag:compiler-errors].","body":"Please provide the full stack trace, as text formatted as code, in the question itself. You can <a href=\"https://stackoverflow.com/posts/70490334/edit\">edit</a> your question to add this information. Also, please only tag the question with relevant tags; based on your description, you are getting a run-time error, not <a href=\"https://stackoverflow.com/questions/tagged/compiler-errors\">compiler-errors</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1640559471,"post_id":70490334,"comment_id":124605550,"body_markdown":"Post the complete stack trace, formatted as code, in your question.","body":"Post the complete stack trace, formatted as code, in your question."}],"owner":{"account_id":23752694,"reputation":21,"user_id":17769222,"display_name":"Donnyb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640560372,"answer_count":0,"score":0,"last_activity_date":1640560110,"creation_date":1640558380,"question_id":70490334,"body_markdown":"I am trying to figure out why I keep getting &quot;Exception in Application start method&quot; errors whenever I try to do Java projects in Eclipse. Every project I create this keeps happening. So I decided to import a project and copy and caste the code to see if it was my code or something else. The imported Java project works fine, however the copied version I built still has the same error as the others. This is the error message from stack trace. \r\n\r\n\r\n\r\nThis is the code of the project from the reported error: line 22 is &quot;iChat layout&quot;, 31, is \r\n    &quot; chat layout&quot;\r\n\r\n \r\n\r\n   \r\n\r\n     initChatLayout();\r\n        \r\n        \r\n        \t private void initChatLayout() {\r\n        \t\ttry {\r\n        \t\t\t// Load root layout from fxml file.\r\n        \t\t\tFXMLLoader loader = new FXMLLoader();\r\n        \t\t\tloader.setLocation(ChatClient.class.getResource(&quot;view/ClientGUI.fxml&quot;));\r\n        \t\t\tloader.setController(new ClientController());\r\n        \t\t\tchatLayout = (VBox) loader.load();\r\n    \r\n    \r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$1(LauncherImpl.java:182)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.IllegalStateException: Location is not set.\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2434)\r\n    \tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409)\r\n    \tat erub.rb.ru.chat.ChatServer.initServerLayout(ChatServer.java:35)\r\n    \tat erub.rb.ru.chat.ChatServer.start(ChatServer.java:25)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$4(WinApplication.java:185)\r\n    \t... 1 more\r\n    Exception running application erub.rb.ru.chat.ChatServer\r\n    ","title":"Exception in Application start method in JavaFx application in Eclipse","body":"<p>I am trying to figure out why I keep getting &quot;Exception in Application start method&quot; errors whenever I try to do Java projects in Eclipse. Every project I create this keeps happening. So I decided to import a project and copy and caste the code to see if it was my code or something else. The imported Java project works fine, however the copied version I built still has the same error as the others. This is the error message from stack trace.</p>\n<p>This is the code of the project from the reported error: line 22 is &quot;iChat layout&quot;, 31, is\n&quot; chat layout&quot;</p>\n<pre><code> initChatLayout();\n    \n    \n         private void initChatLayout() {\n            try {\n                // Load root layout from fxml file.\n                FXMLLoader loader = new FXMLLoader();\n                loader.setLocation(ChatClient.class.getResource(&quot;view/ClientGUI.fxml&quot;));\n                loader.setController(new ClientController());\n                chatLayout = (VBox) loader.load();\n\n\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$1(LauncherImpl.java:182)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.IllegalStateException: Location is not set.\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2434)\n    at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409)\n    at erub.rb.ru.chat.ChatServer.initServerLayout(ChatServer.java:35)\n    at erub.rb.ru.chat.ChatServer.start(ChatServer.java:25)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$4(WinApplication.java:185)\n    ... 1 more\nException running application erub.rb.ru.chat.ChatServer\n</code></pre>\n"},{"tags":["java","selenium","webdriver"],"answers":[{"tags":[],"owner":{"account_id":2036191,"reputation":4983,"user_id":1818488,"display_name":"QArea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400575039,"creation_date":1400526783,"answer_id":23745451,"question_id":23735885,"body_markdown":"It&#39;s not correct to use the static for driver instance. \r\nIt&#39;s better to create get_method to return the driver to another class.\r\n\r\n    public class DriverInit { (using remote webdriver, browser name will be read from XML)\r\n    private WebDriver driver;\r\n    \r\n    public WebDriver getDriver() {\r\n    switch (browser) {\r\n    case &quot;IE&quot; : driver = ....\r\n    case &quot;Firefox&quot; : driver = ....\r\n    return driver;\r\n    }\r\n    }\r\n    \r\n    public class TestClass {\r\n    private Webdriver driver;\r\n    @BeforeClass\r\n    public void BeforeClass() {\r\n    DriverInit driveInit= new DriverInit();\r\n    driver=driveInit.getDriver();\r\n    }\r\n    \r\n    @Test\r\n    public void Test1() {\r\n    Reusable reusable = new Reusable();\r\n    reusable.func1Click(driver);\r\n    }\r\n    }\r\n    \r\n    public class Reusable {\r\n    \r\n    public void func1Click(WebDriver driver) {\r\n    driver.findElementBy(..).click();\r\n    }\r\n    }","title":"Can we have static variable for initilizing driver in selenium web driver","body":"<p>It's not correct to use the static for driver instance. \nIt's better to create get_method to return the driver to another class.</p>\n\n<pre><code>public class DriverInit { (using remote webdriver, browser name will be read from XML)\nprivate WebDriver driver;\n\npublic WebDriver getDriver() {\nswitch (browser) {\ncase \"IE\" : driver = ....\ncase \"Firefox\" : driver = ....\nreturn driver;\n}\n}\n\npublic class TestClass {\nprivate Webdriver driver;\n@BeforeClass\npublic void BeforeClass() {\nDriverInit driveInit= new DriverInit();\ndriver=driveInit.getDriver();\n}\n\n@Test\npublic void Test1() {\nReusable reusable = new Reusable();\nreusable.func1Click(driver);\n}\n}\n\npublic class Reusable {\n\npublic void func1Click(WebDriver driver) {\ndriver.findElementBy(..).click();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2922082,"reputation":3729,"user_id":2504101,"accept_rate":86,"display_name":"olyv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400529938,"creation_date":1400529938,"answer_id":23746291,"question_id":23735885,"body_markdown":"When you define your field as `static` then every thread has access to it and every thread can modify that memory space. That is is why I have doubts about possibility to use webdriver instance defined as `static`. But you can consider using [Selenium Grid][1] in order to run multiple tests across different browsers.\r\n\r\n\r\n  [1]: https://code.google.com/p/selenium/wiki/Grid2","title":"Can we have static variable for initilizing driver in selenium web driver","body":"<p>When you define your field as <code>static</code> then every thread has access to it and every thread can modify that memory space. That is is why I have doubts about possibility to use webdriver instance defined as <code>static</code>. But you can consider using <a href=\"https://code.google.com/p/selenium/wiki/Grid2\" rel=\"nofollow\">Selenium Grid</a> in order to run multiple tests across different browsers.</p>\n"},{"tags":[],"owner":{"account_id":4705481,"reputation":11,"user_id":3807769,"display_name":"Nirmal Keshvani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438350201,"creation_date":1438350201,"answer_id":31747699,"question_id":23735885,"body_markdown":"Use Singleton class in which you define your webDriver,\r\nthen use the same instance in your other classes","title":"Can we have static variable for initilizing driver in selenium web driver","body":"<p>Use Singleton class in which you define your webDriver,\nthen use the same instance in your other classes</p>\n"},{"tags":[],"owner":{"account_id":1675899,"reputation":153,"user_id":1541488,"display_name":"robert arles"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454627561,"creation_date":1454627561,"answer_id":35213499,"question_id":23735885,"body_markdown":"As you stated, you can use a static driver, but, yes, you are risking a shared memory issue if you do any parallelization directly at the test code level.\r\n\r\nI&#39;ve avoided using a static driver for just this reason, it&#39;s bad design for a test suite that may grow into parallelization. Running a single process launching tests on multiple servers in a selenium grid would not work.\r\n\r\nThe way I&#39;ve designed around this situation is to pass the driver (created in the @Before) to each page object when I initialize them.\r\n\r\nIf the suite WILL NOT grow, you can still use the static driver, and launch multiple tests as separate jobs (i.e. separate Jenkins jobs, or separate runs from the command line, etc)","title":"Can we have static variable for initilizing driver in selenium web driver","body":"<p>As you stated, you can use a static driver, but, yes, you are risking a shared memory issue if you do any parallelization directly at the test code level.</p>\n\n<p>I've avoided using a static driver for just this reason, it's bad design for a test suite that may grow into parallelization. Running a single process launching tests on multiple servers in a selenium grid would not work.</p>\n\n<p>The way I've designed around this situation is to pass the driver (created in the @Before) to each page object when I initialize them.</p>\n\n<p>If the suite WILL NOT grow, you can still use the static driver, and launch multiple tests as separate jobs (i.e. separate Jenkins jobs, or separate runs from the command line, etc)</p>\n"},{"tags":[],"owner":{"account_id":20203818,"reputation":11,"user_id":14818810,"display_name":"samet yaprak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640559773,"creation_date":1640475837,"answer_id":70483446,"question_id":23735885,"body_markdown":"I have used static Webdriver object. I used it in everypart of test (@Before, @Test, @After also while element locatining / pageobject modelling ).I checked JVM. Performance looks quite well. Because you can kill, destroy this object after every test case.\r\n\r\nBut when parallel test in question. If you are using testNg you can manage it with xml file. \r\nBut if you are using Junit (junit-platform.properties file or @Execution(ExecutionMode.CONCURRENT)) I have met some problems as mensioned above.\r\nJava user must be away from static. \r\n\r\nTo solve this problem you need static and ThreadLocal instances..\r\n\r\n    private final static ThreadLocal&lt;DriverFactorySingleton&gt; driverFactorySingleton = new ThreadLocal&lt;&gt;();\r\n    private final static ThreadLocal&lt;WebDriver&gt; webDriver = new ThreadLocal&lt;&gt;();","title":"Can we have static variable for initilizing driver in selenium web driver","body":"<p>I have used static Webdriver object. I used it in everypart of test (@Before, @Test, @After also while element locatining / pageobject modelling ).I checked JVM. Performance looks quite well. Because you can kill, destroy this object after every test case.</p>\n<p>But when parallel test in question. If you are using testNg you can manage it with xml file.\nBut if you are using Junit (junit-platform.properties file or @Execution(ExecutionMode.CONCURRENT)) I have met some problems as mensioned above.\nJava user must be away from static.</p>\n<p>To solve this problem you need static and ThreadLocal instances..</p>\n<pre><code>private final static ThreadLocal&lt;DriverFactorySingleton&gt; driverFactorySingleton = new ThreadLocal&lt;&gt;();\nprivate final static ThreadLocal&lt;WebDriver&gt; webDriver = new ThreadLocal&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":4358709,"reputation":31,"user_id":3556526,"accept_rate":14,"display_name":"Deva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1640559773,"creation_date":1400496695,"question_id":23735885,"body_markdown":"We have a static variable to initialize driver in Selenium WebDriver.\r\n\r\n`public static WebDriver driver;` \r\n\r\nThis variable is declared in a class (DriverInit) and initialized in &quot;@BeforeClass&quot; of various Test Plans(Test Classes). The initialized variable (driver) will be used across the project in various re-usable functions and @test methods. Driver will be closed/quit at the @QAfterClass\r\n\r\nThis works fine with non-paralled execution of scripts. Does having a static variable to initialize the driver affect parallel execution by any means?\r\n\r\nEg : \r\n\r\n    public class DriverInit { (using remote webdriver, browser name will be read from XML)\r\n      public static WebDriver driver;    \r\n      public DriverInit() {\r\n        switch (browser) {\r\n        case &quot;IE&quot; : driver = ....\r\n        case &quot;Firefox&quot; : driver = ....\r\n        }\r\n      }\r\n    }\r\n    \r\n    public class TestClass {\r\n      @BeforeClass\r\n      public void BeforeClass() {\r\n       DriverInit driver = new DriverInit();\r\n      }\r\n      \r\n      @Test\r\n      public void Test1() {\r\n       DriverInit.driver.findElementBy();\r\n       Reusable.func1();\r\n      }\r\n    }\r\n    \r\n    Public class Reusable {\r\n    \r\n      public WebElement r1;\r\n      public Reusable() {\r\n        r1 = DriverInit.driver.findElementBy(..);\r\n      }\r\n      public void func1() {\r\n         r1.findElementBy(..);\r\n      }\r\n    }","title":"Can we have static variable for initilizing driver in selenium web driver","body":"<p>We have a static variable to initialize driver in Selenium WebDriver.</p>\n\n<p><code>public static WebDriver driver;</code> </p>\n\n<p>This variable is declared in a class (DriverInit) and initialized in \"@BeforeClass\" of various Test Plans(Test Classes). The initialized variable (driver) will be used across the project in various re-usable functions and @test methods. Driver will be closed/quit at the @QAfterClass</p>\n\n<p>This works fine with non-paralled execution of scripts. Does having a static variable to initialize the driver affect parallel execution by any means?</p>\n\n<p>Eg : </p>\n\n<pre><code>public class DriverInit { (using remote webdriver, browser name will be read from XML)\n  public static WebDriver driver;    \n  public DriverInit() {\n    switch (browser) {\n    case \"IE\" : driver = ....\n    case \"Firefox\" : driver = ....\n    }\n  }\n}\n\npublic class TestClass {\n  @BeforeClass\n  public void BeforeClass() {\n   DriverInit driver = new DriverInit();\n  }\n\n  @Test\n  public void Test1() {\n   DriverInit.driver.findElementBy();\n   Reusable.func1();\n  }\n}\n\nPublic class Reusable {\n\n  public WebElement r1;\n  public Reusable() {\n    r1 = DriverInit.driver.findElementBy(..);\n  }\n  public void func1() {\n     r1.findElementBy(..);\n  }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640559473,"creation_date":1640559473,"answer_id":70490431,"question_id":70476227,"body_markdown":"My mistake was `setRhinoModelPath(&quot;porcupine_params_de.pv&quot;)`. That should be replaced with `setRhinoModelPath(&quot;picovoice_params_de.pv&quot;)`.","title":"Picovoice: Initialization failed - not able to set the variable &#39;started&#39; to true","body":"<p>My mistake was <code>setRhinoModelPath(&quot;porcupine_params_de.pv&quot;)</code>. That should be replaced with <code>setRhinoModelPath(&quot;picovoice_params_de.pv&quot;)</code>.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70490431,"answer_count":1,"score":0,"last_activity_date":1640559473,"creation_date":1640376354,"question_id":70476227,"body_markdown":"I am using the library [Picovoice][1] on Android as a service.\r\n\r\n```java\r\npublic class PicovoiceService extends Service {\r\n    private final String ACCESS_KEY = &quot;MyAccessKey&quot;; // AccessKey obtained from Picovoice Console (https://picovoice.ai/console/)\r\n\r\n    private static final String CHANNEL_ID = &quot;PicovoiceServiceChannel&quot;;\r\n\r\n    private PicovoiceManager picovoiceManager;\r\n\r\n    private final PicovoiceWakeWordCallback picovoiceWakeWordCallback = () -&gt; {\r\n        Notification n = getNotification(&quot;Picovoice&quot;, &quot;Wake Word Detected...&quot;);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        assert notificationManager != null;\r\n        notificationManager.notify(1234, n);\r\n    };\r\n\r\n    private final PicovoiceInferenceCallback picovoiceInferenceCallback = inference -&gt; {\r\n        StringBuilder builder = new StringBuilder();\r\n\r\n        if (inference.getIsUnderstood()) {\r\n            builder.append(inference.getIntent()).append(&quot; - &quot;);\r\n            final Map&lt;String, String&gt; slots = inference.getSlots();\r\n            if (slots.size() &gt; 0) {\r\n                for (String key : slots.keySet()) {\r\n                    builder.append(key).append(&quot; : &quot;).append(slots.get(key)).append(&quot; &quot;);\r\n                }\r\n            }\r\n        } else {\r\n            builder.append(&quot;Didn&#39;t understand the command.&quot;);\r\n        }\r\n\r\n        Notification n = getNotification(&quot;Picovoice&quot;, builder.toString());\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        assert notificationManager != null;\r\n        notificationManager.notify(1234, n);\r\n    };\r\n\r\n    private final PicovoiceManagerErrorCallback picovoiceManagerErrorCallback = error -&gt; {\r\n        onPicovoiceError(error.getMessage());\r\n    };\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel notificationChannel = new NotificationChannel(\r\n                    CHANNEL_ID,\r\n                    &quot;Picovoice&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(notificationChannel);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        createNotificationChannel();\r\n\r\n        String keywordFilePath = intent.getStringExtra(&quot;keywordFileName&quot;);\r\n        String contextPath = intent.getStringExtra(&quot;contextFileName&quot;);\r\n\r\n        boolean started = false;\r\n\r\n        try {\r\n            picovoiceManager = new PicovoiceManager.Builder()\r\n                    .setAccessKey(ACCESS_KEY)\r\n                    .setPorcupineModelPath(&quot;porcupine_params_de.pv&quot;)\r\n                    .setRhinoModelPath(&quot;porcupine_params_de.pv&quot;)\r\n                    .setKeywordPath(keywordFilePath)\r\n                    .setPorcupineSensitivity(0.7f)\r\n                    .setWakeWordCallback(picovoiceWakeWordCallback)\r\n                    .setContextPath(contextPath)\r\n                    .setRhinoSensitivity(0.25f)\r\n                    .setInferenceCallback(picovoiceInferenceCallback)\r\n                    .setProcessErrorCallback(picovoiceManagerErrorCallback)\r\n                    .build(getApplicationContext());\r\n            picovoiceManager.start();\r\n            started = true;\r\n        } catch (PicovoiceInvalidArgumentException e) {\r\n            onPicovoiceError(\r\n                    String.format(\r\n                            &quot;%s\\nEnsure your AccessKey &#39;%s&#39; is a valid access key.&quot;,\r\n                            e.getLocalizedMessage(),\r\n                            ACCESS_KEY));\r\n        } catch (PicovoiceActivationException e) {\r\n            onPicovoiceError(&quot;AccessKey activation error&quot;);\r\n        } catch (PicovoiceActivationLimitException e) {\r\n            onPicovoiceError(&quot;AccessKey reached its device limit&quot;);\r\n        } catch (PicovoiceActivationRefusedException e) {\r\n            onPicovoiceError(&quot;AccessKey refused&quot;);\r\n        } catch (PicovoiceActivationThrottledException e) {\r\n            onPicovoiceError(&quot;AccessKey has been throttled&quot;);\r\n        } catch (PicovoiceException e) {\r\n            onPicovoiceError(&quot;Failed to initialize Picovoice &quot; + e.getMessage());\r\n        }\r\n\r\n        Notification notification = started ?\r\n                getNotification(&quot;Picovoice&quot;, &quot;Listening...&quot;) :\r\n                getNotification(&quot;Picovoice init failed&quot;, &quot;Service will shutdown&quot;);\r\n\r\n        startForeground(1234, notification);\r\n\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    private void onPicovoiceError(String message) {\r\n        Intent i = new Intent(&quot;PicovoiceError&quot;);\r\n        i.putExtra(&quot;errorMessage&quot;, message);\r\n        sendBroadcast(i);\r\n    }\r\n\r\n    private Notification getNotification(String title, String message) {\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(\r\n                this,\r\n                0,\r\n                new Intent(this, MainActivity.class),\r\n                0);\r\n\r\n        return new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        try {\r\n            picovoiceManager.stop();\r\n        } catch (PicovoiceException e) {\r\n            Log.e(&quot;Picovoice&quot;, e.toString());\r\n        }\r\n\r\n        super.onDestroy();\r\n    }\r\n}\r\n```\r\nWhen that service gets started, I get the notification \r\n\r\n&gt; Picovoice init failed \r\n&gt;\r\n&gt; Service will shutdown\r\n\r\nThat is because `started` is set to _false_. When debugging, I never get to that point where `started` is getting set to _true_. Why?\r\n\r\nMy AccessKey is correct but when trying to debug, I get the exception\r\n\r\n&gt; ai.picovoice.picovoice.PicovoiceInvalidArgumentException:\r\n&gt; Initialization failed.\r\n\r\nPlease note, that I have just edited some details on that code since most of the code is from author himself. See the [original code][2] (demo).\r\n\r\n\r\n  [1]: https://github.com/Picovoice/picovoice\r\n  [2]: https://github.com/Picovoice/picovoice/blob/master/demo/android/Service/picovoice-service-demo-app/src/main/java/ai/picovoice/picovoicedemoservice/PicovoiceService.java","title":"Picovoice: Initialization failed - not able to set the variable &#39;started&#39; to true","body":"<p>I am using the library <a href=\"https://github.com/Picovoice/picovoice\" rel=\"nofollow noreferrer\">Picovoice</a> on Android as a service.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PicovoiceService extends Service {\n    private final String ACCESS_KEY = &quot;MyAccessKey&quot;; // AccessKey obtained from Picovoice Console (https://picovoice.ai/console/)\n\n    private static final String CHANNEL_ID = &quot;PicovoiceServiceChannel&quot;;\n\n    private PicovoiceManager picovoiceManager;\n\n    private final PicovoiceWakeWordCallback picovoiceWakeWordCallback = () -&gt; {\n        Notification n = getNotification(&quot;Picovoice&quot;, &quot;Wake Word Detected...&quot;);\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        assert notificationManager != null;\n        notificationManager.notify(1234, n);\n    };\n\n    private final PicovoiceInferenceCallback picovoiceInferenceCallback = inference -&gt; {\n        StringBuilder builder = new StringBuilder();\n\n        if (inference.getIsUnderstood()) {\n            builder.append(inference.getIntent()).append(&quot; - &quot;);\n            final Map&lt;String, String&gt; slots = inference.getSlots();\n            if (slots.size() &gt; 0) {\n                for (String key : slots.keySet()) {\n                    builder.append(key).append(&quot; : &quot;).append(slots.get(key)).append(&quot; &quot;);\n                }\n            }\n        } else {\n            builder.append(&quot;Didn't understand the command.&quot;);\n        }\n\n        Notification n = getNotification(&quot;Picovoice&quot;, builder.toString());\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        assert notificationManager != null;\n        notificationManager.notify(1234, n);\n    };\n\n    private final PicovoiceManagerErrorCallback picovoiceManagerErrorCallback = error -&gt; {\n        onPicovoiceError(error.getMessage());\n    };\n\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(\n                    CHANNEL_ID,\n                    &quot;Picovoice&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(notificationChannel);\n        }\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        createNotificationChannel();\n\n        String keywordFilePath = intent.getStringExtra(&quot;keywordFileName&quot;);\n        String contextPath = intent.getStringExtra(&quot;contextFileName&quot;);\n\n        boolean started = false;\n\n        try {\n            picovoiceManager = new PicovoiceManager.Builder()\n                    .setAccessKey(ACCESS_KEY)\n                    .setPorcupineModelPath(&quot;porcupine_params_de.pv&quot;)\n                    .setRhinoModelPath(&quot;porcupine_params_de.pv&quot;)\n                    .setKeywordPath(keywordFilePath)\n                    .setPorcupineSensitivity(0.7f)\n                    .setWakeWordCallback(picovoiceWakeWordCallback)\n                    .setContextPath(contextPath)\n                    .setRhinoSensitivity(0.25f)\n                    .setInferenceCallback(picovoiceInferenceCallback)\n                    .setProcessErrorCallback(picovoiceManagerErrorCallback)\n                    .build(getApplicationContext());\n            picovoiceManager.start();\n            started = true;\n        } catch (PicovoiceInvalidArgumentException e) {\n            onPicovoiceError(\n                    String.format(\n                            &quot;%s\\nEnsure your AccessKey '%s' is a valid access key.&quot;,\n                            e.getLocalizedMessage(),\n                            ACCESS_KEY));\n        } catch (PicovoiceActivationException e) {\n            onPicovoiceError(&quot;AccessKey activation error&quot;);\n        } catch (PicovoiceActivationLimitException e) {\n            onPicovoiceError(&quot;AccessKey reached its device limit&quot;);\n        } catch (PicovoiceActivationRefusedException e) {\n            onPicovoiceError(&quot;AccessKey refused&quot;);\n        } catch (PicovoiceActivationThrottledException e) {\n            onPicovoiceError(&quot;AccessKey has been throttled&quot;);\n        } catch (PicovoiceException e) {\n            onPicovoiceError(&quot;Failed to initialize Picovoice &quot; + e.getMessage());\n        }\n\n        Notification notification = started ?\n                getNotification(&quot;Picovoice&quot;, &quot;Listening...&quot;) :\n                getNotification(&quot;Picovoice init failed&quot;, &quot;Service will shutdown&quot;);\n\n        startForeground(1234, notification);\n\n        return super.onStartCommand(intent, flags, startId);\n    }\n\n    private void onPicovoiceError(String message) {\n        Intent i = new Intent(&quot;PicovoiceError&quot;);\n        i.putExtra(&quot;errorMessage&quot;, message);\n        sendBroadcast(i);\n    }\n\n    private Notification getNotification(String title, String message) {\n        PendingIntent pendingIntent = PendingIntent.getActivity(\n                this,\n                0,\n                new Intent(this, MainActivity.class),\n                0);\n\n        return new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(title)\n                .setContentText(message)\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\n                .setContentIntent(pendingIntent)\n                .build();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public void onDestroy() {\n        try {\n            picovoiceManager.stop();\n        } catch (PicovoiceException e) {\n            Log.e(&quot;Picovoice&quot;, e.toString());\n        }\n\n        super.onDestroy();\n    }\n}\n</code></pre>\n<p>When that service gets started, I get the notification</p>\n<blockquote>\n<p>Picovoice init failed</p>\n<p>Service will shutdown</p>\n</blockquote>\n<p>That is because <code>started</code> is set to <em>false</em>. When debugging, I never get to that point where <code>started</code> is getting set to <em>true</em>. Why?</p>\n<p>My AccessKey is correct but when trying to debug, I get the exception</p>\n<blockquote>\n<p>ai.picovoice.picovoice.PicovoiceInvalidArgumentException:\nInitialization failed.</p>\n</blockquote>\n<p>Please note, that I have just edited some details on that code since most of the code is from author himself. See the <a href=\"https://github.com/Picovoice/picovoice/blob/master/demo/android/Service/picovoice-service-demo-app/src/main/java/ai/picovoice/picovoicedemoservice/PicovoiceService.java\" rel=\"nofollow noreferrer\">original code</a> (demo).</p>\n"},{"tags":["java","netbeans","proguard"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640558385,"creation_date":1640558385,"answer_id":70490336,"question_id":70480035,"body_markdown":"You haven&#39;t provided any details about your environment, but based on the error message (_&quot;Unsupported class version number [53.0] (maximum 52.0, Java 1.8)&quot;_) it looks like your code was compiled using JRE 9 (i.e. version 53.0).\r\n\r\nThere is an old Proguard feature request on this. See  [`#181 Java 9 major number 53 support`](https://sourceforge.net/p/proguard/feature-requests/181/):\r\n\r\n&gt; Proguard does not support Java 9 class file format. The major version\r\n&gt; number for the class file in Java 9 is 53 and in Java 8 it was 52.\r\n&gt; Please enhance Proguard to support Java 9 class files.\r\n\r\nThe request was submitted on 12/21/16, and closed on 2018-03-29. Presumably you are using ProGuard 5.x (or earlier), right? If so, your solution is to use Proguard 6.0 or later. From the [Proguard 6.0 release documentation]():\r\n\r\n&gt; Added backporting and support for Java 9 code\r\n\r\nHowever, if you are already using a version of Proguard &gt; 5.x then update your question to provide full details of the compiled version of your code, and your versions of Proguard, Java and NetBeans.\r\n\r\nAlso see the old SO question [Error Proguard Unsupported class version number](https://stackoverflow.com/q/22670059/2985643). Though not a duplicate of your question, it details a similar issue on earlier versions of Java and Proguard.","title":"Proguard - Can&#39;t read StackUtilsImpl.class","body":"<p>You haven't provided any details about your environment, but based on the error message (<em>&quot;Unsupported class version number [53.0] (maximum 52.0, Java 1.8)&quot;</em>) it looks like your code was compiled using JRE 9 (i.e. version 53.0).</p>\n<p>There is an old Proguard feature request on this. See  <a href=\"https://sourceforge.net/p/proguard/feature-requests/181/\" rel=\"nofollow noreferrer\"><code>#181 Java 9 major number 53 support</code></a>:</p>\n<blockquote>\n<p>Proguard does not support Java 9 class file format. The major version\nnumber for the class file in Java 9 is 53 and in Java 8 it was 52.\nPlease enhance Proguard to support Java 9 class files.</p>\n</blockquote>\n<p>The request was submitted on 12/21/16, and closed on 2018-03-29. Presumably you are using ProGuard 5.x (or earlier), right? If so, your solution is to use Proguard 6.0 or later. From the Proguard 6.0 release documentation:</p>\n<blockquote>\n<p>Added backporting and support for Java 9 code</p>\n</blockquote>\n<p>However, if you are already using a version of Proguard &gt; 5.x then update your question to provide full details of the compiled version of your code, and your versions of Proguard, Java and NetBeans.</p>\n<p>Also see the old SO question <a href=\"https://stackoverflow.com/q/22670059/2985643\">Error Proguard Unsupported class version number</a>. Though not a duplicate of your question, it details a similar issue on earlier versions of Java and Proguard.</p>\n"}],"owner":{"account_id":11427419,"reputation":6744,"user_id":8377200,"accept_rate":25,"display_name":"Rona Idea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70490336,"answer_count":1,"score":1,"last_activity_date":1640558385,"creation_date":1640435443,"question_id":70480035,"body_markdown":"I&#39;m having an error while compiling proguard.\r\n**I&#39;m using flatlaf-1.6.4.jar for GUI Java Aplication**\r\n\r\n    Can&#39;t process class [META-INF/versions/9/com/formdev/flatlaf/ui/StackUtilsImpl.class] (Unsupported class version number [53.0] (maximum 52.0, Java 1.8))\r\n    \r\n\r\n\r\n","title":"Proguard - Can&#39;t read StackUtilsImpl.class","body":"<p>I'm having an error while compiling proguard.\n<strong>I'm using flatlaf-1.6.4.jar for GUI Java Aplication</strong></p>\n<pre><code>Can't process class [META-INF/versions/9/com/formdev/flatlaf/ui/StackUtilsImpl.class] (Unsupported class version number [53.0] (maximum 52.0, Java 1.8))\n</code></pre>\n"},{"tags":["java","android","navigationcontroller"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1600880978,"post_id":64030507,"comment_id":113230968,"body_markdown":"So is there an `&lt;action&gt;` element called `action_mainFragment_to_addTransactionFragment` in the `&lt;fragment android:id=&quot;@+id/pagerFragment&quot;` destination? Because that&#39;s the destination you&#39;re on when that `onClick` fires. Please show your navigation graph and how those destinations relate to your ViewPager.","body":"So is there an <code>&lt;action&gt;</code> element called <code>action_mainFragment_to_addTransactionFragment</code> in the <code>&lt;fragment android:id=&quot;@+id&#47;pagerFragment&quot;</code> destination? Because that&#39;s the destination you&#39;re on when that <code>onClick</code> fires. Please show your navigation graph and how those destinations relate to your ViewPager."},{"owner":{"account_id":11236758,"reputation":970,"user_id":8242626,"display_name":"afhamu"},"score":0,"creation_date":1600883782,"post_id":64030507,"comment_id":113232309,"body_markdown":"@ianhanniballake yes the above action you mention is the action triggered by the button click. I added the screenshot of the navigation graph in my update","body":"@ianhanniballake yes the above action you mention is the action triggered by the button click. I added the screenshot of the navigation graph in my update"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1600885312,"post_id":64030507,"comment_id":113233013,"body_markdown":"Please include the actual Navigation XML file in your question, not just a screenshot of the design surface.","body":"Please include the actual Navigation XML file in your question, not just a screenshot of the design surface."},{"owner":{"account_id":11236758,"reputation":970,"user_id":8242626,"display_name":"afhamu"},"score":0,"creation_date":1600885408,"post_id":64030507,"comment_id":113233060,"body_markdown":"@ianhanniballake ok","body":"@ianhanniballake ok"}],"answers":[{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1600886100,"creation_date":1600886100,"answer_id":64034290,"question_id":64030507,"body_markdown":"If you do not `navigate()` to `MainFragment` and `AdminFragment`, you will remain on the last destination you navigated to: `PagerFragment`, that is the expected behavior. The NavController knows nothing about child fragments such as fragments within a ViewPager of `PagerFragment` and therefore you were never on `MainFragment` as a destination.\r\n\r\nIf you never `navigate()` to `MainFragment` or `AdminFragment` and they are only viewable as part of your ViewPager, then `MainFragment` and `AdminFragment` should not **be** in your graph. Any actions from fragments within `PagerFragment`&#39;s ViewPager should be actions on `PagerFragment` directly (the destination you&#39;re actually on).","title":"IllegalArgumentException: Navigation action/destination packagename/action_xxx cannot be found from the current destination","body":"<p>If you do not <code>navigate()</code> to <code>MainFragment</code> and <code>AdminFragment</code>, you will remain on the last destination you navigated to: <code>PagerFragment</code>, that is the expected behavior. The NavController knows nothing about child fragments such as fragments within a ViewPager of <code>PagerFragment</code> and therefore you were never on <code>MainFragment</code> as a destination.</p>\n<p>If you never <code>navigate()</code> to <code>MainFragment</code> or <code>AdminFragment</code> and they are only viewable as part of your ViewPager, then <code>MainFragment</code> and <code>AdminFragment</code> should not <strong>be</strong> in your graph. Any actions from fragments within <code>PagerFragment</code>'s ViewPager should be actions on <code>PagerFragment</code> directly (the destination you're actually on).</p>\n"},{"tags":[],"owner":{"account_id":9686627,"reputation":6334,"user_id":7200133,"display_name":"Gk Mohammad Emon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640557759,"creation_date":1605033331,"answer_id":64774772,"question_id":64030507,"body_markdown":"For my case, I resolve the problem by replacing - \r\n\r\n     &lt;action\r\n            android:id=&quot;@+id/action_mainFragment_to_addTransactionFragment&quot;\r\n            app:destination=&quot;@id/addTransactionFragment&quot; /&gt;\r\n\r\nwith \r\n\r\n     &lt;action\r\n                android:id=&quot;@+id/action_mainFragment_to_addTransactionFragment&quot;\r\n                app:popUpToInclusive=&quot;true&quot; /* If true then also remove the destination from stack while popup */\r\n                app:popUpTo=&quot;@id/mainFragment&quot;  /*The fragment where to land again from destination*/\r\n                app:destination=&quot;@id/addTransactionFragment&quot; /&gt;\r\n\r\n ","title":"IllegalArgumentException: Navigation action/destination packagename/action_xxx cannot be found from the current destination","body":"<p>For my case, I resolve the problem by replacing -</p>\n<pre><code> &lt;action\n        android:id=&quot;@+id/action_mainFragment_to_addTransactionFragment&quot;\n        app:destination=&quot;@id/addTransactionFragment&quot; /&gt;\n</code></pre>\n<p>with</p>\n<pre><code> &lt;action\n            android:id=&quot;@+id/action_mainFragment_to_addTransactionFragment&quot;\n            app:popUpToInclusive=&quot;true&quot; /* If true then also remove the destination from stack while popup */\n            app:popUpTo=&quot;@id/mainFragment&quot;  /*The fragment where to land again from destination*/\n            app:destination=&quot;@id/addTransactionFragment&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11669363,"reputation":192,"user_id":8545027,"display_name":"Mostafa Amer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617372100,"creation_date":1617372100,"answer_id":66920479,"question_id":64030507,"body_markdown":"For my case, it turns out it caused by calling `dismissAllowingStateLoss();` after navigating to new destination.","title":"IllegalArgumentException: Navigation action/destination packagename/action_xxx cannot be found from the current destination","body":"<p>For my case, it turns out it caused by calling <code>dismissAllowingStateLoss();</code> after navigating to new destination.</p>\n"}],"owner":{"account_id":11236758,"reputation":970,"user_id":8242626,"display_name":"afhamu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9037,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":64034290,"answer_count":3,"score":4,"last_activity_date":1640557759,"creation_date":1600872347,"question_id":64030507,"body_markdown":"I am having an issue with the Android Navigation Architecture component when I try to navigate from one Fragment to another within a viewpager, I get this error:\r\n\r\n    java.lang.IllegalArgumentException: Navigation action/destination \r\n    com.gigaweb.mysales:id/action_mainFragment_to_addTransactionFragment cannot be found from the current \r\n    destination Destination(com.gigaweb.mysales:id/pagerFragment) label=fragment_pager class=com.gigaweb.mysales.PagerFragment\r\n\r\nI have a viewpager which I use to navigate between two Fragments and it works just fine. the problem is that I have a button within one of the fragments, the button is also used to navigate to another Fragment using navcontroller, and when the button is clicked the app crashes and I get the error above.\r\n\r\n\r\n[![Below is the screenshot of the error][1]][1]\r\n\r\n\r\n**Update** This is the navGraph\r\n\r\nAs you can see the SignIn Fragment is the start Destination and there is an action liking it to the pagerFragment which serves as the host for the ViewPager\r\n\r\nthe way I want the app to work is: \r\n\r\n1. When the app launches The signIn Fragment is shown ..... working\r\n\r\n2. Navigate to PagerFragment when SignIn Button is clicked ..... working\r\n\r\n3. Navigate between MainFragment and AdminFragment by swiping left or right ..... working\r\n\r\n4. Navigate to AddTransactionFragment whin the FAB Button is clicked ..... **NOT WORKING!!** as the button is clicked the app crashes.\r\n\r\n\r\n**Update** Here is the XML code for the Navigation Graph\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph&quot;\r\n    app:startDestination=&quot;@id/signInFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/signInFragment&quot;\r\n        android:name=&quot;com.gigaweb.mysales.SignInFragment&quot;\r\n        android:label=&quot;fragment_sign_in&quot;\r\n        tools:layout=&quot;@layout/fragment_sign_in&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_signInFragment_to_pagerFragment&quot;\r\n            app:destination=&quot;@id/pagerFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/addTransactionFragment&quot;\r\n        android:name=&quot;com.gigaweb.mysales.AddTransactionFragment&quot;\r\n        android:label=&quot;AddTransactionFragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_addTransactionFragment_to_mainFragment&quot;\r\n            app:destination=&quot;@id/mainFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/mainFragment&quot;\r\n        android:name=&quot;com.gigaweb.mysales.MainFragment&quot;\r\n        android:label=&quot;MainFragment&quot; &gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_mainFragment_to_addTransactionFragment&quot;\r\n            app:destination=&quot;@id/addTransactionFragment&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/adminFragment&quot;\r\n        android:name=&quot;com.gigaweb.mysales.AdminFragment&quot;\r\n        android:label=&quot;AdminFragment&quot; /&gt;\r\n    &lt;fragment\r\n        android:id=&quot;@+id/pagerFragment&quot;\r\n        android:name=&quot;com.gigaweb.mysales.PagerFragment&quot;\r\n        android:label=&quot;fragment_pager&quot;\r\n        tools:layout=&quot;@layout/fragment_pager&quot; /&gt;\r\n    &lt;/navigation&gt;\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FVpHB.png\r\n  [2]: https://i.stack.imgur.com/zFhQP.png","title":"IllegalArgumentException: Navigation action/destination packagename/action_xxx cannot be found from the current destination","body":"<p>I am having an issue with the Android Navigation Architecture component when I try to navigate from one Fragment to another within a viewpager, I get this error:</p>\n<pre><code>java.lang.IllegalArgumentException: Navigation action/destination \ncom.gigaweb.mysales:id/action_mainFragment_to_addTransactionFragment cannot be found from the current \ndestination Destination(com.gigaweb.mysales:id/pagerFragment) label=fragment_pager class=com.gigaweb.mysales.PagerFragment\n</code></pre>\n<p>I have a viewpager which I use to navigate between two Fragments and it works just fine. the problem is that I have a button within one of the fragments, the button is also used to navigate to another Fragment using navcontroller, and when the button is clicked the app crashes and I get the error above.</p>\n<p><a href=\"https://i.stack.imgur.com/FVpHB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FVpHB.png\" alt=\"Below is the screenshot of the error\" /></a></p>\n<p><strong>Update</strong> This is the navGraph</p>\n<p>As you can see the SignIn Fragment is the start Destination and there is an action liking it to the pagerFragment which serves as the host for the ViewPager</p>\n<p>the way I want the app to work is:</p>\n<ol>\n<li><p>When the app launches The signIn Fragment is shown ..... working</p>\n</li>\n<li><p>Navigate to PagerFragment when SignIn Button is clicked ..... working</p>\n</li>\n<li><p>Navigate between MainFragment and AdminFragment by swiping left or right ..... working</p>\n</li>\n<li><p>Navigate to AddTransactionFragment whin the FAB Button is clicked ..... <strong>NOT WORKING!!</strong> as the button is clicked the app crashes.</p>\n</li>\n</ol>\n<p><strong>Update</strong> Here is the XML code for the Navigation Graph</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/nav_graph&quot;\napp:startDestination=&quot;@id/signInFragment&quot;&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/signInFragment&quot;\n    android:name=&quot;com.gigaweb.mysales.SignInFragment&quot;\n    android:label=&quot;fragment_sign_in&quot;\n    tools:layout=&quot;@layout/fragment_sign_in&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_signInFragment_to_pagerFragment&quot;\n        app:destination=&quot;@id/pagerFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/addTransactionFragment&quot;\n    android:name=&quot;com.gigaweb.mysales.AddTransactionFragment&quot;\n    android:label=&quot;AddTransactionFragment&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_addTransactionFragment_to_mainFragment&quot;\n        app:destination=&quot;@id/mainFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/mainFragment&quot;\n    android:name=&quot;com.gigaweb.mysales.MainFragment&quot;\n    android:label=&quot;MainFragment&quot; &gt;\n    &lt;action\n        android:id=&quot;@+id/action_mainFragment_to_addTransactionFragment&quot;\n        app:destination=&quot;@id/addTransactionFragment&quot; /&gt;\n&lt;/fragment&gt;\n&lt;fragment\n    android:id=&quot;@+id/adminFragment&quot;\n    android:name=&quot;com.gigaweb.mysales.AdminFragment&quot;\n    android:label=&quot;AdminFragment&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/pagerFragment&quot;\n    android:name=&quot;com.gigaweb.mysales.PagerFragment&quot;\n    android:label=&quot;fragment_pager&quot;\n    tools:layout=&quot;@layout/fragment_pager&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zFhQP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zFhQP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","jsp","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":9728098,"reputation":161,"user_id":7214251,"display_name":"Granit Krasniqi"},"score":0,"creation_date":1640510032,"post_id":70484274,"comment_id":124596419,"body_markdown":"This could help: https://stackoverflow.com/a/60213442/7214251","body":"This could help: <a href=\"https://stackoverflow.com/a/60213442/7214251\">stackoverflow.com/a/60213442/7214251</a>"},{"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"score":0,"creation_date":1640525746,"post_id":70484274,"comment_id":124599026,"body_markdown":"This is for spring mvc and I need it for spring-boot","body":"This is for spring mvc and I need it for spring-boot"}],"answers":[{"tags":[],"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1640534320,"creation_date":1640534320,"answer_id":70487851,"question_id":70484274,"body_markdown":"Put below code in @configuration class. I can able to access both jsp and html files now. \r\n\r\n\r\n    @Autowired\r\n    WebApplicationContext webApplicationContext;\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver thymeleafTemplateResolver(){\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setApplicationContext(webApplicationContext);\r\n        templateResolver.setOrder(9);\r\n        templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n        templateResolver.setSuffix(&quot;&quot;);\r\n        return templateResolver;\r\n    }\r\n    \r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n    \tSpringTemplateEngine springTemplateEngine= new SpringTemplateEngine();\r\n    \tspringTemplateEngine.setTemplateResolver(thymeleafTemplateResolver());\r\n    \tspringTemplateEngine.setEnableSpringELCompiler(true);\r\n    \treturn springTemplateEngine;\r\n    }\r\n    \r\n    @Bean\r\n    public ThymeleafViewResolver thymeleafViewResolver(){\r\n        final ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n        viewResolver.setViewNames(new String[] {&quot;*.html&quot;});\r\n        viewResolver.setExcludedViewNames(new String[] {&quot;*.jsp&quot;});\r\n        viewResolver.setTemplateEngine(templateEngine());\r\n        viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        return viewResolver;\r\n    }\r\n\r\n    @Bean\r\n    public InternalResourceViewResolver jspViewResolver(){\r\n        final InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n        viewResolver.setOrder(10);\r\n        viewResolver.setViewClass(JstlView.class);\r\n        viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n        viewResolver.setSuffix(&quot;&quot;);\r\n        viewResolver.setViewNames(&quot;*.jsp&quot;);\r\n        return viewResolver;\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I4yAA.png\r\n  [2]: https://i.stack.imgur.com/858TW.png","title":"how to use both thymeleaf and jsp in same spring boot project","body":"<p>Put below code in @configuration class. I can able to access both jsp and html files now.</p>\n<pre><code>@Autowired\nWebApplicationContext webApplicationContext;\n\n@Bean\npublic SpringResourceTemplateResolver thymeleafTemplateResolver(){\n    SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n    templateResolver.setApplicationContext(webApplicationContext);\n    templateResolver.setOrder(9);\n    templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n    templateResolver.setSuffix(&quot;&quot;);\n    return templateResolver;\n}\n\n@Bean\npublic SpringTemplateEngine templateEngine() {\n    SpringTemplateEngine springTemplateEngine= new SpringTemplateEngine();\n    springTemplateEngine.setTemplateResolver(thymeleafTemplateResolver());\n    springTemplateEngine.setEnableSpringELCompiler(true);\n    return springTemplateEngine;\n}\n\n@Bean\npublic ThymeleafViewResolver thymeleafViewResolver(){\n    final ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n    viewResolver.setViewNames(new String[] {&quot;*.html&quot;});\n    viewResolver.setExcludedViewNames(new String[] {&quot;*.jsp&quot;});\n    viewResolver.setTemplateEngine(templateEngine());\n    viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n    return viewResolver;\n}\n\n@Bean\npublic InternalResourceViewResolver jspViewResolver(){\n    final InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n    viewResolver.setOrder(10);\n    viewResolver.setViewClass(JstlView.class);\n    viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n    viewResolver.setSuffix(&quot;&quot;);\n    viewResolver.setViewNames(&quot;*.jsp&quot;);\n    return viewResolver;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/I4yAA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/I4yAA.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/858TW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/858TW.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3570177,"reputation":199,"user_id":3085387,"display_name":"Prabagaran Sellamuthu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2783,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70487851,"answer_count":1,"score":7,"last_activity_date":1640557355,"creation_date":1640494106,"question_id":70484274,"body_markdown":"I am able to access files under templates folder, But I am not able to access the jsp files.\r\nIf I remove the thymeleaf dependency, I am able to access the jsp files, but I want access both thymeleaf html files and jsp files using spring boot.\r\n\r\nBelow are my configuration in application.properties and pom.xml\r\n\r\nSpring view resolver set up\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/views/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n## Below is the ERROR , When i try to access the jsp file\r\n\r\n```\r\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;todo-form&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers spring\r\n```\r\n\r\n## My views folder structure \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F0bIn.png","title":"how to use both thymeleaf and jsp in same spring boot project","body":"<p>I am able to access files under templates folder, But I am not able to access the jsp files.\nIf I remove the thymeleaf dependency, I am able to access the jsp files, but I want access both thymeleaf html files and jsp files using spring boot.</p>\n<p>Below are my configuration in application.properties and pom.xml</p>\n<p>Spring view resolver set up</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<h2>Below is the ERROR , When i try to access the jsp file</h2>\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;todo-form&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers spring\n</code></pre>\n<h2>My views folder structure</h2>\n<p><a href=\"https://i.stack.imgur.com/F0bIn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F0bIn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14620912,"reputation":21,"user_id":10559632,"display_name":"soufiane"},"score":0,"creation_date":1640033918,"post_id":70427652,"comment_id":124495261,"body_markdown":"Yes it&#39;s answer but I still don&#39;t know what to do :)","body":"Yes it&#39;s answer but I still don&#39;t know what to do :)"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1640033994,"post_id":70427652,"comment_id":124495292,"body_markdown":"round the result before taking valueof","body":"round the result before taking valueof"},{"owner":{"account_id":14620912,"reputation":21,"user_id":10559632,"display_name":"soufiane"},"score":0,"creation_date":1640034194,"post_id":70427652,"comment_id":124495354,"body_markdown":"Yeah but I will lose some precision if I do that, I&#39;m a bit new in programming and I&#39;m afraid of side effects","body":"Yeah but I will lose some precision if I do that, I&#39;m a bit new in programming and I&#39;m afraid of side effects"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640042254,"post_id":70427652,"comment_id":124497341,"body_markdown":"For speed, use floating point. For accuracy, use `BigDecimal`. Or multiply by a power of ten sufficient to eliminate your decimal fraction.","body":"For speed, use floating point. For accuracy, use <code>BigDecimal</code>. Or multiply by a power of ten sufficient to eliminate your decimal fraction."}],"answers":[{"tags":[],"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640034192,"creation_date":1640034192,"answer_id":70428011,"question_id":70427652,"body_markdown":"Double is an approximation of decimal values in Java. Instead, replace your line using double with:\r\n\r\n    BigDecimal res = (new BigDecimal(number)).multiply(new BigDecimal(conversion));","title":"Why my function is displaying a weird result when converting string to double?","body":"<p>Double is an approximation of decimal values in Java. Instead, replace your line using double with:</p>\n<pre><code>BigDecimal res = (new BigDecimal(number)).multiply(new BigDecimal(conversion));\n</code></pre>\n"}],"owner":{"account_id":14620912,"reputation":21,"user_id":10559632,"display_name":"soufiane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640042168,"accepted_answer_id":70428011,"answer_count":1,"score":0,"last_activity_date":1640556331,"creation_date":1640032137,"question_id":70427652,"body_markdown":"I have a very weird result when I&#39;m using my function and I think that I&#39;m missing something with the rounding and double in java.\r\n\r\nFor example, when I provide the value 00159,300 for number and 100 for conversion I have 15930,000000000002 which is not possible!\r\n```\r\npublic static String convertMultiply(String number, String conversion) {\r\n    number=number.replace(&quot;,&quot;, &quot;.&quot;);\r\n    BigDecimal res=BigDecimal.valueOf(Double.valueOf(number)*Integer.valueOf(conversion));\r\n    res=res.stripTrailingZeros();\r\n    return res.toPlainString().replace(&quot;.&quot;, &quot;,&quot;);\r\n}\r\n```\r\n\r\nthanks in advance!\r\n\r\n\r\n  [1]: https://www.arthur-pere-et-fils-assainissment.fr/","title":"Why my function is displaying a weird result when converting string to double?","body":"<p>I have a very weird result when I'm using my function and I think that I'm missing something with the rounding and double in java.</p>\n<p>For example, when I provide the value 00159,300 for number and 100 for conversion I have 15930,000000000002 which is not possible!</p>\n<pre><code>public static String convertMultiply(String number, String conversion) {\n    number=number.replace(&quot;,&quot;, &quot;.&quot;);\n    BigDecimal res=BigDecimal.valueOf(Double.valueOf(number)*Integer.valueOf(conversion));\n    res=res.stripTrailingZeros();\n    return res.toPlainString().replace(&quot;.&quot;, &quot;,&quot;);\n}\n</code></pre>\n<p>thanks in advance!</p>\n"},{"tags":["java","android","inetaddress"],"comments":[{"owner":{"account_id":2736964,"reputation":1137,"user_id":2359435,"accept_rate":75,"display_name":"Max"},"score":0,"creation_date":1623335457,"post_id":67923020,"comment_id":120055445,"body_markdown":"Might be what the DNS server returns. What DNS server is being used? https://techwiser.com/check-your-dns-server/\nIs the result the same if you change the DNS server to Cloudflare? https://developers.cloudflare.com/1.1.1.1/setting-up-1.1.1.1","body":"Might be what the DNS server returns. What DNS server is being used? <a href=\"https://techwiser.com/check-your-dns-server/\" rel=\"nofollow noreferrer\">techwiser.com/check-your-dns-server</a> Is the result the same if you change the DNS server to Cloudflare? <a href=\"https://developers.cloudflare.com/1.1.1.1/setting-up-1.1.1.1\" rel=\"nofollow noreferrer\">developers.cloudflare.com/1.1.1.1/setting-up-1.1.1.1</a>"},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1623339342,"post_id":67923020,"comment_id":120057458,"body_markdown":"@Max: Thanks for the tip. Network Info II reports DNS of 192.192.1.254 (my AT&amp;T gateway. My gateway reports DNS of 68.94.156.11 (dns156r11.sbcglobal.net). I haven&#39;t figured out how to change it yet. Don&#39;t know where that came from, maybe AT&amp;T default. What DNS would you recommend?","body":"@Max: Thanks for the tip. Network Info II reports DNS of 192.192.1.254 (my AT&amp;T gateway. My gateway reports DNS of 68.94.156.11 (dns156r11.sbcglobal.net). I haven&#39;t figured out how to change it yet. Don&#39;t know where that came from, maybe AT&amp;T default. What DNS would you recommend?"},{"owner":{"account_id":2736964,"reputation":1137,"user_id":2359435,"accept_rate":75,"display_name":"Max"},"score":0,"creation_date":1623654817,"post_id":67923020,"comment_id":120130343,"body_markdown":"Cloudflare - 1.1.1.1","body":"Cloudflare - 1.1.1.1"}],"answers":[{"tags":[],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1623520477,"creation_date":1623415638,"answer_id":67937316,"question_id":67923020,"body_markdown":"This is not an Android/Java defect. It turns out it was a DNS issue. Namely, my AT&amp;T phone uses AT&amp;T&#39;s default DNS server (sbcglobal.net). This P.O.S. server returns a valid IP address **even for non-existent domains**. After I changed to &quot;dns.google&quot; (8.8.8.8), everything worked as expected.  \r\n\r\nThis DNS spoofing is a Bad Thing because many apps depened on a Unknown-Host-Exception to detect an incorrectly entered domain, e.g. in an email address.\r\n","title":"InetAddress.getByName returns &quot;akamaitechnologies.com for non-existent host","body":"<p>This is not an Android/Java defect. It turns out it was a DNS issue. Namely, my AT&amp;T phone uses AT&amp;T's default DNS server (sbcglobal.net). This P.O.S. server returns a valid IP address <strong>even for non-existent domains</strong>. After I changed to &quot;dns.google&quot; (8.8.8.8), everything worked as expected.</p>\n<p>This DNS spoofing is a Bad Thing because many apps depened on a Unknown-Host-Exception to detect an incorrectly entered domain, e.g. in an email address.</p>\n"}],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67937316,"answer_count":1,"score":0,"last_activity_date":1640555868,"creation_date":1623334704,"question_id":67923020,"body_markdown":"I have found that resolution of a hostname that does *NOT* exist always returns an address belonging to &quot;akamaitechnologies.com&quot; (e.g. 23.221.222.250). It *does* work correctly for hosts that *do* exist.  \r\n\r\n**Code:**  \r\n\r\n    InetAddress addr = InetAddress.getByName( &quot;NON-EXISTING.com&quot; );\r\nThe documentation for InetAddress or a Google search provide little help.  It is claimed that an UnknownHostException should occur but that does not happen for me.\r\n\r\n**Why is this happening?**","title":"InetAddress.getByName returns &quot;akamaitechnologies.com for non-existent host","body":"<p>I have found that resolution of a hostname that does <em>NOT</em> exist always returns an address belonging to &quot;akamaitechnologies.com&quot; (e.g. 23.221.222.250). It <em>does</em> work correctly for hosts that <em>do</em> exist.</p>\n<p><strong>Code:</strong></p>\n<pre><code>InetAddress addr = InetAddress.getByName( &quot;NON-EXISTING.com&quot; );\n</code></pre>\n<p>The documentation for InetAddress or a Google search provide little help.  It is claimed that an UnknownHostException should occur but that does not happen for me.</p>\n<p><strong>Why is this happening?</strong></p>\n"},{"tags":["java","generics","identifier","jls"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1640321225,"post_id":70469272,"comment_id":124569375,"body_markdown":"It&#39;s a good question. [Section 6.2](https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.2) defines &#39;qualified names&#39; as (my paraphrase) a dot-separated list of identifiers, so it would seem that in that context, identifiers are not themselves &#39;qualified&#39;.  Which is backed up by [section 3.8](https://docs.oracle.com/javase/specs/jls/se11/html/jls-3.html#jls-3.8).   I used JLS 11 for reference.  Although a type variable does not seem to be a &#39;name&#39;, I still find no evidence of qualified identifiers elsewhere.","body":"It&#39;s a good question. <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.2\" rel=\"nofollow noreferrer\">Section 6.2</a> defines &#39;qualified names&#39; as (my paraphrase) a dot-separated list of identifiers, so it would seem that in that context, identifiers are not themselves &#39;qualified&#39;.  Which is backed up by <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-3.html#jls-3.8\" rel=\"nofollow noreferrer\">section 3.8</a>.   I used JLS 11 for reference.  Although a type variable does not seem to be a &#39;name&#39;, I still find no evidence of qualified identifiers elsewhere."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1640321672,"post_id":70469272,"comment_id":124569439,"body_markdown":"Thus &#39;unqualified identifier&#39; is at best a redundancy.","body":"Thus &#39;unqualified identifier&#39; is at best a redundancy."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640321847,"post_id":70469272,"comment_id":124569460,"body_markdown":"[Section 6.5.6.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.5.6.2) also refers to qualified expressions.  Hence, &quot;qualified&quot; has a common meaning in the JLS ... even if they don&#39;t explicitly define it.","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.5.6.2\" rel=\"nofollow noreferrer\">Section 6.5.6.2</a> also refers to qualified expressions.  Hence, &quot;qualified&quot; has a common meaning in the JLS ... even if they don&#39;t explicitly define it."},{"owner":{"account_id":226171,"reputation":2569,"user_id":487062,"accept_rate":67,"display_name":"Sujith Surendranathan"},"score":0,"creation_date":1640322083,"post_id":70469272,"comment_id":124569493,"body_markdown":"Thanks passer-by and Stephen C. In the specification, the term qualified means different things in different sections/contexts, hence the ambiguity. Here, the context is type variables in generics.","body":"Thanks passer-by and Stephen C. In the specification, the term qualified means different things in different sections/contexts, hence the ambiguity. Here, the context is type variables in generics."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1640322344,"post_id":70469272,"comment_id":124569528,"body_markdown":"See also [6.7](https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.7). I think it&#39;s just saying that you can&#39;t qualify a type variable with a package or class name, e.g. `com.example.Foo.T`.","body":"See also <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-6.7\" rel=\"nofollow noreferrer\">6.7</a>. I think it&#39;s just saying that you can&#39;t qualify a type variable with a package or class name, e.g. <code>com.example.Foo.T</code>."},{"owner":{"account_id":226171,"reputation":2569,"user_id":487062,"accept_rate":67,"display_name":"Sujith Surendranathan"},"score":0,"creation_date":1640322760,"post_id":70469272,"comment_id":124569576,"body_markdown":"shmosel: Thanks. Probably I am being pedantic, but Section 6.7 discusses names, not identifiers. In addition, it doesn&#39;t discuss type variables in any way, anyway.","body":"shmosel: Thanks. Probably I am being pedantic, but Section 6.7 discusses names, not identifiers. In addition, it doesn&#39;t discuss type variables in any way, anyway."}],"answers":[{"tags":[],"owner":{"display_name":"user11595728"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640555248,"creation_date":1640555248,"answer_id":70490087,"question_id":70469272,"body_markdown":"We can go at this the other way. The quoted sentence just summarizes what a type variable is. The grammar has the formal definition of a _type variable_, from which we can deduce that an &quot;unqualified&quot; identifier is basically... an identifier.\r\n\r\n*(from JLS 17):* \r\n```\r\nTypeVariable\r\n    {Annotation} TypeIdentifier\r\n\r\nTypeIdentifier:\r\n    Identifier but not permits, record, sealed, var, or yield\r\n\r\nIdentifier:\r\n    IdentifierChars but not a Keyword or BooleanLiteral or NullLiteral\r\n```","title":"What is the formal definition of an unqualified identifier in Java?","body":"<p>We can go at this the other way. The quoted sentence just summarizes what a type variable is. The grammar has the formal definition of a <em>type variable</em>, from which we can deduce that an &quot;unqualified&quot; identifier is basically... an identifier.</p>\n<p><em>(from JLS 17):</em></p>\n<pre><code>TypeVariable\n    {Annotation} TypeIdentifier\n\nTypeIdentifier:\n    Identifier but not permits, record, sealed, var, or yield\n\nIdentifier:\n    IdentifierChars but not a Keyword or BooleanLiteral or NullLiteral\n</code></pre>\n"}],"owner":{"account_id":226171,"reputation":2569,"user_id":487062,"accept_rate":67,"display_name":"Sujith Surendranathan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640555248,"creation_date":1640316184,"question_id":70469272,"body_markdown":"In Java, what is the formal definition of an &quot;unqualified identifier&quot;? \r\n\r\nThe [Java Language Specification][1] mentions an unqualified identifier while defining what a type variable is, in section 4.4:\r\n\r\n&gt; A type variable is an unqualified identifier used as a type in class,\r\n&gt; interface, method, and constructor bodies.\r\n\r\nHowever, I could not find any formal definition for unqualified (or qualified) identifier in the specification.\r\n\r\nIs this available somewhere else in the documentation? Or is it considered too trivial to warrant a formal definition?\r\n\r\nNote: The specification does define one other unqualified entity - the unqualified directive - in section 7.7.2:\r\n\r\n&gt; If an exports or opens directive has a to clause, then the directive\r\n&gt; is qualified; otherwise, it is unqualified.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/jls17.pdf","title":"What is the formal definition of an unqualified identifier in Java?","body":"<p>In Java, what is the formal definition of an &quot;unqualified identifier&quot;?</p>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/jls17.pdf\" rel=\"nofollow noreferrer\">Java Language Specification</a> mentions an unqualified identifier while defining what a type variable is, in section 4.4:</p>\n<blockquote>\n<p>A type variable is an unqualified identifier used as a type in class,\ninterface, method, and constructor bodies.</p>\n</blockquote>\n<p>However, I could not find any formal definition for unqualified (or qualified) identifier in the specification.</p>\n<p>Is this available somewhere else in the documentation? Or is it considered too trivial to warrant a formal definition?</p>\n<p>Note: The specification does define one other unqualified entity - the unqualified directive - in section 7.7.2:</p>\n<blockquote>\n<p>If an exports or opens directive has a to clause, then the directive\nis qualified; otherwise, it is unqualified.</p>\n</blockquote>\n"},{"tags":["java","generics","inheritance","vector"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1640286856,"post_id":70466484,"comment_id":124563635,"body_markdown":"&quot;*`public static &lt;T&gt; T getMax (Vector&lt;Comparable&lt;T&gt;&gt; v){`*&quot; looks weird. I would suggest to use `public static &lt;T extends Comparable&lt;T&gt;&gt; T getMax (Vector&lt;T&gt; v){`. --- &quot;*`Vector&lt;Student&gt; v = new Vector();`*&quot; - [Don&#39;t use raw types](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it). --- `Vector`s are specifically designed for concurrency. If we do not need this, we can use a `List` instead.","body":"&quot;<i><code>public static &lt;T&gt; T getMax (Vector&lt;Comparable&lt;T&gt;&gt; v){</code></i>&quot; looks weird. I would suggest to use <code>public static &lt;T extends Comparable&lt;T&gt;&gt; T getMax (Vector&lt;T&gt; v){</code>. --- &quot;<i><code>Vector&lt;Student&gt; v = new Vector();</code></i>&quot; - <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">Don&#39;t use raw types</a>. --- <code>Vector</code>s are specifically designed for concurrency. If we do not need this, we can use a <code>List</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640554955,"creation_date":1640554955,"answer_id":70490062,"question_id":70466484,"body_markdown":"Basically repeating what @Turing85 mentioned, but the issue is in your `Application.getMax()`. You do not want to do `Vector&lt;Comparable&lt;T&gt;&gt;`, you want to do `Vector&lt;T&gt;` and then have the type parameter `T` be defined as `&lt;T extends Comparable&lt;T&gt;&gt;`. Here is what your corrected method header should look like.\r\n\r\n`public static &lt;T extends Comparable&lt;T&gt;&gt; T getMax (Vector&lt;T&gt; v)`\r\n\r\n---\r\n\r\nWhen you say `Vector&lt;Comparable&lt;T&gt;&gt;`, you are saying that you want a `Vector` of `Comparable`. And I don&#39;t mean &quot;Objects that implement Comparable&quot;, you are literally saying that the only acceptable types permitted into your Vector is the Comparable class - ***which invalidates any classes that implement Comparable***.\r\n\r\nHere is an example of what I am saying.\r\n\r\n```\r\nVector&lt;Comparable&lt;Integer&gt;&gt; comparables = new Vector&lt;&gt;();\r\n\r\n//error - Integer is not a Comparable, it only IMPLEMENTS Comparable\r\ncomparables.add(12345);\r\n```\r\n```\r\nVector&lt;Comparable&lt;String&gt;&gt; comparables = new Vector&lt;&gt;();\r\n\r\n//error - String is not a Comparable, it only IMPLEMENTS Comparable\r\ncomparables.add(&quot;abc&quot;);\r\n```\r\n```\r\nVector&lt;Comparable&lt;String&gt;&gt; comparables = new Vector&lt;&gt;();\r\n\r\nComparable&lt;String&gt; c =\r\n    new Comparable&lt;String&gt;() {\r\n            public int compareTo(String s) {\r\n                return 0;\r\n            }\r\n        };\r\n\r\n//OK - Comparable&lt;String&gt; is a Comparable, so it works\r\ncomparables.add(c);\r\n\r\n```\r\n\r\nThat&#39;s why it is much easier to say `&lt;T extends Comparable&lt;T&gt;&gt;` and then just say `Vector&lt;T&gt;`. If we switch out the `getMax()` method header with the one I/Turing85 gave you, then your Application class should work easier.","title":"How to pass Vector of generic class as an argument?","body":"<p>Basically repeating what @Turing85 mentioned, but the issue is in your <code>Application.getMax()</code>. You do not want to do <code>Vector&lt;Comparable&lt;T&gt;&gt;</code>, you want to do <code>Vector&lt;T&gt;</code> and then have the type parameter <code>T</code> be defined as <code>&lt;T extends Comparable&lt;T&gt;&gt;</code>. Here is what your corrected method header should look like.</p>\n<p><code>public static &lt;T extends Comparable&lt;T&gt;&gt; T getMax (Vector&lt;T&gt; v)</code></p>\n<hr />\n<p>When you say <code>Vector&lt;Comparable&lt;T&gt;&gt;</code>, you are saying that you want a <code>Vector</code> of <code>Comparable</code>. And I don't mean &quot;Objects that implement Comparable&quot;, you are literally saying that the only acceptable types permitted into your Vector is the Comparable class - <em><strong>which invalidates any classes that implement Comparable</strong></em>.</p>\n<p>Here is an example of what I am saying.</p>\n<pre><code>Vector&lt;Comparable&lt;Integer&gt;&gt; comparables = new Vector&lt;&gt;();\n\n//error - Integer is not a Comparable, it only IMPLEMENTS Comparable\ncomparables.add(12345);\n</code></pre>\n<pre><code>Vector&lt;Comparable&lt;String&gt;&gt; comparables = new Vector&lt;&gt;();\n\n//error - String is not a Comparable, it only IMPLEMENTS Comparable\ncomparables.add(&quot;abc&quot;);\n</code></pre>\n<pre><code>Vector&lt;Comparable&lt;String&gt;&gt; comparables = new Vector&lt;&gt;();\n\nComparable&lt;String&gt; c =\n    new Comparable&lt;String&gt;() {\n            public int compareTo(String s) {\n                return 0;\n            }\n        };\n\n//OK - Comparable&lt;String&gt; is a Comparable, so it works\ncomparables.add(c);\n\n</code></pre>\n<p>That's why it is much easier to say <code>&lt;T extends Comparable&lt;T&gt;&gt;</code> and then just say <code>Vector&lt;T&gt;</code>. If we switch out the <code>getMax()</code> method header with the one I/Turing85 gave you, then your Application class should work easier.</p>\n"}],"owner":{"account_id":16354732,"reputation":374,"user_id":11812216,"display_name":"forstack overflowizi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640554955,"creation_date":1640286749,"question_id":70466484,"body_markdown":"I have these classes (in different files):  \r\n\r\n    public class Student implements Comparable&lt;Student&gt; {\r\n      ...\r\n    }\r\n    public class Application {\r\n         public static &lt;T&gt; T getMax (Vector&lt;Comparable&lt;T&gt;&gt; v){\r\n    \t}\r\n    }\r\nI try to pull this off:  \r\n\r\n    public static void main(){\r\n        Vector&lt;Student&gt; v = new Vector();\r\n        v.add(new Student());\r\n        v.add(new Student());\r\n        Application app = new Application();\r\n        app.getMax(v);// &lt;--- error is here\r\n    }\r\n\r\nBut i get the error:  \r\n\r\n&gt; The method getMax(Vector&lt;Comparable&lt;T&gt;&gt;) in the type Application is\r\n&gt; not applicable for the arguments (Vector&lt;Question&gt;)\r\n\r\nWhat am i missing?  ","title":"How to pass Vector of generic class as an argument?","body":"<p>I have these classes (in different files):</p>\n<pre><code>public class Student implements Comparable&lt;Student&gt; {\n  ...\n}\npublic class Application {\n     public static &lt;T&gt; T getMax (Vector&lt;Comparable&lt;T&gt;&gt; v){\n    }\n}\n</code></pre>\n<p>I try to pull this off:</p>\n<pre><code>public static void main(){\n    Vector&lt;Student&gt; v = new Vector();\n    v.add(new Student());\n    v.add(new Student());\n    Application app = new Application();\n    app.getMax(v);// &lt;--- error is here\n}\n</code></pre>\n<p>But i get the error:</p>\n<blockquote>\n<p>The method getMax(Vector&lt;Comparable&gt;) in the type Application is\nnot applicable for the arguments (Vector)</p>\n</blockquote>\n<p>What am i missing?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"score":3,"creation_date":1634188866,"post_id":69565425,"comment_id":122959410,"body_markdown":"have a try `return c.cast(obj.getAsString())`, does it work for you","body":"have a try <code>return c.cast(obj.getAsString())</code>, does it work for you"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1634189193,"post_id":69565425,"comment_id":122959473,"body_markdown":"What are you doing in `getAsString` and `getAsInt`? Converting values? Or are you just casting `Object`-typed values to method return types?","body":"What are you doing in <code>getAsString</code> and <code>getAsInt</code>? Converting values? Or are you just casting <code>Object</code>-typed values to method return types?"},{"owner":{"account_id":400648,"reputation":5518,"user_id":766736,"accept_rate":49,"display_name":"Jer"},"score":0,"creation_date":1634189342,"post_id":69565425,"comment_id":122959503,"body_markdown":"@ernest_k - does it matter with respect to the error I&#39;m getting?  It&#39;s a really contrived example intended to really just focus on the generic type and the error I was getting (sorry), so let&#39;s just assume that getAsString returns &quot;hello&quot; and getAsInt returns 42.","body":"@ernest_k - does it matter with respect to the error I&#39;m getting?  It&#39;s a really contrived example intended to really just focus on the generic type and the error I was getting (sorry), so let&#39;s just assume that getAsString returns &quot;hello&quot; and getAsInt returns 42."},{"owner":{"account_id":400648,"reputation":5518,"user_id":766736,"accept_rate":49,"display_name":"Jer"},"score":0,"creation_date":1634189391,"post_id":69565425,"comment_id":122959513,"body_markdown":"@ProGu Yes!  Compiles at least.  Why?","body":"@ProGu Yes!  Compiles at least.  Why?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1634189472,"post_id":69565425,"comment_id":122959531,"body_markdown":"@Jer I was about to post an answer that made the assumption that your API contract assumes the caller knows the data type of values they&#39;re getting. If you are not converting values, then all this casting can be avoided altogether. In that sense, whether you&#39;re converting or just casting matters. The `getValue()` API is rather easy to simplify.","body":"@Jer I was about to post an answer that made the assumption that your API contract assumes the caller knows the data type of values they&#39;re getting. If you are not converting values, then all this casting can be avoided altogether. In that sense, whether you&#39;re converting or just casting matters. The <code>getValue()</code> API is rather easy to simplify."},{"owner":{"account_id":400648,"reputation":5518,"user_id":766736,"accept_rate":49,"display_name":"Jer"},"score":0,"creation_date":1634189990,"post_id":69565425,"comment_id":122959634,"body_markdown":"@ernest_k well, yes - in my (real) example, the caller does know the (intended) data type, but often (in the case of bad data) that won&#39;t be true, and an exception would be thrown.  The real use case for this is that I want to call this repeatedly for multiple (say 20) different instances of MyObject, catching the exception in getValue(), and continuing on for the rest of the instances.  Without this, I&#39;d either have a big try block wrapping all of the calls to getValue, but if any of them threw an exception, then I would stop processing the others.  Or I&#39;d need 20 try/catch blocks.","body":"@ernest_k well, yes - in my (real) example, the caller does know the (intended) data type, but often (in the case of bad data) that won&#39;t be true, and an exception would be thrown.  The real use case for this is that I want to call this repeatedly for multiple (say 20) different instances of MyObject, catching the exception in getValue(), and continuing on for the rest of the instances.  Without this, I&#39;d either have a big try block wrapping all of the calls to getValue, but if any of them threw an exception, then I would stop processing the others.  Or I&#39;d need 20 try/catch blocks."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1634191156,"post_id":69565425,"comment_id":122959883,"body_markdown":"@Jer I think the flow you&#39;re referring to (calling repeatedly, try/catch) is beside the question you posted, but I have a feeling that this is an XY problem (just having difficulties imagining that you would be specifically declaring the data type of each call to `getValue()` if you have to iterate a list of `MyObject` instances, but this is surely me not knowing enough about your concrete use case.","body":"@Jer I think the flow you&#39;re referring to (calling repeatedly, try/catch) is beside the question you posted, but I have a feeling that this is an XY problem (just having difficulties imagining that you would be specifically declaring the data type of each call to <code>getValue()</code> if you have to iterate a list of <code>MyObject</code> instances, but this is surely me not knowing enough about your concrete use case."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634191345,"creation_date":1634191345,"answer_id":69565753,"question_id":69565425,"body_markdown":"First of all, *if* `getAsString` and `getAsInt` are not doing any conversion (such as would be the case if all your values were stored as strings), you probably can reduce your method to this:\r\n\r\n\tpublic &lt;T&gt; T getValue(MyObject obj) {\r\n\t\treturn (T) obj.value;\r\n\t}\r\n\r\nThis will have an unchecked cast warning, but that&#39;s not worse than leaving the typing decision to your caller (so I&#39;d just `@SuppressWarnings(&quot;unchecked&quot;)` it). If your caller uses the wrong target type, they will get a `ClassCastException` at runtime, which I assume goes well with your current contract. But you can keep `c.cast(obj.getAsX())` if you want the exception to be raised in your own method.\r\n\r\nWith the above, your callers would just use:\r\n\r\n    String s = getValue(obj);\r\n    int i = getValue(obj);\r\n\r\nIf, however, you are actually converting data in `getAs...` methods, then you will need to cast in your generic getter after dispatching to the correct getAsX method, at least as [ProGu suggested](https://stackoverflow.com/questions/69565425/how-can-i-use-generics-to-provide-a-universal-getter-method#comment122959410_69565425) (i.e., `return c.cast(obj.getAsX())` in each branch).","title":"How can I use generics to provide a &quot;universal getter method&quot;?","body":"<p>First of all, <em>if</em> <code>getAsString</code> and <code>getAsInt</code> are not doing any conversion (such as would be the case if all your values were stored as strings), you probably can reduce your method to this:</p>\n<pre><code>public &lt;T&gt; T getValue(MyObject obj) {\n    return (T) obj.value;\n}\n</code></pre>\n<p>This will have an unchecked cast warning, but that's not worse than leaving the typing decision to your caller (so I'd just <code>@SuppressWarnings(&quot;unchecked&quot;)</code> it). If your caller uses the wrong target type, they will get a <code>ClassCastException</code> at runtime, which I assume goes well with your current contract. But you can keep <code>c.cast(obj.getAsX())</code> if you want the exception to be raised in your own method.</p>\n<p>With the above, your callers would just use:</p>\n<pre><code>String s = getValue(obj);\nint i = getValue(obj);\n</code></pre>\n<p>If, however, you are actually converting data in <code>getAs...</code> methods, then you will need to cast in your generic getter after dispatching to the correct getAsX method, at least as <a href=\"https://stackoverflow.com/questions/69565425/how-can-i-use-generics-to-provide-a-universal-getter-method#comment122959410_69565425\">ProGu suggested</a> (i.e., <code>return c.cast(obj.getAsX())</code> in each branch).</p>\n"},{"tags":[],"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640554774,"creation_date":1640554774,"answer_id":70490049,"question_id":69565425,"body_markdown":"If you want to to create a single method with really safe casts - then I would suggest to setup a mapping between the expected `type` and its respective `getter`.\r\n\r\nGiven the `MyObject` class definition as:\r\n\r\n    public class MyObject {\r\n\r\n        public int getIntValue() {\r\n            return 42;\r\n        }\r\n    \r\n        public String getStringValue() {\r\n            return &quot;Answer&quot;;\r\n        }\r\n    }\r\n\r\nSo that the &quot;accessor&quot; class could look as follows (it can be generalized further if needed):\r\n    \r\n    public class MyObjectAccessor {    \r\n        private final Map&lt;Class&lt;?&gt;, Function&lt;MyObject, ?&gt;&gt; registry = new HashMap&lt;&gt;();\r\n        \r\n        public Accessor() {\r\n            registerGetter(Integer.class, MyObject::getIntValue);\r\n            registerGetter(String.class, MyObject::getStringValue);\r\n        }\r\n        \r\n        private &lt;T&gt; void registerGetter(Class&lt;T&gt; type, Function&lt;MyObject, T&gt; getter) {\r\n            registry.put(type, getter);\r\n        }\r\n        \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public &lt;T&gt; Optional&lt;T&gt; getValue(MyObject obj, Class&lt;T&gt; type) {\r\n            return (Optional&lt;T&gt;) ofNullable(registry.get(type)).map(getter -&gt; getter.apply(obj));\r\n        }\r\n    }\r\n\r\nThis would allow you to make the behavior much more predictable with a control over the unexpected/missing mapping. \r\n(Here it returns an `Optional` back, but you can also throw an exception or provide a default value or do something else)\r\n\r\n\r\n----------\r\n\r\n*Please note that the cast inside `getValue` is actually a safe checked cast (even though it was marked with `@SuppressWarnings`) as the &quot;safety&quot; proof here is a little bit beyond current javac&#39;s capability of static code analysys.*","title":"How can I use generics to provide a &quot;universal getter method&quot;?","body":"<p>If you want to to create a single method with really safe casts - then I would suggest to setup a mapping between the expected <code>type</code> and its respective <code>getter</code>.</p>\n<p>Given the <code>MyObject</code> class definition as:</p>\n<pre><code>public class MyObject {\n\n    public int getIntValue() {\n        return 42;\n    }\n\n    public String getStringValue() {\n        return &quot;Answer&quot;;\n    }\n}\n</code></pre>\n<p>So that the &quot;accessor&quot; class could look as follows (it can be generalized further if needed):</p>\n<pre><code>public class MyObjectAccessor {    \n    private final Map&lt;Class&lt;?&gt;, Function&lt;MyObject, ?&gt;&gt; registry = new HashMap&lt;&gt;();\n    \n    public Accessor() {\n        registerGetter(Integer.class, MyObject::getIntValue);\n        registerGetter(String.class, MyObject::getStringValue);\n    }\n    \n    private &lt;T&gt; void registerGetter(Class&lt;T&gt; type, Function&lt;MyObject, T&gt; getter) {\n        registry.put(type, getter);\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; Optional&lt;T&gt; getValue(MyObject obj, Class&lt;T&gt; type) {\n        return (Optional&lt;T&gt;) ofNullable(registry.get(type)).map(getter -&gt; getter.apply(obj));\n    }\n}\n</code></pre>\n<p>This would allow you to make the behavior much more predictable with a control over the unexpected/missing mapping.\n(Here it returns an <code>Optional</code> back, but you can also throw an exception or provide a default value or do something else)</p>\n<hr />\n<p><em>Please note that the cast inside <code>getValue</code> is actually a safe checked cast (even though it was marked with <code>@SuppressWarnings</code>) as the &quot;safety&quot; proof here is a little bit beyond current javac's capability of static code analysys.</em></p>\n"}],"owner":{"account_id":400648,"reputation":5518,"user_id":766736,"accept_rate":49,"display_name":"Jer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640554774,"creation_date":1634188653,"question_id":69565425,"body_markdown":"This question is more theoretical (what I want to do is more complicated but this is the part I&#39;m stuck on), so apologies for the contrived example which may not make much sense.\r\n\r\nSay I have some class that has methods that return its value in different forms:\r\n\r\n    public class MyObject {\r\n        public String getAsString() {...}\r\n        public int getAsInt() {...}\r\n        // and so on\r\n    }\r\n\r\nI&#39;m trying to create a single method to allow me to specify which MyObject method to call via its parameters.  Something like:\r\n\r\n    public &lt;T&gt; T getValue(MyObject obj, Class&lt;T&gt; c) {\r\n        if (c == String.class) {\r\n            return obj.getAsString();\r\n        } else if (c == Integer.class) {\r\n            return obj.getAsInt();\r\n        } // and so on\r\n    }\r\n\r\nSo then I would like to call this method like this, assuming obj is a MyObject:\r\n\r\n    String s = getValue(obj, String.class);\r\n    int i = getValue(obj, Integer.class);\r\n    // and so on\r\n\r\nI&#39;m getting the compile error &quot;Type mismatch:  cannot convert from String to T&quot; (and likewise for Integer) in the getValue method.  Clearly I&#39;m just not understanding generics fully, but I thought this was the general idea behind generics - here I&#39;m specifying (or trying to specify, at least) the real type of T via the parameter c.  What am I doing wrong?\r\n\r\n","title":"How can I use generics to provide a &quot;universal getter method&quot;?","body":"<p>This question is more theoretical (what I want to do is more complicated but this is the part I'm stuck on), so apologies for the contrived example which may not make much sense.</p>\n<p>Say I have some class that has methods that return its value in different forms:</p>\n<pre><code>public class MyObject {\n    public String getAsString() {...}\n    public int getAsInt() {...}\n    // and so on\n}\n</code></pre>\n<p>I'm trying to create a single method to allow me to specify which MyObject method to call via its parameters.  Something like:</p>\n<pre><code>public &lt;T&gt; T getValue(MyObject obj, Class&lt;T&gt; c) {\n    if (c == String.class) {\n        return obj.getAsString();\n    } else if (c == Integer.class) {\n        return obj.getAsInt();\n    } // and so on\n}\n</code></pre>\n<p>So then I would like to call this method like this, assuming obj is a MyObject:</p>\n<pre><code>String s = getValue(obj, String.class);\nint i = getValue(obj, Integer.class);\n// and so on\n</code></pre>\n<p>I'm getting the compile error &quot;Type mismatch:  cannot convert from String to T&quot; (and likewise for Integer) in the getValue method.  Clearly I'm just not understanding generics fully, but I thought this was the general idea behind generics - here I'm specifying (or trying to specify, at least) the real type of T via the parameter c.  What am I doing wrong?</p>\n"},{"tags":["java","eclipse","jakarta-ee","glassfish","java-ee-8"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640231195,"post_id":70457435,"comment_id":124547896,"body_markdown":"You are really confused.  `jdk-8u231-windows-x64.exe` is not a Java EE installer.  It is a Java SE JDK installer.  And there is no such thing as &quot;JDK EE&quot;.","body":"You are really confused.  <code>jdk-8u231-windows-x64.exe</code> is not a Java EE installer.  It is a Java SE JDK installer.  And there is no such thing as &quot;JDK EE&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1640231376,"post_id":70457435,"comment_id":124547923,"body_markdown":"What you actually need to do is install: Glassfish from https://glassfish.org/download AND a Java JDK (or JRE) from your preferred Java vendor.","body":"What you actually need to do is install: Glassfish from <a href=\"https://glassfish.org/download\" rel=\"nofollow noreferrer\">glassfish.org/download</a> AND a Java JDK (or JRE) from your preferred Java vendor."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640231746,"post_id":70457435,"comment_id":124547969,"body_markdown":"Note the documentation says that Glassfish will run on Java 8 patch 144 or later ... but a newer (Java 11 or Java 17) JDK would be a better idea.","body":"Note the documentation says that Glassfish will run on Java 8 patch 144 or later ... but a newer (Java 11 or Java 17) JDK would be a better idea."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640554452,"creation_date":1640234914,"answer_id":70457757,"question_id":70457435,"body_markdown":"There is no such thing as a *JDK EE*. \r\n\r\n# JDK\r\n\r\nA [JDK][1] is an implementation of the [Java SE (Standard Edition) specifications][2]. A JDK is composed of development tools such as a compiler, and of runtime tools that include a Java Virtual Machine (JVM) and an implementation of the standard libraries including the classes such as `ArrayList`, `LocalDate`, and so on.\r\n\r\nThe first sentence of the linked Wikipedia article on JDK is incorrect in claiming Oracle is the sole vendor. Oracle Corporation is but one of several vendors providing builds and installers for a JDK. Other vendors include, off the top of my head: Amazon, Azul Systems, Microsoft, Adoptium, SAP, BellSoft, Red Hat/IBM, Pivotal, and maybe more. Nowadays, most of these companies offerings are based largely or entirely on the open-source code base collaboratively built at the *OpenJDK* project. So you will find the quality and performance to be largely the same across these JDK products.\r\n\r\nSo your first chore is to choose a vendor and obtain and install a JDK. Some JDK products are free-of-cost and some require a fee. Be aware at the time of download. See [*Java Is Still Free*][3] for more information. \r\n\r\nChoose a version of JDK appropriate to your choice of Jakarta EE product discussed below. Be aware that Java 8, 11, and 17 are the long-term support (LTS) versions of Java. \r\n\r\n# Jakarta EE\r\n\r\nJakarta EE, formerly known as Java EE (Enterprise Edition), is a collection of dozens of specifications for various kinds of enterprise-oriented software you may want to run on top of your Java SE JDK installation. \r\n\r\nMost of these products are aimed at server-side usage. A few can also be used in desktop apps, such as [*Jakarta Bean Validation*][4] and [*Jakarta Contexts and Dependency Injection*][5].\r\n\r\nThe Jakarta EE specifications are owned by the Eclipse Foundation, having been donated by Oracle Corp. Their further development is proceeding in a transparent open-source manner. \r\n\r\nSeveral vendors provide implementations of the various Jakarta EE specifications. Some are available individually as a library to include in your app. And some vendors offer an assortment of products bundled together to be run as an application server. \r\n\r\nThe [*Glassfish*][6] product you mentioned in your Question is one such application server offering. Similar products from various vendors include *Payara*, *Open Liberty*, *Wildfly*, *JBoss*, and more.\r\n\r\nYour second chore is to choose a vendor and obtain a Jakarta EE compliant application server product. You then install that on the same machine you installed the JDK.\r\n\r\nIf you are starting fresh on a new project, I would suggest using [Java 17][7] with an app server compliant with [Jakarta EE 9.1][8]. [*Eclipse GlassFish*][9] 6.2.3 is one such product to consider. The Jakarta EE site maintains a [list of compliant products][10].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [2]: https://docs.oracle.com/javase/specs/\r\n  [3]: https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b\r\n  [4]: http://Q%20https://beanvalidation.org/\r\n  [5]: https://jakarta.ee/specifications/cdi/\r\n  [6]: https://en.m.wikipedia.org/wiki/GlassFish\r\n  [7]: https://en.m.wikipedia.org/wiki/Java_version_history#Java_17\r\n  [8]: https://jakarta.ee/release/9.1/\r\n  [9]: https://glassfish.org/\r\n  [10]: https://jakarta.ee/compatibility/","title":"Where to download latest JDK EE instead of glassfish","body":"<p>There is no such thing as a <em>JDK EE</em>.</p>\n<h1>JDK</h1>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> is an implementation of the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java SE (Standard Edition) specifications</a>. A JDK is composed of development tools such as a compiler, and of runtime tools that include a Java Virtual Machine (JVM) and an implementation of the standard libraries including the classes such as <code>ArrayList</code>, <code>LocalDate</code>, and so on.</p>\n<p>The first sentence of the linked Wikipedia article on JDK is incorrect in claiming Oracle is the sole vendor. Oracle Corporation is but one of several vendors providing builds and installers for a JDK. Other vendors include, off the top of my head: Amazon, Azul Systems, Microsoft, Adoptium, SAP, BellSoft, Red Hat/IBM, Pivotal, and maybe more. Nowadays, most of these companies offerings are based largely or entirely on the open-source code base collaboratively built at the <em>OpenJDK</em> project. So you will find the quality and performance to be largely the same across these JDK products.</p>\n<p>So your first chore is to choose a vendor and obtain and install a JDK. Some JDK products are free-of-cost and some require a fee. Be aware at the time of download. See <a href=\"https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b\" rel=\"nofollow noreferrer\"><em>Java Is Still Free</em></a> for more information.</p>\n<p>Choose a version of JDK appropriate to your choice of Jakarta EE product discussed below. Be aware that Java 8, 11, and 17 are the long-term support (LTS) versions of Java.</p>\n<h1>Jakarta EE</h1>\n<p>Jakarta EE, formerly known as Java EE (Enterprise Edition), is a collection of dozens of specifications for various kinds of enterprise-oriented software you may want to run on top of your Java SE JDK installation.</p>\n<p>Most of these products are aimed at server-side usage. A few can also be used in desktop apps, such as <a href=\"http://Q%20https://beanvalidation.org/\" rel=\"nofollow noreferrer\"><em>Jakarta Bean Validation</em></a> and <a href=\"https://jakarta.ee/specifications/cdi/\" rel=\"nofollow noreferrer\"><em>Jakarta Contexts and Dependency Injection</em></a>.</p>\n<p>The Jakarta EE specifications are owned by the Eclipse Foundation, having been donated by Oracle Corp. Their further development is proceeding in a transparent open-source manner.</p>\n<p>Several vendors provide implementations of the various Jakarta EE specifications. Some are available individually as a library to include in your app. And some vendors offer an assortment of products bundled together to be run as an application server.</p>\n<p>The <a href=\"https://en.m.wikipedia.org/wiki/GlassFish\" rel=\"nofollow noreferrer\"><em>Glassfish</em></a> product you mentioned in your Question is one such application server offering. Similar products from various vendors include <em>Payara</em>, <em>Open Liberty</em>, <em>Wildfly</em>, <em>JBoss</em>, and more.</p>\n<p>Your second chore is to choose a vendor and obtain a Jakarta EE compliant application server product. You then install that on the same machine you installed the JDK.</p>\n<p>If you are starting fresh on a new project, I would suggest using <a href=\"https://en.m.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17</a> with an app server compliant with <a href=\"https://jakarta.ee/release/9.1/\" rel=\"nofollow noreferrer\">Jakarta EE 9.1</a>. <a href=\"https://glassfish.org/\" rel=\"nofollow noreferrer\"><em>Eclipse GlassFish</em></a> 6.2.3 is one such product to consider. The Jakarta EE site maintains a <a href=\"https://jakarta.ee/compatibility/\" rel=\"nofollow noreferrer\">list of compliant products</a>.</p>\n"}],"owner":{"account_id":8606494,"reputation":107,"user_id":6446472,"accept_rate":0,"display_name":"ssdg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640554452,"creation_date":1640230969,"question_id":70457435,"body_markdown":"When i downloaded jdk ee few years ago, got &quot;jdk-8u231-windows-x64.exe&quot; file and installed it. It created &quot;jdk1.8.0_231&quot; folder and i have used it for JAVA_HOME.\r\n\r\nBut when i tried to download latest JDK EE now, i got &quot;glassfish&quot; folder in it.\r\n\r\nWhat is this change ? Why is this change for ?\r\n\r\nNote: I know Oracle gave Java EE to Eclipse and it is now called as Jakarta EE. But even in eclipse site or oracle site, i could only find glassfish downloads, not jdk ee. \r\n\r\nPlease help me to understand this.\r\n\r\nThanks","title":"Where to download latest JDK EE instead of glassfish","body":"<p>When i downloaded jdk ee few years ago, got &quot;jdk-8u231-windows-x64.exe&quot; file and installed it. It created &quot;jdk1.8.0_231&quot; folder and i have used it for JAVA_HOME.</p>\n<p>But when i tried to download latest JDK EE now, i got &quot;glassfish&quot; folder in it.</p>\n<p>What is this change ? Why is this change for ?</p>\n<p>Note: I know Oracle gave Java EE to Eclipse and it is now called as Jakarta EE. But even in eclipse site or oracle site, i could only find glassfish downloads, not jdk ee.</p>\n<p>Please help me to understand this.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","generics","inheritance","interface"],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640553437,"creation_date":1640553437,"answer_id":70489926,"question_id":70489516,"body_markdown":"The `CompanyAServiceImpl::createOrUpdate` implementation only contemplates a small subset of the entire space defined by `CommonService::createOrUpdate`. That is why it is stated that _&quot;method does not override method from its superclass&quot;_ (not entirely, at least).\r\n\r\nTo see it, think of a certain method that receives as parameter any `CommonService`, for example:\r\n\r\n    void runService(CommonService commonService) { ... }\r\n\r\nHow can `runService` know (at compile time) what is the correct parameter for `commonService.createOrUpdate`? It only knows that it must be `CommonRequest` (or, transitively, **any** class that extends it). But your `CompanyAServiceImpl::createOrUpdate` implementation only supports one of them.\r\n\r\nIn other words, `createOrUpdate` **must support any** parameter that is a `CommonRequest`.\r\n\r\nThe best you can do depends on the type of abstraction you are looking for (and your question does not describe the problem to be solved).\r\n\r\nHowever, you might be looking for something similar to:\r\n\r\n    interface CommonRequest {\r\n        String requestDescription();\r\n    }\r\n    interface CommonService&lt;Request extends CommonRequest&gt; {\r\n        String serviceName();\r\n        boolean createOrUpdate(Request request);\r\n    }\r\n\r\n    static class CompanyARequest implements CommonRequest {\r\n        public String requestDescription() { return &quot;A Req&quot;; }\r\n    }\r\n    static class CompanyAService implements CommonService&lt;CompanyARequest&gt; {\r\n        public String serviceName() { return &quot;A Co&quot;; }\r\n        public boolean createOrUpdate(CompanyARequest companyARequest) { return true; }\r\n    }\r\n\r\n    static class CompanyBRequest implements CommonRequest {\r\n        public String requestDescription() { return &quot;B Req&quot;; }\r\n    }\r\n    static class CompanyBService implements CommonService&lt;CompanyBRequest&gt; {\r\n        public String serviceName() { return &quot;B Co&quot;; }\r\n        public boolean createOrUpdate(CompanyBRequest companyBRequest) { return false; }\r\n    }\r\n\r\nNow, all processes calling `createOrUpdate` will be forced to know which parameter is the correct one, but common processes for all companies can still share a single implementation, for example running with logging:\r\n\r\n    static &lt;R extends CommonRequest&gt; void runService(CommonService&lt;R&gt; service, R request) {\r\n        System.out.printf(&quot;Running service &#39;%s&#39;:%n&quot;, service.serviceName());\r\n        if(service.createOrUpdate(request))\r\n            System.out.printf(&quot; - Success with parameter &#39;%s&#39;.%n&quot;, request.requestDescription());\r\n        else\r\n            System.out.printf(&quot; ! Error with parameter &#39;%s&#39;.%n&quot;, request.requestDescription());\r\n    }\r\n\r\nif we run\r\n\r\n    runService(new CompanyAService(), new CompanyARequest());\r\n    runService(new CompanyBService(), new CompanyBRequest());\r\n\r\nwe get\r\n\r\n    Running service &#39;A Co&#39;:\r\n     - Success with parameter &#39;A Req&#39;.\r\n    Running service &#39;B Co&#39;:\r\n     ! Error with parameter &#39;B Req&#39;.\r\n\r\nOf course, all this is if that parameter (`CommonRequest`) and that method (`createOrUpdate`) are going to be used generically in many places in your application, otherwise, just add a new method to your company:\r\n\r\n    public class CompanyAServiceImpl implements CommonService {\r\n    \r\n        @Override\r\n        public CommandDTO createOrUpdate(CompanyRequest request) {\r\n            // ...\r\n        }\r\n\r\n        public CommandDTO createOrUpdateWithA(CompanyARequest request) {\r\n            // ...\r\n        }\r\n    }","title":"Cannot use base class without passing its type in Java","body":"<p>The <code>CompanyAServiceImpl::createOrUpdate</code> implementation only contemplates a small subset of the entire space defined by <code>CommonService::createOrUpdate</code>. That is why it is stated that <em>&quot;method does not override method from its superclass&quot;</em> (not entirely, at least).</p>\n<p>To see it, think of a certain method that receives as parameter any <code>CommonService</code>, for example:</p>\n<pre><code>void runService(CommonService commonService) { ... }\n</code></pre>\n<p>How can <code>runService</code> know (at compile time) what is the correct parameter for <code>commonService.createOrUpdate</code>? It only knows that it must be <code>CommonRequest</code> (or, transitively, <strong>any</strong> class that extends it). But your <code>CompanyAServiceImpl::createOrUpdate</code> implementation only supports one of them.</p>\n<p>In other words, <code>createOrUpdate</code> <strong>must support any</strong> parameter that is a <code>CommonRequest</code>.</p>\n<p>The best you can do depends on the type of abstraction you are looking for (and your question does not describe the problem to be solved).</p>\n<p>However, you might be looking for something similar to:</p>\n<pre><code>interface CommonRequest {\n    String requestDescription();\n}\ninterface CommonService&lt;Request extends CommonRequest&gt; {\n    String serviceName();\n    boolean createOrUpdate(Request request);\n}\n\nstatic class CompanyARequest implements CommonRequest {\n    public String requestDescription() { return &quot;A Req&quot;; }\n}\nstatic class CompanyAService implements CommonService&lt;CompanyARequest&gt; {\n    public String serviceName() { return &quot;A Co&quot;; }\n    public boolean createOrUpdate(CompanyARequest companyARequest) { return true; }\n}\n\nstatic class CompanyBRequest implements CommonRequest {\n    public String requestDescription() { return &quot;B Req&quot;; }\n}\nstatic class CompanyBService implements CommonService&lt;CompanyBRequest&gt; {\n    public String serviceName() { return &quot;B Co&quot;; }\n    public boolean createOrUpdate(CompanyBRequest companyBRequest) { return false; }\n}\n</code></pre>\n<p>Now, all processes calling <code>createOrUpdate</code> will be forced to know which parameter is the correct one, but common processes for all companies can still share a single implementation, for example running with logging:</p>\n<pre><code>static &lt;R extends CommonRequest&gt; void runService(CommonService&lt;R&gt; service, R request) {\n    System.out.printf(&quot;Running service '%s':%n&quot;, service.serviceName());\n    if(service.createOrUpdate(request))\n        System.out.printf(&quot; - Success with parameter '%s'.%n&quot;, request.requestDescription());\n    else\n        System.out.printf(&quot; ! Error with parameter '%s'.%n&quot;, request.requestDescription());\n}\n</code></pre>\n<p>if we run</p>\n<pre><code>runService(new CompanyAService(), new CompanyARequest());\nrunService(new CompanyBService(), new CompanyBRequest());\n</code></pre>\n<p>we get</p>\n<pre><code>Running service 'A Co':\n - Success with parameter 'A Req'.\nRunning service 'B Co':\n ! Error with parameter 'B Req'.\n</code></pre>\n<p>Of course, all this is if that parameter (<code>CommonRequest</code>) and that method (<code>createOrUpdate</code>) are going to be used generically in many places in your application, otherwise, just add a new method to your company:</p>\n<pre><code>public class CompanyAServiceImpl implements CommonService {\n\n    @Override\n    public CommandDTO createOrUpdate(CompanyRequest request) {\n        // ...\n    }\n\n    public CommandDTO createOrUpdateWithA(CompanyARequest request) {\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640553527,"creation_date":1640553527,"answer_id":70489930,"question_id":70489516,"body_markdown":"You are looking for a generic interface from what I understand:\r\n\r\n```java\r\npublic interface CommonService&lt;C extends CommonRequest&gt; {\r\n\r\n    CommandDTO createOrUpdate(C request);\r\n}\r\n\r\npublic class CompanyAServiceImpl implements CommonService&lt;CompanyARequest&gt; {\r\n\r\n    @Override\r\n    public CommandDTO createOrUpdate(CompanyARequest request) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIf you were to define it like you first did, the issue is that any `CommonRequest` should be accepted by the method according to its definition in the interface. ","title":"Cannot use base class without passing its type in Java","body":"<p>You are looking for a generic interface from what I understand:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CommonService&lt;C extends CommonRequest&gt; {\n\n    CommandDTO createOrUpdate(C request);\n}\n\npublic class CompanyAServiceImpl implements CommonService&lt;CompanyARequest&gt; {\n\n    @Override\n    public CommandDTO createOrUpdate(CompanyARequest request) {\n        // ...\n    }\n}\n</code></pre>\n<p>If you were to define it like you first did, the issue is that any <code>CommonRequest</code> should be accepted by the method according to its definition in the interface.</p>\n"}],"owner":{"display_name":"user17676679"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70489930,"answer_count":2,"score":0,"last_activity_date":1640553527,"creation_date":1640549567,"question_id":70489516,"body_markdown":"I want to create a common service and common request as shown below:\r\n\r\n```\r\npublic interface CommonService {\r\n\r\n    CommandDTO createOrUpdate(CommonRequest request);\r\n}\r\n```\r\n\r\n\r\nThen implement this service as shown below:\r\n\r\n```\r\npublic class CompanyARequest extends CommonRequest {\r\n\r\n    // properties\r\n}\r\n```\r\n\r\n```\r\npublic class CompanyAServiceImpl implements CommonService {\r\n\r\n    @Override\r\n    public CommandDTO createOrUpdate(CompanyARequest request) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nHowever, although `CompanyARequest` is inherited from `CommonRequest`, `createOrUpdate` method throws &quot;*Method does not override method from its superclass*&quot; error. \r\n\r\nOn the other hand, if I use generic for the request, the error is gone, but if I use generic for request and dto, there will be too much letter is used and I just want to use generic letters for entities that will be used in `CommonService`. SO, how can I fix this problem? Is there any mistake of my implementation?\r\n","title":"Cannot use base class without passing its type in Java","body":"<p>I want to create a common service and common request as shown below:</p>\n<pre><code>public interface CommonService {\n\n    CommandDTO createOrUpdate(CommonRequest request);\n}\n</code></pre>\n<p>Then implement this service as shown below:</p>\n<pre><code>public class CompanyARequest extends CommonRequest {\n\n    // properties\n}\n</code></pre>\n<pre><code>public class CompanyAServiceImpl implements CommonService {\n\n    @Override\n    public CommandDTO createOrUpdate(CompanyARequest request) {\n        // ...\n    }\n}\n</code></pre>\n<p>However, although <code>CompanyARequest</code> is inherited from <code>CommonRequest</code>, <code>createOrUpdate</code> method throws &quot;<em>Method does not override method from its superclass</em>&quot; error.</p>\n<p>On the other hand, if I use generic for the request, the error is gone, but if I use generic for request and dto, there will be too much letter is used and I just want to use generic letters for entities that will be used in <code>CommonService</code>. SO, how can I fix this problem? Is there any mistake of my implementation?</p>\n"},{"tags":["java","ftp","sftp","ftp-client"],"answers":[{"tags":[],"owner":{"account_id":22185584,"reputation":1,"user_id":16428538,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640081358,"creation_date":1640081358,"answer_id":70433715,"question_id":70420562,"body_markdown":"solved use  FTPClient client = new FTPSClient(true);\r\nbut But now there is a new problem, the uploaded file content is 0 bytes","title":"FTPClient.connect always waiting","body":"<p>solved use  FTPClient client = new FTPSClient(true);\nbut But now there is a new problem, the uploaded file content is 0 bytes</p>\n"}],"owner":{"account_id":22185584,"reputation":1,"user_id":16428538,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640553398,"creation_date":1639996783,"question_id":70420562,"body_markdown":"    \r\n\r\n    public static FTPClient connect(String hostname, int port, int mode, String encoding) {\r\n\r\n\t\tFTPClient ftpClient = null;\r\n\r\n\t\ttry {\r\n\t\t\tftpClient = new FTPClient();\r\n\r\n\t\t\t//FTPClient.HostnameResolver resolver = new FTPClient.NatServerResolverImpl(ftpClient);\r\n\t\t\t//ftpClient.setPassiveNatWorkaroundStrategy(resolver);\r\n\t\t\t//ftpClient.setRemoteVerificationEnabled(false);\r\n\r\n\t\t\tftpClient.setControlEncoding(encoding);\r\n\t\t\tftpClient.enterLocalPassiveMode();\r\n\t\t\t//  always waiting here!!!!!!!help please!!!\r\n\t\t\tftpClient.connect(hostname, port);\r\n\r\n\r\n\t\t\t// \r\n\t\t\tftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n\r\n\t\t\tswitch (mode) {\r\n\t\t\tcase MODE_TYPE_LOCAL_PASSIVE:\r\n\t\t\t\t// \r\n\t\t\t\tftpClient.enterLocalPassiveMode();\r\n\t\t\t\tbreak;\r\n\t\t\tcase MODE_TYPE_LOCAL_ACTIVE:\r\n\t\t\t\t// \r\n\t\t\t\tftpClient.enterLocalActiveMode();\r\n\t\t\t\tbreak;\r\n\t\t\tcase MODE_TYPE_REMOTE_PASSIVE:\r\n\t\t\t\t// \r\n\t\t\t\tftpClient.enterRemotePassiveMode();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IOException(&quot;can not support mode type &quot; + mode);\r\n\t\t\t}\r\n\r\n\t\t\treturn ftpClient;\r\n\t\t} catch (Exception e) {\r\n\t\t\tif (ftpClient != null &amp;&amp; ftpClient.isConnected()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tftpClient.disconnect();\r\n\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tFTPClient client = FtpUtils.connect(&quot;103.143.106.197&quot;, 990);\r\n\t\tboolean login = FtpUtils.login(client, &quot;xxx&quot;, &quot;xxx&quot;);\r\n\t\tSystem.out.println(login);\r\n\t}\r\n\r\n\r\n[When I connect to a third party servicealways waiting hereconnect api.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OnrfO.png\r\n\r\n\r\nHelp please. I wonder if there is any configuration not set.\r\n\r\nBut I can connect to the FTP-server set up by the local machineI can also connect to a third party FTP-server using Filezilla  ","title":"FTPClient.connect always waiting","body":"<pre><code>public static FTPClient connect(String hostname, int port, int mode, String encoding) {\n\n    FTPClient ftpClient = null;\n\n    try {\n        ftpClient = new FTPClient();\n\n        //FTPClient.HostnameResolver resolver = new FTPClient.NatServerResolverImpl(ftpClient);\n        //ftpClient.setPassiveNatWorkaroundStrategy(resolver);\n        //ftpClient.setRemoteVerificationEnabled(false);\n\n        ftpClient.setControlEncoding(encoding);\n        ftpClient.enterLocalPassiveMode();\n        //  always waiting here!!!!!!!help please!!!\n        ftpClient.connect(hostname, port);\n\n\n        // \n        ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n\n        switch (mode) {\n        case MODE_TYPE_LOCAL_PASSIVE:\n            // \n            ftpClient.enterLocalPassiveMode();\n            break;\n        case MODE_TYPE_LOCAL_ACTIVE:\n            // \n            ftpClient.enterLocalActiveMode();\n            break;\n        case MODE_TYPE_REMOTE_PASSIVE:\n            // \n            ftpClient.enterRemotePassiveMode();\n            break;\n        default:\n            throw new IOException(&quot;can not support mode type &quot; + mode);\n        }\n\n        return ftpClient;\n    } catch (Exception e) {\n        if (ftpClient != null &amp;&amp; ftpClient.isConnected()) {\n            try {\n                ftpClient.disconnect();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            }\n        }\n    }\n    return null;\n\n}\n\npublic static void main(String[] args) {\n\n    FTPClient client = FtpUtils.connect(&quot;103.143.106.197&quot;, 990);\n    boolean login = FtpUtils.login(client, &quot;xxx&quot;, &quot;xxx&quot;);\n    System.out.println(login);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OnrfO.png\" rel=\"nofollow noreferrer\">When I connect to a third party servicealways waiting hereconnect api.</a></p>\n<p>Help please. I wonder if there is any configuration not set.</p>\n<p>But I can connect to the FTP-server set up by the local machineI can also connect to a third party FTP-server using Filezilla</p>\n"},{"tags":["java","android","react-native","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":23752019,"reputation":1,"user_id":17768651,"display_name":"SKM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640553117,"creation_date":1640550437,"answer_id":70489617,"question_id":70489427,"body_markdown":"    npm install react-native-safe-area-context\r\n\r\nTry this and build. \r\n\r\nIf not,\r\n\r\nPlease check your computer&#39;s environment variables and set JAVA_HOME if it has not already been setup.","title":"Error building react native app on Android","body":"<pre><code>npm install react-native-safe-area-context\n</code></pre>\n<p>Try this and build.</p>\n<p>If not,</p>\n<p>Please check your computer's environment variables and set JAVA_HOME if it has not already been setup.</p>\n"}],"owner":{"account_id":22145156,"reputation":1,"user_id":16394562,"display_name":"caleb garcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640553117,"creation_date":1640548724,"question_id":70489427,"body_markdown":"Hi I&#180;m trying to run my react native app on android but when i build it shows me this error:\r\n```\r\ninfo Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.\r\nJetifier found 952 file(s) to forward-jetify. Using 8 workers...\r\ninfo JS server already running.\r\ninfo Installing the app...\r\n&gt; Task :react-native-safe-area-context:compileDebugJavaWithJavac FAILED\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.9/userguide/command_line_interface.html#sec:command_line_warnings\r\n48 actionable tasks: 2 executed, 46 up-to-date\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-safe-area-context:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not find tools.jar. Please check that /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home contains a valid JDK installation.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-safe-area-context:compileDebugJavaWithJavac&#39;.\r\n&gt; Could not find tools.jar. Please check that /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home contains a valid JDK installation.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n\r\n    at makeError (/Users/calebgarcia/Dev/Auth/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:174:9)\r\n    at /Users/calebgarcia/Dev/Auth/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:278:16\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runOnAllDevices (/Users/calebgarcia/Dev/Auth/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:106:5)\r\n    at async Command.handleAction (/Users/calebgarcia/Dev/Auth/node_modules/@react-native-community/cli/build/index.js:192:9)\r\ninfo Run CLI with --verbose flag for more details.\r\n```\r\nIt&#180;s a bit puzzling since when i build the app on the ios simulator it runs perfectly.\r\n\r\nDo you guys have any idea how i can solve the issue?\r\n\r\nThanks.","title":"Error building react native app on Android","body":"<p>Hi Im trying to run my react native app on android but when i build it shows me this error:</p>\n<pre><code>info Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.\nJetifier found 952 file(s) to forward-jetify. Using 8 workers...\ninfo JS server already running.\ninfo Installing the app...\n&gt; Task :react-native-safe-area-context:compileDebugJavaWithJavac FAILED\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.9/userguide/command_line_interface.html#sec:command_line_warnings\n48 actionable tasks: 2 executed, 46 up-to-date\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':react-native-safe-area-context:compileDebugJavaWithJavac'.\n&gt; Could not find tools.jar. Please check that /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home contains a valid JDK installation.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':react-native-safe-area-context:compileDebugJavaWithJavac'.\n&gt; Could not find tools.jar. Please check that /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home contains a valid JDK installation.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n\n    at makeError (/Users/calebgarcia/Dev/Auth/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:174:9)\n    at /Users/calebgarcia/Dev/Auth/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (/Users/calebgarcia/Dev/Auth/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:106:5)\n    at async Command.handleAction (/Users/calebgarcia/Dev/Auth/node_modules/@react-native-community/cli/build/index.js:192:9)\ninfo Run CLI with --verbose flag for more details.\n</code></pre>\n<p>Its a bit puzzling since when i build the app on the ios simulator it runs perfectly.</p>\n<p>Do you guys have any idea how i can solve the issue?</p>\n<p>Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1640545163,"post_id":70489052,"comment_id":124602976,"body_markdown":"Welcome to the rabbit hole of type erasure. Unfortunately, to my knowledge, you&#39;ll have to dip into a bit of reflection to allocate an array of generic type. It&#39;s far more complicated than it has any right to be.","body":"Welcome to the rabbit hole of type erasure. Unfortunately, to my knowledge, you&#39;ll have to dip into a bit of reflection to allocate an array of generic type. It&#39;s far more complicated than it has any right to be."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1640545570,"post_id":70489052,"comment_id":124603072,"body_markdown":"Better to work with nested Lists of generic type, `List&lt;List&lt;T&gt;&gt;` than with arrays.","body":"Better to work with nested Lists of generic type, <code>List&lt;List&lt;T&gt;&gt;</code> than with arrays."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640549563,"creation_date":1640549563,"answer_id":70489515,"question_id":70489052,"body_markdown":"You can use a generic type `&lt;T&gt;`, but you have to use [`Array.newInstance()`](https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance(java.lang.Class,%20int...)) to create the array (see https://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java). The source code can look like this:\r\n\r\n    public static &lt;T&gt; T[][] swap_rows_columns_str_arr(T[][] arr) {\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tT[][] new_arr = (T[][]) Array.newInstance(\r\n\t\t\t\tarr.getClass().getComponentType().getComponentType(),\r\n\t\t\t\tarr[0].length, \r\n\t\t\t\tarr.length);\r\n        for (int col = 0; col &lt; arr[0].length; col++) {\r\n            for (int row = 0; row &lt; arr.length; row++) {\r\n                new_arr[col][row] = arr[row][col];\r\n            }\r\n        }\r\n        return new_arr;\r\n    }\r\n\r\nThis only works for non-primitive types, as primitive types cannot be used in generics. For the primitive types you have to create eight overloads of this method.","title":"Generic function to swap rows and columns in an array","body":"<p>You can use a generic type <code>&lt;T&gt;</code>, but you have to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Array.html#newInstance(java.lang.Class,%20int...)\" rel=\"nofollow noreferrer\"><code>Array.newInstance()</code></a> to create the array (see <a href=\"https://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java\">What&#39;s the reason I can&#39;t create generic array types in Java?</a>). The source code can look like this:</p>\n<pre><code>public static &lt;T&gt; T[][] swap_rows_columns_str_arr(T[][] arr) {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    T[][] new_arr = (T[][]) Array.newInstance(\n            arr.getClass().getComponentType().getComponentType(),\n            arr[0].length, \n            arr.length);\n    for (int col = 0; col &lt; arr[0].length; col++) {\n        for (int row = 0; row &lt; arr.length; row++) {\n            new_arr[col][row] = arr[row][col];\n        }\n    }\n    return new_arr;\n}\n</code></pre>\n<p>This only works for non-primitive types, as primitive types cannot be used in generics. For the primitive types you have to create eight overloads of this method.</p>\n"}],"owner":{"account_id":18061492,"reputation":33,"user_id":13128522,"display_name":"VanquishingSquid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640553033,"creation_date":1640544868,"question_id":70489052,"body_markdown":"I want to make a function which can take any type of array (`int`, `String`, `boolean`, etc) and return an array of the same type with the rows and columns switched.\r\n\r\n```\r\npublic static String[][] swap_rows_columns_str_arr(String[][] arr) {\r\n    String[][] new_arr = new String[arr[0].length][arr.length];\r\n    for (int col = 0; col &lt; arr[0].length; col++) {\r\n        for (int row = 0; row &lt; arr.length; row++) {\r\n            new_arr[col][row] = arr[row][col];\r\n        }\r\n    }\r\n    return new_arr;\r\n}\r\n```\r\nI&#39;ve managed to get it work for singular datatypes, but how would I get it to work for any datatype?\r\n","title":"Generic function to swap rows and columns in an array","body":"<p>I want to make a function which can take any type of array (<code>int</code>, <code>String</code>, <code>boolean</code>, etc) and return an array of the same type with the rows and columns switched.</p>\n<pre><code>public static String[][] swap_rows_columns_str_arr(String[][] arr) {\n    String[][] new_arr = new String[arr[0].length][arr.length];\n    for (int col = 0; col &lt; arr[0].length; col++) {\n        for (int row = 0; row &lt; arr.length; row++) {\n            new_arr[col][row] = arr[row][col];\n        }\n    }\n    return new_arr;\n}\n</code></pre>\n<p>I've managed to get it work for singular datatypes, but how would I get it to work for any datatype?</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640552800,"creation_date":1640552800,"answer_id":70489874,"question_id":70489661,"body_markdown":"To [click()](https://stackoverflow.com/questions/35770992/how-many-ways-to-click-on-webelement-in-webdriver/70077251#70077251) on the element you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\t  \r\n- _cssSelector_:\r\n\r\n\t  driver.findElement(By.cssSelector(&quot;span#sidebarCollapse[title=&#39;Filtres de recherche&#39;]&quot;)).click();\r\n           \t\r\n- _xpath_:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//span[@id=&#39;sidebarCollapse&#39; and @title=&#39;Filtres de recherche&#39;]&quot;)).click();\r\n\r\n\r\n----------\r\n\r\n\r\nIdeally to _`click()`_ on the element you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;span#sidebarCollapse[title=&#39;Filtres de recherche&#39;]&quot;))).click();\r\n           \t\r\n- _xpath_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[@id=&#39;sidebarCollapse&#39; and @title=&#39;Filtres de recherche&#39;]&quot;))).click();\r\n","title":"Web objects locators for Edge browser?","body":"<p>To <a href=\"https://stackoverflow.com/questions/35770992/how-many-ways-to-click-on-webelement-in-webdriver/70077251#70077251\">click()</a> on the element you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;span#sidebarCollapse[title='Filtres de recherche']&quot;)).click();\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//span[@id='sidebarCollapse' and @title='Filtres de recherche']&quot;)).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Ideally to <em><code>click()</code></em> on the element you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;span#sidebarCollapse[title='Filtres de recherche']&quot;))).click();\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[@id='sidebarCollapse' and @title='Filtres de recherche']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":20099335,"reputation":31,"user_id":16017220,"display_name":"faith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640552800,"creation_date":1640550809,"question_id":70489661,"body_markdown":"Hey I&#39;m new to web automation , I just startes to write my scenarios and link them to related steps using java framework:\r\n\r\nI tried different methods for this button : \r\n\r\n![enter image description here][1]\r\n\r\n    driver.findElement(By.xpath/className) \r\n\r\nand I always got this exception in my code:\r\n\r\n    org.openqa.selenium.NoSuchElementException\r\n\r\n    exemple used: WebElement filter = driver.findElement(By.xpath(&quot;//*[@id =&#39;sidebarCollapse&#39;]&quot;));\r\n\t\tfilter.click();\r\n\r\nCan anyone help me (see the attached image ) ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sbvSJ.png","title":"Web objects locators for Edge browser?","body":"<p>Hey I'm new to web automation , I just startes to write my scenarios and link them to related steps using java framework:</p>\n<p>I tried different methods for this button :</p>\n<p><img src=\"https://i.stack.imgur.com/sbvSJ.png\" alt=\"enter image description here\" /></p>\n<pre><code>driver.findElement(By.xpath/className) \n</code></pre>\n<p>and I always got this exception in my code:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException\n\nexemple used: WebElement filter = driver.findElement(By.xpath(&quot;//*[@id ='sidebarCollapse']&quot;));\n    filter.click();\n</code></pre>\n<p>Can anyone help me (see the attached image ) ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"score":0,"creation_date":1640552042,"post_id":70489776,"comment_id":124604224,"body_markdown":"maybe you can find a solution here: https://stackoverflow.com/questions/16868446/javafx-exception-in-thread-main-java-lang-noclassdeffounderror-javafx-applica","body":"maybe you can find a solution here: <a href=\"https://stackoverflow.com/questions/16868446/javafx-exception-in-thread-main-java-lang-noclassdeffounderror-javafx-applica\" title=\"javafx exception in thread main java lang noclassdeffounderror javafx applica\">stackoverflow.com/questions/16868446/&hellip;</a>"},{"owner":{"account_id":21849459,"reputation":3,"user_id":16141752,"display_name":"Enkhamgalan Enkhsaikhan"},"score":0,"creation_date":1640552350,"post_id":70489776,"comment_id":124604283,"body_markdown":"How would I do this in eclipse? Thank you for responding","body":"How would I do this in eclipse? Thank you for responding"},{"owner":{"account_id":21849459,"reputation":3,"user_id":16141752,"display_name":"Enkhamgalan Enkhsaikhan"},"score":0,"creation_date":1640552683,"post_id":70489776,"comment_id":124604343,"body_markdown":"Ok, I think I can figure it out now. Thanks guys!","body":"Ok, I think I can figure it out now. Thanks guys!"},{"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"score":0,"creation_date":1640552744,"post_id":70489776,"comment_id":124604361,"body_markdown":"I tried providing a small tutorial in my answer.","body":"I tried providing a small tutorial in my answer."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1640570629,"post_id":70489776,"comment_id":124606839,"body_markdown":"HINT: When you encounter an unexplained exception, Google search the exception name.  It is guaranteed that ***lots*** of other people have encountered the same situation, and you can usually find a solution quickly.","body":"HINT: When you encounter an unexplained exception, Google search the exception name.  It is guaranteed that <b><i>lots</i></b> of other people have encountered the same situation, and you can usually find a solution quickly."}],"answers":[{"tags":[],"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640552699,"creation_date":1640552699,"answer_id":70489862,"question_id":70489776,"body_markdown":"Try adding arguments:\r\n\r\ncompile\r\n\r\n    javac --module-path /path/to/java-fx-libs/ --add-modules javafx.controls,javafx.fxml *.java\r\n\r\nrun\r\n\r\n    java --module-path /path/to/java-fx-libs/ --add-modules javafx.controls,javafx.fxml MyMainClass\r\n\r\n\r\nIn eclipse I think you need to navigate to Menu: Window &gt; Preferences &gt; Java &gt; Compiler","title":"I&#39;m encounter a java.lang.NoClassDefFoundError and I don&#39;t know why it&#39;s occuring","body":"<p>Try adding arguments:</p>\n<p>compile</p>\n<pre><code>javac --module-path /path/to/java-fx-libs/ --add-modules javafx.controls,javafx.fxml *.java\n</code></pre>\n<p>run</p>\n<pre><code>java --module-path /path/to/java-fx-libs/ --add-modules javafx.controls,javafx.fxml MyMainClass\n</code></pre>\n<p>In eclipse I think you need to navigate to Menu: Window &gt; Preferences &gt; Java &gt; Compiler</p>\n"}],"owner":{"account_id":21849459,"reputation":3,"user_id":16141752,"display_name":"Enkhamgalan Enkhsaikhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1640570552,"accepted_answer_id":70489862,"answer_count":1,"score":0,"last_activity_date":1640552699,"creation_date":1640551888,"question_id":70489776,"body_markdown":"I&#39;m trying to write my first JavaFX program. This is the exact error line:\r\nError: Could not find or load main class me.GamingCuber.CPSTest.Main\r\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\r\nHowever, I don&#39;t know how this error is occuring. Here is the code down below: \r\n\r\n    package me.GamingCuber.CPSTest;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \t\r\n    \tButton button;\r\n    \t\r\n    \t@Override\r\n    \tpublic void start(Stage primarystage) throws Exception{\r\n    \t\t\r\n    \t\tprimarystage.setTitle(&quot;Test your CPS!&quot;);\r\n    \t\tbutton = new Button(&quot;Click here for CPS&quot;);\r\n    \t\tStackPane layout = new StackPane();\r\n    \t\tlayout.getChildren().add(button);\r\n    \t\t\r\n    \t\tScene scene = new Scene(layout, 300, 250);\r\n    \t\tprimarystage.setScene(scene);\r\n    \t\tprimarystage.show();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }","title":"I&#39;m encounter a java.lang.NoClassDefFoundError and I don&#39;t know why it&#39;s occuring","body":"<p>I'm trying to write my first JavaFX program. This is the exact error line:\nError: Could not find or load main class me.GamingCuber.CPSTest.Main\nCaused by: java.lang.NoClassDefFoundError: javafx/application/Application\nHowever, I don't know how this error is occuring. Here is the code down below:</p>\n<pre><code>package me.GamingCuber.CPSTest;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n    Button button;\n    \n    @Override\n    public void start(Stage primarystage) throws Exception{\n        \n        primarystage.setTitle(&quot;Test your CPS!&quot;);\n        button = new Button(&quot;Click here for CPS&quot;);\n        StackPane layout = new StackPane();\n        layout.getChildren().add(button);\n        \n        Scene scene = new Scene(layout, 300, 250);\n        primarystage.setScene(scene);\n        primarystage.show();\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","java-stream","comparator"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1640551602,"post_id":70489668,"comment_id":124604143,"body_markdown":"See also: https://docs.oracle.com/javase/tutorial/java/generics/methods.html and https://docs.oracle.com/javase/tutorial/java/generics/bounded.html if you are not familiar with generic methods.","body":"See also: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/methods.html</a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/bounded.html</a> if you are not familiar with generic methods."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1640553344,"post_id":70489668,"comment_id":124604489,"body_markdown":"Your question seems overly focused on the second approach with the lambda expression, so I just want to point out that the first approach is _also_ using the `comparing` method where the method reference `Person::getAge` is an implementation of `Function` passed as an argument for `keyExtractor`.","body":"Your question seems overly focused on the second approach with the lambda expression, so I just want to point out that the first approach is <i>also</i> using the <code>comparing</code> method where the method reference <code>Person::getAge</code> is an implementation of <code>Function</code> passed as an argument for <code>keyExtractor</code>."}],"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640551559,"answer_count":0,"score":1,"last_activity_date":1640551571,"creation_date":1640550909,"question_id":70489668,"body_markdown":"I am aware that a similar question has been asking about this topic [here](https://stackoverflow.com/questions/68599089/how-does-key-extraction-work-with-the-java-comparator-comparing-method) \r\n\r\nTo motivate why I am asking this, I was looking at different ways to write a stream pipeline to better understand what was going on, for instance:\r\n\r\nNote: in the below code, the people variable is a List consisting of Person objects with a String name and int age as fields.\r\n\r\n```\r\n    // 1. using minBy and just method reference\r\n\tSystem.out.println(people.stream()\r\n\t                         .collect(minBy(comparing(Person::getAge))));\r\n\r\n\t// 2. Alternate way by using comparing to construct the Comparator object\r\n\tSystem.out.println(people.stream()\r\n\t                         .collect(minBy(comparing(person -&gt; {\r\n\t                             // System.out.println(person.getName() + &quot; &quot; + person.getAge());\r\n\t                             return person.getAge();\r\n\t                         }))));\r\n\r\n\t// 3. Breaking down the function even further to try to understand:\r\n\tSystem.out.println(people.stream()\r\n\t                         .collect(minBy(new Comparator&lt;Person&gt;() {\r\n\t                             @Override\r\n\t                             public int compare(Person p1, Person p2) {\r\n\t\t                         if (p1.getAge() &gt; p2.getAge()) {\r\n\t\t                             return 1;\r\n\t\t                         } else if (p1.getAge() &lt; p2.getAge()) {\r\n\t\t                             return -1;\r\n\t\t                         } else {\r\n\t\t                             return 0;\r\n\t\t                         }\r\n\t                             }\r\n\t                         })));\r\n```\r\n\r\nAll three of these print the same Person object when I tested them.\r\n\r\nThe question I have is about the second way of writing it, which involves the comparing function. I&#39;ve looked in the source code in the Comparator class and found:\r\n\r\n```\r\npublic static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\r\n            Function&lt;? super T, ? extends U&gt; keyExtractor)\r\n    {\r\n        Objects.requireNonNull(keyExtractor);\r\n        return (Comparator&lt;T&gt; &amp; Serializable)\r\n            (c1, c2) -&gt; keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));\r\n    }\r\n```\r\n\r\nI only understand parts of this code. For instance, I see that keyExtractor is the lambda function that we passed into the comparing method, and that it is using this to extract some integer to order the objects with.\r\n\r\nThe other things I do not fully grasp are:\r\n\r\n(1) The method signature - what is the meaning of the generic types before the return type? Are they just a way to ensure consistency of the types used in the method? \r\n\r\nAm I able to put more than two types in the angle brackets like &lt;A, B, C, D&gt;?\r\n\r\n(2) What does\r\n```\r\n(Comparator&lt;T&gt; &amp; Serializable)\r\n```\r\nmean here? \r\n\r\nIs it a cast to the lambda function that&#39;s being returned (Presumably this lambda is overriding the compare method)? And if it is a cast, what is the meaning of the &quot;&amp; Serializable&quot; if we just want a Comparator to be returned?\r\n","title":"How does the comparing method in Java extract a Comparator object?","body":"<p>I am aware that a similar question has been asking about this topic <a href=\"https://stackoverflow.com/questions/68599089/how-does-key-extraction-work-with-the-java-comparator-comparing-method\">here</a></p>\n<p>To motivate why I am asking this, I was looking at different ways to write a stream pipeline to better understand what was going on, for instance:</p>\n<p>Note: in the below code, the people variable is a List consisting of Person objects with a String name and int age as fields.</p>\n<pre><code>    // 1. using minBy and just method reference\n    System.out.println(people.stream()\n                             .collect(minBy(comparing(Person::getAge))));\n\n    // 2. Alternate way by using comparing to construct the Comparator object\n    System.out.println(people.stream()\n                             .collect(minBy(comparing(person -&gt; {\n                                 // System.out.println(person.getName() + &quot; &quot; + person.getAge());\n                                 return person.getAge();\n                             }))));\n\n    // 3. Breaking down the function even further to try to understand:\n    System.out.println(people.stream()\n                             .collect(minBy(new Comparator&lt;Person&gt;() {\n                                 @Override\n                                 public int compare(Person p1, Person p2) {\n                                 if (p1.getAge() &gt; p2.getAge()) {\n                                     return 1;\n                                 } else if (p1.getAge() &lt; p2.getAge()) {\n                                     return -1;\n                                 } else {\n                                     return 0;\n                                 }\n                                 }\n                             })));\n</code></pre>\n<p>All three of these print the same Person object when I tested them.</p>\n<p>The question I have is about the second way of writing it, which involves the comparing function. I've looked in the source code in the Comparator class and found:</p>\n<pre><code>public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\n            Function&lt;? super T, ? extends U&gt; keyExtractor)\n    {\n        Objects.requireNonNull(keyExtractor);\n        return (Comparator&lt;T&gt; &amp; Serializable)\n            (c1, c2) -&gt; keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));\n    }\n</code></pre>\n<p>I only understand parts of this code. For instance, I see that keyExtractor is the lambda function that we passed into the comparing method, and that it is using this to extract some integer to order the objects with.</p>\n<p>The other things I do not fully grasp are:</p>\n<p>(1) The method signature - what is the meaning of the generic types before the return type? Are they just a way to ensure consistency of the types used in the method?</p>\n<p>Am I able to put more than two types in the angle brackets like &lt;A, B, C, D&gt;?</p>\n<p>(2) What does</p>\n<pre><code>(Comparator&lt;T&gt; &amp; Serializable)\n</code></pre>\n<p>mean here?</p>\n<p>Is it a cast to the lambda function that's being returned (Presumably this lambda is overriding the compare method)? And if it is a cast, what is the meaning of the &quot;&amp; Serializable&quot; if we just want a Comparator to be returned?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","android-gridview"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640484493,"creation_date":1640484493,"answer_id":70483824,"question_id":70483750,"body_markdown":"You will want to use a regular `RecyclerView` and any `RecyclerView.Adapter` will work. The key is the `LayoutManager` you give to the `RecyclerView`. If you give it a `GridLayoutManager` it will ask how many items per row, its actually fairly simple.\r\n\r\nHere is a modified excerpt from the article below. \r\n\r\n    RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n    // set a GridLayoutManager with 2 number of columns\r\n    GridLayoutManager gridLayoutManager = new GridLayoutManager(getApplicationContext(),2);\r\n    gridLayoutManager.setOrientation(LinearLayoutManager.HORIZONTAL); // set Horizontal Orientation\r\n    recyclerView.setLayoutManager(gridLayoutManager); // set LayoutManager to RecyclerView\r\n\r\n\r\nHere is a pretty in-depth article showing you how to do it. The article also has a simple implementation of an `Adapter` as-well. https://abhiandroid.com/materialdesign/recyclerview-gridview.html\r\n\r\nA fair warning though the article uses some outdated libraries you should be using `androidx` for nearly everything. Luckily the implementation is not different.","title":"what&#39;s the simplest way to implement an item grid of two columns in android studio","body":"<p>You will want to use a regular <code>RecyclerView</code> and any <code>RecyclerView.Adapter</code> will work. The key is the <code>LayoutManager</code> you give to the <code>RecyclerView</code>. If you give it a <code>GridLayoutManager</code> it will ask how many items per row, its actually fairly simple.</p>\n<p>Here is a modified excerpt from the article below.</p>\n<pre><code>RecyclerView recyclerView = findViewById(R.id.recyclerView);\n// set a GridLayoutManager with 2 number of columns\nGridLayoutManager gridLayoutManager = new GridLayoutManager(getApplicationContext(),2);\ngridLayoutManager.setOrientation(LinearLayoutManager.HORIZONTAL); // set Horizontal Orientation\nrecyclerView.setLayoutManager(gridLayoutManager); // set LayoutManager to RecyclerView\n</code></pre>\n<p>Here is a pretty in-depth article showing you how to do it. The article also has a simple implementation of an <code>Adapter</code> as-well. <a href=\"https://abhiandroid.com/materialdesign/recyclerview-gridview.html\" rel=\"nofollow noreferrer\">https://abhiandroid.com/materialdesign/recyclerview-gridview.html</a></p>\n<p>A fair warning though the article uses some outdated libraries you should be using <code>androidx</code> for nearly everything. Luckily the implementation is not different.</p>\n"},{"tags":[],"owner":{"account_id":23727999,"reputation":90,"user_id":17747654,"display_name":"Kevin Cloud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640549937,"creation_date":1640549937,"answer_id":70489556,"question_id":70483750,"body_markdown":"I think, if your list is just simple (no big images, small size of items, also no need any complicated action with onClickListener), then you can use gridview.\r\nBut in case the list is complicated, then you should use RecyclerView.\r\nIn fact, for newest Android applications, we barely ListView or GridView - they are  just for simple, very simple lists.\r\nIf you are going to go far with Android, then I strongly recommend you to use RecyclerView.\r\n\r\n","title":"what&#39;s the simplest way to implement an item grid of two columns in android studio","body":"<p>I think, if your list is just simple (no big images, small size of items, also no need any complicated action with onClickListener), then you can use gridview.\nBut in case the list is complicated, then you should use RecyclerView.\nIn fact, for newest Android applications, we barely ListView or GridView - they are  just for simple, very simple lists.\nIf you are going to go far with Android, then I strongly recommend you to use RecyclerView.</p>\n"}],"owner":{"account_id":23746524,"reputation":1,"user_id":17763839,"display_name":"Mostafa Yahya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1641208626,"answer_count":2,"score":-2,"last_activity_date":1640549937,"creation_date":1640482956,"question_id":70483750,"body_markdown":"some guides say recyclerview. some say gridview. some say recyclerview with grid adapter...\r\n\r\ni have no idea what these methods have in differences as i&#39;m still new to android development. i&#39;ve tried them all but somehow always ended up messing things up. \r\ncan someone explain a simple way please? (very preferably in kotlin) i know how to make an item but mostly struggle with the adapter (specially considering most guides for it are written in java and i can barely even read Kotlin). i&#39;ve been trying to do it for a week so i would be really grateful.","title":"what&#39;s the simplest way to implement an item grid of two columns in android studio","body":"<p>some guides say recyclerview. some say gridview. some say recyclerview with grid adapter...</p>\n<p>i have no idea what these methods have in differences as i'm still new to android development. i've tried them all but somehow always ended up messing things up.\ncan someone explain a simple way please? (very preferably in kotlin) i know how to make an item but mostly struggle with the adapter (specially considering most guides for it are written in java and i can barely even read Kotlin). i've been trying to do it for a week so i would be really grateful.</p>\n"},{"tags":["java","spring","openapi","springfox","springdoc"],"answers":[{"tags":[],"owner":{"account_id":1151396,"reputation":4281,"user_id":1133021,"accept_rate":70,"display_name":"brianbro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640549158,"creation_date":1640549158,"answer_id":70489471,"question_id":70352133,"body_markdown":"You can define your own `ParameterCustomizer`:\r\n\r\n    @Component\r\n    public class InstanceParameterCustomizer implements org.springdoc.core.customizers.ParameterCustomizer {\r\n    \t@Override\r\n    \tpublic Parameter customize(Parameter parameterModel, MethodParameter methodParameter) {\r\n    \t\tif (Instance.class.equals(methodParameter.getParameterType()) &amp;&amp; methodParameter.getParameterAnnotation(PathVariable.class) != null) {\r\n    \t\t\tparameterModel.setName(&quot;id&quot;); // if you need to change the name  ...\r\n    \t\t\tparameterModel.setSchema(new StringSchema());\r\n    \t\t}\r\n    \t\treturn parameterModel;\r\n    \t}\r\n    }\r\n\r\n \r\n","title":"Replace @PathVariable object with ID only for Springdoc","body":"<p>You can define your own <code>ParameterCustomizer</code>:</p>\n<pre><code>@Component\npublic class InstanceParameterCustomizer implements org.springdoc.core.customizers.ParameterCustomizer {\n    @Override\n    public Parameter customize(Parameter parameterModel, MethodParameter methodParameter) {\n        if (Instance.class.equals(methodParameter.getParameterType()) &amp;&amp; methodParameter.getParameterAnnotation(PathVariable.class) != null) {\n            parameterModel.setName(&quot;id&quot;); // if you need to change the name  ...\n            parameterModel.setSchema(new StringSchema());\n        }\n        return parameterModel;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1869831,"reputation":4089,"user_id":1692341,"accept_rate":90,"display_name":"Steffen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70489471,"answer_count":1,"score":3,"last_activity_date":1640549158,"creation_date":1639498680,"question_id":70352133,"body_markdown":"I am currently trying to migrate from Springfox to Springdoc. \r\n\r\nMost of my endpoints contain a `@PathVariable Instance`. Obviously I am only passing in the ID of the instance and Spring would automatically resolve the object for me. \r\n\r\nHere is an example:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/api/{instance}/role&quot;)\r\n    public class RoleController {\r\n\r\n      @GetMapping()\r\n      public ResponseEntity&lt;?&gt; getRoles(@PathVariable Instance instance) {\r\n        return ResponseEntity.ok().build();\r\n      }\r\n      \r\n    }\r\n\r\nCalled as `/api/myInstance/role`. \r\n\r\nSpringfox would handle this correctly for me, only generating `{instance}` as a `String` mapping to the ID of `Instance`. However, Springdoc expects the entire object to be passed as a path param.\r\n\r\nI did try this so far, however it didn&#39;t seem to have any effect:\r\n\r\n    static {\r\n      SpringDocUtils.getConfig().replaceParameterObjectWithClass(Instance.class, String.class);\r\n    }\r\n\r\nIf possible, I&#39;d like to avoid annotating hundreds of endpoints with the same annotation and solve this on a global level.  ","title":"Replace @PathVariable object with ID only for Springdoc","body":"<p>I am currently trying to migrate from Springfox to Springdoc.</p>\n<p>Most of my endpoints contain a <code>@PathVariable Instance</code>. Obviously I am only passing in the ID of the instance and Spring would automatically resolve the object for me.</p>\n<p>Here is an example:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/{instance}/role&quot;)\npublic class RoleController {\n\n  @GetMapping()\n  public ResponseEntity&lt;?&gt; getRoles(@PathVariable Instance instance) {\n    return ResponseEntity.ok().build();\n  }\n  \n}\n</code></pre>\n<p>Called as <code>/api/myInstance/role</code>.</p>\n<p>Springfox would handle this correctly for me, only generating <code>{instance}</code> as a <code>String</code> mapping to the ID of <code>Instance</code>. However, Springdoc expects the entire object to be passed as a path param.</p>\n<p>I did try this so far, however it didn't seem to have any effect:</p>\n<pre><code>static {\n  SpringDocUtils.getConfig().replaceParameterObjectWithClass(Instance.class, String.class);\n}\n</code></pre>\n<p>If possible, I'd like to avoid annotating hundreds of endpoints with the same annotation and solve this on a global level.</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1640293700,"post_id":70467144,"comment_id":124565350,"body_markdown":"There are code coverage tools that tell you which methods are being executed.  Those tend to be invasive though so you might want to set up a test server for that.  You might also try taking thread dumps from the JVM directly, and turning on garbage collection logging (gc also requires CPU).","body":"There are code coverage tools that tell you which methods are being executed.  Those tend to be invasive though so you might want to set up a test server for that.  You might also try taking thread dumps from the JVM directly, and turning on garbage collection logging (gc also requires CPU)."}],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640301421,"creation_date":1640301421,"answer_id":70468229,"question_id":70467144,"body_markdown":"You can user VisualVM (https://visualvm.github.io/) to sample or profile your application, you will find method that consumme CPU.\r\n\r\nWith camel you can add hawtio (https://hawt.io/), it can help.\r\n\r\n","title":"How to debug which particular Camel Route has a kind of &quot;CPU leak&quot;? Is there a CU metrics per route?","body":"<p>You can user VisualVM (<a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">https://visualvm.github.io/</a>) to sample or profile your application, you will find method that consumme CPU.</p>\n<p>With camel you can add hawtio (<a href=\"https://hawt.io/\" rel=\"nofollow noreferrer\">https://hawt.io/</a>), it can help.</p>\n"},{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640512659,"creation_date":1640512659,"answer_id":70485562,"question_id":70467144,"body_markdown":"Assuming your are using Camel 3.x, I would suggest you two things:\r\n\r\n1) Activate MicroProfile metrics so that you can analyse Camel built-in route metrics (by invoking the web service returning data un Prometheus format)\r\n\r\n2) Enable exchange pooling to reduce object allocations\r\n\r\n\r\nHere is an example on how to do it in a CDI environment\r\n\r\n    public class CamelSupport {\r\n    \r\n    \t@Inject\r\n    \tprivate MetricRegistry metricRegistry;\r\n    \r\n    \r\n    \t@Produces\r\n        @ApplicationScoped\r\n        public final CamelContext createContext() {\r\n    \t\tCdiCamelContext context = new CdiCamelContext();\r\n    \t\tcontext.setName(&quot;demo&quot;);\r\n    \t\t...\r\n    \t\tMicroProfileMetricsRoutePolicyFactory mpmrp = new MicroProfileMetricsRoutePolicyFactory();\r\n    \t\tmpmrp.setMetricRegistry(metricRegistry);\r\n    \t\tcontext.addRoutePolicyFactory(mpmrp); // (1)\r\n    \r\n    \t\t\r\n    \t\tcontext.setExchangeFactory( new PooledExchangeFactory() ); // (2)\r\n    \t\treturn context;\r\n    \t}","title":"How to debug which particular Camel Route has a kind of &quot;CPU leak&quot;? Is there a CU metrics per route?","body":"<p>Assuming your are using Camel 3.x, I would suggest you two things:</p>\n<ol>\n<li><p>Activate MicroProfile metrics so that you can analyse Camel built-in route metrics (by invoking the web service returning data un Prometheus format)</p>\n</li>\n<li><p>Enable exchange pooling to reduce object allocations</p>\n</li>\n</ol>\n<p>Here is an example on how to do it in a CDI environment</p>\n<pre><code>public class CamelSupport {\n\n    @Inject\n    private MetricRegistry metricRegistry;\n\n\n    @Produces\n    @ApplicationScoped\n    public final CamelContext createContext() {\n        CdiCamelContext context = new CdiCamelContext();\n        context.setName(&quot;demo&quot;);\n        ...\n        MicroProfileMetricsRoutePolicyFactory mpmrp = new MicroProfileMetricsRoutePolicyFactory();\n        mpmrp.setMetricRegistry(metricRegistry);\n        context.addRoutePolicyFactory(mpmrp); // (1)\n\n        \n        context.setExchangeFactory( new PooledExchangeFactory() ); // (2)\n        return context;\n    }\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70468229,"answer_count":2,"score":0,"last_activity_date":1640548867,"creation_date":1640291745,"question_id":70467144,"body_markdown":"We run a bunch of too different data scraping routes on our Camel instances. And at about 1 week after a start of the Camel run, the CPU resources occupied by the Camel tend to grow and never be released:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAs they reach 100%, the throatling starts and we miss the data. \r\n\r\nThe first and very simple approach is to set up 1 instances, and and keep an only route in 1 instanc to be observed, while the rest would be in another one, until we define which one causing a problem and then to debug some points/beans inside this particular route. But since the degradation takes week, this approach looks very slow.\r\n\r\nIs there a kind of CPU-per-route metric that can make us to estimate which route eats up the CPU resources? \r\n\r\nUPD: i&#39;m also monitoring the route metrics, but unfortunately metric s per route just gives me timing, hwhich are not diverged and look increasing/go peaking/go oscilating simultaneously.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    sum by(routeId)(rate(CamelMessageHistory_seconds_sum{}[5m]))\r\n\r\nand\r\n\r\n``rate(label_replace({__name__=~&quot;camel_proxy.*count&quot;},&quot;name_label&quot;,&quot;$1&quot;,&quot;__name__&quot;, &quot;(.+)&quot;)[5m:])``\r\n\r\nare plotted to prolt Micrometer metrics like that:\r\n\r\n    # HELP CamelRoutePolicy_seconds_max  \r\n    # TYPE CamelRoutePolicy_seconds_max gauge\r\n    CamelRoutePolicy_seconds_max{camelContext=&quot;camel-1&quot;,failed=&quot;false&quot;,routeId=&quot;realtime_positioning_raw&quot;,serviceName=&quot;MicrometerRoutePolicyService&quot;,} 1.3250687\r\n    # HELP CamelRoutePolicy_seconds  \r\n    # TYPE CamelRoutePolicy_seconds summary\r\n    CamelRoutePolicy_seconds_count{camelContext=&quot;camel-1&quot;,failed=&quot;false&quot;,routeId=&quot;realtime_positioning_raw&quot;,serviceName=&quot;MicrometerRoutePolicyService&quot;,} 868.0\r\n    CamelRoutePolicy_seconds_sum{camelContext=&quot;camel-1&quot;,failed=&quot;false&quot;,routeId=&quot;realtime_positioning_raw&quot;,serviceName=&quot;MicrometerRoutePolicyService&quot;,} 15.7921739\r\n\r\nand\r\n\r\n    # HELP camel_proxy_mqtt_kafka_stream_seconds  \r\n    # TYPE camel_proxy_mqtt_kafka_stream_seconds summary\r\n    camel_proxy_mqtt_kafka_stream_seconds_count{camelContext=&quot;camel-1&quot;,} 868.0\r\n    camel_proxy_mqtt_kafka_stream_seconds_sum{camelContext=&quot;camel-1&quot;,} 14.5903913\r\n    # HELP camel_proxy_mqtt_kafka_stream_seconds_max  \r\n    # TYPE camel_proxy_mqtt_kafka_stream_seconds_max gauge\r\n    camel_proxy_mqtt_kafka_stream_seconds_max{camelContext=&quot;camel-1&quot;,} 1.297158\r\n\r\n  [1]: https://i.stack.imgur.com/YYdKu.png\r\n  [2]: https://i.stack.imgur.com/rb55c.png\r\n\r\n","title":"How to debug which particular Camel Route has a kind of &quot;CPU leak&quot;? Is there a CU metrics per route?","body":"<p>We run a bunch of too different data scraping routes on our Camel instances. And at about 1 week after a start of the Camel run, the CPU resources occupied by the Camel tend to grow and never be released:</p>\n<p><a href=\"https://i.stack.imgur.com/YYdKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YYdKu.png\" alt=\"enter image description here\" /></a></p>\n<p>As they reach 100%, the throatling starts and we miss the data.</p>\n<p>The first and very simple approach is to set up 1 instances, and and keep an only route in 1 instanc to be observed, while the rest would be in another one, until we define which one causing a problem and then to debug some points/beans inside this particular route. But since the degradation takes week, this approach looks very slow.</p>\n<p>Is there a kind of CPU-per-route metric that can make us to estimate which route eats up the CPU resources?</p>\n<p>UPD: i'm also monitoring the route metrics, but unfortunately metric s per route just gives me timing, hwhich are not diverged and look increasing/go peaking/go oscilating simultaneously.</p>\n<p><a href=\"https://i.stack.imgur.com/rb55c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rb55c.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>sum by(routeId)(rate(CamelMessageHistory_seconds_sum{}[5m]))\n</code></pre>\n<p>and</p>\n<p><code>rate(label_replace({__name__=~&quot;camel_proxy.*count&quot;},&quot;name_label&quot;,&quot;$1&quot;,&quot;__name__&quot;, &quot;(.+)&quot;)[5m:])</code></p>\n<p>are plotted to prolt Micrometer metrics like that:</p>\n<pre><code># HELP CamelRoutePolicy_seconds_max  \n# TYPE CamelRoutePolicy_seconds_max gauge\nCamelRoutePolicy_seconds_max{camelContext=&quot;camel-1&quot;,failed=&quot;false&quot;,routeId=&quot;realtime_positioning_raw&quot;,serviceName=&quot;MicrometerRoutePolicyService&quot;,} 1.3250687\n# HELP CamelRoutePolicy_seconds  \n# TYPE CamelRoutePolicy_seconds summary\nCamelRoutePolicy_seconds_count{camelContext=&quot;camel-1&quot;,failed=&quot;false&quot;,routeId=&quot;realtime_positioning_raw&quot;,serviceName=&quot;MicrometerRoutePolicyService&quot;,} 868.0\nCamelRoutePolicy_seconds_sum{camelContext=&quot;camel-1&quot;,failed=&quot;false&quot;,routeId=&quot;realtime_positioning_raw&quot;,serviceName=&quot;MicrometerRoutePolicyService&quot;,} 15.7921739\n</code></pre>\n<p>and</p>\n<pre><code># HELP camel_proxy_mqtt_kafka_stream_seconds  \n# TYPE camel_proxy_mqtt_kafka_stream_seconds summary\ncamel_proxy_mqtt_kafka_stream_seconds_count{camelContext=&quot;camel-1&quot;,} 868.0\ncamel_proxy_mqtt_kafka_stream_seconds_sum{camelContext=&quot;camel-1&quot;,} 14.5903913\n# HELP camel_proxy_mqtt_kafka_stream_seconds_max  \n# TYPE camel_proxy_mqtt_kafka_stream_seconds_max gauge\ncamel_proxy_mqtt_kafka_stream_seconds_max{camelContext=&quot;camel-1&quot;,} 1.297158\n</code></pre>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":21163271,"reputation":26,"user_id":15561088,"display_name":"Aidan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640548490,"creation_date":1640548490,"answer_id":70489406,"question_id":70489221,"body_markdown":"When you press the &quot;exit&quot; or &quot;cancel&quot; button, you are assigning &quot;choice&quot; to null, but that won&#39;t work because choice is an int. You could make &quot;choice&quot; a String and then, before the switch statement, make sure choice!=null. This is what that would look like\r\n\r\n    public static void start() {\r\n            String choice = JOptionPane.showInputDialog(null, &quot;Choice: \\n 1 - Play a game \\n 2 - show all games \\n 3 - Find the best score \\n 4 - Find a player \\n 5 - End&quot;);\r\n           if(choice!=null) {\r\n            switch (choice) {\r\n                    case &quot;1&quot;:\r\n                        play();\r\n                        break;\r\n                    case &quot;2&quot;:\r\n                        allGames();\r\n                        break;\r\n                    case &quot;3&quot;:\r\n                        getBestScore();\r\n                        break;\r\n                    case &quot;4&quot;:\r\n                        getPlayer();\r\n                        break;\r\n                    case &quot;5&quot;:\r\n                        System.exit(0);\r\n                        break;\r\n                    default:\r\n                        JOptionPane.showMessageDialog(null, &quot;Wrong input.&quot;);\r\n                        break;\r\n                        }\r\n            }\r\n    } ","title":"event when press exit button: JOptionPane.showInputDialog","body":"<p>When you press the &quot;exit&quot; or &quot;cancel&quot; button, you are assigning &quot;choice&quot; to null, but that won't work because choice is an int. You could make &quot;choice&quot; a String and then, before the switch statement, make sure choice!=null. This is what that would look like</p>\n<pre><code>public static void start() {\n        String choice = JOptionPane.showInputDialog(null, &quot;Choice: \\n 1 - Play a game \\n 2 - show all games \\n 3 - Find the best score \\n 4 - Find a player \\n 5 - End&quot;);\n       if(choice!=null) {\n        switch (choice) {\n                case &quot;1&quot;:\n                    play();\n                    break;\n                case &quot;2&quot;:\n                    allGames();\n                    break;\n                case &quot;3&quot;:\n                    getBestScore();\n                    break;\n                case &quot;4&quot;:\n                    getPlayer();\n                    break;\n                case &quot;5&quot;:\n                    System.exit(0);\n                    break;\n                default:\n                    JOptionPane.showMessageDialog(null, &quot;Wrong input.&quot;);\n                    break;\n                    }\n        }\n} \n</code></pre>\n"}],"owner":{"account_id":19861558,"reputation":37,"user_id":14549826,"display_name":"Rebeka Pan&#225;kov&#225;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70489406,"answer_count":1,"score":0,"last_activity_date":1640548490,"creation_date":1640546492,"question_id":70489221,"body_markdown":"How can I add a function after clicking on the cancel or exit button? I tried it like this but it doesn&#39;t work for me. \r\n\r\nIt shows me an error that choice is null but it couldn&#39;t be because it is int? is there any other possibility to solve it?\r\n```\r\npublic void start() {\r\n        \r\n        int choice = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Choice: \\n 1 - Play a game \\n 2 - show all games \\n 3 - Find the best score \\n 4 - Find a player \\n 5 - End&quot;));\r\n        //if (choice == JOptionPane.OK_OPTION) {\r\n            switch (choice) {\r\n                case 1:\r\n                    this.play();\r\n                    break;\r\n                case 2:\r\n                    this.allGames();\r\n                    break;\r\n                case 3:\r\n                    this.getBestScore();\r\n                    break;\r\n                case 4:\r\n                    this.getPlayer();\r\n                    break;\r\n                case 5:\r\n                    System.exit(0);\r\n                    break;\r\n                default:\r\n                    JOptionPane.showMessageDialog(null, &quot;Wrong input.&quot;);\r\n                    break;\r\n            }\r\n        // } else if (choice == JOptionPane.CANCEL_OPTION) {\r\n            // System.exit(0);\r\n        // } else if (choice == JOptionPane.CLOSED_OPTION) {\r\n            // System.exit(0);\r\n        // }\r\n        \r\n        \r\n        \r\n    }\r\n```","title":"event when press exit button: JOptionPane.showInputDialog","body":"<p>How can I add a function after clicking on the cancel or exit button? I tried it like this but it doesn't work for me.</p>\n<p>It shows me an error that choice is null but it couldn't be because it is int? is there any other possibility to solve it?</p>\n<pre><code>public void start() {\n        \n        int choice = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Choice: \\n 1 - Play a game \\n 2 - show all games \\n 3 - Find the best score \\n 4 - Find a player \\n 5 - End&quot;));\n        //if (choice == JOptionPane.OK_OPTION) {\n            switch (choice) {\n                case 1:\n                    this.play();\n                    break;\n                case 2:\n                    this.allGames();\n                    break;\n                case 3:\n                    this.getBestScore();\n                    break;\n                case 4:\n                    this.getPlayer();\n                    break;\n                case 5:\n                    System.exit(0);\n                    break;\n                default:\n                    JOptionPane.showMessageDialog(null, &quot;Wrong input.&quot;);\n                    break;\n            }\n        // } else if (choice == JOptionPane.CANCEL_OPTION) {\n            // System.exit(0);\n        // } else if (choice == JOptionPane.CLOSED_OPTION) {\n            // System.exit(0);\n        // }\n        \n        \n        \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1640537546,"post_id":70488041,"comment_id":124601430,"body_markdown":"500 HTTP status code does not represent a bad request. Can you post the stack trace of both the caller and the target services? Thanks.","body":"500 HTTP status code does not represent a bad request. Can you post the stack trace of both the caller and the target services? Thanks."},{"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"score":0,"creation_date":1640537687,"post_id":70488041,"comment_id":124601463,"body_markdown":"I edited the post with the stack trace","body":"I edited the post with the stack trace"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1640539295,"post_id":70488041,"comment_id":124601820,"body_markdown":"You should also get a proper stack trace on the crud service side?","body":"You should also get a proper stack trace on the crud service side?"},{"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"score":0,"creation_date":1640539617,"post_id":70488041,"comment_id":124601891,"body_markdown":"I understand, how should I get that stack trace if it only returns 200 ok?","body":"I understand, how should I get that stack trace if it only returns 200 ok?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640547888,"creation_date":1640538565,"answer_id":70488359,"question_id":70488041,"body_markdown":"The issue is that you are simply sending `customerId` as a `Long` in your programmatic call when you should be sending something like the JSON that you showed. The simplest way to solve this is by creating a class that matches such JSON structure:\r\n```java\r\npublic class CustomerRequest {\r\n    private long customerId;\r\n\r\n    public CustomerRequest(long customerId) {\r\n        this.customerId = customerId;\r\n    }\r\n\r\n    public long getCustomerId() {\r\n        return customerId;\r\n    }\r\n}\r\n```\r\n\r\nAnd then you need to create an instance of such class when calling the API as follows:\r\n```java\r\npublic Flux&lt;Integer&gt; getTotalOrders(long customerId) {\r\n    loggerService.writeLoggerMsg(&quot;LISTED TOTAL ORDERS FOR A CUSTOMER&quot;);\r\n\r\n    return ((RequestBodySpec) webClientBuilder\r\n            .build()\r\n            .get()\r\n            .uri(&quot;localhost:8081/crud/v1/totalorders&quot;))\r\n            .body(Flux.just(new CustomerRequest(customerId)), CustomerRequest.class)\r\n            .retrieve()\r\n            .bodyToFlux(Integer.class);\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nStill, I would suggest you having a more RESTful approach in your endpoint and use path parameter instead of a request body in a GET request. Something along the following lines:\r\n```java\r\n@GetMapping(path = &quot;/customers/{customerId}/total-orders&quot;)\r\npublic int getTotalOrders(@PathVariable long customerId) {\r\n    return adminCustomerService.getTotalOrders(customerId);\r\n}\r\n```\r\n\r\nThen you would make a request to this endpoint as follows:\r\n```java\r\npublic Flux&lt;Integer&gt; getTotalOrders(long customerId) {\r\n    loggerService.writeLoggerMsg(&quot;LISTED TOTAL ORDERS FOR A CUSTOMER&quot;);\r\n\r\n    return webClientBuilder\r\n            .build()\r\n            .get()\r\n            .uri(&quot;localhost:8081/crud/v1/customers/{customerId}/total-orders&quot;, customerId))\r\n            .retrieve()\r\n            .bodyToFlux(Integer.class);\r\n}\r\n```\r\n\r\nI would suggest you read the following online resources:\r\n - https://stackoverflow.blog/2020/03/02/best-practices-for-rest-api-design/\r\n - https://www.baeldung.com/spring-pathvariable","title":"Webclient sending request body with get request","body":"<p>The issue is that you are simply sending <code>customerId</code> as a <code>Long</code> in your programmatic call when you should be sending something like the JSON that you showed. The simplest way to solve this is by creating a class that matches such JSON structure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomerRequest {\n    private long customerId;\n\n    public CustomerRequest(long customerId) {\n        this.customerId = customerId;\n    }\n\n    public long getCustomerId() {\n        return customerId;\n    }\n}\n</code></pre>\n<p>And then you need to create an instance of such class when calling the API as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Integer&gt; getTotalOrders(long customerId) {\n    loggerService.writeLoggerMsg(&quot;LISTED TOTAL ORDERS FOR A CUSTOMER&quot;);\n\n    return ((RequestBodySpec) webClientBuilder\n            .build()\n            .get()\n            .uri(&quot;localhost:8081/crud/v1/totalorders&quot;))\n            .body(Flux.just(new CustomerRequest(customerId)), CustomerRequest.class)\n            .retrieve()\n            .bodyToFlux(Integer.class);\n}\n</code></pre>\n<hr />\n<p>Still, I would suggest you having a more RESTful approach in your endpoint and use path parameter instead of a request body in a GET request. Something along the following lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/customers/{customerId}/total-orders&quot;)\npublic int getTotalOrders(@PathVariable long customerId) {\n    return adminCustomerService.getTotalOrders(customerId);\n}\n</code></pre>\n<p>Then you would make a request to this endpoint as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;Integer&gt; getTotalOrders(long customerId) {\n    loggerService.writeLoggerMsg(&quot;LISTED TOTAL ORDERS FOR A CUSTOMER&quot;);\n\n    return webClientBuilder\n            .build()\n            .get()\n            .uri(&quot;localhost:8081/crud/v1/customers/{customerId}/total-orders&quot;, customerId))\n            .retrieve()\n            .bodyToFlux(Integer.class);\n}\n</code></pre>\n<p>I would suggest you read the following online resources:</p>\n<ul>\n<li><a href=\"https://stackoverflow.blog/2020/03/02/best-practices-for-rest-api-design/\">https://stackoverflow.blog/2020/03/02/best-practices-for-rest-api-design/</a></li>\n<li><a href=\"https://www.baeldung.com/spring-pathvariable\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-pathvariable</a></li>\n</ul>\n"}],"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70488359,"answer_count":1,"score":0,"last_activity_date":1640548265,"creation_date":1640536125,"question_id":70488041,"body_markdown":"I have a spring-boot project called carrental-crud with an h2 memory database, and I want to access one of the endpoints from another project called carrental-api. \r\n\r\nI use webClientBuilder for this on my other endpoints, but it is throwing status 500 with bad request when I try using it in postman. \r\n\r\nI use JPArepository to access the h2 db with a query, this is how my orderRepository looks : \r\n \r\n\r\n    @Transactional\r\n    @Query(nativeQuery = true,value = &quot;select count(*) from TBL_ORDER WHERE CUSTOMER_ID=?1&quot;)\r\n    public int getTotalOrders(long customerId);\r\n    \r\n\r\nThen in my adminCustomerService class, I use it like this  :\r\n\r\n    public int getTotalOrders(long customerId) {\r\n\t\tloggerService.writeLoggerMsg(&quot;LISTED TOTAL ORDERS FOR A CUSTOMER&quot;);\r\n\t\t\r\n\t\treturn orderRepository.getTotalOrders(customerId);\r\n\t}\r\n\r\nAnd then in my adminCustomerController : \r\n\r\n    @GetMapping(path = &quot;/totalorders&quot;)\r\n    public int getTotalOrders(@RequestBody Customer customer) {\r\n        return adminCustomerService.getTotalOrders(customer.getCustomerId());\r\n    }\r\n\r\nand in my postman request body, I write : \r\n```json\r\n{\r\n  &quot;customerId&quot;: 2\r\n}\r\n```\r\n\r\nThis works in my carrental-crud, but how can I recreate this in my carrental-api? \r\n\r\n\r\nAnd using the same request body in postman, but I keep getting the error status 500 with bad request\r\n\r\nEDIT : \r\nI managed to get this to work by using parameters instead of a request body. \r\n\r\nThis is how my adminCustomerService looks : \r\n\r\n    \t\r\n\tpublic int getTotalOrders(long customerId) {\r\n       int orders = webClientBuilder.build()\r\n                .get()\r\n                .uri(&quot;http://localhost:8081/crud/v1/totalorders/&quot; + customerId)\r\n                .retrieve()\r\n                .bodyToMono(new ParameterizedTypeReference&lt;Integer&gt;() {})\r\n                .log()\r\n                .block();\r\n        return orders;\r\n    }\r\n\r\nAnd my adminCustomerController : \r\n\r\n    @GetMapping(path = &quot;/totalorders/{customerId}&quot;)\r\n\tpublic int getTotalOrders(@PathVariable long customerId) {\r\n\t\r\n\t\treturn adminCustomerService.getTotalOrders(customerId);\r\n\t}\r\n\r\n","title":"Webclient sending request body with get request","body":"<p>I have a spring-boot project called carrental-crud with an h2 memory database, and I want to access one of the endpoints from another project called carrental-api.</p>\n<p>I use webClientBuilder for this on my other endpoints, but it is throwing status 500 with bad request when I try using it in postman.</p>\n<p>I use JPArepository to access the h2 db with a query, this is how my orderRepository looks :</p>\n<pre><code>@Transactional\n@Query(nativeQuery = true,value = &quot;select count(*) from TBL_ORDER WHERE CUSTOMER_ID=?1&quot;)\npublic int getTotalOrders(long customerId);\n</code></pre>\n<p>Then in my adminCustomerService class, I use it like this  :</p>\n<pre><code>public int getTotalOrders(long customerId) {\n    loggerService.writeLoggerMsg(&quot;LISTED TOTAL ORDERS FOR A CUSTOMER&quot;);\n    \n    return orderRepository.getTotalOrders(customerId);\n}\n</code></pre>\n<p>And then in my adminCustomerController :</p>\n<pre><code>@GetMapping(path = &quot;/totalorders&quot;)\npublic int getTotalOrders(@RequestBody Customer customer) {\n    return adminCustomerService.getTotalOrders(customer.getCustomerId());\n}\n</code></pre>\n<p>and in my postman request body, I write :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;customerId&quot;: 2\n}\n</code></pre>\n<p>This works in my carrental-crud, but how can I recreate this in my carrental-api?</p>\n<p>And using the same request body in postman, but I keep getting the error status 500 with bad request</p>\n<p>EDIT :\nI managed to get this to work by using parameters instead of a request body.</p>\n<p>This is how my adminCustomerService looks :</p>\n<pre><code>public int getTotalOrders(long customerId) {\n   int orders = webClientBuilder.build()\n            .get()\n            .uri(&quot;http://localhost:8081/crud/v1/totalorders/&quot; + customerId)\n            .retrieve()\n            .bodyToMono(new ParameterizedTypeReference&lt;Integer&gt;() {})\n            .log()\n            .block();\n    return orders;\n}\n</code></pre>\n<p>And my adminCustomerController :</p>\n<pre><code>@GetMapping(path = &quot;/totalorders/{customerId}&quot;)\npublic int getTotalOrders(@PathVariable long customerId) {\n\n    return adminCustomerService.getTotalOrders(customerId);\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6558074,"reputation":3092,"user_id":5070158,"accept_rate":94,"display_name":"Andrii Plotnikov"},"score":0,"creation_date":1469256960,"post_id":38537463,"comment_id":64470983,"body_markdown":"if you setup db yourself, you could do it inside your mysql database, if it&#39;s not generated with jpa/orm, it&#39;s just mapping, without actually creating db.","body":"if you setup db yourself, you could do it inside your mysql database, if it&#39;s not generated with jpa/orm, it&#39;s just mapping, without actually creating db."},{"owner":{"account_id":7815129,"reputation":3299,"user_id":5910091,"display_name":"ujulu"},"score":0,"creation_date":1469271180,"post_id":38537463,"comment_id":64474340,"body_markdown":"I tried with the table generator on the MySQL database and it works perfectly. But I haven&#39;t used spring.","body":"I tried with the table generator on the MySQL database and it works perfectly. But I haven&#39;t used spring."}],"answers":[{"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1469240598,"creation_date":1469240598,"answer_id":38537539,"question_id":38537463,"body_markdown":"You could try and use the @TableGenerator (JPA has a @TableGenerator annotation in which you can set an initial value). The initialValue can be used to seed the values\r\n\r\nExample here : http://www.java2s.com/Code/Java/JPA/SetInitialValueOfTableGenerator.htm","title":"How to set initial value for @Id @GeneratedValue in Spring JPA for MySQL?","body":"<p>You could try and use the @TableGenerator (JPA has a @TableGenerator annotation in which you can set an initial value). The initialValue can be used to seed the values</p>\n\n<p>Example here : <a href=\"http://www.java2s.com/Code/Java/JPA/SetInitialValueOfTableGenerator.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Java/JPA/SetInitialValueOfTableGenerator.htm</a></p>\n"},{"tags":[],"owner":{"account_id":23751952,"reputation":1,"user_id":17768588,"display_name":"aeronWolfe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640548098,"creation_date":1640548098,"answer_id":70489374,"question_id":38537463,"body_markdown":"this worked for me:\r\n\r\n    @Id\r\n    @GenericGenerator(\r\n    \tname = &quot;customers-sequence-generator&quot;,\r\n    \tstrategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n    \tparameters = {\r\n                @Parameter(name = &quot;sequence_name&quot;, value = &quot;customers_sequence&quot;),\r\n    \t\t\t@Parameter(name = &quot;initial_value&quot;, value = &quot;1000&quot;),\r\n    \t\t\t@Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\r\n    \t})\r\n    @GeneratedValue(generator = &quot;customers-sequence-generator&quot;)\r\n    @Column(nullable=false, updatable=false)\r\n    @JsonProperty(&quot;id&quot;)\r\n    private long id;","title":"How to set initial value for @Id @GeneratedValue in Spring JPA for MySQL?","body":"<p>this worked for me:</p>\n<pre><code>@Id\n@GenericGenerator(\n    name = &quot;customers-sequence-generator&quot;,\n    strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n    parameters = {\n            @Parameter(name = &quot;sequence_name&quot;, value = &quot;customers_sequence&quot;),\n            @Parameter(name = &quot;initial_value&quot;, value = &quot;1000&quot;),\n            @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\n    })\n@GeneratedValue(generator = &quot;customers-sequence-generator&quot;)\n@Column(nullable=false, updatable=false)\n@JsonProperty(&quot;id&quot;)\nprivate long id;\n</code></pre>\n"}],"owner":{"account_id":1119894,"reputation":2585,"user_id":1108466,"accept_rate":73,"display_name":"ALM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20415,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":38537539,"answer_count":2,"score":6,"last_activity_date":1640548098,"creation_date":1469239550,"question_id":38537463,"body_markdown":"I can not figure out how to set the initial value for the `@GenerateValue` `@Id`.\r\n\r\nI have tried using `GenerationType.SEQUENCE` but that is not allowed in `MySQL`.  How can I set the initial value to be used for the `@GenerateValue`?\r\n\r\nUsing both `AUTO` and `TABLE` I can still not get the initial value to start at anything but `1`\r\n\r\nThank you\r\n\r\n\r\n**Code**  using AUTO\r\n\r\n    @Entity\r\n    @Data\r\n    @SequenceGenerator(name = &quot;port_gen&quot;, sequenceName = &quot;port_gen&quot;,  initialValue = 4700)\r\n    public class AppiumPort {\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;port_gen&quot;)\r\n        private Long port;\r\n\r\n        public AppiumPort() {\r\n            \r\n        }\r\n    }\r\n\r\n**Code using TABLE**\r\n\r\n        @Entity\r\n        @Data\r\n        public class AppiumPort {\r\n        \r\n        @TableGenerator(name = &quot;Address_Gen&quot;, table = &quot;ID_GEN&quot;, pkColumnName = &quot;GEN_NAME&quot;, valueColumnName = &quot;GEN_VAL&quot;, pkColumnValue = &quot;Addr_Gen&quot;, initialValue = 10000, allocationSize = 100)\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;Address_Gen&quot;)\r\n        private int port;\r\n        \r\n        public AppiumPort() {\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\n** UPDATE **\r\n\r\nThe problem was related to not setting hibernate.id.new_generator_mappings=true;\r\n\r\nhttps://docs.jboss.org/hibernate/stable/annotations/reference/en/html/ch01.html\r\n\r\nApplication.properties for Sring Boot:\r\n\r\n    spring.jpa.properties.hibernate.id.new_generator_mappings=true","title":"How to set initial value for @Id @GeneratedValue in Spring JPA for MySQL?","body":"<p>I can not figure out how to set the initial value for the <code>@GenerateValue</code> <code>@Id</code>.</p>\n\n<p>I have tried using <code>GenerationType.SEQUENCE</code> but that is not allowed in <code>MySQL</code>.  How can I set the initial value to be used for the <code>@GenerateValue</code>?</p>\n\n<p>Using both <code>AUTO</code> and <code>TABLE</code> I can still not get the initial value to start at anything but <code>1</code></p>\n\n<p>Thank you</p>\n\n<p><strong>Code</strong>  using AUTO</p>\n\n<pre><code>@Entity\n@Data\n@SequenceGenerator(name = \"port_gen\", sequenceName = \"port_gen\",  initialValue = 4700)\npublic class AppiumPort {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = \"port_gen\")\n    private Long port;\n\n    public AppiumPort() {\n\n    }\n}\n</code></pre>\n\n<p><strong>Code using TABLE</strong></p>\n\n<pre><code>    @Entity\n    @Data\n    public class AppiumPort {\n\n    @TableGenerator(name = \"Address_Gen\", table = \"ID_GEN\", pkColumnName = \"GEN_NAME\", valueColumnName = \"GEN_VAL\", pkColumnValue = \"Addr_Gen\", initialValue = 10000, allocationSize = 100)\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE, generator = \"Address_Gen\")\n    private int port;\n\n    public AppiumPort() {\n\n    }\n}\n</code></pre>\n\n<p>** UPDATE **</p>\n\n<p>The problem was related to not setting hibernate.id.new_generator_mappings=true;</p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/stable/annotations/reference/en/html/ch01.html\" rel=\"noreferrer\">https://docs.jboss.org/hibernate/stable/annotations/reference/en/html/ch01.html</a></p>\n\n<p>Application.properties for Sring Boot:</p>\n\n<pre><code>spring.jpa.properties.hibernate.id.new_generator_mappings=true\n</code></pre>\n"},{"tags":["java","spring","database","postgresql","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1251163,"reputation":1546,"user_id":1211547,"accept_rate":50,"display_name":"indybee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640543279,"creation_date":1640543279,"answer_id":70488879,"question_id":70488625,"body_markdown":"try\r\n\r\n\t \r\n\r\n    @Query(value = &quot;SELECT * FROM books WHERE (isbn || &#39; &#39; || author || &#39; &#39; || name) ILIKE %?1%&quot;, nativeQuery = true)\r\n    \t List&lt;Offers&gt; search(String keyword);","title":"PostgreSQL query works on pgAdmin but not in Spring Boot","body":"<p>try</p>\n<pre><code>@Query(value = &quot;SELECT * FROM books WHERE (isbn || ' ' || author || ' ' || name) ILIKE %?1%&quot;, nativeQuery = true)\n     List&lt;Offers&gt; search(String keyword);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640546954,"creation_date":1640543346,"answer_id":70488886,"question_id":70488625,"body_markdown":"The parameter `?` may not be *applied* properly in the query. Change `&#39;%?%&#39;` to `&#39;%&#39; || ? || &#39;%&#39;` as in:\r\n\r\n    @Query(value = &quot;SELECT * FROM books WHERE (isbn || &#39; &#39; || author || &#39; &#39; || name) ILIKE &#39;%&#39; || ? || &#39;%&#39;&quot;, nativeQuery = true)\r\n","title":"PostgreSQL query works on pgAdmin but not in Spring Boot","body":"<p>The parameter <code>?</code> may not be <em>applied</em> properly in the query. Change <code>'%?%'</code> to <code>'%' || ? || '%'</code> as in:</p>\n<pre><code>@Query(value = &quot;SELECT * FROM books WHERE (isbn || ' ' || author || ' ' || name) ILIKE '%' || ? || '%'&quot;, nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":8354350,"reputation":283,"user_id":13041346,"display_name":"NoName123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70488886,"answer_count":2,"score":0,"last_activity_date":1640546954,"creation_date":1640540869,"question_id":70488625,"body_markdown":"The query `SELECT * FROM books WHERE (isbn || &#39; &#39; || author || &#39; &#39; || name) ILIKE &#39;%el%&#39;` returns \r\n\r\n[![output][1]][1] \r\n\r\nfrom the full db when executed in pgAdmin (PostgreSQL tool)\r\n\r\n[![full-db][2]][2] \r\n\r\nBut the same query doesn&#39;t seem to work when I try to run it in Spring Boot, it returns an empty list. I do not know if my query is PostgreSQL specific or if it&#39;s native SQL, if it isn&#39;t native SQL then I guess it is reasonable that it does not work seeing as I have `nativeQuery = true` which if I have understood things correctly means that native SQL is expected. Without it, the application does not even run. If the case is as described, how do I specify that I want to use PostgreSQL in the query?\r\n\r\n`BookController.java`\r\n```java\r\n@GetMapping(&quot;/search&quot;)\r\npublic String search(@RequestParam(value = &quot;keyword&quot;) String keyword, Model model) {\r\n    List&lt;Book&gt; books = bookService.search(keyword);\r\n    model.addAttribute(&quot;books&quot;, books);\r\n    return &quot;books&quot;;\r\n}\r\n```\r\n\r\n`BookService.java`\r\n```java\r\npublic List&lt;Book&gt; search(String keyword) {\r\n      return bookRepository.search(keyword);\r\n}\r\n```\r\n\r\n`BookRepository.java`\r\n```java\r\n@Repository\r\npublic interface BookRepository extends CrudRepository&lt;Book, Long&gt; {\r\n\r\n    List&lt;Book&gt; findAll();\r\n\r\n    @Query(value = &quot;SELECT * FROM books WHERE (isbn || &#39; &#39; || author || &#39; &#39; || name) ILIKE &#39;%?%&#39;&quot;, nativeQuery = true)\r\n    List&lt;Book&gt; search(String keyword);\r\n\r\n}\r\n```\r\n\r\n`Books.html` the value I am entering is `el`.\r\n```html\r\n&lt;form class=&quot;col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3&quot; th:action=&quot;@{books/search}&quot; method=&quot;get&quot;&gt;\r\n     &lt;input th:name=&quot;keyword&quot; type=&quot;search&quot; class=&quot;form-control form-control-dark&quot; placeholder=&quot;Search...&quot; aria-label=&quot;Search&quot;&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VbjGi.png\r\n  [2]: https://i.stack.imgur.com/revYR.png","title":"PostgreSQL query works on pgAdmin but not in Spring Boot","body":"<p>The query <code>SELECT * FROM books WHERE (isbn || ' ' || author || ' ' || name) ILIKE '%el%'</code> returns</p>\n<p><a href=\"https://i.stack.imgur.com/VbjGi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VbjGi.png\" alt=\"output\" /></a></p>\n<p>from the full db when executed in pgAdmin (PostgreSQL tool)</p>\n<p><a href=\"https://i.stack.imgur.com/revYR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/revYR.png\" alt=\"full-db\" /></a></p>\n<p>But the same query doesn't seem to work when I try to run it in Spring Boot, it returns an empty list. I do not know if my query is PostgreSQL specific or if it's native SQL, if it isn't native SQL then I guess it is reasonable that it does not work seeing as I have <code>nativeQuery = true</code> which if I have understood things correctly means that native SQL is expected. Without it, the application does not even run. If the case is as described, how do I specify that I want to use PostgreSQL in the query?</p>\n<p><code>BookController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/search&quot;)\npublic String search(@RequestParam(value = &quot;keyword&quot;) String keyword, Model model) {\n    List&lt;Book&gt; books = bookService.search(keyword);\n    model.addAttribute(&quot;books&quot;, books);\n    return &quot;books&quot;;\n}\n</code></pre>\n<p><code>BookService.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Book&gt; search(String keyword) {\n      return bookRepository.search(keyword);\n}\n</code></pre>\n<p><code>BookRepository.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface BookRepository extends CrudRepository&lt;Book, Long&gt; {\n\n    List&lt;Book&gt; findAll();\n\n    @Query(value = &quot;SELECT * FROM books WHERE (isbn || ' ' || author || ' ' || name) ILIKE '%?%'&quot;, nativeQuery = true)\n    List&lt;Book&gt; search(String keyword);\n\n}\n</code></pre>\n<p><code>Books.html</code> the value I am entering is <code>el</code>.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form class=&quot;col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3&quot; th:action=&quot;@{books/search}&quot; method=&quot;get&quot;&gt;\n     &lt;input th:name=&quot;keyword&quot; type=&quot;search&quot; class=&quot;form-control form-control-dark&quot; placeholder=&quot;Search...&quot; aria-label=&quot;Search&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"owner":{"account_id":9642464,"reputation":329,"user_id":7156278,"display_name":"Albert Waninge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640546407,"creation_date":1640546407,"question_id":70489212,"body_markdown":"I am very new to both Spring Data and to MongoDB. I&#39;ve worked before with Hibernate. I am used to that, when I modify and save a child entity from some other entity, this works perfectly fine. And if I query an entity directly, I will get the very same object (==) as when it is provided as a child entity of another entity.\r\n\r\nNow with a UserRepository extending MongoRepository, I get not the same behaviour that I grew fond to. The class is defined as:  \r\n        \r\n    @Document    \r\n    public class User extends Userdetails {\r\n        \r\n        @Id \r\n        private String id;\r\n        private String username;\r\n        private String firstName;\r\n        private String lastName;\r\n        private Role role;\r\n        @DocumentReference\r\n        private User supervisor;\r\n\r\n        //getters and setters...\r\n\r\n    }\r\n\r\nNow, I have created two users. One has a TEACHER role and the other has a PUPIL role. The PUPIL has the TEACHER as its &#39;supervisor&#39;. When I get all the users from the database, the teacher in the list is a different object than the teacher that is the supervisor of the pupil. And if I change a property of the supervisor object of the pupil and save that object, I will get an exception saying there is a duplicate id. \r\n\r\nIs there a way to make that the same document in the database is always the same object in JVM memory and there is no need to worry whether I&#39;m persisting the right object?\r\n\r\n\r\n","title":"How do I get MongoDB documents to be managed with Spring Data like the EntityManager does with JPA","body":"<p>I am very new to both Spring Data and to MongoDB. I've worked before with Hibernate. I am used to that, when I modify and save a child entity from some other entity, this works perfectly fine. And if I query an entity directly, I will get the very same object (==) as when it is provided as a child entity of another entity.</p>\n<p>Now with a UserRepository extending MongoRepository, I get not the same behaviour that I grew fond to. The class is defined as:</p>\n<pre><code>@Document    \npublic class User extends Userdetails {\n    \n    @Id \n    private String id;\n    private String username;\n    private String firstName;\n    private String lastName;\n    private Role role;\n    @DocumentReference\n    private User supervisor;\n\n    //getters and setters...\n\n}\n</code></pre>\n<p>Now, I have created two users. One has a TEACHER role and the other has a PUPIL role. The PUPIL has the TEACHER as its 'supervisor'. When I get all the users from the database, the teacher in the list is a different object than the teacher that is the supervisor of the pupil. And if I change a property of the supervisor object of the pupil and save that object, I will get an exception saying there is a duplicate id.</p>\n<p>Is there a way to make that the same document in the database is always the same object in JVM memory and there is no need to worry whether I'm persisting the right object?</p>\n"},{"tags":["java","xml","xml-parsing","jaxb","xml-namespaces"],"comments":[{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":1,"creation_date":1640532648,"post_id":70487410,"comment_id":124600455,"body_markdown":"can you post an example of the XML? It isn&#39;t clear whether we are talking about `xml:lang` (which is the standard means of expressing language) or `xmlns:lang` (which may be a namespace-prefix for some other namespace, or a typeo in your question). Seeing the XML would make it more clear what we are talking about.","body":"can you post an example of the XML? It isn&#39;t clear whether we are talking about <code>xml:lang</code> (which is the standard means of expressing language) or <code>xmlns:lang</code> (which may be a namespace-prefix for some other namespace, or a typeo in your question). Seeing the XML would make it more clear what we are talking about."},{"owner":{"account_id":4803957,"reputation":83,"user_id":3879688,"display_name":"sp_artacus_code"},"score":0,"creation_date":1640546275,"post_id":70487410,"comment_id":124603201,"body_markdown":"Ok, I updated the question with an example...","body":"Ok, I updated the question with an example..."},{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1640603592,"post_id":70487410,"comment_id":124613216,"body_markdown":"It still is not clear what you are trying to achieve. Are you **trying** to generate the second XML file that has the `xmlns:lang=&quot;en&quot;` and don&#39;t know how to achieve that, or is that what is being generated when you are trying to declare the `xml:lang=&quot;en&quot;`? Or are you trying to read a file like the second example and don&#39;t know how to reference that namespace declaration?","body":"It still is not clear what you are trying to achieve. Are you <b>trying</b> to generate the second XML file that has the <code>xmlns:lang=&quot;en&quot;</code> and don&#39;t know how to achieve that, or is that what is being generated when you are trying to declare the <code>xml:lang=&quot;en&quot;</code>? Or are you trying to read a file like the second example and don&#39;t know how to reference that namespace declaration?"},{"owner":{"account_id":4803957,"reputation":83,"user_id":3879688,"display_name":"sp_artacus_code"},"score":0,"creation_date":1640615339,"post_id":70487410,"comment_id":124616679,"body_markdown":"I need to parse an XML file and then save the information in a database. Inside file there are attributes both `xmlns:lang=&quot;en&quot;` and `xml:lang=&quot;en&quot;` and I am not able to map to java object `xmlns:lang=&quot;en&quot;` attribute because don&#39;t know how to reference this namespace declaration.","body":"I need to parse an XML file and then save the information in a database. Inside file there are attributes both <code>xmlns:lang=&quot;en&quot;</code> and <code>xml:lang=&quot;en&quot;</code> and I am not able to map to java object <code>xmlns:lang=&quot;en&quot;</code> attribute because don&#39;t know how to reference this namespace declaration."}],"owner":{"account_id":4803957,"reputation":83,"user_id":3879688,"display_name":"sp_artacus_code"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640546248,"creation_date":1640530616,"question_id":70487410,"body_markdown":"I have to parse an XML file and to do this I am using the JAXB library.\r\n\r\nInside the file there is an `xml:lang` attribute that I was able to parse using the namespace *http://www.w3.org/XML/1998/namespace*, but I cannot find the suitable namespace for `xmlns:lang`.\r\nI thought the default value was http://www.w3.org/2000/xmlns but it still doesn&#39;t work. \r\n\r\nUnfortunately I cannot ask to modify the file to use another namespace, do you have any suggestions?\r\n\r\n**Example:**\r\nTo get `xml:lang`:\r\n\r\n    &lt;ServiceDescription xml:lang=&quot;en&quot;&gt;eng&lt;/ServiceDescription&gt;\r\n\r\nI use the following code (the namespace is not specified in XML file):\r\n\r\n    @XmlAttribute(name = &quot;lang&quot;, namespace = &quot;http://www.w3.org/XML/1998/namespace&quot;)\r\n    private String lang;\r\n\r\nBut I am not able to get `xmlns:lang` from here:\r\n\r\n    &lt;SoftAttribute xmlns:lang=&quot;en&quot;&gt;eng&lt;/SoftAttribute&gt;","title":"How to parse XML with a qualified xmlns:lang attribute using JAXB?","body":"<p>I have to parse an XML file and to do this I am using the JAXB library.</p>\n<p>Inside the file there is an <code>xml:lang</code> attribute that I was able to parse using the namespace <em><a href=\"http://www.w3.org/XML/1998/namespace\" rel=\"nofollow noreferrer\">http://www.w3.org/XML/1998/namespace</a></em>, but I cannot find the suitable namespace for <code>xmlns:lang</code>.\nI thought the default value was <a href=\"http://www.w3.org/2000/xmlns\" rel=\"nofollow noreferrer\">http://www.w3.org/2000/xmlns</a> but it still doesn't work.</p>\n<p>Unfortunately I cannot ask to modify the file to use another namespace, do you have any suggestions?</p>\n<p><strong>Example:</strong>\nTo get <code>xml:lang</code>:</p>\n<pre><code>&lt;ServiceDescription xml:lang=&quot;en&quot;&gt;eng&lt;/ServiceDescription&gt;\n</code></pre>\n<p>I use the following code (the namespace is not specified in XML file):</p>\n<pre><code>@XmlAttribute(name = &quot;lang&quot;, namespace = &quot;http://www.w3.org/XML/1998/namespace&quot;)\nprivate String lang;\n</code></pre>\n<p>But I am not able to get <code>xmlns:lang</code> from here:</p>\n<pre><code>&lt;SoftAttribute xmlns:lang=&quot;en&quot;&gt;eng&lt;/SoftAttribute&gt;\n</code></pre>\n"},{"tags":["java","cobol","gnucobol"],"comments":[{"owner":{"account_id":2369006,"reputation":11938,"user_id":3096687,"accept_rate":67,"display_name":"bbarker"},"score":1,"creation_date":1640489661,"post_id":70483988,"comment_id":124594491,"body_markdown":"There seems to be a vote to close based on the assertion that I&#39;m asking for opinions. I am not - I am asking for what is actually standardized, if anything, related to Java interop in COBOL. For comparison, an opinionated question might be: &quot;what APIs would you recommend for Java interop with COBOL&quot;.","body":"There seems to be a vote to close based on the assertion that I&#39;m asking for opinions. I am not - I am asking for what is actually standardized, if anything, related to Java interop in COBOL. For comparison, an opinionated question might be: &quot;what APIs would you recommend for Java interop with COBOL&quot;."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1640499018,"post_id":70483988,"comment_id":124595214,"body_markdown":"COBOL is a compiled language.  IBM COBOL object code has been compatible with other languages that compile to the same object code specifications.  I think what the 2002 standard did was add features to COBOL that were common in other languages at the time.  The vast majority of commercial COBOL code was coded to the 74 and 85 standards.  This is anecdotal experience, but the shops I worked in resisted moving to anything higher than the 85 standards.  There was a feeling that COBOL was changing too much and too fast.","body":"COBOL is a compiled language.  IBM COBOL object code has been compatible with other languages that compile to the same object code specifications.  I think what the 2002 standard did was add features to COBOL that were common in other languages at the time.  The vast majority of commercial COBOL code was coded to the 74 and 85 standards.  This is anecdotal experience, but the shops I worked in resisted moving to anything higher than the 85 standards.  There was a feeling that COBOL was changing too much and too fast."},{"owner":{"account_id":12611334,"reputation":4037,"user_id":9170346,"display_name":"Rick Smith"},"score":3,"creation_date":1640521395,"post_id":70483988,"comment_id":124598283,"body_markdown":"The 2002 COBOL standard added the `CALL-CONVENTION` directive and the `ENTRY-CONVENTION` clause. The `CALL-CONVENTION` directive is intended to allow calling programs in other languages. The `ENTRY-CONVENTION` clause is to allow other languages to call COBOL. How these are used in any COBOL program depends on the COBOL implementation. Vote to reopen.","body":"The 2002 COBOL standard added the <code>CALL-CONVENTION</code> directive and the <code>ENTRY-CONVENTION</code> clause. The <code>CALL-CONVENTION</code> directive is intended to allow calling programs in other languages. The <code>ENTRY-CONVENTION</code> clause is to allow other languages to call COBOL. How these are used in any COBOL program depends on the COBOL implementation. Vote to reopen."}],"answers":[{"tags":[],"owner":{"account_id":6494427,"reputation":6518,"user_id":5027456,"accept_rate":70,"display_name":"Simon Sobisch"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1640545879,"creation_date":1640545879,"answer_id":70489159,"question_id":70483988,"body_markdown":"There is a clear answer to the question: **No**.\r\n\r\nThere were different things added, especially in the 2002 standard, but also in later standards that would allow a standard conforming API for Java interoperability, but the details of interactions with non-COBOL in the standard is always either processor-dependent or implementation-dependent.\r\n\r\nWhat _is_ defined is actually quite much, things coming to mind:\r\n\r\n * `ENTRY-CONVENTION` and `CALL-CONVENTION`\r\n * user-defined functions\r\n * object-oriented COBOL with classes, objects, methods, factories, ...\r\n * function and call prototypes\r\n * defined encoding for `NATIONAL` and other types\r\n\r\nAs part of the question may be misleading: GnuCOBOL does not have an API for inter-operating with Java (yet).\r\n\r\nIf you want to write portable COBOL &lt;-&gt; Java code you can likely use two approaches.\r\n\r\nFirst: use the &quot;C&quot; API offered by Java, the JNI. This will work &quot;quite well&quot; if the COBOL environment can inter-operate with &quot;C&quot; (which is likely true for most implementations).  \r\nHave a look for https://stackoverflow.com/questions/5963266/call-c-function-from-java for details.  \r\nWarning: JNI principles should be taken care of, like COBOL called from Java should not `STOP RUN` (or abend without the chance to catch that on the Java side).\r\n\r\nSecond: Don&#39;t use a direct interface but communicate between COBOL and Java, for example with [REST](https://en.wikipedia.org/wiki/Representational_state_transfer) services.\r\n\r\nAs this also was part of the question: If you want to learn more about what COBOL (as a language, not necessarily supported by &quot;implementor X&quot;) then the COBOL standard is a good resource.  \r\nIn most cases it will be &quot;enough&quot; to just grab whatever the current &quot;draft&quot; of the next COBOL standard is, you can access those at [ISO&#39;s document page of the COBOL working group](https://isotc.iso.org/livelink/livelink?func=ll&amp;objId=19468956) [the old versions commonly go away after the standard was published, a new one comes up when the next one is prepared for first public review].","title":"Is there an form of Java interop that is standardized in COBOL?","body":"<p>There is a clear answer to the question: <strong>No</strong>.</p>\n<p>There were different things added, especially in the 2002 standard, but also in later standards that would allow a standard conforming API for Java interoperability, but the details of interactions with non-COBOL in the standard is always either processor-dependent or implementation-dependent.</p>\n<p>What <em>is</em> defined is actually quite much, things coming to mind:</p>\n<ul>\n<li><code>ENTRY-CONVENTION</code> and <code>CALL-CONVENTION</code></li>\n<li>user-defined functions</li>\n<li>object-oriented COBOL with classes, objects, methods, factories, ...</li>\n<li>function and call prototypes</li>\n<li>defined encoding for <code>NATIONAL</code> and other types</li>\n</ul>\n<p>As part of the question may be misleading: GnuCOBOL does not have an API for inter-operating with Java (yet).</p>\n<p>If you want to write portable COBOL &lt;-&gt; Java code you can likely use two approaches.</p>\n<p>First: use the &quot;C&quot; API offered by Java, the JNI. This will work &quot;quite well&quot; if the COBOL environment can inter-operate with &quot;C&quot; (which is likely true for most implementations).<br />\nHave a look for <a href=\"https://stackoverflow.com/questions/5963266/call-c-function-from-java\">Call c function from Java</a> for details.<br />\nWarning: JNI principles should be taken care of, like COBOL called from Java should not <code>STOP RUN</code> (or abend without the chance to catch that on the Java side).</p>\n<p>Second: Don't use a direct interface but communicate between COBOL and Java, for example with <a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow noreferrer\">REST</a> services.</p>\n<p>As this also was part of the question: If you want to learn more about what COBOL (as a language, not necessarily supported by &quot;implementor X&quot;) then the COBOL standard is a good resource.<br />\nIn most cases it will be &quot;enough&quot; to just grab whatever the current &quot;draft&quot; of the next COBOL standard is, you can access those at <a href=\"https://isotc.iso.org/livelink/livelink?func=ll&amp;objId=19468956\" rel=\"nofollow noreferrer\">ISO's document page of the COBOL working group</a> [the old versions commonly go away after the standard was published, a new one comes up when the next one is prepared for first public review].</p>\n"}],"owner":{"account_id":2369006,"reputation":11938,"user_id":3096687,"accept_rate":67,"display_name":"bbarker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70489159,"answer_count":1,"score":2,"last_activity_date":1640545879,"creation_date":1640488278,"question_id":70483988,"body_markdown":"A quick glance suggests IBM&#39;s, Microfocus&#39;s and GNU COBOL&#39;s offerings for Java and COBOL interop are all different APIs. However, on Wikipedia there is currently the quote that the 2002 spec &quot;Improved interoperability with other programming languages and framework environments such as .NET and Java.&quot;\r\n\r\nSo what is standardized in this regard? (I do not own a copy of the spec, as I&#39;m just getting into COBOL, and am hoping to explore the Java and COBOL interop, currently as a hobby).\r\n\r\n\r\n","title":"Is there an form of Java interop that is standardized in COBOL?","body":"<p>A quick glance suggests IBM's, Microfocus's and GNU COBOL's offerings for Java and COBOL interop are all different APIs. However, on Wikipedia there is currently the quote that the 2002 spec &quot;Improved interoperability with other programming languages and framework environments such as .NET and Java.&quot;</p>\n<p>So what is standardized in this regard? (I do not own a copy of the spec, as I'm just getting into COBOL, and am hoping to explore the Java and COBOL interop, currently as a hobby).</p>\n"},{"tags":["java","apache-kafka","playframework","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1580930160,"post_id":60045171,"comment_id":106263496,"body_markdown":"It would help if you added your existing code into the question","body":"It would help if you added your existing code into the question"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580929914,"creation_date":1580755179,"answer_id":60045232,"question_id":60045171,"body_markdown":"Play is a web-framework. The underlying Actor system relies on Akka. \r\n\r\nThe Akka Kafka API [is called Alpakka](https://doc.akka.io/docs/alpakka-kafka/current/consumer.html), so I suspect you are searching in the wrong keywords\r\n\r\nTo combine both Akka and Play w/ Kafka, you can even use the [Lagom Framework](https://www.lagomframework.com/)\r\n\r\n---\r\n\r\nOtherwise, of course you can use plain Java consumer as well, regardless of Play Framework\r\n\r\n&gt; provide details on how to write a service which consumes topics produced by kafka continuously\r\n\r\n```\r\nKafkaConsumer c = new KafkaConsumer(props);\r\nwhile (true) {\r\n    ConsumerRecords r = c.poll(1000);\r\n    ...\r\n}\r\n```\r\n","title":"Kafka Consumer in play framework using java","body":"<p>Play is a web-framework. The underlying Actor system relies on Akka. </p>\n\n<p>The Akka Kafka API <a href=\"https://doc.akka.io/docs/alpakka-kafka/current/consumer.html\" rel=\"nofollow noreferrer\">is called Alpakka</a>, so I suspect you are searching in the wrong keywords</p>\n\n<p>To combine both Akka and Play w/ Kafka, you can even use the <a href=\"https://www.lagomframework.com/\" rel=\"nofollow noreferrer\">Lagom Framework</a></p>\n\n<hr>\n\n<p>Otherwise, of course you can use plain Java consumer as well, regardless of Play Framework</p>\n\n<blockquote>\n  <p>provide details on how to write a service which consumes topics produced by kafka continuously</p>\n</blockquote>\n\n<pre><code>KafkaConsumer c = new KafkaConsumer(props);\nwhile (true) {\n    ConsumerRecords r = c.poll(1000);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15726048,"reputation":46,"user_id":11347669,"display_name":"psstepniewski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640545147,"creation_date":1640543666,"answer_id":70488923,"question_id":60045171,"body_markdown":"Recently I have faced a similar issue, so I will add few notes after my researches.\r\n\r\nI will describe how to use plain KafkaConsumer in Play Framework (but in scala not Java). It is always worth to know how lower-level components works, but after all I strongly encourage you to consider use libraries like [Alpakka][1]. For example in my last project I decided to use [akka-projection][2] which is build on Alpakka. It composes with Akka nicely and give you some extra value like easy configuration of restart strategy in case of failure.\r\n\r\nTo use plain KafkaConsumer in Play Framework:\r\n1. Create Singleton which will manage `KafkaConsumer`. In the following example `while` loop runs in dedicated thread. Plain `KafkaConsumer` is closed during application shutdown.\r\n\r\n```scala\r\n@Singleton\r\nclass SampleKafkaConsumer @Inject()(coordinatedShutdown: CoordinatedShutdown) extends Logging {\r\n\r\n  logger.info(&quot;SampleKafkaConsumer starts&quot;)\r\n\r\n  private val executionContext: ExecutionContext = ExecutionContext.fromExecutor(Executors.newSingleThreadExecutor())\r\n  private val stopConsumer: AtomicBoolean = new AtomicBoolean(false)\r\n\r\n  private val properties = new Properties()\r\n  properties.put(&quot;bootstrap.servers&quot;, &quot;localhost:6003&quot;)\r\n  properties.put(&quot;group.id&quot;, s&quot;sample-group-id&quot;)\r\n  properties.put(&quot;key.deserializer&quot;, classOf[StringDeserializer])\r\n  properties.put(&quot;value.deserializer&quot;, classOf[StringDeserializer])\r\n\r\n  val kafkaConsumer = new KafkaConsumer[String, String](properties)\r\n  kafkaConsumer.subscribe(Set(&quot;sample-topic&quot;).asJava)\r\n\r\n  Future {\r\n    while (!stopConsumer.get()) {\r\n      kafkaConsumer.poll(Duration.ofSeconds(3)).asScala\r\n        .foreach(r =&gt; {\r\n          logger.info(s&quot;SampleKafkaConsumer receives record: $r&quot;)\r\n        })\r\n    }\r\n    logger.info(s&quot;SampleKafkaConsumer quits &#39;while(true)&#39; loop.&quot;)\r\n  }(executionContext)\r\n  .andThen(_ =&gt; kafkaConsumer.close())(executionContext)\r\n  .andThen {\r\n    case Success(_) =&gt;\r\n      logger.info(s&quot;SampleKafkaConsumer succeed.&quot;)\r\n    case Failure(e) =&gt;\r\n      logger.error(s&quot;SampleKafkaConsumer fails.&quot;, e)\r\n  }(executionContext)\r\n\r\n  coordinatedShutdown.addTask(CoordinatedShutdown.PhaseServiceStop, &quot;SampleKafkaConsumer-stop&quot;){() =&gt;\r\n    logger.info(&quot;Shutdown-task[SampleKafkaConsumer-stop] starts.&quot;)\r\n    stopConsumer.set(true)\r\n    Future{ Done }(executionContext).andThen{\r\n      case Success(_) =&gt; logger.info(&quot;Shutdown-task[SampleKafkaConsumer-stop] succeed.&quot;)\r\n      case Failure(e) =&gt; logger.error(&quot;Shutdown-task[SampleKafkaConsumer-stop] fails.&quot;, e)\r\n    }(executionContext)\r\n  }\r\n}\r\n```\r\n\r\n2. Mark it as &quot;eager&quot; using play module:\r\n```scala\r\nclass KafkaModule extends AbstractModule with Logging {\r\n\r\n  override def configure(): Unit = {\r\n    logger.info(&quot;Starting KafkaModule&quot;)\r\n    bind(classOf[SampleKafkaConsumer]).asEagerSingleton()\r\n  }\r\n}\r\n```\r\n3.Enable your module in play config file:\r\n```yaml\r\nplay.modules.enabled += &quot;kafka.KafkaModule\r\n```\r\n\r\nAnd it is all. I described everything in details [here][3].\r\n   \r\n\r\n\r\n  [1]: https://stepniewski.tech/L/voELbvpr\r\n  [2]: https://stepniewski.tech/L/2iFMeunap\r\n  [3]: https://stepniewski.tech/L/3GG49Q2F","title":"Kafka Consumer in play framework using java","body":"<p>Recently I have faced a similar issue, so I will add few notes after my researches.</p>\n<p>I will describe how to use plain KafkaConsumer in Play Framework (but in scala not Java). It is always worth to know how lower-level components works, but after all I strongly encourage you to consider use libraries like <a href=\"https://stepniewski.tech/L/voELbvpr\" rel=\"nofollow noreferrer\">Alpakka</a>. For example in my last project I decided to use <a href=\"https://stepniewski.tech/L/2iFMeunap\" rel=\"nofollow noreferrer\">akka-projection</a> which is build on Alpakka. It composes with Akka nicely and give you some extra value like easy configuration of restart strategy in case of failure.</p>\n<p>To use plain KafkaConsumer in Play Framework:</p>\n<ol>\n<li>Create Singleton which will manage <code>KafkaConsumer</code>. In the following example <code>while</code> loop runs in dedicated thread. Plain <code>KafkaConsumer</code> is closed during application shutdown.</li>\n</ol>\n<pre class=\"lang-scala prettyprint-override\"><code>@Singleton\nclass SampleKafkaConsumer @Inject()(coordinatedShutdown: CoordinatedShutdown) extends Logging {\n\n  logger.info(&quot;SampleKafkaConsumer starts&quot;)\n\n  private val executionContext: ExecutionContext = ExecutionContext.fromExecutor(Executors.newSingleThreadExecutor())\n  private val stopConsumer: AtomicBoolean = new AtomicBoolean(false)\n\n  private val properties = new Properties()\n  properties.put(&quot;bootstrap.servers&quot;, &quot;localhost:6003&quot;)\n  properties.put(&quot;group.id&quot;, s&quot;sample-group-id&quot;)\n  properties.put(&quot;key.deserializer&quot;, classOf[StringDeserializer])\n  properties.put(&quot;value.deserializer&quot;, classOf[StringDeserializer])\n\n  val kafkaConsumer = new KafkaConsumer[String, String](properties)\n  kafkaConsumer.subscribe(Set(&quot;sample-topic&quot;).asJava)\n\n  Future {\n    while (!stopConsumer.get()) {\n      kafkaConsumer.poll(Duration.ofSeconds(3)).asScala\n        .foreach(r =&gt; {\n          logger.info(s&quot;SampleKafkaConsumer receives record: $r&quot;)\n        })\n    }\n    logger.info(s&quot;SampleKafkaConsumer quits 'while(true)' loop.&quot;)\n  }(executionContext)\n  .andThen(_ =&gt; kafkaConsumer.close())(executionContext)\n  .andThen {\n    case Success(_) =&gt;\n      logger.info(s&quot;SampleKafkaConsumer succeed.&quot;)\n    case Failure(e) =&gt;\n      logger.error(s&quot;SampleKafkaConsumer fails.&quot;, e)\n  }(executionContext)\n\n  coordinatedShutdown.addTask(CoordinatedShutdown.PhaseServiceStop, &quot;SampleKafkaConsumer-stop&quot;){() =&gt;\n    logger.info(&quot;Shutdown-task[SampleKafkaConsumer-stop] starts.&quot;)\n    stopConsumer.set(true)\n    Future{ Done }(executionContext).andThen{\n      case Success(_) =&gt; logger.info(&quot;Shutdown-task[SampleKafkaConsumer-stop] succeed.&quot;)\n      case Failure(e) =&gt; logger.error(&quot;Shutdown-task[SampleKafkaConsumer-stop] fails.&quot;, e)\n    }(executionContext)\n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Mark it as &quot;eager&quot; using play module:</li>\n</ol>\n<pre class=\"lang-scala prettyprint-override\"><code>class KafkaModule extends AbstractModule with Logging {\n\n  override def configure(): Unit = {\n    logger.info(&quot;Starting KafkaModule&quot;)\n    bind(classOf[SampleKafkaConsumer]).asEagerSingleton()\n  }\n}\n</code></pre>\n<p>3.Enable your module in play config file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>play.modules.enabled += &quot;kafka.KafkaModule\n</code></pre>\n<p>And it is all. I described everything in details <a href=\"https://stepniewski.tech/L/3GG49Q2F\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":16872808,"reputation":11,"user_id":12200956,"display_name":"ACB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1740,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640545147,"creation_date":1580754911,"question_id":60045171,"body_markdown":"I have searched thousands of sites for kafka consumer example in play framework in java language. But not able to find any example. Can anyone provide details on how to write a service which consumes topics produced by kafka continuously.\r\n\r\nThanks","title":"Kafka Consumer in play framework using java","body":"<p>I have searched thousands of sites for kafka consumer example in play framework in java language. But not able to find any example. Can anyone provide details on how to write a service which consumes topics produced by kafka continuously.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1640183307,"post_id":70450546,"comment_id":124535483,"body_markdown":"According to an old song (and movie), Grease is the word. In your case, however, mocking is the word (as in to mock a service).\nhere&#39;s one place to start: https://www.baeldung.com/mockito-series","body":"According to an old song (and movie), Grease is the word. In your case, however, mocking is the word (as in to mock a service). here&#39;s one place to start: <a href=\"https://www.baeldung.com/mockito-series\" rel=\"nofollow noreferrer\">baeldung.com/mockito-series</a>"},{"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"score":1,"creation_date":1640183472,"post_id":70450546,"comment_id":124535536,"body_markdown":"You can use Test containers(https://www.testcontainers.org/test_framework_integration/junit_5/) which is very good for integration testing. Which database are you using, I can post a example for that.","body":"You can use Test containers(<a href=\"https://www.testcontainers.org/test_framework_integration/junit_5/\" rel=\"nofollow noreferrer\">testcontainers.org/test_framework_integration/jun&zwnj;&#8203;it_5</a>) which is very good for integration testing. Which database are you using, I can post a example for that."},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1640183977,"post_id":70450546,"comment_id":124535760,"body_markdown":"@Akbar I&#39;m using MongoDB","body":"@Akbar I&#39;m using MongoDB"},{"owner":{"account_id":9074935,"reputation":1264,"user_id":6756858,"display_name":"ata"},"score":1,"creation_date":1640184198,"post_id":70450546,"comment_id":124535848,"body_markdown":"@Ben Look at this example, it is using mongodb and test containers. https://rieckpil.de/mongodb-testcontainers-setup-for-datamongotest/","body":"@Ben Look at this example, it is using mongodb and test containers. <a href=\"https://rieckpil.de/mongodb-testcontainers-setup-for-datamongotest/\" rel=\"nofollow noreferrer\">rieckpil.de/mongodb-testcontainers-setup-for-datamongotest</a>"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1640184411,"post_id":70450546,"comment_id":124535941,"body_markdown":"@Akbar Okay, I will try that. That looks exactly like what i was searching for. Thank you :)","body":"@Akbar Okay, I will try that. That looks exactly like what i was searching for. Thank you :)"},{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1640310295,"post_id":70450546,"comment_id":124568136,"body_markdown":"I don&#39;t know how somehow I bypassed the word MongoDB. I deleted my answer. May be this other question can help you https://stackoverflow.com/questions/31970690/how-to-unit-test-a-spring-boot-mongorepository","body":"I don&#39;t know how somehow I bypassed the word MongoDB. I deleted my answer. May be this other question can help you <a href=\"https://stackoverflow.com/questions/31970690/how-to-unit-test-a-spring-boot-mongorepository\" title=\"how to unit test a spring boot mongorepository\">stackoverflow.com/questions/31970690/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11348355,"reputation":303,"user_id":8328176,"display_name":"Souhail HARRATI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640183668,"creation_date":1640183668,"answer_id":70450678,"question_id":70450546,"body_markdown":"Here is an example  for testing JPA Queries with Spring Boot and @DataJpaTest\r\n\r\nhttps://reflectoring.io/spring-boot-data-jpa-test/","title":"Can I test my Repository in Spring Boot without actually saving test data in the database?","body":"<p>Here is an example  for testing JPA Queries with Spring Boot and @DataJpaTest</p>\n<p><a href=\"https://reflectoring.io/spring-boot-data-jpa-test/\" rel=\"nofollow noreferrer\">https://reflectoring.io/spring-boot-data-jpa-test/</a></p>\n"},{"tags":[],"owner":{"account_id":3784660,"reputation":1471,"user_id":3143009,"accept_rate":4,"display_name":"soung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640544325,"creation_date":1640544325,"answer_id":70488997,"question_id":70450546,"body_markdown":"**If you wanna &quot;unit&quot; test your controller**\r\nYou can use @WebMvcTest and just mock your service calls from controller. \r\nFind out here a pretty good getting started with @WebMvcTest https://reflectoring.io/spring-boot-web-controller-test/\r\n\r\n\r\n**If you really need to do integration tests**\r\nYou can use embedded mongoDb database and `@SpringBootTest` in combination with `@DataMongoTest` annotation (Find out [here][1] how to do that. \r\n`@SpringBootTest` will load your applicationContext and `@DataMongoTest` will autoconfigure all you need for seting up the embedded mongoDb database.\r\n\r\n`de.flapdoodle.embed.mongo` provides embedded MongoDB for integration tests. So you need to add its dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you wanna prefill your database you can create a bean in a spring configuration class\r\n\r\n    @Bean\r\n      public Boolean preFill(MongoTemplate mongoTemplate) throws IOException {\r\n         JSONParser parser = getJsonParser();\r\n          List dbObjects = /* Init your objects to insert here */;\r\n    \r\n          for (Object dbObject : dbObjects) {\r\n            Document document = new Document(parser.parseJson(JSON.serialize(dbObject)));\r\n            mongoTemplate.insert(document, dbObject.getKey());\r\n          }\r\n        });\r\n        return true;\r\n      }\r\n      \r\n      private JSONParser getJsonParser() {\r\n        JsonParserFactory factory= JsonParserFactory.getInstance();\r\n        return factory.newJsonParser();\r\n      }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-embedded-mongodb","title":"Can I test my Repository in Spring Boot without actually saving test data in the database?","body":"<p><strong>If you wanna &quot;unit&quot; test your controller</strong>\nYou can use @WebMvcTest and just mock your service calls from controller.\nFind out here a pretty good getting started with @WebMvcTest <a href=\"https://reflectoring.io/spring-boot-web-controller-test/\" rel=\"nofollow noreferrer\">https://reflectoring.io/spring-boot-web-controller-test/</a></p>\n<p><strong>If you really need to do integration tests</strong>\nYou can use embedded mongoDb database and <code>@SpringBootTest</code> in combination with <code>@DataMongoTest</code> annotation (Find out <a href=\"https://www.baeldung.com/spring-boot-embedded-mongodb\" rel=\"nofollow noreferrer\">here</a> how to do that.\n<code>@SpringBootTest</code> will load your applicationContext and <code>@DataMongoTest</code> will autoconfigure all you need for seting up the embedded mongoDb database.</p>\n<p><code>de.flapdoodle.embed.mongo</code> provides embedded MongoDB for integration tests. So you need to add its dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you wanna prefill your database you can create a bean in a spring configuration class</p>\n<pre><code>@Bean\n  public Boolean preFill(MongoTemplate mongoTemplate) throws IOException {\n     JSONParser parser = getJsonParser();\n      List dbObjects = /* Init your objects to insert here */;\n\n      for (Object dbObject : dbObjects) {\n        Document document = new Document(parser.parseJson(JSON.serialize(dbObject)));\n        mongoTemplate.insert(document, dbObject.getKey());\n      }\n    });\n    return true;\n  }\n  \n  private JSONParser getJsonParser() {\n    JsonParserFactory factory= JsonParserFactory.getInstance();\n    return factory.newJsonParser();\n  }\n</code></pre>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640544325,"creation_date":1640183134,"question_id":70450546,"body_markdown":"I have a Spring Boot application with some REST endpoints and I have a MongoDB. I would like to create a test that runs every time the project is built. The test should simply take some mock data and put it into the database and use that mock data to test that the endpoints return the correct results. If it&#39;s possible, I don&#39;t want the mock data to actually go all the way to the database. I believe I&#39;ve seen something before where Spring could simulate the database. Can anyone point me in the right direction?","title":"Can I test my Repository in Spring Boot without actually saving test data in the database?","body":"<p>I have a Spring Boot application with some REST endpoints and I have a MongoDB. I would like to create a test that runs every time the project is built. The test should simply take some mock data and put it into the database and use that mock data to test that the endpoints return the correct results. If it's possible, I don't want the mock data to actually go all the way to the database. I believe I've seen something before where Spring could simulate the database. Can anyone point me in the right direction?</p>\n"},{"tags":["java","multithreading","networking","concurrency","client-server"],"comments":[{"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"score":0,"creation_date":1640551629,"post_id":70488956,"comment_id":124604149,"body_markdown":"Since you already cached the client sockets, you can just use their outputstreams (like you did in the beginning using PrintWriter) to message them to continue with the next Question.\nNow the handling just needs to be added in the client.","body":"Since you already cached the client sockets, you can just use their outputstreams (like you did in the beginning using PrintWriter) to message them to continue with the next Question. Now the handling just needs to be added in the client."},{"owner":{"account_id":23749424,"reputation":61,"user_id":17766395,"display_name":"micmus4"},"score":0,"creation_date":1640552718,"post_id":70488956,"comment_id":124604351,"body_markdown":"@TobiasCremer okay, but how exactly can this be achieved? Let&#39;s say player 1 sends an answer and player 2 is at &quot;String answer = scanner.nextLine();&quot; line of code at the moment. How would player2 notice it exactly? I assume I need to add an &#39;if&#39; which would check if serverReader.readLine() gets a specific message, but player2 would still have to answer the question in order for that line of code to be executed. And how can server know which player sent him message? I have all sockets&#39; readers cached, but how can I wait for input for JUST one of them in order to execute some actions?","body":"@TobiasCremer okay, but how exactly can this be achieved? Let&#39;s say player 1 sends an answer and player 2 is at &quot;String answer = scanner.nextLine();&quot; line of code at the moment. How would player2 notice it exactly? I assume I need to add an &#39;if&#39; which would check if serverReader.readLine() gets a specific message, but player2 would still have to answer the question in order for that line of code to be executed. And how can server know which player sent him message? I have all sockets&#39; readers cached, but how can I wait for input for JUST one of them in order to execute some actions?"},{"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"score":0,"creation_date":1640552951,"post_id":70488956,"comment_id":124604407,"body_markdown":"I do understand the problem now. I think it can be solved in changing your infrastructure. \nIf you want to stay with you current structure you need to perform the input handling of the client  in a different thread than the server-client communication.","body":"I do understand the problem now. I think it can be solved in changing your infrastructure.  If you want to stay with you current structure you need to perform the input handling of the client  in a different thread than the server-client communication."},{"owner":{"account_id":23749424,"reputation":61,"user_id":17766395,"display_name":"micmus4"},"score":0,"creation_date":1640553077,"post_id":70488956,"comment_id":124604434,"body_markdown":"@TobiasCremer before, I tried to make a seperate thread for every connection to the server, but I also couldn&#39;t go further from there.\n\nhttps://stackoverflow.com/questions/70486514/how-can-client-threads-be-synchronized-in-tcp-client-server-connection","body":"@TobiasCremer before, I tried to make a seperate thread for every connection to the server, but I also couldn&#39;t go further from there.  <a href=\"https://stackoverflow.com/questions/70486514/how-can-client-threads-be-synchronized-in-tcp-client-server-connection\" title=\"how can client threads be synchronized in tcp client server connection\">stackoverflow.com/questions/70486514/&hellip;</a>"},{"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"score":0,"creation_date":1640553173,"post_id":70488956,"comment_id":124604455,"body_markdown":"If you want I can write you the code you need with a small explanation (just the client-server connection).\nIm having problems describing it :/","body":"If you want I can write you the code you need with a small explanation (just the client-server connection). Im having problems describing it :/"},{"owner":{"account_id":23749424,"reputation":61,"user_id":17766395,"display_name":"micmus4"},"score":0,"creation_date":1640553282,"post_id":70488956,"comment_id":124604480,"body_markdown":"@TobiasCremer if it&#39;s not a problem then yeah, I would really appreciate it!","body":"@TobiasCremer if it&#39;s not a problem then yeah, I would really appreciate it!"},{"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"score":0,"creation_date":1640553794,"post_id":70488956,"comment_id":124604584,"body_markdown":"Do you maybe want to chat via a different platform? I think we could communicate a bit better","body":"Do you maybe want to chat via a different platform? I think we could communicate a bit better"},{"owner":{"account_id":23749424,"reputation":61,"user_id":17766395,"display_name":"micmus4"},"score":0,"creation_date":1640554133,"post_id":70488956,"comment_id":124604641,"body_markdown":"Yeah, as far I know there isn&#39;t a possibility to private chat on Stackoverflow, so perhaps Discord?","body":"Yeah, as far I know there isn&#39;t a possibility to private chat on Stackoverflow, so perhaps Discord?"},{"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"score":0,"creation_date":1640554276,"post_id":70488956,"comment_id":124604666,"body_markdown":"You can add me: Txb1#0083","body":"You can add me: Txb1#0083"}],"owner":{"account_id":23749424,"reputation":61,"user_id":17766395,"display_name":"micmus4"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640544017,"creation_date":1640544017,"question_id":70488956,"body_markdown":"I am writing a multiplayer quiz application for two players (Clients) and I would like to have a mechanism which would allow only one player (the fastest to type the answer) to answer the question. So if for example: Player1 answers the question, Player2 immedietaly is moved to next question (just like Player1).\r\n\r\nHow can I make Server notify Client thread that the other Client answered the Question?\r\n\r\nClient:\r\n\r\n    package com.company;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    import java.util.Scanner;\r\n    \r\n    public class Client\r\n    {\r\n        private static Scanner scanner;\r\n    \r\n        private static BufferedReader serverReader;\r\n    \r\n        private static PrintWriter serverWriter;\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            try\r\n            {\r\n                connect();\r\n            }\r\n            catch ( Exception e )\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void connect()\r\n        {\r\n            try( Socket clientSocket = new Socket( &quot;localhost&quot;, 1236 ) )\r\n            {\r\n                scanner = new Scanner( System.in );\r\n                serverReader = new BufferedReader( new InputStreamReader( clientSocket.getInputStream() ) );\r\n                serverWriter = new PrintWriter( clientSocket.getOutputStream(), true );\r\n                String serverResponse;\r\n                while( ( serverResponse = serverReader.readLine() ) != null )\r\n                {\r\n                    System.out.println( &quot;[SERVER] - &quot; + serverResponse );\r\n                    break;\r\n                }\r\n                for( int i = 0; i &lt; 3; i++ )\r\n                {\r\n                    System.out.println( &quot;[SERVER] - &quot; + serverReader.readLine() );\r\n                    System.out.print( &quot;Your answer: &quot; );\r\n                    String answer = scanner.nextLine();\r\n                    serverWriter.println( answer );\r\n                }\r\n            }\r\n            catch ( IOException e )\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nServer:\r\n\r\n    package com.company;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    \r\n    public class Server\r\n    {\r\n        private static final ArrayList&lt; PrintWriter &gt; writers = new ArrayList&lt;&gt;();\r\n    \r\n        private static final ArrayList&lt; BufferedReader &gt; readers = new ArrayList&lt;&gt;();\r\n    \r\n        private static final HashMap&lt; String, Socket &gt; players = new HashMap&lt;&gt;();\r\n    \r\n        private static final ArrayList&lt; Question &gt; questions = new ArrayList&lt;&gt;();\r\n    \r\n        public static void main( String[] args )\r\n        {\r\n            startServer();\r\n        }\r\n    \r\n        public static void startServer()\r\n        {\r\n            questions.addAll( List.of( new Question( &quot;2 + 2 = 4&quot;, &quot;YES&quot; ),\r\n                    new Question( &quot;2 + 2 = 6&quot;, &quot;NO&quot; ), new Question( &quot;2 + 2 = 8&quot;, &quot;NO&quot; ) ) );\r\n            int i = 0;\r\n            try( ServerSocket serverSocket = new ServerSocket( 1236 ) )\r\n            {\r\n                while( i &lt; 2 )\r\n                {\r\n                    Socket socket = serverSocket.accept();\r\n                    players.put( &quot;Player&quot; + ( i +  1 ), socket );\r\n                    System.out.println( &quot;[CLIENT] - &quot; + &quot;Player&quot; + ( i + 1 ) + &quot; has joined the server.&quot; );\r\n    \r\n                    i++;\r\n                    BufferedReader clientReader = new BufferedReader( new InputStreamReader( socket.getInputStream() ) );\r\n                    PrintWriter clientWriter = new PrintWriter( socket.getOutputStream(), true );\r\n                    writers.add( clientWriter );\r\n                    readers.add( clientReader );\r\n                }\r\n                writers.forEach( writer -&gt; writer.println( &quot;Game will start in 5 seconds&quot; ) );\r\n                try\r\n                {\r\n                    Thread.sleep( 5000 );\r\n                }\r\n                catch ( InterruptedException e )\r\n                {\r\n                    e.printStackTrace();\r\n                }\r\n                for( Question question : questions )\r\n                {\r\n                    writers.forEach( writer -&gt; writer.println( question.getContent() ) );\r\n    \r\n                    // what to do now???\r\n                    while( true )\r\n                    {\r\n                        // so server doesnt stop\r\n                    }\r\n                }\r\n            }\r\n            catch ( IOException e )\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nQuestion:\r\n\r\n    package com.company;\r\n    \r\n    public class Question\r\n    {\r\n        private final String content;\r\n    \r\n        private final String  correctAnswer;\r\n    \r\n        public Question( String aContent, String aCorrectAnswer )\r\n        {\r\n            content = aContent;\r\n            correctAnswer = aCorrectAnswer;\r\n        }\r\n    \r\n        public String getContent()\r\n        {\r\n            return content;\r\n        }\r\n    \r\n        public String getCorrectAnswer()\r\n        {\r\n            return correctAnswer;\r\n        }\r\n    }","title":"Java ServerSocket - problem with Clients synchronization","body":"<p>I am writing a multiplayer quiz application for two players (Clients) and I would like to have a mechanism which would allow only one player (the fastest to type the answer) to answer the question. So if for example: Player1 answers the question, Player2 immedietaly is moved to next question (just like Player1).</p>\n<p>How can I make Server notify Client thread that the other Client answered the Question?</p>\n<p>Client:</p>\n<pre><code>package com.company;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class Client\n{\n    private static Scanner scanner;\n\n    private static BufferedReader serverReader;\n\n    private static PrintWriter serverWriter;\n\n    public static void main(String[] args)\n    {\n        try\n        {\n            connect();\n        }\n        catch ( Exception e )\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public static void connect()\n    {\n        try( Socket clientSocket = new Socket( &quot;localhost&quot;, 1236 ) )\n        {\n            scanner = new Scanner( System.in );\n            serverReader = new BufferedReader( new InputStreamReader( clientSocket.getInputStream() ) );\n            serverWriter = new PrintWriter( clientSocket.getOutputStream(), true );\n            String serverResponse;\n            while( ( serverResponse = serverReader.readLine() ) != null )\n            {\n                System.out.println( &quot;[SERVER] - &quot; + serverResponse );\n                break;\n            }\n            for( int i = 0; i &lt; 3; i++ )\n            {\n                System.out.println( &quot;[SERVER] - &quot; + serverReader.readLine() );\n                System.out.print( &quot;Your answer: &quot; );\n                String answer = scanner.nextLine();\n                serverWriter.println( answer );\n            }\n        }\n        catch ( IOException e )\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Server:</p>\n<pre><code>package com.company;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class Server\n{\n    private static final ArrayList&lt; PrintWriter &gt; writers = new ArrayList&lt;&gt;();\n\n    private static final ArrayList&lt; BufferedReader &gt; readers = new ArrayList&lt;&gt;();\n\n    private static final HashMap&lt; String, Socket &gt; players = new HashMap&lt;&gt;();\n\n    private static final ArrayList&lt; Question &gt; questions = new ArrayList&lt;&gt;();\n\n    public static void main( String[] args )\n    {\n        startServer();\n    }\n\n    public static void startServer()\n    {\n        questions.addAll( List.of( new Question( &quot;2 + 2 = 4&quot;, &quot;YES&quot; ),\n                new Question( &quot;2 + 2 = 6&quot;, &quot;NO&quot; ), new Question( &quot;2 + 2 = 8&quot;, &quot;NO&quot; ) ) );\n        int i = 0;\n        try( ServerSocket serverSocket = new ServerSocket( 1236 ) )\n        {\n            while( i &lt; 2 )\n            {\n                Socket socket = serverSocket.accept();\n                players.put( &quot;Player&quot; + ( i +  1 ), socket );\n                System.out.println( &quot;[CLIENT] - &quot; + &quot;Player&quot; + ( i + 1 ) + &quot; has joined the server.&quot; );\n\n                i++;\n                BufferedReader clientReader = new BufferedReader( new InputStreamReader( socket.getInputStream() ) );\n                PrintWriter clientWriter = new PrintWriter( socket.getOutputStream(), true );\n                writers.add( clientWriter );\n                readers.add( clientReader );\n            }\n            writers.forEach( writer -&gt; writer.println( &quot;Game will start in 5 seconds&quot; ) );\n            try\n            {\n                Thread.sleep( 5000 );\n            }\n            catch ( InterruptedException e )\n            {\n                e.printStackTrace();\n            }\n            for( Question question : questions )\n            {\n                writers.forEach( writer -&gt; writer.println( question.getContent() ) );\n\n                // what to do now???\n                while( true )\n                {\n                    // so server doesnt stop\n                }\n            }\n        }\n        catch ( IOException e )\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Question:</p>\n<pre><code>package com.company;\n\npublic class Question\n{\n    private final String content;\n\n    private final String  correctAnswer;\n\n    public Question( String aContent, String aCorrectAnswer )\n    {\n        content = aContent;\n        correctAnswer = aCorrectAnswer;\n    }\n\n    public String getContent()\n    {\n        return content;\n    }\n\n    public String getCorrectAnswer()\n    {\n        return correctAnswer;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","crud-repository"],"comments":[{"owner":{"account_id":4195491,"reputation":375,"user_id":3437005,"accept_rate":54,"display_name":"Krisztian"},"score":1,"creation_date":1640466913,"post_id":70482666,"comment_id":124592199,"body_markdown":"Since the order is not in the array any more, spring doesnt know that it has to update it, you should use the order repo to delete an order","body":"Since the order is not in the array any more, spring doesnt know that it has to update it, you should use the order repo to delete an order"},{"owner":{"account_id":13533084,"reputation":51,"user_id":9762982,"display_name":"GeneralTao"},"score":0,"creation_date":1640467807,"post_id":70482666,"comment_id":124592339,"body_markdown":"@Chrys , so do I need trigger order and employee functions to delete child? Is there any way to do it with one single function like .deleteChildFromDB?","body":"@Chrys , so do I need trigger order and employee functions to delete child? Is there any way to do it with one single function like .deleteChildFromDB?"}],"answers":[{"tags":[],"owner":{"account_id":3313719,"reputation":83,"user_id":2786531,"display_name":"user2786531"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640543884,"creation_date":1640543884,"answer_id":70488946,"question_id":70482666,"body_markdown":"The `employee1` will be detached after executing `employeeRepository.flush()`. You should change it&#39;s state to persistent.\r\nWhy you don&#39;t execute `employeeRepository.flush()` after the last line of code?","title":"Can&#39;t remove child entity using CRUD repository in Spring","body":"<p>The <code>employee1</code> will be detached after executing <code>employeeRepository.flush()</code>. You should change it's state to persistent.\nWhy you don't execute <code>employeeRepository.flush()</code> after the last line of code?</p>\n"}],"owner":{"account_id":13533084,"reputation":51,"user_id":9762982,"display_name":"GeneralTao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640543884,"creation_date":1640465551,"question_id":70482666,"body_markdown":"Parent entity:\r\n```\r\n@Entity\r\nclass Employee {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String firstName =&quot;&quot;;\r\n    private String lastName;\r\n    private String role;\r\n\r\n    @OneToMany(mappedBy = &quot;employee&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;Order&gt; orders;\r\n\r\n\tpublic void addOrder(Order order) {\r\n        orders.add(order);\r\n        order.setEmployee(this);\r\n    }\r\n\r\n    public void removeOrder(Order order) {\r\n        orders.remove(order);\r\n        order.setEmployee(null);\r\n    }\r\n\r\n\t@Override\r\n    public boolean equals(Object o) {\r\n\r\n        if (this == o)\r\n            return true;\r\n        if (!(o instanceof Employee))\r\n            return false;\r\n        Employee employee = (Employee) o;\r\n        return Objects.equals(this.id, employee.id)\r\n                &amp;&amp; Objects.equals(this.firstName, employee.firstName)\r\n                &amp;&amp; Objects.equals(this.lastName, employee.lastName)\r\n                &amp;&amp; Objects.equals(this.role, employee.role);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.id, this.firstName, this.lastName, this.role);\r\n    }\r\n\r\n\t// Constructor, getters, setters\r\n}\r\n```\r\n\r\nChild entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;CUSTOMER_ORDER&quot;)\r\nclass Order {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String description;\r\n    private Status status;\r\n\r\n    @ManyToOne\r\n    private Employee employee;\r\n\r\n\t@Override\r\n    public boolean equals(Object o) {\r\n\r\n        if (this == o)\r\n            return true;\r\n        if (!(o instanceof Order))\r\n            return false;\r\n        Order order = (Order) o;\r\n        return Objects.equals(this.id, order.id) &amp;&amp; Objects.equals(this.description, order.description)\r\n                &amp;&amp; this.status == order.status;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.id, this.description, this.status);\r\n    }\r\n\r\n\t// Constructor, getters, setters\r\n}\r\n```\r\n\r\nApp code:\r\n```\r\npublic static app() {\r\n\t...\r\n    Employee employee1 = new Employee(&quot;Bilbo&quot;, &quot;Baggins&quot;, &quot;burglar&quot;, new ArrayList&lt;&gt;());\r\n    employeeRepository.save(employee1);\r\n    \r\n    Order order1 = new Order(&quot;Xiaomi&quot;, Status.IN_PROGRESS);\r\n    orderRepository.save(order1);\r\n\r\n    employee1.addOrder(order1);\r\n    employeeRepository.save(employee1);\r\n    employeeRepository.flush();\r\n    orderRepository.flush();\r\n    employee1.removeOrder(order1);\r\n    employeeRepository.save(employee1);\t      \t\r\n}\r\n```\r\n\r\nWhat am I facing is:\r\n\r\nFor `employee` table:\r\n```\r\n| id | first_name | last_name | role    |\r\n| -- | ---------- | --------- | ------- |\r\n| 1  | Bilbo      | Baggins   | burglar |\r\n```\r\nFor `customer_order` table:\r\n```\r\n| id | description | status    | employee_id |\r\n| -- | ----------- | --------- | ----------- |\r\n| 1  | Xiaomi      | 0         | 1           |\r\n```\r\n\r\nSo, I expected that after these strings execution\r\n```\r\nemployee1.removeOrder(order1);\r\nemployeeRepository.save(employee1);\r\n```\r\n`order1` row will be deleted from database.\r\nI think I need with some way to trigger `order1` entity saving. I played around and even after `order1` saving, it still remains in db with `employee_id` being `null`. I expected deleting of child, because I configured `orders` field as `orphanRemoval = true`.\r\n\r\nMy configs:\r\n - java: 11\r\n - hibernate: 5.4.32\r\n - spring-boot: 2.5.3\r\n - mysql: 8.0.26\r\n - spring-data-jpa: 2.5.3\r\n - hibernate-jpamodelgen: 5.4.32\r\n\r\n","title":"Can&#39;t remove child entity using CRUD repository in Spring","body":"<p>Parent entity:</p>\n<pre><code>@Entity\nclass Employee {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String firstName =&quot;&quot;;\n    private String lastName;\n    private String role;\n\n    @OneToMany(mappedBy = &quot;employee&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Order&gt; orders;\n\n    public void addOrder(Order order) {\n        orders.add(order);\n        order.setEmployee(this);\n    }\n\n    public void removeOrder(Order order) {\n        orders.remove(order);\n        order.setEmployee(null);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n\n        if (this == o)\n            return true;\n        if (!(o instanceof Employee))\n            return false;\n        Employee employee = (Employee) o;\n        return Objects.equals(this.id, employee.id)\n                &amp;&amp; Objects.equals(this.firstName, employee.firstName)\n                &amp;&amp; Objects.equals(this.lastName, employee.lastName)\n                &amp;&amp; Objects.equals(this.role, employee.role);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.id, this.firstName, this.lastName, this.role);\n    }\n\n    // Constructor, getters, setters\n}\n</code></pre>\n<p>Child entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;CUSTOMER_ORDER&quot;)\nclass Order {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String description;\n    private Status status;\n\n    @ManyToOne\n    private Employee employee;\n\n    @Override\n    public boolean equals(Object o) {\n\n        if (this == o)\n            return true;\n        if (!(o instanceof Order))\n            return false;\n        Order order = (Order) o;\n        return Objects.equals(this.id, order.id) &amp;&amp; Objects.equals(this.description, order.description)\n                &amp;&amp; this.status == order.status;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.id, this.description, this.status);\n    }\n\n    // Constructor, getters, setters\n}\n</code></pre>\n<p>App code:</p>\n<pre><code>public static app() {\n    ...\n    Employee employee1 = new Employee(&quot;Bilbo&quot;, &quot;Baggins&quot;, &quot;burglar&quot;, new ArrayList&lt;&gt;());\n    employeeRepository.save(employee1);\n    \n    Order order1 = new Order(&quot;Xiaomi&quot;, Status.IN_PROGRESS);\n    orderRepository.save(order1);\n\n    employee1.addOrder(order1);\n    employeeRepository.save(employee1);\n    employeeRepository.flush();\n    orderRepository.flush();\n    employee1.removeOrder(order1);\n    employeeRepository.save(employee1);         \n}\n</code></pre>\n<p>What am I facing is:</p>\n<p>For <code>employee</code> table:</p>\n<pre><code>| id | first_name | last_name | role    |\n| -- | ---------- | --------- | ------- |\n| 1  | Bilbo      | Baggins   | burglar |\n</code></pre>\n<p>For <code>customer_order</code> table:</p>\n<pre><code>| id | description | status    | employee_id |\n| -- | ----------- | --------- | ----------- |\n| 1  | Xiaomi      | 0         | 1           |\n</code></pre>\n<p>So, I expected that after these strings execution</p>\n<pre><code>employee1.removeOrder(order1);\nemployeeRepository.save(employee1);\n</code></pre>\n<p><code>order1</code> row will be deleted from database.\nI think I need with some way to trigger <code>order1</code> entity saving. I played around and even after <code>order1</code> saving, it still remains in db with <code>employee_id</code> being <code>null</code>. I expected deleting of child, because I configured <code>orders</code> field as <code>orphanRemoval = true</code>.</p>\n<p>My configs:</p>\n<ul>\n<li>java: 11</li>\n<li>hibernate: 5.4.32</li>\n<li>spring-boot: 2.5.3</li>\n<li>mysql: 8.0.26</li>\n<li>spring-data-jpa: 2.5.3</li>\n<li>hibernate-jpamodelgen: 5.4.32</li>\n</ul>\n"},{"tags":["java","maven","gitlab","continuous-integration","yaml"],"comments":[{"owner":{"account_id":20077754,"reputation":41,"user_id":17125737,"display_name":"Rohit Dubey"},"score":0,"creation_date":1640517843,"post_id":70486006,"comment_id":124597688,"body_markdown":"Any help or suggestion will be useful. Thanks","body":"Any help or suggestion will be useful. Thanks"},{"owner":{"account_id":20077754,"reputation":41,"user_id":17125737,"display_name":"Rohit Dubey"},"score":0,"creation_date":1640531515,"post_id":70486006,"comment_id":124600227,"body_markdown":"Please can someone help ? I am working in weekend and this is critical to resolved by tomorrow.","body":"Please can someone help ? I am working in weekend and this is critical to resolved by tomorrow."},{"owner":{"account_id":7355884,"reputation":1501,"user_id":5600652,"display_name":"Dennis van de Hoef - Xiotin"},"score":0,"creation_date":1640537417,"post_id":70486006,"comment_id":124601389,"body_markdown":"The error shows that something that is required (sorry, non-java here) is not present on the runner. I think it runs locally, as you already have it in your computer. Though in the currently running image, it is not around, did you try installing/adding the missing component to the image your running in? Typically this happens in a `before_script`.","body":"The error shows that something that is required (sorry, non-java here) is not present on the runner. I think it runs locally, as you already have it in your computer. Though in the currently running image, it is not around, did you try installing/adding the missing component to the image your running in? Typically this happens in a <code>before_script</code>."},{"owner":{"account_id":20077754,"reputation":41,"user_id":17125737,"display_name":"Rohit Dubey"},"score":0,"creation_date":1640540691,"post_id":70486006,"comment_id":124602110,"body_markdown":"Thanks for your reply. I am fairly new to yaml. What should I add under the before_script. I have tried multiple things. Any specifics I should be adding according to you based on the error messages. You can tell and I will try and get back with the results.","body":"Thanks for your reply. I am fairly new to yaml. What should I add under the before_script. I have tried multiple things. Any specifics I should be adding according to you based on the error messages. You can tell and I will try and get back with the results."},{"owner":{"account_id":7355884,"reputation":1501,"user_id":5600652,"display_name":"Dennis van de Hoef - Xiotin"},"score":0,"creation_date":1640543476,"post_id":70486006,"comment_id":124602634,"body_markdown":"your problem has nothing to do with yaml specific in my opinion. inb the before script you add a block of lines (starting with `-`, as you have in the script block) with the things you need to install/download for your project. Things you need, and you already have on your local machine","body":"your problem has nothing to do with yaml specific in my opinion. inb the before script you add a block of lines (starting with <code>-</code>, as you have in the script block) with the things you need to install/download for your project. Things you need, and you already have on your local machine"},{"owner":{"account_id":20077754,"reputation":41,"user_id":17125737,"display_name":"Rohit Dubey"},"score":0,"creation_date":1640547483,"post_id":70486006,"comment_id":124603411,"body_markdown":"Can you guide me what should I add to my gitlab yaml file. My repo has a standard java maven project structure so in that sense what should I add under the before_script.","body":"Can you guide me what should I add to my gitlab yaml file. My repo has a standard java maven project structure so in that sense what should I add under the before_script."},{"owner":{"account_id":7355884,"reputation":1501,"user_id":5600652,"display_name":"Dennis van de Hoef - Xiotin"},"score":0,"creation_date":1640585323,"post_id":70486006,"comment_id":124608649,"body_markdown":"Sorry, I have 0 Java experience. But what you need to add, is the same as you need to run on a new computer to be able to run your program.","body":"Sorry, I have 0 Java experience. But what you need to add, is the same as you need to run on a new computer to be able to run your program."}],"answers":[{"tags":[],"owner":{"account_id":15958996,"reputation":46,"user_id":11516582,"display_name":"Hannes Rosen&#246;gger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640543839,"creation_date":1640543302,"answer_id":70488880,"question_id":70486006,"body_markdown":"Maven recognized the String ` -Dsonar.host.url=http://XX.XX.XXX.XXX` as a plugin/goal that it needs to resolve.   \r\nThis is caused by the ` \\ ` in your script.  \r\n\r\nInstead of:  \r\n`mvn sonar:sonar \\ -Dsonar.projectKey=XX.XX.XXX.XXX \\ -Dsonar.host.url=http://XX.XX.XXX.XXX \\ -Dsonar.login=XX.XX.XXX.XXX -X`  \r\ntry:  \r\n`mvn sonar:sonar -Dsonar.projectKey=XX.XX.XXX.XXX -Dsonar.host.url=http://XX.XX.XXX.XXX -Dsonar.login=XX.XX.XXX.XXX -X`\r\n\r\nI assume that you copied that command from a format like this:  \r\n```\r\nmvn sonar:sonar \\\r\n -Dsonar.projectKey=XX.XX.XXX.XXX \\\r\n -Dsonar.host.url=http://XX.XX.XXX.XXX \\\r\n -Dsonar.login=XX.XX.XXX.XXX -X\r\n```\r\n\r\nIn bash the `\\` must be at the end of the line if the command contains a linebreak so it&#39;s recognized as one command.\r\nBut you need to remove it if you convert it to one line.","title":"Gitlab CI/CD running fine on local but not on gitlab","body":"<p>Maven recognized the String <code> -Dsonar.host.url=http://XX.XX.XXX.XXX</code> as a plugin/goal that it needs to resolve.<br />\nThis is caused by the <code>\\</code> in your script.</p>\n<p>Instead of:<br />\n<code>mvn sonar:sonar \\ -Dsonar.projectKey=XX.XX.XXX.XXX \\ -Dsonar.host.url=http://XX.XX.XXX.XXX \\ -Dsonar.login=XX.XX.XXX.XXX -X</code><br />\ntry:<br />\n<code>mvn sonar:sonar -Dsonar.projectKey=XX.XX.XXX.XXX -Dsonar.host.url=http://XX.XX.XXX.XXX -Dsonar.login=XX.XX.XXX.XXX -X</code></p>\n<p>I assume that you copied that command from a format like this:</p>\n<pre><code>mvn sonar:sonar \\\n -Dsonar.projectKey=XX.XX.XXX.XXX \\\n -Dsonar.host.url=http://XX.XX.XXX.XXX \\\n -Dsonar.login=XX.XX.XXX.XXX -X\n</code></pre>\n<p>In bash the <code>\\</code> must be at the end of the line if the command contains a linebreak so it's recognized as one command.\nBut you need to remove it if you convert it to one line.</p>\n"}],"owner":{"account_id":20077754,"reputation":41,"user_id":17125737,"display_name":"Rohit Dubey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640543839,"creation_date":1640517291,"question_id":70486006,"body_markdown":"I am trying to build a gitlab CI/CD pipeline on my java maven project. I tried all the stages on my local machine and they are passing successfully but when I try the same things on gitlab repo it is throwing error. I tried almost every solution and gone through numerous posts to resolve the errors but to no use. Here is my yml content:\r\n```\r\nimage: maven:3.5-jdk-8\r\n\r\nvariables:\r\n   MAVEN_CLI_OPTS: &quot;-s .m2/settings.xml --batch-mode&quot;\r\n   MAVEN_OPTS: &quot;-Dmaven.repo.local=.m2/repository&quot;\r\n\r\ninclude:\r\n    - template: Security/SAST.gitlab-ci.yml\r\n\r\ncache:\r\n  paths:\r\n    - .m2/settings.xml\r\n\r\n# Define stages\r\n#   Stages group various steps into one block,\r\n#   if any step fails, the entire stage fails\r\nstages:\r\n  - validate\r\n  - compile\r\n  - SonarQube\r\n  - test\r\n  \r\nvalidate: \r\n  stage: validate\r\n  script:\r\n    - mvn validate\r\n\r\ncompile:\r\n  stage: compile\r\n  script:\r\n    - mvn $MAVEN_CLI_OPTS compile\r\n  \r\nsonarqube-check:\r\n  image: maven:3.6.3-jdk-11\r\n  stage: SonarQube \r\n  variables:\r\n    SONAR_USER_HOME: &quot;${CI_PROJECT_DIR}/.sonar&quot;\r\n  script:\r\n    - mvn sonar:sonar \\ -Dsonar.projectKey=XX.XX.XXX.XXX \\ -Dsonar.host.url=http://XX.XX.XXX.XXX \\ -Dsonar.login=XX.XX.XXX.XXX -X\r\n  allow_failure: true\r\n\r\nspotbugs-sast:\r\n  variables:\r\n    COMPILE: &quot;false&quot;\r\n    SECURE_LOG_LEVEL: &quot;debug&quot;\r\n  artifacts:\r\n    reports:\r\n      sast: gl-sast-report.json\r\n\r\n\r\n#spotbugs-sast:\r\n#  variables:\r\n#    SECURE_LOG_LEVEL: &quot;debug&quot;\r\n    #FAIL_NEVER: 1\r\n\r\ntest:\r\n  stage: test\r\n  script:\r\n    - mvn $MAVEN_CLI_OPTS test -B\r\n```\r\nThe stage validate and compile are running fine but I am getting warnings in sonar check and spotbugs sast. The same is running fine on my local. \r\nIn the sonarqube check the error is:\r\n```\r\nError resolving version for plugin &#39; -Dsonar.host.url=http://XX.XX.XXX.XXX&#39; from the repositories [local (/builds/XX.XX.XXX.XXX/.m2/repository), central (https://repo.maven.apache.org/maven2)]: Plugin not found in any plugin repository -&gt; [Help 1]\r\norg.apache.maven.plugin.version.PluginVersionResolutionException: Error resolving version for plugin &#39; -Dsonar.host.url=http://XX.XX.XXX.XXX&#39; from the repositories [local (/builds/XXXX/XXXXX/.m2/repository), central (https://repo.maven.apache.org/maven2)]: Plugin not found in any plugin repository\r\n```\r\nand for the spotbugs-sast warning the error is:\r\n```\r\n[FATA] [Find Security Bugs]  lstat /root/.m2/repository: no such file or directory\r\n```\r\nI have spent numerous hours resolving this and waiting for the project to compile successfully with all the stages but every time I was disappointed. Please help. I appreciate your time.","title":"Gitlab CI/CD running fine on local but not on gitlab","body":"<p>I am trying to build a gitlab CI/CD pipeline on my java maven project. I tried all the stages on my local machine and they are passing successfully but when I try the same things on gitlab repo it is throwing error. I tried almost every solution and gone through numerous posts to resolve the errors but to no use. Here is my yml content:</p>\n<pre><code>image: maven:3.5-jdk-8\n\nvariables:\n   MAVEN_CLI_OPTS: &quot;-s .m2/settings.xml --batch-mode&quot;\n   MAVEN_OPTS: &quot;-Dmaven.repo.local=.m2/repository&quot;\n\ninclude:\n    - template: Security/SAST.gitlab-ci.yml\n\ncache:\n  paths:\n    - .m2/settings.xml\n\n# Define stages\n#   Stages group various steps into one block,\n#   if any step fails, the entire stage fails\nstages:\n  - validate\n  - compile\n  - SonarQube\n  - test\n  \nvalidate: \n  stage: validate\n  script:\n    - mvn validate\n\ncompile:\n  stage: compile\n  script:\n    - mvn $MAVEN_CLI_OPTS compile\n  \nsonarqube-check:\n  image: maven:3.6.3-jdk-11\n  stage: SonarQube \n  variables:\n    SONAR_USER_HOME: &quot;${CI_PROJECT_DIR}/.sonar&quot;\n  script:\n    - mvn sonar:sonar \\ -Dsonar.projectKey=XX.XX.XXX.XXX \\ -Dsonar.host.url=http://XX.XX.XXX.XXX \\ -Dsonar.login=XX.XX.XXX.XXX -X\n  allow_failure: true\n\nspotbugs-sast:\n  variables:\n    COMPILE: &quot;false&quot;\n    SECURE_LOG_LEVEL: &quot;debug&quot;\n  artifacts:\n    reports:\n      sast: gl-sast-report.json\n\n\n#spotbugs-sast:\n#  variables:\n#    SECURE_LOG_LEVEL: &quot;debug&quot;\n    #FAIL_NEVER: 1\n\ntest:\n  stage: test\n  script:\n    - mvn $MAVEN_CLI_OPTS test -B\n</code></pre>\n<p>The stage validate and compile are running fine but I am getting warnings in sonar check and spotbugs sast. The same is running fine on my local.\nIn the sonarqube check the error is:</p>\n<pre><code>Error resolving version for plugin ' -Dsonar.host.url=http://XX.XX.XXX.XXX' from the repositories [local (/builds/XX.XX.XXX.XXX/.m2/repository), central (https://repo.maven.apache.org/maven2)]: Plugin not found in any plugin repository -&gt; [Help 1]\norg.apache.maven.plugin.version.PluginVersionResolutionException: Error resolving version for plugin ' -Dsonar.host.url=http://XX.XX.XXX.XXX' from the repositories [local (/builds/XXXX/XXXXX/.m2/repository), central (https://repo.maven.apache.org/maven2)]: Plugin not found in any plugin repository\n</code></pre>\n<p>and for the spotbugs-sast warning the error is:</p>\n<pre><code>[FATA] [Find Security Bugs]  lstat /root/.m2/repository: no such file or directory\n</code></pre>\n<p>I have spent numerous hours resolving this and waiting for the project to compile successfully with all the stages but every time I was disappointed. Please help. I appreciate your time.</p>\n"},{"tags":["java","bytecode","java-bytecode-asm"],"answers":[{"tags":[],"owner":{"account_id":1370752,"reputation":5480,"user_id":1306024,"display_name":"k5_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640543764,"creation_date":1640543764,"answer_id":70488933,"question_id":70488778,"body_markdown":"I can&#39;t really test this code right now, but this should work\r\n\r\n                InsnList numCounting = new InsnList();\r\n\r\n                // insert count++\r\n                numCounting.add(new FieldInsnNode(Opcodes.GETSTATIC, classNode_c.name, &quot;count&quot;, &quot;I&quot;));\r\n                numCounting.add(new LdcInsnNode( x )); // Load a constant onto the stack, asm will put that constant in the constant pool for you\r\n                numCounting.add(new InsnNode(Opcodes.IADD));\r\n                numCounting.add(new FieldInsnNode(Opcodes.PUTSTATIC, classNode_c.name, &quot;count&quot;, &quot;I&quot;));    \r\n                mn.instructions.insert(node, numCounting);\r\n\r\n\r\n(My usual approach with asm is to write the method i want to generate with asm in pure java, compile it and look at the resulting bytecode with javap. Thats usually a good indication what opcodes to use.)","title":"How to add an integer to a constant in Java ASM bytecode?","body":"<p>I can't really test this code right now, but this should work</p>\n<pre><code>            InsnList numCounting = new InsnList();\n\n            // insert count++\n            numCounting.add(new FieldInsnNode(Opcodes.GETSTATIC, classNode_c.name, &quot;count&quot;, &quot;I&quot;));\n            numCounting.add(new LdcInsnNode( x )); // Load a constant onto the stack, asm will put that constant in the constant pool for you\n            numCounting.add(new InsnNode(Opcodes.IADD));\n            numCounting.add(new FieldInsnNode(Opcodes.PUTSTATIC, classNode_c.name, &quot;count&quot;, &quot;I&quot;));    \n            mn.instructions.insert(node, numCounting);\n</code></pre>\n<p>(My usual approach with asm is to write the method i want to generate with asm in pure java, compile it and look at the resulting bytecode with javap. Thats usually a good indication what opcodes to use.)</p>\n"}],"owner":{"account_id":5341559,"reputation":1488,"user_id":4258483,"display_name":"Pasindu Tennage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70488933,"answer_count":1,"score":0,"last_activity_date":1640543764,"creation_date":1640542153,"question_id":70488778,"body_markdown":"I am trying to add an `integer` variable `x` to a static `int` variable named `count` using java ASM.\r\n\r\nAfter a lot of searching, I found a way to add a fixed integer to a static int variable \r\n\r\n                    InsnList numCounting = new InsnList();\r\n    \r\n                    // insert count++\r\n                    numCounting.add(new FieldInsnNode(Opcodes.GETSTATIC, classNode_c.name, &quot;count&quot;, &quot;I&quot;));\r\n                    numCounting.add(new InsnNode(Opcodes.ICONST_1));\r\n                    numCounting.add(new InsnNode(Opcodes.IADD));\r\n                    numCounting.add(new FieldInsnNode(Opcodes.PUTSTATIC, classNode_c.name, &quot;count&quot;, &quot;I&quot;));    \r\n                    mn.instructions.insert(node, numCounting);\r\n\r\n\r\nHow do I generalize this such that I can add an arbitrary `int` to `count`?\r\nThanks   ","title":"How to add an integer to a constant in Java ASM bytecode?","body":"<p>I am trying to add an <code>integer</code> variable <code>x</code> to a static <code>int</code> variable named <code>count</code> using java ASM.</p>\n<p>After a lot of searching, I found a way to add a fixed integer to a static int variable</p>\n<pre><code>                InsnList numCounting = new InsnList();\n\n                // insert count++\n                numCounting.add(new FieldInsnNode(Opcodes.GETSTATIC, classNode_c.name, &quot;count&quot;, &quot;I&quot;));\n                numCounting.add(new InsnNode(Opcodes.ICONST_1));\n                numCounting.add(new InsnNode(Opcodes.IADD));\n                numCounting.add(new FieldInsnNode(Opcodes.PUTSTATIC, classNode_c.name, &quot;count&quot;, &quot;I&quot;));    \n                mn.instructions.insert(node, numCounting);\n</code></pre>\n<p>How do I generalize this such that I can add an arbitrary <code>int</code> to <code>count</code>?\nThanks</p>\n"},{"tags":["java","plugins","command","minecraft","bukkit"],"answers":[{"tags":[],"owner":{"account_id":19123282,"reputation":18,"user_id":13966780,"display_name":"dgrfps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640543518,"creation_date":1595298723,"answer_id":63006496,"question_id":63005233,"body_markdown":"Do you want to infect a random player once the /infect is fired? or\r\njust infect the command sender?\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class infect implements CommandExecutor {\r\n\r\n\t@Override\r\n\tpublic boolean onCommand(CommandSender sender, Command cmd, String arg, String[] args) {\r\n\t\t\r\n\t\tif(sender instanceof Player) {\r\n\t\t\tPlayer p = (Player) sender;\r\n\t\t\t\r\n\t\t\t// Infect command sender\r\n\t\t\tif(p.hasPermission(&quot;infect&quot;)) {\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * Call event here\r\n\t\t\t\t * Like add potion effect\r\n\t\t\t\t */\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Infect target player\r\n\t\t\tif(p.hasPermission(&quot;infect&quot;)) {\r\n\t\t\t\tif(args.length &gt;= 1) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tPlayer target = Bukkit.getPlayer(args[0]);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(target.isOnline()) {\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t    * Call event here\r\n\t\t\t\t\t\t    * Like add potion effect\r\n\t\t\t\t\t\t    */\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Infect random player\r\n\t\t\tif(p.hasPermission(&quot;infect&quot;)) {\r\n\t\t\t\tint r = new Random().nextInt(Bukkit.getOnlinePlayers().size());\r\n\t\t\t\t\r\n\t\t\t\tList&lt;Player&gt; isO = new ArrayList&lt;Player&gt;();\r\n\t\t\t\t\r\n\t\t\t\tfor (Player on : Bukkit.getOnlinePlayers()) {\r\n\t\t\t\t\tisO.add(on);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(isO.get(r) != null) {\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Call event here\r\n\t\t\t\t\t * Like add potion effect\r\n\t\t\t\t\t */\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n```","title":"How to get player from command in MC Bukkit (Java plugin)","body":"<p>Do you want to infect a random player once the /infect is fired? or\njust infect the command sender?</p>\n<p>Here is the code:</p>\n<pre><code>public class infect implements CommandExecutor {\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command cmd, String arg, String[] args) {\n        \n        if(sender instanceof Player) {\n            Player p = (Player) sender;\n            \n            // Infect command sender\n            if(p.hasPermission(&quot;infect&quot;)) {\n                \n                /*\n                 * Call event here\n                 * Like add potion effect\n                 */\n                \n            }\n            \n            // Infect target player\n            if(p.hasPermission(&quot;infect&quot;)) {\n                if(args.length &gt;= 1) {\n                    try {\n                        Player target = Bukkit.getPlayer(args[0]);\n                        \n                        if(target.isOnline()) {\n                            /*\n                            * Call event here\n                            * Like add potion effect\n                            */\n                        }\n                        \n                    } catch (Exception e) {\n                        \n                    }\n                }\n            }\n            \n            // Infect random player\n            if(p.hasPermission(&quot;infect&quot;)) {\n                int r = new Random().nextInt(Bukkit.getOnlinePlayers().size());\n                \n                List&lt;Player&gt; isO = new ArrayList&lt;Player&gt;();\n                \n                for (Player on : Bukkit.getOnlinePlayers()) {\n                    isO.add(on);\n                }\n                \n                if(isO.get(r) != null) {\n                    /*\n                     * Call event here\n                     * Like add potion effect\n                     */\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user10941117"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63006496,"answer_count":1,"score":1,"last_activity_date":1640543518,"creation_date":1595287880,"question_id":63005233,"body_markdown":"I&#39;m trying to &quot;infect&quot; someone with a virus in my minecraft world with a plugin. I have it already done and also it works randomly, like I wanted, but I also want to infect people with a command (like &quot;/infect &lt;player&gt;&quot;. I&#39;ve been searching for solutions hours and hours but I gave up, so I would like to ask some help. Here&#39;s my Main.jar from the plugin:\r\n\r\n```package pandemic;\r\n\r\nimport java.util.Random;\r\n\r\nimport java.lang.reflect.Method;  \r\n\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.plugin.PluginManager;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.bukkit.potion.PotionEffect;\r\nimport org.bukkit.potion.PotionEffectType;\r\n\r\npublic class Main extends JavaPlugin{\r\n\t\r\n\t@Override\r\n\t\r\n\t\r\n\tpublic void onEnable(){\r\n\t\t\r\n\t\tgetLogger().info(&quot;Pandemic has been activated...&quot;);\r\n\t\tPluginManager pm = getServer().getPluginManager();\r\n\t\tfirstListener listener = new firstListener(this);\r\n\t\t\r\n\t\tpm.registerEvents(listener, this);\r\n\t\t\r\n\t\t}\r\n\t\r\n\tpublic void onDisable(){\r\n\t\t\r\n\t\tgetLogger().info(&quot;Pandemic has shut down!&quot;);\r\n\t\t\r\n\t\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n\t\t\r\n\t\tPlayer player = (Player) sender;\r\n\t\t\r\n\t\t\r\n\t\tif (sender instanceof Player) {\r\n\t\t\t\r\n\t\t\tString lowerCmd = cmd.getName().toLowerCase();\r\n\t\t\t\r\n\t\t\tswitch (lowerCmd) {\r\n\t\t\t\t\r\n\t\t\tcase &quot;infect&quot;:\r\n\t\t\t\t\r\n\t\t\t\tfirstListener listener = new firstListener(this);\r\n\t\t\t\t\r\n\t\t\t\tlistener.infection();\r\n\t\t\t\t\r\n\t\t\t\treturn true;\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\t\r\n\t\t\t\tplayer.sendMessage(&quot;Ese comando no existe&quot;);\r\n\t\t\t\t\r\n\t\t\t\treturn true;\r\n\t\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tplayer.sendMessage(&quot;Ese comando no existe&quot;);\r\n\t\t\r\n\t\treturn true;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\nI have the &quot;infection&quot; function in my listener.jar:\r\n```package pandemic;\r\n\r\nimport java.util.Random; \r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\nimport org.bukkit.potion.PotionEffect;\r\nimport org.bukkit.potion.PotionEffectType;\r\n\r\npublic class firstListener implements Listener {\r\n\t\r\n\t//Constructor\r\n\tpublic firstListener(Main plugin) {\r\n\t\t\r\n\t\tBukkit.getScheduler().scheduleSyncRepeatingTask(Bukkit.getPluginManager().getPlugin(&quot;Plugin&quot;), new Runnable() {\r\n\t\t     \r\n\t        @Override\r\n\t        public void run() {\r\n\t           \r\n\t            Random rand = new Random(); \r\n\t            \r\n\t            // Generate random integers in range 0 to 999 \r\n\t            int rand_int1 = rand.nextInt(31); \r\n\t            \r\n\t            if (rand_int1 == 30) {\r\n\t            \t\r\n\t            \t\tPlayer randomPlayer = Bukkit.getOnlinePlayers().stream().skip((int) (Bukkit.getOnlinePlayers().size() * Math.random())).findFirst().orElse(null);\r\n\t            \t\t\r\n\t            \t\trandomPlayer.sendMessage(ChatColor.RED+ &quot;Has sido lamentablemente infectado por coronavirus&quot;);\r\n\t            \t\t\r\n\t            \t\trandomPlayer.addPotionEffect(new PotionEffect(PotionEffectType.WEAKNESS,18000, 1));\r\n\t            \t\t\r\n\t            \t\trandomPlayer.addPotionEffect(new PotionEffect(PotionEffectType.CONFUSION,18000, 1));\r\n\t            \t\t\r\n\t            \t\trandomPlayer.addPotionEffect(new PotionEffect(PotionEffectType.SLOW,18000, 1));\r\n\t            \t\r\n\t            \t\t\r\n\t           \r\n\t            \t}\r\n\t            \r\n\t        }\r\n\t            \r\n\t     \r\n\t    }, 1L , (long) 9000 * 20);\r\n\t\t\r\n\t}\r\n\t\t\r\n\t\tpublic void infection()\r\n\t\t\r\n\t\t{\r\n\t\t\t\r\n\t        \t\r\n\t        \t\tPlayer selectedPlayer = Bukkit.getPlayer(&quot;yo&quot;);\r\n\t        \t\t\r\n\t        \t\tselectedPlayer.sendMessage(ChatColor.RED+ &quot;Has sido lamentablemente infectado por coronavirus&quot;);\r\n\t        \t\t\r\n\t        \t\tselectedPlayer.addPotionEffect(new PotionEffect(PotionEffectType.WEAKNESS,18000, 1));\r\n\t        \t\t\r\n\t        \t\tselectedPlayer.addPotionEffect(new PotionEffect(PotionEffectType.CONFUSION,18000, 1));\r\n\t        \t\t\r\n\t        \t\tselectedPlayer.addPotionEffect(new PotionEffect(PotionEffectType.SLOW,18000, 1));\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\r\n\t\r\n\t//EventHandler\r\n\t@EventHandler\r\n\tpublic void onPlayerJoin(PlayerJoinEvent event) {\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nThanks!\r\n\r\n\r\n\r\n\r\n","title":"How to get player from command in MC Bukkit (Java plugin)","body":"<p>I'm trying to &quot;infect&quot; someone with a virus in my minecraft world with a plugin. I have it already done and also it works randomly, like I wanted, but I also want to infect people with a command (like &quot;/infect &quot;. I've been searching for solutions hours and hours but I gave up, so I would like to ask some help. Here's my Main.jar from the plugin:</p>\n<pre><code>\nimport java.util.Random;\n\nimport java.lang.reflect.Method;  \n\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.plugin.PluginManager;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.bukkit.potion.PotionEffect;\nimport org.bukkit.potion.PotionEffectType;\n\npublic class Main extends JavaPlugin{\n    \n    @Override\n    \n    \n    public void onEnable(){\n        \n        getLogger().info(&quot;Pandemic has been activated...&quot;);\n        PluginManager pm = getServer().getPluginManager();\n        firstListener listener = new firstListener(this);\n        \n        pm.registerEvents(listener, this);\n        \n        }\n    \n    public void onDisable(){\n        \n        getLogger().info(&quot;Pandemic has shut down!&quot;);\n        \n        }\n    \n    \n    \n    public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n        \n        Player player = (Player) sender;\n        \n        \n        if (sender instanceof Player) {\n            \n            String lowerCmd = cmd.getName().toLowerCase();\n            \n            switch (lowerCmd) {\n                \n            case &quot;infect&quot;:\n                \n                firstListener listener = new firstListener(this);\n                \n                listener.infection();\n                \n                return true;\n                \n            default:\n                \n                player.sendMessage(&quot;Ese comando no existe&quot;);\n                \n                return true;\n                        \n            \n            }\n            \n            \n        }\n    \n        player.sendMessage(&quot;Ese comando no existe&quot;);\n        \n        return true;\n        \n    }\n    \n    \n\n    \n    \n\n}\n</code></pre>\n<p>I have the &quot;infection&quot; function in my listener.jar:</p>\n<pre><code>\nimport java.util.Random; \nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerJoinEvent;\nimport org.bukkit.potion.PotionEffect;\nimport org.bukkit.potion.PotionEffectType;\n\npublic class firstListener implements Listener {\n    \n    //Constructor\n    public firstListener(Main plugin) {\n        \n        Bukkit.getScheduler().scheduleSyncRepeatingTask(Bukkit.getPluginManager().getPlugin(&quot;Plugin&quot;), new Runnable() {\n             \n            @Override\n            public void run() {\n               \n                Random rand = new Random(); \n                \n                // Generate random integers in range 0 to 999 \n                int rand_int1 = rand.nextInt(31); \n                \n                if (rand_int1 == 30) {\n                    \n                        Player randomPlayer = Bukkit.getOnlinePlayers().stream().skip((int) (Bukkit.getOnlinePlayers().size() * Math.random())).findFirst().orElse(null);\n                        \n                        randomPlayer.sendMessage(ChatColor.RED+ &quot;Has sido lamentablemente infectado por coronavirus&quot;);\n                        \n                        randomPlayer.addPotionEffect(new PotionEffect(PotionEffectType.WEAKNESS,18000, 1));\n                        \n                        randomPlayer.addPotionEffect(new PotionEffect(PotionEffectType.CONFUSION,18000, 1));\n                        \n                        randomPlayer.addPotionEffect(new PotionEffect(PotionEffectType.SLOW,18000, 1));\n                    \n                        \n               \n                    }\n                \n            }\n                \n         \n        }, 1L , (long) 9000 * 20);\n        \n    }\n        \n        public void infection()\n        \n        {\n            \n                \n                    Player selectedPlayer = Bukkit.getPlayer(&quot;yo&quot;);\n                    \n                    selectedPlayer.sendMessage(ChatColor.RED+ &quot;Has sido lamentablemente infectado por coronavirus&quot;);\n                    \n                    selectedPlayer.addPotionEffect(new PotionEffect(PotionEffectType.WEAKNESS,18000, 1));\n                    \n                    selectedPlayer.addPotionEffect(new PotionEffect(PotionEffectType.CONFUSION,18000, 1));\n                    \n                    selectedPlayer.addPotionEffect(new PotionEffect(PotionEffectType.SLOW,18000, 1));\n            \n        }\n        \n        \n        \n        \n    \n    \n    //EventHandler\n    @EventHandler\n    public void onPlayerJoin(PlayerJoinEvent event) {\n        \n    }\n\n}\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1546248898,"post_id":53985800,"comment_id":94808718,"body_markdown":"That does not sound correct.  A file (on disc) is typically read a *sector* at a time (usually around 4k) and OSs typically buffer ahead and read more.  So 2 or 4 bytes at a time sounds way off.","body":"That does not sound correct.  A file (on disc) is typically read a <i>sector</i> at a time (usually around 4k) and OSs typically buffer ahead and read more.  So 2 or 4 bytes at a time sounds way off."},{"owner":{"account_id":2097244,"reputation":1405,"user_id":1865719,"accept_rate":78,"display_name":"Mohammad Karmi"},"score":0,"creation_date":1546248984,"post_id":53985800,"comment_id":94808754,"body_markdown":"@markspace so shouldn&#39;t the buffered reader read one large block ?","body":"@markspace so shouldn&#39;t the buffered reader read one large block ?"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1546249002,"post_id":53985800,"comment_id":94808762,"body_markdown":"Despite the many upvotes of that answer, this is clearly wrong.","body":"Despite the many upvotes of that answer, this is clearly wrong."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1546249050,"post_id":53985800,"comment_id":94808781,"body_markdown":"The OS uses its own buffers.  The only advantage to a Java buffer would be, I think, to reduce the number of OS calls to read data, but that&#39;s between the OS and Java, not the file itself.","body":"The OS uses its own buffers.  The only advantage to a Java buffer would be, I think, to reduce the number of OS calls to read data, but that&#39;s between the OS and Java, not the file itself."}],"answers":[{"tags":[],"owner":{"account_id":6359689,"reputation":2254,"user_id":4935567,"accept_rate":50,"display_name":"Masked Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1546249006,"creation_date":1546249006,"answer_id":53985865,"question_id":53985800,"body_markdown":"Take a look at `BufferedReader` **javadoc**:\r\n\r\n&lt;blockquote&gt;\r\nReads text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines.\r\n\r\nThe buffer size may be specified, or the default size may be used. The default is large enough for most purposes.\r\n\r\nIn general, each read request made of a Reader causes a corresponding read request to be made of the underlying character or byte stream. It is therefore advisable to wrap a BufferedReader around any Reader whose read() operations may be costly, such as FileReaders and InputStreamReaders. For example,\r\n&lt;br/&gt;\r\n\r\n &lt;code&gt;BufferedReader in\r\n   = new BufferedReader(new FileReader(&quot;foo.in&quot;));&lt;/code&gt;\r\n&lt;br/&gt;\r\n \r\nwill buffer the input from the specified file. Without buffering, each invocation of read() or readLine() could cause bytes to be read from the file, converted into characters, and then returned, which can be very inefficient.\r\nPrograms that use DataInputStreams for textual input can be localized by replacing each DataInputStream with an appropriate BufferedReader.\r\n&lt;/blockquote&gt;\r\n\r\nSo it buffers the data beforehand from the underlying resource and consequent `read` instructions use the buffer for efficiency.","title":"BufferedReader amount of bytes read","body":"<p>Take a look at <code>BufferedReader</code> <strong>javadoc</strong>:</p>\n\n<blockquote>\nReads text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines.\n\nThe buffer size may be specified, or the default size may be used. The default is large enough for most purposes.\n\nIn general, each read request made of a Reader causes a corresponding read request to be made of the underlying character or byte stream. It is therefore advisable to wrap a BufferedReader around any Reader whose read() operations may be costly, such as FileReaders and InputStreamReaders. For example,\n<br/>\n\n <code>BufferedReader in\n   = new BufferedReader(new FileReader(\"foo.in\"));</code>\n<br/>\n\nwill buffer the input from the specified file. Without buffering, each invocation of read() or readLine() could cause bytes to be read from the file, converted into characters, and then returned, which can be very inefficient.\nPrograms that use DataInputStreams for textual input can be localized by replacing each DataInputStream with an appropriate BufferedReader.\n</blockquote>\n\n<p>So it buffers the data beforehand from the underlying resource and consequent <code>read</code> instructions use the buffer for efficiency.</p>\n"},{"tags":[],"owner":{"account_id":1507667,"reputation":72920,"user_id":1410664,"accept_rate":52,"display_name":"Caius Jard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546249848,"creation_date":1546249321,"answer_id":53985911,"question_id":53985800,"body_markdown":"The point he&#39;s making is that FileInputStream reads N bytes at a time and takes no interest in the data it reads. BufferedReader eventually uses FileInputStream (when reading a file) and does the repetitive read part but it does take an interest in the bytes it reads, treating them as character data (encoding considerations etc) chopping them up into lines\r\n\r\nSure, you can write your own, and not use BufferedReader, but you can say the same about anything in computing: &quot;I didn&#39;t like NVidia&#39;s display driver, so I sat down and spent 3 years writing my own. Now I&#39;m starting a new operating system. Be done for when quantum computers are mainstream&quot; - nearly no-one does this; it&#39;s called reinventing the wheel and there&#39;s a reason why we don&#39;t do it: for the most part, the wheels other people invented are already fine for our purposes/better than we have time to do ourselves\r\n\r\nNote; you seem to be taking issue with the assertion that BufferedReader ultimately reads from the data source a byte or two at a time. It probably doesn&#39;t, but I don&#39;t think that&#39;s the point the guy is making (the language used in the post is rather vague). Regardless of how it reads bytes from an InputStream/Reader, a BufferedReader will certainly inspect the data that it reads on a character-by-character basis as it looks for newlines, so it can make ReadLine() work. It will do this independently of the strategy that it uses to read the file (maybe it repeatedly reads in 4096 byte chunks, but it will certainly have to process the data byte by byte as it interprets it)\r\n\r\nUltimately consider that file access is cached and coalescing of reads may occur at many levels: calling ReaderX.Read() will almost certainly not cause a hard disk to stop everything it&#39;s doing, go to a certain sector, read a single byte, and go back to what it was doing before. You might thus issue a million calls to Read() one char that cause no more hard disk thrashing than a single call to Read() into a megabyte buffer","title":"BufferedReader amount of bytes read","body":"<p>The point he's making is that FileInputStream reads N bytes at a time and takes no interest in the data it reads. BufferedReader eventually uses FileInputStream (when reading a file) and does the repetitive read part but it does take an interest in the bytes it reads, treating them as character data (encoding considerations etc) chopping them up into lines</p>\n\n<p>Sure, you can write your own, and not use BufferedReader, but you can say the same about anything in computing: \"I didn't like NVidia's display driver, so I sat down and spent 3 years writing my own. Now I'm starting a new operating system. Be done for when quantum computers are mainstream\" - nearly no-one does this; it's called reinventing the wheel and there's a reason why we don't do it: for the most part, the wheels other people invented are already fine for our purposes/better than we have time to do ourselves</p>\n\n<p>Note; you seem to be taking issue with the assertion that BufferedReader ultimately reads from the data source a byte or two at a time. It probably doesn't, but I don't think that's the point the guy is making (the language used in the post is rather vague). Regardless of how it reads bytes from an InputStream/Reader, a BufferedReader will certainly inspect the data that it reads on a character-by-character basis as it looks for newlines, so it can make ReadLine() work. It will do this independently of the strategy that it uses to read the file (maybe it repeatedly reads in 4096 byte chunks, but it will certainly have to process the data byte by byte as it interprets it)</p>\n\n<p>Ultimately consider that file access is cached and coalescing of reads may occur at many levels: calling ReaderX.Read() will almost certainly not cause a hard disk to stop everything it's doing, go to a certain sector, read a single byte, and go back to what it was doing before. You might thus issue a million calls to Read() one char that cause no more hard disk thrashing than a single call to Read() into a megabyte buffer</p>\n"},{"tags":[],"owner":{"account_id":2237322,"reputation":81,"user_id":1973308,"display_name":"Hank Lenzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640542598,"creation_date":1640542292,"answer_id":70488794,"question_id":53985800,"body_markdown":"Let&#39;s do an experiment with a tiny UTF-8 encoded file in Linux, and then create its hexdump, and try to understand what goes on:\r\n\r\n    $ echo &quot;Try my delicious pork-chop ribs!&quot; &gt; ribs.txt\r\n    $ cat ribs.txt | xxd -g 1 &gt; ribs.hexdump`\r\n    $ cat ribs.hexdump \r\n    00000000: 54 72 79 20 6d 79 20 64 65 6c 69 63 69 6f 75 73  Try my delicious\r\n    00000010: 20 70 6f 72 6b 2d 63 68 6f 70 20 72 69 62 73 21   pork-chop ribs!\r\n    00000020: 0a    \r\n                                           .\r\n\r\nNow, use jshell, and create instances for FileReader, BufferedReader and StringBuilder objects:\r\n\r\n        jshell&gt; FileReader afr = new FileReader(&quot;/path/to/file/ribs.txt/&quot;)\r\n        afr ==&gt; java.io.FileReader@3d012ddd\r\n    &#39;    \r\n        jshell&gt; BufferedReader bfr = new BufferedReader(afr)\r\n        bfr ==&gt; java.io.BufferedReader@6504e3b2\r\n        \r\n        jshell&gt; StringBuilder ct = new StringBuilder()\r\n        ct ==&gt; \r\n\r\n`\r\n&#39;ct&#39; is the content of the StringBuilder object. It&#39;s empty right now.\r\nSo, let&#39;s construct a for loop that iterates by 8 at a time, as see what it does:\r\n\r\n    for (int i=0; i &lt; 7; i++) {\r\n    if ((value = bfr.read()) != -1) { ct.append((char) value); }\r\n    i++;\r\n    }\r\n\r\nWhich in the jshell we do:\r\n`\r\n\r\n        jshell&gt; int value;\r\n        value ==&gt; 0\r\n        \r\n        jshell&gt; for (int i=0; i &lt; 7; i++) {\r\n           ...&gt; if ((value = bfr.read()) != -1) { ct.append((char) value); }\r\n           ...&gt; i++;\r\n           ...&gt; }\r\n    `\r\n\r\nLet&#39;s look at the content:\r\n `  \r\n\r\n    jshell&gt; ct\r\n    ct ==&gt; Try \r\n\r\n`\r\nWe can look at our hexdump file we previously prepared to try to understand where we&#39;re at:\r\n\r\n    `\r\n        00000000: 54 72 79 20 6d 79 20 64 65 6c 69 63 69 6f 75 73  Try my delicious\r\n                  T  r  y  SP (&lt;---- YOU ARE HERE)\r\n    `\r\n\r\nLet&#39;s confirm this with another iteration cycle:\r\n\r\n    `\t  \r\n        jshell&gt; for (int i=0; i &lt; 7; i++) {\r\n           ...&gt; if ((value = bfr.read()) != -1) { ct.append((char) value); }\r\n           ...&gt; i++;\r\n           ...&gt; }\r\n        \r\n        jshell&gt; ct\r\n        ct ==&gt; Try my d\r\n        \r\n        00000000: 54 72 79 20 6d 79 20 64 65 6c 69 63 69 6f 75 73  Try my delicious\r\n                  T  r  y  SP m  y  SP d (&lt;---- YOU ARE HERE)\r\n    `\r\n\r\nSee: **you asked for 8 characters, but it gave you 4 characters (2 bytes each)!**\r\nFileReader does, indeed, read 2 bytes at a time!\r\n-- Hank\r\n\r\n\r\n\r\n","title":"BufferedReader amount of bytes read","body":"<p>Let's do an experiment with a tiny UTF-8 encoded file in Linux, and then create its hexdump, and try to understand what goes on:</p>\n<pre><code>$ echo &quot;Try my delicious pork-chop ribs!&quot; &gt; ribs.txt\n$ cat ribs.txt | xxd -g 1 &gt; ribs.hexdump`\n$ cat ribs.hexdump \n00000000: 54 72 79 20 6d 79 20 64 65 6c 69 63 69 6f 75 73  Try my delicious\n00000010: 20 70 6f 72 6b 2d 63 68 6f 70 20 72 69 62 73 21   pork-chop ribs!\n00000020: 0a    \n                                       .\n</code></pre>\n<p>Now, use jshell, and create instances for FileReader, BufferedReader and StringBuilder objects:</p>\n<pre><code>    jshell&gt; FileReader afr = new FileReader(&quot;/path/to/file/ribs.txt/&quot;)\n    afr ==&gt; java.io.FileReader@3d012ddd\n'    \n    jshell&gt; BufferedReader bfr = new BufferedReader(afr)\n    bfr ==&gt; java.io.BufferedReader@6504e3b2\n    \n    jshell&gt; StringBuilder ct = new StringBuilder()\n    ct ==&gt; \n</code></pre>\n<p>`\n'ct' is the content of the StringBuilder object. It's empty right now.\nSo, let's construct a for loop that iterates by 8 at a time, as see what it does:</p>\n<pre><code>for (int i=0; i &lt; 7; i++) {\nif ((value = bfr.read()) != -1) { ct.append((char) value); }\ni++;\n}\n</code></pre>\n<p>Which in the jshell we do:\n`</p>\n<pre><code>    jshell&gt; int value;\n    value ==&gt; 0\n    \n    jshell&gt; for (int i=0; i &lt; 7; i++) {\n       ...&gt; if ((value = bfr.read()) != -1) { ct.append((char) value); }\n       ...&gt; i++;\n       ...&gt; }\n`\n</code></pre>\n<p>Let's look at the content:\n`</p>\n<pre><code>jshell&gt; ct\nct ==&gt; Try \n</code></pre>\n<p>`\nWe can look at our hexdump file we previously prepared to try to understand where we're at:</p>\n<pre><code>`\n    00000000: 54 72 79 20 6d 79 20 64 65 6c 69 63 69 6f 75 73  Try my delicious\n              T  r  y  SP (&lt;---- YOU ARE HERE)\n`\n</code></pre>\n<p>Let's confirm this with another iteration cycle:</p>\n<pre><code>`     \n    jshell&gt; for (int i=0; i &lt; 7; i++) {\n       ...&gt; if ((value = bfr.read()) != -1) { ct.append((char) value); }\n       ...&gt; i++;\n       ...&gt; }\n    \n    jshell&gt; ct\n    ct ==&gt; Try my d\n    \n    00000000: 54 72 79 20 6d 79 20 64 65 6c 69 63 69 6f 75 73  Try my delicious\n              T  r  y  SP m  y  SP d (&lt;---- YOU ARE HERE)\n`\n</code></pre>\n<p>See: <strong>you asked for 8 characters, but it gave you 4 characters (2 bytes each)!</strong>\nFileReader does, indeed, read 2 bytes at a time!\n-- Hank</p>\n"}],"owner":{"account_id":2097244,"reputation":1405,"user_id":1865719,"accept_rate":78,"display_name":"Mohammad Karmi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53985865,"answer_count":3,"score":1,"last_activity_date":1640542598,"creation_date":1546248625,"question_id":53985800,"body_markdown":"Per my knowledge the buffered reader is way optimized than non buffered as each read will be done from memory , no need for I/O read/write from disk/network each time. \r\n\r\nSo I was reading the answers here :\r\n\r\nhttps://stackoverflow.com/questions/9648811/specific-difference-between-bufferedreader-and-filereader\r\n\r\nI got confused by the second answer which seems to have high votes :\r\n\r\n&gt; When the &quot;read&quot; instruction is given to the BufferedReader object, it uses the FileReader object to read the data from the file. When an instruction is given, the FileReader object reads 2 (or 4) bytes at a time and returns the data to the BufferedReader and the reader keeps doing that until it hits &#39;\\n&#39; or &#39;\\r\\n&#39; (The end of the line symbol). Once a line is buffered, the reader waits patiently, until the instruction to buffer the next line is given.\r\n\r\nis that correct ? I would think we lost the whole idea about buffer reader, if the buffer need to do multiple 2 bytes read then I can just use the file reader and can use that too. The idea in buffered reader it should read large block at a time so the number of I/O access will be much less than file reader.\r\n\r\ncan anyone correct me if I&#39;m wrong ?","title":"BufferedReader amount of bytes read","body":"<p>Per my knowledge the buffered reader is way optimized than non buffered as each read will be done from memory , no need for I/O read/write from disk/network each time. </p>\n\n<p>So I was reading the answers here :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9648811/specific-difference-between-bufferedreader-and-filereader\">Specific difference between bufferedreader and filereader</a></p>\n\n<p>I got confused by the second answer which seems to have high votes :</p>\n\n<blockquote>\n  <p>When the \"read\" instruction is given to the BufferedReader object, it uses the FileReader object to read the data from the file. When an instruction is given, the FileReader object reads 2 (or 4) bytes at a time and returns the data to the BufferedReader and the reader keeps doing that until it hits '\\n' or '\\r\\n' (The end of the line symbol). Once a line is buffered, the reader waits patiently, until the instruction to buffer the next line is given.</p>\n</blockquote>\n\n<p>is that correct ? I would think we lost the whole idea about buffer reader, if the buffer need to do multiple 2 bytes read then I can just use the file reader and can use that too. The idea in buffered reader it should read large block at a time so the number of I/O access will be much less than file reader.</p>\n\n<p>can anyone correct me if I'm wrong ?</p>\n"},{"tags":["java","spring","ftp","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":2366124,"reputation":1815,"user_id":2071775,"display_name":"Sergey Prokofiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539278579,"creation_date":1539278579,"answer_id":52765766,"question_id":52765656,"body_markdown":"Request channel should exists actually before you can refer it in your annotation. Declare channel and that issue should be gone\r\n\r\n    @Bean\r\n\tpublic MessageChannel toFtpChannel() {\r\n\t\treturn new DirectChannel();\r\n\t}\r\n\r\nThis example creates `DirectChannel` but you can choose [any implementation][1] according your semantic. \r\n\r\nHope it helps!\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-integration/reference/html/messaging-channels-section.html#channel","title":"Spring Integration &quot;No bean named &#39;toFtpChannel&#39; available&quot;","body":"<p>Request channel should exists actually before you can refer it in your annotation. Declare channel and that issue should be gone</p>\n\n<pre><code>@Bean\npublic MessageChannel toFtpChannel() {\n    return new DirectChannel();\n}\n</code></pre>\n\n<p>This example creates <code>DirectChannel</code> but you can choose <a href=\"https://docs.spring.io/spring-integration/reference/html/messaging-channels-section.html#channel\" rel=\"nofollow noreferrer\">any implementation</a> according your semantic. </p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539278948,"creation_date":1539278948,"answer_id":52765872,"question_id":52765656,"body_markdown":"Dosn&#39;t look like your application is really Spring Boot: we don&#39;t see a `@SpringBootApplication` annotation. Exactly this one will kick the proper auto-configuration, including one for Spring Integration.\r\n\r\nIf you still don&#39;t care about Spring Boot there, then you are missing a standard `@EnableIntegration` annotation: https://docs.spring.io/spring-integration/docs/current/reference/html/overview.html#configuration-enable-integration","title":"Spring Integration &quot;No bean named &#39;toFtpChannel&#39; available&quot;","body":"<p>Dosn't look like your application is really Spring Boot: we don't see a <code>@SpringBootApplication</code> annotation. Exactly this one will kick the proper auto-configuration, including one for Spring Integration.</p>\n\n<p>If you still don't care about Spring Boot there, then you are missing a standard <code>@EnableIntegration</code> annotation: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/overview.html#configuration-enable-integration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/overview.html#configuration-enable-integration</a></p>\n"},{"tags":[],"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640542321,"creation_date":1640542321,"answer_id":70488795,"question_id":52765656,"body_markdown":"@Sergey Prokofiev &#39;s answer solved here, but I want to point out a weird thing.\r\n\r\nI had a&lt;br/&gt;\r\n`@Gateway(requestChannel = &quot;json.event.deserialize.input&quot;)`&lt;br/&gt;\r\nAnd the bean below didn&#39;t work:\r\n\r\n```java\r\n\t@Bean\r\n\tpublic MessageChannel jsonEventDeserializeInput() {\r\n\t\treturn MessageChannels.direct(&quot;json.event.deserialize.input&quot;).get();\r\n\t}\r\n```\r\n\r\nAfter I changed the gateway to&lt;br/&gt;\r\n`@Gateway(requestChannel = &quot;jsonEventDeserializeInput&quot;)`&lt;br/&gt;\r\nIt did work.\r\n\r\nSo, even though the documentation says that `id(...)` is `Used as the beanName to register the bean in the application context for this component.`, it didn&#39;t find any bean with name equal to the value that I passed to `id(...)`.","title":"Spring Integration &quot;No bean named &#39;toFtpChannel&#39; available&quot;","body":"<p>@Sergey Prokofiev 's answer solved here, but I want to point out a weird thing.</p>\n<p>I had a<br/>\n<code>@Gateway(requestChannel = &quot;json.event.deserialize.input&quot;)</code><br/>\nAnd the bean below didn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public MessageChannel jsonEventDeserializeInput() {\n        return MessageChannels.direct(&quot;json.event.deserialize.input&quot;).get();\n    }\n</code></pre>\n<p>After I changed the gateway to<br/>\n<code>@Gateway(requestChannel = &quot;jsonEventDeserializeInput&quot;)</code><br/>\nIt did work.</p>\n<p>So, even though the documentation says that <code>id(...)</code> is <code>Used as the beanName to register the bean in the application context for this component.</code>, it didn't find any bean with name equal to the value that I passed to <code>id(...)</code>.</p>\n"}],"owner":{"account_id":7515309,"reputation":862,"user_id":5708957,"accept_rate":80,"display_name":"ottercoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1640542321,"creation_date":1539278101,"question_id":52765656,"body_markdown":"I need to upload an image to FTP server. So I&#39;ve created integration configuration with SessionFactory, MessageHandler, and MessageGateway for uploading files to FTP server:\r\n\r\n    @Configuration\r\n    @IntegrationComponentScan\r\n    public class FtpConfiguration {\r\n    \r\n        @Bean\r\n        public SessionFactory&lt;FTPFile&gt; ftpSessionFactory() {\r\n            DefaultFtpSessionFactory defaultFtpSessionFactory = new DefaultFtpSessionFactory();\r\n            //setup\r\n            return new CachingSessionFactory&lt;&gt;(defaultFtpSessionFactory);\r\n        }\r\n    \r\n        @Bean\r\n        @ServiceActivator(inputChannel = &quot;toFtpChannel&quot;)\r\n        public MessageHandler handler() {\r\n            FtpMessageHandler handler = new FtpMessageHandler(ftpSessionFactory());\r\n            handler.setAutoCreateDirectory(true);\r\n            handler.setRemoteDirectoryExpression(new LiteralExpression(&quot;&quot;));\r\n            handler.setFileNameGenerator(message -&gt; (String) message.getHeaders().get(&quot;filename&quot;));\r\n            return handler;\r\n        }\r\n    \r\n        //to show you that I&#39;ve tried both\r\n        /*@Bean\r\n        public IntegrationFlow ftpOutboundFlow() {\r\n            return IntegrationFlows.from(&quot;toFtpChannel&quot;)\r\n                    .handle(Ftp.outboundAdapter(ftpSessionFactory(), FileExistsMode.REPLACE)\r\n                            .useTemporaryFileName(false)\r\n                            .fileNameExpression(&quot;headers[&#39;&quot; + FileHeaders.FILENAME + &quot;&#39;]&quot;)\r\n                            .remoteDirectory(&quot;&quot;)\r\n                    ).get();\r\n        }*/\r\n    \r\n        @MessagingGateway\r\n        public interface UploadGateway {\r\n    \r\n            @Gateway(requestChannel = &quot;toFtpChannel&quot;)\r\n            void upload(@Payload byte[] file, @Header(&quot;filename&quot;) String filename, @Header(&quot;path&quot;) String path);\r\n        }\r\n    \r\n    }\r\n\r\nSuccessfully build an application. And then I&#39;m trying to upload some file:\r\n\r\n    @Autowired\r\n    UploadGateway uploadGateway;\r\n\r\n\r\n    @Override\r\n    public void uploadImage(byte[] scanBytes, String filename, String path) {\r\n        try {\r\n            uploadGateway.upload(scanBytes, filename, path);\r\n        } catch (Exception e) {\r\n            log.error(&quot;WRONG&quot;, e);\r\n        }\r\n    }\r\n\r\n\r\nAnd then it says: **&quot;No bean named &#39;toFtpChannel&#39; available&quot;**\r\nI&#39;ve tried nearly every tutorial, what do I do wrong?\r\n\r\n\r\ndependencies:\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-integration-file&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-integration-ftp&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-integration-java-dsl&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Spring Integration &quot;No bean named &#39;toFtpChannel&#39; available&quot;","body":"<p>I need to upload an image to FTP server. So I've created integration configuration with SessionFactory, MessageHandler, and MessageGateway for uploading files to FTP server:</p>\n\n<pre><code>@Configuration\n@IntegrationComponentScan\npublic class FtpConfiguration {\n\n    @Bean\n    public SessionFactory&lt;FTPFile&gt; ftpSessionFactory() {\n        DefaultFtpSessionFactory defaultFtpSessionFactory = new DefaultFtpSessionFactory();\n        //setup\n        return new CachingSessionFactory&lt;&gt;(defaultFtpSessionFactory);\n    }\n\n    @Bean\n    @ServiceActivator(inputChannel = \"toFtpChannel\")\n    public MessageHandler handler() {\n        FtpMessageHandler handler = new FtpMessageHandler(ftpSessionFactory());\n        handler.setAutoCreateDirectory(true);\n        handler.setRemoteDirectoryExpression(new LiteralExpression(\"\"));\n        handler.setFileNameGenerator(message -&gt; (String) message.getHeaders().get(\"filename\"));\n        return handler;\n    }\n\n    //to show you that I've tried both\n    /*@Bean\n    public IntegrationFlow ftpOutboundFlow() {\n        return IntegrationFlows.from(\"toFtpChannel\")\n                .handle(Ftp.outboundAdapter(ftpSessionFactory(), FileExistsMode.REPLACE)\n                        .useTemporaryFileName(false)\n                        .fileNameExpression(\"headers['\" + FileHeaders.FILENAME + \"']\")\n                        .remoteDirectory(\"\")\n                ).get();\n    }*/\n\n    @MessagingGateway\n    public interface UploadGateway {\n\n        @Gateway(requestChannel = \"toFtpChannel\")\n        void upload(@Payload byte[] file, @Header(\"filename\") String filename, @Header(\"path\") String path);\n    }\n\n}\n</code></pre>\n\n<p>Successfully build an application. And then I'm trying to upload some file:</p>\n\n<pre><code>@Autowired\nUploadGateway uploadGateway;\n\n\n@Override\npublic void uploadImage(byte[] scanBytes, String filename, String path) {\n    try {\n        uploadGateway.upload(scanBytes, filename, path);\n    } catch (Exception e) {\n        log.error(\"WRONG\", e);\n    }\n}\n</code></pre>\n\n<p>And then it says: <strong>\"No bean named 'toFtpChannel' available\"</strong>\nI've tried nearly every tutorial, what do I do wrong?</p>\n\n<p>dependencies:</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-file&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-ftp&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-java-dsl&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jax-rs","cxf","interceptor","name-binding"],"owner":{"account_id":23750340,"reputation":11,"user_id":17767184,"display_name":"JB - Yet Another Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640541313,"creation_date":1640539264,"question_id":70488427,"body_markdown":"I have 2 interceptors for request-response logging purposes. I am trying to get my Reader/Writer Interceptor to work with @NameBinding. It works if I add the providers in beans.xml for the server as below : \r\n```\r\n&lt;jaxrs:providers&gt;\r\n   &lt;ref bean=&quot;jsonProvider&quot;/&gt;\r\n   &lt;ref bean=&quot;jaxbProvider&quot; /&gt;\r\n   &lt;ref bean=&quot;fooReaderInterceptor&quot;/&gt;\r\n   &lt;ref bean=&quot;fooWriterInterceptor&quot;/&gt;\r\n&lt;jaxrs:providers&gt;\r\n```\r\n\r\nBut as this binds the interceptors with all the resources, I tried the below to use @NameBinding and bind it only to specific resources.\r\n\r\nFooAnnotation.java : \r\n\r\n```\r\npackage a;\r\n\r\nimport javax.ws.rs.NameBinding;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@NameBinding\r\n@Target({ElementType.TYPE, ElementType.METHOD})\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\npublic @interface fooAnnotation {\r\n}\r\n```\r\n\r\nFooReaderInterceptor/FooWriterInterceptor :\r\n\r\n```\r\npackage a;\r\n\r\nimport javax.ws.rs.WebApplicationException;\r\nimport javax.ws.rs.ext.Provider;\r\nimport javax.ws.rs.ext.ReaderInterceptor;\r\nimport javax.ws.rs.ext.ReaderInterceptorContext;\r\n\r\n\r\n\r\n@Provider\r\n@FooAnnotation\r\npublic class FooReaderInterceptor implements ReaderInterceptor {\r\n\r\n   //some logging logic\r\n}\r\n```\r\n\r\nResourceInterface:\r\n```\r\npackage b;\r\n\r\n@Path(&quot;somePath&quot;)\r\npublic interface SomeService {\r\n\r\n    @POST\r\n    @Consumes({&quot;application/xml&quot;, &quot;application/json&quot;})\r\n    @Produces({&quot;application/xml&quot;, &quot;application/json&quot;})\r\n    @Path(&quot;/path&quot;)\r\n    @FooAnnotation\r\n    Response someResource();\r\n\r\n//other resources\r\n\r\n}\r\n```\r\nResourceImpl : \r\n```\r\n\r\npackage b\r\n...\r\n\r\n@Override\r\n@FooAnnotation\r\npublic Response someResource(){\r\n       //business logic\r\n}\r\n\r\n```\r\nDependencies used :\r\n```\r\ncxf-minimal-bundle : 2.7.16\r\ncxf-rt-frontend-jaxrs : 3.1.6\r\n```\r\n\r\nUsing the above code, the Interceptors doesn&#39;t get called when I fire the annotated resource. Need help! Please let me know if any more info is required.\r\n\r\n","title":"Unable to get @NameBinding working for jaxrs Interceptors with cxf","body":"<p>I have 2 interceptors for request-response logging purposes. I am trying to get my Reader/Writer Interceptor to work with @NameBinding. It works if I add the providers in beans.xml for the server as below :</p>\n<pre><code>&lt;jaxrs:providers&gt;\n   &lt;ref bean=&quot;jsonProvider&quot;/&gt;\n   &lt;ref bean=&quot;jaxbProvider&quot; /&gt;\n   &lt;ref bean=&quot;fooReaderInterceptor&quot;/&gt;\n   &lt;ref bean=&quot;fooWriterInterceptor&quot;/&gt;\n&lt;jaxrs:providers&gt;\n</code></pre>\n<p>But as this binds the interceptors with all the resources, I tried the below to use @NameBinding and bind it only to specific resources.</p>\n<p>FooAnnotation.java :</p>\n<pre><code>package a;\n\nimport javax.ws.rs.NameBinding;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@NameBinding\n@Target({ElementType.TYPE, ElementType.METHOD})\n@Retention(value = RetentionPolicy.RUNTIME)\npublic @interface fooAnnotation {\n}\n</code></pre>\n<p>FooReaderInterceptor/FooWriterInterceptor :</p>\n<pre><code>package a;\n\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.ext.Provider;\nimport javax.ws.rs.ext.ReaderInterceptor;\nimport javax.ws.rs.ext.ReaderInterceptorContext;\n\n\n\n@Provider\n@FooAnnotation\npublic class FooReaderInterceptor implements ReaderInterceptor {\n\n   //some logging logic\n}\n</code></pre>\n<p>ResourceInterface:</p>\n<pre><code>package b;\n\n@Path(&quot;somePath&quot;)\npublic interface SomeService {\n\n    @POST\n    @Consumes({&quot;application/xml&quot;, &quot;application/json&quot;})\n    @Produces({&quot;application/xml&quot;, &quot;application/json&quot;})\n    @Path(&quot;/path&quot;)\n    @FooAnnotation\n    Response someResource();\n\n//other resources\n\n}\n</code></pre>\n<p>ResourceImpl :</p>\n<pre><code>\npackage b\n...\n\n@Override\n@FooAnnotation\npublic Response someResource(){\n       //business logic\n}\n\n</code></pre>\n<p>Dependencies used :</p>\n<pre><code>cxf-minimal-bundle : 2.7.16\ncxf-rt-frontend-jaxrs : 3.1.6\n</code></pre>\n<p>Using the above code, the Interceptors doesn't get called when I fire the annotated resource. Need help! Please let me know if any more info is required.</p>\n"},{"tags":["java","android","xml","android-studio","tensorflow"],"comments":[{"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"score":0,"creation_date":1641288505,"post_id":70488318,"comment_id":124760311,"body_markdown":"Welcome to Stackoverflow; please write the stack trace in your question to clarify what causes that error to happen.","body":"Welcome to Stackoverflow; please write the stack trace in your question to clarify what causes that error to happen."}],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640540022,"creation_date":1640540022,"answer_id":70488526,"question_id":70488318,"body_markdown":"All activities need to be defined in the `manifest`.\r\n\r\nYou are replacing the original `Activity` with the new one and now the old one is not defined. So you just need to add it back.\r\n\r\n       &lt;application\r\n          ...\r\n          /&gt;\r\n            &lt;activity\r\n                    android:name=&quot;.ClassifierActivity&quot;\r\n                    android:label=&quot;@string/activity_name_classification&quot;\r\n                    android:screenOrientation=&quot;portrait&quot;\r\n                    android:exported=&quot;true&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                    android:name=&quot;.Main&quot;\r\n                    android:label=&quot;@string/activity_name_classification&quot;\r\n                    android:screenOrientation=&quot;portrait&quot;\r\n                    android:exported=&quot;true&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n       &lt;/application&gt;","title":"Pass a new activity as main activity to render first","body":"<p>All activities need to be defined in the <code>manifest</code>.</p>\n<p>You are replacing the original <code>Activity</code> with the new one and now the old one is not defined. So you just need to add it back.</p>\n<pre><code>   &lt;application\n      ...\n      /&gt;\n        &lt;activity\n                android:name=&quot;.ClassifierActivity&quot;\n                android:label=&quot;@string/activity_name_classification&quot;\n                android:screenOrientation=&quot;portrait&quot;\n                android:exported=&quot;true&quot; &gt;\n        &lt;/activity&gt;\n        &lt;activity\n                android:name=&quot;.Main&quot;\n                android:label=&quot;@string/activity_name_classification&quot;\n                android:screenOrientation=&quot;portrait&quot;\n                android:exported=&quot;true&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n   &lt;/application&gt;\n</code></pre>\n"}],"owner":{"account_id":22423964,"reputation":13,"user_id":16630863,"display_name":"Tahir Iqbal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70488526,"answer_count":1,"score":0,"last_activity_date":1640540022,"creation_date":1640538274,"question_id":70488318,"body_markdown":"This is **ClassifierActivity.java** file which is rendering by default:\r\n```\r\npackage org.tensorflow.lite.examples.classification;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Bitmap.Config;\r\nimport android.graphics.Typeface;\r\nimport android.media.ImageReader.OnImageAvailableListener;\r\nimport android.os.SystemClock;\r\nimport android.util.Size;\r\nimport android.util.TypedValue;\r\nimport android.widget.Toast;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport org.tensorflow.lite.examples.classification.env.BorderedText;\r\nimport org.tensorflow.lite.examples.classification.env.Logger;\r\nimport org.tensorflow.lite.examples.classification.tflite.Classifier;\r\nimport org.tensorflow.lite.examples.classification.tflite.Classifier.Device;\r\nimport org.tensorflow.lite.examples.classification.tflite.Classifier.Model;\r\n\r\npublic class ClassifierActivity extends CameraActivity implements OnImageAvailableListener {\r\n  private static final Logger LOGGER = new Logger();\r\n  private static final Size DESIRED_PREVIEW_SIZE = new Size(640, 480);\r\n  private static final float TEXT_SIZE_DIP = 10;\r\n  private Bitmap rgbFrameBitmap = null;\r\n  private long lastProcessingTimeMs;\r\n  private Integer sensorOrientation;\r\n  public Classifier classifier;\r\n  private BorderedText borderedText;\r\n  /** Input image size of the model along x axis. */\r\n  private int imageSizeX;\r\n  /** Input image size of the model along y axis. */\r\n  private int imageSizeY;\r\n\r\n  @Override\r\n  protected int getLayoutId() {\r\n    return R.layout.camera_connection_fragment;\r\n  }\r\n\r\n  @Override\r\n  protected Size getDesiredPreviewFrameSize() {\r\n    return DESIRED_PREVIEW_SIZE;\r\n  }\r\n\r\n  @Override\r\n  public void onPreviewSizeChosen(final Size size, final int rotation) {\r\n    final float textSizePx =\r\n        TypedValue.applyDimension(\r\n            TypedValue.COMPLEX_UNIT_DIP, TEXT_SIZE_DIP, getResources().getDisplayMetrics());\r\n    borderedText = new BorderedText(textSizePx);\r\n    borderedText.setTypeface(Typeface.MONOSPACE);\r\n\r\n    recreateClassifier(getModel(), getDevice(), getNumThreads());\r\n    if (classifier == null) {\r\n      LOGGER.e(&quot;No classifier on preview!&quot;);\r\n      return;\r\n    }\r\n\r\n    previewWidth = size.getWidth();\r\n    previewHeight = size.getHeight();\r\n\r\n    sensorOrientation = rotation - getScreenOrientation();\r\n    LOGGER.i(&quot;Camera orientation relative to screen canvas: %d&quot;, sensorOrientation);\r\n\r\n    LOGGER.i(&quot;Initializing at size %dx%d&quot;, previewWidth, previewHeight);\r\n    rgbFrameBitmap = Bitmap.createBitmap(previewWidth, previewHeight, Config.ARGB_8888);\r\n  }\r\n\r\n  @Override\r\n  protected void processImage() {\r\n    rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);\r\n    final int cropSize = Math.min(previewWidth, previewHeight);\r\n\r\n    runInBackground(\r\n        new Runnable() {\r\n          @Override\r\n          public void run() {\r\n            if (classifier != null) {\r\n              final long startTime = SystemClock.uptimeMillis();\r\n              final List&lt;Classifier.Recognition&gt; results =\r\n                  classifier.recognizeImage(rgbFrameBitmap, sensorOrientation);\r\n              lastProcessingTimeMs = SystemClock.uptimeMillis() - startTime;\r\n              LOGGER.v(&quot;Detect: %s&quot;, results);\r\n\r\n              runOnUiThread(\r\n                  new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                      showResultsInBottomSheet(results);\r\n                      showFrameInfo(previewWidth + &quot;x&quot; + previewHeight);\r\n                      showCropInfo(imageSizeX + &quot;x&quot; + imageSizeY);\r\n                      showCameraResolution(cropSize + &quot;x&quot; + cropSize);\r\n                      showRotationInfo(String.valueOf(sensorOrientation));\r\n                      showInference(lastProcessingTimeMs + &quot;ms&quot;);\r\n                    }\r\n                  });\r\n            }\r\n            readyForNextImage();\r\n          }\r\n        });\r\n  }\r\n\r\n  @Override\r\n  protected void onInferenceConfigurationChanged() {\r\n    if (rgbFrameBitmap == null) {\r\n      // Defer creation until we&#39;re getting camera frames.\r\n      return;\r\n    }\r\n    final Device device = getDevice();\r\n    final Model model = getModel();\r\n    final int numThreads = getNumThreads();\r\n    runInBackground(() -&gt; recreateClassifier(model, device, numThreads));\r\n  }\r\n\r\n  private void recreateClassifier(Model model, Device device, int numThreads) {\r\n    if (classifier != null) {\r\n      LOGGER.d(&quot;Closing classifier.&quot;);\r\n      classifier.close();\r\n      classifier = null;\r\n    }\r\n    if (device == Device.GPU &amp;&amp; model == Model.QUANTIZED) {\r\n      LOGGER.d(&quot;Not creating classifier: GPU doesn&#39;t support quantized models.&quot;);\r\n      runOnUiThread(\r\n          () -&gt; {\r\n            Toast.makeText(this, &quot;GPU does not yet supported quantized models.&quot;, Toast.LENGTH_LONG)\r\n                .show();\r\n          });\r\n      return;\r\n    }\r\n    try {\r\n      LOGGER.d(\r\n          &quot;Creating classifier (model=%s, device=%s, numThreads=%d)&quot;, model, device, numThreads);\r\n      classifier = Classifier.create(this, model, device, numThreads);\r\n    } catch (IOException e) {\r\n      LOGGER.e(e, &quot;Failed to create classifier.&quot;);\r\n    }\r\n\r\n    // Updates the input image size.\r\n    imageSizeX = classifier.getImageSizeX();\r\n    imageSizeY = classifier.getImageSizeY();\r\n  }\r\n}\r\n\r\n```\r\nI created a new activity named **Main.java** and I want this activity to render first and pass it **ClassifierActivity.java** as intent by click on button:\r\n```\r\npackage org.tensorflow.lite.examples.classification;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.media.MediaPlayer;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.VideoView;\r\n\r\npublic class Main extends AppCompatActivity {\r\n\r\n    VideoView videoView;\r\n    private Button btn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n\r\n        // hide title bar\r\n        getSupportActionBar().hide();\r\n\r\n        // set button on click to scan where open the camera\r\n        btn=(Button)findViewById(R.id.button);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                  openActivity();\r\n            }\r\n        });\r\n\r\n        videoView = findViewById(R.id.videoview);\r\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.turkey);\r\n        videoView.setVideoURI(uri);\r\n        videoView.start();\r\n\r\n        videoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n            @Override\r\n            public void onPrepared(MediaPlayer mp) {\r\n                mp.setLooping(true);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    protected void openActivity(){\r\n          Intent i = new Intent(this, ClassifierActivity.class);\r\n                startActivity(i);\r\n        }\r\n\r\n    @Override\r\n    protected void onPostResume() {\r\n        videoView.resume();\r\n        super.onPostResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onRestart() {\r\n        videoView.start();\r\n        super.onRestart();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        videoView.suspend();\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        videoView.stopPlayback();\r\n        super.onDestroy();\r\n    }\r\n\r\n}\r\n```\r\nThis is old **AndroidManifest.xml** (app running successfully)\r\n```\r\n         &lt;activity\r\n                android:name=&quot;.ClassifierActivity&quot;\r\n                android:label=&quot;@string/activity_name_classification&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:exported=&quot;true&quot; &gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```\r\nAnd I want to run **Main** first. So, I changed ***android:name=&quot;.ClassifierActivity&quot;*** from old **AndroidManifest.xml** to ***android:name=&quot;.Main&quot;*** (app is stop running):\r\n```\r\n         &lt;activity\r\n                android:name=&quot;.Main&quot;\r\n                android:label=&quot;@string/activity_name_classification&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:exported=&quot;true&quot; &gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n```","title":"Pass a new activity as main activity to render first","body":"<p>This is <strong>ClassifierActivity.java</strong> file which is rendering by default:</p>\n<pre><code>package org.tensorflow.lite.examples.classification;\n\nimport android.graphics.Bitmap;\nimport android.graphics.Bitmap.Config;\nimport android.graphics.Typeface;\nimport android.media.ImageReader.OnImageAvailableListener;\nimport android.os.SystemClock;\nimport android.util.Size;\nimport android.util.TypedValue;\nimport android.widget.Toast;\nimport java.io.IOException;\nimport java.util.List;\nimport org.tensorflow.lite.examples.classification.env.BorderedText;\nimport org.tensorflow.lite.examples.classification.env.Logger;\nimport org.tensorflow.lite.examples.classification.tflite.Classifier;\nimport org.tensorflow.lite.examples.classification.tflite.Classifier.Device;\nimport org.tensorflow.lite.examples.classification.tflite.Classifier.Model;\n\npublic class ClassifierActivity extends CameraActivity implements OnImageAvailableListener {\n  private static final Logger LOGGER = new Logger();\n  private static final Size DESIRED_PREVIEW_SIZE = new Size(640, 480);\n  private static final float TEXT_SIZE_DIP = 10;\n  private Bitmap rgbFrameBitmap = null;\n  private long lastProcessingTimeMs;\n  private Integer sensorOrientation;\n  public Classifier classifier;\n  private BorderedText borderedText;\n  /** Input image size of the model along x axis. */\n  private int imageSizeX;\n  /** Input image size of the model along y axis. */\n  private int imageSizeY;\n\n  @Override\n  protected int getLayoutId() {\n    return R.layout.camera_connection_fragment;\n  }\n\n  @Override\n  protected Size getDesiredPreviewFrameSize() {\n    return DESIRED_PREVIEW_SIZE;\n  }\n\n  @Override\n  public void onPreviewSizeChosen(final Size size, final int rotation) {\n    final float textSizePx =\n        TypedValue.applyDimension(\n            TypedValue.COMPLEX_UNIT_DIP, TEXT_SIZE_DIP, getResources().getDisplayMetrics());\n    borderedText = new BorderedText(textSizePx);\n    borderedText.setTypeface(Typeface.MONOSPACE);\n\n    recreateClassifier(getModel(), getDevice(), getNumThreads());\n    if (classifier == null) {\n      LOGGER.e(&quot;No classifier on preview!&quot;);\n      return;\n    }\n\n    previewWidth = size.getWidth();\n    previewHeight = size.getHeight();\n\n    sensorOrientation = rotation - getScreenOrientation();\n    LOGGER.i(&quot;Camera orientation relative to screen canvas: %d&quot;, sensorOrientation);\n\n    LOGGER.i(&quot;Initializing at size %dx%d&quot;, previewWidth, previewHeight);\n    rgbFrameBitmap = Bitmap.createBitmap(previewWidth, previewHeight, Config.ARGB_8888);\n  }\n\n  @Override\n  protected void processImage() {\n    rgbFrameBitmap.setPixels(getRgbBytes(), 0, previewWidth, 0, 0, previewWidth, previewHeight);\n    final int cropSize = Math.min(previewWidth, previewHeight);\n\n    runInBackground(\n        new Runnable() {\n          @Override\n          public void run() {\n            if (classifier != null) {\n              final long startTime = SystemClock.uptimeMillis();\n              final List&lt;Classifier.Recognition&gt; results =\n                  classifier.recognizeImage(rgbFrameBitmap, sensorOrientation);\n              lastProcessingTimeMs = SystemClock.uptimeMillis() - startTime;\n              LOGGER.v(&quot;Detect: %s&quot;, results);\n\n              runOnUiThread(\n                  new Runnable() {\n                    @Override\n                    public void run() {\n                      showResultsInBottomSheet(results);\n                      showFrameInfo(previewWidth + &quot;x&quot; + previewHeight);\n                      showCropInfo(imageSizeX + &quot;x&quot; + imageSizeY);\n                      showCameraResolution(cropSize + &quot;x&quot; + cropSize);\n                      showRotationInfo(String.valueOf(sensorOrientation));\n                      showInference(lastProcessingTimeMs + &quot;ms&quot;);\n                    }\n                  });\n            }\n            readyForNextImage();\n          }\n        });\n  }\n\n  @Override\n  protected void onInferenceConfigurationChanged() {\n    if (rgbFrameBitmap == null) {\n      // Defer creation until we're getting camera frames.\n      return;\n    }\n    final Device device = getDevice();\n    final Model model = getModel();\n    final int numThreads = getNumThreads();\n    runInBackground(() -&gt; recreateClassifier(model, device, numThreads));\n  }\n\n  private void recreateClassifier(Model model, Device device, int numThreads) {\n    if (classifier != null) {\n      LOGGER.d(&quot;Closing classifier.&quot;);\n      classifier.close();\n      classifier = null;\n    }\n    if (device == Device.GPU &amp;&amp; model == Model.QUANTIZED) {\n      LOGGER.d(&quot;Not creating classifier: GPU doesn't support quantized models.&quot;);\n      runOnUiThread(\n          () -&gt; {\n            Toast.makeText(this, &quot;GPU does not yet supported quantized models.&quot;, Toast.LENGTH_LONG)\n                .show();\n          });\n      return;\n    }\n    try {\n      LOGGER.d(\n          &quot;Creating classifier (model=%s, device=%s, numThreads=%d)&quot;, model, device, numThreads);\n      classifier = Classifier.create(this, model, device, numThreads);\n    } catch (IOException e) {\n      LOGGER.e(e, &quot;Failed to create classifier.&quot;);\n    }\n\n    // Updates the input image size.\n    imageSizeX = classifier.getImageSizeX();\n    imageSizeY = classifier.getImageSizeY();\n  }\n}\n\n</code></pre>\n<p>I created a new activity named <strong>Main.java</strong> and I want this activity to render first and pass it <strong>ClassifierActivity.java</strong> as intent by click on button:</p>\n<pre><code>package org.tensorflow.lite.examples.classification;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.media.MediaPlayer;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.VideoView;\n\npublic class Main extends AppCompatActivity {\n\n    VideoView videoView;\n    private Button btn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        // hide title bar\n        getSupportActionBar().hide();\n\n        // set button on click to scan where open the camera\n        btn=(Button)findViewById(R.id.button);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                  openActivity();\n            }\n        });\n\n        videoView = findViewById(R.id.videoview);\n        Uri uri = Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+R.raw.turkey);\n        videoView.setVideoURI(uri);\n        videoView.start();\n\n        videoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n            @Override\n            public void onPrepared(MediaPlayer mp) {\n                mp.setLooping(true);\n\n            }\n        });\n    }\n\n    protected void openActivity(){\n          Intent i = new Intent(this, ClassifierActivity.class);\n                startActivity(i);\n        }\n\n    @Override\n    protected void onPostResume() {\n        videoView.resume();\n        super.onPostResume();\n    }\n\n    @Override\n    protected void onRestart() {\n        videoView.start();\n        super.onRestart();\n    }\n\n    @Override\n    protected void onPause() {\n        videoView.suspend();\n        super.onPause();\n    }\n\n    @Override\n    protected void onDestroy() {\n        videoView.stopPlayback();\n        super.onDestroy();\n    }\n\n}\n</code></pre>\n<p>This is old <strong>AndroidManifest.xml</strong> (app running successfully)</p>\n<pre><code>         &lt;activity\n                android:name=&quot;.ClassifierActivity&quot;\n                android:label=&quot;@string/activity_name_classification&quot;\n                android:screenOrientation=&quot;portrait&quot;\n                android:exported=&quot;true&quot; &gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>And I want to run <strong>Main</strong> first. So, I changed <em><strong>android:name=&quot;.ClassifierActivity&quot;</strong></em> from old <strong>AndroidManifest.xml</strong> to <em><strong>android:name=&quot;.Main&quot;</strong></em> (app is stop running):</p>\n<pre><code>         &lt;activity\n                android:name=&quot;.Main&quot;\n                android:label=&quot;@string/activity_name_classification&quot;\n                android:screenOrientation=&quot;portrait&quot;\n                android:exported=&quot;true&quot; &gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","mysql","aes"],"comments":[{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":2,"creation_date":1296747688,"post_id":4888176,"comment_id":5437817,"body_markdown":"Dupe? http://stackoverflow.com/questions/992019/java-256bit-aes-encryption","body":"Dupe? <a href=\"http://stackoverflow.com/questions/992019/java-256bit-aes-encryption\" title=\"java 256bit aes encryption\">stackoverflow.com/questions/992019/java-256bit-aes-encryptio&zwnj;&#8203;n</a>"}],"answers":[{"tags":[],"owner":{"account_id":79188,"reputation":1995,"user_id":224750,"accept_rate":33,"display_name":"infinito"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1296751967,"creation_date":1296751967,"answer_id":4889038,"question_id":4888176,"body_markdown":"Ok, I&#39;ve managed to get it working like this.\r\n\r\nMySQL Query:\r\n\r\n    SELECT HEX(aes_encrypt(&quot;password&quot;, &quot;0123456789012345&quot;));\r\n\r\nJava function:\r\n\r\n    public static String aes_encrypt(String password, String strKey) {\r\n    \ttry {\r\n    \t\tbyte[] keyBytes = Arrays.copyOf(strKey.getBytes(&quot;ASCII&quot;), 16);\r\n    \t\t\r\n    \t\tSecretKey key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    \t\tCipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n    \t\tcipher.init(Cipher.ENCRYPT_MODE, key);\r\n    \r\n    \t\tbyte[] cleartext = password.getBytes(&quot;UTF-8&quot;);\r\n    \t\tbyte[] ciphertextBytes = cipher.doFinal(cleartext);\r\n    \t\t\r\n    \t\treturn new String(Hex.encodeHex(ciphertextBytes));\r\n    \t\t\r\n    \t} catch (UnsupportedEncodingException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (NoSuchAlgorithmException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (NoSuchPaddingException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (InvalidKeyException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (IllegalBlockSizeException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (BadPaddingException e) {\r\n    \t\te.printStackTrace();\r\n    \t} return null;\r\n    }","title":"Java function for Encrypt/Decrypt like Mysql&#39;s AES_ENCRYPT and AES_DECRYPT","body":"<p>Ok, I've managed to get it working like this.</p>\n\n<p>MySQL Query:</p>\n\n<pre><code>SELECT HEX(aes_encrypt(\"password\", \"0123456789012345\"));\n</code></pre>\n\n<p>Java function:</p>\n\n<pre><code>public static String aes_encrypt(String password, String strKey) {\n    try {\n        byte[] keyBytes = Arrays.copyOf(strKey.getBytes(\"ASCII\"), 16);\n\n        SecretKey key = new SecretKeySpec(keyBytes, \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES\");\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n\n        byte[] cleartext = password.getBytes(\"UTF-8\");\n        byte[] ciphertextBytes = cipher.doFinal(cleartext);\n\n        return new String(Hex.encodeHex(ciphertextBytes));\n\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    } catch (NoSuchPaddingException e) {\n        e.printStackTrace();\n    } catch (InvalidKeyException e) {\n        e.printStackTrace();\n    } catch (IllegalBlockSizeException e) {\n        e.printStackTrace();\n    } catch (BadPaddingException e) {\n        e.printStackTrace();\n    } return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8655958,"reputation":43,"user_id":6480231,"display_name":"Bertil Tandayamo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1469033333,"creation_date":1469033333,"answer_id":38486357,"question_id":4888176,"body_markdown":"If you need the code to decrypt the algorithm is here JAVA\r\n\r\n\r\n     public static String aes_decrypt(String passwordhex, String strKey) throws Exception {\r\n        try {\r\n            byte[] keyBytes = Arrays.copyOf(strKey.getBytes(&quot;ASCII&quot;), 16);\r\n\r\n            SecretKey key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n            Cipher decipher = Cipher.getInstance(&quot;AES&quot;);\r\n\r\n            decipher.init(Cipher.DECRYPT_MODE, key);\r\n\r\n            char[] cleartext = passwordhex.toCharArray();\r\n\r\n            byte[] decodeHex = Hex.decodeHex(cleartext);\r\n\r\n            byte[] ciphertextBytes = decipher.doFinal(decodeHex);\r\n\r\n            return new String(ciphertextBytes);\r\n\r\n        } catch (Exception e) {\r\n            e.getMessage();\r\n        }\r\n        return null;\r\n    }\r\n\r\nIt received a standard hex format string but variable and returns the password. Test with those in main method\r\n\r\n        System.out.println(aes_encrypt(&quot;your_string_password&quot;, &quot;your_string_key&quot;));\r\n        System.out.println(aes_decrypt(&quot;standard_hex_format_string &quot;, &quot;your_string_key&quot;));\r\n\r\n\r\nfirstable test only with encrypt, then just with decrypt. \r\nBy the way you must install &#39;commons-codec-1.6.jar&#39; so you can use the Hex class\r\nhttp://commons.apache.org/proper/commons-codec/download_codec.cgi\r\n\r\nGreetings from Ecuador, Ibarra","title":"Java function for Encrypt/Decrypt like Mysql&#39;s AES_ENCRYPT and AES_DECRYPT","body":"<p>If you need the code to decrypt the algorithm is here JAVA</p>\n\n<pre><code> public static String aes_decrypt(String passwordhex, String strKey) throws Exception {\n    try {\n        byte[] keyBytes = Arrays.copyOf(strKey.getBytes(\"ASCII\"), 16);\n\n        SecretKey key = new SecretKeySpec(keyBytes, \"AES\");\n        Cipher decipher = Cipher.getInstance(\"AES\");\n\n        decipher.init(Cipher.DECRYPT_MODE, key);\n\n        char[] cleartext = passwordhex.toCharArray();\n\n        byte[] decodeHex = Hex.decodeHex(cleartext);\n\n        byte[] ciphertextBytes = decipher.doFinal(decodeHex);\n\n        return new String(ciphertextBytes);\n\n    } catch (Exception e) {\n        e.getMessage();\n    }\n    return null;\n}\n</code></pre>\n\n<p>It received a standard hex format string but variable and returns the password. Test with those in main method</p>\n\n<pre><code>    System.out.println(aes_encrypt(\"your_string_password\", \"your_string_key\"));\n    System.out.println(aes_decrypt(\"standard_hex_format_string \", \"your_string_key\"));\n</code></pre>\n\n<p>firstable test only with encrypt, then just with decrypt. \nBy the way you must install 'commons-codec-1.6.jar' so you can use the Hex class\n<a href=\"http://commons.apache.org/proper/commons-codec/download_codec.cgi\" rel=\"nofollow\">http://commons.apache.org/proper/commons-codec/download_codec.cgi</a></p>\n\n<p>Greetings from Ecuador, Ibarra</p>\n"},{"tags":[],"owner":{"account_id":18752560,"reputation":1,"user_id":13673331,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640539422,"creation_date":1640539422,"answer_id":70488450,"question_id":4888176,"body_markdown":"in my case i just code like this\r\n\r\n``` \r\n private static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    public static String bytesToHex(byte[] bytes) {\r\n    char[] hexChars = new char[bytes.length * 2];\r\n    for (int j = 0; j &lt; bytes.length; j++) {\r\n        int v = bytes[j] &amp; 0xFF;\r\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\r\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\r\n    }\r\n    return new String(hexChars);\r\n }\r\n```\r\n\r\nand than create method aes 128\r\n\r\n```\r\npublic static String aes_encrypt(String password, String strKey) {\r\n        try {\r\n            byte[] keyBytes = Arrays.copyOf(strKey.getBytes(&quot;ASCII&quot;), 16);\r\n\r\n            SecretKey key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n\r\n            byte[] cleartext = password.getBytes(&quot;UTF-8&quot;);\r\n            byte[] ciphertextBytes = cipher.doFinal(cleartext);\r\n\r\n            return new String(bytesToHex(ciphertextBytes));\r\n\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (NoSuchPaddingException e) {\r\n            e.printStackTrace();\r\n        } catch (InvalidKeyException e) {\r\n            e.printStackTrace();\r\n        } catch (IllegalBlockSizeException e) {\r\n            e.printStackTrace();\r\n        } catch (BadPaddingException e) {\r\n            e.printStackTrace();\r\n        } \r\n        return null;\r\n}\r\n```\r\nexample :\r\nmysql code\r\n```\r\nSELECT HEX(aes_encrypt(&quot;text&quot;, &quot;0123456889812345&quot;))\r\n```\r\n\r\njava code\r\n\r\n```\r\nSystem.out.println(aes_encrypt(&quot;text&quot;, &quot;0123456889812345&quot;));\r\n```","title":"Java function for Encrypt/Decrypt like Mysql&#39;s AES_ENCRYPT and AES_DECRYPT","body":"<p>in my case i just code like this</p>\n<pre><code> private static final char[] HEX_ARRAY = &quot;0123456789ABCDEF&quot;.toCharArray();\n    public static String bytesToHex(byte[] bytes) {\n    char[] hexChars = new char[bytes.length * 2];\n    for (int j = 0; j &lt; bytes.length; j++) {\n        int v = bytes[j] &amp; 0xFF;\n        hexChars[j * 2] = HEX_ARRAY[v &gt;&gt;&gt; 4];\n        hexChars[j * 2 + 1] = HEX_ARRAY[v &amp; 0x0F];\n    }\n    return new String(hexChars);\n }\n</code></pre>\n<p>and than create method aes 128</p>\n<pre><code>public static String aes_encrypt(String password, String strKey) {\n        try {\n            byte[] keyBytes = Arrays.copyOf(strKey.getBytes(&quot;ASCII&quot;), 16);\n\n            SecretKey key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n            Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, key);\n\n            byte[] cleartext = password.getBytes(&quot;UTF-8&quot;);\n            byte[] ciphertextBytes = cipher.doFinal(cleartext);\n\n            return new String(bytesToHex(ciphertextBytes));\n\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (NoSuchPaddingException e) {\n            e.printStackTrace();\n        } catch (InvalidKeyException e) {\n            e.printStackTrace();\n        } catch (IllegalBlockSizeException e) {\n            e.printStackTrace();\n        } catch (BadPaddingException e) {\n            e.printStackTrace();\n        } \n        return null;\n}\n</code></pre>\n<p>example :\nmysql code</p>\n<pre><code>SELECT HEX(aes_encrypt(&quot;text&quot;, &quot;0123456889812345&quot;))\n</code></pre>\n<p>java code</p>\n<pre><code>System.out.println(aes_encrypt(&quot;text&quot;, &quot;0123456889812345&quot;));\n</code></pre>\n"}],"owner":{"account_id":79188,"reputation":1995,"user_id":224750,"accept_rate":33,"display_name":"infinito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9589,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1640539422,"creation_date":1296747542,"question_id":4888176,"body_markdown":"Is there any way to get the same result as doing in MySQL \r\n\r\n    SELECT AES_ENCRYPT(&quot;text&quot;, &quot;key&quot;) \r\n\r\nusing a Java function? \r\n\r\nAnd if possible, what&#39;s the other function to simulate the AES_DECRYPT.\r\n","title":"Java function for Encrypt/Decrypt like Mysql&#39;s AES_ENCRYPT and AES_DECRYPT","body":"<p>Is there any way to get the same result as doing in MySQL </p>\n\n<pre><code>SELECT AES_ENCRYPT(\"text\", \"key\") \n</code></pre>\n\n<p>using a Java function? </p>\n\n<p>And if possible, what's the other function to simulate the AES_DECRYPT.</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640532228,"post_id":70487550,"comment_id":124600367,"body_markdown":"Is it possibly a simple mistake? `&quot;Alice, Bob&quot;.split(&quot;,&quot;)` splits to `{&quot;Alice&quot;, &quot; Bob&quot;}` (Bob with a blank in front (`&quot; &quot;`)? ;(","body":"Is it possibly a simple mistake? <code>&quot;Alice, Bob&quot;.split(&quot;,&quot;)</code> splits to <code>{&quot;Alice&quot;, &quot; Bob&quot;}</code> (Bob with a blank in front (<code>&quot; &quot;</code>)? ;("},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640532308,"post_id":70487550,"comment_id":124600387,"body_markdown":"If that is the (only) issue, You can: `split(&quot;, &quot;)` and/or `word.trim()`","body":"If that is the (only) issue, You can: <code>split(&quot;, &quot;)</code> and/or <code>word.trim()</code>"},{"owner":{"account_id":19537807,"reputation":11,"user_id":14296233,"display_name":"Benny"},"score":1,"creation_date":1640532797,"post_id":70487550,"comment_id":124600480,"body_markdown":"@xerx593 Well spotted! I&#39;ve trying to solve this issue for a while now, thanks! Added your comment to the question with your solution.","body":"@xerx593 Well spotted! I&#39;ve trying to solve this issue for a while now, thanks! Added your comment to the question with your solution."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640533125,"post_id":70487550,"comment_id":124600546,"body_markdown":"When you have a solution, rather post it as answer! ;) (But these types of q/a (here) are normally quickly closed due to &quot;simple mistake/typo/not reproducible) Anyways, very welcome &amp; merry X-Mas! :-)","body":"When you have a solution, rather post it as answer! ;) (But these types of q/a (here) are normally quickly closed due to &quot;simple mistake/typo/not reproducible) Anyways, very welcome &amp; merry X-Mas! :-)"},{"owner":{"account_id":19537807,"reputation":11,"user_id":14296233,"display_name":"Benny"},"score":1,"creation_date":1640537316,"post_id":70487550,"comment_id":124601355,"body_markdown":"@xerx593 Have done that now. Merry Christmas to you too :)","body":"@xerx593 Have done that now. Merry Christmas to you too :)"}],"answers":[{"tags":[],"owner":{"account_id":19537807,"reputation":11,"user_id":14296233,"display_name":"Benny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640537223,"creation_date":1640537223,"answer_id":70488172,"question_id":70487550,"body_markdown":"Was a spelling error.\r\n\r\n@xerx593 spotted the mistake, this sovled it:\r\n\r\n    String[] words = studentName.split(&quot;, &quot;);","title":"How to check for corresponding words in a string to a CSV file?","body":"<p>Was a spelling error.</p>\n<p>@xerx593 spotted the mistake, this sovled it:</p>\n<pre><code>String[] words = studentName.split(&quot;, &quot;);\n</code></pre>\n"}],"owner":{"account_id":19537807,"reputation":11,"user_id":14296233,"display_name":"Benny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1640538265,"accepted_answer_id":70488172,"answer_count":1,"score":0,"last_activity_date":1640537223,"creation_date":1640531698,"question_id":70487550,"body_markdown":"    CSVParser parser = new CSVParserBuilder().withSeparator(&#39;;&#39;).build();\r\n    CSVReader csvReader = new CSVReaderBuilder(filereader).withCSVParser(parser).withSkipLines(1).build();\r\n    List&lt;String[]&gt; allData = csvReader.readAll();\r\n    \r\n    String studentName = &quot;Alice, Bob&quot;;\r\n    String[] words = studentName.split(&quot;,&quot;);\r\n    \r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    \r\n    for(String[]row:allData){ // goes through the csv file\r\n            for(String word:words){ // goes through String names\r\n            if(row[3].contains(word)){\r\n            names.add(row[4]);\r\n            }\r\n        }\r\n    }\r\n\r\nThe issue is that the for-loop only goes through the CSV file to check for &quot;Alice&quot;, and doesn&#39;t check &quot;Bob&quot;, and therefore Bob does not get added to the list, how would I solve that?\r\n\r\nrow[3] = names\r\n\r\nrow[4] = school\r\n\r\n@xerx593 spotted the mistake, this sovled it:\r\n\r\n    String[] words = studentName.split(&quot;, &quot;);","title":"How to check for corresponding words in a string to a CSV file?","body":"<pre><code>CSVParser parser = new CSVParserBuilder().withSeparator(';').build();\nCSVReader csvReader = new CSVReaderBuilder(filereader).withCSVParser(parser).withSkipLines(1).build();\nList&lt;String[]&gt; allData = csvReader.readAll();\n\nString studentName = &quot;Alice, Bob&quot;;\nString[] words = studentName.split(&quot;,&quot;);\n\nList&lt;String&gt; names = new ArrayList&lt;&gt;();\n\nfor(String[]row:allData){ // goes through the csv file\n        for(String word:words){ // goes through String names\n        if(row[3].contains(word)){\n        names.add(row[4]);\n        }\n    }\n}\n</code></pre>\n<p>The issue is that the for-loop only goes through the CSV file to check for &quot;Alice&quot;, and doesn't check &quot;Bob&quot;, and therefore Bob does not get added to the list, how would I solve that?</p>\n<p>row[3] = names</p>\n<p>row[4] = school</p>\n<p>@xerx593 spotted the mistake, this sovled it:</p>\n<pre><code>String[] words = studentName.split(&quot;, &quot;);\n</code></pre>\n"},{"tags":["java","concurrency","completable-future"],"comments":[{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1640541492,"post_id":70488164,"comment_id":124602264,"body_markdown":"Stopping threads in Java is kind of complicated if I recall correctly, for example look  [here](https://www.baeldung.com/java-thread-stop). I would create a shared object containing a single boolean flag (```exceptionOccurred = false```)  and pass this object to all long-running calculation methods as a parameter. As long as you are about to throw the exception, set the flag to ```true```. All other threads will see the change immediately. In your calculation loops poll the flag on each iteration and break the loop if the flag is true. In this way you are not dependent on the framework.","body":"Stopping threads in Java is kind of complicated if I recall correctly, for example look  <a href=\"https://www.baeldung.com/java-thread-stop\" rel=\"nofollow noreferrer\">here</a>. I would create a shared object containing a single boolean flag (<code>exceptionOccurred = false</code>)  and pass this object to all long-running calculation methods as a parameter. As long as you are about to throw the exception, set the flag to <code>true</code>. All other threads will see the change immediately. In your calculation loops poll the flag on each iteration and break the loop if the flag is true. In this way you are not dependent on the framework."},{"owner":{"account_id":229085,"reputation":478,"user_id":7339339,"display_name":"white-surf-style-five"},"score":2,"creation_date":1640545186,"post_id":70488164,"comment_id":124602982,"body_markdown":"I think what you want is task cancellation, not &quot;stoppping threads&quot;, but CompletableFuture has its own policies regarding cancellation that makes it ill suited for this. It depends on what really you will be doing in the calculation tasks, if they can be interrupted, I think it&#39;s cleaner to use a normal Future returned by the submit method of an ExecutorService.","body":"I think what you want is task cancellation, not &quot;stoppping threads&quot;, but CompletableFuture has its own policies regarding cancellation that makes it ill suited for this. It depends on what really you will be doing in the calculation tasks, if they can be interrupted, I think it&#39;s cleaner to use a normal Future returned by the submit method of an ExecutorService."},{"owner":{"account_id":229085,"reputation":478,"user_id":7339339,"display_name":"white-surf-style-five"},"score":0,"creation_date":1640545345,"post_id":70488164,"comment_id":124603015,"body_markdown":"If the calculation tasks cannot be interrupted (i.e. they are completely CPU bound) there&#39;s no way around it to make them cooperate by sharing state (the flag mentioned by @roccobaroccoSC). Just make sure to use a volatile boolean or an AtomicBoolean or better an AtomicReference (in which you can put the Exception of the first throwing task... so that you will know later who threw first).","body":"If the calculation tasks cannot be interrupted (i.e. they are completely CPU bound) there&#39;s no way around it to make them cooperate by sharing state (the flag mentioned by @roccobaroccoSC). Just make sure to use a volatile boolean or an AtomicBoolean or better an AtomicReference (in which you can put the Exception of the first throwing task... so that you will know later who threw first)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1640560938,"post_id":70488164,"comment_id":124605749,"body_markdown":"@roccobaroccoSC That shared flag would need to be [`AtomicBoolean`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html), not `boolean`/`Boolean`.","body":"@roccobaroccoSC That shared flag would need to be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a>, not <code>boolean</code>/<code>Boolean</code>."},{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1640644984,"post_id":70488164,"comment_id":124624775,"body_markdown":"Yes, thanks for clarifying. I believe the posted link explains exactly how to do it.","body":"Yes, thanks for clarifying. I believe the posted link explains exactly how to do it."},{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1640645338,"post_id":70488164,"comment_id":124624857,"body_markdown":"@BasilBourque: However, I believe in OP&#39;s case having an atomic boolean is not necessary because the value is supposed to be changed only once in one direction. Even if a second thread overwrites the value, it does not matter. Also, skipping one or two iterations before ending the loops is seemingly a non-issue. I would use simple booleans unless there is a good reason to require atomic operation on the flag. Please do let me know if I got something wrong.","body":"@BasilBourque: However, I believe in OP&#39;s case having an atomic boolean is not necessary because the value is supposed to be changed only once in one direction. Even if a second thread overwrites the value, it does not matter. Also, skipping one or two iterations before ending the loops is seemingly a non-issue. I would use simple booleans unless there is a good reason to require atomic operation on the flag. Please do let me know if I got something wrong."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":1,"creation_date":1640694457,"post_id":70488164,"comment_id":124634679,"body_markdown":"@roccobaroccoSC If you don&#39;t mark the boolean with &quot;volatile&quot;, the compiler might optimize it out.","body":"@roccobaroccoSC If you don&#39;t mark the boolean with &quot;volatile&quot;, the compiler might optimize it out."},{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1640768135,"post_id":70488164,"comment_id":124652744,"body_markdown":"Good point! Thanks.","body":"Good point! Thanks."}],"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640537169,"creation_date":1640537169,"question_id":70488164,"body_markdown":"I have a Spring Boot service which is supposed to do independent calculations (taxes and invoices). Requirement is to stop all running threads if any of the threads throws RuntimeException.\r\n\r\nSo now I have a service:\r\n\r\n        @Service\r\n        @AllArgsConstructor\r\n        public class MyFutureService implements FutureService {\r\n        \r\n            private final Executor executor;\r\n            \r\n            @Override\r\n            public CompletableFuture&lt;Boolean&gt; callculateInvoices(Object params) {\r\n                  return CompletableFuture.supplyAsync(() -&gt; {\r\n                    boolean isOk = true;\r\n                    sleep(5000);\r\n                    Object intermediateResult = getInfoData(params);\r\n                    if (intermediateResult == null) {\r\n                        throw new RuntimeException(&quot;invoices error&quot;);\r\n                    }\r\n                    isOk = useIntermediateResult(intermediateResult, params);\r\n                    return isoK;\r\n                }, executor);\r\n            }\r\n        \r\n            @Override\r\n            public CompletableFuture&lt;Boolean&gt; callculateTaxes(Object params) {\r\n              return CompletableFuture.supplyAsync(() -&gt; {\r\n                    boolean isOk = true;\r\n                    sleep(10000);\r\n                    System.out.println(&quot;This shouldn&#39;t be printed!!&quot;); //This actually does get printed.\r\n                    return isoK;\r\n                }, executor);\r\n            }\r\n       }\r\n\r\n       private void sleep(long sleep){\r\n            try {\r\n                Thread.sleep(sleep);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n        private Object getInfoData(Object params){\r\n            return null;\r\n        }\r\n        \r\n        private boolean useIntermediateResult(Object x, Object y){\r\n                return new Random().nextBoolean();\r\n            }\r\n        }\r\n\r\nIn main service code:\r\n\r\n    @GetMapping(&quot;/Bundle4&quot;)\r\n    public Object test() throws ExecutionException, InterruptedException {\r\n       CompletableFuture&lt;Boolean&gt; invoicesFuture =\r\n                extensionValidatorService.callculateInvoices(someParams);\r\n\r\n\r\n        CompletableFuture&lt;Boolean&gt; taxesFuture =\r\n                extensionValidatorService.callculateTaxes(someParams);\r\n\r\n        CompletableFuture&lt;Void&gt; combinedFutures =\r\n                CompletableFuture.allOf(invoicesFuture, taxesFuture);\r\n\r\n        combinedFutures.get();\r\n        \r\n\r\n        if (invoicesFuture .get() &amp;&amp; taxesFuture.get()){\r\n          //saveToDb(someParams);\r\n        }\r\n        return &quot;Saved to DB&quot;;\r\n    }\r\n\r\nAfter line `combindeFutures.get()`, I need some kind of &quot;listener&quot; or something which will be able to get to the first RuntimeException that was throw (and rethrow it so the **ControllerAdvice** can pick it up) in any of the threads and STOP all others which are not done. ","title":"Stop all CompletableFutures once custom Runtime exception is throw in any of the threads?","body":"<p>I have a Spring Boot service which is supposed to do independent calculations (taxes and invoices). Requirement is to stop all running threads if any of the threads throws RuntimeException.</p>\n<p>So now I have a service:</p>\n<pre><code>    @Service\n    @AllArgsConstructor\n    public class MyFutureService implements FutureService {\n    \n        private final Executor executor;\n        \n        @Override\n        public CompletableFuture&lt;Boolean&gt; callculateInvoices(Object params) {\n              return CompletableFuture.supplyAsync(() -&gt; {\n                boolean isOk = true;\n                sleep(5000);\n                Object intermediateResult = getInfoData(params);\n                if (intermediateResult == null) {\n                    throw new RuntimeException(&quot;invoices error&quot;);\n                }\n                isOk = useIntermediateResult(intermediateResult, params);\n                return isoK;\n            }, executor);\n        }\n    \n        @Override\n        public CompletableFuture&lt;Boolean&gt; callculateTaxes(Object params) {\n          return CompletableFuture.supplyAsync(() -&gt; {\n                boolean isOk = true;\n                sleep(10000);\n                System.out.println(&quot;This shouldn't be printed!!&quot;); //This actually does get printed.\n                return isoK;\n            }, executor);\n        }\n   }\n\n   private void sleep(long sleep){\n        try {\n            Thread.sleep(sleep);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    private Object getInfoData(Object params){\n        return null;\n    }\n    \n    private boolean useIntermediateResult(Object x, Object y){\n            return new Random().nextBoolean();\n        }\n    }\n</code></pre>\n<p>In main service code:</p>\n<pre><code>@GetMapping(&quot;/Bundle4&quot;)\npublic Object test() throws ExecutionException, InterruptedException {\n   CompletableFuture&lt;Boolean&gt; invoicesFuture =\n            extensionValidatorService.callculateInvoices(someParams);\n\n\n    CompletableFuture&lt;Boolean&gt; taxesFuture =\n            extensionValidatorService.callculateTaxes(someParams);\n\n    CompletableFuture&lt;Void&gt; combinedFutures =\n            CompletableFuture.allOf(invoicesFuture, taxesFuture);\n\n    combinedFutures.get();\n    \n\n    if (invoicesFuture .get() &amp;&amp; taxesFuture.get()){\n      //saveToDb(someParams);\n    }\n    return &quot;Saved to DB&quot;;\n}\n</code></pre>\n<p>After line <code>combindeFutures.get()</code>, I need some kind of &quot;listener&quot; or something which will be able to get to the first RuntimeException that was throw (and rethrow it so the <strong>ControllerAdvice</strong> can pick it up) in any of the threads and STOP all others which are not done.</p>\n"},{"tags":["java","sql"],"answers":[{"tags":[],"owner":{"account_id":113467,"reputation":470,"user_id":298824,"accept_rate":23,"display_name":"Priit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390324968,"creation_date":1390324968,"answer_id":21264969,"question_id":21264610,"body_markdown":"Take a look at these:\r\n\r\nhttp://www.querydsl.com/\r\n\r\nhttps://github.com/ivanceras/fluent-sql\r\n\r\nAlso Hibernate Criteria API has fluent interface.\r\nTo my experience if the query is anything more complicated than select &lt;some columns&gt; from sometable then these fluent api-s make sql very unreadable.","title":"SQL Builders in Java","body":"<p>Take a look at these:</p>\n\n<p><a href=\"http://www.querydsl.com/\" rel=\"nofollow\">http://www.querydsl.com/</a></p>\n\n<p><a href=\"https://github.com/ivanceras/fluent-sql\" rel=\"nofollow\">https://github.com/ivanceras/fluent-sql</a></p>\n\n<p>Also Hibernate Criteria API has fluent interface.\nTo my experience if the query is anything more complicated than select  from sometable then these fluent api-s make sql very unreadable.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1640537101,"creation_date":1542895794,"answer_id":53432797,"question_id":21264610,"body_markdown":"&gt; I&#39;ve looked into JOOQ and my impression is that it is too convoluted for my taste\r\n\r\nWhat does that even mean? :)\r\n\r\n&gt; I don&#39;t want to set up some xml or xsd file for my schemas\r\n\r\nYou don&#39;t have to. You can use jOOQ without the code generator as documented here:\r\nhttps://www.jooq.org/doc/latest/manual/getting-started/use-cases/jooq-as-a-standalone-sql-builder\r\n\r\nHowever, you will be missing out on tons of useful features if you don&#39;t use the code generator. How&#39;s the saying? [Hours of writing code manually saves seconds of setting up the code generator.][1] For even more convincing arguments about [why you should use the code generator, read this article here][2].\r\n\r\n&gt; One additional thing that I really don&#39;t like about several Java-based SQL builder is the chaining syntax: i.e. select().from().where().etc().etc().etc()\r\n\r\nWhy not? It really helps. But then again, you don&#39;t have to. jOOQ has 2 APIs. The DSL API (which you don&#39;t like) and the model API. See this page here:\r\nhttps://www.jooq.org/doc/latest/manual/sql-building/sql-statements/dsl-and-non-dsl\r\n\r\n\r\n  [1]: https://twitter.com/lukaseder/status/1065607719665709056\r\n  [2]: https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/","title":"SQL Builders in Java","body":"<blockquote>\n<p>I've looked into JOOQ and my impression is that it is too convoluted for my taste</p>\n</blockquote>\n<p>What does that even mean? :)</p>\n<blockquote>\n<p>I don't want to set up some xml or xsd file for my schemas</p>\n</blockquote>\n<p>You don't have to. You can use jOOQ without the code generator as documented here:\n<a href=\"https://www.jooq.org/doc/latest/manual/getting-started/use-cases/jooq-as-a-standalone-sql-builder\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/getting-started/use-cases/jooq-as-a-standalone-sql-builder</a></p>\n<p>However, you will be missing out on tons of useful features if you don't use the code generator. How's the saying? <a href=\"https://twitter.com/lukaseder/status/1065607719665709056\" rel=\"nofollow noreferrer\">Hours of writing code manually saves seconds of setting up the code generator.</a> For even more convincing arguments about <a href=\"https://blog.jooq.org/why-you-should-use-jooq-with-code-generation/\" rel=\"nofollow noreferrer\">why you should use the code generator, read this article here</a>.</p>\n<blockquote>\n<p>One additional thing that I really don't like about several Java-based SQL builder is the chaining syntax: i.e. select().from().where().etc().etc().etc()</p>\n</blockquote>\n<p>Why not? It really helps. But then again, you don't have to. jOOQ has 2 APIs. The DSL API (which you don't like) and the model API. See this page here:\n<a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/dsl-and-non-dsl\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/dsl-and-non-dsl</a></p>\n"}],"owner":{"account_id":2059113,"reputation":858,"user_id":1836155,"accept_rate":59,"display_name":"user1836155"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1382,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640537101,"creation_date":1390324011,"question_id":21264610,"body_markdown":"I am currently shopping around for SQL builders in Java. My basic desire is something like this:\r\n\r\n    SelectBuilder sb = new SelectBuilder(source, alias); // Source can be subquery\r\n    sb.select(column1, alias1);\r\n    sb.select(column2, alias2);\r\n    sb.joinWith(joinObj, joinAlias);\r\n    sb.where(column1, operator, value)\r\n    sb.orderBy(column1, DESC)\r\n    // etc etc etc\r\n\r\n... and that it does prepared statements\r\n\r\nI&#39;ve looked into JOOQ and my impression is that it is too convoluted for my taste. I don&#39;t want to set up some xml or xsd file for my schemas. The most I&#39;d allow is to write the beans. I&#39;ve looked at Squiggle but it only supports SELECT and not the rest. MyBatis is not good enough because it does not fully abstract out the SQL syntax. I&#39;ve also tried several more recommended by Stack Overflow posts like [this][1] and [that][2].\r\n\r\nOne additional thing that I really don&#39;t like about several Java-based SQL builder is the chaining syntax: i.e. select().from().where().etc().etc().etc()\r\n\r\nAnyway, do you guys know of other SQL Builders that may meet my requirements? I&#39;ve searched two days on web and couldn&#39;t find anything yet. Insight would be appreciated!!!\r\n\r\n  [1]: https://stackoverflow.com/questions/370818/cleanest-way-to-build-an-sql-string-in-java\r\n  [2]: https://stackoverflow.com/questions/623607/dynamic-sql-java-library","title":"SQL Builders in Java","body":"<p>I am currently shopping around for SQL builders in Java. My basic desire is something like this:</p>\n\n<pre><code>SelectBuilder sb = new SelectBuilder(source, alias); // Source can be subquery\nsb.select(column1, alias1);\nsb.select(column2, alias2);\nsb.joinWith(joinObj, joinAlias);\nsb.where(column1, operator, value)\nsb.orderBy(column1, DESC)\n// etc etc etc\n</code></pre>\n\n<p>... and that it does prepared statements</p>\n\n<p>I've looked into JOOQ and my impression is that it is too convoluted for my taste. I don't want to set up some xml or xsd file for my schemas. The most I'd allow is to write the beans. I've looked at Squiggle but it only supports SELECT and not the rest. MyBatis is not good enough because it does not fully abstract out the SQL syntax. I've also tried several more recommended by Stack Overflow posts like <a href=\"https://stackoverflow.com/questions/370818/cleanest-way-to-build-an-sql-string-in-java\">this</a> and <a href=\"https://stackoverflow.com/questions/623607/dynamic-sql-java-library\">that</a>.</p>\n\n<p>One additional thing that I really don't like about several Java-based SQL builder is the chaining syntax: i.e. select().from().where().etc().etc().etc()</p>\n\n<p>Anyway, do you guys know of other SQL Builders that may meet my requirements? I've searched two days on web and couldn't find anything yet. Insight would be appreciated!!!</p>\n"},{"tags":["java","maven","log4j2"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1640455109,"post_id":70481784,"comment_id":124590350,"body_markdown":"When you place files under `src/main/resources`, then please run with maven/gradle or ensure (yourself) it is available &quot;on classpath&quot;/at expected location...","body":"When you place files under <code>src&#47;main&#47;resources</code>, then please run with maven/gradle or ensure (yourself) it is available &quot;on classpath&quot;/at expected location..."},{"owner":{"account_id":4748947,"reputation":1058,"user_id":3839465,"accept_rate":71,"display_name":"coder.in.me"},"score":0,"creation_date":1640455313,"post_id":70481784,"comment_id":124590387,"body_markdown":"Not sure how to check classpath but in folder `target/classes` I see the yml config file along with the `com` folder. It suggests that yml file is recognized by maven but nothing is happening at runtime.","body":"Not sure how to check classpath but in folder <code>target&#47;classes</code> I see the yml config file along with the <code>com</code> folder. It suggests that yml file is recognized by maven but nothing is happening at runtime."},{"owner":{"account_id":4748947,"reputation":1058,"user_id":3839465,"accept_rate":71,"display_name":"coder.in.me"},"score":0,"creation_date":1640455636,"post_id":70481784,"comment_id":124590446,"body_markdown":"I added CLASSPATH env variable and set it to the absolute path of resources folder (not ideal but just checking if it works). It didn&#39;t work.","body":"I added CLASSPATH env variable and set it to the absolute path of resources folder (not ideal but just checking if it works). It didn&#39;t work."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1640458032,"post_id":70481784,"comment_id":124590842,"body_markdown":"ok, sounds good! Did you add &quot;additional runtime&quot; dependencies?? (Jackson databind and YAML data format, &quot;Additional runtime dependencies are required for using YAML configuration files.&quot; source:  https://logging.apache.org/log4j/2.x/manual/configuration.html#Configuration_with_YAML)","body":"ok, sounds good! Did you add &quot;additional runtime&quot; dependencies?? (Jackson databind and YAML data format, &quot;Additional runtime dependencies are required for using YAML configuration files.&quot; source:  <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Configuration_with_YAML\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>)"},{"owner":{"account_id":4748947,"reputation":1058,"user_id":3839465,"accept_rate":71,"display_name":"coder.in.me"},"score":1,"creation_date":1640485793,"post_id":70481784,"comment_id":124594163,"body_markdown":"@werx593 you&#39;re a life saver! I didn&#39;t realize there was an extra dependency for YAML. It works! Thank you.","body":"@werx593 you&#39;re a life saver! I didn&#39;t realize there was an extra dependency for YAML. It works! Thank you."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640536375,"creation_date":1640531934,"answer_id":70487573,"question_id":70481784,"body_markdown":"&quot;Fine print hero&quot; struck again! :-)\r\nFrom [log4j2 Configuration reference](https://logging.apache.org/log4j/2.x/manual/configuration.html#Configuration_with_YAML):\r\n&gt; **Additional runtime dependencies are required for using YAML configuration files**.\r\n\r\nThese are (as of today):\r\n\r\n&lt;!-- language:lang-xml--&gt;\r\n    &lt;jackson.version&gt;2.14&lt;/jackson.version&gt; &lt;!-- 2021/12/26(, merry x-mas!) --&gt;\r\n    &lt;!-- ... --&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt; &lt;!-- ! --&gt;\r\n    &lt;!-- ... --&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;!-- As: --&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n    &lt;!-- ... --&gt;\r\n\r\n\r\n- https://github.com/FasterXML/jackson-core/\r\n- https://github.com/FasterXML/jackson-databind/\r\n- https://github.com/FasterXML/jackson-dataformats-text (since 2.9)\r\n- https://github.com/FasterXML/jackson-dataformat-yaml (before 2.9)","title":"Unable to configure log4j2 for logging in Maven project on VS Code","body":"<p>&quot;Fine print hero&quot; struck again! :-)\nFrom <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Configuration_with_YAML\" rel=\"nofollow noreferrer\">log4j2 Configuration reference</a>:</p>\n<blockquote>\n<p><strong>Additional runtime dependencies are required for using YAML configuration files</strong>.</p>\n</blockquote>\n<p>These are (as of today):</p>\n\n<pre><code>&lt;jackson.version&gt;2.14&lt;/jackson.version&gt; &lt;!-- 2021/12/26(, merry x-mas!) --&gt;\n&lt;!-- ... --&gt;\n&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n&lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;scope&gt;runtime&lt;/scope&gt; &lt;!-- ! --&gt;\n&lt;!-- ... --&gt;\n&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n&lt;!-- As: --&gt;\n&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n&lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<ul>\n<li><a href=\"https://github.com/FasterXML/jackson-core/\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-core/</a></li>\n<li><a href=\"https://github.com/FasterXML/jackson-databind/\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/</a></li>\n<li><a href=\"https://github.com/FasterXML/jackson-dataformats-text\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformats-text</a> (since 2.9)</li>\n<li><a href=\"https://github.com/FasterXML/jackson-dataformat-yaml\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformat-yaml</a> (before 2.9)</li>\n</ul>\n"}],"owner":{"account_id":4748947,"reputation":1058,"user_id":3839465,"accept_rate":71,"display_name":"coder.in.me"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70487573,"answer_count":1,"score":1,"last_activity_date":1640536375,"creation_date":1640454640,"question_id":70481784,"body_markdown":"I have added the dependencies in pom.xml: log4j-api (2.17.0) and log4j-core (2.17.0).\r\n\r\nJava version on Windows 10 is &quot;17.0.1&quot; 2021-10-19 LTS\r\n\r\nI have put the file log4j2.yml is src/main/resources folder. But it appears that this file is never read. I am able to log to console but it&#39;s not formatted based on what I have configured in log file. Likewise, I can&#39;t log to file since config file is never read.\r\n\r\nI am using Maven on VS Code. App itself is rather simple:\r\n```\r\npackage com.example;\r\n\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.apache.logging.log4j.LogManager;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    private static final Logger logger = LogManager.getLogger(App.class);\r\n\r\n    public static void main( String[] args )\r\n    {\r\n        logger.error(&quot;Hello Logger!&quot;);\r\n        System.out.println( &quot;Hello World!&quot; );\r\n    }\r\n}\r\n```\r\n\r\nActual output on execution is as follows:\r\n```\r\nC:\\Users\\userme\\Documents\\workspace\\java-sample&gt; c: &amp;&amp; cd c:\\Users\\userme\\Documents\\workspace\\java-sample &amp;&amp; cmd /C &quot;&quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe&quot; -XX:+ShowCodeDetailsInExceptionMessages @C:\\Users\\USERME\\AppData\\Local\\Temp\\cp_a2ngr445g97bq5yjwdq9bbcx.argfile com.example.App &quot;        \r\n23:13:36.471 [main] ERROR com.example.App - Hello Logger!\r\nHello World!\r\n```\r\n\r\nYAML file:\r\n```\r\nConfiguration:\r\n  name: Default\r\n  Properties:\r\n    Property:\r\n      name: log-path\r\n      value: &quot;logs&quot;\r\n  Appenders:\r\n    Console:\r\n      name: Console_Appender\r\n      target: SYSTEM_OUT\r\n      PatternLayout:\r\n        pattern: &quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot;\r\n    File:\r\n      name: File_Appender\r\n      fileName: ${log-path}/logfile.log\r\n      PatternLayout:\r\n        pattern: &quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot;\r\n  Loggers:\r\n      Root:\r\n        level: debug\r\n        AppenderRef:\r\n          - ref: Console_Appender\r\n      Logger:\r\n        - name: com.example.App\r\n          level: debug\r\n          AppenderRef:\r\n            - ref: File_Appender\r\n              level: debug\r\n```","title":"Unable to configure log4j2 for logging in Maven project on VS Code","body":"<p>I have added the dependencies in pom.xml: log4j-api (2.17.0) and log4j-core (2.17.0).</p>\n<p>Java version on Windows 10 is &quot;17.0.1&quot; 2021-10-19 LTS</p>\n<p>I have put the file log4j2.yml is src/main/resources folder. But it appears that this file is never read. I am able to log to console but it's not formatted based on what I have configured in log file. Likewise, I can't log to file since config file is never read.</p>\n<p>I am using Maven on VS Code. App itself is rather simple:</p>\n<pre><code>package com.example;\n\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.LogManager;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    private static final Logger logger = LogManager.getLogger(App.class);\n\n    public static void main( String[] args )\n    {\n        logger.error(&quot;Hello Logger!&quot;);\n        System.out.println( &quot;Hello World!&quot; );\n    }\n}\n</code></pre>\n<p>Actual output on execution is as follows:</p>\n<pre><code>C:\\Users\\userme\\Documents\\workspace\\java-sample&gt; c: &amp;&amp; cd c:\\Users\\userme\\Documents\\workspace\\java-sample &amp;&amp; cmd /C &quot;&quot;C:\\Program Files\\Java\\jdk-17.0.1\\bin\\java.exe&quot; -XX:+ShowCodeDetailsInExceptionMessages @C:\\Users\\USERME\\AppData\\Local\\Temp\\cp_a2ngr445g97bq5yjwdq9bbcx.argfile com.example.App &quot;        \n23:13:36.471 [main] ERROR com.example.App - Hello Logger!\nHello World!\n</code></pre>\n<p>YAML file:</p>\n<pre><code>Configuration:\n  name: Default\n  Properties:\n    Property:\n      name: log-path\n      value: &quot;logs&quot;\n  Appenders:\n    Console:\n      name: Console_Appender\n      target: SYSTEM_OUT\n      PatternLayout:\n        pattern: &quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot;\n    File:\n      name: File_Appender\n      fileName: ${log-path}/logfile.log\n      PatternLayout:\n        pattern: &quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot;\n  Loggers:\n      Root:\n        level: debug\n        AppenderRef:\n          - ref: Console_Appender\n      Logger:\n        - name: com.example.App\n          level: debug\n          AppenderRef:\n            - ref: File_Appender\n              level: debug\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1640458018,"post_id":70481953,"comment_id":124590838,"body_markdown":"1) The Firebase Realtime Database and Cloud Firestore are two separate databases. Please only mark your question with the relevant tag, not with both. 2) Never ignore `onCanceled`. At its minimum it should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }` 3) &quot;this isn&#39;t working&quot; is really hard to help with, so please provide more debug information. For example, if you put a breakpoint on the first line in `onDataChange` and run in a debugger, does it reach that breakpoint? What does the `snapshot` look like? Is that what you expected?","body":"1) The Firebase Realtime Database and Cloud Firestore are two separate databases. Please only mark your question with the relevant tag, not with both. 2) Never ignore <code>onCanceled</code>. At its minimum it should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code> 3) &quot;this isn&#39;t working&quot; is really hard to help with, so please provide more debug information. For example, if you put a breakpoint on the first line in <code>onDataChange</code> and run in a debugger, does it reach that breakpoint? What does the <code>snapshot</code> look like? Is that what you expected?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1640511698,"post_id":70481953,"comment_id":124596681,"body_markdown":"You might also take into consideration reading the following article, [How to optimize Firebase Realtime Database calls to improve performance?](https://medium.com/firebase-tips-tricks/how-to-optimize-firebase-realtime-database-calls-to-improve-performance-cc63dad374d5).","body":"You might also take into consideration reading the following article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-optimize-firebase-realtime-database-calls-to-improve-performance-cc63dad374d5\" rel=\"nofollow noreferrer\">How to optimize Firebase Realtime Database calls to improve performance?</a>."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640529134,"creation_date":1640458397,"answer_id":70482092,"question_id":70481953,"body_markdown":"You&#39;re loading the entire `user` node, which contains information for multiple users, so your `snapshot` contains the data for all of those users.\r\n\r\nTo handle those multiple users, you&#39;ll have to loop over `snapshot.getChildren()` in `onDataChange`:\r\n```\r\nFirebaseDatabase.getInstance().getReference(&quot;user&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n        for (DataSnapshot child: snapshot.getChildren()) { // &#128072; loop over child snapshots\r\n            User user = child.getValue(User.class);\r\n            Log.i(&quot;DB&quot;, user.toString());\r\n        }\r\n    }\r\n    @Override\r\n    public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; Never ignore errors\r\n    }\r\n});\r\n```\r\n\r\n---\r\n\r\nIf you know the UID of the user whose image you want to display, you can load just that user with:\r\n```\r\n                                                        // &#128071; user to load\r\nFirebaseDatabase.getInstance().getReference(&quot;user&quot;).child(uid).addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n        User user = child.getValue(User.class);\r\n        Log.i(&quot;DB&quot;, user.toString());\r\n\r\n    }\r\n    @Override\r\n    public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; Never ignore errors\r\n    }\r\n});\r\n```\r\n\r\nYou no longer need to loop over the `getChildren()` as now the code only loads a single user.","title":"How do I load an image from FirestoreDatabase into ImageView?","body":"<p>You're loading the entire <code>user</code> node, which contains information for multiple users, so your <code>snapshot</code> contains the data for all of those users.</p>\n<p>To handle those multiple users, you'll have to loop over <code>snapshot.getChildren()</code> in <code>onDataChange</code>:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference(&quot;user&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n        for (DataSnapshot child: snapshot.getChildren()) { //  loop over child snapshots\n            User user = child.getValue(User.class);\n            Log.i(&quot;DB&quot;, user.toString());\n        }\n    }\n    @Override\n    public void onCancelled(@NonNull @NotNull DatabaseError error) {\n        throw error.toException(); //  Never ignore errors\n    }\n});\n</code></pre>\n<hr />\n<p>If you know the UID of the user whose image you want to display, you can load just that user with:</p>\n<pre><code>                                                        //  user to load\nFirebaseDatabase.getInstance().getReference(&quot;user&quot;).child(uid).addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n        User user = child.getValue(User.class);\n        Log.i(&quot;DB&quot;, user.toString());\n\n    }\n    @Override\n    public void onCancelled(@NonNull @NotNull DatabaseError error) {\n        throw error.toException(); //  Never ignore errors\n    }\n});\n</code></pre>\n<p>You no longer need to loop over the <code>getChildren()</code> as now the code only loads a single user.</p>\n"}],"owner":{"account_id":15965301,"reputation":1088,"user_id":11521157,"display_name":"CodingChap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70482092,"answer_count":1,"score":0,"last_activity_date":1640536262,"creation_date":1640456713,"question_id":70481953,"body_markdown":"I am trying to load an image from Firebase database into an ImageView for the user&#39;s profile picture.\r\n\r\n## What I have tried ##\r\n\r\nI have tried loading the image from Firestore to an ImageView using Glide. My code looks like this:\r\n\r\n    FirebaseDatabase.getInstance().getReference(&quot;user&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n            for (DataSnapshot child: snapshot.getChildren()) { \r\n                    User user = child.getValue(User.class);\r\n                    Glide.with(MapsActivity.this).load(user.getProfilePicture()).error(R.drawable.ic_baseline_person_24).placeholder(R.drawable.ic_baseline_person_24).into(profileImage);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n           throw error.toException();\r\n        }\r\n    });\r\n\r\nHowever, this isn&#39;t working.\r\n\r\nMy firebase structure is the following:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TDylP.png\r\n\r\n\r\n    String url = FirebaseDatabase.getInstance().getReference(&quot;user/&quot;+FirebaseAuth.getInstance().getCurrentUser().getUid().toString()+&quot;/profilePicture&quot;).get().getResult().getValue().toString();\r\n\r\n","title":"How do I load an image from FirestoreDatabase into ImageView?","body":"<p>I am trying to load an image from Firebase database into an ImageView for the user's profile picture.</p>\n<h2>What I have tried</h2>\n<p>I have tried loading the image from Firestore to an ImageView using Glide. My code looks like this:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference(&quot;user&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n        for (DataSnapshot child: snapshot.getChildren()) { \n                User user = child.getValue(User.class);\n                Glide.with(MapsActivity.this).load(user.getProfilePicture()).error(R.drawable.ic_baseline_person_24).placeholder(R.drawable.ic_baseline_person_24).into(profileImage);\n\n        }\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull @NotNull DatabaseError error) {\n       throw error.toException();\n    }\n});\n</code></pre>\n<p>However, this isn't working.</p>\n<p>My firebase structure is the following:</p>\n<p><a href=\"https://i.stack.imgur.com/TDylP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TDylP.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks!</p>\n<pre><code>String url = FirebaseDatabase.getInstance().getReference(&quot;user/&quot;+FirebaseAuth.getInstance().getCurrentUser().getUid().toString()+&quot;/profilePicture&quot;).get().getResult().getValue().toString();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":6963948,"reputation":236,"user_id":5342600,"display_name":"Chintan Radia"},"score":0,"creation_date":1628159770,"post_id":68664807,"comment_id":121348989,"body_markdown":"you need to define APP.aaf.env property in your application.properties file","body":"you need to define APP.aaf.env property in your application.properties file"},{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1628160571,"post_id":68664807,"comment_id":121349245,"body_markdown":"Do you have this spring-cloud-starter-config artifact in you pom.xml ?","body":"Do you have this spring-cloud-starter-config artifact in you pom.xml ?"},{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1628160907,"post_id":68664807,"comment_id":121349374,"body_markdown":"For reference example: https://cloud.spring.io/spring-cloud-config/reference/html/","body":"For reference example: <a href=\"https://cloud.spring.io/spring-cloud-config/reference/html/\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-config/reference/html</a>"},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1628166159,"post_id":68664807,"comment_id":121351493,"body_markdown":"@ArunSai I didn&#39;t have it. But I added it and the result is the same.","body":"@ArunSai I didn&#39;t have it. But I added it and the result is the same."}],"answers":[{"tags":[],"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628234118,"creation_date":1628234118,"answer_id":68677601,"question_id":68664807,"body_markdown":"Please note that Spring Cloud Config Server client will build the full path to your application&#39;s profile specific configuration for you. Therefore, you should only provide the base URL in `bootstrap.properties`. In your case this would be probable some like this:\r\n\r\n```\r\nspring.cloud.config.uri=http://localhost:9090/\r\n```","title":"Error Creating Bean Error (Spring Cloud Config Client)","body":"<p>Please note that Spring Cloud Config Server client will build the full path to your application's profile specific configuration for you. Therefore, you should only provide the base URL in <code>bootstrap.properties</code>. In your case this would be probable some like this:</p>\n<pre><code>spring.cloud.config.uri=http://localhost:9090/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9808407,"reputation":66,"user_id":7267411,"display_name":"Santhosh G S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628498496,"creation_date":1628498496,"answer_id":68709170,"question_id":68664807,"body_markdown":"Yes, as suggested by Gregor Zurowski you can use Native profile and provide appropriate naming for the properties/yaml file containing the properties. \r\nNote: the Spring Cloud Config Server should provide &quot;spring.cloud.config.server.native.search-locations&quot; if you are using native based profile.","title":"Error Creating Bean Error (Spring Cloud Config Client)","body":"<p>Yes, as suggested by Gregor Zurowski you can use Native profile and provide appropriate naming for the properties/yaml file containing the properties.\nNote: the Spring Cloud Config Server should provide &quot;spring.cloud.config.server.native.search-locations&quot; if you are using native based profile.</p>\n"},{"tags":[],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1628596900,"creation_date":1628596028,"answer_id":68726265,"question_id":68664807,"body_markdown":"With help for Gregor, I was able to solve it. These are the changes I did:\r\n\r\nI added a `messageConverter`:\r\n\r\n    package com.gcp.logicalprovisioning.config.server;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\r\n    public class DemoClientApplication {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(DemoClientApplication.class);\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoClientApplication.class, args);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Output property from cloud-config-server on startup of app,\r\n         *\r\n         * also can be seen at:\r\n         * http://localhost:9090/env/APP.aaf.env\r\n         */\r\n        @Bean\r\n        public CommandLineRunner printProperties(@Value(&quot;${APP.aaf.env}&quot;) final String appProperty)  {\r\n            return args -&gt; LOGGER.info(&quot;APP.aaf.env is: [{}]&quot;, appProperty);\r\n        }\r\n    \t\r\n    \t@Bean\r\n    \tpublic RestTemplate restTemplate() {\r\n    \r\n    \t\tfinal RestTemplate restTemplate = new RestTemplate();\r\n    \r\n    \t\tList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n    \t\tMappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\r\n    \r\n    \t\tmappingJackson2HttpMessageConverter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n    \r\n    \t\tmessageConverters.add(mappingJackson2HttpMessageConverter);\r\n    \r\n    \t\trestTemplate.setMessageConverters(messageConverters);\r\n    \r\n    \t\treturn restTemplate;\r\n    \t}\r\n    }\r\n\r\n\r\nAnd in the `bootstrap.properties`, added a few extra configs here too:\r\n\r\n    debug=false\r\n    logging.level.web=DEBUG\r\n    server.port=1010\r\n    spring.application.name=app.static\r\n    spring.cloud.config.uri=http://localhost:9090/\r\n    spring.cloud.config.username=admin\r\n    spring.cloud.config.password=admin\r\n    spring.cloud.config.enabled=true\r\n    spring.cloud.config.import-check.enabled=false\r\n    spring.devtools.restart.enabled=true\r\n    spring.output.ansi.enabled=ALWAYS\r\n    spring.security.user.name=admin\r\n    spring.security.user.password=admin\r\n\r\nNow I can fetch the configs from the config server by using the URL `http://localhost:9090/app.static/default`\r\n\r\nSo in short:\r\n1. I had to add messageConverter.\r\n2. Change the git.config.uri.\r\n3. And add username/password to the bootstrap.properties because the config server is tied with a username/password.\r\n4. Remove the spring.config.import properties.","title":"Error Creating Bean Error (Spring Cloud Config Client)","body":"<p>With help for Gregor, I was able to solve it. These are the changes I did:</p>\n<p>I added a <code>messageConverter</code>:</p>\n<pre><code>package com.gcp.logicalprovisioning.config.server;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\npublic class DemoClientApplication {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(DemoClientApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoClientApplication.class, args);\n    }\n\n\n    /**\n     * Output property from cloud-config-server on startup of app,\n     *\n     * also can be seen at:\n     * http://localhost:9090/env/APP.aaf.env\n     */\n    @Bean\n    public CommandLineRunner printProperties(@Value(&quot;${APP.aaf.env}&quot;) final String appProperty)  {\n        return args -&gt; LOGGER.info(&quot;APP.aaf.env is: [{}]&quot;, appProperty);\n    }\n    \n    @Bean\n    public RestTemplate restTemplate() {\n\n        final RestTemplate restTemplate = new RestTemplate();\n\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n        MappingJackson2HttpMessageConverter mappingJackson2HttpMessageConverter = new MappingJackson2HttpMessageConverter();\n\n        mappingJackson2HttpMessageConverter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n\n        messageConverters.add(mappingJackson2HttpMessageConverter);\n\n        restTemplate.setMessageConverters(messageConverters);\n\n        return restTemplate;\n    }\n}\n</code></pre>\n<p>And in the <code>bootstrap.properties</code>, added a few extra configs here too:</p>\n<pre><code>debug=false\nlogging.level.web=DEBUG\nserver.port=1010\nspring.application.name=app.static\nspring.cloud.config.uri=http://localhost:9090/\nspring.cloud.config.username=admin\nspring.cloud.config.password=admin\nspring.cloud.config.enabled=true\nspring.cloud.config.import-check.enabled=false\nspring.devtools.restart.enabled=true\nspring.output.ansi.enabled=ALWAYS\nspring.security.user.name=admin\nspring.security.user.password=admin\n</code></pre>\n<p>Now I can fetch the configs from the config server by using the URL <code>http://localhost:9090/app.static/default</code></p>\n<p>So in short:</p>\n<ol>\n<li>I had to add messageConverter.</li>\n<li>Change the git.config.uri.</li>\n<li>And add username/password to the bootstrap.properties because the config server is tied with a username/password.</li>\n<li>Remove the spring.config.import properties.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640536150,"creation_date":1640536150,"answer_id":70488042,"question_id":68664807,"body_markdown":"Add `scanBasePackages` inside of `@SpringBootApplication` like the below : \r\n\r\n    @SpringBootApplication(scanBasePackages =\r\n        {\r\n            &quot;com.gcp.logicalprovisioning.config&quot;,\r\n            ....etc\r\n        })","title":"Error Creating Bean Error (Spring Cloud Config Client)","body":"<p>Add <code>scanBasePackages</code> inside of <code>@SpringBootApplication</code> like the below :</p>\n<pre><code>@SpringBootApplication(scanBasePackages =\n    {\n        &quot;com.gcp.logicalprovisioning.config&quot;,\n        ....etc\n    })\n</code></pre>\n"}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3441,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68726265,"answer_count":4,"score":4,"last_activity_date":1640536150,"creation_date":1628158956,"question_id":68664807,"body_markdown":"I am trying to learn Spring Cloud Config. So first I setup a Server, where I can fetch the properties using `http://localhost:9090/config/default/master/app.static.properties` on the browser. It has about 5 or 6 properties. I am trying to get just one for now.\r\n\r\nI wrote my classes like:\r\n\r\n    package com.gcp.logicalprovisioning.config.server;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\r\n    public class DemoClientApplication {\r\n    \r\n    \tprivate static final Logger LOGGER = LoggerFactory.getLogger(DemoClientApplication.class);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoClientApplication.class, args);\r\n    \t}\r\n    \r\n    \r\n    \t/**\r\n    \t * Output property from cloud-config-server on startup of app,\r\n    \t *\r\n    \t * also can be seen at:\r\n    \t * http://localhost:9090/env/APP.aaf.env\r\n    \t */\r\n    \t@Bean\r\n    \tpublic CommandLineRunner printProperties(@Value(&quot;${APP.aaf.env}&quot;) final String appProperty)  {\r\n    \t\treturn args -&gt; LOGGER.info(&quot;APP.aaf.env is: [{}]&quot;, appProperty);\r\n    \t}\r\n    }\r\n\r\n\r\nand\r\n\r\n    package com.gcp.logicalprovisioning.config.server;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.cloud.context.config.annotation.RefreshScope;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    // This will allow us to reinitialize this controller to get any new config\r\n    // values when the /refresh endpoint is POSTed to.\r\n    @RefreshScope\r\n    \r\n    public class DemoClientController {\r\n    \r\n    \t@Value(&quot;${APP.aaf.env}&quot;)\r\n    \tprivate String appProperty;\r\n    \r\n    \t@RequestMapping(&quot;/&quot;)\r\n    \tpublic String hello() {\r\n    \t\treturn &quot;Using [&quot; + appProperty + &quot;] from config server&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nMy bootstrap.properties look like:\r\n\r\n    spring.application.name=client\r\n    spring.cloud.config.label=master\r\n    spring.cloud.config.uri=http://localhost:9090/config/default/master/\r\n    spring.cloud.config.enabled=true\r\n    spring.security.user.name=admin\r\n    spring.security.user.password=admin\r\n    logging.level.web=DEBUG\r\n    debug=false\r\n    spring.output.ansi.enabled=ALWAYS\r\n    spring.devtools.restart.enabled=true\r\n    spring.config.import=optional:configserver:http://localhost:9090/\r\n    spring.cloud.config.import-check.enabled=false\r\n\r\n\r\nBut I get this error:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;printProperties&#39; defined in com.gcp.logicalprovisioning.config.server.DemoClientApplication: Unexpected exception during bean creation; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;APP.aaf.env&#39; in value &quot;${APP.aaf.env}&quot;\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:537) ~[spring-beans-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.3.jar:2.5.3]\r\n    \tat com.att.logicalprovisioning.config.server.DemoClientApplication.main(DemoClientApplication.java:20) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_281]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_281]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_281]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_281]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.5.3.jar:2.5.3]\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;APP.aaf.env&#39; in value &quot;${APP.aaf.env}&quot;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.3.9.jar:5.3.9]\r\n\r\n\r\nI searched for the problem on StackOverflow, found a few solutions, tried it. But nothing worked. But since I am getting my feet wet, I am not exactly sure what is going wrong. Am I missing some extra configuration? Any help would be appreciated.\r\n\r\nI haven&#39;t posted my server&#39;s code, if needed let me know, I will add it.","title":"Error Creating Bean Error (Spring Cloud Config Client)","body":"<p>I am trying to learn Spring Cloud Config. So first I setup a Server, where I can fetch the properties using <code>http://localhost:9090/config/default/master/app.static.properties</code> on the browser. It has about 5 or 6 properties. I am trying to get just one for now.</p>\n<p>I wrote my classes like:</p>\n<pre><code>package com.gcp.logicalprovisioning.config.server;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\npublic class DemoClientApplication {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(DemoClientApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoClientApplication.class, args);\n    }\n\n\n    /**\n     * Output property from cloud-config-server on startup of app,\n     *\n     * also can be seen at:\n     * http://localhost:9090/env/APP.aaf.env\n     */\n    @Bean\n    public CommandLineRunner printProperties(@Value(&quot;${APP.aaf.env}&quot;) final String appProperty)  {\n        return args -&gt; LOGGER.info(&quot;APP.aaf.env is: [{}]&quot;, appProperty);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>package com.gcp.logicalprovisioning.config.server;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n// This will allow us to reinitialize this controller to get any new config\n// values when the /refresh endpoint is POSTed to.\n@RefreshScope\n\npublic class DemoClientController {\n\n    @Value(&quot;${APP.aaf.env}&quot;)\n    private String appProperty;\n\n    @RequestMapping(&quot;/&quot;)\n    public String hello() {\n        return &quot;Using [&quot; + appProperty + &quot;] from config server&quot;;\n    }\n}\n</code></pre>\n<p>My bootstrap.properties look like:</p>\n<pre><code>spring.application.name=client\nspring.cloud.config.label=master\nspring.cloud.config.uri=http://localhost:9090/config/default/master/\nspring.cloud.config.enabled=true\nspring.security.user.name=admin\nspring.security.user.password=admin\nlogging.level.web=DEBUG\ndebug=false\nspring.output.ansi.enabled=ALWAYS\nspring.devtools.restart.enabled=true\nspring.config.import=optional:configserver:http://localhost:9090/\nspring.cloud.config.import-check.enabled=false\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'printProperties' defined in com.gcp.logicalprovisioning.config.server.DemoClientApplication: Unexpected exception during bean creation; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'APP.aaf.env' in value &quot;${APP.aaf.env}&quot;\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:537) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar:5.3.9]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.3.jar:2.5.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.3.jar:2.5.3]\n    at com.att.logicalprovisioning.config.server.DemoClientApplication.main(DemoClientApplication.java:20) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_281]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_281]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_281]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_281]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.5.3.jar:2.5.3]\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'APP.aaf.env' in value &quot;${APP.aaf.env}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.9.jar:5.3.9]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.9.jar:5.3.9]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.9.jar:5.3.9]\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.9.jar:5.3.9]\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.3.9.jar:5.3.9]\n</code></pre>\n<p>I searched for the problem on StackOverflow, found a few solutions, tried it. But nothing worked. But since I am getting my feet wet, I am not exactly sure what is going wrong. Am I missing some extra configuration? Any help would be appreciated.</p>\n<p>I haven't posted my server's code, if needed let me know, I will add it.</p>\n"},{"tags":["java","concurrency","parallel-processing","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1640536138,"post_id":70487969,"comment_id":124601135,"body_markdown":"About the concurrent modification exception, `ArrayList` is not thread-safe, so you should not be doing things to it in parallel. Actually, I think this approach (&quot;mutable reduction&quot;) of using `reduce` just won&#39;t work at all, even if you use a thread safe collection. The 3-parameter overload of `collect` exists for this very purpose, after all. See also: https://stackoverflow.com/questions/22577197/java-8-streams-collect-vs-reduce","body":"About the concurrent modification exception, <code>ArrayList</code> is not thread-safe, so you should not be doing things to it in parallel. Actually, I think this approach (&quot;mutable reduction&quot;) of using <code>reduce</code> just won&#39;t work at all, even if you use a thread safe collection. The 3-parameter overload of <code>collect</code> exists for this very purpose, after all. See also: <a href=\"https://stackoverflow.com/questions/22577197/java-8-streams-collect-vs-reduce\" title=\"java 8 streams collect vs reduce\">stackoverflow.com/questions/22577197/&hellip;</a>"}],"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1640535862,"answer_count":0,"score":1,"last_activity_date":1640535359,"creation_date":1640535359,"question_id":70487969,"body_markdown":"My question has to do with when one of the parameters in the reduce function of Streams is used, I will need to explain my setup first before to describe the problem more fully.\r\n\r\nSuppose I have a Person class with String name and int age as fields, I make a few people in the following static method:\r\n\r\n```\r\npublic static List&lt;Person&gt; createPeople() {\r\n\treturn List.of(new Person(&quot;Sara&quot;, 20),\r\n\t               new Person(&quot;Sara&quot;, 22),\r\n\t               new Person(&quot;Bob&quot;, 20),\r\n\t               new Person(&quot;Paula&quot;, 32),\r\n\t               new Person(&quot;Paul&quot;, 32),\r\n\t               new Person(&quot;Jack&quot;, 3),\r\n\t               new Person(&quot;Jack&quot;, 72),\r\n\t               new Person(&quot;Jill&quot;, 11));\r\n    }\r\n```\r\n\r\nNow, I want to get a List of the names of people over 30 years of age. I know I can achieve this using the collect function easily, but I wanted to explore one aspect of doing it with the reduce function. I have the following code:\r\n\r\n\r\n```\r\nList&lt;String&gt; namesOfOlderThan30 = createPeople().stream()\r\n\t                                            .filter(person -&gt; person.getAge() &gt; 30)\r\n\t                                            .map(Person::getName)\r\n\t                                            .map(String::toUpperCase)\r\n\t                                            .reduce(new ArrayList&lt;String&gt;(), \r\n\t                                            (names, name) -&gt; {\r\n\t                                                    names.add(name);\r\n\t                                                    System.out.println(names);\r\n\t                                                    return names;\r\n\t                                             }, \r\n\t                                            (names1, names2) -&gt; {\r\n\t                                             System.out.println(&quot;Before: &quot;+ names1);\r\n\t                                             names1.addAll(names2);\r\n\t                                             System.out.println(&quot;After: &quot;+ names1);\r\n\t                                             return names1;\r\n\t                                       }); \r\n```\r\n\r\nAccording to the source, I see that the method signature for reduce when there are three arguments is:\r\n```\r\n&lt;U&gt; U reduce(U identity,\r\n                 BiFunction&lt;U, ? super T, U&gt; accumulator,\r\n                 BinaryOperator&lt;U&gt; combiner);\r\n``` \r\n\r\nWhen I run this code above, I get the output:\r\n```\r\n[PAULA]\r\n[PAULA, PAUL]\r\n[PAULA, PAUL, JACK]\r\n```\r\n\r\nSince I coded each of the functions to print, this means that the BinaryOperator&lt;U&gt; combiner parameter was not used at all.\r\n\r\nHowever, when I run the same code using parallelStream() instead of just stream(), I get:\r\n```\r\n[JACK, PAUL]\r\nBefore: [JACK, PAUL, PAULA]\r\n[JACK, PAUL, PAULA]\r\n[JACK, PAUL]\r\nAfter: [JACK, PAUL, PAULA, JACK, PAUL, PAULA]\r\nBefore: [JACK, PAUL, PAULA]\r\nBefore: [JACK, PAUL, PAULA, JACK, PAUL, PAULA]\r\nAfter: [JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA]\r\nBefore: [JACK, PAUL, PAULA, JACK, PAUL, PAULA]\r\nAfter: [JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA]\r\nAfter: [JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA]\r\n...\r\nException in thread &quot;main&quot; java.util.ConcurrentModificationException: java.util.ConcurrentModificationException\r\n```\r\n\r\nThis makes me think that the third parameter in the reduce method is related to some parallel function of streams, but I do not understand how it is related. Further, when I remove the lines for printing, the error no longer occurs when using parallelStream.\r\n\r\nCan someone help explain what is happening here for me in more detail?\r\n\r\nThank you.\r\n\r\n","title":"Question about the behavior of Streams.reduce() when the stream is parallel","body":"<p>My question has to do with when one of the parameters in the reduce function of Streams is used, I will need to explain my setup first before to describe the problem more fully.</p>\n<p>Suppose I have a Person class with String name and int age as fields, I make a few people in the following static method:</p>\n<pre><code>public static List&lt;Person&gt; createPeople() {\n    return List.of(new Person(&quot;Sara&quot;, 20),\n                   new Person(&quot;Sara&quot;, 22),\n                   new Person(&quot;Bob&quot;, 20),\n                   new Person(&quot;Paula&quot;, 32),\n                   new Person(&quot;Paul&quot;, 32),\n                   new Person(&quot;Jack&quot;, 3),\n                   new Person(&quot;Jack&quot;, 72),\n                   new Person(&quot;Jill&quot;, 11));\n    }\n</code></pre>\n<p>Now, I want to get a List of the names of people over 30 years of age. I know I can achieve this using the collect function easily, but I wanted to explore one aspect of doing it with the reduce function. I have the following code:</p>\n<pre><code>List&lt;String&gt; namesOfOlderThan30 = createPeople().stream()\n                                                .filter(person -&gt; person.getAge() &gt; 30)\n                                                .map(Person::getName)\n                                                .map(String::toUpperCase)\n                                                .reduce(new ArrayList&lt;String&gt;(), \n                                                (names, name) -&gt; {\n                                                        names.add(name);\n                                                        System.out.println(names);\n                                                        return names;\n                                                 }, \n                                                (names1, names2) -&gt; {\n                                                 System.out.println(&quot;Before: &quot;+ names1);\n                                                 names1.addAll(names2);\n                                                 System.out.println(&quot;After: &quot;+ names1);\n                                                 return names1;\n                                           }); \n</code></pre>\n<p>According to the source, I see that the method signature for reduce when there are three arguments is:</p>\n<pre><code>&lt;U&gt; U reduce(U identity,\n                 BiFunction&lt;U, ? super T, U&gt; accumulator,\n                 BinaryOperator&lt;U&gt; combiner);\n</code></pre>\n<p>When I run this code above, I get the output:</p>\n<pre><code>[PAULA]\n[PAULA, PAUL]\n[PAULA, PAUL, JACK]\n</code></pre>\n<p>Since I coded each of the functions to print, this means that the BinaryOperator combiner parameter was not used at all.</p>\n<p>However, when I run the same code using parallelStream() instead of just stream(), I get:</p>\n<pre><code>[JACK, PAUL]\nBefore: [JACK, PAUL, PAULA]\n[JACK, PAUL, PAULA]\n[JACK, PAUL]\nAfter: [JACK, PAUL, PAULA, JACK, PAUL, PAULA]\nBefore: [JACK, PAUL, PAULA]\nBefore: [JACK, PAUL, PAULA, JACK, PAUL, PAULA]\nAfter: [JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA]\nBefore: [JACK, PAUL, PAULA, JACK, PAUL, PAULA]\nAfter: [JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA]\nAfter: [JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA, JACK, PAUL, PAULA]\n...\nException in thread &quot;main&quot; java.util.ConcurrentModificationException: java.util.ConcurrentModificationException\n</code></pre>\n<p>This makes me think that the third parameter in the reduce method is related to some parallel function of streams, but I do not understand how it is related. Further, when I remove the lines for printing, the error no longer occurs when using parallelStream.</p>\n<p>Can someone help explain what is happening here for me in more detail?</p>\n<p>Thank you.</p>\n"},{"tags":["java","algorithm","recursion","pseudocode"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1637654051,"post_id":70071898,"comment_id":123877243,"body_markdown":"1. Does `node.getNeighbors()` of node 3 (for example) also returns node 2 ? 2. Does coloring depend on previous nodes or only on next nodes ?","body":"1. Does <code>node.getNeighbors()</code> of node 3 (for example) also returns node 2 ? 2. Does coloring depend on previous nodes or only on next nodes ?"},{"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"score":0,"creation_date":1637656770,"post_id":70071898,"comment_id":123878155,"body_markdown":"yes of course `node.getNeighbors()` of node 3 will return node 2. coloring will depend on the condition `!nodeIsColored(vector, neighbor)`. if a neighbor is colored then it is not good to check the `conditionBetweenNodeAndNeighbor `. to answer your question:  coloring then could depend on &quot;previous&quot; &quot;neighbor&quot; nodes if they are not colored.","body":"yes of course <code>node.getNeighbors()</code> of node 3 will return node 2. coloring will depend on the condition <code>!nodeIsColored(vector, neighbor)</code>. if a neighbor is colored then it is not good to check the <code>conditionBetweenNodeAndNeighbor </code>. to answer your question:  coloring then could depend on &quot;previous&quot; &quot;neighbor&quot; nodes if they are not colored."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1637657807,"post_id":70071898,"comment_id":123878555,"body_markdown":"So how do you define a leaf ? It should have one neighbor but this can also apply to the root.","body":"So how do you define a leaf ? It should have one neighbor but this can also apply to the root."},{"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"score":0,"creation_date":1637658200,"post_id":70071898,"comment_id":123878713,"body_markdown":"this a graph not a tree, one last node to color could be unconnected to other nodes, or having 3 neighbors (2 of them already colored) .... i don&#39;t understand your question here","body":"this a graph not a tree, one last node to color could be unconnected to other nodes, or having 3 neighbors (2 of them already colored) .... i don&#39;t understand your question here"}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637660658,"creation_date":1637658869,"answer_id":70078149,"question_id":70071898,"body_markdown":"\r\nI am not sure I fully understood the requirement. Please check this pseudo code:  \r\n\r\n        //Recursive method colorNodes\r\n\t    colorNodes(Graph graph,Iterator&lt;Node&gt; nodeIterator, Vector vector){\r\n\t        \r\n            if (vector.size() == graph.size())   return true;\r\n\t        node = nodeIterator.next();       \r\n\t        neighbors = node.getNeighbors()\r\n\t        \r\n\t        //check if leaf or isolted or all neigbors colored \r\n\t        if( (! nodeIterator.hasNext())  or  (neighbor.length == 0)   or (allNodesAreColored(neighbors))  ) { \r\n\t        \t//color leaf \r\n\t        \tif(conditionBetweenNodeAndNeighbor is true) {\r\n                    vector.add(node) \r\n                    node.setColor(color)\r\n                    // no need for recursive call for a leaf \r\n                }\r\n\t        \treturn;\r\n\t        }\r\n\t        \r\n\t        for(neighbor : neighbors ){\r\n\t\r\n\t            if ((!nodeIsColored(vector, neighbor) and\r\n\t            \t\t(conditionBetweenNodeAndNeighbor is true) ){\r\n\t                    vector.add(node) \r\n\t                    node.setColor(color)\r\n\t                    colorNodes(graph, nodeIterator,vector)\r\n\t                    //break if you don&#39;t want to check rest of the neighbors \r\n\t             }\r\n\t         }  \t\t            \r\n\t     }","title":"recursive ordered node coloring","body":"<p>I am not sure I fully understood the requirement. Please check this pseudo code:</p>\n<pre><code>    //Recursive method colorNodes\n    colorNodes(Graph graph,Iterator&lt;Node&gt; nodeIterator, Vector vector){\n        \n        if (vector.size() == graph.size())   return true;\n        node = nodeIterator.next();       \n        neighbors = node.getNeighbors()\n        \n        //check if leaf or isolted or all neigbors colored \n        if( (! nodeIterator.hasNext())  or  (neighbor.length == 0)   or (allNodesAreColored(neighbors))  ) { \n            //color leaf \n            if(conditionBetweenNodeAndNeighbor is true) {\n                vector.add(node) \n                node.setColor(color)\n                // no need for recursive call for a leaf \n            }\n            return;\n        }\n        \n        for(neighbor : neighbors ){\n\n            if ((!nodeIsColored(vector, neighbor) and\n                    (conditionBetweenNodeAndNeighbor is true) ){\n                    vector.add(node) \n                    node.setColor(color)\n                    colorNodes(graph, nodeIterator,vector)\n                    //break if you don't want to check rest of the neighbors \n             }\n         }                      \n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637659938,"creation_date":1637659938,"answer_id":70078380,"question_id":70071898,"body_markdown":"I merely give an answer as the recursion is a bit awkward. I would expect the following - not regarding the logic.\r\n\r\n    // Recursive method colorNodes\r\n    void colorNodes(Graph graph, Iterator&lt;Node&gt; nodeIterator, List&lt;Node&gt; vector)\r\n        //if (vector.size() == graph.size())\r\n        //    return true;\r\n        if (!nodeIterator.hasNext()) {\r\n            return;\r\n        }\r\n        Node node = nodeIterator.next();\r\n        if (nodeIsColored(vector, node)) {\r\n            return;\r\n        }               \r\n        // Here the node is processed before the children, to stop recursion.\r\n        vector.add(node);\r\n        for (Node neighbor: node.getNeighbors()) {\r\n            //if (!nodeIsColored(vector, neighbor)) {               \r\n                colorNodes(graph, nodeIterator,vector);\r\n            //}  \r\n        }\r\n        // Here the node could be processed after the children.\r\n    }\r\n\r\n`Vector&lt;&gt;` is the old class, and still lives under that name in for instance C++.","title":"recursive ordered node coloring","body":"<p>I merely give an answer as the recursion is a bit awkward. I would expect the following - not regarding the logic.</p>\n<pre><code>// Recursive method colorNodes\nvoid colorNodes(Graph graph, Iterator&lt;Node&gt; nodeIterator, List&lt;Node&gt; vector)\n    //if (vector.size() == graph.size())\n    //    return true;\n    if (!nodeIterator.hasNext()) {\n        return;\n    }\n    Node node = nodeIterator.next();\n    if (nodeIsColored(vector, node)) {\n        return;\n    }               \n    // Here the node is processed before the children, to stop recursion.\n    vector.add(node);\n    for (Node neighbor: node.getNeighbors()) {\n        //if (!nodeIsColored(vector, neighbor)) {               \n            colorNodes(graph, nodeIterator,vector);\n        //}  \n    }\n    // Here the node could be processed after the children.\n}\n</code></pre>\n<p><code>Vector&lt;&gt;</code> is the old class, and still lives under that name in for instance C++.</p>\n"}],"owner":{"account_id":22996377,"reputation":15,"user_id":17176511,"display_name":"singh raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70078149,"answer_count":2,"score":1,"last_activity_date":1640534732,"creation_date":1637612289,"question_id":70071898,"body_markdown":"I want to color all nodes of a given graph according to a given node ordering: the order is set through the `Iterator&lt;Node&gt; nodeIterator` parameter which contains all the nodes to process in the right order. \r\n\r\nA node is colored if its neighbor is not and if a certain condition between the two considered nodes is met. A node is colored if it is an element of the parameter `vector`. A node is colored with its pre-defined color. \r\n\r\n \r\n \r\n\r\nhere&#39;s my code:\r\n\r\n      #Recursive method colorNodes\r\n        colorNodes(Graph graph,Iterator&lt;Node&gt; nodeIterator, Vector vector)\r\n            if (vector.size() == graph.size())\r\n                return true;\r\n            node = nodeIterator.next();\r\n            nodeNeighbors = node.getNeighbors();\r\n            while(nodeNeighbors.hasnext()) {\r\n                neighbor = nodeNeighbors.next();\r\n                if (!nodeIsColored(vector, neighbor)) {\r\n                    if(conditionBetweenNodeAndNeighbor is true) {\r\n                        vector.add(node) #color current node \r\n                        colorNodes(graph, nodeIterator,vector)#call recursively the method\r\n                    }\r\n                }  \r\n                else if (!nodeNeighbors.hasNext()) {\r\n                        #potential last node or isolated node (having one neighbor only)\r\n                      if(conditionBetweenNodeAndNeighbor is true) {\r\n                        vector.add(node) #color last node anyway \r\n                        colorNodes(graph, nodeIterator,vector)#call recursively the method\r\n                        }\r\n                       }\r\n                else {\r\n                        continue;\r\n                    }\r\n              return false;\r\n            }\r\n\r\nCould anyone clarify how to approach this problem and if my approach is correct (especially the cases differentiation)?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vkj5G.png\r\n","title":"recursive ordered node coloring","body":"<p>I want to color all nodes of a given graph according to a given node ordering: the order is set through the <code>Iterator&lt;Node&gt; nodeIterator</code> parameter which contains all the nodes to process in the right order.</p>\n<p>A node is colored if its neighbor is not and if a certain condition between the two considered nodes is met. A node is colored if it is an element of the parameter <code>vector</code>. A node is colored with its pre-defined color.</p>\n<p>here's my code:</p>\n<pre><code>  #Recursive method colorNodes\n    colorNodes(Graph graph,Iterator&lt;Node&gt; nodeIterator, Vector vector)\n        if (vector.size() == graph.size())\n            return true;\n        node = nodeIterator.next();\n        nodeNeighbors = node.getNeighbors();\n        while(nodeNeighbors.hasnext()) {\n            neighbor = nodeNeighbors.next();\n            if (!nodeIsColored(vector, neighbor)) {\n                if(conditionBetweenNodeAndNeighbor is true) {\n                    vector.add(node) #color current node \n                    colorNodes(graph, nodeIterator,vector)#call recursively the method\n                }\n            }  \n            else if (!nodeNeighbors.hasNext()) {\n                    #potential last node or isolated node (having one neighbor only)\n                  if(conditionBetweenNodeAndNeighbor is true) {\n                    vector.add(node) #color last node anyway \n                    colorNodes(graph, nodeIterator,vector)#call recursively the method\n                    }\n                   }\n            else {\n                    continue;\n                }\n          return false;\n        }\n</code></pre>\n<p>Could anyone clarify how to approach this problem and if my approach is correct (especially the cases differentiation)?</p>\n"},{"tags":["java","h2","flyway"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640534157,"creation_date":1640530998,"answer_id":70487465,"question_id":70468300,"body_markdown":"I personally have never used Flyway&#39;s callbacks but please, be aware that, according to the [library source code](https://github.com/flyway/flyway/blob/f9bc4c175db54746348191a625386a09e75c4930/flyway-core/src/main/java/org/flywaydb/core/internal/command/DbMigrate.java#L84), the `beforeMigrate` callback will be run in `DbMigrate` _after_ the [schema history table existence is checked](https://github.com/flyway/flyway/blob/f9bc4c175db54746348191a625386a09e75c4930/flyway-core/src/main/java/org/flywaydb/core/Flyway.java#L135-L173) in the `Flyway` class, so try renaming the history table may not work.\r\n\r\nAs a possible solution, you could [try providing explicitly the `table` name](https://flywaydb.org/documentation/configuration/parameters/table) for your databases, keeping the previous one, `schema_version`. For example:\r\n\r\n```java\r\nFlyway.configure()\r\n  .table(&quot;schema_version&quot;)\r\n  .dataSource(h2URL, null, null)\r\n  .load()\r\n  .migrate()\r\n;\r\n```\r\n\r\nProbably using the `beforeValidate` callback could work as well, as [that callback seems to be executed before the actual schema history table existence check](https://github.com/flyway/flyway/blob/f9bc4c175db54746348191a625386a09e75c4930/flyway-core/src/main/java/org/flywaydb/core/Flyway.java#L128-L135). I renamed your script from `beforeMigrate.sql` to `beforeValidate.sql` and it worked properly. Just be sure that validation on migrate is enabled - it should be by default.","title":"Flyway - normalising between &quot;schema_version&quot; / &quot;flyway_schema_history&quot; table names - &quot;Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table&quot;","body":"<p>I personally have never used Flyway's callbacks but please, be aware that, according to the <a href=\"https://github.com/flyway/flyway/blob/f9bc4c175db54746348191a625386a09e75c4930/flyway-core/src/main/java/org/flywaydb/core/internal/command/DbMigrate.java#L84\" rel=\"nofollow noreferrer\">library source code</a>, the <code>beforeMigrate</code> callback will be run in <code>DbMigrate</code> <em>after</em> the <a href=\"https://github.com/flyway/flyway/blob/f9bc4c175db54746348191a625386a09e75c4930/flyway-core/src/main/java/org/flywaydb/core/Flyway.java#L135-L173\" rel=\"nofollow noreferrer\">schema history table existence is checked</a> in the <code>Flyway</code> class, so try renaming the history table may not work.</p>\n<p>As a possible solution, you could <a href=\"https://flywaydb.org/documentation/configuration/parameters/table\" rel=\"nofollow noreferrer\">try providing explicitly the <code>table</code> name</a> for your databases, keeping the previous one, <code>schema_version</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flyway.configure()\n  .table(&quot;schema_version&quot;)\n  .dataSource(h2URL, null, null)\n  .load()\n  .migrate()\n;\n</code></pre>\n<p>Probably using the <code>beforeValidate</code> callback could work as well, as <a href=\"https://github.com/flyway/flyway/blob/f9bc4c175db54746348191a625386a09e75c4930/flyway-core/src/main/java/org/flywaydb/core/Flyway.java#L128-L135\" rel=\"nofollow noreferrer\">that callback seems to be executed before the actual schema history table existence check</a>. I renamed your script from <code>beforeMigrate.sql</code> to <code>beforeValidate.sql</code> and it worked properly. Just be sure that validation on migrate is enabled - it should be by default.</p>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70487465,"answer_count":1,"score":2,"last_activity_date":1640534157,"creation_date":1640302211,"question_id":70468300,"body_markdown":"I&#39;ve been using Flyway in my application, where each use has their own persistent H2 database.\r\n\r\n[Flyway v5 changed the metadata table name from ``schema_version`` to ``flyway_schema_history``, and could handle both - but with the caveat Flyway v6 would not do this.][1]\r\n\r\nDue to the databases persisting, and Flyway being upgraded from v4 to v5, some users have a  ``schema_version`` table, while others have a ``flyway_schema_history`` table.\r\n\r\nObviously Flyway v6 will not work for the databases with a ``schema_version`` table.\r\n\r\nInitially I was blocked, but then discovered [callbacks][2] that allow SQL to be run at arbritrary points. So the obvious solution was a ``beforeMigrate.sql`` that renamed the ``schema_version`` table to ``flyway_schema_history``.\r\n\r\nHowever when I try this, even though I can see from the debug logs the command is executed, I get the following erorr.\r\nI even get the error when I manually rename the table in the database outside of the callback functionality.\r\n\r\n    org.flywaydb.core.api.FlywayException: Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.\r\n\r\nI&#39;m getting this whether I tentatively upgrade to Flyway v6 or the latest v8.\r\n\r\nIs there something obvious I&#39;m missing? Or is there a smarter way to move these existing databases to a format compatible with the latest flyway versions?\r\n\r\nI&#39;ve created an MVCE using Maven but it&#39;s obviously slightly complex as it involves a database etc.\r\n\r\nDirectory structure:\r\n\r\n    flywaytest\r\n    \tsrc\r\n    \t\tmain\r\n    \t\t\tjava\r\n    \t\t\t\tcom\r\n    \t\t\t\t\tme\r\n    \t\t\t\t\t\tflywaytest\r\n    \t\t\t\t\t\t\tFlywayTest.java\r\n    \t\t\tresources\r\n    \t\t\t\tdb\r\n    \t\t\t\t\tmigration\r\n    \t\t\t\t\t\tbeforeMigrate.sql\r\n    \t\t\t\t\t\tV1__Intial.sql\r\n    \tpom.xml\r\n\r\n`FlywayTest.java`:\r\n\r\n    package com.me.flywaytest;\r\n    \r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.Statement;\r\n    import java.text.MessageFormat;\r\n    \r\n    import org.flywaydb.core.Flyway;\r\n    import org.h2.engine.Constants;\r\n    \r\n    public class FlywayTest {\r\n        private static final String databaseName = &quot;fruits&quot;;\r\n        private static final String h2URL = MessageFormat.format(&quot;jdbc:h2:~/{0}&quot;, databaseName);\r\n        private static final Path databaseLocation = Paths.get(System.getProperty(&quot;user.home&quot;))\r\n            .resolve(databaseName + Constants.SUFFIX_MV_FILE);\r\n    \r\n        public static void main(final String[] args) throws Exception {\r\n            Files.deleteIfExists(databaseLocation);\r\n    \r\n            createOldDatabase();\r\n    \r\n            Flyway.configure().dataSource(h2URL, null, null).load().migrate();\r\n        }\r\n    \r\n        private static Connection getConnection() throws Exception {\r\n            return DriverManager.getConnection(h2URL, null, null);\r\n        }\r\n    \r\n        /** Creates an example database as created by Flyway v4.2.0 */\r\n        private static void createOldDatabase() throws Exception {\r\n            // Old Flyway database generated by rolling back Flyway and running an initial\r\n            // migration and dumping it&#39;s SQL using the following:\r\n            // Flyway flyway = new Flyway();\r\n            // flyway.setDataSource(h2URL, null, null);\r\n            // flyway.migrate();\r\n            // try (Connection connection = getConnection()) {\r\n            // Script.process(connection,\r\n            // Paths.get(System.getProperty(&quot;user.home&quot;)).resolve(databaseName +\r\n            // &quot;.sql&quot;).toString(), &quot;&quot;, &quot;&quot;);\r\n            // }\r\n    \r\n            // Which created the following:\r\n            final String fruitsSQL = &quot;&quot;&quot;\r\n    \t\t\t;\r\n    \t\tCREATE USER IF NOT EXISTS &quot;&quot; SALT &#39;&#39; HASH &#39;&#39; ADMIN;\r\n    \t\tCREATE CACHED TABLE &quot;PUBLIC&quot;.&quot;schema_version&quot;(\r\n    \t\t    &quot;installed_rank&quot; INT NOT NULL,\r\n    \t\t    &quot;version&quot; VARCHAR(50),\r\n    \t\t    &quot;description&quot; VARCHAR(200) NOT NULL,\r\n    \t\t    &quot;type&quot; VARCHAR(20) NOT NULL,\r\n    \t\t    &quot;script&quot; VARCHAR(1000) NOT NULL,\r\n    \t\t    &quot;checksum&quot; INT,\r\n    \t\t    &quot;installed_by&quot; VARCHAR(100) NOT NULL,\r\n    \t\t    &quot;installed_on&quot; TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\r\n    \t\t    &quot;execution_time&quot; INT NOT NULL,\r\n    \t\t    &quot;success&quot; BOOLEAN NOT NULL\r\n    \t\t);\r\n    \t\tALTER TABLE &quot;PUBLIC&quot;.&quot;schema_version&quot; ADD CONSTRAINT &quot;PUBLIC&quot;.&quot;schema_version_pk&quot; PRIMARY KEY(&quot;installed_rank&quot;);\r\n    \t\t-- 1 +/- SELECT COUNT(*) FROM PUBLIC.schema_version;\r\n    \t\tINSERT INTO &quot;PUBLIC&quot;.&quot;schema_version&quot; VALUES\r\n    \t\t(1, &#39;1&#39;, &#39;Initial&#39;, &#39;SQL&#39;, &#39;V1__Initial.sql&#39;, 691111646, &#39;&#39;, TIMESTAMP &#39;2021-12-26 00:07:37.878797&#39;, 0, TRUE);\r\n    \t\tCREATE INDEX &quot;PUBLIC&quot;.&quot;schema_version_s_idx&quot; ON &quot;PUBLIC&quot;.&quot;schema_version&quot;(&quot;success&quot;);\r\n    \t\tCREATE CACHED TABLE &quot;PUBLIC&quot;.&quot;FRUITS&quot;(\r\n    \t\t    &quot;NAME&quot; CHARACTER VARYING\r\n    \t\t);\r\n    \t\t-- 0 +/- SELECT COUNT(*) FROM PUBLIC.FRUITS;\r\n    \r\n    \t\t&quot;&quot;&quot;;\r\n    \r\n            try (Statement statement = getConnection().createStatement()) {\r\n                statement.execute(fruitsSQL);\r\n            }\r\n        }\r\n    }\r\n\r\n`beforeMigrate.sql`:\r\n\r\n    ALTER TABLE IF EXISTS &quot;schema_version&quot; RENAME CONSTRAINT &quot;schema_version_pk&quot; TO &quot;flyway_schema_history_pk&quot;;\r\n    ALTER TABLE IF EXISTS &quot;schema_version&quot; RENAME TO &quot;flyway_schema_history&quot;;\r\n    ALTER INDEX IF EXISTS &quot;schema_version_s_idx&quot; RENAME TO &quot;flyway_schema_history_s_idx&quot;;\r\n\r\n`V1__Initial.sql`:\r\n\r\n    CREATE TABLE FRUITS(\r\n        NAME CHARACTER VARYING\r\n    );\r\n\r\n`pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.me&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;flywaytest&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.200&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: https://stackoverflow.com/a/49067389\r\n  [2]: https://flywaydb.org/documentation/concepts/callbacks","title":"Flyway - normalising between &quot;schema_version&quot; / &quot;flyway_schema_history&quot; table names - &quot;Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table&quot;","body":"<p>I've been using Flyway in my application, where each use has their own persistent H2 database.</p>\n<p><a href=\"https://stackoverflow.com/a/49067389\">Flyway v5 changed the metadata table name from <code>schema_version</code> to <code>flyway_schema_history</code>, and could handle both - but with the caveat Flyway v6 would not do this.</a></p>\n<p>Due to the databases persisting, and Flyway being upgraded from v4 to v5, some users have a  <code>schema_version</code> table, while others have a <code>flyway_schema_history</code> table.</p>\n<p>Obviously Flyway v6 will not work for the databases with a <code>schema_version</code> table.</p>\n<p>Initially I was blocked, but then discovered <a href=\"https://flywaydb.org/documentation/concepts/callbacks\" rel=\"nofollow noreferrer\">callbacks</a> that allow SQL to be run at arbritrary points. So the obvious solution was a <code>beforeMigrate.sql</code> that renamed the <code>schema_version</code> table to <code>flyway_schema_history</code>.</p>\n<p>However when I try this, even though I can see from the debug logs the command is executed, I get the following erorr.\nI even get the error when I manually rename the table in the database outside of the callback functionality.</p>\n<pre><code>org.flywaydb.core.api.FlywayException: Found non-empty schema(s) &quot;PUBLIC&quot; but no schema history table. Use baseline() or set baselineOnMigrate to true to initialize the schema history table.\n</code></pre>\n<p>I'm getting this whether I tentatively upgrade to Flyway v6 or the latest v8.</p>\n<p>Is there something obvious I'm missing? Or is there a smarter way to move these existing databases to a format compatible with the latest flyway versions?</p>\n<p>I've created an MVCE using Maven but it's obviously slightly complex as it involves a database etc.</p>\n<p>Directory structure:</p>\n<pre><code>flywaytest\n    src\n        main\n            java\n                com\n                    me\n                        flywaytest\n                            FlywayTest.java\n            resources\n                db\n                    migration\n                        beforeMigrate.sql\n                        V1__Intial.sql\n    pom.xml\n</code></pre>\n<p><code>FlywayTest.java</code>:</p>\n<pre><code>package com.me.flywaytest;\n\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.Statement;\nimport java.text.MessageFormat;\n\nimport org.flywaydb.core.Flyway;\nimport org.h2.engine.Constants;\n\npublic class FlywayTest {\n    private static final String databaseName = &quot;fruits&quot;;\n    private static final String h2URL = MessageFormat.format(&quot;jdbc:h2:~/{0}&quot;, databaseName);\n    private static final Path databaseLocation = Paths.get(System.getProperty(&quot;user.home&quot;))\n        .resolve(databaseName + Constants.SUFFIX_MV_FILE);\n\n    public static void main(final String[] args) throws Exception {\n        Files.deleteIfExists(databaseLocation);\n\n        createOldDatabase();\n\n        Flyway.configure().dataSource(h2URL, null, null).load().migrate();\n    }\n\n    private static Connection getConnection() throws Exception {\n        return DriverManager.getConnection(h2URL, null, null);\n    }\n\n    /** Creates an example database as created by Flyway v4.2.0 */\n    private static void createOldDatabase() throws Exception {\n        // Old Flyway database generated by rolling back Flyway and running an initial\n        // migration and dumping it's SQL using the following:\n        // Flyway flyway = new Flyway();\n        // flyway.setDataSource(h2URL, null, null);\n        // flyway.migrate();\n        // try (Connection connection = getConnection()) {\n        // Script.process(connection,\n        // Paths.get(System.getProperty(&quot;user.home&quot;)).resolve(databaseName +\n        // &quot;.sql&quot;).toString(), &quot;&quot;, &quot;&quot;);\n        // }\n\n        // Which created the following:\n        final String fruitsSQL = &quot;&quot;&quot;\n            ;\n        CREATE USER IF NOT EXISTS &quot;&quot; SALT '' HASH '' ADMIN;\n        CREATE CACHED TABLE &quot;PUBLIC&quot;.&quot;schema_version&quot;(\n            &quot;installed_rank&quot; INT NOT NULL,\n            &quot;version&quot; VARCHAR(50),\n            &quot;description&quot; VARCHAR(200) NOT NULL,\n            &quot;type&quot; VARCHAR(20) NOT NULL,\n            &quot;script&quot; VARCHAR(1000) NOT NULL,\n            &quot;checksum&quot; INT,\n            &quot;installed_by&quot; VARCHAR(100) NOT NULL,\n            &quot;installed_on&quot; TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n            &quot;execution_time&quot; INT NOT NULL,\n            &quot;success&quot; BOOLEAN NOT NULL\n        );\n        ALTER TABLE &quot;PUBLIC&quot;.&quot;schema_version&quot; ADD CONSTRAINT &quot;PUBLIC&quot;.&quot;schema_version_pk&quot; PRIMARY KEY(&quot;installed_rank&quot;);\n        -- 1 +/- SELECT COUNT(*) FROM PUBLIC.schema_version;\n        INSERT INTO &quot;PUBLIC&quot;.&quot;schema_version&quot; VALUES\n        (1, '1', 'Initial', 'SQL', 'V1__Initial.sql', 691111646, '', TIMESTAMP '2021-12-26 00:07:37.878797', 0, TRUE);\n        CREATE INDEX &quot;PUBLIC&quot;.&quot;schema_version_s_idx&quot; ON &quot;PUBLIC&quot;.&quot;schema_version&quot;(&quot;success&quot;);\n        CREATE CACHED TABLE &quot;PUBLIC&quot;.&quot;FRUITS&quot;(\n            &quot;NAME&quot; CHARACTER VARYING\n        );\n        -- 0 +/- SELECT COUNT(*) FROM PUBLIC.FRUITS;\n\n        &quot;&quot;&quot;;\n\n        try (Statement statement = getConnection().createStatement()) {\n            statement.execute(fruitsSQL);\n        }\n    }\n}\n</code></pre>\n<p><code>beforeMigrate.sql</code>:</p>\n<pre><code>ALTER TABLE IF EXISTS &quot;schema_version&quot; RENAME CONSTRAINT &quot;schema_version_pk&quot; TO &quot;flyway_schema_history_pk&quot;;\nALTER TABLE IF EXISTS &quot;schema_version&quot; RENAME TO &quot;flyway_schema_history&quot;;\nALTER INDEX IF EXISTS &quot;schema_version_s_idx&quot; RENAME TO &quot;flyway_schema_history_s_idx&quot;;\n</code></pre>\n<p><code>V1__Initial.sql</code>:</p>\n<pre><code>CREATE TABLE FRUITS(\n    NAME CHARACTER VARYING\n);\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.me&lt;/groupId&gt;\n    &lt;artifactId&gt;flywaytest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;1.4.200&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n            &lt;version&gt;8.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","migration","log4j","log4j2"],"comments":[{"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"score":1,"creation_date":1640537746,"post_id":70487821,"comment_id":124601477,"body_markdown":"There is a problem with class `org.apache.log4j.helpers.PatternParser` the class is not existed","body":"There is a problem with class <code>org.apache.log4j.helpers.PatternParser</code> the class is not existed"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1640543542,"post_id":70487821,"comment_id":124602646,"body_markdown":"The classes in `log4j-1.2-api` are there to provide binary compatibility for the `org.apache.log4j.Logger` methods. Most of the remaining methods are no-ops, so you need to customize the new `org.apache.logging.log4j.core.layout.PatternLayout` class instead. What does your custom layout do? Does it just add new patterns or something more?","body":"The classes in <code>log4j-1.2-api</code> are there to provide binary compatibility for the <code>org.apache.log4j.Logger</code> methods. Most of the remaining methods are no-ops, so you need to customize the new <code>org.apache.logging.log4j.core.layout.PatternLayout</code> class instead. What does your custom layout do? Does it just add new patterns or something more?"},{"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"score":1,"creation_date":1640552498,"post_id":70487821,"comment_id":124604307,"body_markdown":"@PiotrP.Karwasz The thing is that class `org.apache.logging.log4j.core.layout.PatternLayout` cannot be extended because is final","body":"@PiotrP.Karwasz The thing is that class <code>org.apache.logging.log4j.core.layout.PatternLayout</code> cannot be extended because is final"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1640552741,"post_id":70487821,"comment_id":124604359,"body_markdown":"Additional patterns can be added as plugins. What does your custom layout do?","body":"Additional patterns can be added as plugins. What does your custom layout do?"},{"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"score":1,"creation_date":1640602249,"post_id":70487821,"comment_id":124612859,"body_markdown":"@PiotrP.Karwasz Thanks a lot. I&#39;ve already found my question https://stackoverflow.com/questions/58856775/log4j2-programmatic-message-substitution-replacement-for-patternlayout-from-log","body":"@PiotrP.Karwasz Thanks a lot. I&#39;ve already found my question <a href=\"https://stackoverflow.com/questions/58856775/log4j2-programmatic-message-substitution-replacement-for-patternlayout-from-log\" title=\"log4j2 programmatic message substitution replacement for patternlayout from log\">stackoverflow.com/questions/58856775/&hellip;</a>"}],"owner":{"account_id":2073128,"reputation":427,"user_id":1847148,"accept_rate":25,"display_name":"b3lowster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640534010,"creation_date":1640534010,"question_id":70487821,"body_markdown":"I&#39;m going to migrate an application from log4j to log4j2\r\nI&#39;ve figured out how to migrate log4j.properties and dependencies\r\n\r\nBut I have my own class which is extended `org.apache.log4j.PatternLayout` but log4j2 bridge library (log4j-1.2-api) has different `org.apache.log4j.PatternLayout`. Does anybody know how to migrate PatternLayout extension class\r\n\r\nThanks in advance","title":"How to migrate PatternLayout extension class from log4j to log4j2","body":"<p>I'm going to migrate an application from log4j to log4j2\nI've figured out how to migrate log4j.properties and dependencies</p>\n<p>But I have my own class which is extended <code>org.apache.log4j.PatternLayout</code> but log4j2 bridge library (log4j-1.2-api) has different <code>org.apache.log4j.PatternLayout</code>. Does anybody know how to migrate PatternLayout extension class</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","multipartform-data","openapi","springdoc"],"comments":[{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1658412224,"post_id":70439574,"comment_id":129049497,"body_markdown":"Hi, did you get a chance to fix this issue. I am also facing the same, it would be helpful if you can answer.","body":"Hi, did you get a chance to fix this issue. I am also facing the same, it would be helpful if you can answer."},{"owner":{"account_id":1886953,"reputation":396,"user_id":1705983,"accept_rate":71,"display_name":"gofrm"},"score":0,"creation_date":1659981739,"post_id":70439574,"comment_id":129419859,"body_markdown":"I am working around this issue in that I only use MultipartFile at the moment and avoiding MultipartRequest completely","body":"I am working around this issue in that I only use MultipartFile at the moment and avoiding MultipartRequest completely"}],"answers":[{"tags":[],"owner":{"account_id":1151396,"reputation":4281,"user_id":1133021,"accept_rate":70,"display_name":"brianbro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640532266,"creation_date":1640532266,"answer_id":70487610,"question_id":70439574,"body_markdown":"The `MultipartRequest`, is not supported out of the box.\r\nYou can use the following code to enable the support.\r\n\r\n    static{\r\n    \tSpringDocUtils.getConfig().addFileType(MultipartRequest.class);\r\n    }\r\n\r\nThis support will be added for the future release.\r\n","title":"Automatic OpenAPI generation in Spring with multipart requests","body":"<p>The <code>MultipartRequest</code>, is not supported out of the box.\nYou can use the following code to enable the support.</p>\n<pre><code>static{\n    SpringDocUtils.getConfig().addFileType(MultipartRequest.class);\n}\n</code></pre>\n<p>This support will be added for the future release.</p>\n"}],"owner":{"account_id":1886953,"reputation":396,"user_id":1705983,"accept_rate":71,"display_name":"gofrm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640532266,"creation_date":1640108582,"question_id":70439574,"body_markdown":"I have a problem with the OpenAPI generator in a spring boot application generating the definition of a REST endpoint that accepts a multipart request.\r\n\r\nWhen I am explicitly defining the parts like shown below. It generates an OpenAPI definition that is working/valid when used in for example in Azure API Management.\r\n\r\n```\r\n@PostMapping(consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\npublic List&lt;String&gt; upload(@RequestPart MultipartFile file, @RequestPart UploadMetaData data) {\r\n\r\n  . . .\r\n\r\n}\r\n```\r\n\r\n```\r\npaths:\r\n  /api/v1/upload:\r\n    post:\r\n      operationId: upload\r\n      requestBody:\r\n        content:\r\n          multipart/form-data:\r\n            schema:\r\n              required:\r\n              - data\r\n              - file\r\n              type: object\r\n              properties:\r\n                gatewayId:\r\n                  type: string\r\n                file:\r\n                  type: string\r\n                  format: binary\r\n                data:\r\n                  $ref: &#39;#/components/schemas/UploadMetaData&#39;\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: OK\r\n          content:\r\n            &#39;*/*&#39;:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  type: string\r\n```\r\n\r\nBut when I am trying to use `MultipartRequest` instead of the annotated -`File`, the controller itself is still working as expected accepting an arbitrary list of multipart segments when I call it directly, but the OpenAPI definition that is generated is not reflecting the actual interface because it is trying to use the `request` parameter as an URL path parameter, so when I import this spec into Azure API Management it is not working.\r\n\r\n```\r\n@PostMapping(consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\npublic List&lt;String&gt; upload(MultipartRequest request) {\r\n\r\n  . . .\r\n\r\n}\r\n```\r\n\r\n```\r\npaths:\r\n  /api/v1/upload:\r\n  post:\r\n    operationId: upload\r\n    parameters:\r\n    - name: request\r\n      in: query\r\n      required: true\r\n      schema:\r\n        $ref: &#39;#/components/schemas/MultipartRequest&#39;\r\n    requestBody:\r\n      content:\r\n        multipart/form-data:\r\n          schema:\r\n            type: string\r\n    responses:\r\n      &quot;200&quot;:\r\n        description: OK\r\n        content:\r\n          &#39;*/*&#39;:\r\n            schema:\r\n              type: array\r\n              items:\r\n                type: string\r\n```\r\n\r\nOther than giving my API a name, I didn&#39;t configure anything special for the generator:\r\n\r\n```\r\n@OpenAPIDefinition(info = @Info(title = &quot;My REST API&quot;, version = &quot;1.0&quot;))\r\npublic class MySpringApplication {\r\n\r\n. . . \r\n\r\n}\r\n```\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n  &lt;version&gt;1.5.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIs this a bug or am I missing some annotation or other configuration here?","title":"Automatic OpenAPI generation in Spring with multipart requests","body":"<p>I have a problem with the OpenAPI generator in a spring boot application generating the definition of a REST endpoint that accepts a multipart request.</p>\n<p>When I am explicitly defining the parts like shown below. It generates an OpenAPI definition that is working/valid when used in for example in Azure API Management.</p>\n<pre><code>@PostMapping(consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\npublic List&lt;String&gt; upload(@RequestPart MultipartFile file, @RequestPart UploadMetaData data) {\n\n  . . .\n\n}\n</code></pre>\n<pre><code>paths:\n  /api/v1/upload:\n    post:\n      operationId: upload\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              required:\n              - data\n              - file\n              type: object\n              properties:\n                gatewayId:\n                  type: string\n                file:\n                  type: string\n                  format: binary\n                data:\n                  $ref: '#/components/schemas/UploadMetaData'\n      responses:\n        &quot;200&quot;:\n          description: OK\n          content:\n            '*/*':\n              schema:\n                type: array\n                items:\n                  type: string\n</code></pre>\n<p>But when I am trying to use <code>MultipartRequest</code> instead of the annotated -<code>File</code>, the controller itself is still working as expected accepting an arbitrary list of multipart segments when I call it directly, but the OpenAPI definition that is generated is not reflecting the actual interface because it is trying to use the <code>request</code> parameter as an URL path parameter, so when I import this spec into Azure API Management it is not working.</p>\n<pre><code>@PostMapping(consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\npublic List&lt;String&gt; upload(MultipartRequest request) {\n\n  . . .\n\n}\n</code></pre>\n<pre><code>paths:\n  /api/v1/upload:\n  post:\n    operationId: upload\n    parameters:\n    - name: request\n      in: query\n      required: true\n      schema:\n        $ref: '#/components/schemas/MultipartRequest'\n    requestBody:\n      content:\n        multipart/form-data:\n          schema:\n            type: string\n    responses:\n      &quot;200&quot;:\n        description: OK\n        content:\n          '*/*':\n            schema:\n              type: array\n              items:\n                type: string\n</code></pre>\n<p>Other than giving my API a name, I didn't configure anything special for the generator:</p>\n<pre><code>@OpenAPIDefinition(info = @Info(title = &quot;My REST API&quot;, version = &quot;1.0&quot;))\npublic class MySpringApplication {\n\n. . . \n\n}\n</code></pre>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n  &lt;version&gt;1.5.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is this a bug or am I missing some annotation or other configuration here?</p>\n"},{"tags":["java","android","android-layout","kotlin","widget"],"comments":[{"owner":{"account_id":5879127,"reputation":4305,"user_id":4629101,"accept_rate":83,"display_name":"Pankaj Lilan"},"score":0,"creation_date":1529040728,"post_id":50868182,"comment_id":88740843,"body_markdown":"Follow this answer and your problem will be solved. [How to create ripple effect in simple layout](https://stackoverflow.com/a/46680254/4629101)","body":"Follow this answer and your problem will be solved. <a href=\"https://stackoverflow.com/a/46680254/4629101\">How to create ripple effect in simple layout</a>"}],"answers":[{"tags":[],"owner":{"account_id":8217184,"reputation":874,"user_id":6183076,"display_name":"Gaurav Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529036687,"creation_date":1529036687,"answer_id":50869082,"question_id":50868182,"body_markdown":"Add these attribute to your LinearLayout\r\n\r\n        android:clickable=&quot;true&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:foreground=&quot;?android:attr/selectableItemBackground&quot;\r\n\r\nNote: This will not work below lollipop. ","title":"Android widget ripple background when clicked","body":"<p>Add these attribute to your LinearLayout</p>\n\n<pre><code>    android:clickable=\"true\"\n    android:focusable=\"true\"\n    android:foreground=\"?android:attr/selectableItemBackground\"\n</code></pre>\n\n<p>Note: This will not work below lollipop. </p>\n"},{"tags":[],"owner":{"account_id":14626192,"reputation":596,"user_id":10563474,"display_name":"Alektas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561482682,"creation_date":1561482682,"answer_id":56758983,"question_id":50868182,"body_markdown":" You can make a ripple drawable:\r\n\r\n    &lt;ripple xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:color=&quot;@color/colorPrimary&quot;&gt;\r\n        &lt;item android:id=&quot;@android:id/mask&quot;&gt;\r\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    &lt;/ripple&gt;\r\n    \r\n\r\n Then set this drawable as a background of your layout\r\n\r\n ","title":"Android widget ripple background when clicked","body":"<p>You can make a ripple drawable:</p>\n\n<pre><code>&lt;ripple xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:color=\"@color/colorPrimary\"&gt;\n    &lt;item android:id=\"@android:id/mask\"&gt;\n        &lt;shape android:shape=\"rectangle\"&gt;\n            &lt;solid android:color=\"@android:color/white\" /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/ripple&gt;\n</code></pre>\n\n<p>Then set this drawable as a background of your layout</p>\n"},{"tags":[],"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640531693,"creation_date":1640531693,"answer_id":70487549,"question_id":50868182,"body_markdown":"I was using \r\n\r\n    android:background=&quot;?selectableItemBackground&quot;\r\n\r\n\r\nissue was solved after using,\r\n\r\n    android:background=&quot;?android:attr/selectableItemBackground&quot;\r\n\r\n","title":"Android widget ripple background when clicked","body":"<p>I was using</p>\n<pre><code>android:background=&quot;?selectableItemBackground&quot;\n</code></pre>\n<p>issue was solved after using,</p>\n<pre><code>android:background=&quot;?android:attr/selectableItemBackground&quot;\n</code></pre>\n"}],"owner":{"account_id":1386208,"reputation":6896,"user_id":1318213,"accept_rate":85,"display_name":"waylonion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1640531693,"creation_date":1529027647,"question_id":50868182,"body_markdown":"How can I get a button on a WIDGET on Android to display the Material ripple when clicked?\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/button_power&quot;\r\n        style=&quot;@style/MyStyle&quot;&gt;\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image_view_power&quot;\r\n            android:layout_width=&quot;@dimen/widget_button_image_size&quot;\r\n            android:layout_height=&quot;@dimen/widget_button_image_size&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:contentDescription=&quot;power&quot;\r\n            android:src=&quot;@drawable/baseline_power_settings_new_24&quot;\r\n            android:tint=&quot;@color/primary_text&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/text_view_power&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;On&quot;\r\n            android:textColor=&quot;@color/primary_text&quot;\r\n            android:textSize=&quot;@dimen/widget_button_text_size&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nstyle.xml\r\n\r\n    &lt;style name=&quot;MyStyle&quot; parent=&quot;Base.Widget.AppCompat.Button.Borderless&quot;&gt;\r\n        &lt;item name=&quot;android:layout_width&quot;&gt;@dimen/button_height&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_height&quot;&gt;@dimen/button_height&lt;/item&gt;\r\n        &lt;item name=&quot;android:minHeight&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:padding&quot;&gt;8dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:minWidth&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:drawablePadding&quot;&gt;0dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@color/white_pressed&lt;/item&gt;\r\n        &lt;item name=&quot;android:clickable&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:focusable&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:orientation&quot;&gt;vertical&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAbove shows how I&#39;m using a linear layout to represent a clickable button for the widget. It also includes the style details.\r\n\r\nI tried adding the line\r\n\r\n    android:background=&quot;?attr/selectableItemBackground&quot;\r\n\r\nto the LinearLayout but got an error on the widget which stated &quot;Problem loading widget&quot;. The problem also occurred if I moved the attribute to the style itself.\r\n\r\nIt looks like what I want to achieve is possible since the Google Drive widget on Android has this effect. How is this done?\r\n\r\nThank you!","title":"Android widget ripple background when clicked","body":"<p>How can I get a button on a WIDGET on Android to display the Material ripple when clicked?</p>\n\n<pre><code>&lt;LinearLayout\n    android:id=\"@+id/button_power\"\n    style=\"@style/MyStyle\"&gt;\n    &lt;ImageView\n        android:id=\"@+id/image_view_power\"\n        android:layout_width=\"@dimen/widget_button_image_size\"\n        android:layout_height=\"@dimen/widget_button_image_size\"\n        android:layout_gravity=\"center_horizontal\"\n        android:contentDescription=\"power\"\n        android:src=\"@drawable/baseline_power_settings_new_24\"\n        android:tint=\"@color/primary_text\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/text_view_power\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"On\"\n        android:textColor=\"@color/primary_text\"\n        android:textSize=\"@dimen/widget_button_text_size\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>style.xml</p>\n\n<pre><code>&lt;style name=\"MyStyle\" parent=\"Base.Widget.AppCompat.Button.Borderless\"&gt;\n    &lt;item name=\"android:layout_width\"&gt;@dimen/button_height&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;@dimen/button_height&lt;/item&gt;\n    &lt;item name=\"android:minHeight\"&gt;0dp&lt;/item&gt;\n    &lt;item name=\"android:padding\"&gt;8dp&lt;/item&gt;\n    &lt;item name=\"android:minWidth\"&gt;0dp&lt;/item&gt;\n    &lt;item name=\"android:textAllCaps\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:drawablePadding\"&gt;0dp&lt;/item&gt;\n    &lt;item name=\"android:background\"&gt;@color/white_pressed&lt;/item&gt;\n    &lt;item name=\"android:clickable\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:focusable\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:orientation\"&gt;vertical&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Above shows how I'm using a linear layout to represent a clickable button for the widget. It also includes the style details.</p>\n\n<p>I tried adding the line</p>\n\n<pre><code>android:background=\"?attr/selectableItemBackground\"\n</code></pre>\n\n<p>to the LinearLayout but got an error on the widget which stated \"Problem loading widget\". The problem also occurred if I moved the attribute to the style itself.</p>\n\n<p>It looks like what I want to achieve is possible since the Google Drive widget on Android has this effect. How is this done?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","opencsv"],"answers":[{"tags":[],"owner":{"account_id":9840607,"reputation":51,"user_id":7289703,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640245104,"creation_date":1640245104,"answer_id":70459039,"question_id":70455598,"body_markdown":"If you use opencsv , how about writing the code like below? Please review.\r\n\r\n\r\n~~~java\r\npublic class CsvReader {\r\n    public static void readDataLineByLine(String file) {\r\n        try {\r\n            // Create an object of file reader class with CSV file as a parameter.\r\n            FileReader filereader = new FileReader(file);\r\n\r\n            // create csvParser object with\r\n            // custom separator semi-colon\r\n            CSVParser parser = new CSVParserBuilder().withSeparator(&#39;;&#39;).build();\r\n\r\n            // create csvReader object with parameter\r\n            // filereader and parser\r\n            CSVReader csvReader = new CSVReaderBuilder(filereader).withCSVParser(parser).build();\r\n\r\n            List&lt;String&gt; entertainment = new ArrayList&lt;&gt;();\r\n            // changed part \r\n            int index = 0;\r\n            while ((nextLine = reader.readNext()) != null) {   // 2\r\n                // csv header exclusion condition\r\n                if(index == 0) {\r\n                   continue;\r\n                }\r\n                String name = nextLine[0];\r\n                String amount = nextLine[1];\r\n                if (name.startsWith(&quot;Netflix&quot;)){\r\n                    entertainment.add(amount);\r\n                }\r\n                index++;\r\n            }\r\n            // Print Data.\r\n            System.out.println();\r\n            System.out.println(entertainment);\r\n            \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        CsvReader.readDataLineByLine(&quot;tt.csv&quot;);\r\n    }\r\n}\r\n~~~","title":"Java store specific csv value to list","body":"<p>If you use opencsv , how about writing the code like below? Please review.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CsvReader {\n    public static void readDataLineByLine(String file) {\n        try {\n            // Create an object of file reader class with CSV file as a parameter.\n            FileReader filereader = new FileReader(file);\n\n            // create csvParser object with\n            // custom separator semi-colon\n            CSVParser parser = new CSVParserBuilder().withSeparator(';').build();\n\n            // create csvReader object with parameter\n            // filereader and parser\n            CSVReader csvReader = new CSVReaderBuilder(filereader).withCSVParser(parser).build();\n\n            List&lt;String&gt; entertainment = new ArrayList&lt;&gt;();\n            // changed part \n            int index = 0;\n            while ((nextLine = reader.readNext()) != null) {   // 2\n                // csv header exclusion condition\n                if(index == 0) {\n                   continue;\n                }\n                String name = nextLine[0];\n                String amount = nextLine[1];\n                if (name.startsWith(&quot;Netflix&quot;)){\n                    entertainment.add(amount);\n                }\n                index++;\n            }\n            // Print Data.\n            System.out.println();\n            System.out.println(entertainment);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n        CsvReader.readDataLineByLine(&quot;tt.csv&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15332682,"reputation":79,"user_id":11061962,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70459039,"answer_count":1,"score":0,"last_activity_date":1640531246,"creation_date":1640210535,"question_id":70455598,"body_markdown":"The CSV look like this:\r\n```csv\r\n    Name;Amount;Date\r\n    Netflix;5;1.1.2021\r\n```\r\nI want a different list for each expense, one for entertainment one for transport etc. However, I only want the amount to be stored on a list, how would I do that?\r\n\r\n```java\r\npublic class CsvReader {\r\n    public static void readDataLineByLine(String file) {\r\n        try {\r\n            // Create an object of file reader class with CSV file as a parameter.\r\n            FileReader filereader = new FileReader(file);\r\n\r\n            // create csvParser object with\r\n            // custom separator semi-colon\r\n            CSVParser parser = new CSVParserBuilder().withSeparator(&#39;;&#39;).build();\r\n\r\n            // create csvReader object with parameter\r\n            // filereader and parser\r\n            CSVReader csvReader = new CSVReaderBuilder(filereader).withCSVParser(parser).build();\r\n\r\n            // Read all data at once\r\n            List&lt;String[]&gt; allData = csvReader.readAll();\r\n            List&lt;String&gt; entertainment = new ArrayList&lt;&gt;();\r\n\r\n            // Print Data.\r\n            for (String[] row : allData) {\r\n                for (String cell : row) {\r\n                    System.out.print(cell + &quot;\\t&quot;);\r\n                    if (cell.startsWith(&quot;Netflix&quot;)){\r\n                        entertainment.add(cell);\r\n                    }\r\n                }\r\n                System.out.println();\r\n                System.out.println(entertainment);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        CsvReader.readDataLineByLine(&quot;tt.csv&quot;);\r\n    }\r\n}\r\n``` \r\n\r\n","title":"Java store specific csv value to list","body":"<p>The CSV look like this:</p>\n<pre><code>    Name;Amount;Date\n    Netflix;5;1.1.2021\n</code></pre>\n<p>I want a different list for each expense, one for entertainment one for transport etc. However, I only want the amount to be stored on a list, how would I do that?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CsvReader {\n    public static void readDataLineByLine(String file) {\n        try {\n            // Create an object of file reader class with CSV file as a parameter.\n            FileReader filereader = new FileReader(file);\n\n            // create csvParser object with\n            // custom separator semi-colon\n            CSVParser parser = new CSVParserBuilder().withSeparator(';').build();\n\n            // create csvReader object with parameter\n            // filereader and parser\n            CSVReader csvReader = new CSVReaderBuilder(filereader).withCSVParser(parser).build();\n\n            // Read all data at once\n            List&lt;String[]&gt; allData = csvReader.readAll();\n            List&lt;String&gt; entertainment = new ArrayList&lt;&gt;();\n\n            // Print Data.\n            for (String[] row : allData) {\n                for (String cell : row) {\n                    System.out.print(cell + &quot;\\t&quot;);\n                    if (cell.startsWith(&quot;Netflix&quot;)){\n                        entertainment.add(cell);\n                    }\n                }\n                System.out.println();\n                System.out.println(entertainment);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n        CsvReader.readDataLineByLine(&quot;tt.csv&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","biginteger","notation"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1640472456,"post_id":70483109,"comment_id":124592989,"body_markdown":"Why aa, ab, ac when there is [quadrillion, quintillion, sextillion, etc](https://www.thoughtco.com/zeros-in-million-billion-trillion-2312346)? I&#39;ve seen them abbreviated with one or two letters in many games. On the other hand, if you want something systematic that scales infinitely, it would probably be better to use the scientific notation rather than an ad-hoc aa, ab, ac","body":"Why aa, ab, ac when there is <a href=\"https://www.thoughtco.com/zeros-in-million-billion-trillion-2312346\" rel=\"nofollow noreferrer\">quadrillion, quintillion, sextillion, etc</a>? I&#39;ve seen them abbreviated with one or two letters in many games. On the other hand, if you want something systematic that scales infinitely, it would probably be better to use the scientific notation rather than an ad-hoc aa, ab, ac"},{"owner":{"account_id":19247416,"reputation":39,"user_id":14066170,"display_name":"DerNoob"},"score":0,"creation_date":1640472646,"post_id":70483109,"comment_id":124593007,"body_markdown":"I still want the user to understand the number and with the scientific notation it&#39;s very hard to understand the number. I also can&#39;t just continue with quadrillion, quintillion etc .. because 1. the user probably doesn&#39;t know the units anymore and letters like &quot;q&quot; would be doubled and I don&#39;t want the string to get to long with the full unit-name.","body":"I still want the user to understand the number and with the scientific notation it&#39;s very hard to understand the number. I also can&#39;t just continue with quadrillion, quintillion etc .. because 1. the user probably doesn&#39;t know the units anymore and letters like &quot;q&quot; would be doubled and I don&#39;t want the string to get to long with the full unit-name."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1640473328,"post_id":70483109,"comment_id":124593072,"body_markdown":"*I still want the user to understand the number and with the scientific notation it&#39;s very hard to understand the number* - I precisely believe the opposite of this, `1.23e18` is clearer than an inexistent unit. *the user probably doesn&#39;t know the units anymore* - `aa` is a unit that doesn&#39;t exist, so no one knows it at all, so you might as well use the actual unit for this quantity, at least some people will know. *letters like &quot;q&quot; would be doubled and I don&#39;t want the string to get too long* - there are other ways to deal with this: q/Q, or qa/qi. Anything is better than aa/ab.","body":"<i>I still want the user to understand the number and with the scientific notation it&#39;s very hard to understand the number</i> - I precisely believe the opposite of this, <code>1.23e18</code> is clearer than an inexistent unit. <i>the user probably doesn&#39;t know the units anymore</i> - <code>aa</code> is a unit that doesn&#39;t exist, so no one knows it at all, so you might as well use the actual unit for this quantity, at least some people will know. <i>letters like &quot;q&quot; would be doubled and I don&#39;t want the string to get too long</i> - there are other ways to deal with this: q/Q, or qa/qi. Anything is better than aa/ab."},{"owner":{"account_id":19247416,"reputation":39,"user_id":14066170,"display_name":"DerNoob"},"score":0,"creation_date":1640473606,"post_id":70483109,"comment_id":124593097,"body_markdown":"but the user understands that &quot;aa&quot; is bigger then for example &quot;t&quot; and smaller then &quot;ab&quot;","body":"but the user understands that &quot;aa&quot; is bigger then for example &quot;t&quot; and smaller then &quot;ab&quot;"},{"owner":{"account_id":19247416,"reputation":39,"user_id":14066170,"display_name":"DerNoob"},"score":0,"creation_date":1640473792,"post_id":70483109,"comment_id":124593123,"body_markdown":"take a look at this: https://gram.gs/gramlog/formatting-big-numbers-aa-notation/ and maybe you will understand me","body":"take a look at this: <a href=\"https://gram.gs/gramlog/formatting-big-numbers-aa-notation/\" rel=\"nofollow noreferrer\">gram.gs/gramlog/formatting-big-numbers-aa-notation</a> and maybe you will understand me"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1640479525,"post_id":70483109,"comment_id":124593699,"body_markdown":"I am with @Joffrey on this. This `aa` notation is unreadable unless you are very familiar with it (which I bet not many users will be). Why do you think that anyone will better understand `that &quot;aa&quot; is bigger than for example &quot;t&quot; and smaller than &quot;ab&quot;` than the well-known battle-tested scientific notation? No regular user will ever understand the `aa` notation unless you add next to it exactly the same link that you shared in the previous comment.","body":"I am with @Joffrey on this. This <code>aa</code> notation is unreadable unless you are very familiar with it (which I bet not many users will be). Why do you think that anyone will better understand <code>that &quot;aa&quot; is bigger than for example &quot;t&quot; and smaller than &quot;ab&quot;</code> than the well-known battle-tested scientific notation? No regular user will ever understand the <code>aa</code> notation unless you add next to it exactly the same link that you shared in the previous comment."},{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1640486364,"post_id":70483109,"comment_id":124594222,"body_markdown":"@Joffrey &amp; @Jo&#227;o Dias, I 100% agree with you that `aa` is not the best for most cases and that scientific notation is better. But in other cases `aa` notation is the actual expected norm, for example in idle clickers games. It doesn&#39;t matter if we agree the notation or not, people expect that to be implemented. And if OP needs help with that specific thing, then OP needs help with that specific thing.","body":"@Joffrey &amp; @Jo&#227;o Dias, I 100% agree with you that <code>aa</code> is not the best for most cases and that scientific notation is better. But in other cases <code>aa</code> notation is the actual expected norm, for example in idle clickers games. It doesn&#39;t matter if we agree the notation or not, people expect that to be implemented. And if OP needs help with that specific thing, then OP needs help with that specific thing."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":2,"creation_date":1640522553,"post_id":70483109,"comment_id":124598468,"body_markdown":"@DerNoob The linked page complains that neither scientific notation nor S.I. prefixes are widely used or understood (which I dispute)  but then invents another yet notation is which far _less_ widely used and understood!(Also an inconsistent hybrid, less concise than SI prefixes, and needs more existing knowledge than scientific notation.)Unless this is a fixed, unchangeable requirement I&#39;d strongly suggest [S.I. prefixes](https://en.wikipedia.org/wiki/International_System_of_Units#Prefixes) or [scientific notation](https://en.wikipedia.org/wiki/Scientific_notation) instead.","body":"@DerNoob The linked page complains that neither scientific notation nor S.I. prefixes are widely used or understood (which I dispute)  but then invents another yet notation is which far <i>less</i> widely used and understood!(Also an inconsistent hybrid, less concise than SI prefixes, and needs more existing knowledge than scientific notation.)Unless this is a fixed, unchangeable requirement I&#39;d strongly suggest <a href=\"https://en.wikipedia.org/wiki/International_System_of_Units#Prefixes\" rel=\"nofollow noreferrer\">S.I. prefixes</a> or <a href=\"https://en.wikipedia.org/wiki/Scientific_notation\" rel=\"nofollow noreferrer\">scientific notation</a> instead."}],"answers":[{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640531081,"creation_date":1640531081,"answer_id":70487475,"question_id":70483109,"body_markdown":"This is explicitly not a solution, but only a quick attempt to translate the code on gram.gs/gramlog/formatting-big-numbers-aa-notation to Kotlin:\r\n\r\n    import java.text.DecimalFormat\r\n    import kotlin.math.floor\r\n    import kotlin.math.log\r\n    import kotlin.math.pow\r\n    \r\n    fun formatNumber(value: Double): String {\r\n    \r\n      val charA = &#39;a&#39;.code\r\n    \r\n      val units = mapOf(\r\n        0 to &quot;&quot;,\r\n        1 to &quot;K&quot;,\r\n        2 to &quot;M&quot;,\r\n        3 to &quot;B&quot;,\r\n        4 to &quot;T&quot;\r\n      )\r\n    \r\n      if (value &lt; 1.0) {\r\n        return &quot;0&quot;\r\n      }\r\n    \r\n      val n = log(value, 1000.0).toInt()\r\n      val m = value / 1000.0.pow(n)\r\n      \r\n      var unit = &quot;&quot;;\r\n    \r\n      if (n &lt; units.count()) {\r\n        unit = units[n]!!\r\n      } else {\r\n        val unitInt = n - units.count()\r\n        val secondUnit = unitInt % 26\r\n        val firstUnit = unitInt / 26\r\n        unit = (firstUnit + charA).toChar().toString() + (secondUnit + charA).toChar().toString()\r\n      }\r\n    \r\n      return DecimalFormat(&quot;#.##&quot;).format(floor(m * 100) / 100) + unit\r\n    \r\n    }\r\n    \r\n    println((formatNumber(1.0)))\r\n    println((formatNumber(1_000.0)))\r\n    println((formatNumber(1_000_000.0)))\r\n    println((formatNumber(1_000_000_000.0)))\r\n    println((formatNumber(1_000_000_000_000.0)))\r\n    println((formatNumber(1_000_000_000_000_000.0)))\r\n    println((formatNumber(1_000_000_000_000_000_000.0)))\r\n\r\n","title":"Java/Kotlin convert numbers into a better string representation (&quot;aa&quot; notation)","body":"<p>This is explicitly not a solution, but only a quick attempt to translate the code on gram.gs/gramlog/formatting-big-numbers-aa-notation to Kotlin:</p>\n<pre><code>import java.text.DecimalFormat\nimport kotlin.math.floor\nimport kotlin.math.log\nimport kotlin.math.pow\n\nfun formatNumber(value: Double): String {\n\n  val charA = 'a'.code\n\n  val units = mapOf(\n    0 to &quot;&quot;,\n    1 to &quot;K&quot;,\n    2 to &quot;M&quot;,\n    3 to &quot;B&quot;,\n    4 to &quot;T&quot;\n  )\n\n  if (value &lt; 1.0) {\n    return &quot;0&quot;\n  }\n\n  val n = log(value, 1000.0).toInt()\n  val m = value / 1000.0.pow(n)\n  \n  var unit = &quot;&quot;;\n\n  if (n &lt; units.count()) {\n    unit = units[n]!!\n  } else {\n    val unitInt = n - units.count()\n    val secondUnit = unitInt % 26\n    val firstUnit = unitInt / 26\n    unit = (firstUnit + charA).toChar().toString() + (secondUnit + charA).toChar().toString()\n  }\n\n  return DecimalFormat(&quot;#.##&quot;).format(floor(m * 100) / 100) + unit\n\n}\n\nprintln((formatNumber(1.0)))\nprintln((formatNumber(1_000.0)))\nprintln((formatNumber(1_000_000.0)))\nprintln((formatNumber(1_000_000_000.0)))\nprintln((formatNumber(1_000_000_000_000.0)))\nprintln((formatNumber(1_000_000_000_000_000.0)))\nprintln((formatNumber(1_000_000_000_000_000_000.0)))\n</code></pre>\n"}],"owner":{"account_id":19247416,"reputation":39,"user_id":14066170,"display_name":"DerNoob"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70487475,"answer_count":1,"score":0,"last_activity_date":1640531081,"creation_date":1640471023,"question_id":70483109,"body_markdown":"I am currently programming a point system for players in my app. Since these points can get very large very quickly, I would like to have a system that converts a BigInteger into a better representation (see below).\r\n\r\nExamples:\r\n```\r\n1000 -&gt; 1k\r\n5555555 -&gt; 5.55m\r\n1000000000000000000 -&gt; 1ab\r\n```\r\n\r\nunits: k, m, b, t, aa, ab, ac ...\r\n\r\n\r\n\r\nI really doesn&#39;t have anything yet, as I don&#39;t know where to start.\r\nI found [this][1], but it&#39;s in C# and I don&#39;t really know how to convert it into java/kotlin.\r\n\r\nMaybe someone can give me an entry point or just a a code snippet which does that? :D\r\n\r\n*sorry for the bad english*\r\n\r\n\r\n  [1]: https://gram.gs/gramlog/formatting-big-numbers-aa-notation/","title":"Java/Kotlin convert numbers into a better string representation (&quot;aa&quot; notation)","body":"<p>I am currently programming a point system for players in my app. Since these points can get very large very quickly, I would like to have a system that converts a BigInteger into a better representation (see below).</p>\n<p>Examples:</p>\n<pre><code>1000 -&gt; 1k\n5555555 -&gt; 5.55m\n1000000000000000000 -&gt; 1ab\n</code></pre>\n<p>units: k, m, b, t, aa, ab, ac ...</p>\n<p>I really doesn't have anything yet, as I don't know where to start.\nI found <a href=\"https://gram.gs/gramlog/formatting-big-numbers-aa-notation/\" rel=\"nofollow noreferrer\">this</a>, but it's in C# and I don't really know how to convert it into java/kotlin.</p>\n<p>Maybe someone can give me an entry point or just a a code snippet which does that? :D</p>\n<p><em>sorry for the bad english</em></p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1640485314,"post_id":70483846,"comment_id":124594140,"body_markdown":"Welcome to Stack Overflow. Please read [ask].  Do not post images of code or error messages, copy/paste the relevant code into your question and remember to format as code.","body":"Welcome to Stack Overflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.  Do not post images of code or error messages, copy/paste the relevant code into your question and remember to format as code."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1640498249,"post_id":70483846,"comment_id":124595147,"body_markdown":"Does this answer your question? [Why does my function that calls an API return an empty or null value?](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-return-an-empty-or-null-value\">Why does my function that calls an API return an empty or null value?</a>"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1640531271,"post_id":70483846,"comment_id":124600185,"body_markdown":"Data is loaded from Firestore (and most modern cloud APIs) asynchronously, which means that your `return p[0]` runs before `p[0] = new Player...` ever executes. If you set breakpoints on these lines and run in a debugger, or add logging before the lines, you can most easily see this. The solution is always the same: any code that needs the data from Firestore, must be inside `onSuccess`, be called from there, or be otherwise synchronized.  See https://stackoverflow.com/a/48500679 and https://stackoverflow.com/a/51002413.","body":"Data is loaded from Firestore (and most modern cloud APIs) asynchronously, which means that your <code>return p[0]</code> runs before <code>p[0] = new Player...</code> ever executes. If you set breakpoints on these lines and run in a debugger, or add logging before the lines, you can most easily see this. The solution is always the same: any code that needs the data from Firestore, must be inside <code>onSuccess</code>, be called from there, or be otherwise synchronized.  See <a href=\"https://stackoverflow.com/a/48500679\">stackoverflow.com/a/48500679</a> and <a href=\"https://stackoverflow.com/a/51002413\">stackoverflow.com/a/51002413</a>."}],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640490468,"creation_date":1640490046,"answer_id":70484068,"question_id":70483846,"body_markdown":"It skips over it because `OnSuccessListener` hasn&#39;t ran yet its a callback. It won&#39;t run until it has something from `FireStore`. You are immediately returning something that hasn&#39;t been retrieved yet.\r\n\r\nSo how do you fix it? You will need some kind of callback feature. You can use `RxJava`, `ListenableFuture`, or you could also just reuse the `OnSuccessListener` callback.\r\n\r\n      public static void getPlayer(String playerID, OnSuccessListener&lt;Player&gt; listener ) {\r\n    \r\n        final Player[] p = new Player[1];\r\n        DocumentReference playerRef = fStore.collection(&quot;users&quot;).document(playerID);\r\n    \r\n        playerRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                if (documentSnapshot.exists()) {\r\n                    // getting all the attributes of the player from the database\r\n                    String age = documentSnapshot.getString(&quot;age&quot;);\r\n                    String city = documentSnapshot.getString(&quot;city&quot;);\r\n                    String email = documentSnapshot.getString(&quot;email&quot;);\r\n                    String fullName = documentSnapshot.getString(&quot;fullName&quot;);\r\n                    String gender = documentSnapshot.getString(&quot;gender&quot;);\r\n                    String nickName = documentSnapshot.getString(&quot;nickName&quot;);\r\n                    String password = documentSnapshot.getString(&quot;password&quot;);\r\n                    String phone = documentSnapshot.getString(&quot;phone&quot;);\r\n                    \r\n                    // creates a new player\r\n                    p[0] = new Player(fullName, nickName, email, password, phone, city, gender, age); \r\n                    //HERE\r\n                    //Send your player to your listener arg.\r\n                    listener.onSuccess(p[0]);\r\n                } else {\r\n                    Toast.makeText(context.getApplicationContext(), &quot;Player not found&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(context.getApplicationContext(), &quot;Failed to fetch data&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                });\r\n    \r\n          return;\r\n      }\r\n\r\n How you call `getPlayer` now\r\n\r\n     getPlayer(&quot;id&quot;,(player)-&gt;{\r\n         player.doSomething();\r\n         //HERE is your player received from FireStore\r\n     });\r\n\r\n","title":"What is the reason that the code for &quot;addOnSuccessListener&quot; is being skipped?","body":"<p>It skips over it because <code>OnSuccessListener</code> hasn't ran yet its a callback. It won't run until it has something from <code>FireStore</code>. You are immediately returning something that hasn't been retrieved yet.</p>\n<p>So how do you fix it? You will need some kind of callback feature. You can use <code>RxJava</code>, <code>ListenableFuture</code>, or you could also just reuse the <code>OnSuccessListener</code> callback.</p>\n<pre><code>  public static void getPlayer(String playerID, OnSuccessListener&lt;Player&gt; listener ) {\n\n    final Player[] p = new Player[1];\n    DocumentReference playerRef = fStore.collection(&quot;users&quot;).document(playerID);\n\n    playerRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n        @Override\n        public void onSuccess(DocumentSnapshot documentSnapshot) {\n            if (documentSnapshot.exists()) {\n                // getting all the attributes of the player from the database\n                String age = documentSnapshot.getString(&quot;age&quot;);\n                String city = documentSnapshot.getString(&quot;city&quot;);\n                String email = documentSnapshot.getString(&quot;email&quot;);\n                String fullName = documentSnapshot.getString(&quot;fullName&quot;);\n                String gender = documentSnapshot.getString(&quot;gender&quot;);\n                String nickName = documentSnapshot.getString(&quot;nickName&quot;);\n                String password = documentSnapshot.getString(&quot;password&quot;);\n                String phone = documentSnapshot.getString(&quot;phone&quot;);\n                \n                // creates a new player\n                p[0] = new Player(fullName, nickName, email, password, phone, city, gender, age); \n                //HERE\n                //Send your player to your listener arg.\n                listener.onSuccess(p[0]);\n            } else {\n                Toast.makeText(context.getApplicationContext(), &quot;Player not found&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(context.getApplicationContext(), &quot;Failed to fetch data&quot;, Toast.LENGTH_LONG).show();\n                }\n            });\n\n      return;\n  }\n</code></pre>\n<p>How you call <code>getPlayer</code> now</p>\n<pre><code> getPlayer(&quot;id&quot;,(player)-&gt;{\n     player.doSomething();\n     //HERE is your player received from FireStore\n });\n</code></pre>\n"}],"owner":{"account_id":23590396,"reputation":27,"user_id":17628267,"display_name":"Lioo7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1640513631,"answer_count":1,"score":-1,"last_activity_date":1640531042,"creation_date":1640485194,"question_id":70483846,"body_markdown":"I wrote a function that is supposed to get a user id, access all the user&#39;s attributes in the firestore database, and then create and return the object.\r\nBut the function skips over the entire block of &quot;addOnSuccessListener&quot;, so it returns a null object.\r\n\r\n      public static Player getPlayer(String playerID) {\r\n\r\n        final Player[] p = new Player[1];\r\n        DocumentReference playerRef = fStore.collection(&quot;users&quot;).document(playerID);\r\n\r\n        playerRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                if (documentSnapshot.exists()) {\r\n                    // getting all the attributes of the player from the database\r\n                    String age = documentSnapshot.getString(&quot;age&quot;);\r\n                    String city = documentSnapshot.getString(&quot;city&quot;);\r\n                    String email = documentSnapshot.getString(&quot;email&quot;);\r\n                    String fullName = documentSnapshot.getString(&quot;fullName&quot;);\r\n                    String gender = documentSnapshot.getString(&quot;gender&quot;);\r\n                    String nickName = documentSnapshot.getString(&quot;nickName&quot;);\r\n                    String password = documentSnapshot.getString(&quot;password&quot;);\r\n                    String phone = documentSnapshot.getString(&quot;phone&quot;);\r\n                    \r\n                    // creates a new player\r\n                    p[0] = new Player(fullName, nickName, email, password, phone, city, gender, age);\r\n                } else {\r\n                    Toast.makeText(context.getApplicationContext(), &quot;Player not found&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(context.getApplicationContext(), &quot;Failed to fetch data&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                });\r\n\r\n        return p[0];\r\n    }","title":"What is the reason that the code for &quot;addOnSuccessListener&quot; is being skipped?","body":"<p>I wrote a function that is supposed to get a user id, access all the user's attributes in the firestore database, and then create and return the object.\nBut the function skips over the entire block of &quot;addOnSuccessListener&quot;, so it returns a null object.</p>\n<pre><code>  public static Player getPlayer(String playerID) {\n\n    final Player[] p = new Player[1];\n    DocumentReference playerRef = fStore.collection(&quot;users&quot;).document(playerID);\n\n    playerRef.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n        @Override\n        public void onSuccess(DocumentSnapshot documentSnapshot) {\n            if (documentSnapshot.exists()) {\n                // getting all the attributes of the player from the database\n                String age = documentSnapshot.getString(&quot;age&quot;);\n                String city = documentSnapshot.getString(&quot;city&quot;);\n                String email = documentSnapshot.getString(&quot;email&quot;);\n                String fullName = documentSnapshot.getString(&quot;fullName&quot;);\n                String gender = documentSnapshot.getString(&quot;gender&quot;);\n                String nickName = documentSnapshot.getString(&quot;nickName&quot;);\n                String password = documentSnapshot.getString(&quot;password&quot;);\n                String phone = documentSnapshot.getString(&quot;phone&quot;);\n                \n                // creates a new player\n                p[0] = new Player(fullName, nickName, email, password, phone, city, gender, age);\n            } else {\n                Toast.makeText(context.getApplicationContext(), &quot;Player not found&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    })\n            .addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(context.getApplicationContext(), &quot;Failed to fetch data&quot;, Toast.LENGTH_LONG).show();\n                }\n            });\n\n    return p[0];\n}\n</code></pre>\n"},{"tags":["java","string","swap"],"comments":[{"owner":{"account_id":432904,"reputation":3158,"user_id":817946,"accept_rate":92,"display_name":"The Kraken"},"score":0,"creation_date":1640204676,"post_id":70454653,"comment_id":124542923,"body_markdown":"It depends on your sorting algorithm. Are you swapping characters that are adjacent to each other or swapping any two characters in the string?","body":"It depends on your sorting algorithm. Are you swapping characters that are adjacent to each other or swapping any two characters in the string?"},{"owner":{"account_id":23350172,"reputation":21,"user_id":17466330,"display_name":"Baqer Farhan"},"score":0,"creation_date":1640204800,"post_id":70454653,"comment_id":124542957,"body_markdown":"swapping them in alphabetical order. A-Z","body":"swapping them in alphabetical order. A-Z"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1640205008,"post_id":70454653,"comment_id":124543010,"body_markdown":"I think the point of the exercise is to write your own sort routine and count the swaps yourself.","body":"I think the point of the exercise is to write your own sort routine and count the swaps yourself."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1640206650,"post_id":70454653,"comment_id":124543473,"body_markdown":"Does your technique provide alphabetical order? Maybe try, &quot;aAbC&quot;?","body":"Does your technique provide alphabetical order? Maybe try, &quot;aAbC&quot;?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1640206913,"post_id":70454653,"comment_id":124543571,"body_markdown":"If you can sort the array in alphabetical order, then you have 2 arrays with the same elements. You can count the number of swaps required to get 1 array to become the other array. It won&#39;t necessarily be the swaps the sorting algorithm used.","body":"If you can sort the array in alphabetical order, then you have 2 arrays with the same elements. You can count the number of swaps required to get 1 array to become the other array. It won&#39;t necessarily be the swaps the sorting algorithm used."},{"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"score":0,"creation_date":1640220246,"post_id":70454653,"comment_id":124546371,"body_markdown":"I would agree with Jim Garrison, how about using a selection sort algorythm and just increment a counter each time the while loop, well... loops.","body":"I would agree with Jim Garrison, how about using a selection sort algorythm and just increment a counter each time the while loop, well... loops."}],"answers":[{"tags":[],"owner":{"account_id":23723804,"reputation":31,"user_id":17744001,"display_name":"AlmightyArashi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640210669,"creation_date":1640210669,"answer_id":70455618,"question_id":70454653,"body_markdown":"`Arrays.sort` would choose the most optimal sorting algorithm but you would not be able to track the steps unless you modify the Arrays package.\r\n\r\nAlternatively, you can implement your own sort code, or copy/paste one from online and add an Integer counter to increment for every sort-loop iteration. Then you would be able to get the number of steps per input.","title":"How do i count the number of letter swaps made to the string?","body":"<p><code>Arrays.sort</code> would choose the most optimal sorting algorithm but you would not be able to track the steps unless you modify the Arrays package.</p>\n<p>Alternatively, you can implement your own sort code, or copy/paste one from online and add an Integer counter to increment for every sort-loop iteration. Then you would be able to get the number of steps per input.</p>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640215308,"creation_date":1640211240,"answer_id":70455682,"question_id":70454653,"body_markdown":"You can create a 2-dimensional `array` to store each `codePoint` and its `index`. Then you can sort the `array` comparing the `codePoints`:\r\n\r\n    public static int countSortedSwaps(String str) {\r\n        int[] arr = str.codePoints().toArray();\r\n        int size = arr.length;\r\n        \r\n        int[][] charIndices = IntStream.range(0, size).boxed()\r\n                .sorted(Comparator.comparingInt(i -&gt; arr[i]))\r\n                .map(i -&gt; new int[] {arr[i], i})\r\n                .toArray(int[][]::new);\r\n       \r\n        boolean[] swp = new boolean[size];\r\n        \r\n        return IntStream.range(0, size)\r\n                .filter(i -&gt; swp[i] != true &amp;&amp; charIndices[i][1] != i)\r\n                .map(i -&gt; count(charIndices, swp, i)).sum();\r\n    }\r\n    \r\n    private static int count(int[][] charIndices, boolean[] swp, int index) {\r\n        int count = 0;\r\n        int i = index;\r\n        while (swp[i] == false) {\r\n            swp[i] = true;\r\n            count++;\r\n            i = charIndices[i][1];\r\n        }\r\n        return (count - 1);\r\n    }","title":"How do i count the number of letter swaps made to the string?","body":"<p>You can create a 2-dimensional <code>array</code> to store each <code>codePoint</code> and its <code>index</code>. Then you can sort the <code>array</code> comparing the <code>codePoints</code>:</p>\n<pre><code>public static int countSortedSwaps(String str) {\n    int[] arr = str.codePoints().toArray();\n    int size = arr.length;\n    \n    int[][] charIndices = IntStream.range(0, size).boxed()\n            .sorted(Comparator.comparingInt(i -&gt; arr[i]))\n            .map(i -&gt; new int[] {arr[i], i})\n            .toArray(int[][]::new);\n   \n    boolean[] swp = new boolean[size];\n    \n    return IntStream.range(0, size)\n            .filter(i -&gt; swp[i] != true &amp;&amp; charIndices[i][1] != i)\n            .map(i -&gt; count(charIndices, swp, i)).sum();\n}\n\nprivate static int count(int[][] charIndices, boolean[] swp, int index) {\n    int count = 0;\n    int i = index;\n    while (swp[i] == false) {\n        swp[i] = true;\n        count++;\n        i = charIndices[i][1];\n    }\n    return (count - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640530956,"creation_date":1640530956,"answer_id":70487459,"question_id":70454653,"body_markdown":"I was curious, so I implemented a way to count swaps to get from one array to another. \r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class CountSwaps{\r\n\tstatic int countSwaps( char[] original, char[] sorted){\r\n\t\tint swaps = 0;\r\n\t\tfor(int i = 0; i&lt;original.length; i++){\r\n\t\t\tif(original[i] != sorted[i]){\r\n\t\t\t\tfor(int j = i+1; j&lt;original.length; j++){\r\n\t\t\t\t\tif(original[i] == sorted[j]){\r\n\t\t\t\t\t\tsorted[j] = sorted[i];\r\n\t\t\t\t\t\tsorted[i] = original[i];\r\n\t\t\t\t\t\tswaps++;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn swaps;\r\n\t}\r\n\tpublic static void main(String[] args){\r\n\t\tString obj = args[0].toLowerCase();\r\n\t\tchar[] original = obj.toCharArray();\r\n\t\tchar[] sorted = obj.toCharArray();\r\n\t\tArrays.sort(sorted);\r\n\t\tSystem.out.println(Arrays.toString(sorted));\r\n\t\tSystem.out.println(countSwaps(original, sorted));\r\n\t\tSystem.out.println(Arrays.toString(sorted));\r\n\t\tSystem.out.println(Arrays.toString(original));\r\n\t}\r\n\r\n}\r\n```\r\nThen we can run it\r\n\r\n    java CountSwaps.java TheQuickBrownFoxJumpedOverTheTwoLazyDogs\r\n\r\n&gt;[a, b, c, d, d, e, e, e, e, f, g, h, h, i, j, k, l, m, n, o, o, o, o, o, p, q, r, r, s, t, t, t, u, u, v, w, w, x, y, z]  \r\n35  \r\n[t, h, e, q, u, i, c, k, b, r, o, w, n, f, o, x, j, u, m, p, e, d, o, v, e, r, t, h, e, t, w, o, l, a, z, y, d, o, g, s]  \r\n[t, h, e, q, u, i, c, k, b, r, o, w, n, f, o, x, j, u, m, p, e, d, o, v, e, r, t, h, e, t, w, o, l, a, z, y, d, o, g, s]\r\n\r\nIt took 35 swaps to transform the sorted array back to the original array. \r\nThis doesn&#39;t reflect the number of swaps taken by the sorting algorithm used.\r\nIt also isn&#39;t optimal. For example it takes  37 swaps to go the other way, if it was optimal it would be symmetric.","title":"How do i count the number of letter swaps made to the string?","body":"<p>I was curious, so I implemented a way to count swaps to get from one array to another.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class CountSwaps{\n    static int countSwaps( char[] original, char[] sorted){\n        int swaps = 0;\n        for(int i = 0; i&lt;original.length; i++){\n            if(original[i] != sorted[i]){\n                for(int j = i+1; j&lt;original.length; j++){\n                    if(original[i] == sorted[j]){\n                        sorted[j] = sorted[i];\n                        sorted[i] = original[i];\n                        swaps++;\n                        break;\n                    }\n                }\n                \n            }\n        }\n        return swaps;\n    }\n    public static void main(String[] args){\n        String obj = args[0].toLowerCase();\n        char[] original = obj.toCharArray();\n        char[] sorted = obj.toCharArray();\n        Arrays.sort(sorted);\n        System.out.println(Arrays.toString(sorted));\n        System.out.println(countSwaps(original, sorted));\n        System.out.println(Arrays.toString(sorted));\n        System.out.println(Arrays.toString(original));\n    }\n\n}\n</code></pre>\n<p>Then we can run it</p>\n<pre><code>java CountSwaps.java TheQuickBrownFoxJumpedOverTheTwoLazyDogs\n</code></pre>\n<blockquote>\n<p>[a, b, c, d, d, e, e, e, e, f, g, h, h, i, j, k, l, m, n, o, o, o, o, o, p, q, r, r, s, t, t, t, u, u, v, w, w, x, y, z]<br />\n35<br />\n[t, h, e, q, u, i, c, k, b, r, o, w, n, f, o, x, j, u, m, p, e, d, o, v, e, r, t, h, e, t, w, o, l, a, z, y, d, o, g, s]<br />\n[t, h, e, q, u, i, c, k, b, r, o, w, n, f, o, x, j, u, m, p, e, d, o, v, e, r, t, h, e, t, w, o, l, a, z, y, d, o, g, s]</p>\n</blockquote>\n<p>It took 35 swaps to transform the sorted array back to the original array.\nThis doesn't reflect the number of swaps taken by the sorting algorithm used.\nIt also isn't optimal. For example it takes  37 swaps to go the other way, if it was optimal it would be symmetric.</p>\n"}],"owner":{"account_id":23350172,"reputation":21,"user_id":17466330,"display_name":"Baqer Farhan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1640530956,"creation_date":1640204156,"question_id":70454653,"body_markdown":"i want my program to count the number of swaps of chars occured to arrange them in alphabetical order. is there any simple way to do this? here is my code.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n\r\n    class ArrangingBooks{\r\n    public static void main(String[] args) {\r\n         Scanner scan= new Scanner(System.in);\r\n         String str = scan.nextLine();\r\n         char c[] = str.toCharArray();\r\n         Arrays.sort(c);\r\n         System.out.println(new String(c));\r\n\r\n         scan.close();\r\n    }\r\n    }\r\n\r\nSample Input =\r\nLLSLM\r\n\r\nOutput for Sample Input =\r\n2\r\n","title":"How do i count the number of letter swaps made to the string?","body":"<p>i want my program to count the number of swaps of chars occured to arrange them in alphabetical order. is there any simple way to do this? here is my code.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\nclass ArrangingBooks{\npublic static void main(String[] args) {\n     Scanner scan= new Scanner(System.in);\n     String str = scan.nextLine();\n     char c[] = str.toCharArray();\n     Arrays.sort(c);\n     System.out.println(new String(c));\n\n     scan.close();\n}\n}\n</code></pre>\n<p>Sample Input =\nLLSLM</p>\n<p>Output for Sample Input =\n2</p>\n"},{"tags":["java","windows","newline","carriage-return","system.out"],"answers":[{"tags":[],"owner":{"account_id":1225298,"reputation":7823,"user_id":1190965,"accept_rate":62,"display_name":"nodakai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330951791,"creation_date":1330951791,"answer_id":9566935,"question_id":9566654,"body_markdown":"By &quot;Windows&quot; you mean `cmd.exe`?  And you want to overwrite to the line you previously output, right?  Unfortunately I think you need to invoke this Win32 API somehow in order to achieve it\r\n\r\n- [SetConsoleCursorPosition](http://msdn.microsoft.com/ja-jp/library/cc429740.aspx)\r\n   - Cf. https://stackoverflow.com/questions/2389156/calling-win32-api-method-from-java\r\n\r\nMaybe other Java gurus can provide better answer ...","title":"Print a carriage return in java on windows on console","body":"<p>By \"Windows\" you mean <code>cmd.exe</code>?  And you want to overwrite to the line you previously output, right?  Unfortunately I think you need to invoke this Win32 API somehow in order to achieve it</p>\n\n<ul>\n<li><a href=\"http://msdn.microsoft.com/ja-jp/library/cc429740.aspx\" rel=\"nofollow noreferrer\">SetConsoleCursorPosition</a>\n\n<ul>\n<li>Cf. <a href=\"https://stackoverflow.com/questions/2389156/calling-win32-api-method-from-java\">Calling Win32 API method from Java</a></li>\n</ul></li>\n</ul>\n\n<p>Maybe other Java gurus can provide better answer ...</p>\n"},{"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1330953203,"creation_date":1330952049,"answer_id":9566984,"question_id":9566654,"body_markdown":"I had the statement and it worked in the command prompt\r\n\r\n    System.out.println(&quot;This is Java&quot;+&#39;\\r&#39;+&quot;That&quot;);\r\n\r\nand gives me output as\r\n\r\n    That is Java\r\n\r\nThat means it works perfectly.\r\n\r\nNote: I run it in Windows 7 with JDK 7 and simple notepad.\r\n\r\nIt is the problem of eclipse, it will take \\r as a new line character and will print\r\n\r\n    This is Java\r\n    That\r\n\r\nas output","title":"Print a carriage return in java on windows on console","body":"<p>I had the statement and it worked in the command prompt</p>\n\n<pre><code>System.out.println(\"This is Java\"+'\\r'+\"That\");\n</code></pre>\n\n<p>and gives me output as</p>\n\n<pre><code>That is Java\n</code></pre>\n\n<p>That means it works perfectly.</p>\n\n<p>Note: I run it in Windows 7 with JDK 7 and simple notepad.</p>\n\n<p>It is the problem of eclipse, it will take \\r as a new line character and will print</p>\n\n<pre><code>This is Java\nThat\n</code></pre>\n\n<p>as output</p>\n"},{"tags":[],"owner":{"account_id":3351886,"reputation":11,"user_id":2815789,"display_name":"Jo&#227;o Marcelo Torres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640529732,"creation_date":1591374974,"answer_id":62220185,"question_id":9566654,"body_markdown":"If you are on Eclipse, you have to enable the control character option on the Console Window.\r\n\r\nTo enable it, open the Eclipse preferences and select Run/Debug &gt; Console. Then select &quot;Interpret ASCII control characters&quot; and &quot;Interpret Carriage Return (\\r) as control character&quot;.\r\n","title":"Print a carriage return in java on windows on console","body":"<p>If you are on Eclipse, you have to enable the control character option on the Console Window.</p>\n<p>To enable it, open the Eclipse preferences and select Run/Debug &gt; Console. Then select &quot;Interpret ASCII control characters&quot; and &quot;Interpret Carriage Return (\\r) as control character&quot;.</p>\n"}],"owner":{"account_id":70657,"reputation":17503,"user_id":204693,"accept_rate":100,"display_name":"F.P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19070,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":9566984,"answer_count":3,"score":12,"last_activity_date":1640529732,"creation_date":1330950548,"question_id":9566654,"body_markdown":"On my OS X machine, the following line gives me a nice and easy way to track the state of my loops:\r\n\r\n    for (int index = 0; index &lt; 100; index++)\r\n        for (int subIndex = index; subIndex &lt; 100; subIndex++)\r\n            System.out.print(&quot;\\r&quot; + index + &quot;/&quot; + subIndex + &quot;       &quot;);\r\n\r\nBut when I try to run the same thing on windows, it prints out newlines instead of a carriage return. How can I achieve the same simple method of tracking the process on windows?","title":"Print a carriage return in java on windows on console","body":"<p>On my OS X machine, the following line gives me a nice and easy way to track the state of my loops:</p>\n\n<pre><code>for (int index = 0; index &lt; 100; index++)\n    for (int subIndex = index; subIndex &lt; 100; subIndex++)\n        System.out.print(\"\\r\" + index + \"/\" + subIndex + \"       \");\n</code></pre>\n\n<p>But when I try to run the same thing on windows, it prints out newlines instead of a carriage return. How can I achieve the same simple method of tracking the process on windows?</p>\n"},{"tags":["java","spring","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640325086,"creation_date":1640325086,"answer_id":70469930,"question_id":70468757,"body_markdown":"You have specified @JoinColumn in wrong entitiy. Try removing @JoinColumn from Client class and add it in Adresse class . see below\r\n\r\nClient.java\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    private  List&lt;Adresse&gt; adr = new ArrayList&lt;Adresse&gt;();\r\n\r\nAdresse.java\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;adresse_id&quot;)\r\n    private Client c;","title":"empty foreign key column in database generated by hibernate","body":"<p>You have specified @JoinColumn in wrong entitiy. Try removing @JoinColumn from Client class and add it in Adresse class . see below</p>\n<p>Client.java</p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL)\nprivate  List&lt;Adresse&gt; adr = new ArrayList&lt;Adresse&gt;();\n</code></pre>\n<p>Adresse.java</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;adresse_id&quot;)\nprivate Client c;\n</code></pre>\n"}],"owner":{"account_id":23733021,"reputation":1,"user_id":17751994,"display_name":"khaled"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640529569,"creation_date":1640308664,"question_id":70468757,"body_markdown":"hello i am using Hibernate with JPA annotation. the relation between Client and Adresse is one to many so Hibernate should create new column (id_client ) as foriegn key in the table Adresse.\r\nMy problem that i get no values in the added column how can i fix it please ? \r\n\r\nMy code XML:\r\n\r\n   \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \r\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;khaled&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernate? \r\n    useSSL=false&amp;amp;serverTimezone=UTC&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.password&quot;&gt;khaled&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n     &lt;!-- \t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;1&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;100&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;0&lt;/property&gt; --&gt;\r\n\t &lt;/session-factory&gt;\r\n     &lt;/hibernate-configuration&gt;\r\n\r\nClass Adresse :\r\n\r\n    @Entity\r\n    @Table(name = &quot;adresse&quot;)\r\n    public class Adresse {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id_a&quot;)\r\n\tprivate int id;\r\n\t@Column(name = &quot;rue_a&quot;)\r\n\tprivate String rue;\r\n\t\r\n\t@ManyToOne\r\n    @JoinColumn(name = &quot;id_client&quot;)\r\n\tprivate Client c;\r\n\r\n    // getter and setters here\r\n\r\nClass Client:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;client&quot;)\r\n    public class Client {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name=&quot;id_c&quot;)\r\n\tprivate int id;\r\n\t@Column(name = &quot;nom_c&quot;)\r\n\tprivate String nom;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL)\r\n\tprivate  List&lt;Adresse&gt; adr = new ArrayList&lt;Adresse&gt;();\r\n\r\n    // getters and setters here \r\n\r\nMy Main methode:\r\n\r\n    // get SessionFactory\r\n\t\tSessionFactory sessionFactory = HibernateUtil.getSessionFactory();\r\n\t\t// create session\r\n\t\tSession session = sessionFactory.openSession();\r\n\t\tSystem.out.println(&quot;Etat session &quot; + session.isOpen());\r\n\t\tTransaction tx = null;\r\n\t\ttry {\r\n\t\t\t// create client object\r\n\t\t\tClient monClient = new Client();\r\n\t\t\tmonClient.setNom(&quot;rasori&quot;);\r\n\r\n\t\t\t// create adresses object\r\n\t\t\tAdresse adresseClient = new Adresse();\r\n\t\t\tadresseClient.setRue(&quot;pie IX&quot;);\r\n\t\t\tAdresse adresseClient2 = new Adresse();\r\n\t\t\tadresseClient2.setRue(&quot;sharbrook&quot;);\r\n\t\t\tmonClient.getAdr().add(adresseClient);\r\n\t\t\tmonClient.getAdr().add(adresseClient2);\r\n\t\t\t// start transaction\r\n\t\t\ttx = session.beginTransaction();\r\n\t\t\t// save client and adresses\r\n\t\t\tsession.save(adresseClient);\r\n\t\t\tsession.save(adresseClient2);\r\n\t\t\tsession.save(monClient);\r\n    \r\n","title":"empty foreign key column in database generated by hibernate","body":"<p>hello i am using Hibernate with JPA annotation. the relation between Client and Adresse is one to many so Hibernate should create new column (id_client ) as foriegn key in the table Adresse.\nMy problem that i get no values in the added column how can i fix it please ?</p>\n<p>My code XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \n&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.password&quot;&gt;khaled&lt;/property&gt;\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/hibernate? \nuseSSL=false&amp;amp;serverTimezone=UTC&lt;/property&gt;\n\n    &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n    &lt;property name=&quot;connection.password&quot;&gt;khaled&lt;/property&gt;\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n    &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n    \n    &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\n &lt;!--       &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;1&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;100&lt;/property&gt;\n    &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;0&lt;/property&gt; --&gt;\n &lt;/session-factory&gt;\n &lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Class Adresse :</p>\n<pre><code>@Entity\n@Table(name = &quot;adresse&quot;)\npublic class Adresse {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id_a&quot;)\nprivate int id;\n@Column(name = &quot;rue_a&quot;)\nprivate String rue;\n\n@ManyToOne\n@JoinColumn(name = &quot;id_client&quot;)\nprivate Client c;\n\n// getter and setters here\n</code></pre>\n<p>Class Client:</p>\n<pre><code>@Entity\n@Table(name = &quot;client&quot;)\npublic class Client {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name=&quot;id_c&quot;)\nprivate int id;\n@Column(name = &quot;nom_c&quot;)\nprivate String nom;\n\n@OneToMany(cascade = CascadeType.ALL)\nprivate  List&lt;Adresse&gt; adr = new ArrayList&lt;Adresse&gt;();\n\n// getters and setters here \n</code></pre>\n<p>My Main methode:</p>\n<pre><code>// get SessionFactory\n    SessionFactory sessionFactory = HibernateUtil.getSessionFactory();\n    // create session\n    Session session = sessionFactory.openSession();\n    System.out.println(&quot;Etat session &quot; + session.isOpen());\n    Transaction tx = null;\n    try {\n        // create client object\n        Client monClient = new Client();\n        monClient.setNom(&quot;rasori&quot;);\n\n        // create adresses object\n        Adresse adresseClient = new Adresse();\n        adresseClient.setRue(&quot;pie IX&quot;);\n        Adresse adresseClient2 = new Adresse();\n        adresseClient2.setRue(&quot;sharbrook&quot;);\n        monClient.getAdr().add(adresseClient);\n        monClient.getAdr().add(adresseClient2);\n        // start transaction\n        tx = session.beginTransaction();\n        // save client and adresses\n        session.save(adresseClient);\n        session.save(adresseClient2);\n        session.save(monClient);\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8262,"page":1730,"page_size":100}
