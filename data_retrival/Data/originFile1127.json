{"items":[{"tags":["java","multithreading","parallel-processing","synchronization","java-threads"],"comments":[{"owner":{"account_id":19720197,"reputation":483,"user_id":14438712,"display_name":"null_awe"},"score":2,"creation_date":1606093180,"post_id":64961166,"comment_id":114847382,"body_markdown":"Does this answer your question? [Concurrent Modification exception](https://stackoverflow.com/questions/1496180/concurrent-modification-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1496180/concurrent-modification-exception\">Concurrent Modification exception</a>"},{"owner":{"account_id":19986670,"reputation":15,"user_id":14648681,"display_name":"user22000"},"score":0,"creation_date":1606093729,"post_id":64961166,"comment_id":114847480,"body_markdown":"@null_awe No, it doesn&#39;t work either if I use ListIterator","body":"@null_awe No, it doesn&#39;t work either if I use ListIterator"}],"answers":[{"tags":[],"owner":{"account_id":9175995,"reputation":130,"user_id":6821605,"display_name":"gdogra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659917795,"creation_date":1606099894,"answer_id":64961979,"question_id":64961166,"body_markdown":"There are few problems with your program. \r\n\r\n1. Your program is coming back to main thread before all the threads of ThreadStudents are finished. So you are trying to read before all the threads have written, which is why you are getting concurrentModification exception\r\n\r\n2. students is a ArrayList object which means it is not thread safe. \r\n    ```java\r\n    public class Main {\r\n        public static void main(String[] argv) {\r\n    \r\n            for (int i = 0; i &lt; 1; i++) {\r\n                ThreadStudents.threadsL(3);\r\n                System.out.println(ThreadStudents.students.size());\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    \r\n    public class ThreadStudents implements Runnable {\r\n    \r\n        public static List&lt;Integer&gt; students = new CopyOnWriteArrayList&lt;&gt;(); \r\n        // Thread safe version of array list\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Starting: &quot; + Thread.currentThread().getName());\r\n            for(int i = 0; i &lt; 50000; i++) {\r\n                students.add(1);\r\n            }\r\n            System.out.println(&quot;Ending &quot; + Thread.currentThread().getName());\r\n        }\r\n    \r\n        public static void threadsL(int nbThreads) {\r\n            ExecutorService executor = Executors.newFixedThreadPool(nbThreads); \r\n             // creates fixed number of threads\r\n            for(int i = 0; i &lt; nbThreads; i++) {\r\n                executor.execute(new ThreadStudents()); \r\n               // executor services will call run() from each thread\r\n            }\r\n            executor.shutdown(); // tell the service that no new threads can be submitted\r\n    \r\n            while(true) {\r\n                try {\r\n                    if (executor.awaitTermination(5, TimeUnit.MINUTES)) break;\r\n                    // it will wait till all the threads have finished or Max 5 mins \r\n                    // before going back to main thread\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n    ```\r\n\r\nMy output is exactly as expected which is 150,000.\r\n\r\n    Starting: pool-1-thread-3\r\n    Starting: pool-1-thread-1\r\n    Starting: pool-1-thread-2\r\n    Ending pool-1-thread-3\r\n    Ending pool-1-thread-1\r\n    Ending pool-1-thread-2\r\n    150000\r\n\r\n","title":"Exception in thread &quot;main&quot; java.util.ConcurrentModificationException while multithreading","body":"<p>There are few problems with your program.</p>\n<ol>\n<li><p>Your program is coming back to main thread before all the threads of ThreadStudents are finished. So you are trying to read before all the threads have written, which is why you are getting concurrentModification exception</p>\n</li>\n<li><p>students is a ArrayList object which means it is not thread safe.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] argv) {\n\n        for (int i = 0; i &lt; 1; i++) {\n            ThreadStudents.threadsL(3);\n            System.out.println(ThreadStudents.students.size());\n        }\n    }\n}\n\n\n\npublic class ThreadStudents implements Runnable {\n\n    public static List&lt;Integer&gt; students = new CopyOnWriteArrayList&lt;&gt;(); \n    // Thread safe version of array list\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Starting: &quot; + Thread.currentThread().getName());\n        for(int i = 0; i &lt; 50000; i++) {\n            students.add(1);\n        }\n        System.out.println(&quot;Ending &quot; + Thread.currentThread().getName());\n    }\n\n    public static void threadsL(int nbThreads) {\n        ExecutorService executor = Executors.newFixedThreadPool(nbThreads); \n         // creates fixed number of threads\n        for(int i = 0; i &lt; nbThreads; i++) {\n            executor.execute(new ThreadStudents()); \n           // executor services will call run() from each thread\n        }\n        executor.shutdown(); // tell the service that no new threads can be submitted\n\n        while(true) {\n            try {\n                if (executor.awaitTermination(5, TimeUnit.MINUTES)) break;\n                // it will wait till all the threads have finished or Max 5 mins \n                // before going back to main thread\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>My output is exactly as expected which is 150,000.</p>\n<pre><code>Starting: pool-1-thread-3\nStarting: pool-1-thread-1\nStarting: pool-1-thread-2\nEnding pool-1-thread-3\nEnding pool-1-thread-1\nEnding pool-1-thread-2\n150000\n</code></pre>\n"}],"owner":{"account_id":19986670,"reputation":15,"user_id":14648681,"display_name":"user22000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1606147422,"accepted_answer_id":64961979,"answer_count":1,"score":0,"last_activity_date":1659917795,"creation_date":1606091712,"question_id":64961166,"body_markdown":"I am developing a multithreaded program with the intention of adding 150000 students in a list at the same time by three threads, which means each of them will add 50000. Here is the following program:\r\n\r\n\r\n\r\n    public class ThreadsStudents implements Runnable {\r\n    \t\r\n    \tpublic static List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tfor(int i = 0; i &lt; 50000; i++) {\r\n    \t\t\tstudents.add(Generator.generetorStudent());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void threadsL(int nbThreads) {\r\n    \t\tArrayList&lt;Thread&gt; th = new ArrayList&lt;&gt;();\r\n    \t\tfor(int i = 0; i &lt; nbThreads; i++) {\r\n    \t\t\tth.add(new Thread(new ThreadsStudents()));\r\n    \t\t}\r\n    \t\tfor(Thread threads: th) {\r\n    \t\t\tthreads.start();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWhat I am trying to do is to call the method `threadsL` from `Main` class, add the list of students in a database and then do an average of the execution time for 15 executions.\r\n\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] argv) {\r\n    \t\t\r\n    \t\tlong startDate,endDate;\r\n    \t\tdouble measure;\r\n    \t\tdouble average = 0;\r\n    \r\n    \t\tManipulationBDD basedd = new ManipulationBDD();\r\n    \r\n    \t\tfor (int i = 0; i &lt; 15; i++) {\r\n    \t\t\tstartDate = System.nanoTime();\r\n    \t\t\tThreadsStudents.threadsL(3);\r\n    \t\t\t\r\n    \t\t\tfor(Student e : ThreadsStudents.students) {\r\n    \t\t\t\tbasedd.insertTable(e);\r\n    \t\t\t}\r\n    \t\t\tendDate = System.nanoTime();\r\n    \t\t\tmeasure = (double) (endDate - startDate) / 1000000000;\r\n    \t\t\taverage = average + measure;\r\n    \t\t\tbasedd.empty();\r\n    \t\t}\r\n    \t\taverage = average / 15;\r\n    \t\tSystem.out.println(&quot;The average is : &quot; + average);\r\n    \t}\r\n    }\r\n\r\nIn the `Main.java` class, I get the following Exception:\r\n\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1043)\r\n    \tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:997)\r\n    \tat Main.main(Main.java:27)\r\n\r\nLine 27 is: \r\n\r\n    for(Student e : ThreadsStudents.students) {\r\n        basedd.insertTable(e);\r\n    }\r\nCan you help me with this?\r\n\r\nThank you in advance for your help !\r\n","title":"Exception in thread &quot;main&quot; java.util.ConcurrentModificationException while multithreading","body":"<p>I am developing a multithreaded program with the intention of adding 150000 students in a list at the same time by three threads, which means each of them will add 50000. Here is the following program:</p>\n<pre><code>public class ThreadsStudents implements Runnable {\n    \n    public static List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n    \n    @Override\n    public void run() {\n        for(int i = 0; i &lt; 50000; i++) {\n            students.add(Generator.generetorStudent());\n        }\n    }\n    \n    public static void threadsL(int nbThreads) {\n        ArrayList&lt;Thread&gt; th = new ArrayList&lt;&gt;();\n        for(int i = 0; i &lt; nbThreads; i++) {\n            th.add(new Thread(new ThreadsStudents()));\n        }\n        for(Thread threads: th) {\n            threads.start();\n        }\n    }\n}\n</code></pre>\n<p>What I am trying to do is to call the method <code>threadsL</code> from <code>Main</code> class, add the list of students in a database and then do an average of the execution time for 15 executions.</p>\n<pre><code>public class Main {\n    public static void main(String[] argv) {\n        \n        long startDate,endDate;\n        double measure;\n        double average = 0;\n\n        ManipulationBDD basedd = new ManipulationBDD();\n\n        for (int i = 0; i &lt; 15; i++) {\n            startDate = System.nanoTime();\n            ThreadsStudents.threadsL(3);\n            \n            for(Student e : ThreadsStudents.students) {\n                basedd.insertTable(e);\n            }\n            endDate = System.nanoTime();\n            measure = (double) (endDate - startDate) / 1000000000;\n            average = average + measure;\n            basedd.empty();\n        }\n        average = average / 15;\n        System.out.println(&quot;The average is : &quot; + average);\n    }\n}\n</code></pre>\n<p>In the <code>Main.java</code> class, I get the following Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1043)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:997)\n    at Main.main(Main.java:27)\n</code></pre>\n<p>Line 27 is:</p>\n<pre><code>for(Student e : ThreadsStudents.students) {\n    basedd.insertTable(e);\n}\n</code></pre>\n<p>Can you help me with this?</p>\n<p>Thank you in advance for your help !</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1574997885,"post_id":59094587,"comment_id":104429850,"body_markdown":"Please post the _stack trace_ of the generated exception.","body":"Please post the <i>stack trace</i> of the generated exception."}],"answers":[{"tags":[],"owner":{"account_id":7249347,"reputation":699,"user_id":5530229,"accept_rate":60,"display_name":"sudhanva"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1575019100,"creation_date":1575019100,"answer_id":59101966,"question_id":59094587,"body_markdown":"The code you have mentioned is equivalent to: \r\n\r\n    db.col.updateOne({&quot;_id&quot;:&quot;id&quot;...etc.},{&quot;name&quot;:&quot;newName&quot;...etc.}) \r\n\r\nYou are missing the `$set` command here. So what you need to do is this: \r\n\r\n    Document snewDoc = new Document();\r\n    snewdoc.append(&quot;Name&quot;, snew.getName());\r\n    snewdoc.append(&quot;Brand&quot;, snew.getBrand());\r\n    snewdoc.append(&quot;Type&quot;, snew.getType());\r\n    snewdoc.append(&quot;Color&quot;, snew.getColor());\r\n    snewdoc.append(&quot;Size&quot;, snew.getSize());\r\n    snewdoc.append(&quot;Price&quot;, snew.getPrice());\r\n    Document updateDoc = new Document(&quot;$set&quot;,snewDoc);\r\n    this.collection.updateOne(sfilterdoc, updateDoc);\r\n\r\nThe above is equivalent to the correct format, which is: \r\n\r\n    db.col.updateOne({&quot;_id&quot;:&quot;id&quot;...etc.},{&quot;$set&quot;:{&quot;name&quot;:&quot;newName&quot;...etc.}})\r\n","title":"my app in java throws an exception that says Invalid BSON field name Name","body":"<p>The code you have mentioned is equivalent to: </p>\n\n<pre><code>db.col.updateOne({\"_id\":\"id\"...etc.},{\"name\":\"newName\"...etc.}) \n</code></pre>\n\n<p>You are missing the <code>$set</code> command here. So what you need to do is this: </p>\n\n<pre><code>Document snewDoc = new Document();\nsnewdoc.append(\"Name\", snew.getName());\nsnewdoc.append(\"Brand\", snew.getBrand());\nsnewdoc.append(\"Type\", snew.getType());\nsnewdoc.append(\"Color\", snew.getColor());\nsnewdoc.append(\"Size\", snew.getSize());\nsnewdoc.append(\"Price\", snew.getPrice());\nDocument updateDoc = new Document(\"$set\",snewDoc);\nthis.collection.updateOne(sfilterdoc, updateDoc);\n</code></pre>\n\n<p>The above is equivalent to the correct format, which is: </p>\n\n<pre><code>db.col.updateOne({\"_id\":\"id\"...etc.},{\"$set\":{\"name\":\"newName\"...etc.}})\n</code></pre>\n"}],"owner":{"account_id":16941665,"reputation":129,"user_id":12253380,"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59101966,"answer_count":1,"score":2,"last_activity_date":1659917759,"creation_date":1574965632,"question_id":59094587,"body_markdown":"I have this code:\r\n\r\n    public class UpdateShoe {\r\n\r\n    MongoClient mongoClient = MongoClients.create();\r\n    MongoDatabase db = mongoClient.getDatabase(&quot;MirandasShoes&quot;);\r\n    MongoCollection&lt;Document&gt; collection = db.getCollection(&quot;Shoes&quot;);\r\n    MongoCursor&lt;Document&gt; cursor = collection.find().iterator();\r\n\r\n    public void UpdateShoe(Shoe sfilter, Shoe snew) {\r\n        Document sfilterdoc = new Document();\r\n        sfilterdoc.append(&quot;_id&quot;, sfilter.getId());\r\n        sfilterdoc.append(&quot;Name&quot;, sfilter.getName());\r\n        sfilterdoc.append(&quot;Brand&quot;, sfilter.getBrand());\r\n        sfilterdoc.append(&quot;Type&quot;, sfilter.getType());\r\n        sfilterdoc.append(&quot;Color&quot;, sfilter.getColor());\r\n        sfilterdoc.append(&quot;Size&quot;, sfilter.getSize());\r\n        sfilterdoc.append(&quot;Price&quot;, sfilter.getPrice());\r\n        \r\n        Document snewdoc = new Document();\r\n        snewdoc.append(&quot;Name&quot;, snew.getName());\r\n        snewdoc.append(&quot;Brand&quot;, snew.getBrand());\r\n        snewdoc.append(&quot;Type&quot;, snew.getType());\r\n        snewdoc.append(&quot;Color&quot;, snew.getColor());\r\n        snewdoc.append(&quot;Size&quot;, snew.getSize());\r\n        snewdoc.append(&quot;Price&quot;, snew.getPrice());\r\n        \r\n        this.collection.updateOne(sfilterdoc, snewdoc);\r\n    }\r\n}\r\n\r\nWhen I hit the update button, it throws the excepion that says Invalid BSON field name Name.\r\nIn the intellisense it specifies that the parameters have to be bson and I am using document but in the online documentations document is mostly used so why is it throwing the exception, is there something wrong in my code?\r\n\r\nThis is the console output when I hit the update button:\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: Invalid BSON field name Name\r\n\tat org.bson.AbstractBsonWriter.writeName(AbstractBsonWriter.java:532)\r\n\tat com.mongodb.internal.connection.BsonWriterDecorator.writeName(BsonWriterDecorator.java:193)\r\n\tat org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:198)\r\n\tat org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:141)\r\n\tat org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:45)\r\n\tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\r\n\tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\r\n\tat com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:403)\r\n\tat com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:375)\r\n\tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\r\n\tat org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\r\n\tat com.mongodb.internal.connection.BsonWriterHelper.writeDocument(BsonWriterHelper.java:75)\r\n\tat com.mongodb.internal.connection.BsonWriterHelper.writePayload(BsonWriterHelper.java:59)\r\n\tat com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:147)\r\n\tat com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:138)\r\n\tat com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:61)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:248)\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:450)\r\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\r\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:218)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.executeCommand(MixedBulkWriteOperation.java:435)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:261)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:72)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:205)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:196)\r\n\tat com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:501)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:196)\r\n\tat com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:71)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1048)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeUpdate(MongoCollectionImpl.java:1032)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.updateOne(MongoCollectionImpl.java:617)\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.updateOne(MongoCollectionImpl.java:612)\r\n\tat DAL.UpdateShoe.UpdateShoe(UpdateShoe.java:45)\r\n\tat UI.UpdateShoeUI.btnUpdateShoeActionPerformed(UpdateShoeUI.java:162)\r\n\tat UI.UpdateShoeUI.access$100(UpdateShoeUI.java:18)\r\n\tat UI.UpdateShoeUI$2.actionPerformed(UpdateShoeUI.java:79)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n```","title":"my app in java throws an exception that says Invalid BSON field name Name","body":"<p>I have this code:</p>\n<pre><code>public class UpdateShoe {\n\nMongoClient mongoClient = MongoClients.create();\nMongoDatabase db = mongoClient.getDatabase(&quot;MirandasShoes&quot;);\nMongoCollection&lt;Document&gt; collection = db.getCollection(&quot;Shoes&quot;);\nMongoCursor&lt;Document&gt; cursor = collection.find().iterator();\n\npublic void UpdateShoe(Shoe sfilter, Shoe snew) {\n    Document sfilterdoc = new Document();\n    sfilterdoc.append(&quot;_id&quot;, sfilter.getId());\n    sfilterdoc.append(&quot;Name&quot;, sfilter.getName());\n    sfilterdoc.append(&quot;Brand&quot;, sfilter.getBrand());\n    sfilterdoc.append(&quot;Type&quot;, sfilter.getType());\n    sfilterdoc.append(&quot;Color&quot;, sfilter.getColor());\n    sfilterdoc.append(&quot;Size&quot;, sfilter.getSize());\n    sfilterdoc.append(&quot;Price&quot;, sfilter.getPrice());\n    \n    Document snewdoc = new Document();\n    snewdoc.append(&quot;Name&quot;, snew.getName());\n    snewdoc.append(&quot;Brand&quot;, snew.getBrand());\n    snewdoc.append(&quot;Type&quot;, snew.getType());\n    snewdoc.append(&quot;Color&quot;, snew.getColor());\n    snewdoc.append(&quot;Size&quot;, snew.getSize());\n    snewdoc.append(&quot;Price&quot;, snew.getPrice());\n    \n    this.collection.updateOne(sfilterdoc, snewdoc);\n}\n</code></pre>\n<p>}</p>\n<p>When I hit the update button, it throws the excepion that says Invalid BSON field name Name.\nIn the intellisense it specifies that the parameters have to be bson and I am using document but in the online documentations document is mostly used so why is it throwing the exception, is there something wrong in my code?</p>\n<p>This is the console output when I hit the update button:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.IllegalArgumentException: Invalid BSON field name Name\n    at org.bson.AbstractBsonWriter.writeName(AbstractBsonWriter.java:532)\n    at com.mongodb.internal.connection.BsonWriterDecorator.writeName(BsonWriterDecorator.java:193)\n    at org.bson.codecs.DocumentCodec.writeMap(DocumentCodec.java:198)\n    at org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:141)\n    at org.bson.codecs.DocumentCodec.encode(DocumentCodec.java:45)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\n    at com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:403)\n    at com.mongodb.operation.BulkWriteBatch$WriteRequestEncoder.encode(BulkWriteBatch.java:375)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:63)\n    at org.bson.codecs.BsonDocumentWrapperCodec.encode(BsonDocumentWrapperCodec.java:29)\n    at com.mongodb.internal.connection.BsonWriterHelper.writeDocument(BsonWriterHelper.java:75)\n    at com.mongodb.internal.connection.BsonWriterHelper.writePayload(BsonWriterHelper.java:59)\n    at com.mongodb.internal.connection.CommandMessage.encodeMessageBodyWithMetadata(CommandMessage.java:147)\n    at com.mongodb.internal.connection.RequestMessage.encode(RequestMessage.java:138)\n    at com.mongodb.internal.connection.CommandMessage.encode(CommandMessage.java:61)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:248)\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:99)\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:450)\n    at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:72)\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:218)\n    at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:269)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:131)\n    at com.mongodb.operation.MixedBulkWriteOperation.executeCommand(MixedBulkWriteOperation.java:435)\n    at com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:261)\n    at com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:72)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:205)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:196)\n    at com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:501)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:196)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:71)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1048)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeUpdate(MongoCollectionImpl.java:1032)\n    at com.mongodb.client.internal.MongoCollectionImpl.updateOne(MongoCollectionImpl.java:617)\n    at com.mongodb.client.internal.MongoCollectionImpl.updateOne(MongoCollectionImpl.java:612)\n    at DAL.UpdateShoe.UpdateShoe(UpdateShoe.java:45)\n    at UI.UpdateShoeUI.btnUpdateShoeActionPerformed(UpdateShoeUI.java:162)\n    at UI.UpdateShoeUI.access$100(UpdateShoeUI.java:18)\n    at UI.UpdateShoeUI$2.actionPerformed(UpdateShoeUI.java:79)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n"},{"tags":["java","apache-camel","xml-rpc"],"comments":[{"owner":{"account_id":1527161,"reputation":801,"user_id":1425280,"accept_rate":56,"display_name":"Naveen Raj"},"score":1,"creation_date":1426747589,"post_id":29119617,"comment_id":46501366,"body_markdown":"Please share the code","body":"Please share the code"}],"answers":[{"tags":[],"owner":{"account_id":1241188,"reputation":1943,"user_id":1203750,"accept_rate":67,"display_name":"Milan Halada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426845448,"creation_date":1426845448,"answer_id":29163791,"question_id":29119617,"body_markdown":"Well i was not able to find a solution so i have to solve it another way - im removing the `nil` elements\r\n\r\n    &lt;dataFormats&gt;\r\n        &lt;xmlrpc id=&quot;xmlrpcResponse&quot; request=&quot;false&quot;/&gt;\r\n    &lt;/dataFormats&gt;    \r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;timer://mainTimer?period=60000&quot;/&gt;\r\n        &lt;to uri=&quot;https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact?defaultMethodName=test&quot; /&gt;\r\n        &lt;process ref=&quot;removeNilFromXml&quot;/&gt;\t\r\n        &lt;unmarshal ref=&quot;xmlrpcResponse&quot;/&gt;\r\n        &lt;to uri=&quot;mock:result&quot; /&gt;\r\n    &lt;/route&gt;\r\n           \r\n\r\nremoveNilFromXml.java:\r\n\r\n    public class removeNilFromXml implements Processor {\r\n    \r\n    \tpublic void process(Exchange exchange) throws Exception {\r\n    \t\tString data = exchange.getIn().getBody(String.class);\r\n    \t\tString nonildata = data.replace(&quot;&lt;nil/&gt;&quot;, &quot;&quot;);\t\r\n    \t\t\r\n    \t\texchange.getIn().setBody(nonildata);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nNot the best solution but it works...","title":"Failed to parse server&#39;s response: Unknown type: nil","body":"<p>Well i was not able to find a solution so i have to solve it another way - im removing the <code>nil</code> elements</p>\n\n<pre><code>&lt;dataFormats&gt;\n    &lt;xmlrpc id=\"xmlrpcResponse\" request=\"false\"/&gt;\n&lt;/dataFormats&gt;    \n&lt;route&gt;\n    &lt;from uri=\"timer://mainTimer?period=60000\"/&gt;\n    &lt;to uri=\"https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact?defaultMethodName=test\" /&gt;\n    &lt;process ref=\"removeNilFromXml\"/&gt;   \n    &lt;unmarshal ref=\"xmlrpcResponse\"/&gt;\n    &lt;to uri=\"mock:result\" /&gt;\n&lt;/route&gt;\n</code></pre>\n\n<p>removeNilFromXml.java:</p>\n\n<pre><code>public class removeNilFromXml implements Processor {\n\n    public void process(Exchange exchange) throws Exception {\n        String data = exchange.getIn().getBody(String.class);\n        String nonildata = data.replace(\"&lt;nil/&gt;\", \"\");  \n\n        exchange.getIn().setBody(nonildata);\n    }\n\n}\n</code></pre>\n\n<p>Not the best solution but it works...</p>\n"}],"owner":{"account_id":1241188,"reputation":1943,"user_id":1203750,"accept_rate":67,"display_name":"Milan Halada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659916607,"creation_date":1426674636,"question_id":29119617,"body_markdown":"Im trying to make a camel route that would get a xml-rpc data from a 3rd party web site. Problem is that some values are NIL. Is there some way to configure route to accept such values?\r\n\r\nsite: https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact\r\n\r\nIn a worst case scenario i could pre-process it and replace all NIL`s, but i would like to know if there is not some simple solution\r\n\r\nEDIT: adding example route\r\n\r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;timer://mainTimer?period=5000&quot;/&gt;\r\n        &lt;to uri=&quot;xmlrpc:https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact?defaultMethodName=test&quot; /&gt;\r\n        &lt;to uri=&quot;mock:result&quot; /&gt;\r\n    &lt;/route&gt;        \r\n\r\nAlso I tried to play with XmlRpcClientConfigurer but had no luck there - im a java noob so no idea if im doing it right\r\n\r\n    public class xmlrpcConfigurer implements XmlRpcClientConfigurer {\r\n    \r\n    \t@Override\r\n    \tpublic void configureXmlRpcClient(XmlRpcClient client) {\r\n            XmlRpcClientConfigImpl clientConfig = (XmlRpcClientConfigImpl)client.getClientConfig();\r\n            clientConfig.setEnabledForExtensions(true);    \r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nIdea behind that was that acording to http://en.wikipedia.org/wiki/XML-RPC nil tag is an extension I dont really know if it does what i think it does...","title":"Failed to parse server&#39;s response: Unknown type: nil","body":"<p>Im trying to make a camel route that would get a xml-rpc data from a 3rd party web site. Problem is that some values are NIL. Is there some way to configure route to accept such values?</p>\n\n<p>site: <a href=\"https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact\" rel=\"nofollow\">https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact</a></p>\n\n<p>In a worst case scenario i could pre-process it and replace all NIL`s, but i would like to know if there is not some simple solution</p>\n\n<p>EDIT: adding example route</p>\n\n<pre><code>&lt;route&gt;\n    &lt;from uri=\"timer://mainTimer?period=5000\"/&gt;\n    &lt;to uri=\"xmlrpc:https://i.ifne.eu/om3-dev/ca/xml-rpc/get-upcoming-events-compact?defaultMethodName=test\" /&gt;\n    &lt;to uri=\"mock:result\" /&gt;\n&lt;/route&gt;        \n</code></pre>\n\n<p>Also I tried to play with XmlRpcClientConfigurer but had no luck there - im a java noob so no idea if im doing it right</p>\n\n<pre><code>public class xmlrpcConfigurer implements XmlRpcClientConfigurer {\n\n    @Override\n    public void configureXmlRpcClient(XmlRpcClient client) {\n        XmlRpcClientConfigImpl clientConfig = (XmlRpcClientConfigImpl)client.getClientConfig();\n        clientConfig.setEnabledForExtensions(true);    \n\n    }\n\n}\n</code></pre>\n\n<p>Idea behind that was that acording to <a href=\"http://en.wikipedia.org/wiki/XML-RPC\" rel=\"nofollow\">http://en.wikipedia.org/wiki/XML-RPC</a> nil tag is an extension I dont really know if it does what i think it does...</p>\n"},{"tags":["java","multithreading","threadpool","executorservice","executor"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1659623136,"post_id":73234995,"comment_id":129342872,"body_markdown":"Please don&#39;t use words like *lac* or *lakh* that are not globally understood","body":"Please don&#39;t use words like <i>lac</i> or <i>lakh</i> that are not globally understood"}],"answers":[{"tags":[],"owner":{"account_id":20399566,"reputation":306,"user_id":14965614,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659710942,"creation_date":1659692548,"answer_id":73247732,"question_id":73234995,"body_markdown":"Thread pool type, in your case, does not impact performance because the cost of thread management is very small compared to each task cost (from 4 s. to 30 m.). \r\n\r\nThe number of parallel threads that are running is more important. If each task does not perform any I/O operation, probably the correct number of parallel threads is the number of cores of your hardware. If your tasks involve network or disk I/O, it is more difficult to determine the correct level of parallelism to maximize performance.","title":"CachedThreadPool vs FixedThreadPool for huge number of task","body":"<p>Thread pool type, in your case, does not impact performance because the cost of thread management is very small compared to each task cost (from 4 s. to 30 m.).</p>\n<p>The number of parallel threads that are running is more important. If each task does not perform any I/O operation, probably the correct number of parallel threads is the number of cores of your hardware. If your tasks involve network or disk I/O, it is more difficult to determine the correct level of parallelism to maximize performance.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659916567,"creation_date":1659915332,"answer_id":73271742,"question_id":73234995,"body_markdown":"### Starting point\r\n\r\nHere&#39;s what stands out in your question:\r\n\r\n* There are ~400,000 tasks to process\r\n* Most tasks (~399,500 or ~99.875%) take 4 seconds or less to complete\r\n* Some tasks (~500 or ~0.125%) usually take 10-30 minutes to complete\r\n* Tasks perform &quot;no I/O operations&quot;\r\n* Current approach uses a FixedThreadPool with size 200\r\n\r\n### Overview\r\n\r\nGiven that the tasks perform &quot;no I/O operations&quot;, this implies:\r\n* no disk I/O\r\n* no network I/O\r\n\r\nThe tasks are then bound (limited) either by CPU or memory. \r\nA first step would be to understand which of the two is the limiter: CPU or memory.\r\n\r\nNothing in your problem statement sounds like the choice of thread pool is a factor.\r\n\r\n### Limited by CPU\r\n\r\nIf the work is CPU-bound, in general nothing will be improved by increasing the thread pool size beyond the number of available CPU cores. So if you have a 32 CPU cores available, a thread pool with a larger number of active threads (for example: 100) would incur overhead (run slower) due to context switching. Things won&#39;t &quot;go faster&quot; with more threads if the underlying contended resource is CPU.\r\n\r\nWith a CPU-bound problem, I would first set the thread pool no higher than total CPU cores on the machine (and probably less). So if your machine has 32 cores, try a thread pool of 16 or maybe 20 to start. Then process real-world data and make obesrvations about performance, possibly making additional changes based on those test runs.\r\nBesides your own program, there are always other things running on any computer system, so it isn&#39;t a given that 16 (for example) is &quot;low enough&quot; – it depends on what else is running on the system. That&#39;s the importance of doing a test run though –&#160;set it to 16, look for signs of CPU contention, possibly reduce _below_ 16 if needed; or maybe there&#39;s plenty of idle CPU available with 16, so it could be safe/fine to increase higher.\r\n\r\n### Limited by memory\r\n\r\nIf the work is memory-bound, the thread pool size isn&#39;t as directly tied to the contended resource (like it is with CPU cores). It might take additional\r\nunderstanding to decide if or how to tune the system to avoid memory contention.\r\n\r\nAs with CPU-bound problems, you should be able to start with a fixed size (something smaller than 200), and make observations using real-world data sets.\r\nThere should be some pattern that emerges, perhaps (for example) that the ~500 or so 10-30 minute tasks use way more memory than all other tasks.\r\n\r\n","title":"CachedThreadPool vs FixedThreadPool for huge number of task","body":"<h3>Starting point</h3>\n<p>Here's what stands out in your question:</p>\n<ul>\n<li>There are ~400,000 tasks to process</li>\n<li>Most tasks (~399,500 or ~99.875%) take 4 seconds or less to complete</li>\n<li>Some tasks (~500 or ~0.125%) usually take 10-30 minutes to complete</li>\n<li>Tasks perform &quot;no I/O operations&quot;</li>\n<li>Current approach uses a FixedThreadPool with size 200</li>\n</ul>\n<h3>Overview</h3>\n<p>Given that the tasks perform &quot;no I/O operations&quot;, this implies:</p>\n<ul>\n<li>no disk I/O</li>\n<li>no network I/O</li>\n</ul>\n<p>The tasks are then bound (limited) either by CPU or memory.\nA first step would be to understand which of the two is the limiter: CPU or memory.</p>\n<p>Nothing in your problem statement sounds like the choice of thread pool is a factor.</p>\n<h3>Limited by CPU</h3>\n<p>If the work is CPU-bound, in general nothing will be improved by increasing the thread pool size beyond the number of available CPU cores. So if you have a 32 CPU cores available, a thread pool with a larger number of active threads (for example: 100) would incur overhead (run slower) due to context switching. Things won't &quot;go faster&quot; with more threads if the underlying contended resource is CPU.</p>\n<p>With a CPU-bound problem, I would first set the thread pool no higher than total CPU cores on the machine (and probably less). So if your machine has 32 cores, try a thread pool of 16 or maybe 20 to start. Then process real-world data and make obesrvations about performance, possibly making additional changes based on those test runs.\nBesides your own program, there are always other things running on any computer system, so it isn't a given that 16 (for example) is &quot;low enough&quot; – it depends on what else is running on the system. That's the importance of doing a test run though – set it to 16, look for signs of CPU contention, possibly reduce <em>below</em> 16 if needed; or maybe there's plenty of idle CPU available with 16, so it could be safe/fine to increase higher.</p>\n<h3>Limited by memory</h3>\n<p>If the work is memory-bound, the thread pool size isn't as directly tied to the contended resource (like it is with CPU cores). It might take additional\nunderstanding to decide if or how to tune the system to avoid memory contention.</p>\n<p>As with CPU-bound problems, you should be able to start with a fixed size (something smaller than 200), and make observations using real-world data sets.\nThere should be some pattern that emerges, perhaps (for example) that the ~500 or so 10-30 minute tasks use way more memory than all other tasks.</p>\n"}],"owner":{"account_id":15612235,"reputation":11,"user_id":11263312,"display_name":"Prakash Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659916567,"creation_date":1659611892,"question_id":73234995,"body_markdown":"I would like to know which one should i use in the particular scenario: \r\nthere are several tasks, usually 400k tasks to process.\r\nmost of the tasks took less than 4 sec to process but some of them (300 to 500 tasks) took long time usually between 10 to 30 min.\r\n\r\nCurrently, we have FixedThreadPool implemented with size 200.\r\nI am wondering if we can do it better with CachedThreadpool?\r\nAlso want to know what will be the impact on server as only one server is dedicated for the task.\r\n\r\nAll task performs just calculations. No I/O operations\r\n","title":"CachedThreadPool vs FixedThreadPool for huge number of task","body":"<p>I would like to know which one should i use in the particular scenario:\nthere are several tasks, usually 400k tasks to process.\nmost of the tasks took less than 4 sec to process but some of them (300 to 500 tasks) took long time usually between 10 to 30 min.</p>\n<p>Currently, we have FixedThreadPool implemented with size 200.\nI am wondering if we can do it better with CachedThreadpool?\nAlso want to know what will be the impact on server as only one server is dedicated for the task.</p>\n<p>All task performs just calculations. No I/O operations</p>\n"},{"tags":["java","joptionpane","jdatechooser","jcalendar"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1455217212,"post_id":35347519,"comment_id":58402788,"body_markdown":"Here is an example of how you can retrieve the results of your dialog inline: https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/dialogs/ParamDialog.java","body":"Here is an example of how you can retrieve the results of your dialog inline: <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/dialogs/ParamDialog.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/dialogs/&hellip;</a>"},{"owner":{"account_id":6398232,"reputation":143,"user_id":4961879,"accept_rate":88,"display_name":"Josu&#233; Almonasi"},"score":0,"creation_date":1455285784,"post_id":35347519,"comment_id":58434790,"body_markdown":"Yes, thanks, that is something similar to what I was trying to achieve but in this case I needed to replace the input text element with the JDateChooser, look at the answer a managed out, it may be helpful for you in the future.","body":"Yes, thanks, that is something similar to what I was trying to achieve but in this case I needed to replace the input text element with the JDateChooser, look at the answer a managed out, it may be helpful for you in the future."}],"answers":[{"tags":[],"owner":{"account_id":6398232,"reputation":143,"user_id":4961879,"accept_rate":88,"display_name":"Josu&#233; Almonasi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1455285603,"creation_date":1455285603,"answer_id":35364447,"question_id":35347519,"body_markdown":"I finally reached a solution that worked for me. I stared creating separately a DateChooser and a String and put them together in an Object array, then pass the object as argument for the JOptionPane.\r\n\r\n    JDateChooser jd = new JDateChooser();\r\n    String message =&quot;Choose start date:\\n&quot;;\r\n    Object[] params = {message,jd};\r\n    JOptionPane.showConfirmDialog(null,params,&quot;Start date&quot;, JOptionPane.PLAIN_MESSAGE);\r\n\r\nIn order to get the date once the user clicks the &quot;OK&quot; button in the JOptionPane  I implemented a SimpleDateFormat.\r\n\r\n    String s=&quot;&quot;;\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    s=sdf.format(((JDateChooser)params[1]).getDate());//Casting params[1] makes me able to get its information\r\n\r\nThat implementation solved the problem the way I wanted, I hope you guys find this helpful. ","title":"Display JDateChooser in JOptionPane","body":"<p>I finally reached a solution that worked for me. I stared creating separately a DateChooser and a String and put them together in an Object array, then pass the object as argument for the JOptionPane.</p>\n\n<pre><code>JDateChooser jd = new JDateChooser();\nString message =\"Choose start date:\\n\";\nObject[] params = {message,jd};\nJOptionPane.showConfirmDialog(null,params,\"Start date\", JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n\n<p>In order to get the date once the user clicks the \"OK\" button in the JOptionPane  I implemented a SimpleDateFormat.</p>\n\n<pre><code>String s=\"\";\nSimpleDateFormat sdf = new SimpleDateFormat(\"MM/dd/yyyy\");\ns=sdf.format(((JDateChooser)params[1]).getDate());//Casting params[1] makes me able to get its information\n</code></pre>\n\n<p>That implementation solved the problem the way I wanted, I hope you guys find this helpful. </p>\n"},{"tags":[],"owner":{"account_id":2295005,"reputation":21,"user_id":2016664,"display_name":"Jav13rzito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659915785,"creation_date":1659915785,"answer_id":73271775,"question_id":35347519,"body_markdown":"    JDateChooser jd = new JDateChooser();\r\n    String message =&quot;Choose start date:\\n&quot;;\r\n    Object[] params = {message,jd};\r\n    if (JOptionPane.showConfirmDialog(this, params, &quot;Start date&quot;, JOptionPane.PLAIN_MESSAGE) == 0) { \r\n        System.out.println(&quot;Picked date=&quot;+jd.getDate().toString());\r\n        //I dont need to cast to a jdatechooser, i only take the date\r\n        //start the chooser with todays date in case you want using jd.setCalendar(new GregorianCalendar());\r\n    }","title":"Display JDateChooser in JOptionPane","body":"<pre><code>JDateChooser jd = new JDateChooser();\nString message =&quot;Choose start date:\\n&quot;;\nObject[] params = {message,jd};\nif (JOptionPane.showConfirmDialog(this, params, &quot;Start date&quot;, JOptionPane.PLAIN_MESSAGE) == 0) { \n    System.out.println(&quot;Picked date=&quot;+jd.getDate().toString());\n    //I dont need to cast to a jdatechooser, i only take the date\n    //start the chooser with todays date in case you want using jd.setCalendar(new GregorianCalendar());\n}\n</code></pre>\n"}],"owner":{"account_id":6398232,"reputation":143,"user_id":4961879,"accept_rate":88,"display_name":"Josu&#233; Almonasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6475,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35364447,"answer_count":2,"score":5,"last_activity_date":1659915785,"creation_date":1455216274,"question_id":35347519,"body_markdown":"I want to display a `JDateChooser` component inside an Option pane depending on some selection from the user.\r\nThe point is that I tried getting the `JDateChooser` the way I want it to appear using next code:\r\n\r\n    JOptionPane.showInputDialog(null, new JDateChooser(),&quot;Start date&quot;, JOptionPane.PLAIN_MESSAGE);\r\nI tried with different kinds of `JOptionPane` variants but I can&#39;t figure out how to get this done, the user must be able to select the date and confirm by clicking a button so that I can retrieve that date and use it as a `String`.\r\n\r\nI&#39;d like to have something like this:\r\n\r\n    String s = JOptionPane.showInputDialog(null,&quot;Text&quot;, &quot;More Text&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\r\nSo that in that way I can get the selected date.\r\nI&#39;m working with jcalendar-1.4.jar","title":"Display JDateChooser in JOptionPane","body":"<p>I want to display a <code>JDateChooser</code> component inside an Option pane depending on some selection from the user.\nThe point is that I tried getting the <code>JDateChooser</code> the way I want it to appear using next code:</p>\n\n<pre><code>JOptionPane.showInputDialog(null, new JDateChooser(),\"Start date\", JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n\n<p>I tried with different kinds of <code>JOptionPane</code> variants but I can't figure out how to get this done, the user must be able to select the date and confirm by clicking a button so that I can retrieve that date and use it as a <code>String</code>.</p>\n\n<p>I'd like to have something like this:</p>\n\n<pre><code>String s = JOptionPane.showInputDialog(null,\"Text\", \"More Text\", JOptionPane.INFORMATION_MESSAGE);\n</code></pre>\n\n<p>So that in that way I can get the selected date.\nI'm working with jcalendar-1.4.jar</p>\n"},{"tags":["java","selenium-webdriver","xpath","youtube","css-selectors"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659913237,"creation_date":1659913237,"answer_id":73271621,"question_id":73259652,"body_markdown":"To extract the _**duration of a YouTube**_ video you have to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_visibilityOfElementLocated()_](https://stackoverflow.com/a/49749804/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _cssSelector_ and `getText()`:\r\n\r\n      driver.get(&quot;https://www.youtube.com/&quot;);\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;ytd-thumbnail-overlay-time-status-renderer.style-scope.ytd-thumbnail span.style-scope.ytd-thumbnail-overlay-time-status-renderer#text&quot;))).getText());\r\n           \t\r\n- Using _xpath_ and `getAttribute(&quot;innerHTML&quot;)`:\r\n\r\n      driver.get(&quot;https://www.youtube.com/&quot;);\r\n\t  System.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//a[@id=&#39;thumbnail&#39; and @href]//following::div[1]//span&quot;))).getAttribute(&quot;innerHTML&quot;));","title":"How to get the duration of a youtube video in Sselenium+Java?","body":"<p>To extract the <em><strong>duration of a YouTube</strong></em> video you have to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\"><em>visibilityOfElementLocated()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em> and <code>getText()</code>:</p>\n<pre><code>driver.get(&quot;https://www.youtube.com/&quot;);\nSystem.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;ytd-thumbnail-overlay-time-status-renderer.style-scope.ytd-thumbnail span.style-scope.ytd-thumbnail-overlay-time-status-renderer#text&quot;))).getText());\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>getAttribute(&quot;innerHTML&quot;)</code>:</p>\n<pre><code>driver.get(&quot;https://www.youtube.com/&quot;);\nSystem.out.println(new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//a[@id='thumbnail' and @href]//following::div[1]//span&quot;))).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":15380555,"reputation":1,"user_id":11096087,"display_name":"cgrum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659913237,"creation_date":1659788172,"question_id":73259652,"body_markdown":"It&#39;s my code:\r\n\r\n    @Test\r\n        public void Task4Test(){\r\n            DriverFactory driverFactory = new DriverFactory();\r\n            WebDriver webDriver = driverFactory.initDriver();\r\n            webDriver.get(&quot;https://www.youtube.com/&quot;);\r\n            webDriver.findElement(By.xpath(&quot;//*[@id=&#39;button&#39;]//*[contains(text(), &#39;Zaakceptuj wszystko&#39;)]&quot;)).click();\r\n            WebDriverWait wait = new WebDriverWait(webDriver, 30);\r\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//*[@id=&#39;video-title&#39;])[1]&quot;)));\r\n            String firstVideoTitle = webDriver.findElement(By.xpath(&quot;(//*[@id=&#39;video-title&#39;])[1]&quot;)).getText();\r\n            System.out.println(firstVideoTitle);\r\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//ytd-channel-name[@id=&#39;channel-name&#39;]&quot; +\r\n                    &quot;/div/div/yt-formatted-string/a)[1]&quot;)));\r\n            String firstVideoChannel = webDriver.findElement(By.xpath(&quot;(//ytd-channel-name[@id=&#39;channel-name&#39;]&quot; +\r\n                    &quot;/div/div/yt-formatted-string/a)[1]&quot;)).getText();\r\n            System.out.println(firstVideoChannel);\r\n            String firstVideoLength = webDriver.findElement(By.xpath(&quot;(//span[@id=&#39;text&#39;])[1]&quot;)).getText();\r\n            System.out.println(firstVideoLength);\r\n\r\nResponse:\r\n```\r\norg.openqa.selenium.NoSuchElementException: Unable to locate element: (//span[@id=&#39;text&#39;])[1]\r\n```\r\n\r\nElement snapshot:\r\n\r\n![screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OI9Yb.png","title":"How to get the duration of a youtube video in Sselenium+Java?","body":"<p>It's my code:</p>\n<pre><code>@Test\n    public void Task4Test(){\n        DriverFactory driverFactory = new DriverFactory();\n        WebDriver webDriver = driverFactory.initDriver();\n        webDriver.get(&quot;https://www.youtube.com/&quot;);\n        webDriver.findElement(By.xpath(&quot;//*[@id='button']//*[contains(text(), 'Zaakceptuj wszystko')]&quot;)).click();\n        WebDriverWait wait = new WebDriverWait(webDriver, 30);\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//*[@id='video-title'])[1]&quot;)));\n        String firstVideoTitle = webDriver.findElement(By.xpath(&quot;(//*[@id='video-title'])[1]&quot;)).getText();\n        System.out.println(firstVideoTitle);\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;(//ytd-channel-name[@id='channel-name']&quot; +\n                &quot;/div/div/yt-formatted-string/a)[1]&quot;)));\n        String firstVideoChannel = webDriver.findElement(By.xpath(&quot;(//ytd-channel-name[@id='channel-name']&quot; +\n                &quot;/div/div/yt-formatted-string/a)[1]&quot;)).getText();\n        System.out.println(firstVideoChannel);\n        String firstVideoLength = webDriver.findElement(By.xpath(&quot;(//span[@id='text'])[1]&quot;)).getText();\n        System.out.println(firstVideoLength);\n</code></pre>\n<p>Response:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: Unable to locate element: (//span[@id='text'])[1]\n</code></pre>\n<p>Element snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/OI9Yb.png\" alt=\"screenshot\" /></p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":5494862,"reputation":665,"user_id":4366358,"accept_rate":44,"display_name":"OEH"},"score":0,"creation_date":1586335813,"post_id":61095857,"comment_id":108088123,"body_markdown":"I am not sure but i think It Is in the paid version of intellij, are you using the community?","body":"I am not sure but i think It Is in the paid version of intellij, are you using the community?"},{"owner":{"account_id":18214913,"reputation":51,"user_id":13256723,"display_name":"Tomasz Hankus"},"score":0,"creation_date":1586337449,"post_id":61095857,"comment_id":108088960,"body_markdown":"I use paid one - Ultimate 2019.03","body":"I use paid one - Ultimate 2019.03"}],"answers":[{"tags":[],"owner":{"account_id":7442080,"reputation":304,"user_id":5659556,"display_name":"ParkerM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659912880,"creation_date":1659912880,"answer_id":73271590,"question_id":61095857,"body_markdown":"If `@ConfigurationProperties` is at the class level then there should be some gutter icons that will show where the properties have been set.\r\n[![IntelliJ spring boot properties gutter popup][1]][1]\r\n\r\n\r\nIt doesn&#39;t look like this works when it&#39;s specified on a `@Bean` like in your example however. A possible workaround is to use a nested `@Configuration` class, though that may be undesirable.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YV2QA.png\r\n  [2]: https://i.stack.imgur.com/XqS9v.png","title":"How to configure intellij to find spring properties source","body":"<p>If <code>@ConfigurationProperties</code> is at the class level then there should be some gutter icons that will show where the properties have been set.\n<a href=\"https://i.stack.imgur.com/YV2QA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YV2QA.png\" alt=\"IntelliJ spring boot properties gutter popup\" /></a></p>\n<p>It doesn't look like this works when it's specified on a <code>@Bean</code> like in your example however. A possible workaround is to use a nested <code>@Configuration</code> class, though that may be undesirable.\n<a href=\"https://i.stack.imgur.com/XqS9v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XqS9v.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18214913,"reputation":51,"user_id":13256723,"display_name":"Tomasz Hankus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1659912880,"creation_date":1586332557,"question_id":61095857,"body_markdown":"&lt;br&gt;\r\nI&#39;m looking for a way to follow source of spring configuration from annotation.&lt;br&gt;\r\nE.g. Having below Bean is any way to e.g. click on `my-components-service.books.configurations` and be redirect or list yaml files which contains config which would be injected in runtime?  \r\n```\r\n@Bean\r\n@ConfigurationProperties(prefix = &quot;my-components-service.books.configurations&quot;)\r\nMap&lt;ComponentType, BooksConfiguration&gt; booksConfiguration() {\r\n  return new HashMap&lt;&gt;();\r\n}\r\n```\r\n","title":"How to configure intellij to find spring properties source","body":"<p><br>\nI'm looking for a way to follow source of spring configuration from annotation.<br>\nE.g. Having below Bean is any way to e.g. click on <code>my-components-service.books.configurations</code> and be redirect or list yaml files which contains config which would be injected in runtime?  </p>\n\n<pre><code>@Bean\n@ConfigurationProperties(prefix = \"my-components-service.books.configurations\")\nMap&lt;ComponentType, BooksConfiguration&gt; booksConfiguration() {\n  return new HashMap&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1659903639,"post_id":73270741,"comment_id":129400039,"body_markdown":"Do you want to return a new instance `T` based on the `Class&lt;T&gt;` reference or do you want to return the `Class&lt;T&gt;` reference instead?","body":"Do you want to return a new instance <code>T</code> based on the <code>Class&lt;T&gt;</code> reference or do you want to return the <code>Class&lt;T&gt;</code> reference instead?"},{"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"score":0,"creation_date":1659903744,"post_id":73270741,"comment_id":129400059,"body_markdown":"@Progman A new instance `T`","body":"@Progman A new instance <code>T</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1659904243,"post_id":73270741,"comment_id":129400151,"body_markdown":"Then you might want to look at other questions like https://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor","body":"Then you might want to look at other questions like <a href=\"https://stackoverflow.com/questions/6094575/creating-an-instance-using-the-class-name-and-calling-constructor\" title=\"creating an instance using the class name and calling constructor\">stackoverflow.com/questions/6094575/&hellip;</a>"},{"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"score":0,"creation_date":1659904584,"post_id":73270741,"comment_id":129400224,"body_markdown":"@Progman I&#39;m not sure how that&#39;s supposed to answer my question. I understand the basics of reflection, but I don&#39;t know how to apply them to this case, if they can be applied. I think the answer probably lies somewhere along the lines of [bounded type parameters](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html), but I don&#39;t see how to apply that either. Also, just to clarify, I already have a working `foo`, it&#39;s wrapping it in a function that has the right return type that I&#39;m stuck on.","body":"@Progman I&#39;m not sure how that&#39;s supposed to answer my question. I understand the basics of reflection, but I don&#39;t know how to apply them to this case, if they can be applied. I think the answer probably lies somewhere along the lines of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">bounded type parameters</a>, but I don&#39;t see how to apply that either. Also, just to clarify, I already have a working <code>foo</code>, it&#39;s wrapping it in a function that has the right return type that I&#39;m stuck on."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1659906265,"post_id":73270741,"comment_id":129400555,"body_markdown":"Casting to a generic type is unsafe as it can result in heap pollution. A safer approach is `c.cast(ex)`, but you&#39;re still left with runtime type checking. It&#39;s hard to suggest an alternative without seeing the origins of `ex`. Is the cast guaranteed to succeed? Why or why not?","body":"Casting to a generic type is unsafe as it can result in heap pollution. A safer approach is <code>c.cast(ex)</code>, but you&#39;re still left with runtime type checking. It&#39;s hard to suggest an alternative without seeing the origins of <code>ex</code>. Is the cast guaranteed to succeed? Why or why not?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1659906756,"post_id":73270741,"comment_id":129400653,"body_markdown":"Since the function foo will return a different type based on the enum, and that the enum contains different types depending on the value that is selected at runtime by the function, there is simply no way for the compiler to know (and hence to infer) the returned type at compile-time. So I guess what you proposed is your best shot and yes indeed, the T that you infer is the T that you expect the function to return and not the T that the function guarantees you to return so a runtime check on the returned type should be performed to avoid bad casting","body":"Since the function foo will return a different type based on the enum, and that the enum contains different types depending on the value that is selected at runtime by the function, there is simply no way for the compiler to know (and hence to infer) the returned type at compile-time. So I guess what you proposed is your best shot and yes indeed, the T that you infer is the T that you expect the function to return and not the T that the function guarantees you to return so a runtime check on the returned type should be performed to avoid bad casting"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659912457,"creation_date":1659912457,"answer_id":73271563,"question_id":73270741,"body_markdown":"The core issue at hand here is that, unfortunately, enums do not support generics. You cannot write `enum Foo&lt;E&gt; {}`.\r\n\r\nHowever, you need that generics to exist to do it &#39;properly&#39;. You can make enums implement interfaces, and interfaces can have generics, but you can&#39;t bind different types to that interface on a per-enum-value basis, so that&#39;s still not a solution. You can implement, say, `SomeInterface&lt;Integer&gt;`, but that would mean _all_ the enum values all implement that. So you can&#39;t have `Foo.A` implement `SomeInterface&lt;Integer&gt;` and `Foo.B` implement `SomeInterface&lt;String&gt;`.\r\n\r\nAs far as I can tell, you have only two options.\r\n\r\n## Hack it\r\n\r\nAnd you already discovered the best of a bad bunch: Have callers pass in the class. There is no compile time check if they pass in the wrong class. At best, you can improve on the implementation of the body of the `getValue` class you showed; use `return (T) type.cast(ex)` which will at least end up throwing an exception at runtime if someone tries to pull that stunt - now if the `c` value is not identical to what the enum intended you to do, you get an exception instead of silent heap corruption.\r\n\r\n## No enums\r\n\r\nEnums are, in effect, almost entirely syntax sugar. The amount of places in popular java APIs that __demand__ an enum are scarce (you can switch on them, that&#39;s nice - and a few APIs such as DB SQL abstractions might do something special, and there&#39;s `EnumSet`, but that is about it). Enums are just objects that all implement/extend a common type, along with a bunch of infrastructure that ensures that only one can exist for any given enum value even in the face of reflection, multi-threaded shenanigans, and serialization. All of these things can be easily reproduced. You&#39;re just missing out on the notion that you can switch on them or make EnumSets out of them.\r\n\r\nOnce you write &#39;your own&#39; enum, you _can_ make each value have its own generics value, which &#39;fixes&#39; the problem.\r\n\r\n## Write-your-own enum syntax sugar\r\n\r\nThe &#39;enum syntax sugar&#39; essentially follows to the letter what&#39;s in Effective Java prior to enums existing. If you have that book, you can look it up. It&#39;s not particularly complicated - it gets a little hairy if you care about serialization, but virtually nobody does, so if you don&#39;t, it&#39;s really just &#39;private constructor&#39; and that&#39;s all you need:\r\n\r\n```\r\nclass Suit {\r\n  private final String name;\r\n  private final Color color;\r\n\r\n  public static final Suit DIAMONDS = new Suit(&quot;DIAMONDS&quot;, Color.RED);\r\n  public static final Suit HEARTS = new Suit(&quot;HEART&quot;, Color.RED);\r\n  public static final Suit CLUBS = new Suit(&quot;CLUBS&quot;, Color.BLACK);\r\n  public static final Spades SPADES = new Spades();\r\n\r\n  Suit(String name, Color color) { // package private\r\n    this.name = name;\r\n    this.color = color;\r\n  }\r\n\r\n  public final String name() {\r\n    return name;\r\n  }\r\n\r\n  public Color getColor() {\r\n    return color;\r\n  }\r\n\r\n  public boolean isTrumps() {\r\n    return false;\r\n  }\r\n}\r\n\r\npublic final class Spades extends Suit {\r\n  Spades() {\r\n    super(&quot;SPADES&quot;, Color.BLACK);\r\n  }\r\n\r\n  @Override public boolean isTrumps() {\r\n    return true;\r\n  }\r\n}\r\n```\r\n\r\nis essentially identical to:\r\n\r\n```\r\nenum Suit {\r\n  DIAMONDS(Color.RED),\r\n  HEARTS(Color.RED),\r\n  CLUBS(Color.BLACK),\r\n  SPADES(Color.BLACK) {\r\n    @Override public boolean isTrumps() { return true; }\r\n  };\r\n\r\n  private final Color color;\r\n  Suit(Color color) {\r\n    this.color = color;\r\n  }\r\n\r\n  public Color getColor() {\r\n    return color;\r\n  }\r\n\r\n  public boolean isTrumps() {\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\nin almost all ways that matter. Once you&#39;ve &#39;refactored&#39; your enum into this construction, you are free to define e.g. `A` as `public static final Foo&lt;Integer&gt; A = ...;` and `B` as `public static final Foo&lt;String&gt; B = ...` and go from there.\r\n\r\nA few language features might be relevant here:\r\n\r\n* In very very recent versions of java (16+, I think), you can make so-called &#39;sealed&#39; interfaces and classes - these allow extension only by types explicitly enumerated on the base type. So, you can make your `Suit` type sealed, listing out that only the Diamonds, Hearts, Clubs, and Spades types are its subtypes and no others exist (no other type can be `implements` or `extends` Suit). In addition, the far more advanced pattern matching forms of `switch` introduced in the most recent few versions of java know what this means and let you switch on them after all, regaining you the loss of switching-on-enums.\r\n* Instead of `(T) foo`, if you happen to have a `Class&lt;T&gt;` from elsewhere (for example, because one of your fields is a `Class&lt;T&gt;`), you can write `type.cast(foo)` - this avoids the generics warning and will in fact throw a `ClassCastException` on the spot if the types do no match, whereas `(T) foo` gets you a compiler warning and will do absolutely nothing if the types don&#39;t match up. Instead, some code somewhere later is going to throw that ClassCastException. Errors should be as localized as possible (thrown at the point of problem, not thrown 5 days later in unrelated code - that leads to hours of debugging instead of 10 seconds of debugging).\r\n\r\nOf course, given that generics are erased, you need that `Class&lt;T&gt;` to be made elsewhere. You can&#39;t create a `Class&lt;T&gt;` instance from just the fact that your type/method has a T typevar. That&#39;s the &#39;point&#39; of generics erasure - that you can&#39;t do that.\r\n","title":"Return type based on final field of input","body":"<p>The core issue at hand here is that, unfortunately, enums do not support generics. You cannot write <code>enum Foo&lt;E&gt; {}</code>.</p>\n<p>However, you need that generics to exist to do it 'properly'. You can make enums implement interfaces, and interfaces can have generics, but you can't bind different types to that interface on a per-enum-value basis, so that's still not a solution. You can implement, say, <code>SomeInterface&lt;Integer&gt;</code>, but that would mean <em>all</em> the enum values all implement that. So you can't have <code>Foo.A</code> implement <code>SomeInterface&lt;Integer&gt;</code> and <code>Foo.B</code> implement <code>SomeInterface&lt;String&gt;</code>.</p>\n<p>As far as I can tell, you have only two options.</p>\n<h2>Hack it</h2>\n<p>And you already discovered the best of a bad bunch: Have callers pass in the class. There is no compile time check if they pass in the wrong class. At best, you can improve on the implementation of the body of the <code>getValue</code> class you showed; use <code>return (T) type.cast(ex)</code> which will at least end up throwing an exception at runtime if someone tries to pull that stunt - now if the <code>c</code> value is not identical to what the enum intended you to do, you get an exception instead of silent heap corruption.</p>\n<h2>No enums</h2>\n<p>Enums are, in effect, almost entirely syntax sugar. The amount of places in popular java APIs that <strong>demand</strong> an enum are scarce (you can switch on them, that's nice - and a few APIs such as DB SQL abstractions might do something special, and there's <code>EnumSet</code>, but that is about it). Enums are just objects that all implement/extend a common type, along with a bunch of infrastructure that ensures that only one can exist for any given enum value even in the face of reflection, multi-threaded shenanigans, and serialization. All of these things can be easily reproduced. You're just missing out on the notion that you can switch on them or make EnumSets out of them.</p>\n<p>Once you write 'your own' enum, you <em>can</em> make each value have its own generics value, which 'fixes' the problem.</p>\n<h2>Write-your-own enum syntax sugar</h2>\n<p>The 'enum syntax sugar' essentially follows to the letter what's in Effective Java prior to enums existing. If you have that book, you can look it up. It's not particularly complicated - it gets a little hairy if you care about serialization, but virtually nobody does, so if you don't, it's really just 'private constructor' and that's all you need:</p>\n<pre><code>class Suit {\n  private final String name;\n  private final Color color;\n\n  public static final Suit DIAMONDS = new Suit(&quot;DIAMONDS&quot;, Color.RED);\n  public static final Suit HEARTS = new Suit(&quot;HEART&quot;, Color.RED);\n  public static final Suit CLUBS = new Suit(&quot;CLUBS&quot;, Color.BLACK);\n  public static final Spades SPADES = new Spades();\n\n  Suit(String name, Color color) { // package private\n    this.name = name;\n    this.color = color;\n  }\n\n  public final String name() {\n    return name;\n  }\n\n  public Color getColor() {\n    return color;\n  }\n\n  public boolean isTrumps() {\n    return false;\n  }\n}\n\npublic final class Spades extends Suit {\n  Spades() {\n    super(&quot;SPADES&quot;, Color.BLACK);\n  }\n\n  @Override public boolean isTrumps() {\n    return true;\n  }\n}\n</code></pre>\n<p>is essentially identical to:</p>\n<pre><code>enum Suit {\n  DIAMONDS(Color.RED),\n  HEARTS(Color.RED),\n  CLUBS(Color.BLACK),\n  SPADES(Color.BLACK) {\n    @Override public boolean isTrumps() { return true; }\n  };\n\n  private final Color color;\n  Suit(Color color) {\n    this.color = color;\n  }\n\n  public Color getColor() {\n    return color;\n  }\n\n  public boolean isTrumps() {\n    return false;\n  }\n}\n</code></pre>\n<p>in almost all ways that matter. Once you've 'refactored' your enum into this construction, you are free to define e.g. <code>A</code> as <code>public static final Foo&lt;Integer&gt; A = ...;</code> and <code>B</code> as <code>public static final Foo&lt;String&gt; B = ...</code> and go from there.</p>\n<p>A few language features might be relevant here:</p>\n<ul>\n<li>In very very recent versions of java (16+, I think), you can make so-called 'sealed' interfaces and classes - these allow extension only by types explicitly enumerated on the base type. So, you can make your <code>Suit</code> type sealed, listing out that only the Diamonds, Hearts, Clubs, and Spades types are its subtypes and no others exist (no other type can be <code>implements</code> or <code>extends</code> Suit). In addition, the far more advanced pattern matching forms of <code>switch</code> introduced in the most recent few versions of java know what this means and let you switch on them after all, regaining you the loss of switching-on-enums.</li>\n<li>Instead of <code>(T) foo</code>, if you happen to have a <code>Class&lt;T&gt;</code> from elsewhere (for example, because one of your fields is a <code>Class&lt;T&gt;</code>), you can write <code>type.cast(foo)</code> - this avoids the generics warning and will in fact throw a <code>ClassCastException</code> on the spot if the types do no match, whereas <code>(T) foo</code> gets you a compiler warning and will do absolutely nothing if the types don't match up. Instead, some code somewhere later is going to throw that ClassCastException. Errors should be as localized as possible (thrown at the point of problem, not thrown 5 days later in unrelated code - that leads to hours of debugging instead of 10 seconds of debugging).</li>\n</ul>\n<p>Of course, given that generics are erased, you need that <code>Class&lt;T&gt;</code> to be made elsewhere. You can't create a <code>Class&lt;T&gt;</code> instance from just the fact that your type/method has a T typevar. That's the 'point' of generics erasure - that you can't do that.</p>\n"}],"owner":{"account_id":9244432,"reputation":146,"user_id":8507259,"display_name":"Ethan Chapman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73271563,"answer_count":1,"score":0,"last_activity_date":1659912457,"creation_date":1659903418,"question_id":73270741,"body_markdown":"I have an enum whose values have an associated `Class&lt;?&gt;` field, like so:\r\n```\r\npublic enum Example {\r\n    A(int.class),\r\n    B(String.class),\r\n    C(int.class);\r\n    \r\n    public final Class&lt;?&gt; type;\r\n    private Example(Class&lt;?&gt; type) {\r\n        this.type = type;\r\n    }\r\n}\r\n```\r\n\r\nI want to pass an `Example` to a function in another class and return based on the `type` field in `Example`, like so:\r\n```\r\npublic &lt;T&gt; T getValue(Example ex) {\r\n    return foo(ex); // Will return a value of type ex.type\r\n}\r\n```\r\nHow can I do this properly? The best I&#39;ve found so far is this:\r\n```\r\npublic &lt;T&gt; T getValue(Class&lt;T&gt; c, Example ex) {\r\n    return (T)foo(ex); // Will cause problems if T is not ex.type, although that can be checked and an exception thrown\r\n}\r\n```\r\nBut this isn&#39;t great as it doesn&#39;t enforce `ex.type.equals(c)` at compiler-time, and it seems like I shouldn&#39;t have to explicitly pass the type when I&#39;m implicitly passing it through the other parameter.","title":"Return type based on final field of input","body":"<p>I have an enum whose values have an associated <code>Class&lt;?&gt;</code> field, like so:</p>\n<pre><code>public enum Example {\n    A(int.class),\n    B(String.class),\n    C(int.class);\n    \n    public final Class&lt;?&gt; type;\n    private Example(Class&lt;?&gt; type) {\n        this.type = type;\n    }\n}\n</code></pre>\n<p>I want to pass an <code>Example</code> to a function in another class and return based on the <code>type</code> field in <code>Example</code>, like so:</p>\n<pre><code>public &lt;T&gt; T getValue(Example ex) {\n    return foo(ex); // Will return a value of type ex.type\n}\n</code></pre>\n<p>How can I do this properly? The best I've found so far is this:</p>\n<pre><code>public &lt;T&gt; T getValue(Class&lt;T&gt; c, Example ex) {\n    return (T)foo(ex); // Will cause problems if T is not ex.type, although that can be checked and an exception thrown\n}\n</code></pre>\n<p>But this isn't great as it doesn't enforce <code>ex.type.equals(c)</code> at compiler-time, and it seems like I shouldn't have to explicitly pass the type when I'm implicitly passing it through the other parameter.</p>\n"},{"tags":["java","c#"],"comments":[{"owner":{"account_id":156734,"reputation":26697,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":1,"creation_date":1529607627,"post_id":29925489,"comment_id":88947628,"body_markdown":"Not sure why Java never seems to add these obviously helpful methods. I&#39;d expect there to be an `append(string format, Object.. args)` overload (or perhaps named `appendFormat`), but there&#39;s not.","body":"Not sure why Java never seems to add these obviously helpful methods. I&#39;d expect there to be an <code>append(string format, Object.. args)</code> overload (or perhaps named <code>appendFormat</code>), but there&#39;s not."}],"answers":[{"tags":[],"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430240580,"creation_date":1430240323,"answer_id":29925522,"question_id":29925489,"body_markdown":"`String.format()` may do the job for you. So in turn say:\r\n\r\n    sb.append(String.format(&quot;\\\\u{0:X04}&quot;, i));","title":"Convert StringBuilder#AppendFormat to java","body":"<p><code>String.format()</code> may do the job for you. So in turn say:</p>\n\n<pre><code>sb.append(String.format(\"\\\\u{0:X04}\", i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1430240682,"creation_date":1430240682,"answer_id":29925650,"question_id":29925489,"body_markdown":"The [java.util.Formatter](http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html) class has a [zero-argument constructor](http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#Formatter--) which automatically wraps a StringBuilder:\r\n\r\n    Formatter formatter = new Formatter();\r\n    formatter.format(&quot;\\\\u%04x&quot;, i);\r\n\r\n    // ...\r\n\r\n    String finalText = formatter.toString();\r\n\r\n    // Or, if you want to be explicit about it:\r\n    //StringBuilder sb = (StringBuilder) formatter.out();\r\n    //String finalText = sb.toString();\r\n","title":"Convert StringBuilder#AppendFormat to java","body":"<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">java.util.Formatter</a> class has a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#Formatter--\" rel=\"noreferrer\">zero-argument constructor</a> which automatically wraps a StringBuilder:</p>\n\n<pre><code>Formatter formatter = new Formatter();\nformatter.format(\"\\\\u%04x\", i);\n\n// ...\n\nString finalText = formatter.toString();\n\n// Or, if you want to be explicit about it:\n//StringBuilder sb = (StringBuilder) formatter.out();\n//String finalText = sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1821777,"reputation":6462,"user_id":1655674,"display_name":"Dave Doknjas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430244518,"creation_date":1430244518,"answer_id":29926830,"question_id":29925489,"body_markdown":"You need a combination of &#39;append&#39; and &#39;String.format&#39;, remembering to adjust the format specifier for Java:\r\n\r\n    sb.append(String.format(&quot;\\\\u%004X&quot;, i));","title":"Convert StringBuilder#AppendFormat to java","body":"<p>You need a combination of 'append' and 'String.format', remembering to adjust the format specifier for Java:</p>\n\n<pre><code>sb.append(String.format(\"\\\\u%004X\", i));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1452275736,"creation_date":1452275736,"answer_id":34683182,"question_id":29925489,"body_markdown":"Most of the answers contains little errors (two `0` instead of one, C# format leaved in Java code).\r\n\r\nHere is working snipped:\r\n\r\n    sb.append(String.format(&quot;\\\\u%04X&quot;, 0xfcc));\r\n\r\nRegarding comments: C# specifier `\\\\u{0:X04}` and Java specifier `\\\\u%04X` both produce numbers in format `\\uXXXX` where X are upper case hex digits (when you use small x you will get lower case hex digits), so it matters.","title":"Convert StringBuilder#AppendFormat to java","body":"<p>Most of the answers contains little errors (two <code>0</code> instead of one, C# format leaved in Java code).</p>\n\n<p>Here is working snipped:</p>\n\n<pre><code>sb.append(String.format(\"\\\\u%04X\", 0xfcc));\n</code></pre>\n\n<p>Regarding comments: C# specifier <code>\\\\u{0:X04}</code> and Java specifier <code>\\\\u%04X</code> both produce numbers in format <code>\\uXXXX</code> where X are upper case hex digits (when you use small x you will get lower case hex digits), so it matters.</p>\n"},{"tags":[],"owner":{"account_id":369402,"reputation":461,"user_id":716769,"display_name":"Bogdan Mart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659911307,"creation_date":1659911307,"answer_id":73271481,"question_id":29925489,"body_markdown":"Other answers haw a flow that intermediate string is being created. Except accepted answer, but it asumes that we don&#39;t already have StringBuilder. And yes we can use Formatter INSTEAD of SB. But in many cases in code we receive SB from outside, so we can wrap it into formatter.\r\n\r\nCorrect answer that have full correspondence to provided C# code is:\r\n```java\r\n// sb.AppendFormat(&quot;\\\\u{0:X04}&quot;, i);\r\nFormatter fmt = new Formatter(sb);\r\nfmt.format(&quot;\\\\u%04x&quot;, i);\r\n```\r\nData would be appended to end of string builder directly. No intermediate string is created. *You can also specify locale if needed.*\r\n\r\nLater applies if we feed to Formatter not String builder, but arbitrary `Appendable`, like text file.\r\n\r\nWe don&#39;t need to mange lifetime of formatter directly( close it), if we would manage lifetime of writer (if that&#39;s not SB but file). If we pass in Writter and don&#39;t use that variable anymore -- we would need to `close()` Fromatter.","title":"Convert StringBuilder#AppendFormat to java","body":"<p>Other answers haw a flow that intermediate string is being created. Except accepted answer, but it asumes that we don't already have StringBuilder. And yes we can use Formatter INSTEAD of SB. But in many cases in code we receive SB from outside, so we can wrap it into formatter.</p>\n<p>Correct answer that have full correspondence to provided C# code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// sb.AppendFormat(&quot;\\\\u{0:X04}&quot;, i);\nFormatter fmt = new Formatter(sb);\nfmt.format(&quot;\\\\u%04x&quot;, i);\n</code></pre>\n<p>Data would be appended to end of string builder directly. No intermediate string is created. <em>You can also specify locale if needed.</em></p>\n<p>Later applies if we feed to Formatter not String builder, but arbitrary <code>Appendable</code>, like text file.</p>\n<p>We don't need to mange lifetime of formatter directly( close it), if we would manage lifetime of writer (if that's not SB but file). If we pass in Writter and don't use that variable anymore -- we would need to <code>close()</code> Fromatter.</p>\n"}],"owner":{"account_id":1810644,"reputation":7223,"user_id":1646783,"accept_rate":81,"display_name":"jlars62"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8392,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":29925650,"answer_count":5,"score":7,"last_activity_date":1659911307,"creation_date":1430240210,"question_id":29925489,"body_markdown":"I am converting C# code to Java, and I came across this line (where `i` is an int).  \r\n    \r\n    sb.AppendFormat(&quot;\\\\u{0:X04}&quot;, i);\r\n\r\nFrom what I can see, Java does not have an `appendFormat` method on its `StringBuilder`.\r\n\r\nHow would I go about converting this?\r\n\r\nEDIT: \r\n\r\nI see that AppendFormat is just a combination of append and String.format. How would I convert `\\\\u{0:X04}` to Java&#39;s String.format?","title":"Convert StringBuilder#AppendFormat to java","body":"<p>I am converting C# code to Java, and I came across this line (where <code>i</code> is an int).  </p>\n\n<pre><code>sb.AppendFormat(\"\\\\u{0:X04}\", i);\n</code></pre>\n\n<p>From what I can see, Java does not have an <code>appendFormat</code> method on its <code>StringBuilder</code>.</p>\n\n<p>How would I go about converting this?</p>\n\n<p>EDIT: </p>\n\n<p>I see that AppendFormat is just a combination of append and String.format. How would I convert <code>\\\\u{0:X04}</code> to Java's String.format?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":902567,"reputation":19,"user_id":938298,"display_name":"ankurbrdwj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659910849,"creation_date":1659910849,"answer_id":73271453,"question_id":65360621,"body_markdown":"The Step-Over will go line by line and keep separate stack frames for each recursive call , these frames will go away once the return statement is called , you can view each frame separately with its own data in bottom left debugger menu , with each return statement the flow will return and delete these frames but the cursor will always be at the line executed so it won let you in a specific stack frame .\r\n\r\n[![sample recursive debug view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v81bU.png","title":"IntelliJ debug specific stack frame of recursive method","body":"<p>The Step-Over will go line by line and keep separate stack frames for each recursive call , these frames will go away once the return statement is called , you can view each frame separately with its own data in bottom left debugger menu , with each return statement the flow will return and delete these frames but the cursor will always be at the line executed so it won let you in a specific stack frame .</p>\n<p><a href=\"https://i.stack.imgur.com/v81bU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v81bU.png\" alt=\"sample recursive debug view\" /></a></p>\n"}],"owner":{"account_id":20249999,"reputation":41,"user_id":14851412,"display_name":"CazSaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1659910849,"creation_date":1608309129,"question_id":65360621,"body_markdown":"When I try to debug a recursive method, I can&#39;t step over the recursive method call. Instead, it steps into the method call leaving me with a ton of stack frames when I just wanted to step over that line. \r\n\r\nMy question is: is there a way to stay within a specific stack frame while debugging a recursive method?","title":"IntelliJ debug specific stack frame of recursive method","body":"<p>When I try to debug a recursive method, I can't step over the recursive method call. Instead, it steps into the method call leaving me with a ton of stack frames when I just wanted to step over that line.</p>\n<p>My question is: is there a way to stay within a specific stack frame while debugging a recursive method?</p>\n"},{"tags":["java","object","casting","long-integer"],"comments":[{"owner":{"account_id":7837113,"reputation":8165,"user_id":5924721,"accept_rate":100,"display_name":"Frank Puffer"},"score":1,"creation_date":1467270691,"post_id":38116158,"comment_id":63665124,"body_markdown":"What do you expect from casting an `Object` to `Long`?","body":"What do you expect from casting an <code>Object</code> to <code>Long</code>?"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1467270703,"post_id":38116158,"comment_id":63665134,"body_markdown":"How about `public static long castObjectToLong( ... `","body":"How about <code>public static long castObjectToLong( ... </code>"},{"owner":{"account_id":2200754,"reputation":2067,"user_id":1945220,"accept_rate":93,"display_name":"Unknown"},"score":1,"creation_date":1467270756,"post_id":38116158,"comment_id":63665154,"body_markdown":"Return type is missing in your method!","body":"Return type is missing in your method!"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1467270764,"post_id":38116158,"comment_id":63665159,"body_markdown":"What means `it does not work well`?","body":"What means <code>it does not work well</code>?"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1467270838,"post_id":38116158,"comment_id":63665203,"body_markdown":"After edit: Please be more specific on your perception of &quot;not work well&quot;? Does it throw exceptions? Don&#39;t you get the values that you expect?","body":"After edit: Please be more specific on your perception of &quot;not work well&quot;? Does it throw exceptions? Don&#39;t you get the values that you expect?"},{"owner":{"account_id":2200754,"reputation":2067,"user_id":1945220,"accept_rate":93,"display_name":"Unknown"},"score":0,"creation_date":1467270882,"post_id":38116158,"comment_id":63665220,"body_markdown":"Refer http://stackoverflow.com/questions/2351189/cannot-convert-from-type-object-to-long","body":"Refer <a href=\"http://stackoverflow.com/questions/2351189/cannot-convert-from-type-object-to-long\" title=\"cannot convert from type object to long\">stackoverflow.com/questions/2351189/&hellip;</a>"},{"owner":{"account_id":6367019,"reputation":365,"user_id":4940710,"display_name":"Dat Tan Nguyen"},"score":0,"creation_date":1467271024,"post_id":38116158,"comment_id":63665306,"body_markdown":"I have a class to convert Object to many types but I get stuck when converting to Long\nIt throws ClassCastException","body":"I have a class to convert Object to many types but I get stuck when converting to Long It throws ClassCastException"},{"owner":{"account_id":5031641,"reputation":3025,"user_id":4041633,"accept_rate":100,"display_name":"Thomas Stets"},"score":1,"creation_date":1467271467,"post_id":38116158,"comment_id":63665561,"body_markdown":"Casting an Object does not change its class. It just tells the compiler that is of the class you want it cast to. If the object you are trying to cast to Long is not already a Long you will get a ClassCastException","body":"Casting an Object does not change its class. It just tells the compiler that is of the class you want it cast to. If the object you are trying to cast to Long is not already a Long you will get a ClassCastException"},{"owner":{"account_id":304966,"reputation":12275,"user_id":614800,"accept_rate":88,"display_name":"beluchin"},"score":0,"creation_date":1595008320,"post_id":38116158,"comment_id":111336709,"body_markdown":"https://stackoverflow.com/a/40366890/614800","body":"<a href=\"https://stackoverflow.com/a/40366890/614800\">stackoverflow.com/a/40366890/614800</a>"}],"answers":[{"tags":[],"owner":{"account_id":4818880,"reputation":739,"user_id":3890082,"accept_rate":29,"display_name":"sawyinwaimon"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1646866333,"creation_date":1467271787,"answer_id":38116579,"question_id":38116158,"body_markdown":"when you write  `return ((Long)object).longValue();` causes `ClassCastException` because Object is not Long. That I mean is if `Object o = new Long()`, then you can make cast `((Long)object)`. This is the example I wrote is just like:\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String args[]){\r\n    \t\tSystem.out.println(convertToLong(10));\r\n    \t}\r\n    \t\r\n    \tpublic static Long convertToLong(Object o){\r\n    \t\tString stringToConvert = String.valueOf(o);\r\n    \t\tLong convertedLong = Long.parseLong(stringToConvert);\r\n    \t\treturn convertedLong;\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\nI convert Object to String first.Then String to Long.Please see this code is ok to use for you or not.","title":"Cast an Object To Long in Java","body":"<p>when you write  <code>return ((Long)object).longValue();</code> causes <code>ClassCastException</code> because Object is not Long. That I mean is if <code>Object o = new Long()</code>, then you can make cast <code>((Long)object)</code>. This is the example I wrote is just like:</p>\n<pre><code>public class Test {\n\n    public static void main(String args[]){\n        System.out.println(convertToLong(10));\n    }\n    \n    public static Long convertToLong(Object o){\n        String stringToConvert = String.valueOf(o);\n        Long convertedLong = Long.parseLong(stringToConvert);\n        return convertedLong;\n        \n    }\n\n}\n</code></pre>\n<p>I convert Object to String first.Then String to Long.Please see this code is ok to use for you or not.</p>\n"},{"tags":[],"owner":{"account_id":5460188,"reputation":1757,"user_id":4342532,"accept_rate":41,"display_name":"ROOT"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1510713069,"creation_date":1467272259,"answer_id":38116746,"question_id":38116158,"body_markdown":"you can try like this:\r\n\r\n   \r\n\r\n     public class HelloWorld{\r\n    public static Long castObjectToLong(Object object) {\r\n      return Long.parseLong(object.toString());\r\n           }\r\n        public static void main(String []args){\r\n           System.out.println(&quot;Hello World&quot;);\r\n           Object object=1234;\r\n            System.out.println(castObjectToLong(object));\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Cast an Object To Long in Java","body":"<p>you can try like this:</p>\n\n<pre><code> public class HelloWorld{\npublic static Long castObjectToLong(Object object) {\n  return Long.parseLong(object.toString());\n       }\n    public static void main(String []args){\n       System.out.println(\"Hello World\");\n       Object object=1234;\n        System.out.println(castObjectToLong(object));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674383,"reputation":221,"user_id":1540221,"display_name":"Luan Vo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1473243312,"creation_date":1473243312,"answer_id":39367123,"question_id":38116158,"body_markdown":"The following code may help:\r\n\r\n    public class CastObjectToLong {\r\n    \tpublic Long castLongObject(Object object) {\r\n    \t\tLong result = 0l;\r\n    \t\ttry {\r\n    \t\t\tif (object instanceof Long)\r\n    \t\t\t\tresult = ((Long) object).longValue();\r\n    \t\t\telse if (object instanceof Integer) {\r\n    \t\t\t\tresult = ((Integer) object).longValue();\r\n    \t\t\t} else if (object instanceof String) {\r\n    \t\t\t\tresult = Long.valueOf((String) object);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(result);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;============= cannot cast&quot;);\r\n    \t\t\t// do something\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic static void main(String... args) {\r\n    \t\tCastObjectToLong castObjectToLong = new CastObjectToLong();\r\n    \t\tObject object1 = 12; // Integer\r\n    \t\tObject object2 = &quot;12&quot;; // String\r\n    \t\tObject object3 = 12l; // String\r\n    \t\tObject object4 = &quot;abc&quot;; // String\r\n    \r\n    \t\tcastObjectToLong.castLongObject(object1);\r\n    \t\tcastObjectToLong.castLongObject(object2);\r\n    \t\tcastObjectToLong.castLongObject(object3);\r\n    \t\tcastObjectToLong.castLongObject(object4); // exception here\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nOutputs:\r\n\r\n12\r\n\r\n12\r\n\r\n12\r\n\r\n============= cannot cast\r\n","title":"Cast an Object To Long in Java","body":"<p>The following code may help:</p>\n\n<pre><code>public class CastObjectToLong {\n    public Long castLongObject(Object object) {\n        Long result = 0l;\n        try {\n            if (object instanceof Long)\n                result = ((Long) object).longValue();\n            else if (object instanceof Integer) {\n                result = ((Integer) object).longValue();\n            } else if (object instanceof String) {\n                result = Long.valueOf((String) object);\n            }\n            System.out.println(result);\n        } catch (Exception e) {\n            System.out.println(\"============= cannot cast\");\n            // do something\n        }\n        return result;\n    }\n\n    public static void main(String... args) {\n        CastObjectToLong castObjectToLong = new CastObjectToLong();\n        Object object1 = 12; // Integer\n        Object object2 = \"12\"; // String\n        Object object3 = 12l; // String\n        Object object4 = \"abc\"; // String\n\n        castObjectToLong.castLongObject(object1);\n        castObjectToLong.castLongObject(object2);\n        castObjectToLong.castLongObject(object3);\n        castObjectToLong.castLongObject(object4); // exception here\n    }\n\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<p>12</p>\n\n<p>12</p>\n\n<p>12</p>\n\n<p>============= cannot cast</p>\n"},{"tags":[],"owner":{"account_id":10279335,"reputation":707,"user_id":7585093,"display_name":"Mithilesh Tipkari"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1560436027,"creation_date":1531380082,"answer_id":51299525,"question_id":38116158,"body_markdown":"You got `ClassCastException` because may be you were trying to convert `java.lang.Integer` into `java.lang.Long` which cannot be done directly.\r\n\r\nTry to convert object to String and then pass it as an argument to constructor of `Long`\r\n\r\n    public static Long castObjectToLong(Object object) {\r\n       return new Long(object.toString());\r\n    }","title":"Cast an Object To Long in Java","body":"<p>You got <code>ClassCastException</code> because may be you were trying to convert <code>java.lang.Integer</code> into <code>java.lang.Long</code> which cannot be done directly.</p>\n\n<p>Try to convert object to String and then pass it as an argument to constructor of <code>Long</code></p>\n\n<pre><code>public static Long castObjectToLong(Object object) {\n   return new Long(object.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1880979,"reputation":885,"user_id":1701191,"accept_rate":29,"display_name":"Pranjal Choladhara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607841485,"creation_date":1607841485,"answer_id":65273024,"question_id":38116158,"body_markdown":"I love to use `BigDecimal`. Simple and error-free. Even if your object contains a decimal it will handle it.\r\n\r\n    long l = new BigDecimal(String.valueOf(object).setScale(0).longValue());","title":"Cast an Object To Long in Java","body":"<p>I love to use <code>BigDecimal</code>. Simple and error-free. Even if your object contains a decimal it will handle it.</p>\n<pre><code>long l = new BigDecimal(String.valueOf(object).setScale(0).longValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18606024,"reputation":59,"user_id":13559628,"display_name":"EbiPenMan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1615028462,"creation_date":1615028462,"answer_id":66504944,"question_id":38116158,"body_markdown":"Long.parseLong((String.valueOf(object)))","title":"Cast an Object To Long in Java","body":"<p>Long.parseLong((String.valueOf(object)))</p>\n"},{"tags":[],"owner":{"account_id":18897994,"reputation":46,"user_id":13786705,"display_name":"Ridima Bajpai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627856838,"creation_date":1627832938,"answer_id":68612020,"question_id":38116158,"body_markdown":"This is because you are returning `long` value instead of `Long.longValue()` method which you have used will give long value only but you don&#39;t want primitive data type value instead you want `Long` so simply casting it will work!!\r\ni.e `return (Long)object` instead of `((Long)object).longValue();`\r\n","title":"Cast an Object To Long in Java","body":"<p>This is because you are returning <code>long</code> value instead of <code>Long.longValue()</code> method which you have used will give long value only but you don't want primitive data type value instead you want <code>Long</code> so simply casting it will work!!\ni.e <code>return (Long)object</code> instead of <code>((Long)object).longValue();</code></p>\n"},{"tags":[],"owner":{"account_id":10517283,"reputation":998,"user_id":7750999,"display_name":"Caffeine Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647862133,"creation_date":1647862133,"answer_id":71556878,"question_id":38116158,"body_markdown":"In your code, **ClassCastException** is being thrown because Object is not Long.\r\nThere is also a probability of encountering a *NullPointerException*, in case your object is null. \r\n\r\nHence the best solution would be to do a null check on your object , then convert it to String using either **String.valueOf** or **toString()** and then parse it to Long.\r\n\r\nThe difference between **String.valueOf(object)** and **object.toString()** won&#39;t matter here, as the former returns null when the object is null where as the latter throws **NullpointerException**.","title":"Cast an Object To Long in Java","body":"<p>In your code, <strong>ClassCastException</strong> is being thrown because Object is not Long.\nThere is also a probability of encountering a <em>NullPointerException</em>, in case your object is null.</p>\n<p>Hence the best solution would be to do a null check on your object , then convert it to String using either <strong>String.valueOf</strong> or <strong>toString()</strong> and then parse it to Long.</p>\n<p>The difference between <strong>String.valueOf(object)</strong> and <strong>object.toString()</strong> won't matter here, as the former returns null when the object is null where as the latter throws <strong>NullpointerException</strong>.</p>\n"},{"tags":[],"owner":{"account_id":25974291,"reputation":1,"user_id":19688940,"display_name":"Priyank Panchal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659910690,"creation_date":1659596553,"answer_id":73231591,"question_id":38116158,"body_markdown":"The Simplest way to do the conversion from object to Long is:\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tObject a=15;\r\n    \t\t\r\n    \t\tSystem.out.println(Long.parseLong(a.toString()));\r\n    \t}\r\n    }\r\n\r\noutput:15\r\n","title":"Cast an Object To Long in Java","body":"<p>The Simplest way to do the conversion from object to Long is:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        Object a=15;\n        \n        System.out.println(Long.parseLong(a.toString()));\n    }\n}\n</code></pre>\n<p>output:15</p>\n"}],"owner":{"account_id":6367019,"reputation":365,"user_id":4940710,"display_name":"Dat Tan Nguyen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129313,"favorite_count":0,"down_vote_count":8,"up_vote_count":23,"answer_count":9,"score":15,"last_activity_date":1659910690,"creation_date":1467270547,"question_id":38116158,"body_markdown":"I am trying to convert a Object type to Long type in Java and I got as:\r\n\r\n    public static Long castObjectToLong(Object object) {\r\n        return ((Long)object).longValue();\r\n\r\nWhen I run, it throws ClassCastException\r\n","title":"Cast an Object To Long in Java","body":"<p>I am trying to convert a Object type to Long type in Java and I got as:</p>\n\n<pre><code>public static Long castObjectToLong(Object object) {\n    return ((Long)object).longValue();\n</code></pre>\n\n<p>When I run, it throws ClassCastException</p>\n"},{"tags":["java","android","layout","datepicker"],"answers":[{"tags":[],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659909026,"creation_date":1659909026,"answer_id":73271292,"question_id":73187233,"body_markdown":"Without answer, the only solution I found was to add another button:\r\n\r\n            &lt;Button\r\n                    android:id=&quot;@+id/stockExpDateReset&quot;\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;3dp&quot;\r\n                    android:background=&quot;@android:drawable/ic_menu_close_clear_cancel&quot;\r\n                    android:minHeight=&quot;0dp&quot;\r\n                    android:padding=&quot;8dp&quot; /&gt;\r\n\r\nthen:\r\n\r\n    final Button stockExp = mPromptsView.findViewById(R.id.stockAddInputExpDate);\r\n    final Button stockExpReset = mPromptsView.findViewById(R.id.stockExpDateReset);\r\n    stockExpReset.setOnClickListener(v -&gt; stockExp.setText(&quot;&quot;));","title":"How to empty date (or what should I add to do it) from a layout button datepicker?","body":"<p>Without answer, the only solution I found was to add another button:</p>\n<pre><code>        &lt;Button\n                android:id=&quot;@+id/stockExpDateReset&quot;\n                android:layout_width=&quot;30dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_margin=&quot;3dp&quot;\n                android:background=&quot;@android:drawable/ic_menu_close_clear_cancel&quot;\n                android:minHeight=&quot;0dp&quot;\n                android:padding=&quot;8dp&quot; /&gt;\n</code></pre>\n<p>then:</p>\n<pre><code>final Button stockExp = mPromptsView.findViewById(R.id.stockAddInputExpDate);\nfinal Button stockExpReset = mPromptsView.findViewById(R.id.stockExpDateReset);\nstockExpReset.setOnClickListener(v -&gt; stockExp.setText(&quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73271292,"answer_count":1,"score":0,"last_activity_date":1659909026,"creation_date":1659305249,"question_id":73187233,"body_markdown":"My question is relatively simple.\r\nI have a layout with a datepicker button which works perfectly, but, I need this field can stay empty.\r\nAnd, when the user select a date from this button, it&#39;s impossible afterwards to empty the field.\r\nShould I add another button to do the trick or is there another way with an option of this button itself ?\r\n\r\n    \t\t&lt;Button\r\n\t\t\tandroid:id=&quot;@+id/stockAddInputExpDate&quot;\r\n\t\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:layout_margin=&quot;3dp&quot;\r\n\t\t\tandroid:background=&quot;@drawable/imagebutton&quot;\r\n\t\t\tandroid:hint=&quot;@string/dateFormat&quot;\r\n\t\t\tandroid:minHeight=&quot;0dp&quot;\r\n\t\t\tandroid:padding=&quot;8dp&quot; /&gt;\r\n\r\n\tpublic static final String DATE_FORMAT = &quot;dd/MM/yyyy&quot;;\r\n\tfinal Button stockExp = mPromptsView.findViewById(R.id.stockAddInputExpDate);\r\n\tfinal Calendar newCalendar = Calendar.getInstance();\r\n\tfinal SimpleDateFormat dateFormatter = new SimpleDateFormat(Consts.DATE_FORMAT, Locale.getDefault());\r\n\tfinal DatePickerDialog expiryDatePicker = new DatePickerDialog(mContext, (view, year, monthOfYear, dayOfMonth) -&gt; {\r\n\t\tCalendar newDate = Calendar.getInstance();\r\n\t\tnewDate.set(year, monthOfYear, dayOfMonth);\r\n\t\tstockExp.setText(dateFormatter.format(newDate.getTime()));\r\n\t\tview.updateDate(year, monthOfYear, dayOfMonth);\r\n\t}, newCalendar.get(Calendar.YEAR), newCalendar.get(Calendar.MONTH), newCalendar.get(Calendar.DAY_OF_MONTH));\r\n\tstockExp.setOnClickListener(v -&gt; expiryDatePicker.show());","title":"How to empty date (or what should I add to do it) from a layout button datepicker?","body":"<p>My question is relatively simple.\nI have a layout with a datepicker button which works perfectly, but, I need this field can stay empty.\nAnd, when the user select a date from this button, it's impossible afterwards to empty the field.\nShould I add another button to do the trick or is there another way with an option of this button itself ?</p>\n<pre><code>        &lt;Button\n        android:id=&quot;@+id/stockAddInputExpDate&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;3dp&quot;\n        android:background=&quot;@drawable/imagebutton&quot;\n        android:hint=&quot;@string/dateFormat&quot;\n        android:minHeight=&quot;0dp&quot;\n        android:padding=&quot;8dp&quot; /&gt;\n\npublic static final String DATE_FORMAT = &quot;dd/MM/yyyy&quot;;\nfinal Button stockExp = mPromptsView.findViewById(R.id.stockAddInputExpDate);\nfinal Calendar newCalendar = Calendar.getInstance();\nfinal SimpleDateFormat dateFormatter = new SimpleDateFormat(Consts.DATE_FORMAT, Locale.getDefault());\nfinal DatePickerDialog expiryDatePicker = new DatePickerDialog(mContext, (view, year, monthOfYear, dayOfMonth) -&gt; {\n    Calendar newDate = Calendar.getInstance();\n    newDate.set(year, monthOfYear, dayOfMonth);\n    stockExp.setText(dateFormatter.format(newDate.getTime()));\n    view.updateDate(year, monthOfYear, dayOfMonth);\n}, newCalendar.get(Calendar.YEAR), newCalendar.get(Calendar.MONTH), newCalendar.get(Calendar.DAY_OF_MONTH));\nstockExp.setOnClickListener(v -&gt; expiryDatePicker.show());\n</code></pre>\n"},{"tags":["java","xml","spring-boot","maven"],"comments":[{"owner":{"account_id":3853198,"reputation":1037,"user_id":3192768,"display_name":"Satish"},"score":0,"creation_date":1580583181,"post_id":60020064,"comment_id":106147906,"body_markdown":"exactly the same pom worked for me. can you create a sample project and post in github to reproduce the error?","body":"exactly the same pom worked for me. can you create a sample project and post in github to reproduce the error?"},{"owner":{"account_id":2705724,"reputation":2702,"user_id":5264558,"display_name":"Daniele"},"score":1,"creation_date":1580583363,"post_id":60020064,"comment_id":106147959,"body_markdown":"what happens if you try calling `mvn clean package` from the command line?","body":"what happens if you try calling <code>mvn clean package</code> from the command line?"},{"owner":{"display_name":"user12080466"},"score":0,"creation_date":1580586454,"post_id":60020064,"comment_id":106148792,"body_markdown":"@Daniele nothing happens when I run mvn clean with eclipse","body":"@Daniele nothing happens when I run mvn clean with eclipse"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1580593343,"post_id":60020064,"comment_id":106150222,"body_markdown":"Not just `clean`, but `clean package`.","body":"Not just <code>clean</code>, but <code>clean package</code>."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1580593360,"post_id":60020064,"comment_id":106150231,"body_markdown":"Without the command line output, it is hard to help you.","body":"Without the command line output, it is hard to help you."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1580650995,"post_id":60020064,"comment_id":106159406,"body_markdown":"@HasinduDahanayake Eclipse emulates Maven.  You must be certain that your maven configuration is as expected first, by using the command line.","body":"@HasinduDahanayake Eclipse emulates Maven.  You must be certain that your maven configuration is as expected first, by using the command line."}],"answers":[{"tags":[],"owner":{"account_id":15637655,"reputation":1,"user_id":11282042,"display_name":"ayoub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602450016,"creation_date":1602274886,"answer_id":64286802,"question_id":60020064,"body_markdown":"You can update Maven project to solve this problem.[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/JzO3r.png\r\n  [2]: https://i.stack.imgur.com/eiFUd.jpg\r\n\r\n","title":"Why I am getting an unknown error in pom.xml file when I add the spring-boot-starter-security dependency?","body":"<p>You can update Maven project to solve this problem.<a href=\"https://i.stack.imgur.com/JzO3r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JzO3r.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2033756,"reputation":37,"user_id":1816671,"display_name":"Tony Lezimis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1615750213,"creation_date":1615750213,"answer_id":66628709,"question_id":60020064,"body_markdown":"This worked for me:\r\nhttps://github.com/sarl/sarl/issues/921\r\nwhich is basically adding this to your pom.xml file:\t\t\t\r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n","title":"Why I am getting an unknown error in pom.xml file when I add the spring-boot-starter-security dependency?","body":"<p>This worked for me:\n<a href=\"https://github.com/sarl/sarl/issues/921\" rel=\"nofollow noreferrer\">https://github.com/sarl/sarl/issues/921</a>\nwhich is basically adding this to your pom.xml file:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15652726,"reputation":1,"user_id":19713606,"display_name":"Raman Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659908728,"creation_date":1659908728,"answer_id":73271269,"question_id":60020064,"body_markdown":"go to project,right click ,find maven ,click on it ,go to update project, check the checkbox of force update.","title":"Why I am getting an unknown error in pom.xml file when I add the spring-boot-starter-security dependency?","body":"<p>go to project,right click ,find maven ,click on it ,go to update project, check the checkbox of force update.</p>\n"}],"owner":{"display_name":"user12080466"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659908728,"creation_date":1580582668,"question_id":60020064,"body_markdown":"I got an unknown error after adding  the **spring-boot-starter-security dependency** to pom.xml file.I tried using maven---&gt;update project option in eclipse too,but the error is remaining.I am 100 % sure that the error is related with the above mentioned dependency,because when I removed it the problem solved.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**pom.xml file**       \r\n    \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t    &lt;parent&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t    &lt;/parent&gt;\r\n\t    &lt;groupId&gt;com.hasiya.springboot.demo&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;firstSpringBootApp&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t    &lt;name&gt;firstSpringBootApp&lt;/name&gt;\r\n\t    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t    &lt;properties&gt;\r\n\t\t    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t    &lt;/properties&gt;\r\n\r\n\t    &lt;dependencies&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t    &lt;exclusions&gt;\r\n\t\t\t\t    &lt;exclusion&gt;\r\n\t\t\t\t\t    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;/exclusion&gt;\r\n\t\t\t    &lt;/exclusions&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t    &lt;/dependencies&gt;\r\n\r\n\t    &lt;build&gt;\r\n\t\t    &lt;plugins&gt;\r\n\t\t\t    &lt;plugin&gt;\r\n\t\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t    &lt;/plugin&gt;\r\n\t\t    &lt;/plugins&gt;\r\n\t    &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n","title":"Why I am getting an unknown error in pom.xml file when I add the spring-boot-starter-security dependency?","body":"<p>I got an unknown error after adding  the <strong>spring-boot-starter-security dependency</strong> to pom.xml file.I tried using maven--->update project option in eclipse too,but the error is remaining.I am 100 % sure that the error is related with the above mentioned dependency,because when I removed it the problem solved.</p>\n\n<p><strong>pom.xml file</strong>       </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.hasiya.springboot.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;firstSpringBootApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;firstSpringBootApp&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659901686,"post_id":73270519,"comment_id":129399670,"body_markdown":"please post your full error message","body":"please post your full error message"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659903755,"post_id":73270519,"comment_id":129400062,"body_markdown":"just a tip for the future, always post your full error message from the beginning. There is no reason at all to not do it","body":"just a tip for the future, always post your full error message from the beginning. There is no reason at all to not do it"}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659906945,"creation_date":1659903403,"answer_id":73270740,"question_id":73270519,"body_markdown":"If you look in your error message you can see that there is a little asterisk `[*]` in it. This asterisk marks out where your syntax error is.\r\n\r\n```\r\nSyntax error in SQL statement \r\n\r\n&quot;select user0_.id as id1_0_0_, \r\n    user0_.email as email2_0_0_, \r\n    user0_.name as name3_0_0_, \r\n    user0_.password as password4_0_0_ \r\nfrom \r\n    [*]user user0_ where user0_.id=?&quot;; \r\n     ^ \r\n     Here\r\n\r\nexpected &quot;identifier&quot;; SQL statement:\r\n```\r\n\r\nThis gives you a hint. Why can&#39;t i select from the table `User`? You haven&#39;t disclosed explicitly  what database you are using but `User` is quite a common name.\r\n\r\nI can guess from the logs that you are using `H2` and they have a complete list of [reserved keywords][1] that you are not allowed to use and on that list you can find the name `User`.\r\n\r\nSo your solution is to probably rename your table to maybe `Users`?\r\n\r\n\r\n  [1]: http://www.h2database.com/html/advanced.html#keywords","title":"Errors Servlet.service() for servlet [dispatcherServlet] in context with path AND Syntax error in SQL statement","body":"<p>If you look in your error message you can see that there is a little asterisk <code>[*]</code> in it. This asterisk marks out where your syntax error is.</p>\n<pre><code>Syntax error in SQL statement \n\n&quot;select user0_.id as id1_0_0_, \n    user0_.email as email2_0_0_, \n    user0_.name as name3_0_0_, \n    user0_.password as password4_0_0_ \nfrom \n    [*]user user0_ where user0_.id=?&quot;; \n     ^ \n     Here\n\nexpected &quot;identifier&quot;; SQL statement:\n</code></pre>\n<p>This gives you a hint. Why can't i select from the table <code>User</code>? You haven't disclosed explicitly  what database you are using but <code>User</code> is quite a common name.</p>\n<p>I can guess from the logs that you are using <code>H2</code> and they have a complete list of <a href=\"http://www.h2database.com/html/advanced.html#keywords\" rel=\"nofollow noreferrer\">reserved keywords</a> that you are not allowed to use and on that list you can find the name <code>User</code>.</p>\n<p>So your solution is to probably rename your table to maybe <code>Users</code>?</p>\n"}],"owner":{"account_id":17092140,"reputation":23,"user_id":12368042,"display_name":"Tole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17313,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73270740,"answer_count":1,"score":-1,"last_activity_date":1659906945,"creation_date":1659901167,"question_id":73270519,"body_markdown":"I&#39;m following a course, and instead of giving error 200, it gives Internal Server Error 500 in postman when i change the fixed user by this method in UserResource :\r\n\r\n&gt; return ResponseEntity.ok().body(service.findById(id));\r\n\r\nErrors after sending a GET /user/1 request in postman on terminal:\r\n\r\n\r\n    ERROR 19448 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from user user0_ where user0_.id=?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement] with root cause\r\n    \r\n    org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from [*]user user0_ where user0_.id=?&quot;; expected &quot;identifier&quot;; SQL statement:\r\n    select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from user user0_ where user0_.id=? [42001-214]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.readIdentifier(Parser.java:5656) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.readTablePrimary(Parser.java:1814) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.readTableReference(Parser.java:2334) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parseSelectFromPart(Parser.java:2772) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parseSelect(Parser.java:2878) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parseQueryPrimary(Parser.java:2762) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parseQueryTerm(Parser.java:2633) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parseQueryExpressionBody(Parser.java:2612) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parseQueryExpressionBodyAndEndOfQuery(Parser.java:2605) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parseQueryExpression(Parser.java:2598) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parseQuery(Parser.java:2567) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parsePrepared(Parser.java:724) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288) ~[h2-2.1.214.jar:2.1.214]\r\n    \tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.prepareQueryStatement(AbstractLoadPlanBasedLoader.java:198) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:162) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:104) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4521) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4511) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:571) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:539) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1220) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:202) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2835) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2768) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3400) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:3367) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.22.jar:5.3.22]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy95.find(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.22.jar:5.3.22]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy95.find(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:335) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy98.findById(Unknown Source) ~[na:na]\r\n    \tat com.example.api.services.impl.UserServiceImpl.findById(UserServiceImpl.java:19) ~[classes/:na]\r\n    \tat com.example.api.resources.UserResource.findById(UserResource.java:23) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    \r\n    Hibernate: select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from user user0_ where user0_.id=?\r\n    2022-08-07 16:36:23.499  WARN 19448 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42001, SQLState: 42001\r\n    2022-08-07 16:36:23.500 ERROR 19448 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Syntax error in SQL statement &quot;select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from [*]user user0_ where user0_.id=?&quot;; expected &quot;identifier&quot;; SQL statement:\r\n    select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from user user0_ where user0_.id=? [42001-214]\r\n    2022-08-07 16:36:23.500  INFO 19448 --- [nio-8080-exec-4] o.h.e.internal.DefaultLoadEventListener  : HHH000327: Error performing load command\r\n\r\nUser:\r\n\r\n    package com.example.api.domain;\r\n\r\n\r\n    import lombok.*;\r\n    \r\n    import javax.persistence.*;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String name;\r\n    \r\n        @Column(unique = true)\r\n        private String email;\r\n        private String password;\r\n    }\r\n\r\n\r\n\r\nUserRepository:\r\n\r\n    package com.example.api.repositories;\r\n    \r\n    import com.example.api.domain.User;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    }\r\n\r\nUserResource:\r\n\r\n    package com.example.api.resources;\r\n    \r\n    \r\n    import com.example.api.domain.User;\r\n    import com.example.api.services.UserService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/user&quot;)\r\n    public class UserResource {\r\n    \r\n        @Autowired\r\n        private UserService service;\r\n    \r\n        @GetMapping(value = &quot;/{id}&quot;)\r\n        public ResponseEntity&lt;User&gt; findById(@PathVariable Integer id) {\r\n            return ResponseEntity.ok().body(service.findById(id));\r\n\r\n    \r\n            //return ResponseEntity.ok().body(new User(1, &quot;Test&quot;, &quot;teste@mail.com&quot;, &quot;123&quot;)) Only works this way; \r\n    \r\n            //User obj = this.service.findById(id);\r\n            //return ResponseEntity.ok().body(obj);\r\n        }\r\n    }\r\n\r\nUserServiceImpl:\r\n\r\n    package com.example.api.services.impl;\r\n    \r\n    import com.example.api.domain.User;\r\n    import com.example.api.repositories.UserRepository;\r\n    import com.example.api.services.UserService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    @Service\r\n    public class UserServiceImpl implements UserService {\r\n    \r\n        @Autowired\r\n        private UserRepository repository;\r\n    \r\n        @Override\r\n        public User findById(Integer id) {\r\n            Optional&lt;User&gt; obj = repository.findById(id);\r\n            return obj.orElse(null);\r\n        }\r\n    }\r\n\r\nUserService:\r\n\r\n    package com.example.api.services;\r\n    \r\n    import com.example.api.domain.User;\r\n    \r\n    public interface UserService {\r\n        User findById(Integer id);\r\n    }\r\n\r\n","title":"Errors Servlet.service() for servlet [dispatcherServlet] in context with path AND Syntax error in SQL statement","body":"<p>I'm following a course, and instead of giving error 200, it gives Internal Server Error 500 in postman when i change the fixed user by this method in UserResource :</p>\n<blockquote>\n<p>return ResponseEntity.ok().body(service.findById(id));</p>\n</blockquote>\n<p>Errors after sending a GET /user/1 request in postman on terminal:</p>\n<pre><code>ERROR 19448 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from user user0_ where user0_.id=?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement] with root cause\n\norg.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from [*]user user0_ where user0_.id=?&quot;; expected &quot;identifier&quot;; SQL statement:\nselect user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from user user0_ where user0_.id=? [42001-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readIdentifier(Parser.java:5656) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readTablePrimary(Parser.java:1814) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readTableReference(Parser.java:2334) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseSelectFromPart(Parser.java:2772) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseSelect(Parser.java:2878) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseQueryPrimary(Parser.java:2762) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseQueryTerm(Parser.java:2633) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseQueryExpressionBody(Parser.java:2612) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseQueryExpressionBodyAndEndOfQuery(Parser.java:2605) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseQueryExpression(Parser.java:2598) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseQuery(Parser.java:2567) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parsePrepared(Parser.java:724) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288) ~[h2-2.1.214.jar:2.1.214]\n    at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.prepareQueryStatement(AbstractLoadPlanBasedLoader.java:198) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeQueryStatement(AbstractLoadPlanBasedLoader.java:162) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:104) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4521) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4511) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:571) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:539) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1220) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.access$2100(SessionImpl.java:202) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.doLoad(SessionImpl.java:2835) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.lambda$load$1(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.perform(SessionImpl.java:2768) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.load(SessionImpl.java:2812) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3400) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:3367) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy95.find(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy95.find(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:335) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy98.findById(Unknown Source) ~[na:na]\n    at com.example.api.services.impl.UserServiceImpl.findById(UserServiceImpl.java:19) ~[classes/:na]\n    at com.example.api.resources.UserResource.findById(UserResource.java:23) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\nHibernate: select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from user user0_ where user0_.id=?\n2022-08-07 16:36:23.499  WARN 19448 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 42001, SQLState: 42001\n2022-08-07 16:36:23.500 ERROR 19448 --- [nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Syntax error in SQL statement &quot;select user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from [*]user user0_ where user0_.id=?&quot;; expected &quot;identifier&quot;; SQL statement:\nselect user0_.id as id1_0_0_, user0_.email as email2_0_0_, user0_.name as name3_0_0_, user0_.password as password4_0_0_ from user user0_ where user0_.id=? [42001-214]\n2022-08-07 16:36:23.500  INFO 19448 --- [nio-8080-exec-4] o.h.e.internal.DefaultLoadEventListener  : HHH000327: Error performing load command\n</code></pre>\n<p>User:</p>\n<pre><code>package com.example.api.domain;\n\n\nimport lombok.*;\n\nimport javax.persistence.*;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n\n    @Column(unique = true)\n    private String email;\n    private String password;\n}\n</code></pre>\n<p>UserRepository:</p>\n<pre><code>package com.example.api.repositories;\n\nimport com.example.api.domain.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n}\n</code></pre>\n<p>UserResource:</p>\n<pre><code>package com.example.api.resources;\n\n\nimport com.example.api.domain.User;\nimport com.example.api.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(value = &quot;/user&quot;)\npublic class UserResource {\n\n    @Autowired\n    private UserService service;\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; findById(@PathVariable Integer id) {\n        return ResponseEntity.ok().body(service.findById(id));\n\n\n        //return ResponseEntity.ok().body(new User(1, &quot;Test&quot;, &quot;teste@mail.com&quot;, &quot;123&quot;)) Only works this way; \n\n        //User obj = this.service.findById(id);\n        //return ResponseEntity.ok().body(obj);\n    }\n}\n</code></pre>\n<p>UserServiceImpl:</p>\n<pre><code>package com.example.api.services.impl;\n\nimport com.example.api.domain.User;\nimport com.example.api.repositories.UserRepository;\nimport com.example.api.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Optional;\n\n@Service\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    private UserRepository repository;\n\n    @Override\n    public User findById(Integer id) {\n        Optional&lt;User&gt; obj = repository.findById(id);\n        return obj.orElse(null);\n    }\n}\n</code></pre>\n<p>UserService:</p>\n<pre><code>package com.example.api.services;\n\nimport com.example.api.domain.User;\n\npublic interface UserService {\n    User findById(Integer id);\n}\n</code></pre>\n"},{"tags":["java","docker","gradle","dockerfile"],"comments":[{"owner":{"account_id":19947079,"reputation":147,"user_id":14617500,"display_name":"CLKH"},"score":0,"creation_date":1695186133,"post_id":73271088,"comment_id":135988616,"body_markdown":"Do you found solution for this?","body":"Do you found solution for this?"}],"owner":{"account_id":15443238,"reputation":13,"user_id":12081682,"display_name":"jarxinho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659906774,"creation_date":1659906655,"question_id":73271088,"body_markdown":"I want create Dockerfile which will create .jar and next step create Docker image.\r\nThis application is multi-module Java project. I want build image for each module separately.\r\n\r\n3 modules.\r\n```\r\n/Projects/api\r\n├── application\r\n├── model\r\n├── worker\r\nbuild.gradle\r\nsettings.gradle\r\notherfiles\r\n```\r\n\r\nI add deployment catalog which contain Dockerfile\r\n```\r\n/Projects/api\r\n├── application\r\n  ├── deployment\r\n    ├── Dockerfile\r\n\r\n```\r\n\r\nIt is simple Dockerfile\r\n\r\n```\r\nFROM gradle:jdk11 as build\r\nCOPY --chown=gradle:gradle . /home/gradle/src \r\nWORKDIR /home/gradle/src\r\nRUN gradle application:jar --no-daemon \r\n\r\nFROM amazoncorretto:11\r\nRUN mkdir /app\r\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/app.jar\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot; ]\r\n```\r\n\r\nI run ```\r\ndocker build -f application/deployment/Dockerfile -t app:1.0 .\r\n```from path ```/Project/api``` because I think my context is ```/Project/api``` and I will copy all files. I don&#39;t want take care which dependencies is crucial for create .jar for each module separately, so I copy all files.\r\n\r\n```\r\nI received error: --                                                                                                                                                                                               \r\n &gt; [stage-1 3/3] COPY --from=build /home/gradle/src/build/libs/*.jar /app/app.jar:                                                                                                                   \r\n------                                                                                                                                                                                               \r\nlstat /var/lib/docker/tmp/buildkit-mount2641523939/home/gradle/src/build/libs: no such file or directory    \r\n```\r\n\r\nWhen I run locally\r\n```\r\ngradle application:jar\r\n```\r\ncatalog build/libs was created with expected application*.jar file\r\n\r\nWhat&#39;s wrong with Dockerfile or docker build -f command?\r\n\r\n","title":"Dockerfile Gradle Java no such file or directory","body":"<p>I want create Dockerfile which will create .jar and next step create Docker image.\nThis application is multi-module Java project. I want build image for each module separately.</p>\n<p>3 modules.</p>\n<pre><code>/Projects/api\n├── application\n├── model\n├── worker\nbuild.gradle\nsettings.gradle\notherfiles\n</code></pre>\n<p>I add deployment catalog which contain Dockerfile</p>\n<pre><code>/Projects/api\n├── application\n  ├── deployment\n    ├── Dockerfile\n\n</code></pre>\n<p>It is simple Dockerfile</p>\n<pre><code>FROM gradle:jdk11 as build\nCOPY --chown=gradle:gradle . /home/gradle/src \nWORKDIR /home/gradle/src\nRUN gradle application:jar --no-daemon \n\nFROM amazoncorretto:11\nRUN mkdir /app\nCOPY --from=build /home/gradle/src/build/libs/*.jar /app/app.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot; ]\n</code></pre>\n<p>I run <code>docker build -f application/deployment/Dockerfile -t app:1.0 .</code>from path <code>/Project/api</code> because I think my context is <code>/Project/api</code> and I will copy all files. I don't want take care which dependencies is crucial for create .jar for each module separately, so I copy all files.</p>\n<pre><code>I received error: --                                                                                                                                                                                               \n &gt; [stage-1 3/3] COPY --from=build /home/gradle/src/build/libs/*.jar /app/app.jar:                                                                                                                   \n------                                                                                                                                                                                               \nlstat /var/lib/docker/tmp/buildkit-mount2641523939/home/gradle/src/build/libs: no such file or directory    \n</code></pre>\n<p>When I run locally</p>\n<pre><code>gradle application:jar\n</code></pre>\n<p>catalog build/libs was created with expected application*.jar file</p>\n<p>What's wrong with Dockerfile or docker build -f command?</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1659905579,"creation_date":1517039230,"answer_id":48473743,"question_id":48473618,"body_markdown":"The error says it all :\r\n\r\n\torg.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\r\n\tfrom unknown error: missing or invalid &#39;entry.level&#39;\r\n\t\r\nYour main issue is the **version compatibility** among the binaries you are using as follows :\r\n\r\n\r\n\r\n - You are using _chromedriver=2.29.461591_ \r\n - Release Notes of [chromedriver=2.29.461591][1] clearly mentions the following :\r\n\r\n&gt;Supports Chrome v56-58\r\n\r\n - You are using _chrome=63.x_\r\n - Release Notes of [ChromeDriver v2.34][2] clearly mentions the following :\r\n\r\n&gt;Supports Chrome v61-63\r\n\r\n - Release Notes of [ChromeDriver v2.35][3] clearly mentions the following :\r\n\r\n&gt;Supports Chrome v62-64\r\n\r\n - You are using _Selenium Version 3.5.3_.\r\n - Your _JDK version_ is _1.8.0_131_.\r\n\r\nSo there is a clear mismatch between the _chromedriver_ version (_v2.29.4_) [which supports _Chrome v56-58_] with the _Chrome Browser_ version (_v63.x_) [supported by _ChromeDriver v2.34_ minimum]\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\n\r\n - Upgrade _JDK_ to  recent levels _**JDK Version 8 Update 151**_.\r\n - Upgrade _Selenium_ to  current levels _**Version 3.8.1**_.\r\n - Upgrade _ChromeDriver_ to  _**ChromeDriver v2.35**_ level.\r\n - Keep _Chrome_ to  _**Chrome v64.x**_ levels. ([as per ChromeDriver v2.35 release notes][3])\r\n \r\n - Execute your `Test`.\r\n\r\n\r\n  [1]: https://chromedriver.storage.googleapis.com/2.29/notes.txt\r\n  [2]: https://chromedriver.storage.googleapis.com/2.34/notes.txt\r\n  [3]: https://chromedriver.storage.googleapis.com/2.35/notes.txt","title":"org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status","body":"<p>The error says it all :</p>\n<pre><code>org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\nfrom unknown error: missing or invalid 'entry.level'\n</code></pre>\n<p>Your main issue is the <strong>version compatibility</strong> among the binaries you are using as follows :</p>\n<ul>\n<li>You are using <em>chromedriver=2.29.461591</em></li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/2.29/notes.txt\" rel=\"nofollow noreferrer\">chromedriver=2.29.461591</a> clearly mentions the following :</li>\n</ul>\n<blockquote>\n<p>Supports Chrome v56-58</p>\n</blockquote>\n<ul>\n<li>You are using <em>chrome=63.x</em></li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/2.34/notes.txt\" rel=\"nofollow noreferrer\">ChromeDriver v2.34</a> clearly mentions the following :</li>\n</ul>\n<blockquote>\n<p>Supports Chrome v61-63</p>\n</blockquote>\n<ul>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/2.35/notes.txt\" rel=\"nofollow noreferrer\">ChromeDriver v2.35</a> clearly mentions the following :</li>\n</ul>\n<blockquote>\n<p>Supports Chrome v62-64</p>\n</blockquote>\n<ul>\n<li>You are using <em>Selenium Version 3.5.3</em>.</li>\n<li>Your <em>JDK version</em> is <em>1.8.0_131</em>.</li>\n</ul>\n<p>So there is a clear mismatch between the <em>chromedriver</em> version (<em>v2.29.4</em>) [which supports <em>Chrome v56-58</em>] with the <em>Chrome Browser</em> version (<em>v63.x</em>) [supported by <em>ChromeDriver v2.34</em> minimum]</p>\n<hr />\n<h2>Solution</h2>\n<ul>\n<li><p>Upgrade <em>JDK</em> to  recent levels <em><strong>JDK Version 8 Update 151</strong></em>.</p>\n</li>\n<li><p>Upgrade <em>Selenium</em> to  current levels <em><strong>Version 3.8.1</strong></em>.</p>\n</li>\n<li><p>Upgrade <em>ChromeDriver</em> to  <em><strong>ChromeDriver v2.35</strong></em> level.</p>\n</li>\n<li><p>Keep <em>Chrome</em> to  <em><strong>Chrome v64.x</strong></em> levels. (<a href=\"https://chromedriver.storage.googleapis.com/2.35/notes.txt\" rel=\"nofollow noreferrer\">as per ChromeDriver v2.35 release notes</a>)</p>\n</li>\n<li><p>Execute your <code>Test</code>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517046406,"creation_date":1517046406,"answer_id":48474526,"question_id":48473618,"body_markdown":"It seems that the `ChromeDriver` need to be updated. For `chrome=63.0.3239.132`, you might want to use `ChromeDriver v 2.35`. You can download the same for your system from: \r\n\r\n[ChromeDriver v 2.35][1]\r\n\r\nHope it helps.\r\n\r\n  [1]: https://chromedriver.storage.googleapis.com/index.html?path=2.35/","title":"org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status","body":"<p>It seems that the <code>ChromeDriver</code> need to be updated. For <code>chrome=63.0.3239.132</code>, you might want to use <code>ChromeDriver v 2.35</code>. You can download the same for your system from: </p>\n\n<p><a href=\"https://chromedriver.storage.googleapis.com/index.html?path=2.35/\" rel=\"nofollow noreferrer\">ChromeDriver v 2.35</a></p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":7516930,"reputation":1573,"user_id":5710036,"accept_rate":38,"display_name":"Chintamani Manjare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524470872,"creation_date":1524470872,"answer_id":49976223,"question_id":48473618,"body_markdown":"I fixed this issue after updating chrome driver to 2.38 with chrome version 65.\r\n\r\nhttps://chromedriver.storage.googleapis.com/index.html?path=2.38/","title":"org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status","body":"<p>I fixed this issue after updating chrome driver to 2.38 with chrome version 65.</p>\n\n<p><a href=\"https://chromedriver.storage.googleapis.com/index.html?path=2.38/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=2.38/</a></p>\n"},{"tags":[],"owner":{"account_id":5155157,"reputation":1193,"user_id":4128576,"display_name":"Dhamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631979928,"creation_date":1631979928,"answer_id":69236165,"question_id":48473618,"body_markdown":"In my case, it was happening intermittently especially when running in parallel mode. Reducing the thread count to 5 from default (10) fixed my problem. ","title":"org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status","body":"<p>In my case, it was happening intermittently especially when running in parallel mode. Reducing the thread count to 5 from default (10) fixed my problem.</p>\n"},{"tags":[],"owner":{"account_id":25748456,"reputation":1,"user_id":19501359,"display_name":"Manohar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657185004,"creation_date":1657185004,"answer_id":72895142,"question_id":48473618,"body_markdown":"In my case I was using \r\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\r\nI need to update and used the latest version it got resolved \r\nUpdated to:\r\n&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.3.0&lt;/version&gt;\r\n\r\n","title":"org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status","body":"<p>In my case I was using\nselenium-java\n3.8.1</p>\n<p>I need to update and used the latest version it got resolved\nUpdated to:\nselenium-java\n4.3.0</p>\n"}],"owner":{"account_id":2928539,"reputation":485,"user_id":2509396,"accept_rate":100,"display_name":"Harish Kannan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46715,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":48473743,"answer_count":5,"score":12,"last_activity_date":1659905579,"creation_date":1517038072,"question_id":48473618,"body_markdown":"I am new to Selenium and need some trail to find root cause of the below error.\r\n\r\nSelenium version - 3.5.3 \r\nChromeDriver version - 2.29.4 \r\nChrome version - 63\r\n\r\n    org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\r\n    from unknown error: missing or invalid &#39;entry.level&#39;\r\n      (Session info: chrome=63.0.3239.132)\r\n      (Driver info: chromedriver=2.29.461591 (62ebf098771772160f391d75e589dc567915b233),platform=Windows NT 6.1.7601 SP1 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    Build info: version: &#39;3.5.3&#39;, revision: &#39;a88d25fe6b&#39;, time: &#39;2017-08-29T12:42:44.417Z&#39;\r\n    System info: host: &#39;BADRI-HP&#39;, ip: &#39;---.---.-.---&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;x86&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_131&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Capabilities [{applicationCacheEnabled=false, rotatable=false, mobileEmulationEnabled=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.29.461591 (62ebf098771772160f391d75e589dc567915b233), userDataDir=C:\\Users\\Badri\\AppData\\Local\\Temp\\scoped_dir45280_30736}, takesHeapSnapshot=true, pageLoadStrategy=normal, unhandledPromptBehavior=, databaseEnabled=false, handlesAlerts=true, hasTouchScreen=false, version=63.0.3239.132, platform=XP, browserConnectionEnabled=false, nativeEvents=true, acceptSslCerts=true, locationContextEnabled=true, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, platformName=XP, cssSelectorsEnabled=true, unexpectedAlertBehaviour=}]\r\n    Session ID: 60b98ca106d00b50963c47e02276c40b\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:215)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:167)\r\n    \tat org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\r\n    \tat org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:82)\r\n    \tat org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:45)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:164)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:82)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:646)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:370)\r\n    \tat naukri.ProfileUpdate.login(ProfileUpdate.java:19)\r\n    \tat testScripts.NewTest.f(NewTest.java:29)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)","title":"org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status","body":"<p>I am new to Selenium and need some trail to find root cause of the below error.</p>\n\n<p>Selenium version - 3.5.3 \nChromeDriver version - 2.29.4 \nChrome version - 63</p>\n\n<pre><code>org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\nfrom unknown error: missing or invalid 'entry.level'\n  (Session info: chrome=63.0.3239.132)\n  (Driver info: chromedriver=2.29.461591 (62ebf098771772160f391d75e589dc567915b233),platform=Windows NT 6.1.7601 SP1 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nBuild info: version: '3.5.3', revision: 'a88d25fe6b', time: '2017-08-29T12:42:44.417Z'\nSystem info: host: 'BADRI-HP', ip: '---.---.-.---', os.name: 'Windows 7', os.arch: 'x86', os.version: '6.1', java.version: '1.8.0_131'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities [{applicationCacheEnabled=false, rotatable=false, mobileEmulationEnabled=false, networkConnectionEnabled=false, chrome={chromedriverVersion=2.29.461591 (62ebf098771772160f391d75e589dc567915b233), userDataDir=C:\\Users\\Badri\\AppData\\Local\\Temp\\scoped_dir45280_30736}, takesHeapSnapshot=true, pageLoadStrategy=normal, unhandledPromptBehavior=, databaseEnabled=false, handlesAlerts=true, hasTouchScreen=false, version=63.0.3239.132, platform=XP, browserConnectionEnabled=false, nativeEvents=true, acceptSslCerts=true, locationContextEnabled=true, webStorageEnabled=true, browserName=chrome, takesScreenshot=true, javascriptEnabled=true, platformName=XP, cssSelectorsEnabled=true, unexpectedAlertBehaviour=}]\nSession ID: 60b98ca106d00b50963c47e02276c40b\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:215)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:167)\n    at org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:82)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:45)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:164)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:82)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:646)\n    at org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:370)\n    at naukri.ProfileUpdate.login(ProfileUpdate.java:19)\n    at testScripts.NewTest.f(NewTest.java:29)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1659896886,"post_id":73269979,"comment_id":129398684,"body_markdown":"It is a matter of application design that it is &#39;enough for a Thread to get access to a shared resource by acquiring just one permit&#39;.  For example, imagine a system where the count in the semaphore represents a count of discrete thingies, and this particular execution requires the thread to have N thingies before it can proceed.  Think of it as some sort of quota, perhaps.","body":"It is a matter of application design that it is &#39;enough for a Thread to get access to a shared resource by acquiring just one permit&#39;.  For example, imagine a system where the count in the semaphore represents a count of discrete thingies, and this particular execution requires the thread to have N thingies before it can proceed.  Think of it as some sort of quota, perhaps."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1659897651,"post_id":73269979,"comment_id":129398849,"body_markdown":"Those two Comments would make a solid Answer.","body":"Those two Comments would make a solid Answer."},{"owner":{"account_id":23638627,"reputation":35,"user_id":17669239,"display_name":"taher bouali"},"score":0,"creation_date":1659900711,"post_id":73269979,"comment_id":129399473,"body_markdown":"@accessviolation. Can you clarify more and give an example of code","body":"@accessviolation. Can you clarify more and give an example of code"}],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659897832,"creation_date":1659897832,"answer_id":73270129,"question_id":73269979,"body_markdown":"Any resource that allows multiple instances: A license server may only allow 5 simultaneous users - so in theory a semaphore could be used with permits=5 (as well as tolerate multiple request threads). The 6th license request would fail to acquire until one is released.\r\n","title":"Why would a Thread aquire more than one permit of a semaphore?","body":"<p>Any resource that allows multiple instances: A license server may only allow 5 simultaneous users - so in theory a semaphore could be used with permits=5 (as well as tolerate multiple request threads). The 6th license request would fail to acquire until one is released.</p>\n"},{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659905438,"creation_date":1659905438,"answer_id":73270956,"question_id":73269979,"body_markdown":"Imagine there is some communication protocol that transmits variable-length messages to a server, in asynchronous fashion, and for some reason or other, doesn&#39;t want to have more than &#39;N&#39; kilobytes of unanswered messages outstanding. Perhaps it&#39;s some sort of fairness thing. \r\n\r\n    // Imagine a &#39;Message&#39; has a request and\r\n    // an eventual response\r\n    \r\n    final int MAX_OUTSTANDING_KB = 999;\r\n    Semaphore sema = new Semaphore(MAX_OUTSTANDING_KB);\r\n    \r\n    void sendRequest(Message m) {\r\n        int len = m.requestLength();\r\n        int permits = (len + 1023) / 1024; // round up\r\n        m.setPermits(permits); // remember for release\r\n        sema.acquire(permits); // possible wait here\r\n        transmitBytes(m.requestBuffer());\r\n    }\r\n    \r\n    void responseReceived(Message m) {\r\n        sema.release(m.getPermits());\r\n        process(m.responseBuffer());\r\n    }\r\n\r\nThis is a little contrived, but you should get the idea.\r\n","title":"Why would a Thread aquire more than one permit of a semaphore?","body":"<p>Imagine there is some communication protocol that transmits variable-length messages to a server, in asynchronous fashion, and for some reason or other, doesn't want to have more than 'N' kilobytes of unanswered messages outstanding. Perhaps it's some sort of fairness thing.</p>\n<pre><code>// Imagine a 'Message' has a request and\n// an eventual response\n\nfinal int MAX_OUTSTANDING_KB = 999;\nSemaphore sema = new Semaphore(MAX_OUTSTANDING_KB);\n\nvoid sendRequest(Message m) {\n    int len = m.requestLength();\n    int permits = (len + 1023) / 1024; // round up\n    m.setPermits(permits); // remember for release\n    sema.acquire(permits); // possible wait here\n    transmitBytes(m.requestBuffer());\n}\n\nvoid responseReceived(Message m) {\n    sema.release(m.getPermits());\n    process(m.responseBuffer());\n}\n</code></pre>\n<p>This is a little contrived, but you should get the idea.</p>\n"}],"owner":{"account_id":23638627,"reputation":35,"user_id":17669239,"display_name":"taher bouali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1659905438,"creation_date":1659896429,"question_id":73269979,"body_markdown":"If it&#39;s enough for a Thread to get access to a shared resource by acquiring just one permit through the call of `acquire()` so why it would want to call `acquire(int permits)`? Can you give an example of using `acquire(int permits)` ?","title":"Why would a Thread aquire more than one permit of a semaphore?","body":"<p>If it's enough for a Thread to get access to a shared resource by acquiring just one permit through the call of <code>acquire()</code> so why it would want to call <code>acquire(int permits)</code>? Can you give an example of using <code>acquire(int permits)</code> ?</p>\n"},{"tags":["java","android","design-patterns","graph"],"comments":[{"owner":{"account_id":26003015,"reputation":1,"user_id":19713199,"display_name":"WholesomeRipples"},"score":0,"creation_date":1659904582,"post_id":73270820,"comment_id":129400223,"body_markdown":"Ooh! I think I found the term - Radar Chart.","body":"Ooh! I think I found the term - Radar Chart."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1659913339,"post_id":73270820,"comment_id":129401690,"body_markdown":"If the user input 5 - pentagon, 6 - hexagone, ... that&#39;s right ?","body":"If the user input 5 - pentagon, 6 - hexagone, ... that&#39;s right ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659963185,"post_id":73270820,"comment_id":129412697,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26003015,"reputation":1,"user_id":19713199,"display_name":"WholesomeRipples"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659904180,"creation_date":1659904180,"question_id":73270820,"body_markdown":"fledgling here, asking my very first question on Stack Overflow :)\r\n\r\nQuestion:\r\nI&#39;d like to create a shape with number of points according to the user&#39;s input.\r\nFor example, if a user inputs 5, I&#39;d like to come up with a pentagon. How should I approach this?\r\n\r\nWhat I have in mind: diagrams that show various stats of an object, similar to how you may see a soccer player&#39;s traits in a game: Speed, Stamina, Shooting accuracy, etc. However, I want the users to decide what traits they want to have in their diagram. Eventually I&#39;d like to display the changes in those trait values to reflect improvement / worsening of each values.\r\n\r\nSo far, I&#39;ve found out that drawables are usually for static images..? And some dynamic image generation may be very (resource) demanding.. Since it&#39;s kind of a graph.. maybe there&#39;s something out there that I could use? (But I want to make it look pretty and not nerdy looking graph)\r\n\r\nI&#39;m trying to do this on Android Studio, and I&#39;ve never used Kotlin so I&#39;m trying to stick to Java if that&#39;s relevant ;-;..\r\nAny help would be greatly appreciated.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android Studio - Drawing / Creating shapes (dynamically?)","body":"<p>fledgling here, asking my very first question on Stack Overflow :)</p>\n<p>Question:\nI'd like to create a shape with number of points according to the user's input.\nFor example, if a user inputs 5, I'd like to come up with a pentagon. How should I approach this?</p>\n<p>What I have in mind: diagrams that show various stats of an object, similar to how you may see a soccer player's traits in a game: Speed, Stamina, Shooting accuracy, etc. However, I want the users to decide what traits they want to have in their diagram. Eventually I'd like to display the changes in those trait values to reflect improvement / worsening of each values.</p>\n<p>So far, I've found out that drawables are usually for static images..? And some dynamic image generation may be very (resource) demanding.. Since it's kind of a graph.. maybe there's something out there that I could use? (But I want to make it look pretty and not nerdy looking graph)</p>\n<p>I'm trying to do this on Android Studio, and I've never used Kotlin so I'm trying to stick to Java if that's relevant ;-;..\nAny help would be greatly appreciated.</p>\n"},{"tags":["java","spring","postgresql","heroku","spring-data-jpa"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1659544421,"post_id":73224028,"comment_id":129321191,"body_markdown":"Would you add security conf and console output?","body":"Would you add security conf and console output?"},{"owner":{"account_id":24893954,"reputation":1,"user_id":18765464,"display_name":"Xibalba "},"score":0,"creation_date":1659546861,"post_id":73224028,"comment_id":129322006,"body_markdown":"done, I added them","body":"done, I added them"}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659547489,"creation_date":1659547489,"answer_id":73225442,"question_id":73224028,"body_markdown":"## Did you read the logs?\r\n```\r\n2022-08-03T17:11:42.857267+00:00 app[web.1]: name: null\r\n2022-08-03T17:11:42.938858+00:00 app[web.1]: role not found\r\n2022-08-03T17:11:43.003201+00:00 heroku[router]: at=info method=GET path=&quot;/api/roles/?id=0&quot; host=axium-centrality.herokuapp.com request_id=8fcfca84-a102-4252-b4d3-f53f41574710 fwd=&quot;109.30.116.102&quot; dyno=web.1 connect=0ms service=270m\r\n```\r\n\r\nYou have no user with `id=0` in your database.","title":"Trouble with JPA repositories while running on heroku","body":"<h2>Did you read the logs?</h2>\n<pre><code>2022-08-03T17:11:42.857267+00:00 app[web.1]: name: null\n2022-08-03T17:11:42.938858+00:00 app[web.1]: role not found\n2022-08-03T17:11:43.003201+00:00 heroku[router]: at=info method=GET path=&quot;/api/roles/?id=0&quot; host=axium-centrality.herokuapp.com request_id=8fcfca84-a102-4252-b4d3-f53f41574710 fwd=&quot;109.30.116.102&quot; dyno=web.1 connect=0ms service=270m\n</code></pre>\n<p>You have no user with <code>id=0</code> in your database.</p>\n"},{"tags":[],"owner":{"account_id":24893954,"reputation":1,"user_id":18765464,"display_name":"Xibalba "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659903775,"creation_date":1659625697,"answer_id":73238257,"question_id":73224028,"body_markdown":"I found the problem: I configured jpa from the &quot;*application.properties*&quot; file, and appeared to be edit by the server. I&#39;ve put it in a configuration class and it works.","title":"Trouble with JPA repositories while running on heroku","body":"<p>I found the problem: I configured jpa from the &quot;<em>application.properties</em>&quot; file, and appeared to be edit by the server. I've put it in a configuration class and it works.</p>\n"}],"owner":{"account_id":24893954,"reputation":1,"user_id":18765464,"display_name":"Xibalba "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659903775,"creation_date":1659540925,"question_id":73224028,"body_markdown":"I&#39;m trying to deploy a vaadin website on heroku, the website works well, but the REST api that I made with Spring JPA returns always empty list. When running on my computer it works perfectly. There is no errors in heroku&#39;s console. How should I patch that ? \r\n\r\nThe table class :\r\n\r\n```java\r\npackage fr.xibalba.axiumwebsite.api.tables;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonBackReference;\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Setter\r\n@Getter\r\n@ToString\r\n@EqualsAndHashCode\r\npublic class Role {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n    Integer id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false, unique = true)\r\n    String name;\r\n\r\n    @Column(name = &quot;priority&quot;, nullable = false)\r\n    int priority;\r\n\r\n    @Column(name = &quot;prefix&quot;)\r\n    String prefix;\r\n\r\n    @Column(name = &quot;multiple_prefix&quot;, nullable = false)\r\n    boolean multiple_prefix;\r\n\r\n    @Column(name = &quot;prefix_color&quot;, nullable = false)\r\n    String prefix_color;\r\n\r\n    @Column(name = &quot;suffix&quot;)\r\n    String suffix;\r\n\r\n    @Column(name = &quot;multiple_suffix&quot;, nullable = false)\r\n    boolean multiple_suffix;\r\n\r\n    @Column(name = &quot;suffix_color&quot;, nullable = false)\r\n    String suffix_color;\r\n\r\n    @JsonBackReference\r\n    @ManyToMany(mappedBy = &quot;roles&quot;)\r\n    List&lt;Account&gt; accounts;\r\n}\r\n\r\n```\r\n\r\nThe JPA repository :\r\n\r\n```java\r\npackage fr.xibalba.axiumwebsite.api.repositories;\r\n\r\nimport fr.xibalba.axiumwebsite.api.tables.Role;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt; {\r\n\r\n    Role findByName(String name);\r\n}\r\n```\r\n\r\nThe REST controller :\r\n\r\n```java\r\npackage fr.xibalba.axiumwebsite.api.controllers;\r\n\r\nimport fr.xibalba.axiumwebsite.api.repositories.RoleRepository;\r\nimport fr.xibalba.axiumwebsite.api.tables.Role;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/roles&quot;)\r\npublic class RoleController {\r\n\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n    @RequestMapping(&quot;&quot;)\r\n    public List&lt;Role&gt; infos(@RequestParam(value = &quot;name&quot;, required = false) String name, @RequestParam(value = &quot;id&quot;, required = false) Integer id) {\r\n\r\n        System.out.println(&quot;name: &quot; + name);\r\n\r\n        if (name != null &amp;&amp; roleRepository.findByName(name) != null) {\r\n\r\n            System.out.println(&quot;role found&quot;);\r\n            return List.of(roleRepository.findByName(name));\r\n        } else if (id != null &amp;&amp; roleRepository.findById(id).isPresent()) {\r\n\r\n            System.out.println(&quot;role found&quot;);\r\n\r\n            return List.of(roleRepository.findById(id).get());\r\n        } else {\r\n\r\n            System.out.println(&quot;role not found&quot;);\r\n\r\n            return roleRepository.findAll();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy pom.xml :\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;fr.xibalba&lt;/groupId&gt;\r\n    &lt;artifactId&gt;AxiumWebsite&lt;/artifactId&gt;\r\n    &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;AxiumWebsite&lt;/name&gt;\r\n    &lt;description&gt;AxiumWebsite&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;18&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;23.1.2&lt;/vaadin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;appName&gt;axium-centrality&lt;/appName&gt;\r\n                    &lt;processTypes&gt;\r\n                        &lt;web&gt;java $JAVA_OPTS -jar target/${project.artifactId}-${project.version}.jar --server.port=$PORT&lt;/web&gt;\r\n                    &lt;/processTypes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;23.0.5&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;frontend&lt;/id&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;productionMode&gt;true&lt;/productionMode&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nSecurity configuration :\r\n\r\n```java\r\npackage fr.xibalba.axiumwebsite.security;\r\n\r\nimport com.vaadin.flow.server.auth.ViewAccessChecker;\r\nimport com.vaadin.flow.spring.VaadinConfigurationProperties;\r\nimport com.vaadin.flow.spring.security.RequestUtil;\r\nimport com.vaadin.flow.spring.security.VaadinDefaultRequestCache;\r\nimport com.vaadin.flow.spring.security.VaadinWebSecurityConfigurerAdapter;\r\nimport fr.xibalba.axiumwebsite.website.pages.login.LoginView;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport javax.sql.DataSource;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends VaadinWebSecurityConfigurerAdapter {\r\n\r\n    public static final String ROLE_QUERY = &quot;SELECT accounts.username, roles.name &quot; +\r\n                                            &quot;    FROM accounts &quot; +\r\n                                            &quot;    LEFT JOIN roles &quot; +\r\n                                            &quot;        ON (SELECT account_id FROM accounts_roles WHERE role_id = roles.id) = accounts.id &quot; +\r\n                                            &quot;    WHERE accounts.username = ?;&quot;;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n\r\n    @Autowired\r\n    private VaadinDefaultRequestCache vaadinDefaultRequestCache;\r\n\r\n    @Autowired\r\n    private RequestUtil requestUtil;\r\n\r\n    @Autowired\r\n    private ViewAccessChecker viewAccessChecker;\r\n\r\n    @Autowired\r\n    private VaadinConfigurationProperties configurationProperties;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n        auth\r\n                .jdbcAuthentication()\r\n                .dataSource(dataSource)\r\n                .usersByUsernameQuery(&quot;SELECT username, password, enabled FROM accounts WHERE username = ?&quot;)\r\n                .authoritiesByUsernameQuery(ROLE_QUERY)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        super.configure(http);\r\n\r\n        setLoginView(http, LoginView.class);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n\r\n        web.ignoring().antMatchers(&quot;/api/**&quot;);\r\n\r\n        super.configure(web);\r\n    }\r\n}\r\n```\r\n\r\nSecurity service : \r\n```java\r\npackage fr.xibalba.axiumwebsite.security;\r\n\r\nimport com.vaadin.flow.component.UI;\r\nimport com.vaadin.flow.server.VaadinServletRequest;\r\nimport org.springframework.security.core.context.SecurityContext;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class SecurityService {\r\n\r\n    private static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\r\n\r\n    public UserDetails getAuthenticatedUser() {\r\n\r\n        SecurityContext context = SecurityContextHolder.getContext();\r\n        Object principal = context.getAuthentication().getPrincipal();\r\n        if (principal instanceof UserDetails) {\r\n            return (UserDetails) context.getAuthentication().getPrincipal();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public void logout() {\r\n\r\n        UI.getCurrent().getPage().setLocation(LOGOUT_SUCCESS_URL);\r\n        SecurityContextLogoutHandler logoutHandler = new SecurityContextLogoutHandler();\r\n        logoutHandler.logout(\r\n                VaadinServletRequest.getCurrent().getHttpServletRequest(), null,\r\n                null);\r\n    }\r\n}\r\n```\r\n\r\nLogs :\r\nhttps://pastebin.com/kJ28qZWR","title":"Trouble with JPA repositories while running on heroku","body":"<p>I'm trying to deploy a vaadin website on heroku, the website works well, but the REST api that I made with Spring JPA returns always empty list. When running on my computer it works perfectly. There is no errors in heroku's console. How should I patch that ?</p>\n<p>The table class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.xibalba.axiumwebsite.api.tables;\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;roles&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Setter\n@Getter\n@ToString\n@EqualsAndHashCode\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    Integer id;\n\n    @Column(name = &quot;name&quot;, nullable = false, unique = true)\n    String name;\n\n    @Column(name = &quot;priority&quot;, nullable = false)\n    int priority;\n\n    @Column(name = &quot;prefix&quot;)\n    String prefix;\n\n    @Column(name = &quot;multiple_prefix&quot;, nullable = false)\n    boolean multiple_prefix;\n\n    @Column(name = &quot;prefix_color&quot;, nullable = false)\n    String prefix_color;\n\n    @Column(name = &quot;suffix&quot;)\n    String suffix;\n\n    @Column(name = &quot;multiple_suffix&quot;, nullable = false)\n    boolean multiple_suffix;\n\n    @Column(name = &quot;suffix_color&quot;, nullable = false)\n    String suffix_color;\n\n    @JsonBackReference\n    @ManyToMany(mappedBy = &quot;roles&quot;)\n    List&lt;Account&gt; accounts;\n}\n\n</code></pre>\n<p>The JPA repository :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.xibalba.axiumwebsite.api.repositories;\n\nimport fr.xibalba.axiumwebsite.api.tables.Role;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt; {\n\n    Role findByName(String name);\n}\n</code></pre>\n<p>The REST controller :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.xibalba.axiumwebsite.api.controllers;\n\nimport fr.xibalba.axiumwebsite.api.repositories.RoleRepository;\nimport fr.xibalba.axiumwebsite.api.tables.Role;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/roles&quot;)\npublic class RoleController {\n\n    @Autowired\n    private RoleRepository roleRepository;\n\n    @RequestMapping(&quot;&quot;)\n    public List&lt;Role&gt; infos(@RequestParam(value = &quot;name&quot;, required = false) String name, @RequestParam(value = &quot;id&quot;, required = false) Integer id) {\n\n        System.out.println(&quot;name: &quot; + name);\n\n        if (name != null &amp;&amp; roleRepository.findByName(name) != null) {\n\n            System.out.println(&quot;role found&quot;);\n            return List.of(roleRepository.findByName(name));\n        } else if (id != null &amp;&amp; roleRepository.findById(id).isPresent()) {\n\n            System.out.println(&quot;role found&quot;);\n\n            return List.of(roleRepository.findById(id).get());\n        } else {\n\n            System.out.println(&quot;role not found&quot;);\n\n            return roleRepository.findAll();\n        }\n    }\n}\n\n</code></pre>\n<p>My pom.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;fr.xibalba&lt;/groupId&gt;\n    &lt;artifactId&gt;AxiumWebsite&lt;/artifactId&gt;\n    &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;AxiumWebsite&lt;/name&gt;\n    &lt;description&gt;AxiumWebsite&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n        &lt;vaadin.version&gt;23.1.2&lt;/vaadin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;version&gt;5.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.heroku.sdk&lt;/groupId&gt;\n                &lt;artifactId&gt;heroku-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;appName&gt;axium-centrality&lt;/appName&gt;\n                    &lt;processTypes&gt;\n                        &lt;web&gt;java $JAVA_OPTS -jar target/${project.artifactId}-${project.version}.jar --server.port=$PORT&lt;/web&gt;\n                    &lt;/processTypes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;23.0.5&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;frontend&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;productionMode&gt;true&lt;/productionMode&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>Security configuration :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.xibalba.axiumwebsite.security;\n\nimport com.vaadin.flow.server.auth.ViewAccessChecker;\nimport com.vaadin.flow.spring.VaadinConfigurationProperties;\nimport com.vaadin.flow.spring.security.RequestUtil;\nimport com.vaadin.flow.spring.security.VaadinDefaultRequestCache;\nimport com.vaadin.flow.spring.security.VaadinWebSecurityConfigurerAdapter;\nimport fr.xibalba.axiumwebsite.website.pages.login.LoginView;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends VaadinWebSecurityConfigurerAdapter {\n\n    public static final String ROLE_QUERY = &quot;SELECT accounts.username, roles.name &quot; +\n                                            &quot;    FROM accounts &quot; +\n                                            &quot;    LEFT JOIN roles &quot; +\n                                            &quot;        ON (SELECT account_id FROM accounts_roles WHERE role_id = roles.id) = accounts.id &quot; +\n                                            &quot;    WHERE accounts.username = ?;&quot;;\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n    @Autowired\n    private DataSource dataSource;\n\n\n    @Autowired\n    private VaadinDefaultRequestCache vaadinDefaultRequestCache;\n\n    @Autowired\n    private RequestUtil requestUtil;\n\n    @Autowired\n    private ViewAccessChecker viewAccessChecker;\n\n    @Autowired\n    private VaadinConfigurationProperties configurationProperties;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        auth\n                .jdbcAuthentication()\n                .dataSource(dataSource)\n                .usersByUsernameQuery(&quot;SELECT username, password, enabled FROM accounts WHERE username = ?&quot;)\n                .authoritiesByUsernameQuery(ROLE_QUERY)\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        super.configure(http);\n\n        setLoginView(http, LoginView.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n\n        web.ignoring().antMatchers(&quot;/api/**&quot;);\n\n        super.configure(web);\n    }\n}\n</code></pre>\n<p>Security service :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package fr.xibalba.axiumwebsite.security;\n\nimport com.vaadin.flow.component.UI;\nimport com.vaadin.flow.server.VaadinServletRequest;\nimport org.springframework.security.core.context.SecurityContext;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SecurityService {\n\n    private static final String LOGOUT_SUCCESS_URL = &quot;/&quot;;\n\n    public UserDetails getAuthenticatedUser() {\n\n        SecurityContext context = SecurityContextHolder.getContext();\n        Object principal = context.getAuthentication().getPrincipal();\n        if (principal instanceof UserDetails) {\n            return (UserDetails) context.getAuthentication().getPrincipal();\n        }\n\n        return null;\n    }\n\n    public void logout() {\n\n        UI.getCurrent().getPage().setLocation(LOGOUT_SUCCESS_URL);\n        SecurityContextLogoutHandler logoutHandler = new SecurityContextLogoutHandler();\n        logoutHandler.logout(\n                VaadinServletRequest.getCurrent().getHttpServletRequest(), null,\n                null);\n    }\n}\n</code></pre>\n<p>Logs :\n<a href=\"https://pastebin.com/kJ28qZWR\" rel=\"nofollow noreferrer\">https://pastebin.com/kJ28qZWR</a></p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656938890,"post_id":72856079,"comment_id":128685753,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":21695801,"reputation":19,"user_id":16009742,"display_name":"Danial hassan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659903740,"creation_date":1659636930,"answer_id":73240596,"question_id":72856079,"body_markdown":"Try this:\r\n\r\n```\r\nSession session = sessionFactory.openSession();\r\n```","title":"No CurrentSessionContext configured (use hibernate.properties)","body":"<p>Try this:</p>\n<pre><code>Session session = sessionFactory.openSession();\n</code></pre>\n"}],"owner":{"account_id":25721905,"reputation":1,"user_id":19478808,"display_name":"Max Horychenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659903740,"creation_date":1656934616,"question_id":72856079,"body_markdown":"I decided to learn hibernate. Everything starts small, so I created the simplest program, but I got this error: \r\n\r\n&gt; Exception in thread &quot;main&quot; org.hibernate.HibernateException: No CurrentSessionContext configured!\r\n\tat org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:498)\r\n\tat ua.com.auvin.Main.main(Main.java:13)\r\n\r\nI use hibernate.properties. It is located in: src/main/resources:\r\n```\r\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\r\nhibernate.connection.url=jdbc:mysql://localhost:3306/test?\r\nhibernate.connection.username=root\r\nhibernate.connection.password=\r\nhibernate.show_sql=true\r\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n```\r\n\r\n\r\n\r\nMain program:\r\n\r\n```\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.cfg.Configuration;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSessionFactory sessionFactory = new Configuration().buildSessionFactory();\r\n\r\n\t\tSession session = sessionFactory.getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tProduct product = new Product(&quot;name&quot;, 10, &quot;name2&quot;);\r\n\t\tSystem.out.println(product);\r\n\t\tsession.save(product);\r\n\t\tSystem.out.println(product);\r\n\t\tsession.getTransaction().commit();\r\n\r\n\t\tsessionFactory.close();\r\n\t}\r\n\r\n}\r\n```\r\nClass:\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport javax.transaction.Transactional;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;products&quot;)\r\npublic class Product {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Column(name = &quot;price&quot;)\r\n\tprivate int price;\r\n\t\r\n\t@Column(name = &quot;description&quot;)\r\n\tprivate String description;\r\n\r\n\t\r\n\tpublic Product() {\r\n\r\n\t}\r\n\r\n\tpublic Product(String name, int price, String description) {\r\n\t\tthis.name = name;\r\n\t\tthis.price = price;\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic int getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\r\n\tpublic void setPrice(int price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Product [id=&quot; + id + &quot;, name=&quot; + name + &quot;, price=&quot; + price + &quot;, description=&quot; + description + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nDependencies in pom.xml:\r\n```\r\n&lt;dependency&gt;\r\n\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;8.0.28&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t    &lt;version&gt;5.5.6&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\nwith the following versions of hibernate, the same error: 5.6.5.Final, 5.6.9.Final\r\n\r\n\r\n","title":"No CurrentSessionContext configured (use hibernate.properties)","body":"<p>I decided to learn hibernate. Everything starts small, so I created the simplest program, but I got this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.hibernate.HibernateException: No CurrentSessionContext configured!\nat org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:498)\nat ua.com.auvin.Main.main(Main.java:13)</p>\n</blockquote>\n<p>I use hibernate.properties. It is located in: src/main/resources:</p>\n<pre><code>hibernate.connection.driver_class=com.mysql.jdbc.Driver\nhibernate.connection.url=jdbc:mysql://localhost:3306/test?\nhibernate.connection.username=root\nhibernate.connection.password=\nhibernate.show_sql=true\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\n\n</code></pre>\n<p>Main program:</p>\n<pre><code>import org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        SessionFactory sessionFactory = new Configuration().buildSessionFactory();\n\n        Session session = sessionFactory.getCurrentSession();\n        session.beginTransaction();\n        Product product = new Product(&quot;name&quot;, 10, &quot;name2&quot;);\n        System.out.println(product);\n        session.save(product);\n        System.out.println(product);\n        session.getTransaction().commit();\n\n        sessionFactory.close();\n    }\n\n}\n</code></pre>\n<p>Class:</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.transaction.Transactional;\n\n\n@Entity\n@Table(name = &quot;products&quot;)\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n    \n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    @Column(name = &quot;price&quot;)\n    private int price;\n    \n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    \n    public Product() {\n\n    }\n\n    public Product(String name, int price, String description) {\n        this.name = name;\n        this.price = price;\n        this.description = description;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n\n    public void setPrice(int price) {\n        this.price = price;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product [id=&quot; + id + &quot;, name=&quot; + name + &quot;, price=&quot; + price + &quot;, description=&quot; + description + &quot;]&quot;;\n    }\n    \n    \n}\n</code></pre>\n<p>Dependencies in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.28&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.5.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>with the following versions of hibernate, the same error: 5.6.5.Final, 5.6.9.Final</p>\n"},{"tags":["java","kotlin","oop","serialization","types"],"owner":{"account_id":20937815,"reputation":547,"user_id":15382624,"display_name":"ibrahim koz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659903673,"creation_date":1659885585,"question_id":73268665,"body_markdown":"I get packets from the network that looks as follows in the following DTO form:\r\n```\r\ndata class ContentElementField(\r\n    val text: String? = null,\r\n    val style: String? = null,\r\n    val imagePath: String? = null,\r\n    val caption: String? = null\r\n)\r\n```\r\n\r\nThe packet has the following invariant that specifies that either `text` and `style` or `imagePath` and `caption` are set together. One group excludes the other.\r\n\r\nBy following this invariant,\r\n\r\n```\r\nabstract class ContentElement\r\n\r\ndata class TextElement(val text: Text, val style: Style) : ContentElement()\r\n\r\ndata class ImageElement(val picturePath: Path, val caption: Text) : ContentElement()\r\n```\r\n\r\neither `TextElement` or `ImageElement` is created.\r\n\r\nI abstain from writing a code as follows to implement this behavior:\r\n\r\n```\r\nif (isTextElementField(contentElementField)) createTextElement(contentElement.text, contentElement.style)\r\n\r\nelse if (isImageElementField(contentElementField)) createImageElement(contentElement.imagePath, contentElement.caption)\r\n```\r\n\r\nBecause in the future, there will be more specific content elements to be added. This leads me to expand the branching above as more specific content elements are added.\r\nI believe it can be implemented through polymorphism or double-dispatching through the visitor pattern.\r\n\r\nWhat would you offer to solve this?","title":"How to create an object of proper type elegantly from the given input?","body":"<p>I get packets from the network that looks as follows in the following DTO form:</p>\n<pre><code>data class ContentElementField(\n    val text: String? = null,\n    val style: String? = null,\n    val imagePath: String? = null,\n    val caption: String? = null\n)\n</code></pre>\n<p>The packet has the following invariant that specifies that either <code>text</code> and <code>style</code> or <code>imagePath</code> and <code>caption</code> are set together. One group excludes the other.</p>\n<p>By following this invariant,</p>\n<pre><code>abstract class ContentElement\n\ndata class TextElement(val text: Text, val style: Style) : ContentElement()\n\ndata class ImageElement(val picturePath: Path, val caption: Text) : ContentElement()\n</code></pre>\n<p>either <code>TextElement</code> or <code>ImageElement</code> is created.</p>\n<p>I abstain from writing a code as follows to implement this behavior:</p>\n<pre><code>if (isTextElementField(contentElementField)) createTextElement(contentElement.text, contentElement.style)\n\nelse if (isImageElementField(contentElementField)) createImageElement(contentElement.imagePath, contentElement.caption)\n</code></pre>\n<p>Because in the future, there will be more specific content elements to be added. This leads me to expand the branching above as more specific content elements are added.\nI believe it can be implemented through polymorphism or double-dispatching through the visitor pattern.</p>\n<p>What would you offer to solve this?</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1604382263,"post_id":64657312,"comment_id":114323511,"body_markdown":"Do you have default constructor in UserInfo ?","body":"Do you have default constructor in UserInfo ?"},{"owner":{"account_id":1122194,"reputation":3608,"user_id":1110305,"accept_rate":67,"display_name":"Chamila Adhikarinayake"},"score":1,"creation_date":1604382360,"post_id":64657312,"comment_id":114323531,"body_markdown":"@AnishB. no. only these two constructors","body":"@AnishB. no. only these two constructors"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604384501,"creation_date":1604382422,"answer_id":64657402,"question_id":64657312,"body_markdown":"**Mapstruct needs a default empty constructor for its functioning.**\r\n\r\nSo, update the UserInfo class to have a default empty constructor:\r\n\r\n    public class UserInfo {\r\n    \r\n        private final String username;\r\n        private final String area;\r\n    \r\n        public UserInfo(){\r\n            \r\n        }\r\n    \r\n        public UserInfo(String username, String area){\r\n            //set \r\n        }\r\n    \r\n        public UserInfo(String info) {\r\n            //set\r\n        }\r\n    \r\n        // setters and getters\r\n    }\r\n\r\n**Or annotate anyone constructor with** `@Default` **so that mapstruct can use that constructor as a default constructor**.\r\n\r\nFor example :\r\n\r\n     @Default\r\n     public UserInfo(String info) {\r\n        //set\r\n     }\r\n\r\nAlso, you have to add setters in UserInfo as well.\r\n","title":"&quot;Ambiguous constructors found&quot; error when there more than one constructor when using MapStruct","body":"<p><strong>Mapstruct needs a default empty constructor for its functioning.</strong></p>\n<p>So, update the UserInfo class to have a default empty constructor:</p>\n<pre><code>public class UserInfo {\n\n    private final String username;\n    private final String area;\n\n    public UserInfo(){\n        \n    }\n\n    public UserInfo(String username, String area){\n        //set \n    }\n\n    public UserInfo(String info) {\n        //set\n    }\n\n    // setters and getters\n}\n</code></pre>\n<p><strong>Or annotate anyone constructor with</strong> <code>@Default</code> <strong>so that mapstruct can use that constructor as a default constructor</strong>.</p>\n<p>For example :</p>\n<pre><code> @Default\n public UserInfo(String info) {\n    //set\n }\n</code></pre>\n<p>Also, you have to add setters in UserInfo as well.</p>\n"},{"tags":[],"owner":{"account_id":9969649,"reputation":520,"user_id":7376172,"display_name":"Timur Levadny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604382790,"creation_date":1604382790,"answer_id":64657454,"question_id":64657312,"body_markdown":"Here is the documentation: https://github.com/mapstruct/mapstruct/blob/master/documentation/src/main/asciidoc/chapter-3-defining-a-mapper.asciidoc#using-constructors\r\n\r\nUse `@Default` annotation to mark default constructor.","title":"&quot;Ambiguous constructors found&quot; error when there more than one constructor when using MapStruct","body":"<p>Here is the documentation: <a href=\"https://github.com/mapstruct/mapstruct/blob/master/documentation/src/main/asciidoc/chapter-3-defining-a-mapper.asciidoc#using-constructors\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/blob/master/documentation/src/main/asciidoc/chapter-3-defining-a-mapper.asciidoc#using-constructors</a></p>\n<p>Use <code>@Default</code> annotation to mark default constructor.</p>\n"},{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1604387767,"creation_date":1604387331,"answer_id":64658200,"question_id":64657312,"body_markdown":"We are working on improving the error message in this place.\r\n\r\nFrom the current error message\r\n\r\n&gt;Ambiguous constructors found for creating `com.app.test.UserInfo`. Either declare parameterless constructor or annotate the default constructor with an annotation named `@Default`.\r\n\r\nYou have 2 options:\r\n\r\n* Create an empty constructor and MapStruct will use it. This is however not needed and I would strongly recommend not to use it.\r\n* Create your own `@Default` annotation and annotate the default constructor that MapStruct should use. I would highly recommend this approach.\r\n\r\nMapStruct is not shipping this annotation because it is focused on bean mapping and doesn&#39;t want to pollute the entity code with annotations from MapStruct.\r\nTherefore it can use any `Default` annotation from any package.\r\n\r\ne.g.\r\n\r\n```\r\npackage foo.support.mapstruct;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(ElementType.CONSTRUCTOR)\r\n@Retention(RetentionPolicy.CLASS)\r\npublic @interface Default {\r\n}\r\n```\r\n\r\nYou already did that and the next error message:\r\n\r\n&gt; Property &quot;username&quot; has no write accessor in UserInfo for target name &quot;owner.username&quot;.\r\n\r\nIs there saying that there is no write accessor for the username, because most likely you have annotated the single parameter constructor. If you&#39;ve done that then MapStruct only knows about the `area` and not about the `username`. Another option for that error is that you have added an empty parameterless constructor and no setters.\r\n\r\nYou most likely need\r\n\r\n```\r\n@Default\r\npublic UserInfo(String username, String area){\r\n    //set \r\n}\r\n```","title":"&quot;Ambiguous constructors found&quot; error when there more than one constructor when using MapStruct","body":"<p>We are working on improving the error message in this place.</p>\n<p>From the current error message</p>\n<blockquote>\n<p>Ambiguous constructors found for creating <code>com.app.test.UserInfo</code>. Either declare parameterless constructor or annotate the default constructor with an annotation named <code>@Default</code>.</p>\n</blockquote>\n<p>You have 2 options:</p>\n<ul>\n<li>Create an empty constructor and MapStruct will use it. This is however not needed and I would strongly recommend not to use it.</li>\n<li>Create your own <code>@Default</code> annotation and annotate the default constructor that MapStruct should use. I would highly recommend this approach.</li>\n</ul>\n<p>MapStruct is not shipping this annotation because it is focused on bean mapping and doesn't want to pollute the entity code with annotations from MapStruct.\nTherefore it can use any <code>Default</code> annotation from any package.</p>\n<p>e.g.</p>\n<pre><code>package foo.support.mapstruct;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.CONSTRUCTOR)\n@Retention(RetentionPolicy.CLASS)\npublic @interface Default {\n}\n</code></pre>\n<p>You already did that and the next error message:</p>\n<blockquote>\n<p>Property &quot;username&quot; has no write accessor in UserInfo for target name &quot;owner.username&quot;.</p>\n</blockquote>\n<p>Is there saying that there is no write accessor for the username, because most likely you have annotated the single parameter constructor. If you've done that then MapStruct only knows about the <code>area</code> and not about the <code>username</code>. Another option for that error is that you have added an empty parameterless constructor and no setters.</p>\n<p>You most likely need</p>\n<pre><code>@Default\npublic UserInfo(String username, String area){\n    //set \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17763021,"reputation":3757,"user_id":12898581,"display_name":"Dhanusha_Perera07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659903444,"creation_date":1659899771,"answer_id":73270361,"question_id":64657312,"body_markdown":"I faced this error when I run a Junit5 single test method. But, when I run the test using `mvn test`, the project and all tests were run successfully.\r\n\r\nI did not create/add a @Default annotation to solve this error because I did not get an error like this when I run the `mvn test` command. However, I solved it by changing the pom.xml file.\r\n\r\n### pom.xml file (before).\r\n\r\n``` XML\r\n&lt;!-- Under &lt;/annotationProcessorPaths&gt; tag --&gt;\r\n&lt;path&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.4&lt;/version&gt;\r\n&lt;/path&gt;\r\n```\r\nThen, I check the lombok documentation again and I used version: `1.18.24`. It worked for me.\r\n* So, my solution is to change the version as below. \r\n\r\n### pom.xml file (After changes).\r\n``` XML\r\n&lt;path&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.24&lt;/version&gt;\r\n&lt;/path&gt;\r\n```\r\n\r\nReferences: \r\n1. https://projectlombok.org/setup/maven\r\n2. https://stackoverflow.com/questions/65128763/java-you-arent-using-a-compiler-supported-by-lombok-so-lombok-will-not-work-a","title":"&quot;Ambiguous constructors found&quot; error when there more than one constructor when using MapStruct","body":"<p>I faced this error when I run a Junit5 single test method. But, when I run the test using <code>mvn test</code>, the project and all tests were run successfully.</p>\n<p>I did not create/add a @Default annotation to solve this error because I did not get an error like this when I run the <code>mvn test</code> command. However, I solved it by changing the pom.xml file.</p>\n<h3>pom.xml file (before).</h3>\n<pre><code>&lt;!-- Under &lt;/annotationProcessorPaths&gt; tag --&gt;\n&lt;path&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.4&lt;/version&gt;\n&lt;/path&gt;\n</code></pre>\n<p>Then, I check the lombok documentation again and I used version: <code>1.18.24</code>. It worked for me.</p>\n<ul>\n<li>So, my solution is to change the version as below.</li>\n</ul>\n<h3>pom.xml file (After changes).</h3>\n<pre><code>&lt;path&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.24&lt;/version&gt;\n&lt;/path&gt;\n</code></pre>\n<p>References:</p>\n<ol>\n<li><a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/maven</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65128763/java-you-arent-using-a-compiler-supported-by-lombok-so-lombok-will-not-work-a\">java: You aren&#39;t using a compiler supported by lombok, so lombok will not work and has been disabled</a></li>\n</ol>\n"}],"owner":{"account_id":1122194,"reputation":3608,"user_id":1110305,"accept_rate":67,"display_name":"Chamila Adhikarinayake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7895,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":64658200,"answer_count":4,"score":8,"last_activity_date":1659903444,"creation_date":1604381781,"question_id":64657312,"body_markdown":"I&#39;m new to mapstruct. I&#39;m trying to map `ItemInfo` to `Item` object and the following are my classes.\r\n\r\n    public class ItemInfo {\r\n\r\n        private String itemOwner;\r\n        private String itemOwnerArea;\r\n    \r\n        //getters and setters\r\n    }\r\n\r\nFollowing is the class that I&#39;m planing to convert to \r\n\r\n    public class Item {\r\n        private UserInfo owner;\r\n        // getters and setters.\r\n    }\r\n\r\nUserInfo class (Note that it has two constructors)\r\n\r\n    public class UserInfo {\r\n    \r\n        private final String username;\r\n        private final String area;\r\n    \r\n        public UserInfo(String username, String area){\r\n            //set \r\n        }\r\n    \r\n        public UserInfo(String info) {\r\n            //set\r\n        }\r\n\r\n        // getters only\r\n    }\r\n\r\nI have created the mapper interface as below\r\n\r\n    @Mapper\r\n    public interface ItemMapper {\r\n        ItemMapper INSTANCE = Mappers.getMapper(ItemMapper.class);\r\n\r\n        @Mapping(source = &quot;itemOwner&quot;, target = &quot;owner.username&quot;)\r\n        @Mapping(source = &quot;itemOwnerArea&quot;, target = &quot;owner.area&quot;)\r\n        Item mapItemInfoToItem(ItemInfo itemInfo);\r\n    }\r\n\r\nWhen I build this, I get the following error\r\n\r\n     Ambiguous constructors found for creating com.app.test.UserInfo. Either declare parameterless \r\n    constructor or annotate the default constructor with an annotation named @Default.\r\n\r\n Can you guide me please? \r\n\r\nUpdate.\r\n\r\nAs mentioned by @AnishB I added a default constructor but I get a different error\r\n\r\n    Property &quot;username&quot; has no write accessor in UserInfo for target name &quot;owner.username&quot;.\r\n\r\nThanks","title":"&quot;Ambiguous constructors found&quot; error when there more than one constructor when using MapStruct","body":"<p>I'm new to mapstruct. I'm trying to map <code>ItemInfo</code> to <code>Item</code> object and the following are my classes.</p>\n<pre><code>public class ItemInfo {\n\n    private String itemOwner;\n    private String itemOwnerArea;\n\n    //getters and setters\n}\n</code></pre>\n<p>Following is the class that I'm planing to convert to</p>\n<pre><code>public class Item {\n    private UserInfo owner;\n    // getters and setters.\n}\n</code></pre>\n<p>UserInfo class (Note that it has two constructors)</p>\n<pre><code>public class UserInfo {\n\n    private final String username;\n    private final String area;\n\n    public UserInfo(String username, String area){\n        //set \n    }\n\n    public UserInfo(String info) {\n        //set\n    }\n\n    // getters only\n}\n</code></pre>\n<p>I have created the mapper interface as below</p>\n<pre><code>@Mapper\npublic interface ItemMapper {\n    ItemMapper INSTANCE = Mappers.getMapper(ItemMapper.class);\n\n    @Mapping(source = &quot;itemOwner&quot;, target = &quot;owner.username&quot;)\n    @Mapping(source = &quot;itemOwnerArea&quot;, target = &quot;owner.area&quot;)\n    Item mapItemInfoToItem(ItemInfo itemInfo);\n}\n</code></pre>\n<p>When I build this, I get the following error</p>\n<pre><code> Ambiguous constructors found for creating com.app.test.UserInfo. Either declare parameterless \nconstructor or annotate the default constructor with an annotation named @Default.\n</code></pre>\n<p>Can you guide me please?</p>\n<p>Update.</p>\n<p>As mentioned by @AnishB I added a default constructor but I get a different error</p>\n<pre><code>Property &quot;username&quot; has no write accessor in UserInfo for target name &quot;owner.username&quot;.\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","spring","postgresql","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659615147,"post_id":73235458,"comment_id":129339621,"body_markdown":"have you tried to create a view with [lateral join](https://www.postgresql.org/docs/current/queries-table-expressions.html#QUERIES-LATERAL) and use in as read-only entity?","body":"have you tried to create a view with <a href=\"https://www.postgresql.org/docs/current/queries-table-expressions.html#QUERIES-LATERAL\" rel=\"nofollow noreferrer\">lateral join</a> and use in as read-only entity?"}],"answers":[{"tags":[],"owner":{"account_id":22961911,"reputation":55,"user_id":17091618,"display_name":"k31"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659903377,"creation_date":1659903377,"answer_id":73270736,"question_id":73235458,"body_markdown":"well this looks as a little bit of magic but:\r\n\r\nthis sql doesn&#39;t work\r\n```sql\r\nselect *\r\nfrom employees\r\nwhere dep_id in (get_hierarchy_from_top(15));\r\n```\r\nand this one works\r\n```sql\r\nselect *\r\nfrom employees\r\nwhere dep_id in (select * from get_hierarchy_from_top(15));\r\n```\r\nnot sure about low-levels details of such difference \r\nbut i can make jpa to render proper sql by writing\r\n\r\n\r\n```java\r\npredicates.add(root.get(&quot;department&quot;).get(&quot;id&quot;).in(\r\n                    criteriaBuilder.function(&quot;select * from get_hierarchy_from_top&quot;, Long[].class, criteriaBuilder.literal(depId))\r\n            )))\r\n\r\n```\r\n\r\n","title":"spring data specification and postgres function that returns set","body":"<p>well this looks as a little bit of magic but:</p>\n<p>this sql doesn't work</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select *\nfrom employees\nwhere dep_id in (get_hierarchy_from_top(15));\n</code></pre>\n<p>and this one works</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select *\nfrom employees\nwhere dep_id in (select * from get_hierarchy_from_top(15));\n</code></pre>\n<p>not sure about low-levels details of such difference\nbut i can make jpa to render proper sql by writing</p>\n<pre class=\"lang-java prettyprint-override\"><code>predicates.add(root.get(&quot;department&quot;).get(&quot;id&quot;).in(\n                    criteriaBuilder.function(&quot;select * from get_hierarchy_from_top&quot;, Long[].class, criteriaBuilder.literal(depId))\n            )))\n\n</code></pre>\n"}],"owner":{"account_id":22961911,"reputation":55,"user_id":17091618,"display_name":"k31"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659903377,"creation_date":1659613845,"question_id":73235458,"body_markdown":"say I have a classic db structure with employee and departments (each employee belongs to one department and departments form hierarchy)\r\n\r\n```sql\r\ncreate table employee(emp_id bigint, dep_id bigint)\r\ncreate table department(dep_id bigint, dep_parent_id bigint)\r\n```\r\n\r\nmy goal is to write a query using jpa specification (only) that will returns list of employees that belong to specific department (or array of such departments) or to any child department\r\n\r\n\r\nmy first take was to use custom postgres function that returns list of all departments that are child to one selected.\r\n\r\nit&#39;s done easily with so classic recursive cte\r\n\r\nso say i have\r\n\r\n```psql\r\ncreate function get_hierarchy_from_top(bigint[])\r\n    returns TABLE(id bigint)\r\n    language sql\r\nas\r\n$$\r\nwith recursive h as (select dep_id as id\r\n                     from department where dep_id = any($1)\r\n                     union\r\n                     select dep_id from department\r\n                              inner join h on h.id = department.dep_parent_id)\r\nselect *\r\nfrom h;\r\n$$;\r\n\r\n```\r\n\r\nfrom sql syntax perspective i can write only (and this works fine)\r\n\r\n```sql\r\nselect *\r\nfrom employees\r\ninner join get_hierarchy_from_top(&#39;{&quot;25&quot;, &quot;26&quot;}&#39;) f on f.id = employee.dep_id\r\n```\r\n\r\nbut now i have absolutely no idea how i can translate this into spring/jpa specifications language\r\n\r\n\r\nbtw: i tried playing with jpa specification &amp; where condition that checks dept_id against values returned by custom function which resulted in code sql code\r\n```sql\r\nselect *\r\nfrom employees\r\nwhere employees.dept_id in (get_hierarchy_from_top(&#39;{&quot;25&quot;}&#39;))\r\n\r\n```\r\n\r\nbut this is forbidden by postgres as \r\n```text\r\norg.postgresql.util.PSQLException: ERROR: set-returning functions are not allowed in WHERE\r\n```\r\nso you see my problems:\r\n\r\nI can write using jpa specification expression that is not working in postgres \r\n\r\nand \r\n\r\nI cannot write in jpa specification that makes join with result of function invocation.\r\n\r\n\r\n\r\n","title":"spring data specification and postgres function that returns set","body":"<p>say I have a classic db structure with employee and departments (each employee belongs to one department and departments form hierarchy)</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table employee(emp_id bigint, dep_id bigint)\ncreate table department(dep_id bigint, dep_parent_id bigint)\n</code></pre>\n<p>my goal is to write a query using jpa specification (only) that will returns list of employees that belong to specific department (or array of such departments) or to any child department</p>\n<p>my first take was to use custom postgres function that returns list of all departments that are child to one selected.</p>\n<p>it's done easily with so classic recursive cte</p>\n<p>so say i have</p>\n<pre><code>create function get_hierarchy_from_top(bigint[])\n    returns TABLE(id bigint)\n    language sql\nas\n$$\nwith recursive h as (select dep_id as id\n                     from department where dep_id = any($1)\n                     union\n                     select dep_id from department\n                              inner join h on h.id = department.dep_parent_id)\nselect *\nfrom h;\n$$;\n\n</code></pre>\n<p>from sql syntax perspective i can write only (and this works fine)</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select *\nfrom employees\ninner join get_hierarchy_from_top('{&quot;25&quot;, &quot;26&quot;}') f on f.id = employee.dep_id\n</code></pre>\n<p>but now i have absolutely no idea how i can translate this into spring/jpa specifications language</p>\n<p>btw: i tried playing with jpa specification &amp; where condition that checks dept_id against values returned by custom function which resulted in code sql code</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select *\nfrom employees\nwhere employees.dept_id in (get_hierarchy_from_top('{&quot;25&quot;}'))\n\n</code></pre>\n<p>but this is forbidden by postgres as</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: set-returning functions are not allowed in WHERE\n</code></pre>\n<p>so you see my problems:</p>\n<p>I can write using jpa specification expression that is not working in postgres</p>\n<p>and</p>\n<p>I cannot write in jpa specification that makes join with result of function invocation.</p>\n"},{"tags":["java","android","migration"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1658462840,"post_id":73072829,"comment_id":129062097,"body_markdown":"If you already have a solution you should post it as an answer to your question. Your solution looks fine. You could also just define an interface and send a callback to the dialog that launches the activity","body":"If you already have a solution you should post it as an answer to your question. Your solution looks fine. You could also just define an interface and send a callback to the dialog that launches the activity"}],"answers":[{"tags":[],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659903318,"creation_date":1659903318,"answer_id":73270729,"question_id":73072829,"body_markdown":"One solution couldn&#39;t be:\r\n\r\n    public class RangtActivity extends AppCompatActivity {\r\n    \tprivate ActivityResultLauncher&lt;String&gt; mBackFunctionGallery;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tmBackFunctionGallery = registerForActivityResult(new ActivityResultContracts.GetContent(),\r\n\t\t\t\tnew ActivityResultCallback&lt;Uri&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void onActivityResult(Uri uri) {\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\tif (id == R.id.action_add) {\r\n\t\t\tmRangtInputDialog = new RangtInputDialog(this, mBackFunctionGallery);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\nand in RangtInputDialog class, just initialize:\r\n\r\n\tpublic RangtInputDialog(Context context, ActivityResultLauncher&lt;String&gt; backFunctionGallerie\r\n\t) {\r\n\t\tmContext = context;\r\n\t\tmBackFunctionGallery = backFunctionGallerie;\r\n\t\tthis.init();\r\n\t}\r\n\r\nand call:\r\n\r\n\t\timgButtonGal.setOnClickListener(view -&gt; {\r\n\t\t\tmBackFunctionGallery.launch(&quot;image/*&quot;);\r\n\t\t}\r\n\r\n?\r\nIs it a clean solution or is there a better way and it should be avoided?","title":"startActivityForResult migration, call registerForActivityResult outside activity","body":"<p>One solution couldn't be:</p>\n<pre><code>public class RangtActivity extends AppCompatActivity {\n    private ActivityResultLauncher&lt;String&gt; mBackFunctionGallery;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    mBackFunctionGallery = registerForActivityResult(new ActivityResultContracts.GetContent(),\n            new ActivityResultCallback&lt;Uri&gt;() {\n                @Override\n                public void onActivityResult(Uri uri) {\n                    ...\n                }\n            });\n\n    if (id == R.id.action_add) {\n        mRangtInputDialog = new RangtInputDialog(this, mBackFunctionGallery);\n        return true;\n    }\n</code></pre>\n<p>and in RangtInputDialog class, just initialize:</p>\n<pre><code>public RangtInputDialog(Context context, ActivityResultLauncher&lt;String&gt; backFunctionGallerie\n) {\n    mContext = context;\n    mBackFunctionGallery = backFunctionGallerie;\n    this.init();\n}\n</code></pre>\n<p>and call:</p>\n<pre><code>    imgButtonGal.setOnClickListener(view -&gt; {\n        mBackFunctionGallery.launch(&quot;image/*&quot;);\n    }\n</code></pre>\n<p>?\nIs it a clean solution or is there a better way and it should be avoided?</p>\n"}],"owner":{"account_id":14033656,"reputation":105,"user_id":13463349,"display_name":"Chris972"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73270729,"answer_count":1,"score":0,"last_activity_date":1659903318,"creation_date":1658438787,"question_id":73072829,"body_markdown":"In my android/java application (personal use) which dates back a few years, I have to migrate many startActivityForResult calls to registerForActivityResult (gallery pickup, photo taking, scanner etc...) but, despite many hours spent, I can&#39;t do it alone. I&#39;m very far from being a confirmed developer and I&#39;m lost.\r\nIf I could manage to have a working example I think I would manage to adapt it, but even the simplest example doesn&#39;t work in my context.\r\nObviously, I would like to avoid too in-depth modifications that I would be unable to implement.\r\n\r\nHere is one of the an examples:\r\n\r\nI have a RanktActivity.java activity with a menu. An option (add) from this menu opens a popup (using the RangtInputDialog class) in which I create an article, and I associate an image from the gallery (which I normally resize then I save).\r\nHere is the original code that I tried to simplify as much as possible:\r\n\r\n**activity:**\r\n\r\n    public class RangtActivity extends AppCompatActivity implements RangtCalls.CallbacksAll, RangtCalls.CallbacksDelete, RangtCalls.CallbacksAllImages,\r\n    \t\tProductCalls.CallbacksAll, ProductCalls.CallbacksAllImages, SyncCalls.CallbacksUpload, SyncCalls.CallbacksDownload {\r\n    \tprivate RangtInputDialog mRangtInputDialog;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\t// initializations\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n    \t\tint id = item.getItemId();\r\n    \t\tif (id == R.id.action_add) {\r\n    \t\t\tmRangtInputDialog = new RangtInputDialog(this);\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\treturn super.onOptionsItemSelected(item);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n    \t\tsuper.onActivityResult(requestCode, resultCode, data);\r\n    \t\tif (resultCode == RESULT_OK) {\r\n    \t\t\tswitch (requestCode) {\r\n    \t\t\t\tcase Consts.RESULT_RANGT_REQUEST_GALLERY:\r\n    \t\t\t\t\t// image processing, resize, save...\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**class:**\r\n\r\n    public class RangtInputDialog implements RangtCalls.CallbacksByTitle, RangtCalls.CallbacksCreate, RangtCalls.CallbacksUpdate {\r\n    \tprivate final Context mContext;\r\n    \tprivate AlertDialog mInputDialog;\r\n    \tprivate View mPromptsView;\r\n    \r\n    \tpublic RangtInputDialog(Context context) {\r\n    \t\tmContext = context;\r\n    \t\tthis.init();\r\n    \t}\r\n    \tprivate void init() {\r\n    \t\tLayoutInflater li = LayoutInflater.from(this.mContext);\r\n    \t\tmPromptsView = li.inflate(R.layout.text_input_rangt, nullParent);\r\n    \t\tfinal AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this.mContext);\r\n    \t\talertDialogBuilder.setView(mPromptsView);\r\n    \t\tfinal ImageButton imgButtonGal = mPromptsView.findViewById(R.id.addGal);\r\n    \r\n    \t\talertDialogBuilder\r\n    \t\t\t\t.setCancelable(false)\r\n    \t\t\t\t.setPositiveButton(android.R.string.ok, null)\r\n    \t\t\t\t.setNegativeButton(android.R.string.cancel,\r\n    \t\t\t\t\t\t(dialog, id) -&gt; {\r\n    \t\t\t\t\t\t\t// some treatments\r\n    \t\t\t\t\t\t\tdialog.cancel();\r\n    \t\t\t\t\t\t});\r\n    \r\n    \t\tthis.mInputDialog = alertDialogBuilder.create();\r\n    \r\n    \t\t// traitement imageButton Gallerie\r\n    \t\timgButtonGal.setOnClickListener(view -&gt; {\r\n    \t\t\tint resultCode = mEditMode ? Consts.RESULT_RANGT_EDIT_REQUEST_GALLERY : Consts.RESULT_RANGT_REQUEST_GALLERY;\r\n    \t\t\tIntent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n    \t\t\t((Activity) mContext).startActivityForResult(galleryIntent, resultCode);\r\n    \t\t});\r\n    \t\tinit();\r\n    \t}\r\n    }\r\n\r\nI try to follow the example of https://apktutor.com/android-pick-image-and-display-in-imageview/ but\r\n1) if i put &quot;ActivityResultLauncher&lt;String&gt; mGetContent=...&quot; in the onCreate of activity, i don&#39;t know how to call it from RangtInputDialog class. I tried with ((Activity) mContext).mGetContent.launch(&quot;image/*&quot;); without success\r\n2) and if I put it in RangtInputDialog (which anyway doesn&#39;t seem possible to me) registerForActivityResult is not recognized since it&#39;s not an activity.\r\n\r\nI really need help, as detailed as possible please, because I&#39;ve been on it for 15 days, and I can&#39;t get anywhere.","title":"startActivityForResult migration, call registerForActivityResult outside activity","body":"<p>In my android/java application (personal use) which dates back a few years, I have to migrate many startActivityForResult calls to registerForActivityResult (gallery pickup, photo taking, scanner etc...) but, despite many hours spent, I can't do it alone. I'm very far from being a confirmed developer and I'm lost.\nIf I could manage to have a working example I think I would manage to adapt it, but even the simplest example doesn't work in my context.\nObviously, I would like to avoid too in-depth modifications that I would be unable to implement.</p>\n<p>Here is one of the an examples:</p>\n<p>I have a RanktActivity.java activity with a menu. An option (add) from this menu opens a popup (using the RangtInputDialog class) in which I create an article, and I associate an image from the gallery (which I normally resize then I save).\nHere is the original code that I tried to simplify as much as possible:</p>\n<p><strong>activity:</strong></p>\n<pre><code>public class RangtActivity extends AppCompatActivity implements RangtCalls.CallbacksAll, RangtCalls.CallbacksDelete, RangtCalls.CallbacksAllImages,\n        ProductCalls.CallbacksAll, ProductCalls.CallbacksAllImages, SyncCalls.CallbacksUpload, SyncCalls.CallbacksDownload {\n    private RangtInputDialog mRangtInputDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // initializations\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n        if (id == R.id.action_add) {\n            mRangtInputDialog = new RangtInputDialog(this);\n            return true;\n        } else {\n            return super.onOptionsItemSelected(item);\n        }\n    }\n    \n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode == RESULT_OK) {\n            switch (requestCode) {\n                case Consts.RESULT_RANGT_REQUEST_GALLERY:\n                    // image processing, resize, save...\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>class:</strong></p>\n<pre><code>public class RangtInputDialog implements RangtCalls.CallbacksByTitle, RangtCalls.CallbacksCreate, RangtCalls.CallbacksUpdate {\n    private final Context mContext;\n    private AlertDialog mInputDialog;\n    private View mPromptsView;\n\n    public RangtInputDialog(Context context) {\n        mContext = context;\n        this.init();\n    }\n    private void init() {\n        LayoutInflater li = LayoutInflater.from(this.mContext);\n        mPromptsView = li.inflate(R.layout.text_input_rangt, nullParent);\n        final AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this.mContext);\n        alertDialogBuilder.setView(mPromptsView);\n        final ImageButton imgButtonGal = mPromptsView.findViewById(R.id.addGal);\n\n        alertDialogBuilder\n                .setCancelable(false)\n                .setPositiveButton(android.R.string.ok, null)\n                .setNegativeButton(android.R.string.cancel,\n                        (dialog, id) -&gt; {\n                            // some treatments\n                            dialog.cancel();\n                        });\n\n        this.mInputDialog = alertDialogBuilder.create();\n\n        // traitement imageButton Gallerie\n        imgButtonGal.setOnClickListener(view -&gt; {\n            int resultCode = mEditMode ? Consts.RESULT_RANGT_EDIT_REQUEST_GALLERY : Consts.RESULT_RANGT_REQUEST_GALLERY;\n            Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            ((Activity) mContext).startActivityForResult(galleryIntent, resultCode);\n        });\n        init();\n    }\n}\n</code></pre>\n<p>I try to follow the example of <a href=\"https://apktutor.com/android-pick-image-and-display-in-imageview/\" rel=\"nofollow noreferrer\">https://apktutor.com/android-pick-image-and-display-in-imageview/</a> but</p>\n<ol>\n<li>if i put &quot;ActivityResultLauncher mGetContent=...&quot; in the onCreate of activity, i don't know how to call it from RangtInputDialog class. I tried with ((Activity) mContext).mGetContent.launch(&quot;image/*&quot;); without success</li>\n<li>and if I put it in RangtInputDialog (which anyway doesn't seem possible to me) registerForActivityResult is not recognized since it's not an activity.</li>\n</ol>\n<p>I really need help, as detailed as possible please, because I've been on it for 15 days, and I can't get anywhere.</p>\n"},{"tags":["java","security","visibility"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1658594191,"post_id":73092419,"comment_id":129092426,"body_markdown":"Define &quot;secure&quot;.","body":"Define &quot;secure&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658594226,"creation_date":1658594226,"answer_id":73092476,"question_id":73092419,"body_markdown":"None of these will matter at all to security.  This is a variable in your app, changing any of them will only be able to affect whether other parts of your app can read it or not.  If your app itself can&#39;t be trusted, you have far bigger, unsolvable by technology problems.\r\n\r\nNow if you&#39;re asking which is better for maintainability and keeping a clean API to the rest of your system-  we have no idea because we don&#39;t know how your class will be used, and its way to generic to even guess what &quot;alpha&quot;, &quot;beta&quot; or &quot;delta&quot; will do.  I can tell you this won&#39;t compile, because you can&#39;t assign a new value to a final variable, which you do with delta.","title":"Which is better answer about security?","body":"<p>None of these will matter at all to security.  This is a variable in your app, changing any of them will only be able to affect whether other parts of your app can read it or not.  If your app itself can't be trusted, you have far bigger, unsolvable by technology problems.</p>\n<p>Now if you're asking which is better for maintainability and keeping a clean API to the rest of your system-  we have no idea because we don't know how your class will be used, and its way to generic to even guess what &quot;alpha&quot;, &quot;beta&quot; or &quot;delta&quot; will do.  I can tell you this won't compile, because you can't assign a new value to a final variable, which you do with delta.</p>\n"}],"owner":{"account_id":6825476,"reputation":1,"user_id":5251324,"display_name":"Pete"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1658594375,"answer_count":1,"score":-4,"last_activity_date":1659902480,"creation_date":1658593817,"question_id":73092419,"body_markdown":"We have the next source of a Java class and some possibilities to secure its variables:\r\n\r\n    public class Foo {\r\n        public static String ALPHA = &quot;alpha&quot;;\r\n        protected String beta = &quot;beta&quot;;\r\n        private final String delta; \r\n        public Foo(String d) {\r\n            delta = ALPHA + d;\r\n        }\r\n        public String Foo() {\r\n            return beta\r\n        }\r\n    }\r\n\r\n\r\nWhich change make Foo more secure and why? We see here a question related to visibility modifiers and the convenience of using constants or variables.\r\n\r\n    A. protected final String beta = &quot;beta&quot;; \r\n    B. private String delta; \r\n    C. public static final String ALPHA = &quot;alpha&quot;; \r\n    D. public String beta = &quot;beta&quot;;\r\n\r\n    ","title":"Which is better answer about security?","body":"<p>We have the next source of a Java class and some possibilities to secure its variables:</p>\n<pre><code>public class Foo {\n    public static String ALPHA = &quot;alpha&quot;;\n    protected String beta = &quot;beta&quot;;\n    private final String delta; \n    public Foo(String d) {\n        delta = ALPHA + d;\n    }\n    public String Foo() {\n        return beta\n    }\n}\n</code></pre>\n<p>Which change make Foo more secure and why? We see here a question related to visibility modifiers and the convenience of using constants or variables.</p>\n<pre><code>A. protected final String beta = &quot;beta&quot;; \nB. private String delta; \nC. public static final String ALPHA = &quot;alpha&quot;; \nD. public String beta = &quot;beta&quot;;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1659902541,"post_id":73269796,"comment_id":129399830,"body_markdown":"If you don&#39;t get an error message when calling `sendEmailVerification()`, it is quite likely that the email was actually sent but didn&#39;t show up where you expected it. Check the spam folder of your mail client, and if it isn&#39;t there, check with any network administrators to see if it got caught in their spam filters.","body":"If you don&#39;t get an error message when calling <code>sendEmailVerification()</code>, it is quite likely that the email was actually sent but didn&#39;t show up where you expected it. Check the spam folder of your mail client, and if it isn&#39;t there, check with any network administrators to see if it got caught in their spam filters."},{"owner":{"account_id":19810459,"reputation":1,"user_id":14509427,"display_name":"Mohammad Abu Saada"},"score":0,"creation_date":1659914489,"post_id":73269796,"comment_id":129401828,"body_markdown":"I do not believe myself! This is what really happened. I found it in spam messages.. after I exhausted myself in editing the code for nothing.\nThank you so much","body":"I do not believe myself! This is what really happened. I found it in spam messages.. after I exhausted myself in editing the code for nothing. Thank you so much"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1659919175,"post_id":73269796,"comment_id":129402301,"body_markdown":"Good to hear that was it @Mohammad. I linked an answer with some ways to reduce the chances of the messages being marked as spam.","body":"Good to hear that was it @Mohammad. I linked an answer with some ways to reduce the chances of the messages being marked as spam."}],"owner":{"account_id":19810459,"reputation":1,"user_id":14509427,"display_name":"Mohammad Abu Saada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659919145,"answer_count":0,"score":0,"last_activity_date":1659902463,"creation_date":1659894845,"question_id":73269796,"body_markdown":"I am trying to **verify the email** by firebase but the problem is that **no email is sent to the user**. Please Help\r\n\r\nthis is my code:\r\n```\r\n    private void userLogin() {\r\n        progressBar.setVisibility(View.VISIBLE);\r\n        mAuth.signInWithEmailAndPassword(emailString, passwordString)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                            if (user.isEmailVerified()) {\r\n                                progressBar.setVisibility(View.GONE);\r\n                                Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            } else {\r\n                                user.sendEmailVerification();\r\n                                Toast.makeText(LoginActivity.this, &quot;Please verified your email address!&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                        } else {\r\n                            progressBar.setVisibility(View.GONE);\r\n                            Toast.makeText(LoginActivity.this, &quot;Failed to login! Please check your credentials.&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n```\r\n\r\n","title":"Why Firebase Email Verification not working - Android Studio","body":"<p>I am trying to <strong>verify the email</strong> by firebase but the problem is that <strong>no email is sent to the user</strong>. Please Help</p>\n<p>this is my code:</p>\n<pre><code>    private void userLogin() {\n        progressBar.setVisibility(View.VISIBLE);\n        mAuth.signInWithEmailAndPassword(emailString, passwordString)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n                            if (user.isEmailVerified()) {\n                                progressBar.setVisibility(View.GONE);\n                                Intent intent = new Intent(LoginActivity.this, MainActivity.class);\n                                startActivity(intent);\n                                finish();\n                            } else {\n                                user.sendEmailVerification();\n                                Toast.makeText(LoginActivity.this, &quot;Please verified your email address!&quot;, Toast.LENGTH_LONG).show();\n                            }\n                        } else {\n                            progressBar.setVisibility(View.GONE);\n                            Toast.makeText(LoginActivity.this, &quot;Failed to login! Please check your credentials.&quot;, Toast.LENGTH_LONG).show();\n                        }\n                    }\n                });\n\n    }\n\n</code></pre>\n"},{"tags":["java","kotlin","serialization","reflection","constructor"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1645369736,"post_id":71195651,"comment_id":125847954,"body_markdown":"Seeing your background, wouldn&#39;t it be easier to just throw an exception if the class is not a data class? Data class primary constructors cannot have non-val/var parameters.","body":"Seeing your background, wouldn&#39;t it be easier to just throw an exception if the class is not a data class? Data class primary constructors cannot have non-val/var parameters."},{"owner":{"account_id":16204777,"reputation":1,"user_id":11700241,"display_name":"brmaleo"},"score":0,"creation_date":1645370588,"post_id":71195651,"comment_id":125848129,"body_markdown":"I am writing a fairly universal function, and I would not want to be limited to data classes. In fact, I wanted to roughly repeat the check from `kotlinx.serialization`. There, objects can be made serializable by marking them as `@Serializable`. But if the constructor has parameters that are not properties, applying `@Serializable` results in a compilation error.","body":"I am writing a fairly universal function, and I would not want to be limited to data classes. In fact, I wanted to roughly repeat the check from <code>kotlinx.serialization</code>. There, objects can be made serializable by marking them as <code>@Serializable</code>. But if the constructor has parameters that are not properties, applying <code>@Serializable</code> results in a compilation error."}],"answers":[{"tags":[],"owner":{"account_id":92486,"reputation":45185,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659901648,"creation_date":1659901648,"answer_id":73270569,"question_id":71195651,"body_markdown":"`kotlinx.serialization` doesn&#39;t use reflection, it&#39;s a compiler plugin so they have full access to the source code / AST, where it&#39;s an easy check if the `val` is in the constructor (physically). \r\n\r\nIf you look at the decompiled versions of your example classes you can see that there&#39;s not much difference:\r\n[![enter image description here][1]][1]\r\n\r\nThose some bits in `d1` (data1) might be just what you need.\r\nI tried to have a glance at the structures in the [metadata library](https://github.com/JetBrains/kotlin/blob/master/libraries/kotlinx-metadata/jvm/ReadMe.md), but nothing significant stood out as helpful.\r\n\r\nEven if metadata is not helping, not all hope is lost, you can consider using a third party tool (which has access to AST) as the regulator. e.g. a simple Detekt rule might do the job. Or if you want to stick to first party Kotlin, a compiler plugin.\r\n\r\n  [1]: https://i.stack.imgur.com/iwvu3.png","title":"Using Kotlin reflection how to determine which constructor parameters were given as `val`?","body":"<p><code>kotlinx.serialization</code> doesn't use reflection, it's a compiler plugin so they have full access to the source code / AST, where it's an easy check if the <code>val</code> is in the constructor (physically).</p>\n<p>If you look at the decompiled versions of your example classes you can see that there's not much difference:\n<a href=\"https://i.stack.imgur.com/iwvu3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iwvu3.png\" alt=\"enter image description here\" /></a></p>\n<p>Those some bits in <code>d1</code> (data1) might be just what you need.\nI tried to have a glance at the structures in the <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/kotlinx-metadata/jvm/ReadMe.md\" rel=\"nofollow noreferrer\">metadata library</a>, but nothing significant stood out as helpful.</p>\n<p>Even if metadata is not helping, not all hope is lost, you can consider using a third party tool (which has access to AST) as the regulator. e.g. a simple Detekt rule might do the job. Or if you want to stick to first party Kotlin, a compiler plugin.</p>\n"}],"owner":{"account_id":16204777,"reputation":1,"user_id":11700241,"display_name":"brmaleo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659901648,"creation_date":1645369087,"question_id":71195651,"body_markdown":"### Simple case A (no problem here)\r\n\r\n```kotlin\r\nclass A(val title: String)\r\n```\r\n\r\nFor instance `a`, we will get the parameters list from `a.javaClass.kotlin.primaryConstructor!!.valueParameters`.\r\n\r\n### Simple case B (no problem here)\r\n\r\n```kotlin \r\nclass B(titleRaw: String) {             // no val\r\n  val titleFinal = titleRaw.uppercase() // the property has different name\r\n}\r\n```\r\n\r\nWe can determine that the `titleRaw` parameter does not create a property because there is no `titleRaw` property on the object.  We will use [valueParameters](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/value-parameters.html) and [memberProperties](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/member-properties.html) to detect that.\r\n\r\n### Difficult case:\r\n\r\n```kotlin \r\nclass C(title: String) {        // no val\r\n  val title = title.uppercase() // property with the same name\r\n}\r\n```\r\n\r\nHow to detect that the `title` property does not return the value of the `title` parameter?\r\n\r\n\r\n### A little background\r\n\r\nHaving an instance of a class, I want to know what constructor argument values it was instantiated with. If that&#39;s not possible (the primary constructor takes arguments that aren&#39;t properties), I&#39;d like to throw an exception.","title":"Using Kotlin reflection how to determine which constructor parameters were given as `val`?","body":"<h3>Simple case A (no problem here)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class A(val title: String)\n</code></pre>\n<p>For instance <code>a</code>, we will get the parameters list from <code>a.javaClass.kotlin.primaryConstructor!!.valueParameters</code>.</p>\n<h3>Simple case B (no problem here)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class B(titleRaw: String) {             // no val\n  val titleFinal = titleRaw.uppercase() // the property has different name\n}\n</code></pre>\n<p>We can determine that the <code>titleRaw</code> parameter does not create a property because there is no <code>titleRaw</code> property on the object.  We will use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/value-parameters.html\" rel=\"nofollow noreferrer\">valueParameters</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/member-properties.html\" rel=\"nofollow noreferrer\">memberProperties</a> to detect that.</p>\n<h3>Difficult case:</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class C(title: String) {        // no val\n  val title = title.uppercase() // property with the same name\n}\n</code></pre>\n<p>How to detect that the <code>title</code> property does not return the value of the <code>title</code> parameter?</p>\n<h3>A little background</h3>\n<p>Having an instance of a class, I want to know what constructor argument values it was instantiated with. If that's not possible (the primary constructor takes arguments that aren't properties), I'd like to throw an exception.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":103415,"reputation":35168,"user_id":276994,"accept_rate":100,"display_name":"Vlad"},"score":0,"creation_date":1289375279,"post_id":4142239,"comment_id":4467648,"body_markdown":"See this question: http://stackoverflow.com/questions/985151/how-to-present-the-nullable-primitive-type-int-in-java","body":"See this question: <a href=\"http://stackoverflow.com/questions/985151/how-to-present-the-nullable-primitive-type-int-in-java\" title=\"how to present the nullable primitive type int in java\">stackoverflow.com/questions/985151/&hellip;</a>"},{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":0,"creation_date":1289376114,"post_id":4142239,"comment_id":4467747,"body_markdown":"Since i can never be &quot;&quot; or null, there is no need to check for that. What do you want to check exactly?","body":"Since i can never be &quot;&quot; or null, there is no need to check for that. What do you want to check exactly?"},{"owner":{"account_id":163634,"reputation":3944,"user_id":385900,"accept_rate":82,"display_name":"Mohsin Sheikh Khalid"},"score":0,"creation_date":1289376261,"post_id":4142239,"comment_id":4467771,"body_markdown":"@Grodriguez: hope my edit answers you.","body":"@Grodriguez: hope my edit answers you."},{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":1,"creation_date":1289378382,"post_id":4142239,"comment_id":4468108,"body_markdown":"@Moshin: Then what you have is not (yet) an int. Probably it is a String instead. An int cannot be &quot;empty&quot;.","body":"@Moshin: Then what you have is not (yet) an int. Probably it is a String instead. An int cannot be &quot;empty&quot;."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1289380559,"post_id":4142239,"comment_id":4468415,"body_markdown":"Your question embodies a contradiction in terms and is therefore meaningless. Please try again.","body":"Your question embodies a contradiction in terms and is therefore meaningless. Please try again."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1289375329,"creation_date":1289375329,"answer_id":4142258,"question_id":4142239,"body_markdown":"compiler never speak un-truth .\r\n\r\nint can&#39;t hold so there is no need to check for  `&quot;&quot;` or `null`","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>compiler never speak un-truth .</p>\n\n<p>int can't hold so there is no need to check for  <code>\"\"</code> or <code>null</code></p>\n"},{"tags":[],"owner":{"account_id":219702,"reputation":13051,"user_id":476747,"accept_rate":97,"display_name":"Mudassir"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1289375433,"creation_date":1289375433,"answer_id":4142266,"question_id":4142239,"body_markdown":"You should check &quot;i!=0&quot;, &quot;i!=-1&quot; or any other which better suits your requirements.","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>You should check \"i!=0\", \"i!=-1\" or any other which better suits your requirements.</p>\n"},{"tags":[],"owner":{"account_id":191795,"reputation":2085,"user_id":432580,"accept_rate":85,"display_name":"DaJackal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289375469,"creation_date":1289375469,"answer_id":4142269,"question_id":4142239,"body_markdown":"int data type holds an integer, so you can&#39;t compare it with a string or null. This is a compiler error","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>int data type holds an integer, so you can't compare it with a string or null. This is a compiler error</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289375545,"creation_date":1289375545,"answer_id":4142279,"question_id":4142239,"body_markdown":"If you have a value different than the integer range, then use the wrapper type `Integer` - it has an additional value - `null`. So you will be able to do: `if (i != null) {..}`\r\n\r\nHowever it is rarely advisable to use a wrapper type just for  the sake of having a special `null` value. You can use `Integer.MAX_VALUE` as a default value.","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>If you have a value different than the integer range, then use the wrapper type <code>Integer</code> - it has an additional value - <code>null</code>. So you will be able to do: <code>if (i != null) {..}</code></p>\n\n<p>However it is rarely advisable to use a wrapper type just for  the sake of having a special <code>null</code> value. You can use <code>Integer.MAX_VALUE</code> as a default value.</p>\n"},{"tags":[],"owner":{"account_id":2557,"reputation":8008,"user_id":3570,"display_name":"Christoph Metzendorf"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1289375747,"creation_date":1289375747,"answer_id":4142299,"question_id":4142239,"body_markdown":"The only two possibilities I can think of:\r\n\r\n- Depending on the valid range of values for your variable, initialize it with a value like &quot;0&quot; or &quot;-1&quot; to mark it as unused/empty.\r\n\r\n- You could use java.lang.Integer instead and only instantiate it passing the int value, if you actually use it. However, if your variable changes a lot, this will lead to a lot of object creations, as the Integer objects are immutable by default. Thus, every change of value leads to a new Integer object that needs to be created.","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>The only two possibilities I can think of:</p>\n\n<ul>\n<li><p>Depending on the valid range of values for your variable, initialize it with a value like \"0\" or \"-1\" to mark it as unused/empty.</p></li>\n<li><p>You could use java.lang.Integer instead and only instantiate it passing the int value, if you actually use it. However, if your variable changes a lot, this will lead to a lot of object creations, as the Integer objects are immutable by default. Thus, every change of value leads to a new Integer object that needs to be created.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289375779,"creation_date":1289375779,"answer_id":4142302,"question_id":4142239,"body_markdown":" - int accepts a range of whole number\r\n   values \r\n - &quot;&quot; is a String, not an int.\r\n - null is used for references not ints\r\n   (or other primitives).\r\n\r\nThe real question is why do you want to do such a comparison?","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<ul>\n<li>int accepts a range of whole number\nvalues </li>\n<li>\"\" is a String, not an int.</li>\n<li>null is used for references not ints\n(or other primitives).</li>\n</ul>\n\n<p>The real question is why do you want to do such a comparison?</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1289375789,"creation_date":1289375789,"answer_id":4142303,"question_id":4142239,"body_markdown":"If you need/expect the &quot;`null`-state&quot; for integer values then you&#39;ll have to use the wrapper class:\r\n\r\n    Integer maybeNull = getValueFromDatabase();\r\n    if (mybeNull != null) {\r\n      int i = maybeNull;  // outboxing, works with Java 1.5+\r\n    } else {\r\n      // column value on database was `NULL`\r\n    }\r\n     ","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>If you need/expect the \"<code>null</code>-state\" for integer values then you'll have to use the wrapper class:</p>\n\n<pre><code>Integer maybeNull = getValueFromDatabase();\nif (mybeNull != null) {\n  int i = maybeNull;  // outboxing, works with Java 1.5+\n} else {\n  // column value on database was `NULL`\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289380332,"creation_date":1289380332,"answer_id":4142812,"question_id":4142239,"body_markdown":"Create a `Nullable` class a la C#.\r\n\r\n    class Nullable&lt;A&gt; {\r\n      private A value = null;\r\n\r\n      private Nullable(A value) {\r\n        this.value = value;\r\n      }\r\n\r\n      public static &lt;A&gt; Nullable&lt;A&gt; withValue(A value) {\r\n        return new Nullable&lt;A&gt;(value);\r\n      }\r\n\r\n      public static &lt;A&gt; Nullable&lt;A&gt; empty() {\r\n        return new Nullable&lt;A&gt;(null);\r\n      }\r\n\r\n      public boolean hasValue() {\r\n        return value != null;\r\n      }\r\n\r\n      public A getValue() {\r\n        return value;\r\n      }\r\n\r\n      public void setValue(A value) {\r\n        this.value = value;\r\n      }      \r\n\r\n      // Implement toString, equals, hashCode etc.\r\n    }\r\n\r\nand then use it as:\r\n\r\n    Nullable&lt;Integer&gt; ix = Nullable.&lt;Integer&gt;empty();\r\n    if(ix.hasValue()) {\r\n      int i = ix.getValue();\r\n      // do operations with i \r\n    } else {\r\n      // handle the &#39;null&#39; case\r\n    }","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>Create a <code>Nullable</code> class a la C#.</p>\n\n<pre><code>class Nullable&lt;A&gt; {\n  private A value = null;\n\n  private Nullable(A value) {\n    this.value = value;\n  }\n\n  public static &lt;A&gt; Nullable&lt;A&gt; withValue(A value) {\n    return new Nullable&lt;A&gt;(value);\n  }\n\n  public static &lt;A&gt; Nullable&lt;A&gt; empty() {\n    return new Nullable&lt;A&gt;(null);\n  }\n\n  public boolean hasValue() {\n    return value != null;\n  }\n\n  public A getValue() {\n    return value;\n  }\n\n  public void setValue(A value) {\n    this.value = value;\n  }      \n\n  // Implement toString, equals, hashCode etc.\n}\n</code></pre>\n\n<p>and then use it as:</p>\n\n<pre><code>Nullable&lt;Integer&gt; ix = Nullable.&lt;Integer&gt;empty();\nif(ix.hasValue()) {\n  int i = ix.getValue();\n  // do operations with i \n} else {\n  // handle the 'null' case\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1289381115,"creation_date":1289381115,"answer_id":4142913,"question_id":4142239,"body_markdown":"You can use the Integer wrapper class for such comparisons. Otherwise the primitive int, if as a class field, defaults to 0 if not specified otherwise.","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>You can use the Integer wrapper class for such comparisons. Otherwise the primitive int, if as a class field, defaults to 0 if not specified otherwise.</p>\n"},{"tags":[],"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1289381211,"creation_date":1289381211,"answer_id":4142927,"question_id":4142239,"body_markdown":"You want to see if a value was submitted for the parameter, but you&#39;re putting it in a primitive type.  That&#39;s not possible.\r\n\r\nI&#39;m assuming you&#39;re using some kind of framework to communicate with the other server.  If the value you receive from the framework is already an int, it will always have a value.  The framework will have defaulted it for you (the value will probably be zero then).\r\n\r\nYou need a framework that will give you an Integer, not an int.  In that case, it will give you null if no value was given.\r\n\r\nThere is no way to check if an int has no value on your side, since an int cannot have &#39;no value&#39;.","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>You want to see if a value was submitted for the parameter, but you're putting it in a primitive type.  That's not possible.</p>\n\n<p>I'm assuming you're using some kind of framework to communicate with the other server.  If the value you receive from the framework is already an int, it will always have a value.  The framework will have defaulted it for you (the value will probably be zero then).</p>\n\n<p>You need a framework that will give you an Integer, not an int.  In that case, it will give you null if no value was given.</p>\n\n<p>There is no way to check if an int has no value on your side, since an int cannot have 'no value'.</p>\n"},{"tags":[],"owner":{"account_id":163634,"reputation":3944,"user_id":385900,"accept_rate":82,"display_name":"Mohsin Sheikh Khalid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1289456200,"creation_date":1289456200,"answer_id":4151843,"question_id":4142239,"body_markdown":"Thank you all for your good insights, they all were infromative and helpful. What was happening in my scenario was that the input i was getting was a string whihc unfortunately i did not know yet so now i just compare that String to &quot;&quot; and check for the empty condition and if there is a value i convert it back to int. :)","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>Thank you all for your good insights, they all were infromative and helpful. What was happening in my scenario was that the input i was getting was a string whihc unfortunately i did not know yet so now i just compare that String to \"\" and check for the empty condition and if there is a value i convert it back to int. :)</p>\n"},{"tags":[],"owner":{"account_id":7541339,"reputation":181,"user_id":5725819,"display_name":"Ranajit Sawant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507890467,"creation_date":1507890467,"answer_id":46727795,"question_id":4142239,"body_markdown":"if you facing problem of \r\n&lt; operator != not applied to long and int &gt;\r\nSimply using long on your right side \r\nie value!= 1L\r\nthats it..","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>if you facing problem of \n&lt; operator != not applied to long and int >\nSimply using long on your right side \nie value!= 1L\nthats it..</p>\n"},{"tags":[],"owner":{"account_id":5091200,"reputation":103,"user_id":4084207,"accept_rate":75,"display_name":"naut92"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519313708,"creation_date":1519313708,"answer_id":48931304,"question_id":4142239,"body_markdown":"cast to int/long help me on .jsp - page:\r\n\r\n    &lt;%if ((long)request.getAttribute(&quot;amount&quot;) != 0) {\r\n          out.println(request.getAttribute(&quot;amount&quot;));}\r\n      else {out.println(payments.getAmount());}%&gt;","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>cast to int/long help me on .jsp - page:</p>\n\n<pre><code>&lt;%if ((long)request.getAttribute(\"amount\") != 0) {\n      out.println(request.getAttribute(\"amount\"));}\n  else {out.println(payments.getAmount());}%&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22111302,"reputation":1,"user_id":16366139,"display_name":"Artem Postol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625233691,"creation_date":1625233691,"answer_id":68226306,"question_id":4142239,"body_markdown":"Try to use Integer instead of int\r\n\r\n    Integer value = 2; \r\n    value \r\n\r\n","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>Try to use Integer instead of int</p>\n<pre><code>Integer value = 2; \nvalue \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23463597,"reputation":21,"user_id":17518141,"display_name":"vhg2901"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659900415,"creation_date":1659495149,"answer_id":73215814,"question_id":4142239,"body_markdown":"    if(Long.valueOf(your number) != null){\r\n      some analyze\r\n    }","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<pre><code>if(Long.valueOf(your number) != null){\n  some analyze\n}\n</code></pre>\n"}],"owner":{"account_id":163634,"reputation":3944,"user_id":385900,"accept_rate":82,"display_name":"Mohsin Sheikh Khalid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50888,"favorite_count":0,"down_vote_count":3,"up_vote_count":11,"accepted_answer_id":4151843,"answer_count":15,"score":8,"last_activity_date":1659900415,"creation_date":1289375165,"question_id":4142239,"body_markdown":"As we know int is a primitive data type and cannot be null.\r\n In my program i want to do a condition check like int i != &quot;&quot; but it says operator != cannot be applied to int,null.\r\n\r\nAny solution?\r\n\r\nEDIT:\r\n\t\r\nI already know that it cannot hold these two things i was trying to present my requiremnet for checking the parameter i am getting from another server if it has recived some value or if its empty. ","title":"How to handle “int i != &quot;&quot;” or “int i != null” statements in Java?","body":"<p>As we know int is a primitive data type and cannot be null.\n In my program i want to do a condition check like int i != \"\" but it says operator != cannot be applied to int,null.</p>\n\n<p>Any solution?</p>\n\n<p>EDIT:</p>\n\n<p>I already know that it cannot hold these two things i was trying to present my requiremnet for checking the parameter i am getting from another server if it has recived some value or if its empty. </p>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1659747738,"post_id":73256336,"comment_id":129375471,"body_markdown":"That error is telling you that `bClass.method` isn&#39;t calling `aClass.method` at all.  As to why not, I guess you&#39;d have to show us the code for `ClassB` before anyone can tell you that.","body":"That error is telling you that <code>bClass.method</code> isn&#39;t calling <code>aClass.method</code> at all.  As to why not, I guess you&#39;d have to show us the code for <code>ClassB</code> before anyone can tell you that."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659776955,"post_id":73256336,"comment_id":129378780,"body_markdown":"maybe this can help you: https://stackoverflow.com/questions/20551926/exception-mockito-wanted-but-not-invoked-actually-there-were-zero-interaction","body":"maybe this can help you: <a href=\"https://stackoverflow.com/questions/20551926/exception-mockito-wanted-but-not-invoked-actually-there-were-zero-interaction\" title=\"exception mockito wanted but not invoked actually there were zero interaction\">stackoverflow.com/questions/20551926/&hellip;</a>"},{"owner":{"account_id":25803802,"reputation":21,"user_id":19545691,"display_name":"Mary Sanderson"},"score":0,"creation_date":1659898342,"post_id":73256336,"comment_id":129399032,"body_markdown":"@PaulMarcelinBejan thank you! tried all the suggestions but still didnt work :(","body":"@PaulMarcelinBejan thank you! tried all the suggestions but still didnt work :("},{"owner":{"account_id":25803802,"reputation":21,"user_id":19545691,"display_name":"Mary Sanderson"},"score":0,"creation_date":1659898395,"post_id":73256336,"comment_id":129399047,"body_markdown":"@DawoodibnKareem I gave as much details as was relevant -- mocking isn&#39;t about the code, its about the setup of tests","body":"@DawoodibnKareem I gave as much details as was relevant -- mocking isn&#39;t about the code, its about the setup of tests"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659899498,"post_id":73256336,"comment_id":129399244,"body_markdown":"I had a similar issue when I use “when” for the first time. Essentially it is trying to say that the test you did, didn’t call methodA, maybe for some if condition. So you have to chenge the input, to be able to reach the line where the methodA is called, or remove the when part.","body":"I had a similar issue when I use “when” for the first time. Essentially it is trying to say that the test you did, didn’t call methodA, maybe for some if condition. So you have to chenge the input, to be able to reach the line where the methodA is called, or remove the when part."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1659906767,"post_id":73256336,"comment_id":129400658,"body_markdown":"Thanks, Mary, I know what mocking is (kind of why I&#39;m currently the all-time highest-scoring provider of answers in the Mockito tag).  But like I said, that message means that in your application code, the method of `bClass` isn&#39;t calling the method in `aClass`.  That means you&#39;ve either failed to inject the `aClass` object properly into the `bClass` object, or that your code simply doesn&#39;t call `aClass.method`.  Now you&#39;ve shown the code for `ClassB` (and assuming you&#39;ve shown it accurately), it looks like the problem might be the former.  Maybe there&#39;s a problem in the `ClassB` constructor.","body":"Thanks, Mary, I know what mocking is (kind of why I&#39;m currently the all-time highest-scoring provider of answers in the Mockito tag).  But like I said, that message means that in your application code, the method of <code>bClass</code> isn&#39;t calling the method in <code>aClass</code>.  That means you&#39;ve either failed to inject the <code>aClass</code> object properly into the <code>bClass</code> object, or that your code simply doesn&#39;t call <code>aClass.method</code>.  Now you&#39;ve shown the code for <code>ClassB</code> (and assuming you&#39;ve shown it accurately), it looks like the problem might be the former.  Maybe there&#39;s a problem in the <code>ClassB</code> constructor."}],"owner":{"account_id":25803802,"reputation":21,"user_id":19545691,"display_name":"Mary Sanderson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659899792,"creation_date":1659745035,"question_id":73256336,"body_markdown":"I&#39;m a bit new to mocking, but I have a class (lets call it ClassA) with methods including one that returns a put response after sending an item to a database. \r\n\r\nThis class is called in another class (lets say ClassB), but classB&#39;s methods do not return the response from ClassA. \r\n\r\nGiven the following structure for ClassA and ClassB:\r\n\r\n    private final DatabaseClientFactory dbClientFactory;\r\n    private final DatabaseClient dbClient; \r\n    ... other instance vars ...\r\n    public ClassA() {\r\n        ClassA(new ..params, new dbClientFactory());\r\n    }\r\n    \r\n    public ClassA(...some parameters ... DatabaseClientFactory dbClientFactory) {\r\n        ....\r\n        this.dbClientFactory = dbClientFactory;\r\n        this.dbClient = this.dbClientFactory.get(); \r\n    }\r\n    \r\n    public PutResponse methodA() {\r\n        ...\r\n        dbClient.put(...);\r\n    }\r\n\r\nand ClassB: \r\n\r\n    public ClassB(...some params..., ClassA aClass) {\r\n    \r\n    }\r\n    public void methodB() {\r\n        aClass.methodA();\r\n        ...more random code\r\n    }\r\n\r\nI&#39;ve tried to set up the mock equivalent to this logic: \r\n\r\n    public class classBTest {\r\n        @Mock\r\n        private ClassA aClass = new ClassA();\r\n        private ClassB bClass; \r\n        public void setUp() throws IOException {    \r\n            MockitoAnnotations.initMocks(this);\r\n            bClass = spy(ClassB(aClass));\r\n        @Test\r\n        public void test() throws Exception {\r\n            bClass.methodB(); \r\n           when(aClass.methodA(any())).thenReturn(PutResponse.newBuilder().build());\r\n            verify(aClass, Mockito.times(1)).methodA(any());\r\n        }\r\n\r\nI kept getting an error that \r\n\r\n    Wanted but not invoked:\r\n    aClass.methodA(&lt;any&gt;);\r\n    Actually, there were zero interactions with this mock.\r\n\r\nSo I tried a few things\r\nI tried changing the constructor call of bClass to be `bClass = spy(ClassB(mock(ClassA.class)))`\r\n\r\nI tried adding             `when(classA.methodA(any())).thenReturn(PutResponse.newBuilder().build());`\r\n to the setUp method.\r\n\r\nI tried setting up spy on an instance of ClassA, with mocked parameters\r\n\r\nI tried using @InjectMocks but ended up with a null pointer exception. \r\n\r\nBut now I&#39;m stuck\r\n\r\nAny suggestions? \r\n\r\n*Note that ClassA has an empty constructor by default\r\n\r\n\r\n","title":"No interactions with mock in unit test - java","body":"<p>I'm a bit new to mocking, but I have a class (lets call it ClassA) with methods including one that returns a put response after sending an item to a database.</p>\n<p>This class is called in another class (lets say ClassB), but classB's methods do not return the response from ClassA.</p>\n<p>Given the following structure for ClassA and ClassB:</p>\n<pre><code>private final DatabaseClientFactory dbClientFactory;\nprivate final DatabaseClient dbClient; \n... other instance vars ...\npublic ClassA() {\n    ClassA(new ..params, new dbClientFactory());\n}\n\npublic ClassA(...some parameters ... DatabaseClientFactory dbClientFactory) {\n    ....\n    this.dbClientFactory = dbClientFactory;\n    this.dbClient = this.dbClientFactory.get(); \n}\n\npublic PutResponse methodA() {\n    ...\n    dbClient.put(...);\n}\n</code></pre>\n<p>and ClassB:</p>\n<pre><code>public ClassB(...some params..., ClassA aClass) {\n\n}\npublic void methodB() {\n    aClass.methodA();\n    ...more random code\n}\n</code></pre>\n<p>I've tried to set up the mock equivalent to this logic:</p>\n<pre><code>public class classBTest {\n    @Mock\n    private ClassA aClass = new ClassA();\n    private ClassB bClass; \n    public void setUp() throws IOException {    \n        MockitoAnnotations.initMocks(this);\n        bClass = spy(ClassB(aClass));\n    @Test\n    public void test() throws Exception {\n        bClass.methodB(); \n       when(aClass.methodA(any())).thenReturn(PutResponse.newBuilder().build());\n        verify(aClass, Mockito.times(1)).methodA(any());\n    }\n</code></pre>\n<p>I kept getting an error that</p>\n<pre><code>Wanted but not invoked:\naClass.methodA(&lt;any&gt;);\nActually, there were zero interactions with this mock.\n</code></pre>\n<p>So I tried a few things\nI tried changing the constructor call of bClass to be <code>bClass = spy(ClassB(mock(ClassA.class)))</code></p>\n<p>I tried adding             <code>when(classA.methodA(any())).thenReturn(PutResponse.newBuilder().build());</code>\nto the setUp method.</p>\n<p>I tried setting up spy on an instance of ClassA, with mocked parameters</p>\n<p>I tried using @InjectMocks but ended up with a null pointer exception.</p>\n<p>But now I'm stuck</p>\n<p>Any suggestions?</p>\n<p>*Note that ClassA has an empty constructor by default</p>\n"},{"tags":["java","eclipse","maven","jakarta-ee","jdbc"],"comments":[{"owner":{"account_id":369663,"reputation":6649,"user_id":717181,"accept_rate":100,"display_name":"Luceos"},"score":0,"creation_date":1429609703,"post_id":29768566,"comment_id":47667951,"body_markdown":"the error says you miss the mysql jdbc driver; you probably need to install that","body":"the error says you miss the mysql jdbc driver; you probably need to install that"},{"owner":{"account_id":5649873,"reputation":944,"user_id":4470880,"accept_rate":70,"display_name":"flofreelance"},"score":0,"creation_date":1429609807,"post_id":29768566,"comment_id":47668027,"body_markdown":"Yes but on my another computer I didn&#39;t need to install the mysql jdbc driver, maven did it.","body":"Yes but on my another computer I didn&#39;t need to install the mysql jdbc driver, maven did it."}],"answers":[{"tags":[],"owner":{"account_id":4283508,"reputation":36,"user_id":3502113,"display_name":"Sarang Kane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1429610472,"creation_date":1429609719,"answer_id":29768636,"question_id":29768566,"body_markdown":"Is the path where maven is downloading these jars for you added to your classpath? You can add the jar file downloaded by Maven to your eclipse project by selecting the project in eclipse, right click it and go down to properties, select the Java Build Path&gt;&gt;select the Libraries Tab&gt;&gt;Add external jar file and browse for the installed mysql-connector-java.jar file","title":"mysql connector with maven: java.lang.NoClassDefFoundError: com/mysql/jdbc/Driver","body":"<p>Is the path where maven is downloading these jars for you added to your classpath? You can add the jar file downloaded by Maven to your eclipse project by selecting the project in eclipse, right click it and go down to properties, select the Java Build Path>>select the Libraries Tab>>Add external jar file and browse for the installed mysql-connector-java.jar file</p>\n"},{"tags":[],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659899732,"creation_date":1659899732,"answer_id":73270354,"question_id":29768566,"body_markdown":"Maybe it is a little late, but I had this problem even I added mysql dependency in pom.xml. I was using IntelliJ and when I did the following step:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nthis problem disappeared. \r\n\r\n  [1]: https://i.stack.imgur.com/lZWsY.png","title":"mysql connector with maven: java.lang.NoClassDefFoundError: com/mysql/jdbc/Driver","body":"<p>Maybe it is a little late, but I had this problem even I added mysql dependency in pom.xml. I was using IntelliJ and when I did the following step:</p>\n<p><a href=\"https://i.stack.imgur.com/lZWsY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZWsY.png\" alt=\"enter image description here\" /></a></p>\n<p>this problem disappeared.</p>\n"}],"owner":{"account_id":5649873,"reputation":944,"user_id":4470880,"accept_rate":70,"display_name":"flofreelance"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29768636,"answer_count":2,"score":2,"last_activity_date":1659899732,"creation_date":1429609539,"question_id":29768566,"body_markdown":"I&#39;ve a Java EE maven project on a computer which works fine, I&#39;ve import the project on another computer but when I launch a page I have the following error:\r\n\r\n&gt;  java.lang.NoClassDefFoundError: com/mysql/jdbc/Driver\r\n\r\nThe mysql-connector is installed via maven:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;5.1.30&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nI don&#39;t know what to do. Thanks for your help.","title":"mysql connector with maven: java.lang.NoClassDefFoundError: com/mysql/jdbc/Driver","body":"<p>I've a Java EE maven project on a computer which works fine, I've import the project on another computer but when I launch a page I have the following error:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: com/mysql/jdbc/Driver</p>\n</blockquote>\n\n<p>The mysql-connector is installed via maven:</p>\n\n<pre><code>&lt;dependency&gt;\n          &lt;groupId&gt;mysql&lt;/groupId&gt;\n          &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n          &lt;version&gt;5.1.30&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I don't know what to do. Thanks for your help.</p>\n"},{"tags":["java","string","java-8"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1699815293,"post_id":73258062,"comment_id":136575668,"body_markdown":"What prevents you from using a library like snmp4j?","body":"What prevents you from using a library like snmp4j?"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1659899267,"creation_date":1659774752,"answer_id":73258323,"question_id":73258062,"body_markdown":"You could use a regex employing capturing groups to extract the bits where to an OID is associated a value or no value at all. \r\n\r\nThe first capturing group extracts the OID (just to use it later when printing the results). The second capturing group identifies either the `No Such Instance...` case or the corresponding value. Finally, the third and fourth capturing groups respectively grab the value associated and the no-such-instance string. \r\n\r\nThe presence of a fourth capturing group can be used to determine whether an OID has no instance associated or not. In case the fourth capturing group is null, then a value is associated and this can be read by referencing the third group.\r\n\r\nHere is an implementation of the regex:\r\n\r\n```\r\nSNMPv2-SMI::enterprises.([\\d*.]+)\\s+=\\s+(.*?:(.*)|(.*))\r\n```\r\n\r\nHere is a link to test the regex:\r\n\r\nhttps://regex101.com/r/y4FX6a/1\r\n\r\nHere is a possible implementation:\r\n\r\n```\r\nString test = &quot;SNMPv2-SMI::enterprises.232.6.2.17.2.1.5.0.1 = INTEGER: 1\\n&quot; +\r\n        &quot;SNMPv2-SMI::enterprises.232.6.2.17.2.1.5.0 = No Such Instance currently exists at this OID\\n&quot; +\r\n        &quot;SNMPv2-SMI::enterprises.1.3.6.1.2.1.1.3.0 = Timeticks: (157736000) 18 days, 6:09:20.00&quot;;\r\n\r\nPattern pattern = Pattern.compile(&quot;SNMPv2-SMI::enterprises.([\\\\d*.]+)\\\\s+=\\\\s+(.*?:(.*)|(.*))&quot;);\r\nMatcher matcher = pattern.matcher(test);\r\n\r\nwhile (matcher.find()) {\r\n    //Checking if the fourth capturing group exists (no value associated)\r\n    if (matcher.group(4) != null) {\r\n        System.out.println(matcher.group(1) + &quot; =&gt; &quot; + matcher.group(4).trim());\r\n    } else {\r\n        //Otherwise if a match with pattern &#39;something:value&#39; is found, then the third capturing group with only the value is returned\r\n        System.out.println(matcher.group(1) + &quot; =&gt; &quot; + matcher.group(3).trim());\r\n    }\r\n}\r\n```\r\n\r\nHere is a link to test the code above:\r\n\r\nhttps://www.jdoodle.com/iembed/v0/tLd\r\n\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\n232.6.2.17.2.1.5.0.1 =&gt; 1\r\n232.6.2.17.2.1.5.0 =&gt; No Such Instance currently exists at this OID\r\n1.3.6.1.2.1.1.3.0 =&gt; (157736000) 18 days, 6:09:20.00\r\n```","title":"How to extract the result of the snmpwalk and snmpgetnext,snmpget command in NET-SNMP using java?","body":"<p>You could use a regex employing capturing groups to extract the bits where to an OID is associated a value or no value at all.</p>\n<p>The first capturing group extracts the OID (just to use it later when printing the results). The second capturing group identifies either the <code>No Such Instance...</code> case or the corresponding value. Finally, the third and fourth capturing groups respectively grab the value associated and the no-such-instance string.</p>\n<p>The presence of a fourth capturing group can be used to determine whether an OID has no instance associated or not. In case the fourth capturing group is null, then a value is associated and this can be read by referencing the third group.</p>\n<p>Here is an implementation of the regex:</p>\n<pre><code>SNMPv2-SMI::enterprises.([\\d*.]+)\\s+=\\s+(.*?:(.*)|(.*))\n</code></pre>\n<p>Here is a link to test the regex:</p>\n<p><a href=\"https://regex101.com/r/y4FX6a/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/y4FX6a/1</a></p>\n<p>Here is a possible implementation:</p>\n<pre><code>String test = &quot;SNMPv2-SMI::enterprises.232.6.2.17.2.1.5.0.1 = INTEGER: 1\\n&quot; +\n        &quot;SNMPv2-SMI::enterprises.232.6.2.17.2.1.5.0 = No Such Instance currently exists at this OID\\n&quot; +\n        &quot;SNMPv2-SMI::enterprises.1.3.6.1.2.1.1.3.0 = Timeticks: (157736000) 18 days, 6:09:20.00&quot;;\n\nPattern pattern = Pattern.compile(&quot;SNMPv2-SMI::enterprises.([\\\\d*.]+)\\\\s+=\\\\s+(.*?:(.*)|(.*))&quot;);\nMatcher matcher = pattern.matcher(test);\n\nwhile (matcher.find()) {\n    //Checking if the fourth capturing group exists (no value associated)\n    if (matcher.group(4) != null) {\n        System.out.println(matcher.group(1) + &quot; =&gt; &quot; + matcher.group(4).trim());\n    } else {\n        //Otherwise if a match with pattern 'something:value' is found, then the third capturing group with only the value is returned\n        System.out.println(matcher.group(1) + &quot; =&gt; &quot; + matcher.group(3).trim());\n    }\n}\n</code></pre>\n<p>Here is a link to test the code above:</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/tLd\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/tLd</a></p>\n<h4>Output</h4>\n<pre><code>232.6.2.17.2.1.5.0.1 =&gt; 1\n232.6.2.17.2.1.5.0 =&gt; No Such Instance currently exists at this OID\n1.3.6.1.2.1.1.3.0 =&gt; (157736000) 18 days, 6:09:20.00\n</code></pre>\n"}],"owner":{"account_id":1677301,"reputation":2224,"user_id":1542523,"accept_rate":66,"display_name":"flower"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73258323,"answer_count":1,"score":1,"last_activity_date":1659899267,"creation_date":1659772209,"question_id":73258062,"body_markdown":"When using snmpgetnext, snmpget command, I can get the total result only one row. The result is \r\n\r\n`SNMPv2-SMI::enterprises.232.6.2.17.2.1.5.0.1 = INTEGER: 1` \r\n\r\nor \r\n\r\n`SNMPv2-SMI::enterprises.232.6.2.17.2.1.5.0 = No Such Instance currently exists at this OID`. \r\n\r\nHow can I get the real result like `1` or `No Such Instance currently exists at this OID`? Also, Why people have told me that using regex isn&#39;t good for this?\r\n\r\nWhen using snmpwalk, it returns many rows. I want the `map&lt;oid,reuslt&gt;` like `&lt;1.3.6.1.4.1.2352.2.4.1.4.1.3.18.1,36&gt;`. I think the question may be the same with snmpgetnext.\r\n\r\n    snmpwalk -v 2c -c testro 172.0.0.1 -On .1.3.6.1.4.1.2352.2.4.1.4.1.3\r\n    .1.3.6.1.4.1.2352.2.4.1.4.1.3.18.1 = Gauge32: 36\r\n    .1.3.6.1.4.1.2352.2.4.1.4.1.3.31.1 = Gauge32: 35\r\n    .1.3.6.1.4.1.2352.2.4.1.4.1.3.36.1 = Gauge32: 35","title":"How to extract the result of the snmpwalk and snmpgetnext,snmpget command in NET-SNMP using java?","body":"<p>When using snmpgetnext, snmpget command, I can get the total result only one row. The result is</p>\n<p><code>SNMPv2-SMI::enterprises.232.6.2.17.2.1.5.0.1 = INTEGER: 1</code></p>\n<p>or</p>\n<p><code>SNMPv2-SMI::enterprises.232.6.2.17.2.1.5.0 = No Such Instance currently exists at this OID</code>.</p>\n<p>How can I get the real result like <code>1</code> or <code>No Such Instance currently exists at this OID</code>? Also, Why people have told me that using regex isn't good for this?</p>\n<p>When using snmpwalk, it returns many rows. I want the <code>map&lt;oid,reuslt&gt;</code> like <code>&lt;1.3.6.1.4.1.2352.2.4.1.4.1.3.18.1,36&gt;</code>. I think the question may be the same with snmpgetnext.</p>\n<pre><code>snmpwalk -v 2c -c testro 172.0.0.1 -On .1.3.6.1.4.1.2352.2.4.1.4.1.3\n.1.3.6.1.4.1.2352.2.4.1.4.1.3.18.1 = Gauge32: 36\n.1.3.6.1.4.1.2352.2.4.1.4.1.3.31.1 = Gauge32: 35\n.1.3.6.1.4.1.2352.2.4.1.4.1.3.36.1 = Gauge32: 35\n</code></pre>\n"},{"tags":["java","android","android-fragments","onbackpressed"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659898292,"creation_date":1659898292,"answer_id":73270185,"question_id":73269652,"body_markdown":"If you&#39;re using the *Navigation* library, when you create an `action` that navigates you to *Fragment 6*, [you can use the `popUpTo` attribute][1] to clear the backstack up to *Fragment 1*. That way, when you go to *6*, hitting the back button will take you to *1*.\r\n\r\n----\r\n\r\nIf you&#39;re [doing things by hand with `FragmentTransaction`s][2], when you `add` *Fragment 1* to the container you should call `addToBackStack(&quot;Fragment 1&quot;)` (or some other name to represent that state, &quot;top level&quot; or something). Then you can use [`popBackStack(&quot;Fragment 1&quot;, 0)`][3] to undo any transactions that happened after that, basically walking back to where you displayed *Fragment 1*.\r\n\r\nIf you&#39;re doing that, you&#39;ll have to intercept the back button handling in *Fragment 6* so you can call that `popBackStack` method, instead of just letting it pop the top state off. [Here&#39;s how you&#39;re meant to handle that][4].\r\n\r\nAnother thing you could try is doing the `popBackStack` call inside the `FragmentTransaction` that goes from *5* to *6*, popping everything back to *1* before you `add` *Fragment 6* and then call `addToBackStack` (so you&#39;re basically backtracking to *1*, then adding one step that takes you to *6*, so there&#39;s only one step back to *1*). I haven&#39;t tried that, but it should work I think!\r\n\r\nIt&#39;s honestly a lot easier to just use the *Navigation* library, it takes care of this kind of wrangling for you\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-navigate#pop\r\n  [2]: https://developer.android.com/guide/fragments/fragmentmanager#perform\r\n  [3]: https://developer.android.com/reference/androidx/fragment/app/FragmentManager#popBackStack(java.lang.String,int)\r\n  [4]: https://developer.android.com/guide/navigation/navigation-custom-back","title":"How can i Skip fragments when going D to A on backpressed?","body":"<p>If you're using the <em>Navigation</em> library, when you create an <code>action</code> that navigates you to <em>Fragment 6</em>, <a href=\"https://developer.android.com/guide/navigation/navigation-navigate#pop\" rel=\"nofollow noreferrer\">you can use the <code>popUpTo</code> attribute</a> to clear the backstack up to <em>Fragment 1</em>. That way, when you go to <em>6</em>, hitting the back button will take you to <em>1</em>.</p>\n<hr />\n<p>If you're <a href=\"https://developer.android.com/guide/fragments/fragmentmanager#perform\" rel=\"nofollow noreferrer\">doing things by hand with <code>FragmentTransaction</code>s</a>, when you <code>add</code> <em>Fragment 1</em> to the container you should call <code>addToBackStack(&quot;Fragment 1&quot;)</code> (or some other name to represent that state, &quot;top level&quot; or something). Then you can use <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentManager#popBackStack(java.lang.String,int)\" rel=\"nofollow noreferrer\"><code>popBackStack(&quot;Fragment 1&quot;, 0)</code></a> to undo any transactions that happened after that, basically walking back to where you displayed <em>Fragment 1</em>.</p>\n<p>If you're doing that, you'll have to intercept the back button handling in <em>Fragment 6</em> so you can call that <code>popBackStack</code> method, instead of just letting it pop the top state off. <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back\" rel=\"nofollow noreferrer\">Here's how you're meant to handle that</a>.</p>\n<p>Another thing you could try is doing the <code>popBackStack</code> call inside the <code>FragmentTransaction</code> that goes from <em>5</em> to <em>6</em>, popping everything back to <em>1</em> before you <code>add</code> <em>Fragment 6</em> and then call <code>addToBackStack</code> (so you're basically backtracking to <em>1</em>, then adding one step that takes you to <em>6</em>, so there's only one step back to <em>1</em>). I haven't tried that, but it should work I think!</p>\n<p>It's honestly a lot easier to just use the <em>Navigation</em> library, it takes care of this kind of wrangling for you</p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73270185,"answer_count":1,"score":0,"last_activity_date":1659898292,"creation_date":1659893665,"question_id":73269652,"body_markdown":"Hey I am working on an application where I m using 6 fragments now when on the back button I want to skip all the other fragments like when I am on the 6th fragment(the last fragment) and the user presses the back button I want to go to fragment one directly without going through the other fragments\r\nlike 6-&gt;1. \r\nI am new to android please guide me on how can I achieve that.","title":"How can i Skip fragments when going D to A on backpressed?","body":"<p>Hey I am working on an application where I m using 6 fragments now when on the back button I want to skip all the other fragments like when I am on the 6th fragment(the last fragment) and the user presses the back button I want to go to fragment one directly without going through the other fragments\nlike 6-&gt;1.\nI am new to android please guide me on how can I achieve that.</p>\n"},{"tags":["java","nullpointerexception","null"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1659675265,"post_id":73244726,"comment_id":129355143,"body_markdown":"Which line is line 61 in file `TermAdapter.java` ? According to the stack trace you posted it is in method `onBindViewHolder`.","body":"Which line is line 61 in file <code>TermAdapter.java</code> ? According to the stack trace you posted it is in method <code>onBindViewHolder</code>."},{"owner":{"account_id":25983268,"reputation":1,"user_id":19696566,"display_name":"edweird"},"score":0,"creation_date":1659765479,"post_id":73244726,"comment_id":129377122,"body_markdown":"Line 61 is holder.termItemView.setText(name); \n\nin this block:\n     @Override\n    public void onBindViewHolder(@NonNull TermAdapter.TermViewHolder holder, int position) {\n        if(mTerms!=null){\n            Terms current=mTerms.get(position);\n            String name= current.getTermName();\n            holder.termItemView.setText(name);","body":"Line 61 is holder.termItemView.setText(name);   in this block:      @Override     public void onBindViewHolder(@NonNull TermAdapter.TermViewHolder holder, int position) {         if(mTerms!=null){             Terms current=mTerms.get(position);             String name= current.getTermName();             holder.termItemView.setText(name);"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1659766389,"post_id":73244726,"comment_id":129377231,"body_markdown":"You should [edit] your question and indicate the line throwing the `NullPointerException`. Question details should be in the question and not in comments to the question. That said, the cause of the exception is apparently due to either `holder` being null or `holder.termItemView` being null. Can you debug your code to check which one is null? Alternatively, method `setText` may throw `NullPointerException` if its method argument is null. Can you check the source code of method `setText` to verify? And if so, then check whether `name` is null.","body":"You should <a href=\"https://stackoverflow.com/posts/73244726/edit\">edit</a> your question and indicate the line throwing the <code>NullPointerException</code>. Question details should be in the question and not in comments to the question. That said, the cause of the exception is apparently due to either <code>holder</code> being null or <code>holder.termItemView</code> being null. Can you debug your code to check which one is null? Alternatively, method <code>setText</code> may throw <code>NullPointerException</code> if its method argument is null. Can you check the source code of method <code>setText</code> to verify? And if so, then check whether <code>name</code> is null."}],"owner":{"account_id":25983268,"reputation":1,"user_id":19696566,"display_name":"edweird"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659898122,"creation_date":1659674211,"question_id":73244726,"body_markdown":"Receiving this error:\r\n```none\r\n2022-08-04 21:01:08.374\r\n9858-9858/com.erample.myapplication E/AndroidRuntime: FATAL EXCEPTION:\r\nmain\r\n    Process: com.erample.myapplication, PID: 9858\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n        at com.erample.myapplication.ui.TermAdapter.onBindViewHolder(TermAdapter.java:61)\r\n        at com.erample.myapplication.ui.TermAdapter.onBindViewHolder(TermAdapter.java:18)\r\n```\r\n----------------------\r\n```java\r\npublic class TermAdapter extends RecyclerView.Adapter&lt;TermAdapter.TermViewHolder&gt; {\r\n    class TermViewHolder extends RecyclerView.ViewHolder{\r\n        private final TextView termItemView;\r\n        private TermViewHolder(View itemView){\r\n            super(itemView);\r\n            termItemView=itemView.findViewById(R.id.term_detail_Term_Name);\r\n            itemView.setOnClickListener(new View.OnClickListener(){\r\n\r\n                @Override\r\n                public void onClick(View view) {\r\n                    int position=getAdapterPosition();\r\n                    final Terms current=mTerms.get(position);\r\n                    Intent intent=new Intent(context, CourseList.class);\r\n                    intent.putExtra(&quot;termID&quot;, current.getTermID());\r\n                    intent.putExtra(&quot;termName&quot;, current.getTermName());\r\n                    intent.putExtra(&quot;termYear&quot;, current.getTermYear());\r\n                    intent.putExtra(&quot;termStartDate&quot;, current.getTermStartDate());\r\n                    intent.putExtra(&quot;termEndDate&quot;, current.getTermEndDate());\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    private List&lt;Terms&gt; mTerms;\r\n    private final Context context;\r\n    private final LayoutInflater mInflater;\r\n    public TermAdapter(Context context){\r\n        mInflater=LayoutInflater.from(context);\r\n        this.context=context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TermAdapter.TermViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView=mInflater.inflate(R.layout.term_list_item,parent, false);\r\n        return new TermViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TermAdapter.TermViewHolder holder, int position) {\r\n        if(mTerms!=null){\r\n            Terms current=mTerms.get(position);\r\n            String name= current.getTermName();\r\n            holder.termItemView.setText(name);\r\n        }\r\n        else {\r\n            holder.termItemView.setText(&quot;No term name&quot;);\r\n        }\r\n    }\r\n    public void setTerms(List&lt;Terms&gt; terms){\r\n        mTerms=terms;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        if(mTerms!=null){\r\n            return mTerms.size();\r\n            }\r\n        else return 0;\r\n    }\r\n}\r\n```\r\nThe `findViewById(R.id.term_detail_Term_Name);` is pulling from here: \r\n\r\n        &lt;LinearLayout\r\n        android:id=&quot;@+id/termLinearLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/term_detail_Term_Name&quot;\r\n            android:layout_width=&quot;225dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:text=&quot;@string/term_name&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/term_detail_Term_Year&quot;\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:text=&quot;@string/term_year&quot;\r\n            android:textAlignment=&quot;textEnd&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;@+id/term_detail_Term_Name&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;parent&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nUsually - there could be a disconnect between the Java and XML files - but both of those are named the same. \r\n\r\nI&#39;m not sure what I&#39;m missing - and all of this is like a language from another whole planet for me.  Any help is appreciated. I&#39;ve looked through a bunch of similar tickets - and checked the connections between the find by ID and the XML ID.\r\n\r\nAdditional Context: \r\nLine 61 is holder.termItemView.setText(name); in this block: `@Override public void onBindViewHolder(@NonNull TermAdapter.TermViewHolder holder, int position) { if(mTerms!=null){ Terms current=mTerms.get(position); String name= current.getTermName(); holder.termItemView.setText(name);` \r\n\r\n","title":"Receiving a NullPointerException Error in a Java App in Android Studio, cannot see problem with id","body":"<p>Receiving this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-08-04 21:01:08.374\n9858-9858/com.erample.myapplication E/AndroidRuntime: FATAL EXCEPTION:\nmain\n    Process: com.erample.myapplication, PID: 9858\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at com.erample.myapplication.ui.TermAdapter.onBindViewHolder(TermAdapter.java:61)\n        at com.erample.myapplication.ui.TermAdapter.onBindViewHolder(TermAdapter.java:18)\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class TermAdapter extends RecyclerView.Adapter&lt;TermAdapter.TermViewHolder&gt; {\n    class TermViewHolder extends RecyclerView.ViewHolder{\n        private final TextView termItemView;\n        private TermViewHolder(View itemView){\n            super(itemView);\n            termItemView=itemView.findViewById(R.id.term_detail_Term_Name);\n            itemView.setOnClickListener(new View.OnClickListener(){\n\n                @Override\n                public void onClick(View view) {\n                    int position=getAdapterPosition();\n                    final Terms current=mTerms.get(position);\n                    Intent intent=new Intent(context, CourseList.class);\n                    intent.putExtra(&quot;termID&quot;, current.getTermID());\n                    intent.putExtra(&quot;termName&quot;, current.getTermName());\n                    intent.putExtra(&quot;termYear&quot;, current.getTermYear());\n                    intent.putExtra(&quot;termStartDate&quot;, current.getTermStartDate());\n                    intent.putExtra(&quot;termEndDate&quot;, current.getTermEndDate());\n                    context.startActivity(intent);\n                }\n            });\n        }\n    }\n    private List&lt;Terms&gt; mTerms;\n    private final Context context;\n    private final LayoutInflater mInflater;\n    public TermAdapter(Context context){\n        mInflater=LayoutInflater.from(context);\n        this.context=context;\n    }\n\n    @NonNull\n    @Override\n    public TermAdapter.TermViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView=mInflater.inflate(R.layout.term_list_item,parent, false);\n        return new TermViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull TermAdapter.TermViewHolder holder, int position) {\n        if(mTerms!=null){\n            Terms current=mTerms.get(position);\n            String name= current.getTermName();\n            holder.termItemView.setText(name);\n        }\n        else {\n            holder.termItemView.setText(&quot;No term name&quot;);\n        }\n    }\n    public void setTerms(List&lt;Terms&gt; terms){\n        mTerms=terms;\n        notifyDataSetChanged();\n    }\n\n    @Override\n    public int getItemCount() {\n        if(mTerms!=null){\n            return mTerms.size();\n            }\n        else return 0;\n    }\n}\n</code></pre>\n<p>The <code>findViewById(R.id.term_detail_Term_Name);</code> is pulling from here:</p>\n<pre><code>    &lt;LinearLayout\n    android:id=&quot;@+id/termLinearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/term_detail_Term_Name&quot;\n        android:layout_width=&quot;225dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:text=&quot;@string/term_name&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/term_detail_Term_Year&quot;\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:text=&quot;@string/term_year&quot;\n        android:textAlignment=&quot;textEnd&quot;\n        app:layout_constraintRight_toRightOf=&quot;@+id/term_detail_Term_Name&quot;\n        app:layout_constraintTop_toBottomOf=&quot;parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Usually - there could be a disconnect between the Java and XML files - but both of those are named the same.</p>\n<p>I'm not sure what I'm missing - and all of this is like a language from another whole planet for me.  Any help is appreciated. I've looked through a bunch of similar tickets - and checked the connections between the find by ID and the XML ID.</p>\n<p>Additional Context:\nLine 61 is holder.termItemView.setText(name); in this block: <code>@Override public void onBindViewHolder(@NonNull TermAdapter.TermViewHolder holder, int position) { if(mTerms!=null){ Terms current=mTerms.get(position); String name= current.getTermName(); holder.termItemView.setText(name);</code></p>\n"},{"tags":["java","oop","generics"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1658018096,"post_id":73008359,"comment_id":128947320,"body_markdown":"3 is not actually possible.  2 is as good as it gets.","body":"3 is not actually possible.  2 is as good as it gets."},{"owner":{"account_id":18415799,"reputation":107,"user_id":13414786,"display_name":"Ankit"},"score":0,"creation_date":1658021494,"post_id":73008359,"comment_id":128947624,"body_markdown":"@LouisWasserman why wouldn’t 3 work. Seems good to me","body":"@LouisWasserman why wouldn’t 3 work. Seems good to me"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1658024057,"post_id":73008359,"comment_id":128947816,"body_markdown":"3 doesn&#39;t work because generics don&#39;t work that way.  You can&#39;t have a Class N and then use N in your generics.","body":"3 doesn&#39;t work because generics don&#39;t work that way.  You can&#39;t have a Class N and then use N in your generics."},{"owner":{"account_id":18415799,"reputation":107,"user_id":13414786,"display_name":"Ankit"},"score":0,"creation_date":1658030724,"post_id":73008359,"comment_id":128948299,"body_markdown":"@LouisWasserman I think you misunderstood what I said... when I said &quot;genericize the methods&quot; I mean the method calls as well. So for public &lt;N&gt; N getNum(E e){...} the method call would be PAInstance.&lt;N&gt;getNum(e1); Do you agree that this should work?","body":"@LouisWasserman I think you misunderstood what I said... when I said &quot;genericize the methods&quot; I mean the method calls as well. So for public &lt;N&gt; N getNum(E e){...} the method call would be PAInstance.&lt;N&gt;getNum(e1); Do you agree that this should work?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1658031234,"post_id":73008359,"comment_id":128948331,"body_markdown":"It loses all type safety, because you can&#39;t stop your callers from writing `CompletelyUnrelated num = PAInstance.getNum(e1)`, which then throws a `ClassCastException` at runtime.  That makes it...arguably worse than option 1, which will at least tell you that you have to cast and give you the warning that it&#39;s unsafe.  Option 3 will just appear to be safe when it&#39;s absolutely not.","body":"It loses all type safety, because you can&#39;t stop your callers from writing <code>CompletelyUnrelated num = PAInstance.getNum(e1)</code>, which then throws a <code>ClassCastException</code> at runtime.  That makes it...arguably worse than option 1, which will at least tell you that you have to cast and give you the warning that it&#39;s unsafe.  Option 3 will just appear to be safe when it&#39;s absolutely not."},{"owner":{"account_id":18415799,"reputation":107,"user_id":13414786,"display_name":"Ankit"},"score":0,"creation_date":1658032549,"post_id":73008359,"comment_id":128948435,"body_markdown":"@LouisWasserman fair enough, didn&#39;t notice that.","body":"@LouisWasserman fair enough, didn&#39;t notice that."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1658032683,"post_id":73008359,"comment_id":128948448,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246502/discussion-between-louis-wasserman-and-ankit).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246502/discussion-between-louis-wasserman-and-ankit\">continue this discussion in chat</a>."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1658036159,"post_id":73008359,"comment_id":128948845,"body_markdown":"This question is a bit odd - the code as pasted in this question isn&#39;t java. It has all sorts of syntax errors. Yet, the question isn&#39;t about these errors. So, did write out some code just for this question and it&#39;s not the actual code that caused the question? That&#39;s.. usually a bad idea, best to go with the _actual_ code. It&#39;s everywhere - `new` is not a valid method name, `public PA&lt;E&gt;()` is not how you write a constructor, `PA&lt;E&gt;(a, b);` is not how you invoke another constructor, `c` is not legal in `new PA&lt;E,c&gt;`, `ent.c` is even weirder.","body":"This question is a bit odd - the code as pasted in this question isn&#39;t java. It has all sorts of syntax errors. Yet, the question isn&#39;t about these errors. So, did write out some code just for this question and it&#39;s not the actual code that caused the question? That&#39;s.. usually a bad idea, best to go with the <i>actual</i> code. It&#39;s everywhere - <code>new</code> is not a valid method name, <code>public PA&lt;E&gt;()</code> is not how you write a constructor, <code>PA&lt;E&gt;(a, b);</code> is not how you invoke another constructor, <code>c</code> is not legal in <code>new PA&lt;E,c&gt;</code>, <code>ent.c</code> is even weirder."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1658036210,"post_id":73008359,"comment_id":128948848,"body_markdown":"I think you&#39;ve taken a few steps too far: You&#39;re making all sorts of incorrect assumptions about what generics are and how they work, and based on this tower of incorrect assumptions you&#39;re asking questions. Perhaps start with making these snippets a basic test project; the cavalcade of errors will help clarify matters. If it it doesn&#39;t - all these errors make it really hard to try to give meaningful answers here.","body":"I think you&#39;ve taken a few steps too far: You&#39;re making all sorts of incorrect assumptions about what generics are and how they work, and based on this tower of incorrect assumptions you&#39;re asking questions. Perhaps start with making these snippets a basic test project; the cavalcade of errors will help clarify matters. If it it doesn&#39;t - all these errors make it really hard to try to give meaningful answers here."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1658036259,"post_id":73008359,"comment_id":128948856,"body_markdown":"NB: class `javax.ws.rs.core.GenericType` is a red herring. It will not help here, at all.","body":"NB: class <code>javax.ws.rs.core.GenericType</code> is a red herring. It will not help here, at all."},{"owner":{"account_id":18415799,"reputation":107,"user_id":13414786,"display_name":"Ankit"},"score":0,"creation_date":1659898640,"post_id":73008359,"comment_id":129399098,"body_markdown":"@rzwitserloot I&#39;m not sure if your comment is serious or not... to quote my original post, &quot;Essentially I&#39;m trying to do something like [The example code you are referring to].&quot; I am well aware that you can&#39;t put a Class variable to declare a generic type. So yes there will be errors; if I didn&#39;t have errors why would I post online asking for help?","body":"@rzwitserloot I&#39;m not sure if your comment is serious or not... to quote my original post, &quot;Essentially I&#39;m trying to do something like [The example code you are referring to].&quot; I am well aware that you can&#39;t put a Class variable to declare a generic type. So yes there will be errors; if I didn&#39;t have errors why would I post online asking for help?"}],"answers":[{"tags":[],"owner":{"account_id":18415799,"reputation":107,"user_id":13414786,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659897515,"creation_date":1659897515,"answer_id":73270091,"question_id":73008359,"body_markdown":"Figured out an answer to my question... thought I&#39;d post an answer in case anyone else runs into the same issue.\r\n\r\nIt&#39;s similar to idea 4, aka using .create() methods that call private constuctors. \r\n\r\n``` java\r\nclass PA&lt;E , N extends Number&gt;{\r\n    public static &lt;D&gt; PA create(Function enc, D ... elements){\r\n    \treturn create2(enc, elements[0], enc.apply(elements[0]), elements);\r\n    }\r\n    public static &lt;D&gt; PA create(D ... elements){\r\n    \tFunction enc = defaultEncryptor(elements[0]);\r\n    \treturn create2(enc, elements[0], enc.apply(elements[0]), elements);\r\n    } \r\n    private static &lt;D, M&gt; PA create2(Function f, D eUseless, M nUseless, E ... elements){\r\n        return new PA&lt;D,M&gt;(f, eUseless, nUseless, elements)\r\n    }\r\n    private &lt;E,N&gt;PolyArray(Function f, E eUseless, N nUseless, E ... elements){ \r\n        // constructor stuff\r\n    }\r\n\r\n\r\n\r\n    public static &lt;D&gt; Function defaultEncryptor(F e0){\r\n        if(e0 instanceof Number) return ( e -&gt; e );\r\n        if(e0 instanceof Character) return ( e -&gt; (Character.getNumericValue((char) e)) );\r\n\r\n        //etc... other defaults not shown.\r\n        System.err.println(&quot;There is currently no default converter for the number type provided.&quot;\r\n\t\t\t\t+ &quot; This will probably cause errors later in the code.&quot;\r\n\t\t\t\t+ &quot; Use the create(Function encryptor, D... elements) method.&quot;);\r\n\r\n        return null;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nSo basically I use D &amp; M to &quot;initialize&quot; E &amp; N. The programmer doesn&#39;t need to put the defaultEncryptedType (aka N) in angle brackets (aka &lt;&gt;) because the create &amp; create2 methods will assume the types from the parameters eUseless &amp; nUseless. ","title":"Declaring generic type mid-class (not in header) in java, possibly through GenericType class","body":"<p>Figured out an answer to my question... thought I'd post an answer in case anyone else runs into the same issue.</p>\n<p>It's similar to idea 4, aka using .create() methods that call private constuctors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PA&lt;E , N extends Number&gt;{\n    public static &lt;D&gt; PA create(Function enc, D ... elements){\n        return create2(enc, elements[0], enc.apply(elements[0]), elements);\n    }\n    public static &lt;D&gt; PA create(D ... elements){\n        Function enc = defaultEncryptor(elements[0]);\n        return create2(enc, elements[0], enc.apply(elements[0]), elements);\n    } \n    private static &lt;D, M&gt; PA create2(Function f, D eUseless, M nUseless, E ... elements){\n        return new PA&lt;D,M&gt;(f, eUseless, nUseless, elements)\n    }\n    private &lt;E,N&gt;PolyArray(Function f, E eUseless, N nUseless, E ... elements){ \n        // constructor stuff\n    }\n\n\n\n    public static &lt;D&gt; Function defaultEncryptor(F e0){\n        if(e0 instanceof Number) return ( e -&gt; e );\n        if(e0 instanceof Character) return ( e -&gt; (Character.getNumericValue((char) e)) );\n\n        //etc... other defaults not shown.\n        System.err.println(&quot;There is currently no default converter for the number type provided.&quot;\n                + &quot; This will probably cause errors later in the code.&quot;\n                + &quot; Use the create(Function encryptor, D... elements) method.&quot;);\n\n        return null;\n    }\n\n\n}\n</code></pre>\n<p>So basically I use D &amp; M to &quot;initialize&quot; E &amp; N. The programmer doesn't need to put the defaultEncryptedType (aka N) in angle brackets (aka &lt;&gt;) because the create &amp; create2 methods will assume the types from the parameters eUseless &amp; nUseless.</p>\n"}],"owner":{"account_id":18415799,"reputation":107,"user_id":13414786,"display_name":"Ankit"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73270091,"answer_count":1,"score":-1,"last_activity_date":1659897515,"creation_date":1658015227,"question_id":73008359,"body_markdown":"Basically I have a `class PA&lt;E&gt; extends ArrayList&lt;E&gt;`\r\n\r\nThis class creates a numerical code (using any subclass of Number) for the instance of type E, and uses said numerical code to keep the ArrayList sorted when more elements are added/removed. It has some default encryption (creating a paired numerical code) functions, but allows programmers to input their own encryption function using lambda if needed. It should be noted that this is gonna be part of a &quot;library&quot; for other programmers to use... its not a stand alone software.\r\n\r\nThe issue is that some methods/data structures in the PA class have a return type and/or parameter specific to the instance of the subclass of Number being used, and I can&#39;t figure out a way to keep this variable type the same. Essentially I&#39;m trying to do something like this:\r\n\r\n``` java\r\nclass PA&lt;E&gt; extends ArrayList&lt;E&gt;{\r\n    final GenType N; //GenType class does not exist to my knowledege. This is what I&#39;m looking for.\r\n    final Function encrypt;\r\n    ArrayList numList;\r\n    Hashtable numTable;\r\n    public PA&lt;E&gt;(E ... elements){\r\n        EncryptAndType ent = defaultENT(elements[0]);\r\n        PA&lt;E&gt;(ent.e, ent.n, elements);\r\n    }\r\n    public PA&lt;E&gt;(Function e; Class n, E ... elements){\r\n        encrypt = e;\r\n        N = new GenType(n); // &lt;-- initializing code-defined-generic\r\n        numList = new ArrayList&lt;N&gt;(); // &lt;-- ArrayList with code-defined-generic\r\n        numTable = new Hashtable&lt;N, E&gt;(); // &lt;-- Hashtable with code-defined-generic\r\n        for(E i : elements){\r\n            N enc = encypt.apply(i); // &lt;-- variables of code-defined-generic type\r\n            if(size()==0) {\r\n                super.add(i);\r\n                numList.add(enc);\r\n                numTable.put(enc, i);\r\n                continue;\r\n            }\r\n            //insert by sorting... code not shown\r\n        }\r\n    }\r\n    public N getNum(E el){ // method returning code-defined-generic type\r\n        return encrypt.apply(el);\r\n    }\r\n    public EncryptAndType defaultENT(E e0){\r\n        if(e0 instanceof Number) return new EncryptAndType(new Function&lt;E,E.getClass()&gt;( e -&gt; e ), E.getClass());\r\n        if(e0 instanceof Character) return new EncryptAndType(new Function&lt;E,Integer&gt;( e -&gt; Integer.parseInt(e) ), Integer);\r\n        //etc... other defaults not shown.\r\n    }\r\n\r\n}\r\nclass EncryptAndType {\r\n    final Function e;\r\n    final Class n;\r\n    public EncryptAndType(Function f, Class t){\r\n        e = f; \r\n        n = t;\r\n    } \r\n}\r\n```\r\n\r\nI found this [Class GenericType\\&lt;T\\&gt;](https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/GenericType.html#getType--) on JavaDocs that says\r\n \r\n&gt; &quot;Represents a generic message entity type T. Supports in-line instantiation of objects that represent generic types with actual type parameters. An object that represents any parameterized type may be obtained by sub-classing GenericType. Alternatively, an object representing a concrete parameterized type can be created using a GenericType(java.lang.reflect.Type) and manually specifying the actual (parameterized) type.&quot;\r\n\r\nI think this can be used, but the JavaDocs doesn&#39;t give me any idea how to implement it and I cannot find any articles/tutorials online. I believe it should be similar to the code I provided above but am not entirely sure.\r\n\r\n\r\nHere are some other solutions I&#39;ve already thought of but believe would be suboptimal:\r\n\r\n\r\n1. instead of N use Wildcards, Number class or Object class\r\n\r\nThis defeats the whole purpose of generics, requires constant casting, makes it irritating to use class specific methods, etc. I&#39;m really against doing this.\r\n\r\n2. Two generics for PA (ie `class PA&lt;E,N&gt; extends ArrayList&lt;E&gt;`)\r\n\r\nThis is suboptimal as the programmer, if using a default encrypt-function, either has to know the return type of the default encrypt-function or has to do `new PA&lt;E,PA.defaultENT().n&gt;` which is doable, but people would constantly forget this &amp; it would be annoying. I&#39;m not 100% against this, but would prefer a better solution if possible. \r\n\r\n3. Change `final GenType N;` to `final Class N;` and genericize (is that a word? lol) all methods (ie: `public &lt;N&gt; void methodName`)\r\n\r\nIt mostly solves the problem with Opt#2, its just that theres gonna be 30ish methods with multiple calls to each other and this would become repetitive, easy to forget and annoying. Again, not 100% against this, but prefer a better solution.\r\n\r\n4. Make both constructors private, `PA&lt;E, N extends Number&gt;` and create .new() methods:\r\n``` java\r\npublic static &lt;E&gt; PA new(Function f, Class c, E ... e){\r\n    return new PA&lt;E,c&gt;(f,c,e);\r\n}\r\npublic static &lt;E&gt; PA new(E ... e){\r\n    EncryptAndType ent = defaultENT(elements[0]);\r\n    return new PA&lt;E, ent.c&gt;(ent.e, ent.c, elements);\r\n}\r\n```\r\n\r\nI like this the best out of my workarounds so far, the issue is it may be weird for a programmer to not use a constructor to create instances. \r\n","title":"Declaring generic type mid-class (not in header) in java, possibly through GenericType class","body":"<p>Basically I have a <code>class PA&lt;E&gt; extends ArrayList&lt;E&gt;</code></p>\n<p>This class creates a numerical code (using any subclass of Number) for the instance of type E, and uses said numerical code to keep the ArrayList sorted when more elements are added/removed. It has some default encryption (creating a paired numerical code) functions, but allows programmers to input their own encryption function using lambda if needed. It should be noted that this is gonna be part of a &quot;library&quot; for other programmers to use... its not a stand alone software.</p>\n<p>The issue is that some methods/data structures in the PA class have a return type and/or parameter specific to the instance of the subclass of Number being used, and I can't figure out a way to keep this variable type the same. Essentially I'm trying to do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PA&lt;E&gt; extends ArrayList&lt;E&gt;{\n    final GenType N; //GenType class does not exist to my knowledege. This is what I'm looking for.\n    final Function encrypt;\n    ArrayList numList;\n    Hashtable numTable;\n    public PA&lt;E&gt;(E ... elements){\n        EncryptAndType ent = defaultENT(elements[0]);\n        PA&lt;E&gt;(ent.e, ent.n, elements);\n    }\n    public PA&lt;E&gt;(Function e; Class n, E ... elements){\n        encrypt = e;\n        N = new GenType(n); // &lt;-- initializing code-defined-generic\n        numList = new ArrayList&lt;N&gt;(); // &lt;-- ArrayList with code-defined-generic\n        numTable = new Hashtable&lt;N, E&gt;(); // &lt;-- Hashtable with code-defined-generic\n        for(E i : elements){\n            N enc = encypt.apply(i); // &lt;-- variables of code-defined-generic type\n            if(size()==0) {\n                super.add(i);\n                numList.add(enc);\n                numTable.put(enc, i);\n                continue;\n            }\n            //insert by sorting... code not shown\n        }\n    }\n    public N getNum(E el){ // method returning code-defined-generic type\n        return encrypt.apply(el);\n    }\n    public EncryptAndType defaultENT(E e0){\n        if(e0 instanceof Number) return new EncryptAndType(new Function&lt;E,E.getClass()&gt;( e -&gt; e ), E.getClass());\n        if(e0 instanceof Character) return new EncryptAndType(new Function&lt;E,Integer&gt;( e -&gt; Integer.parseInt(e) ), Integer);\n        //etc... other defaults not shown.\n    }\n\n}\nclass EncryptAndType {\n    final Function e;\n    final Class n;\n    public EncryptAndType(Function f, Class t){\n        e = f; \n        n = t;\n    } \n}\n</code></pre>\n<p>I found this <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/GenericType.html#getType--\" rel=\"nofollow noreferrer\">Class GenericType&lt;T&gt;</a> on JavaDocs that says</p>\n<blockquote>\n<p>&quot;Represents a generic message entity type T. Supports in-line instantiation of objects that represent generic types with actual type parameters. An object that represents any parameterized type may be obtained by sub-classing GenericType. Alternatively, an object representing a concrete parameterized type can be created using a GenericType(java.lang.reflect.Type) and manually specifying the actual (parameterized) type.&quot;</p>\n</blockquote>\n<p>I think this can be used, but the JavaDocs doesn't give me any idea how to implement it and I cannot find any articles/tutorials online. I believe it should be similar to the code I provided above but am not entirely sure.</p>\n<p>Here are some other solutions I've already thought of but believe would be suboptimal:</p>\n<ol>\n<li>instead of N use Wildcards, Number class or Object class</li>\n</ol>\n<p>This defeats the whole purpose of generics, requires constant casting, makes it irritating to use class specific methods, etc. I'm really against doing this.</p>\n<ol start=\"2\">\n<li>Two generics for PA (ie <code>class PA&lt;E,N&gt; extends ArrayList&lt;E&gt;</code>)</li>\n</ol>\n<p>This is suboptimal as the programmer, if using a default encrypt-function, either has to know the return type of the default encrypt-function or has to do <code>new PA&lt;E,PA.defaultENT().n&gt;</code> which is doable, but people would constantly forget this &amp; it would be annoying. I'm not 100% against this, but would prefer a better solution if possible.</p>\n<ol start=\"3\">\n<li>Change <code>final GenType N;</code> to <code>final Class N;</code> and genericize (is that a word? lol) all methods (ie: <code>public &lt;N&gt; void methodName</code>)</li>\n</ol>\n<p>It mostly solves the problem with Opt#2, its just that theres gonna be 30ish methods with multiple calls to each other and this would become repetitive, easy to forget and annoying. Again, not 100% against this, but prefer a better solution.</p>\n<ol start=\"4\">\n<li>Make both constructors private, <code>PA&lt;E, N extends Number&gt;</code> and create .new() methods:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;E&gt; PA new(Function f, Class c, E ... e){\n    return new PA&lt;E,c&gt;(f,c,e);\n}\npublic static &lt;E&gt; PA new(E ... e){\n    EncryptAndType ent = defaultENT(elements[0]);\n    return new PA&lt;E, ent.c&gt;(ent.e, ent.c, elements);\n}\n</code></pre>\n<p>I like this the best out of my workarounds so far, the issue is it may be weird for a programmer to not use a constructor to create instances.</p>\n"},{"tags":["java","spring-boot","unit-testing","testing","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":16127437,"reputation":181,"user_id":11641908,"display_name":"gunel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659896944,"creation_date":1659896944,"answer_id":73270023,"question_id":73269758,"body_markdown":"Adding  spring-test dependency solved the issue:\r\ntestImplementation group: &#39;org.springframework&#39;, name: &#39;spring-test&#39;, version: &#39;5.3.8&#39;","title":"java.lang.NoClassDefFoundError: org/springframework/test/context/TestContextAnnotationUtils in SOAP web service test","body":"<p>Adding  spring-test dependency solved the issue:\ntestImplementation group: 'org.springframework', name: 'spring-test', version: '5.3.8'</p>\n"}],"owner":{"account_id":16127437,"reputation":181,"user_id":11641908,"display_name":"gunel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2678,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659896944,"creation_date":1659894433,"question_id":73269758,"body_markdown":"I have generated SOAP web service in spring boot and the endpoint works fine.\r\nThen I added some test for that endpoint and I get the following error stack while running the test:\r\n```\r\n\r\n21:33:51.263 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [ms.template.XohksMxControllerTest]: class path resource [ms/template/XohksMxControllerTest-context.xml] does not exist\r\n21:33:51.264 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [ms.template.XohksMxControllerTest]: class path resource [ms/template/XohksMxControllerTestContext.groovy] does not exist\r\n21:33:51.264 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [ms.template.XohksMxControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n\r\njava.lang.NoClassDefFoundError: org/springframework/test/context/TestContextAnnotationUtils\r\n\r\n\tat org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory.createContextCustomizer(OverrideAutoConfigurationContextCustomizerFactory.java:41)\r\n\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.getContextCustomizers(AbstractTestContextBootstrapper.java:404)\r\n\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:376)\r\n\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:294)\r\n\tat org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:108)\r\n\tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:101)\r\n\tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:137)\r\n\tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:122)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:151)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:142)\r\n\tat org.springframework.test.context.junit4.SpringRunner.&lt;init&gt;(SpringRunner.java:49)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\r\n\tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:37)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\r\n\tat org.junit.internal.requests.ClassRequest.createRunner(ClassRequest.java:28)\r\n\tat org.junit.internal.requests.MemoizingRequest.getRunner(MemoizingRequest.java:19)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:50)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.test.context.TestContextAnnotationUtils\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 26 more\r\n\r\n\r\nProcess finished with exit code -1\r\n\r\n\r\n```\r\n\r\n** The dependencies that I use are the following:**\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &quot;2.3.4.RELEASE&quot;\r\n    id &#39;io.spring.dependency-management&#39; version &quot;1.0.10.RELEASE&quot;\r\n    id &#39;java&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;checkstyle&#39;\r\n}\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web-services&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &quot;junit:junit:4.13\r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml&#39;\r\n   \r\n    implementation &quot;org.glassfish.jaxb:jaxb-runtime:4.0.0&quot;\r\n    implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n    implementation group: &#39;wsdl4j&#39;, name: &#39;wsdl4j&#39;, version: &#39;1.6.2&#39;\r\n    implementation group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39;\r\n    implementation group: &#39;javax.activation&#39;, name: &#39;activation&#39;, version: &#39;1.1.1&#39;\r\n    implementation group: &#39;com.sun.xml.bind&#39;, name: &#39;jaxb-impl&#39;, version: &#39;2.3.1&#39;\r\n    implementation group: &#39;com.jcraft&#39;, name: &#39;jsch&#39;, version: &#39;0.1.44-1&#39;\r\n\r\n    jaxb &quot;org.glassfish.jaxb:jaxb-xjc:4.0.0&quot;\r\n    jaxb &quot;org.glassfish.jaxb:jaxb-runtime:4.0.0&quot;\r\n\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n\r\n    testCompile group: &#39;org.powermock&#39;, name: &#39;powermock-api-mockito2&#39;, version: &quot;2.0.7&quot;\r\n    testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-test-autoconfigure&#39;, version: &#39;2.6.5&#39;\r\n    testImplementation group: &#39;org.springframework.ws&#39;, name: &#39;spring-ws-test&#39;, version: &#39;3.1.2&#39;\r\n    testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;, version: &#39;2.3.4.RELEASE&#39;\r\n}\r\n```\r\n**The java code that I use for the test is the following:**\r\n\r\n```\r\nimport java.io.IOException;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.core.io.ResourceLoader;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.ws.test.server.MockWebServiceClient;\r\nimport org.springframework.ws.test.server.RequestCreator;\r\nimport org.springframework.ws.test.server.RequestCreators;\r\nimport org.springframework.ws.test.server.ResponseMatcher;\r\nimport org.springframework.ws.test.server.ResponseMatchers;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = TemplateApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ContextConfiguration(classes = XohksMxControllerTest.class)\r\npublic class XohksMxControllerTest {\r\n\r\n\r\n    @Autowired\r\n    ApplicationContext applicationContext;\r\n\r\n    private MockWebServiceClient client;\r\n\r\n    @Autowired\r\n    private ResourceLoader resourceLoader;\r\n\r\n    @Before\r\n    public void createClient() {\r\n        Assertions.assertNotNull(applicationContext);\r\n        client = MockWebServiceClient.createClient(applicationContext);\r\n    }\r\n\r\n    @Test\r\n    public void mockServerCall() throws IOException {\r\n\r\n        final RequestCreator requestCreator;\r\n        final ResponseMatcher responseMatcher;\r\n\r\n        client = MockWebServiceClient.createClient(applicationContext);\r\n\r\n        Resource requestPayLoad = resourceLoader.getResource(&quot;requestPayload.xml&quot;);\r\n        Resource responsePayload = resourceLoader.getResource(&quot;responsePayload.xml&quot;);\r\n\r\n        requestCreator = RequestCreators\r\n                .withSoapEnvelope(requestPayLoad);\r\n\r\n        responseMatcher = ResponseMatchers.soapEnvelope(responsePayload);\r\n\r\n        client.sendRequest(requestCreator).andExpect(responseMatcher);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI tried to change the versions of spring-boot-starter-test dependency to make it same with the spring boot version (2.3.4.RELEASE), but it did not work.","title":"java.lang.NoClassDefFoundError: org/springframework/test/context/TestContextAnnotationUtils in SOAP web service test","body":"<p>I have generated SOAP web service in spring boot and the endpoint works fine.\nThen I added some test for that endpoint and I get the following error stack while running the test:</p>\n<pre><code>\n21:33:51.263 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [ms.template.XohksMxControllerTest]: class path resource [ms/template/XohksMxControllerTest-context.xml] does not exist\n21:33:51.264 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [ms.template.XohksMxControllerTest]: class path resource [ms/template/XohksMxControllerTestContext.groovy] does not exist\n21:33:51.264 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [ms.template.XohksMxControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.\n\njava.lang.NoClassDefFoundError: org/springframework/test/context/TestContextAnnotationUtils\n\n    at org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory.createContextCustomizer(OverrideAutoConfigurationContextCustomizerFactory.java:41)\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.getContextCustomizers(AbstractTestContextBootstrapper.java:404)\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:376)\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildMergedContextConfiguration(AbstractTestContextBootstrapper.java:294)\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.buildTestContext(AbstractTestContextBootstrapper.java:108)\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.buildTestContext(SpringBootTestContextBootstrapper.java:101)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:137)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:122)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:151)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:142)\n    at org.springframework.test.context.junit4.SpringRunner.&lt;init&gt;(SpringRunner.java:49)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:37)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:70)\n    at org.junit.internal.requests.ClassRequest.createRunner(ClassRequest.java:28)\n    at org.junit.internal.requests.MemoizingRequest.getRunner(MemoizingRequest.java:19)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:50)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\nCaused by: java.lang.ClassNotFoundException: org.springframework.test.context.TestContextAnnotationUtils\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 26 more\n\n\nProcess finished with exit code -1\n\n\n</code></pre>\n<p>** The dependencies that I use are the following:**</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version &quot;2.3.4.RELEASE&quot;\n    id 'io.spring.dependency-management' version &quot;1.0.10.RELEASE&quot;\n    id 'java'\n    id 'jacoco'\n    id 'checkstyle'\n}\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-web-services'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation &quot;junit:junit:4.13\n    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml'\n   \n    implementation &quot;org.glassfish.jaxb:jaxb-runtime:4.0.0&quot;\n    implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\n    implementation group: 'wsdl4j', name: 'wsdl4j', version: '1.6.2'\n    implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'\n    implementation group: 'javax.activation', name: 'activation', version: '1.1.1'\n    implementation group: 'com.sun.xml.bind', name: 'jaxb-impl', version: '2.3.1'\n    implementation group: 'com.jcraft', name: 'jsch', version: '0.1.44-1'\n\n    jaxb &quot;org.glassfish.jaxb:jaxb-xjc:4.0.0&quot;\n    jaxb &quot;org.glassfish.jaxb:jaxb-runtime:4.0.0&quot;\n\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n\n    testCompile group: 'org.powermock', name: 'powermock-api-mockito2', version: &quot;2.0.7&quot;\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-test-autoconfigure', version: '2.6.5'\n    testImplementation group: 'org.springframework.ws', name: 'spring-ws-test', version: '3.1.2'\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test', version: '2.3.4.RELEASE'\n}\n</code></pre>\n<p><strong>The java code that I use for the test is the following:</strong></p>\n<pre><code>import java.io.IOException;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.ws.test.server.MockWebServiceClient;\nimport org.springframework.ws.test.server.RequestCreator;\nimport org.springframework.ws.test.server.RequestCreators;\nimport org.springframework.ws.test.server.ResponseMatcher;\nimport org.springframework.ws.test.server.ResponseMatchers;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = TemplateApplication.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(classes = XohksMxControllerTest.class)\npublic class XohksMxControllerTest {\n\n\n    @Autowired\n    ApplicationContext applicationContext;\n\n    private MockWebServiceClient client;\n\n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @Before\n    public void createClient() {\n        Assertions.assertNotNull(applicationContext);\n        client = MockWebServiceClient.createClient(applicationContext);\n    }\n\n    @Test\n    public void mockServerCall() throws IOException {\n\n        final RequestCreator requestCreator;\n        final ResponseMatcher responseMatcher;\n\n        client = MockWebServiceClient.createClient(applicationContext);\n\n        Resource requestPayLoad = resourceLoader.getResource(&quot;requestPayload.xml&quot;);\n        Resource responsePayload = resourceLoader.getResource(&quot;responsePayload.xml&quot;);\n\n        requestCreator = RequestCreators\n                .withSoapEnvelope(requestPayLoad);\n\n        responseMatcher = ResponseMatchers.soapEnvelope(responsePayload);\n\n        client.sendRequest(requestCreator).andExpect(responseMatcher);\n\n    }\n\n}\n\n</code></pre>\n<p>I tried to change the versions of spring-boot-starter-test dependency to make it same with the spring boot version (2.3.4.RELEASE), but it did not work.</p>\n"},{"tags":["python","java","spring","spring-boot","fastapi"],"answers":[{"tags":[],"owner":{"account_id":15346986,"reputation":1,"user_id":11072063,"display_name":"m.bidkham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659895785,"creation_date":1659895785,"answer_id":73269902,"question_id":72437860,"body_markdown":"Actually, this is not the right way to send HttpEntity including .yaml file body.\r\nFirstly you have to convert yaml files to json and then send json as the body of your request.\r\nTo convert that you can use:\r\n\r\n    String convertYamlToJson(String yaml) {\r\n        ObjectMapper yamlReader = new ObjectMapper(new YAMLFactory());\r\n        Object obj = yamlReader.readValue(yaml, Object.class);\r\n    \r\n        ObjectMapper jsonWriter = new ObjectMapper();\r\n        return jsonWriter.writeValueAsString(obj);\r\n    }\r\nThen put the String in the body.","title":"Unbale to send a .yml file from spring boot service to fastApi python service","body":"<p>Actually, this is not the right way to send HttpEntity including .yaml file body.\nFirstly you have to convert yaml files to json and then send json as the body of your request.\nTo convert that you can use:</p>\n<pre><code>String convertYamlToJson(String yaml) {\n    ObjectMapper yamlReader = new ObjectMapper(new YAMLFactory());\n    Object obj = yamlReader.readValue(yaml, Object.class);\n\n    ObjectMapper jsonWriter = new ObjectMapper();\n    return jsonWriter.writeValueAsString(obj);\n}\n</code></pre>\n<p>Then put the String in the body.</p>\n"}],"owner":{"account_id":17803224,"reputation":73,"user_id":12929442,"display_name":"raghurajj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659895785,"creation_date":1653930441,"question_id":72437860,"body_markdown":"I am trying to send a .yml file from my spring boot service to my python FastApi service. but I keep getting following error.\r\n\r\n```\r\norg.springframework.web.client.HttpClientErrorException$UnprocessableEntity: 422 : [{&quot;detail&quot;:[{&quot;loc&quot;:[&quot;body&quot;,&quot;files&quot;,0],&quot;msg&quot;:&quot;Expected UploadFile, received: &lt;class &#39;str&#39;&gt;&quot;,&quot;type&quot;:&quot;value_error&quot;}]}]\r\n```\r\n\r\nhere is the spring boot code that i am using to send the file to python service.\r\n```\r\n File file2 = new File((&quot;./src/main/resources/testcases/&quot;+filename+&quot;.yml&quot;));\r\n MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n            body.add(&quot;files&quot;,file1);\r\n            body.add(&quot;files&quot;,file2);\r\n            body.add(&quot;message&quot;, message);\r\n\r\n            HttpHeaders bbheaders = new HttpHeaders();\r\n            bbheaders.set(&quot;x-api-key&quot;, x-api-key);\r\n            bbheaders.set(StringUtils.HEADER_AUTHORIZATION, request.getHeader(StringUtils.HEADER_AUTHORIZATION));\r\n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; bbhttpEntity = new HttpEntity&lt;&gt;(body, bbheaders);\r\n\r\n            restTemplate.postForEntity( url, bbhttpEntity, String.class);\r\n\r\n```\r\n\r\nand here is the python code that is receiving the request:\r\n```\r\nasync def upload_file(request:Request,files:List[UploadFile]= File(...),message:str=Body(...),Authorize: AuthJWT = Depends()):\r\n```\r\n","title":"Unbale to send a .yml file from spring boot service to fastApi python service","body":"<p>I am trying to send a .yml file from my spring boot service to my python FastApi service. but I keep getting following error.</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$UnprocessableEntity: 422 : [{&quot;detail&quot;:[{&quot;loc&quot;:[&quot;body&quot;,&quot;files&quot;,0],&quot;msg&quot;:&quot;Expected UploadFile, received: &lt;class 'str'&gt;&quot;,&quot;type&quot;:&quot;value_error&quot;}]}]\n</code></pre>\n<p>here is the spring boot code that i am using to send the file to python service.</p>\n<pre><code> File file2 = new File((&quot;./src/main/resources/testcases/&quot;+filename+&quot;.yml&quot;));\n MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n            body.add(&quot;files&quot;,file1);\n            body.add(&quot;files&quot;,file2);\n            body.add(&quot;message&quot;, message);\n\n            HttpHeaders bbheaders = new HttpHeaders();\n            bbheaders.set(&quot;x-api-key&quot;, x-api-key);\n            bbheaders.set(StringUtils.HEADER_AUTHORIZATION, request.getHeader(StringUtils.HEADER_AUTHORIZATION));\n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; bbhttpEntity = new HttpEntity&lt;&gt;(body, bbheaders);\n\n            restTemplate.postForEntity( url, bbhttpEntity, String.class);\n\n</code></pre>\n<p>and here is the python code that is receiving the request:</p>\n<pre><code>async def upload_file(request:Request,files:List[UploadFile]= File(...),message:str=Body(...),Authorize: AuthJWT = Depends()):\n</code></pre>\n"},{"tags":["java","c++","windows","eclipse","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1569777,"reputation":1946,"user_id":1458097,"display_name":"heap underrun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632447965,"creation_date":1632447965,"answer_id":69308608,"question_id":69307137,"body_markdown":"`&lt;string&gt;` is a header file, and if your C++ code containing `#include &lt;string&gt;` directive compiles this means that paths of standard include folders are configured correctly.\r\n\r\nHowever, depending on how your project is configured to be linked to the C and C++ runtime libraries (statically or dynamically), the resulting executable may or may not depend on additional DLLs. (For example, in case of Microsoft Visual Studio 2019 C++ compiler, the C runtime library DLL is `vcruntime140.dll` and C++ runtime library DLL is `msvcp140.dll`.)\r\n\r\nUsing `std::string` probably causes your executable to depend on the C++ runtime library DLL (in addition to the C runtime DLL), and perhaps it is not found in the same folder as the executable (and not in the DLL search path).\r\n\r\nOn Windows, C runtime DLL is often already available system-wide, but C++ runtime DLL needs to be either installed (using the Microsoft Visual C++ Redistributable package) or placed into the same folder along the executable itself.\r\n\r\nAnother option is to link runtime libraries statically, so the resulting executable won&#39;t have those DLL dependencies. But usually, dynamic linking is preferred.\r\n\r\nNote that depending on which C++ compiler you are using with your Eclipse IDE — either GCC (G++), Clang, MSVC or some another — the required C++ runtime DLL will have a different filename.","title":"JNI Unsatisfied Link Error in Eclipse Can&#39;t find dependent Libraries","body":"<p><code>&lt;string&gt;</code> is a header file, and if your C++ code containing <code>#include &lt;string&gt;</code> directive compiles this means that paths of standard include folders are configured correctly.</p>\n<p>However, depending on how your project is configured to be linked to the C and C++ runtime libraries (statically or dynamically), the resulting executable may or may not depend on additional DLLs. (For example, in case of Microsoft Visual Studio 2019 C++ compiler, the C runtime library DLL is <code>vcruntime140.dll</code> and C++ runtime library DLL is <code>msvcp140.dll</code>.)</p>\n<p>Using <code>std::string</code> probably causes your executable to depend on the C++ runtime library DLL (in addition to the C runtime DLL), and perhaps it is not found in the same folder as the executable (and not in the DLL search path).</p>\n<p>On Windows, C runtime DLL is often already available system-wide, but C++ runtime DLL needs to be either installed (using the Microsoft Visual C++ Redistributable package) or placed into the same folder along the executable itself.</p>\n<p>Another option is to link runtime libraries statically, so the resulting executable won't have those DLL dependencies. But usually, dynamic linking is preferred.</p>\n<p>Note that depending on which C++ compiler you are using with your Eclipse IDE — either GCC (G++), Clang, MSVC or some another — the required C++ runtime DLL will have a different filename.</p>\n"},{"tags":[],"owner":{"account_id":16442097,"reputation":23,"user_id":16239889,"display_name":"Auro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632468798,"creation_date":1632468798,"answer_id":69311198,"question_id":69307137,"body_markdown":"Thanks a lot [heap underrun](https://stackoverflow.com/users/1458097/heap-underrun) for your answer. I finally figured out a way to make it work. I used the [Dependencies tool](https://github.com/lucasg/Dependencies) by [lucasg](https://github.com/lucasg) and found that *libgcc_s_seh-1.dll* and *libstdc++-6.dll* were missing even though they are present in MinGW bin.\r\n\r\nSo I explicitly added them in the same folder as my dynamic library and loaded them in the java virtual environment. This is how the java side looks now:\r\n```\r\npackage test_strings;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class TestString {\r\n\t\r\n\tstatic {\r\n        System.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libwinpthread-1.dll&quot;);\r\n        System.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libgcc_s_seh-1.dll&quot;);\r\n        System.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libstdc++-6.dll.dll&quot;);\r\n\t\tSystem.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libnative_cpp.dll&quot;);\r\n\t}\r\n\t\r\n\tpublic native String sayHelloC();\r\n\tpublic native String sayHelloCpp();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tTestString test = new TestString();\r\n\t\t\r\n\t\tSystem.out.println(test.sayHelloC());\r\n\t\tSystem.out.println(test.sayHelloCpp());\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNOTE: The order in which the dlls are loaded is important. It won&#39;t work in any another order.","title":"JNI Unsatisfied Link Error in Eclipse Can&#39;t find dependent Libraries","body":"<p>Thanks a lot <a href=\"https://stackoverflow.com/users/1458097/heap-underrun\">heap underrun</a> for your answer. I finally figured out a way to make it work. I used the <a href=\"https://github.com/lucasg/Dependencies\" rel=\"nofollow noreferrer\">Dependencies tool</a> by <a href=\"https://github.com/lucasg\" rel=\"nofollow noreferrer\">lucasg</a> and found that <em>libgcc_s_seh-1.dll</em> and <em>libstdc++-6.dll</em> were missing even though they are present in MinGW bin.</p>\n<p>So I explicitly added them in the same folder as my dynamic library and loaded them in the java virtual environment. This is how the java side looks now:</p>\n<pre><code>package test_strings;\n\nimport java.io.IOException;\n\npublic class TestString {\n    \n    static {\n        System.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libwinpthread-1.dll&quot;);\n        System.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libgcc_s_seh-1.dll&quot;);\n        System.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libstdc++-6.dll.dll&quot;);\n        System.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libnative_cpp.dll&quot;);\n    }\n    \n    public native String sayHelloC();\n    public native String sayHelloCpp();\n\n    public static void main(String[] args) {\n        \n        TestString test = new TestString();\n        \n        System.out.println(test.sayHelloC());\n        System.out.println(test.sayHelloCpp());\n\n    }\n\n}\n</code></pre>\n<p>NOTE: The order in which the dlls are loaded is important. It won't work in any another order.</p>\n"}],"owner":{"account_id":16442097,"reputation":23,"user_id":16239889,"display_name":"Auro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69308608,"answer_count":2,"score":1,"last_activity_date":1659895737,"creation_date":1632432766,"question_id":69307137,"body_markdown":"I&#39;m trying to invoke a C++ function from java that uses C++-style strings. The program executes just fine when I&#39;m using C-style strings but just as I declare std::string somehow it can&#39;t find dependent libraries anymore. I checked my includes folder in eclipse environment and it does contain \\&lt;string&gt; library and all its dependencies.\r\n\r\n```\r\npackage test_strings;\r\n\r\npublic class TestString {\r\n\t\r\n\tstatic {\r\n\t\tSystem.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libnative_cpp.dll&quot;);\r\n\t}\r\n\t\r\n\tpublic native String sayHelloC();\r\n\tpublic native String sayHelloCpp();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tTestString test = new TestString();\r\n\t\t\r\n\t\tSystem.out.println(test.sayHelloC());\r\n\t\tSystem.out.println(test.sayHelloCpp());\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd this is my native file:\r\n```\r\n#include &quot;test_strings_TestString.h&quot;\r\n#include&lt;string&gt;\r\nusing namespace std;\r\n\r\nJNIEXPORT jstring JNICALL Java_test_1strings_TestString_sayHelloC\r\n  (JNIEnv *env, jobject thisObj){\r\n\r\n\tjstring str = env-&gt;NewStringUTF(&quot;Hello World C-style !!&quot;);\r\n\treturn str;\r\n}\r\n\r\nJNIEXPORT jstring JNICALL Java_test_1strings_TestString_sayHelloCpp\r\n  (JNIEnv *env, jobject thisObj){\r\n\t//std::string str = &quot;Hello World C++ style !!&quot;;\r\n\t//return env-&gt;NewStringUTF(str.c_str());\r\n\treturn env-&gt;NewStringUTF(&quot;Hello World C++ style !!&quot;);\r\n}\r\n\r\n```\r\nThis  code compiles fine and runs well from java but as soon as I try to use the std::string version(commented) the  code compiles and the dynamic library is created but on running the java code I get the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\aurok\\eclipse-workspace\\native_cpp\\Debug\\libnative_cpp.dll: Can&#39;t find dependent libraries\r\n\tat java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n\tat java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:383)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:227)\r\n\tat java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:169)\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2383)\r\n\tat java.base/java.lang.Runtime.load0(Runtime.java:746)\r\n\tat java.base/java.lang.System.load(System.java:1857)\r\n\tat test_strings.TestString.&lt;clinit&gt;(TestString.java:6)\r\n```\r\n\r\nI have searched various sources for a possible explanation but couldn&#39;t find one. Guys, help me!","title":"JNI Unsatisfied Link Error in Eclipse Can&#39;t find dependent Libraries","body":"<p>I'm trying to invoke a C++ function from java that uses C++-style strings. The program executes just fine when I'm using C-style strings but just as I declare std::string somehow it can't find dependent libraries anymore. I checked my includes folder in eclipse environment and it does contain &lt;string&gt; library and all its dependencies.</p>\n<pre><code>package test_strings;\n\npublic class TestString {\n    \n    static {\n        System.load(&quot;C:\\\\Users\\\\aurok\\\\eclipse-workspace\\\\native_cpp\\\\Debug\\\\libnative_cpp.dll&quot;);\n    }\n    \n    public native String sayHelloC();\n    public native String sayHelloCpp();\n\n    public static void main(String[] args) {\n        \n        TestString test = new TestString();\n        \n        System.out.println(test.sayHelloC());\n        System.out.println(test.sayHelloCpp());\n\n    }\n\n}\n</code></pre>\n<p>And this is my native file:</p>\n<pre><code>#include &quot;test_strings_TestString.h&quot;\n#include&lt;string&gt;\nusing namespace std;\n\nJNIEXPORT jstring JNICALL Java_test_1strings_TestString_sayHelloC\n  (JNIEnv *env, jobject thisObj){\n\n    jstring str = env-&gt;NewStringUTF(&quot;Hello World C-style !!&quot;);\n    return str;\n}\n\nJNIEXPORT jstring JNICALL Java_test_1strings_TestString_sayHelloCpp\n  (JNIEnv *env, jobject thisObj){\n    //std::string str = &quot;Hello World C++ style !!&quot;;\n    //return env-&gt;NewStringUTF(str.c_str());\n    return env-&gt;NewStringUTF(&quot;Hello World C++ style !!&quot;);\n}\n\n</code></pre>\n<p>This  code compiles fine and runs well from java but as soon as I try to use the std::string version(commented) the  code compiles and the dynamic library is created but on running the java code I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\aurok\\eclipse-workspace\\native_cpp\\Debug\\libnative_cpp.dll: Can't find dependent libraries\n    at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n    at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:383)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:227)\n    at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:169)\n    at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2383)\n    at java.base/java.lang.Runtime.load0(Runtime.java:746)\n    at java.base/java.lang.System.load(System.java:1857)\n    at test_strings.TestString.&lt;clinit&gt;(TestString.java:6)\n</code></pre>\n<p>I have searched various sources for a possible explanation but couldn't find one. Guys, help me!</p>\n"},{"tags":["java","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1556210836,"creation_date":1519658965,"answer_id":48991831,"question_id":48909715,"body_markdown":"If you mean to just extract the fields directly from a string, you can parse the query and recursively traverse the resulting document to collect the names.\r\n\r\nYou can parse the query this way:\r\n\r\n    Parser parser = new Parser();\r\n    Document document = parser.parseDocument(queryString);\r\n\r\nThe `Document` object is the query parsed into a tree structure. You can traverse it to extract what you need.\r\n\r\nIf you just need the selection set during field resolution (e.g. to see what sub-selections are requested so you optimize the fetching logic e.g. to fire a `SELECT title, description FROM ...` instead of a `SELECT * FROM ...`) there&#39;s an easier way as `DataFetchingEnvironment` already provides access to the selection set:\r\n\r\n    DataFetchingFieldSelectionSet selectionSet = dataFetchingEnv.getSelectionSet();\r\n    Map&lt;String, List&lt;Field&gt;&gt; fieldsByName = selectionSet.get();\r\n\r\nIf you need to drill deeper than one level, you can use `DataFetchingFieldSelectionSet.contains` which accepts a glob pattern e.g. `parent/*/grandChild` and tells you whether such a field was requested.\r\n\r\nYou can also get the current `Field` from the `DataFetchingEnvironment`:\r\n\r\n    List&lt;Field&gt; getFields().get(0)\r\n\r\nAnd from there you can extract the sub-selection for the current field. This last approach only makes sense if there are potentially conditional selections (i.e. the current field is an interface, so the selection might depend on the implementation e.g. `... on Impl { title }`).","title":"Access Selection Set of a graphQL query","body":"<p>If you mean to just extract the fields directly from a string, you can parse the query and recursively traverse the resulting document to collect the names.</p>\n\n<p>You can parse the query this way:</p>\n\n<pre><code>Parser parser = new Parser();\nDocument document = parser.parseDocument(queryString);\n</code></pre>\n\n<p>The <code>Document</code> object is the query parsed into a tree structure. You can traverse it to extract what you need.</p>\n\n<p>If you just need the selection set during field resolution (e.g. to see what sub-selections are requested so you optimize the fetching logic e.g. to fire a <code>SELECT title, description FROM ...</code> instead of a <code>SELECT * FROM ...</code>) there's an easier way as <code>DataFetchingEnvironment</code> already provides access to the selection set:</p>\n\n<pre><code>DataFetchingFieldSelectionSet selectionSet = dataFetchingEnv.getSelectionSet();\nMap&lt;String, List&lt;Field&gt;&gt; fieldsByName = selectionSet.get();\n</code></pre>\n\n<p>If you need to drill deeper than one level, you can use <code>DataFetchingFieldSelectionSet.contains</code> which accepts a glob pattern e.g. <code>parent/*/grandChild</code> and tells you whether such a field was requested.</p>\n\n<p>You can also get the current <code>Field</code> from the <code>DataFetchingEnvironment</code>:</p>\n\n<pre><code>List&lt;Field&gt; getFields().get(0)\n</code></pre>\n\n<p>And from there you can extract the sub-selection for the current field. This last approach only makes sense if there are potentially conditional selections (i.e. the current field is an interface, so the selection might depend on the implementation e.g. <code>... on Impl { title }</code>).</p>\n"},{"tags":[],"owner":{"account_id":8510108,"reputation":279,"user_id":6380415,"accept_rate":75,"display_name":"Omarkad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519897308,"creation_date":1519897308,"answer_id":49046740,"question_id":48909715,"body_markdown":"This works for me, I have used the Parser in order to get the list of fields:\r\n\r\n    private static List&lt;Field&gt; parseGraphQLQuery(String query) {\r\n\t\tList&lt;Field&gt; fieldList = new ArrayList&lt;Field&gt;();\r\n\t\t\r\n\t\tParser parser = new Parser();\r\n\t\t\r\n\t\tDocument doc = parser.parseDocument(query);\r\n\t\t\r\n\t\tList&lt;Definition&gt; definitionList = doc.getDefinitions();\r\n\t\tdefinitionList.forEach( (item) -&gt; {\r\n\t\t\tif (item instanceof OperationDefinition) {\r\n\t\t\t\tOperationDefinition operationDefinition = (OperationDefinition) item;\r\n\t\t\t\tSelectionSet selectionSet = operationDefinition.getSelectionSet();\r\n\t\t\t\textractQueryElements(fieldList, selectionSet);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn fieldList;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Add fields to field name list\r\n\t * @param fieldNameList\r\n\t * @param selectionSet\r\n\t */\r\n\tprivate static void extractQueryElements(List&lt;Field&gt; fieldNameList, SelectionSet selectionSet) {\r\n\t\tif (selectionSet != null &amp;&amp; selectionSet.getSelections() != null) {\r\n\t\t\tselectionSet.getSelections().forEach( (selection) -&gt; {\r\n\t\t\t\tif (selection instanceof Field) {\r\n\t\t\t\t\tField field = (Field) selection;\r\n\t\t\t\t\tfieldNameList.add(field);\r\n\t\t\t\t\textractQueryElements(fieldNameList, field.getSelectionSet());\r\n\t\t\t\t} \r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n","title":"Access Selection Set of a graphQL query","body":"<p>This works for me, I have used the Parser in order to get the list of fields:</p>\n\n<pre><code>private static List&lt;Field&gt; parseGraphQLQuery(String query) {\n    List&lt;Field&gt; fieldList = new ArrayList&lt;Field&gt;();\n\n    Parser parser = new Parser();\n\n    Document doc = parser.parseDocument(query);\n\n    List&lt;Definition&gt; definitionList = doc.getDefinitions();\n    definitionList.forEach( (item) -&gt; {\n        if (item instanceof OperationDefinition) {\n            OperationDefinition operationDefinition = (OperationDefinition) item;\n            SelectionSet selectionSet = operationDefinition.getSelectionSet();\n            extractQueryElements(fieldList, selectionSet);\n        }\n    });\n\n    return fieldList;\n}\n\n/**\n * Add fields to field name list\n * @param fieldNameList\n * @param selectionSet\n */\nprivate static void extractQueryElements(List&lt;Field&gt; fieldNameList, SelectionSet selectionSet) {\n    if (selectionSet != null &amp;&amp; selectionSet.getSelections() != null) {\n        selectionSet.getSelections().forEach( (selection) -&gt; {\n            if (selection instanceof Field) {\n                Field field = (Field) selection;\n                fieldNameList.add(field);\n                extractQueryElements(fieldNameList, field.getSelectionSet());\n            } \n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659895673,"creation_date":1659895673,"answer_id":73269885,"question_id":48909715,"body_markdown":"I do know that OP did not tag `spring`. But for any spring users, who is landing on this page....You can directly get it injected by Spring in your controller methods.\r\n\r\n    @QueryMapping\r\n    public String books(DataFetchingFieldSelectionSet selectionSet){\r\n      ....\r\n    }","title":"Access Selection Set of a graphQL query","body":"<p>I do know that OP did not tag <code>spring</code>. But for any spring users, who is landing on this page....You can directly get it injected by Spring in your controller methods.</p>\n<pre><code>@QueryMapping\npublic String books(DataFetchingFieldSelectionSet selectionSet){\n  ....\n}\n</code></pre>\n"}],"owner":{"account_id":8510108,"reputation":279,"user_id":6380415,"accept_rate":75,"display_name":"Omarkad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48991831,"answer_count":3,"score":0,"last_activity_date":1659895673,"creation_date":1519227205,"question_id":48909715,"body_markdown":"Is it possible to access a **GraphQL Selection Set** from a query (String) in Java ?\r\n\r\nFor instance from the string below: \r\n\r\n    &quot;{\r\n        data {\r\n            title\r\n            description\r\n        }\r\n    }&quot;\r\n\r\nget a list of fields : `[&quot;data&quot;, &quot;title&quot;, &quot;description&quot;]`","title":"Access Selection Set of a graphQL query","body":"<p>Is it possible to access a <strong>GraphQL Selection Set</strong> from a query (String) in Java ?</p>\n\n<p>For instance from the string below: </p>\n\n<pre><code>\"{\n    data {\n        title\n        description\n    }\n}\"\n</code></pre>\n\n<p>get a list of fields : <code>[\"data\", \"title\", \"description\"]</code></p>\n"},{"tags":["java","android","unsatisfiedlinkerror"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1659896947,"post_id":73269282,"comment_id":129398698,"body_markdown":"You&#39;re either missing a .so file, or you have the name or signature wrong for either your java side binding for the decode function, or for the C side implementation.  Or you forgot to load the native library","body":"You&#39;re either missing a .so file, or you have the name or signature wrong for either your java side binding for the decode function, or for the C side implementation.  Or you forgot to load the native library"},{"owner":{"account_id":19441028,"reputation":1,"user_id":14219417,"display_name":"Osman Gul"},"score":0,"creation_date":1660811815,"post_id":73269282,"comment_id":129622555,"body_markdown":"thank you very much. I provided the solution by replacing old library files using GIT.","body":"thank you very much. I provided the solution by replacing old library files using GIT."}],"owner":{"account_id":19441028,"reputation":1,"user_id":14219417,"display_name":"Osman Gul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659895581,"creation_date":1659890687,"question_id":73269282,"body_markdown":"I had an image scanning activity with openCV infrastructure before. However, even though there is no code change at the moment, it gives an error and restarts the application. It gives a warning to a method in Asynctask.\r\n\r\n`java.lang.UnsatisfiedLinkError: No implementation found for void com.netdatasoft.android.divvydrive.scanner.views.CameraView.decode(byte[], int, int, int[])`\r\n\r\n\r\n\r\n    2022-08-07 19:34:48.610 10271-10357/com.netdatasoft.android.divvydrive E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\r\n    Process: com.netdatasoft.android.divvydrive, PID: 10271\r\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\r\n        at android.os.AsyncTask$AsyncFutureTask.done(AsyncTask.java:429)\r\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\r\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:271)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:292)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:929)\r\n     Caused by: java.lang.UnsatisfiedLinkError: No implementation found for void com.netdatasoft.android.divvydrive.scanner.views.CameraView.decode(byte[], int, int, int[]) (tried Java_com_netdatasoft_android_divvydrive_scanner_views_CameraView_decode and Java_com_netdatasoft_android_divvydrive_scanner_views_CameraView_decode___3BII_3I)\r\n        at com.netdatasoft.android.divvydrive.scanner.views.CameraView.decode(Native Method)\r\n        at com.netdatasoft.android.divvydrive.scanner.views.CameraView.access$200(CameraView.java:35)\r\n        at com.netdatasoft.android.divvydrive.scanner.views.CameraView$PreviewFrameAsyncTask.doInBackground(CameraView.java:274)\r\n        at com.netdatasoft.android.divvydrive.scanner.views.CameraView$PreviewFrameAsyncTask.doInBackground(CameraView.java:262)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:389)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:292)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:929)&#160;","title":"java.lang.UnsatisfiedLinkError: No implementation found for void com.netdatasoft.android.divvydrive.scanner.views.CameraView.decode","body":"<p>I had an image scanning activity with openCV infrastructure before. However, even though there is no code change at the moment, it gives an error and restarts the application. It gives a warning to a method in Asynctask.</p>\n<p><code>java.lang.UnsatisfiedLinkError: No implementation found for void com.netdatasoft.android.divvydrive.scanner.views.CameraView.decode(byte[], int, int, int[])</code></p>\n<pre><code>2022-08-07 19:34:48.610 10271-10357/com.netdatasoft.android.divvydrive E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\nProcess: com.netdatasoft.android.divvydrive, PID: 10271\njava.lang.RuntimeException: An error occurred while executing doInBackground()\n    at android.os.AsyncTask$AsyncFutureTask.done(AsyncTask.java:429)\n    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n    at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:292)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:929)\n Caused by: java.lang.UnsatisfiedLinkError: No implementation found for void com.netdatasoft.android.divvydrive.scanner.views.CameraView.decode(byte[], int, int, int[]) (tried Java_com_netdatasoft_android_divvydrive_scanner_views_CameraView_decode and Java_com_netdatasoft_android_divvydrive_scanner_views_CameraView_decode___3BII_3I)\n    at com.netdatasoft.android.divvydrive.scanner.views.CameraView.decode(Native Method)\n    at com.netdatasoft.android.divvydrive.scanner.views.CameraView.access$200(CameraView.java:35)\n    at com.netdatasoft.android.divvydrive.scanner.views.CameraView$PreviewFrameAsyncTask.doInBackground(CameraView.java:274)\n    at com.netdatasoft.android.divvydrive.scanner.views.CameraView$PreviewFrameAsyncTask.doInBackground(CameraView.java:262)\n    at android.os.AsyncTask$3.call(AsyncTask.java:389)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:292) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at java.lang.Thread.run(Thread.java:929) \n</code></pre>\n"},{"tags":["java","arrays","char","java-stream"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1659912193,"post_id":73268999,"comment_id":129401539,"body_markdown":"I suspect you would be better off using a CharBuffer or StringBuilder to begin with, instead of `List&lt;Character&gt;`.","body":"I suspect you would be better off using a CharBuffer or StringBuilder to begin with, instead of <code>List&lt;Character&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659893950,"creation_date":1659889367,"answer_id":73269129,"question_id":73268999,"body_markdown":"There&#39;s no separate flavor of primitive streams for `char` type, for that reason this conversion with stream **can&#39;t** be done in such a straightforward way like, for instance, conversion `List&lt;Integer&gt;` to `int[]` with `IntStream`.\r\n\r\nTo turn a `List` of `Character` into an array `char[]` using streams, you can use [`CharBuffer`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/nio/CharBuffer.html) as accumulation type.\r\n\r\nThat would allow avoiding making unnecessary copies of the data (which would take place with `String` and `StringBuilder`) because `CharBuffer` gives you access to its underlying array via [`CharBuffer.array()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/nio/CharBuffer.html#array()) (*in case when it&#39;s baked by an array*).\r\n\r\nThat&#39;s how we can create a *collector* based on a `CharBuffer`:\r\n\r\n```\r\nchar[] result = listChars.stream()\r\n    .collect(Collector.of(\r\n        () -&gt; CharBuffer.allocate(listChars.size()), // allocating the underlying array\r\n        CharBuffer::append,                          // accumulating stream elements\r\n        CharBuffer::append,                          // merging buffers in parallel\r\n        CharBuffer::array                            // finisher function - extracting the backing array as a final action\r\n    );\r\n```","title":"How can we convert List&lt;Character&gt; into an Array char[] with Java 8","body":"<p>There's no separate flavor of primitive streams for <code>char</code> type, for that reason this conversion with stream <strong>can't</strong> be done in such a straightforward way like, for instance, conversion <code>List&lt;Integer&gt;</code> to <code>int[]</code> with <code>IntStream</code>.</p>\n<p>To turn a <code>List</code> of <code>Character</code> into an array <code>char[]</code> using streams, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/nio/CharBuffer.html\" rel=\"nofollow noreferrer\"><code>CharBuffer</code></a> as accumulation type.</p>\n<p>That would allow avoiding making unnecessary copies of the data (which would take place with <code>String</code> and <code>StringBuilder</code>) because <code>CharBuffer</code> gives you access to its underlying array via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/nio/CharBuffer.html#array()\" rel=\"nofollow noreferrer\"><code>CharBuffer.array()</code></a> (<em>in case when it's baked by an array</em>).</p>\n<p>That's how we can create a <em>collector</em> based on a <code>CharBuffer</code>:</p>\n<pre><code>char[] result = listChars.stream()\n    .collect(Collector.of(\n        () -&gt; CharBuffer.allocate(listChars.size()), // allocating the underlying array\n        CharBuffer::append,                          // accumulating stream elements\n        CharBuffer::append,                          // merging buffers in parallel\n        CharBuffer::array                            // finisher function - extracting the backing array as a final action\n    );\n</code></pre>\n"}],"owner":{"account_id":7618795,"reputation":419,"user_id":5777370,"accept_rate":0,"display_name":"OwlR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1659893950,"creation_date":1659888153,"question_id":73268999,"body_markdown":"A solution I came up with is to create a `String` from the stream elements.\r\n\r\nLike this:\r\n\r\n    listChars.stream()\r\n        .map(String::valueOf)\r\n        .collect(Collectors.joining()\r\n        .toCharArray();\r\n\r\nHow it can be done without converting into a `String`?","title":"How can we convert List&lt;Character&gt; into an Array char[] with Java 8","body":"<p>A solution I came up with is to create a <code>String</code> from the stream elements.</p>\n<p>Like this:</p>\n<pre><code>listChars.stream()\n    .map(String::valueOf)\n    .collect(Collectors.joining()\n    .toCharArray();\n</code></pre>\n<p>How it can be done without converting into a <code>String</code>?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-motionlayout"],"comments":[{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1659846462,"post_id":73254556,"comment_id":129389773,"body_markdown":"I am a little unclear as to what you are saying.\nYou are driving a transition in two ways: \n1. An onSwipe with a spring effect. 2. calls to transitionTostart/end using a cubic interpolator.\nAre you saying the onSwipe stops working after you use the transition?\n\nIt should not happen. It might be the case that you are triggering the transitionToStart/End somehow.\n You can check that by making the duration very fast motion:duration=&quot;100&quot;  or putting print statements where you trigger.","body":"I am a little unclear as to what you are saying. You are driving a transition in two ways:  1. An onSwipe with a spring effect. 2. calls to transitionTostart/end using a cubic interpolator. Are you saying the onSwipe stops working after you use the transition?  It should not happen. It might be the case that you are triggering the transitionToStart/End somehow.  You can check that by making the duration very fast motion:duration=&quot;100&quot;  or putting print statements where you trigger."},{"owner":{"account_id":9530284,"reputation":436,"user_id":7082205,"display_name":"Artie Vandelay"},"score":0,"creation_date":1659864304,"post_id":73254556,"comment_id":129392061,"body_markdown":"@hoford I can confirm that the transitionToStart/End are **not** being triggered when I start a swipe (I have print statements whenever I trigger).","body":"@hoford I can confirm that the transitionToStart/End are <b>not</b> being triggered when I start a swipe (I have print statements whenever I trigger)."},{"owner":{"account_id":9530284,"reputation":436,"user_id":7082205,"display_name":"Artie Vandelay"},"score":0,"creation_date":1659864566,"post_id":73254556,"comment_id":129392104,"body_markdown":"@hoford I have added more information to my question which might help you figure out what the problem is. It is all very weird behavior to me.","body":"@hoford I have added more information to my question which might help you figure out what the problem is. It is all very weird behavior to me."},{"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"score":0,"creation_date":1659887563,"post_id":73254556,"comment_id":129396639,"body_markdown":"Thanks, It is a bug sort of.  The interpolator does not get injected till you run the transition. Logically the interpolator should always be installed. (Which is not what you want). I will describe a workaround in an answer after I test the workaround.","body":"Thanks, It is a bug sort of.  The interpolator does not get injected till you run the transition. Logically the interpolator should always be installed. (Which is not what you want). I will describe a workaround in an answer after I test the workaround."},{"owner":{"account_id":9530284,"reputation":436,"user_id":7082205,"display_name":"Artie Vandelay"},"score":0,"creation_date":1659889065,"post_id":73254556,"comment_id":129396932,"body_markdown":"That makes sense. I have found a solution to achieve what I want, so I will post the answer here later today when I have the chance. Hopefully other people who have the same problem no longer need to pull their hair out like I did :-) Thank you for your help!","body":"That makes sense. I have found a solution to achieve what I want, so I will post the answer here later today when I have the chance. Hopefully other people who have the same problem no longer need to pull their hair out like I did :-) Thank you for your help!"}],"answers":[{"tags":[],"owner":{"account_id":9530284,"reputation":436,"user_id":7082205,"display_name":"Artie Vandelay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659893678,"creation_date":1659890995,"answer_id":73269329,"question_id":73254556,"body_markdown":"After a lot of messing around with it, I have found the solution.\r\n\r\nTo restate what my goal is:\r\n* I want to be able use the OnSwipe feature of my MotionLayout&#39;s transition, such that it perfectly tracks my finger and uses spring physics when I release to snap to a starting/ending state.\r\n* I also want to be able to trigger `transitionToStart/End` programmatically (which in my case happens to be hooked up to a setOnClickListener on the collapsed bar, see the GIF in the original question).\r\n\r\nFor OnSwipe to track my finger correctly, it needs the motionInterpolator to be **linear**, but I don&#39;t want to make the programmatic triggers to be linear as well, because it doesn&#39;t look very natural. I want them to be *cubic* instead, so this means I will need to **switch between two transitions depending on whether it was triggered programmatically or by OnSwipe**.\r\n\r\nSo let&#39;s create two Transitions for this:\r\n```xml\r\n&lt;MotionScene\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:motion=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;Transition\r\n        android:id=&quot;@+id/programmatic_transition&quot;\r\n        motion:constraintSetStart=&quot;@id/collapsed&quot;\r\n        motion:constraintSetEnd=&quot;@id/expanded&quot;\r\n        motion:duration=&quot;500&quot;\r\n        motion:motionInterpolator=&quot;cubic(0.2,0,0,1)&quot;&gt;\r\n        &lt;KeyFrameSet&gt;\r\n            ...\r\n        &lt;/KeyFrameSet&gt;\r\n    &lt;/Transition&gt;\r\n\r\n    &lt;Transition\r\n        android:id=&quot;@+id/onswipe_transition&quot;\r\n        motion:constraintSetStart=&quot;@id/collapsed&quot;\r\n        motion:constraintSetEnd=&quot;@id/expanded&quot;\r\n        motion:duration=&quot;500&quot;\r\n        motion:motionInterpolator=&quot;linear&quot;&gt;\r\n        &lt;OnSwipe\r\n            motion:springDamping=&quot;60&quot;\r\n            motion:autoCompleteMode=&quot;spring&quot;\r\n            motion:onTouchUp=&quot;autoComplete&quot;\r\n            motion:dragDirection=&quot;dragUp&quot;\r\n            motion:touchAnchorId=&quot;@id/now_playing_anchor&quot;\r\n            motion:touchAnchorSide=&quot;top&quot;\r\n            motion:springStopThreshold=&quot;0&quot;\r\n            motion:springMass=&quot;2.6&quot;\r\n            motion:springStiffness=&quot;389.76&quot; /&gt;\r\n        &lt;KeyFrameSet&gt;\r\n            ...\r\n        &lt;/KeyFrameSet&gt;\r\n    &lt;/Transition&gt;\r\n...\r\n&lt;/MotionScene&gt;\r\n```\r\nNotice that both of them are identical transitions, both transitioning from the &quot;collapsed&quot; state to the &quot;expanded&quot; state, both with the same KeyFrameSet. The only differences are that one of them has a cubic motionInterpolator (I called this one &quot;programmatic_transition&quot;), and the other has a linear motionInterpolator paired with an OnSwipe tag with my desired spring physics (called &quot;onswipe_transition&quot;).\r\n\r\nNow that we have our two transitions, we need to programmatically switch between them, depending on whether we&#39;re currently swiping, or just using `transitionToStart/End()`.\r\n\r\nThe latter is easy: just set the transition right before calling `transitionToStart/End()`.\r\n```kotlin\r\nfun collapse() {\r\n    motionLayout.setTransition(R.id.programmatic_transition)\r\n    motionLayout.transitionToStart()\r\n}\r\nfun expand() {\r\n    motionLayout.setTransition(R.id.programmatic_transition)\r\n    motionLayout.transitionToEnd()\r\n}\r\n```\r\nFor the swipes, we&#39;ll use a transition listener to detect when a swipe is started, so that we can set the &quot;onswipe_transition&quot; instead.\r\n```kotlin\r\nmotionLayout.setTransitionListener(object : TransitionListener {\r\n    override fun onTransitionTrigger(p0: MotionLayout?, p1: Int, p2: Boolean, p3: Float) {}\r\n    override fun onTransitionStarted(p0: MotionLayout?, p1: Int, p2: Int) {\r\n        if (dragging) {\r\n            motionLayout.setTransition(R.id.onswipe_transition)\r\n        }\r\n    }\r\n    override fun onTransitionChange(p0: MotionLayout, p1: Int, p2: Int, p3: Float) {}\r\n    override fun onTransitionCompleted(p0: MotionLayout, p1: Int) {}\r\n})\r\n```\r\nNotice how we *only* set the transition when our finger is dragging across the screen (this magical variable `dragging`). The last step now is to make sure `dragging` is `true` when our finger is dragging across the screen, and `false` when our finger has released the screen.\r\n\r\nFor that, we&#39;ll override `onInterceptTouchEvent` on our MotionLayout so we can keep track of this.\r\n```kotlin\r\noverride fun onInterceptTouchEvent(ev: MotionEvent): Boolean {\r\n    val isInTarget = // check if the position of the event is within the view that we want to allow to be dragged from\r\n\r\n    return if (isInTarget || dragging) {\r\n        when (ev.action) {\r\n            MotionEvent.ACTION_DOWN -&gt; {\r\n                dragging = true\r\n            }\r\n            MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {\r\n                dragging = false\r\n            }\r\n        }\r\n        super.onInterceptTouchEvent(ev)\r\n    } else {\r\n        true\r\n    }\r\n}\r\n```\r\nThis `isInTarget` value will depend on your own design.\r\n\r\nSo there we have it. I have gone nearly crazy by figuring all of this out over the past two days, but I&#39;m pleased to say that this solution has fixed the problem flawlessly. Hopefully I&#39;ll have helped someone else out there trying to something similar!","title":"MotionLayout OnSwipe spring physics stop working after transitionToStart/End()","body":"<p>After a lot of messing around with it, I have found the solution.</p>\n<p>To restate what my goal is:</p>\n<ul>\n<li>I want to be able use the OnSwipe feature of my MotionLayout's transition, such that it perfectly tracks my finger and uses spring physics when I release to snap to a starting/ending state.</li>\n<li>I also want to be able to trigger <code>transitionToStart/End</code> programmatically (which in my case happens to be hooked up to a setOnClickListener on the collapsed bar, see the GIF in the original question).</li>\n</ul>\n<p>For OnSwipe to track my finger correctly, it needs the motionInterpolator to be <strong>linear</strong>, but I don't want to make the programmatic triggers to be linear as well, because it doesn't look very natural. I want them to be <em>cubic</em> instead, so this means I will need to <strong>switch between two transitions depending on whether it was triggered programmatically or by OnSwipe</strong>.</p>\n<p>So let's create two Transitions for this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;MotionScene\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:motion=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;Transition\n        android:id=&quot;@+id/programmatic_transition&quot;\n        motion:constraintSetStart=&quot;@id/collapsed&quot;\n        motion:constraintSetEnd=&quot;@id/expanded&quot;\n        motion:duration=&quot;500&quot;\n        motion:motionInterpolator=&quot;cubic(0.2,0,0,1)&quot;&gt;\n        &lt;KeyFrameSet&gt;\n            ...\n        &lt;/KeyFrameSet&gt;\n    &lt;/Transition&gt;\n\n    &lt;Transition\n        android:id=&quot;@+id/onswipe_transition&quot;\n        motion:constraintSetStart=&quot;@id/collapsed&quot;\n        motion:constraintSetEnd=&quot;@id/expanded&quot;\n        motion:duration=&quot;500&quot;\n        motion:motionInterpolator=&quot;linear&quot;&gt;\n        &lt;OnSwipe\n            motion:springDamping=&quot;60&quot;\n            motion:autoCompleteMode=&quot;spring&quot;\n            motion:onTouchUp=&quot;autoComplete&quot;\n            motion:dragDirection=&quot;dragUp&quot;\n            motion:touchAnchorId=&quot;@id/now_playing_anchor&quot;\n            motion:touchAnchorSide=&quot;top&quot;\n            motion:springStopThreshold=&quot;0&quot;\n            motion:springMass=&quot;2.6&quot;\n            motion:springStiffness=&quot;389.76&quot; /&gt;\n        &lt;KeyFrameSet&gt;\n            ...\n        &lt;/KeyFrameSet&gt;\n    &lt;/Transition&gt;\n...\n&lt;/MotionScene&gt;\n</code></pre>\n<p>Notice that both of them are identical transitions, both transitioning from the &quot;collapsed&quot; state to the &quot;expanded&quot; state, both with the same KeyFrameSet. The only differences are that one of them has a cubic motionInterpolator (I called this one &quot;programmatic_transition&quot;), and the other has a linear motionInterpolator paired with an OnSwipe tag with my desired spring physics (called &quot;onswipe_transition&quot;).</p>\n<p>Now that we have our two transitions, we need to programmatically switch between them, depending on whether we're currently swiping, or just using <code>transitionToStart/End()</code>.</p>\n<p>The latter is easy: just set the transition right before calling <code>transitionToStart/End()</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun collapse() {\n    motionLayout.setTransition(R.id.programmatic_transition)\n    motionLayout.transitionToStart()\n}\nfun expand() {\n    motionLayout.setTransition(R.id.programmatic_transition)\n    motionLayout.transitionToEnd()\n}\n</code></pre>\n<p>For the swipes, we'll use a transition listener to detect when a swipe is started, so that we can set the &quot;onswipe_transition&quot; instead.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>motionLayout.setTransitionListener(object : TransitionListener {\n    override fun onTransitionTrigger(p0: MotionLayout?, p1: Int, p2: Boolean, p3: Float) {}\n    override fun onTransitionStarted(p0: MotionLayout?, p1: Int, p2: Int) {\n        if (dragging) {\n            motionLayout.setTransition(R.id.onswipe_transition)\n        }\n    }\n    override fun onTransitionChange(p0: MotionLayout, p1: Int, p2: Int, p3: Float) {}\n    override fun onTransitionCompleted(p0: MotionLayout, p1: Int) {}\n})\n</code></pre>\n<p>Notice how we <em>only</em> set the transition when our finger is dragging across the screen (this magical variable <code>dragging</code>). The last step now is to make sure <code>dragging</code> is <code>true</code> when our finger is dragging across the screen, and <code>false</code> when our finger has released the screen.</p>\n<p>For that, we'll override <code>onInterceptTouchEvent</code> on our MotionLayout so we can keep track of this.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onInterceptTouchEvent(ev: MotionEvent): Boolean {\n    val isInTarget = // check if the position of the event is within the view that we want to allow to be dragged from\n\n    return if (isInTarget || dragging) {\n        when (ev.action) {\n            MotionEvent.ACTION_DOWN -&gt; {\n                dragging = true\n            }\n            MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; {\n                dragging = false\n            }\n        }\n        super.onInterceptTouchEvent(ev)\n    } else {\n        true\n    }\n}\n</code></pre>\n<p>This <code>isInTarget</code> value will depend on your own design.</p>\n<p>So there we have it. I have gone nearly crazy by figuring all of this out over the past two days, but I'm pleased to say that this solution has fixed the problem flawlessly. Hopefully I'll have helped someone else out there trying to something similar!</p>\n"},{"tags":[],"owner":{"account_id":3016379,"reputation":5038,"user_id":2558442,"display_name":"hoford"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659891835,"creation_date":1659891835,"answer_id":73269430,"question_id":73254556,"body_markdown":"This is a bug but even when it is fixed it would not do what you want. \r\n\r\nThe basic problem is you want two transition between the two states.\r\nThere is a work around that is not elegant. \r\n\r\n 1. create to alias states collapsed2 and expanded2\r\n 2. create transitions collapsed-&gt;expanded2 and expanded-&gt;collapsed2\r\n 3. create auto transitions expanded2-&gt;expanded2 and collapsed-&gt;collapsed2\r\n\r\nThis some what easy to do in the MotionEditor but it is messy\r\n\r\n```XML\r\n    &lt;ConstraintSet\r\n        android:id=&quot;@+id/collapsed2&quot;\r\n        motion:deriveConstraintsFrom=&quot;@+id/collapsed&quot; /&gt;\r\n    &lt;ConstraintSet\r\n        android:id=&quot;@+id/expanded2&quot;\r\n        motion:deriveConstraintsFrom=&quot;@+id/expanded&quot; /&gt;\r\n\r\n    &lt;Transition\r\n        android:id=&quot;@+id/click_to_expand&quot;\r\n        motion:constraintSetEnd=&quot;@+id/expanded2&quot;\r\n        motion:constraintSetStart=&quot;@id/collapsed&quot;\r\n        motion:motionInterpolator=&quot;cubic(0.2,0,0,1)&quot;\r\n         /&gt;\r\n\r\n    &lt;Transition\r\n        android:id=&quot;@+id/click_to_collapse&quot;\r\n        motion:constraintSetEnd=&quot;@+id/collapsed2&quot;\r\n        motion:constraintSetStart=&quot;@id/expanded2&quot;\r\n        motion:motionInterpolator=&quot;cubic(0.2,0,0,1)&quot;\r\n        /&gt;\r\n\r\n    &lt;Transition\r\n        motion:autoTransition=&quot;jumpToEnd&quot;\r\n        motion:constraintSetEnd=&quot;@+id/expanded&quot;\r\n        motion:constraintSetStart=&quot;@id/expanded2&quot; /&gt;\r\n    &lt;Transition\r\n        motion:autoTransition=&quot;jumpToEnd&quot;\r\n        motion:constraintSetEnd=&quot;@+id/collapsed&quot;\r\n        motion:constraintSetStart=&quot;@id/collapsed&quot; /&gt;\r\n\r\n```\r\nTo transition \r\n```\r\n\r\n        if (progress &lt; 0.5) {\r\n            mMotionLayout.setTransition(R.id.click_to_expand);\r\n            mMotionLayout.transitionToState(R.id.expanded2);\r\n        }\r\n        else {\r\n            mMotionLayout.setTransition(R.id.click_to_collapse);\r\n            mMotionLayout.transitionToState(R.id.collapsed2);\r\n        }\r\n```\r\n\r\nThe power of this approach is you can customize the transitions with there own \r\nkeyframes\r\n\r\n - interpolator\r\n - arcMode (motion:pathMotionArc=&quot;startVertical&quot;)\r\n - keyFrames\r\n - stagger\r\n\r\nLonger term I will be fixing the bug and adding a few features to make the use case simpler. \r\n\r\n","title":"MotionLayout OnSwipe spring physics stop working after transitionToStart/End()","body":"<p>This is a bug but even when it is fixed it would not do what you want.</p>\n<p>The basic problem is you want two transition between the two states.\nThere is a work around that is not elegant.</p>\n<ol>\n<li>create to alias states collapsed2 and expanded2</li>\n<li>create transitions collapsed-&gt;expanded2 and expanded-&gt;collapsed2</li>\n<li>create auto transitions expanded2-&gt;expanded2 and collapsed-&gt;collapsed2</li>\n</ol>\n<p>This some what easy to do in the MotionEditor but it is messy</p>\n<pre><code>    &lt;ConstraintSet\n        android:id=&quot;@+id/collapsed2&quot;\n        motion:deriveConstraintsFrom=&quot;@+id/collapsed&quot; /&gt;\n    &lt;ConstraintSet\n        android:id=&quot;@+id/expanded2&quot;\n        motion:deriveConstraintsFrom=&quot;@+id/expanded&quot; /&gt;\n\n    &lt;Transition\n        android:id=&quot;@+id/click_to_expand&quot;\n        motion:constraintSetEnd=&quot;@+id/expanded2&quot;\n        motion:constraintSetStart=&quot;@id/collapsed&quot;\n        motion:motionInterpolator=&quot;cubic(0.2,0,0,1)&quot;\n         /&gt;\n\n    &lt;Transition\n        android:id=&quot;@+id/click_to_collapse&quot;\n        motion:constraintSetEnd=&quot;@+id/collapsed2&quot;\n        motion:constraintSetStart=&quot;@id/expanded2&quot;\n        motion:motionInterpolator=&quot;cubic(0.2,0,0,1)&quot;\n        /&gt;\n\n    &lt;Transition\n        motion:autoTransition=&quot;jumpToEnd&quot;\n        motion:constraintSetEnd=&quot;@+id/expanded&quot;\n        motion:constraintSetStart=&quot;@id/expanded2&quot; /&gt;\n    &lt;Transition\n        motion:autoTransition=&quot;jumpToEnd&quot;\n        motion:constraintSetEnd=&quot;@+id/collapsed&quot;\n        motion:constraintSetStart=&quot;@id/collapsed&quot; /&gt;\n\n</code></pre>\n<p>To transition</p>\n<pre><code>\n        if (progress &lt; 0.5) {\n            mMotionLayout.setTransition(R.id.click_to_expand);\n            mMotionLayout.transitionToState(R.id.expanded2);\n        }\n        else {\n            mMotionLayout.setTransition(R.id.click_to_collapse);\n            mMotionLayout.transitionToState(R.id.collapsed2);\n        }\n</code></pre>\n<p>The power of this approach is you can customize the transitions with there own\nkeyframes</p>\n<ul>\n<li>interpolator</li>\n<li>arcMode (motion:pathMotionArc=&quot;startVertical&quot;)</li>\n<li>keyFrames</li>\n<li>stagger</li>\n</ul>\n<p>Longer term I will be fixing the bug and adding a few features to make the use case simpler.</p>\n"}],"owner":{"account_id":9530284,"reputation":436,"user_id":7082205,"display_name":"Artie Vandelay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73269329,"answer_count":2,"score":1,"last_activity_date":1659893678,"creation_date":1659728164,"question_id":73254556,"body_markdown":"I have the following MotionLayout:\r\n\r\n![](https://media.discordapp.net/attachments/759145717670608907/1005195146377310288/output.gif)\r\n\r\nThe Transition XML is as follows (I omitted the keyframes because they don&#39;t matter for this example).\r\n```xml\r\n&lt;Transition\r\n    motion:constraintSetStart=&quot;@id/collapsed&quot;\r\n    motion:constraintSetEnd=&quot;@id/expanded&quot;\r\n    motion:duration=&quot;500&quot;\r\n    motion:motionInterpolator=&quot;cubic(0.2,0,0,1)&quot;&gt;\r\n    &lt;OnSwipe\r\n        motion:springDamping=&quot;63.973&quot;\r\n        motion:autoCompleteMode=&quot;spring&quot;\r\n        motion:onTouchUp=&quot;autoComplete&quot;\r\n        motion:dragDirection=&quot;dragUp&quot;\r\n        motion:touchAnchorId=&quot;@id/now_playing_touchable_area&quot;\r\n        motion:touchAnchorSide=&quot;top&quot;\r\n        motion:springStopThreshold=&quot;1.0E-4&quot;\r\n        motion:springMass=&quot;2.6&quot;\r\n        motion:springStiffness=&quot;389.76&quot; /&gt;\r\n    &lt;KeyFrameSet&gt;\r\n        ...\r\n    &lt;/KeyFrameSet&gt;\r\n&lt;/Transition&gt;\r\n```\r\nWhen I start my app for the first time, and I begin a swipe, you can see that the layout tracks my finger correctly. It moves at the same speed as my finger, until I release, after which it uses spring physics to autocomplete to a start/end state.\r\n\r\nHowever, I have also bound a click listener to `transitionToStart()` and `transitionToEnd()` (depending on whether we&#39;re currently expanded/collapsed), and as soon as I trigger those once, the OnSwipe spring physics and tracking stop working. The layout no longer tracks my finger, but now uses the cubic motionInterpolator defined for the Transition.\r\n\r\nHow do I combat this? I would like to be able to use `transitionToStart/End()` programmatically, while still keeping spring physics for regular swipes.\r\n\r\nEDIT: I have some more useful information. It turns out, after the first `transitionToStart/End()`, the OnSwipe still uses spring physics, except it seems they are being *modified* by the cubic motionInterpolator. How do I know this? If I set my motionInterpolator to linear, I experience no issues. Before and after a `transitionToStart()/End()`, the OnSwipe behavior works as intended and tracks my finger like it&#39;s supposed to.\r\n\r\nSo a more specific question now is, how can I get the OnSwipe behavior to ignore the motionInterpolator and just always use linear (and why is it being affected by it in the first place)?","title":"MotionLayout OnSwipe spring physics stop working after transitionToStart/End()","body":"<p>I have the following MotionLayout:</p>\n<p><img src=\"https://media.discordapp.net/attachments/759145717670608907/1005195146377310288/output.gif\" alt=\"\" /></p>\n<p>The Transition XML is as follows (I omitted the keyframes because they don't matter for this example).</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Transition\n    motion:constraintSetStart=&quot;@id/collapsed&quot;\n    motion:constraintSetEnd=&quot;@id/expanded&quot;\n    motion:duration=&quot;500&quot;\n    motion:motionInterpolator=&quot;cubic(0.2,0,0,1)&quot;&gt;\n    &lt;OnSwipe\n        motion:springDamping=&quot;63.973&quot;\n        motion:autoCompleteMode=&quot;spring&quot;\n        motion:onTouchUp=&quot;autoComplete&quot;\n        motion:dragDirection=&quot;dragUp&quot;\n        motion:touchAnchorId=&quot;@id/now_playing_touchable_area&quot;\n        motion:touchAnchorSide=&quot;top&quot;\n        motion:springStopThreshold=&quot;1.0E-4&quot;\n        motion:springMass=&quot;2.6&quot;\n        motion:springStiffness=&quot;389.76&quot; /&gt;\n    &lt;KeyFrameSet&gt;\n        ...\n    &lt;/KeyFrameSet&gt;\n&lt;/Transition&gt;\n</code></pre>\n<p>When I start my app for the first time, and I begin a swipe, you can see that the layout tracks my finger correctly. It moves at the same speed as my finger, until I release, after which it uses spring physics to autocomplete to a start/end state.</p>\n<p>However, I have also bound a click listener to <code>transitionToStart()</code> and <code>transitionToEnd()</code> (depending on whether we're currently expanded/collapsed), and as soon as I trigger those once, the OnSwipe spring physics and tracking stop working. The layout no longer tracks my finger, but now uses the cubic motionInterpolator defined for the Transition.</p>\n<p>How do I combat this? I would like to be able to use <code>transitionToStart/End()</code> programmatically, while still keeping spring physics for regular swipes.</p>\n<p>EDIT: I have some more useful information. It turns out, after the first <code>transitionToStart/End()</code>, the OnSwipe still uses spring physics, except it seems they are being <em>modified</em> by the cubic motionInterpolator. How do I know this? If I set my motionInterpolator to linear, I experience no issues. Before and after a <code>transitionToStart()/End()</code>, the OnSwipe behavior works as intended and tracks my finger like it's supposed to.</p>\n<p>So a more specific question now is, how can I get the OnSwipe behavior to ignore the motionInterpolator and just always use linear (and why is it being affected by it in the first place)?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1659845237,"post_id":73264748,"comment_id":129389656,"body_markdown":"Draw the board and pieces on one drawing `JPanel`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"Draw the board and pieces on one drawing <code>JPanel</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1659880080,"post_id":73264748,"comment_id":129395106,"body_markdown":"Don&#39;t override paint() on a JFrame. You have broken the painting chain which means the child components added to the frame will not be painted. As suggested a child JPanel should be used. Check out: https://stackoverflow.com/questions/6811247/drawing-in-jlayeredpane-over-exising-jpanels/6811800#6811800 for an example showing how you can use real components which might making dragging easier.","body":"Don&#39;t override paint() on a JFrame. You have broken the painting chain which means the child components added to the frame will not be painted. As suggested a child JPanel should be used. Check out: <a href=\"https://stackoverflow.com/questions/6811247/drawing-in-jlayeredpane-over-exising-jpanels/6811800#6811800\" title=\"drawing in jlayeredpane over exising jpanels\">stackoverflow.com/questions/6811247/&hellip;</a> for an example showing how you can use real components which might making dragging easier."}],"answers":[{"tags":[],"owner":{"account_id":23568015,"reputation":136,"user_id":17608510,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659893576,"creation_date":1659893576,"answer_id":73269637,"question_id":73264748,"body_markdown":"You should not override the paint() method of the JFrame. \r\n\r\nThe JFrame is your top-level-container, that should contain components, which can be painted however you want. So instead of overwriting the paint() method, you should go for a better approach. I will give you some advice to create a chess game in Swing:\r\n\r\n- I personally never use the JFrame itself, I usually place a JPanel inside that fills the whole JFrame.\r\n\r\n- You can use this JPanel and set its Layout to JPanel.setLayout(new GridLayout(8, 8)). This will give you a complete and responsive chess field, which can be filled with whatever component you want.\r\n\r\n- Make use of the BorderLayout to place the position letters and numbers at the top (NORTH), left (WEST) or where ever you want.\r\n\r\n- To implement a Drag&amp;Drop based game, an easy way to do so is placing 64 JButtons inside the GridLayout and Adding MouseListener + MouseMotionListener. The methods mousePressed() and mouseReleased() will help actually activating/deactivating DnD, the method mouseDragged() can be used to fix the icon at the mouse.\r\n\r\nI hope this helps you creating your chess game, good luck!","title":"How to add a JPanel to JFrame without deleting currently drawn graphics?","body":"<p>You should not override the paint() method of the JFrame.</p>\n<p>The JFrame is your top-level-container, that should contain components, which can be painted however you want. So instead of overwriting the paint() method, you should go for a better approach. I will give you some advice to create a chess game in Swing:</p>\n<ul>\n<li><p>I personally never use the JFrame itself, I usually place a JPanel inside that fills the whole JFrame.</p>\n</li>\n<li><p>You can use this JPanel and set its Layout to JPanel.setLayout(new GridLayout(8, 8)). This will give you a complete and responsive chess field, which can be filled with whatever component you want.</p>\n</li>\n<li><p>Make use of the BorderLayout to place the position letters and numbers at the top (NORTH), left (WEST) or where ever you want.</p>\n</li>\n<li><p>To implement a Drag&amp;Drop based game, an easy way to do so is placing 64 JButtons inside the GridLayout and Adding MouseListener + MouseMotionListener. The methods mousePressed() and mouseReleased() will help actually activating/deactivating DnD, the method mouseDragged() can be used to fix the icon at the mouse.</p>\n</li>\n</ul>\n<p>I hope this helps you creating your chess game, good luck!</p>\n"}],"owner":{"account_id":25838585,"reputation":15,"user_id":19574579,"display_name":"CuberBoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73269637,"answer_count":1,"score":0,"last_activity_date":1659893576,"creation_date":1659844135,"question_id":73264748,"body_markdown":"I am in the process of making a basic chess game using java gui (swing, awt). I found though that 1, only the board drawn in JFrame initially shows up, and 2, while the image of a piece appears when I start dragging my cursor, the board disappears and just leaves the draggable image. How can I get the image to initially be visible and not remove the board when I drag it?\r\n\r\n```\r\nimport javax.swing.JFrame;\r\nimport java.awt.Graphics;\r\nimport java.awt.Color;\r\n\r\npublic class BoardGUI extends JFrame {\r\n\t\r\n\tpublic BoardGUI()\r\n\t{\r\n\t\tthis.setSize(1000,1000);\r\n\t\tthis.setTitle(&quot;Chess&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tPieceImage king = new PieceImage(&quot;./king.png&quot;,500,800);\r\n\t\tthis.add(king);\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic void paint(Graphics g)\r\n\t{\r\n\t\tint[] swap  = {1,2};\r\n\t\tString[] rowNum = {&quot;8&quot;,&quot;7&quot;,&quot;6&quot;,&quot;5&quot;,&quot;4&quot;,&quot;3&quot;,&quot;2&quot;,&quot;1&quot;};\r\n\t\tString[] ColumnLetter = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;};\r\n\t\tint rowCount = 0;\r\n\t\tint columnCount = 0;\r\n\t\tfor(int i=100;i&lt;900;i+=100)\r\n\t\t{\r\n\t\t\tfor(int j=100;j&lt;900;j+=100)\r\n\t\t\t{\r\n\t\t\t\tif(i==100)\r\n\t\t\t\t{\r\n\t\t\t\t\tg.setColor(Color.black);\r\n\t\t\t\t\tg.drawString(rowNum[rowCount++],i-20,j+60);\r\n\t\t\t\t}\r\n\t\t\t\tif(j==100)\r\n\t\t\t\t{\r\n\t\t\t\t\tg.setColor(Color.black);\r\n\t\t\t\t\tg.drawString(ColumnLetter[columnCount++],i+50,j+820);\r\n\t\t\t\t}\r\n\t\t\t\tif(swap[0] == 1)\r\n\t\t\t\t\tg.setColor(Color.white);\r\n\t\t\t\telse\r\n\t\t\t\t\tg.setColor(Color.black);\r\n\t\t\t\tswapColor(swap);\r\n\t\t\t\tg.fillRect(i,j,100,100);\r\n\t\t\t\tif(j==800)\r\n\t\t\t\t\tswapColor(swap);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void swapColor(int[] swap)\r\n\t{\r\n\t\tint temp = swap[0];\r\n\t\tswap[0] = swap[1];\r\n\t\tswap[1] = temp;\r\n\t}\r\n}\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.event.MouseInputAdapter;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.Graphics;\r\nimport java.awt.Point;\r\n\r\npublic class PieceImage extends JPanel {\r\n\tprivate ImageIcon image;\r\n\tprivate Point prevPos; \r\n\tprivate Point pos; \r\n\t\r\n\tpublic PieceImage(String imagePath, int xPos, int yPos)\r\n\t{\r\n\t\tif(imagePath==null)\r\n\t\t\treturn;\r\n\t\tthis.image = new ImageIcon(imagePath);\r\n\t\tthis.pos = new Point(xPos,yPos);\r\n\t\t\r\n\t\tClickListener clickListner = new ClickListener();\r\n\t\tDragListener dragListener = new DragListener();\r\n\t\t\r\n\t\tthis.addMouseListener(clickListner);\r\n\t\tthis.addMouseMotionListener(dragListener);\r\n\t}\r\n\t\r\n\t\r\n\tprivate class ClickListener extends MouseAdapter {\r\n\t\t\r\n\t\tpublic void mousePressed(MouseEvent e)\r\n\t\t{\r\n\t\t\tprevPos = e.getPoint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate class DragListener extends MouseInputAdapter {\r\n\t\t\r\n\t\tpublic void mouseDragged(MouseEvent e)\r\n\t\t{\r\n\t\t\tPoint temp = e.getPoint();\r\n\t\t\tpos.translate((int)(temp.getX() - prevPos.getX())-50, (int)(temp.getY() - prevPos.getY())-50);\r\n\t\t\t\r\n\t\t\tprevPos = pos;\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void paintComponent(Graphics g)\r\n\t{\r\n\t\tsuper.paintComponent(g);\r\n\t\timage.paintIcon(this, g, (int)pos.getX(), (int)pos.getY());\r\n\t}\r\n}\r\n```\r\n","title":"How to add a JPanel to JFrame without deleting currently drawn graphics?","body":"<p>I am in the process of making a basic chess game using java gui (swing, awt). I found though that 1, only the board drawn in JFrame initially shows up, and 2, while the image of a piece appears when I start dragging my cursor, the board disappears and just leaves the draggable image. How can I get the image to initially be visible and not remove the board when I drag it?</p>\n<pre><code>import javax.swing.JFrame;\nimport java.awt.Graphics;\nimport java.awt.Color;\n\npublic class BoardGUI extends JFrame {\n    \n    public BoardGUI()\n    {\n        this.setSize(1000,1000);\n        this.setTitle(&quot;Chess&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        PieceImage king = new PieceImage(&quot;./king.png&quot;,500,800);\n        this.add(king);\n        this.setVisible(true);\n    }\n    \n    public void paint(Graphics g)\n    {\n        int[] swap  = {1,2};\n        String[] rowNum = {&quot;8&quot;,&quot;7&quot;,&quot;6&quot;,&quot;5&quot;,&quot;4&quot;,&quot;3&quot;,&quot;2&quot;,&quot;1&quot;};\n        String[] ColumnLetter = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;};\n        int rowCount = 0;\n        int columnCount = 0;\n        for(int i=100;i&lt;900;i+=100)\n        {\n            for(int j=100;j&lt;900;j+=100)\n            {\n                if(i==100)\n                {\n                    g.setColor(Color.black);\n                    g.drawString(rowNum[rowCount++],i-20,j+60);\n                }\n                if(j==100)\n                {\n                    g.setColor(Color.black);\n                    g.drawString(ColumnLetter[columnCount++],i+50,j+820);\n                }\n                if(swap[0] == 1)\n                    g.setColor(Color.white);\n                else\n                    g.setColor(Color.black);\n                swapColor(swap);\n                g.fillRect(i,j,100,100);\n                if(j==800)\n                    swapColor(swap);\n            }\n        }\n    }\n    \n    private void swapColor(int[] swap)\n    {\n        int temp = swap[0];\n        swap[0] = swap[1];\n        swap[1] = temp;\n    }\n}\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JPanel;\nimport javax.swing.event.MouseInputAdapter;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.Graphics;\nimport java.awt.Point;\n\npublic class PieceImage extends JPanel {\n    private ImageIcon image;\n    private Point prevPos; \n    private Point pos; \n    \n    public PieceImage(String imagePath, int xPos, int yPos)\n    {\n        if(imagePath==null)\n            return;\n        this.image = new ImageIcon(imagePath);\n        this.pos = new Point(xPos,yPos);\n        \n        ClickListener clickListner = new ClickListener();\n        DragListener dragListener = new DragListener();\n        \n        this.addMouseListener(clickListner);\n        this.addMouseMotionListener(dragListener);\n    }\n    \n    \n    private class ClickListener extends MouseAdapter {\n        \n        public void mousePressed(MouseEvent e)\n        {\n            prevPos = e.getPoint();\n        }\n    }\n    \n    private class DragListener extends MouseInputAdapter {\n        \n        public void mouseDragged(MouseEvent e)\n        {\n            Point temp = e.getPoint();\n            pos.translate((int)(temp.getX() - prevPos.getX())-50, (int)(temp.getY() - prevPos.getY())-50);\n            \n            prevPos = pos;\n            repaint();\n        }\n    }\n    \n    public void paintComponent(Graphics g)\n    {\n        super.paintComponent(g);\n        image.paintIcon(this, g, (int)pos.getX(), (int)pos.getY());\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","indexing","char","indexoutofboundsexception"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1656490806,"post_id":72798014,"comment_id":128582867,"body_markdown":"Print `a` inside of your `for` loop to look at what `Integer.valueOf(s)` returns. Is this a valid index for `arr`? For further reference, also have a look at the [ASCII Table](https://www.asciitable.com/).","body":"Print <code>a</code> inside of your <code>for</code> loop to look at what <code>Integer.valueOf(s)</code> returns. Is this a valid index for <code>arr</code>? For further reference, also have a look at the <a href=\"https://www.asciitable.com/\" rel=\"nofollow noreferrer\">ASCII Table</a>."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":1,"creation_date":1656490968,"post_id":72798014,"comment_id":128582911,"body_markdown":"you&#39;re getting the ASCII value...","body":"you&#39;re getting the ASCII value..."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1656490905,"creation_date":1656490905,"answer_id":72798073,"question_id":72798014,"body_markdown":"This is the place your code is failing at:\r\n\r\n    a = Integer.valueOf(s);\r\n\r\nInstead of converting `&#39;1&#39;` to `1` as you were expecting, it converts `&#39;1&#39;` into the ascii equivalent, 49.\r\n\r\nTo avoid this:\r\n\r\n    a = Character.getNumericValue(s);\r\n\r\nThis will convert `&#39;1&#39;` to `1`, and so on.\r\n","title":"Array index out of bounds error even though the indices are within the array length","body":"<p>This is the place your code is failing at:</p>\n<pre><code>a = Integer.valueOf(s);\n</code></pre>\n<p>Instead of converting <code>'1'</code> to <code>1</code> as you were expecting, it converts <code>'1'</code> into the ascii equivalent, 49.</p>\n<p>To avoid this:</p>\n<pre><code>a = Character.getNumericValue(s);\n</code></pre>\n<p>This will convert <code>'1'</code> to <code>1</code>, and so on.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656491411,"creation_date":1656491411,"answer_id":72798194,"question_id":72798014,"body_markdown":"Change:\r\n\r\n    a = Integer.valueOf(s);\r\n\r\nTo:\r\n\r\n    a = s - &#39;0&#39;;\r\n\r\nSubtracting `&#39;0&#39;` returns the int value of a digit character.","title":"Array index out of bounds error even though the indices are within the array length","body":"<p>Change:</p>\n<pre><code>a = Integer.valueOf(s);\n</code></pre>\n<p>To:</p>\n<pre><code>a = s - '0';\n</code></pre>\n<p>Subtracting <code>'0'</code> returns the int value of a digit character.</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656491720,"creation_date":1656491411,"answer_id":72798195,"question_id":72798014,"body_markdown":"Here&#39;s the problem:\r\n\r\nThere are two Integer.valueOf() methods:\r\n\r\n1.  ```Integer.valueOf(int)```\r\n\r\n2.  ```Integer.valueOf(String)```\r\n\r\nWhen you call valueOf on a character such as &#39;5&#39;, the ```Integer.valueOf(int)``` is called.  The ```&#39;5&#39;``` is casted to int which is 53 which is the ascii code for the character ```&#39;5&#39;```.\r\n\r\nYour code:\r\n```\r\nfor (int i=0; i&lt;st.length(); i++){\r\n  s = st.charAt(i);\r\n  a = Integer.valueOf(s);  &lt;=== a is the ascii code\r\n  System.out.print(arr[a]+&quot; &quot;);  &lt;==will cause index out of bound.\r\n}\r\n```\r\n\r\nPossible fixes:\r\n1.  compute the digit of the character (preferred).  For example: &#39;5&#39; - &#39;0&#39; = 5.\r\n2.  convert the character to a string.  \r\n```\r\nfor (int i=0; i&lt;st.length(); i++){\r\n  s = st.charAt(i);\r\n  a = Integer.valueOf(s-&#39;0&#39;); \r\n  System.out.print(arr[a]+&quot; &quot;);  \r\n}\r\n```","title":"Array index out of bounds error even though the indices are within the array length","body":"<p>Here's the problem:</p>\n<p>There are two Integer.valueOf() methods:</p>\n<ol>\n<li><p><code>Integer.valueOf(int)</code></p>\n</li>\n<li><p><code>Integer.valueOf(String)</code></p>\n</li>\n</ol>\n<p>When you call valueOf on a character such as '5', the <code>Integer.valueOf(int)</code> is called.  The <code>'5'</code> is casted to int which is 53 which is the ascii code for the character <code>'5'</code>.</p>\n<p>Your code:</p>\n<pre><code>for (int i=0; i&lt;st.length(); i++){\n  s = st.charAt(i);\n  a = Integer.valueOf(s);  &lt;=== a is the ascii code\n  System.out.print(arr[a]+&quot; &quot;);  &lt;==will cause index out of bound.\n}\n</code></pre>\n<p>Possible fixes:</p>\n<ol>\n<li>compute the digit of the character (preferred).  For example: '5' - '0' = 5.</li>\n<li>convert the character to a string.</li>\n</ol>\n<pre><code>for (int i=0; i&lt;st.length(); i++){\n  s = st.charAt(i);\n  a = Integer.valueOf(s-'0'); \n  System.out.print(arr[a]+&quot; &quot;);  \n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19379961"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656492127,"creation_date":1656492127,"answer_id":72798356,"question_id":72798014,"body_markdown":"you are getting an error here\r\n\r\n     a = Integer.valueOf(s);\r\n\r\nit converts char to their respective Unicode value. Instead of this code, you can use the below function.\r\n\r\n    Character.getNumericValue();\r\n\r\nRefer this link -&gt; [Char to Int][1]\r\n\r\n\r\nYou can also do\r\n\r\n    String c=String.valueOf(s);  \r\n    int foo = Integer.parseInt(c);\r\nRefer -&gt; [How do I convert a String to an int in Java?][2]\r\n\r\n\r\n  [1]: https://www.javatpoint.com/java-char-to-int\r\n  [2]: https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java","title":"Array index out of bounds error even though the indices are within the array length","body":"<p>you are getting an error here</p>\n<pre><code> a = Integer.valueOf(s);\n</code></pre>\n<p>it converts char to their respective Unicode value. Instead of this code, you can use the below function.</p>\n<pre><code>Character.getNumericValue();\n</code></pre>\n<p>Refer this link -&gt; <a href=\"https://www.javatpoint.com/java-char-to-int\" rel=\"nofollow noreferrer\">Char to Int</a></p>\n<p>You can also do</p>\n<pre><code>String c=String.valueOf(s);  \nint foo = Integer.parseInt(c);\n</code></pre>\n<p>Refer -&gt; <a href=\"https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java\">How do I convert a String to an int in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656513783,"creation_date":1656513406,"answer_id":72803253,"question_id":72798014,"body_markdown":"Firstly, lean about the [*primitive data types in Java*](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html).\r\n\r\nIf your background is JavaScript, which has no `char` type, you might have been thinking that `char` is a &quot;kind of&quot; string, but it&#39;s **not**.\r\n\r\n`char` - is a *16-bit **numeric*** primitive data type, which has a minimum value of &#39;\\u0000&#39; (or `0`) and a maximum value of &#39;\\uffff&#39; (or `65,535`) which was meant to represent Unicode-characters. But in the earlier days of Java the Unicode standard has been changed, and `char` type appeared to be broken, to fix this code points were introduced in the language.\r\n\r\nIn this statement `a = Integer.valueOf(s);` character `s` is being promoted into `int` type and method `valueOf()` creates an unnecessary instance of `Integer` which is being immediately thrown away, and you end up with `a` having a value in the range from `48` (`0`) to `57` (`9`), which is greater than array&#39;s length. Therefore, you&#39;re getting a justifiable `ArrayIndexOutOfBoundsException`.\r\n\r\nAlso, there are few more issues.\r\n\r\nCompiler will not complain that you&#39;re creating a new array for each method call but this approach is wrong, the string array should be `static`, i.e. it should reside on a class level:\r\n```\r\npublic static final String[] DIGITS = {&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\r\n```\r\n\r\nAnother important issue which might seem unimportant is that the names you&#39;re using both uninformative (like `arr`) and they violate the [*Java naming convention*](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) (like `Print_Digits`).\r\n\r\nAlso, *C-style* of array declaration`String arr[]` is **not** considered to be a good practice in Java because it mixes the *data type* and the *variable name*.\r\n\r\nAnd here is a couple of solutions for this problem.\r\n\r\nThe first one is somewhat close to code provided by OP:\r\n\r\n    public static void printDigits1(int num) {\r\n        String numericString = String.valueOf(num);\r\n        \r\n        for (int i = 0; i &lt; numericString.length(); i++) {\r\n            String digit = DIGITS[Character.getNumericValue(numericString.charAt(i))];\r\n            System.out.print(digit + &quot; &quot;);\r\n        }\r\n    }\r\n\r\nWe can also address this problem without using strings at all:\r\n\r\n    public static void printDigits2(int num) {\r\n        if (num == 0) {\r\n            System.out.println(DIGITS[0]);\r\n            return;\r\n        }\r\n        \r\n        int len = (int) Math.ceil(Math.log10(num));\r\n        String[] result = new String[len];\r\n\r\n        for (int cur = num, i = len - 1; cur &gt; 0; cur /= 10, i--) {\r\n            result[i] = DIGITS[cur % 10];\r\n        }\r\n\r\n        System.out.println(String.join(&quot; &quot;, result));\r\n    }\r\n\r\nAnd here&#39;s a concise solution using Stream API:\r\n\r\n    public static void printDigits3(int num) {\r\n        \r\n        String result = String.valueOf(num).chars()\r\n            .map(Character::getNumericValue)\r\n            .mapToObj(i -&gt; DIGITS[i])\r\n            .collect(Collectors.joining(&quot; &quot;));\r\n    \r\n        System.out.println(result);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        printDigits1(59);\r\n        System.out.println();\r\n        printDigits2(128);\r\n        printDigits3(789);\r\n    }\r\n\r\n*Output:*\r\n```\r\nfive nine \r\none two eight\r\nseven eight nine\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/sK7)","title":"Array index out of bounds error even though the indices are within the array length","body":"<p>Firstly, lean about the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\"><em>primitive data types in Java</em></a>.</p>\n<p>If your background is JavaScript, which has no <code>char</code> type, you might have been thinking that <code>char</code> is a &quot;kind of&quot; string, but it's <strong>not</strong>.</p>\n<p><code>char</code> - is a <em>16-bit <strong>numeric</strong></em> primitive data type, which has a minimum value of '\\u0000' (or <code>0</code>) and a maximum value of '\\uffff' (or <code>65,535</code>) which was meant to represent Unicode-characters. But in the earlier days of Java the Unicode standard has been changed, and <code>char</code> type appeared to be broken, to fix this code points were introduced in the language.</p>\n<p>In this statement <code>a = Integer.valueOf(s);</code> character <code>s</code> is being promoted into <code>int</code> type and method <code>valueOf()</code> creates an unnecessary instance of <code>Integer</code> which is being immediately thrown away, and you end up with <code>a</code> having a value in the range from <code>48</code> (<code>0</code>) to <code>57</code> (<code>9</code>), which is greater than array's length. Therefore, you're getting a justifiable <code>ArrayIndexOutOfBoundsException</code>.</p>\n<p>Also, there are few more issues.</p>\n<p>Compiler will not complain that you're creating a new array for each method call but this approach is wrong, the string array should be <code>static</code>, i.e. it should reside on a class level:</p>\n<pre><code>public static final String[] DIGITS = {&quot;zero&quot;, &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;, &quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\n</code></pre>\n<p>Another important issue which might seem unimportant is that the names you're using both uninformative (like <code>arr</code>) and they violate the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\"><em>Java naming convention</em></a> (like <code>Print_Digits</code>).</p>\n<p>Also, <em>C-style</em> of array declaration<code>String arr[]</code> is <strong>not</strong> considered to be a good practice in Java because it mixes the <em>data type</em> and the <em>variable name</em>.</p>\n<p>And here is a couple of solutions for this problem.</p>\n<p>The first one is somewhat close to code provided by OP:</p>\n<pre><code>public static void printDigits1(int num) {\n    String numericString = String.valueOf(num);\n    \n    for (int i = 0; i &lt; numericString.length(); i++) {\n        String digit = DIGITS[Character.getNumericValue(numericString.charAt(i))];\n        System.out.print(digit + &quot; &quot;);\n    }\n}\n</code></pre>\n<p>We can also address this problem without using strings at all:</p>\n<pre><code>public static void printDigits2(int num) {\n    if (num == 0) {\n        System.out.println(DIGITS[0]);\n        return;\n    }\n    \n    int len = (int) Math.ceil(Math.log10(num));\n    String[] result = new String[len];\n\n    for (int cur = num, i = len - 1; cur &gt; 0; cur /= 10, i--) {\n        result[i] = DIGITS[cur % 10];\n    }\n\n    System.out.println(String.join(&quot; &quot;, result));\n}\n</code></pre>\n<p>And here's a concise solution using Stream API:</p>\n<pre><code>public static void printDigits3(int num) {\n    \n    String result = String.valueOf(num).chars()\n        .map(Character::getNumericValue)\n        .mapToObj(i -&gt; DIGITS[i])\n        .collect(Collectors.joining(&quot; &quot;));\n\n    System.out.println(result);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    printDigits1(59);\n    System.out.println();\n    printDigits2(128);\n    printDigits3(789);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>five nine \none two eight\nseven eight nine\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/sK7\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":23609559,"reputation":33,"user_id":17644775,"display_name":"rat_basterd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72798073,"answer_count":5,"score":2,"last_activity_date":1659892883,"creation_date":1656490590,"question_id":72798014,"body_markdown":"I was trying to write a java program where every digit of an input integer is printed in words.\r\n\r\nFor example: *input* `123` should produce an *output* `&quot;one two three&quot;`.\r\n\r\nI wrote the following program that takes an integer value, then converts it into a string. I then iterated over the characters of the string and converted them to integer values, which I later used as indices for the array.\r\n\r\nBut I&#39;m getting `ArrayIndexOutOfBoundsException`.\r\n```\r\nIndex 49 out of bounds for length 10\r\n```\r\n*My code:*\r\n    \r\n    public class DigitsAsWords {\r\n        static void Print_Digits(int N){\r\n            String arr[] = {&quot;zero&quot;,&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;,&quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\r\n            String st = Integer.toString(N);\r\n            System.out.println(st);\r\n    \t\tchar s;\r\n    \t\tint a;\r\n            for (int i=0; i&lt;st.length(); i++){\r\n    \t\t\ts = st.charAt(i);\r\n                a = Integer.valueOf(s);\r\n                System.out.print(arr[a]+&quot; &quot;);\r\n            }\r\n        }\r\n        public static void main (String args[]){\r\n            Scanner sc = new Scanner(System.in);\r\n            int a = sc.nextInt();\r\n            Print_Digits(a);\r\n        }\r\n    }\r\n\r\n","title":"Array index out of bounds error even though the indices are within the array length","body":"<p>I was trying to write a java program where every digit of an input integer is printed in words.</p>\n<p>For example: <em>input</em> <code>123</code> should produce an <em>output</em> <code>&quot;one two three&quot;</code>.</p>\n<p>I wrote the following program that takes an integer value, then converts it into a string. I then iterated over the characters of the string and converted them to integer values, which I later used as indices for the array.</p>\n<p>But I'm getting <code>ArrayIndexOutOfBoundsException</code>.</p>\n<pre><code>Index 49 out of bounds for length 10\n</code></pre>\n<p><em>My code:</em></p>\n<pre><code>public class DigitsAsWords {\n    static void Print_Digits(int N){\n        String arr[] = {&quot;zero&quot;,&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;,&quot;five&quot;, &quot;six&quot;, &quot;seven&quot;, &quot;eight&quot;, &quot;nine&quot;};\n        String st = Integer.toString(N);\n        System.out.println(st);\n        char s;\n        int a;\n        for (int i=0; i&lt;st.length(); i++){\n            s = st.charAt(i);\n            a = Integer.valueOf(s);\n            System.out.print(arr[a]+&quot; &quot;);\n        }\n    }\n    public static void main (String args[]){\n        Scanner sc = new Scanner(System.in);\n        int a = sc.nextInt();\n        Print_Digits(a);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","arraylist","jtextfield"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659860290,"post_id":73265126,"comment_id":129391459,"body_markdown":"BTW `arr`, `arr1` and `arr2` are kind of not very *expressive* - so you needed to explain their content","body":"BTW <code>arr</code>, <code>arr1</code> and <code>arr2</code> are kind of not very <i>expressive</i> - so you needed to explain their content"}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1659852294,"creation_date":1659852294,"answer_id":73265253,"question_id":73265126,"body_markdown":"I see that your code has the variable ```i``` and you increment ```i``` in the outer loop.  I think you were thinking of using ```i``` as index to the arrays.  And this would be the right direction.  \r\n\r\nThe solution is to use i to refer to the row of the three fields.  For example, ```arr[i], arr1[i], arr2[i]``` would refers to all the three fields on row ```i```. You need to compute the earning for each row and update the earning field for that row.  \r\n\r\n```\r\nprivate void calcCredit() {\r\n   for(int i = 0; i&lt;4; i++){\r\n      double total   = Double.parseDouble(arr[i].getText());\r\n      double points  = Double.parseDouble(arr1[i].getText());\r\n      double earning = total * points;\r\n      arr2[i].setText(&quot;&quot; + earning);\r\n   }\r\n}\r\n```\r\n","title":"How to calculate the product of the values ​of two JTextFields next to each other and place them in the adjacent JTextField?","body":"<p>I see that your code has the variable <code>i</code> and you increment <code>i</code> in the outer loop.  I think you were thinking of using <code>i</code> as index to the arrays.  And this would be the right direction.</p>\n<p>The solution is to use i to refer to the row of the three fields.  For example, <code>arr[i], arr1[i], arr2[i]</code> would refers to all the three fields on row <code>i</code>. You need to compute the earning for each row and update the earning field for that row.</p>\n<pre><code>private void calcCredit() {\n   for(int i = 0; i&lt;4; i++){\n      double total   = Double.parseDouble(arr[i].getText());\n      double points  = Double.parseDouble(arr1[i].getText());\n      double earning = total * points;\n      arr2[i].setText(&quot;&quot; + earning);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":22476484,"reputation":73,"user_id":16676133,"display_name":"CSE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73265253,"answer_count":1,"score":0,"last_activity_date":1659892854,"creation_date":1659850539,"question_id":73265126,"body_markdown":"I made a program where when the user selects something from the `JComboBox` a value will be placed in the `JTextFields` along with `TOTAL` and the user will input any number in the `POINTS` field and the product of the values ​​in the `EARNING` field next to each of the `TOTAL` &amp; `POINTS` fields will show.\r\nBut here only the product of the `last two adjacent fields` is shown in each of the `EARNING` fields.\r\n\r\n    I want: \r\n    200 * 1 = 200\r\n    100 * 2 = 200\r\n    200 * 4 = 800\r\n    100 * 6 = 600\r\n\r\nBut it always shows `600` the last product of two fields in each `EARNING` fields.\r\n\r\n\r\nHere a Screenshot is attached for better understanding.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cZuR7.png\r\n\r\n\r\n\r\nMy Code for counting multiplication is given below:\r\n\r\n    private void calcCredit() {\r\n\t\ttry {\r\n\t\t\tdouble summation = 1;\r\n\t\t\tint i = 0;\r\n\t\t\tfor (JTextField textField : arr) {\r\n\t\t\t\tfor(JTextField fields : arr1.subList(i, arr1.size())) {\r\n\t\t\t\t\tsummation = Double.parseDouble(textField.getText()) * Double.parseDouble(fields.getText());\r\n\t\t\t\t}\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tfor(JTextField f : arr2) {\r\n\t\t\t\tf.setText(String.valueOf(summation));\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\r\n\t\t}\r\n\t}\r\n\r\nHere all the `JTextFields` under `TOTAL` are added in an `ArrayList` named `arr`, all the `JTextFields` under `POINTS` are added in an `ArrayList` named `arr1` and the rest fields are added in `ArrayList` named `arr2`","title":"How to calculate the product of the values ​of two JTextFields next to each other and place them in the adjacent JTextField?","body":"<p>I made a program where when the user selects something from the <code>JComboBox</code> a value will be placed in the <code>JTextFields</code> along with <code>TOTAL</code> and the user will input any number in the <code>POINTS</code> field and the product of the values ​​in the <code>EARNING</code> field next to each of the <code>TOTAL</code> &amp; <code>POINTS</code> fields will show.\nBut here only the product of the <code>last two adjacent fields</code> is shown in each of the <code>EARNING</code> fields.</p>\n<pre><code>I want: \n200 * 1 = 200\n100 * 2 = 200\n200 * 4 = 800\n100 * 6 = 600\n</code></pre>\n<p>But it always shows <code>600</code> the last product of two fields in each <code>EARNING</code> fields.</p>\n<p>Here a Screenshot is attached for better understanding.</p>\n<p><a href=\"https://i.stack.imgur.com/cZuR7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZuR7.png\" alt=\"enter image description here\" /></a></p>\n<p>My Code for counting multiplication is given below:</p>\n<pre><code>private void calcCredit() {\n    try {\n        double summation = 1;\n        int i = 0;\n        for (JTextField textField : arr) {\n            for(JTextField fields : arr1.subList(i, arr1.size())) {\n                summation = Double.parseDouble(textField.getText()) * Double.parseDouble(fields.getText());\n            }\n            i++;\n        }\n        for(JTextField f : arr2) {\n            f.setText(String.valueOf(summation));\n        }\n    } catch (Exception ex) {\n\n    }\n}\n</code></pre>\n<p>Here all the <code>JTextFields</code> under <code>TOTAL</code> are added in an <code>ArrayList</code> named <code>arr</code>, all the <code>JTextFields</code> under <code>POINTS</code> are added in an <code>ArrayList</code> named <code>arr1</code> and the rest fields are added in <code>ArrayList</code> named <code>arr2</code></p>\n"},{"tags":["java","servlets","concurrency","findbugs","spotbugs"],"comments":[{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1659708667,"post_id":73196735,"comment_id":129365696,"body_markdown":"&quot;In the original code the initalisation is expensive...&quot;  Might consider (or rule out) [Static holder singleton pattern](https://stackoverflow.com/questions/15019306/regarding-static-holder-singleton-pattern).","body":"&quot;In the original code the initalisation is expensive...&quot;  Might consider (or rule out) <a href=\"https://stackoverflow.com/questions/15019306/regarding-static-holder-singleton-pattern\">Static holder singleton pattern</a>."}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659891690,"creation_date":1659631034,"answer_id":73239472,"question_id":73196735,"body_markdown":"The read/load of etag is outside of the synchronized block is odd but, maybe that is just a side effect of creating example code.\r\n\r\nI think the part that gets tricky is:\r\n&gt; A web server generally only creates one instance...\r\n\r\nIf the webserver were to create 200 instances of MutableFieldServlet (default number of threads in the thread pool). Instead of getting the one web classloader scope of the very first etag value may not be the same per request if the servlet container servers a different object from the pool.\r\n\r\n&gt; Is this a false positive?\r\n\r\nPer the ServletContext documentation:\r\n\r\n&gt; In the case of a web application marked &quot;distributed&quot; in its deployment descriptor, there will be one context instance for each virtual machine. In this situation, the context cannot be used as a location to share global information (because the information won&#39;t be truly global). Use an external resource like a database instead.\r\n\r\nI think the way to look at this and FindBugs is reporting a code pattern that is fragile.  A comment and a suppress warning in the code might be the best action.  Or think of it as FindBugs telling you to find a different code pattern with less smell.  E.G. The holder pattern:\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    public class HolderPatternServlet extends HttpServlet {\r\n\r\n        @Override\r\n        public void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\r\n            resp.addHeader(&quot;ETag&quot;, Holder.ETAG);\r\n            resp.getWriter().println(&quot;Hello world&quot;);\r\n        }\r\n\r\n        private static class Holder {\r\n            public static final String ETAG = &quot;\\&quot;&quot; + System.currentTimeMillis() + &quot;\\&quot;&quot;;\r\n        }\r\n    }\r\n\r\nTake a look at:\r\n\r\n[Servlets should not have mutable instance fields][1]:\r\n\r\n&gt; By contract, a servlet container creates one instance of each servlet and then a dedicated thread is attached to each new incoming HTTP request to process the request. So all threads share the servlet instances and by extension their instance fields. To prevent any misunderstanding and unexpected behavior at runtime, all servlet fields should then be either static and/or final, or simply removed.\r\n\r\nThis rule isn&#39;t about false positives it is about smell and fragile code patterns.  Seems like the easy change would be to just switch to static and sync on a static lock object or the class object.  That gets rid of any doubts as to how your code example may or may not work.\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-2226","title":"Spotbugs &quot;Mutable servlet field&quot; warning","body":"<p>The read/load of etag is outside of the synchronized block is odd but, maybe that is just a side effect of creating example code.</p>\n<p>I think the part that gets tricky is:</p>\n<blockquote>\n<p>A web server generally only creates one instance...</p>\n</blockquote>\n<p>If the webserver were to create 200 instances of MutableFieldServlet (default number of threads in the thread pool). Instead of getting the one web classloader scope of the very first etag value may not be the same per request if the servlet container servers a different object from the pool.</p>\n<blockquote>\n<p>Is this a false positive?</p>\n</blockquote>\n<p>Per the ServletContext documentation:</p>\n<blockquote>\n<p>In the case of a web application marked &quot;distributed&quot; in its deployment descriptor, there will be one context instance for each virtual machine. In this situation, the context cannot be used as a location to share global information (because the information won't be truly global). Use an external resource like a database instead.</p>\n</blockquote>\n<p>I think the way to look at this and FindBugs is reporting a code pattern that is fragile.  A comment and a suppress warning in the code might be the best action.  Or think of it as FindBugs telling you to find a different code pattern with less smell.  E.G. The holder pattern:</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class HolderPatternServlet extends HttpServlet {\n\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\n        resp.addHeader(&quot;ETag&quot;, Holder.ETAG);\n        resp.getWriter().println(&quot;Hello world&quot;);\n    }\n\n    private static class Holder {\n        public static final String ETAG = &quot;\\&quot;&quot; + System.currentTimeMillis() + &quot;\\&quot;&quot;;\n    }\n}\n</code></pre>\n<p>Take a look at:</p>\n<p><a href=\"https://rules.sonarsource.com/java/RSPEC-2226\" rel=\"nofollow noreferrer\">Servlets should not have mutable instance fields</a>:</p>\n<blockquote>\n<p>By contract, a servlet container creates one instance of each servlet and then a dedicated thread is attached to each new incoming HTTP request to process the request. So all threads share the servlet instances and by extension their instance fields. To prevent any misunderstanding and unexpected behavior at runtime, all servlet fields should then be either static and/or final, or simply removed.</p>\n</blockquote>\n<p>This rule isn't about false positives it is about smell and fragile code patterns.  Seems like the easy change would be to just switch to static and sync on a static lock object or the class object.  That gets rid of any doubts as to how your code example may or may not work.</p>\n"}],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659891690,"creation_date":1659370805,"question_id":73196735,"body_markdown":"Spotbugs is reporting a &quot;[Mutable servlet field](https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html#msf-mutable-servlet-field-msf-mutable-servlet-field)&quot; warning in this code (simplified test case):\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\npublic class MutableFieldServlet extends HttpServlet\r\n{\r\n\tprivate String etag;\r\n\r\n\t@Override\r\n \tpublic void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException\r\n \t{\r\n\t\tsynchronized (this)\r\n\t\t{\r\n\t\t\tif (etag == null)\r\n\t\t\t\tetag = &quot;\\&quot;&quot; + System.currentTimeMillis() + &quot;\\&quot;&quot;;\r\n\t\t}\r\n\r\n\t\tresp.addHeader(&quot;ETag&quot;, etag);\r\n\t\tresp.getWriter().println(&quot;Hello world&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThe description says: &quot;A web server generally only creates one instance of servlet or JSP class (i.e., treats the class as a Singleton), and will have multiple threads invoke methods on that instance to service multiple simultaneous requests. Thus, having a mutable instance field generally creates race conditions.&quot;\r\n\r\nHowever in this case I would say that there is no race condition as all writes to the field happen within a synchronized block. Is this a false positive?\r\n\r\n**Edit:** This is just a simplified test case that can be used to reproduce the SpotBugs warning. The actual code obviously does not use a timestamp as an etag.","title":"Spotbugs &quot;Mutable servlet field&quot; warning","body":"<p>Spotbugs is reporting a &quot;<a href=\"https://spotbugs.readthedocs.io/en/stable/bugDescriptions.html#msf-mutable-servlet-field-msf-mutable-servlet-field\" rel=\"nofollow noreferrer\">Mutable servlet field</a>&quot; warning in this code (simplified test case):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class MutableFieldServlet extends HttpServlet\n{\n    private String etag;\n\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException\n    {\n        synchronized (this)\n        {\n            if (etag == null)\n                etag = &quot;\\&quot;&quot; + System.currentTimeMillis() + &quot;\\&quot;&quot;;\n        }\n\n        resp.addHeader(&quot;ETag&quot;, etag);\n        resp.getWriter().println(&quot;Hello world&quot;);\n    }\n}\n</code></pre>\n<p>The description says: &quot;A web server generally only creates one instance of servlet or JSP class (i.e., treats the class as a Singleton), and will have multiple threads invoke methods on that instance to service multiple simultaneous requests. Thus, having a mutable instance field generally creates race conditions.&quot;</p>\n<p>However in this case I would say that there is no race condition as all writes to the field happen within a synchronized block. Is this a false positive?</p>\n<p><strong>Edit:</strong> This is just a simplified test case that can be used to reproduce the SpotBugs warning. The actual code obviously does not use a timestamp as an etag.</p>\n"},{"tags":["java","csv","file","csvreader"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":3,"creation_date":1659887548,"post_id":73268841,"comment_id":129396637,"body_markdown":"Well, how do you find a maximum value in general? You already know how to read the value you are looking for. Hint: all you need to do is to store the line with the greatest value you&#39;ve seen so far, and print it after the loop.","body":"Well, how do you find a maximum value in general? You already know how to read the value you are looking for. Hint: all you need to do is to store the line with the greatest value you&#39;ve seen so far, and print it after the loop."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1659887711,"post_id":73268841,"comment_id":129396670,"body_markdown":"By the way, it&#39;s bad practice to print the stack trace and continue regardless after catching an exception. What is the point of calling `csvReader.readLine()` if you&#39;ve just caught `FileNotFoundException`? It would be better to let the exception come out of your method. Just add `throws IOException` to your method signature.","body":"By the way, it&#39;s bad practice to print the stack trace and continue regardless after catching an exception. What is the point of calling <code>csvReader.readLine()</code> if you&#39;ve just caught <code>FileNotFoundException</code>? It would be better to let the exception come out of your method. Just add <code>throws IOException</code> to your method signature."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659890111,"post_id":73268841,"comment_id":129397185,"body_markdown":"Now that you have the value from the last column, it&#39;s a matter of learning how to compute the max using a loop.","body":"Now that you have the value from the last column, it&#39;s a matter of learning how to compute the max using a loop."},{"owner":{"account_id":25980115,"reputation":31,"user_id":19693987,"display_name":"user19693987"},"score":0,"creation_date":1659892169,"post_id":73268841,"comment_id":129397616,"body_markdown":"@Cheng Thao, I updated my code, is there a way I can retrieve the entire row associated with that largest number in the column?","body":"@Cheng Thao, I updated my code, is there a way I can retrieve the entire row associated with that largest number in the column?"},{"owner":{"account_id":25980115,"reputation":31,"user_id":19693987,"display_name":"user19693987"},"score":0,"creation_date":1659892225,"post_id":73268841,"comment_id":129397627,"body_markdown":"@k314159 oh that makes sense, thank you for pointing it out, will correct. :)","body":"@k314159 oh that makes sense, thank you for pointing it out, will correct. :)"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659892477,"post_id":73268841,"comment_id":129397687,"body_markdown":"@user19693987 yes.  It works the same way you compute the max.  Use a string variable to track the line with the largest value.","body":"@user19693987 yes.  It works the same way you compute the max.  Use a string variable to track the line with the largest value."},{"owner":{"account_id":25980115,"reputation":31,"user_id":19693987,"display_name":"user19693987"},"score":0,"creation_date":1659892790,"post_id":73268841,"comment_id":129397749,"body_markdown":"@ChengThao any examples on how that would look like?","body":"@ChengThao any examples on how that would look like?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659889555,"creation_date":1659887370,"answer_id":73268897,"question_id":73268841,"body_markdown":"Caveat: code shown below is untested.\r\n\r\n\r\n----------\r\n\r\n\r\nAfter your line `String line = null;`, add a variable to hold the largest number yet found.\r\n\r\n    …\r\n    String line = null;\r\n    int largestSoFar = Integer.MIN_VALUE ;\r\n\r\nInside your `while` loop, parse each input.\r\n\r\n    int number = Integer.parseInt( cols[2] ) ;\r\n\r\nIf larger than previously stored, store it in the `largestSoFar` variable.\r\n\r\n    if ( number &gt; largestSoFar ) { largestSoFar = number ; }\r\n\r\nAnd test that you have any lines. In the case of no lines, the code above would erroneously report the `MIN_VALUE` constant as the largest value. \r\n\r\n\r\n----------\r\n\r\n\r\nIn advanced Java, we might use streams as an alternative approach.\r\n\r\n    Optional&lt; Integer &gt; result =                            // An `Optional` object may be empty. For example, if the file contains no lines, no largest number exists, so an empty `Optional` would represent that fact. \r\n        Files                                               // From Java NIO.2, the modern way to handle files.\r\n            .lines( myPath )                                // Make a stream whose elements are each line of text read from file.\r\n            .map( line -&gt; line.split( myDelimiter )[ 2 ] )  // Make a new stream whose elements are the third field of each line.\r\n            .map( thirdField -&gt; Integer :: valueOf )        // Make a new stream whose elements are `Integer` objects parsed from third field text.\r\n            .max() ;                                        // Track the largest `Integer` object, returned wrapped as an `Optional&lt; Integer &gt;`. \r\n\r\n\r\n----------\r\n\r\nIn real work, I would use one of the several excellent libraries available in the Java ecosystem to read and parse a CSV file.","title":"Java - Trying to find largest value in a specific column of a CSV","body":"<p>Caveat: code shown below is untested.</p>\n<hr />\n<p>After your line <code>String line = null;</code>, add a variable to hold the largest number yet found.</p>\n<pre><code>…\nString line = null;\nint largestSoFar = Integer.MIN_VALUE ;\n</code></pre>\n<p>Inside your <code>while</code> loop, parse each input.</p>\n<pre><code>int number = Integer.parseInt( cols[2] ) ;\n</code></pre>\n<p>If larger than previously stored, store it in the <code>largestSoFar</code> variable.</p>\n<pre><code>if ( number &gt; largestSoFar ) { largestSoFar = number ; }\n</code></pre>\n<p>And test that you have any lines. In the case of no lines, the code above would erroneously report the <code>MIN_VALUE</code> constant as the largest value.</p>\n<hr />\n<p>In advanced Java, we might use streams as an alternative approach.</p>\n<pre><code>Optional&lt; Integer &gt; result =                            // An `Optional` object may be empty. For example, if the file contains no lines, no largest number exists, so an empty `Optional` would represent that fact. \n    Files                                               // From Java NIO.2, the modern way to handle files.\n        .lines( myPath )                                // Make a stream whose elements are each line of text read from file.\n        .map( line -&gt; line.split( myDelimiter )[ 2 ] )  // Make a new stream whose elements are the third field of each line.\n        .map( thirdField -&gt; Integer :: valueOf )        // Make a new stream whose elements are `Integer` objects parsed from third field text.\n        .max() ;                                        // Track the largest `Integer` object, returned wrapped as an `Optional&lt; Integer &gt;`. \n</code></pre>\n<hr />\n<p>In real work, I would use one of the several excellent libraries available in the Java ecosystem to read and parse a CSV file.</p>\n"}],"owner":{"account_id":25980115,"reputation":31,"user_id":19693987,"display_name":"user19693987"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1659890904,"creation_date":1659887006,"question_id":73268841,"body_markdown":"I was trying to find the largest value in a specific column but so far my code only prints that column on the console. How can I read through the last column only and find the largest value and print that entire row where the largest number is found?\r\n```\r\nBufferedReader csvReader = null;\r\ntry {\r\n    csvReader = new BufferedReader(new FileReader(selectedFile.getAbsolutePath()+&quot;\\\\FinalResults.csv&quot;));\r\n} catch (FileNotFoundException e1) {\r\n    // TODO Auto-generated catch block\r\n\te1.printStackTrace();\r\n}\r\nString line = null;\r\ntry {\r\n    while ((line = csvReader.readLine()) != null) {\r\n\t    String[] cols = line.split(&quot;,&quot;);\r\n\t\tSystem.out.println(&quot;Coulmn 3= &quot; + cols[2]);\r\n\t}\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\t\r\n```\r\n\r\nUpdated Code \r\n\r\n```\r\nint largestSoFar = Integer.MIN_VALUE ;\r\nBufferedReader csvReader = null;\r\n\t\t\ttry {\r\n\t\t\t\tcsvReader = new BufferedReader(new FileReader(selectedFile.getAbsolutePath()+&quot;\\\\FinalResults.csv&quot;));\r\n\t\t\t\tSystem.out.println(selectedFile.getAbsolutePath()+&quot;\\\\FinalResults.csv&quot;);\r\n\t\t\t} catch (FileNotFoundException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t\tString line = null;\r\n            try {\r\n\t\t\t\twhile ((line = csvReader.readLine()) != null) {\r\n\t\t\t\t    String[] cols = line.split(&quot;,&quot;);\r\n\t\t\t\t    \r\n\t\t\t\t    int number = Integer.parseInt( cols[2] ) ;\r\n\t\t\t\t    if ( number &gt; largestSoFar ) { largestSoFar = number ; }\r\n\t\t\t\t \r\n\t\t\t\t  //  calculateMinAndMax(cols[2]); \r\n\t\t\t\t    System.out.println(number);\r\n\t\t\t\t  //  System.out.println(&quot;Coulmn 3= &quot; + cols[2]);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n```","title":"Java - Trying to find largest value in a specific column of a CSV","body":"<p>I was trying to find the largest value in a specific column but so far my code only prints that column on the console. How can I read through the last column only and find the largest value and print that entire row where the largest number is found?</p>\n<pre><code>BufferedReader csvReader = null;\ntry {\n    csvReader = new BufferedReader(new FileReader(selectedFile.getAbsolutePath()+&quot;\\\\FinalResults.csv&quot;));\n} catch (FileNotFoundException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\nString line = null;\ntry {\n    while ((line = csvReader.readLine()) != null) {\n        String[] cols = line.split(&quot;,&quot;);\n        System.out.println(&quot;Coulmn 3= &quot; + cols[2]);\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}   \n</code></pre>\n<p>Updated Code</p>\n<pre><code>int largestSoFar = Integer.MIN_VALUE ;\nBufferedReader csvReader = null;\n            try {\n                csvReader = new BufferedReader(new FileReader(selectedFile.getAbsolutePath()+&quot;\\\\FinalResults.csv&quot;));\n                System.out.println(selectedFile.getAbsolutePath()+&quot;\\\\FinalResults.csv&quot;);\n            } catch (FileNotFoundException e1) {\n                // TODO Auto-generated catch block\n                e1.printStackTrace();\n            }\n            String line = null;\n            try {\n                while ((line = csvReader.readLine()) != null) {\n                    String[] cols = line.split(&quot;,&quot;);\n                    \n                    int number = Integer.parseInt( cols[2] ) ;\n                    if ( number &gt; largestSoFar ) { largestSoFar = number ; }\n                 \n                  //  calculateMinAndMax(cols[2]); \n                    System.out.println(number);\n                  //  System.out.println(&quot;Coulmn 3= &quot; + cols[2]);\n                }\n            } catch (IOException e) {\n\n                e.printStackTrace();\n            }   \n            }\n        }\n</code></pre>\n"},{"tags":["java","android","xml","database"],"answers":[{"tags":[],"owner":{"account_id":6314503,"reputation":2915,"user_id":4904995,"accept_rate":40,"display_name":"Tung Tran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519919438,"creation_date":1519918969,"answer_id":49053372,"question_id":49053326,"body_markdown":"`getContentResolver()` is method of class `android.content.Context`, so to call it you definitely need an instance of `Context` ( `Activity` or `Service` for example).\r\nThis case: `getActivity().getContentResolver()`","title":"error: cannot find symbol method getContentResolver()","body":"<p><code>getContentResolver()</code> is method of class <code>android.content.Context</code>, so to call it you definitely need an instance of <code>Context</code> ( <code>Activity</code> or <code>Service</code> for example).\nThis case: <code>getActivity().getContentResolver()</code></p>\n"},{"tags":[],"owner":{"account_id":13882612,"reputation":1495,"user_id":10022587,"display_name":"Hamdy Abd El Fattah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659890327,"creation_date":1659890327,"answer_id":73269230,"question_id":49053326,"body_markdown":"    requireActivity().getContentResolver()","title":"error: cannot find symbol method getContentResolver()","body":"<pre><code>requireActivity().getContentResolver()\n</code></pre>\n"}],"owner":{"account_id":12185964,"reputation":443,"user_id":8895766,"accept_rate":20,"display_name":"Sobhy Elbhwashy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8808,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659890327,"creation_date":1519918821,"question_id":49053326,"body_markdown":"i want to add and delete alert in Sqlite but this error appear because i use fragment \r\n&gt;D:\\ISLaMiC\\SoBhY\\amira\\app\\src\\main\\java\\com\\amira\\amira\\amira\\ChatCalendarProfile\\Calendar\\CalendarFragment.java\r\n error: cannot find symbol method getContentResolver()\r\n error: cannot find symbol method getContentResolver()\r\n\r\n![enter image description here][1]  \r\n    \r\n        Uri newUri = getContentResolver().insert(AlertEntry.CONTENT_URI, values);\r\n          int rowsDeleted = getContentResolver().delete(AlertEntry.CONTENT_URI, null, null);\r\n          \r\n        package com.amira.amira.amira.ChatCalendarProfile.Calendar;\r\n        \r\n        import android.app.LoaderManager;\r\n        import android.content.ContentUris;\r\n        import android.content.ContentValues;\r\n        import android.content.Context;\r\n        import android.content.CursorLoader;\r\n        import android.content.Intent;\r\n        import android.content.Loader;\r\n        import android.database.Cursor;\r\n        import android.net.Uri;\r\n        import android.support.annotation.Nullable;\r\n        import android.support.v4.app.Fragment;\r\n        import android.os.Bundle;\r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import android.widget.AdapterView;\r\n        import android.widget.ListView;\r\n        \r\n        import com.amira.amira.amira.ChatCalendarProfile.Calendar.data.AlertContract;\r\n        import com.amira.amira.amira.R;\r\n        \r\n        import static com.amira.amira.amira.ChatCalendarProfile.Calendar.data.AlertContract.*;\r\n        public class CalendarFragment extends Fragment implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\r\n            private static final int PET_LOADER = 0;\r\n            AlertCursorAdapter mCursorAdapter;\r\n            public CalendarFragment() {\r\n            }\r\n        \r\n            @Nullable\r\n            @Override\r\n            public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n                View rootView = inflater.inflate(R.layout.activity_calendar_fragment, container, false);\r\n        \r\n                com.github.clans.fab.FloatingActionButton addAlert = rootView.findViewById(R.id.add_alert);\r\n                addAlert.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        Intent intent = new Intent(getActivity(), \r\n                        EditorActivity.class);\r\n                        startActivity(intent);\r\n                    }\r\n                });\r\n                ListView AlertListView = (ListView) rootView.findViewById(R.id.list);\r\n                View emptyView = rootView.findViewById(R.id.empty);\r\n                AlertListView.setEmptyView(emptyView);\r\n        \r\n                mCursorAdapter = new AlertCursorAdapter(getActivity(), null);\r\n                AlertListView.setAdapter(mCursorAdapter);\r\n                AlertListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                    @Override\r\n                    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long id) {\r\n                        Intent intent = new Intent(getActivity(), EditorActivity.class);\r\n                        Uri currentAlertUri = ContentUris.withAppendedId(AlertEntry.CONTENT_URI, id);\r\n                        intent.setData(currentAlertUri);\r\n                        startActivity(intent);\r\n                    }\r\n                });\r\n        \r\n                getLoaderManager().initLoader(PET_LOADER, null, (android.support.v4.app.LoaderManager.LoaderCallbacks&lt;Object&gt;) this);\r\n        \r\n                return rootView;\r\n            }\r\n        \r\n            private void insertAlert() {\r\n        \r\n                ContentValues values = new ContentValues();\r\n                values.put(AlertEntry.COLUMN_ALERT_TITLE, &quot;Title&quot;);\r\n                values.put(AlertEntry.COLUMN_ALERT_LOCATION, &quot;Terrier&quot;);\r\n                values.put(AlertEntry.COLUMN_ALERT_OCCASION_DATE, &quot; &quot;);\r\n                values.put(AlertEntry.COLUMN_ALERT_OCCASION_TIME, &quot; &quot;);\r\n                values.put(AlertEntry.COLUMN_ALERT_REMINDER_DATE, &quot; &quot;);\r\n                values.put(AlertEntry.COLUMN_ALERT_REMINDER_TIME, &quot; &quot;);\r\n                Uri newUri = getContentResolver().insert(AlertEntry.CONTENT_URI, values);\r\n            }\r\n        \r\n            private void deleteAllAlerts() {\r\n            \r\n                int rowsDeleted = getContentResolver().delete(AlertEntry.CONTENT_URI, null, null);\r\n                //Log.v(&quot;CatalogActivity&quot;, rowsDeleted + &quot; rows deleted from pet database&quot;);\r\n            }\r\n        \r\n            @Override\r\n            public Loader&lt;Cursor&gt; onCreateLoader(int i, Bundle bundle) {\r\n                String[] projection = {\r\n                        AlertEntry._ID,\r\n                        AlertEntry.COLUMN_ALERT_TITLE,\r\n                        AlertEntry.COLUMN_ALERT_LOCATION,\r\n                        AlertEntry.COLUMN_ALERT_OCCASION_DATE,\r\n                        AlertEntry.COLUMN_ALERT_OCCASION_TIME};\r\n                return new CursorLoader(getActivity(),   // Parent activity context\r\n                        AlertEntry.CONTENT_URI,   // Provider content URI to query\r\n                        projection,             // Columns to include in the resulting Cursor\r\n                        null,                   // No selection clause\r\n                        null,                   // No selection arguments\r\n                        null);\r\n            }\r\n        \r\n            @Override\r\n            public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor cursor) {\r\n                mCursorAdapter.swapCursor(cursor);\r\n            }\r\n        \r\n            @Override\r\n            public void onLoaderReset(Loader&lt;Cursor&gt; loader) {\r\n                mCursorAdapter.swapCursor(null);\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e5c2E.png","title":"error: cannot find symbol method getContentResolver()","body":"<p>i want to add and delete alert in Sqlite but this error appear because i use fragment </p>\n\n<blockquote>\n  <p>D:\\ISLaMiC\\SoBhY\\amira\\app\\src\\main\\java\\com\\amira\\amira\\amira\\ChatCalendarProfile\\Calendar\\CalendarFragment.java\n   error: cannot find symbol method getContentResolver()\n   error: cannot find symbol method getContentResolver()</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/e5c2E.png\" alt=\"enter image description here\">  </p>\n\n<pre><code>    Uri newUri = getContentResolver().insert(AlertEntry.CONTENT_URI, values);\n      int rowsDeleted = getContentResolver().delete(AlertEntry.CONTENT_URI, null, null);\n\n    package com.amira.amira.amira.ChatCalendarProfile.Calendar;\n\n    import android.app.LoaderManager;\n    import android.content.ContentUris;\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.content.CursorLoader;\n    import android.content.Intent;\n    import android.content.Loader;\n    import android.database.Cursor;\n    import android.net.Uri;\n    import android.support.annotation.Nullable;\n    import android.support.v4.app.Fragment;\n    import android.os.Bundle;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import android.widget.AdapterView;\n    import android.widget.ListView;\n\n    import com.amira.amira.amira.ChatCalendarProfile.Calendar.data.AlertContract;\n    import com.amira.amira.amira.R;\n\n    import static com.amira.amira.amira.ChatCalendarProfile.Calendar.data.AlertContract.*;\n    public class CalendarFragment extends Fragment implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\n        private static final int PET_LOADER = 0;\n        AlertCursorAdapter mCursorAdapter;\n        public CalendarFragment() {\n        }\n\n        @Nullable\n        @Override\n        public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n            View rootView = inflater.inflate(R.layout.activity_calendar_fragment, container, false);\n\n            com.github.clans.fab.FloatingActionButton addAlert = rootView.findViewById(R.id.add_alert);\n            addAlert.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    Intent intent = new Intent(getActivity(), \n                    EditorActivity.class);\n                    startActivity(intent);\n                }\n            });\n            ListView AlertListView = (ListView) rootView.findViewById(R.id.list);\n            View emptyView = rootView.findViewById(R.id.empty);\n            AlertListView.setEmptyView(emptyView);\n\n            mCursorAdapter = new AlertCursorAdapter(getActivity(), null);\n            AlertListView.setAdapter(mCursorAdapter);\n            AlertListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n                @Override\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long id) {\n                    Intent intent = new Intent(getActivity(), EditorActivity.class);\n                    Uri currentAlertUri = ContentUris.withAppendedId(AlertEntry.CONTENT_URI, id);\n                    intent.setData(currentAlertUri);\n                    startActivity(intent);\n                }\n            });\n\n            getLoaderManager().initLoader(PET_LOADER, null, (android.support.v4.app.LoaderManager.LoaderCallbacks&lt;Object&gt;) this);\n\n            return rootView;\n        }\n\n        private void insertAlert() {\n\n            ContentValues values = new ContentValues();\n            values.put(AlertEntry.COLUMN_ALERT_TITLE, \"Title\");\n            values.put(AlertEntry.COLUMN_ALERT_LOCATION, \"Terrier\");\n            values.put(AlertEntry.COLUMN_ALERT_OCCASION_DATE, \" \");\n            values.put(AlertEntry.COLUMN_ALERT_OCCASION_TIME, \" \");\n            values.put(AlertEntry.COLUMN_ALERT_REMINDER_DATE, \" \");\n            values.put(AlertEntry.COLUMN_ALERT_REMINDER_TIME, \" \");\n            Uri newUri = getContentResolver().insert(AlertEntry.CONTENT_URI, values);\n        }\n\n        private void deleteAllAlerts() {\n\n            int rowsDeleted = getContentResolver().delete(AlertEntry.CONTENT_URI, null, null);\n            //Log.v(\"CatalogActivity\", rowsDeleted + \" rows deleted from pet database\");\n        }\n\n        @Override\n        public Loader&lt;Cursor&gt; onCreateLoader(int i, Bundle bundle) {\n            String[] projection = {\n                    AlertEntry._ID,\n                    AlertEntry.COLUMN_ALERT_TITLE,\n                    AlertEntry.COLUMN_ALERT_LOCATION,\n                    AlertEntry.COLUMN_ALERT_OCCASION_DATE,\n                    AlertEntry.COLUMN_ALERT_OCCASION_TIME};\n            return new CursorLoader(getActivity(),   // Parent activity context\n                    AlertEntry.CONTENT_URI,   // Provider content URI to query\n                    projection,             // Columns to include in the resulting Cursor\n                    null,                   // No selection clause\n                    null,                   // No selection arguments\n                    null);\n        }\n\n        @Override\n        public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor cursor) {\n            mCursorAdapter.swapCursor(cursor);\n        }\n\n        @Override\n        public void onLoaderReset(Loader&lt;Cursor&gt; loader) {\n            mCursorAdapter.swapCursor(null);\n        }\n    }\n</code></pre>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1659815969,"post_id":73262723,"comment_id":129386412,"body_markdown":"It looks like java is running with an agent that redefines the method. Do you have the environment variable `JAVA_TOOL_OPTIONS` set by any chance? (try `echo $Env:JAVA_TOOL_OPTIONS`)","body":"It looks like java is running with an agent that redefines the method. Do you have the environment variable <code>JAVA_TOOL_OPTIONS</code> set by any chance? (try <code>echo $Env:JAVA_TOOL_OPTIONS</code>)"},{"owner":{"account_id":2349384,"reputation":324,"user_id":2058672,"accept_rate":14,"display_name":"Charaf"},"score":0,"creation_date":1659826990,"post_id":73262723,"comment_id":129388024,"body_markdown":"This variable is not set. Furthermore, I checked all the PATH entries and the other env variables for my account, the admin account, and the system. Is there a way to get more verbosity to troubleshoot? Thank you.","body":"This variable is not set. Furthermore, I checked all the PATH entries and the other env variables for my account, the admin account, and the system. Is there a way to get more verbosity to troubleshoot? Thank you."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1659835519,"post_id":73262723,"comment_id":129388796,"body_markdown":"I don&#39;t know off the top of my head. You could try running `java -Xlog:all --version &gt; output.txt` and then try to see if you can find anything about `PanwHooks` in that.","body":"I don&#39;t know off the top of my head. You could try running <code>java -Xlog:all --version &gt; output.txt</code> and then try to see if you can find anything about <code>PanwHooks</code> in that."},{"owner":{"account_id":2349384,"reputation":324,"user_id":2058672,"accept_rate":14,"display_name":"Charaf"},"score":0,"creation_date":1659874668,"post_id":73262723,"comment_id":129393941,"body_markdown":"The review of the output shows nothing suspect in terms of double loading: https://pastebin.com/kr02ED83","body":"The review of the output shows nothing suspect in terms of double loading: <a href=\"https://pastebin.com/kr02ED83\" rel=\"nofollow noreferrer\">pastebin.com/kr02ED83</a>"}],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1659890154,"creation_date":1659877774,"answer_id":73267706,"question_id":73262723,"body_markdown":"It looks like it&#39;s loading a native library on VM startup as well: \r\n\r\n    [0.009s][info][os       ] attempting shared library load of C:\\Program Files\\Palo Alto Networks\\Traps\\cyjagent.dll\r\n\r\nwhich looks like a Java agent.\r\n\r\nThe &#39;Panw&#39; in `PanwHooks` seems to stand for Palo Alto Networks, which seems to be an antivirus software. i.e. this antivirus software seems to be injecting a dll which is a java agent, into the JVM process, which then produces this warning.\r\n\r\nYou should be able to suppress the warning with `-Xlog:jni+resolve=off` (but I realize that&#39;s not ideal).","title":"Get rid of a jni resolve warning about java.lang.PanwHooks on java.exe startup","body":"<p>It looks like it's loading a native library on VM startup as well:</p>\n<pre><code>[0.009s][info][os       ] attempting shared library load of C:\\Program Files\\Palo Alto Networks\\Traps\\cyjagent.dll\n</code></pre>\n<p>which looks like a Java agent.</p>\n<p>The 'Panw' in <code>PanwHooks</code> seems to stand for Palo Alto Networks, which seems to be an antivirus software. i.e. this antivirus software seems to be injecting a dll which is a java agent, into the JVM process, which then produces this warning.</p>\n<p>You should be able to suppress the warning with <code>-Xlog:jni+resolve=off</code> (but I realize that's not ideal).</p>\n"}],"owner":{"account_id":2349384,"reputation":324,"user_id":2058672,"accept_rate":14,"display_name":"Charaf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3628,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1659890154,"creation_date":1659814217,"question_id":73262723,"body_markdown":"Every time I use `java.exe`, there is this warning:\r\n\r\n```\r\nPowerShell &gt; java -version\r\n[0.052s][warning][jni,resolve] Re-registering of platform native method: java.lang.PanwHooks.NativeMethodEntry(Ljava/lang/Object;ILjava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V from code in a different classloader\r\njava version &quot;18.0.2&quot; 2022-07-19\r\nJava(TM) SE Runtime Environment (build 18.0.2+9-61)\r\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2+9-61, mixed mode, sharing)\r\n```\r\n\r\nNo matter the JDK version. It&#39;s the same behavior whether it&#39;s `jdk1.8.0_211`, `jdk-11.0.14`, `jdk-17.0.2` or `jdk-18.0.2`. Same for OpenJDK 1.8, 11, 17 and 18.\r\n\r\nI can not find where is the setting that is used that makes this happen. Any advice will be much appreciated.\r\n\r\nThe environment is windows 10.","title":"Get rid of a jni resolve warning about java.lang.PanwHooks on java.exe startup","body":"<p>Every time I use <code>java.exe</code>, there is this warning:</p>\n<pre><code>PowerShell &gt; java -version\n[0.052s][warning][jni,resolve] Re-registering of platform native method: java.lang.PanwHooks.NativeMethodEntry(Ljava/lang/Object;ILjava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;)V from code in a different classloader\njava version &quot;18.0.2&quot; 2022-07-19\nJava(TM) SE Runtime Environment (build 18.0.2+9-61)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2+9-61, mixed mode, sharing)\n</code></pre>\n<p>No matter the JDK version. It's the same behavior whether it's <code>jdk1.8.0_211</code>, <code>jdk-11.0.14</code>, <code>jdk-17.0.2</code> or <code>jdk-18.0.2</code>. Same for OpenJDK 1.8, 11, 17 and 18.</p>\n<p>I can not find where is the setting that is used that makes this happen. Any advice will be much appreciated.</p>\n<p>The environment is windows 10.</p>\n"},{"tags":["java","itext","itext7"],"owner":{"account_id":25680347,"reputation":11,"user_id":19443232,"display_name":"AB Studio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1659945174,"answer_count":0,"score":1,"last_activity_date":1659890129,"creation_date":1659890129,"question_id":73269206,"body_markdown":"I want to create an invoice as a pdf document. I have a problem with some letters of the Croatian alphabet. In the PDF there are the letters š,ž but the letters đ, č, ć are not displayed. How to solve the problem?\r\n\r\n    public static void createPDF(String pdfFilename) throws FileNotFoundException {\r\n       \r\n        try {\r\n            \r\n            String path = &quot;invoice.pdf&quot;;\r\n            PdfWriter pdfWriter = new PdfWriter(path);\r\n            PdfDocument pdfDocument = new PdfDocument(pdfWriter);\r\n\r\n            pdfDocument.setDefaultPageSize(PageSize.A4);\r\n            Document document = new Document(pdfDocument);\r\n\r\n            setHeader(document);\r\n            setCompanyData(document);\r\n            document.add(sp);\r\n            setInvoiceNo(document);\r\n            setCustomerAndPayment(document);\r\n\r\n\r\n            document.close();\r\n\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\nAnd for example, this function\r\n\r\n    private static void setInvoiceNo(Document document) {\r\n        try {\r\n            float columnwidths[] = {570f / 2};\r\n\r\n            Table table = new Table(columnwidths).setBorder(Border.NO_BORDER);\r\n            table.setTextAlignment(TextAlignment.LEFT);\r\n            table.setWidth(UnitValue.createPercentValue(100));\r\n\r\n            table.addCell(new Cell().add(&quot;Račun broj: 751/22&quot;).setBorder(Border.NO_BORDER).setFont(montserrant_font));\r\n            document.add(table);\r\n        } catch (Exception e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\nThe sentence Račun broj: 751/22 in PDF is Raun broj: 751/22\r\n\r\nThe font is loaded well and supports those letters because it works without problems in the rest of the code\r\n","title":"Java iText7 UTF8 Characters","body":"<p>I want to create an invoice as a pdf document. I have a problem with some letters of the Croatian alphabet. In the PDF there are the letters š,ž but the letters đ, č, ć are not displayed. How to solve the problem?</p>\n<pre><code>public static void createPDF(String pdfFilename) throws FileNotFoundException {\n   \n    try {\n        \n        String path = &quot;invoice.pdf&quot;;\n        PdfWriter pdfWriter = new PdfWriter(path);\n        PdfDocument pdfDocument = new PdfDocument(pdfWriter);\n\n        pdfDocument.setDefaultPageSize(PageSize.A4);\n        Document document = new Document(pdfDocument);\n\n        setHeader(document);\n        setCompanyData(document);\n        document.add(sp);\n        setInvoiceNo(document);\n        setCustomerAndPayment(document);\n\n\n        document.close();\n\n\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>And for example, this function</p>\n<pre><code>private static void setInvoiceNo(Document document) {\n    try {\n        float columnwidths[] = {570f / 2};\n\n        Table table = new Table(columnwidths).setBorder(Border.NO_BORDER);\n        table.setTextAlignment(TextAlignment.LEFT);\n        table.setWidth(UnitValue.createPercentValue(100));\n\n        table.addCell(new Cell().add(&quot;Račun broj: 751/22&quot;).setBorder(Border.NO_BORDER).setFont(montserrant_font));\n        document.add(table);\n    } catch (Exception e) {\n\n    }\n\n}\n</code></pre>\n<p>The sentence Račun broj: 751/22 in PDF is Raun broj: 751/22</p>\n<p>The font is loaded well and supports those letters because it works without problems in the rest of the code</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23229879,"reputation":35,"user_id":17320810,"display_name":"Vaibhav Singh"},"score":0,"creation_date":1659814227,"post_id":73262700,"comment_id":129386123,"body_markdown":"Apart from the code if possible please share the explanation of your code and the mistakes I&#39;ve made. Thank you :)","body":"Apart from the code if possible please share the explanation of your code and the mistakes I&#39;ve made. Thank you :)"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659817210,"post_id":73262700,"comment_id":129386644,"body_markdown":"what should be returned if the target is greater than all the values in the array?","body":"what should be returned if the target is greater than all the values in the array?"},{"owner":{"account_id":23229879,"reputation":35,"user_id":17320810,"display_name":"Vaibhav Singh"},"score":0,"creation_date":1659890710,"post_id":73262700,"comment_id":129397317,"body_markdown":"That wasn&#39;t actually defined in the question.. So no idea","body":"That wasn&#39;t actually defined in the question.. So no idea"}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659889107,"creation_date":1659817822,"answer_id":73263072,"question_id":73262700,"body_markdown":"What you can do is simply perform a normal binary search.  If the target is found at index i, then the ceiling is at i.  If the target is not found, then the ceiling is the index where it stops. \r\n\r\n```\r\n   static int ceiling(int[] arr, int target){\r\n      int low = 0, high = arr.length-1;\r\n      while(true){\r\n         int mid = (low+high)/2;\r\n         \r\n         if      (low &gt;= high)         return arr[low];\r\n         \r\n         if      (arr[mid] == target)  return arr[mid];\r\n         else if (target &gt; arr[mid])   low  = mid+1;\r\n         else if (target &lt; arr[mid])   high = mid-1;\r\n      }\r\n   }\r\n    public static void main(String[] args){\r\n        int arr[] = {-18, -12, -4, 0, 2, 3, 4, 15, 16, 18, 22, 45, 89, 100};\r\n        int target = 31;\r\n        int sol = ceiling(arr, target);\r\n        \r\n        System.out.println(sol);\r\n    }\r\n```","title":"Target element is given and find the ceiling of that element","body":"<p>What you can do is simply perform a normal binary search.  If the target is found at index i, then the ceiling is at i.  If the target is not found, then the ceiling is the index where it stops.</p>\n<pre><code>   static int ceiling(int[] arr, int target){\n      int low = 0, high = arr.length-1;\n      while(true){\n         int mid = (low+high)/2;\n         \n         if      (low &gt;= high)         return arr[low];\n         \n         if      (arr[mid] == target)  return arr[mid];\n         else if (target &gt; arr[mid])   low  = mid+1;\n         else if (target &lt; arr[mid])   high = mid-1;\n      }\n   }\n    public static void main(String[] args){\n        int arr[] = {-18, -12, -4, 0, 2, 3, 4, 15, 16, 18, 22, 45, 89, 100};\n        int target = 31;\n        int sol = ceiling(arr, target);\n        \n        System.out.println(sol);\n    }\n</code></pre>\n"}],"owner":{"account_id":23229879,"reputation":35,"user_id":17320810,"display_name":"Vaibhav Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659889107,"creation_date":1659814001,"question_id":73262700,"body_markdown":"**What I tried**\r\n*here I&#39;ve used order agnostic binary search*\r\n\r\n*I&#39;ve tried creating a method called webs inside which I declared a boolean variable to check whether the array is sorted in ascending or descending order(considering that order in unknown) and further I used an if condition for the same.*\r\n\r\n    //find the ceiling of a number\r\n    //ceiling of a given number is the smallest element\r\n    //in the array greater than or equal to target element\r\n    \r\n    public class webs{\r\n        public static void main(String[] args){\r\n            int arr[] = {-18, -12, -4, 0, 2, 3, 4, 15, 16, 18, 22, 45, 89};\r\n            int target = 45;\r\n            int sol = ceiling(arr, target);\r\n            System.out.println(sol);\r\n        }\r\n        static int ceiling(int arr[], int target){\r\n            int ans = Integer.MIN_VALUE;\r\n            int start = 0;\r\n            int end = arr.length-1;\r\n            while(start &lt;= end){\r\n                int mid = start + (end - start)/2;\r\n                boolean isAsc = arr[start] &lt; arr[end];\r\n    \r\n                if(isAsc){\r\n                    if(arr[mid] &lt; target){\r\n                        start = mid + 1;\r\n                    } else{\r\n                        end = mid - 1;\r\n                    }\r\n                }else{\r\n                    if(arr[mid] &gt; target){\r\n                        start = mid + 1;\r\n                    }else{\r\n                        end = mid - 1;\r\n                    }\r\n                }\r\n                for(int nums: arr){\r\n                    if(nums &gt; target){\r\n                        if(nums &gt; ans){\r\n                            ans = nums;\r\n                        }\r\n                    }\r\n                }\r\n                return ans;\r\n            }\r\n            return start;\r\n        }\r\n    }\r\n\r\n\r\n*I want it to return ceiling of the target element*\r\n\r\n**Output**\r\n*it is returning the greatest number present in the array*","title":"Target element is given and find the ceiling of that element","body":"<p><strong>What I tried</strong>\n<em>here I've used order agnostic binary search</em></p>\n<p><em>I've tried creating a method called webs inside which I declared a boolean variable to check whether the array is sorted in ascending or descending order(considering that order in unknown) and further I used an if condition for the same.</em></p>\n<pre><code>//find the ceiling of a number\n//ceiling of a given number is the smallest element\n//in the array greater than or equal to target element\n\npublic class webs{\n    public static void main(String[] args){\n        int arr[] = {-18, -12, -4, 0, 2, 3, 4, 15, 16, 18, 22, 45, 89};\n        int target = 45;\n        int sol = ceiling(arr, target);\n        System.out.println(sol);\n    }\n    static int ceiling(int arr[], int target){\n        int ans = Integer.MIN_VALUE;\n        int start = 0;\n        int end = arr.length-1;\n        while(start &lt;= end){\n            int mid = start + (end - start)/2;\n            boolean isAsc = arr[start] &lt; arr[end];\n\n            if(isAsc){\n                if(arr[mid] &lt; target){\n                    start = mid + 1;\n                } else{\n                    end = mid - 1;\n                }\n            }else{\n                if(arr[mid] &gt; target){\n                    start = mid + 1;\n                }else{\n                    end = mid - 1;\n                }\n            }\n            for(int nums: arr){\n                if(nums &gt; target){\n                    if(nums &gt; ans){\n                        ans = nums;\n                    }\n                }\n            }\n            return ans;\n        }\n        return start;\n    }\n}\n</code></pre>\n<p><em>I want it to return ceiling of the target element</em></p>\n<p><strong>Output</strong>\n<em>it is returning the greatest number present in the array</em></p>\n"},{"tags":["java","compilation","javac","directory-structure"],"comments":[{"owner":{"account_id":275502,"reputation":16152,"user_id":568406,"display_name":"Zach L"},"score":0,"creation_date":1295651298,"post_id":4764768,"comment_id":5272010,"body_markdown":"Out of curiosity, which OS are you using--Windows, Linux, Mac, etc? This could help to answer the question","body":"Out of curiosity, which OS are you using--Windows, Linux, Mac, etc? This could help to answer the question"},{"owner":{"account_id":191556,"reputation":21100,"user_id":432193,"accept_rate":84,"display_name":"Endophage"},"score":1,"creation_date":1295651562,"post_id":4764768,"comment_id":5272053,"body_markdown":"I haven&#39;t compiled java on the command line in a couple of years but I think if you just pass the file containing your main() to javac, it will search out all the other files it needs to compile as all your dependencies can be discovered starting from the file containing main().","body":"I haven&#39;t compiled java on the command line in a couple of years but I think if you just pass the file containing your main() to javac, it will search out all the other files it needs to compile as all your dependencies can be discovered starting from the file containing main()."},{"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"score":1,"creation_date":1419581645,"post_id":4764768,"comment_id":43725480,"body_markdown":"possible duplicate of [javac option to compile recursively](http://stackoverflow.com/questions/6623161/javac-option-to-compile-recursively)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6623161/javac-option-to-compile-recursively\">javac option to compile recursively</a>"}],"answers":[{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1295652160,"creation_date":1295651405,"answer_id":4764811,"question_id":4764768,"body_markdown":"You&#39;d have to use something like Ant to do this hierarchically:\r\n\r\n[http://ant.apache.org/manual/Tasks/javac.html][1]\r\n\r\nYou&#39;ll need to create a build script with a target called compile containing the following:\r\n\r\n    &lt;javac sourcepath=&quot;&quot; srcdir=&quot;${src}&quot;\r\n             destdir=&quot;${build}&quot; &gt;\r\n        &lt;include name=&quot;**/*.java&quot;/&gt;\r\n    &lt;/javac&gt;\r\n\r\nThen you&#39;&#39;ll be able to compile all files by running:\r\n\r\n     ant compile\r\n\r\nAlternatively, import your project into Eclipse and it will automatically compile all the source files for that project.\r\n\r\n  [1]: http://ant.apache.org/manual/Tasks/javac.html\r\n","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>You'd have to use something like Ant to do this hierarchically:</p>\n\n<p><a href=\"http://ant.apache.org/manual/Tasks/javac.html\">http://ant.apache.org/manual/Tasks/javac.html</a></p>\n\n<p>You'll need to create a build script with a target called compile containing the following:</p>\n\n<pre><code>&lt;javac sourcepath=\"\" srcdir=\"${src}\"\n         destdir=\"${build}\" &gt;\n    &lt;include name=\"**/*.java\"/&gt;\n&lt;/javac&gt;\n</code></pre>\n\n<p>Then you''ll be able to compile all files by running:</p>\n\n<pre><code> ant compile\n</code></pre>\n\n<p>Alternatively, import your project into Eclipse and it will automatically compile all the source files for that project.</p>\n"},{"tags":[],"owner":{"account_id":275502,"reputation":16152,"user_id":568406,"display_name":"Zach L"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1295652750,"creation_date":1295652407,"answer_id":4764922,"question_id":4764768,"body_markdown":"I would take [Jon](https://stackoverflow.com/questions/4764768/java-how-can-i-compile-an-entire-directory-structure-of-code/4764811#4764811)&#39;s suggestion and use Ant, since this is a pretty complex task.\r\n\r\nHowever, if you are determined to get it all in one line in the Terminal, on Linux you could use the [**find**][1] command. But I don&#39;t recommend this at all, since there&#39;s no guarantee that, say, Foo.java will be compiled after Bar.java, even though `Foo` uses `Bar`. An example would be:\r\n\r\n`find . -type f -name &quot;*.java&quot; -exec javac {} \\;`\r\n\r\nIf all of your classes haven&#39;t been compiled yet, if there&#39;s one main harness or driver class (basically the one containing your main method), compiling that main class individually should compile most of project, even if they are in different folders, since Javac will try to the best of its abilities to resolve dependency issues.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Find_(Unix)","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>I would take <a href=\"https://stackoverflow.com/questions/4764768/java-how-can-i-compile-an-entire-directory-structure-of-code/4764811#4764811\">Jon</a>'s suggestion and use Ant, since this is a pretty complex task.</p>\n\n<p>However, if you are determined to get it all in one line in the Terminal, on Linux you could use the <a href=\"http://en.wikipedia.org/wiki/Find_(Unix)\" rel=\"nofollow noreferrer\"><strong>find</strong></a> command. But I don't recommend this at all, since there's no guarantee that, say, Foo.java will be compiled after Bar.java, even though <code>Foo</code> uses <code>Bar</code>. An example would be:</p>\n\n<p><code>find . -type f -name \"*.java\" -exec javac {} \\;</code></p>\n\n<p>If all of your classes haven't been compiled yet, if there's one main harness or driver class (basically the one containing your main method), compiling that main class individually should compile most of project, even if they are in different folders, since Javac will try to the best of its abilities to resolve dependency issues.</p>\n"},{"tags":[],"owner":{"account_id":283344,"reputation":3593,"user_id":580796,"accept_rate":81,"display_name":"Manidip Sengupta"},"down_vote_count":2,"up_vote_count":69,"is_accepted":true,"score":67,"last_activity_date":1295653435,"creation_date":1295653435,"answer_id":4765023,"question_id":4764768,"body_markdown":"You have to know all the directories, or be able to use wildcard ..\r\n\r\n    javac dir1/*.java dir2/*.java dir3/dir4/*.java dir3/dir5/*.java dir6/*src/*.java\r\n\r\n\r\n","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>You have to know all the directories, or be able to use wildcard ..</p>\n\n<pre><code>javac dir1/*.java dir2/*.java dir3/dir4/*.java dir3/dir5/*.java dir6/*src/*.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":367682,"reputation":7816,"user_id":714009,"accept_rate":75,"display_name":"Daniel Lubarov"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1600364076,"creation_date":1320457269,"answer_id":8017562,"question_id":4764768,"body_markdown":"With Bash 4+, you can just enable globstar\r\n\r\n```bash\r\nshopt -s globstar\r\n```\r\n\r\nand then do\r\n\r\n```bash\r\njavac **/*.java\r\n```","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>With Bash 4+, you can just enable globstar</p>\n<pre class=\"lang-sh prettyprint-override\"><code>shopt -s globstar\n</code></pre>\n<p>and then do</p>\n<pre class=\"lang-sh prettyprint-override\"><code>javac **/*.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169924,"reputation":3720,"user_id":396304,"accept_rate":50,"display_name":"bolinfest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353130399,"creation_date":1353130399,"answer_id":13428020,"question_id":4764768,"body_markdown":"There is a way to do this without using a pipe character, which is convenient if you are forking a process from another programming language to do this:\r\n\r\n    find $JAVA_SRC_DIR -name &#39;*.java&#39; -exec javac -d $OUTPUT_DIR {} +\r\n\r\nThough if you are in Bash and/or don&#39;t mind using a pipe, then you can do:\r\n\r\n    find $JAVA_SRC_DIR -name &#39;*.java&#39; | xargs javac -d $OUTPUT_DIR\r\n","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>There is a way to do this without using a pipe character, which is convenient if you are forking a process from another programming language to do this:</p>\n\n<pre><code>find $JAVA_SRC_DIR -name '*.java' -exec javac -d $OUTPUT_DIR {} +\n</code></pre>\n\n<p>Though if you are in Bash and/or don't mind using a pipe, then you can do:</p>\n\n<pre><code>find $JAVA_SRC_DIR -name '*.java' | xargs javac -d $OUTPUT_DIR\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1351463,"reputation":1367,"user_id":1290953,"accept_rate":68,"display_name":"Bharat Khatri"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1363159815,"creation_date":1363159815,"answer_id":15379325,"question_id":4764768,"body_markdown":"If all you want to do is run your main class (without compiling the `.java` files on which the main class doesn&#39;t depend), then you can do the following:\r\n\r\n    cd &lt;root-package-directory&gt;\r\n    javac &lt;complete-path-to-main-class&gt;\r\nor\r\n\r\n    javac -cp &lt;root-package-directory&gt; &lt;complete-path-to-main-class&gt;\r\n\r\n`javac` would automatically resolve all the dependencies and compile all the dependencies as well.\r\n","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>If all you want to do is run your main class (without compiling the <code>.java</code> files on which the main class doesn't depend), then you can do the following:</p>\n\n<pre><code>cd &lt;root-package-directory&gt;\njavac &lt;complete-path-to-main-class&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>javac -cp &lt;root-package-directory&gt; &lt;complete-path-to-main-class&gt;\n</code></pre>\n\n<p><code>javac</code> would automatically resolve all the dependencies and compile all the dependencies as well.</p>\n"},{"tags":[],"owner":{"account_id":1990807,"reputation":179,"user_id":1784868,"display_name":"Ameya Gokhale"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1364388818,"creation_date":1364388818,"answer_id":15659311,"question_id":4764768,"body_markdown":"Following is the method I found: \r\n\r\n1) Make a list of files with relative paths in a file (say FilesList.txt) as follows (either space separated or line separated):\r\n\r\n    foo/AccessTestInterface.java\r\n    foo/goo/AccessTestInterfaceImpl.java\r\n\r\n2) Use the command:\r\n\r\n    javac @FilesList.txt -d classes\r\nThis will compile all the files and put the class files inside classes directory.\r\n\r\nNow easy way to create FilesList.txt is this:\r\nGo to your source root directory.\r\n\r\n    dir *.java /s /b &gt; FilesList.txt\r\nBut, this will populate absolute path. Using a text editor &quot;Replace All&quot; the path up to source directory (include \\ in the end) with &quot;&quot; (i.e. empty string) and Save.","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>Following is the method I found: </p>\n\n<p>1) Make a list of files with relative paths in a file (say FilesList.txt) as follows (either space separated or line separated):</p>\n\n<pre><code>foo/AccessTestInterface.java\nfoo/goo/AccessTestInterfaceImpl.java\n</code></pre>\n\n<p>2) Use the command:</p>\n\n<pre><code>javac @FilesList.txt -d classes\n</code></pre>\n\n<p>This will compile all the files and put the class files inside classes directory.</p>\n\n<p>Now easy way to create FilesList.txt is this:\nGo to your source root directory.</p>\n\n<pre><code>dir *.java /s /b &gt; FilesList.txt\n</code></pre>\n\n<p>But, this will populate absolute path. Using a text editor \"Replace All\" the path up to source directory (include \\ in the end) with \"\" (i.e. empty string) and Save.</p>\n"},{"tags":[],"owner":{"account_id":3424264,"reputation":21,"user_id":2870589,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381486890,"creation_date":1381486740,"answer_id":19315719,"question_id":4764768,"body_markdown":"Windows solution:  Assuming all files contained in sub-directory &#39;src&#39;, and you want to compile them to &#39;bin&#39;.\r\n\r\n    for /r src %i in (*.java) do javac %i -sourcepath src -d bin\r\n\r\nIf src contains a .java file immediately below it then this is faster\r\n   \r\n    javac src\\\\*.java -d bin\r\n\r\n\r\n","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>Windows solution:  Assuming all files contained in sub-directory 'src', and you want to compile them to 'bin'.</p>\n\n<pre><code>for /r src %i in (*.java) do javac %i -sourcepath src -d bin\n</code></pre>\n\n<p>If src contains a .java file immediately below it then this is faster</p>\n\n<pre><code>javac src\\\\*.java -d bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1400961931,"creation_date":1400961931,"answer_id":23849153,"question_id":4764768,"body_markdown":"The already existing answers seem to only concern oneself with the *.java files themselves and not how to easily do it with library files that might be needed for the build.\r\n\r\nA nice one-line situation which recursively gets all *.java files as well as includes *.jar files necessary for building is:\r\n\r\n    javac -cp &quot;.:lib/*&quot; -d bin $(find ./src/* | grep .java)\r\n\r\nHere the bin file is the destination of class files, lib (and potentially the current working directory) contain the library files and all the java files in the src directory and beneath are compiled.","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>The already existing answers seem to only concern oneself with the *.java files themselves and not how to easily do it with library files that might be needed for the build.</p>\n\n<p>A nice one-line situation which recursively gets all *.java files as well as includes *.jar files necessary for building is:</p>\n\n<pre><code>javac -cp \".:lib/*\" -d bin $(find ./src/* | grep .java)\n</code></pre>\n\n<p>Here the bin file is the destination of class files, lib (and potentially the current working directory) contain the library files and all the java files in the src directory and beneath are compiled.</p>\n"},{"tags":[],"owner":{"account_id":541498,"reputation":3043,"user_id":910074,"accept_rate":75,"display_name":"Will Huang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659886635,"creation_date":1659713394,"answer_id":73252094,"question_id":4764768,"body_markdown":"If you are using **Command Prompt** on **Windows**, you can use the following method to build all java files (`src/`) into classes (`bin/`).\r\n\r\n    SET filelist=%temp%\\filelist-%random%.txt\r\n\r\n    dir /s /b src\\*.java &gt; %filelist%\r\n\r\n    javac @%filelist% -sourcepath src -cp &quot;.;lib&quot; -d bin\\\r\n\r\n    del %filelist%\r\n\r\nIf you are using **PowerShell**:\r\n\r\n    $filelist = New-TemporaryFile\r\n    Get-ChildItem -Recurse *.java | foreach { $_.FullName } | Out-File -Encoding utf8 $filelist\r\n    javac &quot;@$($filelist.FullName)&quot; -sourcepath src -cp &quot;.;lib&quot; -d bin\\\r\n    Remove-Item $filelist\r\n","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>If you are using <strong>Command Prompt</strong> on <strong>Windows</strong>, you can use the following method to build all java files (<code>src/</code>) into classes (<code>bin/</code>).</p>\n<pre><code>SET filelist=%temp%\\filelist-%random%.txt\n\ndir /s /b src\\*.java &gt; %filelist%\n\njavac @%filelist% -sourcepath src -cp &quot;.;lib&quot; -d bin\\\n\ndel %filelist%\n</code></pre>\n<p>If you are using <strong>PowerShell</strong>:</p>\n<pre><code>$filelist = New-TemporaryFile\nGet-ChildItem -Recurse *.java | foreach { $_.FullName } | Out-File -Encoding utf8 $filelist\njavac &quot;@$($filelist.FullName)&quot; -sourcepath src -cp &quot;.;lib&quot; -d bin\\\nRemove-Item $filelist\n</code></pre>\n"}],"owner":{"account_id":29100,"reputation":14836,"user_id":78351,"accept_rate":71,"display_name":"euphoria83"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179403,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":4765023,"answer_count":10,"score":98,"last_activity_date":1659886635,"creation_date":1295651072,"question_id":4764768,"body_markdown":"The use case is simple. I got the source files that were created using Eclipse. So, there is a deep directory structure, where any Java class could be referring to another Java class in the same, child, sibling or parent folder. \r\n\r\nHow do I compile this whole thing from the terminal using javac ?","title":"Java: How can I compile an entire directory structure of code ?","body":"<p>The use case is simple. I got the source files that were created using Eclipse. So, there is a deep directory structure, where any Java class could be referring to another Java class in the same, child, sibling or parent folder. </p>\n\n<p>How do I compile this whole thing from the terminal using javac ?</p>\n"},{"tags":["java","character-encoding","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659879845,"creation_date":1659879845,"answer_id":73267958,"question_id":73267779,"body_markdown":"Very likely your Ubuntu desktop system and your Ubuntu Server do not use the same language settings or default encoding settings. Whatever the OS settings, you can specify the default encoding for the JVM by simply setting a system property at startup:\r\n\r\n    java -Dfile.encoding=UTF8 au.com.objects.MyClass\r\n\r\nOn top of that your application should be able to set the encoding for the email body when constructing/sending the email.\r\n\r\nSee also https://stackoverflow.com/questions/1128617/java-default-encoding#1128658","title":"Wrong character in mail depending on sending computer","body":"<p>Very likely your Ubuntu desktop system and your Ubuntu Server do not use the same language settings or default encoding settings. Whatever the OS settings, you can specify the default encoding for the JVM by simply setting a system property at startup:</p>\n<pre><code>java -Dfile.encoding=UTF8 au.com.objects.MyClass\n</code></pre>\n<p>On top of that your application should be able to set the encoding for the email body when constructing/sending the email.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/1128617/java-default-encoding#1128658\">Java, default encoding</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659886059,"creation_date":1659884666,"answer_id":73268556,"question_id":73267779,"body_markdown":"Your minimalistic DOCTYPE declares HTML 5 for its content.\r\nThe HTML 5 way to specify a charset is (also brieve):\r\n\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\r\nIt seems the binary bytes are in UTF-8 with multi-byte sequences for special characters, and send declared as an extended ASCII.\r\n\r\nThere is the global setting, a _System property_:\r\n\r\n    mail.mime.charset=UTF-8\r\n\r\n    System.setProperty(&quot;mail.mime.charset&quot;, &quot;UTF-8&quot;);\r\n\r\nI would search for the right spot for a declarative configuration.\r\n\r\nFor individual mails you can use with the MimeMessage:\r\n\r\n    message.setSubject(&quot;Ern&#228;hrung/K&#246;rperpflege&quot;, &quot;UTF-8&quot;);\r\n    message.setText(&quot;Nutraĵoj ĝenerale sanaj&quot;, &quot;UTF-8&quot;);\r\n\r\n---------------\r\n\r\nI also saw a difference between decimal point and decimal comma.\r\nHence the `Locale` defaults to the computer. Your development computer uses probably &quot;GERMANY (de-DE) whereas the docker platform probably uses US.\r\n\r\n(And then for a thousands separator using a MessageFormat would have been nice, even if it is just a non-breaking space `&quot;\\u00a0&quot;`.)","title":"Wrong character in mail depending on sending computer","body":"<p>Your minimalistic DOCTYPE declares HTML 5 for its content.\nThe HTML 5 way to specify a charset is (also brieve):</p>\n<pre><code>&lt;meta charset=&quot;UTF-8&quot;&gt;\n</code></pre>\n<p>It seems the binary bytes are in UTF-8 with multi-byte sequences for special characters, and send declared as an extended ASCII.</p>\n<p>There is the global setting, a <em>System property</em>:</p>\n<pre><code>mail.mime.charset=UTF-8\n\nSystem.setProperty(&quot;mail.mime.charset&quot;, &quot;UTF-8&quot;);\n</code></pre>\n<p>I would search for the right spot for a declarative configuration.</p>\n<p>For individual mails you can use with the MimeMessage:</p>\n<pre><code>message.setSubject(&quot;Ernährung/Körperpflege&quot;, &quot;UTF-8&quot;);\nmessage.setText(&quot;Nutraĵoj ĝenerale sanaj&quot;, &quot;UTF-8&quot;);\n</code></pre>\n<hr />\n<p>I also saw a difference between decimal point and decimal comma.\nHence the <code>Locale</code> defaults to the computer. Your development computer uses probably &quot;GERMANY (de-DE) whereas the docker platform probably uses US.</p>\n<p>(And then for a thousands separator using a MessageFormat would have been nice, even if it is just a non-breaking space <code>&quot;\\u00a0&quot;</code>.)</p>\n"}],"owner":{"account_id":3233740,"reputation":143,"user_id":2728391,"display_name":"Schwabenheinz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659886059,"creation_date":1659878287,"question_id":73267779,"body_markdown":"I wrote a java code to send a html eMail.\r\nFor this I use jakarta.mail.\r\n\r\nFor the first try I got wrong characters in my eMail Client.\r\nI could fix it by using following code:\r\n\r\n    htmlPart.setContent(new String(mailTextContent.getBytes(&quot;UTF8&quot;),&quot;ISO-8859-1&quot;), &quot;text/html&quot;);\r\n\r\nafter using this code, on my development computer (Ubuntu) the mail works pretty fine. What I got can you pls. see in following, snipped which has the right encoding:\r\n\r\n[![enter image description here][1]][1]\r\nGerman &#228;,&#246; and Euro (€) is correct.\r\n\r\nNow I deployed the jar file to my ubuntu server (docker) \r\nAfter deploying I get following picture:\r\n[![enter image description here][2]][2]\r\n\r\nIn the sourcecode of the wrong eMail is following included:\r\n\r\n        ------=_Part_0_1847509784.1659876554470\r\n    Content-Type: text/html; charset=ANSI_X3.4-1968\r\n    Content-Transfer-Encoding: quoted-printable\r\n\r\nIn the sourcecode of the correct eMail is following included:\r\n\r\n        ------=_Part_0_2050835901.1659876395597\r\n    Content-Type: text/html; charset=UTF-8\r\n    Content-Transfer-Encoding: quoted-printable\r\n\r\nIn both cases the client is the same.\r\nIt looks like, that on my ubuntu server is an other behavior like on my ubuntu client\r\n\r\nMy html code starts with:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;de&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;title&gt;mailtest&lt;/title&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=ISO-8859-1&quot;&gt; \r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;/b&gt;\r\n    &lt;table border=&#39;&#39;1&#39;&#39;....\r\n\r\nIs there any idea/hint how can I prevent such an impact?\r\nThank you in advance\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/HyGuk.png\r\n  [2]: https://i.stack.imgur.com/BBlH4.png\r\n","title":"Wrong character in mail depending on sending computer","body":"<p>I wrote a java code to send a html eMail.\nFor this I use jakarta.mail.</p>\n<p>For the first try I got wrong characters in my eMail Client.\nI could fix it by using following code:</p>\n<pre><code>htmlPart.setContent(new String(mailTextContent.getBytes(&quot;UTF8&quot;),&quot;ISO-8859-1&quot;), &quot;text/html&quot;);\n</code></pre>\n<p>after using this code, on my development computer (Ubuntu) the mail works pretty fine. What I got can you pls. see in following, snipped which has the right encoding:</p>\n<p><a href=\"https://i.stack.imgur.com/HyGuk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HyGuk.png\" alt=\"enter image description here\" /></a>\nGerman ä,ö and Euro (€) is correct.</p>\n<p>Now I deployed the jar file to my ubuntu server (docker)\nAfter deploying I get following picture:\n<a href=\"https://i.stack.imgur.com/BBlH4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBlH4.png\" alt=\"enter image description here\" /></a></p>\n<p>In the sourcecode of the wrong eMail is following included:</p>\n<pre><code>    ------=_Part_0_1847509784.1659876554470\nContent-Type: text/html; charset=ANSI_X3.4-1968\nContent-Transfer-Encoding: quoted-printable\n</code></pre>\n<p>In the sourcecode of the correct eMail is following included:</p>\n<pre><code>    ------=_Part_0_2050835901.1659876395597\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: quoted-printable\n</code></pre>\n<p>In both cases the client is the same.\nIt looks like, that on my ubuntu server is an other behavior like on my ubuntu client</p>\n<p>My html code starts with:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;de&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;mailtest&lt;/title&gt;\n  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=ISO-8859-1&quot;&gt; \n&lt;/head&gt;\n&lt;body&gt;\n&lt;/b&gt;\n&lt;table border=''1''....\n</code></pre>\n<p>Is there any idea/hint how can I prevent such an impact?\nThank you in advance</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659884223,"creation_date":1659884223,"answer_id":73268495,"question_id":73268405,"body_markdown":"What the methods in your class `PromotionConverter` do is inconsistent:\r\n\r\n`convertToDatabaseColumn` will convert to the name of the promotion season class in lowercase, so it will return: `promotioneasterseason` or `promotionchristmasseason` or `nopromotionforyouthistimemuhaha`. This is the string that will be stored in the database.\r\n\r\nBut the method `convertToEntityAttribute`, which is supposed to do the opposite, does something else: if the string from the database is `easterPromotion` then it will return an object of type `PromotionEasterSeason` and otherwise an object of type `PromotionChristmasSeason`.\r\n\r\nSo, what happens when you save an easter promotion in the database: Hibernate will store the string `promotioneasterseason`. And when you read that record back from the datase, the converter notices that that does not match `easterPromotion` so it will return a `PromotionChristmasSeason`.\r\n\r\nSolution: Make sure the methods `convertToDatabaseColumn` and `convertToEntityAttribute` do the opposite of eachother.\r\n","title":"Weird behaviour of Hibernate when saving an Entity with @Convert classes","body":"<p>What the methods in your class <code>PromotionConverter</code> do is inconsistent:</p>\n<p><code>convertToDatabaseColumn</code> will convert to the name of the promotion season class in lowercase, so it will return: <code>promotioneasterseason</code> or <code>promotionchristmasseason</code> or <code>nopromotionforyouthistimemuhaha</code>. This is the string that will be stored in the database.</p>\n<p>But the method <code>convertToEntityAttribute</code>, which is supposed to do the opposite, does something else: if the string from the database is <code>easterPromotion</code> then it will return an object of type <code>PromotionEasterSeason</code> and otherwise an object of type <code>PromotionChristmasSeason</code>.</p>\n<p>So, what happens when you save an easter promotion in the database: Hibernate will store the string <code>promotioneasterseason</code>. And when you read that record back from the datase, the converter notices that that does not match <code>easterPromotion</code> so it will return a <code>PromotionChristmasSeason</code>.</p>\n<p>Solution: Make sure the methods <code>convertToDatabaseColumn</code> and <code>convertToEntityAttribute</code> do the opposite of eachother.</p>\n"}],"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73268495,"answer_count":1,"score":0,"last_activity_date":1659884223,"creation_date":1659883431,"question_id":73268405,"body_markdown":"So i have a Promotion Domain with classes like Entity, Service, Controller and so on.\r\n\r\nBut i have an interface property in Entity class, and based on parameters passed at POST time, that instance is gonna be a subclass saved in the DB.\r\nBUT i encountered a weird behaviour of Hibernate in regards of this. If i put that property to be \r\n`promotionSeason = &quot;easterPromotion&quot;` - first, in console, appers to be created as a ChristmasPromotionSeason and then updated as an EasterPromotionSeason, i don&#39;t know why, \r\nif i make another example, let&#39;s say: `promotionSeason = &quot;noPromotion&quot;`, same problem...\r\n\r\nI get the wrong result on Query to see what Promotion we have based on PromotionSeason, if i have EasterPromotion saved in the DB, is gonna returl ChristmasPromotion in Query result, why is this problem occur?\r\nYou can see that on Hibernate console log from below...\r\n\r\nPromotion Entity:\r\n\r\n    @Entity\r\n    @org.hibernate.annotations.DynamicInsert\r\n    @org.hibernate.annotations.DynamicUpdate\r\n    @Access(AccessType.FIELD)\r\n    public class Promotion {\r\n    \r\n        @Id @GeneratedValue(strategy = GenerationType.SEQUENCE) //pre Insert values\r\n        private Long promotionId;\r\n\r\n        //Strategy Pattern, maybe State pattern was more suitable?\r\n        //check this -&gt; https://stackoverflow.com/questions/51138344/hibernate-persisting-a-composition-interface-of-strategy-pattern\r\n        @Convert(converter = PromotionConverter.class)\r\n        @Column(name = &quot;PROMOTION_SEASON&quot;, nullable = false)\r\n        private PromotionSeason promotionSeason;\r\n\r\n        public Promotion() {}\r\n    \r\n        public Promotion(PromotionSeason promotionSeason)\r\n        {\r\n            this.promotionSeason = promotionSeason;\r\n        }\r\n        public Long getPromotionId() {\r\n            return promotionId;\r\n        }\r\n\r\n        public PromotionSeason getPromotionSeason() {\r\n            return promotionSeason;\r\n        }\r\n    \r\n        public void setPromotionSeason(PromotionSeason promotionSeason) {\r\n            this.promotionSeason = promotionSeason;\r\n        }\r\n    }\r\n\r\nPromotion Service\r\n\r\n    @Service\r\n    public class PromotionService {\r\n    \r\n        private final PromotionRepository promotionRepository;\r\n        private final PromotionCallingOthers promotionCallingOthers;\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n    \r\n    \r\n        @Autowired\r\n        public PromotionService(PromotionRepository promotionRepository, PromotionCallingOthers promotionCallingOthers) {\r\n            this.promotionRepository = promotionRepository;\r\n            this.promotionCallingOthers = promotionCallingOthers;\r\n        }\r\n    \r\n        public void createPromotion(Promotion promotion)\r\n        {\r\n    \r\n            System.out.println(promotion.getPromotionSeason().isSeason());\r\n            this.promotionRepository.save(promotion);\r\n        }\r\n    \r\n        public void addProducts(Promotion promotion, String productName) {\r\n            Promotion createdPromotion = new Promotion(promotion.getPromotionSeason());\r\n    \r\n            ResponseEntity&lt;Product&gt; productResponseEntity = promotionCallingOthers.callProduct(productName);\r\n            Session session = entityManager.unwrap(Session.class);\r\n            session.update(productResponseEntity.getBody()); // for detached entity error\r\n    \r\n            createdPromotion.addProduct(productResponseEntity.getBody());\r\n    \r\n            double price = createdPromotion.getProductList().get(0).getProductPrice();\r\n            double discountedPrice = createdPromotion.getPromotionSeason().applySeasonPromotionDiscount(price);\r\n    \r\n    \r\n            double priceTo = getDigitsFormat(price - discountedPrice);\r\n            Objects.requireNonNull(productResponseEntity.getBody()).setProductPrice(priceTo);\r\n    \r\n            createdPromotion.setNumberOfProductsAtPromotion(productResponseEntity.getBody().getProductQuantity());\r\n            this.promotionRepository.save(createdPromotion);\r\n    \r\n        }\r\n    \r\n        private double getDigitsFormat(double numberToFormat)\r\n        {\r\n            DecimalFormat formatDecimal = new DecimalFormat(&quot;#.##&quot;);\r\n            return Double.parseDouble(formatDecimal.format(numberToFormat));\r\n        }\r\n    \r\n        public Promotion createPromotionWithType(String promotionType) {\r\n            Promotion promotion = new Promotion();\r\n            promotion.setPromotionSeason(setPromotionSeasonImplBasedOnType(promotionType));\r\n            promotionRepository.save(promotion);\r\n            return promotion;\r\n        }\r\n    \r\n        public Promotion getPromotionSeasonBasedOnSomething(String promotionType)\r\n        {\r\n            PromotionSeason promotionSeason = setPromotionSeasonImplBasedOnType(promotionType);\r\n            Promotion promotion = promotionRepository.findPromotionByPromotionSeason(promotionSeason);\r\n            System.out.println(promotion.getPromotionSeason());\r\n            return promotion;\r\n        }\r\n    \r\n        private PromotionSeason setPromotionSeasonImplBasedOnType(String promotionType)\r\n        {\r\n            // eh, state pattern would be better i guess\r\n            switch (promotionType.toLowerCase()) {\r\n                case &quot;christmas&quot;:\r\n                    return new PromotionChristmasSeason();\r\n                case &quot;easter&quot;:\r\n                    return new PromotionEasterSeason();\r\n                default:\r\n                    return new NoPromotionForYouThisTimeMUHAHA();\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        public Promotion test(String testam) {\r\n            PromotionSeason promotionSeason = checkPromotionSeason(testam);\r\n          \r\n            System.out.println(promotionSeason.isSeason());\r\n    \r\n            \r\n            Promotion promotion = promotionRepository.findWhatPromotionSeasonWeHave(promotionSeason);\r\n    \r\n    \r\n            if (promotion == null) {\r\n    \r\n                System.out.println(&quot;promotion season ii in if: &quot; + promotionSeason.isSeason());\r\n                Promotion promotion1 = new Promotion(promotionSeason);\r\n                System.out.println(promotion1.getPromotionSeason().isSeason());\r\n                //?\r\n                promotion = promotion1;\r\n                System.out.println(promotion.getPromotionSeason().isSeason());\r\n    \r\n                promotion.setPromotionStore(promotion1.getPromotionStore());\r\n              \r\n                promotionRepository.save(promotion);\r\n                System.out.println(promotion.getPromotionSeason().isSeason());\r\n                return promotion;\r\n            }\r\n    \r\n          \r\n            promotion.setPromotionSeason(promotionSeason); \r\n            promotionRepository.save(promotion);\r\n            System.out.println(&quot;promotion is&quot; + promotion.getPromotionSeason().isSeason());\r\n            return promotion;\r\n        }\r\n    \r\n        private PromotionSeason checkPromotionSeason(String promotionSeason)\r\n        {\r\n            System.out.println(&quot;is \\n&quot; + promotionSeason.toLowerCase());\r\n            switch (promotionSeason.toLowerCase().trim())\r\n            {\r\n                case &quot;easter&quot; :\r\n                    return new PromotionEasterSeason();\r\n                case &quot;christmas&quot; :\r\n                    return new PromotionChristmasSeason();\r\n    \r\n                default:\r\n                    return new NoPromotionForYouThisTimeMUHAHA();\r\n            }\r\n        }\r\n\r\n\r\nPromotion Repository:\r\n\r\n    @Repository\r\n    public interface PromotionRepository extends JpaRepository&lt;Promotion, Long&gt; {\r\n    \r\n        @Query(&quot;SELECT s FROM Promotion s WHERE s.promotionSeason = :promotionSeason&quot;)\r\n        Promotion findWhatPromotionSeasonWeHave(@Param(&quot;promotionSeason&quot;) PromotionSeason promotionSeason);\r\n        Promotion findPromotionByPromotionSeason(PromotionSeason promotionSeason);\r\n    }\r\n    \r\nPromotion Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/promotions&quot;)\r\n    public class PromotionController {\r\n    \r\n        private final PromotionService promotionService;\r\n    \r\n        @Autowired\r\n        public PromotionController(PromotionService promotionService) {\r\n            this.promotionService = promotionService;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/createPromotion&quot;)\r\n        public ResponseEntity&lt;String&gt; createPromotion(@RequestBody Promotion promotion)\r\n        {\r\n            promotionService.createPromotion(promotion);\r\n            return ResponseEntity.status(HttpStatus.CREATED)\r\n                    .body(&quot;Done&quot;);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/createPromotion/{promotionType}&quot;)\r\n        public ResponseEntity&lt;Promotion&gt; createPromotionType(@PathVariable String promotionType)\r\n        {\r\n    \r\n            return ResponseEntity.status(HttpStatus.CREATED).body(promotionService.createPromotionWithType(promotionType));\r\n        }\r\n    \r\n        //WRONG RESULT\r\n        @GetMapping(value = &quot;/getPromotion/{promotionType}&quot;)\r\n        public ResponseEntity&lt;Promotion&gt; getPromotionType(@PathVariable String promotionType)\r\n        {\r\n            return ResponseEntity.status(HttpStatus.FOUND).body(promotionService.getPromotionSeasonBasedOnSomething(promotionType));\r\n        }\r\n    \r\n       \r\n        //WRONG RESULT\r\n        @GetMapping(value = &quot;/test/{promotion}&quot;)\r\n        public Promotion check(@PathVariable String promotion)\r\n        {\r\n            return promotionService.test(promotion);\r\n        }\r\n    }\r\n\r\nPromotionSeason Interface:\r\n\r\n    //see: -&gt; https://www.youtube.com/watch?v=IlLC3Yetil0\r\n    //see: -&gt; https://stackoverflow.com/questions/72155637/a-way-of-polymorphic-http-requests-using-postman/72158992#72158992\r\n    \r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;promotion&quot;)\r\n    @JsonSubTypes(\r\n            {       @JsonSubTypes.Type(value = PromotionEasterSeason.class, name = &quot;easterPromotion&quot;),\r\n                    @JsonSubTypes.Type(value = PromotionChristmasSeason.class, name = &quot;christmasPromotion&quot;),\r\n                    @JsonSubTypes.Type(value = NoPromotionForYouThisTimeMUHAHA.class, name = &quot;noPromotion&quot;)\r\n            })\r\n    public interface PromotionSeason {\r\n    \r\n        String isSeason();\r\n    \r\n        double applySeasonPromotionDiscount(double initialPrice);\r\n    }\r\n\r\nPromotionEasterSeason class - Impl of Interface:\r\n\r\n    @JsonTypeName(value = &quot;easterPromotion&quot;)\r\n    public class PromotionEasterSeason implements PromotionSeason{\r\n    \r\n        private double promotionProcentToDiscount = 10.99f;\r\n    \r\n        @Override\r\n        public String isSeason() {\r\n            return &quot;Is Easter Season Discount Time of the Year again!&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public double applySeasonPromotionDiscount(double initialPrice) {\r\n            System.out.println(&quot;Now you have to pay less with: &quot; + calculateDiscount(initialPrice) + &quot;, instead of: &quot; + initialPrice);\r\n            return calculateDiscount(initialPrice);\r\n        }\r\n    \r\n        private double calculateDiscount(double initialPriceToDiscount)\r\n        {\r\n            return this.promotionProcentToDiscount  / initialPriceToDiscount;\r\n        }\r\n    }\r\n\r\nPromotionConverter Class:\r\n\r\n    public class PromotionConverter implements AttributeConverter&lt;PromotionSeason, String&gt; {\r\n    \r\n        @Override\r\n        public String convertToDatabaseColumn(PromotionSeason attribute) {\r\n            return attribute.getClass().getSimpleName().trim().toLowerCase(Locale.ROOT);\r\n        }\r\n    \r\n        @Override\r\n        public PromotionSeason convertToEntityAttribute(@NotBlank String dbData) {\r\n            return stateOfPromotion(dbData);\r\n        }\r\n    \r\n        private PromotionSeason stateOfPromotion(String state)\r\n        {\r\n            return state.equals(&quot;easterPromotion&quot;) ? new PromotionEasterSeason() : new PromotionChristmasSeason();\r\n        }\r\n    }\r\n\r\nHibernate SQL Console:\r\n\r\n    2022-08-07 12:16:37.123 DEBUG 7432 --- [nio-8080-exec-2] org.hibernate.SQL                        : call next value for hibernate_sequence\r\n    2022-08-07 12:16:37.249 DEBUG 7432 --- [nio-8080-exec-2] org.hibernate.SQL                        : insert into PROJECT_HIBERNATE_Promotion (NUMBER_PRODUCTS_AT_PROMOTION, PROMOTION_SEASON, promotionId) values (?, ?, ?)\r\n    2022-08-07 12:16:37.258 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]\r\n    2022-08-07 12:16:37.260 DEBUG 7432 --- [nio-8080-exec-2] tributeConverterSqlTypeDescriptorAdapter : Converted value on binding : com.shoppingprojectwithhibernate.PromotionsModule.Domain.PromotionChristmasSeason@54de6f66 -&gt; promotionchristmasseason\r\n    2022-08-07 12:16:37.260 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [promotionchristmasseason]\r\n    2022-08-07 12:16:37.261 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]\r\n    2022-08-07 12:16:37.271 DEBUG 7432 --- [nio-8080-exec-2] org.hibernate.SQL                        : update PROJECT_HIBERNATE_Promotion set PROMOTION_SEASON=? where promotionId=?\r\n    2022-08-07 12:16:37.273 DEBUG 7432 --- [nio-8080-exec-2] tributeConverterSqlTypeDescriptorAdapter : Converted value on binding : com.shoppingprojectwithhibernate.PromotionsModule.Domain.PromotionEasterSeason@18c401ef -&gt; promotioneasterseason\r\n    2022-08-07 12:16:37.274 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [promotioneasterseason]\r\n    2022-08-07 12:16:37.275 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]\r\n\r\n","title":"Weird behaviour of Hibernate when saving an Entity with @Convert classes","body":"<p>So i have a Promotion Domain with classes like Entity, Service, Controller and so on.</p>\n<p>But i have an interface property in Entity class, and based on parameters passed at POST time, that instance is gonna be a subclass saved in the DB.\nBUT i encountered a weird behaviour of Hibernate in regards of this. If i put that property to be\n<code>promotionSeason = &quot;easterPromotion&quot;</code> - first, in console, appers to be created as a ChristmasPromotionSeason and then updated as an EasterPromotionSeason, i don't know why,\nif i make another example, let's say: <code>promotionSeason = &quot;noPromotion&quot;</code>, same problem...</p>\n<p>I get the wrong result on Query to see what Promotion we have based on PromotionSeason, if i have EasterPromotion saved in the DB, is gonna returl ChristmasPromotion in Query result, why is this problem occur?\nYou can see that on Hibernate console log from below...</p>\n<p>Promotion Entity:</p>\n<pre><code>@Entity\n@org.hibernate.annotations.DynamicInsert\n@org.hibernate.annotations.DynamicUpdate\n@Access(AccessType.FIELD)\npublic class Promotion {\n\n    @Id @GeneratedValue(strategy = GenerationType.SEQUENCE) //pre Insert values\n    private Long promotionId;\n\n    //Strategy Pattern, maybe State pattern was more suitable?\n    //check this -&gt; https://stackoverflow.com/questions/51138344/hibernate-persisting-a-composition-interface-of-strategy-pattern\n    @Convert(converter = PromotionConverter.class)\n    @Column(name = &quot;PROMOTION_SEASON&quot;, nullable = false)\n    private PromotionSeason promotionSeason;\n\n    public Promotion() {}\n\n    public Promotion(PromotionSeason promotionSeason)\n    {\n        this.promotionSeason = promotionSeason;\n    }\n    public Long getPromotionId() {\n        return promotionId;\n    }\n\n    public PromotionSeason getPromotionSeason() {\n        return promotionSeason;\n    }\n\n    public void setPromotionSeason(PromotionSeason promotionSeason) {\n        this.promotionSeason = promotionSeason;\n    }\n}\n</code></pre>\n<p>Promotion Service</p>\n<pre><code>@Service\npublic class PromotionService {\n\n    private final PromotionRepository promotionRepository;\n    private final PromotionCallingOthers promotionCallingOthers;\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n\n\n    @Autowired\n    public PromotionService(PromotionRepository promotionRepository, PromotionCallingOthers promotionCallingOthers) {\n        this.promotionRepository = promotionRepository;\n        this.promotionCallingOthers = promotionCallingOthers;\n    }\n\n    public void createPromotion(Promotion promotion)\n    {\n\n        System.out.println(promotion.getPromotionSeason().isSeason());\n        this.promotionRepository.save(promotion);\n    }\n\n    public void addProducts(Promotion promotion, String productName) {\n        Promotion createdPromotion = new Promotion(promotion.getPromotionSeason());\n\n        ResponseEntity&lt;Product&gt; productResponseEntity = promotionCallingOthers.callProduct(productName);\n        Session session = entityManager.unwrap(Session.class);\n        session.update(productResponseEntity.getBody()); // for detached entity error\n\n        createdPromotion.addProduct(productResponseEntity.getBody());\n\n        double price = createdPromotion.getProductList().get(0).getProductPrice();\n        double discountedPrice = createdPromotion.getPromotionSeason().applySeasonPromotionDiscount(price);\n\n\n        double priceTo = getDigitsFormat(price - discountedPrice);\n        Objects.requireNonNull(productResponseEntity.getBody()).setProductPrice(priceTo);\n\n        createdPromotion.setNumberOfProductsAtPromotion(productResponseEntity.getBody().getProductQuantity());\n        this.promotionRepository.save(createdPromotion);\n\n    }\n\n    private double getDigitsFormat(double numberToFormat)\n    {\n        DecimalFormat formatDecimal = new DecimalFormat(&quot;#.##&quot;);\n        return Double.parseDouble(formatDecimal.format(numberToFormat));\n    }\n\n    public Promotion createPromotionWithType(String promotionType) {\n        Promotion promotion = new Promotion();\n        promotion.setPromotionSeason(setPromotionSeasonImplBasedOnType(promotionType));\n        promotionRepository.save(promotion);\n        return promotion;\n    }\n\n    public Promotion getPromotionSeasonBasedOnSomething(String promotionType)\n    {\n        PromotionSeason promotionSeason = setPromotionSeasonImplBasedOnType(promotionType);\n        Promotion promotion = promotionRepository.findPromotionByPromotionSeason(promotionSeason);\n        System.out.println(promotion.getPromotionSeason());\n        return promotion;\n    }\n\n    private PromotionSeason setPromotionSeasonImplBasedOnType(String promotionType)\n    {\n        // eh, state pattern would be better i guess\n        switch (promotionType.toLowerCase()) {\n            case &quot;christmas&quot;:\n                return new PromotionChristmasSeason();\n            case &quot;easter&quot;:\n                return new PromotionEasterSeason();\n            default:\n                return new NoPromotionForYouThisTimeMUHAHA();\n        }\n    }\n\n\n\n\n    public Promotion test(String testam) {\n        PromotionSeason promotionSeason = checkPromotionSeason(testam);\n      \n        System.out.println(promotionSeason.isSeason());\n\n        \n        Promotion promotion = promotionRepository.findWhatPromotionSeasonWeHave(promotionSeason);\n\n\n        if (promotion == null) {\n\n            System.out.println(&quot;promotion season ii in if: &quot; + promotionSeason.isSeason());\n            Promotion promotion1 = new Promotion(promotionSeason);\n            System.out.println(promotion1.getPromotionSeason().isSeason());\n            //?\n            promotion = promotion1;\n            System.out.println(promotion.getPromotionSeason().isSeason());\n\n            promotion.setPromotionStore(promotion1.getPromotionStore());\n          \n            promotionRepository.save(promotion);\n            System.out.println(promotion.getPromotionSeason().isSeason());\n            return promotion;\n        }\n\n      \n        promotion.setPromotionSeason(promotionSeason); \n        promotionRepository.save(promotion);\n        System.out.println(&quot;promotion is&quot; + promotion.getPromotionSeason().isSeason());\n        return promotion;\n    }\n\n    private PromotionSeason checkPromotionSeason(String promotionSeason)\n    {\n        System.out.println(&quot;is \\n&quot; + promotionSeason.toLowerCase());\n        switch (promotionSeason.toLowerCase().trim())\n        {\n            case &quot;easter&quot; :\n                return new PromotionEasterSeason();\n            case &quot;christmas&quot; :\n                return new PromotionChristmasSeason();\n\n            default:\n                return new NoPromotionForYouThisTimeMUHAHA();\n        }\n    }\n</code></pre>\n<p>Promotion Repository:</p>\n<pre><code>@Repository\npublic interface PromotionRepository extends JpaRepository&lt;Promotion, Long&gt; {\n\n    @Query(&quot;SELECT s FROM Promotion s WHERE s.promotionSeason = :promotionSeason&quot;)\n    Promotion findWhatPromotionSeasonWeHave(@Param(&quot;promotionSeason&quot;) PromotionSeason promotionSeason);\n    Promotion findPromotionByPromotionSeason(PromotionSeason promotionSeason);\n}\n</code></pre>\n<p>Promotion Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/promotions&quot;)\npublic class PromotionController {\n\n    private final PromotionService promotionService;\n\n    @Autowired\n    public PromotionController(PromotionService promotionService) {\n        this.promotionService = promotionService;\n    }\n\n    @PostMapping(value = &quot;/createPromotion&quot;)\n    public ResponseEntity&lt;String&gt; createPromotion(@RequestBody Promotion promotion)\n    {\n        promotionService.createPromotion(promotion);\n        return ResponseEntity.status(HttpStatus.CREATED)\n                .body(&quot;Done&quot;);\n    }\n\n    @GetMapping(value = &quot;/createPromotion/{promotionType}&quot;)\n    public ResponseEntity&lt;Promotion&gt; createPromotionType(@PathVariable String promotionType)\n    {\n\n        return ResponseEntity.status(HttpStatus.CREATED).body(promotionService.createPromotionWithType(promotionType));\n    }\n\n    //WRONG RESULT\n    @GetMapping(value = &quot;/getPromotion/{promotionType}&quot;)\n    public ResponseEntity&lt;Promotion&gt; getPromotionType(@PathVariable String promotionType)\n    {\n        return ResponseEntity.status(HttpStatus.FOUND).body(promotionService.getPromotionSeasonBasedOnSomething(promotionType));\n    }\n\n   \n    //WRONG RESULT\n    @GetMapping(value = &quot;/test/{promotion}&quot;)\n    public Promotion check(@PathVariable String promotion)\n    {\n        return promotionService.test(promotion);\n    }\n}\n</code></pre>\n<p>PromotionSeason Interface:</p>\n<pre><code>//see: -&gt; https://www.youtube.com/watch?v=IlLC3Yetil0\n//see: -&gt; https://stackoverflow.com/questions/72155637/a-way-of-polymorphic-http-requests-using-postman/72158992#72158992\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;promotion&quot;)\n@JsonSubTypes(\n        {       @JsonSubTypes.Type(value = PromotionEasterSeason.class, name = &quot;easterPromotion&quot;),\n                @JsonSubTypes.Type(value = PromotionChristmasSeason.class, name = &quot;christmasPromotion&quot;),\n                @JsonSubTypes.Type(value = NoPromotionForYouThisTimeMUHAHA.class, name = &quot;noPromotion&quot;)\n        })\npublic interface PromotionSeason {\n\n    String isSeason();\n\n    double applySeasonPromotionDiscount(double initialPrice);\n}\n</code></pre>\n<p>PromotionEasterSeason class - Impl of Interface:</p>\n<pre><code>@JsonTypeName(value = &quot;easterPromotion&quot;)\npublic class PromotionEasterSeason implements PromotionSeason{\n\n    private double promotionProcentToDiscount = 10.99f;\n\n    @Override\n    public String isSeason() {\n        return &quot;Is Easter Season Discount Time of the Year again!&quot;;\n    }\n\n    @Override\n    public double applySeasonPromotionDiscount(double initialPrice) {\n        System.out.println(&quot;Now you have to pay less with: &quot; + calculateDiscount(initialPrice) + &quot;, instead of: &quot; + initialPrice);\n        return calculateDiscount(initialPrice);\n    }\n\n    private double calculateDiscount(double initialPriceToDiscount)\n    {\n        return this.promotionProcentToDiscount  / initialPriceToDiscount;\n    }\n}\n</code></pre>\n<p>PromotionConverter Class:</p>\n<pre><code>public class PromotionConverter implements AttributeConverter&lt;PromotionSeason, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(PromotionSeason attribute) {\n        return attribute.getClass().getSimpleName().trim().toLowerCase(Locale.ROOT);\n    }\n\n    @Override\n    public PromotionSeason convertToEntityAttribute(@NotBlank String dbData) {\n        return stateOfPromotion(dbData);\n    }\n\n    private PromotionSeason stateOfPromotion(String state)\n    {\n        return state.equals(&quot;easterPromotion&quot;) ? new PromotionEasterSeason() : new PromotionChristmasSeason();\n    }\n}\n</code></pre>\n<p>Hibernate SQL Console:</p>\n<pre><code>2022-08-07 12:16:37.123 DEBUG 7432 --- [nio-8080-exec-2] org.hibernate.SQL                        : call next value for hibernate_sequence\n2022-08-07 12:16:37.249 DEBUG 7432 --- [nio-8080-exec-2] org.hibernate.SQL                        : insert into PROJECT_HIBERNATE_Promotion (NUMBER_PRODUCTS_AT_PROMOTION, PROMOTION_SEASON, promotionId) values (?, ?, ?)\n2022-08-07 12:16:37.258 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [0]\n2022-08-07 12:16:37.260 DEBUG 7432 --- [nio-8080-exec-2] tributeConverterSqlTypeDescriptorAdapter : Converted value on binding : com.shoppingprojectwithhibernate.PromotionsModule.Domain.PromotionChristmasSeason@54de6f66 -&gt; promotionchristmasseason\n2022-08-07 12:16:37.260 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [promotionchristmasseason]\n2022-08-07 12:16:37.261 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BIGINT] - [1]\n2022-08-07 12:16:37.271 DEBUG 7432 --- [nio-8080-exec-2] org.hibernate.SQL                        : update PROJECT_HIBERNATE_Promotion set PROMOTION_SEASON=? where promotionId=?\n2022-08-07 12:16:37.273 DEBUG 7432 --- [nio-8080-exec-2] tributeConverterSqlTypeDescriptorAdapter : Converted value on binding : com.shoppingprojectwithhibernate.PromotionsModule.Domain.PromotionEasterSeason@18c401ef -&gt; promotioneasterseason\n2022-08-07 12:16:37.274 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [promotioneasterseason]\n2022-08-07 12:16:37.275 TRACE 7432 --- [nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]\n</code></pre>\n"},{"tags":["java","mysql","image","slideshow","jlabel"],"answers":[{"tags":[],"owner":{"account_id":25932704,"reputation":1,"user_id":19653516,"display_name":"Otherness"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659884115,"creation_date":1659629889,"answer_id":73239229,"question_id":73196448,"body_markdown":"I finally found the solution, I created an ImageIcon object for each generated image in the src folder, so I added this line in each imageGenerate method:\r\n\r\nimage1 = new ImageIcon(ImageIO.read(new File(&quot;src/photos/photo1.jpg&quot;)));\r\n\r\nand previously added in variable declaration:\r\n\r\n    static ImageIcon image1;\r\n    static ImageIcon image2;\r\n    static ImageIcon image3;\r\n    static ImageIcon image4;\r\n    static ImageIcon image5;\r\n\r\nIt is not necessary to create the image in a folder.\r\nHere is the code for the image1Generate method:\r\n\r\n    public void image1Generate() throws SQLException, IOException {\r\n    \r\n        Blob blob = rs.getBlob(&quot;image1&quot;);\r\n    \r\n        int blobLength = (int) blob.length();\r\n    \r\n        byte[] blobAsBytes = blob.getBytes(1, blobLength);\r\n        final BufferedImage bufferedImage = ImageIO.read(new ByteArrayInputStream(blobAsBytes));\r\n    \r\n        image1 = (new ImageIcon(bufferedImage));\r\n        }\r\n\r\nThen I modified the imagesImportToList method accordingly:\r\n\r\n        public static void imagesImportToList() {\r\n     \r\n        s[0] = image1;\r\n        s[1] = image2;\r\n        s[2] = image3;\r\n        s[3] = image4;\r\n        s[4] = image5;\r\n    }\r\n\r\nand finally, so that my slideshow doesn&#39;t get tangled up and return to image1 at each change, I added where necessary: i = 0;\r\n","title":"Problem to create a slideshow of images from MySQL database","body":"<p>I finally found the solution, I created an ImageIcon object for each generated image in the src folder, so I added this line in each imageGenerate method:</p>\n<p>image1 = new ImageIcon(ImageIO.read(new File(&quot;src/photos/photo1.jpg&quot;)));</p>\n<p>and previously added in variable declaration:</p>\n<pre><code>static ImageIcon image1;\nstatic ImageIcon image2;\nstatic ImageIcon image3;\nstatic ImageIcon image4;\nstatic ImageIcon image5;\n</code></pre>\n<p>It is not necessary to create the image in a folder.\nHere is the code for the image1Generate method:</p>\n<pre><code>public void image1Generate() throws SQLException, IOException {\n\n    Blob blob = rs.getBlob(&quot;image1&quot;);\n\n    int blobLength = (int) blob.length();\n\n    byte[] blobAsBytes = blob.getBytes(1, blobLength);\n    final BufferedImage bufferedImage = ImageIO.read(new ByteArrayInputStream(blobAsBytes));\n\n    image1 = (new ImageIcon(bufferedImage));\n    }\n</code></pre>\n<p>Then I modified the imagesImportToList method accordingly:</p>\n<pre><code>    public static void imagesImportToList() {\n \n    s[0] = image1;\n    s[1] = image2;\n    s[2] = image3;\n    s[3] = image4;\n    s[4] = image5;\n}\n</code></pre>\n<p>and finally, so that my slideshow doesn't get tangled up and return to image1 at each change, I added where necessary: i = 0;</p>\n"}],"owner":{"account_id":25932704,"reputation":1,"user_id":19653516,"display_name":"Otherness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659884115,"creation_date":1659369335,"question_id":73196448,"body_markdown":"I am a beginner in Java and I am doing a small project which consists of displaying plant images with JComBox from MySQL database and a JLabel to display an image &quot;showview&quot; or &quot;slideshow&quot; (I don&#39;t know the expression very well in English) .\r\n\r\n\r\nFor the images, I have to import them in a local src/... folder and for that I use a byteArrayOutputStream method which works well.\r\n\r\nWhen I select an item in the list for the first time, the images are well displayed in the JLabel and the showview works well with the buttons.\r\n\r\nOn the other hand when I change selection in my list, my information is well changed in the different JTextField but it is always the same images of the first selection that are displayed in my slideshow and yet they are well changed in the source file.\r\n\r\nHere is my code with constructor class:\r\n\r\n\\\\\\\r\n    \r\n\r\n         package com.dug.plantId;\r\n    \r\n    /*** Constructor images DB ***/ \r\n    \r\n    public class Plant {\r\n    \r\n    \tString id;\r\n    \tbyte[] image1, image2, image3, image4, image5;\r\n    \r\n    \tpublic Plant(\r\n    \t\tbyte[] image1, byte[] image2, byte[] image3, byte[] image4, byte[] image5, String id) {}\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic byte[] getImage1() {\r\n    \t\treturn image1;\r\n    \t}\r\n    \r\n    \tpublic void setImage1(byte[] image1) {\r\n    \t\tthis.image1 = image1;\r\n    \t}\r\n    \r\n    \tpublic byte[] getImage2() {\r\n    \t\treturn image2;\r\n    \t}\r\n    \r\n    \tpublic void setImage2(byte[] image2) {\r\n    \t\tthis.image2 = image2;\r\n    \t}\r\n    \r\n    \tpublic byte[] getImage3() {\r\n    \t\treturn image3;\r\n    \t}\r\n    \r\n    \tpublic void setImage3(byte[] image3) {\r\n    \t\tthis.image3 = image3;\r\n    \t}\r\n    \r\n    \tpublic byte[] getImage4() {\r\n    \t\treturn image4;\r\n    \t}\r\n    \r\n    \tpublic void setImage4(byte[] image4) {\r\n    \t\tthis.image4 = image4;\r\n    \t}\r\n    \r\n    \tpublic byte[] getImage5() {\r\n    \t\treturn image5;\r\n    \t}\r\n    \r\n    \tpublic void setImage5(byte[] image5) {\r\n    \t\tthis.image5 = image5;\r\n    \t}\r\n    }\r\n\r\n\\\\\\\r\n\r\nClass with code for the DB connection and factoring images to a folder (src) \r\n\r\n\\\\\\\r\n\r\n \r\n\r\n          package com.dug.plantId;\r\n    \r\n    import java.io.*;\r\n    import java.sql.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class DBConnection {\r\n    \r\n    \t\tprivate Connection connetion = null;\r\n    \tprivate Statement stmt = null;\r\n    \tprivate ResultSet rs = null;\r\n    \r\n    \tprivate MyPanels DBConnection;\r\n    \r\n    \t/*** Connection to MySQL ***/\r\n    \r\n    \tpublic DBConnection() {\r\n    \t\ttry {\r\n    \t\t\tthis.connetion = DriverManager.getConnection(&quot;jdbc:mysql://localhost/dbarbres?&quot; +\r\n    \t\t\t\t&quot;user=Dug&amp;password=Java427&quot;);\r\n    \t\t} catch (SQLException ex) {\r\n    \t\t\t// handle any errors\r\n    \t\t\tSystem.out.println(&quot;SQLException: &quot; + ex.getMessage());\r\n    \t\t\tSystem.out.println(&quot;SQLState: &quot; + ex.getSQLState());\r\n    \t\t\tSystem.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/***  Method to create a list imported from the DB ***/\r\n    \r\n    \tpublic List&lt;Plant&gt; searchPlant(String nom) {\r\n    \t\tList&lt;Plant&gt; listPlants = new ArrayList&lt;Plant&gt; ();\r\n    \t\ttry {\r\n    \t\t\tstmt = connetion.createStatement();\r\n    \t\t\trs = stmt.executeQuery(&quot;SELECT * FROM dbarbres.tblarbre where nomLatin like &#39;%&quot; + nom + &quot;%&#39; or nomCommun like &#39;%&quot; + nom + &quot;%&#39;&quot;);\r\n    \t\t\tbyte[] image = null;\r\n    \r\n    \t\t\twhile (rs.next()) {\r\n    \t\t\t\tlistPlants.add(new Plant(rs.getBytes(&quot;image1&quot;), rs.getBytes(&quot;image2&quot;),\r\n    \t\t\t\t\trs.getBytes(&quot;image3&quot;), rs.getBytes(&quot;image4&quot;), rs.getBytes(&quot;image5&quot;), rs.getInt(&quot;id&quot;) + &quot;&quot;));\r\n    \r\n    \t\t\t\t/***  Calling the methods of FileOutputStream to display the images of the DB. ***/\r\n    \r\n    \t\t\t\timage1Generate();\r\n    \t\t\t\timage2Generate();\r\n    \t\t\t\timage3Generate();\r\n    \t\t\t\timage4Generate();\r\n    \t\t\t\timage5Generate();\r\n    \t\t\t\tMyPanels.imagesImportToList();\r\n    \r\n    \t\t\t\t/***  Call a static method to display the first image ***/\r\n    \r\n    \t\t\t\tMyPanels.displayImage1();\r\n    \t\t\t}\r\n    \t\t} catch (SQLException ex) {\r\n    \t\t\t// handle any errors\r\n    \t\t\tSystem.out.println(&quot;SQLException: &quot; + ex.getMessage());\r\n    \t\t\tSystem.out.println(&quot;SQLState: &quot; + ex.getSQLState());\r\n    \t\t\tSystem.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \r\n    \t\t}\r\n    \t\treturn listPlants;\r\n    \t}\r\n    \r\n    \t/***  Methods for generating MySQL DB images to a local folder (src) ***/\r\n    \r\n    \tpublic void image1Generate() throws SQLException, IOException {\r\n    \r\n    \t\tint i = rs.getInt(&quot;id&quot;);\r\n    \t\tBlob ph = rs.getBlob(&quot;image1&quot;);\r\n    \t\tif (ph == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tint length = (int) ph.length();\r\n    \t\tint bufferSize = 1024;\r\n    \t\tInputStream in = ph.getBinaryStream();\r\n    \t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \t\tOutputStream outputStream = new FileOutputStream(&quot;src/photos/photo1.jpg&quot;);\r\n    \t\tbyte[] buffer = new byte[bufferSize];\r\n    \r\n    \t\twhile ((length = in .read(buffer)) != -1) {\r\n    \t\t\tSystem.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\r\n    \t\t\tout.write(buffer, 0, length);\r\n    \t\t}\r\n    \t\tout.writeTo(outputStream); in .close();\r\n    \t}\r\n    \r\n    \tpublic void image2Generate() throws SQLException, IOException {\r\n    \r\n    \t\tint i = rs.getInt(&quot;id&quot;);\r\n    \t\tBlob ph = rs.getBlob(&quot;image2&quot;);\r\n    \t\tif (ph == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tint length = (int) ph.length();\r\n    \t\tint bufferSize = 1024;\r\n    \t\tInputStream in = ph.getBinaryStream();\r\n    \t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \t\tOutputStream outputStream = new FileOutputStream(&quot;src/photos/photo2.jpg&quot;);\r\n    \t\tbyte[] buffer = new byte[bufferSize];\r\n    \t\twhile ((length = in .read(buffer)) != -1) {\r\n    \t\t\tSystem.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\r\n    \t\t\tout.write(buffer, 0, length);\r\n    \t\t}\r\n    \t\tout.writeTo(outputStream); in .close();\r\n    \t}\r\n    \r\n    \tpublic void WindowsMainPanelsAffichage() {\r\n    \t\tDBConnection affichageImage = new DBConnection();\r\n    \t\taffichageImage.DBConnection = new MyPanels();\r\n    \t}\r\n    \r\n    \tpublic void image3Generate() throws SQLException, IOException {\r\n    \r\n    \t\tint i = rs.getInt(&quot;id&quot;);\r\n    \t\tBlob ph = rs.getBlob(&quot;image3&quot;);\r\n    \t\tif (ph == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tint length = (int) ph.length();\r\n    \t\tint bufferSize = 1024;\r\n    \t\tInputStream in = ph.getBinaryStream();\r\n    \t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \t\tOutputStream outputStream = new FileOutputStream(&quot;src/photos/photo3.jpg&quot;);\r\n    \t\tbyte[] buffer = new byte[bufferSize];\r\n    \t\twhile ((length = in .read(buffer)) != -1) {\r\n    \t\t\tSystem.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\r\n    \t\t\tout.write(buffer, 0, length);\r\n    \t\t}\r\n    \t\tout.writeTo(outputStream); in .close();\r\n    \t}\r\n    \r\n    \tpublic void image4Generate() throws SQLException, IOException {\r\n    \r\n    \t\tint i = rs.getInt(&quot;id&quot;);\r\n    \t\tBlob ph = rs.getBlob(&quot;image4&quot;);\r\n    \t\tif (ph == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tint length = (int) ph.length();\r\n    \t\tint bufferSize = 1024;\r\n    \t\tInputStream in = ph.getBinaryStream();\r\n    \t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \t\tOutputStream outputStream = new FileOutputStream(&quot;src/photos/photo4.jpg&quot;);\r\n    \t\tbyte[] buffer = new byte[bufferSize];\r\n    \t\twhile ((length = in .read(buffer)) != -1) {\r\n    \t\t\tSystem.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\r\n    \t\t\tout.write(buffer, 0, length);\r\n    \t\t}\r\n    \t\tout.writeTo(outputStream); in .close();\r\n    \t}\r\n    \r\n    \tpublic void image5Generate() throws SQLException, IOException {\r\n    \r\n    \t\tint i = rs.getInt(&quot;id&quot;);\r\n    \t\tBlob ph = rs.getBlob(&quot;image5&quot;);\r\n    \t\tif (ph == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tint length = (int) ph.length();\r\n    \t\tint bufferSize = 1024;\r\n    \t\tInputStream in = ph.getBinaryStream();\r\n    \t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \t\tOutputStream outputStream = new FileOutputStream(&quot;src/photos/photo5.jpg&quot;);\r\n    \t\tbyte[] buffer = new byte[bufferSize];\r\n    \t\twhile ((length = in .read(buffer)) != -1) {\r\n    \t\t\tSystem.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\r\n    \t\t\tout.write(buffer, 0, length);\r\n    \t\t}\r\n    \t\tout.writeTo(outputStream); in .close();\r\n    \t}\r\n    }\r\n\r\n\\\\\\\r\n\r\nClass with code for generate frame, panels, jlabel for images and buttons sliders. \r\n\r\n\\\\\\\r\n\r\n    package com.dug.plantId;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.sql.*;\r\n    import java.util.List;\r\n    \r\n    public class MyPanels extends JPanel implements ActionListener {\r\n    \r\n    \tprivate JComboBox jComboBoxNomCommun;\r\n    \tprivate JComboBox jComboBoxNomLatin;\r\n    \r\n    \tstatic ImageIcon[] s;\r\n    \tstatic JLabel jLabelImages;\r\n    \tprivate static JButton b1;\r\n    \tprivate static JButton b2;\r\n    \tint i, l1;\r\n    \r\n    \tpublic MyPanels() {\r\n    \t\tsuper();\r\n    \t\tinitComposantsPanel1();\r\n    \t}\r\n    \r\n    \t/****  main ****/\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \r\n    \t\tMyPanels launchWindowsProg = new MyPanels();\r\n    \t\tlaunchWindowsProg.generatePanels();\r\n    \t\tlaunchWindowsProg.buttonsSlideShow();\r\n    \t}\r\n    \r\n    \t/***  Initialize components of panel1. ***/\r\n    \r\n    \tprivate void initComposantsPanel1() {\r\n    \r\n    \t\tthis.setLayout(new GridBagLayout());\r\n    \r\n    \r\n    \t\tJLabel listeAlphabetiqueNomLatin = panel1LabelCell(GridBagConstraints.WEST, 2, 1, &quot;Liste alphab&#233;tique nom latin: &quot;);\r\n    \t\tjComboBoxNomLatin = panel1ComboBoxNomLatin(GridBagConstraints.WEST, 3, 1, &quot;&quot;);\r\n    \r\n    \t\t\r\n    \t\tJLabel listeAlphabetiqueNomCommunTextField = panel1LabelCell(GridBagConstraints.WEST, 2, 2, &quot;Liste alphab&#233;tique nom commun: &quot;);\r\n    \t\tjComboBoxNomCommun = panel1ComboBoxNomCommun(GridBagConstraints.WEST, 3, 2, &quot;&quot;);\r\n    \t}\r\n    \r\n    \t/*** Manufacturers for the different components ***/\r\n    \r\n    \tpublic JLabel panel1LabelCell(int GridBagConstraints, int positionGridx, int positionGridy, String labelLigne) {\r\n    \t\tGridBagConstraints gridBagConstraints = new GridBagConstraints();\r\n    \t\tgridBagConstraints.insets = new Insets(0, 300, 3, 20);\r\n    \t\tgridBagConstraints.anchor = GridBagConstraints;\r\n    \t\tgridBagConstraints.gridx = positionGridx;\r\n    \t\tgridBagConstraints.gridy = positionGridy;\r\n    \t\tJLabel jLabel = new JLabel(labelLigne);\r\n    \t\tthis.add(jLabel, gridBagConstraints);\r\n    \t\treturn jLabel;\r\n    \t}\r\n    \r\n    \t/*** Constructor  panel1 (JComboBox) ***/\r\n    \r\n    \tpublic JComboBox panel1ComboBoxNomCommun(int GridBagConstraints, int positionGridx, int positionGridy, String text) {\r\n    \t\tGridBagConstraints gridBagConstraints = new GridBagConstraints();\r\n    \t\tgridBagConstraints.anchor = GridBagConstraints;\r\n    \t\tgridBagConstraints.ipadx = 10;\r\n    \t\tJComboBox jComboBoxNomCommun = new JComboBox();\r\n    \t\tjComboBoxNomCommun.setPreferredSize(new Dimension(225, 23));\r\n    \t\tgridBagConstraints.gridx = positionGridx;\r\n    \t\tgridBagConstraints.gridy = positionGridy;\r\n    \r\n    \t\t/*** DB connection ***/\r\n    \r\n    \t\tConnection con = null;\r\n    \t\tStatement st = null;\r\n    \t\tResultSet rs = null;\r\n    \r\n    \t\t/*** Import list DB to jComboBoxNomCommun ***/\r\n    \r\n    \t\ttry {\r\n    \t\t\tcon = DriverManager.getConnection(&quot;jdbc:mysql://localhost/dbarbres?&quot; +\r\n    \t\t\t\t&quot;user=Dug&amp;password=Java427&quot;);\r\n    \t\t\tst = con.createStatement();\r\n    \t\t\tString s = &quot;select * from tblarbre&quot;;\r\n    \t\t\trs = st.executeQuery(s);\r\n    \t\t\twhile (rs.next()) {\r\n    \t\t\t\tjComboBoxNomCommun.addItem(rs.getString(\r\n    \t\t\t\t\t&quot;nomCommun&quot;));\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;ERROR&quot;);\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tst.close();\r\n    \t\t\t\trs.close();\r\n    \t\t\t\tcon.close();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tJOptionPane.showMessageDialog(null, &quot;ERROR CLOSE&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tjComboBoxNomCommun.addActionListener(e -&gt; {\r\n    \r\n    \t\t\tString typedText = ((JTextField) jComboBoxNomCommun.getEditor().getEditorComponent()).getText();\r\n    \r\n    \t\t\tDBConnection dBConnection = new DBConnection();\r\n    \t\t\tList&lt;Plant&gt; findedPlant = dBConnection.searchPlant(typedText);\r\n    \r\n    \t\t\tfor (Plant plant: findedPlant) {\r\n    \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tthis.add(jComboBoxNomCommun, gridBagConstraints);\r\n    \t\treturn jComboBoxNomCommun;\r\n    \t}\r\n    \tprivate JComboBox panel1ComboBoxNomLatin(int GridBagConstraints, int positionGridx, int positionGridy, String text) {\r\n    \t\tGridBagConstraints gridBagConstraints = new GridBagConstraints();\r\n    \t\tgridBagConstraints.anchor = GridBagConstraints;\r\n    \t\tgridBagConstraints.ipadx = 10;\r\n    \t\tJComboBox jComboBoxNomLatin = new JComboBox();\r\n    \t\tjComboBoxNomLatin.setPreferredSize(new Dimension(225, 23));\r\n    \t\tgridBagConstraints.gridx = positionGridx;\r\n    \t\tgridBagConstraints.gridy = positionGridy;\r\n    \t\tthis.add(jComboBoxNomLatin, gridBagConstraints);\r\n    \r\n    \t\tConnection con = null;\r\n    \t\tStatement st = null;\r\n    \t\tResultSet rs = null;\r\n    \r\n    \t\t/***  Import liste DB to jComboBoxNomLatin ***/\r\n    \r\n    \t\ttry {\r\n    \t\t\tcon = DriverManager.getConnection(&quot;jdbc:mysql://localhost/dbarbres?&quot; +\r\n    \t\t\t\t&quot;user=Dug&amp;password=Java427&quot;);\r\n    \t\t\tst = con.createStatement();\r\n    \t\t\tString s = &quot;select * from tblarbre&quot;;\r\n    \t\t\trs = st.executeQuery(s);\r\n    \t\t\twhile (rs.next()) {\r\n    \t\t\t\tjComboBoxNomLatin.addItem(rs.getString(\r\n    \t\t\t\t\t&quot;nomLatin&quot;));\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;ERROR&quot;);\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tst.close();\r\n    \t\t\t\trs.close();\r\n    \t\t\t\tcon.close();\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tJOptionPane.showMessageDialog(null, &quot;ERROR CLOSE&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tjComboBoxNomLatin.addActionListener(e -&gt; {\r\n    \r\n    \t\t\tString typedText = ((JTextField) jComboBoxNomLatin.getEditor().getEditorComponent()).getText();\r\n    \r\n    \t\t\tDBConnection dBConnection = new DBConnection();\r\n    \t\t\tList&lt;Plant&gt; findedPlant = dBConnection.searchPlant(typedText);\r\n    \r\n    \t\t\tfor (Plant plant: findedPlant) {\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn jComboBoxNomLatin;\r\n    \t}\r\n    \r\n    \t/*** Generate panels ***/\r\n    \r\n    \tvoid generatePanels() {\r\n    \t\tSwingUtilities.invokeLater(() -&gt; {\r\n    \t\t\tJFrame frame = new JFrame();\r\n    \t\t\tframe.setLayout(new BorderLayout());\r\n    \t\t\tJPanel panel1 = new JPanel();\r\n    \t\t\tJPanel panel2 = new JPanel();\r\n    \t\t\tBorder border = BorderFactory.createLineBorder(Color.GRAY, 1);\r\n    \t\t\tpanel1.setBounds(10, 10, 1400, 200);\r\n    \t\t\tpanel2.setBounds(720, 250, 700, 530);\r\n    \t\t\tpanel2.setBorder(border);\r\n    \t\t\tMyPanels myPanels = new MyPanels();\r\n    \t\t\tpanel1.add(myPanels);\r\n    \t\t\tframe.add(panel1, BorderLayout.NORTH);\r\n    \t\t\tframe.add(panel2, BorderLayout.EAST);\r\n    \t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\tframe.setLayout(null);\r\n    \t\t\tframe.setSize(1450, 900);\r\n    \t\t\tframe.setVisible(true);\r\n    \r\n    \t\t\t/*** Add buttons for showview images***/\r\n    \r\n    \t\t\tpanel2.add(b1);\r\n    \t\t\tpanel2.add(b2);\r\n    \t\t\tjLabelImages = new JLabel(&quot;&quot;, JLabel.CENTER);\r\n    \t\t\tpanel2.add(jLabelImages, BorderLayout.CENTER);\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/*** Import images to a list***/\r\n    \r\n    \tpublic static void imagesImportToList() {\r\n    \t\ts = new ImageIcon[5];\r\n    \t\ts[0] = new ImageIcon(&quot;src/photos/photo1.jpg&quot;);\r\n    \t\ts[1] = new ImageIcon(&quot;src/photos/photo2.jpg&quot;);\r\n    \t\ts[2] = new ImageIcon(&quot;src/photos/photo3.jpg&quot;);\r\n    \t\ts[3] = new ImageIcon(&quot;src/photos/photo4.jpg&quot;);\r\n    \t\ts[4] = new ImageIcon(&quot;src/photos/photo5.jpg&quot;);\r\n    \t}\r\n    \t/***  Method of displaying the slideshow images ***/\r\n    \r\n    \tpublic void buttonsSlideShow() {\r\n    \r\n    \t\tb1 = new JButton(&quot;&lt;&lt;&quot;);\r\n    \t\tb2 = new JButton(&quot;&gt;&gt;&quot;);\r\n    \r\n    \t\tb1.addActionListener(e -&gt; {\r\n    \t\t\tif (e.getSource() == b1) {\r\n    \t\t\t\tif (i == 0) {\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null, &quot; First image&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\ti = i - 1;\r\n    \t\t\t\t\tjLabelImages.setIcon(s[i]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (e.getSource() == b2) {\r\n    \t\t\t\tif (i == s.length - 1) {\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Last Image&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\ti = i + 1;\r\n    \t\t\t\t\tjLabelImages.setIcon(s[i]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tb2.addActionListener(e -&gt; {\r\n    \t\t\tif (e.getSource() == b1) {\r\n    \t\t\t\tif (i == 0) {\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;First image&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\ti = i - 1;\r\n    \t\t\t\t\tjLabelImages.setIcon(s[i]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (e.getSource() == b2) {\r\n    \t\t\t\tif (i == s.length - 1) {\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null, &quot;Last Image&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\ti = i + 1;\r\n    \t\t\t\t\tjLabelImages.setIcon(s[i]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {}\r\n\r\n    \t/*** Show image1 after selection in the JCombobox list  ***/\r\n    \r\n    \tstatic void displayImage1() {\r\n    \t\tString displayImage1 = &quot;src/photos/photo1.jpg&quot;;\r\n    \t\tImageIcon image1 = new ImageIcon(displayImage1);\r\n    \t\tjLabelImages.setIcon(image1);\r\n    \t}\r\n    }\r\n\r\n\\\\\\\r\n\r\nI tried everything but I can&#39;t get it, maybe there is a solution with embedded resource via a URL. A URL that can be obtained using Class.getResource() but I don&#39;t have enough knowledge.\r\n\r\nThanks in advance for your insight.\r\n","title":"Problem to create a slideshow of images from MySQL database","body":"<p>I am a beginner in Java and I am doing a small project which consists of displaying plant images with JComBox from MySQL database and a JLabel to display an image &quot;showview&quot; or &quot;slideshow&quot; (I don't know the expression very well in English) .</p>\n<p>For the images, I have to import them in a local src/... folder and for that I use a byteArrayOutputStream method which works well.</p>\n<p>When I select an item in the list for the first time, the images are well displayed in the JLabel and the showview works well with the buttons.</p>\n<p>On the other hand when I change selection in my list, my information is well changed in the different JTextField but it is always the same images of the first selection that are displayed in my slideshow and yet they are well changed in the source file.</p>\n<p>Here is my code with constructor class:</p>\n<p>\\\\</p>\n<pre><code>     package com.dug.plantId;\n\n/*** Constructor images DB ***/ \n\npublic class Plant {\n\n    String id;\n    byte[] image1, image2, image3, image4, image5;\n\n    public Plant(\n        byte[] image1, byte[] image2, byte[] image3, byte[] image4, byte[] image5, String id) {}\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public byte[] getImage1() {\n        return image1;\n    }\n\n    public void setImage1(byte[] image1) {\n        this.image1 = image1;\n    }\n\n    public byte[] getImage2() {\n        return image2;\n    }\n\n    public void setImage2(byte[] image2) {\n        this.image2 = image2;\n    }\n\n    public byte[] getImage3() {\n        return image3;\n    }\n\n    public void setImage3(byte[] image3) {\n        this.image3 = image3;\n    }\n\n    public byte[] getImage4() {\n        return image4;\n    }\n\n    public void setImage4(byte[] image4) {\n        this.image4 = image4;\n    }\n\n    public byte[] getImage5() {\n        return image5;\n    }\n\n    public void setImage5(byte[] image5) {\n        this.image5 = image5;\n    }\n}\n</code></pre>\n<p>\\\\</p>\n<p>Class with code for the DB connection and factoring images to a folder (src)</p>\n<p>\\\\</p>\n<pre><code>      package com.dug.plantId;\n\nimport java.io.*;\nimport java.sql.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class DBConnection {\n\n        private Connection connetion = null;\n    private Statement stmt = null;\n    private ResultSet rs = null;\n\n    private MyPanels DBConnection;\n\n    /*** Connection to MySQL ***/\n\n    public DBConnection() {\n        try {\n            this.connetion = DriverManager.getConnection(&quot;jdbc:mysql://localhost/dbarbres?&quot; +\n                &quot;user=Dug&amp;password=Java427&quot;);\n        } catch (SQLException ex) {\n            // handle any errors\n            System.out.println(&quot;SQLException: &quot; + ex.getMessage());\n            System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\n            System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\n        }\n    }\n\n    /***  Method to create a list imported from the DB ***/\n\n    public List&lt;Plant&gt; searchPlant(String nom) {\n        List&lt;Plant&gt; listPlants = new ArrayList&lt;Plant&gt; ();\n        try {\n            stmt = connetion.createStatement();\n            rs = stmt.executeQuery(&quot;SELECT * FROM dbarbres.tblarbre where nomLatin like '%&quot; + nom + &quot;%' or nomCommun like '%&quot; + nom + &quot;%'&quot;);\n            byte[] image = null;\n\n            while (rs.next()) {\n                listPlants.add(new Plant(rs.getBytes(&quot;image1&quot;), rs.getBytes(&quot;image2&quot;),\n                    rs.getBytes(&quot;image3&quot;), rs.getBytes(&quot;image4&quot;), rs.getBytes(&quot;image5&quot;), rs.getInt(&quot;id&quot;) + &quot;&quot;));\n\n                /***  Calling the methods of FileOutputStream to display the images of the DB. ***/\n\n                image1Generate();\n                image2Generate();\n                image3Generate();\n                image4Generate();\n                image5Generate();\n                MyPanels.imagesImportToList();\n\n                /***  Call a static method to display the first image ***/\n\n                MyPanels.displayImage1();\n            }\n        } catch (SQLException ex) {\n            // handle any errors\n            System.out.println(&quot;SQLException: &quot; + ex.getMessage());\n            System.out.println(&quot;SQLState: &quot; + ex.getSQLState());\n            System.out.println(&quot;VendorError: &quot; + ex.getErrorCode());\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n\n        }\n        return listPlants;\n    }\n\n    /***  Methods for generating MySQL DB images to a local folder (src) ***/\n\n    public void image1Generate() throws SQLException, IOException {\n\n        int i = rs.getInt(&quot;id&quot;);\n        Blob ph = rs.getBlob(&quot;image1&quot;);\n        if (ph == null) {\n            return;\n        }\n        int length = (int) ph.length();\n        int bufferSize = 1024;\n        InputStream in = ph.getBinaryStream();\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        OutputStream outputStream = new FileOutputStream(&quot;src/photos/photo1.jpg&quot;);\n        byte[] buffer = new byte[bufferSize];\n\n        while ((length = in .read(buffer)) != -1) {\n            System.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\n            out.write(buffer, 0, length);\n        }\n        out.writeTo(outputStream); in .close();\n    }\n\n    public void image2Generate() throws SQLException, IOException {\n\n        int i = rs.getInt(&quot;id&quot;);\n        Blob ph = rs.getBlob(&quot;image2&quot;);\n        if (ph == null) {\n            return;\n        }\n        int length = (int) ph.length();\n        int bufferSize = 1024;\n        InputStream in = ph.getBinaryStream();\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        OutputStream outputStream = new FileOutputStream(&quot;src/photos/photo2.jpg&quot;);\n        byte[] buffer = new byte[bufferSize];\n        while ((length = in .read(buffer)) != -1) {\n            System.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\n            out.write(buffer, 0, length);\n        }\n        out.writeTo(outputStream); in .close();\n    }\n\n    public void WindowsMainPanelsAffichage() {\n        DBConnection affichageImage = new DBConnection();\n        affichageImage.DBConnection = new MyPanels();\n    }\n\n    public void image3Generate() throws SQLException, IOException {\n\n        int i = rs.getInt(&quot;id&quot;);\n        Blob ph = rs.getBlob(&quot;image3&quot;);\n        if (ph == null) {\n            return;\n        }\n        int length = (int) ph.length();\n        int bufferSize = 1024;\n        InputStream in = ph.getBinaryStream();\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        OutputStream outputStream = new FileOutputStream(&quot;src/photos/photo3.jpg&quot;);\n        byte[] buffer = new byte[bufferSize];\n        while ((length = in .read(buffer)) != -1) {\n            System.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\n            out.write(buffer, 0, length);\n        }\n        out.writeTo(outputStream); in .close();\n    }\n\n    public void image4Generate() throws SQLException, IOException {\n\n        int i = rs.getInt(&quot;id&quot;);\n        Blob ph = rs.getBlob(&quot;image4&quot;);\n        if (ph == null) {\n            return;\n        }\n        int length = (int) ph.length();\n        int bufferSize = 1024;\n        InputStream in = ph.getBinaryStream();\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        OutputStream outputStream = new FileOutputStream(&quot;src/photos/photo4.jpg&quot;);\n        byte[] buffer = new byte[bufferSize];\n        while ((length = in .read(buffer)) != -1) {\n            System.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\n            out.write(buffer, 0, length);\n        }\n        out.writeTo(outputStream); in .close();\n    }\n\n    public void image5Generate() throws SQLException, IOException {\n\n        int i = rs.getInt(&quot;id&quot;);\n        Blob ph = rs.getBlob(&quot;image5&quot;);\n        if (ph == null) {\n            return;\n        }\n        int length = (int) ph.length();\n        int bufferSize = 1024;\n        InputStream in = ph.getBinaryStream();\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        OutputStream outputStream = new FileOutputStream(&quot;src/photos/photo5.jpg&quot;);\n        byte[] buffer = new byte[bufferSize];\n        while ((length = in .read(buffer)) != -1) {\n            System.out.println(&quot;writing &quot; + length + &quot; bytes&quot;);\n            out.write(buffer, 0, length);\n        }\n        out.writeTo(outputStream); in .close();\n    }\n}\n</code></pre>\n<p>\\\\</p>\n<p>Class with code for generate frame, panels, jlabel for images and buttons sliders.</p>\n<p>\\\\</p>\n<pre><code>package com.dug.plantId;\n\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.sql.*;\nimport java.util.List;\n\npublic class MyPanels extends JPanel implements ActionListener {\n\n    private JComboBox jComboBoxNomCommun;\n    private JComboBox jComboBoxNomLatin;\n\n    static ImageIcon[] s;\n    static JLabel jLabelImages;\n    private static JButton b1;\n    private static JButton b2;\n    int i, l1;\n\n    public MyPanels() {\n        super();\n        initComposantsPanel1();\n    }\n\n    /****  main ****/\n\n    public static void main(String args[]) {\n\n        MyPanels launchWindowsProg = new MyPanels();\n        launchWindowsProg.generatePanels();\n        launchWindowsProg.buttonsSlideShow();\n    }\n\n    /***  Initialize components of panel1. ***/\n\n    private void initComposantsPanel1() {\n\n        this.setLayout(new GridBagLayout());\n\n\n        JLabel listeAlphabetiqueNomLatin = panel1LabelCell(GridBagConstraints.WEST, 2, 1, &quot;Liste alphabétique nom latin: &quot;);\n        jComboBoxNomLatin = panel1ComboBoxNomLatin(GridBagConstraints.WEST, 3, 1, &quot;&quot;);\n\n        \n        JLabel listeAlphabetiqueNomCommunTextField = panel1LabelCell(GridBagConstraints.WEST, 2, 2, &quot;Liste alphabétique nom commun: &quot;);\n        jComboBoxNomCommun = panel1ComboBoxNomCommun(GridBagConstraints.WEST, 3, 2, &quot;&quot;);\n    }\n\n    /*** Manufacturers for the different components ***/\n\n    public JLabel panel1LabelCell(int GridBagConstraints, int positionGridx, int positionGridy, String labelLigne) {\n        GridBagConstraints gridBagConstraints = new GridBagConstraints();\n        gridBagConstraints.insets = new Insets(0, 300, 3, 20);\n        gridBagConstraints.anchor = GridBagConstraints;\n        gridBagConstraints.gridx = positionGridx;\n        gridBagConstraints.gridy = positionGridy;\n        JLabel jLabel = new JLabel(labelLigne);\n        this.add(jLabel, gridBagConstraints);\n        return jLabel;\n    }\n\n    /*** Constructor  panel1 (JComboBox) ***/\n\n    public JComboBox panel1ComboBoxNomCommun(int GridBagConstraints, int positionGridx, int positionGridy, String text) {\n        GridBagConstraints gridBagConstraints = new GridBagConstraints();\n        gridBagConstraints.anchor = GridBagConstraints;\n        gridBagConstraints.ipadx = 10;\n        JComboBox jComboBoxNomCommun = new JComboBox();\n        jComboBoxNomCommun.setPreferredSize(new Dimension(225, 23));\n        gridBagConstraints.gridx = positionGridx;\n        gridBagConstraints.gridy = positionGridy;\n\n        /*** DB connection ***/\n\n        Connection con = null;\n        Statement st = null;\n        ResultSet rs = null;\n\n        /*** Import list DB to jComboBoxNomCommun ***/\n\n        try {\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/dbarbres?&quot; +\n                &quot;user=Dug&amp;password=Java427&quot;);\n            st = con.createStatement();\n            String s = &quot;select * from tblarbre&quot;;\n            rs = st.executeQuery(s);\n            while (rs.next()) {\n                jComboBoxNomCommun.addItem(rs.getString(\n                    &quot;nomCommun&quot;));\n            }\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, &quot;ERROR&quot;);\n        } finally {\n            try {\n                st.close();\n                rs.close();\n                con.close();\n            } catch (Exception e) {\n                JOptionPane.showMessageDialog(null, &quot;ERROR CLOSE&quot;);\n            }\n        }\n        \n        jComboBoxNomCommun.addActionListener(e -&gt; {\n\n            String typedText = ((JTextField) jComboBoxNomCommun.getEditor().getEditorComponent()).getText();\n\n            DBConnection dBConnection = new DBConnection();\n            List&lt;Plant&gt; findedPlant = dBConnection.searchPlant(typedText);\n\n            for (Plant plant: findedPlant) {\n\n            }\n        });\n        this.add(jComboBoxNomCommun, gridBagConstraints);\n        return jComboBoxNomCommun;\n    }\n    private JComboBox panel1ComboBoxNomLatin(int GridBagConstraints, int positionGridx, int positionGridy, String text) {\n        GridBagConstraints gridBagConstraints = new GridBagConstraints();\n        gridBagConstraints.anchor = GridBagConstraints;\n        gridBagConstraints.ipadx = 10;\n        JComboBox jComboBoxNomLatin = new JComboBox();\n        jComboBoxNomLatin.setPreferredSize(new Dimension(225, 23));\n        gridBagConstraints.gridx = positionGridx;\n        gridBagConstraints.gridy = positionGridy;\n        this.add(jComboBoxNomLatin, gridBagConstraints);\n\n        Connection con = null;\n        Statement st = null;\n        ResultSet rs = null;\n\n        /***  Import liste DB to jComboBoxNomLatin ***/\n\n        try {\n            con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/dbarbres?&quot; +\n                &quot;user=Dug&amp;password=Java427&quot;);\n            st = con.createStatement();\n            String s = &quot;select * from tblarbre&quot;;\n            rs = st.executeQuery(s);\n            while (rs.next()) {\n                jComboBoxNomLatin.addItem(rs.getString(\n                    &quot;nomLatin&quot;));\n            }\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, &quot;ERROR&quot;);\n        } finally {\n            try {\n                st.close();\n                rs.close();\n                con.close();\n            } catch (Exception e) {\n                JOptionPane.showMessageDialog(null, &quot;ERROR CLOSE&quot;);\n            }\n        }\n        jComboBoxNomLatin.addActionListener(e -&gt; {\n\n            String typedText = ((JTextField) jComboBoxNomLatin.getEditor().getEditorComponent()).getText();\n\n            DBConnection dBConnection = new DBConnection();\n            List&lt;Plant&gt; findedPlant = dBConnection.searchPlant(typedText);\n\n            for (Plant plant: findedPlant) {\n            }\n        });\n        return jComboBoxNomLatin;\n    }\n\n    /*** Generate panels ***/\n\n    void generatePanels() {\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame();\n            frame.setLayout(new BorderLayout());\n            JPanel panel1 = new JPanel();\n            JPanel panel2 = new JPanel();\n            Border border = BorderFactory.createLineBorder(Color.GRAY, 1);\n            panel1.setBounds(10, 10, 1400, 200);\n            panel2.setBounds(720, 250, 700, 530);\n            panel2.setBorder(border);\n            MyPanels myPanels = new MyPanels();\n            panel1.add(myPanels);\n            frame.add(panel1, BorderLayout.NORTH);\n            frame.add(panel2, BorderLayout.EAST);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setLayout(null);\n            frame.setSize(1450, 900);\n            frame.setVisible(true);\n\n            /*** Add buttons for showview images***/\n\n            panel2.add(b1);\n            panel2.add(b2);\n            jLabelImages = new JLabel(&quot;&quot;, JLabel.CENTER);\n            panel2.add(jLabelImages, BorderLayout.CENTER);\n        });\n    }\n\n    /*** Import images to a list***/\n\n    public static void imagesImportToList() {\n        s = new ImageIcon[5];\n        s[0] = new ImageIcon(&quot;src/photos/photo1.jpg&quot;);\n        s[1] = new ImageIcon(&quot;src/photos/photo2.jpg&quot;);\n        s[2] = new ImageIcon(&quot;src/photos/photo3.jpg&quot;);\n        s[3] = new ImageIcon(&quot;src/photos/photo4.jpg&quot;);\n        s[4] = new ImageIcon(&quot;src/photos/photo5.jpg&quot;);\n    }\n    /***  Method of displaying the slideshow images ***/\n\n    public void buttonsSlideShow() {\n\n        b1 = new JButton(&quot;&lt;&lt;&quot;);\n        b2 = new JButton(&quot;&gt;&gt;&quot;);\n\n        b1.addActionListener(e -&gt; {\n            if (e.getSource() == b1) {\n                if (i == 0) {\n                    JOptionPane.showMessageDialog(null, &quot; First image&quot;);\n                } else {\n                    i = i - 1;\n                    jLabelImages.setIcon(s[i]);\n                }\n            }\n            if (e.getSource() == b2) {\n                if (i == s.length - 1) {\n                    JOptionPane.showMessageDialog(null, &quot;Last Image&quot;);\n                } else {\n                    i = i + 1;\n                    jLabelImages.setIcon(s[i]);\n                }\n            }\n        });\n        b2.addActionListener(e -&gt; {\n            if (e.getSource() == b1) {\n                if (i == 0) {\n                    JOptionPane.showMessageDialog(null, &quot;First image&quot;);\n                } else {\n                    i = i - 1;\n                    jLabelImages.setIcon(s[i]);\n                }\n            }\n            if (e.getSource() == b2) {\n                if (i == s.length - 1) {\n                    JOptionPane.showMessageDialog(null, &quot;Last Image&quot;);\n                } else {\n                    i = i + 1;\n                    jLabelImages.setIcon(s[i]);\n                }\n            }\n        });\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {}\n\n    /*** Show image1 after selection in the JCombobox list  ***/\n\n    static void displayImage1() {\n        String displayImage1 = &quot;src/photos/photo1.jpg&quot;;\n        ImageIcon image1 = new ImageIcon(displayImage1);\n        jLabelImages.setIcon(image1);\n    }\n}\n</code></pre>\n<p>\\\\</p>\n<p>I tried everything but I can't get it, maybe there is a solution with embedded resource via a URL. A URL that can be obtained using Class.getResource() but I don't have enough knowledge.</p>\n<p>Thanks in advance for your insight.</p>\n"},{"tags":["java","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659883954,"creation_date":1659883954,"answer_id":73268460,"question_id":73265672,"body_markdown":"Thymeleaf only does rendering, it does not magically add more data to form post over basic html. As such, a span element is not posted, only input elements are posted to controller.\r\n\r\nSo you&#39;d either have to change all the span elements to input, or you can add a hidden input with the id value and get the corresponding Cruise object from database in the controller","title":"Spring Controller + Thymeleaf form generated by foreach (cannot get access to variables)","body":"<p>Thymeleaf only does rendering, it does not magically add more data to form post over basic html. As such, a span element is not posted, only input elements are posted to controller.</p>\n<p>So you'd either have to change all the span elements to input, or you can add a hidden input with the id value and get the corresponding Cruise object from database in the controller</p>\n"}],"owner":{"account_id":25328233,"reputation":11,"user_id":19148503,"display_name":"Kazikwow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659883954,"creation_date":1659857641,"question_id":73265672,"body_markdown":"In thymeleaf I generate &quot;order book&quot; with offers. It is being generated with another controller but I works fine. All data is being printed correctly. The problem is when I want to make an order. In @Controller I am not able to see variables from form. Here is a part of code of thymeleaf\r\n```thymeleaf\r\n&lt;tr th:each=&quot;cruise : ${cruises}&quot;&gt;\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/makeOrder}&quot; th:object=&quot;${cruise}&quot; name=&quot;formOrder&quot; modelAttribute=&quot;cruise&quot;&gt;\r\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.nameOfCruise}&quot; th:field=&quot;${cruise.nameOfCruise}&quot;&gt; nameOfCruise &lt;/span&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.id}&quot; th:field=&quot;${cruise.id}&quot;&gt; id &lt;/span&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.date}&quot;&gt; date &lt;/span&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.cost}&quot;&gt; cost &lt;/span&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.route.startPlace}&quot;&gt; start &lt;/span&gt;&lt;/td&gt;\r\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.route.finishPlace}&quot;&gt; finish &lt;/span&gt;&lt;/td&gt;\r\n        &lt;td style=&quot;text-align: center;&quot;&gt;\r\n            &lt;span&gt; Interested? &lt;/span&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;order&quot;&gt;\r\n        &lt;/td&gt;\r\n    &lt;/form&gt;\r\n&lt;/tr&gt;\r\n```\r\n\r\nI try to PostMapping method\r\n```java\r\n@PostMapping(value = &quot;/makeOrder&quot;)\r\npublic String order(@ModelAttribute Cruise cruise, Model model){\r\n        logger.info(cruise.getNameOfCruise); //NULL\r\n        if(cruise == null) //NOT NULL. It doesn&#39;t execute\r\n            logger.info(&quot;Cruise is null); \r\n        ...\r\n}\r\n```\r\n\r\n\r\nI tried that way, but it had no other effect\r\n```java \r\npublic String order(@ModelAttribute(&quot;cruise&quot;) Cruise cruise, Model model) \r\n```\r\nEntity class\r\n```java\r\npackage com.zak.cruise.entity;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.sql.Time;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;cruise&quot;)\r\n@Getter\r\n@Setter\r\npublic class Cruise {\r\n    @Id\r\n    @Column(name = &quot;idcruise&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name_of_cruise&quot;)\r\n    private String nameOfCruise;\r\n\r\n    @Column(name = &quot;date&quot;)\r\n    private LocalDate date;\r\n\r\n    @Column(name = &quot;time&quot;)\r\n    private Time time;\r\n\r\n    @Column(name = &quot;cost&quot;)\r\n    private int cost;\r\n\r\n    @Column(name = &quot;number_of_seats&quot;)\r\n    private int numberOfSeats;\r\n\r\n    @Column(name = &quot;duration&quot;)\r\n    private int duration;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;route_id_route&quot;)\r\n    private Route route;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ship_id_ship&quot;)\r\n    private Ship ship;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    public Cruise() {\r\n    }\r\n\r\n    public Cruise(String nameOfCruise, LocalDate date, Time time, int cost, int numberOfSeats, int duration, Route route, Ship ship, String description) {\r\n        this.nameOfCruise = nameOfCruise;\r\n        this.date = date;\r\n        this.time = time;\r\n        this.cost = cost;\r\n        this.numberOfSeats = numberOfSeats;\r\n        this.duration = duration;\r\n        this.route = route;\r\n        this.ship = ship;\r\n        this.description = description;\r\n    }\r\n}\r\n```\r\n**WHAT IS IMPORANT**\r\ncruise is NOT NULL any time and it&#39;s entity class.\r\nEverything I want to get known is how to extract variables from form to work with them. \r\nI count on your help, thank you in advance","title":"Spring Controller + Thymeleaf form generated by foreach (cannot get access to variables)","body":"<p>In thymeleaf I generate &quot;order book&quot; with offers. It is being generated with another controller but I works fine. All data is being printed correctly. The problem is when I want to make an order. In @Controller I am not able to see variables from form. Here is a part of code of thymeleaf</p>\n<pre><code>&lt;tr th:each=&quot;cruise : ${cruises}&quot;&gt;\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/makeOrder}&quot; th:object=&quot;${cruise}&quot; name=&quot;formOrder&quot; modelAttribute=&quot;cruise&quot;&gt;\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.nameOfCruise}&quot; th:field=&quot;${cruise.nameOfCruise}&quot;&gt; nameOfCruise &lt;/span&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.id}&quot; th:field=&quot;${cruise.id}&quot;&gt; id &lt;/span&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.date}&quot;&gt; date &lt;/span&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.cost}&quot;&gt; cost &lt;/span&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.route.startPlace}&quot;&gt; start &lt;/span&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;span th:text=&quot;${cruise.route.finishPlace}&quot;&gt; finish &lt;/span&gt;&lt;/td&gt;\n        &lt;td style=&quot;text-align: center;&quot;&gt;\n            &lt;span&gt; Interested? &lt;/span&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;order&quot;&gt;\n        &lt;/td&gt;\n    &lt;/form&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>I try to PostMapping method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/makeOrder&quot;)\npublic String order(@ModelAttribute Cruise cruise, Model model){\n        logger.info(cruise.getNameOfCruise); //NULL\n        if(cruise == null) //NOT NULL. It doesn't execute\n            logger.info(&quot;Cruise is null); \n        ...\n}\n</code></pre>\n<p>I tried that way, but it had no other effect</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String order(@ModelAttribute(&quot;cruise&quot;) Cruise cruise, Model model) \n</code></pre>\n<p>Entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.zak.cruise.entity;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.sql.Time;\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;cruise&quot;)\n@Getter\n@Setter\npublic class Cruise {\n    @Id\n    @Column(name = &quot;idcruise&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;name_of_cruise&quot;)\n    private String nameOfCruise;\n\n    @Column(name = &quot;date&quot;)\n    private LocalDate date;\n\n    @Column(name = &quot;time&quot;)\n    private Time time;\n\n    @Column(name = &quot;cost&quot;)\n    private int cost;\n\n    @Column(name = &quot;number_of_seats&quot;)\n    private int numberOfSeats;\n\n    @Column(name = &quot;duration&quot;)\n    private int duration;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;route_id_route&quot;)\n    private Route route;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;ship_id_ship&quot;)\n    private Ship ship;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    public Cruise() {\n    }\n\n    public Cruise(String nameOfCruise, LocalDate date, Time time, int cost, int numberOfSeats, int duration, Route route, Ship ship, String description) {\n        this.nameOfCruise = nameOfCruise;\n        this.date = date;\n        this.time = time;\n        this.cost = cost;\n        this.numberOfSeats = numberOfSeats;\n        this.duration = duration;\n        this.route = route;\n        this.ship = ship;\n        this.description = description;\n    }\n}\n</code></pre>\n<p><strong>WHAT IS IMPORANT</strong>\ncruise is NOT NULL any time and it's entity class.\nEverything I want to get known is how to extract variables from form to work with them.\nI count on your help, thank you in advance</p>\n"},{"tags":["java","spring-boot","tomcat","log4j2","nio"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659830667,"post_id":73263994,"comment_id":129388402,"body_markdown":"why not just write a custom filter that logs the ip address?","body":"why not just write a custom filter that logs the ip address?"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1659830813,"post_id":73263994,"comment_id":129388408,"body_markdown":"I have a custom `@WebFilter` class that does just that, but the `doFilter` method inside this class is never run when `http11Processor` throws an error.","body":"I have a custom <code>@WebFilter</code> class that does just that, but the <code>doFilter</code> method inside this class is never run when <code>http11Processor</code> throws an error."}],"answers":[{"tags":[],"owner":{"account_id":22686798,"reputation":101,"user_id":16856257,"display_name":"Aooohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659882503,"creation_date":1659882503,"answer_id":73268274,"question_id":73263994,"body_markdown":"There is a non-recommended but effective way that you can customize a `Valve` and get the `Throwable` with the following code.\r\n\r\n```java\r\nThrowable throwable = (Throwable) request.getAttribute(RequestDispatcher.ERROR_EXCEPTION);\r\n```\r\n\r\nRefer to `ErrorReportValve` implementation.","title":"How do i catch an HTTP request header parse error thrown by Http11Processor?","body":"<p>There is a non-recommended but effective way that you can customize a <code>Valve</code> and get the <code>Throwable</code> with the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable throwable = (Throwable) request.getAttribute(RequestDispatcher.ERROR_EXCEPTION);\n</code></pre>\n<p>Refer to <code>ErrorReportValve</code> implementation.</p>\n"}],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659882503,"creation_date":1659829850,"question_id":73263994,"body_markdown":"I am running a spring boot application with an embedded Tomcat server on an AWS EC2 instance. I use `Log4J2` to log both the spring boot logs as well as the tomcat server logs. \r\n\r\nTomcat will usually display a log that includes the ip address of the computer that made the request, the endpoint that was requested and how long it took to respond. But this only happens when the application is able to process the request and send a response. \r\n\r\nIf the request can&#39;t be processed because the request header can&#39;t be parsed then the `Http11Processor` will throw an error that is logged but that does not include an ip address.\r\n\r\nThe log looks like this:\r\n\r\n&gt; [INFO ] 2022-08-06 22:37:26.363 [http-nio-8080-exec-1] Http11Processor\r\n&gt; - Error parsing HTTP request header  Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\r\n&gt; java.lang.IllegalArgumentException: Invalid character found in the\r\n&gt; request target\r\n&gt; [/index.php?s=/Index/\\think\\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=md5&amp;vars[1][]=HelloThinkPHP21\r\n&gt; ]. The valid characters are defined in RFC 7230 and RFC 3986\r\n&gt;         at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:494)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; ~[tomcat-embed-core-9.0.65.jar!/:?]\r\n&gt;         at java.lang.Thread.run(Thread.java:833) ~[?:?]\r\n\r\nThis error was caused by a bot that was scanning my server for `php` related vulnerabilities. I want to block this bot but i need the ip address to do that and `http11Processor` doesn&#39;t log that by default. \r\n\r\nSo i want to catch this exception and log the ip address in the catch clause. My question is: Where should i place this catch clause?\r\n\r\nI log the tomcat server logs using a custom `AccessLogValve` that looks like this:\r\n\r\n    public class Log4JAccessValve extends AbstractAccessLogValve { \r\n    \r\n        private static final Logger httpAccessLogLogger = LogManager.getLogger(&quot;http_access_log&quot;);\r\n    \r\n        @Override //https://stackoverflow.com/questions/40172395/how-to-add-an-accesslogvalve-to-tomcat-programmatically\r\n        protected void log(CharArrayWriter message) {\r\n            httpAccessLogLogger.info(message.toString());\r\n        }\r\n    }\r\n\r\nBut i don&#39;t think the `http11Processor` passed through this `AccessLogValve` or else the log would have mentioned `http_access_log` instead of `http-nio-8080-exec-1`. How do i catch the exceptions coming from `Http11Processor` so that i can alter the error message?\r\n\r\n ","title":"How do i catch an HTTP request header parse error thrown by Http11Processor?","body":"<p>I am running a spring boot application with an embedded Tomcat server on an AWS EC2 instance. I use <code>Log4J2</code> to log both the spring boot logs as well as the tomcat server logs.</p>\n<p>Tomcat will usually display a log that includes the ip address of the computer that made the request, the endpoint that was requested and how long it took to respond. But this only happens when the application is able to process the request and send a response.</p>\n<p>If the request can't be processed because the request header can't be parsed then the <code>Http11Processor</code> will throw an error that is logged but that does not include an ip address.</p>\n<p>The log looks like this:</p>\n<blockquote>\n<p>[INFO ] 2022-08-06 22:37:26.363 [http-nio-8080-exec-1] Http11Processor</p>\n<ul>\n<li>Error parsing HTTP request header  Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\njava.lang.IllegalArgumentException: Invalid character found in the\nrequest target\n[/index.php?s=/Index/\\think\\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=md5&amp;vars[1][]=HelloThinkPHP21\n]. The valid characters are defined in RFC 7230 and RFC 3986\nat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:494)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n~[tomcat-embed-core-9.0.65.jar!/:?]\nat java.lang.Thread.run(Thread.java:833) ~[?:?]</li>\n</ul>\n</blockquote>\n<p>This error was caused by a bot that was scanning my server for <code>php</code> related vulnerabilities. I want to block this bot but i need the ip address to do that and <code>http11Processor</code> doesn't log that by default.</p>\n<p>So i want to catch this exception and log the ip address in the catch clause. My question is: Where should i place this catch clause?</p>\n<p>I log the tomcat server logs using a custom <code>AccessLogValve</code> that looks like this:</p>\n<pre><code>public class Log4JAccessValve extends AbstractAccessLogValve { \n\n    private static final Logger httpAccessLogLogger = LogManager.getLogger(&quot;http_access_log&quot;);\n\n    @Override //https://stackoverflow.com/questions/40172395/how-to-add-an-accesslogvalve-to-tomcat-programmatically\n    protected void log(CharArrayWriter message) {\n        httpAccessLogLogger.info(message.toString());\n    }\n}\n</code></pre>\n<p>But i don't think the <code>http11Processor</code> passed through this <code>AccessLogValve</code> or else the log would have mentioned <code>http_access_log</code> instead of <code>http-nio-8080-exec-1</code>. How do i catch the exceptions coming from <code>Http11Processor</code> so that i can alter the error message?</p>\n"},{"tags":["java","swagger","dto","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659886614,"post_id":73268191,"comment_id":129396447,"body_markdown":"Are you sure you need to map a list of FilterDto into one single Request object? For me it looks more like you have to map each FilterDto to a separate Request object. If you have more than one FilterDto, you can use @IterableMapping to map a list of FilterDto  into a list of Request.","body":"Are you sure you need to map a list of FilterDto into one single Request object? For me it looks more like you have to map each FilterDto to a separate Request object. If you have more than one FilterDto, you can use @IterableMapping to map a list of FilterDto  into a list of Request."},{"owner":{"account_id":18078129,"reputation":47,"user_id":13573656,"display_name":"Marzepanio Tortus"},"score":0,"creation_date":1659886995,"post_id":73268191,"comment_id":129396534,"body_markdown":"@PaulMarcelinBejan Yes, I need to filter each object with each other, thx for answer, \nI will try to use your advice","body":"@PaulMarcelinBejan Yes, I need to filter each object with each other, thx for answer,  I will try to use your advice"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1659888058,"post_id":73268191,"comment_id":129396744,"body_markdown":"So, if I understand it well, you can look at this answer : https://stackoverflow.com/a/73247962/13115701","body":"So, if I understand it well, you can look at this answer : <a href=\"https://stackoverflow.com/a/73247962/13115701\">stackoverflow.com/a/73247962/13115701</a>"}],"owner":{"account_id":18078129,"reputation":47,"user_id":13573656,"display_name":"Marzepanio Tortus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659881784,"creation_date":1659881784,"question_id":73268191,"body_markdown":"I am new to java programming trying to do dto mapping,to implement data filtering\r\n\r\n    @Data\r\n    @FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE)\r\n    public class Request {\r\n        List&lt;EventType&gt; eventType;\r\n        String eventRef;\r\n        List&lt;Status&gt; status;\r\n        LocalDate DateFrom;\r\n        LocalDate DateTo;\r\n    }\r\n\r\n    public class FilterDto   {\r\n    \r\n      @JsonProperty(&quot;eventType&quot;)\r\n      @Valid\r\n      private List&lt;EventTypeEnum&gt; eventType = null;\r\n    \r\n      @JsonProperty(&quot;eventRef&quot;)\r\n      private String eventRef;\r\n    \r\n      @JsonProperty(&quot;status&quot;)\r\n      @Valid\r\n      private List&lt;StatusEnum&gt; status = null;\r\n    \r\n      @JsonProperty(&quot;DateFrom&quot;)\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n      private LocalDate DateFrom;\r\n    \r\n      @JsonProperty(&quot;DateTo&quot;)\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n      private LocalDate DateTo;\r\n\r\nmap struct func\r\n\r\n    Request map(List&lt;FilterDto&gt; filter);\r\n\r\nI call this mapper in the controller\r\n\r\n    Request request = registryMapper.map(regPageReqDto.getFilter());\r\n\r\nregPageReqDto generated class in swagger, which contains FilterDto","title":"Problem with mapstruct java: Can&#39;t generate mapping method from iterable type to non-iterable type","body":"<p>I am new to java programming trying to do dto mapping,to implement data filtering</p>\n<pre><code>@Data\n@FieldDefaults(makeFinal = true, level = AccessLevel.PRIVATE)\npublic class Request {\n    List&lt;EventType&gt; eventType;\n    String eventRef;\n    List&lt;Status&gt; status;\n    LocalDate DateFrom;\n    LocalDate DateTo;\n}\n\npublic class FilterDto   {\n\n  @JsonProperty(&quot;eventType&quot;)\n  @Valid\n  private List&lt;EventTypeEnum&gt; eventType = null;\n\n  @JsonProperty(&quot;eventRef&quot;)\n  private String eventRef;\n\n  @JsonProperty(&quot;status&quot;)\n  @Valid\n  private List&lt;StatusEnum&gt; status = null;\n\n  @JsonProperty(&quot;DateFrom&quot;)\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\n  private LocalDate DateFrom;\n\n  @JsonProperty(&quot;DateTo&quot;)\n  @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\n  private LocalDate DateTo;\n</code></pre>\n<p>map struct func</p>\n<pre><code>Request map(List&lt;FilterDto&gt; filter);\n</code></pre>\n<p>I call this mapper in the controller</p>\n<pre><code>Request request = registryMapper.map(regPageReqDto.getFilter());\n</code></pre>\n<p>regPageReqDto generated class in swagger, which contains FilterDto</p>\n"},{"tags":["java","jar","dependencies"],"comments":[{"owner":{"account_id":48454,"reputation":12964,"user_id":143969,"accept_rate":91,"display_name":"aperkins"},"score":0,"creation_date":1254338601,"post_id":1500141,"comment_id":1352962,"body_markdown":"Are you attempting to resolve a dependency?  i.e. when you run your code, it cannot find a class, so you are looking to put it on the classpath?","body":"Are you attempting to resolve a dependency?  i.e. when you run your code, it cannot find a class, so you are looking to put it on the classpath?"},{"owner":{"account_id":30578,"reputation":5909,"user_id":83418,"accept_rate":93,"display_name":"Jeffrey Knight"},"score":0,"creation_date":1254338661,"post_id":1500141,"comment_id":1352974,"body_markdown":"Yes, that is exactly what I am trying to do.","body":"Yes, that is exactly what I am trying to do."},{"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"score":0,"creation_date":1254370948,"post_id":1500141,"comment_id":1354844,"body_markdown":"I think you&#39;re asking the wrong question.  I think the question you mean to ask is something like &quot;I&#39;m trying to develop a thin client application using WAS v6.1.  Which jar should I include on my JVM class path to perform authentication (presumably WSSubject)?&quot;  Depending on what you&#39;re actually trying to do, searching the InfoCenter for &quot;thin client&quot; or &quot;thin client wssubject&quot; is probably what you&#39;re looking for.  If you provide details, you can probably get the correct jar rather than just guessing based on the answers below.","body":"I think you&#39;re asking the wrong question.  I think the question you mean to ask is something like &quot;I&#39;m trying to develop a thin client application using WAS v6.1.  Which jar should I include on my JVM class path to perform authentication (presumably WSSubject)?&quot;  Depending on what you&#39;re actually trying to do, searching the InfoCenter for &quot;thin client&quot; or &quot;thin client wssubject&quot; is probably what you&#39;re looking for.  If you provide details, you can probably get the correct jar rather than just guessing based on the answers below."},{"owner":{"account_id":176669,"reputation":7451,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"score":0,"creation_date":1389716789,"post_id":1500141,"comment_id":31775713,"body_markdown":"This should be tagged Linux/Unix - no use in Windows.","body":"This should be tagged Linux/Unix - no use in Windows."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1444346700,"post_id":1500141,"comment_id":53877347,"body_markdown":"Possible duplicate of [Find a class somewhere inside dozens of JAR files?](http://stackoverflow.com/questions/1342894/find-a-class-somewhere-inside-dozens-of-jar-files)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1342894/find-a-class-somewhere-inside-dozens-of-jar-files\">Find a class somewhere inside dozens of JAR files?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1254340179,"creation_date":1254338758,"answer_id":1500166,"question_id":1500141,"body_markdown":"You could try services like:\r\n\r\n - &lt;http://www.jarhoo.com/&gt;\r\n - &lt;http://www.docjar.com/&gt;\r\n - &lt;http://javacio.us/&gt;\r\n - &lt;http://merobase.com/&gt;\r\n\r\nOr \r\n\r\n - Google Desktop with the [Airbear Software&#39;s IndexZip Plug-in][1] \r\n\r\nOr \r\n\r\n - A maven enterprise repository with a search feature e.g. Nexus (OFC, this would only work if the jars you&#39;re looking for are indexed i.e. installed in the repository) \r\n\r\n\r\nPS: *Jarhoo has teamed up with Javacio.us to provide 100,000 Java developers with free access to Jarhoo via links integrated with their Google search results. Subscription to Javacio.us is free and open to anyone with a Google account. For more information, please visit the [Jarhoo offer page at Javacio.us][2].*\r\n\r\n\r\n  [1]: http://desktop.google.com/plugins/i/airbearindexzip.html?hl=fr\r\n  [2]: http://javacio.us/jarhoo","title":"Find a jar file given the class name?","body":"<p>You could try services like:</p>\n\n<ul>\n<li><a href=\"http://www.jarhoo.com/\" rel=\"noreferrer\">http://www.jarhoo.com/</a></li>\n<li><a href=\"http://www.docjar.com/\" rel=\"noreferrer\">http://www.docjar.com/</a></li>\n<li><a href=\"http://javacio.us/\" rel=\"noreferrer\">http://javacio.us/</a></li>\n<li><a href=\"http://merobase.com/\" rel=\"noreferrer\">http://merobase.com/</a></li>\n</ul>\n\n<p>Or </p>\n\n<ul>\n<li>Google Desktop with the <a href=\"http://desktop.google.com/plugins/i/airbearindexzip.html?hl=fr\" rel=\"noreferrer\">Airbear Software's IndexZip Plug-in</a> </li>\n</ul>\n\n<p>Or </p>\n\n<ul>\n<li>A maven enterprise repository with a search feature e.g. Nexus (OFC, this would only work if the jars you're looking for are indexed i.e. installed in the repository) </li>\n</ul>\n\n<p>PS: <em>Jarhoo has teamed up with Javacio.us to provide 100,000 Java developers with free access to Jarhoo via links integrated with their Google search results. Subscription to Javacio.us is free and open to anyone with a Google account. For more information, please visit the <a href=\"http://javacio.us/jarhoo\" rel=\"noreferrer\">Jarhoo offer page at Javacio.us</a>.</em></p>\n"},{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254338772,"creation_date":1254338772,"answer_id":1500169,"question_id":1500141,"body_markdown":"locate .jar | xargs grep com.ibm.websphere.security.auth.WSSubject\r\n","title":"Find a jar file given the class name?","body":"<p>locate .jar | xargs grep com.ibm.websphere.security.auth.WSSubject</p>\n"},{"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1254339322,"creation_date":1254339322,"answer_id":1500216,"question_id":1500141,"body_markdown":"There is no &quot;official&quot; Java way to do this AFAIK.\r\n\r\nThe way I usually hunt for it is to use **find** and **jar** to look through all jar files in a given tree.\r\n\r\n    &gt; find . -name \\*.jar -print -exec jar tf {} oracle/sql/BLOB.class \\;\r\n    ./v2.6.1/lib/csw_library.jar\r\n    ./v2.6.1/lib/oracle_drivers_12_01.jar\r\n    oracle/sql/BLOB.class\r\n\r\nIf you&#39;re on Windows and don&#39;t want to install Cygwin, then I suppose you would have to write a batch script to locate the jar files.","title":"Find a jar file given the class name?","body":"<p>There is no \"official\" Java way to do this AFAIK.</p>\n\n<p>The way I usually hunt for it is to use <strong>find</strong> and <strong>jar</strong> to look through all jar files in a given tree.</p>\n\n<pre><code>&gt; find . -name \\*.jar -print -exec jar tf {} oracle/sql/BLOB.class \\;\n./v2.6.1/lib/csw_library.jar\n./v2.6.1/lib/oracle_drivers_12_01.jar\noracle/sql/BLOB.class\n</code></pre>\n\n<p>If you're on Windows and don't want to install Cygwin, then I suppose you would have to write a batch script to locate the jar files.</p>\n"},{"tags":[],"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1254340463,"creation_date":1254340463,"answer_id":1500307,"question_id":1500141,"body_markdown":"Save this as findclass.sh (or whatever), put it on your path and make it executable:\r\n\r\n    #!/bin/sh\r\n    find &quot;$1&quot; -name &quot;*.jar&quot; -exec sh -c &#39;jar -tf {}|grep -H --label {} &#39;$2&#39;&#39; \\;\r\n\r\nThe first parameter is the directory to search recursively and the second parameter is a regular expression (typically just a simple class name) to search for.\r\n\r\n    $ findclass.sh . WSSubject\r\n\r\nThe script relies on the -t option to the jar command (which lists the contents) and greps each table of contents, labelling any matches with the path of the JAR file in which it was found.","title":"Find a jar file given the class name?","body":"<p>Save this as findclass.sh (or whatever), put it on your path and make it executable:</p>\n\n<pre><code>#!/bin/sh\nfind \"$1\" -name \"*.jar\" -exec sh -c 'jar -tf {}|grep -H --label {} '$2'' \\;\n</code></pre>\n\n<p>The first parameter is the directory to search recursively and the second parameter is a regular expression (typically just a simple class name) to search for.</p>\n\n<pre><code>$ findclass.sh . WSSubject\n</code></pre>\n\n<p>The script relies on the -t option to the jar command (which lists the contents) and greps each table of contents, labelling any matches with the path of the JAR file in which it was found.</p>\n"},{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1254340492,"creation_date":1254340492,"answer_id":1500311,"question_id":1500141,"body_markdown":"Printing the list as I go so I can see what I&#39;m checking. Mostly I&#39;m looking in a lib/app directory, but you can substitute a locate for the find.\r\n\r\ne.g. \r\n\r\n    for jar in $(find some_dir/lib -name &quot;*.jar&quot; ); \r\n    do\r\n    echo -------------$jar-------------------\r\n    jar -tf $jar | grep TheNameOfTheClassImLookingFor\r\n    done\r\n","title":"Find a jar file given the class name?","body":"<p>Printing the list as I go so I can see what I'm checking. Mostly I'm looking in a lib/app directory, but you can substitute a locate for the find.</p>\n\n<p>e.g. </p>\n\n<pre><code>for jar in $(find some_dir/lib -name \"*.jar\" ); \ndo\necho -------------$jar-------------------\njar -tf $jar | grep TheNameOfTheClassImLookingFor\ndone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48454,"reputation":12964,"user_id":143969,"accept_rate":91,"display_name":"aperkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1254341388,"creation_date":1254341388,"answer_id":1500377,"question_id":1500141,"body_markdown":"Given your comment on attempting to handle dependencies, what I would do is focus on which libraries you are using.  Knowing this, you will know what jars have to be on the classpath, and you can pay attention to that.  There are also dependency management builders (Maven and Ant being two popular ones) that can package up projects with their dependencies inside.  However, in the end, it is up to the developer to know which dependencies they have, and to pay attention to the requirements for those dependencies.  This is one reason why using an IDE like Eclipse, and build tools like Maven or Ant are so nice in large projects, as when you have 20 dependencies for a project, that can become pretty unmanageable.","title":"Find a jar file given the class name?","body":"<p>Given your comment on attempting to handle dependencies, what I would do is focus on which libraries you are using.  Knowing this, you will know what jars have to be on the classpath, and you can pay attention to that.  There are also dependency management builders (Maven and Ant being two popular ones) that can package up projects with their dependencies inside.  However, in the end, it is up to the developer to know which dependencies they have, and to pay attention to the requirements for those dependencies.  This is one reason why using an IDE like Eclipse, and build tools like Maven or Ant are so nice in large projects, as when you have 20 dependencies for a project, that can become pretty unmanageable.</p>\n"},{"tags":[],"owner":{"account_id":36706,"reputation":9377,"user_id":104796,"accept_rate":78,"display_name":"cetnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434824699,"creation_date":1254342725,"answer_id":1500490,"question_id":1500141,"body_markdown":"I recommend using Maven, Eclipse and m2eclipse.\r\n\r\nStep 1 - add specific import\r\n\r\n![alt text][1]\r\n\r\nStep 2 - find and download (automatically) desired jar\r\n\r\n![alt text][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4LHQI.png\r\n  [2]: http://i.stack.imgur.com/WpceL.png","title":"Find a jar file given the class name?","body":"<p>I recommend using Maven, Eclipse and m2eclipse.</p>\n\n<p>Step 1 - add specific import</p>\n\n<p><img src=\"https://i.stack.imgur.com/4LHQI.png\" alt=\"alt text\"></p>\n\n<p>Step 2 - find and download (automatically) desired jar</p>\n\n<p><img src=\"https://i.stack.imgur.com/WpceL.png\" alt=\"alt text\"></p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1254343241,"creation_date":1254343241,"answer_id":1500538,"question_id":1500141,"body_markdown":"In Windows, run cmd.exe and type:\r\n\r\n      for %i in (*.jar) do @jar tvf %i | find &quot;/com/company/MyClass.class&quot;\r\n\r\nThe jars would have to be in the current directory. For also has a /R option which takes a directory and lets you search recursively.\r\n\r\nIf Jar.exe isn&#39;t in your path, you can do something like @C:\\jdk\\bin\\jar.exe.","title":"Find a jar file given the class name?","body":"<p>In Windows, run cmd.exe and type:</p>\n\n<pre><code>  for %i in (*.jar) do @jar tvf %i | find \"/com/company/MyClass.class\"\n</code></pre>\n\n<p>The jars would have to be in the current directory. For also has a /R option which takes a directory and lets you search recursively.</p>\n\n<p>If Jar.exe isn't in your path, you can do something like @C:\\jdk\\bin\\jar.exe.</p>\n"},{"tags":[],"owner":{"account_id":78144,"reputation":51,"user_id":222587,"display_name":"S M"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259724185,"creation_date":1259724185,"answer_id":1830474,"question_id":1500141,"body_markdown":"If the grep on your system (e.g. Solaris) doesn&#39;t have -H and --label as used in Dan Dyer&#39;s example, you can use:\r\n\r\n    find . -name &#39;*.jar&#39; -type f | xargs -i bash -c &quot;jar -tvf {}| tr / . | grep WSSubject &amp;&amp; echo {}&quot;\r\n\r\n\r\n","title":"Find a jar file given the class name?","body":"<p>If the grep on your system (e.g. Solaris) doesn't have -H and --label as used in Dan Dyer's example, you can use:</p>\n\n<pre><code>find . -name '*.jar' -type f | xargs -i bash -c \"jar -tvf {}| tr / . | grep WSSubject &amp;&amp; echo {}\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14624,"reputation":2166,"user_id":30292,"accept_rate":67,"display_name":"Joseph"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1280214784,"creation_date":1280214784,"answer_id":3341412,"question_id":1500141,"body_markdown":"Try findjar.com. If it&#39;s in the public domain, you should get it. There&#39;s alos mavenjava.com (but that site seems to be down)","title":"Find a jar file given the class name?","body":"<p>Try findjar.com. If it's in the public domain, you should get it. There's alos mavenjava.com (but that site seems to be down)</p>\n"},{"tags":[],"owner":{"account_id":152350,"reputation":5455,"user_id":366816,"accept_rate":18,"display_name":"ipolevoy"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1426742814,"creation_date":1309490531,"answer_id":6543252,"question_id":1500141,"body_markdown":"I have written a program for this:\r\nhttps://github.com/javalite/jar-explorer\r\nIt will also decompile existing byte code to show you interfaces, methods, super classes, will show contents of other resources - text, images, html, etc.","title":"Find a jar file given the class name?","body":"<p>I have written a program for this:\n<a href=\"https://github.com/javalite/jar-explorer\" rel=\"nofollow\">https://github.com/javalite/jar-explorer</a>\nIt will also decompile existing byte code to show you interfaces, methods, super classes, will show contents of other resources - text, images, html, etc.</p>\n"},{"tags":[],"owner":{"account_id":8977,"reputation":18862,"user_id":16404,"accept_rate":95,"display_name":"Mike Pone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336597222,"creation_date":1336597222,"answer_id":10523993,"question_id":1500141,"body_markdown":"I use [jarscan][1]. It is an executable jar file that can recursively search an entire folder structure for jars that contain the class that you are looking for. It searches by class name, package name or regex.\r\n\r\n\r\n  [1]: http://java.net/projects/jarscan","title":"Find a jar file given the class name?","body":"<p>I use <a href=\"http://java.net/projects/jarscan\" rel=\"nofollow\">jarscan</a>. It is an executable jar file that can recursively search an entire folder structure for jars that contain the class that you are looking for. It searches by class name, package name or regex.</p>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1338047369,"creation_date":1338047369,"answer_id":10767671,"question_id":1500141,"body_markdown":"To search all jars under the current directory and return the one(s) that contain class a.b.c.D do a:\r\n\r\n    find . -iname *.jar | while read JARF; do jar tvf $JARF | grep a/b/c/D.class &amp;&amp; echo $JARF ; done\r\n\r\nIt will report all instances of class a.b.c.D (or classes with a similar suffix) and will only print the jars that contain it.\r\n\r\nTypical output:\r\n\r\n    $ find . -iname *.jar | while read JARF; do jar tvf $JARF | grep Log.class &amp;&amp; echo $JARF ; done\r\n    479 Fri Oct 10 18:19:40 PDT 2003 org/apache/commons/logging/Log.class\r\n    3714 Fri Oct 10 18:19:40 PDT 2003 org/apache/commons/logging/impl/Log4JCategoryLog.class\r\n    1963 Fri Oct 10 18:19:40 PDT 2003 org/apache/commons/logging/impl/NoOpLog.class\r\n    9065 Fri Oct 10 18:19:40 PDT 2003 org/apache/commons/logging/impl/SimpleLog.class\r\n    ./WebContent/WEB-INF/lib/commons-logging.jar\r\n\r\n","title":"Find a jar file given the class name?","body":"<p>To search all jars under the current directory and return the one(s) that contain class a.b.c.D do a:</p>\n\n<pre><code>find . -iname *.jar | while read JARF; do jar tvf $JARF | grep a/b/c/D.class &amp;&amp; echo $JARF ; done\n</code></pre>\n\n<p>It will report all instances of class a.b.c.D (or classes with a similar suffix) and will only print the jars that contain it.</p>\n\n<p>Typical output:</p>\n\n<pre><code>$ find . -iname *.jar | while read JARF; do jar tvf $JARF | grep Log.class &amp;&amp; echo $JARF ; done\n479 Fri Oct 10 18:19:40 PDT 2003 org/apache/commons/logging/Log.class\n3714 Fri Oct 10 18:19:40 PDT 2003 org/apache/commons/logging/impl/Log4JCategoryLog.class\n1963 Fri Oct 10 18:19:40 PDT 2003 org/apache/commons/logging/impl/NoOpLog.class\n9065 Fri Oct 10 18:19:40 PDT 2003 org/apache/commons/logging/impl/SimpleLog.class\n./WebContent/WEB-INF/lib/commons-logging.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737700,"reputation":1497,"user_id":2359994,"display_name":"Som"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373643176,"creation_date":1373643176,"answer_id":17618575,"question_id":1500141,"body_markdown":"if you are still searching for WSSubject, then jar is wssec.jar. WSSecurityException class inside sas.jar\r\n","title":"Find a jar file given the class name?","body":"<p>if you are still searching for WSSubject, then jar is wssec.jar. WSSecurityException class inside sas.jar</p>\n"},{"tags":[],"owner":{"account_id":100076,"reputation":6521,"user_id":2684342,"accept_rate":92,"display_name":"WoodenKitty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380683263,"creation_date":1380683263,"answer_id":19129386,"question_id":1500141,"body_markdown":"In windows powershell you can use this command. It list all the JAR files it encounters, but it has an extra line that&#39;s very easy to spot where it also finds your class.\r\n\r\n    Get-ChildItem -recurse -Filter *.jar | Foreach {echo $_.fullname; c:\\somepath\\JDK\\BIN\\jar tvf $_.fullname | Select-String -pattern &quot;Cabbages.class&quot;}","title":"Find a jar file given the class name?","body":"<p>In windows powershell you can use this command. It list all the JAR files it encounters, but it has an extra line that's very easy to spot where it also finds your class.</p>\n\n<pre><code>Get-ChildItem -recurse -Filter *.jar | Foreach {echo $_.fullname; c:\\somepath\\JDK\\BIN\\jar tvf $_.fullname | Select-String -pattern \"Cabbages.class\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":717,"reputation":54118,"user_id":939,"accept_rate":81,"display_name":"Ron Tuffin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398327475,"creation_date":1398327475,"answer_id":23263488,"question_id":1500141,"body_markdown":"There is also [this][1] web site that seems to be usefull.\r\n[http://www.findjar.com/][2]\r\n\r\n\r\n  [1]: http://www.findjar.com/\r\n  [2]: http://www.findjar.com/","title":"Find a jar file given the class name?","body":"<p>There is also <a href=\"http://www.findjar.com/\" rel=\"nofollow\">this</a> web site that seems to be usefull.\n<a href=\"http://www.findjar.com/\" rel=\"nofollow\">http://www.findjar.com/</a></p>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511363673,"creation_date":1511363190,"answer_id":47437943,"question_id":1500141,"body_markdown":"Building up on [Dan&#39;s excellent answer][1], the following script solves the problem of mangled output in case some of the jars are actually broken symlinks (while at the same time not skipping proper symlinks) It also searches in the current directory if no argument is provided.\r\n\r\n    #!/usr/bin/env bash\r\n    \r\n    if [[ ($# -ne 1) &amp;&amp; ($# -ne 2) ]]\r\n    then\r\n        echo &quot;usage is $0 &lt;grep RegEx to look for in contents of jar&gt; [&lt;top-of-folder-hierarchy&gt; or, if missing, current dir]&quot;\r\n    else\r\n        REG_EXP=$1\r\n        DIR=${2:-.}\r\n        if [ ! -d $DIR ]; then\r\n            echo &quot;directory [$DIR] does not exist&quot;;\r\n            exit 1;\r\n        fi\r\n        find &quot;$DIR&quot; -name &quot;*.jar&quot; -exec sh -c &#39;\r\n        (test -e {})\r\n        exitStatus=$?\r\n        if [ &quot;$exitStatus&quot; -eq 0 ]; then # this is done to avoid broken symlinks\r\n            jar -tf {}|grep -i -H --label {} &#39;$REG_EXP&#39;\r\n        fi\r\n    &#39; \\;\r\n    fi\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1500307/274677","title":"Find a jar file given the class name?","body":"<p>Building up on <a href=\"https://stackoverflow.com/a/1500307/274677\">Dan's excellent answer</a>, the following script solves the problem of mangled output in case some of the jars are actually broken symlinks (while at the same time not skipping proper symlinks) It also searches in the current directory if no argument is provided.</p>\n\n<pre><code>#!/usr/bin/env bash\n\nif [[ ($# -ne 1) &amp;&amp; ($# -ne 2) ]]\nthen\n    echo \"usage is $0 &lt;grep RegEx to look for in contents of jar&gt; [&lt;top-of-folder-hierarchy&gt; or, if missing, current dir]\"\nelse\n    REG_EXP=$1\n    DIR=${2:-.}\n    if [ ! -d $DIR ]; then\n        echo \"directory [$DIR] does not exist\";\n        exit 1;\n    fi\n    find \"$DIR\" -name \"*.jar\" -exec sh -c '\n    (test -e {})\n    exitStatus=$?\n    if [ \"$exitStatus\" -eq 0 ]; then # this is done to avoid broken symlinks\n        jar -tf {}|grep -i -H --label {} '$REG_EXP'\n    fi\n' \\;\nfi\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659881775,"creation_date":1659881775,"answer_id":73268189,"question_id":1500141,"body_markdown":"in Intellij Idea \r\n\r\n1. on your class press `ctrl+B` and after that you can find the jar file.\r\n2. on project bar press scroll from source.\r\n3. you can see the jar file contains the class.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4BTbk.png","title":"Find a jar file given the class name?","body":"<p>in Intellij Idea</p>\n<ol>\n<li>on your class press <code>ctrl+B</code> and after that you can find the jar file.</li>\n<li>on project bar press scroll from source.</li>\n<li>you can see the jar file contains the class.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/4BTbk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4BTbk.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":30578,"reputation":5909,"user_id":83418,"accept_rate":93,"display_name":"Jeffrey Knight"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59247,"favorite_count":0,"down_vote_count":1,"up_vote_count":65,"accepted_answer_id":1500307,"answer_count":18,"score":64,"last_activity_date":1659881775,"creation_date":1254338475,"question_id":1500141,"body_markdown":"This must be a very basic question for Java developers, but what is the best way to find the appropriate &lt;b&gt;jar file&lt;/b&gt; given a &lt;b&gt;class name&lt;/b&gt;?\r\n\r\nFor example, given &quot;&lt;a href=&quot;http://publib.boulder.ibm.com/infocenter/wasinfo/v5r1//index.jsp?topic=/com.ibm.websphere.wbifz.doc/info/wbifz/javadoc/ae/com/ibm/websphere/security/auth/WSSubject.html&quot;&gt;com.ibm.websphere.security.auth.WSSubject&lt;/a&gt;&quot;, how do you track down the appropriate jar file? (&quot;google&quot; is not the answer I&#39;m looking for!)\r\n\r\nThe &lt;a href=&quot;http://publib.boulder.ibm.com/infocenter/wasinfo/v5r1//index.jsp?topic=/com.ibm.websphere.wbifz.doc/info/wbifz/javadoc/ae/com/ibm/websphere/security/auth/WSSubject.html&quot;&gt;java docs&lt;/a&gt; do not give any hint of the jar file, and obviously the names of the jar files themselves offer no clue.\r\n\r\nThere must be a &#39;search local jars&#39;, or some sort of &#39;auto-resolve dependencies&#39;, trick in the java world. Ideally, I&#39;m looking for the &#39;official&#39; way to do this. I happen to be on a windows machine without cygwin.","title":"Find a jar file given the class name?","body":"<p>This must be a very basic question for Java developers, but what is the best way to find the appropriate <b>jar file</b> given a <b>class name</b>?</p>\n\n<p>For example, given \"<a href=\"http://publib.boulder.ibm.com/infocenter/wasinfo/v5r1//index.jsp?topic=/com.ibm.websphere.wbifz.doc/info/wbifz/javadoc/ae/com/ibm/websphere/security/auth/WSSubject.html\" rel=\"noreferrer\">com.ibm.websphere.security.auth.WSSubject</a>\", how do you track down the appropriate jar file? (\"google\" is not the answer I'm looking for!)</p>\n\n<p>The <a href=\"http://publib.boulder.ibm.com/infocenter/wasinfo/v5r1//index.jsp?topic=/com.ibm.websphere.wbifz.doc/info/wbifz/javadoc/ae/com/ibm/websphere/security/auth/WSSubject.html\" rel=\"noreferrer\">java docs</a> do not give any hint of the jar file, and obviously the names of the jar files themselves offer no clue.</p>\n\n<p>There must be a 'search local jars', or some sort of 'auto-resolve dependencies', trick in the java world. Ideally, I'm looking for the 'official' way to do this. I happen to be on a windows machine without cygwin.</p>\n"},{"tags":["java","android","flutter"],"answers":[{"tags":[],"owner":{"account_id":20494579,"reputation":43,"user_id":15039879,"display_name":"Attila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659881465,"creation_date":1659881465,"answer_id":73268150,"question_id":73267979,"body_markdown":"I solved my problem this way:\r\n\r\nUnder ```&lt;activity``` you must add ```android:name=&quot;.MainActivity&quot;``` in your ```AndroidManifest.xml``` file ","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{flutter.project}","body":"<p>I solved my problem this way:</p>\n<p>Under <code>&lt;activity</code> you must add <code>android:name=&quot;.MainActivity&quot;</code> in your <code>AndroidManifest.xml</code> file</p>\n"}],"owner":{"account_id":20494579,"reputation":43,"user_id":15039879,"display_name":"Attila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659881465,"creation_date":1659880091,"question_id":73267979,"body_markdown":"\r\nI can run my app on iOS Simulator but not on Android Emulator.\r\n\r\n```\r\nE/AndroidRuntime(16430): FATAL EXCEPTION: main\r\nE/AndroidRuntime(16430): Process: com.fiyboz.sedil.sedil, PID: 16430\r\nE/AndroidRuntime(16430): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.fiyboz.sedil.sedil/android.app.Application}: \r\njava.lang.ClassCastException: android.app.Application cannot be cast to android.app.Activity\r\nE/AndroidRuntime(16430): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3737)\r\nE/AndroidRuntime(16430): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\r\nE/AndroidRuntime(16430): \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\nE/AndroidRuntime(16430): \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\nE/AndroidRuntime(16430): \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\nE/AndroidRuntime(16430): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\nE/AndroidRuntime(16430): \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\nE/AndroidRuntime(16430): \tat android.os.Looper.loop(Looper.java:246)\r\nE/AndroidRuntime(16430): \tat android.app.ActivityThread.main(ActivityThread.java:8653)\r\nE/AndroidRuntime(16430): \tat java.lang.reflect.Method.invoke(Native Method)\r\nE/AndroidRuntime(16430): \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\nE/AndroidRuntime(16430): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\nE/AndroidRuntime(16430): Caused by: java.lang.ClassCastException: android.app.Application cannot be cast to android.app.Activity\r\nE/AndroidRuntime(16430): \tat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\nE/AndroidRuntime(16430): \tat androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\nE/AndroidRuntime(16430): \tat android.app.Instrumentation.newActivity(Instrumentation.java:1253)\r\nE/AndroidRuntime(16430): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3725)\r\nE/AndroidRuntime(16430): \t... 11 more\r\n```\r\n\r\n\r\nWhen I want to run my app I&#39;m facing this error and I really don&#39;t know anything to do.","title":"java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{flutter.project}","body":"<p>I can run my app on iOS Simulator but not on Android Emulator.</p>\n<pre><code>E/AndroidRuntime(16430): FATAL EXCEPTION: main\nE/AndroidRuntime(16430): Process: com.fiyboz.sedil.sedil, PID: 16430\nE/AndroidRuntime(16430): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.fiyboz.sedil.sedil/android.app.Application}: \njava.lang.ClassCastException: android.app.Application cannot be cast to android.app.Activity\nE/AndroidRuntime(16430):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3737)\nE/AndroidRuntime(16430):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\nE/AndroidRuntime(16430):    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nE/AndroidRuntime(16430):    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nE/AndroidRuntime(16430):    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nE/AndroidRuntime(16430):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\nE/AndroidRuntime(16430):    at android.os.Handler.dispatchMessage(Handler.java:106)\nE/AndroidRuntime(16430):    at android.os.Looper.loop(Looper.java:246)\nE/AndroidRuntime(16430):    at android.app.ActivityThread.main(ActivityThread.java:8653)\nE/AndroidRuntime(16430):    at java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime(16430):    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nE/AndroidRuntime(16430):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\nE/AndroidRuntime(16430): Caused by: java.lang.ClassCastException: android.app.Application cannot be cast to android.app.Activity\nE/AndroidRuntime(16430):    at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\nE/AndroidRuntime(16430):    at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\nE/AndroidRuntime(16430):    at android.app.Instrumentation.newActivity(Instrumentation.java:1253)\nE/AndroidRuntime(16430):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3725)\nE/AndroidRuntime(16430):    ... 11 more\n</code></pre>\n<p>When I want to run my app I'm facing this error and I really don't know anything to do.</p>\n"},{"tags":["java","spring","spring-boot","eclipse","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1216473,"reputation":449,"user_id":1183972,"accept_rate":94,"display_name":"Alberto Mart&#237;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659881364,"creation_date":1659881364,"answer_id":73268134,"question_id":73263571,"body_markdown":"Just in case someone finds it useful the solution I&#39;ve ended up applying in this case, I&#39;ll leave it here.\r\n\r\nSince neither Eclipse nor Maven &#39;clean&#39; functionalities do clean the &#39;garbage&#39; files which cause these errors, these are the steps I&#39;ve taken to solve it:\r\n\r\nSearch the paths where the [garbage] files causing the problem could possibly be.\r\n\r\nGiven my set-up (linux machine, STS/Eclipse, Maven...) they were in the paths:\r\n        \r\n        $HOME/project-path/target/classes/path-to-mappers/ -&gt; files.class, files.java\r\n        $HOME/project-path/.apt-generated/path-to-mappers/ -&gt; files.class, files.java (These files are hidden; won&#39;t be found in a &#39;regular&#39; files search)\r\n\r\nIn case of different set-ups, just adapt these paths/folders to perform the search.\r\n\r\nAnd delete them manually - All of them are derived/cached files, so there&#39;s no risk to delete something which won&#39;t be regenerated with a simple Maven&#39;s Update Project.\r\n\r\nAnd that&#39;s all. Run Maven Update Project and everything will work perfectly again and errors will be gone.","title":"SpringBoot - STS/Eclipse marks MapStruct mapper implementation with the error &#39;The type X is already defined&#39;","body":"<p>Just in case someone finds it useful the solution I've ended up applying in this case, I'll leave it here.</p>\n<p>Since neither Eclipse nor Maven 'clean' functionalities do clean the 'garbage' files which cause these errors, these are the steps I've taken to solve it:</p>\n<p>Search the paths where the [garbage] files causing the problem could possibly be.</p>\n<p>Given my set-up (linux machine, STS/Eclipse, Maven...) they were in the paths:</p>\n<pre><code>    $HOME/project-path/target/classes/path-to-mappers/ -&gt; files.class, files.java\n    $HOME/project-path/.apt-generated/path-to-mappers/ -&gt; files.class, files.java (These files are hidden; won't be found in a 'regular' files search)\n</code></pre>\n<p>In case of different set-ups, just adapt these paths/folders to perform the search.</p>\n<p>And delete them manually - All of them are derived/cached files, so there's no risk to delete something which won't be regenerated with a simple Maven's Update Project.</p>\n<p>And that's all. Run Maven Update Project and everything will work perfectly again and errors will be gone.</p>\n"}],"owner":{"account_id":1216473,"reputation":449,"user_id":1183972,"accept_rate":94,"display_name":"Alberto Mart&#237;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659881364,"creation_date":1659823662,"question_id":73263571,"body_markdown":"STS v. 4.14.1.RELEASE\r\n\r\nJava v. 11\r\n\r\nSpring Boot v. 2.6.7\r\n\r\nMapStruct v. 1.5.1\r\n\r\nI&#39;m testing MapStruct functionalities and I&#39;ve found myself in a very frustrating yet apparently basic problem which I&#39;m not being able to solve for some hours now.\r\n\r\nOnce added the MapStruct dependencies and plugin to the project as supposed:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;org.mapstruct.version&gt;1.5.1.Final&lt;/org.mapstruct.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n            \r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;3.8.0&lt;/version&gt;\r\n         &lt;configuration&gt;\r\n             &lt;annotationProcessorPaths&gt;\r\n                 &lt;path&gt;\r\n                     &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                     &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                 &lt;/path&gt;\r\n                 &lt;path&gt;\r\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                     &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                 &lt;/path&gt;\r\n                 &lt;dependency&gt;\r\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                     &lt;version&gt;0.2.0&lt;/version&gt;\r\n                 &lt;/dependency&gt;\r\n             &lt;/annotationProcessorPaths&gt;\r\n             &lt;compilerArgs&gt;\r\n                 &lt;compilerArg&gt;\r\n                     -Amapstruct.defaultComponentModel=spring\r\n                 &lt;/compilerArg&gt;\r\n             &lt;/compilerArgs&gt;\r\n         &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n\r\n\r\nMapStruct is supposed to auto generate the MapperImpl in the same package where the mapper interface is implemented, under the root folder &#39;target/generated-sources/annotations&#39; and it does it perfectly.\r\n\r\nThe problem is STS/Eclipse marks the generated MapperImpl class with an error &#39;**The type XMapperImpl is already defined**&#39;.\r\n\r\nI&#39;ve search everywhere in the project - both mine and auto-generated classes - and there is not such another class with the same name - actually it is the only mapper interface in the whole project-, so I don&#39;t understand how can it be already defined.\r\n\r\nI&#39;ve also cleaned the project several times, re-built it... Anything I can think of in order to clean whatever could be interfering with this class and every time the project generates the XMapperImpl, STS marks it with the same error.\r\n\r\nAt this point I am wondering whether there is something I might be overlooking or perhaps some bug in the STS/Eclipse?\r\n\r\nUpdate:\r\nI&#39;m pretty sure it has to be some kind of cache, because even if I delete the source file of the mapper, when updating the Maven project, the mapper implementation keeps on appearing in the auto-generated files. I still don&#39;t understand where it is being cached though.","title":"SpringBoot - STS/Eclipse marks MapStruct mapper implementation with the error &#39;The type X is already defined&#39;","body":"<p>STS v. 4.14.1.RELEASE</p>\n<p>Java v. 11</p>\n<p>Spring Boot v. 2.6.7</p>\n<p>MapStruct v. 1.5.1</p>\n<p>I'm testing MapStruct functionalities and I've found myself in a very frustrating yet apparently basic problem which I'm not being able to solve for some hours now.</p>\n<p>Once added the MapStruct dependencies and plugin to the project as supposed:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;org.mapstruct.version&gt;1.5.1.Final&lt;/org.mapstruct.version&gt;\n&lt;/properties&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n        \n&lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n     &lt;version&gt;3.8.0&lt;/version&gt;\n     &lt;configuration&gt;\n         &lt;annotationProcessorPaths&gt;\n             &lt;path&gt;\n                 &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                 &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                 &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n             &lt;/path&gt;\n             &lt;path&gt;\n                 &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                 &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                 &lt;version&gt;${lombok.version}&lt;/version&gt;\n             &lt;/path&gt;\n             &lt;dependency&gt;\n                 &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                 &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                 &lt;version&gt;0.2.0&lt;/version&gt;\n             &lt;/dependency&gt;\n         &lt;/annotationProcessorPaths&gt;\n         &lt;compilerArgs&gt;\n             &lt;compilerArg&gt;\n                 -Amapstruct.defaultComponentModel=spring\n             &lt;/compilerArg&gt;\n         &lt;/compilerArgs&gt;\n     &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n<p>MapStruct is supposed to auto generate the MapperImpl in the same package where the mapper interface is implemented, under the root folder 'target/generated-sources/annotations' and it does it perfectly.</p>\n<p>The problem is STS/Eclipse marks the generated MapperImpl class with an error '<strong>The type XMapperImpl is already defined</strong>'.</p>\n<p>I've search everywhere in the project - both mine and auto-generated classes - and there is not such another class with the same name - actually it is the only mapper interface in the whole project-, so I don't understand how can it be already defined.</p>\n<p>I've also cleaned the project several times, re-built it... Anything I can think of in order to clean whatever could be interfering with this class and every time the project generates the XMapperImpl, STS marks it with the same error.</p>\n<p>At this point I am wondering whether there is something I might be overlooking or perhaps some bug in the STS/Eclipse?</p>\n<p>Update:\nI'm pretty sure it has to be some kind of cache, because even if I delete the source file of the mapper, when updating the Maven project, the mapper implementation keeps on appearing in the auto-generated files. I still don't understand where it is being cached though.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1659882559,"post_id":73268074,"comment_id":129395571,"body_markdown":"you need to post the complete error call stack","body":"you need to post the complete error call stack"},{"owner":{"account_id":26000814,"reputation":1,"user_id":19711387,"display_name":"Diller Silva"},"score":0,"creation_date":1659894872,"post_id":73268074,"comment_id":129398255,"body_markdown":"serializer error- the server application does not recognize the request pattern.","body":"serializer error- the server application does not recognize the request pattern."}],"owner":{"account_id":26000814,"reputation":1,"user_id":19711387,"display_name":"Diller Silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659880919,"creation_date":1659880919,"question_id":73268074,"body_markdown":"I have a java application that consumes resources from another java application.\r\nAll calls work with the exception of one that uploads files.\r\nI have received a serialization error.\r\nHere is the code for the two applications.\r\n\r\nClient\r\n\r\n````\r\n@Override\r\npublic String uploadchamado(MultipartFile attachment) throws IOException {\r\n\r\n    class Filecall {\r\n\r\n        private MultipartFile arquivo;\r\n        private String descricao;\r\n        public MultipartFile getArquivo() {\r\n            return arquivo;\r\n        }\r\n        public void setArquivo(MultipartFile arquivo) {\r\n            this.arquivo = arquivo;\r\n        }\r\n        public String getDescricao() {\r\n            return descricao;\r\n        }\r\n        public void setDescricao(String descricao) {\r\n            this.descricao = descricao;\r\n        }\r\n    }\r\n\r\nCallUser callUser = getToken();\r\n\r\nFilecall myFile = new Filecall();\r\nmyFile.setArquivo(attachment);\r\nmyFile.setDescricao(&quot;teste&quot;);\r\n\r\nHttpHeaders hds = getHeaders(callUser.getAccess_token());\r\nhds.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n        hds.add(&quot;Cookie&quot;, atendimentoToken);\r\n\r\nHttpEntity&lt;Filecall&gt; headers = new HttpEntity&lt;&gt;(myFile,hds);\r\n\r\nResponseEntity&lt;CallAttachamentDTO&gt; response = new RestTemplate().exchange(\r\n    atendimentoApiurl + &quot;atividades-chamado/anexos&quot; , HttpMethod.POST, headers, \r\n    CallAttachamentDTO.class);\r\n   \r\nreturn &quot;Concluido&quot;;\r\n}\r\n````\r\n\r\nServer Applicatio\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class AnexoAtividadeChamadoInput {\r\n\r\n    @NotNull\r\n    @FileSize(max = &quot;100MB&quot;, message = &quot;file-size-100MB&quot;)\r\n    private MultipartFile arquivo;\r\n\r\n    private String descricao;\r\n}\r\n```\r\n```\r\n    @PostMapping(path = &quot;/anexos&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ROLE_PESQUISAR_CHAMADO&#39;) or hasAuthority(&#39;ROLE_CLIENTE_EXTERNO_INTERAGIR_CHAMADO&#39;)&quot;)\r\n    public Anexo uploadAnexos(@Valid AnexoAtividadeChamadoInput anexoInput) throws IOException {\r\n             return atividadeChamadoService.enviarAnexoParaAmazon(anexoInput);\r\n    }","title":"error calling api rest between two java applications","body":"<p>I have a java application that consumes resources from another java application.\nAll calls work with the exception of one that uploads files.\nI have received a serialization error.\nHere is the code for the two applications.</p>\n<p>Client</p>\n<pre><code>@Override\npublic String uploadchamado(MultipartFile attachment) throws IOException {\n\n    class Filecall {\n\n        private MultipartFile arquivo;\n        private String descricao;\n        public MultipartFile getArquivo() {\n            return arquivo;\n        }\n        public void setArquivo(MultipartFile arquivo) {\n            this.arquivo = arquivo;\n        }\n        public String getDescricao() {\n            return descricao;\n        }\n        public void setDescricao(String descricao) {\n            this.descricao = descricao;\n        }\n    }\n\nCallUser callUser = getToken();\n\nFilecall myFile = new Filecall();\nmyFile.setArquivo(attachment);\nmyFile.setDescricao(&quot;teste&quot;);\n\nHttpHeaders hds = getHeaders(callUser.getAccess_token());\nhds.setContentType(MediaType.MULTIPART_FORM_DATA);\n        hds.add(&quot;Cookie&quot;, atendimentoToken);\n\nHttpEntity&lt;Filecall&gt; headers = new HttpEntity&lt;&gt;(myFile,hds);\n\nResponseEntity&lt;CallAttachamentDTO&gt; response = new RestTemplate().exchange(\n    atendimentoApiurl + &quot;atividades-chamado/anexos&quot; , HttpMethod.POST, headers, \n    CallAttachamentDTO.class);\n   \nreturn &quot;Concluido&quot;;\n}\n</code></pre>\n<p>Server Applicatio</p>\n<pre><code>@Getter\n@Setter\npublic class AnexoAtividadeChamadoInput {\n\n    @NotNull\n    @FileSize(max = &quot;100MB&quot;, message = &quot;file-size-100MB&quot;)\n    private MultipartFile arquivo;\n\n    private String descricao;\n}\n</code></pre>\n<pre><code>    @PostMapping(path = &quot;/anexos&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    @PreAuthorize(&quot;hasAuthority('ROLE_PESQUISAR_CHAMADO') or hasAuthority('ROLE_CLIENTE_EXTERNO_INTERAGIR_CHAMADO')&quot;)\n    public Anexo uploadAnexos(@Valid AnexoAtividadeChamadoInput anexoInput) throws IOException {\n             return atividadeChamadoService.enviarAnexoParaAmazon(anexoInput);\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","unique-constraint"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1659884051,"post_id":73267137,"comment_id":129395877,"body_markdown":"I think the only way to do it is by using indexes. Which database are you using?","body":"I think the only way to do it is by using indexes. Which database are you using?"},{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1659884959,"post_id":73267137,"comment_id":129396059,"body_markdown":"Alright. Right now I am using `Oracle-XE 11`","body":"Alright. Right now I am using <code>Oracle-XE 11</code>"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":1,"creation_date":1659885905,"post_id":73267137,"comment_id":129396281,"body_markdown":"See https://stackoverflow.com/questions/10317774/conditional-unique-constraint-in-oracle-db","body":"See <a href=\"https://stackoverflow.com/questions/10317774/conditional-unique-constraint-in-oracle-db\" title=\"conditional unique constraint in oracle db\">stackoverflow.com/questions/10317774/&hellip;</a>"}],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659880832,"creation_date":1659872805,"question_id":73267137,"body_markdown":"Let&#39;s say I have an entity Person:\r\n\r\n```java\r\n@Entity\r\npublic class Person {\r\n    @Column(name = &quot;civic_no&quot;)\r\n    private String civicNo;\r\n\r\n    @Column(name = &quot;is_active&quot;)\r\n    private boolean isActive;\r\n}\r\n\r\n```\r\n\r\nHere, I need a constraint that ensures the `civic_no` is unique if and only if it is **active**. However, if **not active**, there can be more than one unique `civic_no` without any problem.\r\n\r\nOne way to achieve this would be to add a constraint at the top that ensures a pair of `civic_no` and `is_active` is unique:\r\n```java\r\n@Table(uniqueConstraints = { @UniqueConstraint(name = &quot;UniqueCivicNoIfActive&quot;, columnNames = { &quot;civic_no&quot;, &quot;is_active&quot; }) })\r\n```\r\n\r\nHowever there is a problem with this. Consider I have a person with the `civic_no` =  `555`, then all the below three pairs of entries must be allowed to exist in the database:\r\n```\r\n1. 555 - true\r\n2. 555 - false\r\n3. 555 - false\r\n```\r\n\r\nHere, since the entries `2` and `3` are both `inactive` it doesn&#39;t matter if the civic number is unique or not, so both of those entries must be allowed. But if I use above constraint, `2` and `3` will not be allowed to co-exist. How can I solve this problem?","title":"How to define a custom unique constraint when the entity is &quot;Active&quot;?","body":"<p>Let's say I have an entity Person:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Person {\n    @Column(name = &quot;civic_no&quot;)\n    private String civicNo;\n\n    @Column(name = &quot;is_active&quot;)\n    private boolean isActive;\n}\n\n</code></pre>\n<p>Here, I need a constraint that ensures the <code>civic_no</code> is unique if and only if it is <strong>active</strong>. However, if <strong>not active</strong>, there can be more than one unique <code>civic_no</code> without any problem.</p>\n<p>One way to achieve this would be to add a constraint at the top that ensures a pair of <code>civic_no</code> and <code>is_active</code> is unique:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(uniqueConstraints = { @UniqueConstraint(name = &quot;UniqueCivicNoIfActive&quot;, columnNames = { &quot;civic_no&quot;, &quot;is_active&quot; }) })\n</code></pre>\n<p>However there is a problem with this. Consider I have a person with the <code>civic_no</code> =  <code>555</code>, then all the below three pairs of entries must be allowed to exist in the database:</p>\n<pre><code>1. 555 - true\n2. 555 - false\n3. 555 - false\n</code></pre>\n<p>Here, since the entries <code>2</code> and <code>3</code> are both <code>inactive</code> it doesn't matter if the civic number is unique or not, so both of those entries must be allowed. But if I use above constraint, <code>2</code> and <code>3</code> will not be allowed to co-exist. How can I solve this problem?</p>\n"},{"tags":["java","spring","hibernate","jpa","type-conversion"],"comments":[{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":0,"creation_date":1658926811,"post_id":73138299,"comment_id":129173050,"body_markdown":"Is your mysql server running?","body":"Is your mysql server running?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1658926914,"post_id":73138299,"comment_id":129173090,"body_markdown":"You are missing part of the exception. Actually the important part is missing. Not sure if `CreditCardNumberConverter` must be a managed bean though. That might be something that the exception would tell","body":"You are missing part of the exception. Actually the important part is missing. Not sure if <code>CreditCardNumberConverter</code> must be a managed bean though. That might be something that the exception would tell"},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1658926995,"post_id":73138299,"comment_id":129173116,"body_markdown":"Yes it is running. If I remove @Convert annotation, application is also deploying successfully. But when i add that annotation am getting exception.\nIn logs am getting that exception only. How to make it as managed bean?","body":"Yes it is running. If I remove @Convert annotation, application is also deploying successfully. But when i add that annotation am getting exception. In logs am getting that exception only. How to make it as managed bean?"},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1658988512,"post_id":73138299,"comment_id":129189472,"body_markdown":"I checked by running test case i got below exception.\nCould not determine type for: BasicType adapter for AttributeConverter&lt;String,String&gt;, at table: audit_CUSTOMERS, for columns: [org.hibernate.mapping.Column(FIRST_NAME)]","body":"I checked by running test case i got below exception. Could not determine type for: BasicType adapter for AttributeConverter&lt;String,String&gt;, at table: audit_CUSTOMERS, for columns: [org.hibernate.mapping.Column(FIRST_NAME)]"}],"answers":[{"tags":[],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659880358,"creation_date":1659880358,"answer_id":73268004,"question_id":73138299,"body_markdown":"This issue is coming for audited entity classes, This is existing bug in hibernate.\r\nAlternatively we can use @Type for this kind of scenarios.","title":"Getting Bean creation exception when used @convert","body":"<p>This issue is coming for audited entity classes, This is existing bug in hibernate.\nAlternatively we can use @Type for this kind of scenarios.</p>\n"}],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73268004,"answer_count":1,"score":0,"last_activity_date":1659880358,"creation_date":1658926343,"question_id":73138299,"body_markdown":"In my code I need a functionality to encrypt data before saving into database and decrypt after retrieving. I tried using @Convert. But when i use that i am getting bean creation exception like below.\r\n\r\n```\r\nWARN  Bean creation exception on non-lazy FactoryBean type check: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customerContactNumbersDao&#39; defined in URL [file:/C:/Users/Praveen/.jrebel/cache/com.yanasoftware.ig.commons.flights-dao/deployment/META-INF/spring/garuda-dao.xml]: Cannot create inner bean &#39;abstractFlightsDaoTarget$child#30674e63&#39; of type [com.yanasoftware.flightsdao.dao.impl.GenericDaoImpl] while setting bean property &#39;target&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;abstractFlightsDaoTarget$child#30674e63&#39;: Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flightsEntityManagerFactory&#39; defined in URL [file:/C:/Users/Praveen/.jrebel/cache/com.yanasoftware.ig.commons.flights-dao/deployment/META-INF/spring/garuda-jpa.xml]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: flights] Unable to build Hibernate SessionFactory\r\n```\r\n\r\nDo I have to configure attributeconverter separately or if i use `@Converter` annotation is sufficient?\r\n\r\n```\r\nimport org.apache.log4j.Logger;\r\n\r\nimport javax.persistence.AttributeConverter;\r\nimport javax.persistence.Converter;\r\n\r\n@Converter\r\npublic class CreditCardNumberConverter implements AttributeConverter&lt;String, String&gt; {\r\n    Logger LOGGER =Logger.getLogger(CreditCardNumberConverter.class);\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(String s) {\r\n        String value = CryptoLibrary.encrypt(s);\r\n        LOGGER.info(&quot;######### saving value first name : &quot; + value);\r\n        return  value;\r\n    }\r\n\r\n    @Override\r\n    public String convertToEntityAttribute(String s) {\r\n        String value = CryptoLibrary.decrypt(s);\r\n        LOGGER.info(&quot;######### getting value first name : &quot; + value);\r\n        return value;\r\n    }\r\n}\r\n```\r\nAnd in Dto class i have used following code.\r\n```\r\n@Convert(converter = CreditCardNumberConverter.class)\r\n    @Column(name = &quot;FIRST_NAME&quot;)\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n```\r\nHibernate version 4.3.8 and jpa 2.1\r\nCan you please tell me how to resolve the issue.\r\n\r\n","title":"Getting Bean creation exception when used @convert","body":"<p>In my code I need a functionality to encrypt data before saving into database and decrypt after retrieving. I tried using @Convert. But when i use that i am getting bean creation exception like below.</p>\n<pre><code>WARN  Bean creation exception on non-lazy FactoryBean type check: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customerContactNumbersDao' defined in URL [file:/C:/Users/Praveen/.jrebel/cache/com.yanasoftware.ig.commons.flights-dao/deployment/META-INF/spring/garuda-dao.xml]: Cannot create inner bean 'abstractFlightsDaoTarget$child#30674e63' of type [com.yanasoftware.flightsdao.dao.impl.GenericDaoImpl] while setting bean property 'target'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'abstractFlightsDaoTarget$child#30674e63': Injection of persistence dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flightsEntityManagerFactory' defined in URL [file:/C:/Users/Praveen/.jrebel/cache/com.yanasoftware.ig.commons.flights-dao/deployment/META-INF/spring/garuda-jpa.xml]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: flights] Unable to build Hibernate SessionFactory\n</code></pre>\n<p>Do I have to configure attributeconverter separately or if i use <code>@Converter</code> annotation is sufficient?</p>\n<pre><code>import org.apache.log4j.Logger;\n\nimport javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter\npublic class CreditCardNumberConverter implements AttributeConverter&lt;String, String&gt; {\n    Logger LOGGER =Logger.getLogger(CreditCardNumberConverter.class);\n\n    @Override\n    public String convertToDatabaseColumn(String s) {\n        String value = CryptoLibrary.encrypt(s);\n        LOGGER.info(&quot;######### saving value first name : &quot; + value);\n        return  value;\n    }\n\n    @Override\n    public String convertToEntityAttribute(String s) {\n        String value = CryptoLibrary.decrypt(s);\n        LOGGER.info(&quot;######### getting value first name : &quot; + value);\n        return value;\n    }\n}\n</code></pre>\n<p>And in Dto class i have used following code.</p>\n<pre><code>@Convert(converter = CreditCardNumberConverter.class)\n    @Column(name = &quot;FIRST_NAME&quot;)\n    public String getFirstName() {\n        return firstName;\n    }\n</code></pre>\n<p>Hibernate version 4.3.8 and jpa 2.1\nCan you please tell me how to resolve the issue.</p>\n"},{"tags":["java","arrays","file","sorting","multidimensional-array"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1659836082,"post_id":73264331,"comment_id":129388844,"body_markdown":"One way to look at this is to start with a simpler problem.  For example a simple list like `21, 33, 10, 51, 51` how would you print &quot;yes&quot; for this list because it has two identical numbers in a row, and &quot;no&quot; if the second 51 was a 52 instead?","body":"One way to look at this is to start with a simpler problem.  For example a simple list like <code>21, 33, 10, 51, 51</code> how would you print &quot;yes&quot; for this list because it has two identical numbers in a row, and &quot;no&quot; if the second 51 was a 52 instead?"},{"owner":{"account_id":14373743,"reputation":39,"user_id":10382742,"display_name":"Skyhigh"},"score":0,"creation_date":1659836227,"post_id":73264331,"comment_id":129388856,"body_markdown":"compare each element to the right , + 1","body":"compare each element to the right , + 1"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1659836249,"post_id":73264331,"comment_id":129388858,"body_markdown":"Well, write a loop that does that.  Does it work?","body":"Well, write a loop that does that.  Does it work?"},{"owner":{"account_id":14373743,"reputation":39,"user_id":10382742,"display_name":"Skyhigh"},"score":0,"creation_date":1659836337,"post_id":73264331,"comment_id":129388864,"body_markdown":"it doesn&#39;t, that&#39;s the prob there. I have written so many loops today just for this problem but none of which works. No matter how, where or what values I increment by, -1 , +1 or such, I would normally get an outofBond exception. I was wondering if there was an alternative solution to this. I just want the logic, I don&#39;t even want the actual code.","body":"it doesn&#39;t, that&#39;s the prob there. I have written so many loops today just for this problem but none of which works. No matter how, where or what values I increment by, -1 , +1 or such, I would normally get an outofBond exception. I was wondering if there was an alternative solution to this. I just want the logic, I don&#39;t even want the actual code."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1659836382,"post_id":73264331,"comment_id":129388867,"body_markdown":"Show us the loop that you tried for just a single row like this.  What test data does it not work for?  Why?","body":"Show us the loop that you tried for just a single row like this.  What test data does it not work for?  Why?"},{"owner":{"account_id":14373743,"reputation":39,"user_id":10382742,"display_name":"Skyhigh"},"score":0,"creation_date":1659836422,"post_id":73264331,"comment_id":129388871,"body_markdown":"I believe that while loop I posted above worked before but when I invoked the method to main and pass it on to another method, all prints yes for whatever reasons.","body":"I believe that while loop I posted above worked before but when I invoked the method to main and pass it on to another method, all prints yes for whatever reasons."},{"owner":{"account_id":14373743,"reputation":39,"user_id":10382742,"display_name":"Skyhigh"},"score":0,"creation_date":1659836447,"post_id":73264331,"comment_id":129388874,"body_markdown":"the while loop I posted.","body":"the while loop I posted."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1659836462,"post_id":73264331,"comment_id":129388876,"body_markdown":"`I would normally get an outofBond exception` Just noticed this, this is often caused by going all the way to the end of the array or list.  You want to stop at the second to the last element, so that your +1 checks the final element and stops there.","body":"<code>I would normally get an outofBond exception</code> Just noticed this, this is often caused by going all the way to the end of the array or list.  You want to stop at the second to the last element, so that your +1 checks the final element and stops there."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1659836552,"post_id":73264331,"comment_id":129388889,"body_markdown":"Yeah that `while` goes too far.  You go all the way to `array.length` but then +1 goes past the end of the array.  You want `array.length-1`.","body":"Yeah that <code>while</code> goes too far.  You go all the way to <code>array.length</code> but then +1 goes past the end of the array.  You want <code>array.length-1</code>."},{"owner":{"account_id":14373743,"reputation":39,"user_id":10382742,"display_name":"Skyhigh"},"score":0,"creation_date":1659836554,"post_id":73264331,"comment_id":129388890,"body_markdown":"i tried +1 -1 starts 0, starts j+ 1, array.length[i] , literally nothing works and I had browsed stackoverflow before posting this question. I deleted some code because I would get confused in the long run. I just tried -1 on the while loop as you said but that doesn&#39;t print anything on the screen.","body":"i tried +1 -1 starts 0, starts j+ 1, array.length[i] , literally nothing works and I had browsed stackoverflow before posting this question. I deleted some code because I would get confused in the long run. I just tried -1 on the while loop as you said but that doesn&#39;t print anything on the screen."},{"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"score":0,"creation_date":1659860505,"post_id":73264331,"comment_id":129391491,"body_markdown":"@Skyhigh Apart from the `IndexOutOfBoundsException` did any of the print statements inside the inner loops ever print out for you? Has &quot;founded&quot; ever print out for you? If the answer is no, can you post the code where you are setting up the array that you are using as the input (I know the numbers, I want to see how do you set it up in the code)?","body":"@Skyhigh Apart from the <code>IndexOutOfBoundsException</code> did any of the print statements inside the inner loops ever print out for you? Has &quot;founded&quot; ever print out for you? If the answer is no, can you post the code where you are setting up the array that you are using as the input (I know the numbers, I want to see how do you set it up in the code)?"}],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659865855,"creation_date":1659864563,"answer_id":73266314,"question_id":73264331,"body_markdown":"&gt; Basically, here is my set of data (I made them up for testing) that I am supposed to validate.\r\n&gt; For example, the second row has 35 (right next to each other) so I am supposed to print yes.\r\n&gt; Same goes for the fifth row, I am also supposed to print &#39;yes&#39; because it has 51 twice.\r\n&gt; It&#39;s not supposed to print yes for the first row, although it has 23 twice\r\n\r\nSo you are saying that you are supposed to check each row and you also mention that you want a method that returns `true`/`false`.\r\n\r\nThis means that you want to have a method that only accepts a single row as a parameter,\r\niterates over it, checks for the condition and returns true or false based on the result.\r\n\r\nSo the method signature would be something like this\r\n\r\n```java\r\n/**\r\n * Checks if the row contains a repeating value at adjacent indices.\r\n *\r\n * @param row the row to check\r\n * @return &lt;code&gt;true&lt;/code&gt; if the row contains a repeating value at adjacent indices,\r\n *         &lt;code&gt;false&lt;/code&gt; otherwise\r\n */\r\npublic static boolean rowContainsAdjacentDuplicates(int[] row) {\r\n    // TODO: implement the logic\r\n    return false;\r\n}\r\n```\r\n\r\nIn the above method you would only be focusing on finding a duplicate adjacent value inside a normal\r\none-dimensional array, as opposed to inside a 2D array. As you already suggested, iterating over\r\nthe array and comparing the current and the previous (or the next) element value is a way to go.\r\nEither way, you have to make sure to not go out of bounds.\r\n\r\nAs far as returning true/false there are a few ways you could go about that\r\n\r\n1. return true as soon as you find adjacent duplicates and return false at the end of this method\r\n2. have a boolean variable starting as false and set it to true when you find adjacent duplicates\r\n   and return the boolean variable at the end of this method\r\n\r\nThe approach #2 is wasteful, because it keeps iterating even after it already knows the result\r\nis `true`. However, approach #2 would be valid if you had to check (or count) all occurrences\r\ninstead of just the first one. That&#39;s why I am mentioning it here.\r\n\r\nThen the method that would be calling the above method, would be just iterating over the 2D array,\r\nmaking sure that the above method is called for each row in the array. It would also be checking the\r\nreturn value and based on it (`true`/`false`) it would decide whether to print the message or not.\r\n\r\nSo the method signature would be something like this\r\n\r\n```java\r\n/**\r\n * Prints the row index? followed by &quot;Yes&quot; for each row containing\r\n * a repeating value at adjacent indices.\r\n *\r\n * @param array the array to validate\r\n */\r\npublic static void validate(int[][] array) {\r\n    // TODO: iterate over the array and for each row\r\n        // call rowContainsAdjacentDuplicates for the current row\r\n        // if the returned value is true\r\n            // print something that fits the documentation\r\n        // else\r\n            // just ignore for rows where false is returned?\r\n}\r\n```\r\n\r\nI outlined the logic in the comments above, but the logic basically fits what you were already doing\r\nin your previous attempts. What is different now, is that the problem is split into 2 parts so it\r\nwill be easier to reason about and it is less error prone, because you won&#39;t be using indices in the\r\nsame scope across 3 for/while loops. This is the reason why your while attempt that tries to print &quot;founded&quot; is not working, because the index `i` is not reset for each row iteration. Reset that `i` to zero at the start of the `for` loop and voila!\r\n\r\nIf you run into difficulties implementing either of the above methods, let me know in the comments and I will gladly help.\r\n\r\nTwo things that can help going forward:\r\n1. When problem solving, try to split the problem into smaller parts that you can solve\r\n   separately (sometimes even in isolation) then combine the solutions into the solution of your\r\n   original problem\r\n2. if you are writing code inside an IDE, they have amazing support for step by step debugging.\r\n   You place some breakpoints in your code and press Debug instead or Run. When the debugger stops\r\n   at a breakpoint, you can step through the code and check values inside variables/arrays/classes etc.\r\n   (you can step by step debug also if you are not using an IDE, but it is a bit trickier to set it up)\r\n","title":"How to find adjacent in a 2D array, after finding return its value","body":"<blockquote>\n<p>Basically, here is my set of data (I made them up for testing) that I am supposed to validate.\nFor example, the second row has 35 (right next to each other) so I am supposed to print yes.\nSame goes for the fifth row, I am also supposed to print 'yes' because it has 51 twice.\nIt's not supposed to print yes for the first row, although it has 23 twice</p>\n</blockquote>\n<p>So you are saying that you are supposed to check each row and you also mention that you want a method that returns <code>true</code>/<code>false</code>.</p>\n<p>This means that you want to have a method that only accepts a single row as a parameter,\niterates over it, checks for the condition and returns true or false based on the result.</p>\n<p>So the method signature would be something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Checks if the row contains a repeating value at adjacent indices.\n *\n * @param row the row to check\n * @return &lt;code&gt;true&lt;/code&gt; if the row contains a repeating value at adjacent indices,\n *         &lt;code&gt;false&lt;/code&gt; otherwise\n */\npublic static boolean rowContainsAdjacentDuplicates(int[] row) {\n    // TODO: implement the logic\n    return false;\n}\n</code></pre>\n<p>In the above method you would only be focusing on finding a duplicate adjacent value inside a normal\none-dimensional array, as opposed to inside a 2D array. As you already suggested, iterating over\nthe array and comparing the current and the previous (or the next) element value is a way to go.\nEither way, you have to make sure to not go out of bounds.</p>\n<p>As far as returning true/false there are a few ways you could go about that</p>\n<ol>\n<li>return true as soon as you find adjacent duplicates and return false at the end of this method</li>\n<li>have a boolean variable starting as false and set it to true when you find adjacent duplicates\nand return the boolean variable at the end of this method</li>\n</ol>\n<p>The approach #2 is wasteful, because it keeps iterating even after it already knows the result\nis <code>true</code>. However, approach #2 would be valid if you had to check (or count) all occurrences\ninstead of just the first one. That's why I am mentioning it here.</p>\n<p>Then the method that would be calling the above method, would be just iterating over the 2D array,\nmaking sure that the above method is called for each row in the array. It would also be checking the\nreturn value and based on it (<code>true</code>/<code>false</code>) it would decide whether to print the message or not.</p>\n<p>So the method signature would be something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Prints the row index? followed by &quot;Yes&quot; for each row containing\n * a repeating value at adjacent indices.\n *\n * @param array the array to validate\n */\npublic static void validate(int[][] array) {\n    // TODO: iterate over the array and for each row\n        // call rowContainsAdjacentDuplicates for the current row\n        // if the returned value is true\n            // print something that fits the documentation\n        // else\n            // just ignore for rows where false is returned?\n}\n</code></pre>\n<p>I outlined the logic in the comments above, but the logic basically fits what you were already doing\nin your previous attempts. What is different now, is that the problem is split into 2 parts so it\nwill be easier to reason about and it is less error prone, because you won't be using indices in the\nsame scope across 3 for/while loops. This is the reason why your while attempt that tries to print &quot;founded&quot; is not working, because the index <code>i</code> is not reset for each row iteration. Reset that <code>i</code> to zero at the start of the <code>for</code> loop and voila!</p>\n<p>If you run into difficulties implementing either of the above methods, let me know in the comments and I will gladly help.</p>\n<p>Two things that can help going forward:</p>\n<ol>\n<li>When problem solving, try to split the problem into smaller parts that you can solve\nseparately (sometimes even in isolation) then combine the solutions into the solution of your\noriginal problem</li>\n<li>if you are writing code inside an IDE, they have amazing support for step by step debugging.\nYou place some breakpoints in your code and press Debug instead or Run. When the debugger stops\nat a breakpoint, you can step through the code and check values inside variables/arrays/classes etc.\n(you can step by step debug also if you are not using an IDE, but it is a bit trickier to set it up)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23946271,"reputation":69,"user_id":17938577,"display_name":"DAHUANGGO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659866659,"creation_date":1659866659,"answer_id":73266541,"question_id":73264331,"body_markdown":"I tried it, according to your idea, your definition of i may be wrong.\r\n\r\n     public static void validation(int[][] array) {\r\n       System.out.println();\r\n       int i = 0;\r\n       for (int[] element : array) {\r\n        while (i &lt; array.length) {\r\n            //In this place, i will not become 0 to continue the recursion\r\n            if (i &gt; 0) {\r\n                /**\r\n                 * Exit this loop when it is equal to 5, but you are defining a two- \r\n                 * dimensional array,\r\n                 * and in the second loop, you must re-loop the second one- \r\n                 *dimensional array with 0 as the index\r\n                 */\r\n                if (element[i] == element[(i - 1)]) {\r\n                    System.out.println(&quot;founded&quot;);\r\n                }\r\n             }\r\n            i++;\r\n          }\r\n       }\r\n    }\r\nYou just need to change the defined position of i to print successfully.\r\n\r\n    public static void validation(int[][] array) {\r\n        System.out.println();\r\n\r\n        for (int[] element : array) {\r\n            //i-&gt;position\r\n            int i = 0;\r\n            while (i &lt; array.length) {\r\n                if (i &gt; 0) {\r\n                    if (element[i] == element[(i - 1)]) {\r\n                        System.out.println(&quot;founded&quot;);\r\n                    }\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n    }\r\nI don&#39;t know if my understanding is wrong, I hope this helps you.\r\n[the result][1]\r\n  [1]: https://i.stack.imgur.com/LNziQ.png","title":"How to find adjacent in a 2D array, after finding return its value","body":"<p>I tried it, according to your idea, your definition of i may be wrong.</p>\n<pre><code> public static void validation(int[][] array) {\n   System.out.println();\n   int i = 0;\n   for (int[] element : array) {\n    while (i &lt; array.length) {\n        //In this place, i will not become 0 to continue the recursion\n        if (i &gt; 0) {\n            /**\n             * Exit this loop when it is equal to 5, but you are defining a two- \n             * dimensional array,\n             * and in the second loop, you must re-loop the second one- \n             *dimensional array with 0 as the index\n             */\n            if (element[i] == element[(i - 1)]) {\n                System.out.println(&quot;founded&quot;);\n            }\n         }\n        i++;\n      }\n   }\n}\n</code></pre>\n<p>You just need to change the defined position of i to print successfully.</p>\n<pre><code>public static void validation(int[][] array) {\n    System.out.println();\n\n    for (int[] element : array) {\n        //i-&gt;position\n        int i = 0;\n        while (i &lt; array.length) {\n            if (i &gt; 0) {\n                if (element[i] == element[(i - 1)]) {\n                    System.out.println(&quot;founded&quot;);\n                }\n            }\n            i++;\n        }\n    }\n}\n</code></pre>\n<p>I don't know if my understanding is wrong, I hope this helps you.\n[the result][1]\n[1]: https://i.stack.imgur.com/LNziQ.png</p>\n"},{"tags":[],"owner":{"account_id":25959095,"reputation":21,"user_id":19676004,"display_name":"Luis Rodriguez Turcios"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659878623,"creation_date":1659878623,"answer_id":73267825,"question_id":73264331,"body_markdown":"I broke down the problem into two different functions:\r\n\r\n 1. analyzeMatrix\r\n 2. findAdjacency\r\n\r\nThe first one is to iterate over each row and the second one is to iterate over each item on a single row.\r\n\r\nWhat I assumed regarding the objective of the program that you mentioned at the top is that you need to verify for duplicate adjacent values, and then verify non-adjacent duplicate values. So for example the first row does not have adjacent duplicate values but it still matches non-adjacent duplicate values. Both cases would return true for the row I guessed. \r\n\r\nIf my assumption is correct, thinking carefully the adjacency of two numbers would be present in both cases, one sorted and the other not sorted. For example [23, 14, 42, 34, 23], that row originally does not have an adjacent duplicate value, but if you want to verify for duplicate numbers there is no any restriction to sort it, so, if you sort it, you get [14, 23, 23, 34, 42] and now you have an adjacency in the row.\r\n\r\nHaving said that, the following is the code I wrote to achieve the objective:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        int[][] testData = new int[][]{\r\n            {23, 14, 42, 34, 23},\r\n            {35, 35, 42, 28, 38},\r\n            {35, 34, 45, 46, 47},\r\n            {40, 43, 35, 50, 49},\r\n            {21, 33, 10, 51, 51} \r\n        };\r\n        \r\n        analyzeMatrix(testData);\r\n    }\r\n\r\n    public static void printResult(int[][] data, boolean[] result)\r\n    {\r\n        int index = 0;\r\n        for (int[] element: data)\r\n        {\r\n            System.out.format(&quot;Row %d: &quot;, index);\r\n            for(int item : element)\r\n            {\r\n                System.out.format(&quot;%d &quot;, item);\r\n            }\r\n            \r\n            String resultText = result[index++] == true ? &quot;YES&quot;: &quot;NO&quot;;\r\n            System.out.format(&quot;[%s]&quot;, resultText);\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    public static void analyzeMatrix(int[][] data)\r\n    {\r\n        boolean[] adjacencyResults = new boolean[data.length];\r\n        boolean[] duplicateResults = new boolean[data.length];\r\n        \r\n        int adjacencyResultsIndex = 0;\r\n        int duplicateResultsIndex = 0;\r\n        \r\n        for(int[] element : data)\r\n        {\r\n            adjacencyResults[adjacencyResultsIndex++] = findAdjacency(element);\r\n            /* Clone the row to keep original */\r\n            int[] sortedElement = element.clone();\r\n            /* Sort elements in the row */\r\n            Arrays.sort(sortedElement);\r\n            duplicateResults[duplicateResultsIndex++] = findAdjacency(sortedElement);\r\n        }\r\n        \r\n        System.out.println(&quot;Adjancecy analysis&quot;);\r\n        printResult(data, adjacencyResults);\r\n        System.out.println();\r\n        System.out.println(&quot;Duplicates analysis&quot;);\r\n        printResult(data, duplicateResults);\r\n    }\r\n    \r\n    public static boolean findAdjacency(int[] element)\r\n    {\r\n        boolean result = false;\r\n        /* \r\n        nextItemIndex stores the index for the next item \r\n        that would be verified against the current item of the iteration.\r\n        */\r\n        int nexItemIndex = 0;\r\n        /*\r\n        elementLimit stores the limit for keeping the nextItemIndex count \r\n        controlled and avoid OutOfBoundExceptions.\r\n        */\r\n        int elementLimit = element.length - 1;\r\n         \r\n        for(int item : element){\r\n            /*\r\n            nextItemIndex is set based on a condition that verifies \r\n            if nextItemIndex is under the limit to continue counting up. \r\n            A false case would reset the nextItemIndex to 0 meaning that \r\n            the end of the row has been reached.\r\n            */\r\n            nexItemIndex = nexItemIndex &lt; elementLimit ? ++nexItemIndex : 0; \r\n            if (nexItemIndex != 0){\r\n                int nextItem = element[nexItemIndex];\r\n                if (item == nextItem)\r\n                {\r\n                    result = true;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\nResult:\r\n\r\n    Adjancecy analysis\r\n    Row 0: 23 14 42 34 23 [NO]\r\n    Row 1: 35 35 42 28 38 [YES]\r\n    Row 2: 35 34 45 46 47 [NO]\r\n    Row 3: 40 43 35 50 49 [NO]\r\n    Row 4: 21 33 10 51 51 [YES]\r\n\r\n    Duplicate analysis\r\n    Row 0: 23 14 42 34 23 [YES]\r\n    Row 1: 35 35 42 28 38 [YES]\r\n    Row 2: 35 34 45 46 47 [NO]\r\n    Row 3: 40 43 35 50 49 [NO]\r\n    Row 4: 21 33 10 51 51 [YES]","title":"How to find adjacent in a 2D array, after finding return its value","body":"<p>I broke down the problem into two different functions:</p>\n<ol>\n<li>analyzeMatrix</li>\n<li>findAdjacency</li>\n</ol>\n<p>The first one is to iterate over each row and the second one is to iterate over each item on a single row.</p>\n<p>What I assumed regarding the objective of the program that you mentioned at the top is that you need to verify for duplicate adjacent values, and then verify non-adjacent duplicate values. So for example the first row does not have adjacent duplicate values but it still matches non-adjacent duplicate values. Both cases would return true for the row I guessed.</p>\n<p>If my assumption is correct, thinking carefully the adjacency of two numbers would be present in both cases, one sorted and the other not sorted. For example [23, 14, 42, 34, 23], that row originally does not have an adjacent duplicate value, but if you want to verify for duplicate numbers there is no any restriction to sort it, so, if you sort it, you get [14, 23, 23, 34, 42] and now you have an adjacency in the row.</p>\n<p>Having said that, the following is the code I wrote to achieve the objective:</p>\n<pre><code>public static void main(String[] args)\n{\n    int[][] testData = new int[][]{\n        {23, 14, 42, 34, 23},\n        {35, 35, 42, 28, 38},\n        {35, 34, 45, 46, 47},\n        {40, 43, 35, 50, 49},\n        {21, 33, 10, 51, 51} \n    };\n    \n    analyzeMatrix(testData);\n}\n\npublic static void printResult(int[][] data, boolean[] result)\n{\n    int index = 0;\n    for (int[] element: data)\n    {\n        System.out.format(&quot;Row %d: &quot;, index);\n        for(int item : element)\n        {\n            System.out.format(&quot;%d &quot;, item);\n        }\n        \n        String resultText = result[index++] == true ? &quot;YES&quot;: &quot;NO&quot;;\n        System.out.format(&quot;[%s]&quot;, resultText);\n        System.out.println();\n    }\n}\n\npublic static void analyzeMatrix(int[][] data)\n{\n    boolean[] adjacencyResults = new boolean[data.length];\n    boolean[] duplicateResults = new boolean[data.length];\n    \n    int adjacencyResultsIndex = 0;\n    int duplicateResultsIndex = 0;\n    \n    for(int[] element : data)\n    {\n        adjacencyResults[adjacencyResultsIndex++] = findAdjacency(element);\n        /* Clone the row to keep original */\n        int[] sortedElement = element.clone();\n        /* Sort elements in the row */\n        Arrays.sort(sortedElement);\n        duplicateResults[duplicateResultsIndex++] = findAdjacency(sortedElement);\n    }\n    \n    System.out.println(&quot;Adjancecy analysis&quot;);\n    printResult(data, adjacencyResults);\n    System.out.println();\n    System.out.println(&quot;Duplicates analysis&quot;);\n    printResult(data, duplicateResults);\n}\n\npublic static boolean findAdjacency(int[] element)\n{\n    boolean result = false;\n    /* \n    nextItemIndex stores the index for the next item \n    that would be verified against the current item of the iteration.\n    */\n    int nexItemIndex = 0;\n    /*\n    elementLimit stores the limit for keeping the nextItemIndex count \n    controlled and avoid OutOfBoundExceptions.\n    */\n    int elementLimit = element.length - 1;\n     \n    for(int item : element){\n        /*\n        nextItemIndex is set based on a condition that verifies \n        if nextItemIndex is under the limit to continue counting up. \n        A false case would reset the nextItemIndex to 0 meaning that \n        the end of the row has been reached.\n        */\n        nexItemIndex = nexItemIndex &lt; elementLimit ? ++nexItemIndex : 0; \n        if (nexItemIndex != 0){\n            int nextItem = element[nexItemIndex];\n            if (item == nextItem)\n            {\n                result = true;\n            }\n        }\n    }\n    \n    return result;\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>Adjancecy analysis\nRow 0: 23 14 42 34 23 [NO]\nRow 1: 35 35 42 28 38 [YES]\nRow 2: 35 34 45 46 47 [NO]\nRow 3: 40 43 35 50 49 [NO]\nRow 4: 21 33 10 51 51 [YES]\n\nDuplicate analysis\nRow 0: 23 14 42 34 23 [YES]\nRow 1: 35 35 42 28 38 [YES]\nRow 2: 35 34 45 46 47 [NO]\nRow 3: 40 43 35 50 49 [NO]\nRow 4: 21 33 10 51 51 [YES]\n</code></pre>\n"}],"owner":{"account_id":14373743,"reputation":39,"user_id":10382742,"display_name":"Skyhigh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73266314,"answer_count":3,"score":1,"last_activity_date":1659878623,"creation_date":1659835851,"question_id":73264331,"body_markdown":"For this assessment, I am trying to read in a 2D array, read in and do calculations. I&#39;ve got everything done, except for finding the adjacent value and if it&#39;s true, print yes and if not, print no. Adjacent, meaning that the values are right next to each other. I need to write a method that does the validation (whether if there are two or more values that are the same next to each other), return it, and then compare to see if there are two or more numbers that are the same. So far, the most difficult part is writing the code that checks for adjacent value. Each time I do, I either get a indexOutOfBond Exception thrown at me. \r\n\r\nJust to reiterate if anything is not clear, I am just checking whether each row has two or more consecutive numbers and if there is, print yes. \r\nSo far, here are some codes that I have written myself. I have done extensive research but I cannot seem to find anything that&#39;s resourceful, or maybe I am not looking at the right source. \r\n\r\nBasically, here is my set of data (I made them up for testing) that I am supposed to validate. For example, the second row has 35 (right next to each other) so I am supposed to print yes. Same goes for the fifth row, I am also supposed to print &#39;yes&#39; because it has 51 twice. It&#39;s not supposed to print yes for the first row, although it has 23 twice, the numbers are not next to each other so I cannot simply run a nested for loop. \r\n\r\nhttps://prnt.sc/ppeytuizwWEt is the set of data. \r\nIn case links are not allowed, data is also provided here. \r\n\r\n    [23, 14, 42, 34, 23] // although 23 shows nice, not consecutive\r\n    [35, 35, 42, 28, 38] // print yes\r\n    [35, 34, 45, 46, 47]\r\n    [40, 43, 35, 50, 49]\r\n    [21, 33, 10, 51, 51] // print yes, because 51 shows twice. \r\nHow can I achieve this using the boolean method? I also know if the last row is true then all values might be true despite some rows being false. \r\n\r\n\r\n    public static void validation(int[][] array) {\r\n        System.out.println();\r\n        int i = 0;\r\n        for (int[] element : array) {\r\n            while (i &lt; array.length) {\r\n                if (i &gt; 0) {\r\n                    if (element[i] == element[(i - 1)]) {\r\n                        System.out.println(&quot;founded&quot;);\r\n                    }\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n    }\r\nI&#39;ve written more methods, the actual instruction is to write a method, return and then call the method onto another method and validate. So far, I am stuck writing the method that even checks for adjacent numbers. I found out that some methods I wrote only checks for duplicates. \r\n\r\n    public static void secondValidation(int[][] array) {\r\n        int Duplicate = 0;\r\n        for (int element[] : array) {\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                for (int j = 1; j &lt; array.length; j++) {\r\n                    if (element[j] == element[j - 1]) {\r\n                        Duplicate = element[i];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        System.out.println(Duplicate);\r\n    }\r\nI use void just for testing, but the instructions said to write a method alone for looking out for adjacent values. \r\n\r\n    public static boolean isValid(int[][] array) {\r\n        boolean test = false;\r\n        for (int[] element : array) {\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                for (int j = 0; j &lt; array.length; j++) {\r\n                    if (element[i] == element[i + 1]) {\r\n                        test = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return test; // triple for loop didn&#39;t make sense but I included still. \r\n    }\r\n\r\nI&#39;ve also tried this, I know the code is getting repetitive.. but I just wanted to try and I know I still have a lot to learn. If there is anything wrong with my post, please let me know. \r\n\r\n    public static void fourthValidation(int[][]array){\r\n        int i = 0, j = 0, holdValue = 0;\r\n        for( i = 0; i&lt;array.length; i++){\r\n            for(j = 0; j&lt;array.length; j++){\r\n                if(array[i]==array[i+1]){\r\n                    holdValue = array[i][j];\r\n                }\r\n            }\r\n        }\r\n        System.out.println(holdValue); //I tried calling in main but nothing prints out.\r\n    }\r\nEdit: I tried -1 on while loop, as someone suggested. Still didn&#39;t print anything on the screen. I also forgot to mention that all data was read from an external file. I don&#39;t think that would make any difference whatsoever, but I think it&#39;s a good idea to inform the readers still. The assessment had more tasks, this was the only one that is stopping me from finishing this. \r\n\r\n        public static void thirdValidation(int[][] array) {\r\n       \r\n        int i = 0;\r\n        for (int[] elements : array) {\r\n            while (i &lt; array.length - 1) {\r\n                while (i &gt; 0) {\r\n                    if (elements[i] == elements[i - 1]) {\r\n                        System.out.println(elements[i]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to find adjacent in a 2D array, after finding return its value","body":"<p>For this assessment, I am trying to read in a 2D array, read in and do calculations. I've got everything done, except for finding the adjacent value and if it's true, print yes and if not, print no. Adjacent, meaning that the values are right next to each other. I need to write a method that does the validation (whether if there are two or more values that are the same next to each other), return it, and then compare to see if there are two or more numbers that are the same. So far, the most difficult part is writing the code that checks for adjacent value. Each time I do, I either get a indexOutOfBond Exception thrown at me.</p>\n<p>Just to reiterate if anything is not clear, I am just checking whether each row has two or more consecutive numbers and if there is, print yes.\nSo far, here are some codes that I have written myself. I have done extensive research but I cannot seem to find anything that's resourceful, or maybe I am not looking at the right source.</p>\n<p>Basically, here is my set of data (I made them up for testing) that I am supposed to validate. For example, the second row has 35 (right next to each other) so I am supposed to print yes. Same goes for the fifth row, I am also supposed to print 'yes' because it has 51 twice. It's not supposed to print yes for the first row, although it has 23 twice, the numbers are not next to each other so I cannot simply run a nested for loop.</p>\n<p><a href=\"https://prnt.sc/ppeytuizwWEt\" rel=\"nofollow noreferrer\">https://prnt.sc/ppeytuizwWEt</a> is the set of data.\nIn case links are not allowed, data is also provided here.</p>\n<pre><code>[23, 14, 42, 34, 23] // although 23 shows nice, not consecutive\n[35, 35, 42, 28, 38] // print yes\n[35, 34, 45, 46, 47]\n[40, 43, 35, 50, 49]\n[21, 33, 10, 51, 51] // print yes, because 51 shows twice. \n</code></pre>\n<p>How can I achieve this using the boolean method? I also know if the last row is true then all values might be true despite some rows being false.</p>\n<pre><code>public static void validation(int[][] array) {\n    System.out.println();\n    int i = 0;\n    for (int[] element : array) {\n        while (i &lt; array.length) {\n            if (i &gt; 0) {\n                if (element[i] == element[(i - 1)]) {\n                    System.out.println(&quot;founded&quot;);\n                }\n            }\n            i++;\n        }\n    }\n}\n</code></pre>\n<p>I've written more methods, the actual instruction is to write a method, return and then call the method onto another method and validate. So far, I am stuck writing the method that even checks for adjacent numbers. I found out that some methods I wrote only checks for duplicates.</p>\n<pre><code>public static void secondValidation(int[][] array) {\n    int Duplicate = 0;\n    for (int element[] : array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 1; j &lt; array.length; j++) {\n                if (element[j] == element[j - 1]) {\n                    Duplicate = element[i];\n                }\n            }\n        }\n    }\n    System.out.println(Duplicate);\n}\n</code></pre>\n<p>I use void just for testing, but the instructions said to write a method alone for looking out for adjacent values.</p>\n<pre><code>public static boolean isValid(int[][] array) {\n    boolean test = false;\n    for (int[] element : array) {\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array.length; j++) {\n                if (element[i] == element[i + 1]) {\n                    test = true;\n                }\n            }\n        }\n    }\n    return test; // triple for loop didn't make sense but I included still. \n}\n</code></pre>\n<p>I've also tried this, I know the code is getting repetitive.. but I just wanted to try and I know I still have a lot to learn. If there is anything wrong with my post, please let me know.</p>\n<pre><code>public static void fourthValidation(int[][]array){\n    int i = 0, j = 0, holdValue = 0;\n    for( i = 0; i&lt;array.length; i++){\n        for(j = 0; j&lt;array.length; j++){\n            if(array[i]==array[i+1]){\n                holdValue = array[i][j];\n            }\n        }\n    }\n    System.out.println(holdValue); //I tried calling in main but nothing prints out.\n}\n</code></pre>\n<p>Edit: I tried -1 on while loop, as someone suggested. Still didn't print anything on the screen. I also forgot to mention that all data was read from an external file. I don't think that would make any difference whatsoever, but I think it's a good idea to inform the readers still. The assessment had more tasks, this was the only one that is stopping me from finishing this.</p>\n<pre><code>    public static void thirdValidation(int[][] array) {\n   \n    int i = 0;\n    for (int[] elements : array) {\n        while (i &lt; array.length - 1) {\n            while (i &gt; 0) {\n                if (elements[i] == elements[i - 1]) {\n                    System.out.println(elements[i]);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659867982,"post_id":73266565,"comment_id":129392686,"body_markdown":"Do you mean you want to create json file within your application or it must be passed on to your service externally?","body":"Do you mean you want to create json file within your application or it must be passed on to your service externally?"},{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":0,"creation_date":1659868570,"post_id":73266565,"comment_id":129392786,"body_markdown":"Do you want to add the employees reading from a json file or do you want to send them as a body? So would the app need to read automatically a json file saved on your machine or would you need to paste the &quot;json file&quot; inside the request body?","body":"Do you want to add the employees reading from a json file or do you want to send them as a body? So would the app need to read automatically a json file saved on your machine or would you need to paste the &quot;json file&quot; inside the request body?"},{"owner":{"display_name":"user19600914"},"score":0,"creation_date":1659869750,"post_id":73266565,"comment_id":129392983,"body_markdown":"Yes, I have a JSON file having list of the Employees as JSON (multiple of the given single Employee in JSON) and then directly read that json as `List&lt;EmployeeRequest&gt;` of request instead of single `EmployeeRequest`. ANy example Controller method for that?","body":"Yes, I have a JSON file having list of the Employees as JSON (multiple of the given single Employee in JSON) and then directly read that json as <code>List&lt;EmployeeRequest&gt;</code> of request instead of single <code>EmployeeRequest</code>. ANy example Controller method for that?"},{"owner":{"display_name":"user19600914"},"score":0,"creation_date":1659869827,"post_id":73266565,"comment_id":129393000,"body_markdown":"@L_Cleo I want to read it directly from a json file in the resources folder. For more detail please see my previous comment.","body":"@L_Cleo I want to read it directly from a json file in the resources folder. For more detail please see my previous comment."}],"answers":[{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659877950,"creation_date":1659868419,"answer_id":73266704,"question_id":73266565,"body_markdown":"Yes. If you already have this JSON file, keep it on **resources** folder. Then read the JSON file. You should write the business logic on **service class** that looking and put files&#39; data into the Database.\r\n\r\n**Update implementation:**\r\n\r\nIf you use **maven** project, update maven repository:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow follow the code:\r\n\r\nPut this JSON **&quot;Employee.json&quot;**(Any name but update as well) into **resources** folder. \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/createAll&quot;)\r\n    public class EmployeeController {\r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;String&gt; createAll() {\r\n            employeeService.create();\r\n            return new ResponseEntity&lt;&gt;(&quot;Employees Inserted to DB&quot;, HttpStatus.CREATED);\r\n        }\r\n    }\r\n\r\n    @Service\r\n    public class EmployeeService {\r\n        // @Autowired\r\n        // private EmployeeRepository employeeRepository;\r\n        public void create() {\r\n            try {\r\n                File resource = new ClassPathResource(&quot;Employee.json&quot;).getFile();\r\n                String employeeJson = new String(Files.readAllBytes(resource.toPath()));\r\n                Type listType = new TypeToken&lt;ArrayList&lt;EmployeeDto&gt;&gt;() {}.getType();\r\n                List&lt;EmployeeDto&gt; employees = new Gson().fromJson(employeeJson, listType);\r\n                // Call repository method to save employee list\r\n                // employeeRepository.saveAll(employees);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nHope your problem will be solved.","title":"Spring Boot: Post Request with JSON","body":"<p>Yes. If you already have this JSON file, keep it on <strong>resources</strong> folder. Then read the JSON file. You should write the business logic on <strong>service class</strong> that looking and put files' data into the Database.</p>\n<p><strong>Update implementation:</strong></p>\n<p>If you use <strong>maven</strong> project, update maven repository:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now follow the code:</p>\n<p>Put this JSON <strong>&quot;Employee.json&quot;</strong>(Any name but update as well) into <strong>resources</strong> folder.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/createAll&quot;)\npublic class EmployeeController {\n    @Autowired\n    private EmployeeService employeeService;\n\n    @PostMapping\n    public ResponseEntity&lt;String&gt; createAll() {\n        employeeService.create();\n        return new ResponseEntity&lt;&gt;(&quot;Employees Inserted to DB&quot;, HttpStatus.CREATED);\n    }\n}\n\n@Service\npublic class EmployeeService {\n    // @Autowired\n    // private EmployeeRepository employeeRepository;\n    public void create() {\n        try {\n            File resource = new ClassPathResource(&quot;Employee.json&quot;).getFile();\n            String employeeJson = new String(Files.readAllBytes(resource.toPath()));\n            Type listType = new TypeToken&lt;ArrayList&lt;EmployeeDto&gt;&gt;() {}.getType();\n            List&lt;EmployeeDto&gt; employees = new Gson().fromJson(employeeJson, listType);\n            // Call repository method to save employee list\n            // employeeRepository.saveAll(employees);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Hope your problem will be solved.</p>\n"},{"tags":[],"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659878593,"creation_date":1659872654,"answer_id":73267123,"question_id":73266565,"body_markdown":"Ok from my understanding you would need no body as request input. Instead, you&#39;d want a controller that takes as input a file name so that you can dynamically load a .json file. Your controller method would look something like this:\r\n\r\n    private final ObjectMapper mapper;\r\n\r\n    private final ResourceLoader resourceLoader;\r\n\r\n    public Controller(ObjectMapper mapper, ResourceLoader resourceLoader) {\r\n        this.mapper = mapper;\r\n        this.resourceLoader = resourceLoader;\r\n    }\r\n\r\n    @PostMapping(&quot;/load/{fileName}&quot;)\r\n    public void loadResource(@PathParam(&quot;fileName&quot;) String fileName) throws IOException {\r\n        Resource resource =resourceLoader.getResource(&quot;classpath:&quot;+fileName);\r\n        log.debug(&quot;Found file &quot; + resource.getFile().getAbsolutePath());\r\n        List&lt;Person&gt; people = mapper.readValue(resource.getFile(), new TypeReference&lt;&gt;() {\r\n        });\r\n        log.info(String.valueOf(people));\r\n    }\r\n\r\nWhere the `People.class` would be your list of objects that are contained in the json file (EmployeeRequest)\r\n\r\nYour .json files would need to be placed with this structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PZYuI.png","title":"Spring Boot: Post Request with JSON","body":"<p>Ok from my understanding you would need no body as request input. Instead, you'd want a controller that takes as input a file name so that you can dynamically load a .json file. Your controller method would look something like this:</p>\n<pre><code>private final ObjectMapper mapper;\n\nprivate final ResourceLoader resourceLoader;\n\npublic Controller(ObjectMapper mapper, ResourceLoader resourceLoader) {\n    this.mapper = mapper;\n    this.resourceLoader = resourceLoader;\n}\n\n@PostMapping(&quot;/load/{fileName}&quot;)\npublic void loadResource(@PathParam(&quot;fileName&quot;) String fileName) throws IOException {\n    Resource resource =resourceLoader.getResource(&quot;classpath:&quot;+fileName);\n    log.debug(&quot;Found file &quot; + resource.getFile().getAbsolutePath());\n    List&lt;Person&gt; people = mapper.readValue(resource.getFile(), new TypeReference&lt;&gt;() {\n    });\n    log.info(String.valueOf(people));\n}\n</code></pre>\n<p>Where the <code>People.class</code> would be your list of objects that are contained in the json file (EmployeeRequest)</p>\n<p>Your .json files would need to be placed with this structure:</p>\n<p><a href=\"https://i.stack.imgur.com/PZYuI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PZYuI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user19600914"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2308,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73267123,"answer_count":2,"score":-1,"last_activity_date":1659878593,"creation_date":1659866956,"question_id":73266565,"body_markdown":"I have a controller endpoint that takes `EmployeeRequest` as shown below: \r\n\r\n\r\n```\r\n{\r\n    &quot;name&quot;: &quot;Marry Boython&quot;,\r\n    &quot;email&quot;: &quot;marry@gmail.com&quot;,\r\n    &quot;country&quot;: &quot;UK&quot;,\r\n    &quot;age&quot;: &quot;25&quot;\t\t\t\r\n}\r\n```\r\n\r\nFor creating multiple employees, I use a static list in the Application class so that they are populated to the database when running the app. However, I want to create these employees from a json file and sending `List&lt;EmployeeRequest&gt;` to the service. \r\n\r\n\r\nI tried the following aproach, but not sure where I point the location of my json file. So, is that the right approach that I am looking to read json and send list of the items in it to the service? \r\n\r\n\r\n```\r\n@PostMapping(\r\n            value = &quot;/createAll&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\npublic ResponseEntity&lt;List&lt;EmployeeDto&gt;&gt; createAll(\r\n        @RequestBody List&lt;EmployeeRequest&gt; requests) {\r\n    final List&lt;EmployeeDto&gt; employees = employeeService.create(requests);\r\n    return ResponseEntity.ok(employees);\r\n}\r\n```\r\n\r\n\r\n ","title":"Spring Boot: Post Request with JSON","body":"<p>I have a controller endpoint that takes <code>EmployeeRequest</code> as shown below:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Marry Boython&quot;,\n    &quot;email&quot;: &quot;marry@gmail.com&quot;,\n    &quot;country&quot;: &quot;UK&quot;,\n    &quot;age&quot;: &quot;25&quot;         \n}\n</code></pre>\n<p>For creating multiple employees, I use a static list in the Application class so that they are populated to the database when running the app. However, I want to create these employees from a json file and sending <code>List&lt;EmployeeRequest&gt;</code> to the service.</p>\n<p>I tried the following aproach, but not sure where I point the location of my json file. So, is that the right approach that I am looking to read json and send list of the items in it to the service?</p>\n<pre><code>@PostMapping(\n            value = &quot;/createAll&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;List&lt;EmployeeDto&gt;&gt; createAll(\n        @RequestBody List&lt;EmployeeRequest&gt; requests) {\n    final List&lt;EmployeeDto&gt; employees = employeeService.create(requests);\n    return ResponseEntity.ok(employees);\n}\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark","hive"],"comments":[{"owner":{"account_id":3392888,"reputation":3881,"user_id":2847330,"display_name":"Azhar Khan"},"score":0,"creation_date":1659958965,"post_id":73267808,"comment_id":129411155,"body_markdown":"Welcome to SO. Please read [how-to-ask](https://stackoverflow.com/help/how-to-ask), [minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example) and [editing-help](https://stackoverflow.com/editing-help), then update your question with specific details, simplified examples to support your explanation, and code/configuration/links you have tried so far.","body":"Welcome to SO. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how-to-ask</a>, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a> and <a href=\"https://stackoverflow.com/editing-help\">editing-help</a>, then update your question with specific details, simplified examples to support your explanation, and code/configuration/links you have tried so far."}],"owner":{"account_id":19300988,"reputation":23,"user_id":14108886,"display_name":"Parul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659878517,"creation_date":1659878517,"question_id":73267808,"body_markdown":"&gt; &gt; DataSource.Error: ODBC: ERROR [HY000] [Microsoft][Hardy] (35) Error from server: error code: &#39;0&#39; error message:\r\n&gt; &#39;org.apache.hive.service.cli.HiveSQLException: Error running query:\r\n&gt; org.apache.spark.SparkException: Job aborted due to stage failure:\r\n&gt; Task 0 in stage 293.0 failed 4 times, most recent failure: Lost task\r\n&gt; 0.3 in stage 293.0 (TID 1361) (10.139.64.7 \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; executor 0): java.lang.UnsupportedOperationException:\r\n&gt; org.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary\r\n&gt; \tat\r\n&gt; org.apache.parquet.column.Dictionary.decodeToInt(Dictionary.java:45)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.datasources.parquet.ParquetDictionary.decodeToInt(ParquetDictionary.java:42)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.vectorized.OnHeapColumnVector.getInt(OnHeapColumnVector.java:321)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown\r\n&gt; Source) \tat\r\n&gt; org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.$anonfun$next$1(ArrowConverters.scala:226)\r\n&gt; \tat\r\n&gt; scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:238)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:202)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$3.&lt;init&gt;(ArrowConverters.scala:340)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$.toHybridCloudResultIterator(ArrowConverters.scala:333)\r\n&gt; \tat\r\n&gt; com.databricks.sql.execution.arrowcollect.CloudStoreCollector$.$anonfun$hybridCollect$3(CloudStoreCollector.scala:180)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:903)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:903)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:60)\r\n&gt; \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:380)\r\n&gt; \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:344) \tat\r\n&gt; org.apache.spark.scheduler.ResultTask.$anonfun$runTask$3(ResultTask.scala:75)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:75)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\r\n&gt; \tat org.apache.spark.scheduler.Task.doRunTask(Task.scala:156) \tat\r\n&gt; org.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:125) \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat org.apache.spark.scheduler.Task.run(Task.scala:95) \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:826)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\r\n&gt; \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:829)\r\n&gt; \tat\r\n&gt; scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:684)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; \tat java.lang.Thread.run(Thread.java:748)\r\n&gt; \r\n&gt; Driver stacktrace: \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.HiveThriftServerErrors$.runningQueryError(HiveThriftServerErrors.scala:47)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation.org$apache$spark$sql$hive$thriftserver$SparkExecuteStatementOperation$$execute(SparkExecuteStatementOperation.scala:435)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation$$anon$2$$anon$3.$anonfun$run$2(SparkExecuteStatementOperation.scala:257)\r\n&gt; \tat\r\n&gt; scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.ThriftLocalProperties.withLocalProperties(ThriftLocalProperties.scala:123)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.ThriftLocalProperties.withLocalProperties$(ThriftLocalProperties.scala:48)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation.withLocalProperties(SparkExecuteStatementOperation.scala:52)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation$$anon$2$$anon$3.run(SparkExecuteStatementOperation.scala:235)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation$$anon$2$$anon$3.run(SparkExecuteStatementOperation.scala:220)\r\n&gt; \tat java.security.AccessController.doPrivileged(Native Method) \tat\r\n&gt; javax.security.auth.Subject.doAs(Subject.java:422) \tat\r\n&gt; org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation$$anon$2.run(SparkExecuteStatementOperation.scala:269)\r\n&gt; \tat\r\n&gt; java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n&gt; \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; \tat java.lang.Thread.run(Thread.java:748) Caused by:\r\n&gt; org.apache.spark.SparkException: Job aborted due to stage failure:\r\n&gt; Task 0 in stage 293.0 failed 4 times, most recent failure: Lost task\r\n&gt; 0.3 in stage 293.0 (TID 1361) (10.139.64.7 executor 0): java.lang.UnsupportedOperationException:\r\n&gt; org.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary\r\n&gt; \tat\r\n&gt; org.apache.parquet.column.Dictionary.decodeToInt(Dictionary.java:45)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.datasources.parquet.ParquetDictionary.decodeToInt(ParquetDictionary.java:42)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.vectorized.OnHeapColumnVector.getInt(OnHeapColumnVector.java:321)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown\r\n&gt; Source) \tat\r\n&gt; org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.$anonfun$next$1(ArrowConverters.scala:226)\r\n&gt; \tat\r\n&gt; scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:238)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:202)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$3.&lt;init&gt;(ArrowConverters.scala:340)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$.toHybridCloudResultIterator(ArrowConverters.scala:333)\r\n&gt; \tat\r\n&gt; com.databricks.sql.execution.arrowcollect.CloudStoreCollector$.$anonfun$hybridCollect$3(CloudStoreCollector.scala:180)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:903)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:903)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:60)\r\n&gt; \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:380)\r\n&gt; \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:344) \tat\r\n&gt; org.apache.spark.scheduler.ResultTask.$anonfun$runTask$3(ResultTask.scala:75)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:75)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\r\n&gt; \tat org.apache.spark.scheduler.Task.doRunTask(Task.scala:156) \tat\r\n&gt; org.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:125) \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat org.apache.spark.scheduler.Task.run(Task.scala:95) \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:826)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\r\n&gt; \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:829)\r\n&gt; \tat\r\n&gt; scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:684)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; \tat java.lang.Thread.run(Thread.java:748)\r\n&gt; \r\n&gt; Driver stacktrace: \tat\r\n&gt; org.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:3029)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2976)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2970)\r\n&gt; \tat\r\n&gt; scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n&gt; \tat\r\n&gt; scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n&gt; \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2970)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1390)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1390)\r\n&gt; \tat scala.Option.foreach(Option.scala:407) \tat\r\n&gt; org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1390)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:3238)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:3179)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:3167)\r\n&gt; \tat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:1152)\r\n&gt; \tat\r\n&gt; org.apache.spark.SparkContext.runJobInternal(SparkContext.scala:2637)\r\n&gt; \tat\r\n&gt; com.databricks.sql.execution.arrowcollect.RDDBatchCollector.runSparkJobs(RDDBatchCollector.scala:79)\r\n&gt; \tat\r\n&gt; com.databricks.sql.execution.arrowcollect.RDDBatchCollector.collect(RDDBatchCollector.scala:122)\r\n&gt; \tat\r\n&gt; com.databricks.sql.execution.arrowcollect.CloudStoreCollector$.hybridCollect(CloudStoreCollector.scala:185)\r\n&gt; \tat\r\n&gt; com.databricks.sql.execution.arrowcollect.CloudStoreCollector$.hybridCollect(CloudStoreCollector.scala:230)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.collect.CompressedHybridCloudStoreFormat$.collect(cachedSparkResults.scala:166)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.collect.CompressedHybridCloudStoreFormat$.collect(cachedSparkResults.scala:161)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.ResultCacheManager.collectResult$1(ResultCacheManager.scala:589)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.ResultCacheManager.computeResult(ResultCacheManager.scala:596)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.ResultCacheManager.$anonfun$getOrComputeResultInternal$1(ResultCacheManager.scala:542)\r\n&gt; \tat scala.Option.getOrElse(Option.scala:189) \tat\r\n&gt; org.apache.spark.sql.execution.ResultCacheManager.getOrComputeResultInternal(ResultCacheManager.scala:541)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.ResultCacheManager.getOrComputeHybridCloudStoreResult(ResultCacheManager.scala:506)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.SparkPlan.executeHybridCloudStoreCollectResult(SparkPlan.scala:450)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.Dataset.$anonfun$collectToHybridCloudStoreResults$1(Dataset.scala:3180)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3951)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.SQLExecution$.$anonfun$withCustomExecutionEnv$8(SQLExecution.scala:239)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:386)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.SQLExecution$.$anonfun$withCustomExecutionEnv$1(SQLExecution.scala:186)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:968)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.SQLExecution$.withCustomExecutionEnv(SQLExecution.scala:141)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:336)\r\n&gt; \tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3949) \tat\r\n&gt; org.apache.spark.sql.Dataset.collectToHybridCloudStoreResults(Dataset.scala:3179)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.HybridCloudStoreResultHandler.&lt;init&gt;(HybridCloudStoreResultHandler.scala:58)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.ResultHandlerFactory.createResultHandler(ResultHandlerFactory.scala:231)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation.org$apache$spark$sql$hive$thriftserver$SparkExecuteStatementOperation$$execute(SparkExecuteStatementOperation.scala:405)\r\n&gt; \t... 16 more Caused by: java.lang.UnsupportedOperationException:\r\n&gt; org.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary\r\n&gt; \tat\r\n&gt; org.apache.parquet.column.Dictionary.decodeToInt(Dictionary.java:45)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.datasources.parquet.ParquetDictionary.decodeToInt(ParquetDictionary.java:42)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.vectorized.OnHeapColumnVector.getInt(OnHeapColumnVector.java:321)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown\r\n&gt; Source) \tat\r\n&gt; org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.$anonfun$next$1(ArrowConverters.scala:226)\r\n&gt; \tat\r\n&gt; scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:238)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:202)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$$anon$3.&lt;init&gt;(ArrowConverters.scala:340)\r\n&gt; \tat\r\n&gt; org.apache.spark.sql.execution.arrow.ArrowConverters$.toHybridCloudResultIterator(ArrowConverters.scala:333)\r\n&gt; \tat\r\n&gt; com.databricks.sql.execution.arrowcollect.CloudStoreCollector$.$anonfun$hybridCollect$3(CloudStoreCollector.scala:180)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:903)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:903)\r\n&gt; \tat\r\n&gt; org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:60)\r\n&gt; \tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:380)\r\n&gt; \tat org.apache.spark.rdd.RDD.iterator(RDD.scala:344) \tat\r\n&gt; org.apache.spark.scheduler.ResultTask.$anonfun$runTask$3(ResultTask.scala:75)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat\r\n&gt; org.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:75)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\r\n&gt; \tat org.apache.spark.scheduler.Task.doRunTask(Task.scala:156) \tat\r\n&gt; org.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:125) \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat org.apache.spark.scheduler.Task.run(Task.scala:95) \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:826)\r\n&gt; \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\r\n&gt; \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:829)\r\n&gt; \tat\r\n&gt; scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n&gt; \tat\r\n&gt; com.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\r\n&gt; \tat\r\n&gt; org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:684)\r\n&gt; \t... 3 more &#39;. Details:\r\n&gt;     DataSourceKind=Databricks\r\n&gt;     DataSourcePath={&quot;host&quot;:&quot;adb-762200519378203.3.azuredatabricks.net&quot;,&quot;httpPath&quot;:&quot;sql\\/protocolv1\\/o\\/762200519378203\\/0414-052221-ztf6ehdy&quot;}&#39;&#39;&#39;\r\n&gt;     OdbcErrors=[Table]\r\n&gt; \r\n&gt;  1. The schema of newly created parquet file is same as the previous one. root  |-- Brand: integer (nullable = true)  |-- Market: integer\r\n&gt; (nullable = true)  |-- year: string (nullable = true)  |-- imagery:\r\n&gt; string (nullable = true)  |-- campaign: string (nullable = true)  |--\r\n&gt; uplift: double (nullable = true)  |-- efficiency: double (nullable =\r\n&gt; true)  |-- runid: string (nullable = true)  |-- run_Brand: string\r\n&gt; (nullable = true)  |-- run_Market: string (nullable = true)  |--\r\n&gt; runid_Year: string (nullable = true)  |-- runid_Quarter: string\r\n&gt; (nullable = true)\r\n&gt;  \r\n&gt;      root  |-- Brand: integer (nullable = true)  |-- Market: integer (nullable = true)  |-- year: string (nullable = true)  |-- imagery:\r\n&gt; string (nullable = true)  |-- campaign: string (nullable = true)  |--\r\n&gt; uplift: double (nullable = true)  |-- efficiency: double (nullable =\r\n&gt; true)  |-- runid: string (nullable = true)  |-- run_Brand: string\r\n&gt; (nullable = true)  |-- run_Market: string (nullable = true)  |--\r\n&gt; runid_Year: string (nullable = true)  |-- runid_Quarter: string\r\n&gt; (nullable = true)","title":"DataSource.Error: ODBC: ERROR [HY000] [Microsoft][Hardy] (35) Error from server: error code: &#39;0&#39; error message:","body":"<blockquote>\n<blockquote>\n<p>DataSource.Error: ODBC: ERROR [HY000] [Microsoft][Hardy] (35) Error from server: error code: '0' error message:\n'org.apache.hive.service.cli.HiveSQLException: Error running query:\norg.apache.spark.SparkException: Job aborted due to stage failure:\nTask 0 in stage 293.0 failed 4 times, most recent failure: Lost task\n0.3 in stage 293.0 (TID 1361) (10.139.64.7</p>\n</blockquote>\n<p>executor 0): java.lang.UnsupportedOperationException:\norg.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary\nat\norg.apache.parquet.column.Dictionary.decodeToInt(Dictionary.java:45)\nat\norg.apache.spark.sql.execution.datasources.parquet.ParquetDictionary.decodeToInt(ParquetDictionary.java:42)\nat\norg.apache.spark.sql.execution.vectorized.OnHeapColumnVector.getInt(OnHeapColumnVector.java:321)\nat\norg.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown\nSource)   at\norg.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\nat\norg.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.$anonfun$next$1(ArrowConverters.scala:226)\nat\nscala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:238)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:202)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$3.(ArrowConverters.scala:340)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$.toHybridCloudResultIterator(ArrowConverters.scala:333)\nat\ncom.databricks.sql.execution.arrowcollect.CloudStoreCollector$.$anonfun$hybridCollect$3(CloudStoreCollector.scala:180)\nat\norg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:903)\nat\norg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:903)\nat\norg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:60)\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:380)\nat org.apache.spark.rdd.RDD.iterator(RDD.scala:344)     at\norg.apache.spark.scheduler.ResultTask.$anonfun$runTask$3(ResultTask.scala:75)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat\norg.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:75)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\nat org.apache.spark.scheduler.Task.doRunTask(Task.scala:156)    at\norg.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:125)    at\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat org.apache.spark.scheduler.Task.run(Task.scala:95)   at\norg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:826)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\nat\norg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:829)\nat\nscala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat\norg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:684)\nat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p>Driver stacktrace:    at\norg.apache.spark.sql.hive.thriftserver.HiveThriftServerErrors$.runningQueryError(HiveThriftServerErrors.scala:47)\nat\norg.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation.org$apache$spark$sql$hive$thriftserver$SparkExecuteStatementOperation$$execute(SparkExecuteStatementOperation.scala:435)\nat\norg.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation$$anon$2$$anon$3.$anonfun$run$2(SparkExecuteStatementOperation.scala:257)\nat\nscala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat\norg.apache.spark.sql.hive.thriftserver.ThriftLocalProperties.withLocalProperties(ThriftLocalProperties.scala:123)\nat\norg.apache.spark.sql.hive.thriftserver.ThriftLocalProperties.withLocalProperties$(ThriftLocalProperties.scala:48)\nat\norg.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation.withLocalProperties(SparkExecuteStatementOperation.scala:52)\nat\norg.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation$$anon$2$$anon$3.run(SparkExecuteStatementOperation.scala:235)\nat\norg.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation$$anon$2$$anon$3.run(SparkExecuteStatementOperation.scala:220)\nat java.security.AccessController.doPrivileged(Native Method)   at\njavax.security.auth.Subject.doAs(Subject.java:422)    at\norg.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\nat\norg.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation$$anon$2.run(SparkExecuteStatementOperation.scala:269)\nat\njava.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748) Caused by:\norg.apache.spark.SparkException: Job aborted due to stage failure:\nTask 0 in stage 293.0 failed 4 times, most recent failure: Lost task\n0.3 in stage 293.0 (TID 1361) (10.139.64.7 executor 0): java.lang.UnsupportedOperationException:\norg.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary\nat\norg.apache.parquet.column.Dictionary.decodeToInt(Dictionary.java:45)\nat\norg.apache.spark.sql.execution.datasources.parquet.ParquetDictionary.decodeToInt(ParquetDictionary.java:42)\nat\norg.apache.spark.sql.execution.vectorized.OnHeapColumnVector.getInt(OnHeapColumnVector.java:321)\nat\norg.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown\nSource)   at\norg.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\nat\norg.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.$anonfun$next$1(ArrowConverters.scala:226)\nat\nscala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:238)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:202)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$3.(ArrowConverters.scala:340)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$.toHybridCloudResultIterator(ArrowConverters.scala:333)\nat\ncom.databricks.sql.execution.arrowcollect.CloudStoreCollector$.$anonfun$hybridCollect$3(CloudStoreCollector.scala:180)\nat\norg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:903)\nat\norg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:903)\nat\norg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:60)\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:380)\nat org.apache.spark.rdd.RDD.iterator(RDD.scala:344)     at\norg.apache.spark.scheduler.ResultTask.$anonfun$runTask$3(ResultTask.scala:75)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat\norg.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:75)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\nat org.apache.spark.scheduler.Task.doRunTask(Task.scala:156)    at\norg.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:125)    at\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat org.apache.spark.scheduler.Task.run(Task.scala:95)   at\norg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:826)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\nat\norg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:829)\nat\nscala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat\norg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:684)\nat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p>Driver stacktrace:    at\norg.apache.spark.scheduler.DAGScheduler.failJobAndIndependentStages(DAGScheduler.scala:3029)\nat\norg.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2(DAGScheduler.scala:2976)\nat\norg.apache.spark.scheduler.DAGScheduler.$anonfun$abortStage$2$adapted(DAGScheduler.scala:2970)\nat\nscala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\nat\nscala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\nat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\nat\norg.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:2970)\nat\norg.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1(DAGScheduler.scala:1390)\nat\norg.apache.spark.scheduler.DAGScheduler.$anonfun$handleTaskSetFailed$1$adapted(DAGScheduler.scala:1390)\nat scala.Option.foreach(Option.scala:407)   at\norg.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:1390)\nat\norg.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:3238)\nat\norg.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:3179)\nat\norg.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:3167)\nat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\nat\norg.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:1152)\nat\norg.apache.spark.SparkContext.runJobInternal(SparkContext.scala:2637)\nat\ncom.databricks.sql.execution.arrowcollect.RDDBatchCollector.runSparkJobs(RDDBatchCollector.scala:79)\nat\ncom.databricks.sql.execution.arrowcollect.RDDBatchCollector.collect(RDDBatchCollector.scala:122)\nat\ncom.databricks.sql.execution.arrowcollect.CloudStoreCollector$.hybridCollect(CloudStoreCollector.scala:185)\nat\ncom.databricks.sql.execution.arrowcollect.CloudStoreCollector$.hybridCollect(CloudStoreCollector.scala:230)\nat\norg.apache.spark.sql.execution.collect.CompressedHybridCloudStoreFormat$.collect(cachedSparkResults.scala:166)\nat\norg.apache.spark.sql.execution.collect.CompressedHybridCloudStoreFormat$.collect(cachedSparkResults.scala:161)\nat\norg.apache.spark.sql.execution.ResultCacheManager.collectResult$1(ResultCacheManager.scala:589)\nat\norg.apache.spark.sql.execution.ResultCacheManager.computeResult(ResultCacheManager.scala:596)\nat\norg.apache.spark.sql.execution.ResultCacheManager.$anonfun$getOrComputeResultInternal$1(ResultCacheManager.scala:542)\nat scala.Option.getOrElse(Option.scala:189)     at\norg.apache.spark.sql.execution.ResultCacheManager.getOrComputeResultInternal(ResultCacheManager.scala:541)\nat\norg.apache.spark.sql.execution.ResultCacheManager.getOrComputeHybridCloudStoreResult(ResultCacheManager.scala:506)\nat\norg.apache.spark.sql.execution.SparkPlan.executeHybridCloudStoreCollectResult(SparkPlan.scala:450)\nat\norg.apache.spark.sql.Dataset.$anonfun$collectToHybridCloudStoreResults$1(Dataset.scala:3180)\nat\norg.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3951)\nat\norg.apache.spark.sql.execution.SQLExecution$.$anonfun$withCustomExecutionEnv$8(SQLExecution.scala:239)\nat\norg.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:386)\nat\norg.apache.spark.sql.execution.SQLExecution$.$anonfun$withCustomExecutionEnv$1(SQLExecution.scala:186)\nat\norg.apache.spark.sql.SparkSession.withActive(SparkSession.scala:968)\nat\norg.apache.spark.sql.execution.SQLExecution$.withCustomExecutionEnv(SQLExecution.scala:141)\nat\norg.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:336)\nat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3949)  at\norg.apache.spark.sql.Dataset.collectToHybridCloudStoreResults(Dataset.scala:3179)\nat\norg.apache.spark.sql.hive.thriftserver.HybridCloudStoreResultHandler.(HybridCloudStoreResultHandler.scala:58)\nat\norg.apache.spark.sql.hive.thriftserver.ResultHandlerFactory.createResultHandler(ResultHandlerFactory.scala:231)\nat\norg.apache.spark.sql.hive.thriftserver.SparkExecuteStatementOperation.org$apache$spark$sql$hive$thriftserver$SparkExecuteStatementOperation$$execute(SparkExecuteStatementOperation.scala:405)\n... 16 more Caused by: java.lang.UnsupportedOperationException:\norg.apache.parquet.column.values.dictionary.PlainValuesDictionary$PlainBinaryDictionary\nat\norg.apache.parquet.column.Dictionary.decodeToInt(Dictionary.java:45)\nat\norg.apache.spark.sql.execution.datasources.parquet.ParquetDictionary.decodeToInt(ParquetDictionary.java:42)\nat\norg.apache.spark.sql.execution.vectorized.OnHeapColumnVector.getInt(OnHeapColumnVector.java:321)\nat\norg.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown\nSource)   at\norg.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\nat\norg.apache.spark.sql.execution.WholeStageCodegenExec$$anon$1.hasNext(WholeStageCodegenExec.scala:759)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.$anonfun$next$1(ArrowConverters.scala:226)\nat\nscala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:238)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$1.next(ArrowConverters.scala:202)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$$anon$3.(ArrowConverters.scala:340)\nat\norg.apache.spark.sql.execution.arrow.ArrowConverters$.toHybridCloudResultIterator(ArrowConverters.scala:333)\nat\ncom.databricks.sql.execution.arrowcollect.CloudStoreCollector$.$anonfun$hybridCollect$3(CloudStoreCollector.scala:180)\nat\norg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2(RDD.scala:903)\nat\norg.apache.spark.rdd.RDD.$anonfun$mapPartitionsInternal$2$adapted(RDD.scala:903)\nat\norg.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:60)\nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:380)\nat org.apache.spark.rdd.RDD.iterator(RDD.scala:344)     at\norg.apache.spark.scheduler.ResultTask.$anonfun$runTask$3(ResultTask.scala:75)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat\norg.apache.spark.scheduler.ResultTask.$anonfun$runTask$1(ResultTask.scala:75)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:55)\nat org.apache.spark.scheduler.Task.doRunTask(Task.scala:156)    at\norg.apache.spark.scheduler.Task.$anonfun$run$1(Task.scala:125)    at\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat org.apache.spark.scheduler.Task.run(Task.scala:95)   at\norg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$13(Executor.scala:826)\nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1681)\nat\norg.apache.spark.executor.Executor$TaskRunner.$anonfun$run$4(Executor.scala:829)\nat\nscala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat\ncom.databricks.spark.util.ExecutorFrameProfiler$.record(ExecutorFrameProfiler.scala:110)\nat\norg.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:684)\n... 3 more '. Details:\nDataSourceKind=Databricks\nDataSourcePath={&quot;host&quot;:&quot;adb-762200519378203.3.azuredatabricks.net&quot;,&quot;httpPath&quot;:&quot;sql/protocolv1/o/762200519378203/0414-052221-ztf6ehdy&quot;}'''\nOdbcErrors=[Table]</p>\n<ol>\n<li><p>The schema of newly created parquet file is same as the previous one. root  |-- Brand: integer (nullable = true)  |-- Market: integer\n(nullable = true)  |-- year: string (nullable = true)  |-- imagery:\nstring (nullable = true)  |-- campaign: string (nullable = true)  |--\nuplift: double (nullable = true)  |-- efficiency: double (nullable =\ntrue)  |-- runid: string (nullable = true)  |-- run_Brand: string\n(nullable = true)  |-- run_Market: string (nullable = true)  |--\nrunid_Year: string (nullable = true)  |-- runid_Quarter: string\n(nullable = true)</p>\n<p>root  |-- Brand: integer (nullable = true)  |-- Market: integer (nullable = true)  |-- year: string (nullable = true)  |-- imagery:\nstring (nullable = true)  |-- campaign: string (nullable = true)  |--\nuplift: double (nullable = true)  |-- efficiency: double (nullable =\ntrue)  |-- runid: string (nullable = true)  |-- run_Brand: string\n(nullable = true)  |-- run_Market: string (nullable = true)  |--\nrunid_Year: string (nullable = true)  |-- runid_Quarter: string\n(nullable = true)</p>\n</li>\n</ol>\n</blockquote>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659866453,"post_id":73266354,"comment_id":129392426,"body_markdown":"You have declared Entity &amp; all named query within entity. You might need to separate it by creating Repository &amp; then declare all your named queries there? \n\nI am seeing you are getting `could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement` meaning spring is unable to find query.","body":"You have declared Entity &amp; all named query within entity. You might need to separate it by creating Repository &amp; then declare all your named queries there?   I am seeing you are getting <code>could not execute statement; SQL [n&#47;a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement</code> meaning spring is unable to find query."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1659869167,"post_id":73266354,"comment_id":129392882,"body_markdown":"@AshishPatil `SQLGrammarException` does not mean the query is not found.","body":"@AshishPatil <code>SQLGrammarException</code> does not mean the query is not found."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1659869225,"post_id":73266354,"comment_id":129392891,"body_markdown":"Are we supposed to guess the code of the `GroupService` class (especially the `createGroup()` method)?","body":"Are we supposed to guess the code of the <code>GroupService</code> class (especially the <code>createGroup()</code> method)?"},{"owner":{"account_id":25214741,"reputation":1,"user_id":19051999,"display_name":"Đức Nguyễn Đức"},"score":0,"creation_date":1659869691,"post_id":73266354,"comment_id":129392970,"body_markdown":"in the createGroup method I just save the object\n`Session session = this.sessionFactory.getObject().getCurrentSession();\n        try {\n            session.save(group);\n            return true;\n        }catch(Exception ex){\n        }\n        return false;\n    }`","body":"in the createGroup method I just save the object <code>Session session = this.sessionFactory.getObject().getCurrentSession();         try {             session.save(group);             return true;         }catch(Exception ex){         }         return false;     }</code>"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659877907,"creation_date":1659877907,"answer_id":73267722,"question_id":73266354,"body_markdown":"Know that *group* is a keyword in SQL. Try changing it to something else or use back ticks.","title":"could not execute statement in springMVC","body":"<p>Know that <em>group</em> is a keyword in SQL. Try changing it to something else or use back ticks.</p>\n"}],"owner":{"account_id":25214741,"reputation":1,"user_id":19051999,"display_name":"Đức Nguyễn Đức"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659877907,"creation_date":1659864875,"question_id":73266354,"body_markdown":"***this is my class***\r\n\r\n    package com.ducnd.pojo;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author DucND\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;group&quot;)\r\n    @XmlRootElement\r\n    @NamedQueries({\r\n        @NamedQuery(name = &quot;Group1.findAll&quot;, query = &quot;SELECT g FROM Group1 g&quot;),\r\n        @NamedQuery(name = &quot;Group1.findById&quot;, query = &quot;SELECT g FROM Group1 g WHERE g.id = :id&quot;),\r\n        @NamedQuery(name = &quot;Group1.findByGroupname&quot;, query = &quot;SELECT g FROM Group1 g WHERE g.groupname = :groupname&quot;),\r\n        @NamedQuery(name = &quot;Group1.findByPurpose&quot;, query = &quot;SELECT g FROM Group1 g WHERE g.purpose = :purpose&quot;)})\r\n    public class Group1 implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        @Basic(optional = false)\r\n        @NotNull\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n        @Size(max = 45)\r\n        @Column(name = &quot;groupname&quot;)\r\n        private String groupname;\r\n        @Size(max = 45)\r\n        @Column(name = &quot;purpose&quot;)\r\n        private String purpose;\r\n        @JoinTable(name = &quot;user_group&quot;, joinColumns = {\r\n            @JoinColumn(name = &quot;group_id&quot;, referencedColumnName = &quot;id&quot;)}, inverseJoinColumns = {\r\n            @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n        @ManyToMany\r\n        private Collection&lt;User&gt; userCollection;\r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;group1&quot;)\r\n        private Collection&lt;UserSpendingGroup&gt; userSpendingGroupCollection;\r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;group1&quot;)\r\n        private Collection&lt;UserIncomeGroup&gt; userIncomeGroupCollection;\r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        @ManyToOne\r\n        private User userId;\r\n    \r\n       \r\n**This is where I call the create group service**\r\n\r\n    @Controller\r\n    @ControllerAdvice\r\n    public class GroupController {\r\n        \r\n        @Autowired\r\n        private GroupService groupService;\r\n        \r\n        \r\n        @GetMapping(&quot;/create-group&quot;)\r\n        public String createGroup(Model model){\r\n            \r\n            model.addAttribute(&quot;group&quot;, new Group1());\r\n            \r\n            return &quot;createGroup&quot;;\r\n        }\r\n        \r\n        @PostMapping(&quot;/create-group&quot;)\r\n        public String createGroup(Model model, @ModelAttribute(value = &quot;group&quot;)Group1 group, HttpSession session){\r\n            User currentUser = (User) session.getAttribute(&quot;currentUser&quot;);\r\n            group.setId(3);\r\n            group.setUserId(currentUser);\r\n            \r\n            if(this.groupService.createGroup(group)==true){\r\n                return &quot;redirect:/&quot;;\r\n            }\r\n            return &quot;createGroup&quot;;\r\n        }\r\n        \r\n        \r\n    }\r\n**this is the error I get**\r\n\r\n*org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement*\r\n\r\n***please someone help me to solve this problem***\r\n","title":"could not execute statement in springMVC","body":"<p><em><strong>this is my class</strong></em></p>\n<pre><code>package com.ducnd.pojo;\n\n\n/**\n *\n * @author DucND\n */\n@Entity\n@Table(name = &quot;group&quot;)\n@XmlRootElement\n@NamedQueries({\n    @NamedQuery(name = &quot;Group1.findAll&quot;, query = &quot;SELECT g FROM Group1 g&quot;),\n    @NamedQuery(name = &quot;Group1.findById&quot;, query = &quot;SELECT g FROM Group1 g WHERE g.id = :id&quot;),\n    @NamedQuery(name = &quot;Group1.findByGroupname&quot;, query = &quot;SELECT g FROM Group1 g WHERE g.groupname = :groupname&quot;),\n    @NamedQuery(name = &quot;Group1.findByPurpose&quot;, query = &quot;SELECT g FROM Group1 g WHERE g.purpose = :purpose&quot;)})\npublic class Group1 implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @Basic(optional = false)\n    @NotNull\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n    @Size(max = 45)\n    @Column(name = &quot;groupname&quot;)\n    private String groupname;\n    @Size(max = 45)\n    @Column(name = &quot;purpose&quot;)\n    private String purpose;\n    @JoinTable(name = &quot;user_group&quot;, joinColumns = {\n        @JoinColumn(name = &quot;group_id&quot;, referencedColumnName = &quot;id&quot;)}, inverseJoinColumns = {\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)})\n    @ManyToMany\n    private Collection&lt;User&gt; userCollection;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;group1&quot;)\n    private Collection&lt;UserSpendingGroup&gt; userSpendingGroupCollection;\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;group1&quot;)\n    private Collection&lt;UserIncomeGroup&gt; userIncomeGroupCollection;\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ManyToOne\n    private User userId;\n\n   \n</code></pre>\n<p><strong>This is where I call the create group service</strong></p>\n<pre><code>@Controller\n@ControllerAdvice\npublic class GroupController {\n    \n    @Autowired\n    private GroupService groupService;\n    \n    \n    @GetMapping(&quot;/create-group&quot;)\n    public String createGroup(Model model){\n        \n        model.addAttribute(&quot;group&quot;, new Group1());\n        \n        return &quot;createGroup&quot;;\n    }\n    \n    @PostMapping(&quot;/create-group&quot;)\n    public String createGroup(Model model, @ModelAttribute(value = &quot;group&quot;)Group1 group, HttpSession session){\n        User currentUser = (User) session.getAttribute(&quot;currentUser&quot;);\n        group.setId(3);\n        group.setUserId(currentUser);\n        \n        if(this.groupService.createGroup(group)==true){\n            return &quot;redirect:/&quot;;\n        }\n        return &quot;createGroup&quot;;\n    }\n    \n    \n}\n</code></pre>\n<p><strong>this is the error I get</strong></p>\n<p><em>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement</em></p>\n<p><em><strong>please someone help me to solve this problem</strong></em></p>\n"},{"tags":["java","android","camera","android-camera","android-framelayout"],"comments":[{"owner":{"account_id":2409973,"reputation":2470,"user_id":2105309,"accept_rate":44,"display_name":"Romain Pellerin"},"score":0,"creation_date":1459273913,"post_id":29352406,"comment_id":60208324,"body_markdown":"Hi, any chance you could share your whole code please? I&#39;m stuck with the same issue :/ Thank you","body":"Hi, any chance you could share your whole code please? I&#39;m stuck with the same issue :/ Thank you"},{"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"score":0,"creation_date":1460640743,"post_id":29352406,"comment_id":60845266,"body_markdown":"Hey, you may check this blog post. http://www.shakedos.com/2015/Aug/26/writing-an-android-portrait-camera-app.html The code is not up to date but should solves your issue","body":"Hey, you may check this blog post. <a href=\"http://www.shakedos.com/2015/Aug/26/writing-an-android-portrait-camera-app.html\" rel=\"nofollow noreferrer\">shakedos.com/2015/Aug/26/&hellip;</a> The code is not up to date but should solves your issue"},{"owner":{"account_id":2409973,"reputation":2470,"user_id":2105309,"accept_rate":44,"display_name":"Romain Pellerin"},"score":0,"creation_date":1460652304,"post_id":29352406,"comment_id":60854145,"body_markdown":"thanks. is that yours?","body":"thanks. is that yours?"},{"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"score":0,"creation_date":1460876160,"post_id":29352406,"comment_id":60937733,"body_markdown":"Its Shaked&#39;s blog. He did some work for us regarding to this issue.","body":"Its Shaked&#39;s blog. He did some work for us regarding to this issue."}],"answers":[{"tags":[],"owner":{"account_id":2321706,"reputation":6745,"user_id":2037269,"accept_rate":92,"display_name":"seanpj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1428259725,"creation_date":1428259725,"answer_id":29460922,"question_id":29352406,"body_markdown":"I managed successfully center the preview by setting gravity of SurfaceView:\r\n\r\n    FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(wid, hei);\r\n    lp.gravity = Gravity.CENTER;\r\n    mSv.setLayoutParams(lp);\r\n\r\nThe code snippet is taken from [here][1], and you&#39;re welcome to use the code if you have the patience to decipher it. I think I was solving similar issues (preview rotation, distortion, fit-in/fill)\r\n\r\nGood Luck.\r\n\r\n\r\n  [1]: https://github.com/seanpjanson/AndyCam/blob/master/src/main/java/com/andyscan/andycam/CamVw.java#L73","title":"Android full screen camera - while keeping the camera selected ratio","body":"<p>I managed successfully center the preview by setting gravity of SurfaceView:</p>\n\n<pre><code>FrameLayout.LayoutParams lp = new FrameLayout.LayoutParams(wid, hei);\nlp.gravity = Gravity.CENTER;\nmSv.setLayoutParams(lp);\n</code></pre>\n\n<p>The code snippet is taken from <a href=\"https://github.com/seanpjanson/AndyCam/blob/master/src/main/java/com/andyscan/andycam/CamVw.java#L73\" rel=\"noreferrer\">here</a>, and you're welcome to use the code if you have the patience to decipher it. I think I was solving similar issues (preview rotation, distortion, fit-in/fill)</p>\n\n<p>Good Luck.</p>\n"},{"tags":[],"owner":{"account_id":2094542,"reputation":17795,"user_id":1863627,"accept_rate":88,"display_name":"Andrew Campbell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428438653,"creation_date":1428438653,"answer_id":29500747,"question_id":29352406,"body_markdown":"If I&#39;m understanding from the code snippets, you are re-instantiating the camera everytime the user changes orientation or rotates the camera. Is there any reason to do that?\r\n\r\nWhy not restrict the preview to portrait only and have an overlaying view that rotates? I am pretty sure that is what others (Instagram,Snapchat, etc.) do. I will edit with an example of this, if I can find it.","title":"Android full screen camera - while keeping the camera selected ratio","body":"<p>If I'm understanding from the code snippets, you are re-instantiating the camera everytime the user changes orientation or rotates the camera. Is there any reason to do that?</p>\n\n<p>Why not restrict the preview to portrait only and have an overlaying view that rotates? I am pretty sure that is what others (Instagram,Snapchat, etc.) do. I will edit with an example of this, if I can find it.</p>\n"}],"owner":{"account_id":1250708,"reputation":2936,"user_id":1211174,"accept_rate":25,"display_name":"oak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2255,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29460922,"answer_count":2,"score":6,"last_activity_date":1659877475,"creation_date":1427736215,"question_id":29352406,"body_markdown":"We are trying to build something similar to `Instagram` Camera screen. i.e allow the user taking `square` photos. While doing it out U.i must be able to let the user see the camera on `fullScreen` mode. We want to force the user to take an image in a `portrait` mode\r\n\r\n## Getting camera possible ratio&#39;s\r\n\r\nWe are calculating the `best` ratio available from `camera` by\r\n\r\n       private Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; sizes, int w, int h) {\r\n        final double ASPECT_TOLERANCE = 0.1;\r\n        double targetRatio = (double) h / w;\r\n\r\n        if (sizes == null) {\r\n            return null;\r\n        }\r\n\r\n        Camera.Size optimalSize = null;\r\n        double minDiff = Double.MAX_VALUE;\r\n\r\n        int targetHeight = h;\r\n\r\n        for (Camera.Size size : sizes) {\r\n            double ratio = (double) size.width / size.height;\r\n            if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE) {\r\n                continue;\r\n            }\r\n            if (Math.abs(size.height - targetHeight) &lt; minDiff) {\r\n                optimalSize = size;\r\n                minDiff = Math.abs(size.height - targetHeight);\r\n            }\r\n        }\r\n\r\n        if (optimalSize == null) {\r\n            minDiff = Double.MAX_VALUE;\r\n            for (Camera.Size size : sizes) {\r\n                if (Math.abs(size.height - targetHeight) &lt; minDiff) {\r\n                    optimalSize = size;\r\n                    minDiff = Math.abs(size.height - targetHeight);\r\n                }\r\n            }\r\n        }\r\n        return optimalSize;\r\n    }\r\n## Make it full screen. \r\n\r\n    public FrameLayout setCameraLayout(int width, int height) {\r\n         float newProportion = (float) width / (float) height;\r\n         // Get the width of the screen\r\n         int screenWidth =     this.customCameraActivity.getWindowManager().getDefaultDisplay()\r\n                .getWidth();\r\n         int screenHeight =    this.customCameraActivity.getWindowManager().getDefaultDisplay()\r\n                .getHeight();\r\n          float screenProportion = (float) screenWidth / (float) screenHeight;\r\n          // Get the SurfaceView layout parameters\r\n          ViewGroup.MarginLayoutParams lp = (ViewGroup.MarginLayoutParams)preview.getLayoutParams();\r\n        \r\n\r\n         if (newProportion &gt; screenProportion) {\r\n            lp.width = screenWidth;\r\n            lp.height = (int) ((float) screenWidth / newProportion);\r\n         } else {\r\n            lp.width = (int) (newProportion * (float) screenHeight);\r\n            lp.height = screenHeight;\r\n        }\r\n       \r\n        //calculate the amount that takes to make it full screen (in the `height` parameter)\r\n        float propHeight = screenHeight / lp.height;\r\n       \r\n        //make it full screen(\r\n        lp.width = (int)(lp.width * propHeight);\r\n        lp.height = (int)(lp.height * propHeight);\r\n\r\n        frameLayout.setLayoutParams(lp);\r\n        return frameLayout;\r\n\r\n    }\r\n\r\n## setCameraLayout callers\r\n\r\n`OnCreate` from the `Activity` and afterwards `surfaceChanged`\r\n\r\n     @Override\r\n     public void surfaceChanged(SurfaceHolder holder, int format, int width,\r\n                               int height) {\r\n        if (getHolder().getSurface() == null) {\r\n            return;\r\n        }\r\n        try {\r\n            cameraManager.getCamera().stopPreview();\r\n        } catch (Exception e) {\r\n            // tried to stop a non-existent preview\r\n        }\r\n\r\n        try {\r\n            Camera.Parameters cameraSettings = cameraManager.getCamera().getParameters();\r\n\r\n            cameraSettings.setPreviewSize(mPreviewSize.width, mPreviewSize.height);\r\n            this.cameraView.setCameraLayout(mPreviewSize.width, mPreviewSize.height);\r\n            cameraManager.getCamera().setParameters(cameraSettings);\r\n            cameraManager.getCamera().setPreviewDisplay(holder);\r\n\r\n            cameraManager.getCamera().startPreview();\r\n        } catch (Exception e) {\r\n            Log.d(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n## Goal \r\n\r\nFullscreen camera preview on phone.\r\n\r\n## The problem\r\n\r\nNow we are getting the preview with no distortion which is **GOOD!** and it has the same `height` as the `phone` as well which is also **GOOD!**. **But!** the width of the `preview` is bigger  than the `phone width` (of-course) so it turns out the the center of the camera is not on the center of the phone. Possible solutions we have thought about:\r\n\r\n1. `move` the layout left to negative position to make the preview center in the center of the screen.\r\n1. `crop` the layout  and draw only the center of the `new preview` that should be visible to the `phone screens`\r\n\r\n## Any ideas how to overcome this issue? ","title":"Android full screen camera - while keeping the camera selected ratio","body":"<p>We are trying to build something similar to <code>Instagram</code> Camera screen. i.e allow the user taking <code>square</code> photos. While doing it out U.i must be able to let the user see the camera on <code>fullScreen</code> mode. We want to force the user to take an image in a <code>portrait</code> mode</p>\n<h2>Getting camera possible ratio's</h2>\n<p>We are calculating the <code>best</code> ratio available from <code>camera</code> by</p>\n<pre><code>   private Camera.Size getOptimalPreviewSize(List&lt;Camera.Size&gt; sizes, int w, int h) {\n    final double ASPECT_TOLERANCE = 0.1;\n    double targetRatio = (double) h / w;\n\n    if (sizes == null) {\n        return null;\n    }\n\n    Camera.Size optimalSize = null;\n    double minDiff = Double.MAX_VALUE;\n\n    int targetHeight = h;\n\n    for (Camera.Size size : sizes) {\n        double ratio = (double) size.width / size.height;\n        if (Math.abs(ratio - targetRatio) &gt; ASPECT_TOLERANCE) {\n            continue;\n        }\n        if (Math.abs(size.height - targetHeight) &lt; minDiff) {\n            optimalSize = size;\n            minDiff = Math.abs(size.height - targetHeight);\n        }\n    }\n\n    if (optimalSize == null) {\n        minDiff = Double.MAX_VALUE;\n        for (Camera.Size size : sizes) {\n            if (Math.abs(size.height - targetHeight) &lt; minDiff) {\n                optimalSize = size;\n                minDiff = Math.abs(size.height - targetHeight);\n            }\n        }\n    }\n    return optimalSize;\n}\n</code></pre>\n<h2>Make it full screen.</h2>\n<pre><code>public FrameLayout setCameraLayout(int width, int height) {\n     float newProportion = (float) width / (float) height;\n     // Get the width of the screen\n     int screenWidth =     this.customCameraActivity.getWindowManager().getDefaultDisplay()\n            .getWidth();\n     int screenHeight =    this.customCameraActivity.getWindowManager().getDefaultDisplay()\n            .getHeight();\n      float screenProportion = (float) screenWidth / (float) screenHeight;\n      // Get the SurfaceView layout parameters\n      ViewGroup.MarginLayoutParams lp = (ViewGroup.MarginLayoutParams)preview.getLayoutParams();\n    \n\n     if (newProportion &gt; screenProportion) {\n        lp.width = screenWidth;\n        lp.height = (int) ((float) screenWidth / newProportion);\n     } else {\n        lp.width = (int) (newProportion * (float) screenHeight);\n        lp.height = screenHeight;\n    }\n   \n    //calculate the amount that takes to make it full screen (in the `height` parameter)\n    float propHeight = screenHeight / lp.height;\n   \n    //make it full screen(\n    lp.width = (int)(lp.width * propHeight);\n    lp.height = (int)(lp.height * propHeight);\n\n    frameLayout.setLayoutParams(lp);\n    return frameLayout;\n\n}\n</code></pre>\n<h2>setCameraLayout callers</h2>\n<p><code>OnCreate</code> from the <code>Activity</code> and afterwards <code>surfaceChanged</code></p>\n<pre><code> @Override\n public void surfaceChanged(SurfaceHolder holder, int format, int width,\n                           int height) {\n    if (getHolder().getSurface() == null) {\n        return;\n    }\n    try {\n        cameraManager.getCamera().stopPreview();\n    } catch (Exception e) {\n        // tried to stop a non-existent preview\n    }\n\n    try {\n        Camera.Parameters cameraSettings = cameraManager.getCamera().getParameters();\n\n        cameraSettings.setPreviewSize(mPreviewSize.width, mPreviewSize.height);\n        this.cameraView.setCameraLayout(mPreviewSize.width, mPreviewSize.height);\n        cameraManager.getCamera().setParameters(cameraSettings);\n        cameraManager.getCamera().setPreviewDisplay(holder);\n\n        cameraManager.getCamera().startPreview();\n    } catch (Exception e) {\n        Log.d(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<h2>Goal</h2>\n<p>Fullscreen camera preview on phone.</p>\n<h2>The problem</h2>\n<p>Now we are getting the preview with no distortion which is <strong>GOOD!</strong> and it has the same <code>height</code> as the <code>phone</code> as well which is also <strong>GOOD!</strong>. <strong>But!</strong> the width of the <code>preview</code> is bigger  than the <code>phone width</code> (of-course) so it turns out the the center of the camera is not on the center of the phone. Possible solutions we have thought about:</p>\n<ol>\n<li><code>move</code> the layout left to negative position to make the preview center in the center of the screen.</li>\n<li><code>crop</code> the layout  and draw only the center of the <code>new preview</code> that should be visible to the <code>phone screens</code></li>\n</ol>\n<h2>Any ideas how to overcome this issue?</h2>\n"},{"tags":["java","android","bash","shell","kotlin"],"answers":[{"tags":[],"owner":{"account_id":26000273,"reputation":123,"user_id":19710930,"display_name":"mendacium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659876449,"creation_date":1659876449,"answer_id":73267544,"question_id":73267515,"body_markdown":"Sounds like you need a keylogger/listener that can execute your command.","title":"How to start a bash script with a particular word (TextChangedListener), in Android","body":"<p>Sounds like you need a keylogger/listener that can execute your command.</p>\n"}],"owner":{"account_id":21239565,"reputation":17,"user_id":15623276,"display_name":"shohel hossain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659876449,"creation_date":1659876175,"question_id":73267515,"body_markdown":"I have designed a foreground application with accessibility and now I want to add a feature that whenever the user types a particular word say example HELP at any application For Example google or any notepad then a bash script would be executed\r\n\r\nI got to know that bash script or adb shell commands can be executed with `Runtime.getRuntime().exec(myCommand);`\r\n\r\nnow please help me figure out how can we use it whenever a particular word is typed at any application in android (and also help me in which class I should write the code and things I need to import)","title":"How to start a bash script with a particular word (TextChangedListener), in Android","body":"<p>I have designed a foreground application with accessibility and now I want to add a feature that whenever the user types a particular word say example HELP at any application For Example google or any notepad then a bash script would be executed</p>\n<p>I got to know that bash script or adb shell commands can be executed with <code>Runtime.getRuntime().exec(myCommand);</code></p>\n<p>now please help me figure out how can we use it whenever a particular word is typed at any application in android (and also help me in which class I should write the code and things I need to import)</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1659871869,"post_id":73266893,"comment_id":129393336,"body_markdown":"You could make `findAccountByIBAN` return an `Optional&lt;Account&gt;` and continue with your `ifPresent` check in your `depositToAccount` method.","body":"You could make <code>findAccountByIBAN</code> return an <code>Optional&lt;Account&gt;</code> and continue with your <code>ifPresent</code> check in your <code>depositToAccount</code> method."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659876393,"creation_date":1659873306,"answer_id":73267190,"question_id":73266893,"body_markdown":"&gt; The crux of my problem is that I **want to keep iterating** over that method **with different things**. I want to use `filter()` for my conditional logic instead of `if`-statements, but I cannot do that unless I can work with the result of my method as a stream.\r\n\r\nIt feels like you want to extend the logic by reusing the stream?\r\n\r\n*Stream* is a *one-time-use* mean of iteration. Once it produces the *result* or does the *final action* accordingly with its *terminal operation*, it gets **closed** and can&#39;t be used any further.\r\n\r\nYou have to place all the needed logic in the stream, there&#39;s no workaround.\r\n\r\nBut stream might produce an object with effectively encapsulates several resulting values (example from the JDK - *SummaryStatistics* classes like \r\n[`IntSummaryStatistics`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/IntSummaryStatistics.html)). And you can create a custom class for such a purpose.\r\n\r\nAlso, ***reminder***: `Predicate`s, `Function`s, etc. don&#39;t necessarily have to be hard-coded, you can provide them as method parameters.\r\n\r\n___________________________________________________\r\n\r\nNow, a word regarding the different versions of the code you&#39;ve shared.\r\n\r\nFrom the perspective of clean coding, the last version of the `depositToAccount()` isn&#39;t very great because it mixes the *responsibilities* of ***finding*** the *account* by `clientIBAN` and ***making operation*** with this *account*. It&#39;s better to keep the **separately**, like in your first version, as the [*Single responsibility principle*](https://en.wikipedia.org/wiki/Single-responsibility_principle) suggest.\r\n\r\nAnd there&#39;s a couple of things which are worth to point out:\r\n\r\n* In the first version, you&#39;re not checking whether the result returned by `findAccountByIBAN()` is not `null` which might result in a `NullPointerException`.\r\n\r\n* As *@Eritrean* has mentioned in the comments, instead of returning `null` from `findAccountByIBAN()` if a result was not found, it would be better to change the return type to `Optional&lt;Account&gt;` in order to be able to leverage the Optional API.","title":"Is there a way to continue working with the result of a method call as a Stream with Functional Java?","body":"<blockquote>\n<p>The crux of my problem is that I <strong>want to keep iterating</strong> over that method <strong>with different things</strong>. I want to use <code>filter()</code> for my conditional logic instead of <code>if</code>-statements, but I cannot do that unless I can work with the result of my method as a stream.</p>\n</blockquote>\n<p>It feels like you want to extend the logic by reusing the stream?</p>\n<p><em>Stream</em> is a <em>one-time-use</em> mean of iteration. Once it produces the <em>result</em> or does the <em>final action</em> accordingly with its <em>terminal operation</em>, it gets <strong>closed</strong> and can't be used any further.</p>\n<p>You have to place all the needed logic in the stream, there's no workaround.</p>\n<p>But stream might produce an object with effectively encapsulates several resulting values (example from the JDK - <em>SummaryStatistics</em> classes like\n<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/IntSummaryStatistics.html\" rel=\"nofollow noreferrer\"><code>IntSummaryStatistics</code></a>). And you can create a custom class for such a purpose.</p>\n<p>Also, <em><strong>reminder</strong></em>: <code>Predicate</code>s, <code>Function</code>s, etc. don't necessarily have to be hard-coded, you can provide them as method parameters.</p>\n<hr />\n<p>Now, a word regarding the different versions of the code you've shared.</p>\n<p>From the perspective of clean coding, the last version of the <code>depositToAccount()</code> isn't very great because it mixes the <em>responsibilities</em> of <em><strong>finding</strong></em> the <em>account</em> by <code>clientIBAN</code> and <em><strong>making operation</strong></em> with this <em>account</em>. It's better to keep the <strong>separately</strong>, like in your first version, as the <a href=\"https://en.wikipedia.org/wiki/Single-responsibility_principle\" rel=\"nofollow noreferrer\"><em>Single responsibility principle</em></a> suggest.</p>\n<p>And there's a couple of things which are worth to point out:</p>\n<ul>\n<li><p>In the first version, you're not checking whether the result returned by <code>findAccountByIBAN()</code> is not <code>null</code> which might result in a <code>NullPointerException</code>.</p>\n</li>\n<li><p>As <em>@Eritrean</em> has mentioned in the comments, instead of returning <code>null</code> from <code>findAccountByIBAN()</code> if a result was not found, it would be better to change the return type to <code>Optional&lt;Account&gt;</code> in order to be able to leverage the Optional API.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":26000083,"reputation":11,"user_id":19710761,"display_name":"JavaRWolf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659876393,"creation_date":1659870589,"question_id":73266893,"body_markdown":"I&#39;m fairly new to functional programming in Java, and I&#39;m still experimenting with the code represented below.\r\n\r\nI&#39;ve created a method which for finding an Object within an *Array* \r\nusing stream.\r\n\r\nMethod for finding an `Account` with provided `clientIBAN`:\r\n\r\n    public static Account findAccountByIBAN(String clientIBAN) {\r\n    \r\n        return bankAccounts.stream()\r\n            .filter(account -&gt; account.getIBAN()\r\n                .equals(clientIBAN)).findFirst()\r\n            .orElse(null);\r\n    }\r\n\r\nI want to continue working with the result returned by this method.\r\n\r\nMy idea is to modify the result in the calling method. I want to know if there is a more elegant way to do that than the one I came up with?\r\n\r\nMethod that changes the state of the `Account`:\r\n\r\n    public static void depositToAccount(String clientIBAN, BigDecimal depositedAmount) {\r\n        \r\n        findAccountByIBAN(clientIBAN)\r\n            .setAccountBalance(findAccountByIBAN(clientIBAN)\r\n                .getAccountBalance()\r\n                .add(depositedAmount));\r\n    }\r\n\r\nAnother option I was thinking of is just to iterate over *accounts* with a stream write inside `depositToAccount()` instead of calling `findAccountByIBAN()`:\r\n\r\n    public static void depositToAccount(String clientIBAN, BigDecimal depositedAmount) {\r\n        bankAccounts.stream()\r\n            .filter(account -&gt; account.getIBAN()\r\n                .equals(clientIBAN)).findFirst()\r\n            .ifPresent(balance -&gt; \r\n                balance.setAccountBalance(balance.getAccountBalance().add(depositedAmount)));\r\n    }\r\n\r\nThe crux of my problem is that I want to keep iterating over that method with different things. I want to use `filter()` for my conditional logic instead of `if`-statements, but I cannot do that unless I can work with the result of my method as a stream.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there a way to continue working with the result of a method call as a Stream with Functional Java?","body":"<p>I'm fairly new to functional programming in Java, and I'm still experimenting with the code represented below.</p>\n<p>I've created a method which for finding an Object within an <em>Array</em>\nusing stream.</p>\n<p>Method for finding an <code>Account</code> with provided <code>clientIBAN</code>:</p>\n<pre><code>public static Account findAccountByIBAN(String clientIBAN) {\n\n    return bankAccounts.stream()\n        .filter(account -&gt; account.getIBAN()\n            .equals(clientIBAN)).findFirst()\n        .orElse(null);\n}\n</code></pre>\n<p>I want to continue working with the result returned by this method.</p>\n<p>My idea is to modify the result in the calling method. I want to know if there is a more elegant way to do that than the one I came up with?</p>\n<p>Method that changes the state of the <code>Account</code>:</p>\n<pre><code>public static void depositToAccount(String clientIBAN, BigDecimal depositedAmount) {\n    \n    findAccountByIBAN(clientIBAN)\n        .setAccountBalance(findAccountByIBAN(clientIBAN)\n            .getAccountBalance()\n            .add(depositedAmount));\n}\n</code></pre>\n<p>Another option I was thinking of is just to iterate over <em>accounts</em> with a stream write inside <code>depositToAccount()</code> instead of calling <code>findAccountByIBAN()</code>:</p>\n<pre><code>public static void depositToAccount(String clientIBAN, BigDecimal depositedAmount) {\n    bankAccounts.stream()\n        .filter(account -&gt; account.getIBAN()\n            .equals(clientIBAN)).findFirst()\n        .ifPresent(balance -&gt; \n            balance.setAccountBalance(balance.getAccountBalance().add(depositedAmount)));\n}\n</code></pre>\n<p>The crux of my problem is that I want to keep iterating over that method with different things. I want to use <code>filter()</code> for my conditional logic instead of <code>if</code>-statements, but I cannot do that unless I can work with the result of my method as a stream.</p>\n"},{"tags":["java","xml","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659872310,"post_id":73267076,"comment_id":129393422,"body_markdown":"Stop using the outdated xml configuration in spring. Use the java configuration instead","body":"Stop using the outdated xml configuration in spring. Use the java configuration instead"},{"owner":{"account_id":7279640,"reputation":46,"user_id":5549819,"display_name":"lap hoanglap"},"score":0,"creation_date":1659872363,"post_id":73267076,"comment_id":129393435,"body_markdown":"i tried both of them for learning :D","body":"i tried both of them for learning :D"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1659872529,"post_id":73267076,"comment_id":129393462,"body_markdown":"Why you learn outdated things?","body":"Why you learn outdated things?"},{"owner":{"account_id":7279640,"reputation":46,"user_id":5549819,"display_name":"lap hoanglap"},"score":0,"creation_date":1659898595,"post_id":73267076,"comment_id":129399093,"body_markdown":"I need to upgrade an old project","body":"I need to upgrade an old project"}],"answers":[{"tags":[],"owner":{"account_id":21417136,"reputation":2183,"user_id":15777370,"display_name":"vszholobov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659876373,"creation_date":1659875335,"answer_id":73267420,"question_id":73267076,"body_markdown":"`restExecution` `@Pointcut` is wrong, because `rest` method of `GrammyGuitarist` doesn&#39;t take any arguments. `playGuitar` method takes `brand` argument, so you need to change your pointcut a bit:\r\n```\r\n@Component(&quot;annotatedAdvice&quot;)\r\n@Aspect\r\npublic class AnnotatedAdvice {\r\n    @Pointcut(&quot;execution(* play*(..)) &amp;&amp; args(brand)&quot;)\r\n    public void playExecution(String brand) {\r\n\r\n    }\r\n\r\n    @Pointcut(&quot;bean(grammyGuitarist)&quot;)\r\n    public void isGrammyGuitarist() {\r\n\r\n    }\r\n\r\n    @Before(&quot;playExecution(brand) &amp;&amp; isGrammyGuitarist()&quot;)\r\n    public void simpleBeforeAdvice(JoinPoint joinPoint, String brand) {\r\n        System.out.println(&quot;Before Advice processing&quot;);\r\n        System.out.println(&quot;Playing guitar :&quot; + brand);\r\n        System.out.println(&quot;Executing :&quot; + joinPoint.getSignature().getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName());\r\n\r\n    }\r\n}\r\n``` \r\nWhen you do this, aspects will indeed be created, but you will start getting exceptions:\r\n```\r\nBean named &#39;grammyGuitarist&#39; is expected to be of type &#39;com.example.demo.aspect.GrammyGuitarist&#39; but was actually of type &#39;jdk.proxy2.$Proxy14&#39;\r\n```\r\nThis is because `GrammyGuitarist` implements an interface, and [in this case `Spring AOP` uses JDK dynamic proxies](https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html)\r\n\r\nThe simplest solution would be to force the use of a CGLIB proxy. To do this, you need to add an annotation above the aspect:\r\n```\r\n@EnableAspectJAutoProxy(proxyTargetClass = true)\r\n```\r\nAfter that, the program will give the expected result:\r\n```\r\nannotatedAdvice\r\ndocumentaries\r\ngrammyGuitarist\r\norg.springframework.aop.config.internalAutoProxyCreator\r\nBefore Advice processing\r\nPlaying guitar :LakeWood\r\nExecuting :com.example.demo.aspect.GrammyGuitarist playGuitar\r\nGet Guitar LakeWood\r\nStart to play guitar\r\nzzZZ!!!!\r\n```\r\nIn Spring Boot, CGLIB enforcement is enabled by default. Check [this question for better understanding](https://stackoverflow.com/questions/73231258/spring-boot-default-proxying-mechanism)","title":"Spring Bean Config","body":"<p><code>restExecution</code> <code>@Pointcut</code> is wrong, because <code>rest</code> method of <code>GrammyGuitarist</code> doesn't take any arguments. <code>playGuitar</code> method takes <code>brand</code> argument, so you need to change your pointcut a bit:</p>\n<pre><code>@Component(&quot;annotatedAdvice&quot;)\n@Aspect\npublic class AnnotatedAdvice {\n    @Pointcut(&quot;execution(* play*(..)) &amp;&amp; args(brand)&quot;)\n    public void playExecution(String brand) {\n\n    }\n\n    @Pointcut(&quot;bean(grammyGuitarist)&quot;)\n    public void isGrammyGuitarist() {\n\n    }\n\n    @Before(&quot;playExecution(brand) &amp;&amp; isGrammyGuitarist()&quot;)\n    public void simpleBeforeAdvice(JoinPoint joinPoint, String brand) {\n        System.out.println(&quot;Before Advice processing&quot;);\n        System.out.println(&quot;Playing guitar :&quot; + brand);\n        System.out.println(&quot;Executing :&quot; + joinPoint.getSignature().getDeclaringTypeName() + &quot; &quot; + joinPoint.getSignature().getName());\n\n    }\n}\n</code></pre>\n<p>When you do this, aspects will indeed be created, but you will start getting exceptions:</p>\n<pre><code>Bean named 'grammyGuitarist' is expected to be of type 'com.example.demo.aspect.GrammyGuitarist' but was actually of type 'jdk.proxy2.$Proxy14'\n</code></pre>\n<p>This is because <code>GrammyGuitarist</code> implements an interface, and <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\" rel=\"nofollow noreferrer\">in this case <code>Spring AOP</code> uses JDK dynamic proxies</a></p>\n<p>The simplest solution would be to force the use of a CGLIB proxy. To do this, you need to add an annotation above the aspect:</p>\n<pre><code>@EnableAspectJAutoProxy(proxyTargetClass = true)\n</code></pre>\n<p>After that, the program will give the expected result:</p>\n<pre><code>annotatedAdvice\ndocumentaries\ngrammyGuitarist\norg.springframework.aop.config.internalAutoProxyCreator\nBefore Advice processing\nPlaying guitar :LakeWood\nExecuting :com.example.demo.aspect.GrammyGuitarist playGuitar\nGet Guitar LakeWood\nStart to play guitar\nzzZZ!!!!\n</code></pre>\n<p>In Spring Boot, CGLIB enforcement is enabled by default. Check <a href=\"https://stackoverflow.com/questions/73231258/spring-boot-default-proxying-mechanism\">this question for better understanding</a></p>\n"}],"owner":{"account_id":7279640,"reputation":46,"user_id":5549819,"display_name":"lap hoanglap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1659876373,"creation_date":1659872232,"question_id":73267076,"body_markdown":"I&#39;m learning the bean AOP with Annotation and xml config but Spring does not create the beans. \r\n\r\n\r\n\r\nInterface\r\n\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\npublic interface Artist {\r\n    void perform();\r\n}\r\n```\r\nGuitar Class\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component(&quot;grammyGuitarist&quot;)\r\npublic class GrammyGuitarist implements Artist{\r\n\r\n    @Override\r\n    public void perform() {\r\n        System.out.println(&quot;Start to play guitar&quot;);\r\n    }\r\n\r\n    public void playGuitar(String brand)\r\n    {\r\n        System.out.println(&quot;Get Guitar &quot;+brand);\r\n    }\r\n    public void rest()\r\n    {\r\n        System.out.println(&quot;zzZZ!!!!&quot;);\r\n    }\r\n}\r\n```\r\nDocumentarist\r\n\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component(value=&quot;documentaries&quot;)\r\npublic class Documentarist {\r\n    private GrammyGuitarist guitarist;\r\n    public void executed()\r\n    {\r\n        guitarist.playGuitar(&quot;LakeWood&quot;);\r\n        guitarist.perform();\r\n        guitarist.rest();\r\n    }\r\n\r\n    @Autowired\r\n    public void setGuitarist(GrammyGuitarist guitarist) {\r\n        this.guitarist = guitarist;\r\n    }\r\n}\r\n```\r\n\r\nAdvice Class\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\nimport org.aspectj.lang.JoinPoint;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Before;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component(&quot;annotatedAdvice&quot;)\r\n@Aspect\r\npublic class AnnotatedAdvice {\r\n    @Pointcut(&quot;execution(* rest*(..)) &amp;&amp; args(brand)&quot;)\r\n    public void restExecution(String brand)\r\n    {\r\n\r\n    }\r\n\r\n    @Pointcut(&quot;bean(grammyGuitarist)&quot;)\r\n    public void isGrammyGuitarist()\r\n    {\r\n\r\n    }\r\n\r\n    @Before(&quot;restExecution(brand) &amp;&amp; isGrammyGuitarist&quot;)\r\n    public void simpleBeforeAdvice(JoinPoint joinPoint , String brand)\r\n    {\r\n        System.out.println(&quot;Before Advice processing&quot;);\r\n        System.out.println(&quot;Playing guitar :&quot; + brand);\r\n        System.out.println(&quot;Executing :&quot;+ joinPoint.getSignature().getDeclaringTypeName() +&quot; &quot;+joinPoint.getSignature().getName());\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nDemo Class\r\n```\r\npackage com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\r\n\r\nimport org.springframework.context.support.GenericXmlApplicationContext;\r\n\r\nimport java.util.Arrays;\r\n\r\n\r\npublic class AspectJAnnotationDemo {\r\n    public static void main(String[] args) {\r\n        GenericXmlApplicationContext ctx = new GenericXmlApplicationContext();\r\n        ctx.load(&quot;aop-aspectj-annotation-style.xml&quot;);\r\n        ctx.refresh();\r\n        Arrays.stream(ctx.getBeanDefinitionNames()).forEach(System.out::println);\r\n        Documentarist documentarist = ctx.getBean(&quot;documentaries&quot;,Documentarist.class);\r\n        documentarist.executed();\r\n    }\r\n}\r\n```\r\nMy Xml Config File \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context.xsd\r\n    http://www.springframework.org/schema/aop\r\n    http://www.springframework.org/schema/aop/spring-aop.xsd\r\n    &quot;&gt;\r\n    &lt;context:annotation-config/&gt;\r\n    &lt;context:component-scan base-package=&quot;com.spring.studying.SpringAop&quot;/&gt;\r\n\r\n\r\n    &lt;aop:aspectj-autoproxy/&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nNone of my beans were created just 6 default beans from spring.\r\n\r\nI have try to create bean with &lt;bean&gt; tag and it worked fine . Just don&#39;t know why my code did not work with the annotation.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Bean Config","body":"<p>I'm learning the bean AOP with Annotation and xml config but Spring does not create the beans.</p>\n<p>Interface</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\npublic interface Artist {\n    void perform();\n}\n</code></pre>\n<p>Guitar Class</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\n\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;grammyGuitarist&quot;)\npublic class GrammyGuitarist implements Artist{\n\n    @Override\n    public void perform() {\n        System.out.println(&quot;Start to play guitar&quot;);\n    }\n\n    public void playGuitar(String brand)\n    {\n        System.out.println(&quot;Get Guitar &quot;+brand);\n    }\n    public void rest()\n    {\n        System.out.println(&quot;zzZZ!!!!&quot;);\n    }\n}\n</code></pre>\n<p>Documentarist</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component(value=&quot;documentaries&quot;)\npublic class Documentarist {\n    private GrammyGuitarist guitarist;\n    public void executed()\n    {\n        guitarist.playGuitar(&quot;LakeWood&quot;);\n        guitarist.perform();\n        guitarist.rest();\n    }\n\n    @Autowired\n    public void setGuitarist(GrammyGuitarist guitarist) {\n        this.guitarist = guitarist;\n    }\n}\n</code></pre>\n<p>Advice Class</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;annotatedAdvice&quot;)\n@Aspect\npublic class AnnotatedAdvice {\n    @Pointcut(&quot;execution(* rest*(..)) &amp;&amp; args(brand)&quot;)\n    public void restExecution(String brand)\n    {\n\n    }\n\n    @Pointcut(&quot;bean(grammyGuitarist)&quot;)\n    public void isGrammyGuitarist()\n    {\n\n    }\n\n    @Before(&quot;restExecution(brand) &amp;&amp; isGrammyGuitarist&quot;)\n    public void simpleBeforeAdvice(JoinPoint joinPoint , String brand)\n    {\n        System.out.println(&quot;Before Advice processing&quot;);\n        System.out.println(&quot;Playing guitar :&quot; + brand);\n        System.out.println(&quot;Executing :&quot;+ joinPoint.getSignature().getDeclaringTypeName() +&quot; &quot;+joinPoint.getSignature().getName());\n\n    }\n\n}\n</code></pre>\n<p>Demo Class</p>\n<pre><code>package com.spring.studying.SpringAop.FrameworkService.AspectJAnnotation;\n\nimport org.springframework.context.support.GenericXmlApplicationContext;\n\nimport java.util.Arrays;\n\n\npublic class AspectJAnnotationDemo {\n    public static void main(String[] args) {\n        GenericXmlApplicationContext ctx = new GenericXmlApplicationContext();\n        ctx.load(&quot;aop-aspectj-annotation-style.xml&quot;);\n        ctx.refresh();\n        Arrays.stream(ctx.getBeanDefinitionNames()).forEach(System.out::println);\n        Documentarist documentarist = ctx.getBean(&quot;documentaries&quot;,Documentarist.class);\n        documentarist.executed();\n    }\n}\n</code></pre>\n<p>My Xml Config File</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context.xsd\n    http://www.springframework.org/schema/aop\n    http://www.springframework.org/schema/aop/spring-aop.xsd\n    &quot;&gt;\n    &lt;context:annotation-config/&gt;\n    &lt;context:component-scan base-package=&quot;com.spring.studying.SpringAop&quot;/&gt;\n\n\n    &lt;aop:aspectj-autoproxy/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>None of my beans were created just 6 default beans from spring.</p>\n<p>I have try to create bean with  tag and it worked fine . Just don't know why my code did not work with the annotation.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-async"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1659875307,"post_id":73267386,"comment_id":129394084,"body_markdown":"Have you enabled `@Async` support?","body":"Have you enabled <code>@Async</code> support?"},{"owner":{"account_id":13687384,"reputation":119,"user_id":9876163,"display_name":"Amit Kumar"},"score":0,"creation_date":1659875513,"post_id":73267386,"comment_id":129394135,"body_markdown":"Thanks, missed that part .\nAdded following annotation\n#EnableAsync\n#EnableScheduling","body":"Thanks, missed that part . Added following annotation #EnableAsync #EnableScheduling"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":1,"creation_date":1659875575,"post_id":73267386,"comment_id":129394144,"body_markdown":"why not use webflux to consume the third party api call? it will give you advanced support similar to async.","body":"why not use webflux to consume the third party api call? it will give you advanced support similar to async."},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":1,"creation_date":1659875764,"post_id":73267386,"comment_id":129394186,"body_markdown":"You need to enable async @EnableAsync to make it work.","body":"You need to enable async @EnableAsync to make it work."}],"owner":{"account_id":13687384,"reputation":119,"user_id":9876163,"display_name":"Amit Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659875027,"creation_date":1659875027,"question_id":73267386,"body_markdown":"I am trying to fetch the data and store it in database.\r\n\r\nCreated a Get mapping for invoking the data from url and storing it in database using service class .\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String root(Model model) throws IOException {\r\n    \tmodel.addAttribute(&quot;test1&quot;,&quot;Hello user&quot;);\r\n   \t   \tservice.populate();\r\n    \treturn &quot;mainTemplate&quot;;\r\n    }\r\n\r\nmy populate method in service class add data to database.\r\n\r\n    public void populate() throws IOException{\r\n    \t\tURL url = new URL(&quot;https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/01-01-2021.csv&quot;); \r\n    \t\tHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n    \t\tint res= connection.getResponseCode();\r\n    \t\tCSVReader reader=null;\r\n    \t\tif(res==200) {\r\n    \t\tlog.info(&quot;Connected to github&quot;);\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t  BufferedReader readurl = new BufferedReader(new InputStreamReader(connection.getInputStream()),8192);\r\n    \t\t\treader=new CSVReader(readurl);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tString[] line;\r\n    \t\t\tint i=0;\r\n    \t\t\twhile((line=reader.readNext())!=null) {\r\n    \t\t\t\t\r\n    \t\t\t\tif(i==0) {\r\n    \t\t\t\t\ti++;\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \t\t\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \t\t\t\tCorona corona = new Corona();\r\n    \t\t\t\tcorona.setLastupDate(LocalDateTime.parse(line[4],formatter));\r\n    \t\t\t\tcorona.setConfirmed(Long.valueOf(line[7]));\r\n    \t\t\t\tcorona.setRecovered(Long.valueOf(line[9]));\r\n    \t\t\t\tcorona.setActive(Long.valueOf(line[10]));\r\n    \t\t\t\tcorona.setCombinedKey(line[11]);\r\n    \t\t\t\tlog.info(corona.toString());\r\n    \t\t\t\trepo.save(corona);\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (CsvValidationException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t\tfinally {\r\n    \t\t\tif(reader!=null) {\r\n    \t\t\t\t\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\treader.close();\r\n    \t\t\t\t\t\r\n    \t\t\t\t} catch (IOException e2) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t\te2.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tlog.info(&quot;URL is wrong&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n\r\nEverything is working fine when i hit the resource url ,but i have to wait for some time to show my webpage , until all data does not get stored in database.\r\n\r\nI want to show **&quot;Data is being added&quot;** in mainTemplate.html as soon as i hit the url. So that my populate method runs in background and i don&#39;t have to wait for completion of method to show my mainTemplate .\r\n\r\nI tired to add `@Async` method annotation but that does not seem to be worked .\r\n\r\n\r\n \r\n\r\n\r\n","title":"How to run the method in background while i am adding the data in database in springboot?","body":"<p>I am trying to fetch the data and store it in database.</p>\n<p>Created a Get mapping for invoking the data from url and storing it in database using service class .</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic String root(Model model) throws IOException {\n    model.addAttribute(&quot;test1&quot;,&quot;Hello user&quot;);\n    service.populate();\n    return &quot;mainTemplate&quot;;\n}\n</code></pre>\n<p>my populate method in service class add data to database.</p>\n<pre><code>public void populate() throws IOException{\n        URL url = new URL(&quot;https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/01-01-2021.csv&quot;); \n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        int res= connection.getResponseCode();\n        CSVReader reader=null;\n        if(res==200) {\n        log.info(&quot;Connected to github&quot;);\n        \n        try {\n          BufferedReader readurl = new BufferedReader(new InputStreamReader(connection.getInputStream()),8192);\n            reader=new CSVReader(readurl);\n            \n            \n            String[] line;\n            int i=0;\n            while((line=reader.readNext())!=null) {\n                \n                if(i==0) {\n                    i++;\n                    continue;\n                }\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n                Corona corona = new Corona();\n                corona.setLastupDate(LocalDateTime.parse(line[4],formatter));\n                corona.setConfirmed(Long.valueOf(line[7]));\n                corona.setRecovered(Long.valueOf(line[9]));\n                corona.setActive(Long.valueOf(line[10]));\n                corona.setCombinedKey(line[11]);\n                log.info(corona.toString());\n                repo.save(corona);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (CsvValidationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } \n        finally {\n            if(reader!=null) {\n                \n                try {\n                    reader.close();\n                    \n                } catch (IOException e2) {\n                    // TODO: handle exception\n                    e2.printStackTrace();\n                }\n            }\n            \n        }\n        \n        }\n        else {\n            log.info(&quot;URL is wrong&quot;);\n        }\n        \n    }\n</code></pre>\n<p>Everything is working fine when i hit the resource url ,but i have to wait for some time to show my webpage , until all data does not get stored in database.</p>\n<p>I want to show <strong>&quot;Data is being added&quot;</strong> in mainTemplate.html as soon as i hit the url. So that my populate method runs in background and i don't have to wait for completion of method to show my mainTemplate .</p>\n<p>I tired to add <code>@Async</code> method annotation but that does not seem to be worked .</p>\n"},{"tags":["java","object","hashcode"],"comments":[{"owner":{"account_id":198193,"reputation":1515,"user_id":442716,"accept_rate":68,"display_name":"Ustaman Sangat"},"score":2,"creation_date":1323878282,"post_id":2237720,"comment_id":10530777,"body_markdown":"check out System.identityHashCode() it gives you the default hashcode - the one that would have been returned if you had not overridden the method.","body":"check out System.identityHashCode() it gives you the default hashcode - the one that would have been returned if you had not overridden the method."},{"owner":{"account_id":5565685,"reputation":8016,"user_id":4413098,"accept_rate":86,"display_name":"mightyWOZ"},"score":0,"creation_date":1637415055,"post_id":2237720,"comment_id":123822842,"body_markdown":"That depends on the the JVM that you are using. for Hotspot see [this](https://srvaroa.github.io/jvm/java/openjdk/biased-locking/2017/01/30/hashCode.html)","body":"That depends on the the JVM that you are using. for Hotspot see <a href=\"https://srvaroa.github.io/jvm/java/openjdk/biased-locking/2017/01/30/hashCode.html\" rel=\"nofollow noreferrer\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":97389,"reputation":3871,"user_id":264180,"display_name":"Hans W"},"down_vote_count":12,"up_vote_count":58,"is_accepted":true,"score":46,"last_activity_date":1659874928,"creation_date":1265814368,"answer_id":2237756,"question_id":2237720,"body_markdown":"Typically, hashCode() just returns the object&#39;s address in memory if you don&#39;t override it.\r\n\r\nFrom [1]:\r\n\r\n&gt; As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.) \r\n\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode\r\n \r\n[1]: http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode()","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>Typically, hashCode() just returns the object's address in memory if you don't override it.</p>\n<p>From <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">1</a>:</p>\n<blockquote>\n<p>As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.)</p>\n</blockquote>\n<p><sup>1</sup> <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/java/lang/Object.html#hashCode</a></p>\n"},{"tags":[],"owner":{"account_id":12262,"reputation":103374,"user_id":24054,"accept_rate":86,"display_name":"kgiannakakis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1265814401,"creation_date":1265814401,"answer_id":2237763,"question_id":2237720,"body_markdown":"You should try to implement the hash code so that different objects will give different results. I don&#39;t think there is a standard way of doing this.\r\n\r\nRead this article for some [information][1].\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp05273.html","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>You should try to implement the hash code so that different objects will give different results. I don't think there is a standard way of doing this.</p>\n\n<p>Read this article for some <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05273.html\" rel=\"nofollow noreferrer\">information</a>.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1265814566,"creation_date":1265814566,"answer_id":2237791,"question_id":2237720,"body_markdown":"A hashcode is useful for storing an object in a collection, such as a hashset. By allowing an Object to define a Hashcode as something unique it allows the algorithm of the HashSet to work effectively.\r\n\r\nObject itself uses the Object&#39;s address in memory, which is very unique, but may not be very useful if two different objects (for example two identical strings) should be considered the same, even if they are duplicated in memory.","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>A hashcode is useful for storing an object in a collection, such as a hashset. By allowing an Object to define a Hashcode as something unique it allows the algorithm of the HashSet to work effectively.</p>\n\n<p>Object itself uses the Object's address in memory, which is very unique, but may not be very useful if two different objects (for example two identical strings) should be considered the same, even if they are duplicated in memory.</p>\n"},{"tags":[],"owner":{"account_id":69275,"reputation":10431,"user_id":201672,"display_name":"tonio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265814594,"creation_date":1265814594,"answer_id":2237795,"question_id":2237720,"body_markdown":"the default hashcode implementation gives the internal address of the object in the jvm, as a 32 bits integer. Thus, two different (in memory) objects will have different hashcodes.\r\n\r\nThis is consistent with the default implementation of equals. If you want to override equals for your objects, you will have to adapt hashCode so that they are consistent.\r\n\r\nSee http://www.ibm.com/developerworks/java/library/j-jtp05273.html for a good overview.","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>the default hashcode implementation gives the internal address of the object in the jvm, as a 32 bits integer. Thus, two different (in memory) objects will have different hashcodes.</p>\n\n<p>This is consistent with the default implementation of equals. If you want to override equals for your objects, you will have to adapt hashCode so that they are consistent.</p>\n\n<p>See <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05273.html\" rel=\"nofollow noreferrer\">http://www.ibm.com/developerworks/java/library/j-jtp05273.html</a> for a good overview.</p>\n"},{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1447734172,"creation_date":1265814603,"answer_id":2237797,"question_id":2237720,"body_markdown":"The implementation of [`hashCode()`][1] may differ from class to class but the contract for [`hashCode()`][1] is very specific and stated clearly and explicitly in the [Javadocs][1]:\r\n\r\n&gt; Returns a hash code value for the object. This method is supported for the benefit of hashtables such as those provided by java.util.Hashtable.  \r\n  \r\n&gt; The general contract of hashCode is:\r\n\r\n&gt; - Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.  \r\n- If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.  \r\n- It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.  \r\n  \r\n&gt; As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.)\r\n\r\n[`hashCode()`][1] is closely tied to [`equals()`][2] and if you override [`equals()`][2], you should also override [`hashCode()`][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>The implementation of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode()</code></a> may differ from class to class but the contract for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode()</code></a> is very specific and stated clearly and explicitly in the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\">Javadocs</a>:</p>\n\n<blockquote>\n  <p>Returns a hash code value for the object. This method is supported for the benefit of hashtables such as those provided by java.util.Hashtable.  </p>\n  \n  <p>The general contract of hashCode is:</p>\n  \n  <ul>\n  <li>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.  </li>\n  <li>If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.  </li>\n  <li>It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.  </li>\n  </ul>\n  \n  <p>As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.)</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode()</code></a> is closely tied to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"noreferrer\"><code>equals()</code></a> and if you override <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"noreferrer\"><code>equals()</code></a>, you should also override <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":42623,"reputation":749,"user_id":124194,"accept_rate":45,"display_name":"ndeuma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1265814671,"creation_date":1265814671,"answer_id":2237807,"question_id":2237720,"body_markdown":"Two objects with different hash code must not be equal with regard to equals()\r\n\r\n`a.hashCode() != b.hashCode()` must imply `!a.equals(b)`\r\n\r\nHowever, two objects that are not equal with regard to equals() can have the same hash code. Storing these objects in a set or map will become less efficient if many objects have the same hash code.\r\n","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>Two objects with different hash code must not be equal with regard to equals()</p>\n\n<p><code>a.hashCode() != b.hashCode()</code> must imply <code>!a.equals(b)</code></p>\n\n<p>However, two objects that are not equal with regard to equals() can have the same hash code. Storing these objects in a set or map will become less efficient if many objects have the same hash code.</p>\n"},{"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265824039,"creation_date":1265824039,"answer_id":2239092,"question_id":2237720,"body_markdown":"If hashcode is not overriden you will call Object&#39;s hashcode, here is an excerpt from its javadoc:\r\n\r\n&gt; As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.) ","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>If hashcode is not overriden you will call Object's hashcode, here is an excerpt from its javadoc:</p>\n\n<blockquote>\n  <p>As much as is reasonably practical, the hashCode method defined by class Object does return distinct integers for distinct objects. (This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language.) </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":198193,"reputation":1515,"user_id":442716,"accept_rate":68,"display_name":"Ustaman Sangat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323878163,"creation_date":1323877666,"answer_id":8507376,"question_id":2237720,"body_markdown":"Not really an answer but adding to my earlier comment \r\n\r\n&gt; internal address of the object cannot be guaranteed to remain unchanged in the JVM, whose garbage collector might move it around during heap compaction.\r\n\r\nI tried to do something like this:\r\n\r\n    public static void main(String[] args) {\r\n        final Object object = new Object();\r\n        while (true) {\r\n            int hash = object.hashCode();\r\n            int x = 0;\r\n            Runtime r = Runtime.getRuntime();\r\n            List&lt;Object&gt; list = new LinkedList&lt;Object&gt;();\r\n            while (r.freeMemory() / (double) r.totalMemory() &gt; 0.3) {\r\n                Object p = new Object();\r\n                list.add(p);\r\n                x += object.hashCode();//ensure optimizer or JIT won&#39;t remove this\r\n            }\r\n            System.out.println(x);\r\n            list.clear();\r\n            r.gc();\r\n            if (object.hashCode() != hash) {\r\n                System.out.println(&quot;Voila!&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\nBut the hashcode indeed doesn&#39;t change... can someone tell me how Sun&#39;s JDK actually implements Obect.hashcode?","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>Not really an answer but adding to my earlier comment </p>\n\n<blockquote>\n  <p>internal address of the object cannot be guaranteed to remain unchanged in the JVM, whose garbage collector might move it around during heap compaction.</p>\n</blockquote>\n\n<p>I tried to do something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    final Object object = new Object();\n    while (true) {\n        int hash = object.hashCode();\n        int x = 0;\n        Runtime r = Runtime.getRuntime();\n        List&lt;Object&gt; list = new LinkedList&lt;Object&gt;();\n        while (r.freeMemory() / (double) r.totalMemory() &gt; 0.3) {\n            Object p = new Object();\n            list.add(p);\n            x += object.hashCode();//ensure optimizer or JIT won't remove this\n        }\n        System.out.println(x);\n        list.clear();\n        r.gc();\n        if (object.hashCode() != hash) {\n            System.out.println(\"Voila!\");\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>But the hashcode indeed doesn't change... can someone tell me how Sun's JDK actually implements Obect.hashcode?</p>\n"},{"tags":[],"owner":{"account_id":1864114,"reputation":764,"user_id":1688064,"display_name":"Larsen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1350536910,"creation_date":1350491043,"answer_id":12938872,"question_id":2237720,"body_markdown":"returns 6 digit hex number. This is usually the memory location of the slot where the object is addressed. From an algorithmic per-se, I guess JDK does double hashing (native implementation) which is one of the best hashing functions for open addressing. This double hashing scheme highly reduces the possibility of collisions.\r\n\r\nThe following post will give a supportive idea -\r\n\r\nhttps://stackoverflow.com/questions/12945894/java-hashmap-confusion-about-collision-handling-and-the-get-method/12946052#12946052\r\n","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>returns 6 digit hex number. This is usually the memory location of the slot where the object is addressed. From an algorithmic per-se, I guess JDK does double hashing (native implementation) which is one of the best hashing functions for open addressing. This double hashing scheme highly reduces the possibility of collisions.</p>\n\n<p>The following post will give a supportive idea -</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12945894/java-hashmap-confusion-about-collision-handling-and-the-get-method/12946052#12946052\">Java - HashMap confusion about collision handling and the get() method</a></p>\n"},{"tags":[],"owner":{"account_id":542673,"reputation":7014,"user_id":911576,"accept_rate":62,"display_name":"anish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417369499,"creation_date":1417369499,"answer_id":27216215,"question_id":2237720,"body_markdown":"**You must override hashCode in every class that overrides equals.** Failure to do so will result in a violation of the general contract for Object.hashCode, which will prevent your class from functioning properly in `conjunction with all hash-based collection`s, `including HashMap, HashSet, and Hashtable.`","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p><strong>You must override hashCode in every class that overrides equals.</strong> Failure to do so will result in a violation of the general contract for Object.hashCode, which will prevent your class from functioning properly in <code>conjunction with all hash-based collection</code>s, <code>including HashMap, HashSet, and Hashtable.</code></p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1441706137,"creation_date":1441706137,"answer_id":32454673,"question_id":2237720,"body_markdown":"In HotSpot JVM by default on the first invocation of non-overloaded `Object.hashCode` or `System.identityHashCode` a random number is generated and stored in the object header. The consequent calls to `Object.hashCode` or `System.identityHashCode` just extract this value from the header. By default it has nothing in common with object content or object location, just random number. This behavior is controlled by `-XX:hashCode=n` HotSpot JVM option which has the following possible values:\r\n\r\n* 0: use global random generator. This is default setting in Java 7. It has the disadvantage that concurrent calls from multiple threads may cause a race condition which will result in generating the same hashCode for different objects. Also in highly-concurrent environment delays are possible due to contention (using the same memory region from different CPU cores).\r\n* 5: use some thread-local xor-shift random generator which is free from the previous disadvantages. This is default setting in Java 8.\r\n* 1: use object pointer mixed with some random value which is changed on the &quot;stop-the-world&quot; events, so between stop-the-world events (like garbage collection) generated hashCodes are stable (for testing/debugging purposes)\r\n* 2: use always `1` (for testing/debugging purposes)\r\n* 3: use autoincrementing numbers (for testing/debugging purposes, also global counter is used, thus contention and race conditions are possible)\r\n* 4: use object pointer trimmed to 32 bit if necessary (for testing/debugging purposes)\r\n\r\nNote that even if you set `-XX:hashCode=4`, the hashCode will not always point to the object address. Object may be moved later, but hashCode will stay the same. Also object addresses are poorly distributed (if your application uses not so much memory, most objects will be located close to each other), so you may end up having unbalanced hash tables if you use this option.","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>In HotSpot JVM by default on the first invocation of non-overloaded <code>Object.hashCode</code> or <code>System.identityHashCode</code> a random number is generated and stored in the object header. The consequent calls to <code>Object.hashCode</code> or <code>System.identityHashCode</code> just extract this value from the header. By default it has nothing in common with object content or object location, just random number. This behavior is controlled by <code>-XX:hashCode=n</code> HotSpot JVM option which has the following possible values:</p>\n\n<ul>\n<li>0: use global random generator. This is default setting in Java 7. It has the disadvantage that concurrent calls from multiple threads may cause a race condition which will result in generating the same hashCode for different objects. Also in highly-concurrent environment delays are possible due to contention (using the same memory region from different CPU cores).</li>\n<li>5: use some thread-local xor-shift random generator which is free from the previous disadvantages. This is default setting in Java 8.</li>\n<li>1: use object pointer mixed with some random value which is changed on the \"stop-the-world\" events, so between stop-the-world events (like garbage collection) generated hashCodes are stable (for testing/debugging purposes)</li>\n<li>2: use always <code>1</code> (for testing/debugging purposes)</li>\n<li>3: use autoincrementing numbers (for testing/debugging purposes, also global counter is used, thus contention and race conditions are possible)</li>\n<li>4: use object pointer trimmed to 32 bit if necessary (for testing/debugging purposes)</li>\n</ul>\n\n<p>Note that even if you set <code>-XX:hashCode=4</code>, the hashCode will not always point to the object address. Object may be moved later, but hashCode will stay the same. Also object addresses are poorly distributed (if your application uses not so much memory, most objects will be located close to each other), so you may end up having unbalanced hash tables if you use this option.</p>\n"},{"tags":[],"owner":{"account_id":20336018,"reputation":41,"user_id":14916700,"display_name":"mitco94"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623666393,"creation_date":1623666393,"answer_id":67968606,"question_id":2237720,"body_markdown":"The default hashCode() implementation is nothing to do with object&#39;s memory address.\r\nIn openJDK, in version 6 and 7 it is a randomly generated number. In 8 and 9, it is a number based on the thread state.\r\n\r\nRefer this link: [hashCode != address][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20680667/14916700\r\n\r\nSo the result of identity hash generation(the value returned by default implementation of hashCode() method) is generated once and cached in the object&#39;s header.\r\n\r\nIf you want to learn more about this you can go through OpenJDK which defines entry points for hashCode() at \r\n\r\n&gt; src/share/vm/prims/jvm.h\r\n\r\n and \r\n\r\n&gt; src/share/vm/prims/jvm.cpp\r\n\r\nIf you go through this above directory, it seems hundred lines of functions that seems to be far more complicated to understand. So, To simplify this, the naively way to represent the default hashcode implementation is something like below,\r\n\r\n&gt;     if (obj.hash() == 0) {\r\n&gt;         obj.set_hash(generate_new_hash()); \r\n&gt;     } \r\n&gt;     return obj.hash();","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>The default hashCode() implementation is nothing to do with object's memory address.\nIn openJDK, in version 6 and 7 it is a randomly generated number. In 8 and 9, it is a number based on the thread state.</p>\n<p>Refer this link: <a href=\"https://stackoverflow.com/a/20680667/14916700\">hashCode != address</a></p>\n<p>So the result of identity hash generation(the value returned by default implementation of hashCode() method) is generated once and cached in the object's header.</p>\n<p>If you want to learn more about this you can go through OpenJDK which defines entry points for hashCode() at</p>\n<blockquote>\n<p>src/share/vm/prims/jvm.h</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>src/share/vm/prims/jvm.cpp</p>\n</blockquote>\n<p>If you go through this above directory, it seems hundred lines of functions that seems to be far more complicated to understand. So, To simplify this, the naively way to represent the default hashcode implementation is something like below,</p>\n<blockquote>\n<pre><code>if (obj.hash() == 0) {\n    obj.set_hash(generate_new_hash()); \n} \nreturn obj.hash();\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21014,"favorite_count":0,"down_vote_count":1,"up_vote_count":88,"accepted_answer_id":2237756,"answer_count":12,"score":87,"last_activity_date":1659874928,"creation_date":1265814162,"question_id":2237720,"body_markdown":"If the hashCode() method is not overridden, what will be the result of invoking hashCode() on any object in Java?","title":"What is an object&#39;s hash code if hashCode() is not overridden?","body":"<p>If the hashCode() method is not overridden, what will be the result of invoking hashCode() on any object in Java?</p>\n"},{"tags":["java","arrays","json","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"score":0,"creation_date":1659873601,"post_id":73267071,"comment_id":129393693,"body_markdown":"see https://sparkbyexamples.com/spark/spark-dataframe-nested-array/","body":"see <a href=\"https://sparkbyexamples.com/spark/spark-dataframe-nested-array/\" rel=\"nofollow noreferrer\">sparkbyexamples.com/spark/spark-dataframe-nested-array</a>"}],"answers":[{"tags":[],"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659874606,"creation_date":1659874606,"answer_id":73267333,"question_id":73267071,"body_markdown":"If you read the JSON file like this:\r\n\r\n    sparkSession.read.option(&quot;multiline&quot;, true).json(&quot;./data.json&quot;)\r\n\r\nThen you can access your desired values as below:\r\n\r\n    .withColumn(&quot;test&quot;, col(&quot;data&quot;).getItem(0).getField(&quot;steps&quot;).getItem(1).getField(&quot;x&quot;))\r\n\r\nor\r\n\r\n    .withColumn(&quot;test2&quot;, expr(&quot;data[0].steps[1].x&quot;))\r\n\r\nThey do the same thing, whichever you prefer, the return value is `11`.\r\n\r\nGood luck!","title":"How can you extract the elements of a nested array of a JSON using Java Spark","body":"<p>If you read the JSON file like this:</p>\n<pre><code>sparkSession.read.option(&quot;multiline&quot;, true).json(&quot;./data.json&quot;)\n</code></pre>\n<p>Then you can access your desired values as below:</p>\n<pre><code>.withColumn(&quot;test&quot;, col(&quot;data&quot;).getItem(0).getField(&quot;steps&quot;).getItem(1).getField(&quot;x&quot;))\n</code></pre>\n<p>or</p>\n<pre><code>.withColumn(&quot;test2&quot;, expr(&quot;data[0].steps[1].x&quot;))\n</code></pre>\n<p>They do the same thing, whichever you prefer, the return value is <code>11</code>.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":2192825,"reputation":525,"user_id":1939366,"accept_rate":14,"display_name":"Dhana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73267333,"answer_count":1,"score":0,"last_activity_date":1659874606,"creation_date":1659872188,"question_id":73267071,"body_markdown":"Here is my JSON file content. \r\n```\r\n{\r\n  &quot;Id&quot;: 11,\r\n  &quot;data&quot;: [\r\n    {\r\n      &quot;package&quot;: &quot;com.browser1&quot;,\r\n      &quot;activetime&quot;: 60000,\r\n      &quot;steps&quot;: [\r\n        {&quot;x&quot;:  1, &quot;y&quot;:  2},\r\n        {&quot;x&quot;: 11, &quot;y&quot;: 12}\r\n      ]\r\n    },\r\n    {\r\n      &quot;package&quot;: &quot;com.browser6&quot;,\r\n      &quot;activetime&quot;: 1205000,\r\n      &quot;steps&quot;: [\r\n        {&quot;x&quot;:  3, &quot;y&quot;:  4}\r\n      ]\r\n    },\r\n    {\r\n      &quot;package&quot;: &quot;com.browser7&quot;,\r\n      &quot;activetime&quot;: 1205000,\r\n      &quot;steps&quot;: [\r\n        {&quot;x&quot;:  5, &quot;y&quot;:  6}\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI am reading this json file from spark using java. How can I get the value of the following:-\r\n```\r\njson.data[0].steps[0].x\r\nand \r\njson.data[0].steps[1].x\r\n```\r\n\r\nI am using ```DataSet.select``` to do this. \r\n\r\n```\r\ndf.select(json.data[0].steps[1].x)\r\n```\r\ndid not work.\r\n\r\nP.S:- Need java solution and not Scala\r\n\r\n\r\n\r\n","title":"How can you extract the elements of a nested array of a JSON using Java Spark","body":"<p>Here is my JSON file content.</p>\n<pre><code>{\n  &quot;Id&quot;: 11,\n  &quot;data&quot;: [\n    {\n      &quot;package&quot;: &quot;com.browser1&quot;,\n      &quot;activetime&quot;: 60000,\n      &quot;steps&quot;: [\n        {&quot;x&quot;:  1, &quot;y&quot;:  2},\n        {&quot;x&quot;: 11, &quot;y&quot;: 12}\n      ]\n    },\n    {\n      &quot;package&quot;: &quot;com.browser6&quot;,\n      &quot;activetime&quot;: 1205000,\n      &quot;steps&quot;: [\n        {&quot;x&quot;:  3, &quot;y&quot;:  4}\n      ]\n    },\n    {\n      &quot;package&quot;: &quot;com.browser7&quot;,\n      &quot;activetime&quot;: 1205000,\n      &quot;steps&quot;: [\n        {&quot;x&quot;:  5, &quot;y&quot;:  6}\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I am reading this json file from spark using java. How can I get the value of the following:-</p>\n<pre><code>json.data[0].steps[0].x\nand \njson.data[0].steps[1].x\n</code></pre>\n<p>I am using <code>DataSet.select</code> to do this.</p>\n<pre><code>df.select(json.data[0].steps[1].x)\n</code></pre>\n<p>did not work.</p>\n<p>P.S:- Need java solution and not Scala</p>\n"},{"tags":["java","coding-style"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":5,"creation_date":1659718043,"post_id":73252825,"comment_id":129369134,"body_markdown":"You can&#39;t. There are things that are impossible, when you give out blanket statements like &quot;functions should be less than 5 lines&quot;. Especially since Java has methods not functions, and this is a matter of opinion and not some kind of universal rule.","body":"You can&#39;t. There are things that are impossible, when you give out blanket statements like &quot;functions should be less than 5 lines&quot;. Especially since Java has methods not functions, and this is a matter of opinion and not some kind of universal rule."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1659719049,"post_id":73252825,"comment_id":129369394,"body_markdown":"For some further insights on why advice from Clean Code is somewhat likely to run into gritted teeth by experienced programmers, [this sums it up nicely](https://qntm.org/clean).","body":"For some further insights on why advice from Clean Code is somewhat likely to run into gritted teeth by experienced programmers, <a href=\"https://qntm.org/clean\" rel=\"nofollow noreferrer\">this sums it up nicely</a>."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659788682,"creation_date":1659788682,"answer_id":73259707,"question_id":73252825,"body_markdown":"I haven&#39;t read the book, but the suggestion that &quot;every function should have less than 5 lines of code&quot; or names like `addItemToCartOrThrowItemNotFoundError` seems very unhelpful. \r\n\r\nYour code highlights a case where use of `Stream` has lead to very awkward to follow code. You should try simple refactoring of the important actions to simply named helper functions, something like:\r\n\r\n    public Cart addToCart(String cartId, Integer itemId) {\r\n        \r\n        Cart cart = cartRepository.findById(cartId)\r\n                                  .orElseGet(() -&gt; new Cart(cartId));\r\n        \r\n        Item item = cart.findItem(itemId)\r\n                        .orElseGet(() -&gt; cart.addItem(itemId))\r\n                        .increment();\r\n        \r\n        return this.cartRepository.save(cart);\r\n    }\r\n\r\nAs you can see you&#39;d need to implement `findItem(Integer itemId)` and `addItem(Integer itemId)` based on the 2 main branches of your block starting `cart.getCartItems().stream() ...`, and ensure that the counter for new item is set to zero so that `item.increment()` works correctly inside `addToCart` and not called inside `findItem`.\r\n\r\n","title":"Reduce row length of Function according to &quot;Clean Code&quot; when using Stream API in Java","body":"<p>I haven't read the book, but the suggestion that &quot;every function should have less than 5 lines of code&quot; or names like <code>addItemToCartOrThrowItemNotFoundError</code> seems very unhelpful.</p>\n<p>Your code highlights a case where use of <code>Stream</code> has lead to very awkward to follow code. You should try simple refactoring of the important actions to simply named helper functions, something like:</p>\n<pre><code>public Cart addToCart(String cartId, Integer itemId) {\n    \n    Cart cart = cartRepository.findById(cartId)\n                              .orElseGet(() -&gt; new Cart(cartId));\n    \n    Item item = cart.findItem(itemId)\n                    .orElseGet(() -&gt; cart.addItem(itemId))\n                    .increment();\n    \n    return this.cartRepository.save(cart);\n}\n</code></pre>\n<p>As you can see you'd need to implement <code>findItem(Integer itemId)</code> and <code>addItem(Integer itemId)</code> based on the 2 main branches of your block starting <code>cart.getCartItems().stream() ...</code>, and ensure that the counter for new item is set to zero so that <code>item.increment()</code> works correctly inside <code>addToCart</code> and not called inside <code>findItem</code>.</p>\n"}],"owner":{"account_id":25295284,"reputation":17,"user_id":19120546,"display_name":"wayne888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659874391,"creation_date":1659717050,"question_id":73252825,"body_markdown":"I am currently studying the book &quot;Clean Code&quot; and it states that every function should have less than 5 lines of code.\r\n\r\nAt the same time I am using Java with Spring Boot and I am trying to figure out how this statement could be applied to this lines of code.\r\n\r\n```java\r\npublic Cart addToCart(String cartId, Integer itemId) {\r\n    Cart cart = cartRepository.findById(cartId)\r\n            .orElseGet(() -&gt; new Cart(cartId));\r\n\r\n    cart.getCartItems().stream()\r\n            .filter(cartItem -&gt; cartItem.getItem().getId().equals(itemId))\r\n            .findAny()\r\n            .map(cartItem -&gt; {\r\n                cartItem.increment();\r\n                return cart;\r\n            })\r\n            .orElseGet(() -&gt; {\r\n                Item item = this.itemRepository.findById(itemId)\r\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Can&#39;t seem to find Item type&quot; + itemId));\r\n                cart.getCartItems().add(new CartItem(item, cart));\r\n                return cart;\r\n            });\r\n\r\n    return this.cartRepository.save(cart);\r\n}\r\n```\r\n\r\nI&#39;m thinking of something like this:\r\n\r\n```java\r\npublic Cart addToCart(String cartId, Integer itemId) {\r\n    Cart temp_cart = cartRepository.findById(cartId)\r\n            .orElseGet(() -&gt; new Cart(cartId));\r\n\r\n    Cart cart = addItemToCartOrThrowItemNotFoundError(temp_cart, itemId);\r\n\r\n    return this.cartRepository.save(cart);\r\n}\r\n\r\nprivate Cart addItemToCartOrThrowItemNotFoundError(Cart cart, Integer itemId) {\r\n    cart.getCartItems().stream()\r\n            .filter(cartItem -&gt; cartItem.getItem().getId().equals(itemId))\r\n            .findAny()\r\n            .map(cartItem -&gt; {\r\n                cartItem.increment();\r\n                return cart;\r\n            })\r\n            .orElseGet(() -&gt; {\r\n                Item item = this.itemRepository.findById(itemId)\r\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Can&#39;t seem to find Item type&quot; + itemId));\r\n                cart.getCartItems().add(new CartItem(item, cart));\r\n                return cart;\r\n            });\r\n    return cart;\r\n}\r\n```\r\n\r\nBut then I don&#39;t know how to split up the function addItemToCartOrThrowItemNotFoundError while preserving the use of Stream API.\r\n\r\nDo you have any idea?","title":"Reduce row length of Function according to &quot;Clean Code&quot; when using Stream API in Java","body":"<p>I am currently studying the book &quot;Clean Code&quot; and it states that every function should have less than 5 lines of code.</p>\n<p>At the same time I am using Java with Spring Boot and I am trying to figure out how this statement could be applied to this lines of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Cart addToCart(String cartId, Integer itemId) {\n    Cart cart = cartRepository.findById(cartId)\n            .orElseGet(() -&gt; new Cart(cartId));\n\n    cart.getCartItems().stream()\n            .filter(cartItem -&gt; cartItem.getItem().getId().equals(itemId))\n            .findAny()\n            .map(cartItem -&gt; {\n                cartItem.increment();\n                return cart;\n            })\n            .orElseGet(() -&gt; {\n                Item item = this.itemRepository.findById(itemId)\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Can't seem to find Item type&quot; + itemId));\n                cart.getCartItems().add(new CartItem(item, cart));\n                return cart;\n            });\n\n    return this.cartRepository.save(cart);\n}\n</code></pre>\n<p>I'm thinking of something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Cart addToCart(String cartId, Integer itemId) {\n    Cart temp_cart = cartRepository.findById(cartId)\n            .orElseGet(() -&gt; new Cart(cartId));\n\n    Cart cart = addItemToCartOrThrowItemNotFoundError(temp_cart, itemId);\n\n    return this.cartRepository.save(cart);\n}\n\nprivate Cart addItemToCartOrThrowItemNotFoundError(Cart cart, Integer itemId) {\n    cart.getCartItems().stream()\n            .filter(cartItem -&gt; cartItem.getItem().getId().equals(itemId))\n            .findAny()\n            .map(cartItem -&gt; {\n                cartItem.increment();\n                return cart;\n            })\n            .orElseGet(() -&gt; {\n                Item item = this.itemRepository.findById(itemId)\n                        .orElseThrow(() -&gt; new IllegalStateException(&quot;Can't seem to find Item type&quot; + itemId));\n                cart.getCartItems().add(new CartItem(item, cart));\n                return cart;\n            });\n    return cart;\n}\n</code></pre>\n<p>But then I don't know how to split up the function addItemToCartOrThrowItemNotFoundError while preserving the use of Stream API.</p>\n<p>Do you have any idea?</p>\n"},{"tags":["java","tomcat","liferay","threadpool","atomikos"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659874292,"post_id":73254132,"comment_id":129393854,"body_markdown":"Which version of the PostgreSQL JDBC driver are you using? What version of PostgreSQL are you using?","body":"Which version of the PostgreSQL JDBC driver are you using? What version of PostgreSQL are you using?"},{"owner":{"account_id":13558045,"reputation":3,"user_id":11557277,"display_name":"Udepentctrsp"},"score":0,"creation_date":1659879733,"post_id":73254132,"comment_id":129395051,"body_markdown":"@MarkRotteveel PostgreSQL 13.5 and postgresql-42.2.23 driver","body":"@MarkRotteveel PostgreSQL 13.5 and postgresql-42.2.23 driver"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1659897114,"post_id":73254132,"comment_id":129398739,"body_markdown":"I&#39;d suggest trying with a newer version of the driver. The latest is 42.4.1. If the last stacktrace shows for a long time, it could be a bug in the driver (though truth be told, a quick scan of the release notes don&#39;t show one as far as I can tell).","body":"I&#39;d suggest trying with a newer version of the driver. The latest is 42.4.1. If the last stacktrace shows for a long time, it could be a bug in the driver (though truth be told, a quick scan of the release notes don&#39;t show one as far as I can tell)."}],"owner":{"account_id":13558045,"reputation":3,"user_id":11557277,"display_name":"Udepentctrsp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659874204,"creation_date":1659725127,"question_id":73254132,"body_markdown":"I have an application (Liferay + Tomcat + PostgreSQL). Tomcat also has configuration for Atomikos as transaction manager:\r\n\r\n```xml\r\n&lt;Resource \r\n\tname=&quot;jdbc/liferay&quot;\r\n\tauth=&quot;Container&quot;\r\n\ttype=&quot;com.atomikos.jdbc.AtomikosDataSourceBean&quot;\r\n\tfactory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot;\r\n\tuniqueResourceName=&quot;jdbc/liferay&quot;\r\n\tmaxPoolSize=&quot;500&quot;\r\n\tminPoolSize=&quot;10&quot;\r\n\tborrowConnectionTimeout=&quot;30&quot;\r\n\tmaxIdleTime=&quot;60&quot;\r\n\treapTimeout=&quot;0&quot;\r\n\tmaintenanceInterval=&quot;60&quot;\r\n\ttestQuery=&quot;SELECT 1&quot;\r\n\txaDataSourceClassName=&quot;org.postgresql.xa.PGXADataSource&quot;\r\n\txaProperties.serverName=&quot;${host}&quot;           \r\n\txaProperties.portNumber=&quot;${port}&quot;           \r\n\txaProperties.user=&quot;${user}&quot;           \r\n\txaProperties.databaseName=&quot;${database}&quot;\r\n\txaProperties.password=&quot;${password}&quot;  \r\n    /&gt;\r\n\t\r\n&lt;Resource \r\n    name=&quot;jdbc/service&quot;\r\n    auth=&quot;Container&quot;\r\n    type=&quot;com.atomikos.jdbc.AtomikosDataSourceBean&quot;\r\n    factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot;\r\n    uniqueResourceName=&quot;jdbc/service&quot;\r\n    maxPoolSize=&quot;100&quot;\r\n    minPoolSize=&quot;10&quot;\r\n    borrowConnectionTimeout=&quot;30&quot;\r\n    maxIdleTime=&quot;60&quot;\r\n    reapTimeout=&quot;0&quot;\r\n    maintenanceInterval=&quot;60&quot;\r\n    testQuery=&quot;SELECT 1&quot;\r\n    xaDataSourceClassName=&quot;org.postgresql.xa.PGXADataSource&quot;\r\n    xaProperties.serverName=&quot;${host}&quot; \r\n    xaProperties.portNumber=&quot;${port}&quot;           \r\n    xaProperties.databaseName=&quot;service&quot;\r\n    xaProperties.user=&quot;${user}&quot;           \r\n    xaProperties.password=&quot;${password}&quot; \r\n  /&gt;\r\n```\r\n\r\nAt random moments (it can be few times in hour) application gets stuck and doesn&#39;t process any responses. \r\n\r\nI got threads dump and every time when application got stuck, there is a spike of threads. You can check it on screenshots [here][1] and [here][2].\r\nMost of this threads are in BLOCKED state e.g.:\r\n\r\n    &quot;http-apr-443-exec-163&quot; - Thread t@17821\r\n       java.lang.Thread.State: BLOCKED\r\n    \tat com.atomikos.datasource.pool.ConnectionPool.borrowConnection(ConnectionPool.java:127)\r\n    \t- waiting to lock &lt;8e7fbf9&gt; (a com.atomikos.datasource.pool.ConnectionPool) owned by &quot;http-apr-443-exec-10&quot; t@223\r\nBut this thread (http-apr-443-exec-10) is in RUNNABLE state:\r\n\r\n    &quot;http-apr-443-exec-10&quot; - Thread t@223\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n    \tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n    \tat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\r\n    \tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\r\n    \tat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\r\n    \tat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\r\n    \tat org.postgresql.core.PGStream.receiveChar(PGStream.java:443)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:505)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:149)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n    \tat org.postgresql.Driver.connect(Driver.java:264)\r\n\r\nAny ideas what can it be? Deadlock or miss configuration of Atomikos?\r\n\r\n\r\n\r\n [1]: https://i.stack.imgur.com/JvliR.png\r\n [2]: https://i.stack.imgur.com/DEsjv.png","title":"Liferay tomcat(atomikos) threads are blocked","body":"<p>I have an application (Liferay + Tomcat + PostgreSQL). Tomcat also has configuration for Atomikos as transaction manager:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Resource \n    name=&quot;jdbc/liferay&quot;\n    auth=&quot;Container&quot;\n    type=&quot;com.atomikos.jdbc.AtomikosDataSourceBean&quot;\n    factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot;\n    uniqueResourceName=&quot;jdbc/liferay&quot;\n    maxPoolSize=&quot;500&quot;\n    minPoolSize=&quot;10&quot;\n    borrowConnectionTimeout=&quot;30&quot;\n    maxIdleTime=&quot;60&quot;\n    reapTimeout=&quot;0&quot;\n    maintenanceInterval=&quot;60&quot;\n    testQuery=&quot;SELECT 1&quot;\n    xaDataSourceClassName=&quot;org.postgresql.xa.PGXADataSource&quot;\n    xaProperties.serverName=&quot;${host}&quot;           \n    xaProperties.portNumber=&quot;${port}&quot;           \n    xaProperties.user=&quot;${user}&quot;           \n    xaProperties.databaseName=&quot;${database}&quot;\n    xaProperties.password=&quot;${password}&quot;  \n    /&gt;\n    \n&lt;Resource \n    name=&quot;jdbc/service&quot;\n    auth=&quot;Container&quot;\n    type=&quot;com.atomikos.jdbc.AtomikosDataSourceBean&quot;\n    factory=&quot;com.atomikos.tomcat.EnhancedTomcatAtomikosBeanFactory&quot;\n    uniqueResourceName=&quot;jdbc/service&quot;\n    maxPoolSize=&quot;100&quot;\n    minPoolSize=&quot;10&quot;\n    borrowConnectionTimeout=&quot;30&quot;\n    maxIdleTime=&quot;60&quot;\n    reapTimeout=&quot;0&quot;\n    maintenanceInterval=&quot;60&quot;\n    testQuery=&quot;SELECT 1&quot;\n    xaDataSourceClassName=&quot;org.postgresql.xa.PGXADataSource&quot;\n    xaProperties.serverName=&quot;${host}&quot; \n    xaProperties.portNumber=&quot;${port}&quot;           \n    xaProperties.databaseName=&quot;service&quot;\n    xaProperties.user=&quot;${user}&quot;           \n    xaProperties.password=&quot;${password}&quot; \n  /&gt;\n</code></pre>\n<p>At random moments (it can be few times in hour) application gets stuck and doesn't process any responses.</p>\n<p>I got threads dump and every time when application got stuck, there is a spike of threads. You can check it on screenshots <a href=\"https://i.stack.imgur.com/JvliR.png\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://i.stack.imgur.com/DEsjv.png\" rel=\"nofollow noreferrer\">here</a>.\nMost of this threads are in BLOCKED state e.g.:</p>\n<pre><code>&quot;http-apr-443-exec-163&quot; - Thread t@17821\n   java.lang.Thread.State: BLOCKED\n    at com.atomikos.datasource.pool.ConnectionPool.borrowConnection(ConnectionPool.java:127)\n    - waiting to lock &lt;8e7fbf9&gt; (a com.atomikos.datasource.pool.ConnectionPool) owned by &quot;http-apr-443-exec-10&quot; t@223\n</code></pre>\n<p>But this thread (http-apr-443-exec-10) is in RUNNABLE state:</p>\n<pre><code>&quot;http-apr-443-exec-10&quot; - Thread t@223\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)\n    at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)\n    at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)\n    at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\n    at org.postgresql.core.PGStream.receiveChar(PGStream.java:443)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:505)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:149)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\n    at org.postgresql.Driver.makeConnection(Driver.java:465)\n    at org.postgresql.Driver.connect(Driver.java:264)\n</code></pre>\n<p>Any ideas what can it be? Deadlock or miss configuration of Atomikos?</p>\n"},{"tags":["java","multithreading","dependency-injection","realm","dagger-hilt"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1659791862,"post_id":73249621,"comment_id":129381591,"body_markdown":"*multiple instances of Realm* - That&#39;s not the correct way of doing it and we don&#39;t know what - *i have multiple threads using Realm* - means or why that&#39;s being done. You can pass objects between threads using Realm but again, without  knowing the use case we won&#39;t be able to assist. Please review the following two guides on asking questions: [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve)","body":"<i>multiple instances of Realm</i> - That&#39;s not the correct way of doing it and we don&#39;t know what - <i>i have multiple threads using Realm</i> - means or why that&#39;s being done. You can pass objects between threads using Realm but again, without  knowing the use case we won&#39;t be able to assist. Please review the following two guides on asking questions: <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>"}],"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659872227,"creation_date":1659701826,"question_id":73249621,"body_markdown":"I have a Java Hilt project, and I want to call my Realm repository from any class. The problem is Realm instances can only be accessed by the thread that created them, and I have multiple threads using Realm.\r\n\r\nThe workaround I implemented is using multiple instances of Realm. I don&#39;t think it is the correct way to do it. \r\n\r\nIs there any possibility to have a shared Realm instance? Or maybe making Hilt manage it?\r\n\r\nThe error I&#39;ve faced: \r\n\r\n&gt; Realm access from incorrect thread. Realm objects can only be accessed\r\n&gt; on the thread they were created.\r\n\r\n  ","title":"How to properly manage Realm instances","body":"<p>I have a Java Hilt project, and I want to call my Realm repository from any class. The problem is Realm instances can only be accessed by the thread that created them, and I have multiple threads using Realm.</p>\n<p>The workaround I implemented is using multiple instances of Realm. I don't think it is the correct way to do it.</p>\n<p>Is there any possibility to have a shared Realm instance? Or maybe making Hilt manage it?</p>\n<p>The error I've faced:</p>\n<blockquote>\n<p>Realm access from incorrect thread. Realm objects can only be accessed\non the thread they were created.</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","math"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1659810413,"post_id":73262289,"comment_id":129385371,"body_markdown":"Another way would be to check whether a number is prime [by calculating it on the fly](https://stackoverflow.com/a/44367443/133203).","body":"Another way would be to check whether a number is prime <a href=\"https://stackoverflow.com/a/44367443/133203\">by calculating it on the fly</a>."},{"owner":{"account_id":25973865,"reputation":13,"user_id":19688576,"display_name":"Mervile"},"score":0,"creation_date":1659811349,"post_id":73262289,"comment_id":129385539,"body_markdown":"@FedericoklezCulloca so after i add that i need to write the program to exclude those? sorry if i&#39;m so slow to catch since i still learning about android studio","body":"@FedericoklezCulloca so after i add that i need to write the program to exclude those? sorry if i&#39;m so slow to catch since i still learning about android studio"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1659811573,"post_id":73262289,"comment_id":129385581,"body_markdown":"I&#39;m not sure I understand how your code works or what it&#39;s supposed to do but I&#39;m *guessing* it should go in `getDivisors` where you check whether you want to add `i` to `divisors`, so something like `if (number % i == 0 &amp;&amp; !isPrime(i))`.","body":"I&#39;m not sure I understand how your code works or what it&#39;s supposed to do but I&#39;m <i>guessing</i> it should go in <code>getDivisors</code> where you check whether you want to add <code>i</code> to <code>divisors</code>, so something like <code>if (number % i == 0 &amp;&amp; !isPrime(i))</code>."},{"owner":{"account_id":25973865,"reputation":13,"user_id":19688576,"display_name":"Mervile"},"score":0,"creation_date":1659811679,"post_id":73262289,"comment_id":129385600,"body_markdown":"@FedericoklezCulloca i will try it first  \nalso i get the code from https://stackoverflow.com/a/66447822/19688576\nthanks","body":"@FedericoklezCulloca i will try it first   also i get the code from <a href=\"https://stackoverflow.com/a/66447822/19688576\">stackoverflow.com/a/66447822/19688576</a> thanks"},{"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"score":0,"creation_date":1659951524,"post_id":73262289,"comment_id":129408625,"body_markdown":"Note that your question was already answered here: https://stackoverflow.com/a/73232555","body":"Note that your question was already answered here: <a href=\"https://stackoverflow.com/a/73232555\">stackoverflow.com/a/73232555</a>"}],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659871660,"creation_date":1659816405,"answer_id":73262952,"question_id":73262289,"body_markdown":"(Some points of your question required some interpretation - hopefully I was correct; otherwise, just add a comment and I&#39;ll try to adapt.)\r\n\r\nRequire answer always &lt;= 10\r\n---------------------------\r\n\r\nTo ensure the selected divisor does not result in an &quot;answer&quot; more than 10, then simply restrict the divisors added to the divisor list.\r\n\r\nModify the one line in `getDivisors` as such:\r\n\r\n    // i is an integral divisor and the resulting quotient is &lt;= 10\r\n    if (number % i == 0 &amp;&amp; number / i &lt;= 10)\r\n\r\nThen when the code randomly selects a divisor from the list, the &quot;answer&quot; to the question:\r\n\r\n    \r\n\r\n&gt; num1 &#247; num2\r\n\r\nwill always be &lt;= 10, where num1 is a number from 1 to 100 (inclusive) and num2 is the randomly selected integral divisor.\r\n\r\nExclude some dividends (`num1`)\r\n-------------------------------\r\n\r\nIn order to exclude certain numbers from a range (for your `num1`) you could do it as a loop as in [here](https://stackoverflow.com/a/33945385/17856705).\r\n\r\nOr you could create a list of the acceptable numbers and then use `Random` to provide an index into your acceptable list [(credit reference answer for list creation)](https://stackoverflow.com/a/56121713/17856705):\r\n\r\n    // an array of acceptable numbers as dividend\r\n    int[] acceptableNums = IntStream.range(1, 101).filter(a -&gt; !java.util.List.of(11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97).contains(a)).toArray();\r\n\r\n    // here i chose to use &quot;r&quot; which is java.util.Random r = new java.util.Random() because my test involved a loop and I want to get uniform distribution over the loop.\r\n    int num1 = acceptableNums[r.nextInt(acceptableNums.length)];\r\n\r\n\r\nSo the complete test:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        java.util.Random r = new java.util.Random();\r\n\r\n        int[] acceptableNums = IntStream.range(1, 101).filter(a -&gt; !java.util.List.of(11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97).contains(a)).toArray();\r\n\r\n        for (int i = 0; i &lt; 100; i++) {\r\n\r\n            int num1 = acceptableNums[r.nextInt(acceptableNums.length)];\r\n            java.util.List&lt;Integer&gt; firstNumDivisors = getDivisors(num1);\r\n\r\n            int divisorsRandIndex = (int) (Math.random() * firstNumDivisors.size());\r\n            int num2 = firstNumDivisors.get(divisorsRandIndex);\r\n\r\n \r\n            System.out.println(&quot;What is &quot; + num1 + &quot; &#247; &quot; + num2+ &quot; (Answer: &quot;+num1/num2+&quot;)&quot;);\r\n            // Create your question from first and second numbers here\r\n            \r\n        }\r\n    }\r\n    \r\n        private static java.util.List&lt;Integer&gt; getDivisors ( int number){\r\n            java.util.List&lt;Integer&gt; divisors = new java.util.ArrayList&lt;&gt;();\r\n\r\n            for (int i = 1; i &lt;= number; i++)\r\n                if (number % i == 0 &amp;&amp; number / i &lt;= 10)\r\n                    divisors.add(i);\r\n\r\n            return divisors;\r\n        }    \r\n\r\n\r\nAnd the output:\r\n\r\n    What is 78 &#247; 39 (Answer: 2)\r\n    What is 1 &#247; 1 (Answer: 1)\r\n    What is 32 &#247; 8 (Answer: 4)\r\n    What is 68 &#247; 17 (Answer: 4)\r\n    What is 26 &#247; 13 (Answer: 2)\r\n    What is 94 &#247; 47 (Answer: 2)\r\n    What is 46 &#247; 23 (Answer: 2)\r\n    What is 68 &#247; 68 (Answer: 1)\r\n    What is 10 &#247; 2 (Answer: 5)\r\n    What is 70 &#247; 10 (Answer: 7)\r\n    What is 38 &#247; 38 (Answer: 1)\r\n    What is 75 &#247; 75 (Answer: 1)\r\n    What is 1 &#247; 1 (Answer: 1)\r\n    What is 90 &#247; 30 (Answer: 3)\r\n    What is 62 &#247; 62 (Answer: 1)\r\n    What is 95 &#247; 95 (Answer: 1)\r\n    What is 60 &#247; 6 (Answer: 10)\r\n    What is 27 &#247; 3 (Answer: 9)\r\n    What is 5 &#247; 1 (Answer: 5)\r\n    What is 28 &#247; 14 (Answer: 2)\r\n    What is 1 &#247; 1 (Answer: 1)\r\n    What is 70 &#247; 14 (Answer: 5)\r\n    What is 21 &#247; 21 (Answer: 1)\r\n    What is 40 &#247; 40 (Answer: 1)\r\n    What is 51 &#247; 17 (Answer: 3)\r\n    What is 24 &#247; 12 (Answer: 2)\r\n    What is 5 &#247; 1 (Answer: 5)\r\n    What is 58 &#247; 58 (Answer: 1)\r\n    What is 91 &#247; 91 (Answer: 1)\r\n    What is 91 &#247; 13 (Answer: 7)\r\n    What is 94 &#247; 94 (Answer: 1)\r\n    What is 28 &#247; 14 (Answer: 2)\r\n    What is 46 &#247; 23 (Answer: 2)\r\n    What is 95 &#247; 95 (Answer: 1)\r\n    What is 58 &#247; 58 (Answer: 1)\r\n    What is 2 &#247; 2 (Answer: 1)\r\n    What is 55 &#247; 55 (Answer: 1)\r\n    What is 20 &#247; 5 (Answer: 4)\r\n    What is 92 &#247; 23 (Answer: 4)\r\n    What is 21 &#247; 21 (Answer: 1)\r\n    What is 10 &#247; 5 (Answer: 2)\r\n    What is 1 &#247; 1 (Answer: 1)\r\n    What is 69 &#247; 69 (Answer: 1)\r\n    What is 84 &#247; 21 (Answer: 4)\r\n    What is 96 &#247; 24 (Answer: 4)\r\n    What is 90 &#247; 45 (Answer: 2)\r\n    What is 88 &#247; 44 (Answer: 2)\r\n    What is 88 &#247; 22 (Answer: 4)\r\n    What is 72 &#247; 36 (Answer: 2)\r\n    What is 40 &#247; 5 (Answer: 8)\r\n    What is 8 &#247; 4 (Answer: 2)\r\n    What is 10 &#247; 2 (Answer: 5)\r\n    What is 24 &#247; 3 (Answer: 8)\r\n    What is 66 &#247; 66 (Answer: 1)\r\n    What is 90 &#247; 30 (Answer: 3)\r\n    What is 66 &#247; 66 (Answer: 1)\r\n    What is 58 &#247; 58 (Answer: 1)\r\n    What is 91 &#247; 91 (Answer: 1)\r\n    What is 58 &#247; 58 (Answer: 1)\r\n    What is 28 &#247; 7 (Answer: 4)\r\n    What is 96 &#247; 16 (Answer: 6)\r\n    What is 90 &#247; 30 (Answer: 3)\r\n    What is 91 &#247; 91 (Answer: 1)\r\n    What is 12 &#247; 4 (Answer: 3)\r\n    What is 4 &#247; 4 (Answer: 1)\r\n    What is 84 &#247; 84 (Answer: 1)\r\n    What is 8 &#247; 1 (Answer: 8)\r\n    What is 49 &#247; 7 (Answer: 7)\r\n    What is 14 &#247; 7 (Answer: 2)\r\n    What is 16 &#247; 8 (Answer: 2)\r\n    What is 51 &#247; 17 (Answer: 3)\r\n\r\n\r\nInverse Approach\r\n----------------\r\n\r\nGiven the comment below clarifying the desired result, the inverse approach to the equation is simpler and has the benefit of naturally eliminating the primes &gt; 10.  (A number 1..10 multiplied by a number 1..10 cannot result in a prime &gt; 10.)\r\n\r\n        java.util.Random r = new java.util.Random();\r\n\r\n        for (int i = 0; i &lt; 100; i++) {\r\n\r\n        \tint num2 = r.nextInt(10) + 1;\r\n        \tint answer = r.nextInt(10) + 1;\r\n\r\n        \tint num1 = num2 * answer;\r\n        \t\r\n            System.out.println(&quot;What is &quot; + num1 + &quot; &#247; &quot; + num2+ &quot; (Answer: &quot;+answer+&quot;)&quot;);\r\n            // Create your question from first and second numbers here\r\n            \r\n        }\r\n\r\n\r\nAnd result from inverse approach:\r\n\r\n    What is 21 &#247; 7 (Answer: 3)\r\n    What is 4 &#247; 1 (Answer: 4)\r\n    What is 100 &#247; 10 (Answer: 10)\r\n    What is 40 &#247; 4 (Answer: 10)\r\n    What is 64 &#247; 8 (Answer: 8)\r\n    What is 16 &#247; 8 (Answer: 2)\r\n    What is 14 &#247; 2 (Answer: 7)\r\n    What is 63 &#247; 7 (Answer: 9)\r\n    What is 56 &#247; 7 (Answer: 8)\r\n    What is 4 &#247; 2 (Answer: 2)\r\n    What is 10 &#247; 2 (Answer: 5)\r\n    What is 18 &#247; 6 (Answer: 3)\r\n    What is 5 &#247; 5 (Answer: 1)\r\n    What is 42 &#247; 7 (Answer: 6)\r\n    What is 5 &#247; 1 (Answer: 5)\r\n    What is 54 &#247; 6 (Answer: 9)\r\n    What is 14 &#247; 2 (Answer: 7)\r\n    What is 14 &#247; 2 (Answer: 7)\r\n    What is 50 &#247; 5 (Answer: 10)\r\n    What is 36 &#247; 6 (Answer: 6)\r\n    What is 12 &#247; 6 (Answer: 2)\r\n    What is 56 &#247; 8 (Answer: 7)\r\n    What is 24 &#247; 8 (Answer: 3)\r\n    What is 12 &#247; 4 (Answer: 3)\r\n    What is 20 &#247; 5 (Answer: 4)\r\n    What is 100 &#247; 10 (Answer: 10)\r\n    What is 36 &#247; 4 (Answer: 9)\r\n    What is 18 &#247; 9 (Answer: 2)\r\n    What is 48 &#247; 6 (Answer: 8)\r\n    What is 40 &#247; 4 (Answer: 10)\r\n    What is 42 &#247; 6 (Answer: 7)\r\n    What is 8 &#247; 2 (Answer: 4)\r\n    What is 18 &#247; 2 (Answer: 9)\r\n    What is 18 &#247; 3 (Answer: 6)\r\n    What is 70 &#247; 10 (Answer: 7)\r\n    What is 8 &#247; 1 (Answer: 8)\r\n    What is 12 &#247; 3 (Answer: 4)\r\n    What is 24 &#247; 6 (Answer: 4)\r\n    What is 8 &#247; 4 (Answer: 2)\r\n    What is 6 &#247; 3 (Answer: 2)\r\n    What is 20 &#247; 10 (Answer: 2)\r\n    What is 30 &#247; 6 (Answer: 5)\r\n    What is 70 &#247; 10 (Answer: 7)\r\n    What is 42 &#247; 6 (Answer: 7)\r\n    What is 6 &#247; 2 (Answer: 3)\r\n    What is 15 &#247; 3 (Answer: 5)\r\n    What is 12 &#247; 3 (Answer: 4)\r\n    What is 10 &#247; 2 (Answer: 5)\r\n    What is 70 &#247; 7 (Answer: 10)\r\n    What is 6 &#247; 1 (Answer: 6)\r\n    What is 80 &#247; 8 (Answer: 10)\r\n    What is 7 &#247; 1 (Answer: 7)\r\n    What is 45 &#247; 5 (Answer: 9)\r\n    What is 21 &#247; 7 (Answer: 3)\r\n    What is 48 &#247; 6 (Answer: 8)\r\n    What is 12 &#247; 3 (Answer: 4)\r\n    What is 21 &#247; 3 (Answer: 7)\r\n    What is 48 &#247; 8 (Answer: 6)\r\n    What is 80 &#247; 8 (Answer: 10)\r\n    What is 50 &#247; 5 (Answer: 10)\r\n    What is 18 &#247; 3 (Answer: 6)\r\n    What is 24 &#247; 8 (Answer: 3)\r\n    What is 30 &#247; 5 (Answer: 6)\r\n    What is 54 &#247; 9 (Answer: 6)\r\n    What is 8 &#247; 8 (Answer: 1)\r\n    What is 8 &#247; 8 (Answer: 1)\r\n    What is 40 &#247; 8 (Answer: 5)\r\n    What is 6 &#247; 1 (Answer: 6)\r\n    What is 60 &#247; 10 (Answer: 6)\r\n    What is 60 &#247; 6 (Answer: 10)\r\n    What is 45 &#247; 9 (Answer: 5)\r\n    What is 48 &#247; 6 (Answer: 8)\r\n    What is 50 &#247; 5 (Answer: 10)\r\n    What is 24 &#247; 3 (Answer: 8)\r\n    What is 6 &#247; 3 (Answer: 2)\r\n    What is 5 &#247; 1 (Answer: 5)\r\n    What is 4 &#247; 1 (Answer: 4)\r\n    What is 20 &#247; 4 (Answer: 5)\r\n    What is 9 &#247; 3 (Answer: 3)\r\n    What is 45 &#247; 5 (Answer: 9)\r\n    What is 3 &#247; 1 (Answer: 3)\r\n    What is 6 &#247; 2 (Answer: 3)\r\n    What is 54 &#247; 6 (Answer: 9)\r\n    What is 21 &#247; 3 (Answer: 7)\r\n    What is 50 &#247; 10 (Answer: 5)\r\n    What is 20 &#247; 5 (Answer: 4)\r\n    What is 6 &#247; 3 (Answer: 2)\r\n    What is 10 &#247; 10 (Answer: 1)\r\n    What is 60 &#247; 6 (Answer: 10)\r\n    What is 10 &#247; 10 (Answer: 1)\r\n    What is 72 &#247; 9 (Answer: 8)\r\n    What is 15 &#247; 5 (Answer: 3)\r\n    What is 16 &#247; 8 (Answer: 2)\r\n    What is 70 &#247; 10 (Answer: 7)\r\n    What is 24 &#247; 4 (Answer: 6)\r\n    What is 16 &#247; 8 (Answer: 2)\r\n    What is 80 &#247; 10 (Answer: 8)\r\n    What is 40 &#247; 10 (Answer: 4)\r\n    What is 12 &#247; 6 (Answer: 2)\r\n    What is 16 &#247; 2 (Answer: 8)\r\n","title":"how to exclude prime number from random number math quiz?","body":"<p>(Some points of your question required some interpretation - hopefully I was correct; otherwise, just add a comment and I'll try to adapt.)</p>\n<h2>Require answer always &lt;= 10</h2>\n<p>To ensure the selected divisor does not result in an &quot;answer&quot; more than 10, then simply restrict the divisors added to the divisor list.</p>\n<p>Modify the one line in <code>getDivisors</code> as such:</p>\n<pre><code>// i is an integral divisor and the resulting quotient is &lt;= 10\nif (number % i == 0 &amp;&amp; number / i &lt;= 10)\n</code></pre>\n<p>Then when the code randomly selects a divisor from the list, the &quot;answer&quot; to the question:</p>\n<blockquote>\n<p>num1 ÷ num2</p>\n</blockquote>\n<p>will always be &lt;= 10, where num1 is a number from 1 to 100 (inclusive) and num2 is the randomly selected integral divisor.</p>\n<h2>Exclude some dividends (<code>num1</code>)</h2>\n<p>In order to exclude certain numbers from a range (for your <code>num1</code>) you could do it as a loop as in <a href=\"https://stackoverflow.com/a/33945385/17856705\">here</a>.</p>\n<p>Or you could create a list of the acceptable numbers and then use <code>Random</code> to provide an index into your acceptable list <a href=\"https://stackoverflow.com/a/56121713/17856705\">(credit reference answer for list creation)</a>:</p>\n<pre><code>// an array of acceptable numbers as dividend\nint[] acceptableNums = IntStream.range(1, 101).filter(a -&gt; !java.util.List.of(11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97).contains(a)).toArray();\n\n// here i chose to use &quot;r&quot; which is java.util.Random r = new java.util.Random() because my test involved a loop and I want to get uniform distribution over the loop.\nint num1 = acceptableNums[r.nextInt(acceptableNums.length)];\n</code></pre>\n<p>So the complete test:</p>\n<pre><code>public static void main(String[] args) {\n    \n    java.util.Random r = new java.util.Random();\n\n    int[] acceptableNums = IntStream.range(1, 101).filter(a -&gt; !java.util.List.of(11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97).contains(a)).toArray();\n\n    for (int i = 0; i &lt; 100; i++) {\n\n        int num1 = acceptableNums[r.nextInt(acceptableNums.length)];\n        java.util.List&lt;Integer&gt; firstNumDivisors = getDivisors(num1);\n\n        int divisorsRandIndex = (int) (Math.random() * firstNumDivisors.size());\n        int num2 = firstNumDivisors.get(divisorsRandIndex);\n\n\n        System.out.println(&quot;What is &quot; + num1 + &quot; ÷ &quot; + num2+ &quot; (Answer: &quot;+num1/num2+&quot;)&quot;);\n        // Create your question from first and second numbers here\n        \n    }\n}\n\n    private static java.util.List&lt;Integer&gt; getDivisors ( int number){\n        java.util.List&lt;Integer&gt; divisors = new java.util.ArrayList&lt;&gt;();\n\n        for (int i = 1; i &lt;= number; i++)\n            if (number % i == 0 &amp;&amp; number / i &lt;= 10)\n                divisors.add(i);\n\n        return divisors;\n    }    \n</code></pre>\n<p>And the output:</p>\n<pre><code>What is 78 ÷ 39 (Answer: 2)\nWhat is 1 ÷ 1 (Answer: 1)\nWhat is 32 ÷ 8 (Answer: 4)\nWhat is 68 ÷ 17 (Answer: 4)\nWhat is 26 ÷ 13 (Answer: 2)\nWhat is 94 ÷ 47 (Answer: 2)\nWhat is 46 ÷ 23 (Answer: 2)\nWhat is 68 ÷ 68 (Answer: 1)\nWhat is 10 ÷ 2 (Answer: 5)\nWhat is 70 ÷ 10 (Answer: 7)\nWhat is 38 ÷ 38 (Answer: 1)\nWhat is 75 ÷ 75 (Answer: 1)\nWhat is 1 ÷ 1 (Answer: 1)\nWhat is 90 ÷ 30 (Answer: 3)\nWhat is 62 ÷ 62 (Answer: 1)\nWhat is 95 ÷ 95 (Answer: 1)\nWhat is 60 ÷ 6 (Answer: 10)\nWhat is 27 ÷ 3 (Answer: 9)\nWhat is 5 ÷ 1 (Answer: 5)\nWhat is 28 ÷ 14 (Answer: 2)\nWhat is 1 ÷ 1 (Answer: 1)\nWhat is 70 ÷ 14 (Answer: 5)\nWhat is 21 ÷ 21 (Answer: 1)\nWhat is 40 ÷ 40 (Answer: 1)\nWhat is 51 ÷ 17 (Answer: 3)\nWhat is 24 ÷ 12 (Answer: 2)\nWhat is 5 ÷ 1 (Answer: 5)\nWhat is 58 ÷ 58 (Answer: 1)\nWhat is 91 ÷ 91 (Answer: 1)\nWhat is 91 ÷ 13 (Answer: 7)\nWhat is 94 ÷ 94 (Answer: 1)\nWhat is 28 ÷ 14 (Answer: 2)\nWhat is 46 ÷ 23 (Answer: 2)\nWhat is 95 ÷ 95 (Answer: 1)\nWhat is 58 ÷ 58 (Answer: 1)\nWhat is 2 ÷ 2 (Answer: 1)\nWhat is 55 ÷ 55 (Answer: 1)\nWhat is 20 ÷ 5 (Answer: 4)\nWhat is 92 ÷ 23 (Answer: 4)\nWhat is 21 ÷ 21 (Answer: 1)\nWhat is 10 ÷ 5 (Answer: 2)\nWhat is 1 ÷ 1 (Answer: 1)\nWhat is 69 ÷ 69 (Answer: 1)\nWhat is 84 ÷ 21 (Answer: 4)\nWhat is 96 ÷ 24 (Answer: 4)\nWhat is 90 ÷ 45 (Answer: 2)\nWhat is 88 ÷ 44 (Answer: 2)\nWhat is 88 ÷ 22 (Answer: 4)\nWhat is 72 ÷ 36 (Answer: 2)\nWhat is 40 ÷ 5 (Answer: 8)\nWhat is 8 ÷ 4 (Answer: 2)\nWhat is 10 ÷ 2 (Answer: 5)\nWhat is 24 ÷ 3 (Answer: 8)\nWhat is 66 ÷ 66 (Answer: 1)\nWhat is 90 ÷ 30 (Answer: 3)\nWhat is 66 ÷ 66 (Answer: 1)\nWhat is 58 ÷ 58 (Answer: 1)\nWhat is 91 ÷ 91 (Answer: 1)\nWhat is 58 ÷ 58 (Answer: 1)\nWhat is 28 ÷ 7 (Answer: 4)\nWhat is 96 ÷ 16 (Answer: 6)\nWhat is 90 ÷ 30 (Answer: 3)\nWhat is 91 ÷ 91 (Answer: 1)\nWhat is 12 ÷ 4 (Answer: 3)\nWhat is 4 ÷ 4 (Answer: 1)\nWhat is 84 ÷ 84 (Answer: 1)\nWhat is 8 ÷ 1 (Answer: 8)\nWhat is 49 ÷ 7 (Answer: 7)\nWhat is 14 ÷ 7 (Answer: 2)\nWhat is 16 ÷ 8 (Answer: 2)\nWhat is 51 ÷ 17 (Answer: 3)\n</code></pre>\n<h2>Inverse Approach</h2>\n<p>Given the comment below clarifying the desired result, the inverse approach to the equation is simpler and has the benefit of naturally eliminating the primes &gt; 10.  (A number 1..10 multiplied by a number 1..10 cannot result in a prime &gt; 10.)</p>\n<pre><code>    java.util.Random r = new java.util.Random();\n\n    for (int i = 0; i &lt; 100; i++) {\n\n        int num2 = r.nextInt(10) + 1;\n        int answer = r.nextInt(10) + 1;\n\n        int num1 = num2 * answer;\n        \n        System.out.println(&quot;What is &quot; + num1 + &quot; ÷ &quot; + num2+ &quot; (Answer: &quot;+answer+&quot;)&quot;);\n        // Create your question from first and second numbers here\n        \n    }\n</code></pre>\n<p>And result from inverse approach:</p>\n<pre><code>What is 21 ÷ 7 (Answer: 3)\nWhat is 4 ÷ 1 (Answer: 4)\nWhat is 100 ÷ 10 (Answer: 10)\nWhat is 40 ÷ 4 (Answer: 10)\nWhat is 64 ÷ 8 (Answer: 8)\nWhat is 16 ÷ 8 (Answer: 2)\nWhat is 14 ÷ 2 (Answer: 7)\nWhat is 63 ÷ 7 (Answer: 9)\nWhat is 56 ÷ 7 (Answer: 8)\nWhat is 4 ÷ 2 (Answer: 2)\nWhat is 10 ÷ 2 (Answer: 5)\nWhat is 18 ÷ 6 (Answer: 3)\nWhat is 5 ÷ 5 (Answer: 1)\nWhat is 42 ÷ 7 (Answer: 6)\nWhat is 5 ÷ 1 (Answer: 5)\nWhat is 54 ÷ 6 (Answer: 9)\nWhat is 14 ÷ 2 (Answer: 7)\nWhat is 14 ÷ 2 (Answer: 7)\nWhat is 50 ÷ 5 (Answer: 10)\nWhat is 36 ÷ 6 (Answer: 6)\nWhat is 12 ÷ 6 (Answer: 2)\nWhat is 56 ÷ 8 (Answer: 7)\nWhat is 24 ÷ 8 (Answer: 3)\nWhat is 12 ÷ 4 (Answer: 3)\nWhat is 20 ÷ 5 (Answer: 4)\nWhat is 100 ÷ 10 (Answer: 10)\nWhat is 36 ÷ 4 (Answer: 9)\nWhat is 18 ÷ 9 (Answer: 2)\nWhat is 48 ÷ 6 (Answer: 8)\nWhat is 40 ÷ 4 (Answer: 10)\nWhat is 42 ÷ 6 (Answer: 7)\nWhat is 8 ÷ 2 (Answer: 4)\nWhat is 18 ÷ 2 (Answer: 9)\nWhat is 18 ÷ 3 (Answer: 6)\nWhat is 70 ÷ 10 (Answer: 7)\nWhat is 8 ÷ 1 (Answer: 8)\nWhat is 12 ÷ 3 (Answer: 4)\nWhat is 24 ÷ 6 (Answer: 4)\nWhat is 8 ÷ 4 (Answer: 2)\nWhat is 6 ÷ 3 (Answer: 2)\nWhat is 20 ÷ 10 (Answer: 2)\nWhat is 30 ÷ 6 (Answer: 5)\nWhat is 70 ÷ 10 (Answer: 7)\nWhat is 42 ÷ 6 (Answer: 7)\nWhat is 6 ÷ 2 (Answer: 3)\nWhat is 15 ÷ 3 (Answer: 5)\nWhat is 12 ÷ 3 (Answer: 4)\nWhat is 10 ÷ 2 (Answer: 5)\nWhat is 70 ÷ 7 (Answer: 10)\nWhat is 6 ÷ 1 (Answer: 6)\nWhat is 80 ÷ 8 (Answer: 10)\nWhat is 7 ÷ 1 (Answer: 7)\nWhat is 45 ÷ 5 (Answer: 9)\nWhat is 21 ÷ 7 (Answer: 3)\nWhat is 48 ÷ 6 (Answer: 8)\nWhat is 12 ÷ 3 (Answer: 4)\nWhat is 21 ÷ 3 (Answer: 7)\nWhat is 48 ÷ 8 (Answer: 6)\nWhat is 80 ÷ 8 (Answer: 10)\nWhat is 50 ÷ 5 (Answer: 10)\nWhat is 18 ÷ 3 (Answer: 6)\nWhat is 24 ÷ 8 (Answer: 3)\nWhat is 30 ÷ 5 (Answer: 6)\nWhat is 54 ÷ 9 (Answer: 6)\nWhat is 8 ÷ 8 (Answer: 1)\nWhat is 8 ÷ 8 (Answer: 1)\nWhat is 40 ÷ 8 (Answer: 5)\nWhat is 6 ÷ 1 (Answer: 6)\nWhat is 60 ÷ 10 (Answer: 6)\nWhat is 60 ÷ 6 (Answer: 10)\nWhat is 45 ÷ 9 (Answer: 5)\nWhat is 48 ÷ 6 (Answer: 8)\nWhat is 50 ÷ 5 (Answer: 10)\nWhat is 24 ÷ 3 (Answer: 8)\nWhat is 6 ÷ 3 (Answer: 2)\nWhat is 5 ÷ 1 (Answer: 5)\nWhat is 4 ÷ 1 (Answer: 4)\nWhat is 20 ÷ 4 (Answer: 5)\nWhat is 9 ÷ 3 (Answer: 3)\nWhat is 45 ÷ 5 (Answer: 9)\nWhat is 3 ÷ 1 (Answer: 3)\nWhat is 6 ÷ 2 (Answer: 3)\nWhat is 54 ÷ 6 (Answer: 9)\nWhat is 21 ÷ 3 (Answer: 7)\nWhat is 50 ÷ 10 (Answer: 5)\nWhat is 20 ÷ 5 (Answer: 4)\nWhat is 6 ÷ 3 (Answer: 2)\nWhat is 10 ÷ 10 (Answer: 1)\nWhat is 60 ÷ 6 (Answer: 10)\nWhat is 10 ÷ 10 (Answer: 1)\nWhat is 72 ÷ 9 (Answer: 8)\nWhat is 15 ÷ 5 (Answer: 3)\nWhat is 16 ÷ 8 (Answer: 2)\nWhat is 70 ÷ 10 (Answer: 7)\nWhat is 24 ÷ 4 (Answer: 6)\nWhat is 16 ÷ 8 (Answer: 2)\nWhat is 80 ÷ 10 (Answer: 8)\nWhat is 40 ÷ 10 (Answer: 4)\nWhat is 12 ÷ 6 (Answer: 2)\nWhat is 16 ÷ 2 (Answer: 8)\n</code></pre>\n"}],"owner":{"account_id":25973865,"reputation":13,"user_id":19688576,"display_name":"Mervile"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73262952,"answer_count":1,"score":0,"last_activity_date":1659871660,"creation_date":1659810033,"question_id":73262289,"body_markdown":"I tried this for my math quiz and it works wonders, but I did not get the fractional part:\r\n \r\n\r\n    public void gameContinue() {\r\n      int num1 = (int) (Math.random() * 100 + 1);\r\n      java.util.List&lt;Integer&gt; firstNumDivisors = getDivisors(num1);\r\n    \r\n      int divisorsRandIndex = (int) (Math.random() * firstNumDivisors.size());\r\n      int num2 = firstNumDivisors.get(divisorsRandIndex);\r\n    \r\n      question.setText(num1 + &quot; &#247; &quot; + num2);\r\n      \r\n      // Create your question from first and second numbers here\r\n    }\r\n    \r\n    private static java.util.List&lt;Integer&gt; getDivisors (int number) {\r\n      java.util.List&lt;Integer&gt; divisors = new java.util.ArrayList&lt;&gt;();\r\n    \r\n      for (int i = 1; i &lt;= number; i++)\r\n        if (number % i == 0)\r\n          divisors.add(i);\r\n      return divisors;\r\n    }\r\n\r\nBut after some testing, I do not want to include prime numbers (more than 10 like 11, 13, 17, 19 and so on) and I also do not want the answer to be more than 10 (11, 12, 13 and so on)\r\n\r\nShould I make a string for prime numbers and make the program exclude those? Also, how can I make the answer to be no more than 10?\r\n\r\nThank you\r\n","title":"how to exclude prime number from random number math quiz?","body":"<p>I tried this for my math quiz and it works wonders, but I did not get the fractional part:</p>\n<pre><code>public void gameContinue() {\n  int num1 = (int) (Math.random() * 100 + 1);\n  java.util.List&lt;Integer&gt; firstNumDivisors = getDivisors(num1);\n\n  int divisorsRandIndex = (int) (Math.random() * firstNumDivisors.size());\n  int num2 = firstNumDivisors.get(divisorsRandIndex);\n\n  question.setText(num1 + &quot; ÷ &quot; + num2);\n  \n  // Create your question from first and second numbers here\n}\n\nprivate static java.util.List&lt;Integer&gt; getDivisors (int number) {\n  java.util.List&lt;Integer&gt; divisors = new java.util.ArrayList&lt;&gt;();\n\n  for (int i = 1; i &lt;= number; i++)\n    if (number % i == 0)\n      divisors.add(i);\n  return divisors;\n}\n</code></pre>\n<p>But after some testing, I do not want to include prime numbers (more than 10 like 11, 13, 17, 19 and so on) and I also do not want the answer to be more than 10 (11, 12, 13 and so on)</p>\n<p>Should I make a string for prime numbers and make the program exclude those? Also, how can I make the answer to be no more than 10?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","sqlite","hibernate","jpa"],"owner":{"account_id":25762469,"reputation":53,"user_id":19513159,"display_name":"Yash garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659870943,"creation_date":1659813573,"question_id":73262650,"body_markdown":"I am trying to perform **Batch Insert** with spring data jpa and *Hibernate* but the problem is *Hibernate* only supports batch inserts when the generated value strategy is `SEQUENCE` but somehow sqlite does not support this strategy so I resort to Identity which works fine but does not support batching with hibernate. Is there any solution or workaround for this.\r\n\r\n&lt;h5&gt;Entity&lt;/h5&gt;\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;party&quot;)\r\npublic class PartyEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;party_id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;party_name&quot;, unique = true)\r\n    @NonNull\r\n    private String name;\r\n\r\n    @Column(name = &quot;party_phone_number&quot;, unique = true)\r\n    private Long number;\r\n\r\n}\r\n```\r\nSQLite do have this table called &#39;sqlite_sequence&#39; which I try to use with @SequenceGenerator but hibernate tries to create this table which we cannot as this is a reserved table. And same goes for @TableGenerator.\r\n\r\n&lt;h6&gt;Annotation for sequence used&lt;/h6&gt;\r\n\r\n```\r\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;party_seq&quot;)\r\n@SequenceGenerator(name = &quot;party_seq&quot;, sequenceName = &quot;sqlite_sequence&quot;, allocationSize = 1)\r\n```\r\n\r\n&lt;h6&gt;Annotation for table used&lt;/h6&gt;\r\n\r\n```\r\n@GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;sqlite_generator&quot;)\r\n@TableGenerator(name = &quot;sqlite_generator&quot;, table = &quot;sqlite_sequence&quot;, pkColumnName = &quot;name&quot;,\r\n            valueColumnName = &quot;seq&quot;, pkColumnValue = &quot;party&quot;, initialValue = 1, allocationSize = 1)\r\n```\r\n\r\nDDL script for the table\r\n```\r\nCREATE TABLE party (\r\n    party_id              INTEGER       PRIMARY KEY ASC AUTOINCREMENT,\r\n    party_name            VARCHAR (256) UNIQUE\r\n                                        NOT NULL,\r\n    party_phone_number    INTEGER (10)  UNIQUE\r\n);\r\n```\r\n","title":"How to achieve Batch Inserts with Spring data and SQLite?","body":"<p>I am trying to perform <strong>Batch Insert</strong> with spring data jpa and <em>Hibernate</em> but the problem is <em>Hibernate</em> only supports batch inserts when the generated value strategy is <code>SEQUENCE</code> but somehow sqlite does not support this strategy so I resort to Identity which works fine but does not support batching with hibernate. Is there any solution or workaround for this.</p>\n<h5>Entity</h5>\n<pre><code>@Entity\n@Table(name = &quot;party&quot;)\npublic class PartyEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;party_id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;party_name&quot;, unique = true)\n    @NonNull\n    private String name;\n\n    @Column(name = &quot;party_phone_number&quot;, unique = true)\n    private Long number;\n\n}\n</code></pre>\n<p>SQLite do have this table called 'sqlite_sequence' which I try to use with @SequenceGenerator but hibernate tries to create this table which we cannot as this is a reserved table. And same goes for @TableGenerator.</p>\n<h6>Annotation for sequence used</h6>\n<pre><code>@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;party_seq&quot;)\n@SequenceGenerator(name = &quot;party_seq&quot;, sequenceName = &quot;sqlite_sequence&quot;, allocationSize = 1)\n</code></pre>\n<h6>Annotation for table used</h6>\n<pre><code>@GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;sqlite_generator&quot;)\n@TableGenerator(name = &quot;sqlite_generator&quot;, table = &quot;sqlite_sequence&quot;, pkColumnName = &quot;name&quot;,\n            valueColumnName = &quot;seq&quot;, pkColumnValue = &quot;party&quot;, initialValue = 1, allocationSize = 1)\n</code></pre>\n<p>DDL script for the table</p>\n<pre><code>CREATE TABLE party (\n    party_id              INTEGER       PRIMARY KEY ASC AUTOINCREMENT,\n    party_name            VARCHAR (256) UNIQUE\n                                        NOT NULL,\n    party_phone_number    INTEGER (10)  UNIQUE\n);\n</code></pre>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1512589233,"post_id":47682179,"comment_id":82323560,"body_markdown":"The code you show should correctly print **all elements** of the `ArrayList`. The `it.next()` call will, at its first call, also return the **first element**. This element is usually denoted with **index 0**.","body":"The code you show should correctly print <b>all elements</b> of the <code>ArrayList</code>. The <code>it.next()</code> call will, at its first call, also return the <b>first element</b>. This element is usually denoted with <b>index 0</b>."},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1512589247,"post_id":47682179,"comment_id":82323568,"body_markdown":"Did you know you can look at the source code of java classes to see what they do and how?","body":"Did you know you can look at the source code of java classes to see what they do and how?"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1512589447,"post_id":47682179,"comment_id":82323673,"body_markdown":"Possible duplicate of [Ways to iterate over a List in java?](https://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18410035/ways-to-iterate-over-a-list-in-java\">Ways to iterate over a List in java?</a>"},{"owner":{"account_id":10081074,"reputation":1138,"user_id":9040373,"display_name":"whatamidoingwithmylife"},"score":0,"creation_date":1512589459,"post_id":47682179,"comment_id":82323681,"body_markdown":"Think of iterator as a cursor when you are typing text, imagine you had &quot;abc&quot; in some text file, and you want to read each and every one of those letters, at the very beginning cursor will be just before letter &#39;a&#39; when you call next imagine that it moves one place to the right and selects the element it moves over, so you can now print that element or do something with it, then on the next call it will move over across &#39;b&#39; so you can do something with &#39;b&#39;, and it keeps doing this until it has nothing to move over.","body":"Think of iterator as a cursor when you are typing text, imagine you had &quot;abc&quot; in some text file, and you want to read each and every one of those letters, at the very beginning cursor will be just before letter &#39;a&#39; when you call next imagine that it moves one place to the right and selects the element it moves over, so you can now print that element or do something with it, then on the next call it will move over across &#39;b&#39; so you can do something with &#39;b&#39;, and it keeps doing this until it has nothing to move over."},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1512589523,"post_id":47682179,"comment_id":82323715,"body_markdown":"@user1803551 OP is not asking how to iterate over a List - OP is asking about the mechanics of iterating using `next()` and, specifically, the edge case when fetching the first element.","body":"@user1803551 OP is not asking how to iterate over a List - OP is asking about the mechanics of iterating using <code>next()</code> and, specifically, the edge case when fetching the first element."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1512589797,"post_id":47682179,"comment_id":82323861,"body_markdown":"@ochi The question is not what determines duplicate, it&#39;s the answers. The answers there address this.","body":"@ochi The question is not what determines duplicate, it&#39;s the answers. The answers there address this."},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1512589902,"post_id":47682179,"comment_id":82323914,"body_markdown":"@user1803551 I&#39;ll agree to disagree ;)","body":"@user1803551 I&#39;ll agree to disagree ;)"},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1512590377,"post_id":47682179,"comment_id":82324167,"body_markdown":"IMO this is a reasonable question - it&#39;s asking how to model where and when an iterator points (i.e. is it pointing &quot;in between&quot;, &quot;before&quot;, or something else?)","body":"IMO this is a reasonable question - it&#39;s asking how to model where and when an iterator points (i.e. is it pointing &quot;in between&quot;, &quot;before&quot;, or something else?)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1512590862,"post_id":47682179,"comment_id":82324452,"body_markdown":"It&#39;s all about the documentation as it just says *&quot;returns the next element&quot;*. Technically *next* implies that there was already something before. So in my opinion it is reasonable to ask what the first element is. The documentation could have explained this better.","body":"It&#39;s all about the documentation as it just says <i>&quot;returns the next element&quot;</i>. Technically <i>next</i> implies that there was already something before. So in my opinion it is reasonable to ask what the first element is. The documentation could have explained this better."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1512590960,"post_id":47682179,"comment_id":82324510,"body_markdown":"@OliverCharlesworth And that is shown well in the [tutorial](https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html), with a diagram, code examples and explanation. Questions which do not do research are not good questions and this is even a good downvote reason.","body":"@OliverCharlesworth And that is shown well in the <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/list.html\" rel=\"nofollow noreferrer\">tutorial</a>, with a diagram, code examples and explanation. Questions which do not do research are not good questions and this is even a good downvote reason."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1512591135,"post_id":47682179,"comment_id":82324586,"body_markdown":"@user1803551 - Point taken.  But bear in mind that&#39;s a tutorial page for `List`, so not necessarily what you&#39;d stumble upon if you&#39;re researching the semantics of iterators in general.  And as Zabuza points out, the language in the Javadoc isn&#39;t necessarily helpful.","body":"@user1803551 - Point taken.  But bear in mind that&#39;s a tutorial page for <code>List</code>, so not necessarily what you&#39;d stumble upon if you&#39;re researching the semantics of iterators in general.  And as Zabuza points out, the language in the Javadoc isn&#39;t necessarily helpful."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1512591418,"post_id":47682179,"comment_id":82324732,"body_markdown":"@ochi Maybe you&#39;d prefer https://stackoverflow.com/questions/26194702/cursor-implementation-in-iterator-in-java-collections","body":"@ochi Maybe you&#39;d prefer <a href=\"https://stackoverflow.com/questions/26194702/cursor-implementation-in-iterator-in-java-collections\" title=\"cursor implementation in iterator in java collections\">stackoverflow.com/questions/26194702/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1512589299,"creation_date":1512589299,"answer_id":47682245,"question_id":47682179,"body_markdown":"Think of `next` as a two-step process. First it gets the next item in the iterator, then it increments the pointer to point to the next item. So, when you create a new iterator, it is initialized to return the first item (index 0) in your list.","title":"How does next() method on iterators work?","body":"<p>Think of <code>next</code> as a two-step process. First it gets the next item in the iterator, then it increments the pointer to point to the next item. So, when you create a new iterator, it is initialized to return the first item (index 0) in your list.</p>\n"},{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512590541,"creation_date":1512589674,"answer_id":47682343,"question_id":47682179,"body_markdown":"The code you show will correctly print **all elements** of the `ArrayList`. The `it.next()` call will, at its first call, also the **first element**. This element is usually denoted with **index 0**.\r\n\r\nNote that you might want to rename `arrayOfStrings` as technically it&#39;s no **array**, it&#39;s more a `List`. A user might due the name think that it is an array.\r\n\r\n----------\r\n## Documentation ##\r\n\r\nIn my opinion you are right that the [documentation of the method](https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#next--) can be a bit confusing since it is so compact:\r\n\r\n&gt;Returns the next element in the iteration.\r\n\r\nHowever the description probably needs to be so undetailed since `Iterator` is a very frequently used interface, not only for collections. I could imagine a class where the *first iteration element* should not be the first element of the underlying structure. For example some kind of stream that was already read until a given point. So basically it is up to the implementing class to decide what the *first element* is. But for collections it will truly be the **first element** (index 0).\r\n\r\n----------\r\n## For-each ##\r\n\r\nAlso note that the iteration you show is equivalent to how the **extended for-loop** (for-each) works in Java. So a syntax like\r\n\r\n    for (Item item : items) {\r\n        ...\r\n    }\r\n\r\nwill be treated like\r\n\r\n    Iterator&lt;Item&gt; iter = items.iterator();\r\n    while(iter.hasNext()) {\r\n        Item item = iter.next();\r\n        ...\r\n    }\r\n\r\nIn fact this is the reason why you can use everything that implements `Iterable` in *extended for loops*.\r\n\r\nKnowing this it would rather be confusing if `iter.next()` would skip the first element. I mean by the name **for-each** is supposed to iterate **all** elements.\r\n\r\n----------\r\n## Insights ##\r\n\r\nLet&#39;s take a closer look at how the method is implemented. Therefore we will first see what `ArrayList#iterator` does. Take a look at its [source code](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList):\r\n\r\n    public Iterator&lt;E&gt; iterator() {\r\n        return new Itr();\r\n    }\r\n\r\nThe `Itr` class is a private class of `ArrayList` ([source code](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList.Itr)). And [here](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList.Itr.next%28%29) is the `Itr#next` method:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public E next() {\r\n        checkForComodification();\r\n        int i = cursor;\r\n        if (i &gt;= size)\r\n            throw new NoSuchElementException();\r\n\r\n        Object[] elementData = ArrayList.this.elementData;\r\n        if (i &gt;= elementData.length)\r\n            throw new ConcurrentModificationException();\r\n\r\n        cursor = i + 1;\r\n        return (E) elementData[lastRet = i];\r\n    }\r\n\r\nSo what it essentially returns is the element at index `i` which is where the cursor was at the point of calling the method. It also already advances the cursor by one for the next call of the method.\r\n\r\nThe cursor however is implicitly initialized with `0` due to:\r\n\r\n    int cursor; // Default value for int is 0\r\n\r\nSo the first call of `next` will indeed return the element at index `0` which is the **first element**.","title":"How does next() method on iterators work?","body":"<p>The code you show will correctly print <strong>all elements</strong> of the <code>ArrayList</code>. The <code>it.next()</code> call will, at its first call, also the <strong>first element</strong>. This element is usually denoted with <strong>index 0</strong>.</p>\n\n<p>Note that you might want to rename <code>arrayOfStrings</code> as technically it's no <strong>array</strong>, it's more a <code>List</code>. A user might due the name think that it is an array.</p>\n\n<hr>\n\n<h2>Documentation</h2>\n\n<p>In my opinion you are right that the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#next--\" rel=\"nofollow noreferrer\">documentation of the method</a> can be a bit confusing since it is so compact:</p>\n\n<blockquote>\n  <p>Returns the next element in the iteration.</p>\n</blockquote>\n\n<p>However the description probably needs to be so undetailed since <code>Iterator</code> is a very frequently used interface, not only for collections. I could imagine a class where the <em>first iteration element</em> should not be the first element of the underlying structure. For example some kind of stream that was already read until a given point. So basically it is up to the implementing class to decide what the <em>first element</em> is. But for collections it will truly be the <strong>first element</strong> (index 0).</p>\n\n<hr>\n\n<h2>For-each</h2>\n\n<p>Also note that the iteration you show is equivalent to how the <strong>extended for-loop</strong> (for-each) works in Java. So a syntax like</p>\n\n<pre><code>for (Item item : items) {\n    ...\n}\n</code></pre>\n\n<p>will be treated like</p>\n\n<pre><code>Iterator&lt;Item&gt; iter = items.iterator();\nwhile(iter.hasNext()) {\n    Item item = iter.next();\n    ...\n}\n</code></pre>\n\n<p>In fact this is the reason why you can use everything that implements <code>Iterable</code> in <em>extended for loops</em>.</p>\n\n<p>Knowing this it would rather be confusing if <code>iter.next()</code> would skip the first element. I mean by the name <strong>for-each</strong> is supposed to iterate <strong>all</strong> elements.</p>\n\n<hr>\n\n<h2>Insights</h2>\n\n<p>Let's take a closer look at how the method is implemented. Therefore we will first see what <code>ArrayList#iterator</code> does. Take a look at its <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList\" rel=\"nofollow noreferrer\">source code</a>:</p>\n\n<pre><code>public Iterator&lt;E&gt; iterator() {\n    return new Itr();\n}\n</code></pre>\n\n<p>The <code>Itr</code> class is a private class of <code>ArrayList</code> (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList.Itr\" rel=\"nofollow noreferrer\">source code</a>). And <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/ArrayList.java#ArrayList.Itr.next%28%29\" rel=\"nofollow noreferrer\">here</a> is the <code>Itr#next</code> method:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic E next() {\n    checkForComodification();\n    int i = cursor;\n    if (i &gt;= size)\n        throw new NoSuchElementException();\n\n    Object[] elementData = ArrayList.this.elementData;\n    if (i &gt;= elementData.length)\n        throw new ConcurrentModificationException();\n\n    cursor = i + 1;\n    return (E) elementData[lastRet = i];\n}\n</code></pre>\n\n<p>So what it essentially returns is the element at index <code>i</code> which is where the cursor was at the point of calling the method. It also already advances the cursor by one for the next call of the method.</p>\n\n<p>The cursor however is implicitly initialized with <code>0</code> due to:</p>\n\n<pre><code>int cursor; // Default value for int is 0\n</code></pre>\n\n<p>So the first call of <code>next</code> will indeed return the element at index <code>0</code> which is the <strong>first element</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1512589844,"creation_date":1512589844,"answer_id":47682379,"question_id":47682179,"body_markdown":"My way to imagine the way iterators work is to think about it as the thing that is placed **between** the indexes. So when the first `next()` is being called you can return the value stored under the [0] index and after that call, iterator waits between index [0] and [1] for the next call to return for you value stored at index [1]. After the second `next()` call iterator waits between [1] and [2] and so on...\n\nIt is just my way to get used to iterators but it might be helpful for you some way.","title":"How does next() method on iterators work?","body":"<p>My way to imagine the way iterators work is to think about it as the thing that is placed <strong>between</strong> the indexes. So when the first <code>next()</code> is being called you can return the value stored under the [0] index and after that call, iterator waits between index [0] and [1] for the next call to return for you value stored at index [1]. After the second <code>next()</code> call iterator waits between [1] and [2] and so on...</p>\n\n<p>It is just my way to get used to iterators but it might be helpful for you some way.</p>\n"},{"tags":[],"owner":{"account_id":14031128,"reputation":1,"user_id":10134987,"display_name":"Faizan Mustafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659870898,"creation_date":1659870898,"answer_id":73266923,"question_id":47682179,"body_markdown":"I will explain this with `ListIterator` which has both `next` and `previous`. `next` has same concept in both `Iterator` and `ListIterator`\r\n\r\n\r\n    ListIterator&lt;String&gt; itr = linkedList.listIterator();\r\nHere `itr` will point at first index (index=0)\r\n\r\nThink `next` as &quot;current&quot; and `previous` as &quot;previous&quot;.\r\n\r\nThat means,\r\n\r\n`itr.hasNext()` = returns true if `itr` has any element at current position.\r\n\r\n`itr.next()` = return the current element and move `itr` to next position.\r\n\r\n`itr.hasPrevious()` = returns true if there is any element at position before `itr`.\r\n\r\n`itr.previous()` = move the `itr` to previous element and return that element.","title":"How does next() method on iterators work?","body":"<p>I will explain this with <code>ListIterator</code> which has both <code>next</code> and <code>previous</code>. <code>next</code> has same concept in both <code>Iterator</code> and <code>ListIterator</code></p>\n<pre><code>ListIterator&lt;String&gt; itr = linkedList.listIterator();\n</code></pre>\n<p>Here <code>itr</code> will point at first index (index=0)</p>\n<p>Think <code>next</code> as &quot;current&quot; and <code>previous</code> as &quot;previous&quot;.</p>\n<p>That means,</p>\n<p><code>itr.hasNext()</code> = returns true if <code>itr</code> has any element at current position.</p>\n<p><code>itr.next()</code> = return the current element and move <code>itr</code> to next position.</p>\n<p><code>itr.hasPrevious()</code> = returns true if there is any element at position before <code>itr</code>.</p>\n<p><code>itr.previous()</code> = move the <code>itr</code> to previous element and return that element.</p>\n"}],"owner":{"account_id":12018604,"reputation":160,"user_id":8792873,"display_name":"Angelixus"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20262,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":47682245,"answer_count":4,"score":4,"last_activity_date":1659870898,"creation_date":1512589076,"question_id":47682179,"body_markdown":"I have a doubt with the `next()` method on iterators.  If I have as a part of my code this lines (with `arrayOfStrings` size = 4):\r\n\r\n    Iterator&lt;String&gt; it = arrayOfStrings.iterator(); //arrayOfString is ArrayList&lt;String&gt;\r\n\r\n    while(it.hasNext()) {\r\n        String e = it.next();\r\n        System.out.println(e);\r\n    }\r\n\r\nAt the very first iteration, the iterator starts pointing to element with index 0? or like the &quot;index -1&quot; ?\r\n\r\nI ask because as far as I know the `next()` method returns the next element in the collection.  \r\n\r\nSo, if at the very first iteration the iterator starts at index 0 when `next()` is invoked, it returns the element at index 1 and I won&#180;t be able to do nothing with the element at index 0?","title":"How does next() method on iterators work?","body":"<p>I have a doubt with the <code>next()</code> method on iterators.  If I have as a part of my code this lines (with <code>arrayOfStrings</code> size = 4):</p>\n\n<pre><code>Iterator&lt;String&gt; it = arrayOfStrings.iterator(); //arrayOfString is ArrayList&lt;String&gt;\n\nwhile(it.hasNext()) {\n    String e = it.next();\n    System.out.println(e);\n}\n</code></pre>\n\n<p>At the very first iteration, the iterator starts pointing to element with index 0? or like the \"index -1\" ?</p>\n\n<p>I ask because as far as I know the <code>next()</code> method returns the next element in the collection.  </p>\n\n<p>So, if at the very first iteration the iterator starts at index 0 when <code>next()</code> is invoked, it returns the element at index 1 and I won´t be able to do nothing with the element at index 0?</p>\n"},{"tags":["javascript","java","spring-boot","algorithm","enums"],"answers":[{"tags":[],"owner":{"account_id":24253099,"reputation":13,"user_id":19631112,"display_name":"Loki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659869609,"creation_date":1659869609,"answer_id":73266803,"question_id":73253622,"body_markdown":"I add in class that implements ValueOfEnumValidation annotation:\r\n\r\n    public class ValueOfEnumValidator implements ConstraintValidator&lt;ValueOfEnumValidation, String&gt; {\r\n      private List&lt;String&gt; valueList = null;\r\n      private String message = &quot;&quot;;\r\n    \r\n      @Override\r\n      public void initialize(ValueOfEnumValidation constraintAnnotation) {\r\n        valueList = Arrays.stream(constraintAnnotation.value().getEnumConstants())\r\n            .map(Enum::name)\r\n            .collect(Collectors.toList());\r\n        message = &quot;Please choose : &quot;+valueList;\r\n      }\r\n    \r\n      @Override\r\n      public boolean isValid(String string, ConstraintValidatorContext context) {\r\n        context.disableDefaultConstraintViolation();\r\n        context.buildConstraintViolationWithTemplate(&quot;You write: &quot;+string+&quot;\\n&quot;+message).addConstraintViolation();\r\n        return valueList.contains(string);\r\n      }\r\n    }","title":"How to return custom message in Enum Anotation?","body":"<p>I add in class that implements ValueOfEnumValidation annotation:</p>\n<pre><code>public class ValueOfEnumValidator implements ConstraintValidator&lt;ValueOfEnumValidation, String&gt; {\n  private List&lt;String&gt; valueList = null;\n  private String message = &quot;&quot;;\n\n  @Override\n  public void initialize(ValueOfEnumValidation constraintAnnotation) {\n    valueList = Arrays.stream(constraintAnnotation.value().getEnumConstants())\n        .map(Enum::name)\n        .collect(Collectors.toList());\n    message = &quot;Please choose : &quot;+valueList;\n  }\n\n  @Override\n  public boolean isValid(String string, ConstraintValidatorContext context) {\n    context.disableDefaultConstraintViolation();\n    context.buildConstraintViolationWithTemplate(&quot;You write: &quot;+string+&quot;\\n&quot;+message).addConstraintViolation();\n    return valueList.contains(string);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24253099,"reputation":13,"user_id":19631112,"display_name":"Loki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659869609,"creation_date":1659721877,"question_id":73253622,"body_markdown":"I have ValueOfEnumValidation annotation which checks the correctness of the input enum:\r\n\r\n  \r\n\r\n     @Target(value = ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @NotNull(message = &quot;Enum cannot be null&quot;)\r\n    @Constraint(validatedBy = ValueOfEnumValidator.class)\r\n    @Documented\r\n    public @interface ValueOfEnumValidation {\r\n      Class&lt;? extends Enum&lt;?&gt;&gt; value();\r\n    \r\n      String message() default &quot;&quot;;\r\n    \r\n      Class&lt;?&gt;[] groups() default {};\r\n    \r\n      Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nand class that implements \r\nValueOfEnumValidation annotation :\r\n\r\n    public class ValueOfEnumValidator implements ConstraintValidator&lt;ValueOfEnumValidation, String&gt; {\r\n      private List&lt;String&gt; valueList = null;\r\n    \r\n      @Override\r\n      public void initialize(ValueOfEnumValidation constraintAnnotation) {\r\n        valueList = Arrays.stream(constraintAnnotation.value().getEnumConstants())\r\n            .map(Enum::name)\r\n            .collect(Collectors.toList());\r\n      }\r\n    \r\n      @Override\r\n      public boolean isValid(String string, ConstraintValidatorContext context) {\r\n        return valueList.contains(string);\r\n      }\r\n    \r\n    }\r\n   \r\nwhat i have get:\r\n json response:\r\n\r\n    {\r\n        &quot;code&quot;: 400,\r\n        &quot;errors&quot;: [\r\n            &quot;Please choose : {list enum variable}&quot;\r\n        ]\r\n    }","title":"How to return custom message in Enum Anotation?","body":"<p>I have ValueOfEnumValidation annotation which checks the correctness of the input enum:</p>\n<pre><code> @Target(value = ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@NotNull(message = &quot;Enum cannot be null&quot;)\n@Constraint(validatedBy = ValueOfEnumValidator.class)\n@Documented\npublic @interface ValueOfEnumValidation {\n  Class&lt;? extends Enum&lt;?&gt;&gt; value();\n\n  String message() default &quot;&quot;;\n\n  Class&lt;?&gt;[] groups() default {};\n\n  Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>and class that implements\nValueOfEnumValidation annotation :</p>\n<pre><code>public class ValueOfEnumValidator implements ConstraintValidator&lt;ValueOfEnumValidation, String&gt; {\n  private List&lt;String&gt; valueList = null;\n\n  @Override\n  public void initialize(ValueOfEnumValidation constraintAnnotation) {\n    valueList = Arrays.stream(constraintAnnotation.value().getEnumConstants())\n        .map(Enum::name)\n        .collect(Collectors.toList());\n  }\n\n  @Override\n  public boolean isValid(String string, ConstraintValidatorContext context) {\n    return valueList.contains(string);\n  }\n\n}\n</code></pre>\n<p>what i have get:\njson response:</p>\n<pre><code>{\n    &quot;code&quot;: 400,\n    &quot;errors&quot;: [\n        &quot;Please choose : {list enum variable}&quot;\n    ]\n}\n</code></pre>\n"},{"tags":["java","api","spring-data-jpa","postman","jpa-annotations"],"comments":[{"owner":{"account_id":22498565,"reputation":1,"user_id":16695192,"display_name":"newB"},"score":0,"creation_date":1659867986,"post_id":73266631,"comment_id":129392687,"body_markdown":"Correction, In the @PostMapping, its @PostMapping(&quot;/{memberProfileId}/talents&quot;)","body":"Correction, In the @PostMapping, its @PostMapping(&quot;/{memberProfileId}/talents&quot;)"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659868333,"post_id":73266631,"comment_id":129392754,"body_markdown":"can you share what is response you are getting as a part of `addNewTalent` call?","body":"can you share what is response you are getting as a part of <code>addNewTalent</code> call?"},{"owner":{"account_id":22498565,"reputation":1,"user_id":16695192,"display_name":"newB"},"score":0,"creation_date":1659869317,"post_id":73266631,"comment_id":129392905,"body_markdown":"Thank you @AshishPatil for giving time on this, I updated the question with the addMemberTalent response.","body":"Thank you @AshishPatil for giving time on this, I updated the question with the addMemberTalent response."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659869517,"creation_date":1659869517,"answer_id":73266798,"question_id":73266631,"body_markdown":"You are returning `memberProfileService.save(memberProfile)` &amp; as per save code, it is returning `em.merge` :\r\n\r\n\r\n    @Transactional\r\n    \t@Override\r\n    \tpublic &lt;S extends T&gt; S save(S entity) {\r\n    \r\n    \t\tAssert.notNull(entity, &quot;Entity must not be null.&quot;);\r\n    \r\n    \t\tif (entityInformation.isNew(entity)) {\r\n    \t\t\tem.persist(entity);\r\n    \t\t\treturn entity;\r\n    \t\t} else {\r\n    \t\t\treturn em.merge(entity);\r\n    \t\t}\r\n    \t}\r\n\r\nWhen you are returning merge, then it is not returning your entire entity.\r\nSo you have to use below code to correctly return entire entity :\r\n\r\n\r\n\r\n    @PostMapping(&quot;/{memberProfileId}/talents&quot;)\r\n    MemberProfile addNewTalent(@PathVariable long memberProfileId, @RequestBody \r\n                                MemberTalent memberTalent) {\r\n        MemberProfile memberProfile = memberProfileService.findById(memberProfileId);\r\n        memberProfile.addMemberTalent(memberTalent);\r\n        memberProfileService.save(memberProfile);\r\n        return memberProfileService.findById(memberProfileId);\r\n    }\r\n\r\n","title":"Can&#39;t add data to a list via Postman Spring JPA @OneToMany/@ManyToOne","body":"<p>You are returning <code>memberProfileService.save(memberProfile)</code> &amp; as per save code, it is returning <code>em.merge</code> :</p>\n<pre><code>@Transactional\n    @Override\n    public &lt;S extends T&gt; S save(S entity) {\n\n        Assert.notNull(entity, &quot;Entity must not be null.&quot;);\n\n        if (entityInformation.isNew(entity)) {\n            em.persist(entity);\n            return entity;\n        } else {\n            return em.merge(entity);\n        }\n    }\n</code></pre>\n<p>When you are returning merge, then it is not returning your entire entity.\nSo you have to use below code to correctly return entire entity :</p>\n<pre><code>@PostMapping(&quot;/{memberProfileId}/talents&quot;)\nMemberProfile addNewTalent(@PathVariable long memberProfileId, @RequestBody \n                            MemberTalent memberTalent) {\n    MemberProfile memberProfile = memberProfileService.findById(memberProfileId);\n    memberProfile.addMemberTalent(memberTalent);\n    memberProfileService.save(memberProfile);\n    return memberProfileService.findById(memberProfileId);\n}\n</code></pre>\n"}],"owner":{"account_id":22498565,"reputation":1,"user_id":16695192,"display_name":"newB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659869517,"creation_date":1659867741,"question_id":73266631,"body_markdown":"I am learning spring-boot jpa and is starting to get a feel on how thing works unfortunately I came across some difficulty. My sample app is so simple and only have three entities, namely MemberInfo, MemberProfile, MemberTalents. \r\n\r\nMy Entities code goes like this: \r\n\r\n    @Entity\r\n    @Table(name=&quot;member_info&quot;)\r\n    public class MemberInfo {\r\n      //...\r\n      @OneToOne(cascade=CascadeType.ALL)\r\n      @JoinColumn(name=&quot;memberProfileId&quot;)\r\n      private MemberProfile memberProfile;\r\n      // getters and setters\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;member_profile&quot;)\r\n    public class MemberProfile {\r\n      //...\r\n      @OneToOne(mappedBy=&quot;memberProfile&quot;)\r\n      private MemberInfo memberInfo;\r\n   \r\n      @OnetoMany(mappedBy=&quot;memberProfile&quot;)\r\n      private Set&lt;MemberTalent&gt; memberTalent = new Hashset&lt;&gt;();\r\n      \r\n      // getters and setters\r\n\r\n      public void addMemberTalent(MemberProfile memberProfile) {\r\n          memberTalent.add(memberProfile);\r\n      }\r\n\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;member_talent&quot;)\r\n    public class MemberTalent {\r\n      //...\r\n      @ManyToOne(fetch=FetchType.LAZY, cascade=CascadeType.ALL)\r\n      @JoinColumn(name=&quot;memberProfileId&quot;)\r\n      private MemberProfile memberProfile;\r\n      // getters and setters\r\n    }\r\n\r\nI successfully configured MySQL for this entities and upon running in local host and send POST command in Postman using this format.\r\n\r\n    {\r\n        &quot;memberUserId&quot;: 1,\r\n        &quot;memberUser&quot;: &quot;John69&quot;,\r\n        &quot;memberEmail&quot;: &quot;John@gmail.com&quot;,\r\n        &quot;memberProfile&quot;: {}\r\n    }\r\n\r\nI get this response.\r\n\r\n    [\r\n      {\r\n        &quot;memberUserId&quot;: 1,\r\n        &quot;memberUser&quot;: &quot;John69&quot;,\r\n        &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\r\n        &quot;memberProfile&quot;: {\r\n            &quot;memberProfileId&quot;: 1,\r\n            &quot;memberName&quot;: null,\r\n            &quot;memberAddress&quot;: null,\r\n            &quot;memberTalent&quot;: []\r\n        }\r\n      }\r\n    ]\r\n\r\nNow, using Put command I managed to edit memberProfile with id=1, using this command.\r\n\r\n    {\r\n    &quot;memberProfileId&quot;: 1,\r\n    &quot;memberName&quot;: &quot;John Doe&quot;,\r\n    &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\r\n    }\r\n\r\nAnd I get this response\r\n\r\n    {\r\n        &quot;memberUserId&quot;: 1,\r\n        &quot;memberUser&quot;: &quot;John69&quot;,\r\n        &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\r\n        &quot;memberProfile&quot;: {\r\n            &quot;memberProfileId&quot;: 1,\r\n            &quot;memberName&quot;: &quot;John Doe&quot;,\r\n            &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\r\n            &quot;memberTalent&quot;: null\r\n    }\r\n\r\nNow, my challenge is filling the member talent list. This is the code I came up with.\r\n\r\n    @PostMapping(&quot;/{memberProfileId}/talents&quot;)\r\n    MemberProfile addNewTalent(@PathVariable long memberProfileId, @RequestBody \r\n                                MemberTalent memberTalent) {\r\n        MemberProfile memberProfile = memberProfileService.findById(memberProfileId);\r\n        memberProfile.addMemberTalent(memberTalent);\r\n        return memberProfileService.save(memberProfile);\r\n    }\r\n\r\nUnfortunately, it won&#39;t add anything to the memberTalent list. If anyone can help me on this I will really appreciate it. Thank you.\r\n\r\nUpdating:\r\n\r\nHere is the API body I sent in PostMapping:\r\n\r\n    {\r\n      &quot;memberTalent&quot;: &quot;Guitar&quot;,\r\n      &quot;memberMastery&quot;: &quot;Expert&quot;\r\n    }\r\n\r\nAnd here is the response. Even if I send many Post request, the response is the same.\r\n\r\n    {\r\n        &quot;memberUserId&quot;: 1,\r\n        &quot;memberUser&quot;: &quot;John69&quot;,\r\n        &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\r\n        &quot;memberProfile&quot;: {\r\n            &quot;memberProfileId&quot;: 1,\r\n            &quot;memberName&quot;: &quot;John Doe&quot;,\r\n            &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\r\n            &quot;memberTalent&quot;: [\r\n                  {\r\n                     &quot;memberTalentId&quot;: 0,\r\n                     &quot;memberTalent&quot;: null,\r\n                     &quot;memberMastery&quot;: null\r\n                  }\r\n\r\n         ]\r\n    }","title":"Can&#39;t add data to a list via Postman Spring JPA @OneToMany/@ManyToOne","body":"<p>I am learning spring-boot jpa and is starting to get a feel on how thing works unfortunately I came across some difficulty. My sample app is so simple and only have three entities, namely MemberInfo, MemberProfile, MemberTalents.</p>\n<p>My Entities code goes like this:</p>\n<pre><code>@Entity\n@Table(name=&quot;member_info&quot;)\npublic class MemberInfo {\n  //...\n  @OneToOne(cascade=CascadeType.ALL)\n  @JoinColumn(name=&quot;memberProfileId&quot;)\n  private MemberProfile memberProfile;\n  // getters and setters\n}\n\n@Entity\n@Table(name=&quot;member_profile&quot;)\npublic class MemberProfile {\n  //...\n  @OneToOne(mappedBy=&quot;memberProfile&quot;)\n  private MemberInfo memberInfo;\n\n  @OnetoMany(mappedBy=&quot;memberProfile&quot;)\n  private Set&lt;MemberTalent&gt; memberTalent = new Hashset&lt;&gt;();\n  \n  // getters and setters\n\n  public void addMemberTalent(MemberProfile memberProfile) {\n      memberTalent.add(memberProfile);\n  }\n\n}\n\n@Entity\n@Table(name=&quot;member_talent&quot;)\npublic class MemberTalent {\n  //...\n  @ManyToOne(fetch=FetchType.LAZY, cascade=CascadeType.ALL)\n  @JoinColumn(name=&quot;memberProfileId&quot;)\n  private MemberProfile memberProfile;\n  // getters and setters\n}\n</code></pre>\n<p>I successfully configured MySQL for this entities and upon running in local host and send POST command in Postman using this format.</p>\n<pre><code>{\n    &quot;memberUserId&quot;: 1,\n    &quot;memberUser&quot;: &quot;John69&quot;,\n    &quot;memberEmail&quot;: &quot;John@gmail.com&quot;,\n    &quot;memberProfile&quot;: {}\n}\n</code></pre>\n<p>I get this response.</p>\n<pre><code>[\n  {\n    &quot;memberUserId&quot;: 1,\n    &quot;memberUser&quot;: &quot;John69&quot;,\n    &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\n    &quot;memberProfile&quot;: {\n        &quot;memberProfileId&quot;: 1,\n        &quot;memberName&quot;: null,\n        &quot;memberAddress&quot;: null,\n        &quot;memberTalent&quot;: []\n    }\n  }\n]\n</code></pre>\n<p>Now, using Put command I managed to edit memberProfile with id=1, using this command.</p>\n<pre><code>{\n&quot;memberProfileId&quot;: 1,\n&quot;memberName&quot;: &quot;John Doe&quot;,\n&quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\n}\n</code></pre>\n<p>And I get this response</p>\n<pre><code>{\n    &quot;memberUserId&quot;: 1,\n    &quot;memberUser&quot;: &quot;John69&quot;,\n    &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\n    &quot;memberProfile&quot;: {\n        &quot;memberProfileId&quot;: 1,\n        &quot;memberName&quot;: &quot;John Doe&quot;,\n        &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\n        &quot;memberTalent&quot;: null\n}\n</code></pre>\n<p>Now, my challenge is filling the member talent list. This is the code I came up with.</p>\n<pre><code>@PostMapping(&quot;/{memberProfileId}/talents&quot;)\nMemberProfile addNewTalent(@PathVariable long memberProfileId, @RequestBody \n                            MemberTalent memberTalent) {\n    MemberProfile memberProfile = memberProfileService.findById(memberProfileId);\n    memberProfile.addMemberTalent(memberTalent);\n    return memberProfileService.save(memberProfile);\n}\n</code></pre>\n<p>Unfortunately, it won't add anything to the memberTalent list. If anyone can help me on this I will really appreciate it. Thank you.</p>\n<p>Updating:</p>\n<p>Here is the API body I sent in PostMapping:</p>\n<pre><code>{\n  &quot;memberTalent&quot;: &quot;Guitar&quot;,\n  &quot;memberMastery&quot;: &quot;Expert&quot;\n}\n</code></pre>\n<p>And here is the response. Even if I send many Post request, the response is the same.</p>\n<pre><code>{\n    &quot;memberUserId&quot;: 1,\n    &quot;memberUser&quot;: &quot;John69&quot;,\n    &quot;memberserEmail&quot;: &quot;John@gmail.com&quot;,\n    &quot;memberProfile&quot;: {\n        &quot;memberProfileId&quot;: 1,\n        &quot;memberName&quot;: &quot;John Doe&quot;,\n        &quot;memberAddress&quot;: &quot;doe@moon.com&quot;,\n        &quot;memberTalent&quot;: [\n              {\n                 &quot;memberTalentId&quot;: 0,\n                 &quot;memberTalent&quot;: null,\n                 &quot;memberMastery&quot;: null\n              }\n\n     ]\n}\n</code></pre>\n"},{"tags":["java","spring","performance","hibernate","hibernate-mapping"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1659859176,"post_id":73265452,"comment_id":129391260,"body_markdown":"Its pretty hard to answer a question about your code without having your code. Post an [mcve]","body":"Its pretty hard to answer a question about your code without having your code. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1659862871,"post_id":73265452,"comment_id":129391846,"body_markdown":"At the very least post the SQL that gets executed (query log) and the entities involved.","body":"At the very least post the SQL that gets executed (query log) and the entities involved."},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1659868499,"post_id":73265452,"comment_id":129392774,"body_markdown":"I have added the queries and entities as much as possible, Kindly check","body":"I have added the queries and entities as much as possible, Kindly check"}],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659868426,"creation_date":1659854966,"question_id":73265452,"body_markdown":"I have written a join query to avoid n+1 problem. It is successfully working when I checked with integration test case. But when it comes to the same query executes while application running in server, the same n+1 problem is coming. I have removed the the line join query call and tested by deploying, then no n+1 problem is coming. The query generated at integration test case and while running server both are same. But I am unable to understand why n+1 is happening when checked with deployed application. Configurations for both application and test case are same. \r\n\r\n----------\r\nQuery executing is below, Query id very huge so I posted the joins and tables involved in query, The below query executing for both test case and application level.\r\n\r\n&gt;1) from ITINERARY_TRAVELERS itineraryt0_ left outer join ITINERARIES itinerary1_ on itineraryt0_.ITINERARY_ID=itinerary1_.ID left outer join COUPON_HISTORY couponhist3_ on itinerary1_.ID=couponhist3_.ITINERARY_ID left outer join REWARD_USAGE_DATA rewardusag4_ on itinerary1_.ID=rewardusag4_.ITINERARY_ID left outer join CUSTOMER_REQUEST_INFO customertr5_ on itinerary1_.CUSTOMER_REQUEST_ID=customertr5_.ID left outer join ITINERARY_CANCELLATION_DETAILS itineraryc6_ on itinerary1_.ID=itineraryc6_.ITINERARY_ID left outer join INSURANCE_DETAILS insuranced7_ on itinerary1_.ID=insuranced7_.ITINERARY_ID left outer join EMP_EMPLOYER_DETAILS employeeem8_ on itinerary1_.ID=employeeem8_.ITINERARY_ID left outer join CUSTOMERS customer9_ on itinerary1_.CUSTOMER_ID=customer9_.ID left outer join REWARD_PROGRAM rewardprog10_ on customer9_.ID=rewardprog10_.CUSTOMER_ID left outer join CUSTOMER_CONTACT_DETAILS customerco11_ on customer9_.ID=customerco11_.CUSTOMER_ID left outer join CUSTOMER_PREFERRED_AIRLINES customerpr12_ on customer9_.ID=customerpr12_.CUSTOMER_ID left outer join TRAVELERS traveler2_ on itineraryt0_.TRAVELERS_ID=traveler2_.ID where itineraryt0_.TRAVELERS_ID=3183\r\n\r\n\r\n----------\r\nThe extra queries which are executing while checking when application deployed is in below format, with different ids (N+1)\r\n\r\n&gt;2) from ITINERARY_TRAVELERS itneraries0_ left outer join TRAVELERS traveler1_ on itneraries0_.TRAVELERS_ID=traveler1_.ID left outer join CUSTOMERS customer2_ on traveler1_.CUSTOMER_ID=customer2_.ID where itneraries0_.ITINERARY_ID=697049\r\n\r\nEntity classes are as follows\r\n\r\n    @Table(name = &quot;TRAVELERS&quot;)\r\n    @Cacheable(true)\r\n    @Audited\r\n    public class Traveler{\r\n    ......\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;traveler&quot;)\r\n    @OptimisticLock(excluded = true)\r\n    public Set&lt;ItineraryTravelerAssosciation&gt; getItnerariesTravlersAssosciation() {\r\n        return itnerariesTravlersAssosciation;\r\n    }\r\n\r\n    @Table(name = &quot;ITINERARY_TRAVELERS&quot;)\r\n    @Cacheable(true)\r\n    @Audited\r\n    public class ItineraryTravelerAssosciation extends BaseDto {\r\n    \r\n        private static final long serialVersionUID = 10124L;\r\n    \r\n        private String passengerType;\r\n        private Itinerary itinerary;\r\n        private Traveler traveler;\r\n        ......\r\n         @ManyToOne\r\n        @OptimisticLock(excluded = true)\r\n        @JoinColumn(name = &quot;ITINERARY_ID&quot;)\r\n        public Itinerary getItinerary() {\r\n        return itinerary;\r\n        }\r\n        @ManyToOne\r\n        @OptimisticLock(excluded = true)\r\n        @JoinColumn(name = &quot;TRAVELERS_ID&quot;)\r\n        public Traveler getTraveler() {\r\n        return traveler;\r\n       }\r\nIn Application I am reading First traveler object with id, using entity manger find with Id. On that when I call getItnerariesTravlersAssosciation(), N+1 queries(query 2) are executing.\r\nBut this behavior is not re producing when I run integration test case. The N+1 calls happening only when application is deployed. \r\n\r\n","title":"Hibernate n+1 problem not coming in test case but coming in server","body":"<p>I have written a join query to avoid n+1 problem. It is successfully working when I checked with integration test case. But when it comes to the same query executes while application running in server, the same n+1 problem is coming. I have removed the the line join query call and tested by deploying, then no n+1 problem is coming. The query generated at integration test case and while running server both are same. But I am unable to understand why n+1 is happening when checked with deployed application. Configurations for both application and test case are same.</p>\n<hr />\n<p>Query executing is below, Query id very huge so I posted the joins and tables involved in query, The below query executing for both test case and application level.</p>\n<blockquote>\n<ol>\n<li>from ITINERARY_TRAVELERS itineraryt0_ left outer join ITINERARIES itinerary1_ on itineraryt0_.ITINERARY_ID=itinerary1_.ID left outer join COUPON_HISTORY couponhist3_ on itinerary1_.ID=couponhist3_.ITINERARY_ID left outer join REWARD_USAGE_DATA rewardusag4_ on itinerary1_.ID=rewardusag4_.ITINERARY_ID left outer join CUSTOMER_REQUEST_INFO customertr5_ on itinerary1_.CUSTOMER_REQUEST_ID=customertr5_.ID left outer join ITINERARY_CANCELLATION_DETAILS itineraryc6_ on itinerary1_.ID=itineraryc6_.ITINERARY_ID left outer join INSURANCE_DETAILS insuranced7_ on itinerary1_.ID=insuranced7_.ITINERARY_ID left outer join EMP_EMPLOYER_DETAILS employeeem8_ on itinerary1_.ID=employeeem8_.ITINERARY_ID left outer join CUSTOMERS customer9_ on itinerary1_.CUSTOMER_ID=customer9_.ID left outer join REWARD_PROGRAM rewardprog10_ on customer9_.ID=rewardprog10_.CUSTOMER_ID left outer join CUSTOMER_CONTACT_DETAILS customerco11_ on customer9_.ID=customerco11_.CUSTOMER_ID left outer join CUSTOMER_PREFERRED_AIRLINES customerpr12_ on customer9_.ID=customerpr12_.CUSTOMER_ID left outer join TRAVELERS traveler2_ on itineraryt0_.TRAVELERS_ID=traveler2_.ID where itineraryt0_.TRAVELERS_ID=3183</li>\n</ol>\n</blockquote>\n<hr />\n<p>The extra queries which are executing while checking when application deployed is in below format, with different ids (N+1)</p>\n<blockquote>\n<ol start=\"2\">\n<li>from ITINERARY_TRAVELERS itneraries0_ left outer join TRAVELERS traveler1_ on itneraries0_.TRAVELERS_ID=traveler1_.ID left outer join CUSTOMERS customer2_ on traveler1_.CUSTOMER_ID=customer2_.ID where itneraries0_.ITINERARY_ID=697049</li>\n</ol>\n</blockquote>\n<p>Entity classes are as follows</p>\n<pre><code>@Table(name = &quot;TRAVELERS&quot;)\n@Cacheable(true)\n@Audited\npublic class Traveler{\n......\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;traveler&quot;)\n@OptimisticLock(excluded = true)\npublic Set&lt;ItineraryTravelerAssosciation&gt; getItnerariesTravlersAssosciation() {\n    return itnerariesTravlersAssosciation;\n}\n\n@Table(name = &quot;ITINERARY_TRAVELERS&quot;)\n@Cacheable(true)\n@Audited\npublic class ItineraryTravelerAssosciation extends BaseDto {\n\n    private static final long serialVersionUID = 10124L;\n\n    private String passengerType;\n    private Itinerary itinerary;\n    private Traveler traveler;\n    ......\n     @ManyToOne\n    @OptimisticLock(excluded = true)\n    @JoinColumn(name = &quot;ITINERARY_ID&quot;)\n    public Itinerary getItinerary() {\n    return itinerary;\n    }\n    @ManyToOne\n    @OptimisticLock(excluded = true)\n    @JoinColumn(name = &quot;TRAVELERS_ID&quot;)\n    public Traveler getTraveler() {\n    return traveler;\n   }\n</code></pre>\n<p>In Application I am reading First traveler object with id, using entity manger find with Id. On that when I call getItnerariesTravlersAssosciation(), N+1 queries(query 2) are executing.\nBut this behavior is not re producing when I run integration test case. The N+1 calls happening only when application is deployed.</p>\n"},{"tags":["java","libgdx","infinite","simplex-noise"],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659868226,"creation_date":1659868226,"answer_id":73266684,"question_id":73255628,"body_markdown":"I don&#39;t think you need to store simplex values because its not a random function, you always get the same result for a given input, hence why one of the input parameters is usually time, to get change. Now admittedly I haven&#39;t used OpenSimplex2 I used another implementation but the whole point is that simplex noise is -coherent- so it cannot rely on randomness, which isn&#39;t coherent.\r\nSo I assume that you are using SEED to provide a different level every time you play and so assuming this could be called LEVEL_SEED.\r\nAnyway for an infinite world which you can reliably revisit areas without them changing, then you would need procedural generation for the area you are currently in, and given simplex noise is repeatable, then you can just change your function to iterate over the area you are currently in, and then map that area to the screen.\r\ni.e. you can iterate between\r\n```\r\nscreenCenterX - (screenWidth/2) to screenCenterX+ (screenWidth/2)\r\n```\r\nwith the inner iterator \r\n```\r\nscreenCenterY - (screenHeight/2) to screenCenterY+ (screenHeight/2)\r\n```\r\n\r\nI guess there are many ways but simplex noise is not a random function i.e. a different result every time, which means it does kind of lend itself to a procedural generation approach.\r\nYou might also want to look at this https://doc.mapeditor.org/en/stable/manual/using-infinite-maps/ which is a tile editor that allows dynamically super size map which is also pluggable into libGDX by which I mean its part of the libGDX framework.\r\nYou can alway ask on the Discord chat group here https://libgdx.com/community/ because I can imagine you&#39;d get a quick answer as prob many opinions.","title":"Infinte map generation in isometric game - Java LibGDX","body":"<p>I don't think you need to store simplex values because its not a random function, you always get the same result for a given input, hence why one of the input parameters is usually time, to get change. Now admittedly I haven't used OpenSimplex2 I used another implementation but the whole point is that simplex noise is -coherent- so it cannot rely on randomness, which isn't coherent.\nSo I assume that you are using SEED to provide a different level every time you play and so assuming this could be called LEVEL_SEED.\nAnyway for an infinite world which you can reliably revisit areas without them changing, then you would need procedural generation for the area you are currently in, and given simplex noise is repeatable, then you can just change your function to iterate over the area you are currently in, and then map that area to the screen.\ni.e. you can iterate between</p>\n<pre><code>screenCenterX - (screenWidth/2) to screenCenterX+ (screenWidth/2)\n</code></pre>\n<p>with the inner iterator</p>\n<pre><code>screenCenterY - (screenHeight/2) to screenCenterY+ (screenHeight/2)\n</code></pre>\n<p>I guess there are many ways but simplex noise is not a random function i.e. a different result every time, which means it does kind of lend itself to a procedural generation approach.\nYou might also want to look at this <a href=\"https://doc.mapeditor.org/en/stable/manual/using-infinite-maps/\" rel=\"nofollow noreferrer\">https://doc.mapeditor.org/en/stable/manual/using-infinite-maps/</a> which is a tile editor that allows dynamically super size map which is also pluggable into libGDX by which I mean its part of the libGDX framework.\nYou can alway ask on the Discord chat group here <a href=\"https://libgdx.com/community/\" rel=\"nofollow noreferrer\">https://libgdx.com/community/</a> because I can imagine you'd get a quick answer as prob many opinions.</p>\n"}],"owner":{"account_id":23434587,"reputation":31,"user_id":17492883,"display_name":"Phrille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73266684,"answer_count":1,"score":2,"last_activity_date":1659868226,"creation_date":1659736469,"question_id":73255628,"body_markdown":"I&#39;m currently trying to learn game developing in Java with LibGDX and have a few questions regarding infinite map generation in an isometric type tile game. My current code in a Screen constructor looks like this.\r\n\r\n    for (int col = MAP_WIDTH - 1; col &gt;= 0; --col) {\r\n\t\t\tfor (int row = MAP_HEIGHT - 1; row &gt;= 0; --row) {\r\n\t\t\t\tint x = (col * TILE_WIDTH / 2) - (row * TILE_WIDTH / 2);\r\n\t\t\t\tint y = (col * TILE_HEIGHT / 2) + (row * TILE_HEIGHT / 2);\r\n\r\n\t\t\t\tfloat noise = OpenSimplex2.noise2_ImproveX(SEED, ((float) col) * scale, ((float) row * scale));\r\n\t\t\t\tmainStage.addActor(new TileActor(x, y, col, row, getNameFromNoise(noise), mainStage));\r\n\t\t\t}\r\n\t\t}\r\n\r\nThis adds and Actor in a set MAP_WIDTH and MAP_HEIGHT and changes the texture of that tile depending on a simplex noise algorithm. How would I best go about changing this to an infinite world? Should all the noise values be calculated beforehand and then the actors be loaded when the camera pans over their position? How would i best store this generated map? Thanks. \r\n\r\n","title":"Infinte map generation in isometric game - Java LibGDX","body":"<p>I'm currently trying to learn game developing in Java with LibGDX and have a few questions regarding infinite map generation in an isometric type tile game. My current code in a Screen constructor looks like this.</p>\n<pre><code>for (int col = MAP_WIDTH - 1; col &gt;= 0; --col) {\n        for (int row = MAP_HEIGHT - 1; row &gt;= 0; --row) {\n            int x = (col * TILE_WIDTH / 2) - (row * TILE_WIDTH / 2);\n            int y = (col * TILE_HEIGHT / 2) + (row * TILE_HEIGHT / 2);\n\n            float noise = OpenSimplex2.noise2_ImproveX(SEED, ((float) col) * scale, ((float) row * scale));\n            mainStage.addActor(new TileActor(x, y, col, row, getNameFromNoise(noise), mainStage));\n        }\n    }\n</code></pre>\n<p>This adds and Actor in a set MAP_WIDTH and MAP_HEIGHT and changes the texture of that tile depending on a simplex noise algorithm. How would I best go about changing this to an infinite world? Should all the noise values be calculated beforehand and then the actors be loaded when the camera pans over their position? How would i best store this generated map? Thanks.</p>\n"},{"tags":["java","sorting","radix"],"answers":[{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659867837,"creation_date":1659867837,"answer_id":73266638,"question_id":73264383,"body_markdown":"Only one small issue in your code with the loop counting the passes:\r\n```\r\nfor (int pass = 3; pass &gt; 0; pass--)\r\n```\r\nAs you can see the variable `pass` can never reach zero, which means that your sorting never considers the last digit of your numbers. Also, you consider the most-significant digits first but reorder all numbers in the later passes. This means you should also revert the order of digit evaluation. To do this simply change the for loop to this:\r\n```\r\nfor (int pass = 0; pass &lt; 3; pass++)\r\n```\r\nThis results in the following output (last section is sorted):\r\n```\r\n5\r\n126\r\n75\r\n10\r\n15\r\n634\r\n9\r\npass 3\r\n10\r\n634\r\n5\r\n75\r\n15\r\n126\r\n9\r\npass 2\r\n5\r\n9\r\n10\r\n15\r\n126\r\n634\r\n75\r\npass 1\r\n5\r\n9\r\n10\r\n15\r\n75\r\n126\r\n634\r\n```\r\n\r\nP.S.: One pass can also be removed as your numbers are all below 1000.","title":"I cant figure out what is making my radix sorting method mess up","body":"<p>Only one small issue in your code with the loop counting the passes:</p>\n<pre><code>for (int pass = 3; pass &gt; 0; pass--)\n</code></pre>\n<p>As you can see the variable <code>pass</code> can never reach zero, which means that your sorting never considers the last digit of your numbers. Also, you consider the most-significant digits first but reorder all numbers in the later passes. This means you should also revert the order of digit evaluation. To do this simply change the for loop to this:</p>\n<pre><code>for (int pass = 0; pass &lt; 3; pass++)\n</code></pre>\n<p>This results in the following output (last section is sorted):</p>\n<pre><code>5\n126\n75\n10\n15\n634\n9\npass 3\n10\n634\n5\n75\n15\n126\n9\npass 2\n5\n9\n10\n15\n126\n634\n75\npass 1\n5\n9\n10\n15\n75\n126\n634\n</code></pre>\n<p>P.S.: One pass can also be removed as your numbers are all below 1000.</p>\n"}],"owner":{"account_id":25997816,"reputation":1,"user_id":19708855,"display_name":"oh cal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659867837,"creation_date":1659836993,"question_id":73264383,"body_markdown":"\r\n```\r\nimport java.util.LinkedList;\r\nimport java.util.Queue;\r\n\r\npublic class RadixSort {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] data = { 5, 126, 75, 10, 15, 634, 9 };\r\n\r\n\t\tdata = radixSort(data);\r\n\r\n\t\tfor (int nums : data) {\r\n\t\t\tSystem.out.println(nums);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int[] radixSort(int[] in) {\r\n\t\tQueue&lt;Integer&gt; zero = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; one = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; two = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; three = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; four = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; five = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; six = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; seven = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; eight = new LinkedList&lt;&gt;();\r\n\t\tQueue&lt;Integer&gt; nine = new LinkedList&lt;&gt;();\r\n\r\n\t\tfor (int pass = 3; pass &gt; 0; pass--) {\r\n\t\t\tfor (int nums : in) {\r\n\t\t\t\tSystem.out.println(nums);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;pass &quot; + (3 - pass));\r\n\t\t\tfor (int i = 0; i &lt; in.length; i++) {\r\n\t\t\t\tint num = (int) ((in[i] / Math.pow(10, pass)) % 10);\r\n\t\t\t\tswitch (num) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tzero.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tone.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\ttwo.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tthree.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tfour.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tfive.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tsix.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tseven.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\teight.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tnine.add(in[i]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tint[] newArr = new int[in.length];\r\n\t\t\tint arrSize = 0;\r\n\t\t\tif (zero.size() &gt; 0) {\r\n\t\t\t\tint size = zero.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = zero.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (one.size() &gt; 0) {\r\n\t\t\t\tint size = one.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = one.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (two.size() &gt; 0) {\r\n\t\t\t\tint size = two.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = two.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (three.size() &gt; 0) {\r\n\t\t\t\tint size = three.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = three.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (four.size() &gt; 0) {\r\n\t\t\t\tint size = four.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = four.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (five.size() &gt; 0) {\r\n\t\t\t\tint size = five.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = five.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (six.size() &gt; 0) {\r\n\t\t\t\tint size = six.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = six.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (seven.size() &gt; 0) {\r\n\t\t\t\tint size = seven.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = seven.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (eight.size() &gt; 0) {\r\n\t\t\t\tint size = eight.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = eight.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (nine.size() &gt; 0) {\r\n\t\t\t\tint size = nine.size();\r\n\t\t\t\tfor (int k = 0; k &lt; size; k++) {\r\n\t\t\t\t\tnewArr[arrSize] = nine.poll();\r\n\t\t\t\t\tarrSize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tin = newArr;\r\n\t\t}\r\n\t\treturn in;\r\n\t}\r\n}\r\n```\r\nthis prints out:\r\n\r\n5\r\n126\r\n75\r\n10\r\n15\r\n634\r\n9\r\npass 0\r\n5\r\n126\r\n75\r\n10\r\n15\r\n634\r\n9\r\npass 1\r\n5\r\n75\r\n10\r\n15\r\n9\r\n126\r\n634\r\npass 2\r\n5\r\n9\r\n10\r\n15\r\n126\r\n634\r\n75\r\n\r\nI know that it has to do something with the fact that on the pass where I am checking for the 10s slot that 7 is the largest value. It forgets that 126 and 634 are still bigger, they just have lesser value in the 10s slot. But I do not know how to make it so that it maintains the order of 100s.","title":"I cant figure out what is making my radix sorting method mess up","body":"<pre><code>import java.util.LinkedList;\nimport java.util.Queue;\n\npublic class RadixSort {\n\n    public static void main(String[] args) {\n        int[] data = { 5, 126, 75, 10, 15, 634, 9 };\n\n        data = radixSort(data);\n\n        for (int nums : data) {\n            System.out.println(nums);\n        }\n    }\n\n    public static int[] radixSort(int[] in) {\n        Queue&lt;Integer&gt; zero = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; one = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; two = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; three = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; four = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; five = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; six = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; seven = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; eight = new LinkedList&lt;&gt;();\n        Queue&lt;Integer&gt; nine = new LinkedList&lt;&gt;();\n\n        for (int pass = 3; pass &gt; 0; pass--) {\n            for (int nums : in) {\n                System.out.println(nums);\n            }\n            System.out.println(&quot;pass &quot; + (3 - pass));\n            for (int i = 0; i &lt; in.length; i++) {\n                int num = (int) ((in[i] / Math.pow(10, pass)) % 10);\n                switch (num) {\n                case 0:\n                    zero.add(in[i]);\n                    break;\n                case 1:\n                    one.add(in[i]);\n                    break;\n                case 2:\n                    two.add(in[i]);\n                    break;\n                case 3:\n                    three.add(in[i]);\n                    break;\n                case 4:\n                    four.add(in[i]);\n                    break;\n                case 5:\n                    five.add(in[i]);\n                    break;\n                case 6:\n                    six.add(in[i]);\n                    break;\n                case 7:\n                    seven.add(in[i]);\n                    break;\n                case 8:\n                    eight.add(in[i]);\n                    break;\n                case 9:\n                    nine.add(in[i]);\n                    break;\n                default:\n                }\n            }\n            int[] newArr = new int[in.length];\n            int arrSize = 0;\n            if (zero.size() &gt; 0) {\n                int size = zero.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = zero.poll();\n                    arrSize++;\n                }\n            }\n            \n            if (one.size() &gt; 0) {\n                int size = one.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = one.poll();\n                    arrSize++;\n                }\n            }\n            \n            if (two.size() &gt; 0) {\n                int size = two.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = two.poll();\n                    arrSize++;\n                }\n            }\n            \n            if (three.size() &gt; 0) {\n                int size = three.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = three.poll();\n                    arrSize++;\n                }\n            }\n\n            if (four.size() &gt; 0) {\n                int size = four.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = four.poll();\n                    arrSize++;\n                }\n            }\n\n            if (five.size() &gt; 0) {\n                int size = five.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = five.poll();\n                    arrSize++;\n                }\n            }\n\n            if (six.size() &gt; 0) {\n                int size = six.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = six.poll();\n                    arrSize++;\n                }\n            }\n\n            if (seven.size() &gt; 0) {\n                int size = seven.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = seven.poll();\n                    arrSize++;\n                }\n            }\n\n            if (eight.size() &gt; 0) {\n                int size = eight.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = eight.poll();\n                    arrSize++;\n                }\n            }\n\n            if (nine.size() &gt; 0) {\n                int size = nine.size();\n                for (int k = 0; k &lt; size; k++) {\n                    newArr[arrSize] = nine.poll();\n                    arrSize++;\n                }\n            }\n            in = newArr;\n        }\n        return in;\n    }\n}\n</code></pre>\n<p>this prints out:</p>\n<p>5\n126\n75\n10\n15\n634\n9\npass 0\n5\n126\n75\n10\n15\n634\n9\npass 1\n5\n75\n10\n15\n9\n126\n634\npass 2\n5\n9\n10\n15\n126\n634\n75</p>\n<p>I know that it has to do something with the fact that on the pass where I am checking for the 10s slot that 7 is the largest value. It forgets that 126 and 634 are still bigger, they just have lesser value in the 10s slot. But I do not know how to make it so that it maintains the order of 100s.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":8070277,"reputation":911,"user_id":6083277,"display_name":"Romeo Sheshi"},"score":0,"creation_date":1659372514,"post_id":73196923,"comment_id":129273998,"body_markdown":"i tested the regex passing it an text like this &quot;PBAAP.B PBAAP.B PBAAP.B&quot; and the count was 3 so seems to work can you share an value of the String that are trying to use the regex","body":"i tested the regex passing it an text like this &quot;PBAAP.B PBAAP.B PBAAP.B&quot; and the count was 3 so seems to work can you share an value of the String that are trying to use the regex"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1659372669,"post_id":73196923,"comment_id":129274057,"body_markdown":"@RomeoSheshi The 2 should be result for *single* `PBAAP.B` since `&quot;P.{0,2}A.{0,2}B&quot;` there are *two possible matches* for it: (1) using first A like `.P.A...B` (2) using second `A` like `.P..A..B`.","body":"@RomeoSheshi The 2 should be result for <i>single</i> <code>PBAAP.B</code> since <code>&quot;P.{0,2}A.{0,2}B&quot;</code> there are <i>two possible matches</i> for it: (1) using first A like <code>.P.A...B</code> (2) using second <code>A</code> like <code>.P..A..B</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1659372891,"post_id":73196923,"comment_id":129274135,"body_markdown":"@OP &quot;but I was wondering if there was a way to do it with regex.&quot; even if there is (which I can&#39;t guarantee) it would most likely be *way* more complex than your non-regex solution.","body":"@OP &quot;but I was wondering if there was a way to do it with regex.&quot; even if there is (which I can&#39;t guarantee) it would most likely be <i>way</i> more complex than your non-regex solution."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659373139,"post_id":73196923,"comment_id":129274206,"body_markdown":"For instance theoretically regex in Java shouldn&#39;t be able to match nested brackets, but there are tricks like described at http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html which make it possible. But I would still probably prefer to use simple *stack* based solution of my own instead of having to maintain/modify such regex in the future.","body":"For instance theoretically regex in Java shouldn&#39;t be able to match nested brackets, but there are tricks like described at <a href=\"http://www.drregex.com/2017/11/match-nested-brackets-with-regex-new.html\" rel=\"nofollow noreferrer\">drregex.com/2017/11/match-nested-brackets-with-regex-new.htm&zwnj;&#8203;l</a> which make it possible. But I would still probably prefer to use simple <i>stack</i> based solution of my own instead of having to maintain/modify such regex in the future."}],"answers":[{"tags":[],"owner":{"account_id":25961665,"reputation":1,"user_id":19678188,"display_name":"erreurBarbare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659867607,"creation_date":1659867607,"answer_id":73266621,"question_id":73196923,"body_markdown":"To my knowledge, you will only get a boolean response out of a regex match - either it is a match or it isn&#39;t. Thus, I can&#39;t think of a solution solving your problem using regex.  \r\n\r\n`count()` is used, if you want to check if there are multiple matches at different indices - which is not what you want. For instance, the following snippet will return 2 as `th` is found at 11-12 and at 20-21:\r\n\r\n    Pattern\r\n      .compile(&quot;(th)&quot;)\r\n      .matcher(&quot;let&#39;s test this together&quot;)\r\n      .results()\r\n      .count();\r\n\r\nIn order to keep the solution without regex readable and extensible, you may want to use regression.  \r\n\r\nClass to keep track of the latest match of each letter:\r\n\r\n    public class Letter {\r\n      private char letter;\r\n      private int latestMatch;\r\n\r\n      // constructor\r\n      // getters + setters\r\n    }\r\n\r\n\r\nClass to detect different matches:\r\n\r\n    public class MatchFinder {\r\n\r\n      final static String C = &quot;......PAA.BBBadsfjksPeAkBB&quot;;\r\n      final static Letter[] LETTERS = new Letter[3];\r\n      final static int SYMBOLS_THRESHOLD = 4;\r\n\r\n      public static void main(String[] args) {\r\n        LETTERS[0] = new Letter(&#39;P&#39;, -1);\r\n        LETTERS[1] = new Letter(&#39;A&#39;, -1);\r\n        LETTERS[2] = new Letter(&#39;B&#39;, -1);\r\n        int count = countMatches(0, C.length(), 0, 0, -1);\r\n        System.out.println(count);\r\n      }\r\n\r\n      public static int countMatches(int start, int end, int letterIndex, int currentCount, int latestMatch) {\r\n        for (int i = start; i &lt; end; i++) {\r\n            if (i &lt; C.length()) {\r\n                Character c = Character.toLowerCase(C.charAt(i));\r\n                if (c.equals(LETTERS[letterIndex].getLowercaseLetter()) &amp;&amp; i &gt; latestMatch) {\r\n                    LETTERS[letterIndex].setLatestMatch(i);\r\n                    if (letterIndex + 1 &lt; LETTERS.length) {\r\n                        int childStart = LETTERS[letterIndex].getLatestMatch() + 1;\r\n                        return countMatches(childStart, childStart + SYMBOLS_THRESHOLD, letterIndex + 1, currentCount, -1);\r\n                    }\r\n                    currentCount++;\r\n                }\r\n            }\r\n        }\r\n        if (letterIndex &gt; 0) {\r\n            int parentLetterIndex = letterIndex - 1;\r\n            int latestParentMatch = LETTERS[parentLetterIndex].getLatestMatch();\r\n            if (letterIndex &gt; 1) {\r\n                int parentStart = LETTERS[letterIndex - 2].getLatestMatch() + 1;\r\n                return countMatches(parentStart, parentStart + SYMBOLS_THRESHOLD, parentLetterIndex, currentCount, latestParentMatch);\r\n            } else {\r\n                return countMatches(LETTERS[parentLetterIndex].getLatestMatch() + 1, C.length(), 0, currentCount, latestParentMatch);\r\n            }\r\n        }\r\n        return currentCount;\r\n      }\r\n    }\r\n","title":"How to count all the matching sub-string using regex?","body":"<p>To my knowledge, you will only get a boolean response out of a regex match - either it is a match or it isn't. Thus, I can't think of a solution solving your problem using regex.</p>\n<p><code>count()</code> is used, if you want to check if there are multiple matches at different indices - which is not what you want. For instance, the following snippet will return 2 as <code>th</code> is found at 11-12 and at 20-21:</p>\n<pre><code>Pattern\n  .compile(&quot;(th)&quot;)\n  .matcher(&quot;let's test this together&quot;)\n  .results()\n  .count();\n</code></pre>\n<p>In order to keep the solution without regex readable and extensible, you may want to use regression.</p>\n<p>Class to keep track of the latest match of each letter:</p>\n<pre><code>public class Letter {\n  private char letter;\n  private int latestMatch;\n\n  // constructor\n  // getters + setters\n}\n</code></pre>\n<p>Class to detect different matches:</p>\n<pre><code>public class MatchFinder {\n\n  final static String C = &quot;......PAA.BBBadsfjksPeAkBB&quot;;\n  final static Letter[] LETTERS = new Letter[3];\n  final static int SYMBOLS_THRESHOLD = 4;\n\n  public static void main(String[] args) {\n    LETTERS[0] = new Letter('P', -1);\n    LETTERS[1] = new Letter('A', -1);\n    LETTERS[2] = new Letter('B', -1);\n    int count = countMatches(0, C.length(), 0, 0, -1);\n    System.out.println(count);\n  }\n\n  public static int countMatches(int start, int end, int letterIndex, int currentCount, int latestMatch) {\n    for (int i = start; i &lt; end; i++) {\n        if (i &lt; C.length()) {\n            Character c = Character.toLowerCase(C.charAt(i));\n            if (c.equals(LETTERS[letterIndex].getLowercaseLetter()) &amp;&amp; i &gt; latestMatch) {\n                LETTERS[letterIndex].setLatestMatch(i);\n                if (letterIndex + 1 &lt; LETTERS.length) {\n                    int childStart = LETTERS[letterIndex].getLatestMatch() + 1;\n                    return countMatches(childStart, childStart + SYMBOLS_THRESHOLD, letterIndex + 1, currentCount, -1);\n                }\n                currentCount++;\n            }\n        }\n    }\n    if (letterIndex &gt; 0) {\n        int parentLetterIndex = letterIndex - 1;\n        int latestParentMatch = LETTERS[parentLetterIndex].getLatestMatch();\n        if (letterIndex &gt; 1) {\n            int parentStart = LETTERS[letterIndex - 2].getLatestMatch() + 1;\n            return countMatches(parentStart, parentStart + SYMBOLS_THRESHOLD, parentLetterIndex, currentCount, latestParentMatch);\n        } else {\n            return countMatches(LETTERS[parentLetterIndex].getLatestMatch() + 1, C.length(), 0, currentCount, latestParentMatch);\n        }\n    }\n    return currentCount;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":10585662,"reputation":816,"user_id":7798109,"display_name":"Kshitij Dhakal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659867607,"creation_date":1659371859,"question_id":73196923,"body_markdown":"I am trying to count all instances of a substring from `.PBAAP.B` with P A B in that sequence and can have 1-3 symbols in between them (inclusive).\r\nThe output should be 2\r\n1. .P.A...B\r\n2. .P..A..B\r\n\r\nWhat I&#39;ve tried so far is\r\n```java\r\nreturn (int) Pattern\r\n                .compile(&quot;P.{0,2}A.{0,2}B&quot;)\r\n                .matcher(C)\r\n                .results()\r\n                .count();\r\n```\r\nBut I only get output 1. My guess is that in both cases, the group is `PBAAP.B`. So instead of 2, I get 1. \r\nI could write an elaborate function to achieve what I am trying to do, but I was wondering if there was a way to do it with regex.\r\n\r\n```java\r\nint count = 0;\r\nfor (int i = 0; i &lt; C.length(); i++) {\r\n    String p = Character.toString(C.charAt(i));\r\n    if (p.equalsIgnoreCase(&quot;P&quot;)) {\r\n\r\n    for (int j = X; j &lt;= Y; j++) {\r\n        if (i + j &lt; C.length()) {\r\n        String a = Character.toString(C.charAt(i + j));\r\n        if (a.equals(&quot;A&quot;)) {\r\n            for (int k = X; k &lt;= Y; k++) {\r\n            if (i + j + k &lt; C.length()) {\r\n                String b = Character.toString(C.charAt(i + j + k));\r\n                if (b.equalsIgnoreCase(&quot;B&quot;)) {\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nreturn count;\r\n```\r\n\r\n","title":"How to count all the matching sub-string using regex?","body":"<p>I am trying to count all instances of a substring from <code>.PBAAP.B</code> with P A B in that sequence and can have 1-3 symbols in between them (inclusive).\nThe output should be 2</p>\n<ol>\n<li>.P.A...B</li>\n<li>.P..A..B</li>\n</ol>\n<p>What I've tried so far is</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (int) Pattern\n                .compile(&quot;P.{0,2}A.{0,2}B&quot;)\n                .matcher(C)\n                .results()\n                .count();\n</code></pre>\n<p>But I only get output 1. My guess is that in both cases, the group is <code>PBAAP.B</code>. So instead of 2, I get 1.\nI could write an elaborate function to achieve what I am trying to do, but I was wondering if there was a way to do it with regex.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int count = 0;\nfor (int i = 0; i &lt; C.length(); i++) {\n    String p = Character.toString(C.charAt(i));\n    if (p.equalsIgnoreCase(&quot;P&quot;)) {\n\n    for (int j = X; j &lt;= Y; j++) {\n        if (i + j &lt; C.length()) {\n        String a = Character.toString(C.charAt(i + j));\n        if (a.equals(&quot;A&quot;)) {\n            for (int k = X; k &lt;= Y; k++) {\n            if (i + j + k &lt; C.length()) {\n                String b = Character.toString(C.charAt(i + j + k));\n                if (b.equalsIgnoreCase(&quot;B&quot;)) {\n                    count++;\n                }\n            }\n        }\n    }\n}\nreturn count;\n</code></pre>\n"},{"tags":["java","jndi","resttemplate","unmarshalling","fortify"],"owner":{"account_id":6307461,"reputation":365,"user_id":4900133,"display_name":"enthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659865523,"creation_date":1659792032,"question_id":73260110,"body_markdown":"I have a code like below, unfortunately fortify scan reports a JNDI reference injection here. How could that happen for a unmarshalled java object? \r\n\r\n    var response = restTemplate.exchange(&quot;url&quot;, HttpMethod.GET, entity, String.class);\r\n    var customModel = mapper.readValue(response.getBody(), CustomModel.class);\r\n    log.debug(&quot;Response from provider, {}&quot;, customModel.toString());","title":"Dynamic Code Evaluation: JNDI Reference Injection Logging unmarshalled object","body":"<p>I have a code like below, unfortunately fortify scan reports a JNDI reference injection here. How could that happen for a unmarshalled java object?</p>\n<pre><code>var response = restTemplate.exchange(&quot;url&quot;, HttpMethod.GET, entity, String.class);\nvar customModel = mapper.readValue(response.getBody(), CustomModel.class);\nlog.debug(&quot;Response from provider, {}&quot;, customModel.toString());\n</code></pre>\n"},{"tags":["java","hazelcast","hazelcast-imap"],"answers":[{"tags":[],"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659865019,"creation_date":1659865019,"answer_id":73266376,"question_id":73257944,"body_markdown":"Near-cache is available for IMap but not for IList\r\n\r\nFor IMap, see [here](https://docs.hazelcast.com/hazelcast/5.1/performance/near-cache#configuring-near-cache).\r\n\r\nYou can configure a near-cache on a client or on a server.\r\n\r\nIt&#39;s available on 3.9, so you don&#39;t need to upgrade for that reason, but it&#39;s a good idea in general not to use old software.","title":"Configure Hazelcast Near cache feature for specific IMAP OR ILIST in Hazelcast Client","body":"<p>Near-cache is available for IMap but not for IList</p>\n<p>For IMap, see <a href=\"https://docs.hazelcast.com/hazelcast/5.1/performance/near-cache#configuring-near-cache\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can configure a near-cache on a client or on a server.</p>\n<p>It's available on 3.9, so you don't need to upgrade for that reason, but it's a good idea in general not to use old software.</p>\n"}],"owner":{"account_id":11311011,"reputation":21,"user_id":8294101,"display_name":"Divyang Mistry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659865019,"creation_date":1659770902,"question_id":73257944,"body_markdown":"I am trying to configure Hazelcast Near Cache Feature for specific Imap OR IList but I am not able to find how to do it Hazelcast Document dont have clear indication of if it is possible or not.\r\n\r\nWe are using Hazelcast 3.9 but there is no issue for us to upgrade if Hazelcast updated version provide this feature. \r\n\r\nWe are using standalone setup of Hazelcast.\r\n\r\nIs it possible to configure such thing in Hazelcast ? \r\nOR \r\nany alternative ways to do it ?\r\n\r\n","title":"Configure Hazelcast Near cache feature for specific IMAP OR ILIST in Hazelcast Client","body":"<p>I am trying to configure Hazelcast Near Cache Feature for specific Imap OR IList but I am not able to find how to do it Hazelcast Document dont have clear indication of if it is possible or not.</p>\n<p>We are using Hazelcast 3.9 but there is no issue for us to upgrade if Hazelcast updated version provide this feature.</p>\n<p>We are using standalone setup of Hazelcast.</p>\n<p>Is it possible to configure such thing in Hazelcast ?\nOR\nany alternative ways to do it ?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659451987,"post_id":73208247,"comment_id":129295364,"body_markdown":"what H2 version are you on? https://github.com/h2database/h2database/issues/1759","body":"what H2 version are you on? <a href=\"https://github.com/h2database/h2database/issues/1759\" rel=\"nofollow noreferrer\">github.com/h2database/h2database/issues/1759</a>"},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659456448,"post_id":73208247,"comment_id":129297104,"body_markdown":"@AndreyB.Panfilov I&#39;m using 1.4.200, but I will upgrade to higher version, maybe it will help","body":"@AndreyB.Panfilov I&#39;m using 1.4.200, but I will upgrade to higher version, maybe it will help"},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659458653,"post_id":73208247,"comment_id":129297922,"body_markdown":"@AndreyB.Panfilov version upgrade didn&#39;t help","body":"@AndreyB.Panfilov version upgrade didn&#39;t help"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659462916,"post_id":73208247,"comment_id":129299271,"body_markdown":"Just tried, can&#39;t reproduce on `1.4.200` and `1.4.197`. `1.4.198` is definitely buggy. Would you mind providing the whole method body and how you verify that `count` has wrong value - doing that right after `for loop` is not correct, because executorService might not finished processing tasks.","body":"Just tried, can&#39;t reproduce on <code>1.4.200</code> and <code>1.4.197</code>. <code>1.4.198</code> is definitely buggy. Would you mind providing the whole method body and how you verify that <code>count</code> has wrong value - doing that right after <code>for loop</code> is not correct, because executorService might not finished processing tasks."},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659468938,"post_id":73208247,"comment_id":129301009,"body_markdown":"@AndreyB.Panfilov edited question, check it pls.","body":"@AndreyB.Panfilov edited question, check it pls."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1659469843,"post_id":73208247,"comment_id":129301309,"body_markdown":"log exceptions,","body":"log exceptions,"},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659469967,"post_id":73208247,"comment_id":129301343,"body_markdown":"@Antoniossss there are no exceptions, only incorrect `count` value.","body":"@Antoniossss there are no exceptions, only incorrect <code>count</code> value."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1659470149,"post_id":73208247,"comment_id":129301410,"body_markdown":"You are not logging them if there are any - which could explain incorrect count. Wrap  your runnable blocks with try-catch. Most probabl you will see pessimistic locking exceptions of some sort.","body":"You are not logging them if there are any - which could explain incorrect count. Wrap  your runnable blocks with try-catch. Most probabl you will see pessimistic locking exceptions of some sort."},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659471634,"post_id":73208247,"comment_id":129301896,"body_markdown":"@Antoniossss if there were any exception I would see it in output, there is no need to wrap anything in try-catch. There are no exceptions in my case.","body":"@Antoniossss if there were any exception I would see it in output, there is no need to wrap anything in try-catch. There are no exceptions in my case."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1659474163,"post_id":73208247,"comment_id":129302618,"body_markdown":"@zexed640 I created a sample project based on your question. I see PessimisticLockException exception  - INFO: HHH000327: Error performing load command\norg.hibernate.PessimisticLockException: JDBC exception executing SQL [select s1_0.count from Subjects s1_0 where s1_0.count=? for update]","body":"@zexed640 I created a sample project based on your question. I see PessimisticLockException exception  - INFO: HHH000327: Error performing load command org.hibernate.PessimisticLockException: JDBC exception executing SQL [select s1_0.count from Subjects s1_0 where s1_0.count=? for update]"},{"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"score":0,"creation_date":1659476516,"post_id":73208247,"comment_id":129303210,"body_markdown":"@VasanthSubramanian what version of Hibernate and H2 are you using?","body":"@VasanthSubramanian what version of Hibernate and H2 are you using?"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1659495882,"post_id":73208247,"comment_id":129306303,"body_markdown":"Hibernate core version is 6.1.1.Final, H2 version 1.4.197","body":"Hibernate core version is 6.1.1.Final, H2 version 1.4.197"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659503040,"post_id":73208247,"comment_id":129307284,"body_markdown":"@VasanthSubramanian your test case is irrelevant: you use count as PK and mutate it, thus you are getting exception because query does not return rows.","body":"@VasanthSubramanian your test case is irrelevant: you use count as PK and mutate it, thus you are getting exception because query does not return rows."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659503882,"post_id":73208247,"comment_id":129307358,"body_markdown":"@zexed640 I would agree with @Antoniossss - try to write test case in more accurate way or analyse output more thoroughly (would you mind providing output (SQL statements, bind variables, results) as well?). Basic idea: if it is required to get the most recent state of data, there are two patterns to do that: &quot;lock and refresh&quot; or `select * from ... where id = ? for update`, HBN actually should prefer the second one, if not - that is HBN issue, otherwise - DB&#39;s, another reason - not all tasks got executed due to errors.","body":"@zexed640 I would agree with @Antoniossss - try to write test case in more accurate way or analyse output more thoroughly (would you mind providing output (SQL statements, bind variables, results) as well?). Basic idea: if it is required to get the most recent state of data, there are two patterns to do that: &quot;lock and refresh&quot; or <code>select * from ... where id = ? for update</code>, HBN actually should prefer the second one, if not - that is HBN issue, otherwise - DB&#39;s, another reason - not all tasks got executed due to errors."}],"answers":[{"tags":[],"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659616781,"creation_date":1659546265,"answer_id":73225185,"question_id":73208247,"body_markdown":"Answer was simple, I need just to upgrade version of hibernate to [6.0.0.Alpha9][1]. Higher versions requires 11 java to compile (I&#39;m using 8). Seems like it was a bug in [6.0.0.Alpha6][2], which I used previously. There was no problem with H2 [1.4.200][3]. From hibernate sql logs I understood that the main problem in [6.0.0.Alpha6][2] was incorrect `select` query for transaction with pessimistic lock, it was just regular `select`, but in [6.0.0.Alpha9][1] already used `select for update`, which prevents other transactions from reading this row.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha9\r\n  [2]: https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha6\r\n  [3]: https://mvnrepository.com/artifact/com.h2database/h2/1.4.200","title":"How does pessimistic locking work in Hibernate?","body":"<p>Answer was simple, I need just to upgrade version of hibernate to <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha9\" rel=\"nofollow noreferrer\">6.0.0.Alpha9</a>. Higher versions requires 11 java to compile (I'm using 8). Seems like it was a bug in <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha6\" rel=\"nofollow noreferrer\">6.0.0.Alpha6</a>, which I used previously. There was no problem with H2 <a href=\"https://mvnrepository.com/artifact/com.h2database/h2/1.4.200\" rel=\"nofollow noreferrer\">1.4.200</a>. From hibernate sql logs I understood that the main problem in <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha6\" rel=\"nofollow noreferrer\">6.0.0.Alpha6</a> was incorrect <code>select</code> query for transaction with pessimistic lock, it was just regular <code>select</code>, but in <a href=\"https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core/6.0.0.Alpha9\" rel=\"nofollow noreferrer\">6.0.0.Alpha9</a> already used <code>select for update</code>, which prevents other transactions from reading this row.</p>\n"}],"owner":{"account_id":20262549,"reputation":167,"user_id":14860590,"display_name":"zexed640"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73225185,"answer_count":1,"score":1,"last_activity_date":1659864143,"creation_date":1659446152,"question_id":73208247,"body_markdown":"I&#39;m currently using Hibernate 6 and H2. I want to safely increment `count` field of `Entity` class but using more then 1 thread per time just to make sure that transaction is actually locking my entity. But when I ran this code, result `count` column in H2 wasn&#39;t 10, but instead some random number under 10. What am I missing about pessimistic locking?\r\n    \r\n    for (int a = 0; a &lt; 5; a++) {\r\n            executorService.execute(() -&gt; {\r\n                Session innerSession = sessionFactory.openSession();\r\n                Transaction innerTransaction = innerSession.beginTransaction();\r\n                Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\r\n    \r\n                entity.setCount(entity.getCount() + 1);\r\n    \r\n                innerSession.flush();\r\n                innerTransaction.commit();\r\n                innerSession.close();\r\n            });\r\n    \r\n            executorService.execute(() -&gt; {\r\n                Session innerSession = sessionFactory.openSession();\r\n                Transaction innerTransaction = innerSession.beginTransaction();\r\n                Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\r\n    \r\n                entity.setCount(entity.getCount() + 1);\r\n    \r\n                innerSession.flush();\r\n                innerTransaction.commit();\r\n                innerSession.close();\r\n            });\r\n    }\r\n\r\nEntire method:\r\n\r\n    Long id;\r\n    SessionFactory sessionFactory;\r\n    Session session;\r\n    Transaction transaction;\r\n    ExecutorService executorService = Executors.newFixedThreadPool(4);\r\n    Properties properties = new Properties();\r\n    Configuration configuration = new Configuration();\r\n    \r\n    properties.put(AvailableSettings.URL, &quot;jdbc:h2:tcp://localhost/~/test&quot;);\r\n    properties.put(AvailableSettings.USER, &quot;root&quot;);\r\n    properties.put(AvailableSettings.PASS, &quot;root&quot;);\r\n    properties.put(AvailableSettings.DIALECT, H2Dialect.class.getName());\r\n    properties.put(AvailableSettings.SHOW_SQL, true);\r\n    properties.put(AvailableSettings.HBM2DDL_AUTO, Action.CREATE.getExternalHbm2ddlName());\r\n    \r\n    // classes are provided by another library\r\n    entityClasses.forEach(configuration::addAnnotatedClass);\r\n\r\n    sessionFactory = configuration.buildSessionFactory(new StandardServiceRegistryBuilder().applySettings(properties).build());\r\n    session = sessionFactory.openSession();\r\n    transaction = session.beginTransaction();\r\n    \r\n    // initial value of count field is 0\r\n    id = (Long) session.save(new Entity());\r\n\r\n    transaction.commit();\r\n    \r\n    for (int a = 0; a &lt; 5; a++) {\r\n            executorService.execute(() -&gt; {\r\n                Session innerSession = sessionFactory.openSession();\r\n                Transaction innerTransaction = innerSession.beginTransaction();\r\n                Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\r\n    \r\n                entity.setCount(entity.getCount() + 1);\r\n    \r\n                innerSession.flush();\r\n                innerTransaction.commit();\r\n                innerSession.close();\r\n            });\r\n    \r\n            executorService.execute(() -&gt; {\r\n                Session innerSession = sessionFactory.openSession();\r\n                Transaction innerTransaction = innerSession.beginTransaction();\r\n                Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\r\n    \r\n                entity.setCount(entity.getCount() + 1);\r\n    \r\n                innerSession.flush();\r\n                innerTransaction.commit();\r\n                innerSession.close();\r\n            });\r\n    }\r\n    \r\n    executorService.shutdown();\r\n    executorService.awaitTermination(5, TimeUnit.SECONDS);\r\n    \r\n    session.clear(); // prevent reading from cache\r\n    System.out.println(session.get(Entity.class, id).getCount()); // printed result doesn&#39;t match 10, same for reading from H2 browser interface\r\n    session.close();","title":"How does pessimistic locking work in Hibernate?","body":"<p>I'm currently using Hibernate 6 and H2. I want to safely increment <code>count</code> field of <code>Entity</code> class but using more then 1 thread per time just to make sure that transaction is actually locking my entity. But when I ran this code, result <code>count</code> column in H2 wasn't 10, but instead some random number under 10. What am I missing about pessimistic locking?</p>\n<pre><code>for (int a = 0; a &lt; 5; a++) {\n        executorService.execute(() -&gt; {\n            Session innerSession = sessionFactory.openSession();\n            Transaction innerTransaction = innerSession.beginTransaction();\n            Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\n\n            entity.setCount(entity.getCount() + 1);\n\n            innerSession.flush();\n            innerTransaction.commit();\n            innerSession.close();\n        });\n\n        executorService.execute(() -&gt; {\n            Session innerSession = sessionFactory.openSession();\n            Transaction innerTransaction = innerSession.beginTransaction();\n            Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\n\n            entity.setCount(entity.getCount() + 1);\n\n            innerSession.flush();\n            innerTransaction.commit();\n            innerSession.close();\n        });\n}\n</code></pre>\n<p>Entire method:</p>\n<pre><code>Long id;\nSessionFactory sessionFactory;\nSession session;\nTransaction transaction;\nExecutorService executorService = Executors.newFixedThreadPool(4);\nProperties properties = new Properties();\nConfiguration configuration = new Configuration();\n\nproperties.put(AvailableSettings.URL, &quot;jdbc:h2:tcp://localhost/~/test&quot;);\nproperties.put(AvailableSettings.USER, &quot;root&quot;);\nproperties.put(AvailableSettings.PASS, &quot;root&quot;);\nproperties.put(AvailableSettings.DIALECT, H2Dialect.class.getName());\nproperties.put(AvailableSettings.SHOW_SQL, true);\nproperties.put(AvailableSettings.HBM2DDL_AUTO, Action.CREATE.getExternalHbm2ddlName());\n\n// classes are provided by another library\nentityClasses.forEach(configuration::addAnnotatedClass);\n\nsessionFactory = configuration.buildSessionFactory(new StandardServiceRegistryBuilder().applySettings(properties).build());\nsession = sessionFactory.openSession();\ntransaction = session.beginTransaction();\n\n// initial value of count field is 0\nid = (Long) session.save(new Entity());\n\ntransaction.commit();\n\nfor (int a = 0; a &lt; 5; a++) {\n        executorService.execute(() -&gt; {\n            Session innerSession = sessionFactory.openSession();\n            Transaction innerTransaction = innerSession.beginTransaction();\n            Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\n\n            entity.setCount(entity.getCount() + 1);\n\n            innerSession.flush();\n            innerTransaction.commit();\n            innerSession.close();\n        });\n\n        executorService.execute(() -&gt; {\n            Session innerSession = sessionFactory.openSession();\n            Transaction innerTransaction = innerSession.beginTransaction();\n            Entity entity = innerSession.get(Entity.class, id, LockMode.PESSIMISTIC_WRITE);\n\n            entity.setCount(entity.getCount() + 1);\n\n            innerSession.flush();\n            innerTransaction.commit();\n            innerSession.close();\n        });\n}\n\nexecutorService.shutdown();\nexecutorService.awaitTermination(5, TimeUnit.SECONDS);\n\nsession.clear(); // prevent reading from cache\nSystem.out.println(session.get(Entity.class, id).getCount()); // printed result doesn't match 10, same for reading from H2 browser interface\nsession.close();\n</code></pre>\n"},{"tags":["java","bitmap","bufferedimage","image-resizing","javax.imageio"],"comments":[{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":2,"creation_date":1327325451,"post_id":8972357,"comment_id":11239208,"body_markdown":"Store it elsewhere then overwrite new image with an old exif meta? http://www.screaming-penguin.com/node/7485","body":"Store it elsewhere then overwrite new image with an old exif meta? <a href=\"http://www.screaming-penguin.com/node/7485\" rel=\"nofollow noreferrer\">screaming-penguin.com/node/7485</a>"},{"owner":{"account_id":1118646,"reputation":3983,"user_id":1107412,"accept_rate":37,"display_name":"Preslav Rachev"},"score":0,"creation_date":1327325678,"post_id":8972357,"comment_id":11239286,"body_markdown":"This is precisely what I want to avoid","body":"This is precisely what I want to avoid"},{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":2,"creation_date":1327326584,"post_id":8972357,"comment_id":11239600,"body_markdown":"what&#39;s the problem with copying the meta? here&#39;s another example http://nucleussystems.com/blog/java-copy-exif-data","body":"what&#39;s the problem with copying the meta? here&#39;s another example <a href=\"http://nucleussystems.com/blog/java-copy-exif-data\" rel=\"nofollow noreferrer\">nucleussystems.com/blog/java-copy-exif-data</a>"},{"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"score":1,"creation_date":1400269499,"post_id":8972357,"comment_id":36424788,"body_markdown":"The libraries I&#39;ve found so far either read metadata or read the image.  Not both.  You&#39;d have to read it twice.  If it&#39;s being read from a stream, that means you need to save it in a byte[]. Which might require too much additional memory.","body":"The libraries I&#39;ve found so far either read metadata or read the image.  Not both.  You&#39;d have to read it twice.  If it&#39;s being read from a stream, that means you need to save it in a byte[]. Which might require too much additional memory."}],"answers":[{"tags":[],"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1659862976,"creation_date":1400512100,"answer_id":23741234,"question_id":8972357,"body_markdown":"Here is my solution using a combination of [ImageIO][1], [Imgscalr][2] and [Apache commons-imaging][3]. It&#39;s a pity there&#39;s (May 2016) no single library which combines reading the image with its metadata , making this probably rather excessive on memory usage; Improvements welcome.\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import javax.imageio.ImageIO;\r\n    import org.apache.commons.imaging.ImageReadException;\r\n    import org.apache.commons.imaging.ImageWriteException;\r\n    import org.apache.commons.imaging.Imaging;\r\n    import org.apache.commons.imaging.common.IImageMetadata;\r\n    import org.apache.commons.imaging.formats.jpeg.JpegImageMetadata;\r\n    import org.apache.commons.imaging.formats.jpeg.exif.ExifRewriter;\r\n    import org.apache.commons.imaging.formats.tiff.TiffImageMetadata;\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.imgscalr.Scalr;\r\n    \r\n    \r\n    public class ImageData {\r\n    \r\n        private byte[] imageData;\r\n    \r\n    \r\n        public ImageData(InputStream instream) throws IOException {\r\n            imageData  = IOUtils.toByteArray(instream);\r\n            instream.close();\r\n        }\r\n    \r\n    \r\n        public synchronized void resize(int maxDimension) throws IOException, ImageReadException, ImageWriteException {\r\n            // Resize the image if necessary\r\n            BufferedImage image = readImage(imageData);\r\n            if (image.getWidth() &gt; maxDimension || image.getHeight() &gt; maxDimension) {\r\n    \r\n                // Save existing metadata, if any\r\n                TiffImageMetadata metadata = readExifMetadata(imageData);\r\n                imageData = null; // allow immediate GC\r\n    \r\n                // resize \r\n                image = Scalr.resize(image, maxDimension);\r\n    \r\n                // rewrite resized image as byte[]\r\n                byte[] resizedData = writeJPEG(image);\r\n                image = null; // allow immediate GC \r\n    \r\n                // Re-code resizedData + metadata to imageData \r\n                if (metadata != null) {\r\n                    this.imageData = writeExifMetadata(metadata, resizedData);\r\n                } else {\r\n                    this.imageData = resizedData;\r\n                }\r\n            }\r\n        }\r\n    \r\n        private TiffImageMetadata readExifMetadata(byte[] jpegData) throws ImageReadException, IOException {\r\n            IImageMetadata imageMetadata = Imaging.getMetadata(jpegData);\r\n            if (imageMetadata == null) {\r\n                return null;\r\n            }\r\n            JpegImageMetadata jpegMetadata = (JpegImageMetadata)imageMetadata;\r\n            TiffImageMetadata exif = jpegMetadata.getExif();\r\n            if (exif == null) {\r\n                return null;\r\n            }\r\n            return exif;\r\n        }\r\n    \r\n    \r\n        private byte[] writeExifMetadata(TiffImageMetadata metadata, byte[] jpegData) \r\n                                    throws ImageReadException, ImageWriteException, IOException {\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            new ExifRewriter().updateExifMetadataLossless(jpegData, out, metadata.getOutputSet());\r\n            out.close();\r\n            return out.toByteArray();\r\n        }\r\n    \r\n    \r\n        private BufferedImage readImage(byte[] data) throws IOException {\r\n            return ImageIO.read(new ByteArrayInputStream(data));\r\n        }\r\n    \r\n        private byte[] writeJPEG(BufferedImage image) throws IOException {\r\n            ByteArrayOutputStream jpegOut = new ByteArrayOutputStream();\r\n            ImageIO.write(image, &quot;JPEG&quot;, jpegOut);\r\n            jpegOut.close();\r\n            return jpegOut.toByteArray();\r\n        }\r\n    \r\n        public synchronized void writeJPEG(OutputStream outstream) throws IOException {\r\n            IOUtils.write(imageData,  outstream);\r\n    \r\n        }\r\n    \r\n        public synchronized byte[] getJPEGData() {\r\n            return imageData;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/imageio/package-summary.html\r\n  [2]: https://github.com/rkalla/imgscalr\r\n  [3]: https://commons.apache.org/proper/commons-imaging/","title":"Manipulate an image without deleting its EXIF data","body":"<p>Here is my solution using a combination of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">ImageIO</a>, <a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">Imgscalr</a> and <a href=\"https://commons.apache.org/proper/commons-imaging/\" rel=\"nofollow noreferrer\">Apache commons-imaging</a>. It's a pity there's (May 2016) no single library which combines reading the image with its metadata , making this probably rather excessive on memory usage; Improvements welcome.</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport javax.imageio.ImageIO;\nimport org.apache.commons.imaging.ImageReadException;\nimport org.apache.commons.imaging.ImageWriteException;\nimport org.apache.commons.imaging.Imaging;\nimport org.apache.commons.imaging.common.IImageMetadata;\nimport org.apache.commons.imaging.formats.jpeg.JpegImageMetadata;\nimport org.apache.commons.imaging.formats.jpeg.exif.ExifRewriter;\nimport org.apache.commons.imaging.formats.tiff.TiffImageMetadata;\nimport org.apache.commons.io.IOUtils;\nimport org.imgscalr.Scalr;\n\n\npublic class ImageData {\n\n    private byte[] imageData;\n\n\n    public ImageData(InputStream instream) throws IOException {\n        imageData  = IOUtils.toByteArray(instream);\n        instream.close();\n    }\n\n\n    public synchronized void resize(int maxDimension) throws IOException, ImageReadException, ImageWriteException {\n        // Resize the image if necessary\n        BufferedImage image = readImage(imageData);\n        if (image.getWidth() &gt; maxDimension || image.getHeight() &gt; maxDimension) {\n\n            // Save existing metadata, if any\n            TiffImageMetadata metadata = readExifMetadata(imageData);\n            imageData = null; // allow immediate GC\n\n            // resize \n            image = Scalr.resize(image, maxDimension);\n\n            // rewrite resized image as byte[]\n            byte[] resizedData = writeJPEG(image);\n            image = null; // allow immediate GC \n\n            // Re-code resizedData + metadata to imageData \n            if (metadata != null) {\n                this.imageData = writeExifMetadata(metadata, resizedData);\n            } else {\n                this.imageData = resizedData;\n            }\n        }\n    }\n\n    private TiffImageMetadata readExifMetadata(byte[] jpegData) throws ImageReadException, IOException {\n        IImageMetadata imageMetadata = Imaging.getMetadata(jpegData);\n        if (imageMetadata == null) {\n            return null;\n        }\n        JpegImageMetadata jpegMetadata = (JpegImageMetadata)imageMetadata;\n        TiffImageMetadata exif = jpegMetadata.getExif();\n        if (exif == null) {\n            return null;\n        }\n        return exif;\n    }\n\n\n    private byte[] writeExifMetadata(TiffImageMetadata metadata, byte[] jpegData) \n                                throws ImageReadException, ImageWriteException, IOException {\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        new ExifRewriter().updateExifMetadataLossless(jpegData, out, metadata.getOutputSet());\n        out.close();\n        return out.toByteArray();\n    }\n\n\n    private BufferedImage readImage(byte[] data) throws IOException {\n        return ImageIO.read(new ByteArrayInputStream(data));\n    }\n\n    private byte[] writeJPEG(BufferedImage image) throws IOException {\n        ByteArrayOutputStream jpegOut = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;JPEG&quot;, jpegOut);\n        jpegOut.close();\n        return jpegOut.toByteArray();\n    }\n\n    public synchronized void writeJPEG(OutputStream outstream) throws IOException {\n        IOUtils.write(imageData,  outstream);\n\n    }\n\n    public synchronized byte[] getJPEGData() {\n        return imageData;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4260593,"reputation":356,"user_id":3485048,"display_name":"Rigeborod"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1592411131,"creation_date":1460888697,"answer_id":36675321,"question_id":8972357,"body_markdown":"**ImageIO** do have this functionality itself, but instead of **ImageIO.read** you will need to use ImageReader:\r\n\r\n    ImageReader reader = ImageIO.getImageReadersBySuffix(&quot;jpg&quot;).next();\r\n\r\n(you may want to also check if such reader exists).\r\nThen you need to set the input:\r\n\r\n    reader.setInput(ImageIO.createImageInputStream(your_imput_stream));\r\n\r\nNow you may save your metadata:\r\n\r\n    IIOMetadata metadata = reader.getImageMetadata(0); \r\n                                // As far as I understand you should provide \r\n                                // index as tiff images could have multiple pages\r\n\r\nAnd then read the image:\r\n\r\n    BufferedImage bi = reader.read(0);\r\n\r\nWhen you want to save new image, you should use ImageWriter:\r\n\r\n    // I&#39;m writing to byte array in memory, but you may use any other stream\r\n    ByteArrayOutputStream os = new ByteArrayOutputStream(255);\r\n    ImageOutputStream ios = ImageIO.createImageOutputStream(os);\r\n    \r\n    Iterator&lt;ImageWriter&gt; iter = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;);\r\n    ImageWriter writer = iter.next();\r\n    writer.setOutput(ios);\r\n\r\n    //You may want also to alter jpeg quality\r\n    ImageWriteParam iwParam = writer.getDefaultWriteParam();\r\n    iwParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n    iwParam.setCompressionQuality(.95f);\r\n    \r\n    //Note: we&#39;re using metadata we&#39;ve already saved.\r\n    writer.write(null, new IIOImage(bi, null, metadata), iwParam);\r\n    writer.dispose();\r\n    \r\n    //ImageIO.write(bi, &quot;jpg&quot;, ios); &lt;- This was initially in the code but actually it was only adding image again at the end of the file.\r\n\r\nAs it&#39;s old topic, I guess this answer is a bit too late, but may help others as this topic is still googlable.","title":"Manipulate an image without deleting its EXIF data","body":"<p><strong>ImageIO</strong> do have this functionality itself, but instead of <strong>ImageIO.read</strong> you will need to use ImageReader:</p>\n\n<pre><code>ImageReader reader = ImageIO.getImageReadersBySuffix(\"jpg\").next();\n</code></pre>\n\n<p>(you may want to also check if such reader exists).\nThen you need to set the input:</p>\n\n<pre><code>reader.setInput(ImageIO.createImageInputStream(your_imput_stream));\n</code></pre>\n\n<p>Now you may save your metadata:</p>\n\n<pre><code>IIOMetadata metadata = reader.getImageMetadata(0); \n                            // As far as I understand you should provide \n                            // index as tiff images could have multiple pages\n</code></pre>\n\n<p>And then read the image:</p>\n\n<pre><code>BufferedImage bi = reader.read(0);\n</code></pre>\n\n<p>When you want to save new image, you should use ImageWriter:</p>\n\n<pre><code>// I'm writing to byte array in memory, but you may use any other stream\nByteArrayOutputStream os = new ByteArrayOutputStream(255);\nImageOutputStream ios = ImageIO.createImageOutputStream(os);\n\nIterator&lt;ImageWriter&gt; iter = ImageIO.getImageWritersByFormatName(\"jpeg\");\nImageWriter writer = iter.next();\nwriter.setOutput(ios);\n\n//You may want also to alter jpeg quality\nImageWriteParam iwParam = writer.getDefaultWriteParam();\niwParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\niwParam.setCompressionQuality(.95f);\n\n//Note: we're using metadata we've already saved.\nwriter.write(null, new IIOImage(bi, null, metadata), iwParam);\nwriter.dispose();\n\n//ImageIO.write(bi, \"jpg\", ios); &lt;- This was initially in the code but actually it was only adding image again at the end of the file.\n</code></pre>\n\n<p>As it's old topic, I guess this answer is a bit too late, but may help others as this topic is still googlable.</p>\n"}],"owner":{"account_id":1118646,"reputation":3983,"user_id":1107412,"accept_rate":37,"display_name":"Preslav Rachev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8914,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":2,"score":17,"last_activity_date":1659862976,"creation_date":1327325247,"question_id":8972357,"body_markdown":"Using imageIO, I usually have the problem of transforming an image file, and after overwriting it, it loses all of its EXIF data. Is there any way to preserve it without first extracting it, caching it, and then resetting it?","title":"Manipulate an image without deleting its EXIF data","body":"<p>Using imageIO, I usually have the problem of transforming an image file, and after overwriting it, it loses all of its EXIF data. Is there any way to preserve it without first extracting it, caching it, and then resetting it?</p>\n"},{"tags":["java","picasa"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1302839547,"post_id":5672043,"comment_id":6474297,"body_markdown":"By &#39;resize&#39; do you mean change the Width x Height in pixels, or the byte size?","body":"By &#39;resize&#39; do you mean change the Width x Height in pixels, or the byte size?"}],"answers":[{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302843900,"creation_date":1302843900,"answer_id":5672588,"question_id":5672043,"body_markdown":"As far as I see in the API, photos has to be resized before the upload. Luckily, it is [easy to do][1] in Java.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/244164/resize-an-image-in-java-any-open-source-library","title":"How do I resize photo during upload?","body":"<p>As far as I see in the API, photos has to be resized before the upload. Luckily, it is <a href=\"https://stackoverflow.com/questions/244164/resize-an-image-in-java-any-open-source-library\">easy to do</a> in Java.</p>\n"},{"tags":[],"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659862344,"creation_date":1400409852,"answer_id":23721053,"question_id":5672043,"body_markdown":"I used a combination of [ImageIO][1] and [imgscalr][2]:\r\n\r\n    import javax.imageio.ImageIO;\r\n    import org.imgscalr.Scalr;\r\n       \r\n    InputStream myPhotoInputStream = // new FileInputStream(file)\r\n                                     // or FileItemStream.openStream(); from an HTTP upload\r\n    OutputStream outstream = ...\r\n    BufferedImage image = ImageIO.read( myPhotoInputStream );\r\n    int maxDimension = 1024;\r\n    image = Scalr.resize(image, maxDimension);\r\n    ImageIO.write(image, &quot;JPEG&quot;, outstream);\r\n\r\nUnfortunately when you resize, you lose the EXIF metadata.  I have yet to find a library capable of simply saving this on read and restoring it on write.  Apache commons-imaging looked promising but seems unable to write a JPEG.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/imageio/package-summary.html\r\n  [2]: https://github.com/rkalla/imgscalr ","title":"How do I resize photo during upload?","body":"<p>I used a combination of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/package-summary.html\" rel=\"nofollow noreferrer\">ImageIO</a> and <a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">imgscalr</a>:</p>\n<pre><code>import javax.imageio.ImageIO;\nimport org.imgscalr.Scalr;\n   \nInputStream myPhotoInputStream = // new FileInputStream(file)\n                                 // or FileItemStream.openStream(); from an HTTP upload\nOutputStream outstream = ...\nBufferedImage image = ImageIO.read( myPhotoInputStream );\nint maxDimension = 1024;\nimage = Scalr.resize(image, maxDimension);\nImageIO.write(image, &quot;JPEG&quot;, outstream);\n</code></pre>\n<p>Unfortunately when you resize, you lose the EXIF metadata.  I have yet to find a library capable of simply saving this on read and restoring it on write.  Apache commons-imaging looked promising but seems unable to write a JPEG.</p>\n"}],"owner":{"account_id":359703,"reputation":1317,"user_id":701274,"accept_rate":36,"display_name":"Raja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659862344,"creation_date":1302837698,"question_id":5672043,"body_markdown":"I would like to reduce size of photo before uploading to picasa using picasa java api.\r\nHow can I resize photo during upload with Picasa API? \r\n","title":"How do I resize photo during upload?","body":"<p>I would like to reduce size of photo before uploading to picasa using picasa java api.\nHow can I resize photo during upload with Picasa API? </p>\n"},{"tags":["java","jpa","inheritance","spring-data-jpa","criteria"],"owner":{"account_id":12399533,"reputation":41,"user_id":15148217,"display_name":"Fabr&#237;cio Gustavo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659862086,"creation_date":1659862086,"question_id":73266053,"body_markdown":"I have a join chain:\r\n\r\nThe first one:\r\n```\r\n@Entity\r\npublic class Anuncio implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n\tprivate Produto produto;\r\n```\r\n\r\nThe second one:\r\n```\r\n@Entity\r\n@Inheritance(strategy=InheritanceType.JOINED)\r\npublic class Produto implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n```\r\n\r\nAnd  the third one:\r\n```\r\n@Entity\r\npublic class Bovino extends Produto implements Serializable  {\r\n\tprivate static final long serialVersionUID = 1L;\r\n```\r\n\r\nI made a relationship between `Anuncio` and `Produto`, and extends `Produto` to a lot of classes, let&#39;s take the `Bovino` for a sample.\r\n\r\nI&#39;m trying to use CriteriaBuilder to make some queries, but idk how to chain the entities. I need to search properties across the three entities, but I can&#39;t find a solution by myself.  Due to be an child class, `Bovino` doesn&#39;t have an Id field, I let the work to JPA Inheritance. I&#39;m using `Predicates` to add some conditions to criteriaBuilder, like this:\r\n\r\n```\r\npublic List&lt;Anuncio&gt; getFilteredBuilder(Integer qualidadeGado, Integer racaGado, Integer idadeStart, Integer idadeEnd){\r\n\t\t\r\n\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Anuncio&gt; cq = cb.createQuery(Anuncio.class);\r\n\t\tRoot&lt;Anuncio&gt; rootAn = cq.from(Anuncio.class);\r\n\t\t\r\n\t\tList&lt;Predicate&gt; preds  = new ArrayList&lt;&gt;();\r\n\t\tif (qualidadeGado != null) {\r\n\t\t\tpreds.add(cb.equal(rootAn.get(&quot;qualidade&quot;), qualidadeGado));\r\n\t\t}\r\n\t\tif (racaGado != null) {\r\n\t\t\tpreds.add(cb.equal(rootAn.get(&quot;raca&quot;), racaGado));\r\n\t\t}\r\n\t\tif (idadeStart != null ) {\r\n\t\t\tpreds.add(cb.ge(rootAn.get(&quot;idadeOuMedia&quot;), idadeStart));\r\n\t\t}\r\n\t\tif (idadeEnd != null) {\r\n\t\t\tpreds.add(cb.le(rootAn.get(&quot;idadeOuMedia&quot;), idadeEnd));\r\n\t\t}\r\n        cq.where(preds.toArray(new Predicate[0]));\r\n\t\t\r\n\t\treturn em.createQuery(cq).getResultList();\r\n\t}\r\n```\r\n\r\nHow can I code a query searching properties across the three entities with criteria queries?","title":"Criteria Query with Joined Inheritance","body":"<p>I have a join chain:</p>\n<p>The first one:</p>\n<pre><code>@Entity\npublic class Anuncio implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private Produto produto;\n</code></pre>\n<p>The second one:</p>\n<pre><code>@Entity\n@Inheritance(strategy=InheritanceType.JOINED)\npublic class Produto implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n</code></pre>\n<p>And  the third one:</p>\n<pre><code>@Entity\npublic class Bovino extends Produto implements Serializable  {\n    private static final long serialVersionUID = 1L;\n</code></pre>\n<p>I made a relationship between <code>Anuncio</code> and <code>Produto</code>, and extends <code>Produto</code> to a lot of classes, let's take the <code>Bovino</code> for a sample.</p>\n<p>I'm trying to use CriteriaBuilder to make some queries, but idk how to chain the entities. I need to search properties across the three entities, but I can't find a solution by myself.  Due to be an child class, <code>Bovino</code> doesn't have an Id field, I let the work to JPA Inheritance. I'm using <code>Predicates</code> to add some conditions to criteriaBuilder, like this:</p>\n<pre><code>public List&lt;Anuncio&gt; getFilteredBuilder(Integer qualidadeGado, Integer racaGado, Integer idadeStart, Integer idadeEnd){\n        \n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Anuncio&gt; cq = cb.createQuery(Anuncio.class);\n        Root&lt;Anuncio&gt; rootAn = cq.from(Anuncio.class);\n        \n        List&lt;Predicate&gt; preds  = new ArrayList&lt;&gt;();\n        if (qualidadeGado != null) {\n            preds.add(cb.equal(rootAn.get(&quot;qualidade&quot;), qualidadeGado));\n        }\n        if (racaGado != null) {\n            preds.add(cb.equal(rootAn.get(&quot;raca&quot;), racaGado));\n        }\n        if (idadeStart != null ) {\n            preds.add(cb.ge(rootAn.get(&quot;idadeOuMedia&quot;), idadeStart));\n        }\n        if (idadeEnd != null) {\n            preds.add(cb.le(rootAn.get(&quot;idadeOuMedia&quot;), idadeEnd));\n        }\n        cq.where(preds.toArray(new Predicate[0]));\n        \n        return em.createQuery(cq).getResultList();\n    }\n</code></pre>\n<p>How can I code a query searching properties across the three entities with criteria queries?</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1659842058,"post_id":73264597,"comment_id":129389376,"body_markdown":"So, what question do you have?","body":"So, what question do you have?"},{"owner":{"account_id":25998052,"reputation":1,"user_id":19709050,"display_name":"Aaron Oropeza"},"score":0,"creation_date":1659843295,"post_id":73264597,"comment_id":129389493,"body_markdown":"I am trying to store the user input of String digits3 in an Array and then list how many times a number is used in said Array from 0-9.","body":"I am trying to store the user input of String digits3 in an Array and then list how many times a number is used in said Array from 0-9."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659862056,"creation_date":1659860897,"answer_id":73265946,"question_id":73264597,"body_markdown":"First the code. Then the explanations.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LotteryAnalysis {\r\n\r\n    public static boolean isNumeric(String digits3) {\r\n        boolean ret = !digits3.equals(&quot;&quot;);\r\n        for (int i = 2; i &lt; digits3.length(); i++) {\r\n            // Checks if the characters in digits3 are only digits\r\n            if (!Character.isDigit(digits3.charAt(i))) {\r\n                System.out.println(&quot;non-numeric data&quot;);\r\n                ret = false;\r\n            }\r\n        }\r\n        // Tells the user if the characters they input are not over 3 digits\r\n        for (int j = 3; j &lt; digits3.length(); j++) {\r\n            System.out.println(&quot;too many digits&quot;);\r\n            ret = false;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Lottery Analysis\\n&quot;);\r\n\r\n        // Create Scanner\r\n        Scanner days = new Scanner(System.in);\r\n\r\n        // Ask the user for how many days they will analyze\r\n        System.out.print(&quot;How many days will you analyze? &quot;);\r\n        int analyze = days.nextInt();\r\n\r\n        // Ask the user to enter 3 digits for each day\r\n        System.out.println(&quot;\\nEnter 3 digits for each day \\n&quot;);\r\n        Scanner scanDigits = new Scanner(System.in);\r\n        int i = 1;\r\n\r\n        // Store all digits used in digits3 in an array\r\n        int[] frequencies = new int[10];\r\n\r\n        // Make a loop that prints the number of days so the user can input the digits each time into that day\r\n        String digits3;\r\n        do {\r\n            System.out.print(&quot;Day &quot; + i + &quot;: &quot;);\r\n            digits3 = scanDigits.nextLine();\r\n\r\n            // Make sure the string used holds only 3 digits\r\n            if (isNumeric(digits3)) {\r\n                i++;\r\n                char[] digits = digits3.toCharArray();\r\n                for (char digit : digits) {\r\n                    int index = digit - &#39;0&#39;;\r\n                    frequencies[index]++;\r\n                }\r\n            }\r\n        }\r\n        while (i &lt;= analyze);\r\n\r\n        // Print the Numbers and Frequencies from 0 to 9\r\n        System.out.println(&quot;\\nFrequencies\\n&quot;);\r\n        for (int j = 0; j &lt; frequencies.length; j++) {\r\n            System.out.printf(&quot;%d: %d%n&quot;, j, frequencies[j]);\r\n        }\r\n    }\r\n}\r\n```\r\nI only changed code in method `main`.\r\n1. The `frequencies` array needs to be declared before the `do-while` loop and not inside the loop. Note that Java initializes each element in the array to zero.\r\n2. Inside the `do-while` loop you need to update the `frequencies` array.\r\n3. You want to get the frequencies of all the digits but in your code you are only checking the first digit in each three-digit number that the user enters.\r\n4. After the `do-while` loop terminates, you want to print all the elements in `frequencies`. In your code you are printing just the last, three-digit number that was entered by the user.\r\n5. You only really need one `Scanner` (and not two) but if you use a single `Scanner`, then you need to add a call to method `nextLine` before you enter the `do-while` loop. Refer to [Scanner is skipping nextLine() after using next() or nextFoo()][1]\r\n6. The code in your question does not compile because you reference [local] variable `val` outside of its scope. You declare it inside the following `if` statement (inside the `do-while` loop):\r\n```java\r\nif (isNumeric(digits3)) {\r\n```\r\nHence its scope is the block associated with the `if` statement and you reference it after the `do-while` loop. The variable `val` only exists in the `if` statement block. In any case, the variable is not required and does not appear in my code, above.\r\n\r\nBelow is output from a sample run.\r\n```none\r\nLottery Analysis\r\n\r\nHow many days will you analyze? 5\r\n\r\nEnter 3 digits for each day \r\n\r\nDay 1: 123\r\nDay 2: 1234\r\ntoo many digits\r\nDay 2: abc\r\nnon-numeric data\r\nDay 2: 456\r\nDay 3: 789\r\nDay 4: 012\r\nDay 5: 345\r\n\r\nFrequencies\r\n\r\n0: 1\r\n1: 2\r\n2: 2\r\n3: 2\r\n4: 2\r\n5: 2\r\n6: 1\r\n7: 1\r\n8: 1\r\n9: 1\r\n```\r\nEdit\r\n----\r\nI didn&#39;t really look at the code of method `isNUmeric`, since it gave correct result for sample data in your question, but looking at it now, I see that it may give incorrect result, for example for the string `a12`, the method will return **true** and this is wrong. Here is my implementation:\r\n\r\n    public static boolean isNumeric(String digits3) {\r\n        boolean ret;\r\n        try {\r\n            Integer.parseInt(digits3);\r\n            ret = digits3.length() == 3;\r\n            if (!ret) {\r\n                System.out.println(&quot;Please enter a three digit number.&quot;);\r\n            }\r\n        }\r\n        catch (NumberFormatException x) {\r\n            System.out.println(&quot;non-numeric data&quot;);\r\n            ret = false;\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","title":"I am trying to store and read an Array of number that are input by a user","body":"<p>First the code. Then the explanations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LotteryAnalysis {\n\n    public static boolean isNumeric(String digits3) {\n        boolean ret = !digits3.equals(&quot;&quot;);\n        for (int i = 2; i &lt; digits3.length(); i++) {\n            // Checks if the characters in digits3 are only digits\n            if (!Character.isDigit(digits3.charAt(i))) {\n                System.out.println(&quot;non-numeric data&quot;);\n                ret = false;\n            }\n        }\n        // Tells the user if the characters they input are not over 3 digits\n        for (int j = 3; j &lt; digits3.length(); j++) {\n            System.out.println(&quot;too many digits&quot;);\n            ret = false;\n        }\n        return ret;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Lottery Analysis\\n&quot;);\n\n        // Create Scanner\n        Scanner days = new Scanner(System.in);\n\n        // Ask the user for how many days they will analyze\n        System.out.print(&quot;How many days will you analyze? &quot;);\n        int analyze = days.nextInt();\n\n        // Ask the user to enter 3 digits for each day\n        System.out.println(&quot;\\nEnter 3 digits for each day \\n&quot;);\n        Scanner scanDigits = new Scanner(System.in);\n        int i = 1;\n\n        // Store all digits used in digits3 in an array\n        int[] frequencies = new int[10];\n\n        // Make a loop that prints the number of days so the user can input the digits each time into that day\n        String digits3;\n        do {\n            System.out.print(&quot;Day &quot; + i + &quot;: &quot;);\n            digits3 = scanDigits.nextLine();\n\n            // Make sure the string used holds only 3 digits\n            if (isNumeric(digits3)) {\n                i++;\n                char[] digits = digits3.toCharArray();\n                for (char digit : digits) {\n                    int index = digit - '0';\n                    frequencies[index]++;\n                }\n            }\n        }\n        while (i &lt;= analyze);\n\n        // Print the Numbers and Frequencies from 0 to 9\n        System.out.println(&quot;\\nFrequencies\\n&quot;);\n        for (int j = 0; j &lt; frequencies.length; j++) {\n            System.out.printf(&quot;%d: %d%n&quot;, j, frequencies[j]);\n        }\n    }\n}\n</code></pre>\n<p>I only changed code in method <code>main</code>.</p>\n<ol>\n<li>The <code>frequencies</code> array needs to be declared before the <code>do-while</code> loop and not inside the loop. Note that Java initializes each element in the array to zero.</li>\n<li>Inside the <code>do-while</code> loop you need to update the <code>frequencies</code> array.</li>\n<li>You want to get the frequencies of all the digits but in your code you are only checking the first digit in each three-digit number that the user enters.</li>\n<li>After the <code>do-while</code> loop terminates, you want to print all the elements in <code>frequencies</code>. In your code you are printing just the last, three-digit number that was entered by the user.</li>\n<li>You only really need one <code>Scanner</code> (and not two) but if you use a single <code>Scanner</code>, then you need to add a call to method <code>nextLine</code> before you enter the <code>do-while</code> loop. Refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()</a></li>\n<li>The code in your question does not compile because you reference [local] variable <code>val</code> outside of its scope. You declare it inside the following <code>if</code> statement (inside the <code>do-while</code> loop):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>if (isNumeric(digits3)) {\n</code></pre>\n<p>Hence its scope is the block associated with the <code>if</code> statement and you reference it after the <code>do-while</code> loop. The variable <code>val</code> only exists in the <code>if</code> statement block. In any case, the variable is not required and does not appear in my code, above.</p>\n<p>Below is output from a sample run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Lottery Analysis\n\nHow many days will you analyze? 5\n\nEnter 3 digits for each day \n\nDay 1: 123\nDay 2: 1234\ntoo many digits\nDay 2: abc\nnon-numeric data\nDay 2: 456\nDay 3: 789\nDay 4: 012\nDay 5: 345\n\nFrequencies\n\n0: 1\n1: 2\n2: 2\n3: 2\n4: 2\n5: 2\n6: 1\n7: 1\n8: 1\n9: 1\n</code></pre>\n<h2>Edit</h2>\n<p>I didn't really look at the code of method <code>isNUmeric</code>, since it gave correct result for sample data in your question, but looking at it now, I see that it may give incorrect result, for example for the string <code>a12</code>, the method will return <strong>true</strong> and this is wrong. Here is my implementation:</p>\n<pre><code>public static boolean isNumeric(String digits3) {\n    boolean ret;\n    try {\n        Integer.parseInt(digits3);\n        ret = digits3.length() == 3;\n        if (!ret) {\n            System.out.println(&quot;Please enter a three digit number.&quot;);\n        }\n    }\n    catch (NumberFormatException x) {\n        System.out.println(&quot;non-numeric data&quot;);\n        ret = false;\n    }\n    return ret;\n}\n</code></pre>\n"}],"owner":{"account_id":25998052,"reputation":1,"user_id":19709050,"display_name":"Aaron Oropeza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659862056,"creation_date":1659841238,"question_id":73264597,"body_markdown":"I am hoping it looks like this:\r\n```none\r\nLottery analysis\r\n\r\nHow many days will you analyze? 5\r\n\r\nDay 1: 123\r\nDay 2: 1234\r\ntoo many digits\r\nDay 2: abc\r\nnon-numeric data\r\n\r\nDay 2: 456\r\nDay 3: 789\r\nDay 4: 012\r\nDay 5: 345\r\n\r\nFrequencies\r\n\r\n0: 1\r\n1: 2\r\n2: 2\r\n3: 2\r\n4: 2\r\n5: 2\r\n6: 1\r\n7: 1\r\n8: 1\r\n9: 1\r\n```\r\n-----------\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Lottery Analysis\\n&quot;);\r\n\r\n        // Create Scanner\r\n        Scanner days = new Scanner(System.in);\r\n\r\n        // Ask the user for how many days they will analyze\r\n        System.out.print(&quot;How many days will you analyze? &quot;);\r\n        int analyze = days.nextInt();\r\n\r\n        // Ask the user to enter 3 digits for each day\r\n        System.out.println(&quot;\\nEnter 3 digits for each day \\n&quot;);\r\n        Scanner scanDigits = new Scanner(System.in);\r\n        int i = 1;\r\n\r\n        // Make a loop that prints the number of days so the user can input the digits each time into that day\r\n        String digits3;\r\n        do {\r\n            System.out.print(&quot;Day &quot; + i + &quot;: &quot;);\r\n            digits3 = scanDigits.nextLine();\r\n\r\n            // Make sure the string used holds only 3 digits\r\n            if (isNumeric(digits3)) {\r\n                i++;\r\n                // Store all digits used in digits3 in an array\r\n                int[] frequencies = new int[10];\r\n                int val = Character.digit(digits3.charAt(0),10);\r\n            }\r\n        }\r\n        while (i &lt;= analyze);\r\n\r\n        // Print the Numbers and Frequencies from 0 to 9\r\n        System.out.println(&quot;\\nFrequencies\\n&quot;);\r\n        System.out.println(val);\r\n    }\r\n\r\n    public static boolean isNumeric(String digits3)\r\n    {\r\n        boolean ret = !digits3.equals(&quot;&quot;);\r\n        for(int i = 2; i &lt; digits3.length(); i++)\r\n        {\r\n            // Checks if the characters in digits3 are only digits\r\n            if (!Character.isDigit(digits3.charAt(i)))\r\n            {\r\n                System.out.println(&quot;non-numeric data&quot;);\r\n                ret = false;\r\n            }\r\n        }\r\n        // Tells the user if the characters they input are not over 3 digits\r\n        for (int j = 3; j &lt; digits3.length(); j++)\r\n        {\r\n            System.out.println(&quot;too many digits&quot;);\r\n            ret = false;\r\n        }\r\n        return ret;\r\n    }\r\n","title":"I am trying to store and read an Array of number that are input by a user","body":"<p>I am hoping it looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Lottery analysis\n\nHow many days will you analyze? 5\n\nDay 1: 123\nDay 2: 1234\ntoo many digits\nDay 2: abc\nnon-numeric data\n\nDay 2: 456\nDay 3: 789\nDay 4: 012\nDay 5: 345\n\nFrequencies\n\n0: 1\n1: 2\n2: 2\n3: 2\n4: 2\n5: 2\n6: 1\n7: 1\n8: 1\n9: 1\n</code></pre>\n<hr />\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Lottery Analysis\\n&quot;);\n\n    // Create Scanner\n    Scanner days = new Scanner(System.in);\n\n    // Ask the user for how many days they will analyze\n    System.out.print(&quot;How many days will you analyze? &quot;);\n    int analyze = days.nextInt();\n\n    // Ask the user to enter 3 digits for each day\n    System.out.println(&quot;\\nEnter 3 digits for each day \\n&quot;);\n    Scanner scanDigits = new Scanner(System.in);\n    int i = 1;\n\n    // Make a loop that prints the number of days so the user can input the digits each time into that day\n    String digits3;\n    do {\n        System.out.print(&quot;Day &quot; + i + &quot;: &quot;);\n        digits3 = scanDigits.nextLine();\n\n        // Make sure the string used holds only 3 digits\n        if (isNumeric(digits3)) {\n            i++;\n            // Store all digits used in digits3 in an array\n            int[] frequencies = new int[10];\n            int val = Character.digit(digits3.charAt(0),10);\n        }\n    }\n    while (i &lt;= analyze);\n\n    // Print the Numbers and Frequencies from 0 to 9\n    System.out.println(&quot;\\nFrequencies\\n&quot;);\n    System.out.println(val);\n}\n\npublic static boolean isNumeric(String digits3)\n{\n    boolean ret = !digits3.equals(&quot;&quot;);\n    for(int i = 2; i &lt; digits3.length(); i++)\n    {\n        // Checks if the characters in digits3 are only digits\n        if (!Character.isDigit(digits3.charAt(i)))\n        {\n            System.out.println(&quot;non-numeric data&quot;);\n            ret = false;\n        }\n    }\n    // Tells the user if the characters they input are not over 3 digits\n    for (int j = 3; j &lt; digits3.length(); j++)\n    {\n        System.out.println(&quot;too many digits&quot;);\n        ret = false;\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1473830742,"post_id":39482979,"comment_id":66284604,"body_markdown":"do you have a question?","body":"do you have a question?"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":2,"creation_date":1473830780,"post_id":39482979,"comment_id":66284615,"body_markdown":"your code doesn&#180;t even remotly close reflect what you ask. Despite that defining `University` as constant and `Hour` as vowel doesn&#180;t really make sense for me","body":"your code doesn&#180;t even remotly close reflect what you ask. Despite that defining <code>University</code> as constant and <code>Hour</code> as vowel doesn&#180;t really make sense for me"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1473831810,"post_id":39482979,"comment_id":66284931,"body_markdown":"@asheeshpatel well with that attitide you wont ever get a promising answer. As i already said and ScaryWombat wanted to say aswell. You didn&#180;t ask a specific question. Your main question is completly unrelated to programming. You asked how you can identify a word as a vowel. Additionally your code still doesn&#180;t reflect what you asked as you just check how the `String` does start.","body":"@asheeshpatel well with that attitide you wont ever get a promising answer. As i already said and ScaryWombat wanted to say aswell. You didn&#180;t ask a specific question. Your main question is completly unrelated to programming. You asked how you can identify a word as a vowel. Additionally your code still doesn&#180;t reflect what you asked as you just check how the <code>String</code> does start."},{"owner":{"account_id":9178377,"reputation":17,"user_id":6823197,"display_name":"asheesh patel"},"score":0,"creation_date":1473832024,"post_id":39482979,"comment_id":66285009,"body_markdown":"@KevinEsche, yeah you are right i didn&#39;t asked specific question but you can understand the problem i just want to check String on the basis of Article... Univirsity so A Univirsity, a Uniform , an umbrela, an Hour... Got it?","body":"@KevinEsche, yeah you are right i didn&#39;t asked specific question but you can understand the problem i just want to check String on the basis of Article... Univirsity so A Univirsity, a Uniform , an umbrela, an Hour... Got it?"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1473832246,"post_id":39482979,"comment_id":66285076,"body_markdown":"@asheeshpatel yeah now i got it i guess, but it was also confusing i&#180;d say because both, `University` and `hour` should start with an `an`. I think there is no easy way to do it, as there are silent letter as in `hour`. Basicly you&#180;ve to transfer the english grammar rules to your code which might be to broad for a `SO` question.","body":"@asheeshpatel yeah now i got it i guess, but it was also confusing i&#180;d say because both, <code>University</code> and <code>hour</code> should start with an <code>an</code>. I think there is no easy way to do it, as there are silent letter as in <code>hour</code>. Basicly you&#180;ve to transfer the english grammar rules to your code which might be to broad for a <code>SO</code> question."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1473832469,"post_id":39482979,"comment_id":66285152,"body_markdown":"@asheeshpatel which is correct `You have a Horrible attitude` or `You have an Horrible attitude`","body":"@asheeshpatel which is correct <code>You have a Horrible attitude</code> or <code>You have an Horrible attitude</code>"},{"owner":{"account_id":9178377,"reputation":17,"user_id":6823197,"display_name":"asheesh patel"},"score":0,"creation_date":1473860931,"post_id":39482979,"comment_id":66301799,"body_markdown":"@ScaryWombat i will go for A Horrible but now i wanna check in java program then how you do this?","body":"@ScaryWombat i will go for A Horrible but now i wanna check in java program then how you do this?"},{"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"score":0,"creation_date":1473974105,"post_id":39482979,"comment_id":66356665,"body_markdown":"Clarified problem statement in light of later comment from OP.","body":"Clarified problem statement in light of later comment from OP."}],"answers":[{"tags":[],"owner":{"account_id":8053765,"reputation":19,"user_id":6829316,"display_name":"Asmi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473833256,"creation_date":1473831682,"answer_id":39483172,"question_id":39482979,"body_markdown":"    import java.util.Scanner;\r\n     \r\n/**\r\n  * Java Program to count vowels in a String. It accept a String \r\n    from command promptand count how many vowels it contains. To revise, \r\n\t5 letters a, e, i, o and u are known as \r\n\tvowels in English.\r\n  */\r\n\r\n    public class VowelCounter {\r\n\r\n     public static void main(String args[]) {\r\n          System.out.println(&quot;Please enter some text&quot;);\r\n          Scanner reader = new Scanner(System.in);                  \r\n\r\n      String input = reader.nextLine();\r\n          char[] letters = input.toCharArray();\r\n\r\n      int count = 0;\r\n     \r\n      for (char c : letters) {\r\n           switch (c) {\r\n              case &#39;a&#39;:\r\n                  case &#39;e&#39;:\r\n                  case &#39;i&#39;:\r\n                  case &#39;o&#39;:\r\n                  case &#39;u&#39;:\r\n                      count++;\r\n          break;\r\n          default:\r\n                  // no count increment\r\n          }\r\n\r\n       }\r\n            System.out.println(&quot;Number of vowels in String [&quot; + input + &quot;] is : &quot; + count);\r\n     }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"check is String vowel or consonant using java?","body":"<pre><code>import java.util.Scanner;\n</code></pre>\n\n<p>/**\n  * Java Program to count vowels in a String. It accept a String \n    from command promptand count how many vowels it contains. To revise, \n    5 letters a, e, i, o and u are known as \n    vowels in English.\n  */</p>\n\n<pre><code>public class VowelCounter {\n\n public static void main(String args[]) {\n      System.out.println(\"Please enter some text\");\n      Scanner reader = new Scanner(System.in);                  \n\n  String input = reader.nextLine();\n      char[] letters = input.toCharArray();\n\n  int count = 0;\n\n  for (char c : letters) {\n       switch (c) {\n          case 'a':\n              case 'e':\n              case 'i':\n              case 'o':\n              case 'u':\n                  count++;\n      break;\n      default:\n              // no count increment\n      }\n\n   }\n        System.out.println(\"Number of vowels in String [\" + input + \"] is : \" + count);\n }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473974277,"creation_date":1473974277,"answer_id":39520521,"question_id":39482979,"body_markdown":"You cannot do this reasonably simply by examining the first letter.  Rather, you need to refer to an on-line dictionary and use the first phoneme of the pronunciation.  You&#39;ve already coded the simple implementation: check the first letter.  However, as your counterexamples show, this is not enough.\r\n\r\nIf this is a homework assignment, please contact your instructor for access to the pronunciation file.","title":"check is String vowel or consonant using java?","body":"<p>You cannot do this reasonably simply by examining the first letter.  Rather, you need to refer to an on-line dictionary and use the first phoneme of the pronunciation.  You've already coded the simple implementation: check the first letter.  However, as your counterexamples show, this is not enough.</p>\n\n<p>If this is a homework assignment, please contact your instructor for access to the pronunciation file.</p>\n"},{"tags":[],"owner":{"account_id":25999504,"reputation":1,"user_id":19710273,"display_name":"Martin Blažek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659862044,"creation_date":1659862044,"answer_id":73266047,"question_id":39482979,"body_markdown":"      public static int vovelsCount(String str) {\r\n        return str.replaceAll(&quot;[^aeiou]&quot;,&quot;&quot;).length();\r\n    }","title":"check is String vowel or consonant using java?","body":"<pre><code>  public static int vovelsCount(String str) {\n    return str.replaceAll(&quot;[^aeiou]&quot;,&quot;&quot;).length();\n}\n</code></pre>\n"}],"owner":{"account_id":9178377,"reputation":17,"user_id":6823197,"display_name":"asheesh patel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1112,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"answer_count":3,"score":-3,"last_activity_date":1659862044,"creation_date":1473830589,"question_id":39482979,"body_markdown":"How do I check whether a String begins with a vowel or a consonant sound? For instance, **University** begins with a consonant sound; **Hour** begins with a vowel sound.\r\n\r\n    public static void main(String args[])\r\n    {\r\n        char ch;\r\n        Scanner scan = new Scanner(System.in);\r\n\t\t\r\n        System.out.print(&quot;Enter a word : &quot;);\r\n        ch = scan.next().charAt(0);\r\n\t\t\r\n        if(ch==&#39;a&#39; || ch==&#39;A&#39; || ch==&#39;e&#39; || ch==&#39;E&#39; ||\r\n        ch==&#39;i&#39; || ch==&#39;I&#39; || ch==&#39;o&#39; || ch==&#39;O&#39; ||\r\n        ch==&#39;u&#39; || ch==&#39;U&#39;)\r\n        {\r\n            System.out.print(&quot;This is a Vowel&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.print(&quot;This is not a Vowel&quot;);\r\n        }\r\n    }","title":"check is String vowel or consonant using java?","body":"<p>How do I check whether a String begins with a vowel or a consonant sound? For instance, <strong>University</strong> begins with a consonant sound; <strong>Hour</strong> begins with a vowel sound.</p>\n\n<pre><code>public static void main(String args[])\n{\n    char ch;\n    Scanner scan = new Scanner(System.in);\n\n    System.out.print(\"Enter a word : \");\n    ch = scan.next().charAt(0);\n\n    if(ch=='a' || ch=='A' || ch=='e' || ch=='E' ||\n    ch=='i' || ch=='I' || ch=='o' || ch=='O' ||\n    ch=='u' || ch=='U')\n    {\n        System.out.print(\"This is a Vowel\");\n    }\n    else\n    {\n        System.out.print(\"This is not a Vowel\");\n    }\n}\n</code></pre>\n"},{"tags":["java","android","zipoutputstream","zipinputstream","saf"],"answers":[{"tags":[],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613358929,"creation_date":1613358929,"answer_id":66202288,"question_id":66202075,"body_markdown":"Use `Unzip();` method form [FileUtilsPlus][1]  library \r\n\r\n\r\n  [1]: https://github.com/ErrorxCode/FileUtilsPlus","title":"How to extract zip archive with subdirectories using SAF / DocumentFile?","body":"<p>Use <code>Unzip();</code> method form <a href=\"https://github.com/ErrorxCode/FileUtilsPlus\" rel=\"nofollow noreferrer\">FileUtilsPlus</a>  library</p>\n"},{"tags":[],"owner":{"account_id":9825799,"reputation":65,"user_id":7278934,"display_name":"Al_HK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613957976,"creation_date":1613957976,"answer_id":66309009,"question_id":66202075,"body_markdown":"Thanks guys I&#39;m all set, I had to build a method like below which returns DocumentFile and creates necessary directories, Posting it here in case someone needs...\r\n\r\n    private DocumentFile CreateFileWithDirectories(String path, DocumentFile destDir)\r\n    {\r\n        // Like ---&gt; Folder 2/ or Folder 1/Folder 2/Folder 3/\r\n        if (path.endsWith(&quot;/&quot;))\r\n        {\r\n            String[] tempStr = path.split(&quot;/&quot;);\r\n\r\n            DocumentFile parentDir = destDir;\r\n            DocumentFile childDir = null;\r\n\r\n            for (String st : tempStr)\r\n            {\r\n                childDir = parentDir.findFile(st);\r\n\r\n                if (childDir == null)\r\n                {\r\n                    childDir = parentDir.createDirectory(st);\r\n                }\r\n                parentDir = childDir;\r\n            }\r\n\r\n            // returns null\r\n        }\r\n        // Like ---&gt; 1 Test/Folder 2/Folder 3/ABC 005.jpg\r\n        else if (path.contains(&quot;/&quot;))\r\n        {\r\n            String[] tempStr = path.split(&quot;/&quot;);\r\n\r\n            DocumentFile parentDir = destDir;\r\n            DocumentFile childDir = null;\r\n\r\n            for (int i = 0; i &lt; tempStr.length - 1; i++)\r\n            {\r\n                childDir = parentDir.findFile(tempStr[i]);\r\n\r\n                if (childDir == null) // No file exists\r\n                {\r\n                    childDir = parentDir.createDirectory(tempStr[i]);\r\n                }\r\n\r\n                //else --&gt; Yes file exists\r\n                parentDir = childDir;\r\n            }\r\n\r\n            String finalFileName = path.substring(path.lastIndexOf(&quot;/&quot;) + 1);\r\n\r\n            return parentDir.createFile(&quot;*/*&quot;, finalFileName);\r\n        }\r\n        // Like ---&gt; /\r\n        else if (path.equals(&quot;/&quot;))\r\n        {\r\n            return null;\r\n        }\r\n        // Like ---&gt; ABC 005.jpg or ABC 005\r\n        else\r\n        {\r\n            return destDir.createFile(&quot;*/*&quot;, path);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n ","title":"How to extract zip archive with subdirectories using SAF / DocumentFile?","body":"<p>Thanks guys I'm all set, I had to build a method like below which returns DocumentFile and creates necessary directories, Posting it here in case someone needs...</p>\n<pre><code>private DocumentFile CreateFileWithDirectories(String path, DocumentFile destDir)\n{\n    // Like ---&gt; Folder 2/ or Folder 1/Folder 2/Folder 3/\n    if (path.endsWith(&quot;/&quot;))\n    {\n        String[] tempStr = path.split(&quot;/&quot;);\n\n        DocumentFile parentDir = destDir;\n        DocumentFile childDir = null;\n\n        for (String st : tempStr)\n        {\n            childDir = parentDir.findFile(st);\n\n            if (childDir == null)\n            {\n                childDir = parentDir.createDirectory(st);\n            }\n            parentDir = childDir;\n        }\n\n        // returns null\n    }\n    // Like ---&gt; 1 Test/Folder 2/Folder 3/ABC 005.jpg\n    else if (path.contains(&quot;/&quot;))\n    {\n        String[] tempStr = path.split(&quot;/&quot;);\n\n        DocumentFile parentDir = destDir;\n        DocumentFile childDir = null;\n\n        for (int i = 0; i &lt; tempStr.length - 1; i++)\n        {\n            childDir = parentDir.findFile(tempStr[i]);\n\n            if (childDir == null) // No file exists\n            {\n                childDir = parentDir.createDirectory(tempStr[i]);\n            }\n\n            //else --&gt; Yes file exists\n            parentDir = childDir;\n        }\n\n        String finalFileName = path.substring(path.lastIndexOf(&quot;/&quot;) + 1);\n\n        return parentDir.createFile(&quot;*/*&quot;, finalFileName);\n    }\n    // Like ---&gt; /\n    else if (path.equals(&quot;/&quot;))\n    {\n        return null;\n    }\n    // Like ---&gt; ABC 005.jpg or ABC 005\n    else\n    {\n        return destDir.createFile(&quot;*/*&quot;, path);\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4863127,"reputation":15025,"user_id":3922207,"accept_rate":63,"display_name":"Anggrayudi H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643052467,"creation_date":1643052467,"answer_id":70839430,"question_id":66202075,"body_markdown":"You can use [SimpleStorage](https://github.com/anggrayudi/SimpleStorage) to compress/decompress a ZIP file:\r\n\r\n```kotlin\r\nval zipFile: DocumentFile = ...\r\nzipFile?.decompressZip(applicationContext, targetFolder, object : ZipDecompressionCallback&lt;DocumentFile&gt;(uiScope) {\r\n    override fun onCompleted(\r\n        zipFile: DocumentFile,\r\n        targetFolder: DocumentFile,\r\n        bytesDecompressed: Long,\r\n        totalFilesDecompressed: Int,\r\n        decompressionRate: Float\r\n    ) {\r\n        Toast.makeText(applicationContext, &quot;Decompressed $totalFilesDecompressed files from ${zipFile.name}&quot;, Toast.LENGTH_SHORT).show()\r\n    }\r\n    override fun onFailed(errorCode: ErrorCode) {\r\n        Toast.makeText(applicationContext, &quot;$errorCode&quot;, Toast.LENGTH_SHORT).show()\r\n    }\r\n})\r\n```\r\n\r\nAnd for compressing files, you can use extension function `List&lt;DocumentFile&gt;.compressToZip()`","title":"How to extract zip archive with subdirectories using SAF / DocumentFile?","body":"<p>You can use <a href=\"https://github.com/anggrayudi/SimpleStorage\" rel=\"nofollow noreferrer\">SimpleStorage</a> to compress/decompress a ZIP file:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val zipFile: DocumentFile = ...\nzipFile?.decompressZip(applicationContext, targetFolder, object : ZipDecompressionCallback&lt;DocumentFile&gt;(uiScope) {\n    override fun onCompleted(\n        zipFile: DocumentFile,\n        targetFolder: DocumentFile,\n        bytesDecompressed: Long,\n        totalFilesDecompressed: Int,\n        decompressionRate: Float\n    ) {\n        Toast.makeText(applicationContext, &quot;Decompressed $totalFilesDecompressed files from ${zipFile.name}&quot;, Toast.LENGTH_SHORT).show()\n    }\n    override fun onFailed(errorCode: ErrorCode) {\n        Toast.makeText(applicationContext, &quot;$errorCode&quot;, Toast.LENGTH_SHORT).show()\n    }\n})\n</code></pre>\n<p>And for compressing files, you can use extension function <code>List&lt;DocumentFile&gt;.compressToZip()</code></p>\n"}],"owner":{"account_id":9825799,"reputation":65,"user_id":7278934,"display_name":"Al_HK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1659861960,"creation_date":1613356289,"question_id":66202075,"body_markdown":"I&#39;m struggling with extracting a zip file contents using the evil Storage Access Framework, as you may know; I can&#39;t use any File objects so I have to use ZipInputStream, ZipOutputStream and DocumentFile, Here&#39;s the zip file structure:\r\n\r\n    Folder 1/ABC 001.jpg\r\n    Folder 1/ABC 002.jpg\r\n    Folder 2/ABC 003.jpg\r\n    Folder 2/ABC 004.jpg\r\n    Folder 2/Folder 3/ABC 005.jpg\r\n    Folder 2/Folder 3/ABC 006.jpg\r\n    Folder 2/Folder 3/Folder 4/ABC 007.jpg\r\n    Folder 2/Folder 3/Folder 4/ABC 008.jpg\r\n    ABC 009.jpg\r\n\r\nHere&#39;s my code:\r\n\r\n        public void extractZipFile(DocumentFile srcZipFile, DocumentFile destDir) throws IOException\r\n        {\r\n            ZipEntry entry;\r\n    \r\n            InputStream inputStream = resolver.openInputStream(srcZipFile.getUri());\r\n    \r\n            try (java.util.zip.ZipInputStream zipInputStream = new java.util.zip.ZipInputStream(inputStream))\r\n            {\r\n                while ((entry = zipInputStream.getNextEntry()) != null)\r\n                {\r\n                    DocumentFile currentDestDir = destDir;\r\n    \r\n                    if (!entry.isDirectory())\r\n                    {\r\n                        unzipFile(entry, zipInputStream, currentDestDir);\r\n                    }\r\n                    else\r\n                    {\r\n                        String finalFolderName = entry.getName().replace(&quot;/&quot;, &quot;&quot;);\r\n                        currentDestDir = destDir.createDirectory(finalFolderName);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            inputStream.close();\r\n        }\r\n    \r\n        private void unzipFile(ZipEntry fileEntry, java.util.zip.ZipInputStream zipInputStream, DocumentFile destDir) throws IOException\r\n        {\r\n            int readLen;\r\n            byte[] readBuffer = new byte[BUFFER_SIZE];\r\n    \r\n            DocumentFile destFile = destDir.createFile(&quot;*/*&quot;, fileEntry.getName());\r\n    \r\n            try (OutputStream outputStream = resolver.openOutputStream(destFile.getUri()))\r\n            {\r\n                while ((readLen = zipInputStream.read(readBuffer)) != -1)\r\n                {\r\n                    outputStream.write(readBuffer, 0, readLen);\r\n                }\r\n            }\r\n        }\r\n\r\nAnd here&#39;s how the out put look like:\r\n\r\n[![output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zO37p.png\r\n\r\n\r\nThanks  ","title":"How to extract zip archive with subdirectories using SAF / DocumentFile?","body":"<p>I'm struggling with extracting a zip file contents using the evil Storage Access Framework, as you may know; I can't use any File objects so I have to use ZipInputStream, ZipOutputStream and DocumentFile, Here's the zip file structure:</p>\n<pre><code>Folder 1/ABC 001.jpg\nFolder 1/ABC 002.jpg\nFolder 2/ABC 003.jpg\nFolder 2/ABC 004.jpg\nFolder 2/Folder 3/ABC 005.jpg\nFolder 2/Folder 3/ABC 006.jpg\nFolder 2/Folder 3/Folder 4/ABC 007.jpg\nFolder 2/Folder 3/Folder 4/ABC 008.jpg\nABC 009.jpg\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>    public void extractZipFile(DocumentFile srcZipFile, DocumentFile destDir) throws IOException\n    {\n        ZipEntry entry;\n\n        InputStream inputStream = resolver.openInputStream(srcZipFile.getUri());\n\n        try (java.util.zip.ZipInputStream zipInputStream = new java.util.zip.ZipInputStream(inputStream))\n        {\n            while ((entry = zipInputStream.getNextEntry()) != null)\n            {\n                DocumentFile currentDestDir = destDir;\n\n                if (!entry.isDirectory())\n                {\n                    unzipFile(entry, zipInputStream, currentDestDir);\n                }\n                else\n                {\n                    String finalFolderName = entry.getName().replace(&quot;/&quot;, &quot;&quot;);\n                    currentDestDir = destDir.createDirectory(finalFolderName);\n                }\n            }\n        }\n\n        inputStream.close();\n    }\n\n    private void unzipFile(ZipEntry fileEntry, java.util.zip.ZipInputStream zipInputStream, DocumentFile destDir) throws IOException\n    {\n        int readLen;\n        byte[] readBuffer = new byte[BUFFER_SIZE];\n\n        DocumentFile destFile = destDir.createFile(&quot;*/*&quot;, fileEntry.getName());\n\n        try (OutputStream outputStream = resolver.openOutputStream(destFile.getUri()))\n        {\n            while ((readLen = zipInputStream.read(readBuffer)) != -1)\n            {\n                outputStream.write(readBuffer, 0, readLen);\n            }\n        }\n    }\n</code></pre>\n<p>And here's how the out put look like:</p>\n<p><a href=\"https://i.stack.imgur.com/zO37p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zO37p.png\" alt=\"output\" /></a></p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","matrix","multidimensional-array","initialization"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":2,"creation_date":1659771708,"post_id":73257995,"comment_id":129377929,"body_markdown":"A loop isn&#39;t enough ?","body":"A loop isn&#39;t enough ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659772778,"post_id":73257995,"comment_id":129378096,"body_markdown":"AFAIK there is no such built-in *function* - but can be done using `Stream` or a simple loop as already suggested above","body":"AFAIK there is no such built-in <i>function</i> - but can be done using <code>Stream</code> or a simple loop as already suggested above"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659797078,"creation_date":1659773492,"answer_id":73258188,"question_id":73257995,"body_markdown":"If you&#39;re looking for a built-in function to convert a single dimension array to a two-dimensional one, sadly there isn&#39;t one. \r\n\r\nHowever, as it has been pointed out in the comments, you could use &lt;b&gt;streams to reach a fair compact way to initialize your two-dimensional array&lt;/b&gt; from a single-dimension one. Basically, you could define your matrix&#39;s dimension from the array&#39;s length and then rely on a stream to copy the array&#39;s elements within the two-dimensional array.\r\n\r\n```\r\ndouble[] x = new double[]{1, 2, 3};\r\ndouble[][] x2D = new double[x.length][1];\r\nIntStream.range(0, x.length).forEach(i -&gt; x2D[i][0] = x[i]);\r\n```\r\n\r\nOr in a more concise writing, you could immediately initialize your two-dimensional array with a stream where each element is mapped to a `double[]` and then collect each one of them into a further array.\r\n\r\n```\r\ndouble[] x = new double[]{1, 2, 3};\r\ndouble[][] mat = Arrays.stream(x).mapToObj(i -&gt; new double[]{i}).toArray(double[][]::new);\r\n```","title":"Fast conversion of single dimension array to two dimensional &#39;column&#39; array","body":"<p>If you're looking for a built-in function to convert a single dimension array to a two-dimensional one, sadly there isn't one.</p>\n<p>However, as it has been pointed out in the comments, you could use <b>streams to reach a fair compact way to initialize your two-dimensional array</b> from a single-dimension one. Basically, you could define your matrix's dimension from the array's length and then rely on a stream to copy the array's elements within the two-dimensional array.</p>\n<pre><code>double[] x = new double[]{1, 2, 3};\ndouble[][] x2D = new double[x.length][1];\nIntStream.range(0, x.length).forEach(i -&gt; x2D[i][0] = x[i]);\n</code></pre>\n<p>Or in a more concise writing, you could immediately initialize your two-dimensional array with a stream where each element is mapped to a <code>double[]</code> and then collect each one of them into a further array.</p>\n<pre><code>double[] x = new double[]{1, 2, 3};\ndouble[][] mat = Arrays.stream(x).mapToObj(i -&gt; new double[]{i}).toArray(double[][]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659783304,"creation_date":1659783304,"answer_id":73259132,"question_id":73257995,"body_markdown":"`Arrays.setAll` method can be used:\r\n\r\n    double[] x     = {1, 2, 3};\r\n    double[][] x2D = new double[x.length][];\r\n\r\n    Arrays.setAll(x2D, i -&gt; new double[]{x[i]});","title":"Fast conversion of single dimension array to two dimensional &#39;column&#39; array","body":"<p><code>Arrays.setAll</code> method can be used:</p>\n<pre><code>double[] x     = {1, 2, 3};\ndouble[][] x2D = new double[x.length][];\n\nArrays.setAll(x2D, i -&gt; new double[]{x[i]});\n</code></pre>\n"}],"owner":{"account_id":15729768,"reputation":341,"user_id":11350388,"display_name":"user11350388"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73258188,"answer_count":2,"score":0,"last_activity_date":1659861619,"creation_date":1659771551,"question_id":73257995,"body_markdown":"Are there any built-in functions (or fast implementations) in Java to convert a single-dimension array of size `[n]` to a two-dimensional array of size `[n][1]`?\r\n\r\nFor example:\r\n\r\n```\r\ndouble[] x = new double[]{1, 2, 3};\r\ndouble[][] x2D = new double[][]{{1}, {2}, {3}};\r\n```","title":"Fast conversion of single dimension array to two dimensional &#39;column&#39; array","body":"<p>Are there any built-in functions (or fast implementations) in Java to convert a single-dimension array of size <code>[n]</code> to a two-dimensional array of size <code>[n][1]</code>?</p>\n<p>For example:</p>\n<pre><code>double[] x = new double[]{1, 2, 3};\ndouble[][] x2D = new double[][]{{1}, {2}, {3}};\n</code></pre>\n"},{"tags":["java","optimization","biginteger"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1477574675,"post_id":40285614,"comment_id":67829892,"body_markdown":"Simplest optimization will be using `int` instead of `List` because only way you use it is checking size. It won&#39;t give you much, but it is better than nothing.","body":"Simplest optimization will be using <code>int</code> instead of <code>List</code> because only way you use it is checking size. It won&#39;t give you much, but it is better than nothing."},{"owner":{"account_id":9264854,"reputation":841,"user_id":6880585,"display_name":"olsli"},"score":0,"creation_date":1477574865,"post_id":40285614,"comment_id":67830036,"body_markdown":"Try to replace `BigInteger` with `long` and `list` with `boolean`.","body":"Try to replace <code>BigInteger</code> with <code>long</code> and <code>list</code> with <code>boolean</code>."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1477666688,"post_id":40285614,"comment_id":67872803,"body_markdown":"The optimization to omit adding that values to a lost will bring some speedup, but remains the fact that these kinds of naive factorizations are always bound to be slow, especially for large numbers. Note that you might first want to optimize by only considering primes. But note that checking if a number is prime can be much slower than a `mod()`, so you&#39;ll have to determine the primes first, e.g. with a simple *Sieve*. Then you can apply the primes you found to your factorization code. Note that instead of `if`, you should use `while` and at the same time divide `bi` by any divisor you found.","body":"The optimization to omit adding that values to a lost will bring some speedup, but remains the fact that these kinds of naive factorizations are always bound to be slow, especially for large numbers. Note that you might first want to optimize by only considering primes. But note that checking if a number is prime can be much slower than a <code>mod()</code>, so you&#39;ll have to determine the primes first, e.g. with a simple <i>Sieve</i>. Then you can apply the primes you found to your factorization code. Note that instead of <code>if</code>, you should use <code>while</code> and at the same time divide <code>bi</code> by any divisor you found."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1477666883,"post_id":40285614,"comment_id":67872925,"body_markdown":"Also searching up to `n` is a waste of time. Search up to `sqrt(n)` only. I don&#39;t know if Java&#39;s `BigInteger` has a `sqrt()` function, but it is easy to write if it doesn&#39;t.","body":"Also searching up to <code>n</code> is a waste of time. Search up to <code>sqrt(n)</code> only. I don&#39;t know if Java&#39;s <code>BigInteger</code> has a <code>sqrt()</code> function, but it is easy to write if it doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":6720110,"reputation":2302,"user_id":5763327,"display_name":"Setop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477575050,"creation_date":1477575050,"answer_id":40285915,"question_id":40285614,"body_markdown":"As you don&#39;t use the ```list``` except to get its final size, you could use an integer as a counter, i.e: do ```n++``` instead of ```list.add(bi)```.\r\nThis is going to save huge amount of memory. Hence save time used to manage its allocation.","title":"Code optimization - BigInteger","body":"<p>As you don't use the <code>list</code> except to get its final size, you could use an integer as a counter, i.e: do <code>n++</code> instead of <code>list.add(bi)</code>.\nThis is going to save huge amount of memory. Hence save time used to manage its allocation.</p>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479296858,"creation_date":1479296858,"answer_id":40631377,"question_id":40285614,"body_markdown":"Thinking rather than just programming would help a lot. You don&#39;t need to find all divisors. You don&#39;t even need to count them. All you need is to find out if the count is odd.\r\n\r\n**But divisors always come in pairs: For every divisor `i` also `n/i` is a divisor.**\r\n\r\nSo the count is always even, except when there&#39;s a divisor `i` equal to `n/i`. Use Guava [sqrt][] ...\r\n\r\n[sqrt]: https://google.github.io/guava/releases/17.0/api/docs/com/google/common/math/BigIntegerMath.html#sqrt(java.math.BigInteger,%20java.math.RoundingMode)","title":"Code optimization - BigInteger","body":"<p>Thinking rather than just programming would help a lot. You don't need to find all divisors. You don't even need to count them. All you need is to find out if the count is odd.</p>\n\n<p><strong>But divisors always come in pairs: For every divisor <code>i</code> also <code>n/i</code> is a divisor.</strong></p>\n\n<p>So the count is always even, except when there's a divisor <code>i</code> equal to <code>n/i</code>. Use Guava <a href=\"https://google.github.io/guava/releases/17.0/api/docs/com/google/common/math/BigIntegerMath.html#sqrt(java.math.BigInteger,%20java.math.RoundingMode)\" rel=\"nofollow noreferrer\">sqrt</a> ...</p>\n"},{"tags":[],"owner":{"account_id":22332908,"reputation":11,"user_id":16553938,"display_name":"Vulpe Cosmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659860715,"creation_date":1659860715,"answer_id":73265933,"question_id":40285614,"body_markdown":"    // Lambda\r\n    long counter = IntStream\r\n                .range(1, (int) Math.sqrt(n.longValue())+1)\r\n                .filter(i -&gt; n.longValue() % i == 0 &amp;&amp; n.longValue() / i == i)\r\n                .count();\r\n        return (counter % 2 == 0) ? &quot;even&quot; : &quot;odd&quot;;","title":"Code optimization - BigInteger","body":"<pre><code>// Lambda\nlong counter = IntStream\n            .range(1, (int) Math.sqrt(n.longValue())+1)\n            .filter(i -&gt; n.longValue() % i == 0 &amp;&amp; n.longValue() / i == i)\n            .count();\n    return (counter % 2 == 0) ? &quot;even&quot; : &quot;odd&quot;;\n</code></pre>\n"}],"owner":{"account_id":9127821,"reputation":77,"user_id":6790757,"display_name":"snowflake"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1659860715,"creation_date":1477574218,"question_id":40285614,"body_markdown":"The code works correctly until I give it a big value - it takes too much time to execute.\r\n\r\nCan you give me some advice how to optimize it?\r\n\r\nBigInteger type of n parameter is a must, it&#39;s a part of the task ;)\r\n\r\n    public static String oddity(BigInteger n) {\r\n \r\n        List&lt;BigInteger&gt; list = new ArrayList&lt;BigInteger&gt;();\r\n        String result = null;\r\n        for (BigInteger bi = BigInteger.valueOf(1);\r\n             bi.compareTo(n) &lt;= 0;\r\n             bi = bi.add(BigInteger.ONE)) {\r\n            if (n.mod(bi).equals(BigInteger.ZERO))\r\n                list.add(bi);\r\n        }\r\n \r\n        if (list.size() % 2 == 0)\r\n            result = &quot;even&quot;;\r\n        else result = &quot;odd&quot;;\r\n \r\n \r\n        return result;\r\n    }\r\n\r\nThe purpose of this is to return &#39;odd&#39; if the number of &quot;n&quot; divisors is odd. Otherwise return &#39;even&#39;.","title":"Code optimization - BigInteger","body":"<p>The code works correctly until I give it a big value - it takes too much time to execute.</p>\n\n<p>Can you give me some advice how to optimize it?</p>\n\n<p>BigInteger type of n parameter is a must, it's a part of the task ;)</p>\n\n<pre><code>public static String oddity(BigInteger n) {\n\n    List&lt;BigInteger&gt; list = new ArrayList&lt;BigInteger&gt;();\n    String result = null;\n    for (BigInteger bi = BigInteger.valueOf(1);\n         bi.compareTo(n) &lt;= 0;\n         bi = bi.add(BigInteger.ONE)) {\n        if (n.mod(bi).equals(BigInteger.ZERO))\n            list.add(bi);\n    }\n\n    if (list.size() % 2 == 0)\n        result = \"even\";\n    else result = \"odd\";\n\n\n    return result;\n}\n</code></pre>\n\n<p>The purpose of this is to return 'odd' if the number of \"n\" divisors is odd. Otherwise return 'even'.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1659870514,"post_id":73263686,"comment_id":129393103,"body_markdown":"Check with this https://stackoverflow.com/a/73183528/9926179","body":"Check with this <a href=\"https://stackoverflow.com/a/73183528/9926179\">stackoverflow.com/a/73183528/9926179</a>"}],"answers":[{"tags":[],"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659859803,"creation_date":1659859803,"answer_id":73265853,"question_id":73263686,"body_markdown":"You need to check what kind of version you have for Tomcat. If it&#39;s 10, you need to downgrade it to 9. Common case when having this error.","title":"Spring MVC - Tomcat return constant 404 errors","body":"<p>You need to check what kind of version you have for Tomcat. If it's 10, you need to downgrade it to 9. Common case when having this error.</p>\n"}],"owner":{"display_name":"user15993896"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73265853,"answer_count":1,"score":0,"last_activity_date":1659859803,"creation_date":1659825069,"question_id":73263686,"body_markdown":"I just started Spring MVC with Maven and when I send a request Tomcat always returns a 404 not found result.\r\nThis is my simple controller with configuration files.\r\n\r\nHelloController.java:\r\n\r\n    package com.mvcdemo;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    @Controller\r\n    public class HelloController {\r\n    \t@RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.GET)\r\n    \tpublic String printHelloWorld(ModelMap modelMap) {\r\n    \t\tmodelMap.addAttribute(\r\n    \t\t\t\t\t\t&quot;message&quot;,\r\n    \t\t\t\t\t\t&quot;Hello World and Welcome to Spring MVC!&quot;);\r\n    \t\treturn &quot;hello&quot;;\r\n    \t}\r\n    \r\n    }\r\nweb.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \t\t\t\t xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-   app_3_0.xsd&quot;\r\n    \t\t\t\t id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;\r\n    \r\n    \t&lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring-dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\nspring-dispatcher-servlet.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xsi:schemaLocation=&quot;\r\n          http://www.springframework.org/schema/beans\r\n           http://www.springframework.org/schema/beans/spring-beans.xsd\r\n           http://www.springframework.org/schema/context\r\n           http://www.springframework.org/schema/context/spring-context.xsd\r\n           http://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n    \r\n      &lt;!-- FIXME    Change name of the package to your base-package --&gt;\r\n      &lt;context:component-scan base-package=&quot;com.mvcdemo&quot;/&gt;\r\n      &lt;mvc:annotation-driven/&gt;\r\n    \r\n      &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n      &lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\nhello.jsp:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Spring MVC Demo&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h2&gt;${message}&lt;/h2&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\nIs the problem located in bad configuration of the web.xml or spring-dispatcher-servlet.xml files that prevent the URL to be mapped?","title":"Spring MVC - Tomcat return constant 404 errors","body":"<p>I just started Spring MVC with Maven and when I send a request Tomcat always returns a 404 not found result.\nThis is my simple controller with configuration files.</p>\n<p>HelloController.java:</p>\n<pre><code>package com.mvcdemo;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@Controller\npublic class HelloController {\n    @RequestMapping(value = &quot;/hello&quot;, method = RequestMethod.GET)\n    public String printHelloWorld(ModelMap modelMap) {\n        modelMap.addAttribute(\n                        &quot;message&quot;,\n                        &quot;Hello World and Welcome to Spring MVC!&quot;);\n        return &quot;hello&quot;;\n    }\n\n}\n</code></pre>\n<p>web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-   app_3_0.xsd&quot;\n                 id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n\n    &lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;\n\n    &lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-dispatcher-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>spring-dispatcher-servlet.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;\n      http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context\n       http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n  &lt;!-- FIXME    Change name of the package to your base-package --&gt;\n  &lt;context:component-scan base-package=&quot;com.mvcdemo&quot;/&gt;\n  &lt;mvc:annotation-driven/&gt;\n\n  &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt;\n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n  &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>hello.jsp:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Spring MVC Demo&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;${message}&lt;/h2&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Is the problem located in bad configuration of the web.xml or spring-dispatcher-servlet.xml files that prevent the URL to be mapped?</p>\n"},{"tags":["java","voltdb"],"answers":[{"tags":[],"owner":{"account_id":520720,"reputation":1482,"user_id":1131223,"display_name":"BenjaminBallard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406752602,"creation_date":1406752602,"answer_id":25046459,"question_id":25042657,"body_markdown":"Yes, if you are using client.callProcedure for your writes, you can certainly use the same API for your reads.  Here is a simple example:\r\n\r\n    ClientResponse cr = client.callProcedure(procname,parameters);\r\n    VoltTable[] tables = cr.getResults();\r\n    VoltTable table_a = tables[0];\r\n    while (table_a.advanceRow()) {\r\n        System.out.println(&quot;Column 0 is &quot; + table_a.getString(0));\r\n    }\r\n\r\nHere is a shortened example:\r\n\r\n    VoltTable table_a = client.callProcedure(procname,parameters).getResults()[0];\r\n    while (table_a.advanceRow()) {\r\n        System.out.println(&quot;Column 0 is &quot; + table_a.getString(0));\r\n    }\r\n    \r\n\r\nRather than procname and parameters, you could also call AdHoc SQL like this:\r\n\r\n    VoltTable table_a = client.callProcedure(&quot;@AdHoc&quot;,&quot;SELECT * FROM helloworld;&quot;).getResults()[0];\r\n\r\nThese examples above are synchronous or blocking calls.  If you want your application to use asynchronous calls, you can also use a Callback object with the call, so the client would continue executing subsequent code.  When the response is received by the client thread that handles callbacks, the result could be passed off to another thread in our application to read the results.\r\n\r\nYou can read more about the API in the [Java Client API Javadoc][1]. \r\n\r\n\r\n  [1]: http://voltdb.com/docs/javadoc/java-client-api/","title":"Java- read data from voltdb with native procedure","body":"<p>Yes, if you are using client.callProcedure for your writes, you can certainly use the same API for your reads.  Here is a simple example:</p>\n\n<pre><code>ClientResponse cr = client.callProcedure(procname,parameters);\nVoltTable[] tables = cr.getResults();\nVoltTable table_a = tables[0];\nwhile (table_a.advanceRow()) {\n    System.out.println(\"Column 0 is \" + table_a.getString(0));\n}\n</code></pre>\n\n<p>Here is a shortened example:</p>\n\n<pre><code>VoltTable table_a = client.callProcedure(procname,parameters).getResults()[0];\nwhile (table_a.advanceRow()) {\n    System.out.println(\"Column 0 is \" + table_a.getString(0));\n}\n</code></pre>\n\n<p>Rather than procname and parameters, you could also call AdHoc SQL like this:</p>\n\n<pre><code>VoltTable table_a = client.callProcedure(\"@AdHoc\",\"SELECT * FROM helloworld;\").getResults()[0];\n</code></pre>\n\n<p>These examples above are synchronous or blocking calls.  If you want your application to use asynchronous calls, you can also use a Callback object with the call, so the client would continue executing subsequent code.  When the response is received by the client thread that handles callbacks, the result could be passed off to another thread in our application to read the results.</p>\n\n<p>You can read more about the API in the <a href=\"http://voltdb.com/docs/javadoc/java-client-api/\" rel=\"nofollow\">Java Client API Javadoc</a>. </p>\n"},{"tags":[],"owner":{"account_id":25999104,"reputation":1,"user_id":19709937,"display_name":"Efekan Aydemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659857539,"creation_date":1659857539,"answer_id":73265664,"question_id":25042657,"body_markdown":"If you want to use client.callProcedure function. **You have to make that procedure in VoltDB&#39;s user interface** . For example,\r\n\r\n    CREATE PROCEDURE insertNumber AS\r\n    INSERT INTO NUMBERS (number1) values (1)\r\n\r\nthis will create a procedure. When you call it with client.callProcedure(insertNumber), that will do the work.\r\n\r\n\r\n","title":"Java- read data from voltdb with native procedure","body":"<p>If you want to use client.callProcedure function. <strong>You have to make that procedure in VoltDB's user interface</strong> . For example,</p>\n<pre><code>CREATE PROCEDURE insertNumber AS\nINSERT INTO NUMBERS (number1) values (1)\n</code></pre>\n<p>this will create a procedure. When you call it with client.callProcedure(insertNumber), that will do the work.</p>\n"}],"owner":{"account_id":4666300,"reputation":41,"user_id":3779281,"display_name":"Lateral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1659857539,"creation_date":1406739470,"question_id":25042657,"body_markdown":"I&#39;m trying to read data from a VoltDB database with Java. Now, it can be done using result sets from SQL statements, but there should (I&#39;m told) be another way of doing it, native to VoltDB, similarly to how data is written to a VoltDB database (with client.callProcedure). I can&#39;t figure out how to do that; it seems like it should be a pretty simple thing to do, but I don&#39;t see any simple way to do it in client.","title":"Java- read data from voltdb with native procedure","body":"<p>I'm trying to read data from a VoltDB database with Java. Now, it can be done using result sets from SQL statements, but there should (I'm told) be another way of doing it, native to VoltDB, similarly to how data is written to a VoltDB database (with client.callProcedure). I can't figure out how to do that; it seems like it should be a pretty simple thing to do, but I don't see any simple way to do it in client.</p>\n"},{"tags":["java","android","maven","aether"],"comments":[{"owner":{"account_id":25999083,"reputation":1,"user_id":19709920,"display_name":"Xiue"},"score":0,"creation_date":1659857587,"post_id":73265660,"comment_id":129391007,"body_markdown":"Some third party Android System have removed Apache Http at all.I am so frustrated.","body":"Some third party Android System have removed Apache Http at all.I am so frustrated."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1659892014,"post_id":73265660,"comment_id":129397578,"body_markdown":"You can try to create a shandow-Jar of org.eclipse.aether and it&#39;s dependencies with a modified/shadowed package name so you won&#39;t run into conflicts with existing or missing Apache http libraries on Android.","body":"You can try to create a shandow-Jar of org.eclipse.aether and it&#39;s dependencies with a modified/shadowed package name so you won&#39;t run into conflicts with existing or missing Apache http libraries on Android."},{"owner":{"account_id":25999083,"reputation":1,"user_id":19709920,"display_name":"Xiue"},"score":0,"creation_date":1660545272,"post_id":73265660,"comment_id":129549389,"body_markdown":"@Robert Thanks for your suggestion. I have used JarJar to modify the package name of Apache Http.Then I implementation what jars Apache Http needs to use. I have resolved it.","body":"@Robert Thanks for your suggestion. I have used JarJar to modify the package name of Apache Http.Then I implementation what jars Apache Http needs to use. I have resolved it."}],"owner":{"account_id":25999083,"reputation":1,"user_id":19709920,"display_name":"Xiue"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659857514,"creation_date":1659857514,"question_id":73265660,"body_markdown":"**Background**&lt;br&gt;\r\n&lt;p&gt;I am trying to develop an Android App for coding,for which I want to parse gradle files and download the repositories which users needs.However,I install my app only to see an error which implies Android has got rid of Apache Http.But in Aether,the package is needed.&lt;/p&gt;\r\n\r\n**What I have done**\r\n&lt;p&gt;\r\n1.I have try to use HttpLegacy.jar to use the deprecated api.But what is necessary for Aether.transport-http is removed ,which I mean is not in Android API or Legacy.jar.\r\n&lt;/p&gt;\r\n&lt;p&gt;\r\n2.Well,there maybe other resolutions such as create an Apache Http compact package by myself.If it wouldn&#39;t take too much time,I think,I would do this.\r\n&lt;/p&gt;\r\n\r\nPlease help me out.&lt;br&gt;\r\nThank you for taking time to give me a hand.\r\n","title":"Can I use org.eclipse.aether in Android app?","body":"<p><strong>Background</strong><br></p>\n<p>I am trying to develop an Android App for coding,for which I want to parse gradle files and download the repositories which users needs.However,I install my app only to see an error which implies Android has got rid of Apache Http.But in Aether,the package is needed.</p>\n<p><strong>What I have done</strong></p>\n<p>\n1.I have try to use HttpLegacy.jar to use the deprecated api.But what is necessary for Aether.transport-http is removed ,which I mean is not in Android API or Legacy.jar.\n</p>\n<p>\n2.Well,there maybe other resolutions such as create an Apache Http compact package by myself.If it wouldn't take too much time,I think,I would do this.\n</p>\n<p>Please help me out.<br>\nThank you for taking time to give me a hand.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8865,"page":1127,"page_size":100}
