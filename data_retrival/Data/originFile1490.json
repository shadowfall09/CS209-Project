{"items":[{"tags":["java","stack"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":1,"creation_date":1648124152,"post_id":71602296,"comment_id":126547549,"body_markdown":"Replace ```int arr[] = new int[size];```  with ```arr = new int[size]``` in your constructor","body":"Replace <code>int arr[] = new int[size];</code>  with <code>arr = new int[size]</code> in your constructor"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648124062,"creation_date":1648124062,"answer_id":71602350,"question_id":71602296,"body_markdown":"    int size, top;\r\n    int arr[];\r\n    \r\n    stack(int n){\r\n        size = n;\r\n        top = -1;\r\n        int arr[] = new int[size]; // these creates a local variable arr\r\n    }\r\n\r\nYour problem here is that you are not instantiating your instance member, but creating a second, local array.\r\n\r\n    int size, top;\r\n    int arr[];\r\n\r\n    stack(int n){\r\n        size = n;\r\n        top = -1;\r\n        arr = new int[size]; // Don&#39;t redeclare arr, but use the existing one\r\n    }\r\n\r\nThis should fix the issue.","title":"Stack, Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<pre><code>int size, top;\nint arr[];\n\nstack(int n){\n    size = n;\n    top = -1;\n    int arr[] = new int[size]; // these creates a local variable arr\n}\n</code></pre>\n<p>Your problem here is that you are not instantiating your instance member, but creating a second, local array.</p>\n<pre><code>int size, top;\nint arr[];\n\nstack(int n){\n    size = n;\n    top = -1;\n    arr = new int[size]; // Don't redeclare arr, but use the existing one\n}\n</code></pre>\n<p>This should fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":13269545,"reputation":84,"user_id":9581080,"display_name":"Akshita Chawla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648127500,"creation_date":1648127500,"answer_id":71603144,"question_id":71602296,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     stack(int n){\r\n            size = n;\r\n            top = -1;\r\n            int arr[] = new int[size];\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn the constructor , you are creating a new local variable arr[].\r\nThe instance variable is still uninitialised. \r\nAnd by default, the value given to it is null.\r\nHence when you are trying to call an action on it, it is throwing Null Pointer Exception\r\n\r\nTry this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    stack(int n){\r\n            size = n;\r\n            top = -1;\r\n            arr[] = new int[size];\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nFor better understanding of variable scoping refer to this :https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3","title":"Stack, Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> stack(int n){\n        size = n;\n        top = -1;\n        int arr[] = new int[size];\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>In the constructor , you are creating a new local variable arr[].\nThe instance variable is still uninitialised.\nAnd by default, the value given to it is null.\nHence when you are trying to call an action on it, it is throwing Null Pointer Exception</p>\n<p>Try this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>stack(int n){\n        size = n;\n        top = -1;\n        arr[] = new int[size];\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>For better understanding of variable scoping refer to this :<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3</a></p>\n"}],"owner":{"account_id":24673377,"reputation":1,"user_id":18568084,"display_name":"Himanshu Saini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649317697,"answer_count":2,"score":-1,"last_activity_date":1648127500,"creation_date":1648123868,"question_id":71602296,"body_markdown":"In the following java program, I am trying to implement a stack using array\r\n\r\n```\r\nclass stack{\r\n\tint size, top;\r\n\tint arr[];\r\n\r\n\tstack(int n){\r\n\t\tsize = n;\r\n\t\ttop = -1;\r\n\t\tint arr[] = new int[size];\r\n\t}\r\n\r\n\tvoid push(int x){\r\n\t\t++top;\r\n\t\tif(top &gt;= size){\r\n\t\t\tSystem.out.println(&quot;Stack overflow&quot;);\r\n\t\t\ttop = size-1;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Data pushed: &quot;+x);\r\n\t\t\tarr[top] = x;\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tvoid pop(){\r\n\t\tif(top &lt; 0){\r\n\t\t\tSystem.out.println(&quot;Stack Underflow&quot;);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Data popped: &quot;+arr[top]);\r\n\t\t\t--top;\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n}\r\n\r\npublic class test{\r\n\tpublic static void main(String[] args){\r\n\t\tstack S = new stack(3);\r\n\t\tS.push(5);\r\n\t\tS.push(6);\r\n\t\tS.push(7);\r\n\t\tS.push(8);\r\n\t\tS.pop();\r\n\t\tS.pop();\r\n\t\tS.pop();\r\n\t\tS.pop();\r\n\t}\r\n}\r\n```\r\n\r\nAfter the first &quot;push&quot; operation the program throws the error: **Exception in thread &quot;main&quot; java.lang.NullPointerException** .\r\n\r\nI tried initializing the array out of the constructor and it solves the problem, so I wanted to know what is wrong with the approach given above?\r\n\r\n```\r\nclass stack{\r\n\tint size, top;\r\n\tint arr[] = new int[100];\r\n\r\n\tstack(int n){\r\n\t\tsize = n;\r\n\t\ttop = -1;\r\n\t\t//int arr[] = new int[size];\r\n\t}\r\n```","title":"Stack, Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>In the following java program, I am trying to implement a stack using array</p>\n<pre><code>class stack{\n    int size, top;\n    int arr[];\n\n    stack(int n){\n        size = n;\n        top = -1;\n        int arr[] = new int[size];\n    }\n\n    void push(int x){\n        ++top;\n        if(top &gt;= size){\n            System.out.println(&quot;Stack overflow&quot;);\n            top = size-1;\n        }\n        else{\n            System.out.println(&quot;Data pushed: &quot;+x);\n            arr[top] = x;\n        }\n        return;\n    }\n\n    void pop(){\n        if(top &lt; 0){\n            System.out.println(&quot;Stack Underflow&quot;);\n        }\n        else{\n            System.out.println(&quot;Data popped: &quot;+arr[top]);\n            --top;\n        }\n        return;\n    }\n}\n\npublic class test{\n    public static void main(String[] args){\n        stack S = new stack(3);\n        S.push(5);\n        S.push(6);\n        S.push(7);\n        S.push(8);\n        S.pop();\n        S.pop();\n        S.pop();\n        S.pop();\n    }\n}\n</code></pre>\n<p>After the first &quot;push&quot; operation the program throws the error: <strong>Exception in thread &quot;main&quot; java.lang.NullPointerException</strong> .</p>\n<p>I tried initializing the array out of the constructor and it solves the problem, so I wanted to know what is wrong with the approach given above?</p>\n<pre><code>class stack{\n    int size, top;\n    int arr[] = new int[100];\n\n    stack(int n){\n        size = n;\n        top = -1;\n        //int arr[] = new int[size];\n    }\n</code></pre>\n"},{"tags":["java","eclipse","junit","cucumber"],"comments":[{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1648017661,"post_id":71564025,"comment_id":126514218,"body_markdown":"Can you please add some examples of your code? Please add the feature files, stepDefinitions and TestRunner that you mention.","body":"Can you please add some examples of your code? Please add the feature files, stepDefinitions and TestRunner that you mention."}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648018116,"creation_date":1648018116,"answer_id":71582878,"question_id":71564025,"body_markdown":"Please be aware that Cucumber doesn&#39;t distinguish between different stepDefinition files; they are all considered the &quot;glue&quot;. So just because you define one stepDefinition file for one feature, and another stepDefinition file for another feature (which btw is an [anti-pattern][1]), doesn&#39;t mean Cucumber sees these as separate. \r\n\r\nCucumber - by design - runs all [hooks][2] as defined; @Before hooks run before the first step of each scenario. \r\nIf you want the hooks to be run only for certain features / scenarios, you will have to use Conditional Hooks, and tag your hooks with a tag expression:\r\n\r\nFrom the docs on Conditional Hooks: \r\n&quot;Hooks can be conditionally selected for execution based on the tags of the scenario. To run a particular hook only for certain scenarios, you can associate a Before or After hook with a tag expression.\r\n\r\nAnnotated method style:\r\n\r\n    @After(&quot;@browser and not @headless&quot;)\r\n    public void doSomethingAfter(Scenario scenario){\r\n    }\r\n\r\nLambda style:\r\n\r\n    After(&quot;@browser and not @headless&quot;, (Scenario scenario) -&gt; {\r\n    });\r\n\r\n&quot;\r\n\r\nFor more information on tags, see [tags][3]\r\n\r\n\r\n  [1]: https://docs.cucumber.io/docs/guides/anti-patterns/\r\n  [2]: https://docs.cucumber.io/docs/cucumber/api/#hooks\r\n  [3]: https://docs.cucumber.io/docs/cucumber/api/#tags","title":"How do I prevent Cucumber from running all @before code blocks even if the test is excluded from Tag setting in TestRunner?","body":"<p>Please be aware that Cucumber doesn't distinguish between different stepDefinition files; they are all considered the &quot;glue&quot;. So just because you define one stepDefinition file for one feature, and another stepDefinition file for another feature (which btw is an <a href=\"https://docs.cucumber.io/docs/guides/anti-patterns/\" rel=\"nofollow noreferrer\">anti-pattern</a>), doesn't mean Cucumber sees these as separate.</p>\n<p>Cucumber - by design - runs all <a href=\"https://docs.cucumber.io/docs/cucumber/api/#hooks\" rel=\"nofollow noreferrer\">hooks</a> as defined; @Before hooks run before the first step of each scenario.\nIf you want the hooks to be run only for certain features / scenarios, you will have to use Conditional Hooks, and tag your hooks with a tag expression:</p>\n<p>From the docs on Conditional Hooks:\n&quot;Hooks can be conditionally selected for execution based on the tags of the scenario. To run a particular hook only for certain scenarios, you can associate a Before or After hook with a tag expression.</p>\n<p>Annotated method style:</p>\n<pre><code>@After(&quot;@browser and not @headless&quot;)\npublic void doSomethingAfter(Scenario scenario){\n}\n</code></pre>\n<p>Lambda style:</p>\n<pre><code>After(&quot;@browser and not @headless&quot;, (Scenario scenario) -&gt; {\n});\n</code></pre>\n<p>&quot;</p>\n<p>For more information on tags, see <a href=\"https://docs.cucumber.io/docs/cucumber/api/#tags\" rel=\"nofollow noreferrer\">tags</a></p>\n"},{"tags":[],"owner":{"account_id":24635246,"reputation":1,"user_id":18533975,"display_name":"PAlby1827"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648127473,"creation_date":1648127473,"answer_id":71603131,"question_id":71564025,"body_markdown":"I actually figured this out. I ended up creating a separate hooks class for the @Before/@After and removed them from the stepdefinition files. I then setup a dependency injection and made it so I could use the WebDriver instances in a more flexible way. Learned from this https://youtu.be/vxf1vq_da6E. ","title":"How do I prevent Cucumber from running all @before code blocks even if the test is excluded from Tag setting in TestRunner?","body":"<p>I actually figured this out. I ended up creating a separate hooks class for the @Before/@After and removed them from the stepdefinition files. I then setup a dependency injection and made it so I could use the WebDriver instances in a more flexible way. Learned from this <a href=\"https://youtu.be/vxf1vq_da6E\" rel=\"nofollow noreferrer\">https://youtu.be/vxf1vq_da6E</a>.</p>\n"}],"owner":{"account_id":24635246,"reputation":1,"user_id":18533975,"display_name":"PAlby1827"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648127473,"creation_date":1647896280,"question_id":71564025,"body_markdown":"I&#39;m having an issue where @Before blocks are being run, even if they are excluded from the Tag setting in the TestRunner file.\r\n\r\nSo when I run the testRunner file, it will start running the test I want with no issues, but at the same time, it will load a 2nd WebDriver window for the other test I dont want to run. This other test is only executing the @Before portion.\r\n\r\nI have two cucumber feature files, with two step definition files. The feature files are in the &quot;features&quot; package while the stepdef files are in the &quot;stepDefinition&quot; package. Both stepdef files have an @Before code block that basically does my WebDriver setup and &quot;getUrl&quot; stuff.\r\n\r\nCurrently in my TestRunner file, I have it set to run only one tagged feature, and I tagged it appropriately in the corresponding feature file.\r\n\r\nMy problem is when I try to run my test, it still executes the @Before code in the other stepDef file.\r\n\r\nThe only way I found to prevent this is to put a &quot;not @tagname&quot; on the @Before code I dont want run. This is sort of cumbersome as I would have to do this for every single stepDef file I dont want to run.\r\n\r\nIs there any other way to prevent @Before code from being run in tests you dont want run?","title":"How do I prevent Cucumber from running all @before code blocks even if the test is excluded from Tag setting in TestRunner?","body":"<p>I'm having an issue where @Before blocks are being run, even if they are excluded from the Tag setting in the TestRunner file.</p>\n<p>So when I run the testRunner file, it will start running the test I want with no issues, but at the same time, it will load a 2nd WebDriver window for the other test I dont want to run. This other test is only executing the @Before portion.</p>\n<p>I have two cucumber feature files, with two step definition files. The feature files are in the &quot;features&quot; package while the stepdef files are in the &quot;stepDefinition&quot; package. Both stepdef files have an @Before code block that basically does my WebDriver setup and &quot;getUrl&quot; stuff.</p>\n<p>Currently in my TestRunner file, I have it set to run only one tagged feature, and I tagged it appropriately in the corresponding feature file.</p>\n<p>My problem is when I try to run my test, it still executes the @Before code in the other stepDef file.</p>\n<p>The only way I found to prevent this is to put a &quot;not @tagname&quot; on the @Before code I dont want run. This is sort of cumbersome as I would have to do this for every single stepDef file I dont want to run.</p>\n<p>Is there any other way to prevent @Before code from being run in tests you dont want run?</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1648127876,"post_id":71603091,"comment_id":126549140,"body_markdown":"Somewhere deep inside this wall of text is the error message: _Cannot run program &quot;tools/hash&quot; (in directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart - Android&quot;): CreateProcess error=2, The system cannot find the file specified_ . Are you sure that you have a directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart - Android\\tools&quot; that contains an executable file &quot;hash&quot;?","body":"Somewhere deep inside this wall of text is the error message: <i>Cannot run program &quot;tools/hash&quot; (in directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart - Android&quot;): CreateProcess error=2, The system cannot find the file specified</i> . Are you sure that you have a directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart - Android\\tools&quot; that contains an executable file &quot;hash&quot;?"},{"owner":{"account_id":6393468,"reputation":1159,"user_id":4958766,"accept_rate":50,"display_name":"Ali Ahmed"},"score":0,"creation_date":1648141493,"post_id":71603091,"comment_id":126555281,"body_markdown":"@ThomasKl&#228;ger Yes it contains an executable file &quot;hash&quot;","body":"@ThomasKl&#228;ger Yes it contains an executable file &quot;hash&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1648199856,"post_id":71603091,"comment_id":126569048,"body_markdown":"And this file is actually called &quot;hash&quot;, not &quot;hash.exe&quot; or &quot;hash.bat&quot;? You seem to be using Windows, and the Windows Explorer &quot;helpfully&quot; hides known file extensions like &quot;.bat&quot;, &quot;.exe&quot; etc.","body":"And this file is actually called &quot;hash&quot;, not &quot;hash.exe&quot; or &quot;hash.bat&quot;? You seem to be using Windows, and the Windows Explorer &quot;helpfully&quot; hides known file extensions like &quot;.bat&quot;, &quot;.exe&quot; etc."}],"owner":{"account_id":6393468,"reputation":1159,"user_id":4958766,"accept_rate":50,"display_name":"Ali Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648127297,"creation_date":1648127297,"question_id":71603091,"body_markdown":"I have an executable methodin my build.gradle (app level) file which is:\r\n\r\n    exec {\r\n        // requires JRE\r\n        commandLine &quot;tools/hash&quot;, &quot;--debug&quot;, appId\r\n        workingDir &quot;..&quot;\r\n        standardOutput = hashStdoutDebug\r\n    }\r\n\r\nBut when I declare these lines application is not building successfully, and given the below error:\r\n\r\n&gt; &gt; A problem occurred evaluating project &#39;:app&#39;.\r\n&gt;\r\n&gt; &gt; A problem occurred starting process &#39;command &#39;tools/hash&#39;&#39;\r\n&gt; \r\n&gt; * Try: Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Exception is: org.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:app&#39;. \tat\r\n&gt; org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:325)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:352)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:324)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:325)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:385)\r\n&gt; \tat\r\n&gt; org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:385)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:366)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:324)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:750)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:298)\r\n&gt; \tat\r\n&gt; org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\r\n&gt; \tat\r\n&gt; org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:57)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n&gt; \tat\r\n&gt; org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:97)\r\n&gt; \tat\r\n&gt; org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\r\n&gt; \tat\r\n&gt; org.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:64)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$0(DefaultBuildLifecycleController.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withModelOrThrow$5(DefaultBuildLifecycleController.java:142)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.withModel(DefaultBuildLifecycleController.java:157)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.withModelOrThrow(DefaultBuildLifecycleController.java:140)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:102)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$1(DefaultBuildTreeLifecycleController.java:83)\r\n&gt; \tat\r\n&gt; org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewTaskGraph(DefaultIncludedBuildTaskGraph.java:94)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:82)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$0(DefaultBuildTreeLifecycleController.java:71)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:69)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:47)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:91)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n&gt; \tat\r\n&gt; org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:154)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n&gt; \tat\r\n&gt; org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n&gt; \tat\r\n&gt; org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n&gt; \tat org.gradle.util.internal.Swapper.swap(Swapper.java:38) \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n&gt; \tat\r\n&gt; org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n&gt; \tat\r\n&gt; org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n&gt; \tat\r\n&gt; org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n&gt; Caused by: org.gradle.process.internal.ExecException: A problem\r\n&gt; occurred starting process &#39;command &#39;tools/hash&#39;&#39; \tat\r\n&gt; org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:369)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n&gt; \t... 3 more Caused by: net.rubygrapefruit.platform.NativeException:\r\n&gt; Could not start &#39;tools/hash&#39; \tat\r\n&gt; net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\r\n&gt; \tat\r\n&gt; net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\r\n&gt; \tat\r\n&gt; net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\r\n&gt; \t... 4 more Caused by: java.io.IOException: Cannot run program\r\n&gt; &quot;tools/hash&quot; (in directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart -\r\n&gt; Android&quot;): CreateProcess error=2, The system cannot find the file\r\n&gt; specified \tat\r\n&gt; net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n&gt; \t... 8 more Caused by: java.io.IOException: CreateProcess error=2, The\r\n&gt; system cannot find the file specified \t... 9 more\r\n\r\n\r\nwhen I comment out these lines application is building successfully,\r\n\r\nMy JRE is installed successfully on my PC as well as I can access Java from the terminal.\r\n\r\nCan you please check and help me out?\r\n","title":"Why commandLine &quot;tools/hash&quot;, &quot;--debug&quot;, appId is not working?","body":"<p>I have an executable methodin my build.gradle (app level) file which is:</p>\n<pre><code>exec {\n    // requires JRE\n    commandLine &quot;tools/hash&quot;, &quot;--debug&quot;, appId\n    workingDir &quot;..&quot;\n    standardOutput = hashStdoutDebug\n}\n</code></pre>\n<p>But when I declare these lines application is not building successfully, and given the below error:</p>\n<blockquote>\n<blockquote>\n<p>A problem occurred evaluating project ':app'.</p>\n</blockquote>\n<blockquote>\n<p>A problem occurred starting process 'command 'tools/hash''</p>\n</blockquote>\n<ul>\n<li><p>Try: Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Exception is: org.gradle.api.GradleScriptException: A problem occurred evaluating project ':app'.   at\norg.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\nat\norg.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\nat\norg.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\nat\norg.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\nat\norg.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\nat\norg.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\nat\norg.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:325)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:352)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:324)\nat\norg.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\nat\norg.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\nat\norg.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\nat\norg.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:325)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:385)\nat\norg.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:385)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:366)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:324)\nat\norg.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\nat\norg.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:750)\nat\norg.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:298)\nat\norg.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\nat\norg.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:57)\nat\norg.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\nat\norg.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\nat\norg.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\nat\norg.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:97)\nat\norg.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\nat\norg.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:64)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$0(DefaultBuildLifecycleController.java:104)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.lambda$withModelOrThrow$5(DefaultBuildLifecycleController.java:142)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.withModel(DefaultBuildLifecycleController.java:157)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.withModelOrThrow(DefaultBuildLifecycleController.java:140)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:102)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$1(DefaultBuildTreeLifecycleController.java:83)\nat\norg.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewTaskGraph(DefaultIncludedBuildTaskGraph.java:94)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:82)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$0(DefaultBuildTreeLifecycleController.java:71)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:104)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:69)\nat\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:56)\nat\norg.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\nat\norg.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat\norg.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:47)\nat\norg.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\nat\norg.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:91)\nat\norg.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\nat\norg.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\nat\norg.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:154)\nat\norg.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\nat\norg.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\nat\norg.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\nat\norg.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\nat\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\nat\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\nat\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\nat\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\nat\norg.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\nat\norg.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\nat\norg.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\nat\norg.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\nat\norg.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\nat\norg.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\nat\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\nat\norg.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\nat\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\nat\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\nat\norg.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\nat\norg.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\nat\norg.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\nat\norg.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\nat\norg.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\nat\norg.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\nat\norg.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\nat\norg.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\nat\norg.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\nat\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\nat\norg.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\nat org.gradle.util.internal.Swapper.swap(Swapper.java:38)   at\norg.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\nat\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\nat\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\nat\norg.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\nat\norg.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat\norg.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nat\norg.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.process.internal.ExecException: A problem\noccurred starting process 'command 'tools/hash''  at\norg.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\nat\norg.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\nat\norg.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:369)\nat\norg.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\nat\norg.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n... 3 more Caused by: net.rubygrapefruit.platform.NativeException:\nCould not start 'tools/hash'  at\nnet.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\nat\nnet.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\nat\nnet.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\nat\norg.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\nat\norg.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\n... 4 more Caused by: java.io.IOException: Cannot run program\n&quot;tools/hash&quot; (in directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart -\nAndroid&quot;): CreateProcess error=2, The system cannot find the file\nspecified     at\nnet.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\n... 8 more Caused by: java.io.IOException: CreateProcess error=2, The\nsystem cannot find the file specified     ... 9 more</p>\n</li>\n</ul>\n</blockquote>\n<p>when I comment out these lines application is building successfully,</p>\n<p>My JRE is installed successfully on my PC as well as I can access Java from the terminal.</p>\n<p>Can you please check and help me out?</p>\n"},{"tags":["java","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3246646,"reputation":258,"user_id":2738014,"display_name":"Nabeel Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536316453,"creation_date":1536055332,"answer_id":52163729,"question_id":52152337,"body_markdown":"I solve this issue by adding the these line&#39;s\r\n\r\n    files.stream().forEach(file -&gt; {\r\n       System.out.println(file.getOriginalFilename());\r\n       Resource resouceFile = new FileSystemResource(file.getBytes(), file.getOriginalFilename());\r\n       body.add(&quot;files&quot;,  resouceFile);\r\n    });\r\n\r\n\r\n    public static class FileSystemResource extends ByteArrayResource {\r\n\r\n        private String fileName;\r\n\r\n        public FileSystemResource(byte[] byteArray , String filename) {\r\n            super(byteArray);\r\n            this.fileName = filename;\r\n        }\r\n\r\n        public String getFilename() { return fileName; }\r\n        public void setFilename(String fileName) { this.fileName= fileName; }\r\n\r\n    }\r\n\r\n\r\n","title":"Rest-Api Call Other Rest-Api In Spring boot Not Working for (Multipart-File)","body":"<p>I solve this issue by adding the these line's</p>\n\n<pre><code>files.stream().forEach(file -&gt; {\n   System.out.println(file.getOriginalFilename());\n   Resource resouceFile = new FileSystemResource(file.getBytes(), file.getOriginalFilename());\n   body.add(\"files\",  resouceFile);\n});\n\n\npublic static class FileSystemResource extends ByteArrayResource {\n\n    private String fileName;\n\n    public FileSystemResource(byte[] byteArray , String filename) {\n        super(byteArray);\n        this.fileName = filename;\n    }\n\n    public String getFilename() { return fileName; }\n    public void setFilename(String fileName) { this.fileName= fileName; }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13836808,"reputation":165,"user_id":9988140,"display_name":"Sagar Shetty"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1541482184,"creation_date":1541482184,"answer_id":53166228,"question_id":52152337,"body_markdown":"I was facing the same issue , but using the below code i fixed it.\r\n\r\n     \r\n\t@RequestMapping(&quot;/upload&quot;)\r\n\tpublic void postData(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n          String url = &quot;https://localhost:8080/upload&quot;;\r\n\t\t MultiValueMap&lt;String, Object&gt; bodyMap = new LinkedMultiValueMap&lt;&gt;();\r\n\t      bodyMap.add(&quot;file&quot;, new FileSystemResource(convert(file)));\r\n\t      HttpHeaders headers = new HttpHeaders();\r\n\t      headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\t      HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(bodyMap, headers);\r\n\t      RestTemplate restTemplate = new RestTemplate();\r\n\t      ResponseEntity&lt;String&gt; response = restTemplate.exchange(url,\r\n\t              HttpMethod.POST, requestEntity, String.class);\r\n        }\r\n      public static File convert(MultipartFile file)\r\n\t  {    \r\n\t    File convFile = new File(file.getOriginalFilename());\r\n\t    try {\r\n\t\t\tconvFile.createNewFile();\r\n\t\t\t  FileOutputStream fos = new FileOutputStream(convFile); \r\n\t\t\t    fos.write(file.getBytes());\r\n\t\t\t    fos.close(); \r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} \r\n\t  \r\n\t    return convFile;\r\n\t }","title":"Rest-Api Call Other Rest-Api In Spring boot Not Working for (Multipart-File)","body":"<p>I was facing the same issue , but using the below code i fixed it.</p>\n\n<pre><code>@RequestMapping(\"/upload\")\npublic void postData(@RequestParam(\"file\") MultipartFile file) throws IOException {\n      String url = \"https://localhost:8080/upload\";\n     MultiValueMap&lt;String, Object&gt; bodyMap = new LinkedMultiValueMap&lt;&gt;();\n      bodyMap.add(\"file\", new FileSystemResource(convert(file)));\n      HttpHeaders headers = new HttpHeaders();\n      headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n      HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(bodyMap, headers);\n      RestTemplate restTemplate = new RestTemplate();\n      ResponseEntity&lt;String&gt; response = restTemplate.exchange(url,\n              HttpMethod.POST, requestEntity, String.class);\n    }\n  public static File convert(MultipartFile file)\n  {    \n    File convFile = new File(file.getOriginalFilename());\n    try {\n        convFile.createNewFile();\n          FileOutputStream fos = new FileOutputStream(convFile); \n            fos.write(file.getBytes());\n            fos.close(); \n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } \n\n    return convFile;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11498901,"reputation":144,"user_id":8427285,"display_name":"Adil Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648127173,"creation_date":1648127173,"answer_id":71603065,"question_id":52152337,"body_markdown":" Make use of multipartFile.getResource() - neat and simple solution\r\n\r\n\r\n    public void exFunction(MultipartFile multipartFile) throws IOException {\r\n\r\n    Resource multipartFile = multipartFile.getResource();\r\n\r\n    LinkedMultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;&gt;();\r\n    parts.add(&quot;file&quot;, multipartFile);\r\n\r\n    HttpHeaders httpHeaders = new HttpHeaders();\r\n    httpHeaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    HttpEntity&lt;LinkedMultiValueMap&lt;String, Object&gt;&gt; httpEntity = new \r\n    HttpEntity&lt;&gt;(parts, httpHeaders);\r\n\r\n    restTemplate.postForEntity(&quot;my/url&quot;, httpEntity, SommeClass.class);\r\n}","title":"Rest-Api Call Other Rest-Api In Spring boot Not Working for (Multipart-File)","body":"<p>Make use of multipartFile.getResource() - neat and simple solution</p>\n<pre><code>public void exFunction(MultipartFile multipartFile) throws IOException {\n\nResource multipartFile = multipartFile.getResource();\n\nLinkedMultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;&gt;();\nparts.add(&quot;file&quot;, multipartFile);\n\nHttpHeaders httpHeaders = new HttpHeaders();\nhttpHeaders.setContentType(MediaType.MULTIPART_FORM_DATA);\n\nHttpEntity&lt;LinkedMultiValueMap&lt;String, Object&gt;&gt; httpEntity = new \nHttpEntity&lt;&gt;(parts, httpHeaders);\n\nrestTemplate.postForEntity(&quot;my/url&quot;, httpEntity, SommeClass.class);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3246646,"reputation":258,"user_id":2738014,"display_name":"Nabeel Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9673,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1648127173,"creation_date":1535987456,"question_id":52152337,"body_markdown":"&lt;br&gt;\r\nI need your help. I have 2 Api in Same Class both use for Upload the file. I&#39;m trying to upload the file from 1 api to other api by using of `RestTemplate` but it&#39;s show error like.\r\n\r\nError :- `MessageType definition error: [simple type, class java.io.FileDescriptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;]-&gt;java.io.FileInputStream[&quot;fd&quot;])\r\n`\r\nFile Store Api Not Calling through `RestTemplate` due to above error.\r\n  \r\n\r\nAPI-1:- File Store Api\r\n   \r\n    @RequestMapping(value = PathConst.UPLOAD_MULTIPART_FILE, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; uploadMultipleFiles(@RequestPart(&quot;files&quot;) @NotNull List&lt;MultipartFile&gt; files) {\r\n\t   try {\r\n\t\t   this.apiResponse = new APIResponse();\r\n\r\n\t\t// Note :- &#39;here this upload file dto help to collect the non-support file info&#39;\r\n\t\tList&lt;UploadFileDto&gt; wrongTypeFile = files.stream().\r\n\t\t\t\tfilter(file -&gt; {\r\n\t\t\t\t\treturn !isSupportedContentType(file.getContentType());\r\n\t\t\t\t}).map(file -&gt; {\r\n\t\t\t\t\tUploadFileDto wrongTypeFileDto = new UploadFileDto();\r\n\t\t\t\t\twrongTypeFileDto.setSize(String.valueOf(file.getSize()));\r\n\t\t\t\t\twrongTypeFileDto.setFileName(file.getOriginalFilename());\r\n\t\t\t\t\twrongTypeFileDto.setContentType(file.getContentType());\r\n\t\t\t\t\treturn wrongTypeFileDto;\r\n\t\t\t\t}).collect(Collectors.toList());\r\n\r\n\t\tif(!wrongTypeFile.isEmpty()) { throw new FileStorageException(wrongTypeFile.toString()); }\r\n\r\n\t\tthis.apiResponse.setReturnCode(HttpStatus.OK.getReasonPhrase());\r\n\t\tthis.apiResponse.setMessage(&quot;File Store Success full&quot;);\r\n\t\tthis.apiResponse.setEntity(\r\n\t\t\tfiles.stream().map(file -&gt; {\r\n\t\t\t\tString fileName = this.fileStoreManager.storeFile(file);\r\n\t\t\t\tString fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.DOWNLOAD_FILE).path(fileName).toUriString();\r\n\r\n\t\t\t\tUploadFileDto uploadFile = new UploadFileDto();\r\n\t\t\t\tuploadFile.setFileName(fileName);\r\n\t\t\t\tuploadFile.setUrl(fileDownloadUri);\r\n\t\t\t\tuploadFile.setSize(String.valueOf(file.getSize()));\r\n\r\n\t\t\t\treturn uploadFile;\r\n\t\t\t}).collect(Collectors.toList()));\r\n\r\n\t}catch (Exception e) {\r\n\t\tSystem.out.println(&quot;Message&quot; + e.getMessage());\r\n\r\n\t\tthis.errorResponse = new ExceptionResponse();\r\n\t\tthis.errorResponse.setErrorCode(HttpStatus.BAD_REQUEST.getReasonPhrase());\r\n\t\tthis.errorResponse.setErrorMessage(&quot;Sorry! Filename contains invalid Type&#39;s,&quot;);\r\n\t\tthis.errorResponse.setErrors(Collections.singletonList(e.getMessage()));\r\n\t\treturn new ResponseEntity&lt;ExceptionResponse&gt;(this.errorResponse, HttpStatus.BAD_REQUEST);\r\n\r\n\t}\r\n\r\n\treturn new ResponseEntity&lt;APIResponse&gt;(this.apiResponse, HttpStatus.OK);\r\n}\r\n\r\nAPI-2:- Product Store Api With List Of Image File\r\n\r\n        @RequestMapping(value = &quot;/save/product&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;?&gt; saveProduct(@Valid @RequestPart(&quot;request&quot;) ProductDto productDto, @RequestPart(&quot;files&quot;) @NotNull List&lt;MultipartFile&gt; files) {\r\n            try {\r\n                this.apiResponse = new APIResponse();\r\n                this.restTemplate = new RestTemplate();\r\n    \r\n                if(!files.isEmpty()) { new NullPointerException(&quot;List of File Empty&quot;); }\r\n                // call-api of File controller\r\n                try {\r\n                    // file&#39;s\r\n    \r\n                    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n                    files.stream().forEach(file -&gt; { body.add(&quot;files&quot;, file); });\r\n    \r\n                    // header-type\r\n                    HttpHeaders headers = new HttpHeaders();\r\n                    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n                    // request real form\r\n                    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\r\n                    // request-url\r\n                    this.RESOURCE_URL = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.UPLOAD_MULTIPART_FILE).toUriString();\r\n                    // response-result\r\n                    System.out.println(this.restTemplate.exchange(this.RESOURCE_URL, HttpMethod.POST, request, Object.class).getStatusCode());\r\n    //                if(!response.getStatusCode().equals(200)) {\r\n    //                    // error will send\r\n    //                }\r\n    \r\n                }catch (NullPointerException e) {\r\n                    throw new NullPointerException(&quot;Product Image&#39;s Not Save Scuessfully. &quot; + e);\r\n                }\r\n    \r\n            }catch (Exception e) {\r\n                System.out.println(&quot;Message&quot; + e.getMessage());\r\n                this.errorResponse = new ExceptionResponse();\r\n                this.errorResponse.setErrorCode(HttpStatus.NO_CONTENT.getReasonPhrase());\r\n                this.errorResponse.setErrorMessage(e.getMessage());\r\n                return new ResponseEntity&lt;ExceptionResponse&gt;(this.errorResponse, HttpStatus.BAD_REQUEST);\r\n            }\r\n            return new ResponseEntity&lt;APIResponse&gt;(this.apiResponse, HttpStatus.OK);\r\n        }\r\n\r\nMain Code :-\r\n\r\n\ttry {\r\n\t\t// file&#39;s\r\n\r\n\t\tMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n\t\tfiles.stream().forEach(file -&gt; { body.add(&quot;files&quot;, file); });\r\n\r\n\t\t// header-type\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\t\t// request real form\r\n\t\tHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\r\n\t\t// request-url\r\n\t\tthis.RESOURCE_URL = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.UPLOAD_MULTIPART_FILE).toUriString();\r\n\t\t// response-result\r\n\t\tSystem.out.println(this.restTemplate.exchange(this.RESOURCE_URL, HttpMethod.POST, request, Object.class).getStatusCode());\r\n             //if(!response.getStatusCode().equals(200)) {\r\n             //   // error will send\r\n             //}\r\n\r\n\t}catch (NullPointerException e) {\r\n\t\tthrow new NullPointerException(&quot;Product Image&#39;s Not Save Scuessfully. &quot; + e);\r\n\t}","title":"Rest-Api Call Other Rest-Api In Spring boot Not Working for (Multipart-File)","body":"<p><br>\nI need your help. I have 2 Api in Same Class both use for Upload the file. I'm trying to upload the file from 1 api to other api by using of <code>RestTemplate</code> but it's show error like.</p>\n\n<p>Error :- <code>MessageType definition error: [simple type, class java.io.FileDescriptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[\"inputStream\"]-&gt;java.io.FileInputStream[\"fd\"])\n</code>\nFile Store Api Not Calling through <code>RestTemplate</code> due to above error.</p>\n\n<p>API-1:- File Store Api</p>\n\n<pre><code>@RequestMapping(value = PathConst.UPLOAD_MULTIPART_FILE, method = RequestMethod.POST)\npublic ResponseEntity&lt;?&gt; uploadMultipleFiles(@RequestPart(\"files\") @NotNull List&lt;MultipartFile&gt; files) {\n   try {\n       this.apiResponse = new APIResponse();\n\n    // Note :- 'here this upload file dto help to collect the non-support file info'\n    List&lt;UploadFileDto&gt; wrongTypeFile = files.stream().\n            filter(file -&gt; {\n                return !isSupportedContentType(file.getContentType());\n            }).map(file -&gt; {\n                UploadFileDto wrongTypeFileDto = new UploadFileDto();\n                wrongTypeFileDto.setSize(String.valueOf(file.getSize()));\n                wrongTypeFileDto.setFileName(file.getOriginalFilename());\n                wrongTypeFileDto.setContentType(file.getContentType());\n                return wrongTypeFileDto;\n            }).collect(Collectors.toList());\n\n    if(!wrongTypeFile.isEmpty()) { throw new FileStorageException(wrongTypeFile.toString()); }\n\n    this.apiResponse.setReturnCode(HttpStatus.OK.getReasonPhrase());\n    this.apiResponse.setMessage(\"File Store Success full\");\n    this.apiResponse.setEntity(\n        files.stream().map(file -&gt; {\n            String fileName = this.fileStoreManager.storeFile(file);\n            String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.DOWNLOAD_FILE).path(fileName).toUriString();\n\n            UploadFileDto uploadFile = new UploadFileDto();\n            uploadFile.setFileName(fileName);\n            uploadFile.setUrl(fileDownloadUri);\n            uploadFile.setSize(String.valueOf(file.getSize()));\n\n            return uploadFile;\n        }).collect(Collectors.toList()));\n\n}catch (Exception e) {\n    System.out.println(\"Message\" + e.getMessage());\n\n    this.errorResponse = new ExceptionResponse();\n    this.errorResponse.setErrorCode(HttpStatus.BAD_REQUEST.getReasonPhrase());\n    this.errorResponse.setErrorMessage(\"Sorry! Filename contains invalid Type's,\");\n    this.errorResponse.setErrors(Collections.singletonList(e.getMessage()));\n    return new ResponseEntity&lt;ExceptionResponse&gt;(this.errorResponse, HttpStatus.BAD_REQUEST);\n\n}\n\nreturn new ResponseEntity&lt;APIResponse&gt;(this.apiResponse, HttpStatus.OK);\n</code></pre>\n\n<p>}</p>\n\n<p>API-2:- Product Store Api With List Of Image File</p>\n\n<pre><code>    @RequestMapping(value = \"/save/product\", method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; saveProduct(@Valid @RequestPart(\"request\") ProductDto productDto, @RequestPart(\"files\") @NotNull List&lt;MultipartFile&gt; files) {\n        try {\n            this.apiResponse = new APIResponse();\n            this.restTemplate = new RestTemplate();\n\n            if(!files.isEmpty()) { new NullPointerException(\"List of File Empty\"); }\n            // call-api of File controller\n            try {\n                // file's\n\n                MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n                files.stream().forEach(file -&gt; { body.add(\"files\", file); });\n\n                // header-type\n                HttpHeaders headers = new HttpHeaders();\n                headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n                // request real form\n                HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\n                // request-url\n                this.RESOURCE_URL = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.UPLOAD_MULTIPART_FILE).toUriString();\n                // response-result\n                System.out.println(this.restTemplate.exchange(this.RESOURCE_URL, HttpMethod.POST, request, Object.class).getStatusCode());\n//                if(!response.getStatusCode().equals(200)) {\n//                    // error will send\n//                }\n\n            }catch (NullPointerException e) {\n                throw new NullPointerException(\"Product Image's Not Save Scuessfully. \" + e);\n            }\n\n        }catch (Exception e) {\n            System.out.println(\"Message\" + e.getMessage());\n            this.errorResponse = new ExceptionResponse();\n            this.errorResponse.setErrorCode(HttpStatus.NO_CONTENT.getReasonPhrase());\n            this.errorResponse.setErrorMessage(e.getMessage());\n            return new ResponseEntity&lt;ExceptionResponse&gt;(this.errorResponse, HttpStatus.BAD_REQUEST);\n        }\n        return new ResponseEntity&lt;APIResponse&gt;(this.apiResponse, HttpStatus.OK);\n    }\n</code></pre>\n\n<p>Main Code :-</p>\n\n<pre><code>try {\n    // file's\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    files.stream().forEach(file -&gt; { body.add(\"files\", file); });\n\n    // header-type\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    // request real form\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\n    // request-url\n    this.RESOURCE_URL = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.UPLOAD_MULTIPART_FILE).toUriString();\n    // response-result\n    System.out.println(this.restTemplate.exchange(this.RESOURCE_URL, HttpMethod.POST, request, Object.class).getStatusCode());\n         //if(!response.getStatusCode().equals(200)) {\n         //   // error will send\n         //}\n\n}catch (NullPointerException e) {\n    throw new NullPointerException(\"Product Image's Not Save Scuessfully. \" + e);\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1953040,"reputation":5716,"user_id":1756721,"accept_rate":67,"display_name":"Marcin Kunert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646684172,"creation_date":1646684172,"answer_id":71386780,"question_id":71386631,"body_markdown":"&gt; What is the best way for fetching the relations? Is projection faster then the first method mentioned?\r\n\r\nDepends on what is your use case and expectations. Sometimes it will be better to lazy load StudyGroup, and sometimes it&#39;s better to avoid that and load all the data at once.\r\n\r\nI assume you want to fetch the data at once. Then I would suggest the 3rd approach using simple JPQL custom query:\r\n\r\n    @Query(&quot;FROM Student s FETCH JOIN s.studyGroups&quot;)\r\n    Set&lt;Student&gt; findAllFetchStudyGroups();\r\n\r\n(may contain syntax errors, I didn&#39;t check it)\r\n\r\nBtw.\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    private Set&lt;StudyGroup&gt; studyGroups;\r\n\r\nAs far as I know if using Spring Data repositories, the `FetchType` is ignored.\r\n\r\n","title":"Spring boot entity relationship fetching","body":"<blockquote>\n<p>What is the best way for fetching the relations? Is projection faster then the first method mentioned?</p>\n</blockquote>\n<p>Depends on what is your use case and expectations. Sometimes it will be better to lazy load StudyGroup, and sometimes it's better to avoid that and load all the data at once.</p>\n<p>I assume you want to fetch the data at once. Then I would suggest the 3rd approach using simple JPQL custom query:</p>\n<pre><code>@Query(&quot;FROM Student s FETCH JOIN s.studyGroups&quot;)\nSet&lt;Student&gt; findAllFetchStudyGroups();\n</code></pre>\n<p>(may contain syntax errors, I didn't check it)</p>\n<p>Btw.</p>\n<pre><code>@ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\nprivate Set&lt;StudyGroup&gt; studyGroups;\n</code></pre>\n<p>As far as I know if using Spring Data repositories, the <code>FetchType</code> is ignored.</p>\n"},{"tags":[],"owner":{"account_id":2876259,"reputation":470,"user_id":2468241,"accept_rate":75,"display_name":"XII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648127134,"creation_date":1648127134,"answer_id":71603060,"question_id":71386631,"body_markdown":"My experience showed me over the years that :\r\n\r\n1) make all relations between objects lazy , it&#39;s the most flexible approach and keeps the performance optimal.\r\n2) create as many custom queries as needed with join fetches to fetch only what data you need when you need them.\r\n\r\nThere are some cool libraries that offer even better functionality like this one https://github.com/Blazebit/blaze-persistence\r\n\r\nIt offers some cool features that jpa / hibernate do not offer by them selves.","title":"Spring boot entity relationship fetching","body":"<p>My experience showed me over the years that :</p>\n<ol>\n<li>make all relations between objects lazy , it's the most flexible approach and keeps the performance optimal.</li>\n<li>create as many custom queries as needed with join fetches to fetch only what data you need when you need them.</li>\n</ol>\n<p>There are some cool libraries that offer even better functionality like this one <a href=\"https://github.com/Blazebit/blaze-persistence\" rel=\"nofollow noreferrer\">https://github.com/Blazebit/blaze-persistence</a></p>\n<p>It offers some cool features that jpa / hibernate do not offer by them selves.</p>\n"}],"owner":{"account_id":24356269,"reputation":96,"user_id":18291382,"display_name":"Fambo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648127134,"creation_date":1646683295,"question_id":71386631,"body_markdown":"I&#39;m wondering about what is the best ways to fetch entity relations.\r\n\r\nAssume we have these these entities:\r\n\r\n    public class Student {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Size(min = 5, max = 64)\r\n    @Column(unique=true)\r\n    private String nickname;\r\n\r\n    @NotBlank\r\n    @Email\r\n    @Column(unique=true)\r\n    private String email;\r\n\r\n    @NotBlank\r\n    @Size(min = 8, max = 64)\r\n    private String password;\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    private Set&lt;StudyGroup&gt; studyGroups;\r\n\r\n    }\r\n\r\nAnd\r\n\r\n    public class StudyGroup {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    private Student creator;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\r\n    private Set&lt;Notification&gt; notifications;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    private Set&lt;Student&gt; students;\r\n\r\n    }\r\n\r\nI know of three different ways to fetch the relations.\r\n\r\n1. Fetch the study groups from the student by fetching the student and the using student.getStudyGroups();\r\n\r\n2. Using projection.\r\nSomething like: \r\n\r\n        ReturnStudyGroups findStudentById(Long id);\r\n\r\n        interface ReturnStudyGroups {\r\n            Set&lt;StudyGroup&gt; getStudyGroups();\r\n        }\r\n\r\n3. In the study group repository, making a custom query that searches for study groups that have the student in the students field.\r\n\r\nWhat is the best way for fetching the relations? Is projection faster then the first method mentioned?","title":"Spring boot entity relationship fetching","body":"<p>I'm wondering about what is the best ways to fetch entity relations.</p>\n<p>Assume we have these these entities:</p>\n<pre><code>public class Student {\n\n@Id\n@GeneratedValue\nprivate Long id;\n\n@NotBlank\n@Size(min = 5, max = 64)\n@Column(unique=true)\nprivate String nickname;\n\n@NotBlank\n@Email\n@Column(unique=true)\nprivate String email;\n\n@NotBlank\n@Size(min = 8, max = 64)\nprivate String password;\n\n@ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\nprivate Set&lt;StudyGroup&gt; studyGroups;\n\n}\n</code></pre>\n<p>And</p>\n<pre><code>public class StudyGroup {\n\n@Id\n@GeneratedValue\nprivate Long id;\n\n@NotBlank\nprivate String name;\n\n@ManyToOne\nprivate Student creator;\n\n@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\nprivate Set&lt;Notification&gt; notifications;\n\n@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\nprivate Set&lt;Student&gt; students;\n\n}\n</code></pre>\n<p>I know of three different ways to fetch the relations.</p>\n<ol>\n<li><p>Fetch the study groups from the student by fetching the student and the using student.getStudyGroups();</p>\n</li>\n<li><p>Using projection.\nSomething like:</p>\n<pre><code> ReturnStudyGroups findStudentById(Long id);\n\n interface ReturnStudyGroups {\n     Set&lt;StudyGroup&gt; getStudyGroups();\n }\n</code></pre>\n</li>\n<li><p>In the study group repository, making a custom query that searches for study groups that have the student in the students field.</p>\n</li>\n</ol>\n<p>What is the best way for fetching the relations? Is projection faster then the first method mentioned?</p>\n"},{"tags":["java","drools","optaplanner"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1648126551,"post_id":71602788,"comment_id":126548570,"body_markdown":"I know nothing of optaplanner, but are you sure that it *knows* when a given solution is optimal?","body":"I know nothing of optaplanner, but are you sure that it <i>knows</i> when a given solution is optimal?"},{"owner":{"account_id":20907532,"reputation":31,"user_id":15359122,"display_name":"Rukawaa11"},"score":0,"creation_date":1648172907,"post_id":71602788,"comment_id":126563542,"body_markdown":"I can observe the change in the score, and if the score does not change within the time frame, I understand that the best solution should be reached.","body":"I can observe the change in the score, and if the score does not change within the time frame, I understand that the best solution should be reached."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1648201167,"post_id":71602788,"comment_id":126569531,"body_markdown":"that just means that the score is no longer improving. In general that doesn&#39;t *necessarily* that the best solution is found. The optimizer might be stuck in a local optimum and will never find the best solution.","body":"that just means that the score is no longer improving. In general that doesn&#39;t <i>necessarily</i> that the best solution is found. The optimizer might be stuck in a local optimum and will never find the best solution."}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225; Petrovick&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648126857,"creation_date":1648126857,"answer_id":71602990,"question_id":71602788,"body_markdown":"OptaPlanner does not know what the best solution is. If you know what the best solution is, you can have it [terminate when that solution is reached][1].\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#bestScoreTermination","title":"Using the Optaplanner algorithm to solve, how can I set the solution to automatically stop when the optimal solution is found?","body":"<p>OptaPlanner does not know what the best solution is. If you know what the best solution is, you can have it <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#bestScoreTermination\" rel=\"nofollow noreferrer\">terminate when that solution is reached</a>.</p>\n"},{"tags":[],"owner":{"account_id":1868145,"reputation":2268,"user_id":1691152,"display_name":"yurloc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648127112,"creation_date":1648127112,"answer_id":71603052,"question_id":71602788,"body_markdown":"TLDR: if you _know_ what the optimal solution to your problem is, then you don&#39;t need OptaPlanner :)\r\n\r\nPresuming you really have an optimization problem, then you don&#39;t know how an optimal solution looks like, what its score is, neither how to find it. You only have a scoring function that is used to quickly compare quality of different solutions.\r\n\r\nWith a good local search algorithm configuration, OptaPlanner will keep providing you with better and better solutions with varying frequency. And *you will never know* if the last solution OptaPlanner has found is the optimal one.\r\n\r\nYou have a couple of basic options to tell OptaPlanner when to stop solving:\r\n\r\n1. You have a limited time to spend optimizing the problem. Then use [time based termination][1].\r\n\r\n2. You have a rough idea what the score of a &quot;good enough&quot; solution should be. Then use [best score termination][2].\r\n\r\n3. You have a vague idea of the time available for solving. Then you can think: if OptaPlanner is unable to improve the solution for say 1 hour, then stop. Use [unimproved time spent termination][3] for that.\r\n\r\n4. Finally, you can [terminate solving asynchronously][4] based on some external event (user&#39;s decision, etc.).\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#timeMillisSpentTermination\r\n  [2]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#bestScoreTermination\r\n  [3]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#unimprovedTimeMillisSpentTermination\r\n  [4]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#asynchronousTermination","title":"Using the Optaplanner algorithm to solve, how can I set the solution to automatically stop when the optimal solution is found?","body":"<p>TLDR: if you <em>know</em> what the optimal solution to your problem is, then you don't need OptaPlanner :)</p>\n<p>Presuming you really have an optimization problem, then you don't know how an optimal solution looks like, what its score is, neither how to find it. You only have a scoring function that is used to quickly compare quality of different solutions.</p>\n<p>With a good local search algorithm configuration, OptaPlanner will keep providing you with better and better solutions with varying frequency. And <em>you will never know</em> if the last solution OptaPlanner has found is the optimal one.</p>\n<p>You have a couple of basic options to tell OptaPlanner when to stop solving:</p>\n<ol>\n<li><p>You have a limited time to spend optimizing the problem. Then use <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#timeMillisSpentTermination\" rel=\"nofollow noreferrer\">time based termination</a>.</p>\n</li>\n<li><p>You have a rough idea what the score of a &quot;good enough&quot; solution should be. Then use <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#bestScoreTermination\" rel=\"nofollow noreferrer\">best score termination</a>.</p>\n</li>\n<li><p>You have a vague idea of the time available for solving. Then you can think: if OptaPlanner is unable to improve the solution for say 1 hour, then stop. Use <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#unimprovedTimeMillisSpentTermination\" rel=\"nofollow noreferrer\">unimproved time spent termination</a> for that.</p>\n</li>\n<li><p>Finally, you can <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#asynchronousTermination\" rel=\"nofollow noreferrer\">terminate solving asynchronously</a> based on some external event (user's decision, etc.).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20907532,"reputation":31,"user_id":15359122,"display_name":"Rukawaa11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648127112,"creation_date":1648125944,"question_id":71602788,"body_markdown":"Using Optaplanner to solve the problem, I configured the first fit algorithm. At present, I can only set a fixed time for the solution. Even if the optimal solution has been found in advance, I need to continue to wait for the end of the solution. How can I set the solution to stop automatically when the optimal solution is found?","title":"Using the Optaplanner algorithm to solve, how can I set the solution to automatically stop when the optimal solution is found?","body":"<p>Using Optaplanner to solve the problem, I configured the first fit algorithm. At present, I can only set a fixed time for the solution. Even if the optimal solution has been found in advance, I need to continue to wait for the end of the solution. How can I set the solution to stop automatically when the optimal solution is found?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1648040228,"post_id":71581492,"comment_id":126522536,"body_markdown":"Since you tagged [tag:spring-kafka], have you looked here: https://docs.spring.io/spring-kafka/docs/current/reference/html/#micrometer-native - metrics (including lags, etc) are maintained by Micrometer which can be consumed by graphana etc.","body":"Since you tagged <a href=\"https://stackoverflow.com/questions/tagged/spring-kafka\">spring-kafka</a>, have you looked here: <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#micrometer-native\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/reference/html/&hellip;</a> - metrics (including lags, etc) are maintained by Micrometer which can be consumed by graphana etc."},{"owner":{"account_id":7036011,"reputation":23,"user_id":5390096,"display_name":"Anup"},"score":0,"creation_date":1648084407,"post_id":71581492,"comment_id":126537517,"body_markdown":"thanks @GaryRussell I am using ConcurrentKafkaListenerContainerFactory (spring-kafka 2.2.7.RELEASE) and do not see an option to add the listeners.","body":"thanks @GaryRussell I am using ConcurrentKafkaListenerContainerFactory (spring-kafka 2.2.7.RELEASE) and do not see an option to add the listeners."}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648007987,"creation_date":1648007987,"answer_id":71581660,"question_id":71581492,"body_markdown":"**Grafana** \r\n\r\nThe following Grafana Dashboards are usefulfor proper Kafka monitoring\r\n\r\n- https://grafana.com/grafana/dashboards/7589 \r\n- https://grafana.com/grafana/dashboards/721 \r\n\r\nYou can follow this [blog][1] for set up\r\n\r\n**Strimzi**\r\n\r\nIf you provision your Kafka cluster with [Strimzi][2], it will automatically provide great dashboards. \r\n\r\n\r\n**Datadog**\r\n\r\nYou can also use the [datadog kafka dashboard][3] for in depth monitoring of kafka cluster\r\n\r\n\r\n  [1]: http://www.liferaysavvy.com/2021/07/kafka-cluster-monitoring-with.html\r\n  [2]: https://strimzi.io/\r\n  [3]: https://www.datadoghq.com/dashboards/kafka-dashboard/","title":"Kafka producer and consumer motrics/monitoring","body":"<p><strong>Grafana</strong></p>\n<p>The following Grafana Dashboards are usefulfor proper Kafka monitoring</p>\n<ul>\n<li><a href=\"https://grafana.com/grafana/dashboards/7589\" rel=\"nofollow noreferrer\">https://grafana.com/grafana/dashboards/7589</a></li>\n<li><a href=\"https://grafana.com/grafana/dashboards/721\" rel=\"nofollow noreferrer\">https://grafana.com/grafana/dashboards/721</a></li>\n</ul>\n<p>You can follow this <a href=\"http://www.liferaysavvy.com/2021/07/kafka-cluster-monitoring-with.html\" rel=\"nofollow noreferrer\">blog</a> for set up</p>\n<p><strong>Strimzi</strong></p>\n<p>If you provision your Kafka cluster with <a href=\"https://strimzi.io/\" rel=\"nofollow noreferrer\">Strimzi</a>, it will automatically provide great dashboards.</p>\n<p><strong>Datadog</strong></p>\n<p>You can also use the <a href=\"https://www.datadoghq.com/dashboards/kafka-dashboard/\" rel=\"nofollow noreferrer\">datadog kafka dashboard</a> for in depth monitoring of kafka cluster</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648127090,"creation_date":1648127090,"answer_id":71603047,"question_id":71581492,"body_markdown":"&gt;I am using ConcurrentKafkaListenerContainerFactory (spring-kafka 2.2.7.RELEASE)\r\n\r\n2.2.x has been out of support for several years...\r\n\r\nhttps://spring.io/projects/spring-kafka#support\r\n\r\nThe micrometer listeners were added in 2.5.","title":"Kafka producer and consumer motrics/monitoring","body":"<blockquote>\n<p>I am using ConcurrentKafkaListenerContainerFactory (spring-kafka 2.2.7.RELEASE)</p>\n</blockquote>\n<p>2.2.x has been out of support for several years...</p>\n<p><a href=\"https://spring.io/projects/spring-kafka#support\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-kafka#support</a></p>\n<p>The micrometer listeners were added in 2.5.</p>\n"}],"owner":{"account_id":7036011,"reputation":23,"user_id":5390096,"display_name":"Anup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648127090,"creation_date":1648006143,"question_id":71581492,"body_markdown":"I am trying to setup a Kafka monitoring dashboard (based on the app logs) to show the consumer lag for the given topic. I am looking for the consumer lag for following scenarios:\r\n\r\n1) Producer is publishing to the topic when there are no active consumers - in this case the latest offset would be considered as the consumer lag\r\n2) Producer is publishing to the topic and there are active consumers - find the lag for each consumer\r\n\r\nI followed this article which does something similar to my requirements https://www.baeldung.com/java-kafka-consumer-lag but for creating AdminClient as per this article, I need to have access to the make Zookeeper configs which is currently not possible.\r\n\r\nAny suggestions? Thanks.","title":"Kafka producer and consumer motrics/monitoring","body":"<p>I am trying to setup a Kafka monitoring dashboard (based on the app logs) to show the consumer lag for the given topic. I am looking for the consumer lag for following scenarios:</p>\n<ol>\n<li>Producer is publishing to the topic when there are no active consumers - in this case the latest offset would be considered as the consumer lag</li>\n<li>Producer is publishing to the topic and there are active consumers - find the lag for each consumer</li>\n</ol>\n<p>I followed this article which does something similar to my requirements <a href=\"https://www.baeldung.com/java-kafka-consumer-lag\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-kafka-consumer-lag</a> but for creating AdminClient as per this article, I need to have access to the make Zookeeper configs which is currently not possible.</p>\n<p>Any suggestions? Thanks.</p>\n"},{"tags":["java","android","location"],"comments":[{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1646640788,"post_id":71377805,"comment_id":126164767,"body_markdown":"Please go through android official documents-https://developer.android.com/guide/background","body":"Please go through android official documents-<a href=\"https://developer.android.com/guide/background\" rel=\"nofollow noreferrer\">developer.android.com/guide/background</a>"},{"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"score":0,"creation_date":1646640970,"post_id":71377805,"comment_id":126164817,"body_markdown":"So according to it I should use `WorkManager`","body":"So according to it I should use <code>WorkManager</code>"}],"answers":[{"tags":[],"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646644810,"creation_date":1646644810,"answer_id":71378801,"question_id":71377805,"body_markdown":"You need to keep a foreground service always running. You need to start it when the app is in the foreground and then keep it running all the time even when the app is in the background.\r\n\r\n","title":"Continuously get user location when app is paused or killed in android","body":"<p>You need to keep a foreground service always running. You need to start it when the app is in the foreground and then keep it running all the time even when the app is in the background.</p>\n"},{"tags":[],"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648126689,"creation_date":1646985985,"answer_id":71435391,"question_id":71377805,"body_markdown":"You should use a Foreground Service with a partial wakelock, in order to prevent the phone from sleeping.\r\nHere below an example of Foreground Service Class that implements a Wakelock:\r\n\r\n    public class ICService extends Service {\r\n        \r\n        private static final int ID = 1;                        // The id of the notification\r\n        \r\n        private NotificationCompat.Builder builder;\r\n        private NotificationManager mNotificationManager;\r\n        private PowerManager.WakeLock wakeLock;                 // PARTIAL_WAKELOCK\r\n        \r\n        /**\r\n         * Returns the instance of the service\r\n         */\r\n        public class LocalBinder extends Binder {\r\n            public ICService getServiceInstance(){\r\n                return ICService.this;\r\n            }\r\n        }\r\n        private final IBinder mBinder = new LocalBinder();      // IBinder\r\n        \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            // PARTIAL_WAKELOCK\r\n            PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\r\n            wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,&quot;INSERT_YOUR_APP_NAME:wakelock&quot;);\r\n        }\r\n        \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n            startForeground(ID, getNotification());\r\n            return START_NOT_STICKY;\r\n        }\r\n        \r\n        @SuppressLint(&quot;WakelockTimeout&quot;)\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            if (wakeLock != null &amp;&amp; !wakeLock.isHeld()) {\r\n                wakeLock.acquire();\r\n            }\r\n            return mBinder;\r\n        }\r\n        \r\n        @Override\r\n        public void onDestroy() {\r\n            // PARTIAL_WAKELOCK\r\n            if (wakeLock != null &amp;&amp; wakeLock.isHeld()) {\r\n                wakeLock.release();\r\n            }\r\n            super.onDestroy();\r\n        }\r\n    \r\n        private Notification getNotification() {\r\n            final String CHANNEL_ID = &quot;YOUR_SERVICE_CHANNEL&quot;;\r\n    \r\n            builder = new NotificationCompat.Builder(this, CHANNEL_ID);\r\n            //builder.setSmallIcon(R.drawable.ic_notification_24dp)\r\n            builder.setSmallIcon(R.mipmap.YOUR_RESOURCE_ICON)\r\n                .setColor(getResources().getColor(R.color.colorPrimaryLight))\r\n                .setContentTitle(getString(R.string.app_name))\r\n                .setShowWhen(false)\r\n                .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                .setCategory(NotificationCompat.CATEGORY_SERVICE)\r\n                .setOngoing(true)\r\n                .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                .setContentText(composeContentText());\r\n    \r\n            final Intent startIntent = new Intent(getApplicationContext(), ICActivity.class);\r\n            startIntent.setAction(Intent.ACTION_MAIN);\r\n            startIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n            startIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n            PendingIntent contentIntent = PendingIntent.getActivity(getApplicationContext(), 1, startIntent, 0);\r\n            builder.setContentIntent(contentIntent);\r\n            return builder.build();\r\n        }\r\n    }\r\n\r\nObviously you still have also to disable battery optimization for your app.\r\nYou can browse a real working example of this service on a GPS Logging app [here][1].\r\n\r\nDon&#39;t forget to declare your service type as &quot;location&quot; into your `AndroidManifest.xml`, in order to allow your application to receive the GPS updates also after a momentary signal loss when running in background, and to add the FOREGROUND_SERVICE and WAKE_LOCK permissions:\r\n\r\nIn your manifest you should declare:\r\n\r\n```xml\r\n    ...\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    ...\r\n    &lt;!-- Recommended for Android 9 (API level 28) and lower. --&gt;\r\n    &lt;!-- Required for Android 10 (API level 29) and higher. --&gt;\r\n    &lt;service\r\n        android:name=&quot;MyGPSService&quot;\r\n        android:foregroundServiceType=&quot;location&quot; ... &gt;\r\n    &lt;/service&gt;\r\n    ...\r\n```\r\n\r\nAs a note, if the location requests start when the app is in the foreground, you don&#39;t need to request the `android.permission.ACCESS_BACKGROUND_LOCATION` permission to continue to receive locations in background, also in case of momentary signal loss.&lt;br&gt; the `android.permission.ACCESS_FINE_LOCATION` (and, if you target API31, also `android.permission.ACCESS_COARSE_LOCATION`) is enough for your use.\r\n\r\n  [1]: https://github.com/BasicAirData/GPSLogger/blob/master/app/src/main/java/eu/basicairdata/graziano/gpslogger/GPSService.java\r\n","title":"Continuously get user location when app is paused or killed in android","body":"<p>You should use a Foreground Service with a partial wakelock, in order to prevent the phone from sleeping.\nHere below an example of Foreground Service Class that implements a Wakelock:</p>\n<pre><code>public class ICService extends Service {\n    \n    private static final int ID = 1;                        // The id of the notification\n    \n    private NotificationCompat.Builder builder;\n    private NotificationManager mNotificationManager;\n    private PowerManager.WakeLock wakeLock;                 // PARTIAL_WAKELOCK\n    \n    /**\n     * Returns the instance of the service\n     */\n    public class LocalBinder extends Binder {\n        public ICService getServiceInstance(){\n            return ICService.this;\n        }\n    }\n    private final IBinder mBinder = new LocalBinder();      // IBinder\n    \n    @Override\n    public void onCreate() {\n        super.onCreate();\n        // PARTIAL_WAKELOCK\n        PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\n        wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,&quot;INSERT_YOUR_APP_NAME:wakelock&quot;);\n    }\n    \n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        startForeground(ID, getNotification());\n        return START_NOT_STICKY;\n    }\n    \n    @SuppressLint(&quot;WakelockTimeout&quot;)\n    @Override\n    public IBinder onBind(Intent intent) {\n        if (wakeLock != null &amp;&amp; !wakeLock.isHeld()) {\n            wakeLock.acquire();\n        }\n        return mBinder;\n    }\n    \n    @Override\n    public void onDestroy() {\n        // PARTIAL_WAKELOCK\n        if (wakeLock != null &amp;&amp; wakeLock.isHeld()) {\n            wakeLock.release();\n        }\n        super.onDestroy();\n    }\n\n    private Notification getNotification() {\n        final String CHANNEL_ID = &quot;YOUR_SERVICE_CHANNEL&quot;;\n\n        builder = new NotificationCompat.Builder(this, CHANNEL_ID);\n        //builder.setSmallIcon(R.drawable.ic_notification_24dp)\n        builder.setSmallIcon(R.mipmap.YOUR_RESOURCE_ICON)\n            .setColor(getResources().getColor(R.color.colorPrimaryLight))\n            .setContentTitle(getString(R.string.app_name))\n            .setShowWhen(false)\n            .setPriority(NotificationCompat.PRIORITY_LOW)\n            .setCategory(NotificationCompat.CATEGORY_SERVICE)\n            .setOngoing(true)\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n            .setContentText(composeContentText());\n\n        final Intent startIntent = new Intent(getApplicationContext(), ICActivity.class);\n        startIntent.setAction(Intent.ACTION_MAIN);\n        startIntent.addCategory(Intent.CATEGORY_LAUNCHER);\n        startIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n        PendingIntent contentIntent = PendingIntent.getActivity(getApplicationContext(), 1, startIntent, 0);\n        builder.setContentIntent(contentIntent);\n        return builder.build();\n    }\n}\n</code></pre>\n<p>Obviously you still have also to disable battery optimization for your app.\nYou can browse a real working example of this service on a GPS Logging app <a href=\"https://github.com/BasicAirData/GPSLogger/blob/master/app/src/main/java/eu/basicairdata/graziano/gpslogger/GPSService.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Don't forget to declare your service type as &quot;location&quot; into your <code>AndroidManifest.xml</code>, in order to allow your application to receive the GPS updates also after a momentary signal loss when running in background, and to add the FOREGROUND_SERVICE and WAKE_LOCK permissions:</p>\n<p>In your manifest you should declare:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    ...\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    ...\n    &lt;!-- Recommended for Android 9 (API level 28) and lower. --&gt;\n    &lt;!-- Required for Android 10 (API level 29) and higher. --&gt;\n    &lt;service\n        android:name=&quot;MyGPSService&quot;\n        android:foregroundServiceType=&quot;location&quot; ... &gt;\n    &lt;/service&gt;\n    ...\n</code></pre>\n<p>As a note, if the location requests start when the app is in the foreground, you don't need to request the <code>android.permission.ACCESS_BACKGROUND_LOCATION</code> permission to continue to receive locations in background, also in case of momentary signal loss.<br> the <code>android.permission.ACCESS_FINE_LOCATION</code> (and, if you target API31, also <code>android.permission.ACCESS_COARSE_LOCATION</code>) is enough for your use.</p>\n"}],"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71435391,"answer_count":2,"score":1,"last_activity_date":1648126689,"creation_date":1646639106,"question_id":71377805,"body_markdown":"I want to continuously get location updates in the background using service even app is paused I tried much but when the app is paused it won&#39;t get any of the user&#39;s locations.\r\n\r\nHere is my `service.java`\r\n```\r\npackage com.app.testservices;\r\n\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.Notification;\r\nimport android.app.PendingIntent;\r\nimport android.app.Service;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.location.Location;\r\nimport android.os.IBinder;\r\nimport android.os.Looper;\r\nimport android.os.SystemClock;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.NotificationCompat;\r\n\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationCallback;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationResult;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.location.LocationSettingsRequest;\r\n\r\npublic class MyService extends Service {\r\n    private static final long UPDATE_INTERVAL_IN_MILLISECONDS = 3000;\r\n    private FusedLocationProviderClient mFusedLocationClient;\r\n    private LocationRequest locationRequest;\r\n    private LocationSettingsRequest locationSettingsRequest;\r\n    Notification notification;\r\n    NotificationCompat.Builder builder;\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        prepareNotification(intent);\r\n        startLocationUpdates();\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        initData();\r\n    }\r\n\r\n\r\n    //Location Callback\r\n    private LocationCallback locationCallback = new LocationCallback() {\r\n        @Override\r\n        public void onLocationResult(LocationResult locationResult) {\r\n            super.onLocationResult(locationResult);\r\n            Location currentLocation = locationResult.getLastLocation();\r\n            Log.d(&quot;Locations&quot;, currentLocation.getLatitude() + &quot;,&quot; + currentLocation.getLongitude());\r\n            //Share/Publish Location\r\n            builder.setContentText(currentLocation.getLatitude() + &quot;,&quot; + currentLocation.getLongitude());\r\n            Notification nm = builder.build();\r\n            startForeground(2, nm);\r\n        }\r\n    };\r\n\r\n    private void startLocationUpdates() {\r\n        mFusedLocationClient.requestLocationUpdates(this.locationRequest,\r\n                this.locationCallback, Looper.getMainLooper());\r\n    }\r\n\r\n    public void prepareNotification(Intent intent) {\r\n        String input = intent.getStringExtra(&quot;input&quot;);\r\n        Intent notificationIntent = new Intent(this, MyService.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\r\n                0, notificationIntent, 0);\r\n        builder = new NotificationCompat.Builder(this, MyChannel.CHANNEL_ID)\r\n                .setContentTitle(&quot;My notification&quot;)\r\n                .setContentText(input)\r\n                .setSmallIcon(R.drawable.ic_android_black_24dp)\r\n                .setContentIntent(pendingIntent);\r\n        notification = builder.build();\r\n        startForeground(1, notification);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        Intent broadcastIntent = new Intent();\r\n        broadcastIntent.setAction(&quot;restartservice&quot;);\r\n        broadcastIntent.setClass(this, Restarter.class);\r\n        this.sendBroadcast(broadcastIntent);\r\n    }\r\n\r\n    private void initData() {\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setInterval(UPDATE_INTERVAL_IN_MILLISECONDS);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setNumUpdates(Integer.MAX_VALUE);\r\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(getApplicationContext());\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onTaskRemoved(Intent rootIntent){\r\n        Intent restartServiceIntent = new Intent(getApplicationContext(), this.getClass());\r\n        restartServiceIntent.setPackage(getPackageName());\r\n\r\n        PendingIntent restartServicePendingIntent = PendingIntent.getService(getApplicationContext(), 1, restartServiceIntent, PendingIntent.FLAG_ONE_SHOT);\r\n        AlarmManager alarmService = (AlarmManager) getApplicationContext().getSystemService(Context.ALARM_SERVICE);\r\n        alarmService.set(\r\n                AlarmManager.ELAPSED_REALTIME,\r\n                SystemClock.elapsedRealtime() + 10,\r\n                restartServicePendingIntent);\r\n\r\n        super.onTaskRemoved(rootIntent);\r\n    }\r\n}\r\n\r\n```\r\n\r\n``` Channel.java```\r\n\r\n```\r\npackage com.app.testservices;\r\n\r\nimport android.app.Application;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.os.Build;\r\n\r\npublic class MyChannel extends Application {\r\n    public static final String CHANNEL_ID = &quot;serviceChannel&quot;;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        createNotificationChannel();\r\n    }\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel serviceChannel = new NotificationChannel(\r\n                    CHANNEL_ID,\r\n                    &quot;Notification service&quot;,\r\n                    NotificationManager.IMPORTANCE_DEFAULT\r\n            );\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(serviceChannel);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also tried to write a restarter to restart the service to fetch the location ```Restarter.java```\r\n\r\n    package com.app.testservices;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Build;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    public class Restarter extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.i(&quot;Broadcast Listened&quot;, &quot;Service tried to stop&quot;);\r\n            Toast.makeText(context, &quot;Service restarted&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                context.startForegroundService(new Intent(context, MyService.class));\r\n            } else {\r\n                context.startService(new Intent(context, MyService.class));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere is my `MainActivity.java`\r\n\r\n```\r\npackage com.app.testservices;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentSender;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationManager;\r\nimport android.media.MediaPlayer;\r\nimport android.os.Bundle;\r\nimport android.os.Looper;\r\nimport android.provider.Settings;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport com.google.android.gms.common.api.ResolvableApiException;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationCallback;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationResult;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.location.LocationSettingsRequest;\r\nimport com.google.android.gms.location.LocationSettingsResponse;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private EditText etInput;\r\n    protected static final int REQUEST_CHECK_SETTINGS = 0x1;\r\n    FusedLocationProviderClient mFusedLocationClient;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        etInput = findViewById(R.id.et_input_text);\r\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\r\n            }, 1);\r\n\r\n            return;\r\n        }\r\n    }\r\n\r\n    public void startService(View view) {\r\n        String input = etInput.getText().toString();\r\n        Intent serviceIntent = new Intent(this, MyService.class);\r\n        serviceIntent.putExtra(&quot;input&quot;, input);\r\n        startService(serviceIntent);\r\n    }\r\n\r\n    public void stopService(View view) {\r\n        Intent serviceIntent = new Intent(this, MyService.class);\r\n        stopService(serviceIntent);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n\r\n        // If request is cancelled, the result arrays are empty.\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (grantResults.length &gt; 0\r\n                &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                        mFusedLocationClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n                                Location location = task.getResult();\r\n                                LocationCallback mLocationCallback = new LocationCallback() {\r\n\r\n                                    @Override\r\n                                    public void onLocationResult(LocationResult locationResult) {\r\n                                        Location mLastLocation = locationResult.getLastLocation();\r\n                                    }\r\n                                };\r\n                                if (location == null) {\r\n                                    LocationRequest mLocationRequest = new LocationRequest();\r\n                                    mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                                    mLocationRequest.setInterval(5);\r\n                                    mLocationRequest.setFastestInterval(0);\r\n                                    mLocationRequest.setNumUpdates(2);\r\n\r\n                                    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                                        // TODO: Consider calling\r\n                                        //    ActivityCompat#requestPermissions\r\n                                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{\r\n                                                Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\r\n                                        }, 1);\r\n\r\n                                        return;\r\n                                    }\r\n                                    mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\r\n\r\n                                } else {\r\n                                    System.out.println(&quot;Location: &quot; + location);\r\n\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n\r\n        }\r\n    }\r\n\r\n    public void enableLocationSettings() {\r\n        LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n            LocationRequest locationRequest = LocationRequest.create()\r\n                    .setInterval(5)\r\n                    .setFastestInterval(0)\r\n                    .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n\r\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest);\r\n            LocationServices.getSettingsClient(this).checkLocationSettings(builder.build())\r\n                    .addOnSuccessListener(this, (LocationSettingsResponse response) -&gt; {\r\n                        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                                    mFusedLocationClient.getLastLocation().addOnCompleteListener(task -&gt; {\r\n                                        Location location = task.getResult();\r\n                                        LocationCallback mLocationCallback = new LocationCallback() {\r\n\r\n                                            @Override\r\n                                            public void onLocationResult(LocationResult locationResult) {\r\n                                                Location mLastLocation = locationResult.getLastLocation();\r\n                                            }\r\n                                        };\r\n                                        if (location == null) {\r\n                                            LocationRequest mLocationRequest = new LocationRequest();\r\n                                            mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                                            mLocationRequest.setInterval(5);\r\n                                            mLocationRequest.setFastestInterval(0);\r\n                                            mLocationRequest.setNumUpdates(2);\r\n\r\n                                            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                                            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                                                // TODO: Consider calling\r\n                                                //    ActivityCompat#requestPermissions\r\n                                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{\r\n                                                        Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\r\n                                                }, 1);\r\n\r\n                                                return;\r\n                                            }\r\n                                            mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\r\n\r\n                                        } else {\r\n                                            System.out.println(&quot;Location: &quot; + location);\r\n\r\n                                        }\r\n                                    });\r\n                                }\r\n\r\n                            }).addOnFailureListener(this, ex -&gt; {\r\n                if (ex instanceof ResolvableApiException) {\r\n                    // Location settings are NOT satisfied,  but this can be fixed  by showing the user a dialog.\r\n                    try {\r\n                        startActivityForResult(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS), 1);\r\n                        ResolvableApiException resolvable = (ResolvableApiException) ex;\r\n                        resolvable.startResolutionForResult(MainActivity.this, REQUEST_CHECK_SETTINGS);\r\n                    } catch (IntentSender.SendIntentException sendEx) {\r\n                        // Ignore the error.\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (REQUEST_CHECK_SETTINGS == requestCode) {\r\n            if (Activity.RESULT_OK == resultCode) {\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAny help or guidance will be appreciated. Moreover, \r\nI also tried https://stackoverflow.com/questions/36473546/android-how-to-get-user-location-continuously-even-your-app-is-killed\r\nthis but it didn&#39;t work for me.","title":"Continuously get user location when app is paused or killed in android","body":"<p>I want to continuously get location updates in the background using service even app is paused I tried much but when the app is paused it won't get any of the user's locations.</p>\n<p>Here is my <code>service.java</code></p>\n<pre><code>package com.app.testservices;\n\n\nimport android.app.AlarmManager;\nimport android.app.Notification;\nimport android.app.PendingIntent;\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.location.Location;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.os.SystemClock;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\nimport androidx.core.app.NotificationCompat;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationCallback;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationResult;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.LocationSettingsRequest;\n\npublic class MyService extends Service {\n    private static final long UPDATE_INTERVAL_IN_MILLISECONDS = 3000;\n    private FusedLocationProviderClient mFusedLocationClient;\n    private LocationRequest locationRequest;\n    private LocationSettingsRequest locationSettingsRequest;\n    Notification notification;\n    NotificationCompat.Builder builder;\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        prepareNotification(intent);\n        startLocationUpdates();\n        return START_STICKY;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        initData();\n    }\n\n\n    //Location Callback\n    private LocationCallback locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(LocationResult locationResult) {\n            super.onLocationResult(locationResult);\n            Location currentLocation = locationResult.getLastLocation();\n            Log.d(&quot;Locations&quot;, currentLocation.getLatitude() + &quot;,&quot; + currentLocation.getLongitude());\n            //Share/Publish Location\n            builder.setContentText(currentLocation.getLatitude() + &quot;,&quot; + currentLocation.getLongitude());\n            Notification nm = builder.build();\n            startForeground(2, nm);\n        }\n    };\n\n    private void startLocationUpdates() {\n        mFusedLocationClient.requestLocationUpdates(this.locationRequest,\n                this.locationCallback, Looper.getMainLooper());\n    }\n\n    public void prepareNotification(Intent intent) {\n        String input = intent.getStringExtra(&quot;input&quot;);\n        Intent notificationIntent = new Intent(this, MyService.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\n                0, notificationIntent, 0);\n        builder = new NotificationCompat.Builder(this, MyChannel.CHANNEL_ID)\n                .setContentTitle(&quot;My notification&quot;)\n                .setContentText(input)\n                .setSmallIcon(R.drawable.ic_android_black_24dp)\n                .setContentIntent(pendingIntent);\n        notification = builder.build();\n        startForeground(1, notification);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        Intent broadcastIntent = new Intent();\n        broadcastIntent.setAction(&quot;restartservice&quot;);\n        broadcastIntent.setClass(this, Restarter.class);\n        this.sendBroadcast(broadcastIntent);\n    }\n\n    private void initData() {\n        locationRequest = LocationRequest.create();\n        locationRequest.setInterval(UPDATE_INTERVAL_IN_MILLISECONDS);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        locationRequest.setNumUpdates(Integer.MAX_VALUE);\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(getApplicationContext());\n\n    }\n\n    @Override\n    public void onTaskRemoved(Intent rootIntent){\n        Intent restartServiceIntent = new Intent(getApplicationContext(), this.getClass());\n        restartServiceIntent.setPackage(getPackageName());\n\n        PendingIntent restartServicePendingIntent = PendingIntent.getService(getApplicationContext(), 1, restartServiceIntent, PendingIntent.FLAG_ONE_SHOT);\n        AlarmManager alarmService = (AlarmManager) getApplicationContext().getSystemService(Context.ALARM_SERVICE);\n        alarmService.set(\n                AlarmManager.ELAPSED_REALTIME,\n                SystemClock.elapsedRealtime() + 10,\n                restartServicePendingIntent);\n\n        super.onTaskRemoved(rootIntent);\n    }\n}\n\n</code></pre>\n<p><code> Channel.java</code></p>\n<pre><code>package com.app.testservices;\n\nimport android.app.Application;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.os.Build;\n\npublic class MyChannel extends Application {\n    public static final String CHANNEL_ID = &quot;serviceChannel&quot;;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        createNotificationChannel();\n    }\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel serviceChannel = new NotificationChannel(\n                    CHANNEL_ID,\n                    &quot;Notification service&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT\n            );\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(serviceChannel);\n        }\n    }\n}\n</code></pre>\n<p>I also tried to write a restarter to restart the service to fetch the location <code>Restarter.java</code></p>\n<pre><code>package com.app.testservices;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class Restarter extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Log.i(&quot;Broadcast Listened&quot;, &quot;Service tried to stop&quot;);\n        Toast.makeText(context, &quot;Service restarted&quot;, Toast.LENGTH_SHORT).show();\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            context.startForegroundService(new Intent(context, MyService.class));\n        } else {\n            context.startService(new Intent(context, MyService.class));\n        }\n    }\n}\n</code></pre>\n<p>Here is my <code>MainActivity.java</code></p>\n<pre><code>package com.app.testservices;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentSender;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.location.LocationManager;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.os.Looper;\nimport android.provider.Settings;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport com.google.android.gms.common.api.ResolvableApiException;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationCallback;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationResult;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.LocationSettingsRequest;\nimport com.google.android.gms.location.LocationSettingsResponse;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText etInput;\n    protected static final int REQUEST_CHECK_SETTINGS = 0x1;\n    FusedLocationProviderClient mFusedLocationClient;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        etInput = findViewById(R.id.et_input_text);\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{\n                    Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\n            }, 1);\n\n            return;\n        }\n    }\n\n    public void startService(View view) {\n        String input = etInput.getText().toString();\n        Intent serviceIntent = new Intent(this, MyService.class);\n        serviceIntent.putExtra(&quot;input&quot;, input);\n        startService(serviceIntent);\n    }\n\n    public void stopService(View view) {\n        Intent serviceIntent = new Intent(this, MyService.class);\n        stopService(serviceIntent);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n\n        // If request is cancelled, the result arrays are empty.\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (grantResults.length &gt; 0\n                &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                        mFusedLocationClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Location&gt; task) {\n                                Location location = task.getResult();\n                                LocationCallback mLocationCallback = new LocationCallback() {\n\n                                    @Override\n                                    public void onLocationResult(LocationResult locationResult) {\n                                        Location mLastLocation = locationResult.getLastLocation();\n                                    }\n                                };\n                                if (location == null) {\n                                    LocationRequest mLocationRequest = new LocationRequest();\n                                    mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n                                    mLocationRequest.setInterval(5);\n                                    mLocationRequest.setFastestInterval(0);\n                                    mLocationRequest.setNumUpdates(2);\n\n                                    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n                                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                                        // TODO: Consider calling\n                                        //    ActivityCompat#requestPermissions\n                                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{\n                                                Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\n                                        }, 1);\n\n                                        return;\n                                    }\n                                    mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\n\n                                } else {\n                                    System.out.println(&quot;Location: &quot; + location);\n\n                                }\n                            }\n                        });\n                    }\n\n        }\n    }\n\n    public void enableLocationSettings() {\n        LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n        if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n            LocationRequest locationRequest = LocationRequest.create()\n                    .setInterval(5)\n                    .setFastestInterval(0)\n                    .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest);\n            LocationServices.getSettingsClient(this).checkLocationSettings(builder.build())\n                    .addOnSuccessListener(this, (LocationSettingsResponse response) -&gt; {\n                        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n                                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                                    mFusedLocationClient.getLastLocation().addOnCompleteListener(task -&gt; {\n                                        Location location = task.getResult();\n                                        LocationCallback mLocationCallback = new LocationCallback() {\n\n                                            @Override\n                                            public void onLocationResult(LocationResult locationResult) {\n                                                Location mLastLocation = locationResult.getLastLocation();\n                                            }\n                                        };\n                                        if (location == null) {\n                                            LocationRequest mLocationRequest = new LocationRequest();\n                                            mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n                                            mLocationRequest.setInterval(5);\n                                            mLocationRequest.setFastestInterval(0);\n                                            mLocationRequest.setNumUpdates(2);\n\n                                            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n                                            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                                                // TODO: Consider calling\n                                                //    ActivityCompat#requestPermissions\n                                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{\n                                                        Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\n                                                }, 1);\n\n                                                return;\n                                            }\n                                            mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\n\n                                        } else {\n                                            System.out.println(&quot;Location: &quot; + location);\n\n                                        }\n                                    });\n                                }\n\n                            }).addOnFailureListener(this, ex -&gt; {\n                if (ex instanceof ResolvableApiException) {\n                    // Location settings are NOT satisfied,  but this can be fixed  by showing the user a dialog.\n                    try {\n                        startActivityForResult(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS), 1);\n                        ResolvableApiException resolvable = (ResolvableApiException) ex;\n                        resolvable.startResolutionForResult(MainActivity.this, REQUEST_CHECK_SETTINGS);\n                    } catch (IntentSender.SendIntentException sendEx) {\n                        // Ignore the error.\n                    }\n                }\n            });\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (REQUEST_CHECK_SETTINGS == requestCode) {\n            if (Activity.RESULT_OK == resultCode) {\n            }\n        }\n    }\n}\n</code></pre>\n<p>Any help or guidance will be appreciated. Moreover,\nI also tried <a href=\"https://stackoverflow.com/questions/36473546/android-how-to-get-user-location-continuously-even-your-app-is-killed\">Android How to get user location continuously even your app is killed</a>\nthis but it didn't work for me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648048361,"post_id":71589088,"comment_id":126526363,"body_markdown":"You mean like [Scanner.nextLine()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Scanner.html#nextLine()) or [BufferedReader.readLine()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/BufferedReader.html#readLine())?","body":"You mean like <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner.nextLine()</a> or <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">BufferedReader.readLine()</a>?"},{"owner":{"account_id":24370067,"reputation":1,"user_id":18303165,"display_name":"JOHNTY SINGH"},"score":0,"creation_date":1648048991,"post_id":71589088,"comment_id":126526653,"body_markdown":"i meant the Scanner.nextLine(); i dont know about Buffer that much","body":"i meant the Scanner.nextLine(); i dont know about Buffer that much"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648050746,"post_id":71589088,"comment_id":126527525,"body_markdown":"Where are you having trouble?  If you only care about the first character in a line, just examine that character in the string.","body":"Where are you having trouble?  If you only care about the first character in a line, just examine that character in the string."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648055636,"creation_date":1648055636,"answer_id":71591336,"question_id":71589088,"body_markdown":"Open the file in a try-with-resources block for proper closing\r\n\r\n    try(BufferedReader reader = new BufferedReader(new FileReader(&quot;/your/file/location&quot;))) {\r\n        //read the first line\r\n\t\tString line = reader.readLine();\r\n        //keep reading until done\r\n\t\twhile (line != null) {\r\n\t\t\t//process line\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}","title":"Java File io. How to get char without using streamclass or any way to read char from the next line in txt","body":"<p>Open the file in a try-with-resources block for proper closing</p>\n<pre><code>try(BufferedReader reader = new BufferedReader(new FileReader(&quot;/your/file/location&quot;))) {\n    //read the first line\n    String line = reader.readLine();\n    //keep reading until done\n    while (line != null) {\n        //process line\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":24370067,"reputation":1,"user_id":18303165,"display_name":"JOHNTY SINGH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648126480,"creation_date":1648046182,"question_id":71589088,"body_markdown":"I have been wondering like is there any way we can read char from a txt file without using stream class in java. i know stream class is much more efficient. But i want to read file line by line.\r\n\r\nFor example:\r\n\r\nName(String read this)\r\n\r\nsex(char read in next line)\r\n\r\nSo can I use stream class for this purpose or is there any way to read char using simple scanner?","title":"Java File io. How to get char without using streamclass or any way to read char from the next line in txt","body":"<p>I have been wondering like is there any way we can read char from a txt file without using stream class in java. i know stream class is much more efficient. But i want to read file line by line.</p>\n<p>For example:</p>\n<p>Name(String read this)</p>\n<p>sex(char read in next line)</p>\n<p>So can I use stream class for this purpose or is there any way to read char using simple scanner?</p>\n"},{"tags":["java","android","android-studio","android-wifi"],"answers":[{"tags":[],"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648126437,"creation_date":1648126437,"answer_id":71602898,"question_id":71599735,"body_markdown":"If you want to monitor it continuously, you could use a Foreground Service with a partial wakelock, in order to prevent the phone from sleeping.\r\nHere below an example of Foreground Service Class that implements a Wakelock:\r\n\r\n    public class ICService extends Service {\r\n        \r\n        private static final int ID = 1;                        // The id of the notification\r\n        \r\n        private NotificationCompat.Builder builder;\r\n        private NotificationManager mNotificationManager;\r\n        private PowerManager.WakeLock wakeLock;                 // PARTIAL_WAKELOCK\r\n        \r\n        /**\r\n         * Returns the instance of the service\r\n         */\r\n        public class LocalBinder extends Binder {\r\n            public ICService getServiceInstance(){\r\n                return ICService.this;\r\n            }\r\n        }\r\n        private final IBinder mBinder = new LocalBinder();      // IBinder\r\n        \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            // PARTIAL_WAKELOCK\r\n            PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\r\n            wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,&quot;INSERT_YOUR_APP_NAME:wakelock&quot;);\r\n        }\r\n        \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n            startForeground(ID, getNotification());\r\n            return START_NOT_STICKY;\r\n        }\r\n        \r\n        @SuppressLint(&quot;WakelockTimeout&quot;)\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            if (wakeLock != null &amp;&amp; !wakeLock.isHeld()) {\r\n                wakeLock.acquire();\r\n            }\r\n            return mBinder;\r\n        }\r\n        \r\n        @Override\r\n        public void onDestroy() {\r\n            // PARTIAL_WAKELOCK\r\n            if (wakeLock != null &amp;&amp; wakeLock.isHeld()) {\r\n                wakeLock.release();\r\n            }\r\n            super.onDestroy();\r\n        }\r\n    \r\n        private Notification getNotification() {\r\n            final String CHANNEL_ID = &quot;YOUR_SERVICE_CHANNEL&quot;;\r\n    \r\n            builder = new NotificationCompat.Builder(this, CHANNEL_ID);\r\n            //builder.setSmallIcon(R.drawable.ic_notification_24dp)\r\n            builder.setSmallIcon(R.mipmap.YOUR_RESOURCE_ICON)\r\n                .setColor(getResources().getColor(R.color.colorPrimaryLight))\r\n                .setContentTitle(getString(R.string.app_name))\r\n                .setShowWhen(false)\r\n                .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                .setCategory(NotificationCompat.CATEGORY_SERVICE)\r\n                .setOngoing(true)\r\n                .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                .setContentText(composeContentText());\r\n    \r\n            final Intent startIntent = new Intent(getApplicationContext(), ICActivity.class);\r\n            startIntent.setAction(Intent.ACTION_MAIN);\r\n            startIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n            startIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n            PendingIntent contentIntent = PendingIntent.getActivity(getApplicationContext(), 1, startIntent, 0);\r\n            builder.setContentIntent(contentIntent);\r\n            return builder.build();\r\n        }\r\n    }\r\n\r\nIn your manifest you should declare:\r\n\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n```\r\nObviously you still have also to disable battery optimization and monitoring for your app, and allow the background network activity.\r\nYou can browse a real working example of this service on a GPS Logging app [here][1].\r\n\r\nUsing a foreground service, a notification icon will be present on your system bar.\r\n\r\n  [1]: https://github.com/BasicAirData/GPSLogger/blob/master/app/src/main/java/eu/basicairdata/graziano/gpslogger/GPSService.java\r\n","title":"Android how to keep NetworkCallback alive in background","body":"<p>If you want to monitor it continuously, you could use a Foreground Service with a partial wakelock, in order to prevent the phone from sleeping.\nHere below an example of Foreground Service Class that implements a Wakelock:</p>\n<pre><code>public class ICService extends Service {\n    \n    private static final int ID = 1;                        // The id of the notification\n    \n    private NotificationCompat.Builder builder;\n    private NotificationManager mNotificationManager;\n    private PowerManager.WakeLock wakeLock;                 // PARTIAL_WAKELOCK\n    \n    /**\n     * Returns the instance of the service\n     */\n    public class LocalBinder extends Binder {\n        public ICService getServiceInstance(){\n            return ICService.this;\n        }\n    }\n    private final IBinder mBinder = new LocalBinder();      // IBinder\n    \n    @Override\n    public void onCreate() {\n        super.onCreate();\n        // PARTIAL_WAKELOCK\n        PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\n        wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,&quot;INSERT_YOUR_APP_NAME:wakelock&quot;);\n    }\n    \n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        startForeground(ID, getNotification());\n        return START_NOT_STICKY;\n    }\n    \n    @SuppressLint(&quot;WakelockTimeout&quot;)\n    @Override\n    public IBinder onBind(Intent intent) {\n        if (wakeLock != null &amp;&amp; !wakeLock.isHeld()) {\n            wakeLock.acquire();\n        }\n        return mBinder;\n    }\n    \n    @Override\n    public void onDestroy() {\n        // PARTIAL_WAKELOCK\n        if (wakeLock != null &amp;&amp; wakeLock.isHeld()) {\n            wakeLock.release();\n        }\n        super.onDestroy();\n    }\n\n    private Notification getNotification() {\n        final String CHANNEL_ID = &quot;YOUR_SERVICE_CHANNEL&quot;;\n\n        builder = new NotificationCompat.Builder(this, CHANNEL_ID);\n        //builder.setSmallIcon(R.drawable.ic_notification_24dp)\n        builder.setSmallIcon(R.mipmap.YOUR_RESOURCE_ICON)\n            .setColor(getResources().getColor(R.color.colorPrimaryLight))\n            .setContentTitle(getString(R.string.app_name))\n            .setShowWhen(false)\n            .setPriority(NotificationCompat.PRIORITY_LOW)\n            .setCategory(NotificationCompat.CATEGORY_SERVICE)\n            .setOngoing(true)\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n            .setContentText(composeContentText());\n\n        final Intent startIntent = new Intent(getApplicationContext(), ICActivity.class);\n        startIntent.setAction(Intent.ACTION_MAIN);\n        startIntent.addCategory(Intent.CATEGORY_LAUNCHER);\n        startIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n        PendingIntent contentIntent = PendingIntent.getActivity(getApplicationContext(), 1, startIntent, 0);\n        builder.setContentIntent(contentIntent);\n        return builder.build();\n    }\n}\n</code></pre>\n<p>In your manifest you should declare:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<p>Obviously you still have also to disable battery optimization and monitoring for your app, and allow the background network activity.\nYou can browse a real working example of this service on a GPS Logging app <a href=\"https://github.com/BasicAirData/GPSLogger/blob/master/app/src/main/java/eu/basicairdata/graziano/gpslogger/GPSService.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Using a foreground service, a notification icon will be present on your system bar.</p>\n"}],"owner":{"account_id":11956435,"reputation":165,"user_id":8748646,"display_name":"Nuubles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648126437,"creation_date":1648113314,"question_id":71599735,"body_markdown":"I&#39;m trying to monitor the WiFi state (connect/disconnect) of the phone in background, but whenever I close the application ConnectivityManager will no longer call the provided method. How would I keep the registration alive even in the background?\r\n\r\nSome SO questions pointed to [this](https://developer.android.com/reference/android/app/Service.html) source that instructs on how to use Services in android, and has been implemented here. Unfortunately the method does not work, even after trying to test and tweak it multiple times (such as using alternative classes to AsyncTask).\r\n\r\n## Service that should keep the process alive in the background ##\r\n```java\r\npublic class MonitorService extends Service implements Runnable {\r\n    private final LocalBinder binder;\r\n    private WifiChecker checker;\r\n\r\n    {\r\n        binder = new LocalBinder();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        checker = new CallbackChecker(MonitorService.this, new WallPaperChanger());\r\n    }\r\n\r\n    public class LocalBinder extends Binder {\r\n        public MonitorService getService() {\r\n            return MonitorService.this;\r\n        }\r\n    }\r\n\r\n    public MonitorService() {\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return binder;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        checker.destroy();\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        AsyncTask.execute(this);\r\n        return Service.START_STICKY;\r\n    }\r\n}\r\n```\r\n\r\n## How MainActivity starts the service above ##\r\n```java\r\nIntent serviceIntent = new Intent(this, MonitorService.class);\r\nstartService(serviceIntent);\r\n```\r\n\r\n## How ConnectivityManager is being used ##\r\n```java\r\npublic class CallbackChecker extends WifiChecker {\r\n    private ConnectivityManager.NetworkCallback callback;\r\n\r\n    public CallbackChecker(Context context, WifiListener... listeners) {\r\n        super(context, listeners);\r\n        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkRequest.Builder builder = new NetworkRequest.Builder();\r\n\r\n        cm.registerNetworkCallback(builder.build(), callback = new ConnectivityManager.NetworkCallback() {\r\n            @Override\r\n            public void onAvailable(Network network) {\r\n                WifiManager wifiManager = (WifiManager)getContext().getSystemService(Context.WIFI_SERVICE);\r\n                WifiInfo wifiInfo = wifiManager.getConnectionInfo();\r\n                // Some code that runs when wifi is connected\r\n            }\r\n\r\n            @Override\r\n            public void onLost(Network network) {\r\n                // Some code that runs when wifi is disconnected\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        Log.d(&quot;DEBUG&quot;, &quot;DESTROYED&quot;);\r\n        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        cm.unregisterNetworkCallback(callback);\r\n    }\r\n}\r\n\r\n```\r\nIn the code we can see that a debug message should be sent when the service is destroyed, but this never gets printed to the console. The method should be called when the service is destroyed, and as such it may point out that the service itself never gets destroyed. Unfortunately due to my lack of expertise on Android development (first app) I don&#39;t know how I would continue with this problem/question","title":"Android how to keep NetworkCallback alive in background","body":"<p>I'm trying to monitor the WiFi state (connect/disconnect) of the phone in background, but whenever I close the application ConnectivityManager will no longer call the provided method. How would I keep the registration alive even in the background?</p>\n<p>Some SO questions pointed to <a href=\"https://developer.android.com/reference/android/app/Service.html\" rel=\"nofollow noreferrer\">this</a> source that instructs on how to use Services in android, and has been implemented here. Unfortunately the method does not work, even after trying to test and tweak it multiple times (such as using alternative classes to AsyncTask).</p>\n<h2>Service that should keep the process alive in the background</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class MonitorService extends Service implements Runnable {\n    private final LocalBinder binder;\n    private WifiChecker checker;\n\n    {\n        binder = new LocalBinder();\n    }\n\n    @Override\n    public void run() {\n        checker = new CallbackChecker(MonitorService.this, new WallPaperChanger());\n    }\n\n    public class LocalBinder extends Binder {\n        public MonitorService getService() {\n            return MonitorService.this;\n        }\n    }\n\n    public MonitorService() {\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return binder;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public void onDestroy() {\n        checker.destroy();\n        super.onDestroy();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        AsyncTask.execute(this);\n        return Service.START_STICKY;\n    }\n}\n</code></pre>\n<h2>How MainActivity starts the service above</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Intent serviceIntent = new Intent(this, MonitorService.class);\nstartService(serviceIntent);\n</code></pre>\n<h2>How ConnectivityManager is being used</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class CallbackChecker extends WifiChecker {\n    private ConnectivityManager.NetworkCallback callback;\n\n    public CallbackChecker(Context context, WifiListener... listeners) {\n        super(context, listeners);\n        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkRequest.Builder builder = new NetworkRequest.Builder();\n\n        cm.registerNetworkCallback(builder.build(), callback = new ConnectivityManager.NetworkCallback() {\n            @Override\n            public void onAvailable(Network network) {\n                WifiManager wifiManager = (WifiManager)getContext().getSystemService(Context.WIFI_SERVICE);\n                WifiInfo wifiInfo = wifiManager.getConnectionInfo();\n                // Some code that runs when wifi is connected\n            }\n\n            @Override\n            public void onLost(Network network) {\n                // Some code that runs when wifi is disconnected\n            }\n        });\n    }\n\n    @Override\n    public void onDestroy() {\n        Log.d(&quot;DEBUG&quot;, &quot;DESTROYED&quot;);\n        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n        cm.unregisterNetworkCallback(callback);\n    }\n}\n\n</code></pre>\n<p>In the code we can see that a debug message should be sent when the service is destroyed, but this never gets printed to the console. The method should be called when the service is destroyed, and as such it may point out that the service itself never gets destroyed. Unfortunately due to my lack of expertise on Android development (first app) I don't know how I would continue with this problem/question</p>\n"},{"tags":["java","plugins","minecraft"],"answers":[{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648125731,"creation_date":1648125731,"answer_id":71602751,"question_id":71602624,"body_markdown":"First make sure you didn&#39;t make any typos in your import statement.\r\n\r\nIf that didn&#39;t fix it there are 2 possible solutions I can think of:\r\n\r\n__Solution 1__\r\n\r\nYou probably haven&#39;t added this plugin to your classpath inside of the java project.\r\n\r\nTo do this right-click on your project (inside of the project explorer) and press Properties.\r\n\r\nIf you&#39;ve done everything correctly there should popup another window where you can search for &quot;Java Build Path&quot;.\r\n\r\nClick on it and then go to the Libraries tab. Since I don&#39;t know what file type the plugin is I&#39;m assuming it&#39;s a `.jar` file. Click on the &quot;Add JARs&quot; button and select the plugin file.\r\n\r\n__Solution 2__\r\n\r\nIf you use a maven project you probably haven&#39;t configured the plugin dependency inside your `pom.xml` file.\r\n\r\nJust open the file and add the dependency. In the end it could look like this:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0-alpha5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI hope I understood your problem correctly and this answer helps you to solve this problem.","title":"Errors with importing JavaPlugin to Eclipse","body":"<p>First make sure you didn't make any typos in your import statement.</p>\n<p>If that didn't fix it there are 2 possible solutions I can think of:</p>\n<p><strong>Solution 1</strong></p>\n<p>You probably haven't added this plugin to your classpath inside of the java project.</p>\n<p>To do this right-click on your project (inside of the project explorer) and press Properties.</p>\n<p>If you've done everything correctly there should popup another window where you can search for &quot;Java Build Path&quot;.</p>\n<p>Click on it and then go to the Libraries tab. Since I don't know what file type the plugin is I'm assuming it's a <code>.jar</code> file. Click on the &quot;Add JARs&quot; button and select the plugin file.</p>\n<p><strong>Solution 2</strong></p>\n<p>If you use a maven project you probably haven't configured the plugin dependency inside your <code>pom.xml</code> file.</p>\n<p>Just open the file and add the dependency. In the end it could look like this:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-alpha5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I hope I understood your problem correctly and this answer helps you to solve this problem.</p>\n"}],"owner":{"account_id":24431218,"reputation":3,"user_id":18356118,"display_name":"pablos482"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71602751,"answer_count":1,"score":0,"last_activity_date":1648125976,"creation_date":1648125144,"question_id":71602624,"body_markdown":"I want to make a plugin for Minecraft, but I have problem with importing JavaPlugin into Eclipse. When I type\r\n\r\n```\r\nimport org.bukkit.java.plugin.java.JavaPlugin;\r\n```\r\n\r\nI get these 2 errors.\r\n\r\n```\r\nThe import java.plugin cannot be resolved\r\n```\r\n\r\n```\r\nJavaPlugin cannot be resolved to a type\r\n```\r\n\r\nI have tried restarting my computer, reinstalling Eclipse, downloading all over again but nothing works.\r\nI am sending\r\n\r\na link to a screenshot.\r\n\r\nhttps://paste.pics/GHDFU\r\n\r\nPlease help, Thank you in advance.","title":"Errors with importing JavaPlugin to Eclipse","body":"<p>I want to make a plugin for Minecraft, but I have problem with importing JavaPlugin into Eclipse. When I type</p>\n<pre><code>import org.bukkit.java.plugin.java.JavaPlugin;\n</code></pre>\n<p>I get these 2 errors.</p>\n<pre><code>The import java.plugin cannot be resolved\n</code></pre>\n<pre><code>JavaPlugin cannot be resolved to a type\n</code></pre>\n<p>I have tried restarting my computer, reinstalling Eclipse, downloading all over again but nothing works.\nI am sending</p>\n<p>a link to a screenshot.</p>\n<p><a href=\"https://paste.pics/GHDFU\" rel=\"nofollow noreferrer\">https://paste.pics/GHDFU</a></p>\n<p>Please help, Thank you in advance.</p>\n"},{"tags":["java","maven","maven-3"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626156982,"creation_date":1626156982,"answer_id":68357350,"question_id":68356624,"body_markdown":"In your `.properties` file there should be a path property somewhere. Make sure that you use `/` and NOT `\\` for this property.\r\n\r\nAnd if you want to use `\\` then you have to escape it this way `\\\\`.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding in windows","body":"<p>In your <code>.properties</code> file there should be a path property somewhere. Make sure that you use <code>/</code> and NOT <code>\\</code> for this property.</p>\n<p>And if you want to use <code>\\</code> then you have to escape it this way <code>\\\\</code>.</p>\n"},{"tags":[],"owner":{"account_id":9801310,"reputation":260,"user_id":7262584,"display_name":"Mahesh Yadav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1626168960,"creation_date":1626168960,"answer_id":68359932,"question_id":68356624,"body_markdown":"I found one of my third party library is having property file inside .m2/repository folder.\r\n\r\nThat property file is causing the issue. So, I fixed the issue by deleting .m2/repository folder and updating the library with proper syntax.","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding in windows","body":"<p>I found one of my third party library is having property file inside .m2/repository folder.</p>\n<p>That property file is causing the issue. So, I fixed the issue by deleting .m2/repository folder and updating the library with proper syntax.</p>\n"},{"tags":[],"owner":{"account_id":24673756,"reputation":1,"user_id":18568429,"display_name":"kulsha slava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648125800,"creation_date":1648125800,"answer_id":71602764,"question_id":68356624,"body_markdown":"Put a breakpoint on the line of code: throw new IllegalArgumentException(&quot;Malformed \\\\uxxxx encoding.&quot;) in Properties.java:667, \r\n\r\nbuild the project in debug mode\r\nwhen the debugger stops at breakpoint, search the stack for the value of the input variable that has the error. it will point to the problematic file that can be deleted/corrected\r\n\r\nin my case it was the code in Properties.class:\r\n\r\n    public synchronized void load(InputStream inStream) throws IOException {\r\n        load0(new LineReader(inStream));\r\n    }\r\n\r\nIn a variable inStream I find a problem filename and delete it.\r\nThis solved the problem","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding in windows","body":"<p>Put a breakpoint on the line of code: throw new IllegalArgumentException(&quot;Malformed \\uxxxx encoding.&quot;) in Properties.java:667,</p>\n<p>build the project in debug mode\nwhen the debugger stops at breakpoint, search the stack for the value of the input variable that has the error. it will point to the problematic file that can be deleted/corrected</p>\n<p>in my case it was the code in Properties.class:</p>\n<pre><code>public synchronized void load(InputStream inStream) throws IOException {\n    load0(new LineReader(inStream));\n}\n</code></pre>\n<p>In a variable inStream I find a problem filename and delete it.\nThis solved the problem</p>\n"}],"owner":{"account_id":9801310,"reputation":260,"user_id":7262584,"display_name":"Mahesh Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13958,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1652972037,"accepted_answer_id":68359932,"answer_count":3,"score":3,"last_activity_date":1648125800,"creation_date":1626151577,"question_id":68356624,"body_markdown":"When I&#39;m doing the building the maven project it is throwing the below error. I checked all my code no where \\ or \\u present in code. While a lot of answers and resources point out errors in / vs \\, I want to mention that I have no local changes and this repo just works fine for others in my team. It worked fine for me as well before.\r\n\r\n    java.lang.IllegalArgumentException: Malformed \\uxxxx encoding.\r\n        at java.util.Properties.loadConvert (Properties.java:667)\r\n        at java.util.Properties.load0 (Properties.java:456)\r\n        at java.util.Properties.load (Properties.java:408)\r\n        at org.eclipse.aether.internal.impl.TrackingFileManager.read (TrackingFileManager.java:64)\r\n        at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.read (DefaultUpdateCheckManager.java:511)\r\n        at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkMetadata (DefaultUpdateCheckManager.java:252)\r\n        at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolve (DefaultMetadataResolver.java:302)\r\n        at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolveMetadata (DefaultMetadataResolver.java:181)\r\n        at org.apache.maven.repository.internal.DefaultVersionResolver.resolveVersion (DefaultVersionResolver.java:213)\r\n        at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom (DefaultArtifactDescriptorReader.java:204)\r\n        at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor (DefaultArtifactDescriptorReader.java:171)\r\n        at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.resolveCachedArtifactDescriptor (DefaultDependencyCollector.java:541)\r\n        at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.getArtifactDescriptorResult (DefaultDependencyCollector.java:524)\r\n        at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:412)\r\n        at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:365)\r\n        at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:352)\r\n        at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.collectDependencies (DefaultDependencyCollector.java:254)\r\n        at org.eclipse.aether.internal.impl.DefaultRepositorySystem.collectDependencies (DefaultRepositorySystem.java:284)\r\n        at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:169)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\r\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n\r\n\r\n\r\nI have already tried the following:\r\n\r\n 1. Reinstalled java on my mac\r\n 2. Reinstalled maven Tried to invalidate\r\n 3. Tried to invalidate cache and restart IntelliJ multiple times.\r\n\r\nCan some please help me on this.\r\n","title":"java.lang.IllegalArgumentException: Malformed \\uxxxx encoding in windows","body":"<p>When I'm doing the building the maven project it is throwing the below error. I checked all my code no where \\ or \\u present in code. While a lot of answers and resources point out errors in / vs , I want to mention that I have no local changes and this repo just works fine for others in my team. It worked fine for me as well before.</p>\n<pre><code>java.lang.IllegalArgumentException: Malformed \\uxxxx encoding.\n    at java.util.Properties.loadConvert (Properties.java:667)\n    at java.util.Properties.load0 (Properties.java:456)\n    at java.util.Properties.load (Properties.java:408)\n    at org.eclipse.aether.internal.impl.TrackingFileManager.read (TrackingFileManager.java:64)\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.read (DefaultUpdateCheckManager.java:511)\n    at org.eclipse.aether.internal.impl.DefaultUpdateCheckManager.checkMetadata (DefaultUpdateCheckManager.java:252)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolve (DefaultMetadataResolver.java:302)\n    at org.eclipse.aether.internal.impl.DefaultMetadataResolver.resolveMetadata (DefaultMetadataResolver.java:181)\n    at org.apache.maven.repository.internal.DefaultVersionResolver.resolveVersion (DefaultVersionResolver.java:213)\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom (DefaultArtifactDescriptorReader.java:204)\n    at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor (DefaultArtifactDescriptorReader.java:171)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.resolveCachedArtifactDescriptor (DefaultDependencyCollector.java:541)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.getArtifactDescriptorResult (DefaultDependencyCollector.java:524)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:412)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.processDependency (DefaultDependencyCollector.java:365)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.process (DefaultDependencyCollector.java:352)\n    at org.eclipse.aether.internal.impl.collect.DefaultDependencyCollector.collectDependencies (DefaultDependencyCollector.java:254)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.collectDependencies (DefaultRepositorySystem.java:284)\n    at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve (DefaultProjectDependenciesResolver.java:169)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies (LifecycleDependencyResolver.java:243)\n    at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies (LifecycleDependencyResolver.java:147)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved (MojoExecutor.java:248)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:202)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n<p>I have already tried the following:</p>\n<ol>\n<li>Reinstalled java on my mac</li>\n<li>Reinstalled maven Tried to invalidate</li>\n<li>Tried to invalidate cache and restart IntelliJ multiple times.</li>\n</ol>\n<p>Can some please help me on this.</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648069719,"creation_date":1648069719,"answer_id":71594059,"question_id":71591999,"body_markdown":"**What do I need to do to avoid making a mistake?**\r\n\r\nThe problem is here\r\n\r\n    List&lt;Document&gt; links = (List&lt;Document&gt;) doc.get(&quot;links&quot;);\r\n\r\nAs the error says, you are trying to cast the return type Boolean to List, wich will generate a class cast exception.","title":"get array from mongodb java","body":"<p><strong>What do I need to do to avoid making a mistake?</strong></p>\n<p>The problem is here</p>\n<pre><code>List&lt;Document&gt; links = (List&lt;Document&gt;) doc.get(&quot;links&quot;);\n</code></pre>\n<p>As the error says, you are trying to cast the return type Boolean to List, wich will generate a class cast exception.</p>\n"}],"owner":{"account_id":24664257,"reputation":5,"user_id":18560143,"display_name":"LevPrav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648125728,"creation_date":1648058683,"question_id":71591999,"body_markdown":"Faced with a problem: I need to take a list from the database, add an item there and write the updated list back. But the problem is the following error: `java.lang.ClassCastException: class java.lang.Boolean cannot be cast to class java.util.List (java.lang.Boolean and java.util.List are in module java.base of loader &#39;bootstrap&#39;)`.\r\n\r\nMy code:\r\n\r\n```\r\nDocument doc = collection.find(new Document(&quot;_id&quot;, event.getGuild().getId())).first();\r\nList&lt;Document&gt; links = (List&lt;Document&gt;) doc.get(&quot;links&quot;);\r\nlinks.add(new Document(e.getMessage().getContentDisplay().trim(), &quot;enable&quot;));\r\ncollection.updateOne(\r\n   new Document(&quot;_id&quot;, event.getGuild().getId()),\r\n   new Document(&quot;$set&quot;, new Document(&quot;links&quot;, links))\r\n);\r\n```\r\n\r\nWhat do I need to do to avoid making a mistake?\r\nMy Document Structure:\r\n\r\n```\r\n{\r\n   &quot;_id&quot;: &quot;guild id&quot;, \r\n   &quot;links&quot;: [{&quot;link1&quot;: &quot;enable&quot;}, {&quot;link2&quot;: &quot;enable&quot;}]\r\n}\r\n```\r\n\r\nFull error log:\r\n```\r\n[JDA [0 / 2] MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\r\njava.lang.ClassCastException: class java.lang.Boolean cannot be cast to class java.util.List (java.lang.Boolean and java.util.List are in module java.base of loader &#39;bootstrap&#39;)\r\n        at listeners.ButtonClick.lambda$onButtonInteraction$3(ButtonClick.java:59)\r\n        at com.jagrosh.jdautilities.commons.waiter.EventWaiter$WaitingEvent.attempt(EventWaiter.java:293)\r\n        at com.jagrosh.jdautilities.commons.waiter.EventWaiter.lambda$onEvent$2(EventWaiter.java:250)\r\n        at java.base/java.util.Collection.removeIf(Collection.java:576)\r\n        at com.jagrosh.jdautilities.commons.waiter.EventWaiter.onEvent(EventWaiter.java:250)\r\n        at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n        at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:164)\r\n        at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:121)\r\n        at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:952)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:839)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:817)\r\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:991)\r\n        at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\r\n        at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\r\n        at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\r\n        at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\r\n        at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\r\n        at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\r\n        at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\r\n```\r\nP.S. I use JDA &amp; mongodb-driver-sync libs","title":"get array from mongodb java","body":"<p>Faced with a problem: I need to take a list from the database, add an item there and write the updated list back. But the problem is the following error: <code>java.lang.ClassCastException: class java.lang.Boolean cannot be cast to class java.util.List (java.lang.Boolean and java.util.List are in module java.base of loader 'bootstrap')</code>.</p>\n<p>My code:</p>\n<pre><code>Document doc = collection.find(new Document(&quot;_id&quot;, event.getGuild().getId())).first();\nList&lt;Document&gt; links = (List&lt;Document&gt;) doc.get(&quot;links&quot;);\nlinks.add(new Document(e.getMessage().getContentDisplay().trim(), &quot;enable&quot;));\ncollection.updateOne(\n   new Document(&quot;_id&quot;, event.getGuild().getId()),\n   new Document(&quot;$set&quot;, new Document(&quot;links&quot;, links))\n);\n</code></pre>\n<p>What do I need to do to avoid making a mistake?\nMy Document Structure:</p>\n<pre><code>{\n   &quot;_id&quot;: &quot;guild id&quot;, \n   &quot;links&quot;: [{&quot;link1&quot;: &quot;enable&quot;}, {&quot;link2&quot;: &quot;enable&quot;}]\n}\n</code></pre>\n<p>Full error log:</p>\n<pre><code>[JDA [0 / 2] MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\njava.lang.ClassCastException: class java.lang.Boolean cannot be cast to class java.util.List (java.lang.Boolean and java.util.List are in module java.base of loader 'bootstrap')\n        at listeners.ButtonClick.lambda$onButtonInteraction$3(ButtonClick.java:59)\n        at com.jagrosh.jdautilities.commons.waiter.EventWaiter$WaitingEvent.attempt(EventWaiter.java:293)\n        at com.jagrosh.jdautilities.commons.waiter.EventWaiter.lambda$onEvent$2(EventWaiter.java:250)\n        at java.base/java.util.Collection.removeIf(Collection.java:576)\n        at com.jagrosh.jdautilities.commons.waiter.EventWaiter.onEvent(EventWaiter.java:250)\n        at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n        at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n        at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:164)\n        at net.dv8tion.jda.internal.handle.MessageCreateHandler.handleInternally(MessageCreateHandler.java:121)\n        at net.dv8tion.jda.internal.handle.SocketHandler.handle(SocketHandler.java:36)\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onDispatch(WebSocketClient.java:952)\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onEvent(WebSocketClient.java:839)\n        at net.dv8tion.jda.internal.requests.WebSocketClient.handleEvent(WebSocketClient.java:817)\n        at net.dv8tion.jda.internal.requests.WebSocketClient.onBinaryMessage(WebSocketClient.java:991)\n        at com.neovisionaries.ws.client.ListenerManager.callOnBinaryMessage(ListenerManager.java:385)\n        at com.neovisionaries.ws.client.ReadingThread.callOnBinaryMessage(ReadingThread.java:276)\n        at com.neovisionaries.ws.client.ReadingThread.handleBinaryFrame(ReadingThread.java:996)\n        at com.neovisionaries.ws.client.ReadingThread.handleFrame(ReadingThread.java:755)\n        at com.neovisionaries.ws.client.ReadingThread.main(ReadingThread.java:108)\n        at com.neovisionaries.ws.client.ReadingThread.runMain(ReadingThread.java:64)\n        at com.neovisionaries.ws.client.WebSocketThread.run(WebSocketThread.java:45)\n</code></pre>\n<p>P.S. I use JDA &amp; mongodb-driver-sync libs</p>\n"},{"tags":["java","memory","zip","outputstream","zipoutputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1648084250,"post_id":71595540,"comment_id":126537489,"body_markdown":"Memory is finite. The real question is why are you creating it in memory in the first place? Why not write it directly to wherever it&#39;s going?","body":"Memory is finite. The real question is why are you creating it in memory in the first place? Why not write it directly to wherever it&#39;s going?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648125665,"creation_date":1648125665,"answer_id":71602733,"question_id":71595540,"body_markdown":"Don&#39;t build a memory structure when you can stream the same data directly - as huge structures may hit `OutOfMemoryError` on the `toString()` or `getBytes()` calls. \r\n\r\nIf you are dealing with platform line separators you can write out rows like this:\r\n\r\n    PrintWriter w = new PrintWriter(zos/*,false, orCharSetHere*/);\r\n    for (Stores s : storesList) {\r\n        w.println(s.getId() + &quot;,&quot; + s.getTitle() + s.getDescription());\r\n    }\r\n    w.flush();\r\n\r\nBut if you want `\\n` line separators for all platforms the rows can be sent using:\r\n\r\n    OutputStreamWriter w = new OutputStreamWriter(zos/*, orCharSetHere*/);\r\n    for (Stores s : storesList) {\r\n        w.write(s.getId() + &quot;,&quot; + s.getTitle() + s.getDescription()+&quot;\\n&quot;);\r\n    }\r\n    w.flush();\r\n\r\nThe writers must be flushed to ensure any buffered data is written to the `ZipOutputStream` before the zip entry or stream is closed.","title":"Memory allocation error when trying to create a large zip file in memory","body":"<p>Don't build a memory structure when you can stream the same data directly - as huge structures may hit <code>OutOfMemoryError</code> on the <code>toString()</code> or <code>getBytes()</code> calls.</p>\n<p>If you are dealing with platform line separators you can write out rows like this:</p>\n<pre><code>PrintWriter w = new PrintWriter(zos/*,false, orCharSetHere*/);\nfor (Stores s : storesList) {\n    w.println(s.getId() + &quot;,&quot; + s.getTitle() + s.getDescription());\n}\nw.flush();\n</code></pre>\n<p>But if you want <code>\\n</code> line separators for all platforms the rows can be sent using:</p>\n<pre><code>OutputStreamWriter w = new OutputStreamWriter(zos/*, orCharSetHere*/);\nfor (Stores s : storesList) {\n    w.write(s.getId() + &quot;,&quot; + s.getTitle() + s.getDescription()+&quot;\\n&quot;);\n}\nw.flush();\n</code></pre>\n<p>The writers must be flushed to ensure any buffered data is written to the <code>ZipOutputStream</code> before the zip entry or stream is closed.</p>\n"}],"owner":{"account_id":11682280,"reputation":93,"user_id":8553505,"display_name":"Brandon Hu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71602733,"answer_count":1,"score":0,"last_activity_date":1648125665,"creation_date":1648080539,"question_id":71595540,"body_markdown":"The memory allocation error specifically seems to occur once it hits the for loop and only for very large storesLists. I only able to hit the memory allocation error if storesList.size() is about 2 million. I&#39;ve pasted a snipped of the for loop which is supposed to create a new row based off each object in the loop. \r\n\r\nThe function takes in a ZipOutputStream and a list of objects.\r\n\r\n     public ZipOutPutStream setStream(ZipoutputStream zos, List&lt;Stores&gt; storesList){\r\n         zos.setLevel(1);\r\n         newRow = new StringBuilder();\r\n          for (Stores s: storesList) {\r\n            //clearing the stringbuilder each iteration\r\n            newRow.setLength(0);\r\n            newRow.append(s.getId());\r\n            newRow.append(&quot;,&quot;)\r\n                .append(s.getTitle()).append(s.getDescription());\r\n            newRow.append(&quot;\\n&quot;);\r\n          }\r\n          byte[] data = result.toString().getBytes();\r\n          zos.write(data, 0, data.length);\r\n          zos.closeEntry();\r\n          zos.close();\r\n          return zos;\r\n    }\r\n\r\nWhat should I be changing so that I am able to process very large lists?\r\n\r\n\r\n","title":"Memory allocation error when trying to create a large zip file in memory","body":"<p>The memory allocation error specifically seems to occur once it hits the for loop and only for very large storesLists. I only able to hit the memory allocation error if storesList.size() is about 2 million. I've pasted a snipped of the for loop which is supposed to create a new row based off each object in the loop.</p>\n<p>The function takes in a ZipOutputStream and a list of objects.</p>\n<pre><code> public ZipOutPutStream setStream(ZipoutputStream zos, List&lt;Stores&gt; storesList){\n     zos.setLevel(1);\n     newRow = new StringBuilder();\n      for (Stores s: storesList) {\n        //clearing the stringbuilder each iteration\n        newRow.setLength(0);\n        newRow.append(s.getId());\n        newRow.append(&quot;,&quot;)\n            .append(s.getTitle()).append(s.getDescription());\n        newRow.append(&quot;\\n&quot;);\n      }\n      byte[] data = result.toString().getBytes();\n      zos.write(data, 0, data.length);\n      zos.closeEntry();\n      zos.close();\n      return zos;\n}\n</code></pre>\n<p>What should I be changing so that I am able to process very large lists?</p>\n"},{"tags":["java","android","xml","directory","contentview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648127153,"post_id":71602015,"comment_id":126548833,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5028906,"reputation":923,"user_id":4039784,"display_name":"Hayssam Soussi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648122998,"creation_date":1648122998,"answer_id":71602071,"question_id":71602015,"body_markdown":"You&#39;re calling the wrong the folder. You need to move the xxx.xml to the `layout` folder\r\n\r\nAs the following:\r\n\r\n    R.layout.xmlfile -&gt; res/layout/xmlfile.xml\r\n    R.menu.xmlfile  -&gt; res/menu/xmlfile.xml","title":"How to setcontentView with subfolder","body":"<p>You're calling the wrong the folder. You need to move the xxx.xml to the <code>layout</code> folder</p>\n<p>As the following:</p>\n<pre><code>R.layout.xmlfile -&gt; res/layout/xmlfile.xml\nR.menu.xmlfile  -&gt; res/menu/xmlfile.xml\n</code></pre>\n"}],"owner":{"account_id":21265424,"reputation":25,"user_id":15950254,"display_name":"Drakan x"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648125557,"creation_date":1648122761,"question_id":71602015,"body_markdown":"i have this layout inside a folder menu\\&lt; xxx.xml\r\n\r\nHow suppose i call it in java? setContentView(R.layout.xxx.xml);(i got error)\r\n\r\ni already trying add the path to the gradle but without success","title":"How to setcontentView with subfolder","body":"<p>i have this layout inside a folder menu&lt; xxx.xml</p>\n<p>How suppose i call it in java? setContentView(R.layout.xxx.xml);(i got error)</p>\n<p>i already trying add the path to the gradle but without success</p>\n"},{"tags":["java","lambda","java-8","predicate"],"answers":[{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":2,"up_vote_count":34,"is_accepted":true,"score":32,"last_activity_date":1422621371,"creation_date":1422621371,"answer_id":28236099,"question_id":28235764,"body_markdown":"You would have to do `.filter(((Predicate&lt;String&gt;) String::isEmpty).negate())`\r\n\r\nIf you want, you can define \r\n\r\n\tstatic&lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; p) {\r\n\t\treturn t -&gt; !p.test(t);\r\n\t}\r\n\r\nand then\r\n\r\n\t.filter(not(String::isEmpty))\r\n\r\nbut I would just stick with `v -&gt; !v.isEmpty()`","title":"How can I negate a lambda Predicate?","body":"<p>You would have to do <code>.filter(((Predicate&lt;String&gt;) String::isEmpty).negate())</code></p>\n\n<p>If you want, you can define </p>\n\n<pre><code>static&lt;T&gt; Predicate&lt;T&gt; not(Predicate&lt;T&gt; p) {\n    return t -&gt; !p.test(t);\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>.filter(not(String::isEmpty))\n</code></pre>\n\n<p>but I would just stick with <code>v -&gt; !v.isEmpty()</code></p>\n"},{"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1422621420,"creation_date":1422621420,"answer_id":28236120,"question_id":28235764,"body_markdown":"It seems like you have to cast to `Predicate&lt;String&gt;` for this to work:\r\n\r\n    .filter(((Predicate&lt;String&gt;) (String::isEmpty)).negate())\r\n\r\nOf course, it would be much shorter to use a lambda in this case:\r\n\r\n    .filter(s -&gt; ! s.isEmpty())\r\n\r\n","title":"How can I negate a lambda Predicate?","body":"<p>It seems like you have to cast to <code>Predicate&lt;String&gt;</code> for this to work:</p>\n\n<pre><code>.filter(((Predicate&lt;String&gt;) (String::isEmpty)).negate())\n</code></pre>\n\n<p>Of course, it would be much shorter to use a lambda in this case:</p>\n\n<pre><code>.filter(s -&gt; ! s.isEmpty())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493271720,"creation_date":1493271720,"answer_id":43649460,"question_id":28235764,"body_markdown":"Instead of creating classes by yourself use [durian][1] utility library. It has a lot of [methods][2]: `and`, `or` and `not` of course:\r\n\r\n    import static com.diffplug.common.base.Predicates.not;\r\n\r\n    stream\r\n    .filter(Objects::nonNull)\r\n    .map(String::trim)\r\n    .filter(not(String::isEmpty));\r\n\r\n\r\n  [1]: https://github.com/diffplug/durian\r\n  [2]: https://diffplug.github.io/durian/javadoc/3.4.0/com/diffplug/common/base/Predicates.html","title":"How can I negate a lambda Predicate?","body":"<p>Instead of creating classes by yourself use <a href=\"https://github.com/diffplug/durian\" rel=\"nofollow noreferrer\">durian</a> utility library. It has a lot of <a href=\"https://diffplug.github.io/durian/javadoc/3.4.0/com/diffplug/common/base/Predicates.html\" rel=\"nofollow noreferrer\">methods</a>: <code>and</code>, <code>or</code> and <code>not</code> of course:</p>\n\n<pre><code>import static com.diffplug.common.base.Predicates.not;\n\nstream\n.filter(Objects::nonNull)\n.map(String::trim)\n.filter(not(String::isEmpty));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648125524,"creation_date":1648125524,"answer_id":71602698,"question_id":28235764,"body_markdown":"Starting from java 11 you can use [Predicate#not][1]\r\n\r\n```java\r\nimport static java.util.function.Predicate.not;\r\n\r\nstream\r\n.filter(Objects::nonNull)\r\n.map(String::trim)\r\n.filter(not(String::isEmpty));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html#not(java.util.function.Predicate)","title":"How can I negate a lambda Predicate?","body":"<p>Starting from java 11 you can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html#not(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Predicate#not</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.function.Predicate.not;\n\nstream\n.filter(Objects::nonNull)\n.map(String::trim)\n.filter(not(String::isEmpty));\n</code></pre>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14411,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":28236099,"answer_count":4,"score":33,"last_activity_date":1648125524,"creation_date":1422620201,"question_id":28235764,"body_markdown":"Lets say I have a Stream of Strings.\r\n\r\n&lt;!-- language: java --&gt;\r\n    \r\n    final Stream&lt;String&gt; stream = ...;\r\n\r\nI want to filter out each empty string after trimmed.\r\n\r\n    stream\r\n        .filter(Objects::nonNull)\r\n        .map(String::trim)\r\n        .filter(v -&gt; !v.isEmpty());\r\n\r\nIs there any way to apply [Predicate#negate()](https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#negate--) for replacing `v -&gt; !v.isEmpty()` part?\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    .filter(((Predicate) String::isEmpty).negate()) // not compile","title":"How can I negate a lambda Predicate?","body":"<p>Lets say I have a Stream of Strings.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final Stream&lt;String&gt; stream = ...;\n</code></pre>\n\n<p>I want to filter out each empty string after trimmed.</p>\n\n<pre><code>stream\n    .filter(Objects::nonNull)\n    .map(String::trim)\n    .filter(v -&gt; !v.isEmpty());\n</code></pre>\n\n<p>Is there any way to apply <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#negate--\">Predicate#negate()</a> for replacing <code>v -&gt; !v.isEmpty()</code> part?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>.filter(((Predicate) String::isEmpty).negate()) // not compile\n</code></pre>\n"},{"tags":["java","kotlin","rx-java","rx-java2"],"comments":[{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":1,"creation_date":1647969080,"post_id":71575862,"comment_id":126503158,"body_markdown":"I assume you subscribe on a different thread (Schedulers.io()) and the main thread does not wait for the other thread to finish/subscribe. Remove the .subscribeOn  and try it again - than the main thread should be used","body":"I assume you subscribe on a different thread (Schedulers.io()) and the main thread does not wait for the other thread to finish/subscribe. Remove the .subscribeOn  and try it again - than the main thread should be used"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1647974275,"post_id":71575862,"comment_id":126504964,"body_markdown":"Recommended reading: https://github.com/ReactiveX/RxJava#simple-background-computation","body":"Recommended reading: <a href=\"https://github.com/ReactiveX/RxJava#simple-background-computation\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava#simple-background-computation</a>"},{"owner":{"account_id":9332102,"reputation":354,"user_id":6927639,"accept_rate":71,"display_name":"John"},"score":0,"creation_date":1647977477,"post_id":71575862,"comment_id":126506042,"body_markdown":"@KevinWallis yep, you was right. But shouldn&#39;t the program wait until IO finish it&#39;s work? Or all of the rx threads run like a daemon threads?","body":"@KevinWallis yep, you was right. But shouldn&#39;t the program wait until IO finish it&#39;s work? Or all of the rx threads run like a daemon threads?"},{"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"score":0,"creation_date":1648066236,"post_id":71575862,"comment_id":126533265,"body_markdown":"@Nick it depends - see my answer. There are a lot of different scenarios sometimes it should wait and sometimes it should just do the expensive work in the background.","body":"@Nick it depends - see my answer. There are a lot of different scenarios sometimes it should wait and sometimes it should just do the expensive work in the background."}],"answers":[{"tags":[],"owner":{"account_id":8067843,"reputation":3948,"user_id":6081445,"accept_rate":100,"display_name":"wake-0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648125510,"creation_date":1648066171,"answer_id":71593432,"question_id":71575862,"body_markdown":"The problem with your code is that you subscribe on another thread as you current thread (main). Therefore, your main thread finishes before the subscribe for individual items is called.\r\n\r\nHere is an example code with a stacktrace:\r\n   \r\n    System.out.println(Thread.currentThread().getName() + &quot;: start...&quot;);\r\n\r\n    Observable&lt;String&gt; stream = Observable.fromIterable(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    stream.subscribeOn(Schedulers.io())\r\n          .subscribe(next -&gt; System.out.println(Thread.currentThread().getName() + &quot;: &quot; + next), \r\n                     error -&gt; error.printStackTrace());\r\n\r\n    Thread.sleep(1000L);\r\n\r\n    System.out.println(Thread.currentThread().getName() + &quot;: stop...&quot;);\r\n\r\nStacktrace:\r\n\r\n    main: start...\r\n    RxCachedThreadScheduler-1: a\r\n    RxCachedThreadScheduler-1: b\r\n    RxCachedThreadScheduler-1: c\r\n    main: stop...\r\n\r\nIt is shown that the observable is created in the `main` thread. The execution from the subscribe is done in a different thread `RxCachedThreadScheduler-1`.\r\n\r\nAn example with execution on the same thread:\r\n\r\n    System.out.println(Thread.currentThread().getName() + &quot;: start...&quot;);\r\n\r\n    Observable&lt;String&gt; stream = Observable.fromIterable(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    stream.subscribe(next -&gt; System.out.println(Thread.currentThread().getName() + &quot;: &quot; + next), \r\n                     error -&gt; error.printStackTrace());\r\n  \r\n    System.out.println(Thread.currentThread().getName() + &quot;: stop...&quot;);\r\n\r\nStacktrace:\r\n\r\n    main: start...\r\n    main: a\r\n    main: b\r\n    main: c\r\n    main: stop...\r\n\r\nDepending on the use case it can be necessary to wait for the stream execution to finish before the method is further processed e.g. by using the same thread or a `FutureObserver`. In other use cases outsourcing of computational expensive operations into a different thread is a feasible solution. \r\n\r\n\r\n----------\r\n\r\nTo the question is it a daemon thread? The answer is **yes**. I have attached the test code:\r\n\r\n    String message = String.format(&quot;%s-isDaemon?%s: start...&quot;, Thread.currentThread().getName(), Thread.currentThread().isDaemon());\r\n    System.out.println(message);\r\n\r\n    Observable&lt;String&gt; stream = Observable.fromIterable(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    stream.subscribeOn(Schedulers.io())\r\n          .subscribe(next -&gt; {\r\n                     final String innerMessage = String.format(&quot;%s-isDaemon?%s: %s&quot;, Thread.currentThread().getName(), Thread.currentThread().isDaemon(), next);\r\n                     System.out.println(innerMessage);\r\n                     },\r\n                     Throwable::printStackTrace);\r\n\r\n    Thread.sleep(1000L);\r\n\r\n    message = String.format(&quot;%s-isDaemon?%s: stop...&quot;, Thread.currentThread().getName(), Thread.currentThread().isDaemon());\r\n    System.out.println(message);\r\n\r\nOutput of the stackrace:\r\n\r\n    main-isDaemon?false: start...\r\n    RxCachedThreadScheduler-1-isDaemon?true: a\r\n    RxCachedThreadScheduler-1-isDaemon?true: b\r\n    RxCachedThreadScheduler-1-isDaemon?true: c\r\n    main-isDaemon?false: stop...","title":"Trouble with subscribe to Observable in RxJava","body":"<p>The problem with your code is that you subscribe on another thread as you current thread (main). Therefore, your main thread finishes before the subscribe for individual items is called.</p>\n<p>Here is an example code with a stacktrace:</p>\n<pre><code>System.out.println(Thread.currentThread().getName() + &quot;: start...&quot;);\n\nObservable&lt;String&gt; stream = Observable.fromIterable(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\nstream.subscribeOn(Schedulers.io())\n      .subscribe(next -&gt; System.out.println(Thread.currentThread().getName() + &quot;: &quot; + next), \n                 error -&gt; error.printStackTrace());\n\nThread.sleep(1000L);\n\nSystem.out.println(Thread.currentThread().getName() + &quot;: stop...&quot;);\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>main: start...\nRxCachedThreadScheduler-1: a\nRxCachedThreadScheduler-1: b\nRxCachedThreadScheduler-1: c\nmain: stop...\n</code></pre>\n<p>It is shown that the observable is created in the <code>main</code> thread. The execution from the subscribe is done in a different thread <code>RxCachedThreadScheduler-1</code>.</p>\n<p>An example with execution on the same thread:</p>\n<pre><code>System.out.println(Thread.currentThread().getName() + &quot;: start...&quot;);\n\nObservable&lt;String&gt; stream = Observable.fromIterable(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\nstream.subscribe(next -&gt; System.out.println(Thread.currentThread().getName() + &quot;: &quot; + next), \n                 error -&gt; error.printStackTrace());\n\nSystem.out.println(Thread.currentThread().getName() + &quot;: stop...&quot;);\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>main: start...\nmain: a\nmain: b\nmain: c\nmain: stop...\n</code></pre>\n<p>Depending on the use case it can be necessary to wait for the stream execution to finish before the method is further processed e.g. by using the same thread or a <code>FutureObserver</code>. In other use cases outsourcing of computational expensive operations into a different thread is a feasible solution.</p>\n<hr />\n<p>To the question is it a daemon thread? The answer is <strong>yes</strong>. I have attached the test code:</p>\n<pre><code>String message = String.format(&quot;%s-isDaemon?%s: start...&quot;, Thread.currentThread().getName(), Thread.currentThread().isDaemon());\nSystem.out.println(message);\n\nObservable&lt;String&gt; stream = Observable.fromIterable(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\nstream.subscribeOn(Schedulers.io())\n      .subscribe(next -&gt; {\n                 final String innerMessage = String.format(&quot;%s-isDaemon?%s: %s&quot;, Thread.currentThread().getName(), Thread.currentThread().isDaemon(), next);\n                 System.out.println(innerMessage);\n                 },\n                 Throwable::printStackTrace);\n\nThread.sleep(1000L);\n\nmessage = String.format(&quot;%s-isDaemon?%s: stop...&quot;, Thread.currentThread().getName(), Thread.currentThread().isDaemon());\nSystem.out.println(message);\n</code></pre>\n<p>Output of the stackrace:</p>\n<pre><code>main-isDaemon?false: start...\nRxCachedThreadScheduler-1-isDaemon?true: a\nRxCachedThreadScheduler-1-isDaemon?true: b\nRxCachedThreadScheduler-1-isDaemon?true: c\nmain-isDaemon?false: stop...\n</code></pre>\n"}],"owner":{"account_id":9332102,"reputation":354,"user_id":6927639,"accept_rate":71,"display_name":"John"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71593432,"answer_count":1,"score":2,"last_activity_date":1648125510,"creation_date":1647967636,"question_id":71575862,"body_markdown":"I have an issue where my program are not getting the result from `Observable` in `subscribe()` method.\r\n\r\nI&#39;m trying to build simple console app that runs a request to the server and then prints to console the result. And as I see everything works fine but I just can&#39;t get the result in `subsribe()`. It seems like the app finishes before the result is returned to the method.\r\n\r\nHere is my code running the rquest:\r\n\r\n    coffeeShopApi.getCoffeeShops(&quot;&quot;)\r\n        .subscribeOn(Schedulers.io())\r\n        .subscribe({\r\n             state.onNext(CoffeeShopViewState.CoffeeShopsLoaded(it))\r\n        }, {\r\n             it.printStackTrace()\r\n             state.onNext(CoffeeShopViewState.Error(it.localizedMessage))\r\n        })\r\n\r\nAfter this code is executed the program just finish with exit code 0. And also it runs from main function in the main thread. What could be an issue here?","title":"Trouble with subscribe to Observable in RxJava","body":"<p>I have an issue where my program are not getting the result from <code>Observable</code> in <code>subscribe()</code> method.</p>\n<p>I'm trying to build simple console app that runs a request to the server and then prints to console the result. And as I see everything works fine but I just can't get the result in <code>subsribe()</code>. It seems like the app finishes before the result is returned to the method.</p>\n<p>Here is my code running the rquest:</p>\n<pre><code>coffeeShopApi.getCoffeeShops(&quot;&quot;)\n    .subscribeOn(Schedulers.io())\n    .subscribe({\n         state.onNext(CoffeeShopViewState.CoffeeShopsLoaded(it))\n    }, {\n         it.printStackTrace()\n         state.onNext(CoffeeShopViewState.Error(it.localizedMessage))\n    })\n</code></pre>\n<p>After this code is executed the program just finish with exit code 0. And also it runs from main function in the main thread. What could be an issue here?</p>\n"},{"tags":["java","android","kotlin","enums"],"answers":[{"tags":[],"owner":{"account_id":19887545,"reputation":66,"user_id":14570257,"display_name":"yH20"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648124802,"creation_date":1648124802,"answer_id":71602540,"question_id":71602339,"body_markdown":"This actually not how you retrieve a getter function in Java. Please refer this: [https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions][1] &lt;br&gt;\r\nBasically you have to add your package name like packageName.Week.getPrintableName()\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions","title":"Error retrieving the value in an enum class","body":"<p>This actually not how you retrieve a getter function in Java. Please refer this: <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/java-to-kotlin-interop.html#package-level-functions</a> <br>\nBasically you have to add your package name like packageName.Week.getPrintableName()</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648125051,"creation_date":1648125051,"answer_id":71602601,"question_id":71602339,"body_markdown":"Write the [full path][1] from `root` of you project into the day or color field\r\n\r\n    String day = pathFromRoot.Week.FRIDAY.getPrintableName();\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html","title":"Error retrieving the value in an enum class","body":"<p>Write the <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">full path</a> from <code>root</code> of you project into the day or color field</p>\n<pre><code>String day = pathFromRoot.Week.FRIDAY.getPrintableName();\n</code></pre>\n"}],"owner":{"account_id":1482449,"reputation":3885,"user_id":1391483,"accept_rate":73,"display_name":"Sergio76"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71602601,"answer_count":2,"score":0,"last_activity_date":1648125430,"creation_date":1648124034,"question_id":71602339,"body_markdown":"in my application I want to create a very basic enum class, like this one:\r\n\r\n    enum class Week (val printableName: String) {\r\n        MONDAY(&quot;Monday&quot;),\r\n        TUESDAY(&quot;Tuesday&quot;),\r\n        WEDNESDAY(&quot;Wednesday&quot;),\r\n        THURSDAY(&quot;Thursday&quot;),\r\n        FRIDAY(&quot;Friday&quot;),\r\n        SATURDAY(&quot;Saturday&quot;),\r\n        SUNDAY(&quot;Sunday&quot;)\r\n    }\r\n\r\nand I want to retrieve the printablenName **from an activity in java**, not in kotlin.\r\n\r\nI do it as follows:\r\n\r\n    String day = Week.FRIDAY.getPrintableName();\r\n\r\nHowever, I always get the same error:\r\n\r\n    error: package Week does not exist\r\n    String color = Week.FRIDAY.getPrintableName();\r\n\r\nWhat am I forgetting?","title":"Error retrieving the value in an enum class","body":"<p>in my application I want to create a very basic enum class, like this one:</p>\n<pre><code>enum class Week (val printableName: String) {\n    MONDAY(&quot;Monday&quot;),\n    TUESDAY(&quot;Tuesday&quot;),\n    WEDNESDAY(&quot;Wednesday&quot;),\n    THURSDAY(&quot;Thursday&quot;),\n    FRIDAY(&quot;Friday&quot;),\n    SATURDAY(&quot;Saturday&quot;),\n    SUNDAY(&quot;Sunday&quot;)\n}\n</code></pre>\n<p>and I want to retrieve the printablenName <strong>from an activity in java</strong>, not in kotlin.</p>\n<p>I do it as follows:</p>\n<pre><code>String day = Week.FRIDAY.getPrintableName();\n</code></pre>\n<p>However, I always get the same error:</p>\n<pre><code>error: package Week does not exist\nString color = Week.FRIDAY.getPrintableName();\n</code></pre>\n<p>What am I forgetting?</p>\n"},{"tags":["java","xml","spring","maven"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1648122754,"post_id":71601962,"comment_id":126546998,"body_markdown":"Does this answer your question? [Where should beans.xml be placed?](https://stackoverflow.com/questions/8991561/where-should-beans-xml-be-placed)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8991561/where-should-beans-xml-be-placed\">Where should beans.xml be placed?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19118784,"reputation":79,"user_id":13963141,"display_name":"Flying Nimbus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648125413,"creation_date":1648125413,"answer_id":71602676,"question_id":71601962,"body_markdown":"Stupid mistake, inside my pom file the directory was like the following:\r\n\r\n      &lt;build&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;src/resources&lt;/directory&gt;\r\n         &lt;includes&gt;\r\n             &lt;include&gt;**/*.properties&lt;/include&gt;\r\n             &lt;include&gt;**/*.xml&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n          &lt;exclude&gt;**/*.jpeg&lt;/exclude&gt;\r\n          &lt;exclude&gt;**/*.gif&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n      &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n\r\nMy resources folder was not inside src/main/resources, but src/resources. \r\nAnd when I open my jar file the Beans.xml file this there and the code runs without error.","title":"source [Beans.xml] cannot be opened because it does not exist","body":"<p>Stupid mistake, inside my pom file the directory was like the following:</p>\n<pre><code>  &lt;build&gt;\n&lt;resources&gt;\n  &lt;resource&gt;\n    &lt;directory&gt;src/resources&lt;/directory&gt;\n     &lt;includes&gt;\n         &lt;include&gt;**/*.properties&lt;/include&gt;\n         &lt;include&gt;**/*.xml&lt;/include&gt;\n    &lt;/includes&gt;\n    &lt;excludes&gt;\n      &lt;exclude&gt;**/*.jpeg&lt;/exclude&gt;\n      &lt;exclude&gt;**/*.gif&lt;/exclude&gt;\n    &lt;/excludes&gt;\n  &lt;/resource&gt;\n</code></pre>\n\n<p>My resources folder was not inside src/main/resources, but src/resources.\nAnd when I open my jar file the Beans.xml file this there and the code runs without error.</p>\n"}],"owner":{"account_id":19118784,"reputation":79,"user_id":13963141,"display_name":"Flying Nimbus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648125413,"creation_date":1648122558,"question_id":71601962,"body_markdown":"I&#39;m trying to package a Spring Project with Maven, but the Beans.xml file is missing.\r\nA lot of people suggest to put the Bean.xml file in the main/resources, but it does not work for me. I think that only works for Eclipse user and I&#39;m just compiling in the terminal using &#39;mvn clean install&#39;.\r\n\r\n\r\n","title":"source [Beans.xml] cannot be opened because it does not exist","body":"<p>I'm trying to package a Spring Project with Maven, but the Beans.xml file is missing.\nA lot of people suggest to put the Bean.xml file in the main/resources, but it does not work for me. I think that only works for Eclipse user and I'm just compiling in the terminal using 'mvn clean install'.</p>\n"},{"tags":["java","android","maven","gradle"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648116041,"post_id":71600092,"comment_id":126544482,"body_markdown":"`if (!tmp.exists()) {\n            tmp.mkdirs();\n        }` You mean: `if (!tmp.exists()) {\n            if(!tmp.mkdirs() return;\n        }`","body":"<code>if (!tmp.exists()) {             tmp.mkdirs();         }</code> You mean: <code>if (!tmp.exists()) {             if(!tmp.mkdirs() return;         }</code>"},{"owner":{"display_name":"user18556147"},"score":0,"creation_date":1648117954,"post_id":71600092,"comment_id":126545172,"body_markdown":"the folder cwebp_tmp is being created but still the exception is being raised.","body":"the folder cwebp_tmp is being created but still the exception is being raised."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648118077,"post_id":71600092,"comment_id":126545213,"body_markdown":"We cannot see with which parameter values you call that function. Further you did not tell absolute path of created folder.","body":"We cannot see with which parameter values you call that function. Further you did not tell absolute path of created folder."},{"owner":{"display_name":"user18556147"},"score":0,"creation_date":1648119065,"post_id":71600092,"comment_id":126545645,"body_markdown":"btw thank you for responding. Well function take source and destination path. Using those paths to process images using cwebp/dwebp/gif2webp tool  https://developers.google.com/speed/webp/docs/dwebp . which should be temporary copied to temp folder and from there the command will be executed using execute function.","body":"btw thank you for responding. Well function take source and destination path. Using those paths to process images using cwebp/dwebp/gif2webp tool  <a href=\"https://developers.google.com/speed/webp/docs/dwebp\" rel=\"nofollow noreferrer\">developers.google.com/speed/webp/docs/dwebp</a> . which should be temporary copied to temp folder and from there the command will be executed using execute function."},{"owner":{"display_name":"user18556147"},"score":0,"creation_date":1648119616,"post_id":71600092,"comment_id":126545867,"body_markdown":"IF you are android developer can you confirm that the error won&#39;t be due to usage of this instead of context here? as we can see dev has used this.init in constructor and the folder is being created but could not access. I am not sure if this is due to context. I am trying to include context in this package.","body":"IF you are android developer can you confirm that the error won&#39;t be due to usage of this instead of context here? as we can see dev has used this.init in constructor and the folder is being created but could not access. I am not sure if this is due to context. I am trying to include context in this package."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648119823,"post_id":71600092,"comment_id":126545949,"body_markdown":"You did not tell the values of source and destination path although i asked for them. Further you did not tell full path of directory. Also that was asked.","body":"You did not tell the values of source and destination path although i asked for them. Further you did not tell full path of directory. Also that was asked."},{"owner":{"display_name":"user18556147"},"score":0,"creation_date":1648121832,"post_id":71600092,"comment_id":126546668,"body_markdown":"/storage/emulated/0/Download is the path for src and dest but that is not used yet the code is stuck at using the tool first. the image path are parameter to be passed to the cwebp/dwebp/gif2webp tool. So first it should access the tool.","body":"/storage/emulated/0/Download is the path for src and dest but that is not used yet the code is stuck at using the tool first. the image path are parameter to be passed to the cwebp/dwebp/gif2webp tool. So first it should access the tool."},{"owner":{"display_name":"user18556147"},"score":0,"creation_date":1648123650,"post_id":71600092,"comment_id":126547340,"body_markdown":"and if(!tmp.mkdirs() executing all time","body":"and if(!tmp.mkdirs() executing all time"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648123930,"post_id":71600092,"comment_id":126547446,"body_markdown":"You mean that the directory never gets created? Well then start with that problem. But .. you said earlier `the folder cwebp_tmp is being created` So what can we believe?","body":"You mean that the directory never gets created? Well then start with that problem. But .. you said earlier <code>the folder cwebp_tmp is being created</code> So what can we believe?"},{"owner":{"display_name":"user18556147"},"score":0,"creation_date":1648124107,"post_id":71600092,"comment_id":126547528,"body_markdown":"yes that folder being created but still !tmp.mkdirs() is true and not only that !tmp.exists() return true as well","body":"yes that folder being created but still !tmp.mkdirs() is true and not only that !tmp.exists() return true as well"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648125956,"post_id":71600092,"comment_id":126548298,"body_markdown":"mkdirs() is only called if the directory does not exist yet. So how can you say that the directory exists when it is always called? The directory is never created i would think thats why mkdirs() returns false.","body":"mkdirs() is only called if the directory does not exist yet. So how can you say that the directory exists when it is always called? The directory is never created i would think thats why mkdirs() returns false."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648126042,"post_id":71600092,"comment_id":126548343,"body_markdown":"`!tmp.exists() return true as well` Strange and confusing way of talking. Better:  tmp.exists() returns false.","body":"<code>!tmp.exists() return true as well</code> Strange and confusing way of talking. Better:  tmp.exists() returns false."},{"owner":{"display_name":"user18556147"},"score":0,"creation_date":1648126723,"post_id":71600092,"comment_id":126548638,"body_markdown":"Ok this line throws the exceptions ```copy(dwebp, new File(tmp.getPath() + &quot;/dwebp&quot; + extension));```","body":"Ok this line throws the exceptions <code>copy(dwebp, new File(tmp.getPath() + &quot;&#47;dwebp&quot; + extension));</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648126930,"post_id":71600092,"comment_id":126548726,"body_markdown":"If you dont tell value of all those paths then how would we know what you are doing? And does it have to do something with the directory you cannot create? Dont let us guess all.","body":"If you dont tell value of all those paths then how would we know what you are doing? And does it have to do something with the directory you cannot create? Dont let us guess all."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648127520,"post_id":71600092,"comment_id":126548985,"body_markdown":"`File tmp = new File(webpTmpDir)` My god .. you use only a folder name where the File class expects a full path. No wonder exists() returns false and mkdirs() too as it needs a full path. How could you ever tell us that the directory is created?","body":"<code>File tmp = new File(webpTmpDir)</code> My god .. you use only a folder name where the File class expects a full path. No wonder exists() returns false and mkdirs() too as it needs a full path. How could you ever tell us that the directory is created?"},{"owner":{"display_name":"user18556147"},"score":0,"creation_date":1648132086,"post_id":71600092,"comment_id":126551141,"body_markdown":"I think once I created the folder manually and assumed that it created by code. I removed that and yeah now not creating directories. my bad. The main cause is creating the directory.","body":"I think once I created the folder manually and assumed that it created by code. I removed that and yeah now not creating directories. my bad. The main cause is creating the directory."}],"owner":{"display_name":"user18556147"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648125000,"creation_date":1648114924,"question_id":71600092,"body_markdown":"I am trying to use [webp-io][1] in android project\r\n\r\nWhen I invoke the function``` WebpIO.create().toNormalImage(src,dest);``` it throwing ```FileNotFound``` exception\r\n\r\nThe App has read write permission. \r\nand I can see the folder is created named as cwebp_tmp but still exception is ```No such file or folder```\r\n\r\n```console\r\n Error: reject normal resason :io.github.biezhi.webp.WebpIOException: java.io.FileNotFoundException: cwebp_tmp/dwebp: open failed: ENOENT (No such file or directory)\r\n```\r\n```java\r\npublic class WebpIO {\r\n\r\n    /**\r\n     * cwebp/dwebp/gif2webp\r\n     * &lt;p&gt;\r\n     * binary command file path\r\n     */\r\n    private static final String OS_NAME  = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n    private static final String OS_ARCH  = System.getProperty(&quot;os.arch&quot;).toLowerCase();\r\n    private static final String DEV_MODE = System.getProperty(&quot;webp-io.devMode&quot;, &quot;false&quot;);\r\n\r\n    private String commandDir;\r\n    private String webpTmpDir = &quot;cwebp_tmp&quot;;\r\n\r\n    public WebpIO() {\r\n        this.init();\r\n    }\r\n\r\n    private void init() {\r\n        String osName   = getOsName();\r\n        String webpPath = &quot;cwebp/&quot; + osName;\r\n\r\n        if (Boolean.TRUE.toString().equals(DEV_MODE.toUpperCase())) {\r\n            this.commandDir = WebpIO.class.getResource(&quot;/&quot;).getPath() + webpPath;\r\n            return;\r\n        }\r\n\r\n        // copy to tmp dir\r\n        File tmp = new File(webpTmpDir);\r\n        if (!tmp.exists()) {\r\n            tmp.mkdirs();\r\n        }\r\n\r\n        this.commandDir = tmp.getPath();\r\n\r\n        String extension = getExtensionByOs(osName);\r\n\r\n        InputStream dwebp    = getInputStream(&quot;/&quot; + webpPath + &quot;/dwebp&quot; + extension);\r\n        InputStream cwebp    = getInputStream(&quot;/&quot; + webpPath + &quot;/cwebp&quot; + extension);\r\n        InputStream gif2webp = getInputStream(&quot;/&quot; + webpPath + &quot;/gif2webp&quot; + extension);\r\n\r\n        try {\r\n            copy(dwebp, new File(tmp.getPath() + &quot;/dwebp&quot; + extension));\r\n            copy(cwebp, new File(tmp.getPath() + &quot;/cwebp&quot; + extension));\r\n            copy(gif2webp, new File(tmp.getPath() + &quot;/gif2webp&quot; + extension));\r\n        } catch (Exception e) {\r\n            throw new WebpIOException(e);\r\n        }\r\n    }\r\n\r\n    public static WebpIO create() {\r\n        return new WebpIO();\r\n    }\r\n\r\n    private InputStream getInputStream(String subPath) {\r\n        return WebpIO.class.getResourceAsStream(subPath);\r\n    }\r\n\r\n    /**\r\n     * Converter webp file to normal image\r\n     *\r\n     * @param src  webp file path\r\n     * @param dest normal image path\r\n     */\r\n    public void toNormalImage(String src, String dest) {\r\n        toNormalImage(new File(src), new File(dest));\r\n    }\r\n\r\n    /**\r\n     * Converter webp file to normal image\r\n     *\r\n     * @param src  webp file path\r\n     * @param dest normal image path\r\n     */\r\n    public void toNormalImage(File src, File dest) {\r\n        String command = commandDir + (dest.getName().endsWith(&quot;.gif&quot;) ? &quot;/gif2webp&quot; : &quot;/dwebp &quot;) + src.getPath() + &quot; -o &quot; + dest.getPath();\r\n        this.executeCommand(command);\r\n    }\r\n\r\n    /**\r\n     * Convert normal image to webp file\r\n     *\r\n     * @param src  nomal image path\r\n     * @param dest webp file path\r\n     */\r\n    public void toWEBP(String src, String dest) {\r\n        toWEBP(new File(src), new File(dest));\r\n    }\r\n\r\n    /**\r\n     * Convert normal image to webp file\r\n     *\r\n     * @param src  nomal image path\r\n     * @param dest webp file path\r\n     */\r\n    public void toWEBP(File src, File dest) {\r\n        try {\r\n            String command = commandDir + (src.getName().endsWith(&quot;.gif&quot;) ? &quot;/gif2webp &quot; : &quot;/cwebp &quot;) + src.getPath() + &quot; -o &quot; + dest.getPath();\r\n            this.executeCommand(command);\r\n        } catch (Exception e) {\r\n            throw new WebpIOException(e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * execute command\r\n     *\r\n     * @param command command direct\r\n     * @return\r\n     */\r\n    private String executeCommand(String command) {\r\n        System.out.println(&quot;Execute: &quot; + command);\r\n\r\n        StringBuilder output = new StringBuilder();\r\n        Process       p;\r\n        try {\r\n            p = Runtime.getRuntime().exec(command);\r\n            p.waitFor();\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            String         line;\r\n            while ((line = reader.readLine()) != null) {\r\n                output.append(line).append(&quot;\\n&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new WebpIOException(e);\r\n        }\r\n        if (!&quot;&quot;.equals(output.toString())) {\r\n            System.out.println(&quot;Output: &quot; + output);\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    /**\r\n     * delete temp dir and commands\r\n     */\r\n    public void close() {\r\n        File tmp = new File(webpTmpDir);\r\n        if (tmp.exists() &amp;&amp; tmp.isDirectory()) {\r\n            File[] files = tmp.listFiles();\r\n            for (File file : Objects.requireNonNull(files)) {\r\n                file.delete();\r\n            }\r\n            tmp.delete();\r\n        }\r\n    }\r\n\r\n    private void copy(InputStream in, File dest) throws IOException {\r\n        OutputStream out    = new FileOutputStream(dest);\r\n        byte[]       buffer = new byte[1024];\r\n        int          length;\r\n        //copy the file content in bytes\r\n        while ((length = in.read(buffer)) &gt; 0) {\r\n            out.write(buffer, 0, length);\r\n        }\r\n        dest.setExecutable(true);\r\n        in.close();\r\n        out.close();\r\n    }\r\n\r\n    /**\r\n     * get os name and arch\r\n     *\r\n     * @return\r\n     */\r\n    private String getOsName() {\r\n        // windows\r\n        if (OS_NAME.contains(&quot;win&quot;)) {\r\n            boolean is64bit = (System.getenv(&quot;ProgramFiles(x86)&quot;) != null);\r\n            return &quot;windows_&quot; + (is64bit ? &quot;x86_64&quot; : &quot;x86&quot;);\r\n        } else if (OS_NAME.contains(&quot;mac&quot;)) {\r\n            // mac osx\r\n            return &quot;mac_&quot; + OS_ARCH;\r\n        } else if (OS_NAME.contains(&quot;nix&quot;) || OS_NAME.contains(&quot;nux&quot;) || OS_NAME.indexOf(&quot;aix&quot;) &gt; 0) {\r\n            // unix\r\n            return &quot;amd64&quot;.equalsIgnoreCase(OS_ARCH) ? &quot;linux_x86_64&quot; : &quot;linux_&quot; + OS_ARCH;\r\n        } else {\r\n            throw new WebpIOException(&quot;Hi boy, Your OS is not support!!&quot;);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Return the Os specific extension\r\n     *\r\n     * @param os: operating system name\r\n     */\r\n    private String getExtensionByOs(String os) {\r\n        if (os == null || os.isEmpty()) return &quot;&quot;;\r\n        else if (os.contains(&quot;win&quot;)) return &quot;.exe&quot;;\r\n        return &quot;&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nConfigs\r\n\r\n.gradle\r\n```gradle\r\n    // https://mvnrepository.com/artifact/io.github.biezhi/webp-io\r\n    implementation &#39;io.github.biezhi:webp-io:0.0.5&#39;\r\n```\r\n.xml\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n    &lt;provider\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        ...\r\n```\r\n\r\nYou can check the folders structure of tools cweb dweb gif2webp [here][2]\r\nThe developer is inactive on this repo. I have no idea how to fix this.\r\nThanks in advance\r\n\r\n\r\n  [1]: https://github.com/hellokaton/webp-io\r\n  [2]: https://github.com/hellokaton/webp-io/tree/master/src/main/resources/cwebp","title":"Android: java.io.FileNotFoundException: cwebp_tmp/dwebp: open failed: ENOENT (No such file or directory)","body":"<p>I am trying to use <a href=\"https://github.com/hellokaton/webp-io\" rel=\"nofollow noreferrer\">webp-io</a> in android project</p>\n<p>When I invoke the function<code> WebpIO.create().toNormalImage(src,dest);</code> it throwing <code>FileNotFound</code> exception</p>\n<p>The App has read write permission.\nand I can see the folder is created named as cwebp_tmp but still exception is <code>No such file or folder</code></p>\n<pre><code> Error: reject normal resason :io.github.biezhi.webp.WebpIOException: java.io.FileNotFoundException: cwebp_tmp/dwebp: open failed: ENOENT (No such file or directory)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebpIO {\n\n    /**\n     * cwebp/dwebp/gif2webp\n     * &lt;p&gt;\n     * binary command file path\n     */\n    private static final String OS_NAME  = System.getProperty(&quot;os.name&quot;).toLowerCase();\n    private static final String OS_ARCH  = System.getProperty(&quot;os.arch&quot;).toLowerCase();\n    private static final String DEV_MODE = System.getProperty(&quot;webp-io.devMode&quot;, &quot;false&quot;);\n\n    private String commandDir;\n    private String webpTmpDir = &quot;cwebp_tmp&quot;;\n\n    public WebpIO() {\n        this.init();\n    }\n\n    private void init() {\n        String osName   = getOsName();\n        String webpPath = &quot;cwebp/&quot; + osName;\n\n        if (Boolean.TRUE.toString().equals(DEV_MODE.toUpperCase())) {\n            this.commandDir = WebpIO.class.getResource(&quot;/&quot;).getPath() + webpPath;\n            return;\n        }\n\n        // copy to tmp dir\n        File tmp = new File(webpTmpDir);\n        if (!tmp.exists()) {\n            tmp.mkdirs();\n        }\n\n        this.commandDir = tmp.getPath();\n\n        String extension = getExtensionByOs(osName);\n\n        InputStream dwebp    = getInputStream(&quot;/&quot; + webpPath + &quot;/dwebp&quot; + extension);\n        InputStream cwebp    = getInputStream(&quot;/&quot; + webpPath + &quot;/cwebp&quot; + extension);\n        InputStream gif2webp = getInputStream(&quot;/&quot; + webpPath + &quot;/gif2webp&quot; + extension);\n\n        try {\n            copy(dwebp, new File(tmp.getPath() + &quot;/dwebp&quot; + extension));\n            copy(cwebp, new File(tmp.getPath() + &quot;/cwebp&quot; + extension));\n            copy(gif2webp, new File(tmp.getPath() + &quot;/gif2webp&quot; + extension));\n        } catch (Exception e) {\n            throw new WebpIOException(e);\n        }\n    }\n\n    public static WebpIO create() {\n        return new WebpIO();\n    }\n\n    private InputStream getInputStream(String subPath) {\n        return WebpIO.class.getResourceAsStream(subPath);\n    }\n\n    /**\n     * Converter webp file to normal image\n     *\n     * @param src  webp file path\n     * @param dest normal image path\n     */\n    public void toNormalImage(String src, String dest) {\n        toNormalImage(new File(src), new File(dest));\n    }\n\n    /**\n     * Converter webp file to normal image\n     *\n     * @param src  webp file path\n     * @param dest normal image path\n     */\n    public void toNormalImage(File src, File dest) {\n        String command = commandDir + (dest.getName().endsWith(&quot;.gif&quot;) ? &quot;/gif2webp&quot; : &quot;/dwebp &quot;) + src.getPath() + &quot; -o &quot; + dest.getPath();\n        this.executeCommand(command);\n    }\n\n    /**\n     * Convert normal image to webp file\n     *\n     * @param src  nomal image path\n     * @param dest webp file path\n     */\n    public void toWEBP(String src, String dest) {\n        toWEBP(new File(src), new File(dest));\n    }\n\n    /**\n     * Convert normal image to webp file\n     *\n     * @param src  nomal image path\n     * @param dest webp file path\n     */\n    public void toWEBP(File src, File dest) {\n        try {\n            String command = commandDir + (src.getName().endsWith(&quot;.gif&quot;) ? &quot;/gif2webp &quot; : &quot;/cwebp &quot;) + src.getPath() + &quot; -o &quot; + dest.getPath();\n            this.executeCommand(command);\n        } catch (Exception e) {\n            throw new WebpIOException(e);\n        }\n    }\n\n    /**\n     * execute command\n     *\n     * @param command command direct\n     * @return\n     */\n    private String executeCommand(String command) {\n        System.out.println(&quot;Execute: &quot; + command);\n\n        StringBuilder output = new StringBuilder();\n        Process       p;\n        try {\n            p = Runtime.getRuntime().exec(command);\n            p.waitFor();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            String         line;\n            while ((line = reader.readLine()) != null) {\n                output.append(line).append(&quot;\\n&quot;);\n            }\n        } catch (Exception e) {\n            throw new WebpIOException(e);\n        }\n        if (!&quot;&quot;.equals(output.toString())) {\n            System.out.println(&quot;Output: &quot; + output);\n        }\n        return &quot;&quot;;\n    }\n\n    /**\n     * delete temp dir and commands\n     */\n    public void close() {\n        File tmp = new File(webpTmpDir);\n        if (tmp.exists() &amp;&amp; tmp.isDirectory()) {\n            File[] files = tmp.listFiles();\n            for (File file : Objects.requireNonNull(files)) {\n                file.delete();\n            }\n            tmp.delete();\n        }\n    }\n\n    private void copy(InputStream in, File dest) throws IOException {\n        OutputStream out    = new FileOutputStream(dest);\n        byte[]       buffer = new byte[1024];\n        int          length;\n        //copy the file content in bytes\n        while ((length = in.read(buffer)) &gt; 0) {\n            out.write(buffer, 0, length);\n        }\n        dest.setExecutable(true);\n        in.close();\n        out.close();\n    }\n\n    /**\n     * get os name and arch\n     *\n     * @return\n     */\n    private String getOsName() {\n        // windows\n        if (OS_NAME.contains(&quot;win&quot;)) {\n            boolean is64bit = (System.getenv(&quot;ProgramFiles(x86)&quot;) != null);\n            return &quot;windows_&quot; + (is64bit ? &quot;x86_64&quot; : &quot;x86&quot;);\n        } else if (OS_NAME.contains(&quot;mac&quot;)) {\n            // mac osx\n            return &quot;mac_&quot; + OS_ARCH;\n        } else if (OS_NAME.contains(&quot;nix&quot;) || OS_NAME.contains(&quot;nux&quot;) || OS_NAME.indexOf(&quot;aix&quot;) &gt; 0) {\n            // unix\n            return &quot;amd64&quot;.equalsIgnoreCase(OS_ARCH) ? &quot;linux_x86_64&quot; : &quot;linux_&quot; + OS_ARCH;\n        } else {\n            throw new WebpIOException(&quot;Hi boy, Your OS is not support!!&quot;);\n        }\n    }\n\n    /**\n     * Return the Os specific extension\n     *\n     * @param os: operating system name\n     */\n    private String getExtensionByOs(String os) {\n        if (os == null || os.isEmpty()) return &quot;&quot;;\n        else if (os.contains(&quot;win&quot;)) return &quot;.exe&quot;;\n        return &quot;&quot;;\n    }\n\n}\n</code></pre>\n<p>Configs</p>\n<p>.gradle</p>\n<pre><code>    // https://mvnrepository.com/artifact/io.github.biezhi/webp-io\n    implementation 'io.github.biezhi:webp-io:0.0.5'\n</code></pre>\n<p>.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;provider\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        ...\n</code></pre>\n<p>You can check the folders structure of tools cweb dweb gif2webp <a href=\"https://github.com/hellokaton/webp-io/tree/master/src/main/resources/cwebp\" rel=\"nofollow noreferrer\">here</a>\nThe developer is inactive on this repo. I have no idea how to fix this.\nThanks in advance</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":9676581,"reputation":26,"user_id":7179878,"display_name":"SeleniumLearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648121377,"creation_date":1648121377,"answer_id":71601682,"question_id":71601177,"body_markdown":"The reason is when you want to locate the youtube button for clicking, there are another buttons with the same locator. So Selenium can not click the exact element.\r\n\r\nYou can try with below xpath and renew your locators.\r\n\r\nGoogle Apps\r\n\r\n    (//a[contains(@aria-label, &#39;Google apps&#39;)])\r\n\r\nYoutube\r\n\r\n    (//a[@href=&quot;https://www.youtube.com/&quot;])\r\n\r\nyou need to pause a while for locate youtube button because it dissappers when mouse move anther direction. So I opened the debugger on the console side just type&#39;in the below command\r\n\r\n    setTimeout(()=&gt;{debugger;},5000);","title":"How to click on the YouTube link within the app widget on Google Homepage using Selenium and Java","body":"<p>The reason is when you want to locate the youtube button for clicking, there are another buttons with the same locator. So Selenium can not click the exact element.</p>\n<p>You can try with below xpath and renew your locators.</p>\n<p>Google Apps</p>\n<pre><code>(//a[contains(@aria-label, 'Google apps')])\n</code></pre>\n<p>Youtube</p>\n<pre><code>(//a[@href=&quot;https://www.youtube.com/&quot;])\n</code></pre>\n<p>you need to pause a while for locate youtube button because it dissappers when mouse move anther direction. So I opened the debugger on the console side just type'in the below command</p>\n<pre><code>setTimeout(()=&gt;{debugger;},5000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648122727,"creation_date":1648122727,"answer_id":71602003,"question_id":71601177,"body_markdown":"The element/icon with the link to _YouTube_ is within an [`&lt;iframe&gt;`](https://stackoverflow.com/a/53276478/7429447) so you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired _elementToBeClickable_.\r\n- You can use either of the following [_locator strategies_](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n  - Using _cssSelector_:\r\n\r\n\t    driver.get(&#39;https://www.google.com/&#39;);\r\n\t    new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[aria-label=&#39;Google apps&#39;]&quot;))).click();\r\n\t    new WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*=&#39;https://ogs.google.com/u/0/widget/app&#39;]&quot;)));\r\n\t    new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//li/a//span[text()=&#39;YouTube&#39;]&quot;))).click();\r\n\r\n  - Using _xpath_:\r\n\r\n\t    driver.get(&#39;https://www.google.com/&#39;);\r\n\t    new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@aria-label=&#39;Google apps&#39;]&quot;))).click();\r\n\t    new WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@src, &#39;https://ogs.google.com/widget/app&#39;)]&quot;)));\r\n\t    new WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//li/a//span[text()=&#39;YouTube&#39;]&quot;))).click();","title":"How to click on the YouTube link within the app widget on Google Homepage using Selenium and Java","body":"<p>The element/icon with the link to <em>YouTube</em> is within an <a href=\"https://stackoverflow.com/a/53276478/7429447\"><code>&lt;iframe&gt;</code></a> so you have to:</p>\n<ul>\n<li>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</li>\n<li>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <em>elementToBeClickable</em>.</li>\n<li>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\"><em>locator strategies</em></a>:\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>driver.get('https://www.google.com/');\nnew WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[aria-label='Google apps']&quot;))).click();\nnew WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*='https://ogs.google.com/u/0/widget/app']&quot;)));\nnew WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//li/a//span[text()='YouTube']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>driver.get('https://www.google.com/');\nnew WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@aria-label='Google apps']&quot;))).click();\nnew WebDriverWait(driver, 10).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[starts-with(@src, 'https://ogs.google.com/widget/app')]&quot;)));\nnew WebDriverWait(driver, 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//li/a//span[text()='YouTube']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":16790864,"reputation":1,"user_id":12138541,"display_name":"Kartikeye Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648124703,"creation_date":1648119299,"question_id":71601177,"body_markdown":"```\r\npublic class WebDriverDemo {\r\n    public static void main(String\\[\\] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Kartikeye Pandey\\\\Desktop\\\\Selenium\\\\chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;http://www.google.com&quot;);\r\n        driver.findElement(By.cssSelector(&quot;a\\[aria-label=&#39;Google apps&#39;\\]&quot;)).click();\r\n        //driver.findElement(By.cssSelector(&quot;\\[class=&#39;gb_d&#39;\\]\\[data-pid=&#39;23&#39;\\]&quot;)).click();\r\n        //driver.findElement(By.cssSelector(&quot;\\[class=&#39;tX9u1b&#39;\\]\\[data-pid=&#39;36&#39;\\]&quot;)).click();\r\n        driver.findElement(By.cssSelector(&quot;span\\[class=&#39;MrEfLc&#39;\\]&quot;)).click();\r\n    }\r\n}\r\n```\r\nI want that on google webpage clicking on the three dots is working but clicking into it&#39;s submenu is not working. Suppose from three dots I want to open **Youtube** but it is not working","title":"How to click on the YouTube link within the app widget on Google Homepage using Selenium and Java","body":"<pre><code>public class WebDriverDemo {\n    public static void main(String\\[\\] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Kartikeye Pandey\\\\Desktop\\\\Selenium\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;http://www.google.com&quot;);\n        driver.findElement(By.cssSelector(&quot;a\\[aria-label='Google apps'\\]&quot;)).click();\n        //driver.findElement(By.cssSelector(&quot;\\[class='gb_d'\\]\\[data-pid='23'\\]&quot;)).click();\n        //driver.findElement(By.cssSelector(&quot;\\[class='tX9u1b'\\]\\[data-pid='36'\\]&quot;)).click();\n        driver.findElement(By.cssSelector(&quot;span\\[class='MrEfLc'\\]&quot;)).click();\n    }\n}\n</code></pre>\n<p>I want that on google webpage clicking on the three dots is working but clicking into it's submenu is not working. Suppose from three dots I want to open <strong>Youtube</strong> but it is not working</p>\n"},{"tags":["java","multithreading","timeout"],"comments":[{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1357739408,"post_id":14236654,"comment_id":19751833,"body_markdown":"Yes it works for more, just keep Futures in a List.","body":"Yes it works for more, just keep Futures in a List."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":4,"creation_date":1357739823,"post_id":14236654,"comment_id":19752094,"body_markdown":"Please don&#39;t think about threads this way. There is something being done, and you want a timeout if it takes more than a certain amount of time. It&#39;s not whatever thread might happen to be doing that work, it&#39;s the *work*. Maybe two threads are cooperating on the work. Maybe no thread is working on that work at the time. But it&#39;s the *work* you want to stop or timeout or whatever, not the thread or threads that might or might not happen to be working on it. This subtle view shift is important to thinking correctly about threads so that you wind up with good designs.","body":"Please don&#39;t think about threads this way. There is something being done, and you want a timeout if it takes more than a certain amount of time. It&#39;s not whatever thread might happen to be doing that work, it&#39;s the <i>work</i>. Maybe two threads are cooperating on the work. Maybe no thread is working on that work at the time. But it&#39;s the <i>work</i> you want to stop or timeout or whatever, not the thread or threads that might or might not happen to be working on it. This subtle view shift is important to thinking correctly about threads so that you wind up with good designs."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1357739927,"post_id":14236654,"comment_id":19752159,"body_markdown":"@DavidSchwartz good point, however there may be situations were works are completely independent from one another. I don&#39;t know whether the OP actually though about this, but it looks like this is the case here.","body":"@DavidSchwartz good point, however there may be situations were works are completely independent from one another. I don&#39;t know whether the OP actually though about this, but it looks like this is the case here."},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":0,"creation_date":1357847251,"post_id":14236654,"comment_id":19802391,"body_markdown":"@fge: It&#39;s not about the relationship of works to each other. It&#39;s about the concept of &quot;work&quot; (the thing that needs to get done) being distinct from the thread(s) that are doing it. If work is waiting for something, no thread may be associated with it. If work can be done concurrently, multiple threads may be cooperating to do it. When you are waiting for some work to be done, you shouldn&#39;t be thinking about what thread or threads, if any, are working on it.","body":"@fge: It&#39;s not about the relationship of works to each other. It&#39;s about the concept of &quot;work&quot; (the thing that needs to get done) being distinct from the thread(s) that are doing it. If work is waiting for something, no thread may be associated with it. If work can be done concurrently, multiple threads may be cooperating to do it. When you are waiting for some work to be done, you shouldn&#39;t be thinking about what thread or threads, if any, are working on it."}],"answers":[{"tags":[],"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357809750,"creation_date":1357740415,"answer_id":14237051,"question_id":14236654,"body_markdown":"Have you seen this? [ExecutorService.invokeAll][1]\r\n\r\nIt should be exactly what you want: Invoke a bundle of workers and have them timeout if taking too long.\r\n\r\nEDIT after comment - (new idea):\r\nYou can use a [CountDownLatch][2] to wait for the tasks to finish AND timeout via `await(long timeout, TimeUnit unit)`!\r\nYou can then even do a shutdownNow and see which tasks have taken too long ...\r\n\r\nEDIT 2:\r\n\r\nTo make it clearer: \r\n\r\n 1. Have a CountDownLatch be count down by each Worker, when finished.\r\n 2. In the main execution thread `await` with timeout on said latch.\r\n 3. When that call returns, you can check the Latches&#39;s count to see if there has been the timeout hit (if it is &gt;0).\r\n 4. a) count = 0, all tasks finished in time.\r\n    b) if not, loop the Futures and check their `isDone`. You don&#39;t have to call shutdown on the ExecutorService.\r\n 5. Call shutdown if you do not need the Executor any longer.\r\n\r\nNote: Workers can finish in the meantime between the timeout and calling their Future&#39;s isDone().\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll%28java.util.Collection,long,java.util.concurrent.TimeUnit%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"Java: Set timeout for threads in a ThreadPool","body":"<p>Have you seen this? <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html#invokeAll%28java.util.Collection,long,java.util.concurrent.TimeUnit%29\" rel=\"nofollow\">ExecutorService.invokeAll</a></p>\n\n<p>It should be exactly what you want: Invoke a bundle of workers and have them timeout if taking too long.</p>\n\n<p>EDIT after comment - (new idea):\nYou can use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow\">CountDownLatch</a> to wait for the tasks to finish AND timeout via <code>await(long timeout, TimeUnit unit)</code>!\nYou can then even do a shutdownNow and see which tasks have taken too long ...</p>\n\n<p>EDIT 2:</p>\n\n<p>To make it clearer: </p>\n\n<ol>\n<li>Have a CountDownLatch be count down by each Worker, when finished.</li>\n<li>In the main execution thread <code>await</code> with timeout on said latch.</li>\n<li>When that call returns, you can check the Latches's count to see if there has been the timeout hit (if it is >0).</li>\n<li>a) count = 0, all tasks finished in time.\nb) if not, loop the Futures and check their <code>isDone</code>. You don't have to call shutdown on the ExecutorService.</li>\n<li>Call shutdown if you do not need the Executor any longer.</li>\n</ol>\n\n<p>Note: Workers can finish in the meantime between the timeout and calling their Future's isDone().</p>\n"},{"tags":[],"owner":{"account_id":3154242,"reputation":307,"user_id":2666964,"display_name":"kissLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648124645,"creation_date":1648124645,"answer_id":71602505,"question_id":14236654,"body_markdown":"    Future future = executorService.submit(callable)\r\n    future.get(timeout, unit)\r\n\r\nFor more information see [this link][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-stop-execution-after-certain-time","title":"Java: Set timeout for threads in a ThreadPool","body":"<pre><code>Future future = executorService.submit(callable)\nfuture.get(timeout, unit)\n</code></pre>\n<p>For more information see <a href=\"https://www.baeldung.com/java-stop-execution-after-certain-time\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"}],"owner":{"account_id":1772892,"reputation":1698,"user_id":1617325,"accept_rate":75,"display_name":"sk2212"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22766,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":14237051,"answer_count":2,"score":9,"last_activity_date":1648124645,"creation_date":1357739265,"question_id":14236654,"body_markdown":"I want to set timeouts for threads which are executed within a thread pool. At the moment I have following code:\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(8);\r\n    for(List&lt;String&gt; l: partition) {\t\t    \r\n        Runnable worker = new WorkerThread(l);\r\n        executor.execute(worker);\r\n    }\t    \r\n\r\n    executor.shutdown();\r\n    while (!executor.isTerminated()) {\r\n    \r\n    }\r\n\r\nThe code just splits a big list of objects into sublists and process these sublist within single threads. But this is not the point. \r\n\r\nI want to give each single thread in the thread pool a timeout. For only one thread in the pool I found following solution:\r\n\r\n\tFuture&lt;?&gt; future = null;\r\n\r\n\tfor (List&lt;String&gt; l : partition) {\r\n\t    Runnable worker = new WorkerThread(l);\r\n\t    future = executor.submit(worker);\r\n\t}\r\n\r\n\ttry {\r\n\t    System.out.println(&quot;Started..&quot;);\r\n\t    System.out.println(future.get(3, TimeUnit.SECONDS));\r\n\t    System.out.println(&quot;Finished!&quot;);\r\n\t} catch (TimeoutException e) {\r\n\t    System.out.println(&quot;Terminated!&quot;);\r\n\t}\r\n\r\nBut this would not work for more than one thread. Maybe I have to put each thread in a `List&lt;Future&gt;` list and iterate over this list and set a timeout for each `future` object?\r\n\r\nAny suggestions?\r\n\r\n\r\nEDIT AFTER USING CountDownLatch:\r\n\r\n    CountDownLatch doneSignal = new CountDownLatch(partition.size());\r\n    List&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;Future&lt;?&gt;&gt;();\r\n    ExecutorService executor = Executors.newFixedThreadPool(8);\r\n    for (List&lt;String&gt; l : partition) {\r\n        Runnable worker = new WorkerThread(l);\r\n        tasks.add(executor.submit(doneSignal, worker));\r\n    }\r\n\r\n    doneSignal.await(1, TimeUnit.SECONDS);\r\n    if (doneSignal.getCount() &gt; 0) {\r\n        for (Future&lt;?&gt; fut : tasks) {\r\n    \tif (!fut.isDone()) {\r\n    \t    System.out.println(&quot;Task &quot; + fut + &quot; has not finshed!&quot;);\r\n            //fut.cancel(true) Maybe we can interrupt a thread this way?!\r\n    \t}\r\n        }\r\n    }\r\n\r\nWorks good so far. \r\n\r\nSo next question is how to interrupt a thread which is timed out? I try `fut.cancel(true)` and add following construct in some critical loops in the worker thread:\r\n\r\n\r\n\tif(Thread.interrupted()) {\r\n\t    System.out.println(&quot;!!Thread -&gt; &quot; + Thread.currentThread().getName() + &quot; INTERRUPTED!!&quot;);\r\n            return;\r\n\t}\r\n\r\nSo the worker thread is &quot;killed&quot; after the timeout. Is this a good solution?\r\n\r\n\r\nFurthermore: Is it possible to get the name of the thread which timed out over the `Future` interface? At the moment I have to print out the name in the if condition of the `Thread.interrupted()` construct.\r\n\r\nThanks for help!\r\n\r\nRegards","title":"Java: Set timeout for threads in a ThreadPool","body":"<p>I want to set timeouts for threads which are executed within a thread pool. At the moment I have following code:</p>\n\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(8);\nfor(List&lt;String&gt; l: partition) {            \n    Runnable worker = new WorkerThread(l);\n    executor.execute(worker);\n}       \n\nexecutor.shutdown();\nwhile (!executor.isTerminated()) {\n\n}\n</code></pre>\n\n<p>The code just splits a big list of objects into sublists and process these sublist within single threads. But this is not the point. </p>\n\n<p>I want to give each single thread in the thread pool a timeout. For only one thread in the pool I found following solution:</p>\n\n<pre><code>Future&lt;?&gt; future = null;\n\nfor (List&lt;String&gt; l : partition) {\n    Runnable worker = new WorkerThread(l);\n    future = executor.submit(worker);\n}\n\ntry {\n    System.out.println(\"Started..\");\n    System.out.println(future.get(3, TimeUnit.SECONDS));\n    System.out.println(\"Finished!\");\n} catch (TimeoutException e) {\n    System.out.println(\"Terminated!\");\n}\n</code></pre>\n\n<p>But this would not work for more than one thread. Maybe I have to put each thread in a <code>List&lt;Future&gt;</code> list and iterate over this list and set a timeout for each <code>future</code> object?</p>\n\n<p>Any suggestions?</p>\n\n<p>EDIT AFTER USING CountDownLatch:</p>\n\n<pre><code>CountDownLatch doneSignal = new CountDownLatch(partition.size());\nList&lt;Future&lt;?&gt;&gt; tasks = new ArrayList&lt;Future&lt;?&gt;&gt;();\nExecutorService executor = Executors.newFixedThreadPool(8);\nfor (List&lt;String&gt; l : partition) {\n    Runnable worker = new WorkerThread(l);\n    tasks.add(executor.submit(doneSignal, worker));\n}\n\ndoneSignal.await(1, TimeUnit.SECONDS);\nif (doneSignal.getCount() &gt; 0) {\n    for (Future&lt;?&gt; fut : tasks) {\n    if (!fut.isDone()) {\n        System.out.println(\"Task \" + fut + \" has not finshed!\");\n        //fut.cancel(true) Maybe we can interrupt a thread this way?!\n    }\n    }\n}\n</code></pre>\n\n<p>Works good so far. </p>\n\n<p>So next question is how to interrupt a thread which is timed out? I try <code>fut.cancel(true)</code> and add following construct in some critical loops in the worker thread:</p>\n\n<pre><code>if(Thread.interrupted()) {\n    System.out.println(\"!!Thread -&gt; \" + Thread.currentThread().getName() + \" INTERRUPTED!!\");\n        return;\n}\n</code></pre>\n\n<p>So the worker thread is \"killed\" after the timeout. Is this a good solution?</p>\n\n<p>Furthermore: Is it possible to get the name of the thread which timed out over the <code>Future</code> interface? At the moment I have to print out the name in the if condition of the <code>Thread.interrupted()</code> construct.</p>\n\n<p>Thanks for help!</p>\n\n<p>Regards</p>\n"},{"tags":["java","colors","processing","fill"],"comments":[{"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"score":1,"creation_date":1647981694,"post_id":71568686,"comment_id":126507482,"body_markdown":"The simplest way would be to use [rect()](https://processing.org/reference/rect_.html) to draw rectangles instead of many lines, but it may not be an option depending on what you do. You can decide the color of the rectangle by using the [fill()](https://processing.org/reference/fill_.html) method.","body":"The simplest way would be to use <a href=\"https://processing.org/reference/rect_.html\" rel=\"nofollow noreferrer\">rect()</a> to draw rectangles instead of many lines, but it may not be an option depending on what you do. You can decide the color of the rectangle by using the <a href=\"https://processing.org/reference/fill_.html\" rel=\"nofollow noreferrer\">fill()</a> method."},{"owner":{"account_id":20051970,"reputation":1,"user_id":14700485,"display_name":"c_de"},"score":0,"creation_date":1648014767,"post_id":71568686,"comment_id":126513619,"body_markdown":"Not allowed to use","body":"Not allowed to use"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1648051778,"post_id":71568686,"comment_id":126527989,"body_markdown":"Thank you for editing the code snippet to include the recursive flood fill attempt you mentioned initially: that is helpful. Is this for a homework assignment ?","body":"Thank you for editing the code snippet to include the recursive flood fill attempt you mentioned initially: that is helpful. Is this for a homework assignment ?"},{"owner":{"account_id":20051970,"reputation":1,"user_id":14700485,"display_name":"c_de"},"score":0,"creation_date":1648053837,"post_id":71568686,"comment_id":126528911,"body_markdown":"It will be part of a test, but we are allowed to use any resources","body":"It will be part of a test, but we are allowed to use any resources"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1648057081,"post_id":71568686,"comment_id":126530176,"body_markdown":"Which course is this out of curiosity ? (I&#39;m asking for multiple reasons: 1. your original question should mention it&#39;s for a school assignment/test 2. ideally the resources to complete the test would&#39;ve been taught and there may be constraints (e.g. use the algorithms taught but not other methods (e.g. can&#39;t use `fill()`)). Regarding Stack/Queue you can find these collections in the [`java.util`](https://docs.oracle.com/javase/8/docs/api/java/util/package-summary.html) package (simply `import java.util.Stack;import java.util.Queue;` as needed)....","body":"Which course is this out of curiosity ? (I&#39;m asking for multiple reasons: 1. your original question should mention it&#39;s for a school assignment/test 2. ideally the resources to complete the test would&#39;ve been taught and there may be constraints (e.g. use the algorithms taught but not other methods (e.g. can&#39;t use <code>fill()</code>)). Regarding Stack/Queue you can find these collections in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util</code></a> package (simply <code>import java.util.Stack;import java.util.Queue;</code> as needed)...."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1648057388,"post_id":71568686,"comment_id":126530296,"body_markdown":"...I&#39;m guessing you already are familiar with the [pseudocode on wikipedia](https://en.wikipedia.org/wiki/Flood_fill). If it&#39;s depth first or breath first graph traversal, there are plenty of good youtube video on the topic. (for example Reducible has a good series: [graph theory intro](https://www.youtube.com/watch?v=LFKZLXVO-Dg), [DFS](https://www.youtube.com/watch?v=PMMc4VsIacU), [BFS](https://www.youtube.com/watch?v=xlVX7dXLS64) (see flood fill at 5:19)). There are many other videos specifically on flood fill algorithms. It&#39;s worth understanding the concepts and the code you plan to use.","body":"...I&#39;m guessing you already are familiar with the <a href=\"https://en.wikipedia.org/wiki/Flood_fill\" rel=\"nofollow noreferrer\">pseudocode on wikipedia</a>. If it&#39;s depth first or breath first graph traversal, there are plenty of good youtube video on the topic. (for example Reducible has a good series: <a href=\"https://www.youtube.com/watch?v=LFKZLXVO-Dg\" rel=\"nofollow noreferrer\">graph theory intro</a>, <a href=\"https://www.youtube.com/watch?v=PMMc4VsIacU\" rel=\"nofollow noreferrer\">DFS</a>, <a href=\"https://www.youtube.com/watch?v=xlVX7dXLS64\" rel=\"nofollow noreferrer\">BFS</a> (see flood fill at 5:19)). There are many other videos specifically on flood fill algorithms. It&#39;s worth understanding the concepts and the code you plan to use."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647999614,"creation_date":1647999614,"answer_id":71580872,"question_id":71568686,"body_markdown":"@Laancelot is right, you can use `rect()`.\r\n\r\nCurrently `t` stores coordinates for 5 rectangles grouped in 4 lines each.\r\nBy default `rect()` requires `x, y, width, height` arguments.\r\nAlternatively you can use `rectMode(CORNERS)` so the 4 arguments become `x1, y1, x2, y2` which are the coordinates of the top left and bottom right corners of the rectangle.\r\n\r\nIn your case, you can iterate every 4 `t` entries and use the 1st two coordinates of the 1st array of points, as the top left corner and the last 2 coordinates of the 4th array of points:\r\n\r\n```java\r\nvoid setup() {\r\n  size(600, 600);\r\n  background(255);\r\n  // draw rectangles using top-left and bottom-right corner\r\n  rectMode(CORNERS);\r\n}\r\n\r\nfloat t[][] = {\r\n  {100, 100, 500, 100}, \r\n  {100, 100, 100, 500}, \r\n  {100, 500, 500, 500}, \r\n  {500, 100, 500, 500}, \r\n  \r\n  {150, 150, 275, 150}, \r\n  {325, 150, 450, 150}, \r\n  {150, 150, 150, 275}, \r\n  {275, 150, 275, 275}, \r\n  \r\n  {325, 150, 325, 275}, \r\n  {450, 150, 450, 275}, \r\n  {150, 275, 275, 275}, \r\n  {325, 275, 450, 275}, \r\n  \r\n  {280, 300, 320, 300}, \r\n  {280, 340, 320, 340}, \r\n  {280, 300, 280, 340}, \r\n  {320, 300, 320, 340}, \r\n  \r\n  {150, 400, 450, 400}, \r\n  {150, 450, 450, 450}, \r\n  {150, 400, 150, 450}, \r\n  {450, 400, 450, 450}\r\n};\r\n\r\nvoid draw() {\r\n  rect(0, 0, 600, 600);\r\n  // iterate every 4 lines  \r\n  for (int i = 0; i &lt; t.length; i += 4) {\r\n    // for demo purposes: map the rectangle index to a shade of gray\r\n    fill(map(i, 0, t.length - 1, 32, 192));\r\n    // render the rectangle (using every 1st and 4th pair of points of each rectangle\r\n    rect(t[i][0], t[i][1], t[i + 3][2], t[i + 3][3]);\r\n  }\r\n}\r\n```\r\n\r\nYou&#39;re asking for the simplest way: you can avoid the redundant data and simply use 4 coordinates for each rectangle:\r\n\r\n```java\r\nvoid setup() {\r\n  size(600, 600);\r\n  background(255);\r\n  rectMode(CORNERS);\r\n}\r\n\r\nfloat t[][] = {\r\n  {100, 100, 500, 500}, \r\n  \r\n  {150, 150, 275, 275}, \r\n  \r\n  {325, 150, 450, 275}, \r\n  \r\n  {280, 300, 320, 340}, \r\n  \r\n  {150, 400, 450, 450}\r\n};\r\n\r\nvoid draw() {\r\n  rect(0, 0, 600, 600);\r\n  \r\n  for (int i = 0; i &lt; t.length; i++) {\r\n    fill(map(i, 0, t.length - 1, 32, 192));\r\n    rect(t[i][0], t[i][1], t[i][2], t[i][3]);\r\n  }\r\n}\r\n```\r\n\r\nOf course can also structure your data in `x, y, width, height` format:\r\n\r\n```java\r\nvoid setup() {\r\n  size(600, 600);\r\n  background(255);\r\n}\r\n// rectangle x, y, width, height data\r\nfloat t[][] = {\r\n  {100, 100, 400, 400}, \r\n  \r\n  {150, 150, 125, 125}, \r\n  \r\n  {325, 150, 125, 125}, \r\n  \r\n  {280, 300, 40, 40}, \r\n  \r\n  {150, 400, 300, 50}\r\n};\r\n\r\nvoid draw() {\r\n  rect(0, 0, 600, 600);\r\n  \r\n  for (int i = 0; i &lt; t.length; i++) {\r\n    fill(map(i, 0, t.length - 1, 32, 192));\r\n    rect(t[i][0], t[i][1], t[i][2], t[i][3]);\r\n  }\r\n}\r\n```","title":"What is the simplest way to fill a part of my image with a certain color in Processing?","body":"<p>@Laancelot is right, you can use <code>rect()</code>.</p>\n<p>Currently <code>t</code> stores coordinates for 5 rectangles grouped in 4 lines each.\nBy default <code>rect()</code> requires <code>x, y, width, height</code> arguments.\nAlternatively you can use <code>rectMode(CORNERS)</code> so the 4 arguments become <code>x1, y1, x2, y2</code> which are the coordinates of the top left and bottom right corners of the rectangle.</p>\n<p>In your case, you can iterate every 4 <code>t</code> entries and use the 1st two coordinates of the 1st array of points, as the top left corner and the last 2 coordinates of the 4th array of points:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void setup() {\n  size(600, 600);\n  background(255);\n  // draw rectangles using top-left and bottom-right corner\n  rectMode(CORNERS);\n}\n\nfloat t[][] = {\n  {100, 100, 500, 100}, \n  {100, 100, 100, 500}, \n  {100, 500, 500, 500}, \n  {500, 100, 500, 500}, \n  \n  {150, 150, 275, 150}, \n  {325, 150, 450, 150}, \n  {150, 150, 150, 275}, \n  {275, 150, 275, 275}, \n  \n  {325, 150, 325, 275}, \n  {450, 150, 450, 275}, \n  {150, 275, 275, 275}, \n  {325, 275, 450, 275}, \n  \n  {280, 300, 320, 300}, \n  {280, 340, 320, 340}, \n  {280, 300, 280, 340}, \n  {320, 300, 320, 340}, \n  \n  {150, 400, 450, 400}, \n  {150, 450, 450, 450}, \n  {150, 400, 150, 450}, \n  {450, 400, 450, 450}\n};\n\nvoid draw() {\n  rect(0, 0, 600, 600);\n  // iterate every 4 lines  \n  for (int i = 0; i &lt; t.length; i += 4) {\n    // for demo purposes: map the rectangle index to a shade of gray\n    fill(map(i, 0, t.length - 1, 32, 192));\n    // render the rectangle (using every 1st and 4th pair of points of each rectangle\n    rect(t[i][0], t[i][1], t[i + 3][2], t[i + 3][3]);\n  }\n}\n</code></pre>\n<p>You're asking for the simplest way: you can avoid the redundant data and simply use 4 coordinates for each rectangle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void setup() {\n  size(600, 600);\n  background(255);\n  rectMode(CORNERS);\n}\n\nfloat t[][] = {\n  {100, 100, 500, 500}, \n  \n  {150, 150, 275, 275}, \n  \n  {325, 150, 450, 275}, \n  \n  {280, 300, 320, 340}, \n  \n  {150, 400, 450, 450}\n};\n\nvoid draw() {\n  rect(0, 0, 600, 600);\n  \n  for (int i = 0; i &lt; t.length; i++) {\n    fill(map(i, 0, t.length - 1, 32, 192));\n    rect(t[i][0], t[i][1], t[i][2], t[i][3]);\n  }\n}\n</code></pre>\n<p>Of course can also structure your data in <code>x, y, width, height</code> format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void setup() {\n  size(600, 600);\n  background(255);\n}\n// rectangle x, y, width, height data\nfloat t[][] = {\n  {100, 100, 400, 400}, \n  \n  {150, 150, 125, 125}, \n  \n  {325, 150, 125, 125}, \n  \n  {280, 300, 40, 40}, \n  \n  {150, 400, 300, 50}\n};\n\nvoid draw() {\n  rect(0, 0, 600, 600);\n  \n  for (int i = 0; i &lt; t.length; i++) {\n    fill(map(i, 0, t.length - 1, 32, 192));\n    rect(t[i][0], t[i][1], t[i][2], t[i][3]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648124616,"creation_date":1648124616,"answer_id":71602495,"question_id":71568686,"body_markdown":"Seeing as you cannot use fill, here&#39;s another way to accomplish what you&#39;re doing. But heads up, it&#39;s quick and dirty work.\r\n\r\nThe idea here is simple: as you&#39;re using very simple lines on a uniquely colored background, I wrote a method which lets you target a single pixel and flood it (and it&#39;s same-color surroundings) with a color of your choice by editing the sketch&#39;s pixel array directly. I deliberately made no change to the way you draw the base image because I am working on the assumption that it is imposed.\r\n\r\nI commented the code for an easy reading.\r\n\r\n```\r\nvoid setup() {\r\n  background(255);\r\n  size(600, 600);\r\n}\r\n\r\nfloat t[][] = {\r\n  {100, 100, 500, 100}, \r\n  {100, 100, 100, 500}, \r\n  {100, 500, 500, 500}, \r\n  {500, 100, 500, 500}, \r\n  {150, 150, 275, 150}, \r\n  {325, 150, 450, 150}, \r\n  {150, 150, 150, 275}, \r\n  {275, 150, 275, 275}, \r\n  {325, 150, 325, 275}, \r\n  {450, 150, 450, 275}, \r\n  {150, 275, 275, 275}, \r\n  {325, 275, 450, 275}, \r\n  {280, 300, 320, 300}, \r\n  {280, 340, 320, 340}, \r\n  {280, 300, 280, 340}, \r\n  {320, 300, 320, 340}, \r\n  {150, 400, 450, 400}, \r\n  {150, 450, 450, 450}, \r\n  {150, 400, 150, 450}, \r\n  {450, 400, 450, 450}\r\n};\r\n\r\nvoid draw() {\r\n  rect(0, 0, 600, 600);\r\n\r\n  for (int i = 0; i &lt; t.length; i++) {\r\n    line(t[i][0], t[i][1], t[i][2], t[i][3]);\r\n  }\r\n  \r\n  // here I am targeting a pixel in the robot&#39;s left eye to paint this area red\r\n  floodFill(200, 200, color(200, 0, 0));\r\n}\r\n\r\n// you can start the flooding with simple XY coordinates\r\nvoid floodFill(int x, int y, color newColor) {  \r\n  // loading the pixels array\r\n  loadPixels();\r\n\r\n  // starting the recursion: the target pixel&#39;s color will be overwritten within bounds\r\n  // I first need to transform the XY coordinates into the array&#39;s index\r\n  // as it&#39;s a 1 dimension array, it means that it&#39;s numbered from 0 to (width * height), so as an example\r\n  // if the sketch is 600 pixels wide, index 0 is top left, index 600 is first pixel of the second row, etc.\r\n  // so the target pixel&#39;s index will be calculated as this: x + (y * width)\r\n  int targetIndex = x + (y*width);\r\n  floodRecursion(targetIndex, pixels[targetIndex], newColor);\r\n\r\n  // updating the pixel array with the new values\r\n  updatePixels();\r\n}\r\n\r\nvoid floodRecursion(int index, color targetColor, color newColor) {\r\n  // making sure that the point is inside the sketch&#39;s bounds... to avoid out-of-bounds errors\r\n  // and also that the current cell&#39;s color is the target color to avoid overwritting everything\r\n  if (index &lt; width*height &amp;&amp; index &gt;= 0 &amp;&amp; pixels[index] == targetColor) {\r\n    // changing the color in the pixels array\r\n    pixels[index] = newColor;\r\n\r\n    // calling this method on adjacent pixels (going recursive! I love recursion)\r\n    // first, left and right pixels:\r\n    if (index % width != 0) {\r\n      // this if check makes sure that we dont go from the leftmost pixel to the rightmost pixel accidentally\r\n      floodRecursion(index+1, targetColor, newColor);\r\n    }\r\n    if (index-1 % width != 0) {\r\n      // same than the last check, but the other way around\r\n      floodRecursion(index-1, targetColor, newColor);\r\n    }\r\n    // now, up and down. As this is a 1-dimentional array, it means we must add a whole row&#39;s number of pixels to get to the next line\r\n    // we don&#39;t have to worry about going too high or too low since it&#39;ll be out of the array&#39;s bounds (and we already checked for that)\r\n    floodRecursion(index - width, targetColor, newColor);\r\n    floodRecursion(index + width, targetColor, newColor);\r\n  }\r\n}\r\n```\r\n\r\nHope this helps. Have fun!","title":"What is the simplest way to fill a part of my image with a certain color in Processing?","body":"<p>Seeing as you cannot use fill, here's another way to accomplish what you're doing. But heads up, it's quick and dirty work.</p>\n<p>The idea here is simple: as you're using very simple lines on a uniquely colored background, I wrote a method which lets you target a single pixel and flood it (and it's same-color surroundings) with a color of your choice by editing the sketch's pixel array directly. I deliberately made no change to the way you draw the base image because I am working on the assumption that it is imposed.</p>\n<p>I commented the code for an easy reading.</p>\n<pre><code>void setup() {\n  background(255);\n  size(600, 600);\n}\n\nfloat t[][] = {\n  {100, 100, 500, 100}, \n  {100, 100, 100, 500}, \n  {100, 500, 500, 500}, \n  {500, 100, 500, 500}, \n  {150, 150, 275, 150}, \n  {325, 150, 450, 150}, \n  {150, 150, 150, 275}, \n  {275, 150, 275, 275}, \n  {325, 150, 325, 275}, \n  {450, 150, 450, 275}, \n  {150, 275, 275, 275}, \n  {325, 275, 450, 275}, \n  {280, 300, 320, 300}, \n  {280, 340, 320, 340}, \n  {280, 300, 280, 340}, \n  {320, 300, 320, 340}, \n  {150, 400, 450, 400}, \n  {150, 450, 450, 450}, \n  {150, 400, 150, 450}, \n  {450, 400, 450, 450}\n};\n\nvoid draw() {\n  rect(0, 0, 600, 600);\n\n  for (int i = 0; i &lt; t.length; i++) {\n    line(t[i][0], t[i][1], t[i][2], t[i][3]);\n  }\n  \n  // here I am targeting a pixel in the robot's left eye to paint this area red\n  floodFill(200, 200, color(200, 0, 0));\n}\n\n// you can start the flooding with simple XY coordinates\nvoid floodFill(int x, int y, color newColor) {  \n  // loading the pixels array\n  loadPixels();\n\n  // starting the recursion: the target pixel's color will be overwritten within bounds\n  // I first need to transform the XY coordinates into the array's index\n  // as it's a 1 dimension array, it means that it's numbered from 0 to (width * height), so as an example\n  // if the sketch is 600 pixels wide, index 0 is top left, index 600 is first pixel of the second row, etc.\n  // so the target pixel's index will be calculated as this: x + (y * width)\n  int targetIndex = x + (y*width);\n  floodRecursion(targetIndex, pixels[targetIndex], newColor);\n\n  // updating the pixel array with the new values\n  updatePixels();\n}\n\nvoid floodRecursion(int index, color targetColor, color newColor) {\n  // making sure that the point is inside the sketch's bounds... to avoid out-of-bounds errors\n  // and also that the current cell's color is the target color to avoid overwritting everything\n  if (index &lt; width*height &amp;&amp; index &gt;= 0 &amp;&amp; pixels[index] == targetColor) {\n    // changing the color in the pixels array\n    pixels[index] = newColor;\n\n    // calling this method on adjacent pixels (going recursive! I love recursion)\n    // first, left and right pixels:\n    if (index % width != 0) {\n      // this if check makes sure that we dont go from the leftmost pixel to the rightmost pixel accidentally\n      floodRecursion(index+1, targetColor, newColor);\n    }\n    if (index-1 % width != 0) {\n      // same than the last check, but the other way around\n      floodRecursion(index-1, targetColor, newColor);\n    }\n    // now, up and down. As this is a 1-dimentional array, it means we must add a whole row's number of pixels to get to the next line\n    // we don't have to worry about going too high or too low since it'll be out of the array's bounds (and we already checked for that)\n    floodRecursion(index - width, targetColor, newColor);\n    floodRecursion(index + width, targetColor, newColor);\n  }\n}\n</code></pre>\n<p>Hope this helps. Have fun!</p>\n"}],"owner":{"account_id":20051970,"reputation":1,"user_id":14700485,"display_name":"c_de"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648124616,"creation_date":1647936417,"question_id":71568686,"body_markdown":"I have to create a drawing of lines with the midpoint algorithm then fill some part of it without the use of built in methods like rect() or fill(). It may be made of any simple shape (triangles, squares, etc.). I made an example drawing of a robot face, where the problem would be to fill one of its eyes. Here that is a rectangle, but it could also be any other simple shape so the rectangle filling algorithm would not be enough.\r\nI read about the flood fill algorithm, but I only managed to cause stackoverflow errors with the recursive method and I can&#39;t use queue or stack in Processing.\r\n\r\n```\r\n\r\nvoid setup() {\r\n  background(255);\r\n  size(600, 600);\r\n}\r\n\r\nfloat t[][] = {\r\n  {100, 100, 500, 100}, \r\n  {100, 100, 100, 500}, \r\n  {100, 500, 500, 500}, \r\n  {500, 100, 500, 500}, \r\n  {150, 150, 275, 150}, \r\n  {325, 150, 450, 150}, \r\n  {150, 150, 150, 275}, \r\n  {275, 150, 275, 275}, \r\n  {325, 150, 325, 275}, \r\n  {450, 150, 450, 275}, \r\n  {150, 275, 275, 275}, \r\n  {325, 275, 450, 275}, \r\n  {280, 300, 320, 300}, \r\n  {280, 340, 320, 340}, \r\n  {280, 300, 280, 340}, \r\n  {320, 300, 320, 340}, \r\n  {150, 400, 450, 400}, \r\n  {150, 450, 450, 450}, \r\n  {150, 400, 150, 450}, \r\n  {450, 400, 450, 450}\r\n};\r\nvoid draw() {\r\n  rect(0, 0, 600, 600);\r\n  for (int i = 0; i &lt; t.length; i++) {\r\n    line_(t[i][0], t[i][1], t[i][2], t[i][3]);\r\n  }\r\n}\r\n\r\n\r\nvoid line_(float x1, float y1, float x2, float y2) {\r\n  float A, B, sx, sy, s, d, i1, i2, t, X, Y;\r\n  X = x2-x1;\r\n  Y = y2-y1;\r\n  A = abs(X);\r\n  B = abs(Y);\r\n\r\n  if (X != 0)\r\n  {\r\n    sx = (X&lt;0)?-1:1;\r\n  } else sx = 0;\r\n  if (Y != 0)\r\n  {\r\n    sy = (Y&lt;0)?-1:1;\r\n  } else sy = 0;\r\n\r\n  if (A&lt;B)\r\n  {\r\n    s = A;\r\n    A = B;\r\n    B = s;\r\n    t = 1;\r\n  } else t = 0;\r\n  d = 2*B-A;\r\n  i1 = 2*B;\r\n  i2 = 2*A;\r\n  point(x1, y1);\r\n  while ((x1 != x2) || (y1 != y2))\r\n  {\r\n    if (d &gt;= 0)\r\n    {\r\n      x1+=sx;\r\n      y1+=sy;\r\n      d+=(i1-i2);\r\n    } else\r\n    {\r\n      if (t == 1)\r\n      {\r\n        y1+=sy;\r\n      } else\r\n      {\r\n        x1+=sx;\r\n      }\r\n      d+=i1;\r\n    }\r\n    point(x1, y1);\r\n  }\r\n}\r\n```","title":"What is the simplest way to fill a part of my image with a certain color in Processing?","body":"<p>I have to create a drawing of lines with the midpoint algorithm then fill some part of it without the use of built in methods like rect() or fill(). It may be made of any simple shape (triangles, squares, etc.). I made an example drawing of a robot face, where the problem would be to fill one of its eyes. Here that is a rectangle, but it could also be any other simple shape so the rectangle filling algorithm would not be enough.\nI read about the flood fill algorithm, but I only managed to cause stackoverflow errors with the recursive method and I can't use queue or stack in Processing.</p>\n<pre><code>\nvoid setup() {\n  background(255);\n  size(600, 600);\n}\n\nfloat t[][] = {\n  {100, 100, 500, 100}, \n  {100, 100, 100, 500}, \n  {100, 500, 500, 500}, \n  {500, 100, 500, 500}, \n  {150, 150, 275, 150}, \n  {325, 150, 450, 150}, \n  {150, 150, 150, 275}, \n  {275, 150, 275, 275}, \n  {325, 150, 325, 275}, \n  {450, 150, 450, 275}, \n  {150, 275, 275, 275}, \n  {325, 275, 450, 275}, \n  {280, 300, 320, 300}, \n  {280, 340, 320, 340}, \n  {280, 300, 280, 340}, \n  {320, 300, 320, 340}, \n  {150, 400, 450, 400}, \n  {150, 450, 450, 450}, \n  {150, 400, 150, 450}, \n  {450, 400, 450, 450}\n};\nvoid draw() {\n  rect(0, 0, 600, 600);\n  for (int i = 0; i &lt; t.length; i++) {\n    line_(t[i][0], t[i][1], t[i][2], t[i][3]);\n  }\n}\n\n\nvoid line_(float x1, float y1, float x2, float y2) {\n  float A, B, sx, sy, s, d, i1, i2, t, X, Y;\n  X = x2-x1;\n  Y = y2-y1;\n  A = abs(X);\n  B = abs(Y);\n\n  if (X != 0)\n  {\n    sx = (X&lt;0)?-1:1;\n  } else sx = 0;\n  if (Y != 0)\n  {\n    sy = (Y&lt;0)?-1:1;\n  } else sy = 0;\n\n  if (A&lt;B)\n  {\n    s = A;\n    A = B;\n    B = s;\n    t = 1;\n  } else t = 0;\n  d = 2*B-A;\n  i1 = 2*B;\n  i2 = 2*A;\n  point(x1, y1);\n  while ((x1 != x2) || (y1 != y2))\n  {\n    if (d &gt;= 0)\n    {\n      x1+=sx;\n      y1+=sy;\n      d+=(i1-i2);\n    } else\n    {\n      if (t == 1)\n      {\n        y1+=sy;\n      } else\n      {\n        x1+=sx;\n      }\n      d+=i1;\n    }\n    point(x1, y1);\n  }\n}\n</code></pre>\n"},{"tags":["java","processbuilder"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648121283,"post_id":71601515,"comment_id":126546472,"body_markdown":"Try this:  new ProcessBuilder(&quot;sh&quot;, shfile.getAbsolutePath())","body":"Try this:  new ProcessBuilder(&quot;sh&quot;, shfile.getAbsolutePath())"},{"owner":{"account_id":10533051,"reputation":75,"user_id":7761811,"display_name":"jasvik"},"score":0,"creation_date":1648122600,"post_id":71601515,"comment_id":126546949,"body_markdown":"still the same behavious it gets stuck at br.readline(). Pressing ctrl+c gives the output","body":"still the same behavious it gets stuck at br.readline(). Pressing ctrl+c gives the output"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648123126,"post_id":71601515,"comment_id":126547143,"body_markdown":"What is he content of your sh file?","body":"What is he content of your sh file?"},{"owner":{"account_id":10533051,"reputation":75,"user_id":7761811,"display_name":"jasvik"},"score":0,"creation_date":1648123301,"post_id":71601515,"comment_id":126547213,"body_markdown":"update in question please look into it","body":"update in question please look into it"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648124279,"post_id":71601515,"comment_id":126547605,"body_markdown":"Replace your &quot;sh ./LKE_run_Diablo.sh 0a0e0c3dc893&quot; for ls (for example), and check that the program exists with the listing. In this case, once you know your code is ok, then you must check what is the &quot;sh ./LKE_run_Diablo.sh 0a0e0c3dc893&quot; doing. Probably the process never print anything or never exits until you press a key or CRTL+c","body":"Replace your &quot;sh ./LKE_run_Diablo.sh 0a0e0c3dc893&quot; for ls (for example), and check that the program exists with the listing. In this case, once you know your code is ok, then you must check what is the &quot;sh ./LKE_run_Diablo.sh 0a0e0c3dc893&quot; doing. Probably the process never print anything or never exits until you press a key or CRTL+c"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1648129325,"post_id":71601515,"comment_id":126549839,"body_markdown":"Does this make a difference? After start add: `try(OutputStream os = p.getOutputStream()) { }`. This may help if the script is waiting on input.","body":"Does this make a difference? After start add: <code>try(OutputStream os = p.getOutputStream()) { }</code>. This may help if the script is waiting on input."}],"answers":[{"tags":[],"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648124530,"creation_date":1648124530,"answer_id":71602474,"question_id":71601515,"body_markdown":"Process builder have special API to redirect child process input, output and error streams. See [documentation](https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html)\r\nIf you need both child and parent process to use same console you should use INHERIT mode redirection. An example:\r\n\r\n    public class ChildProcessOutputProxy {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tProcessBuilder builder = new ProcessBuilder(&quot;whoami&quot;);\r\n    \t\tbuilder.redirectOutput(Redirect.INHERIT);\r\n    \t\tbuilder.redirectErrorStream(true);  \r\n    \t\ttry {\r\n    \t\t\tvar child = builder.start();\r\n    \t\t\tchild.waitFor();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.err.println(e.getMessage());\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tThread.currentThread().interrupt();\r\n    \t\t}  \r\n    \t}\r\n    \t\r\n    } \r\n\r\n ","title":"process builder with redirecterrorstream hangs in readline","body":"<p>Process builder have special API to redirect child process input, output and error streams. See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">documentation</a>\nIf you need both child and parent process to use same console you should use INHERIT mode redirection. An example:</p>\n<pre><code>public class ChildProcessOutputProxy {\n    \n    public static void main(String[] args) {\n        ProcessBuilder builder = new ProcessBuilder(&quot;whoami&quot;);\n        builder.redirectOutput(Redirect.INHERIT);\n        builder.redirectErrorStream(true);  \n        try {\n            var child = builder.start();\n            child.waitFor();\n        } catch (IOException e) {\n            System.err.println(e.getMessage());\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }  \n    }\n    \n} \n</code></pre>\n"}],"owner":{"account_id":10533051,"reputation":75,"user_id":7761811,"display_name":"jasvik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648124530,"creation_date":1648120670,"question_id":71601515,"body_markdown":"I would like to run a hidden script file that resides in the current location using process builder. with the following code\r\n\r\n    // System.out.println(&quot;line&quot;+reader.readLine());\r\n    ProcessBuilder builder = new ProcessBuilder(shfile.getAbsolutePath());  \r\n    builder.redirectErrorStream(true);  \r\n    Process process = builder.start();  \r\n    BufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));  \r\n    String output = null;  \r\n    System.out.println(&quot;out&quot;);  //===printing this\r\n    while (null != (output = br.readLine()))\r\n    {  \r\n    \tSystem.out.println(&quot;in&quot;);   //not printing this\r\n        System.out.println(&quot;&gt;&gt;&quot;+output);   \r\n    }  \r\n    int  rs = process.waitFor();\r\n\r\nbut it hangs in the br.readline()..\r\nbut when I run the same script file using the following command in terminal\r\n\r\n    sh .script.sh\r\n\r\nit executes and gives me the expected results\r\n\r\nI looked into all the loops in the forum everyone asks to handle input stream and error stream in threads or do a redirect error stream. I have added a redirect error stream but still it hangs.\r\n\r\nwhen i press ctrl+c it prints the initial lines of the output and exits. \r\nContent of my script file\r\n\r\n    #!/bin/sh\r\n    cd /home/ats/cloudripper/lke_factory_asb_v2/lk_assets_factory_release/\r\n    sh ./LKE_run_Diablo.sh 0a0e0c3dc893\r\n\r\nSo how to handle this situation.\r\n\r\n ","title":"process builder with redirecterrorstream hangs in readline","body":"<p>I would like to run a hidden script file that resides in the current location using process builder. with the following code</p>\n<pre><code>// System.out.println(&quot;line&quot;+reader.readLine());\nProcessBuilder builder = new ProcessBuilder(shfile.getAbsolutePath());  \nbuilder.redirectErrorStream(true);  \nProcess process = builder.start();  \nBufferedReader br = new BufferedReader(new InputStreamReader(process.getInputStream()));  \nString output = null;  \nSystem.out.println(&quot;out&quot;);  //===printing this\nwhile (null != (output = br.readLine()))\n{  \n    System.out.println(&quot;in&quot;);   //not printing this\n    System.out.println(&quot;&gt;&gt;&quot;+output);   \n}  \nint  rs = process.waitFor();\n</code></pre>\n<p>but it hangs in the br.readline()..\nbut when I run the same script file using the following command in terminal</p>\n<pre><code>sh .script.sh\n</code></pre>\n<p>it executes and gives me the expected results</p>\n<p>I looked into all the loops in the forum everyone asks to handle input stream and error stream in threads or do a redirect error stream. I have added a redirect error stream but still it hangs.</p>\n<p>when i press ctrl+c it prints the initial lines of the output and exits.\nContent of my script file</p>\n<pre><code>#!/bin/sh\ncd /home/ats/cloudripper/lke_factory_asb_v2/lk_assets_factory_release/\nsh ./LKE_run_Diablo.sh 0a0e0c3dc893\n</code></pre>\n<p>So how to handle this situation.</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648045079,"post_id":71588573,"comment_id":126524858,"body_markdown":"If you use the Session object, method get, should return what you want. See: https://www.dineshonjava.com/difference-between-get-and-load-methods-in-hibernate/","body":"If you use the Session object, method get, should return what you want. See: <a href=\"https://www.dineshonjava.com/difference-between-get-and-load-methods-in-hibernate/\" rel=\"nofollow noreferrer\">dineshonjava.com/&hellip;</a>"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1648045100,"post_id":71588573,"comment_id":126524868,"body_markdown":"Perhaps _in order to create a backup_ should be moved from the app&#39;s responsibility to the database&#39;s responsibility, .e.g., use insert/update database triggers to store changes (backup/audit) in another table.  The app could query against the historical table if a previous version is really needed.","body":"Perhaps <i>in order to create a backup</i> should be moved from the app&#39;s responsibility to the database&#39;s responsibility, .e.g., use insert/update database triggers to store changes (backup/audit) in another table.  The app could query against the historical table if a previous version is really needed."},{"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"score":0,"creation_date":1648046637,"post_id":71588573,"comment_id":126525594,"body_markdown":"@AndrewS it is not about a database backup, it is about a tracking system. Every time an object is modified I need to keep a copy of its previous state","body":"@AndrewS it is not about a database backup, it is about a tracking system. Every time an object is modified I need to keep a copy of its previous state"},{"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"score":0,"creation_date":1648047967,"post_id":71588573,"comment_id":126526185,"body_markdown":"@pringi. it doesn&#39;t work, if I run 3 times in a row the same statement it locks the table","body":"@pringi. it doesn&#39;t work, if I run 3 times in a row the same statement it locks the table"},{"owner":{"account_id":11192974,"reputation":125,"user_id":15148073,"display_name":"Bad_Pop"},"score":0,"creation_date":1648048681,"post_id":71588573,"comment_id":126526486,"body_markdown":"Are you calling your findById method in the same transaction ? Have you tried to call the findById method in a new transaction ? You can annotate your method with @Transactional(propagation = REQUIRES_NEW) to be sure to use a new one","body":"Are you calling your findById method in the same transaction ? Have you tried to call the findById method in a new transaction ? You can annotate your method with @Transactional(propagation = REQUIRES_NEW) to be sure to use a new one"},{"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"score":0,"creation_date":1648052070,"post_id":71588573,"comment_id":126528093,"body_markdown":"I&#39;ve tried a work around but the get method described at your link doesn&#39;t return the row from the DB, it returns the cached object","body":"I&#39;ve tried a work around but the get method described at your link doesn&#39;t return the row from the DB, it returns the cached object"},{"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"score":0,"creation_date":1648053768,"post_id":71588573,"comment_id":126528868,"body_markdown":"@Bad_Pop I cannot spawn too many transactions.  The obejct is anyway searched by another session =&gt; new transaction","body":"@Bad_Pop I cannot spawn too many transactions.  The obejct is anyway searched by another session =&gt; new transaction"}],"answers":[{"tags":[],"owner":{"account_id":2876259,"reputation":470,"user_id":2468241,"accept_rate":75,"display_name":"XII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648124502,"creation_date":1648124502,"answer_id":71602465,"question_id":71588573,"body_markdown":"To keep backup of entities you should use @Audited (it keeps versions / snaphshots of each entity).\r\n\r\nYou can have a look over there https://www.baeldung.com/database-auditing-jpa\r\n\r\nA more advanced approach is https://javers.org/.\r\n\r\nJavers is the state-of-the-art way to do what you want to do. I think it will suit your needs. ","title":"Obtain copy of existing object with Hibernate and Spring Boot","body":"<p>To keep backup of entities you should use @Audited (it keeps versions / snaphshots of each entity).</p>\n<p>You can have a look over there <a href=\"https://www.baeldung.com/database-auditing-jpa\" rel=\"nofollow noreferrer\">https://www.baeldung.com/database-auditing-jpa</a></p>\n<p>A more advanced approach is <a href=\"https://javers.org/\" rel=\"nofollow noreferrer\">https://javers.org/</a>.</p>\n<p>Javers is the state-of-the-art way to do what you want to do. I think it will suit your needs.</p>\n"}],"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648124502,"creation_date":1648044212,"question_id":71588573,"body_markdown":"I have the following tricky situation in my Spring Boot application that uses Hibernate. I load objects from the data store and I modified them in several functions of my application that are not related one with another. The idea is that I need to load  the existing copy of the object from the database before saving its update instance in order to create a backup, but if I use the repository&#39;s `findById` method, Hibernate finds a copy of the object (the modified one) in its cache and returns that one and it is not ok for me, because I need a copy of the original object, before it was modified (the object that is currently in the database). I tried using a separate Session, but in case of multiple objects the DB is locked and I&#39;m not able to access the database anymore (MS Sql Express). Has anyone an idea on how to obtain the original unmodified object before persisting tghe changes in the database ? Thanks","title":"Obtain copy of existing object with Hibernate and Spring Boot","body":"<p>I have the following tricky situation in my Spring Boot application that uses Hibernate. I load objects from the data store and I modified them in several functions of my application that are not related one with another. The idea is that I need to load  the existing copy of the object from the database before saving its update instance in order to create a backup, but if I use the repository's <code>findById</code> method, Hibernate finds a copy of the object (the modified one) in its cache and returns that one and it is not ok for me, because I need a copy of the original object, before it was modified (the object that is currently in the database). I tried using a separate Session, but in case of multiple objects the DB is locked and I'm not able to access the database anymore (MS Sql Express). Has anyone an idea on how to obtain the original unmodified object before persisting tghe changes in the database ? Thanks</p>\n"},{"tags":["java","unit-testing","inner-classes"],"comments":[{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1648115049,"post_id":71599951,"comment_id":126544100,"body_markdown":"What do you want to test? That the `mUri` field never is `null`? That `getUri()` never returns `null`? That the builder rejects an attempt to create an instance with a null URI? With the current code, all these tests will fail. The only thing that is currently supported, is that the `mUri` isn&#39;t null if the builder is invoked and given a non-null URI.","body":"What do you want to test? That the <code>mUri</code> field never is <code>null</code>? That <code>getUri()</code> never returns <code>null</code>? That the builder rejects an attempt to create an instance with a null URI? With the current code, all these tests will fail. The only thing that is currently supported, is that the <code>mUri</code> isn&#39;t null if the builder is invoked and given a non-null URI."},{"owner":{"account_id":24600907,"reputation":3,"user_id":18503798,"display_name":"Mark"},"score":0,"creation_date":1648124051,"post_id":71599951,"comment_id":126547507,"body_markdown":"@RalfKleberhoff I Just adapted my question, I saw I posated it with a wrong assertion","body":"@RalfKleberhoff I Just adapted my question, I saw I posated it with a wrong assertion"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648114894,"creation_date":1648114894,"answer_id":71600087,"question_id":71599951,"body_markdown":"Just invoke the `Builder` method 0n `_Deferred` class with desired value for `mUri` field\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    public class StackOverflow {\r\n\r\n        @Test\r\n        public void deferredTest(){\r\n            _Deferred deferred = new _Deferred.Builder().withUri(&quot;some_uri&quot;).build();\r\n            Assertions.assertNotNull(deferred.getUri());\r\n        }\r\n    }\r\n\r\nAnd test will pass successfully .\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fKk1M.png","title":"How to Unit Test a class with a nested static class in java?","body":"<p>Just invoke the <code>Builder</code> method 0n <code>_Deferred</code> class with desired value for <code>mUri</code> field</p>\n\n<pre><code>public class StackOverflow {\n\n    @Test\n    public void deferredTest(){\n        _Deferred deferred = new _Deferred.Builder().withUri(&quot;some_uri&quot;).build();\n        Assertions.assertNotNull(deferred.getUri());\n    }\n}\n</code></pre>\n<p>And test will pass successfully .</p>\n<p><a href=\"https://i.stack.imgur.com/fKk1M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fKk1M.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24600907,"reputation":3,"user_id":18503798,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71600087,"answer_count":1,"score":0,"last_activity_date":1648124479,"creation_date":1648114305,"question_id":71599951,"body_markdown":"I have to write a unit test for this class that contains a nested static class. I don&#39;t know how to initialize the class variable &quot;mUri&quot; of &quot;\\_Deferred&quot; to make an assertion that it is not null.\r\n\r\n    public class _Deferred {\r\n    \r\n        @SerializedName(&quot;uri&quot;)\r\n        private String mUri;\r\n    \r\n        public String getUri() {\r\n            return mUri;\r\n        }\r\n    \r\n        public static class Builder {\r\n    \r\n            private String mUri;\r\n    \r\n            public _Deferred.Builder withUri(String uri) {\r\n                mUri = uri;\r\n                return this;\r\n            }\r\n    \r\n            public _Deferred build() {\r\n                _Deferred _Deferred = new _Deferred();\r\n                _Deferred.mUri = mUri;\r\n                return _Deferred;\r\n            }\r\n        }\r\n    }\r\n\r\nAny help on how to initialize &quot;mUri&quot; is appreciated.\r\n\r\nWhat I tried is:\r\n\r\n    @Test\r\n    public void testGetUriNotNull() {\r\n\r\n        //preparations\r\n        _deferred = new _Deferred();\r\n        _Deferred.Builder builder = new _Deferred.Builder();\r\n\r\n    }\r\n\r\nBut then i don&#39;t know how to set &quot;mUri&quot;.","title":"How to Unit Test a class with a nested static class in java?","body":"<p>I have to write a unit test for this class that contains a nested static class. I don't know how to initialize the class variable &quot;mUri&quot; of &quot;_Deferred&quot; to make an assertion that it is not null.</p>\n<pre><code>public class _Deferred {\n\n    @SerializedName(&quot;uri&quot;)\n    private String mUri;\n\n    public String getUri() {\n        return mUri;\n    }\n\n    public static class Builder {\n\n        private String mUri;\n\n        public _Deferred.Builder withUri(String uri) {\n            mUri = uri;\n            return this;\n        }\n\n        public _Deferred build() {\n            _Deferred _Deferred = new _Deferred();\n            _Deferred.mUri = mUri;\n            return _Deferred;\n        }\n    }\n}\n</code></pre>\n<p>Any help on how to initialize &quot;mUri&quot; is appreciated.</p>\n<p>What I tried is:</p>\n<pre><code>@Test\npublic void testGetUriNotNull() {\n\n    //preparations\n    _deferred = new _Deferred();\n    _Deferred.Builder builder = new _Deferred.Builder();\n\n}\n</code></pre>\n<p>But then i don't know how to set &quot;mUri&quot;.</p>\n"},{"tags":["java","mockito","powermock","powermockito"],"comments":[{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1647955524,"post_id":71571969,"comment_id":126497025,"body_markdown":"genericExcelCreator should be mocked, if I&#39;m not mistaken. And then I would pass &quot;getExcelMappingJsoDto&quot; as the method to be invoked. Whatever that method returns could be then called upon with .getSheets().get(0).getColumnMapping().","body":"genericExcelCreator should be mocked, if I&#39;m not mistaken. And then I would pass &quot;getExcelMappingJsoDto&quot; as the method to be invoked. Whatever that method returns could be then called upon with .getSheets().get(0).getColumnMapping()."},{"owner":{"account_id":2690474,"reputation":1319,"user_id":2323932,"accept_rate":21,"display_name":"draca"},"score":0,"creation_date":1647965388,"post_id":71571969,"comment_id":126501596,"body_markdown":"@Paul Right, I did what you suggested and got it working. If you can respond in an answer then I can accept it. Thanks1","body":"@Paul Right, I did what you suggested and got it working. If you can respond in an answer then I can accept it. Thanks1"}],"answers":[{"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648124178,"creation_date":1648124178,"answer_id":71602387,"question_id":71571969,"body_markdown":"In order to get Whitebox to work, you&#39;ll need to mock your ```GenericExcelCreator``` class.\r\nFor example, using Mockito&#39;s annotations: \r\n\r\n```\r\n@Mock\r\nprivate GenericExcelCreator genericExcelCreator;\r\n```\r\n\r\nUsually, I&#39;d assign the return value of the method to a new variable before I start working with it. Since I don&#39;t know your return type, but keeping in mind that Java allows method-chaining, you could do it like this:\r\n```\r\nMap&lt;Integer, String&gt; columnMapping = Whitebox.invokeMethod(genericExcelCreator, &quot;getExcelMappingJsoDto&quot;).getSheets().get(0).getColumnMapping();\r\n```\r\nKeep in mind that Whitebox only needs the (method)name, so you shouldn&#39;t add the brackets () when passing it along to ```.invokeMethod```\r\n\r\nAdditionally, another common use of Whitebox is changing the value of a private variable in a mocked class. This you can achieve by:\r\n```\r\nWhitebox.setInternalState(yourMockedService, &quot;nameOfYourVariable&quot;, variableObjectTypeValue);\r\n```\r\nFor example, I could have a class ```CleanupService``` with an interchangeable boolean called ```allowCleanup``` that I want to test when ```false```.\r\nThis results in: \r\n```\r\nWhitebox.setInternalState(cleanupService, &quot;allowCleanup&quot;, false); \r\n```","title":"Need syntax to call powermock whitebox()","body":"<p>In order to get Whitebox to work, you'll need to mock your <code>GenericExcelCreator</code> class.\nFor example, using Mockito's annotations:</p>\n<pre><code>@Mock\nprivate GenericExcelCreator genericExcelCreator;\n</code></pre>\n<p>Usually, I'd assign the return value of the method to a new variable before I start working with it. Since I don't know your return type, but keeping in mind that Java allows method-chaining, you could do it like this:</p>\n<pre><code>Map&lt;Integer, String&gt; columnMapping = Whitebox.invokeMethod(genericExcelCreator, &quot;getExcelMappingJsoDto&quot;).getSheets().get(0).getColumnMapping();\n</code></pre>\n<p>Keep in mind that Whitebox only needs the (method)name, so you shouldn't add the brackets () when passing it along to <code>.invokeMethod</code></p>\n<p>Additionally, another common use of Whitebox is changing the value of a private variable in a mocked class. This you can achieve by:</p>\n<pre><code>Whitebox.setInternalState(yourMockedService, &quot;nameOfYourVariable&quot;, variableObjectTypeValue);\n</code></pre>\n<p>For example, I could have a class <code>CleanupService</code> with an interchangeable boolean called <code>allowCleanup</code> that I want to test when <code>false</code>.\nThis results in:</p>\n<pre><code>Whitebox.setInternalState(cleanupService, &quot;allowCleanup&quot;, false); \n</code></pre>\n"}],"owner":{"account_id":2690474,"reputation":1319,"user_id":2323932,"accept_rate":21,"display_name":"draca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71602387,"answer_count":1,"score":0,"last_activity_date":1648124178,"creation_date":1647951622,"question_id":71571969,"body_markdown":"In my unit tests I&#39;m trying to execute a private method using Whitebox.invokeMethod, but I don&#39;t know the syntax that works.  I want to invoke this (getExcelMappingJsoDto() is the private method) but not sure how to pass arguments\r\n\r\n    Map&lt;Integer,String&gt; columnMapping = genericExcelCreator.getExcelMappingJsoDto().getSheets().get(0).getColumnMapping();\r\n\r\nTrying something like this, to no avail:\r\n\r\n    Map&lt;Integer,String&gt; columnMapping  = Whitebox.invokeMethod(genericExcelCreator, &quot;getExcelMappingJsoDto().getSheets().get(0).getColumnMapping&quot;, null);\r\n","title":"Need syntax to call powermock whitebox()","body":"<p>In my unit tests I'm trying to execute a private method using Whitebox.invokeMethod, but I don't know the syntax that works.  I want to invoke this (getExcelMappingJsoDto() is the private method) but not sure how to pass arguments</p>\n<pre><code>Map&lt;Integer,String&gt; columnMapping = genericExcelCreator.getExcelMappingJsoDto().getSheets().get(0).getColumnMapping();\n</code></pre>\n<p>Trying something like this, to no avail:</p>\n<pre><code>Map&lt;Integer,String&gt; columnMapping  = Whitebox.invokeMethod(genericExcelCreator, &quot;getExcelMappingJsoDto().getSheets().get(0).getColumnMapping&quot;, null);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648052575,"post_id":71590542,"comment_id":126528300,"body_markdown":"Please post a data example.","body":"Please post a data example."},{"owner":{"account_id":24662767,"reputation":11,"user_id":18558809,"display_name":"Ziad Howayek"},"score":0,"creation_date":1648052928,"post_id":71590542,"comment_id":126528448,"body_markdown":"@pringi i have added an example it keeps recursing until spring boot fires an exception","body":"@pringi i have added an example it keeps recursing until spring boot fires an exception"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648053239,"post_id":71590542,"comment_id":126528626,"body_markdown":"Not sure if your problem is not related to a case sensitive property: following (in Json) vs Following (in Entity)","body":"Not sure if your problem is not related to a case sensitive property: following (in Json) vs Following (in Entity)"}],"answers":[{"tags":[],"owner":{"account_id":2876259,"reputation":470,"user_id":2468241,"accept_rate":75,"display_name":"XII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648124073,"creation_date":1648124073,"answer_id":71602353,"question_id":71590542,"body_markdown":"I think that your answer is here https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\r\n\r\nPay attention to paragraph 3and the annotations @JsonManagedReference and @JsonBackReference.\r\n\r\nBy using JsonManagedReference you can avoid the circular dependency issue.","title":"@JsonIgnore works correctly with normal relations but when i apply a many to many to the same entity it doesn&#39;t work","body":"<p>I think that your answer is here <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n<p>Pay attention to paragraph 3and the annotations @JsonManagedReference and @JsonBackReference.</p>\n<p>By using JsonManagedReference you can avoid the circular dependency issue.</p>\n"}],"owner":{"account_id":24662767,"reputation":11,"user_id":18558809,"display_name":"Ziad Howayek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71602353,"answer_count":1,"score":0,"last_activity_date":1648124073,"creation_date":1648052028,"question_id":71590542,"body_markdown":"@JsonIgnore doesn&#39;t work when a relationship is applient to the same entity but when used in the relationship with a different entity it works fine i want to use it to stop the recursive problem with json is there a way to fix this or using something different than @JsonIgnore and if someone know the answer please share with me the cause of the problem so i can avoid this in the future.\r\nThank you in advance.\r\n\r\n\r\n        package com.socialapp.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column(unique = true,name = &quot;username&quot;)\r\n        private String Username;\r\n    \r\n        @Column(unique = true,name = &quot;mail&quot;)\r\n        private String mail;\r\n    \r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    \r\n        @JsonIgnore //this is a one to many relationship with entity post works fine\r\n        @OneToMany(mappedBy = &quot;poster&quot;)\r\n        private Set&lt;Post&gt;  posts= new HashSet&lt;&gt;();\r\n    \r\n        @JsonIgnore //this is a many to many relationship with entity post works fine\r\n        @ManyToMany(mappedBy = &quot;likers&quot;)\r\n        private Set&lt;Post&gt; postsLiked = new HashSet&lt;&gt;();\r\n    \r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;follow&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;followers&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;following&quot;)\r\n        )\r\n        private Set&lt;User&gt; Followers = new HashSet&lt;&gt;();\r\n    \r\n        @JsonIgnore  //this is a many to many relationship with the same entity @jsonignore doesn&#39;t work\r\n        @ManyToMany(mappedBy = &quot;Followers&quot;)\r\n        private Set&lt;User&gt; Following = new HashSet&lt;&gt;();\r\n    \r\n    \r\n        public User(String username, String mail, String password) {\r\n            Username = username;\r\n            this.mail = mail;\r\n            this.password = password;\r\n        }\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        public long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return Username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            Username = username;\r\n        }\r\n    \r\n        public String getMail() {\r\n            return mail;\r\n        }\r\n    \r\n        public void setMail(String mail) {\r\n            this.mail = mail;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n        public Set&lt;Post&gt; getPosts() {\r\n            return posts;\r\n        }\r\n    \r\n        public void setPosts(Set&lt;Post&gt; posts) {\r\n            this.posts = posts;\r\n        }\r\n    \r\n        public Set&lt;Post&gt; getPostsLiked() {\r\n            return postsLiked;\r\n        }\r\n    \r\n        public void setPostsLiked(Set&lt;Post&gt; postsLiked) {\r\n            this.postsLiked = postsLiked;\r\n        }\r\n    \r\n        public Set&lt;User&gt; getFollowers() {\r\n            return Followers;\r\n        }\r\n    \r\n        public void setFollowers(Set&lt;User&gt; followers) {\r\n            Followers = followers;\r\n        }\r\n    \r\n        public Set&lt;User&gt; getFollowing() {\r\n            return Following;\r\n        }\r\n    \r\n        public void setFollowing(Set&lt;User&gt; following) {\r\n            Following = following;\r\n        }\r\n        public void addFollower(User following){\r\n            this.Followers.add(following);\r\n        }\r\n    }\r\n\r\n\r\n\r\n&quot;id&quot;: 1,\r\n            &quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\r\n            &quot;password&quot;: &quot;78824381&quot;,\r\n            &quot;followers&quot;: [\r\n                {\r\n                    &quot;id&quot;: 2,\r\n                    &quot;mail&quot;: &quot;jadhowayek@gmail.com&quot;,\r\n                    &quot;password&quot;: &quot;123456&quot;,\r\n                    &quot;followers&quot;: [],\r\n                    &quot;following&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 1,\r\n                            &quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\r\n                            &quot;password&quot;: &quot;78824381&quot;,\r\n                            &quot;followers&quot;: [\r\n                                {\r\n                                    &quot;id&quot;: 2,\r\n                                    &quot;mail&quot;: &quot;jadhowayek@gmail.com&quot;,\r\n                                    &quot;password&quot;: &quot;123456&quot;,\r\n                                    &quot;followers&quot;: [],\r\n                                    &quot;following&quot;: [\r\n                                        {\r\n                                            &quot;id&quot;: 1,\r\n                                            &quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\r\n                                            &quot;password&quot;: &quot;78824381&quot;,\r\n                                            &quot;followers&quot;: [\r\n                                                {\r\n                                                    &quot;id&quot;: 2,\r\n                                                    &quot;mail&quot;: &quot;jadhowayek@gmail.com&quot;,\r\n                                                    &quot;password&quot;: &quot;123456&quot;,\r\n                                                    &quot;followers&quot;: [],\r\n                                                    &quot;following&quot;: [\r\n                                                        {\r\n                                                            &quot;id&quot;: 1,\r\n                                                            &quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\r\n                                                            &quot;password&quot;: &quot;78824381&quot;,\r\n                                                            &quot;followers&quot;: [\r\n                                                                {\r\n                                                                    &quot;id&quot;: 2,\r\n                                                                    &quot;mail&quot;: &quot;jadhowayek@gmail.com&quot;,\r\n                                                                    &quot;password&quot;: &quot;123456&quot;,\r\n                                                                    &quot;followers&quot;: [],\r\n                                                                    &quot;following&quot;: [\r\n                                                                        {\r\n                                                                            &quot;id&quot;: 1,\r\n                                                                            &quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\r\n                                                                            &quot;password&quot;: &quot;78824381&quot;,\r\n                                                                            &quot;followers&quot;: [\r\n                                                                                {\r\n                                                                                    &quot;id&quot;: 2,\r\n                                     ","title":"@JsonIgnore works correctly with normal relations but when i apply a many to many to the same entity it doesn&#39;t work","body":"<p>@JsonIgnore doesn't work when a relationship is applient to the same entity but when used in the relationship with a different entity it works fine i want to use it to stop the recursive problem with json is there a way to fix this or using something different than @JsonIgnore and if someone know the answer please share with me the cause of the problem so i can avoid this in the future.\nThank you in advance.</p>\n<pre><code>    package com.socialapp.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(unique = true,name = &quot;username&quot;)\n    private String Username;\n\n    @Column(unique = true,name = &quot;mail&quot;)\n    private String mail;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @JsonIgnore //this is a one to many relationship with entity post works fine\n    @OneToMany(mappedBy = &quot;poster&quot;)\n    private Set&lt;Post&gt;  posts= new HashSet&lt;&gt;();\n\n    @JsonIgnore //this is a many to many relationship with entity post works fine\n    @ManyToMany(mappedBy = &quot;likers&quot;)\n    private Set&lt;Post&gt; postsLiked = new HashSet&lt;&gt;();\n\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;follow&quot;,\n            joinColumns = @JoinColumn(name = &quot;followers&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;following&quot;)\n    )\n    private Set&lt;User&gt; Followers = new HashSet&lt;&gt;();\n\n    @JsonIgnore  //this is a many to many relationship with the same entity @jsonignore doesn't work\n    @ManyToMany(mappedBy = &quot;Followers&quot;)\n    private Set&lt;User&gt; Following = new HashSet&lt;&gt;();\n\n\n    public User(String username, String mail, String password) {\n        Username = username;\n        this.mail = mail;\n        this.password = password;\n    }\n\n    public User() {\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return Username;\n    }\n\n    public void setUsername(String username) {\n        Username = username;\n    }\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n        this.mail = mail;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public Set&lt;Post&gt; getPosts() {\n        return posts;\n    }\n\n    public void setPosts(Set&lt;Post&gt; posts) {\n        this.posts = posts;\n    }\n\n    public Set&lt;Post&gt; getPostsLiked() {\n        return postsLiked;\n    }\n\n    public void setPostsLiked(Set&lt;Post&gt; postsLiked) {\n        this.postsLiked = postsLiked;\n    }\n\n    public Set&lt;User&gt; getFollowers() {\n        return Followers;\n    }\n\n    public void setFollowers(Set&lt;User&gt; followers) {\n        Followers = followers;\n    }\n\n    public Set&lt;User&gt; getFollowing() {\n        return Following;\n    }\n\n    public void setFollowing(Set&lt;User&gt; following) {\n        Following = following;\n    }\n    public void addFollower(User following){\n        this.Followers.add(following);\n    }\n}\n</code></pre>\n<p>&quot;id&quot;: 1,\n&quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\n&quot;password&quot;: &quot;78824381&quot;,\n&quot;followers&quot;: [\n{\n&quot;id&quot;: 2,\n&quot;mail&quot;: &quot;jadhowayek@gmail.com&quot;,\n&quot;password&quot;: &quot;123456&quot;,\n&quot;followers&quot;: [],\n&quot;following&quot;: [\n{\n&quot;id&quot;: 1,\n&quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\n&quot;password&quot;: &quot;78824381&quot;,\n&quot;followers&quot;: [\n{\n&quot;id&quot;: 2,\n&quot;mail&quot;: &quot;jadhowayek@gmail.com&quot;,\n&quot;password&quot;: &quot;123456&quot;,\n&quot;followers&quot;: [],\n&quot;following&quot;: [\n{\n&quot;id&quot;: 1,\n&quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\n&quot;password&quot;: &quot;78824381&quot;,\n&quot;followers&quot;: [\n{\n&quot;id&quot;: 2,\n&quot;mail&quot;: &quot;jadhowayek@gmail.com&quot;,\n&quot;password&quot;: &quot;123456&quot;,\n&quot;followers&quot;: [],\n&quot;following&quot;: [\n{\n&quot;id&quot;: 1,\n&quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\n&quot;password&quot;: &quot;78824381&quot;,\n&quot;followers&quot;: [\n{\n&quot;id&quot;: 2,\n&quot;mail&quot;: &quot;jadhowayek@gmail.com&quot;,\n&quot;password&quot;: &quot;123456&quot;,\n&quot;followers&quot;: [],\n&quot;following&quot;: [\n{\n&quot;id&quot;: 1,\n&quot;mail&quot;: &quot;ziadhowayek12@gmail.com&quot;,\n&quot;password&quot;: &quot;78824381&quot;,\n&quot;followers&quot;: [\n{\n&quot;id&quot;: 2,</p>\n"},{"tags":["java","macos","jsp","tomcat","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1648124404,"post_id":71602347,"comment_id":126547669,"body_markdown":"Tomcat 10 is JakartaEE not JavaEE. The packages have changed, if you are using libraries that don&#39;t support JakartaEE you cannot use Tomcat 10. Downgrade to Tomcat9. Or ditch the OReily file upload library and use the plain Servlet variant for file uploading (which is a bit harder to use).","body":"Tomcat 10 is JakartaEE not JavaEE. The packages have changed, if you are using libraries that don&#39;t support JakartaEE you cannot use Tomcat 10. Downgrade to Tomcat9. Or ditch the OReily file upload library and use the plain Servlet variant for file uploading (which is a bit harder to use)."},{"owner":{"account_id":23078324,"reputation":1,"user_id":17190967,"display_name":"Vishu"},"score":0,"creation_date":1648126536,"post_id":71602347,"comment_id":126548563,"body_markdown":"I added servlet-api.jar and these errors were removed but now I am getting a new error:The constructor MultipartRequest(HttpServletRequest, String) is undefined &#129394;","body":"I added servlet-api.jar and these errors were removed but now I am getting a new error:The constructor MultipartRequest(HttpServletRequest, String) is undefined "},{"owner":{"account_id":23078324,"reputation":1,"user_id":17190967,"display_name":"Vishu"},"score":0,"creation_date":1648127115,"post_id":71602347,"comment_id":126548818,"body_markdown":"Thank you so much @OlafKock for providing me the link but unfortunately its not having the answer to my question since I am importing OReily rather than javax packages.","body":"Thank you so much @OlafKock for providing me the link but unfortunately its not having the answer to my question since I am importing OReily rather than javax packages."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1648127975,"post_id":71602347,"comment_id":126549174,"body_markdown":"The comments above, as well as the linked post provide your answer: Use Tomcat 9 or ditch the library you use (which uses the javax packages). Even the error message clearly states it: _The type javax.servlet.http.HttpServletRequest cannot be resolved. It is indirectly referenced from required .class files_","body":"The comments above, as well as the linked post provide your answer: Use Tomcat 9 or ditch the library you use (which uses the javax packages). Even the error message clearly states it: <i>The type javax.servlet.http.HttpServletRequest cannot be resolved. It is indirectly referenced from required .class files</i>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1648128240,"post_id":71602347,"comment_id":126549309,"body_markdown":"Adding the api isn&#39;t going to solve anything, Tomcat10 still doesn&#39;t support JavaEE.","body":"Adding the api isn&#39;t going to solve anything, Tomcat10 still doesn&#39;t support JavaEE."}],"owner":{"account_id":23078324,"reputation":1,"user_id":17190967,"display_name":"Vishu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648309146,"answer_count":0,"score":0,"last_activity_date":1648124055,"creation_date":1648124055,"question_id":71602347,"body_markdown":"I use Netbeans IDE version 12.5, JDK 17 and tomcat version 10.0.26.I have added cos.jar, mysql-connector-java-8.0.26.jar files in library.I have macOS BigSur 11.1. I created resources folder under the path /BVTechHub/Build/Web/resources where BVTechHub is project name. I wanted to create jsp file to upload images but is continuously getting the error:\r\n\r\nType Exception Report\r\n\r\nMessage Unable to compile class for JSP:\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\norg.apache.jasper.JasperException: Unable to compile class for JSP: \r\n\r\nAn error occurred at line: [19] in the jsp file: [/process.jsp]\r\nThe type javax.servlet.http.HttpServletRequest cannot be resolved. It is indirectly referenced from required .class files\r\n\r\n\r\nAn error occurred at line: [19] in the jsp file: [/process.jsp]\r\nThe constructor MultipartRequest(HttpServletRequest, String) refers to the missing type HttpServletRequest\r\n\r\n\r\nStacktrace:\r\n\torg.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:102)\r\n\torg.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:213)\r\n\torg.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:498)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:397)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:367)\r\n\torg.apache.jasper.compiler.Compiler.compile(Compiler.java:351)\r\n\torg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n\torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:399)\r\n\torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\r\n\torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\r\n\tjakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\nNote The full stack trace of the root cause is available in the server logs.\r\n\r\n\r\nThe code of addResource.jsp is as follows:\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;title&gt;File Upload Demo&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;center&gt;\r\n            &lt;form method=&quot;post&quot; action=&quot;process.jsp&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n                Select file to upload:\r\n                &lt;input type=&quot;file&quot; name=&quot;upload&quot; /&gt;\r\n                &lt;br/&gt;&lt;br/&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;Upload&quot; /&gt;\r\n            &lt;/form&gt;\r\n        &lt;/center&gt; \r\n    &lt;/body&gt; \r\n    &lt;/html&gt;\r\n\r\nThe code for process.jsp is:\r\n\r\n    &lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ page import=&quot;com.oreilly.servlet.MultipartRequest&quot; %&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n        &lt;%\r\n                String root=getServletContext().getRealPath(&quot;resources&quot;);\r\n                MultipartRequest m =new MultipartRequest(request,root);\r\n                out.print(&quot;File uploaded successfully&quot;);\r\n        %&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n\r\n\r\nPlease help me resolve this error.\r\nThank you in advance for helping me.","title":"The type javax.servlet.http.HttpServletRequest cannot be resolved. It is indirectly referenced from required .class files in netbeans IDE in macOs","body":"<p>I use Netbeans IDE version 12.5, JDK 17 and tomcat version 10.0.26.I have added cos.jar, mysql-connector-java-8.0.26.jar files in library.I have macOS BigSur 11.1. I created resources folder under the path /BVTechHub/Build/Web/resources where BVTechHub is project name. I wanted to create jsp file to upload images but is continuously getting the error:</p>\n<p>Type Exception Report</p>\n<p>Message Unable to compile class for JSP:</p>\n<p>Description The server encountered an unexpected condition that prevented it from fulfilling the request.</p>\n<p>Exception</p>\n<p>org.apache.jasper.JasperException: Unable to compile class for JSP:</p>\n<p>An error occurred at line: [19] in the jsp file: [/process.jsp]\nThe type javax.servlet.http.HttpServletRequest cannot be resolved. It is indirectly referenced from required .class files</p>\n<p>An error occurred at line: [19] in the jsp file: [/process.jsp]\nThe constructor MultipartRequest(HttpServletRequest, String) refers to the missing type HttpServletRequest</p>\n<p>Stacktrace:\norg.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:102)\norg.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:213)\norg.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:498)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:397)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:367)\norg.apache.jasper.compiler.Compiler.compile(Compiler.java:351)\norg.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\norg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:399)\norg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:380)\norg.apache.jasper.servlet.JspServlet.service(JspServlet.java:328)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:777)\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)</p>\n<p>Note The full stack trace of the root cause is available in the server logs.</p>\n<p>The code of addResource.jsp is as follows:</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;File Upload Demo&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;form method=&quot;post&quot; action=&quot;process.jsp&quot; enctype=&quot;multipart/form-data&quot;&gt;\n            Select file to upload:\n            &lt;input type=&quot;file&quot; name=&quot;upload&quot; /&gt;\n            &lt;br/&gt;&lt;br/&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Upload&quot; /&gt;\n        &lt;/form&gt;\n    &lt;/center&gt; \n&lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n<p>The code for process.jsp is:</p>\n<pre><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;com.oreilly.servlet.MultipartRequest&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n    &lt;title&gt;JSP Page&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;%\n            String root=getServletContext().getRealPath(&quot;resources&quot;);\n            MultipartRequest m =new MultipartRequest(request,root);\n            out.print(&quot;File uploaded successfully&quot;);\n    %&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>Please help me resolve this error.\nThank you in advance for helping me.</p>\n"},{"tags":["java","tomcat","java-11","confluence","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":14429090,"reputation":374,"user_id":10422943,"display_name":"Andrii Maliuta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648123791,"creation_date":1648123791,"answer_id":71602284,"question_id":71598790,"body_markdown":"Such actions on Tomcat should be logged in the {CONFLUENCE_HOME}/{DATA_FOLDER}/logs folder, please find these logs files and look for this operation/timestamp.\r\n\r\nIf for some reason, logs are not fully reflected, you can set it as described in \r\nhttps://confluence.atlassian.com/doc/configuring-logging-181535215.html.\r\n\r\nAlso, you can control loggng in -X... Java / Tomcat statements when running start.bin/start.sh.","title":"How to know what got a thread killed in tomcat?","body":"<p>Such actions on Tomcat should be logged in the {CONFLUENCE_HOME}/{DATA_FOLDER}/logs folder, please find these logs files and look for this operation/timestamp.</p>\n<p>If for some reason, logs are not fully reflected, you can set it as described in\n<a href=\"https://confluence.atlassian.com/doc/configuring-logging-181535215.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/doc/configuring-logging-181535215.html</a>.</p>\n<p>Also, you can control loggng in -X... Java / Tomcat statements when running start.bin/start.sh.</p>\n"}],"owner":{"account_id":2255681,"reputation":405,"user_id":1986913,"accept_rate":65,"display_name":"GP92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648123791,"creation_date":1648108568,"question_id":71598790,"body_markdown":"In our confluence server (tomcat 9 based), we added interruptThreshold to 30mins to kill long running threads (usually these are stuck threads).\r\n\r\nHowever, interrupts for certain threads are not succesful (and it is okay, as it&#39;s mentioned in documentation that it doesn&#39;t work in all cases), but these specific threads gets killed after 8 hours. \r\n\r\nThese specific threads are related to a custom plugin and our developers say they don&#39;t have such 8 hours setting anywhere and I couldn&#39;t find anything in tomcat or in confluence. \r\n\r\nWe will be able to replicate the stuck threads, but how to findout what&#39;s killing them after 8 hours?","title":"How to know what got a thread killed in tomcat?","body":"<p>In our confluence server (tomcat 9 based), we added interruptThreshold to 30mins to kill long running threads (usually these are stuck threads).</p>\n<p>However, interrupts for certain threads are not succesful (and it is okay, as it's mentioned in documentation that it doesn't work in all cases), but these specific threads gets killed after 8 hours.</p>\n<p>These specific threads are related to a custom plugin and our developers say they don't have such 8 hours setting anywhere and I couldn't find anything in tomcat or in confluence.</p>\n<p>We will be able to replicate the stuck threads, but how to findout what's killing them after 8 hours?</p>\n"},{"tags":["java","api","http","heroku"],"comments":[{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1648023231,"post_id":71583492,"comment_id":126515949,"body_markdown":"Should&#39;t you replace `THE_VALID_URL ` with the actual URL you want to invoke?","body":"Should&#39;t you replace <code>THE_VALID_URL </code> with the actual URL you want to invoke?"},{"owner":{"account_id":10294398,"reputation":1,"user_id":7595094,"display_name":"Mshn"},"score":0,"creation_date":1648024274,"post_id":71583492,"comment_id":126516329,"body_markdown":"Yes, in the actual code it has the correct address. Since it&#39;s a private URL I just wanted to hide it when posting the question. But we made sure that the URL is valid, indeed.","body":"Yes, in the actual code it has the correct address. Since it&#39;s a private URL I just wanted to hide it when posting the question. But we made sure that the URL is valid, indeed."}],"answers":[{"tags":[],"owner":{"account_id":5107148,"reputation":106,"user_id":4094902,"display_name":"Nilay Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648038803,"creation_date":1648038803,"answer_id":71587309,"question_id":71583492,"body_markdown":"Seems to be an issue with DNS name resolution.\r\nIn the private space heroku [documentation][1], it is mentioned\r\n\r\n```\r\nAll dyno-to-dyno communication in Private Spaces takes places via the private network. \r\nTo communicate via the private network, your process needs to bind to its dynos private IP address on a port between 1024 and 65535. \r\nThe HEROKU_PRIVATE_IP environment variable contains your dynos private IP address.\r\n```\r\n\r\n\r\n```\r\nAfter your process binds to the private IP address, its reachable on the chosen port via its DNS name and port. \r\nThe above example would be available on this URL:\r\n\r\nhttp://foo.[APP_NAME].app.localspace:5000/\r\n```\r\n\r\n\r\nSo you could try [binding][2] your API to your private IP + static port, and use this `http://foo.[APP_NAME].app.localspace:5000/` format as a URL to make the GET request from your java app\r\n\r\n\r\n  [1]: https://devcenter.heroku.com/articles/dyno-dns-service-discovery#usage\r\n  [2]: https://devcenter.heroku.com/articles/dyno-dns-service-discovery#binding-to-the-private-network","title":"Heroku Java - Name or service not known","body":"<p>Seems to be an issue with DNS name resolution.\nIn the private space heroku <a href=\"https://devcenter.heroku.com/articles/dyno-dns-service-discovery#usage\" rel=\"nofollow noreferrer\">documentation</a>, it is mentioned</p>\n<pre><code>All dyno-to-dyno communication in Private Spaces takes places via the private network. \nTo communicate via the private network, your process needs to bind to its dynos private IP address on a port between 1024 and 65535. \nThe HEROKU_PRIVATE_IP environment variable contains your dynos private IP address.\n</code></pre>\n<pre><code>After your process binds to the private IP address, its reachable on the chosen port via its DNS name and port. \nThe above example would be available on this URL:\n\nhttp://foo.[APP_NAME].app.localspace:5000/\n</code></pre>\n<p>So you could try <a href=\"https://devcenter.heroku.com/articles/dyno-dns-service-discovery#binding-to-the-private-network\" rel=\"nofollow noreferrer\">binding</a> your API to your private IP + static port, and use this <code>http://foo.[APP_NAME].app.localspace:5000/</code> format as a URL to make the GET request from your java app</p>\n"}],"owner":{"account_id":10294398,"reputation":1,"user_id":7595094,"display_name":"Mshn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648123772,"creation_date":1648021818,"question_id":71583492,"body_markdown":"We have a private space and gave access to one of the internal API so that we could access it from the private space app. So, we&#39;ve developed a demo Java app to test it. When we try to connect the service with an HTTP Get the stack trace ends like this.\r\n\r\n```\r\njava.net.UnknownHostException: [THE_VALID_URL] Name or service not known\r\njava.base/java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method)\r\nat java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929)\r\nat java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1519)\r\nat java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)\r\nat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1509)\r\nat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1368)\r\nat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1302)\r\nat org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45)\r\n```\r\n\r\nWhen we ping the corresponding IP within the private space we can see that it&#39;s up. But when we try to access the service from the Java application it ends up like above.\r\n\r\nThe Java code is like this:\r\n```\r\nRequestConfig config = RequestConfig.DEFAULT;\r\nHttpClient client = HttpClientBuilder.create().setDefaultRequestConfig(config).build();\r\n\r\nHttpGet httpGet = new HttpGet(&quot;[THE_VALID_URL]&quot;);\r\nhttpGet.addHeader(&quot;Content-Type&quot;, &quot;application/json; UTF-8&quot;);\r\n\r\nHttpResponse resp = client.execute(httpGet);\r\n```\r\nDoes anyone have any ideas to solve this?\r\n\r\nThank you.\r\n\r\n[UPDATE]: Solved with this &lt;https://stackoverflow.com/a/35327982/7595094&gt;","title":"Heroku Java - Name or service not known","body":"<p>We have a private space and gave access to one of the internal API so that we could access it from the private space app. So, we've developed a demo Java app to test it. When we try to connect the service with an HTTP Get the stack trace ends like this.</p>\n<pre><code>java.net.UnknownHostException: [THE_VALID_URL] Name or service not known\njava.base/java.net.Inet4AddressImpl.lookupAllHostAddr(Native Method)\nat java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929)\nat java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1519)\nat java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)\nat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1509)\nat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1368)\nat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1302)\nat org.apache.http.impl.conn.SystemDefaultDnsResolver.resolve(SystemDefaultDnsResolver.java:45)\n</code></pre>\n<p>When we ping the corresponding IP within the private space we can see that it's up. But when we try to access the service from the Java application it ends up like above.</p>\n<p>The Java code is like this:</p>\n<pre><code>RequestConfig config = RequestConfig.DEFAULT;\nHttpClient client = HttpClientBuilder.create().setDefaultRequestConfig(config).build();\n\nHttpGet httpGet = new HttpGet(&quot;[THE_VALID_URL]&quot;);\nhttpGet.addHeader(&quot;Content-Type&quot;, &quot;application/json; UTF-8&quot;);\n\nHttpResponse resp = client.execute(httpGet);\n</code></pre>\n<p>Does anyone have any ideas to solve this?</p>\n<p>Thank you.</p>\n<p>[UPDATE]: Solved with this <a href=\"https://stackoverflow.com/a/35327982/7595094\">https://stackoverflow.com/a/35327982/7595094</a></p>\n"},{"tags":["java","jpa","eclipselink","derby"],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1648123694,"creation_date":1518468877,"answer_id":48755350,"question_id":48754783,"body_markdown":"There are 2 &quot;facets&quot; in the question: The Java side and the JPA side.\r\n\r\n### Java side\r\n\r\nA more complete listing of the code might be:\r\n\r\n\t@Entity\r\n\tclass A {\r\n\t\t@OneToMany(mappedBy = &quot;a&quot;)\r\n\t\t@JoinTable\r\n\t\tList&lt;B&gt; bs;\r\n\r\n\t\tpublic List&lt;B&gt; getBs() {\r\n\t\t\treturn bs;\r\n\t\t}\r\n\t\tpublic void setBs(List&lt;B&gt; bs) {\r\n\t\t\tthis.bs = bs;\r\n\t\t}\r\n\t}\r\n\r\n\t@Entity\r\n\tclass B {\r\n\t\t@ManyToOne\r\n\t\t@JoinTable\r\n\t\tA a;\r\n\r\n\t\tpublic A getA() {\r\n\t\t\treturn a;\r\n\t\t}\r\n\t\tpublic void setA(A a) {\r\n\t\t\tthis.a = a;\r\n\t\t}\r\n\t}\r\n\r\nThe JPA entites are still Java objects. If *you* do not instruct Java *explicitly* to, e.g. &quot;add the B in the collection of Bs, when its `a` property is set&quot; it has no reason to do it automatically. Having said that, I have often seen patterns like (skipping null checking for brevity):\r\n\r\n\t@Entity\r\n\tclass A {\r\n\t\t...\r\n\r\n\t\tpublic void addB(B b) {\r\n\t\t\tbs.add(b);\r\n\t\t\tb.setA(this);\r\n\t\t}\r\n\t\tpublic void removeB(B b) {\r\n\t\t\tif( bs.remove(b) ) {\r\n\t\t\t\tb.setA(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n### JPA side\r\n\r\nJPA 2.1. specs, ch. 2.9 &quot;Entity Relationships&quot;:\r\n\r\n&gt; A bidirectional relationship has both an owning side and an inverse (non-owning) side. A unidirectional relationship has only an owning side. The owning side of a relationship determines the updates to the relationship in the database, as described in section 3.2.4.\r\n&gt;\r\n&gt; - The inverse side of a bidirectional relationship must refer to its owning side by use of the `mappedBy` element\r\n\r\nIn the setup of the question, `B.a` is the owning side because `A.bs` specifies `mappedBy=&quot;a&quot;`. The specifications says that the relation will be updated (i.e. an entry in the join table will be inserted) only when the *owning* side is updated. That is why doing `b.setA(a)` updates the join table.\r\n\r\n---\r\n\r\nAfter doing the above *and successfully updating the DB*, reading the related A object *fresh from the DB* should fetch the correct `bs` collection. To be sure, first try merging the B, committing the transaction, and fetching A (or refreshing it) in a different transaction. If you want the state of the *Java objects* to be reflected immediately in the same transaction, you have no other option but to set both `b.a` and `a.getBs().add(b)`.","title":"Do I have to set both sides for a bidirectional relationship?","body":"<p>There are 2 &quot;facets&quot; in the question: The Java side and the JPA side.</p>\n<h3>Java side</h3>\n<p>A more complete listing of the code might be:</p>\n<pre><code>@Entity\nclass A {\n    @OneToMany(mappedBy = &quot;a&quot;)\n    @JoinTable\n    List&lt;B&gt; bs;\n\n    public List&lt;B&gt; getBs() {\n        return bs;\n    }\n    public void setBs(List&lt;B&gt; bs) {\n        this.bs = bs;\n    }\n}\n\n@Entity\nclass B {\n    @ManyToOne\n    @JoinTable\n    A a;\n\n    public A getA() {\n        return a;\n    }\n    public void setA(A a) {\n        this.a = a;\n    }\n}\n</code></pre>\n<p>The JPA entites are still Java objects. If <em>you</em> do not instruct Java <em>explicitly</em> to, e.g. &quot;add the B in the collection of Bs, when its <code>a</code> property is set&quot; it has no reason to do it automatically. Having said that, I have often seen patterns like (skipping null checking for brevity):</p>\n<pre><code>@Entity\nclass A {\n    ...\n\n    public void addB(B b) {\n        bs.add(b);\n        b.setA(this);\n    }\n    public void removeB(B b) {\n        if( bs.remove(b) ) {\n            b.setA(null);\n        }\n    }\n}\n</code></pre>\n<h3>JPA side</h3>\n<p>JPA 2.1. specs, ch. 2.9 &quot;Entity Relationships&quot;:</p>\n<blockquote>\n<p>A bidirectional relationship has both an owning side and an inverse (non-owning) side. A unidirectional relationship has only an owning side. The owning side of a relationship determines the updates to the relationship in the database, as described in section 3.2.4.</p>\n<ul>\n<li>The inverse side of a bidirectional relationship must refer to its owning side by use of the <code>mappedBy</code> element</li>\n</ul>\n</blockquote>\n<p>In the setup of the question, <code>B.a</code> is the owning side because <code>A.bs</code> specifies <code>mappedBy=&quot;a&quot;</code>. The specifications says that the relation will be updated (i.e. an entry in the join table will be inserted) only when the <em>owning</em> side is updated. That is why doing <code>b.setA(a)</code> updates the join table.</p>\n<hr />\n<p>After doing the above <em>and successfully updating the DB</em>, reading the related A object <em>fresh from the DB</em> should fetch the correct <code>bs</code> collection. To be sure, first try merging the B, committing the transaction, and fetching A (or refreshing it) in a different transaction. If you want the state of the <em>Java objects</em> to be reflected immediately in the same transaction, you have no other option but to set both <code>b.a</code> and <code>a.getBs().add(b)</code>.</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1518534337,"creation_date":1518477632,"answer_id":48757176,"question_id":48754783,"body_markdown":"As stated in [Nikos Paraskevopoulos&#39; answer below][1], JPA and java objects require you to set both sides of a relationship. As long as you set the owning side, the database will be updated with the relationship changes, but the non-owning side will only reflect what is in the database if you manually set it, or you force it to be refreshed or reloaded. Reading the entity from a separate context does not force reloading, as your JPA provider can use a second level cache; this is the [default][2] in EclipseLink.  Your other read is returning the A from the shared cache, which like your original object, does not have B added to its list of Bs.\r\n\r\nThe easiest solution is to just set B into A&#39;s list upfront. Other options here though would be to force the refresh of A using em.refresh(a) or with a query hint, or disable the shared cached.  \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48755350/496099\r\n  [2]: https://wiki.eclipse.org/EclipseLink/Examples/JPA/Caching","title":"Do I have to set both sides for a bidirectional relationship?","body":"<p>As stated in <a href=\"https://stackoverflow.com/a/48755350/496099\">Nikos Paraskevopoulos' answer below</a>, JPA and java objects require you to set both sides of a relationship. As long as you set the owning side, the database will be updated with the relationship changes, but the non-owning side will only reflect what is in the database if you manually set it, or you force it to be refreshed or reloaded. Reading the entity from a separate context does not force reloading, as your JPA provider can use a second level cache; this is the <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/Caching\" rel=\"nofollow noreferrer\">default</a> in EclipseLink.  Your other read is returning the A from the shared cache, which like your original object, does not have B added to its list of Bs.</p>\n\n<p>The easiest solution is to just set B into A's list upfront. Other options here though would be to force the refresh of A using em.refresh(a) or with a query hint, or disable the shared cached.  </p>\n"}],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4334,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48757176,"answer_count":2,"score":9,"last_activity_date":1648123694,"creation_date":1518466379,"question_id":48754783,"body_markdown":"    @Entity\r\n    public class A {\r\n    \t@GeneratedValue\r\n    \t@Id\r\n    \tprivate long id;\r\n    \r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(final long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@OneToMany(mappedBy = &quot;a&quot;)\r\n    \tList&lt;B&gt; bs;\r\n    \r\n    \tpublic List&lt;B&gt; getBs() {\r\n    \t\treturn bs;\r\n    \t}\r\n    \r\n    \tpublic void setBs(final List&lt;B&gt; bs) {\r\n    \t\tthis.bs = bs;\r\n    \t}\r\n    }\r\n    @Entity\r\n    public class B {\r\n    \t@GeneratedValue\r\n    \t@Id\r\n    \tprivate long id;\r\n    \r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(final long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinTable\r\n    \tA a;\r\n    \r\n    \tpublic A getA() {\r\n    \t\treturn a;\r\n    \t}\r\n    \r\n    \tpublic void setA(final A a) {\r\n    \t\tthis.a = a;\r\n    \t}\r\n    }\r\n\r\nTo establish the relationship, I have to call\r\n\r\n    b.setA(a);\r\n    a.getBs().add(b);\r\n\r\nWhy is both necessary, Why is it not sufficient to do only\r\n\r\n    b.setA(a);\r\n\r\nor\r\n\r\n    a.getBs().add(b);\r\n\r\n?\r\n\r\nThe relationship is stored in a join table, and `b.setA(a)` will update that join table.\r\n\r\nBut when I do a query afterwards, `a.getBs()` is empty. Why is that?\r\n\r\n\r\nHere is a Test case that illustrates the question. Note that the very last assert fails.\r\n\r\n    public class QuickTestAB2 {\r\n    \r\n    \tprivate static String dbUrlBase = &quot;jdbc:derby:testData/db/test.db&quot;;\r\n    \r\n    \tprivate static String dbUrlCreate = dbUrlBase + &quot;;create=true&quot;;\r\n    \r\n    \tprivate static String dbUrlDrop = dbUrlBase + &quot;;drop=true&quot;;\r\n    \r\n    \tprivate EntityManagerFactory factory;\r\n    \r\n    \tprivate EntityManager em;\r\n    \r\n    \tpublic Map&lt;String, String&gt; createPersistenceMap(final String dbUrl) {\r\n    \t\tfinal Map&lt;String, String&gt; persistenceMap = new HashMap&lt;&gt;();\r\n    \t\tpersistenceMap.put(&quot;javax.persistence.jdbc.url&quot;, dbUrl);\r\n    \t\treturn persistenceMap;\r\n    \t}\r\n    \r\n    \tpublic void dropDatabase() throws Exception {\r\n    \t\tif (em != null &amp;&amp; em.isOpen()) {\r\n    \t\t\tem.close();\r\n    \t\t}\r\n    \t\tif (factory != null &amp;&amp; factory.isOpen()) {\r\n    \t\t\tfactory.close();\r\n    \t\t}\r\n    \t\ttry (Connection conn = DriverManager.getConnection(dbUrlDrop)) {\r\n    \r\n    \t\t} catch (final SQLException e) {\r\n    \t\t\t// always\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void deleteDatabase() throws Exception {\r\n    \t\tdropDatabase();\r\n    \t\tfinal File file = new File(&quot;testData/db/test.db&quot;);\r\n    \t\tif (file.exists()) {\r\n    \t\t\tFileUtils.forceDelete(file);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void createNewDatabase() throws SQLException, IOException {\r\n    \r\n    \t\tFileUtils.forceMkdir(new File(&quot;testData/db&quot;));\r\n    \t\ttry (Connection conn = DriverManager.getConnection(dbUrlCreate)) {\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@BeforeClass\r\n    \tpublic static void setUpBeforeClass01() throws Exception {\r\n    \t\tTests.enableLog4J();\r\n    \t\tJPATests.enableJPA();\r\n    \r\n    \t}\r\n    \r\n    \t@AfterClass\r\n    \tpublic static void tearDownAfterClass01() throws Exception {\r\n    \r\n    \t}\r\n    \r\n    \t@Before\r\n    \tpublic void setUp01() throws Exception {\r\n    \r\n    \t\tdeleteDatabase();\r\n    \t\tcreateNewDatabase();\r\n    \t\tfinal Map&lt;String, String&gt; map = createPersistenceMap(dbUrlCreate);\r\n    \t\tfactory = Persistence.createEntityManagerFactory(&quot;pu&quot;, map);\r\n    \r\n    \t}\r\n    \r\n    \t@After\r\n    \tpublic void tearDown01() throws Exception {\r\n    \t\tif (em != null &amp;&amp; em.isOpen()) {\r\n    \t\t\tem.close();\r\n    \t\t}\r\n    \t\tem = null;\r\n    \t\tif (factory != null &amp;&amp; factory.isOpen()) {\r\n    \t\t\tfactory.close();\r\n    \t\t}\r\n    \t\tfactory = null;\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void test01() throws Exception {\r\n    \t\tem = factory.createEntityManager();\r\n    \t\tfinal A a = new A();\r\n    \t\tfinal B b = new B();\r\n    \t\tb.setA(a);\r\n    \t\ttry {\r\n    \t\t\tem.getTransaction().begin();\r\n    \t\t\tem.persist(a);\r\n    \t\t\tem.persist(b);\r\n    \t\t\tem.getTransaction().commit();\r\n    \t\t} finally {\r\n    \t\t\tem.close();\r\n    \t\t}\r\n    \t\tem = factory.createEntityManager();\r\n    \t\tB b2;\r\n    \t\tA a2;\r\n    \t\ttry {\r\n    \t\t\tem.getTransaction().begin();\r\n    \t\t\tQuery q = em.createQuery(&quot;SELECT b FROM B b&quot;);\r\n    \t\t\tb2 = (B) q.getSingleResult();\r\n    \t\t\tq = em.createQuery(&quot;SELECT a FROM A a&quot;);\r\n    \t\t\ta2 = (A) q.getSingleResult();\r\n    \t\t\tem.getTransaction().commit();\r\n    \t\t} finally {\r\n    \t\t\tem.close();\r\n    \t\t}\r\n    \t\tassertThat(a2, is(not(nullValue())));\r\n    \t\tassertThat(b2, is(not(nullValue())));\r\n    \r\n    \t\tassertThat(b2.getA(), is(not(nullValue())));\r\n    \t\tassertThat(a2.getBs().isEmpty(), is(false));\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**Motivation:** It can be useful to change a bidirectional relationship by changing &quot;only one side&quot;, when the number of `a.Bs` gets large. In this case, an `UPDATE SELECT` query on the owning side is much faster than to call `a.getBs().remove(b)`\r\nSee also [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48692098/update-entity-relationship-via-update-set-query","title":"Do I have to set both sides for a bidirectional relationship?","body":"<pre><code>@Entity\npublic class A {\n    @GeneratedValue\n    @Id\n    private long id;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(final long id) {\n        this.id = id;\n    }\n\n    @OneToMany(mappedBy = \"a\")\n    List&lt;B&gt; bs;\n\n    public List&lt;B&gt; getBs() {\n        return bs;\n    }\n\n    public void setBs(final List&lt;B&gt; bs) {\n        this.bs = bs;\n    }\n}\n@Entity\npublic class B {\n    @GeneratedValue\n    @Id\n    private long id;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(final long id) {\n        this.id = id;\n    }\n\n    @ManyToOne\n    @JoinTable\n    A a;\n\n    public A getA() {\n        return a;\n    }\n\n    public void setA(final A a) {\n        this.a = a;\n    }\n}\n</code></pre>\n\n<p>To establish the relationship, I have to call</p>\n\n<pre><code>b.setA(a);\na.getBs().add(b);\n</code></pre>\n\n<p>Why is both necessary, Why is it not sufficient to do only</p>\n\n<pre><code>b.setA(a);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>a.getBs().add(b);\n</code></pre>\n\n<p>?</p>\n\n<p>The relationship is stored in a join table, and <code>b.setA(a)</code> will update that join table.</p>\n\n<p>But when I do a query afterwards, <code>a.getBs()</code> is empty. Why is that?</p>\n\n<p>Here is a Test case that illustrates the question. Note that the very last assert fails.</p>\n\n<pre><code>public class QuickTestAB2 {\n\n    private static String dbUrlBase = \"jdbc:derby:testData/db/test.db\";\n\n    private static String dbUrlCreate = dbUrlBase + \";create=true\";\n\n    private static String dbUrlDrop = dbUrlBase + \";drop=true\";\n\n    private EntityManagerFactory factory;\n\n    private EntityManager em;\n\n    public Map&lt;String, String&gt; createPersistenceMap(final String dbUrl) {\n        final Map&lt;String, String&gt; persistenceMap = new HashMap&lt;&gt;();\n        persistenceMap.put(\"javax.persistence.jdbc.url\", dbUrl);\n        return persistenceMap;\n    }\n\n    public void dropDatabase() throws Exception {\n        if (em != null &amp;&amp; em.isOpen()) {\n            em.close();\n        }\n        if (factory != null &amp;&amp; factory.isOpen()) {\n            factory.close();\n        }\n        try (Connection conn = DriverManager.getConnection(dbUrlDrop)) {\n\n        } catch (final SQLException e) {\n            // always\n\n        }\n    }\n\n    public void deleteDatabase() throws Exception {\n        dropDatabase();\n        final File file = new File(\"testData/db/test.db\");\n        if (file.exists()) {\n            FileUtils.forceDelete(file);\n        }\n    }\n\n    public void createNewDatabase() throws SQLException, IOException {\n\n        FileUtils.forceMkdir(new File(\"testData/db\"));\n        try (Connection conn = DriverManager.getConnection(dbUrlCreate)) {\n\n        }\n    }\n\n    @BeforeClass\n    public static void setUpBeforeClass01() throws Exception {\n        Tests.enableLog4J();\n        JPATests.enableJPA();\n\n    }\n\n    @AfterClass\n    public static void tearDownAfterClass01() throws Exception {\n\n    }\n\n    @Before\n    public void setUp01() throws Exception {\n\n        deleteDatabase();\n        createNewDatabase();\n        final Map&lt;String, String&gt; map = createPersistenceMap(dbUrlCreate);\n        factory = Persistence.createEntityManagerFactory(\"pu\", map);\n\n    }\n\n    @After\n    public void tearDown01() throws Exception {\n        if (em != null &amp;&amp; em.isOpen()) {\n            em.close();\n        }\n        em = null;\n        if (factory != null &amp;&amp; factory.isOpen()) {\n            factory.close();\n        }\n        factory = null;\n    }\n\n    @Test\n    public void test01() throws Exception {\n        em = factory.createEntityManager();\n        final A a = new A();\n        final B b = new B();\n        b.setA(a);\n        try {\n            em.getTransaction().begin();\n            em.persist(a);\n            em.persist(b);\n            em.getTransaction().commit();\n        } finally {\n            em.close();\n        }\n        em = factory.createEntityManager();\n        B b2;\n        A a2;\n        try {\n            em.getTransaction().begin();\n            Query q = em.createQuery(\"SELECT b FROM B b\");\n            b2 = (B) q.getSingleResult();\n            q = em.createQuery(\"SELECT a FROM A a\");\n            a2 = (A) q.getSingleResult();\n            em.getTransaction().commit();\n        } finally {\n            em.close();\n        }\n        assertThat(a2, is(not(nullValue())));\n        assertThat(b2, is(not(nullValue())));\n\n        assertThat(b2.getA(), is(not(nullValue())));\n        assertThat(a2.getBs().isEmpty(), is(false));\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Motivation:</strong> It can be useful to change a bidirectional relationship by changing \"only one side\", when the number of <code>a.Bs</code> gets large. In this case, an <code>UPDATE SELECT</code> query on the owning side is much faster than to call <code>a.getBs().remove(b)</code>\nSee also <a href=\"https://stackoverflow.com/questions/48692098/update-entity-relationship-via-update-set-query\">here</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1648123595,"post_id":71599031,"comment_id":126547324,"body_markdown":"*&quot;however I still recieve what seems to be an error or trying to initialize an array with an invalid length&quot;* - what else did you expect? You wrote code to make an error when the length is invalid, and you get an error when the length is invalid. I don&#39;t see how this differs from what you thought the program should do.","body":"<i>&quot;however I still recieve what seems to be an error or trying to initialize an array with an invalid length&quot;</i> - what else did you expect? You wrote code to make an error when the length is invalid, and you get an error when the length is invalid. I don&#39;t see how this differs from what you thought the program should do."}],"answers":[{"tags":[],"owner":{"account_id":4824832,"reputation":499,"user_id":3894536,"display_name":"Deh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648116868,"creation_date":1648116868,"answer_id":71600552,"question_id":71599031,"body_markdown":"This is how assert works : \r\n\r\n    assert condition : expression\r\n\r\nWhen it fails, it passes the `expression` as parameter of the `AssertionException` and throws it.\r\n\r\nSince assertion is turned off by default it would be better to use a different handling to have more flexibility on the target platforms where it&#39;s supposed to run on.\r\n\r\n\r\nexample using IndexOutOfBoundsException :\r\n\r\n    public CircularArray(int capacity) {\r\n      if (capicity &lt;= 0) {\r\n        throw new IndexOutOfBoundsException(&quot;Array capacity violated, precondition argument &gt; 0&quot;);\r\n      }\r\n      elements = new Message[capacity];\r\n    }\r\n\r\nIf you feel like IndexOutOfBoundsException is not the right Exception to be thrown you can replace it by another one or even create a  custom one :\r\n\r\n        public class CircularArrayInitialisationException extends Exception {\r\n    \r\n    \t  public CircularArrayInitialisationException (String message, Throwable cause, ErrorCode code) {\r\n    \t\t  super(message, cause);\r\n    \t\t  this.code = code;\r\n    \t  }\r\n    \t  ...\r\n      }","title":"Catching invalid method arguments using assert","body":"<p>This is how assert works :</p>\n<pre><code>assert condition : expression\n</code></pre>\n<p>When it fails, it passes the <code>expression</code> as parameter of the <code>AssertionException</code> and throws it.</p>\n<p>Since assertion is turned off by default it would be better to use a different handling to have more flexibility on the target platforms where it's supposed to run on.</p>\n<p>example using IndexOutOfBoundsException :</p>\n<pre><code>public CircularArray(int capacity) {\n  if (capicity &lt;= 0) {\n    throw new IndexOutOfBoundsException(&quot;Array capacity violated, precondition argument &gt; 0&quot;);\n  }\n  elements = new Message[capacity];\n}\n</code></pre>\n<p>If you feel like IndexOutOfBoundsException is not the right Exception to be thrown you can replace it by another one or even create a  custom one :</p>\n<pre><code>    public class CircularArrayInitialisationException extends Exception {\n\n      public CircularArrayInitialisationException (String message, Throwable cause, ErrorCode code) {\n          super(message, cause);\n          this.code = code;\n      }\n      ...\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648123457,"creation_date":1648123457,"answer_id":71602190,"question_id":71599031,"body_markdown":"You wrote\r\n\r\n&gt; Also, since assertions are turned off by default, would it be better to instead throw and exception as follows:\r\n&gt;  ```\r\n&gt;  throw new IndexOutOfBoundsException();\r\n&gt;  ```\r\n\r\nYes, thats precisely what [the guidelines] say:\r\n\r\n&gt; - Do *not* use assertions for argument checking in public methods.\r\n&gt;   \r\n&gt;   Argument checking is typically part of the published specifications (or *contract*) of a method, and these specifications must be obeyed whether assertions are enabled or disabled. Another problem with using assertions for argument checking is that erroneous arguments should result in an appropriate runtime exception (such as `IllegalArgumentException`, `IndexOutOfBoundsException`, or `NullPointerException`). An assertion failure will not throw an appropriate exception.\r\n\r\nBut the most appropriate exception would be `IllegalArgumentException` in your case, as the specified number is not an index. This is what standard collection constructors, e.g. `ArrayList(int initialCapacity)`, also use. Note that it is uses an exception message like `&quot;Illegal Capacity: &quot; + initialCapacity`, including the actual illegal value, which you might consider as well.\r\n\r\nThe `assert` statement is for checking invariants which should be fulfilled by application logic anyway, so that turning the checks off should make no difference, at least in theory (they may make a difference in practice due to bugs, which is what these checks are all about).\r\n\r\n[the guidelines]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html#usage","title":"Catching invalid method arguments using assert","body":"<p>You wrote</p>\n<blockquote>\n<p>Also, since assertions are turned off by default, would it be better to instead throw and exception as follows:</p>\n<pre><code>throw new IndexOutOfBoundsException();\n</code></pre>\n</blockquote>\n<p>Yes, thats precisely what <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html#usage\" rel=\"nofollow noreferrer\">the guidelines</a> say:</p>\n<blockquote>\n<ul>\n<li><p>Do <em>not</em> use assertions for argument checking in public methods.</p>\n<p>Argument checking is typically part of the published specifications (or <em>contract</em>) of a method, and these specifications must be obeyed whether assertions are enabled or disabled. Another problem with using assertions for argument checking is that erroneous arguments should result in an appropriate runtime exception (such as <code>IllegalArgumentException</code>, <code>IndexOutOfBoundsException</code>, or <code>NullPointerException</code>). An assertion failure will not throw an appropriate exception.</p>\n</li>\n</ul>\n</blockquote>\n<p>But the most appropriate exception would be <code>IllegalArgumentException</code> in your case, as the specified number is not an index. This is what standard collection constructors, e.g. <code>ArrayList(int initialCapacity)</code>, also use. Note that it is uses an exception message like <code>&quot;Illegal Capacity: &quot; + initialCapacity</code>, including the actual illegal value, which you might consider as well.</p>\n<p>The <code>assert</code> statement is for checking invariants which should be fulfilled by application logic anyway, so that turning the checks off should make no difference, at least in theory (they may make a difference in practice due to bugs, which is what these checks are all about).</p>\n"}],"owner":{"account_id":20786269,"reputation":87,"user_id":15295933,"display_name":"Randy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71602190,"answer_count":2,"score":1,"last_activity_date":1648123457,"creation_date":1648109941,"question_id":71599031,"body_markdown":"I am slightly confused regarding assert.\r\n\r\nI have a constructor for a Circular array where the capacity of the array obviously could not be negative as a negative length for an array is invalid. I am aware I could set the value myself if it is invald or throw an exception but I&#39;ve also seen assert used to prevent invalid input (specifically in C) so I tried following.\r\n\r\nConstructor (excluding all the unnecessary parameters that also is initialized):\r\nNote,  `Message` is simply a class that holds a string.\r\n\r\n    \tpublic CircularArray(int capacity)\r\n\t{\r\n\t\tassert capacity &gt; 0 : &quot;Array capacity violated, precondition argument &gt; 0&quot;;\r\n\t\telements = new Message[capacity];\r\n\t}\r\nand if I run it with -ea the assertion is indeed displayed however I still recieve what seems to be an error or trying to initialize an array with an invalid length. Is this how it&#39;s supposed to look or do I have to something additional?\r\n\r\nAlso, since assertions are turned off by default, would it be better to instead throw and exception as follows:\r\n\r\n    throw new IndexOutOfBoundsException();\r\n\r\nTo clarify, the terminal output yields:\r\n\r\n`Exception in thread &quot;main&quot; java.lang.AssertionError: Array capacity violated, precondition argument &gt; 0` \r\n\r\n`at CircularArray.&lt;init&gt;(CircularArray.java:19)`\r\n\r\n`at CircularArray.main(CircularArray.java:98)`\r\n\r\nMaybe this is the correct output but it felt a bit strange that it clarified what where the errors are generated by specifying what lines of code.","title":"Catching invalid method arguments using assert","body":"<p>I am slightly confused regarding assert.</p>\n<p>I have a constructor for a Circular array where the capacity of the array obviously could not be negative as a negative length for an array is invalid. I am aware I could set the value myself if it is invald or throw an exception but I've also seen assert used to prevent invalid input (specifically in C) so I tried following.</p>\n<p>Constructor (excluding all the unnecessary parameters that also is initialized):\nNote,  <code>Message</code> is simply a class that holds a string.</p>\n<pre><code>    public CircularArray(int capacity)\n{\n    assert capacity &gt; 0 : &quot;Array capacity violated, precondition argument &gt; 0&quot;;\n    elements = new Message[capacity];\n}\n</code></pre>\n<p>and if I run it with -ea the assertion is indeed displayed however I still recieve what seems to be an error or trying to initialize an array with an invalid length. Is this how it's supposed to look or do I have to something additional?</p>\n<p>Also, since assertions are turned off by default, would it be better to instead throw and exception as follows:</p>\n<pre><code>throw new IndexOutOfBoundsException();\n</code></pre>\n<p>To clarify, the terminal output yields:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.AssertionError: Array capacity violated, precondition argument &gt; 0</code></p>\n<p><code>at CircularArray.&lt;init&gt;(CircularArray.java:19)</code></p>\n<p><code>at CircularArray.main(CircularArray.java:98)</code></p>\n<p>Maybe this is the correct output but it felt a bit strange that it clarified what where the errors are generated by specifying what lines of code.</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1648123926,"post_id":71602156,"comment_id":126547444,"body_markdown":"What if you omit `column=&quot;holiday_id&quot;` and `column=&quot;work_time_id&quot;` from the `collection` nodes so only keeping `property` and `ofType`?","body":"What if you omit <code>column=&quot;holiday_id&quot;</code> and <code>column=&quot;work_time_id&quot;</code> from the <code>collection</code> nodes so only keeping <code>property</code> and <code>ofType</code>?"},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1648166370,"post_id":71602156,"comment_id":126562532,"body_markdown":"I don&#39;t think you&#39;re going to be able to use the `@AllArgsConstructor` with the list.  The first record only has a single `Calendar`, `Holiday`, `Workday`.  Try to use a `@RequiredArgsConstructor(access=PACKAGE)` without the lists defined, so that it can create the `Calendar` and then add the created `Holiday` and `Workday` while it parses rows.","body":"I don&#39;t think you&#39;re going to be able to use the <code>@AllArgsConstructor</code> with the list.  The first record only has a single <code>Calendar</code>, <code>Holiday</code>, <code>Workday</code>.  Try to use a <code>@RequiredArgsConstructor(access=PACKAGE)</code> without the lists defined, so that it can create the <code>Calendar</code> and then add the created <code>Holiday</code> and <code>Workday</code> while it parses rows."}],"owner":{"account_id":7728393,"reputation":19,"user_id":5852349,"display_name":"zikasak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648123334,"creation_date":1648123334,"question_id":71602156,"body_markdown":"I&#39;m having a problem with gathering data from database using MyBatis. I have three java objects and three database tables respectively. My problem is that MyBatis returns element itself instead of List with this element. So I get Argument Type Mismatch exception.\r\n\r\nCalendarDto.java\r\n```\r\n@AllArgsConstructor\r\npublic class CalendarDto {\r\n\r\n    private long id;\r\n    private String name;\r\n    private List&lt;Holiday&gt; holidays;\r\n    private List&lt;WorkDay&gt; workDays;\r\n}\r\n```\r\n\r\nHoliday.java \r\n```\r\npublic record Holiday(long id, LocalDate date, HolidayType dateType){\r\n}\r\n```\r\nWorkDay.java\r\n```\r\npublic record WorkDay(long id, long day, int hourFrom, int hourTo) {\r\n}\r\n```\r\n\r\nCalendarMapper.java\r\n```\r\n@Mapper\r\npublic interface CalendarMapper {\r\n    CalendarDto getForCabinet(@Param(&quot;cabinetId&quot;) long cabinetId);\r\n}\r\n```\r\n\r\nCalendarMapper.xml\r\n```\r\n&lt;select id=&quot;getForCabinet&quot; resultMap=&quot;cabinetMapping&quot;&gt;\r\n        select c.id calendar_id ,\r\n               c.&quot;name&quot; calendar_name,\r\n               h.id holiday_id,\r\n               h.&quot;date&quot; holiday_date,\r\n               h.date_type holiday_date_type,\r\n               wt.id work_time_id,\r\n               wt.&quot;day&quot; &quot;day&quot;,\r\n               wt.hour_from work_time_from,\r\n               wt.hour_to work_time_to\r\n        from cabinets cb\r\n                 join calendar c on (cb.calendar_id = c.id)\r\n                 join work_time wt on (c.id = wt.calendar_id)\r\n                 left join holiday h on (c.id = h.calendar_id)\r\n        where cb.id = #{cabinetId}\r\n    &lt;/select&gt;\r\n\r\n    &lt;resultMap id=&quot;cabinetMapping&quot; type=&quot;ru.zikasak.roombookerbot.domain.CalendarDto&quot;&gt;\r\n        &lt;id column=&quot;calendar_id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;result column=&quot;calendar_name&quot; property=&quot;name&quot;/&gt;\r\n        &lt;collection property=&quot;holidays&quot; ofType=&quot;ru.zikasak.roombookerbot.domain.Holiday&quot;\r\n                    column=&quot;holiday_id&quot;&gt;\r\n            &lt;result property=&quot;id&quot; column=&quot;holiday_id&quot;/&gt;\r\n            &lt;result column=&quot;holiday_date&quot; property=&quot;date&quot;/&gt;\r\n            &lt;result column=&quot;holiday_date_type&quot; property=&quot;dateType&quot;/&gt;\r\n        &lt;/collection&gt;\r\n        &lt;collection property=&quot;workDays&quot; ofType=&quot;ru.zikasak.roombookerbot.domain.WorkDay&quot;\r\n       column=&quot;work_time_id&quot; javaType=&quot;ArrayList&quot;&gt;\r\n            &lt;result property=&quot;id&quot; column=&quot;work_time_id&quot;/&gt;\r\n            &lt;result property=&quot;day&quot; column=&quot;day&quot;/&gt;\r\n            &lt;result column=&quot;work_time_from&quot; property=&quot;hourFrom&quot;/&gt;\r\n            &lt;result column=&quot;work_time_to&quot; property=&quot;hourTo&quot;/&gt;\r\n        &lt;/collection&gt;\r\n    &lt;/resultMap&gt;\r\n```","title":"MyBatis returns single element instead of list","body":"<p>I'm having a problem with gathering data from database using MyBatis. I have three java objects and three database tables respectively. My problem is that MyBatis returns element itself instead of List with this element. So I get Argument Type Mismatch exception.</p>\n<p>CalendarDto.java</p>\n<pre><code>@AllArgsConstructor\npublic class CalendarDto {\n\n    private long id;\n    private String name;\n    private List&lt;Holiday&gt; holidays;\n    private List&lt;WorkDay&gt; workDays;\n}\n</code></pre>\n<p>Holiday.java</p>\n<pre><code>public record Holiday(long id, LocalDate date, HolidayType dateType){\n}\n</code></pre>\n<p>WorkDay.java</p>\n<pre><code>public record WorkDay(long id, long day, int hourFrom, int hourTo) {\n}\n</code></pre>\n<p>CalendarMapper.java</p>\n<pre><code>@Mapper\npublic interface CalendarMapper {\n    CalendarDto getForCabinet(@Param(&quot;cabinetId&quot;) long cabinetId);\n}\n</code></pre>\n<p>CalendarMapper.xml</p>\n<pre><code>&lt;select id=&quot;getForCabinet&quot; resultMap=&quot;cabinetMapping&quot;&gt;\n        select c.id calendar_id ,\n               c.&quot;name&quot; calendar_name,\n               h.id holiday_id,\n               h.&quot;date&quot; holiday_date,\n               h.date_type holiday_date_type,\n               wt.id work_time_id,\n               wt.&quot;day&quot; &quot;day&quot;,\n               wt.hour_from work_time_from,\n               wt.hour_to work_time_to\n        from cabinets cb\n                 join calendar c on (cb.calendar_id = c.id)\n                 join work_time wt on (c.id = wt.calendar_id)\n                 left join holiday h on (c.id = h.calendar_id)\n        where cb.id = #{cabinetId}\n    &lt;/select&gt;\n\n    &lt;resultMap id=&quot;cabinetMapping&quot; type=&quot;ru.zikasak.roombookerbot.domain.CalendarDto&quot;&gt;\n        &lt;id column=&quot;calendar_id&quot; property=&quot;id&quot;/&gt;\n        &lt;result column=&quot;calendar_name&quot; property=&quot;name&quot;/&gt;\n        &lt;collection property=&quot;holidays&quot; ofType=&quot;ru.zikasak.roombookerbot.domain.Holiday&quot;\n                    column=&quot;holiday_id&quot;&gt;\n            &lt;result property=&quot;id&quot; column=&quot;holiday_id&quot;/&gt;\n            &lt;result column=&quot;holiday_date&quot; property=&quot;date&quot;/&gt;\n            &lt;result column=&quot;holiday_date_type&quot; property=&quot;dateType&quot;/&gt;\n        &lt;/collection&gt;\n        &lt;collection property=&quot;workDays&quot; ofType=&quot;ru.zikasak.roombookerbot.domain.WorkDay&quot;\n       column=&quot;work_time_id&quot; javaType=&quot;ArrayList&quot;&gt;\n            &lt;result property=&quot;id&quot; column=&quot;work_time_id&quot;/&gt;\n            &lt;result property=&quot;day&quot; column=&quot;day&quot;/&gt;\n            &lt;result column=&quot;work_time_from&quot; property=&quot;hourFrom&quot;/&gt;\n            &lt;result column=&quot;work_time_to&quot; property=&quot;hourTo&quot;/&gt;\n        &lt;/collection&gt;\n    &lt;/resultMap&gt;\n</code></pre>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"score":0,"creation_date":1648161219,"post_id":71601651,"comment_id":126561544,"body_markdown":"An alternative to `Div` is to use [HorizontalLayout](https://vaadin.com/docs/latest/ds/components/basic-layouts/#horizontal-layout) where you will get spacing and much more out of the box. I use `VerticalLayout` and `HorizontalLayout` all the time and almost never `Div` anymore.","body":"An alternative to <code>Div</code> is to use <a href=\"https://vaadin.com/docs/latest/ds/components/basic-layouts/#horizontal-layout\" rel=\"nofollow noreferrer\">HorizontalLayout</a> where you will get spacing and much more out of the box. I use <code>VerticalLayout</code> and <code>HorizontalLayout</code> all the time and almost never <code>Div</code> anymore."}],"answers":[{"tags":[],"owner":{"account_id":2011741,"reputation":79,"user_id":8683113,"display_name":"gidravlic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648122035,"creation_date":1648122035,"answer_id":71601836,"question_id":71601651,"body_markdown":"and should not -&gt; please see Browser Inspector (padding, margins)","title":"Adding two Labels but they have no space between them","body":"<p>and should not -&gt; please see Browser Inspector (padding, margins)</p>\n"},{"tags":[],"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648123038,"creation_date":1648123038,"answer_id":71602077,"question_id":71601651,"body_markdown":"There are several ways to add a space between the two labels. But one way is to add some right padding to the first component like so:\r\n\r\n```\r\nDiv container = new Div();\r\nLabel firstLabel = new Label(&quot;first&quot;);\r\nfirstLabel .getStyle().set(&quot;padding-right&quot;, &quot;10px&quot;);\r\ncontainer.add(firstLabel);\r\ncontainer.add(new Label(&quot;second&quot;));","title":"Adding two Labels but they have no space between them","body":"<p>There are several ways to add a space between the two labels. But one way is to add some right padding to the first component like so:</p>\n<pre><code>Div container = new Div();\nLabel firstLabel = new Label(&quot;first&quot;);\nfirstLabel .getStyle().set(&quot;padding-right&quot;, &quot;10px&quot;);\ncontainer.add(firstLabel);\ncontainer.add(new Label(&quot;second&quot;));\n</code></pre>\n"}],"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71602077,"answer_count":2,"score":0,"last_activity_date":1648123038,"creation_date":1648121261,"question_id":71601651,"body_markdown":"I have added to my layout two labels:\r\n\r\n```\r\nDiv container = new Div();\r\ncontainer.add(new Label(getTranslation(MessageConstants.SOME_DESCRIPTION)));\r\ncontainer.add(new Label(getTranslation(MessageConstants.MORE_DESCRIPTION_TEMPLATE, valueToAdd)));\r\nadd(container);\r\n```\r\n\r\nBut this results in having no space between the labels. This looks bad, see image:\r\n\r\n[![Screenshot][1]][1]\r\n\r\nWhat is the best way to avoid this without combining both translation labels?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2c8k4.png","title":"Adding two Labels but they have no space between them","body":"<p>I have added to my layout two labels:</p>\n<pre><code>Div container = new Div();\ncontainer.add(new Label(getTranslation(MessageConstants.SOME_DESCRIPTION)));\ncontainer.add(new Label(getTranslation(MessageConstants.MORE_DESCRIPTION_TEMPLATE, valueToAdd)));\nadd(container);\n</code></pre>\n<p>But this results in having no space between the labels. This looks bad, see image:</p>\n<p><a href=\"https://i.stack.imgur.com/2c8k4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2c8k4.png\" alt=\"Screenshot\" /></a></p>\n<p>What is the best way to avoid this without combining both translation labels?</p>\n"},{"tags":["java","spring","groovy"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1648121681,"post_id":71601647,"comment_id":126546623,"body_markdown":"What does even means to inject bean into GROOVY ? do you mean how to inject into IOC container of your spring boot project ?","body":"What does even means to inject bean into GROOVY ? do you mean how to inject into IOC container of your spring boot project ?"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648122859,"creation_date":1648122859,"answer_id":71602039,"question_id":71601647,"body_markdown":" - How to **inject** **dependency** into IOC container of spring boot project with Groovy\r\n\r\n\r\nLet imagine here is you `CustomService`\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class CustomService {\r\n\r\n        private final String smtPerhaps;\r\n       \r\n        ...\r\n    }\r\n\r\n\r\n\r\nThen inject the bean as \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    beans {\r\n        yourDesiredBeanNameInContainer(CustomService) {\r\n            smtPerhaps = &#39;stackOverFlow&#39;\r\n        }\r\n    }\r\n\r\nIts quit the same as the Java base dependency injection \r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Configuration\r\n    public class JavaBeanConfig {\r\n\r\n        @Bean\r\n        public CustomService yourDesiredBeanNameInContainer() {\r\n            return new CustomService(&quot;stackOverFlow&quot;);\r\n        }\r\n    }\r\n\r\nFind out more in [here][1].\r\n\r\n\r\n  [1]: https://spring.io/blog/2014/03/03/groovy-bean-configuration-in-spring-framework-4","title":"How to inject a service Bean in a groovy script?","body":"<ul>\n<li>How to <strong>inject</strong> <strong>dependency</strong> into IOC container of spring boot project with Groovy</li>\n</ul>\n<p>Let imagine here is you <code>CustomService</code></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public class CustomService {\n\n    private final String smtPerhaps;\n   \n    ...\n}\n</code></pre>\n<p>Then inject the bean as</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>beans {\n    yourDesiredBeanNameInContainer(CustomService) {\n        smtPerhaps = 'stackOverFlow'\n    }\n}\n</code></pre>\n<p>Its quit the same as the Java base dependency injection</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>@Configuration\npublic class JavaBeanConfig {\n\n    @Bean\n    public CustomService yourDesiredBeanNameInContainer() {\n        return new CustomService(&quot;stackOverFlow&quot;);\n    }\n}\n</code></pre>\n<p>Find out more in <a href=\"https://spring.io/blog/2014/03/03/groovy-bean-configuration-in-spring-framework-4\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24673101,"reputation":159,"user_id":18567855,"display_name":"blabla blabla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648122859,"creation_date":1648121226,"question_id":71601647,"body_markdown":"I have a spring boot application and a separate groovy script that runs within the app and I need to inject a CustomService into the groovy script.\r\n\r\nHow do i achieve that? i tried reading the documentation but it&#39;s not so clear\r\n\r\ni tried adding the @Autowired annotatino but it gives me an error and I dont think that&#39;s how it should be done.","title":"How to inject a service Bean in a groovy script?","body":"<p>I have a spring boot application and a separate groovy script that runs within the app and I need to inject a CustomService into the groovy script.</p>\n<p>How do i achieve that? i tried reading the documentation but it's not so clear</p>\n<p>i tried adding the @Autowired annotatino but it gives me an error and I dont think that's how it should be done.</p>\n"},{"tags":["java","selenium","maven","testng","jbehave"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648145141,"post_id":71601863,"comment_id":126556664,"body_markdown":"might be because you are using 2.0b2 version of Selenium-Api.  If you need that package, update it to match your Selenium bindings.","body":"might be because you are using 2.0b2 version of Selenium-Api.  If you need that package, update it to match your Selenium bindings."},{"owner":{"account_id":24525815,"reputation":31,"user_id":18438267,"display_name":"BorbelyI"},"score":0,"creation_date":1648160640,"post_id":71601863,"comment_id":126561415,"body_markdown":"@pcalkins thank you for the help!\nI modified it to version 4.1.2 as selenium-java, selenium-firefox-driver and selenium-support are but I get another error.\n\nIn AbstractPage.java: cannot access org.openqa.selenium.HasInputDevice\nCannot find symbol come in AbstractPage.java in getPageSource() methods.\n\nIn the WebStories executor class I get: cannot access com.thoughtworks.selenium.Selenium error message.\n\nI also get: cannot find symbol in LoginPagePOM in open() method at get(&quot;https://qa.abtlg.io&quot;) and at manage() method.\n\nI also get cannot find symbol when I use findElement() method.","body":"@pcalkins thank you for the help! I modified it to version 4.1.2 as selenium-java, selenium-firefox-driver and selenium-support are but I get another error.  In AbstractPage.java: cannot access org.openqa.selenium.HasInputDevice Cannot find symbol come in AbstractPage.java in getPageSource() methods.  In the WebStories executor class I get: cannot access com.thoughtworks.selenium.Selenium error message.  I also get: cannot find symbol in LoginPagePOM in open() method at get(&quot;<a href=\"https://qa.abtlg.io&quot;\" rel=\"nofollow noreferrer\">qa.abtlg.io&quot;</a>) and at manage() method.  I also get cannot find symbol when I use findElement() method."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648162314,"post_id":71601863,"comment_id":126561769,"body_markdown":"not familiar with your framework here, but seems like one of your dependencies isn&#39;t expecting Selenium 4.  Make sure everything is compatible.  Could also be duplicate classes... make sure you aren&#39;t duplicating any dependencies.","body":"not familiar with your framework here, but seems like one of your dependencies isn&#39;t expecting Selenium 4.  Make sure everything is compatible.  Could also be duplicate classes... make sure you aren&#39;t duplicating any dependencies."},{"owner":{"account_id":24525815,"reputation":31,"user_id":18438267,"display_name":"BorbelyI"},"score":0,"creation_date":1648187077,"post_id":71601863,"comment_id":126565677,"body_markdown":"The framework based on JBehave and in another package I use TestNG.\nI did not deleted the Java project Jar files from External libraries.\nCould it be problem or could it make conflict?","body":"The framework based on JBehave and in another package I use TestNG. I did not deleted the Java project Jar files from External libraries. Could it be problem or could it make conflict?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648227906,"post_id":71601863,"comment_id":126579423,"body_markdown":"you&#39;d want to check namespaces... but looking at your code again, it might also be an architecture problem.  I&#39;m not sure why an abstract class is extending another class... and the get and manage calls are a little odd.  Where is that method?  Follow up the chain... where is the driver injected?  Usually you&#39;d have a webdriver object injected and do you do something like driver.get(), or driver.manage...  It seems to think you&#39;ve extended the driver itself.","body":"you&#39;d want to check namespaces... but looking at your code again, it might also be an architecture problem.  I&#39;m not sure why an abstract class is extending another class... and the get and manage calls are a little odd.  Where is that method?  Follow up the chain... where is the driver injected?  Usually you&#39;d have a webdriver object injected and do you do something like driver.get(), or driver.manage...  It seems to think you&#39;ve extended the driver itself."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1648240952,"post_id":71601863,"comment_id":126583232,"body_markdown":"If I remember right, Selenium 4 comes with &quot;-sources&quot; files.  That&#39;s something to check for in your dependencies... they&#39;ll be for chromedriver, geckodriver, etc... you probably don&#39;t want those in your build.  (also in support methinks... also check to be sure Selenium-Java doesn&#39;t already include -support jars...)","body":"If I remember right, Selenium 4 comes with &quot;-sources&quot; files.  That&#39;s something to check for in your dependencies... they&#39;ll be for chromedriver, geckodriver, etc... you probably don&#39;t want those in your build.  (also in support methinks... also check to be sure Selenium-Java doesn&#39;t already include -support jars...)"}],"owner":{"account_id":24525815,"reputation":31,"user_id":18438267,"display_name":"BorbelyI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648122335,"creation_date":1648122143,"question_id":71601863,"body_markdown":"I tried to migrate my Java project to Maven in IntelliJ as it should.\r\nAfter it I tried to add dependencies to pom.xml\r\nRight now the pom xml looks like this:\r\n\r\n&lt;!-- language:lang-xml --&gt;\r\n\r\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TravelLedger&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.jbehave/jbehave-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jbehave&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jbehave-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.jbehave.web/jbehave-web-selenium --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jbehave.web&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jbehave-web-selenium&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0b2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nI get the following error message when I execute clean install:\r\n\r\n    travelledgerJbehave.webdriver.pages.LoginPagePOM is not abstract and does not override abstract method actionsBuilder() in org.openqa.selenium.HasInputDevices\r\n\r\nThe LoginPagePom class:\r\n\r\n```java\r\npublic class LoginPagePOM extends AbstractPage {\r\n\r\n    private WebDriverProvider driverProvider;\r\n\r\n    public LoginPagePOM(WebDriverProvider driverProvider) {\r\n        super(driverProvider);\r\n        this.driverProvider = driverProvider;\r\n    }\r\n\r\n    public void open() {\r\n        get(&quot;https://qa.abtlg.io&quot;);\r\n        manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    }}\r\n```\r\n\r\nThe AbstractPage class:\r\n\r\n```java\r\npublic abstract class AbstractPage extends WebDriverPage {\r\n\r\n    public AbstractPage(WebDriverProvider driverProvider) {\r\n        super(driverProvider);\r\n    }\r\n\r\n    public void found(String text) {\r\n        found(getPageSource(), text);\r\n    }\r\n\r\n    public void found(String pageSource, String text) {\r\n        if (!pageSource.contains(escapeHtml(text))) {\r\n            fail(&quot;Text: &#39;&quot; + text + &quot;&#39; not found in page &#39;&quot; + pageSource + &quot;&#39;&quot;);\r\n        }\r\n    }\r\n\r\n    public void found(List&lt;String&gt; texts) {\r\n        for (String text : texts) {\r\n            found(text);\r\n        }\r\n    }\r\n\r\n    public void notFound(String text) {\r\n        notFound(getPageSource(), text);\r\n    }\r\n\r\n    public void notFound(String pageSource, String text) {\r\n        assertThat(pageSource.contains(escapeHtml(text)), is(false));\r\n    }\r\n\r\n    private String escapeHtml(String text) {\r\n        return text.replace(&quot;&lt;&quot;, &quot;&amp;lt;&quot;).replace(&quot;&gt;&quot;, &quot;&amp;gt;&quot;);\r\n    }}\r\n```\r\n\r\nWhat could be the solution?","title":"Class is not abstract and does not override abstract method actionsBuilder() in org.openqa.selenium.HasInputDevices","body":"<p>I tried to migrate my Java project to Maven in IntelliJ as it should.\nAfter it I tried to add dependencies to pom.xml\nRight now the pom xml looks like this:</p>\n\n<pre><code>&lt;groupId&gt;groupId&lt;/groupId&gt;\n&lt;artifactId&gt;TravelLedger&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n        &lt;version&gt;3.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-support --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.jbehave/jbehave-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jbehave&lt;/groupId&gt;\n        &lt;artifactId&gt;jbehave-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.jbehave.web/jbehave-web-selenium --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jbehave.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jbehave-web-selenium&lt;/artifactId&gt;\n        &lt;version&gt;3.5.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0b2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.5&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>I get the following error message when I execute clean install:</p>\n<pre><code>travelledgerJbehave.webdriver.pages.LoginPagePOM is not abstract and does not override abstract method actionsBuilder() in org.openqa.selenium.HasInputDevices\n</code></pre>\n<p>The LoginPagePom class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginPagePOM extends AbstractPage {\n\n    private WebDriverProvider driverProvider;\n\n    public LoginPagePOM(WebDriverProvider driverProvider) {\n        super(driverProvider);\n        this.driverProvider = driverProvider;\n    }\n\n    public void open() {\n        get(&quot;https://qa.abtlg.io&quot;);\n        manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    }}\n</code></pre>\n<p>The AbstractPage class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractPage extends WebDriverPage {\n\n    public AbstractPage(WebDriverProvider driverProvider) {\n        super(driverProvider);\n    }\n\n    public void found(String text) {\n        found(getPageSource(), text);\n    }\n\n    public void found(String pageSource, String text) {\n        if (!pageSource.contains(escapeHtml(text))) {\n            fail(&quot;Text: '&quot; + text + &quot;' not found in page '&quot; + pageSource + &quot;'&quot;);\n        }\n    }\n\n    public void found(List&lt;String&gt; texts) {\n        for (String text : texts) {\n            found(text);\n        }\n    }\n\n    public void notFound(String text) {\n        notFound(getPageSource(), text);\n    }\n\n    public void notFound(String pageSource, String text) {\n        assertThat(pageSource.contains(escapeHtml(text)), is(false));\n    }\n\n    private String escapeHtml(String text) {\n        return text.replace(&quot;&lt;&quot;, &quot;&amp;lt;&quot;).replace(&quot;&gt;&quot;, &quot;&amp;gt;&quot;);\n    }}\n</code></pre>\n<p>What could be the solution?</p>\n"},{"tags":["java","selenium","cucumber","testng"],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648122315,"creation_date":1648122315,"answer_id":71601907,"question_id":71588686,"body_markdown":"From the error message: ` Unable to authenticate with Artifactory, your credentials need updating in ResourceConfig.xml` it looks like you need to update your credentials in ResourceConfig.xml. This sounds like something a team mate should be able to help you with if you don&#39;t know how.","title":"i am getting passed files has no features error in cucumber","body":"<p>From the error message: <code> Unable to authenticate with Artifactory, your credentials need updating in ResourceConfig.xml</code> it looks like you need to update your credentials in ResourceConfig.xml. This sounds like something a team mate should be able to help you with if you don't know how.</p>\n"}],"owner":{"account_id":17205613,"reputation":13,"user_id":12456259,"display_name":"karthikeyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648122315,"creation_date":1648044643,"question_id":71588686,"body_markdown":"i am getting below error message when i run cucumber. i have a particular scenario outline when i run that i am getting the below error\r\n\r\n\\[TestNG\\] Running:\r\nC:\\\\Users\\\\C076131\\\\Desktop\\\\Git Eclipse\\\\ceiwires\\\\testng.xml\r\n\r\n`[ERROR] Unable to authenticate with Artifactory, your credentials need updating in ResourceConfig.xml`\r\n`2022-03-23T19:32:53.788 - Test: io.cucumber.testng.CucumberExceptionWrapper@280461d3 - Starting`\r\n`Mar 23, 2022 7:32:55 PM net.masterthought.cucumber.ReportParser parseForFeature`\r\n`INFO: File &#39;C:\\Users\\C076131\\Desktop\\Git Eclipse\\ceiwires\\target\\cucumber-reports\\Cucumber.json&#39; does not contain features`\r\n`Mar 23, 2022 7:32:55 PM net.masterthought.cucumber.ReportParser parseJsonFiles`\r\n`INFO: File &#39;C:\\Users\\C076131\\Desktop\\Git Eclipse\\ceiwires\\target\\cucumber-reports\\Cucumber.json&#39; contains 0 features`\r\n`Mar 23, 2022 7:32:55 PM net.masterthought.cucumber.ReportBuilder generateErrorPage`\r\n`INFO: Unexpected error`\r\n`net.masterthought.cucumber.ValidationException: Passed files have no features!`\r\n`at net.masterthought.cucumber.ReportParser.parseJsonFiles(ReportParser.java:79)`\r\n`at net.masterthought.cucumber.ReportBuilder.generateReports(ReportBuilder.java:93)`\r\n`at com.usbank.applicationFramework.runner.RunnerBase.generateCucumberReport(RunnerBase.java:205)`\r\n`at com.usbank.applicationFramework.runner.RunnerBase.afterSuite(RunnerBase.java:165)`\r\n`at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)`\r\n`at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)`\r\n`at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)`\r\n`at java.lang.reflect.Method.invoke(Unknown Source)`\r\n`at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)`\r\n`at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:515)`\r\n`at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:217)`\r\n`at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:144)`\r\n`at org.testng.SuiteRunner.privateRun(SuiteRunner.java:357)`\r\n`at org.testng.SuiteRunner.run(SuiteRunner.java:289)`\r\n`at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)`\r\n`at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)`\r\n`at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)`\r\n`at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)`\r\n`at org.testng.TestNG.runSuites(TestNG.java:1133)`\r\n`at org.testng.TestNG.run(TestNG.java:1104)`\r\n`at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:132)`\r\n`at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:230)`\r\n`at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:76)`","title":"i am getting passed files has no features error in cucumber","body":"<p>i am getting below error message when i run cucumber. i have a particular scenario outline when i run that i am getting the below error</p>\n<p>[TestNG] Running:\nC:\\Users\\C076131\\Desktop\\Git Eclipse\\ceiwires\\testng.xml</p>\n<p><code>[ERROR] Unable to authenticate with Artifactory, your credentials need updating in ResourceConfig.xml</code>\n<code>2022-03-23T19:32:53.788 - Test: io.cucumber.testng.CucumberExceptionWrapper@280461d3 - Starting</code>\n<code>Mar 23, 2022 7:32:55 PM net.masterthought.cucumber.ReportParser parseForFeature</code>\n<code>INFO: File 'C:\\Users\\C076131\\Desktop\\Git Eclipse\\ceiwires\\target\\cucumber-reports\\Cucumber.json' does not contain features</code>\n<code>Mar 23, 2022 7:32:55 PM net.masterthought.cucumber.ReportParser parseJsonFiles</code>\n<code>INFO: File 'C:\\Users\\C076131\\Desktop\\Git Eclipse\\ceiwires\\target\\cucumber-reports\\Cucumber.json' contains 0 features</code>\n<code>Mar 23, 2022 7:32:55 PM net.masterthought.cucumber.ReportBuilder generateErrorPage</code>\n<code>INFO: Unexpected error</code>\n<code>net.masterthought.cucumber.ValidationException: Passed files have no features!</code>\n<code>at net.masterthought.cucumber.ReportParser.parseJsonFiles(ReportParser.java:79)</code>\n<code>at net.masterthought.cucumber.ReportBuilder.generateReports(ReportBuilder.java:93)</code>\n<code>at com.usbank.applicationFramework.runner.RunnerBase.generateCucumberReport(RunnerBase.java:205)</code>\n<code>at com.usbank.applicationFramework.runner.RunnerBase.afterSuite(RunnerBase.java:165)</code>\n<code>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code>\n<code>at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</code>\n<code>at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</code>\n<code>at java.lang.reflect.Method.invoke(Unknown Source)</code>\n<code>at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:104)</code>\n<code>at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:515)</code>\n<code>at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:217)</code>\n<code>at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:144)</code>\n<code>at org.testng.SuiteRunner.privateRun(SuiteRunner.java:357)</code>\n<code>at org.testng.SuiteRunner.run(SuiteRunner.java:289)</code>\n<code>at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)</code>\n<code>at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)</code>\n<code>at org.testng.TestNG.runSuitesSequentially(TestNG.java:1293)</code>\n<code>at org.testng.TestNG.runSuitesLocally(TestNG.java:1218)</code>\n<code>at org.testng.TestNG.runSuites(TestNG.java:1133)</code>\n<code>at org.testng.TestNG.run(TestNG.java:1104)</code>\n<code>at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:132)</code>\n<code>at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:230)</code>\n<code>at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:76)</code></p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"score":1,"creation_date":1648026453,"post_id":71584082,"comment_id":126517117,"body_markdown":"Does this answer your question? [How to start spring-boot app without depending on Database?](https://stackoverflow.com/questions/23850585/how-to-start-spring-boot-app-without-depending-on-database)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23850585/how-to-start-spring-boot-app-without-depending-on-database\">How to start spring-boot app without depending on Database?</a>"}],"owner":{"account_id":24426095,"reputation":23,"user_id":18351668,"display_name":"Istvan Csenkey-Sinko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648122181,"creation_date":1648024616,"question_id":71584082,"body_markdown":"I have a SpringBoot application which connects to mssql database. The SpringBoot application fails to start if database is not accessible (e.g database is down) at the time of startup.\r\nIs there any chance (configuration or &quot;hack&quot;) to let the application start and build the datasource connection later when database is up again?\r\n\r\nI use JDBCTemple instead of Hibernate and I create the DataSource bean as following:\r\n\r\n    @Bean\r\n    public DataSource carinDataSource() {\r\n        final String pwdFromProperty = new ConfigReaderImpl().&lt;String&gt;readConfig(\r\n            &quot;HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\WOW6432Node\\\\MyApp&quot;, &quot;DBMSPassword&quot;,\r\n            env.getProperty(&quot;spring.carin-datasource.password&quot;), String.class);\r\n    \r\n        String dbUserName = new ConfigReaderImpl().&lt;String&gt;readConfig(\r\n            &quot;HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\WOW6432Node\\\\MyApp&quot;, &quot;DBMSLogin&quot;,\r\n            env.getProperty(&quot;spring.carin-datasource.username&quot;), String.class);\r\n    \r\n        DataSource dataSource = DataSourceBuilder.create().password(pwdFromProperty).username(dbUserName)\r\n            .url(env.getProperty(&quot;spring.carin-datasource.jdbc-url&quot;))\r\n            .driverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;).\r\n            build();\r\n    \r\n    \r\n        return dataSource;\r\n      }\r\n\r\n\r\nI tried settings described in https://stackoverflow.com/questions/23850585/how-to-start-spring-boot-app-without-depending-on-database but did not help. But my intent is the same as described there.","title":"Spring (Boot) JPA start without database and connect later","body":"<p>I have a SpringBoot application which connects to mssql database. The SpringBoot application fails to start if database is not accessible (e.g database is down) at the time of startup.\nIs there any chance (configuration or &quot;hack&quot;) to let the application start and build the datasource connection later when database is up again?</p>\n<p>I use JDBCTemple instead of Hibernate and I create the DataSource bean as following:</p>\n<pre><code>@Bean\npublic DataSource carinDataSource() {\n    final String pwdFromProperty = new ConfigReaderImpl().&lt;String&gt;readConfig(\n        &quot;HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\WOW6432Node\\\\MyApp&quot;, &quot;DBMSPassword&quot;,\n        env.getProperty(&quot;spring.carin-datasource.password&quot;), String.class);\n\n    String dbUserName = new ConfigReaderImpl().&lt;String&gt;readConfig(\n        &quot;HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\WOW6432Node\\\\MyApp&quot;, &quot;DBMSLogin&quot;,\n        env.getProperty(&quot;spring.carin-datasource.username&quot;), String.class);\n\n    DataSource dataSource = DataSourceBuilder.create().password(pwdFromProperty).username(dbUserName)\n        .url(env.getProperty(&quot;spring.carin-datasource.jdbc-url&quot;))\n        .driverClassName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;).\n        build();\n\n\n    return dataSource;\n  }\n</code></pre>\n<p>I tried settings described in <a href=\"https://stackoverflow.com/questions/23850585/how-to-start-spring-boot-app-without-depending-on-database\">How to start spring-boot app without depending on Database?</a> but did not help. But my intent is the same as described there.</p>\n"},{"tags":["java","variables","automation","jmeter","barcode"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648121985,"creation_date":1648121985,"answer_id":71601821,"question_id":71601669,"body_markdown":"You can use JMeter function [__RandomString][1] (last parameter is the variable name)\r\n\r\n    ${__RandomString(44,0123456789,CodeBarra)}\r\n\r\n&gt;returns a random String of length using characters in chars to use\r\n\r\n[1]:https://jmeter.apache.org/usermanual/functions.html#__RandomString","title":"Error generating variable with 44 characters in Jmeter","body":"<p>You can use JMeter function <a href=\"https://jmeter.apache.org/usermanual/functions.html#__RandomString\" rel=\"nofollow noreferrer\">__RandomString</a> (last parameter is the variable name)</p>\n<pre><code>${__RandomString(44,0123456789,CodeBarra)}\n</code></pre>\n<blockquote>\n<p>returns a random String of length using characters in chars to use</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648122180,"creation_date":1648122180,"answer_id":71601869,"question_id":71601669,"body_markdown":"If you&#39;re doing Beanshell scripting (however [since JMeter 3.1 you should be using Groovy][1]) the better option would be doing something like: \r\n\r\n    vars.put(&quot;CodeBarra&quot;, org.apache.commons.lang3.RandomStringUtils.randomNumeric(44));\r\n\r\nAlternatively you can use it in [__groovy() function][2]:\r\n\r\n    ${__groovy(org.apache.commons.lang3.RandomStringUtils.randomNumeric(44),CodeBarra)}\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/is-beanshell-dead\r\n  [2]: https://jmeter.apache.org/usermanual/functions.html#__groovy\r\n  [3]: https://i.stack.imgur.com/NocO9.png","title":"Error generating variable with 44 characters in Jmeter","body":"<p>If you're doing Beanshell scripting (however <a href=\"https://www.blazemeter.com/blog/is-beanshell-dead\" rel=\"nofollow noreferrer\">since JMeter 3.1 you should be using Groovy</a>) the better option would be doing something like:</p>\n<pre><code>vars.put(&quot;CodeBarra&quot;, org.apache.commons.lang3.RandomStringUtils.randomNumeric(44));\n</code></pre>\n<p>Alternatively you can use it in <a href=\"https://jmeter.apache.org/usermanual/functions.html#__groovy\" rel=\"nofollow noreferrer\">__groovy() function</a>:</p>\n<pre><code>${__groovy(org.apache.commons.lang3.RandomStringUtils.randomNumeric(44),CodeBarra)}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NocO9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NocO9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11305786,"reputation":111,"user_id":8290484,"display_name":"Estevao FPM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71601869,"answer_count":2,"score":0,"last_activity_date":1648122180,"creation_date":1648121319,"question_id":71601669,"body_markdown":"hello!\r\n\r\nI have the following problem in Jmeter:\r\n\r\nI want to add a code to my BeanShell Tester that generates a 44-character barcode. But so far, without success.\r\n\r\nSo I went to plan &quot;B&quot;:\r\nI added a Random Variable with 44 characters, but it doesn&#39;t get created. It does not display any errors.\r\n\r\nCould someone help me and tell me what I can do to make it work?\r\n\r\n&gt; Below are the variables:\r\n\r\n```\r\nOutput format: 0000000000000000000000000000000000000000\r\nMinimum value: 1000000000000000000000000000000000000000\r\nMaximum value: 9999999999999999999999999999999999999999\r\n```\r\n\r\nPrint below:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAs for the code, I didn&#39;t share it here, but if anyone knows and has a code that generates barcodes, I&#39;d appreciate it!\r\n\r\n\r\nAnyway, that&#39;s it folks!\r\n\r\nThank you very much in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GI3hO.png","title":"Error generating variable with 44 characters in Jmeter","body":"<p>hello!</p>\n<p>I have the following problem in Jmeter:</p>\n<p>I want to add a code to my BeanShell Tester that generates a 44-character barcode. But so far, without success.</p>\n<p>So I went to plan &quot;B&quot;:\nI added a Random Variable with 44 characters, but it doesn't get created. It does not display any errors.</p>\n<p>Could someone help me and tell me what I can do to make it work?</p>\n<blockquote>\n<p>Below are the variables:</p>\n</blockquote>\n<pre><code>Output format: 0000000000000000000000000000000000000000\nMinimum value: 1000000000000000000000000000000000000000\nMaximum value: 9999999999999999999999999999999999999999\n</code></pre>\n<p>Print below:\n<a href=\"https://i.stack.imgur.com/GI3hO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GI3hO.png\" alt=\"enter image description here\" /></a></p>\n<p>As for the code, I didn't share it here, but if anyone knows and has a code that generates barcodes, I'd appreciate it!</p>\n<p>Anyway, that's it folks!</p>\n<p>Thank you very much in advance!</p>\n"},{"tags":["java","lambda","collections","stream"],"answers":[{"tags":[],"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648121799,"creation_date":1648121799,"answer_id":71601786,"question_id":71601561,"body_markdown":"Java Stream has certain operations which are called as &quot;Terminal Operations&quot;, forEach being one of them.\r\n\r\nThis operations terminates/closes the Stream, hence if you try any operation again on closed, exception is being thrown. \r\n\r\nYou can simply create the stream again.\r\n\r\n    public class LambdaStream{\r\n        public static void main(String[] args) {\r\n            //new list of integers\r\n            List&lt;Integer&gt; list = List.of(1,2,76,23,56,1,78,341,13);\r\n            Stream&lt;Integer&gt; stream = list.stream();\r\n            //new stream with only integers\r\n            Stream&lt;Integer&gt; evens = stream.filter(e-&gt;e%2==0);\r\n    \r\n            //i need to print both the lists\r\n            System.out.println(&quot;Even numbers in the list are: &quot;);\r\n            evens.forEach(e-&gt;System.out.print(e+&quot; &quot;));\r\n            System.out.println();\r\n            System.out.println(&quot;Original list is: &quot;);\r\n            list.stream().forEach(e-&gt; System.out.print(e+&quot; &quot;));\r\n        }\r\n    }","title":"need an explanation for a beginner about exception in stream: IllegalStateException","body":"<p>Java Stream has certain operations which are called as &quot;Terminal Operations&quot;, forEach being one of them.</p>\n<p>This operations terminates/closes the Stream, hence if you try any operation again on closed, exception is being thrown.</p>\n<p>You can simply create the stream again.</p>\n<pre><code>public class LambdaStream{\n    public static void main(String[] args) {\n        //new list of integers\n        List&lt;Integer&gt; list = List.of(1,2,76,23,56,1,78,341,13);\n        Stream&lt;Integer&gt; stream = list.stream();\n        //new stream with only integers\n        Stream&lt;Integer&gt; evens = stream.filter(e-&gt;e%2==0);\n\n        //i need to print both the lists\n        System.out.println(&quot;Even numbers in the list are: &quot;);\n        evens.forEach(e-&gt;System.out.print(e+&quot; &quot;));\n        System.out.println();\n        System.out.println(&quot;Original list is: &quot;);\n        list.stream().forEach(e-&gt; System.out.print(e+&quot; &quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11562998,"reputation":65,"user_id":8472171,"display_name":"Naveen Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1648384092,"accepted_answer_id":71601786,"answer_count":1,"score":-3,"last_activity_date":1648121799,"creation_date":1648120905,"question_id":71601561,"body_markdown":"Im a beginner in java programming and I just started Streams. I have a problem with this code and I can&#39;t understand how to resolve it. I read few existing solutions in the results but I cant understand those complicated codes.\r\n\r\n \r\n\r\n       \r\n    public class LambdaStream{\r\n        public static void main(String[] args) {\r\n            //new list of integers\r\n            List&lt;Integer&gt; list = List.of(1,2,76,23,56,1,78,341,13);\r\n            Stream&lt;Integer&gt; stream = list.stream();\r\n            //new stream with only integers\r\n            Stream&lt;Integer&gt; evens = stream.filter(e-&gt;e%2==0);\r\n            \r\n           //i need to print both the lists\r\n            System.out.println(&quot;Even numbers in the list are: &quot;);\r\n            evens.forEach(e-&gt;System.out.print(e+&quot; &quot;));\r\n            System.out.println();\r\n            System.out.println(&quot;Original list is: &quot;);\r\n            stream.forEach(e-&gt; System.out.print(e+&quot; &quot;));\r\n        }\r\n    }\r\n\r\nI heard that using lambdas multiple times is a problem, then how i can generate another stream which has even numbers.\r\n Exception is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\r\n    \tat java.base/java.util.stream.AbstractPipeline.sourceStageSpliterator(AbstractPipeline.java:279)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat oops.LambdaStream.main(LambdaStream.java:22)\r\n\r\n","title":"need an explanation for a beginner about exception in stream: IllegalStateException","body":"<p>Im a beginner in java programming and I just started Streams. I have a problem with this code and I can't understand how to resolve it. I read few existing solutions in the results but I cant understand those complicated codes.</p>\n<pre><code>public class LambdaStream{\n    public static void main(String[] args) {\n        //new list of integers\n        List&lt;Integer&gt; list = List.of(1,2,76,23,56,1,78,341,13);\n        Stream&lt;Integer&gt; stream = list.stream();\n        //new stream with only integers\n        Stream&lt;Integer&gt; evens = stream.filter(e-&gt;e%2==0);\n        \n       //i need to print both the lists\n        System.out.println(&quot;Even numbers in the list are: &quot;);\n        evens.forEach(e-&gt;System.out.print(e+&quot; &quot;));\n        System.out.println();\n        System.out.println(&quot;Original list is: &quot;);\n        stream.forEach(e-&gt; System.out.print(e+&quot; &quot;));\n    }\n}\n</code></pre>\n<p>I heard that using lambdas multiple times is a problem, then how i can generate another stream which has even numbers.\nException is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\n    at java.base/java.util.stream.AbstractPipeline.sourceStageSpliterator(AbstractPipeline.java:279)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at oops.LambdaStream.main(LambdaStream.java:22)\n</code></pre>\n"},{"tags":["java","image","swing","jpanel","jlabel"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645201946,"creation_date":1645196006,"answer_id":71175468,"question_id":71173825,"body_markdown":"A FlowLayout will ensure your components will be rendered side by side.\r\n\r\nInstead, on the panel that hosts all your UI elements, override [paintComponent()][1] so it fills the background with your image. The component will still render it&#39;s children (the UI elements) on top of that.\r\n\r\nAnother chance would be to stack components on top of each other. The lower one would render your image, the upper one the UI - and do not forget to set opaque=false to the UI.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)","title":"Add Panel with GridLayout onto Background Image","body":"<p>A FlowLayout will ensure your components will be rendered side by side.</p>\n<p>Instead, on the panel that hosts all your UI elements, override <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"nofollow noreferrer\">paintComponent()</a> so it fills the background with your image. The component will still render it's children (the UI elements) on top of that.</p>\n<p>Another chance would be to stack components on top of each other. The lower one would render your image, the upper one the UI - and do not forget to set opaque=false to the UI.</p>\n"}],"owner":{"account_id":20650119,"reputation":13,"user_id":15160620,"display_name":"realadii287"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648121621,"creation_date":1645188878,"question_id":71173825,"body_markdown":"I wanted to create a simple TicTacToe game in java by myself.\r\nBut currently I&#180;m struggling with the first issue.. \r\n\r\nThe GUI only displays the Gamefield itself (the &quot;grid&quot;) OR the invisble buttons (when you click on them, it displays a X or O) \r\nBut never both of them?\r\n\r\nI need the gamefield Image as the background and on that the buttons.. But I cant get it working.. I already tried using a third JPanel as the &quot;main&quot; panel with a FlowLayout and added the two other panels onto it.\r\nI created some simple icons and a backround grid in paint.. icons are 200x200 and the grid 600x600 (same as my frame size)\r\n\r\n\r\n&quot;X-icon&quot;      : https://i.stack.imgur.com/tGlZM.png\r\n\r\n&quot;O-icon&quot;      : https://i.stack.imgur.com/mnoQd.png\r\n\r\n&quot;Background&quot;  : https://i.stack.imgur.com/BF5yW.png\r\n\r\nI Hope anyone can help me out :)\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\n\r\npublic class TicTacToe implements ActionListener{\r\n\r\n    ArrayList&lt;JButton&gt; buttons = new ArrayList&lt;JButton&gt;();\r\n    JFrame frame;\r\n    JPanel gamefield;\r\n    JPanel background;\r\n    JLabel backgroundLabel;\r\n    ImageIcon backgroundImage = new ImageIcon(&quot;C:\\\\Users\\\\adnan\\\\Programmieren\\\\Games\\\\TicTacToe\\\\field.png&quot;);\r\n    ImageIcon iconX = new ImageIcon(&quot;C:\\\\Users\\\\adnan\\\\Programmieren\\\\Games\\\\TicTacToe\\\\iconX.png&quot;);\r\n    ImageIcon iconO = new ImageIcon(&quot;C:\\\\Users\\\\adnan\\\\Programmieren\\\\Games\\\\TicTacToe\\\\iconO.png&quot;);\r\n    int player = 1;\r\n\r\n    void createGameField(){\r\n\r\n        background = new JPanel();\r\n        background.setPreferredSize(frame.getSize());\r\n        backgroundLabel = new JLabel(backgroundImage);\r\n        backgroundLabel.setSize(frame.getSize());\r\n        background.add(backgroundLabel);\r\n\r\n\r\n        gamefield = new JPanel();\r\n        gamefield.setLayout( new GridLayout(3,3,25,25));\r\n        createButtons();\r\n\r\n        frame.add(background);\r\n        frame.add(gamefield);\r\n    }\r\n    \r\n    void createButtons(){\r\n        \r\n        for(int index = 0; index&lt;=9; index++){\r\n            buttons.add(new JButton());\r\n            if(index!=0){\r\n                buttons.get(index).setOpaque(false);\r\n                buttons.get(index).setContentAreaFilled(false);\r\n                buttons.get(index).setBorderPainted(false);\r\n                gamefield.add(buttons.get(index));\r\n                buttons.get(index).addActionListener(this);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public void actionPerformed(ActionEvent e){\r\n        if(e.getSource() instanceof JButton){\r\n\r\n            if(player==1){\r\n                System.out.println( ((JButton) e.getSource()).getText() + &quot;was clicked by player &quot;+player);\r\n                ((JButton) e.getSource()).setEnabled(false);\r\n                ((JButton) e.getSource()).setIcon(iconX);\r\n                player++;\r\n            }\r\n\r\n            else{\r\n                System.out.println( ((JButton) e.getSource()).getText() + &quot;was clicked by player &quot;+player);\r\n                ((JButton) e.getSource()).setEnabled(false);\r\n                ((JButton) e.getSource()).setIcon(iconO);\r\n                player--;\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    public TicTacToe(){\r\n        frame = new JFrame();\r\n        createGameField();\r\n\r\n        frame.setSize(600,600);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setTitle(&quot;TicTacToe&quot;);\r\n        frame.setResizable(false);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TicTacToe newGame = new TicTacToe();\r\n    }\r\n}\r\n```\r\n","title":"Add Panel with GridLayout onto Background Image","body":"<p>I wanted to create a simple TicTacToe game in java by myself.\nBut currently Im struggling with the first issue..</p>\n<p>The GUI only displays the Gamefield itself (the &quot;grid&quot;) OR the invisble buttons (when you click on them, it displays a X or O)\nBut never both of them?</p>\n<p>I need the gamefield Image as the background and on that the buttons.. But I cant get it working.. I already tried using a third JPanel as the &quot;main&quot; panel with a FlowLayout and added the two other panels onto it.\nI created some simple icons and a backround grid in paint.. icons are 200x200 and the grid 600x600 (same as my frame size)</p>\n<p>&quot;X-icon&quot;      : <a href=\"https://i.stack.imgur.com/tGlZM.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/tGlZM.png</a></p>\n<p>&quot;O-icon&quot;      : <a href=\"https://i.stack.imgur.com/mnoQd.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/mnoQd.png</a></p>\n<p>&quot;Background&quot;  : <a href=\"https://i.stack.imgur.com/BF5yW.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/BF5yW.png</a></p>\n<p>I Hope anyone can help me out :)</p>\n<pre><code>import java.util.ArrayList;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\n\npublic class TicTacToe implements ActionListener{\n\n    ArrayList&lt;JButton&gt; buttons = new ArrayList&lt;JButton&gt;();\n    JFrame frame;\n    JPanel gamefield;\n    JPanel background;\n    JLabel backgroundLabel;\n    ImageIcon backgroundImage = new ImageIcon(&quot;C:\\\\Users\\\\adnan\\\\Programmieren\\\\Games\\\\TicTacToe\\\\field.png&quot;);\n    ImageIcon iconX = new ImageIcon(&quot;C:\\\\Users\\\\adnan\\\\Programmieren\\\\Games\\\\TicTacToe\\\\iconX.png&quot;);\n    ImageIcon iconO = new ImageIcon(&quot;C:\\\\Users\\\\adnan\\\\Programmieren\\\\Games\\\\TicTacToe\\\\iconO.png&quot;);\n    int player = 1;\n\n    void createGameField(){\n\n        background = new JPanel();\n        background.setPreferredSize(frame.getSize());\n        backgroundLabel = new JLabel(backgroundImage);\n        backgroundLabel.setSize(frame.getSize());\n        background.add(backgroundLabel);\n\n\n        gamefield = new JPanel();\n        gamefield.setLayout( new GridLayout(3,3,25,25));\n        createButtons();\n\n        frame.add(background);\n        frame.add(gamefield);\n    }\n    \n    void createButtons(){\n        \n        for(int index = 0; index&lt;=9; index++){\n            buttons.add(new JButton());\n            if(index!=0){\n                buttons.get(index).setOpaque(false);\n                buttons.get(index).setContentAreaFilled(false);\n                buttons.get(index).setBorderPainted(false);\n                gamefield.add(buttons.get(index));\n                buttons.get(index).addActionListener(this);\n            }\n        }\n    }\n    \n    public void actionPerformed(ActionEvent e){\n        if(e.getSource() instanceof JButton){\n\n            if(player==1){\n                System.out.println( ((JButton) e.getSource()).getText() + &quot;was clicked by player &quot;+player);\n                ((JButton) e.getSource()).setEnabled(false);\n                ((JButton) e.getSource()).setIcon(iconX);\n                player++;\n            }\n\n            else{\n                System.out.println( ((JButton) e.getSource()).getText() + &quot;was clicked by player &quot;+player);\n                ((JButton) e.getSource()).setEnabled(false);\n                ((JButton) e.getSource()).setIcon(iconO);\n                player--;\n            }\n            \n        }\n    }\n\n    public TicTacToe(){\n        frame = new JFrame();\n        createGameField();\n\n        frame.setSize(600,600);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n        frame.setTitle(&quot;TicTacToe&quot;);\n        frame.setResizable(false);\n    }\n\n    public static void main(String[] args) {\n        TicTacToe newGame = new TicTacToe();\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jpanel","jlabel"],"comments":[{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1646386423,"post_id":71348624,"comment_id":126115132,"body_markdown":"Maybe this helps: https://stackoverflow.com/questions/48491783/jlabel-doesnt-show-up-until-you-maximize-my-frame","body":"Maybe this helps: <a href=\"https://stackoverflow.com/questions/48491783/jlabel-doesnt-show-up-until-you-maximize-my-frame\" title=\"jlabel doesnt show up until you maximize my frame\">stackoverflow.com/questions/48491783/&hellip;</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1648121557,"post_id":71348624,"comment_id":126546572,"body_markdown":"`setLayout(null)` this is the problem. Use layouts. If you recode the app. using layouts, get back to us.","body":"<code>setLayout(null)</code> this is the problem. Use layouts. If you recode the app. using layouts, get back to us."}],"owner":{"account_id":24449111,"reputation":1,"user_id":18371601,"display_name":"connor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648121505,"creation_date":1646383007,"question_id":71348624,"body_markdown":"So when I run this code: \r\n\r\n    public class Game\r\n    {\r\n    \t// DECLARING Java objects to later use\r\n    \tJFrame window;\r\n    \tContainer con;\r\n    \tJPanel titleNamePanel, startButtonPanel, signaturePanel;\r\n    \tJLabel titleNameLabel, signatureLabel;\r\n    \tFont titleFont = new Font(&quot;Britannic Bold&quot;, Font.BOLD, 80);\r\n    \tFont signature = new Font(&quot;Arial&quot;, Font.ITALIC, 15);\r\n    \tFont normalFont = new Font(&quot;Times New Roman&quot;, Font.PLAIN, 30);\r\n    \tJButton startButton;\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\t// calling constructor\r\n    \t\tnew Game();\r\n    \t}\r\n    \r\n    \tpublic Game() {\r\n    \t\t// GAME WINDOW creation\r\n    \t\twindow = new JFrame();\r\n    \t\twindow.setSize(800,600);\r\n    \t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\twindow.getContentPane().setBackground(Color.black);\r\n    \t\twindow.setLayout(null);\r\n    \t\twindow.setVisible(true);\r\n    \t\t\r\n    \t\tcon = window.getContentPane();\r\n    \t\t\r\n    \t\t// TITLE NAME PANEL for title text\r\n    \t\ttitleNamePanel = new JPanel();\r\n    \t\ttitleNamePanel.setBounds(100, 100, 600, 150);\r\n    \t\ttitleNamePanel.setBackground(Color.black);\r\n    \t\ttitleNameLabel = new JLabel(&quot;GAME&quot;);\r\n    \t\ttitleNameLabel.setForeground(Color.white);\r\n    \t\ttitleNameLabel.setFont(titleFont);\r\n    \t\t\r\n    \t\t// START BUTTON PANEL for button housing\r\n    \t\tstartButtonPanel = new JPanel();\r\n    \t\tstartButtonPanel.setBounds(300, 400, 200, 100);\r\n    \t\tstartButtonPanel.setBackground(Color.black);\r\n    \t\t\r\n    \t\t// START BUTTON customization\r\n    \t\tstartButton = new JButton(&quot;START&quot;);\r\n    \t\tstartButton.setBackground(Color.black);\r\n    \t\tstartButton.setForeground(Color.white);\r\n    \t\tstartButton.setFont(normalFont);\r\n    \t\t\r\n    \t\t// SIGNATURE PANEL for text and customization\r\n    \t\tsignaturePanel = new JPanel();\r\n    \t\tsignaturePanel.setBounds(640, 525, 150, 40);\r\n    \t\tsignaturePanel.setBackground(Color.black);\r\n    \t\tsignatureLabel = new JLabel(&quot;coded by connor&quot;);\r\n    \t\tsignatureLabel.setForeground(Color.white);\r\n    \t\tsignatureLabel.setFont(signature);\r\n    \t\t\r\n    \t\t// ADDING both labels to panels and retrieving content pane information\r\n    \t\ttitleNamePanel.add(titleNameLabel);\r\n    \t\tsignaturePanel.add(signatureLabel);\r\n    \t\tstartButtonPanel.add(startButton);\r\n    \t\tcon.add(titleNamePanel);\r\n    \t\tcon.add(startButtonPanel);\r\n    \t\tcon.add(signaturePanel);\r\n    \t}\r\n    }`\r\n\r\nMy code works but my window just displays black until I maximize the window and then return it back to normal like this: [black window with JLabels gone][1]-----------------[JLabels back when I maximize the screen and then minimize it back to it&#39;s original dimensions][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YcCp7.png\r\n  [2]: https://i.stack.imgur.com/cQBQn.png\r\n\r\nI&#39;m just wondering if anyone knows a fix for this that I&#39;m overlooking. Thank you so much for your time.","title":"When I run my code in Eclipse, my JLabel&#39;s disappear until I resize the window","body":"<p>So when I run this code:</p>\n<pre><code>public class Game\n{\n    // DECLARING Java objects to later use\n    JFrame window;\n    Container con;\n    JPanel titleNamePanel, startButtonPanel, signaturePanel;\n    JLabel titleNameLabel, signatureLabel;\n    Font titleFont = new Font(&quot;Britannic Bold&quot;, Font.BOLD, 80);\n    Font signature = new Font(&quot;Arial&quot;, Font.ITALIC, 15);\n    Font normalFont = new Font(&quot;Times New Roman&quot;, Font.PLAIN, 30);\n    JButton startButton;\n    \n    public static void main(String[] args)\n    {\n        // calling constructor\n        new Game();\n    }\n\n    public Game() {\n        // GAME WINDOW creation\n        window = new JFrame();\n        window.setSize(800,600);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.getContentPane().setBackground(Color.black);\n        window.setLayout(null);\n        window.setVisible(true);\n        \n        con = window.getContentPane();\n        \n        // TITLE NAME PANEL for title text\n        titleNamePanel = new JPanel();\n        titleNamePanel.setBounds(100, 100, 600, 150);\n        titleNamePanel.setBackground(Color.black);\n        titleNameLabel = new JLabel(&quot;GAME&quot;);\n        titleNameLabel.setForeground(Color.white);\n        titleNameLabel.setFont(titleFont);\n        \n        // START BUTTON PANEL for button housing\n        startButtonPanel = new JPanel();\n        startButtonPanel.setBounds(300, 400, 200, 100);\n        startButtonPanel.setBackground(Color.black);\n        \n        // START BUTTON customization\n        startButton = new JButton(&quot;START&quot;);\n        startButton.setBackground(Color.black);\n        startButton.setForeground(Color.white);\n        startButton.setFont(normalFont);\n        \n        // SIGNATURE PANEL for text and customization\n        signaturePanel = new JPanel();\n        signaturePanel.setBounds(640, 525, 150, 40);\n        signaturePanel.setBackground(Color.black);\n        signatureLabel = new JLabel(&quot;coded by connor&quot;);\n        signatureLabel.setForeground(Color.white);\n        signatureLabel.setFont(signature);\n        \n        // ADDING both labels to panels and retrieving content pane information\n        titleNamePanel.add(titleNameLabel);\n        signaturePanel.add(signatureLabel);\n        startButtonPanel.add(startButton);\n        con.add(titleNamePanel);\n        con.add(startButtonPanel);\n        con.add(signaturePanel);\n    }\n}`\n</code></pre>\n<p>My code works but my window just displays black until I maximize the window and then return it back to normal like this: <a href=\"https://i.stack.imgur.com/YcCp7.png\" rel=\"nofollow noreferrer\">black window with JLabels gone</a>-----------------<a href=\"https://i.stack.imgur.com/cQBQn.png\" rel=\"nofollow noreferrer\">JLabels back when I maximize the screen and then minimize it back to it's original dimensions</a></p>\n<p>I'm just wondering if anyone knows a fix for this that I'm overlooking. Thank you so much for your time.</p>\n"},{"tags":["java","swing","jtable","jtextarea"],"answers":[{"tags":[],"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546003047,"creation_date":1546003047,"answer_id":53959225,"question_id":53958630,"body_markdown":"Try this sample code. It should work.\r\n\r\nMain point is that you need to call the `JTextArea.setText()` within a `TableModelListener`. I&#39;ve corrected the column indices in your code. And the headers of the text area is moved out of the for loop.\r\n\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.event.TableModelEvent;\r\n    import javax.swing.event.TableModelListener;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    public class TableToTextArea\r\n    {\r\n      private static DefaultTableModel tableModel;\r\n      private static JTextArea textArea = new JTextArea();\r\n\r\n      public static void main(String[] args)\r\n      {\r\n        JButton button = new JButton(&quot;Add Row&quot;);\r\n        button.addActionListener(new ActionListener()\r\n        {\r\n          @Override\r\n          public void actionPerformed(ActionEvent e)\r\n          {\r\n            tableModel.addRow(new String[] {&quot;Abc&quot;, &quot;15&quot;, &quot;2&quot;, &quot;30&quot;});\r\n          }\r\n        });\r\n\r\n        JFrame f = new JFrame(&quot;Table to Text Area&quot;);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.getContentPane().setLayout(new GridLayout(3, 1));\r\n        f.getContentPane().add(new JScrollPane(buildTable()));\r\n        f.getContentPane().add(new JScrollPane(textArea));\r\n        f.getContentPane().add(button);\r\n        f.setBounds(300, 200, 500, 400);\r\n        f.setVisible(true);\r\n      }\r\n\r\n      private static JTable buildTable()\r\n      {\r\n        tableModel = new DefaultTableModel(new String[0][0], new String[] {&quot;Item Name&quot;, &quot;Price&quot;, &quot;Qty&quot;, &quot;Total&quot;});\r\n        tableModel.addTableModelListener(new TableModelListener()\r\n        {\r\n          @Override\r\n          public void tableChanged(TableModelEvent e)\r\n          {\r\n            int row = tableModel.getRowCount();\r\n\r\n            textArea.setText(&quot;_____________________________________________\\n&quot;\r\n                + &quot;Item Name\\tPrice\\tQty.\\tTotal\\n&quot;\r\n                + &quot;_____________________________________________&quot;);\r\n            for (int i = 0; i &lt; row; i++)\r\n            {\r\n              textArea.append(&quot;\\n&quot;\r\n                  + tableModel.getValueAt(i, 0) // Column index is changed\r\n                  + &quot;\\t&quot; + tableModel.getValueAt(i, 1) // Column index is changed\r\n                  + &quot;\\t&quot; + tableModel.getValueAt(i, 2) // Column index is changed\r\n                  + &quot;\\t&quot; + tableModel.getValueAt(i, 3) // Column index is changed\r\n              );\r\n            }\r\n          }\r\n        });\r\n        return new JTable(tableModel);\r\n      }\r\n    }\r\n\r\n","title":"Iterate JTable in JTextArea","body":"<p>Try this sample code. It should work.</p>\n\n<p>Main point is that you need to call the <code>JTextArea.setText()</code> within a <code>TableModelListener</code>. I've corrected the column indices in your code. And the headers of the text area is moved out of the for loop.</p>\n\n<pre><code>import javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextArea;\nimport javax.swing.event.TableModelEvent;\nimport javax.swing.event.TableModelListener;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class TableToTextArea\n{\n  private static DefaultTableModel tableModel;\n  private static JTextArea textArea = new JTextArea();\n\n  public static void main(String[] args)\n  {\n    JButton button = new JButton(\"Add Row\");\n    button.addActionListener(new ActionListener()\n    {\n      @Override\n      public void actionPerformed(ActionEvent e)\n      {\n        tableModel.addRow(new String[] {\"Abc\", \"15\", \"2\", \"30\"});\n      }\n    });\n\n    JFrame f = new JFrame(\"Table to Text Area\");\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    f.getContentPane().setLayout(new GridLayout(3, 1));\n    f.getContentPane().add(new JScrollPane(buildTable()));\n    f.getContentPane().add(new JScrollPane(textArea));\n    f.getContentPane().add(button);\n    f.setBounds(300, 200, 500, 400);\n    f.setVisible(true);\n  }\n\n  private static JTable buildTable()\n  {\n    tableModel = new DefaultTableModel(new String[0][0], new String[] {\"Item Name\", \"Price\", \"Qty\", \"Total\"});\n    tableModel.addTableModelListener(new TableModelListener()\n    {\n      @Override\n      public void tableChanged(TableModelEvent e)\n      {\n        int row = tableModel.getRowCount();\n\n        textArea.setText(\"_____________________________________________\\n\"\n            + \"Item Name\\tPrice\\tQty.\\tTotal\\n\"\n            + \"_____________________________________________\");\n        for (int i = 0; i &lt; row; i++)\n        {\n          textArea.append(\"\\n\"\n              + tableModel.getValueAt(i, 0) // Column index is changed\n              + \"\\t\" + tableModel.getValueAt(i, 1) // Column index is changed\n              + \"\\t\" + tableModel.getValueAt(i, 2) // Column index is changed\n              + \"\\t\" + tableModel.getValueAt(i, 3) // Column index is changed\n          );\n        }\n      }\n    });\n    return new JTable(tableModel);\n  }\n}\n</code></pre>\n"}],"owner":{"display_name":"user10738240"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53959225,"answer_count":1,"score":0,"last_activity_date":1648121453,"creation_date":1546000079,"question_id":53958630,"body_markdown":"I want to iterate `jTable` in `jTextArea`\r\n\r\nI tried this code :  \r\n            \r\n    int row = tableModel.getRowCount();\r\n\r\n            for (int i = 0; i &lt; row; i++) {\r\n                    jRcRprtTextArea.setText(&quot;___________________________________\\n&quot;\r\n                            + &quot;Item Name\tPrice \tQty.\tTotal\\n&quot;\r\n                            + &quot;_____________________________________________&quot;);\r\n            jRcRprtTextArea.append(&quot;\\n&quot;\r\n                    + tableModel.getValueAt(i, 1)\r\n                    + &quot;\\t&quot; + tableModel.getValueAt(i, 2)\r\n                    + &quot;\\t&quot; + tableModel.getValueAt(i, 3)\r\n                    + &quot;\\t&quot; + tableModel.getValueAt(i, 5)\r\n            );\r\n        }\r\n\r\n  \r\n\r\nBut this doesn&#39;t work  \r\nEven I tried for single row in for loop but it also doesn&#39;t what I want to achieve.  \r\nI expecting `jTextArea` must have all text from `jTable` as if I&#39;ll add new row to jTable.  \r\n**Previous text disappearing from `jTextArea` and just newly added row text adding there.** \r\nHere I can see that all rows printing using `println()` method.  \r\nSo why does not it getting in `jTextArea`? ","title":"Iterate JTable in JTextArea","body":"<p>I want to iterate <code>jTable</code> in <code>jTextArea</code></p>\n\n<p>I tried this code :  </p>\n\n<pre><code>int row = tableModel.getRowCount();\n\n        for (int i = 0; i &lt; row; i++) {\n                jRcRprtTextArea.setText(\"___________________________________\\n\"\n                        + \"Item Name    Price   Qty.    Total\\n\"\n                        + \"_____________________________________________\");\n        jRcRprtTextArea.append(\"\\n\"\n                + tableModel.getValueAt(i, 1)\n                + \"\\t\" + tableModel.getValueAt(i, 2)\n                + \"\\t\" + tableModel.getValueAt(i, 3)\n                + \"\\t\" + tableModel.getValueAt(i, 5)\n        );\n    }\n</code></pre>\n\n<p>But this doesn't work<br>\nEven I tried for single row in for loop but it also doesn't what I want to achieve.<br>\nI expecting <code>jTextArea</code> must have all text from <code>jTable</code> as if I'll add new row to jTable.<br>\n<strong>Previous text disappearing from <code>jTextArea</code> and just newly added row text adding there.</strong> \nHere I can see that all rows printing using <code>println()</code> method.<br>\nSo why does not it getting in <code>jTextArea</code>? </p>\n"},{"tags":["java","callable"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1648121261,"post_id":71601587,"comment_id":126546465,"body_markdown":"Please provide a complete runnable program which illustrates this behaviour.","body":"Please provide a complete runnable program which illustrates this behaviour."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1648121441,"post_id":71601587,"comment_id":126546533,"body_markdown":"@tgdavies I was updated my post","body":"@tgdavies I was updated my post"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648158878,"post_id":71601587,"comment_id":126560993,"body_markdown":"Please provide a complete runnable program which illustrates this behaviour.","body":"Please provide a complete runnable program which illustrates this behaviour."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648165842,"post_id":71601587,"comment_id":126562458,"body_markdown":"And the reason I&#39;m being picky about that is because yes, it does look odd, so the problem is probably in your other code, or will become obvious under debugging.","body":"And the reason I&#39;m being picky about that is because yes, it does look odd, so the problem is probably in your other code, or will become obvious under debugging."}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648121429,"creation_date":1648121022,"question_id":71601587,"body_markdown":"java 8\r\n\r\nmy snippet:\r\n\r\n        private ThreadedApplicationEventPublisher threadedApplicationEventPublisher;\r\n        private final ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        private final List&lt;Long&gt; failedAttemptsList = new \r\n    LinkedList&lt;&gt;();\r\n        private final Semaphore alarmRaised = new Semaphore(1);\r\n        \r\n                Future&lt;Boolean&gt; future = executorService.submit(new ClearAlarmAndResetAttemptsCallable());\r\n                \t\t\t\t\t\r\n                \t\t\t\t\t\tif (future.get().booleanValue()) {\r\n                \t\t\t\t\t\t   // some code here\r\n                \t\t\t\t\t\t}\r\n             //...\r\n            \r\n            \r\n               public class ClearAlarmAndResetAttemptsCallable implements Callable&lt;Boolean&gt; {\r\n        \r\n        \t\t@Override\r\n        \t\tpublic Boolean call() throws Exception {\r\n        \t\t\tLOGGER.info(&quot;ClearAlarmAndResetAttemptsCallable: start&quot;);\r\n        \t\t\twhile (true) {\r\n        \t\t\t\tlong currentTimeSec = System.currentTimeMillis() / 1000;\r\n        \t\t\t\tLOGGER.info(\r\n        \t\t\t\t\t\t&quot;ClearAlarmAndResetAttemptsCallable: in_while, currentTimeSec = {}, failedAttemptsList_size = {}&quot;,\r\n        \t\t\t\t\t\tcurrentTimeSec, failedAttemptsList.size());\r\n        \t\t\t\tsynchronized (failedAttemptsList) {\r\n        \t\t\t\t\tLOGGER.info(&quot;ClearAlarmAndResetAttemptsCallable: inside_synchronized&quot;);\r\n        \t\t\t\t\tLong lastTimeSec = ((LinkedList&lt;Long&gt;) failedAttemptsList).getLast();\r\n        \t\t\t\t\tlong durationSec = currentTimeSec - lastTimeSec;\r\n        \t\t\t\t\tif (durationSec &gt; timeWindowSec) {\r\n        \t\t\t\t\t\tthreadedApplicationEventPublisher.publishEvent(new PossibleMCAttackEventPostEvent(this,\r\n        \t\t\t\t\t\t\t\tfolderService.findNetwork(), EventSeverity.NORMAL, DateUtils.getGmtTime(),\r\n        \t\t\t\t\t\t\t\tAttackTypeEnum.REPETITIVE_FAILED_LOGON_ATTEMPTS, &quot;&quot;));\r\n        \t\t\t\t\t\tfailedAttemptsList.clear();\r\n        \t\t\t\t\t\tbreak;\r\n        \t\t\t\t\t}\r\n        \t\t\t\t}\r\n        \t\t\t\ttry {\r\n        \t\t\t\t\tThread.sleep(timeWindowSec * 100L);\r\n        \t\t\t\t} catch (InterruptedException e) {\r\n        \t\t\t\t\tThread.currentThread().interrupt();\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \r\n        \t\t\talarmRaised.release();\r\n        \t\t\treturn true;\r\n        \t\t}\r\n        \t}\r\n\r\nhere result log\r\n\r\n     ClearAlarmAndResetAttemptsCallable: start\r\n    ClearAlarmAndResetAttemptsCallable: in_while, currentTimeSec = 1648120833, failedAttemptsList_size = 3\r\n\r\nThe question is: Why **not print** log\r\n\r\n    ClearAlarmAndResetAttemptsCallable: inside_synchronized\r\n\r\n?\r\n","title":"Can&#39;t sync code inside java class Callable","body":"<p>java 8</p>\n<p>my snippet:</p>\n<pre><code>    private ThreadedApplicationEventPublisher threadedApplicationEventPublisher;\n    private final ExecutorService executorService = Executors.newSingleThreadExecutor();\n    private final List&lt;Long&gt; failedAttemptsList = new \nLinkedList&lt;&gt;();\n    private final Semaphore alarmRaised = new Semaphore(1);\n    \n            Future&lt;Boolean&gt; future = executorService.submit(new ClearAlarmAndResetAttemptsCallable());\n                                \n                                    if (future.get().booleanValue()) {\n                                       // some code here\n                                    }\n         //...\n        \n        \n           public class ClearAlarmAndResetAttemptsCallable implements Callable&lt;Boolean&gt; {\n    \n            @Override\n            public Boolean call() throws Exception {\n                LOGGER.info(&quot;ClearAlarmAndResetAttemptsCallable: start&quot;);\n                while (true) {\n                    long currentTimeSec = System.currentTimeMillis() / 1000;\n                    LOGGER.info(\n                            &quot;ClearAlarmAndResetAttemptsCallable: in_while, currentTimeSec = {}, failedAttemptsList_size = {}&quot;,\n                            currentTimeSec, failedAttemptsList.size());\n                    synchronized (failedAttemptsList) {\n                        LOGGER.info(&quot;ClearAlarmAndResetAttemptsCallable: inside_synchronized&quot;);\n                        Long lastTimeSec = ((LinkedList&lt;Long&gt;) failedAttemptsList).getLast();\n                        long durationSec = currentTimeSec - lastTimeSec;\n                        if (durationSec &gt; timeWindowSec) {\n                            threadedApplicationEventPublisher.publishEvent(new PossibleMCAttackEventPostEvent(this,\n                                    folderService.findNetwork(), EventSeverity.NORMAL, DateUtils.getGmtTime(),\n                                    AttackTypeEnum.REPETITIVE_FAILED_LOGON_ATTEMPTS, &quot;&quot;));\n                            failedAttemptsList.clear();\n                            break;\n                        }\n                    }\n                    try {\n                        Thread.sleep(timeWindowSec * 100L);\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                        break;\n                    }\n                }\n    \n                alarmRaised.release();\n                return true;\n            }\n        }\n</code></pre>\n<p>here result log</p>\n<pre><code> ClearAlarmAndResetAttemptsCallable: start\nClearAlarmAndResetAttemptsCallable: in_while, currentTimeSec = 1648120833, failedAttemptsList_size = 3\n</code></pre>\n<p>The question is: Why <strong>not print</strong> log</p>\n<pre><code>ClearAlarmAndResetAttemptsCallable: inside_synchronized\n</code></pre>\n<p>?</p>\n"},{"tags":["java","swing","jframe","jtextarea"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1648121363,"post_id":71601037,"comment_id":126546502,"body_markdown":"*&quot;JTextArea doesn&#39;t work because the user can write into it directly which I dont want.&quot;* `jTextarea.setEditable(false);` and a tip: always carefully read the API docs of the classes being used.","body":"<i>&quot;JTextArea doesn&#39;t work because the user can write into it directly which I dont want.&quot;</i> <code>jTextarea.setEditable(false);</code> and a tip: always carefully read the API docs of the classes being used."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1648128935,"post_id":71601037,"comment_id":126549650,"body_markdown":"Maybe use a JList to hole the list of books?","body":"Maybe use a JList to hole the list of books?"}],"owner":{"account_id":20049346,"reputation":23,"user_id":14698351,"display_name":"talkingpanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648121284,"creation_date":1648118767,"question_id":71601037,"body_markdown":"I&#39;m creating a Book Tracking application where the user enters in a book and once entered, the book name will show up on the screen. \r\n\r\nI&#39;ve been searching the web for what kind of component would be able to do this for me and I can&#39;t find anything. JTextArea doesn&#39;t work because the user can write into it directly which I dont want. I want the text box to change once the user has finished entering in a book....","title":"Java Swing how to create a text box that updates based on a user entry?","body":"<p>I'm creating a Book Tracking application where the user enters in a book and once entered, the book name will show up on the screen.</p>\n<p>I've been searching the web for what kind of component would be able to do this for me and I can't find anything. JTextArea doesn't work because the user can write into it directly which I dont want. I want the text box to change once the user has finished entering in a book....</p>\n"},{"tags":["java","javascript","angularjs","rest","post"],"answers":[{"tags":[],"owner":{"account_id":3741240,"reputation":1852,"user_id":3110992,"accept_rate":86,"display_name":"Liberat0r"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1403267666,"creation_date":1403267051,"answer_id":24327214,"question_id":24326885,"body_markdown":"Are you sending your &#39;text&#39; in headers on purpose? This is in general not a place for doing this.\r\nFor sending content through POST(or GET) you should use &#39;data&#39; field.\r\nSo:\r\n\r\n    $http({\r\n        url : &quot;/Something/rest/...&quot;,\r\n        method : &quot;POST&quot;,\r\n        data: {\r\n            ...\r\n            &#39;text&#39; : text\r\n        }\r\n    });\r\n\r\n,and on the server side similar change for getting your data from POST. \r\nYou don&#39;t need and shouldn&#39;t mess with headers unless you know what you are doing.","title":"Failed to execute &#39;setRequestHeader&#39; on &#39;XMLHttpRequest&#39; [...] is not a valid HTTP header field value","body":"<p>Are you sending your 'text' in headers on purpose? This is in general not a place for doing this.\nFor sending content through POST(or GET) you should use 'data' field.\nSo:</p>\n\n<pre><code>$http({\n    url : \"/Something/rest/...\",\n    method : \"POST\",\n    data: {\n        ...\n        'text' : text\n    }\n});\n</code></pre>\n\n<p>,and on the server side similar change for getting your data from POST. \nYou don't need and shouldn't mess with headers unless you know what you are doing.</p>\n"},{"tags":[],"owner":{"account_id":4639843,"reputation":1283,"user_id":3760024,"display_name":"Santosh Kadam"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571291253,"creation_date":1567597210,"answer_id":57787626,"question_id":24326885,"body_markdown":"I had faced this problem. Please make sure that in your code header name doesn&#39;t contain space. i.e. &#39;designId &#39; is invalid, as it contain space at end","title":"Failed to execute &#39;setRequestHeader&#39; on &#39;XMLHttpRequest&#39; [...] is not a valid HTTP header field value","body":"<p>I had faced this problem. Please make sure that in your code header name doesn't contain space. i.e. 'designId ' is invalid, as it contain space at end</p>\n"},{"tags":[],"owner":{"account_id":24182780,"reputation":11,"user_id":18143194,"display_name":"Modou k Touray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648121222,"creation_date":1648121222,"answer_id":71601646,"question_id":24326885,"body_markdown":"I experience this a few days back. I simply clear my cookies and other site data and it was able to resolve the issue.","title":"Failed to execute &#39;setRequestHeader&#39; on &#39;XMLHttpRequest&#39; [...] is not a valid HTTP header field value","body":"<p>I experience this a few days back. I simply clear my cookies and other site data and it was able to resolve the issue.</p>\n"}],"owner":{"account_id":3344727,"reputation":2460,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42889,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24327214,"answer_count":3,"score":2,"last_activity_date":1648121222,"creation_date":1403265993,"question_id":24326885,"body_markdown":"I am developing an application with AngularJS (client side) and Java (server side) using RESTful services (with Jersey).\r\n\r\nIn the client I have something like this\r\n\r\n    $http({\r\n\t\t\turl : &quot;/Something/rest/...&quot;,\r\n\t\t\tmethod : &quot;POST&quot;,\r\n\t\t\theaders : {\r\n\t\t\t\t...\r\n\t\t\t\t&#39;text&#39; : text\r\n\t\t\t}\r\n\t\t});\r\n\r\non the server side my Java method header looks like this\r\n\r\n     public JSONObject myMethod(@HeaderParam(&quot;text&quot;) String text [...]) throws JSONException\r\n\r\nAnd I&#39;m getting this error when trying to send a request\r\n\r\n    Error: Failed to execute &#39;setRequestHeader&#39; on &#39;XMLHttpRequest&#39;: &#39;Some text here formatted with \\n and \\t&#39; is not a valid HTTP header field value.\r\n\r\nIs this because of the formatting? Is it because the text is quite long?\r\n\r\nWhat should I change? Please guide me","title":"Failed to execute &#39;setRequestHeader&#39; on &#39;XMLHttpRequest&#39; [...] is not a valid HTTP header field value","body":"<p>I am developing an application with AngularJS (client side) and Java (server side) using RESTful services (with Jersey).</p>\n\n<p>In the client I have something like this</p>\n\n<pre><code>$http({\n        url : \"/Something/rest/...\",\n        method : \"POST\",\n        headers : {\n            ...\n            'text' : text\n        }\n    });\n</code></pre>\n\n<p>on the server side my Java method header looks like this</p>\n\n<pre><code> public JSONObject myMethod(@HeaderParam(\"text\") String text [...]) throws JSONException\n</code></pre>\n\n<p>And I'm getting this error when trying to send a request</p>\n\n<pre><code>Error: Failed to execute 'setRequestHeader' on 'XMLHttpRequest': 'Some text here formatted with \\n and \\t' is not a valid HTTP header field value.\n</code></pre>\n\n<p>Is this because of the formatting? Is it because the text is quite long?</p>\n\n<p>What should I change? Please guide me</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1639159352,"post_id":70308645,"comment_id":124285856,"body_markdown":"Can you elaborate how exactly it doesn&#39;t work?","body":"Can you elaborate how exactly it doesn&#39;t work?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1640524861,"post_id":70308645,"comment_id":124598877,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/70308645/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"answers":[{"tags":[],"owner":{"account_id":6150438,"reputation":106,"user_id":4794985,"display_name":"Jitendra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639165303,"creation_date":1639165303,"answer_id":70309627,"question_id":70308645,"body_markdown":"If the `functionThatThrowsStackOverflowError` method is throwing the error, then your test case should work.\r\n\r\nYou can try following example and then replace the `testMethod()` with your `functionThatThrowsStackOverflowError` method to narrow down the root cause,\r\n\r\n    @Test(expected = StackOverflowError.class)\r\n\tpublic void testError() {\r\n\t\ttestMethod();\r\n\t}\r\n\r\n\tprivate void testMethod() {\r\n\t\tthrow new StackOverflowError(&quot;Error!&quot;);\r\n\t}","title":"How to get the last but one element of an Iterator (Java)","body":"<p>If the <code>functionThatThrowsStackOverflowError</code> method is throwing the error, then your test case should work.</p>\n<p>You can try following example and then replace the <code>testMethod()</code> with your <code>functionThatThrowsStackOverflowError</code> method to narrow down the root cause,</p>\n<pre><code>@Test(expected = StackOverflowError.class)\npublic void testError() {\n    testMethod();\n}\n\nprivate void testMethod() {\n    throw new StackOverflowError(&quot;Error!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":19777883,"reputation":47,"user_id":14483456,"display_name":"Marc Dietmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1648120736,"creation_date":1639159225,"question_id":70308645,"body_markdown":"I&#39;m curios about how an Iterator works. My current goal is to get the last but one element of an Iterator in Java. Is there a way to get this element without changing the Iterator to a Array or List? &lt;br&gt; And if it&#39;s possible how there must be a way to get the last but n element of an Iterator. ","title":"How to get the last but one element of an Iterator (Java)","body":"<p>I'm curios about how an Iterator works. My current goal is to get the last but one element of an Iterator in Java. Is there a way to get this element without changing the Iterator to a Array or List? <br> And if it's possible how there must be a way to get the last but n element of an Iterator.</p>\n"},{"tags":["java","hadoop","etl","apache-nifi"],"comments":[{"owner":{"account_id":26916,"reputation":14004,"user_id":70465,"accept_rate":86,"display_name":"Andy"},"score":0,"creation_date":1593192138,"post_id":62592227,"comment_id":110703631,"body_markdown":"I think you have deployed two single node clusters (i.e. two different clusters, each with one node). The configurations need to be such that they point to the same ZooKeeper cluster and register as members of the same cluster.","body":"I think you have deployed two single node clusters (i.e. two different clusters, each with one node). The configurations need to be such that they point to the same ZooKeeper cluster and register as members of the same cluster."},{"owner":{"account_id":18927442,"reputation":1,"user_id":13810244,"display_name":"kipang"},"score":0,"creation_date":1593228911,"post_id":62592227,"comment_id":110713364,"body_markdown":"Hi @Andy thanks for your response, I already adjust the same zookeeper configuration for each node, also when I see the Cluster info from the main menu, from both of them it only show one same node, so we can make sure its in the same cluster, right?\nfor more details you can download it from above. Please help bro, Ive been stuck at this for about 1 week :&#39;(","body":"Hi @Andy thanks for your response, I already adjust the same zookeeper configuration for each node, also when I see the Cluster info from the main menu, from both of them it only show one same node, so we can make sure its in the same cluster, right? for more details you can download it from above. Please help bro, Ive been stuck at this for about 1 week :&#39;("}],"answers":[{"tags":[],"owner":{"account_id":11901981,"reputation":21,"user_id":8709686,"display_name":"being_sanku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648120733,"creation_date":1648120733,"answer_id":71601527,"question_id":62592227,"body_markdown":"The $NIFI_Directory/state/local folder stores the state of the cluster and utilizes the same even after adding a node. Delete or rename the state folder and restart nifi cluster. This helped me to solve the issue. ","title":"NIFI secured cluster : Setup 2 nodes but only 1 node detected (Apache Nifi 1.11.4)","body":"<p>The $NIFI_Directory/state/local folder stores the state of the cluster and utilizes the same even after adding a node. Delete or rename the state folder and restart nifi cluster. This helped me to solve the issue.</p>\n"}],"owner":{"account_id":18927442,"reputation":1,"user_id":13810244,"display_name":"kipang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648120733,"creation_date":1593165142,"question_id":62592227,"body_markdown":"I need to setup secured nifi cluster using 2 nodes. **Im using latest version of nifi : 1.11.4**\r\n\r\nI thought I successfully build the cluster, because the UI **successfully open for both the https url**, also if I do something (ex: put new processor) in one of them, the other is successfully sync.\r\nBut suddenly I realized the total node detected only 1!\r\nWhere is the other one???\r\nHere is the prove:\r\n\r\n[both webs Successfully open and sync][1]\r\n\r\nI&#39;ve setup all the conf (authorizers.xml, nifi.properties, zookeeper, statemanagement, ssl, etc) properly enough.\r\n\r\nYou can check the conf and logs on below links:\r\n\r\n**NODE 1 conf - bihdpapp399**\r\n\r\n&lt;a href=&quot;https://drive.google.com/file/d/1cGtfwap_Xq_nGYgWKGZSNFzxeTANVCgT/view?usp=sharing&quot;&gt;bihdpapp399&lt;/a&gt;\r\n\r\n**NODE 2 conf - bihdpapp394**\r\n\r\n&lt;a href=&quot;https://drive.google.com/file/d/1MMYSG55jvn7Yqxd044oR27AVGBMe-R41/view?usp=sharing&quot;&gt;bihdpapp394&lt;/a&gt;\r\n\r\nBtw, as you know Im using 2 nodes, but based on the logs the other node doesnt want to vote the election although I already set the max election conf for both nodes = 2, I also have tried to increase the election time from 1m to 5m, but still no vote from the other node:\r\n```\r\n2020-06-25 12:08:16,909 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 59 seconds or after 1 more vote is cast, whichever occurs first.\r\n2020-06-25 12:08:22,012 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 54 seconds or after 1 more vote is cast, whichever occurs first.\r\n2020-06-25 12:08:27,116 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 49 seconds or after 1 more vote is cast, whichever occurs first.\r\n2020-06-25 12:08:32,216 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 44 seconds or after 1 more vote is cast, whichever occurs first.\r\n2020-06-25 12:08:37,317 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 39 seconds or after 1 more vote is cast, whichever occurs first.\r\n2020-06-25 12:08:42,418 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 34 seconds or after 1 more vote is cast, whichever occurs first.\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/IXJ0Y.png","title":"NIFI secured cluster : Setup 2 nodes but only 1 node detected (Apache Nifi 1.11.4)","body":"<p>I need to setup secured nifi cluster using 2 nodes. <strong>Im using latest version of nifi : 1.11.4</strong></p>\n<p>I thought I successfully build the cluster, because the UI <strong>successfully open for both the https url</strong>, also if I do something (ex: put new processor) in one of them, the other is successfully sync.\nBut suddenly I realized the total node detected only 1!\nWhere is the other one???\nHere is the prove:</p>\n<p><a href=\"https://i.stack.imgur.com/IXJ0Y.png\" rel=\"nofollow noreferrer\">both webs Successfully open and sync</a></p>\n<p>I've setup all the conf (authorizers.xml, nifi.properties, zookeeper, statemanagement, ssl, etc) properly enough.</p>\n<p>You can check the conf and logs on below links:</p>\n<p><strong>NODE 1 conf - bihdpapp399</strong></p>\n<p><a href=\"https://drive.google.com/file/d/1cGtfwap_Xq_nGYgWKGZSNFzxeTANVCgT/view?usp=sharing\" rel=\"nofollow noreferrer\">bihdpapp399</a></p>\n<p><strong>NODE 2 conf - bihdpapp394</strong></p>\n<p><a href=\"https://drive.google.com/file/d/1MMYSG55jvn7Yqxd044oR27AVGBMe-R41/view?usp=sharing\" rel=\"nofollow noreferrer\">bihdpapp394</a></p>\n<p>Btw, as you know Im using 2 nodes, but based on the logs the other node doesnt want to vote the election although I already set the max election conf for both nodes = 2, I also have tried to increase the election time from 1m to 5m, but still no vote from the other node:</p>\n<pre><code>2020-06-25 12:08:16,909 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 59 seconds or after 1 more vote is cast, whichever occurs first.\n2020-06-25 12:08:22,012 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 54 seconds or after 1 more vote is cast, whichever occurs first.\n2020-06-25 12:08:27,116 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 49 seconds or after 1 more vote is cast, whichever occurs first.\n2020-06-25 12:08:32,216 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 44 seconds or after 1 more vote is cast, whichever occurs first.\n2020-06-25 12:08:37,317 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 39 seconds or after 1 more vote is cast, whichever occurs first.\n2020-06-25 12:08:42,418 INFO [main] o.a.nifi.controller.StandardFlowService Requested by cluster coordinator to retry connection in 5 seconds with explanation: Cluster is still voting on which Flow is the correct flow for the cluster. Election will complete in 34 seconds or after 1 more vote is cast, whichever occurs first.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2876259,"reputation":470,"user_id":2468241,"accept_rate":75,"display_name":"XII"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648120513,"creation_date":1648120513,"answer_id":71601485,"question_id":71601400,"body_markdown":"So there are 2 approaches :\r\n\r\n1) https://stackoverflow.com/questions/30549489/what-is-this-spring-jpa-open-in-view-true-property-in-spring-boot\r\n\r\nThis is bad for performance and must be avoided at all costs.\r\n\r\n2) use jpql queries to join fetch lazy collections needed in DAO layer so they are available in the controller when you need them to be.\r\n\r\nAll in all, do not use transactional to keep the db session open to fetch lazy collections. Just join fetch lazy collections in db / dao layer to have the data needed for each endpoint available.\r\n\r\nIf you want have a look here for how to use join fetch https://stackoverflow.com/questions/15359306/how-to-fetch-fetchtype-lazy-associations-with-jpa-and-hibernate-in-a-spring-cont","title":"Pass @Transactional method result from Service to Controller Layer Spring Boot","body":"<p>So there are 2 approaches :</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/30549489/what-is-this-spring-jpa-open-in-view-true-property-in-spring-boot\">What is this spring.jpa.open-in-view=true property in Spring Boot?</a></li>\n</ol>\n<p>This is bad for performance and must be avoided at all costs.</p>\n<ol start=\"2\">\n<li>use jpql queries to join fetch lazy collections needed in DAO layer so they are available in the controller when you need them to be.</li>\n</ol>\n<p>All in all, do not use transactional to keep the db session open to fetch lazy collections. Just join fetch lazy collections in db / dao layer to have the data needed for each endpoint available.</p>\n<p>If you want have a look here for how to use join fetch <a href=\"https://stackoverflow.com/questions/15359306/how-to-fetch-fetchtype-lazy-associations-with-jpa-and-hibernate-in-a-spring-cont\">How to fetch FetchType.LAZY associations with JPA and Hibernate in a Spring Controller</a></p>\n"}],"owner":{"account_id":21889052,"reputation":3,"user_id":16176313,"display_name":"leonardo.mazzoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71601485,"answer_count":1,"score":0,"last_activity_date":1648120513,"creation_date":1648120172,"question_id":71601400,"body_markdown":"I&#39;m trying to lazily fetch a ManyToMany relationship (Courses - Students) from the Service and pass the result to the Controller. While i&#39;m in the Service, no `LazyInitializationException` is thrown, thanks to the `@Transactional` annotation. However, while i&#39;m in the Controller the `LazyInitializationException` is thrown (while getting `Course.students`), because the Session was closed. How can i resolve this issue, without eagerly fetch the Collection? &lt;br&gt; &lt;br&gt; That&#39;s my code: &lt;br&gt; &lt;br&gt;  **Couse Model** &lt;br&gt; \r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Course {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;COURSES_STUDENTS&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;COURSE_ID&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;STUDENT_ID&quot;)})\r\n    private Set&lt;Student&gt; students;\r\n\r\n    public Course() {\r\n        this.students = new HashSet&lt;&gt;();\r\n    }\r\n```\r\n**Student Model**\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Student {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;)\r\n    private Set&lt;Course&gt; courses;\r\n\r\n    public Student() {\r\n        this.courses = new HashSet&lt;&gt;();\r\n    }\r\n}\r\n```\r\n**Course Repository**\r\n```\r\n@Repository\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\r\n}\r\n```\r\n**Course Service**\r\n```\r\n@Service\r\npublic class CourseService {\r\n\r\n    private final CourseRepository courseRepository;\r\n\r\n    @Autowired\r\n    public CourseService(CourseRepository courseRepository) {\r\n        this.courseRepository = courseRepository;\r\n    }\r\n\r\n    @Transactional\r\n    public ResponseEntity&lt;List&lt;Course&gt;&gt; findAll() {\r\n        return this.courseRepository.findAll().isEmpty() ? ResponseEntity.noContent().build()\r\n                : ResponseEntity.ok(this.courseRepository.findAll());\r\n    }\r\n}\r\n```\r\n**Course Controller**\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class CourseController {\r\n\r\n    private final CourseService courseService;\r\n\r\n    @Autowired\r\n    public CourseController(CourseService courseService) {\r\n        this.courseService = courseService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Course&gt;&gt; index() {\r\n        return this.courseService.findAll();\r\n    }\r\n}\r\n```\r\n**application.properties**\r\n```\r\nspring.datasource.url=jdbc:h2:~/database;AUTO_SERVER=TRUE\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2\r\nspring.jpa.open-in-view=false\r\nspring.mvc.hiddenmethod.filter.enabled=true\r\nlogging.level.org.springframework.web=DEBUG\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n```\r\nThanks in advance.","title":"Pass @Transactional method result from Service to Controller Layer Spring Boot","body":"<p>I'm trying to lazily fetch a ManyToMany relationship (Courses - Students) from the Service and pass the result to the Controller. While i'm in the Service, no <code>LazyInitializationException</code> is thrown, thanks to the <code>@Transactional</code> annotation. However, while i'm in the Controller the <code>LazyInitializationException</code> is thrown (while getting <code>Course.students</code>), because the Session was closed. How can i resolve this issue, without eagerly fetch the Collection? <br> <br> That's my code: <br> <br>  <strong>Couse Model</strong> <br></p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Course {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column\n    private String name;\n\n    @ManyToMany\n    @JoinTable(name = &quot;COURSES_STUDENTS&quot;,\n            joinColumns = {@JoinColumn(name = &quot;COURSE_ID&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;STUDENT_ID&quot;)})\n    private Set&lt;Student&gt; students;\n\n    public Course() {\n        this.students = new HashSet&lt;&gt;();\n    }\n</code></pre>\n<p><strong>Student Model</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Student {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;students&quot;)\n    private Set&lt;Course&gt; courses;\n\n    public Student() {\n        this.courses = new HashSet&lt;&gt;();\n    }\n}\n</code></pre>\n<p><strong>Course Repository</strong></p>\n<pre><code>@Repository\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\n}\n</code></pre>\n<p><strong>Course Service</strong></p>\n<pre><code>@Service\npublic class CourseService {\n\n    private final CourseRepository courseRepository;\n\n    @Autowired\n    public CourseService(CourseRepository courseRepository) {\n        this.courseRepository = courseRepository;\n    }\n\n    @Transactional\n    public ResponseEntity&lt;List&lt;Course&gt;&gt; findAll() {\n        return this.courseRepository.findAll().isEmpty() ? ResponseEntity.noContent().build()\n                : ResponseEntity.ok(this.courseRepository.findAll());\n    }\n}\n</code></pre>\n<p><strong>Course Controller</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class CourseController {\n\n    private final CourseService courseService;\n\n    @Autowired\n    public CourseController(CourseService courseService) {\n        this.courseService = courseService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Course&gt;&gt; index() {\n        return this.courseService.findAll();\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:h2:~/database;AUTO_SERVER=TRUE\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2\nspring.jpa.open-in-view=false\nspring.mvc.hiddenmethod.filter.enabled=true\nlogging.level.org.springframework.web=DEBUG\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":11170080,"reputation":1139,"user_id":8663316,"display_name":"Faizan Haidar Khan"},"score":0,"creation_date":1647942159,"post_id":71551453,"comment_id":126492077,"body_markdown":"Use Recycler view.","body":"Use Recycler view."}],"answers":[{"tags":[],"owner":{"account_id":23873027,"reputation":66,"user_id":17874494,"display_name":"Jonathan Furminger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648120402,"creation_date":1648120402,"answer_id":71601465,"question_id":71551453,"body_markdown":"As Faizan says, a RecyclerView is probably the best option here. RecyclerView lets you have a list of items (your chores in this case) stored in an ArrayList. \r\n\r\nYou set up how the items will display in the RecyclerView. This is done using a ViewHolder. In your case the ViewHolder will have the name of the chore, the up/down arrows and the count of chores.  \r\n\r\nBecause the RecyclerView is linked to your ArrayList, each chore will display automatically in its own ViewHolder. You can then update the Array with new items as the user adds them. Here is a link to an example:\r\n\r\nhttp://www.digitstory.com/wp-content/uploads/2017/02/android_recyclerview.jpg\r\n \r\nFor more details, have a look here:\r\n\r\nhttps://developer.android.com/guide/topics/ui/layout/recyclerview\r\n\r\nTo get started, you could try YouTube and seach for &quot;RecyclerView Android Studio&quot;. Work through a few example tutorials to get the concept, and try to adapt them to your needs.\r\n\r\n","title":"How to dynamically add a group of buttons to android app - With categories","body":"<p>As Faizan says, a RecyclerView is probably the best option here. RecyclerView lets you have a list of items (your chores in this case) stored in an ArrayList.</p>\n<p>You set up how the items will display in the RecyclerView. This is done using a ViewHolder. In your case the ViewHolder will have the name of the chore, the up/down arrows and the count of chores.</p>\n<p>Because the RecyclerView is linked to your ArrayList, each chore will display automatically in its own ViewHolder. You can then update the Array with new items as the user adds them. Here is a link to an example:</p>\n<p><a href=\"http://www.digitstory.com/wp-content/uploads/2017/02/android_recyclerview.jpg\" rel=\"nofollow noreferrer\">http://www.digitstory.com/wp-content/uploads/2017/02/android_recyclerview.jpg</a></p>\n<p>For more details, have a look here:</p>\n<p><a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/layout/recyclerview</a></p>\n<p>To get started, you could try YouTube and seach for &quot;RecyclerView Android Studio&quot;. Work through a few example tutorials to get the concept, and try to adapt them to your needs.</p>\n"}],"owner":{"account_id":24623303,"reputation":3,"user_id":18523326,"display_name":"Liam Hayes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71601465,"answer_count":1,"score":0,"last_activity_date":1648120402,"creation_date":1647819091,"question_id":71551453,"body_markdown":"I&#39;m a beginner to android and am working on an app to organize a chore counting system and I&#39;m having some issues with my next step. I am trying to give users the option to input different chores at their choice within the app (ideally they would start with no chores then input them on their own). For each chore they enter, 4 new elements need to show up (the name of chore, increase arrow, decrease arrow and chore count number). I am also trying to keep those new additions organized based on if they fall under &quot;*kitchen, bathroom or general*&quot; (user would select that when they add the chore). I tried to use groups and tags but couldn&#39;t figure out how to make it work. \r\n\r\n    `package com.example.testbasic;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        int integer = 0;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        public void increase(View view) {\r\n            integer = integer + 1;\r\n            System.out.println(view.getTag());\r\n            display(integer);\r\n    \r\n    \r\n        }\r\n        public void decrease(View view) {\r\n            integer = integer - 1;\r\n            System.out.println(view.getTag());\r\n            display(integer);\r\n        }\r\n    \r\n        private void display(int number) {\r\n            TextView displayInteger = findViewById(R.id.integer_number);\r\n            displayInteger.setText(&quot;&quot; + number);\r\n        }\r\n    }\r\n    `\r\nSnip of the XML layout \r\n&#39;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fillViewport=&quot;true&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;20dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                tools:ignore=&quot;UselessParent&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView&quot;\r\n                    android:layout_width=&quot;fill_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:text=&quot;@string/welcome_to_the_chore_calculator&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/Kitchen&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;15dp&quot;\r\n                    android:layout_marginTop=&quot;50dp&quot;\r\n                    android:text=&quot;@string/kitchen&quot; /&gt;\r\n    \r\n                &lt;androidx.constraintlayout.widget.Group\r\n                    android:id=&quot;@+id/EmptyDishRackG&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:visibility=&quot;visible&quot;\r\n                    app:constraint_referenced_ids=&quot;tv_EmptyDishRack,IncreaseEDR,DecreaseEDR,integer_numberEDR&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv_EmptyDishRack&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/Kitchen&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_alignParentEnd=&quot;true&quot;\r\n                    android:layout_marginStart=&quot;15dp&quot;\r\n                    android:layout_marginTop=&quot;1dp&quot;\r\n                    android:layout_marginEnd=&quot;140dp&quot;\r\n                    android:background=&quot;@android:drawable/editbox_background&quot;\r\n                    android:drawablePadding=&quot;16dp&quot;\r\n                    android:hint=&quot;@string/empty_dish_rack&quot;\r\n                    android:padding=&quot;12dp&quot;\r\n                    tools:ignore=&quot;UseCompatTextViewDrawableXml&quot; /&gt;\r\n    \r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/IncreaseEDR&quot;\r\n                    android:layout_width=&quot;50dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_alignTop=&quot;@+id/tv_EmptyDishRack&quot;\r\n                    android:layout_alignParentEnd=&quot;true&quot;\r\n                    android:layout_marginStart=&quot;1dp&quot;\r\n                    android:layout_marginTop=&quot;-2dp&quot;\r\n                    android:layout_marginEnd=&quot;15dp&quot;\r\n                    android:onClick=&quot;increase&quot;\r\n                    android:tag=&quot;EmptyDishRack&quot;\r\n                    app:srcCompat=&quot;@android:drawable/arrow_up_float&quot;\r\n                    tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n    \r\n                &lt;ImageButton\r\n                    android:id=&quot;@+id/DecreaseEDR&quot;\r\n                    android:layout_width=&quot;50dp&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_alignTop=&quot;@+id/tv_EmptyDishRack&quot;\r\n                    android:layout_marginStart=&quot;-140dp&quot;\r\n                    android:layout_marginTop=&quot;-2dp&quot;\r\n                    android:layout_marginEnd=&quot;32dp&quot;\r\n                    android:layout_toEndOf=&quot;@+id/tv_EmptyDishRack&quot;\r\n                    android:onClick=&quot;decrease&quot;\r\n                    android:tag=&quot;EmptyDishRack&quot;\r\n                    app:srcCompat=&quot;@android:drawable/arrow_down_float&quot;\r\n                    tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/integer_numberEDR&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignTop=&quot;@+id/tv_EmptyDishRack&quot;\r\n                    android:layout_alignBottom=&quot;@+id/tv_EmptyDishRack&quot;\r\n                    android:layout_marginStart=&quot;-31dp&quot;\r\n                    android:layout_marginTop=&quot;0dp&quot;\r\n                    android:layout_marginEnd=&quot;0dp&quot;\r\n                    android:layout_marginBottom=&quot;0dp&quot;\r\n                    android:layout_toStartOf=&quot;@+id/IncreaseEDR&quot;\r\n                    android:layout_toEndOf=&quot;@+id/DecreaseEDR&quot;\r\n                    android:text=&quot;@string/_0&quot;\r\n                    android:textAlignment=&quot;center&quot;\r\n                    android:textSize=&quot;30sp&quot; /&gt;&#39;\r\nHere is how it looks so far\r\n \r\n[Up and down arrows][1]\r\n[Other categories][2]\r\n\r\n*^the chores that are currently there are just examples users may have different ones*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oPVRF.jpg\r\n\r\n  [2]: https://i.stack.imgur.com/bY7lJ.jpg\r\n\r\nAny help would be greatly appreciated. ","title":"How to dynamically add a group of buttons to android app - With categories","body":"<p>I'm a beginner to android and am working on an app to organize a chore counting system and I'm having some issues with my next step. I am trying to give users the option to input different chores at their choice within the app (ideally they would start with no chores then input them on their own). For each chore they enter, 4 new elements need to show up (the name of chore, increase arrow, decrease arrow and chore count number). I am also trying to keep those new additions organized based on if they fall under &quot;<em>kitchen, bathroom or general</em>&quot; (user would select that when they add the chore). I tried to use groups and tags but couldn't figure out how to make it work.</p>\n<pre><code>`package com.example.testbasic;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n    int integer = 0;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void increase(View view) {\n        integer = integer + 1;\n        System.out.println(view.getTag());\n        display(integer);\n\n\n    }\n    public void decrease(View view) {\n        integer = integer - 1;\n        System.out.println(view.getTag());\n        display(integer);\n    }\n\n    private void display(int number) {\n        TextView displayInteger = findViewById(R.id.integer_number);\n        displayInteger.setText(&quot;&quot; + number);\n    }\n}\n`\n</code></pre>\n<p>Snip of the XML layout\n'</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:fillViewport=&quot;true&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;20dp&quot;\n            android:orientation=&quot;vertical&quot;\n            tools:ignore=&quot;UselessParent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/textView&quot;\n                android:layout_width=&quot;fill_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:text=&quot;@string/welcome_to_the_chore_calculator&quot;\n                android:textSize=&quot;20sp&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/Kitchen&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;15dp&quot;\n                android:layout_marginTop=&quot;50dp&quot;\n                android:text=&quot;@string/kitchen&quot; /&gt;\n\n            &lt;androidx.constraintlayout.widget.Group\n                android:id=&quot;@+id/EmptyDishRackG&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:visibility=&quot;visible&quot;\n                app:constraint_referenced_ids=&quot;tv_EmptyDishRack,IncreaseEDR,DecreaseEDR,integer_numberEDR&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_EmptyDishRack&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/Kitchen&quot;\n                android:layout_alignParentStart=&quot;true&quot;\n                android:layout_alignParentEnd=&quot;true&quot;\n                android:layout_marginStart=&quot;15dp&quot;\n                android:layout_marginTop=&quot;1dp&quot;\n                android:layout_marginEnd=&quot;140dp&quot;\n                android:background=&quot;@android:drawable/editbox_background&quot;\n                android:drawablePadding=&quot;16dp&quot;\n                android:hint=&quot;@string/empty_dish_rack&quot;\n                android:padding=&quot;12dp&quot;\n                tools:ignore=&quot;UseCompatTextViewDrawableXml&quot; /&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/IncreaseEDR&quot;\n                android:layout_width=&quot;50dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:layout_alignTop=&quot;@+id/tv_EmptyDishRack&quot;\n                android:layout_alignParentEnd=&quot;true&quot;\n                android:layout_marginStart=&quot;1dp&quot;\n                android:layout_marginTop=&quot;-2dp&quot;\n                android:layout_marginEnd=&quot;15dp&quot;\n                android:onClick=&quot;increase&quot;\n                android:tag=&quot;EmptyDishRack&quot;\n                app:srcCompat=&quot;@android:drawable/arrow_up_float&quot;\n                tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n\n            &lt;ImageButton\n                android:id=&quot;@+id/DecreaseEDR&quot;\n                android:layout_width=&quot;50dp&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:layout_alignTop=&quot;@+id/tv_EmptyDishRack&quot;\n                android:layout_marginStart=&quot;-140dp&quot;\n                android:layout_marginTop=&quot;-2dp&quot;\n                android:layout_marginEnd=&quot;32dp&quot;\n                android:layout_toEndOf=&quot;@+id/tv_EmptyDishRack&quot;\n                android:onClick=&quot;decrease&quot;\n                android:tag=&quot;EmptyDishRack&quot;\n                app:srcCompat=&quot;@android:drawable/arrow_down_float&quot;\n                tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/integer_numberEDR&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_alignTop=&quot;@+id/tv_EmptyDishRack&quot;\n                android:layout_alignBottom=&quot;@+id/tv_EmptyDishRack&quot;\n                android:layout_marginStart=&quot;-31dp&quot;\n                android:layout_marginTop=&quot;0dp&quot;\n                android:layout_marginEnd=&quot;0dp&quot;\n                android:layout_marginBottom=&quot;0dp&quot;\n                android:layout_toStartOf=&quot;@+id/IncreaseEDR&quot;\n                android:layout_toEndOf=&quot;@+id/DecreaseEDR&quot;\n                android:text=&quot;@string/_0&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textSize=&quot;30sp&quot; /&gt;'\n</code></pre>\n<p>Here is how it looks so far</p>\n<p><a href=\"https://i.stack.imgur.com/oPVRF.jpg\" rel=\"nofollow noreferrer\">Up and down arrows</a>\n<a href=\"https://i.stack.imgur.com/bY7lJ.jpg\" rel=\"nofollow noreferrer\">Other categories</a></p>\n<p><em>^the chores that are currently there are just examples users may have different ones</em></p>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22857308,"reputation":126,"user_id":17001971,"display_name":"notrayen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648062300,"creation_date":1648062300,"answer_id":71592707,"question_id":71588272,"body_markdown":"You have to place your buttons in a group tag and then add checkableBehavior\r\n\r\n&gt;     &lt;group android:checkableBehavior=&quot;single&quot;&gt; PLACE HERE YOUR BUTTONS &lt;/group&gt;\r\n If you would like to check which button is clicked, you have to first give each button an ID and then check if it is clicked or not. here&#39;s an example:\r\n\r\n    public void onClick(View v) {\r\n    switch(v.getId())\r\n    {\r\n    case R.id.button_a_id:\r\n    // handle button A click;\r\n    break;\r\n    case R.id.button_b_id:\r\n    // handle button B click;\r\n    break;\r\n    default:\r\n    throw new RuntimeException(&quot;Unknow button ID&quot;);\r\n    }\r\n\r\n","title":"Android Dynamic Button Change background","body":"<p>You have to place your buttons in a group tag and then add checkableBehavior</p>\n<blockquote>\n<pre><code>&lt;group android:checkableBehavior=&quot;single&quot;&gt; PLACE HERE YOUR BUTTONS &lt;/group&gt;\n</code></pre>\n</blockquote>\n<p>If you would like to check which button is clicked, you have to first give each button an ID and then check if it is clicked or not. here's an example:</p>\n<pre><code>public void onClick(View v) {\nswitch(v.getId())\n{\ncase R.id.button_a_id:\n// handle button A click;\nbreak;\ncase R.id.button_b_id:\n// handle button B click;\nbreak;\ndefault:\nthrow new RuntimeException(&quot;Unknow button ID&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":22988119,"reputation":867,"user_id":17114025,"display_name":"DL Studio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648120358,"creation_date":1648043032,"question_id":71588272,"body_markdown":"Can anyone help me to change the background color of each button click? But I need to select only 1 button, If 1 button is selected, all of the other buttons will become unselected. The code is working fine and but I am willing to change this code if needed, I can get the unique id of each button when I clicked, see the image below. As you can see Toast 902 is the unique buttonId\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMyActivity\r\n    \r\n    GridLayout mGrid1 = findViewById(R.id.grid_layout);\r\n    View dynamicCard;\r\n    CardView myCard;\r\n    TextView mTextView;\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n    int setCardId;\r\n    \r\n    \r\n    for(int i=0; i&lt;7; i++){\r\n    \taddGridView(i, stringList);\r\n    }\r\n    \r\n    private void addGridView(int index, String name) {\r\n        initializeDynamicButton();\r\n        mTextView.setText(name);\r\n        setCardId++;\r\n        myCard.setId(setCardId);\r\n    \t\t\r\n    \tmGrid1.addView(dynamicCard);\r\n    \t\r\n        myCard.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n    \r\n                int cardViewId = view.getId();\r\n                Toast.makeText(getContext(), &quot;&quot; + cardViewId, Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n        });\r\n    }\r\n    \r\n    private void initializeDynamicButton() {\r\n        dynamicCard = getLayoutInflater().inflate(R.layout.dynamic_layout_button, null, false);\r\n        mTextView = dynamicCard.findViewById(R.id.dynamic_label);\r\n        myCard = dynamicCard.findViewById(R.id.myCardView);\r\n    }\r\n\r\n\r\n\r\nMy XML\r\n\r\n    &lt;LinearLayout\r\n    \tandroid:id=&quot;@+id/linear_layout&quot;\r\n    \tandroid:layout_width=&quot;match_parent&quot;\r\n    \tandroid:layout_height=&quot;wrap_content&quot;\r\n    \tandroid:layout_marginStart=&quot;@dimen/padding_medium&quot;\r\n    \tandroid:layout_marginEnd=&quot;@dimen/padding_xl&quot;\r\n    \tandroid:paddingEnd=&quot;@dimen/padding_small&quot;\r\n    \tandroid:gravity=&quot;start&quot;\r\n    \tandroid:orientation=&quot;vertical&quot;\r\n    \ttools:ignore=&quot;RtlSymmetry&quot;&gt;\r\n    \t&lt;GridLayout\r\n    \t\tandroid:id=&quot;@+id/grid_layout&quot;\r\n    \t\tandroid:layout_width=&quot;match_parent&quot;\r\n    \t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\tandroid:layout_gravity=&quot;start&quot;\r\n    \t\tandroid:columnCount=&quot;3&quot;\r\n    \t\ttools:ignore=&quot;RtlSymmetry&quot;&gt;\r\n    \t&lt;/GridLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nMy Drawable\r\ndynamic_layout_button.xml\r\n\r\n\r\n    &lt;FrameLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:padding=&quot;@dimen/padding_3dp&quot;\r\n        tools:ignore=&quot;RtlSymmetry&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/myCardView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:cardCornerRadius=&quot;@dimen/padding_small&quot;\r\n            app:contentPadding=&quot;@dimen/padding_2dp&quot;\r\n            android:layout_marginTop=&quot;@dimen/padding_large&quot;\r\n            android:layout_marginStart=&quot;@dimen/padding_medium&quot;\r\n            &gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/dynamic_label&quot;\r\n                android:layout_width=&quot;120dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:text=&quot;@string/flavor&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textSize=&quot;@dimen/text_medium&quot;\r\n                android:gravity=&quot;center&quot;\r\n                /&gt;\r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TdsiR.png","title":"Android Dynamic Button Change background","body":"<p>Can anyone help me to change the background color of each button click? But I need to select only 1 button, If 1 button is selected, all of the other buttons will become unselected. The code is working fine and but I am willing to change this code if needed, I can get the unique id of each button when I clicked, see the image below. As you can see Toast 902 is the unique buttonId</p>\n<p><a href=\"https://i.stack.imgur.com/TdsiR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TdsiR.png\" alt=\"enter image description here\" /></a></p>\n<p>MyActivity</p>\n<pre><code>GridLayout mGrid1 = findViewById(R.id.grid_layout);\nView dynamicCard;\nCardView myCard;\nTextView mTextView;\nList&lt;String&gt; stringList = new ArrayList&lt;&gt;();\nint setCardId;\n\n\nfor(int i=0; i&lt;7; i++){\n    addGridView(i, stringList);\n}\n\nprivate void addGridView(int index, String name) {\n    initializeDynamicButton();\n    mTextView.setText(name);\n    setCardId++;\n    myCard.setId(setCardId);\n        \n    mGrid1.addView(dynamicCard);\n    \n    myCard.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            int cardViewId = view.getId();\n            Toast.makeText(getContext(), &quot;&quot; + cardViewId, Toast.LENGTH_SHORT).show();\n\n        }\n    });\n}\n\nprivate void initializeDynamicButton() {\n    dynamicCard = getLayoutInflater().inflate(R.layout.dynamic_layout_button, null, false);\n    mTextView = dynamicCard.findViewById(R.id.dynamic_label);\n    myCard = dynamicCard.findViewById(R.id.myCardView);\n}\n</code></pre>\n<p>My XML</p>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/linear_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;@dimen/padding_medium&quot;\n    android:layout_marginEnd=&quot;@dimen/padding_xl&quot;\n    android:paddingEnd=&quot;@dimen/padding_small&quot;\n    android:gravity=&quot;start&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:ignore=&quot;RtlSymmetry&quot;&gt;\n    &lt;GridLayout\n        android:id=&quot;@+id/grid_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:columnCount=&quot;3&quot;\n        tools:ignore=&quot;RtlSymmetry&quot;&gt;\n    &lt;/GridLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>My Drawable\ndynamic_layout_button.xml</p>\n<pre><code>&lt;FrameLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:padding=&quot;@dimen/padding_3dp&quot;\n    tools:ignore=&quot;RtlSymmetry&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/myCardView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:cardCornerRadius=&quot;@dimen/padding_small&quot;\n        app:contentPadding=&quot;@dimen/padding_2dp&quot;\n        android:layout_marginTop=&quot;@dimen/padding_large&quot;\n        android:layout_marginStart=&quot;@dimen/padding_medium&quot;\n        &gt;\n        &lt;TextView\n            android:id=&quot;@+id/dynamic_label&quot;\n            android:layout_width=&quot;120dp&quot;\n            android:layout_height=&quot;40dp&quot;\n            android:text=&quot;@string/flavor&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:textSize=&quot;@dimen/text_medium&quot;\n            android:gravity=&quot;center&quot;\n            /&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":17656975,"reputation":145,"user_id":12816336,"display_name":"Dan Serb"},"score":1,"creation_date":1648109938,"post_id":71598876,"comment_id":126542244,"body_markdown":"First of all you should not put api keys in stack overflow questions.","body":"First of all you should not put api keys in stack overflow questions."},{"owner":{"account_id":19442387,"reputation":39,"user_id":14220554,"display_name":"Art"},"score":0,"creation_date":1648110641,"post_id":71598876,"comment_id":126542500,"body_markdown":"@DanSerb whoop nice catch! Forgot about they key.","body":"@DanSerb whoop nice catch! Forgot about they key."},{"owner":{"account_id":17656975,"reputation":145,"user_id":12816336,"display_name":"Dan Serb"},"score":0,"creation_date":1648111217,"post_id":71598876,"comment_id":126542721,"body_markdown":"Response class should be a POJO, why would you inject this using @Autowired?\nClasses used to store entities or in this case a response, should not be beans, you should instantiate those per api call, so it should be a member of the actual method, not of the class. You don&#39;t need to declare these classes as beans.","body":"Response class should be a POJO, why would you inject this using @Autowired? Classes used to store entities or in this case a response, should not be beans, you should instantiate those per api call, so it should be a member of the actual method, not of the class. You don&#39;t need to declare these classes as beans."},{"owner":{"account_id":19442387,"reputation":39,"user_id":14220554,"display_name":"Art"},"score":0,"creation_date":1648111919,"post_id":71598876,"comment_id":126542990,"body_markdown":"The @Autowired line was left from an earlier try, I forgot to delete it. I reassigned the romaniaData reference to null lower and instantiate it in the try block. I have edited the question to remove the 2 beans. The result is the same, anyway.","body":"The @Autowired line was left from an earlier try, I forgot to delete it. I reassigned the romaniaData reference to null lower and instantiate it in the try block. I have edited the question to remove the 2 beans. The result is the same, anyway."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1648112533,"post_id":71598876,"comment_id":126543206,"body_markdown":"Your `Response` is a only a part of entire response you receive from API. It represents only  single element in the `response` property(which is array as well) in the json, not the entire json.","body":"Your <code>Response</code> is a only a part of entire response you receive from API. It represents only  single element in the <code>response</code> property(which is array as well) in the json, not the entire json."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1648112676,"post_id":71598876,"comment_id":126543259,"body_markdown":"Btw your API key can still be seen in the post history. I think it would be best to change it.","body":"Btw your API key can still be seen in the post history. I think it would be best to change it."},{"owner":{"account_id":19442387,"reputation":39,"user_id":14220554,"display_name":"Art"},"score":0,"creation_date":1648113206,"post_id":71598876,"comment_id":126543440,"body_markdown":"@Chaosfire thanks I changed it and deleted the old one. Could you please advise in an answer how to approach the configuration ? It&#39;s my first time attempting such an app after taking a Spring Boot course and I&#39;m not sure how to proceed. Been researching for the past couple of days but no relevant resources available on how to consume external API&#39;s except from CSV files.","body":"@Chaosfire thanks I changed it and deleted the old one. Could you please advise in an answer how to approach the configuration ? It&#39;s my first time attempting such an app after taking a Spring Boot course and I&#39;m not sure how to proceed. Been researching for the past couple of days but no relevant resources available on how to consume external API&#39;s except from CSV files."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648116247,"creation_date":1648116247,"answer_id":71600392,"question_id":71598876,"body_markdown":"Your java class needs to be exact representation of received json. Let&#39;s call it `Wrapper`:\r\n```\r\npublic class Wrapper {\r\n\r\n    @JsonProperty(&quot;response&quot;)\r\n    private List&lt;Response&gt; responses;\r\n\r\n    public List&lt;Response&gt; getResponses() {\r\n        return this.responses;\r\n    }\r\n\r\n    public void setResponses(List&lt;Response&gt; responses) {\r\n        this.responses = responses;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Wrapper{&quot; +\r\n                &quot;responses=&quot; + responses +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nI am omiting some properties - `get`, `results`, etc. It looks you don&#39;t need them. Then deserialization will look like this:\r\n```\r\nWrapper data = null;\r\ntry {\r\n    data = new ObjectMapper()\r\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n            .readValue(&quot;json&quot;, Wrapper.class);\r\n} catch (IOException e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n}\r\nSystem.out.println(data);\r\n```\r\nFew notes:\r\n\r\n 1. If json property name matches field name in class, there is no need for `@JsonProperty`\r\n 2. For tests field annotation should be - @JsonProperty(&quot;tests&quot;). Property is `tests`, not `test`\r\n\r\nIf you really want to throw the rest of the data, and only need `response` property, then you need to write custom deserializer and work the json tree. You can see how to do it in [my answer here][1], or [this guide][2], for example. Like this you can parse the response json to your class, even if their structures do not match.\r\n\r\n  [1]: https://stackoverflow.com/questions/70897528/json-deserialize-in-java-for-different-type-of-variable-in-same-object/70903626#70903626\r\n  [2]: https://www.baeldung.com/jackson-deserialization","title":"Consuming external API and converting from JSON string to bean doesn&#39;t initialize properties. NULL object attributes. Spring Boot, Maven","body":"<p>Your java class needs to be exact representation of received json. Let's call it <code>Wrapper</code>:</p>\n<pre><code>public class Wrapper {\n\n    @JsonProperty(&quot;response&quot;)\n    private List&lt;Response&gt; responses;\n\n    public List&lt;Response&gt; getResponses() {\n        return this.responses;\n    }\n\n    public void setResponses(List&lt;Response&gt; responses) {\n        this.responses = responses;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Wrapper{&quot; +\n                &quot;responses=&quot; + responses +\n                '}';\n    }\n}\n</code></pre>\n<p>I am omiting some properties - <code>get</code>, <code>results</code>, etc. It looks you don't need them. Then deserialization will look like this:</p>\n<pre><code>Wrapper data = null;\ntry {\n    data = new ObjectMapper()\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n            .readValue(&quot;json&quot;, Wrapper.class);\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nSystem.out.println(data);\n</code></pre>\n<p>Few notes:</p>\n<ol>\n<li>If json property name matches field name in class, there is no need for <code>@JsonProperty</code></li>\n<li>For tests field annotation should be - @JsonProperty(&quot;tests&quot;). Property is <code>tests</code>, not <code>test</code></li>\n</ol>\n<p>If you really want to throw the rest of the data, and only need <code>response</code> property, then you need to write custom deserializer and work the json tree. You can see how to do it in <a href=\"https://stackoverflow.com/questions/70897528/json-deserialize-in-java-for-different-type-of-variable-in-same-object/70903626#70903626\">my answer here</a>, or <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">this guide</a>, for example. Like this you can parse the response json to your class, even if their structures do not match.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648120116,"creation_date":1648117766,"answer_id":71600802,"question_id":71598876,"body_markdown":"Yes, your class should be like this:\r\n\r\n    public class ResponseWrapper {\r\n      public List&lt;Response&gt; response;\r\n    \r\n      public setResponse(List&lt;Response&gt; response) {\r\n        this.response= response;\r\n      }\r\n      public List&lt;Response&gt; getResponse() {\r\n        return response;\r\n      }\r\n    }\r\n\r\nAnd class `Response` is your class as you published it. Your class have to have the same structure as JSON","title":"Consuming external API and converting from JSON string to bean doesn&#39;t initialize properties. NULL object attributes. Spring Boot, Maven","body":"<p>Yes, your class should be like this:</p>\n<pre><code>public class ResponseWrapper {\n  public List&lt;Response&gt; response;\n\n  public setResponse(List&lt;Response&gt; response) {\n    this.response= response;\n  }\n  public List&lt;Response&gt; getResponse() {\n    return response;\n  }\n}\n</code></pre>\n<p>And class <code>Response</code> is your class as you published it. Your class have to have the same structure as JSON</p>\n"}],"owner":{"account_id":19442387,"reputation":39,"user_id":14220554,"display_name":"Art"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2083,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71600392,"answer_count":2,"score":0,"last_activity_date":1648120116,"creation_date":1648109091,"question_id":71598876,"body_markdown":"This is the response I get from the API.\r\n\r\n{&quot;get&quot;:&quot;statistics&quot;,&quot;parameters&quot;:{&quot;country&quot;:&quot;romania&quot;},&quot;errors&quot;:[],&quot;results&quot;:1,&quot;response&quot;:[{&quot;continent&quot;:&quot;Europe&quot;,&quot;country&quot;:&quot;Romania&quot;,&quot;population&quot;:19016885,&quot;cases&quot;:{&quot;new&quot;:&quot;+4521&quot;,&quot;active&quot;:156487,&quot;critical&quot;:431,&quot;recovered&quot;:2606660,&quot;1M_pop&quot;:&quot;148707&quot;,&quot;total&quot;:2827936},&quot;deaths&quot;:{&quot;new&quot;:&quot;+35&quot;,&quot;1M_pop&quot;:&quot;3407&quot;,&quot;total&quot;:64789},&quot;tests&quot;:{&quot;1M_pop&quot;:&quot;1149381&quot;,&quot;total&quot;:21857638},&quot;day&quot;:&quot;2022-03-24&quot;,&quot;time&quot;:&quot;2022-03-24T07:30:04+00:00&quot;}]}\r\n\r\n```\r\n@RestController\r\npublic class CovidTrackerRestController {\r\n\t\r\n\t@GetMapping(&quot;/hello&quot;)\r\n\tpublic String showCovidInformation() {\r\n\t\t\r\n\t\t// connect to a covid database\r\n\t\t\t\t\t\t\r\n\t\tHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(&quot;https://covid-193.p.rapidapi.com/statistics?country=romania&quot;))\r\n\t\t\t\t.header(&quot;X-RapidAPI-Host&quot;, &quot;covid-193.p.rapidapi.com&quot;)\r\n\t\t\t\t.header(&quot;X-RapidAPI-Key&quot;, &quot;mykey&quot;)\r\n\t\t\t\t.method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n\t\t\t\t.build();\r\n\t\tHttpResponse&lt;String&gt; response = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tresponse = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\r\n\t\t} catch (IOException | InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\t\t\t\t\r\n\t\t// get the information\r\n\t\tString responseString = response.body();\r\n\t\tSystem.out.println(responseString);\r\n\t\t\r\n\t\tResponse romaniaData = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tromaniaData = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n\t\t\t\t\t\t\t.readValue(responseString, Response.class);\r\n\t\t} catch (JsonProcessingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\t\r\n\t\t\r\n\t\t// format the information\r\n\t\tSystem.out.println(romaniaData);\r\n\t\t\t\t\r\n\t\t\r\n\t\t// send the information to html page\r\n\t\treturn &quot;/tracker&quot;;\r\n\t}\r\n}\r\n```\r\nAnd this is my Bean class which is annotated with @Bean in the configurator class alonside the RestTemplate bean. Other properties such as Cases, Deaths etc are configured same as Response class except being declared as @Bean in the configurator because from what I know once I declare a class @Bean then other references contained automatically become beans as well.\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Response {\r\n\r\n\t@JsonProperty(&quot;country&quot;)\r\n\tprivate String country;\r\n\t\r\n\t@JsonProperty(&quot;cases&quot;)\r\n\tprivate Cases cases;\r\n\t\r\n\t@JsonProperty(&quot;deaths&quot;)\r\n\tprivate Deaths deaths;\r\n\t\r\n\t@JsonProperty(&quot;day&quot;)\r\n\tprivate String day;\r\n\t\r\n\t@JsonProperty(&quot;time&quot;)\r\n\tprivate String time;\r\n\t\r\n\t@JsonProperty(&quot;test&quot;)\r\n\tprivate Tests tests;\r\n\t\r\n\tpublic String getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\tpublic void setCountry(String country) {\r\n\t\tthis.country = country;\r\n\t}\r\n```","title":"Consuming external API and converting from JSON string to bean doesn&#39;t initialize properties. NULL object attributes. Spring Boot, Maven","body":"<p>This is the response I get from the API.</p>\n<p>{&quot;get&quot;:&quot;statistics&quot;,&quot;parameters&quot;:{&quot;country&quot;:&quot;romania&quot;},&quot;errors&quot;:[],&quot;results&quot;:1,&quot;response&quot;:[{&quot;continent&quot;:&quot;Europe&quot;,&quot;country&quot;:&quot;Romania&quot;,&quot;population&quot;:19016885,&quot;cases&quot;:{&quot;new&quot;:&quot;+4521&quot;,&quot;active&quot;:156487,&quot;critical&quot;:431,&quot;recovered&quot;:2606660,&quot;1M_pop&quot;:&quot;148707&quot;,&quot;total&quot;:2827936},&quot;deaths&quot;:{&quot;new&quot;:&quot;+35&quot;,&quot;1M_pop&quot;:&quot;3407&quot;,&quot;total&quot;:64789},&quot;tests&quot;:{&quot;1M_pop&quot;:&quot;1149381&quot;,&quot;total&quot;:21857638},&quot;day&quot;:&quot;2022-03-24&quot;,&quot;time&quot;:&quot;2022-03-24T07:30:04+00:00&quot;}]}</p>\n<pre><code>@RestController\npublic class CovidTrackerRestController {\n    \n    @GetMapping(&quot;/hello&quot;)\n    public String showCovidInformation() {\n        \n        // connect to a covid database\n                        \n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://covid-193.p.rapidapi.com/statistics?country=romania&quot;))\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;covid-193.p.rapidapi.com&quot;)\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;mykey&quot;)\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\n        HttpResponse&lt;String&gt; response = null;\n        \n        try {\n            response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\n        } catch (IOException | InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n                        \n        // get the information\n        String responseString = response.body();\n        System.out.println(responseString);\n        \n        Response romaniaData = null;\n        \n        try {\n            romaniaData = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                            .readValue(responseString, Response.class);\n        } catch (JsonProcessingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n            \n        \n        // format the information\n        System.out.println(romaniaData);\n                \n        \n        // send the information to html page\n        return &quot;/tracker&quot;;\n    }\n}\n</code></pre>\n<p>And this is my Bean class which is annotated with @Bean in the configurator class alonside the RestTemplate bean. Other properties such as Cases, Deaths etc are configured same as Response class except being declared as @Bean in the configurator because from what I know once I declare a class @Bean then other references contained automatically become beans as well.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Response {\n\n    @JsonProperty(&quot;country&quot;)\n    private String country;\n    \n    @JsonProperty(&quot;cases&quot;)\n    private Cases cases;\n    \n    @JsonProperty(&quot;deaths&quot;)\n    private Deaths deaths;\n    \n    @JsonProperty(&quot;day&quot;)\n    private String day;\n    \n    @JsonProperty(&quot;time&quot;)\n    private String time;\n    \n    @JsonProperty(&quot;test&quot;)\n    private Tests tests;\n    \n    public String getCountry() {\n        return country;\n    }\n    public void setCountry(String country) {\n        this.country = country;\n    }\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648115351,"post_id":71598791,"comment_id":126544212,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648120089,"creation_date":1648117002,"answer_id":71600581,"question_id":71598791,"body_markdown":"Its a database **operations** **level** exception using **EntityManager** or any other session manager (which is not your case) as exception suggest, how ever it can have many reasons such database has **closed** the **connection** or network terminated the connection socket, and to solve it you can configure to keep the connection alive but remember you can not hold the [**hibernate**][1] session alive for long time by default .\r\n\r\nAlso you may have look on [**OSIV**][2] anti pattern.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html\r\n  [2]: https://stackoverflow.com/a/48222934/15758781","title":"hibernate running error, restart normally","body":"<p>Its a database <strong>operations</strong> <strong>level</strong> exception using <strong>EntityManager</strong> or any other session manager (which is not your case) as exception suggest, how ever it can have many reasons such database has <strong>closed</strong> the <strong>connection</strong> or network terminated the connection socket, and to solve it you can configure to keep the connection alive but remember you can not hold the <a href=\"https://docs.jboss.org/hibernate/core/3.5/api/org/hibernate/Session.html\" rel=\"nofollow noreferrer\"><strong>hibernate</strong></a> session alive for long time by default .</p>\n<p>Also you may have look on <a href=\"https://stackoverflow.com/a/48222934/15758781\"><strong>OSIV</strong></a> anti pattern.</p>\n"}],"owner":{"account_id":20167120,"reputation":3,"user_id":14790774,"display_name":"liujunminx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71600581,"answer_count":1,"score":0,"last_activity_date":1648120089,"creation_date":1648108575,"question_id":71598791,"body_markdown":"The program runs for a period of time and always reports an error, restarting and returning to normal, the error is as follows\r\n\r\n    javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not prepare statementat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1626)at org.hibernate.query.Query.getResultList(Query.java:165)at net.skycloud.platform.user.repository.KeycloakGroupDao.findAll(KeycloakGroupDao.java:111)at net.skycloud.platform.user.service.UserGroupService.getAllUserGroups(UserGroupService.java:247)at net.skycloud.platform.user.api.rest.UserController.searchUserAndGroup(UserController.java:362)at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)at java.base/java.lang.reflect.Method.invoke(Method.java:566)at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769)at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)at java.base/java.lang.Thread.run(Thread.java:829)Caused by: org.hibernate.exception.GenericJDBCException: could not prepare statementat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)at org.hibernate.loader.Loader.doQuery(Loader.java:956)at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)at org.hibernate.loader.Loader.doList(Loader.java:2868)at org.hibernate.loader.Loader.doList(Loader.java:2850)at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)at org.hibernate.loader.Loader.list(Loader.java:2677)at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2181)at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)... 52 common frames omittedCaused by: java.sql.SQLException: Connection is closedat com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)at com.sun.proxy.$Proxy156.prepareStatement(Unknown Source)at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337)at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)... 67 common frames omitted\r\n\r\nI hope to fix this bug","title":"hibernate running error, restart normally","body":"<p>The program runs for a period of time and always reports an error, restarting and returning to normal, the error is as follows</p>\n<pre><code>javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: could not prepare statementat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1626)at org.hibernate.query.Query.getResultList(Query.java:165)at net.skycloud.platform.user.repository.KeycloakGroupDao.findAll(KeycloakGroupDao.java:111)at net.skycloud.platform.user.service.UserGroupService.getAllUserGroups(UserGroupService.java:247)at net.skycloud.platform.user.api.rest.UserController.searchUserAndGroup(UserController.java:362)at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)at java.base/java.lang.reflect.Method.invoke(Method.java:566)at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769)at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)at java.base/java.lang.Thread.run(Thread.java:829)Caused by: org.hibernate.exception.GenericJDBCException: could not prepare statementat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)at org.hibernate.loader.Loader.doQuery(Loader.java:956)at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)at org.hibernate.loader.Loader.doList(Loader.java:2868)at org.hibernate.loader.Loader.doList(Loader.java:2850)at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)at org.hibernate.loader.Loader.list(Loader.java:2677)at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2181)at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)... 52 common frames omittedCaused by: java.sql.SQLException: Connection is closedat com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)at com.sun.proxy.$Proxy156.prepareStatement(Unknown Source)at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337)at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java)at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)... 67 common frames omitted\n</code></pre>\n<p>I hope to fix this bug</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1648121450,"post_id":71601335,"comment_id":126546537,"body_markdown":"The class `org.apache.poi.xssf.usermodel.XSSFWorkbook` is contained in `poi-ooxml-5.2.0.jar`. So that jar must be in class path while compile time and while run time. And the class loader must be able to read that jar.","body":"The class <code>org.apache.poi.xssf.usermodel.XSSFWorkbook</code> is contained in <code>poi-ooxml-5.2.0.jar</code>. So that jar must be in class path while compile time and while run time. And the class loader must be able to read that jar."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1648124056,"post_id":71601335,"comment_id":126547508,"body_markdown":"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml can be used to visualise the dependencies - you will need more jars (eg curvesapi, commons-compress, etc) - I would suggest you invest some time studying how to use a build tool - here is a POI example with Gradle - https://github.com/pjfanning/poi-gradle-example","body":"<a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.poi/poi-ooxml</a> can be used to visualise the dependencies - you will need more jars (eg curvesapi, commons-compress, etc) - I would suggest you invest some time studying how to use a build tool - here is a POI example with Gradle - <a href=\"https://github.com/pjfanning/poi-gradle-example\" rel=\"nofollow noreferrer\">github.com/pjfanning/poi-gradle-example</a>"},{"owner":{"account_id":19579228,"reputation":324,"user_id":14328662,"display_name":"MattV"},"score":0,"creation_date":1648130947,"post_id":71601335,"comment_id":126550616,"body_markdown":"Could you please provide us the code you are trying to execute?","body":"Could you please provide us the code you are trying to execute?"}],"owner":{"account_id":20381300,"reputation":31,"user_id":14951357,"display_name":"Sharadha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648119923,"creation_date":1648119923,"question_id":71601335,"body_markdown":"I have used (poi,poi-ooxml,poi-ooxml-lite) as 5.2.0, xmlbeans-5.0.3, commons-io-2.11.0\r\nas jars but still getting could not intialize class org.apache.poi.xssf.usermodel.XSSFWorkbook. During runtime is poi-ooxml-5.2.0 expecting any other jar as dependency. Not used maven,  dependencies just added in Build path and in lib.\r\nIs there anything missing. could someone help on it. \r\npoi-ooxml 5.2.1 or poi-ooxml-5.2.2, are there any runtime dependecies?","title":"How to fix could not intialize class &quot;org.apache.poi.xssf.usermodel.XSSFWorkbook&quot; used poi-5.2.0 version","body":"<p>I have used (poi,poi-ooxml,poi-ooxml-lite) as 5.2.0, xmlbeans-5.0.3, commons-io-2.11.0\nas jars but still getting could not intialize class org.apache.poi.xssf.usermodel.XSSFWorkbook. During runtime is poi-ooxml-5.2.0 expecting any other jar as dependency. Not used maven,  dependencies just added in Build path and in lib.\nIs there anything missing. could someone help on it.\npoi-ooxml 5.2.1 or poi-ooxml-5.2.2, are there any runtime dependecies?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648119496,"creation_date":1648119040,"answer_id":71601110,"question_id":71600916,"body_markdown":"Spring Boot allows you to externalize your configuration and you can pass in individual properties as command-line arguments with highest [priority][1] .\r\n\r\n    java -jar your-app.jar --spring.profiles.active=testing\r\n\r\nIf you&#39;re using maven \r\n\r\n    mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--spring.profiles.active=testing&quot;\r\n\r\nIn case of spring boot \r\n\r\n    mvn spring-boot:run -Drun.arguments=&quot;--spring.profiles.active=testing&quot;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/3.0.0-M1/reference/pdf/spring-boot-reference.pdf","title":"Spring active profiles setting override","body":"<p>Spring Boot allows you to externalize your configuration and you can pass in individual properties as command-line arguments with highest <a href=\"https://docs.spring.io/spring-boot/docs/3.0.0-M1/reference/pdf/spring-boot-reference.pdf\" rel=\"nofollow noreferrer\">priority</a> .</p>\n<pre><code>java -jar your-app.jar --spring.profiles.active=testing\n</code></pre>\n<p>If you're using maven</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--spring.profiles.active=testing&quot;\n</code></pre>\n<p>In case of spring boot</p>\n<pre><code>mvn spring-boot:run -Drun.arguments=&quot;--spring.profiles.active=testing&quot;\n</code></pre>\n"}],"owner":{"account_id":16466407,"reputation":584,"user_id":11896414,"display_name":"once"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648119176,"answer_count":1,"score":0,"last_activity_date":1648119496,"creation_date":1648118255,"question_id":71600916,"body_markdown":"Suppose the spring active profiles are set in the command line, is it possible to override the command line setting via some setting in the application ? I have tried to set it in the application yaml file but it doesn&#39;t override and the system is still using the command line setting.\r\n\r\n    //command line\r\n    java -Dspring.profiles.active=testing\r\n\r\n\r\n    //application yaml\r\n    spring:\r\n     profiles:\r\n      active: dev\r\n\r\n\r\n   ","title":"Spring active profiles setting override","body":"<p>Suppose the spring active profiles are set in the command line, is it possible to override the command line setting via some setting in the application ? I have tried to set it in the application yaml file but it doesn't override and the system is still using the command line setting.</p>\n<pre><code>//command line\njava -Dspring.profiles.active=testing\n\n\n//application yaml\nspring:\n profiles:\n  active: dev\n</code></pre>\n"},{"tags":["java","gradle","testing","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":1046543,"reputation":686,"user_id":1051402,"accept_rate":0,"display_name":"KwonNam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648118539,"creation_date":1648117935,"answer_id":71600841,"question_id":71588681,"body_markdown":"```\r\n@Test\r\n@DisplayName(&quot;Create a file on the build diretory&quot;)\r\nvoid createFileOnBuildDir() throws IOException {\r\n\r\n    final URL buildRoot = getClass().getResource(&quot;/&quot;);\r\n    final Path jsonFile = Path.of(buildRoot.getPath(), &quot;open-api.json&quot;);\r\n    Files.writeString(jsonFile, &quot;{\\&quot;value\\&quot;: 123}&quot;);\r\n    System.out.println(jsonFile);\r\n}\r\n```\r\nresult\r\n```\r\n/home/myuser/projects/testproject/build/classes/java/test/open-api.json\r\n```\r\n```\r\n$ cat /home/myuser/projects/testproject/build/classes/java/test/open-api.json\r\n{&quot;value&quot;: 123}\r\n```\r\n\r\nBut, I guess the best answer for your need is https://github.com/Swagger2Markup/spring-swagger2markup-demo project&#39;s https://github.com/Swagger2Markup/spring-swagger2markup-demo/blob/master/src/test/java/io/github/robwin/swagger2markup/petstore/Swagger2MarkupTest.java\r\n","title":"JUnit5: create new file in build directory","body":"<pre><code>@Test\n@DisplayName(&quot;Create a file on the build diretory&quot;)\nvoid createFileOnBuildDir() throws IOException {\n\n    final URL buildRoot = getClass().getResource(&quot;/&quot;);\n    final Path jsonFile = Path.of(buildRoot.getPath(), &quot;open-api.json&quot;);\n    Files.writeString(jsonFile, &quot;{\\&quot;value\\&quot;: 123}&quot;);\n    System.out.println(jsonFile);\n}\n</code></pre>\n<p>result</p>\n<pre><code>/home/myuser/projects/testproject/build/classes/java/test/open-api.json\n</code></pre>\n<pre><code>$ cat /home/myuser/projects/testproject/build/classes/java/test/open-api.json\n{&quot;value&quot;: 123}\n</code></pre>\n<p>But, I guess the best answer for your need is <a href=\"https://github.com/Swagger2Markup/spring-swagger2markup-demo\" rel=\"nofollow noreferrer\">https://github.com/Swagger2Markup/spring-swagger2markup-demo</a> project's <a href=\"https://github.com/Swagger2Markup/spring-swagger2markup-demo/blob/master/src/test/java/io/github/robwin/swagger2markup/petstore/Swagger2MarkupTest.java\" rel=\"nofollow noreferrer\">https://github.com/Swagger2Markup/spring-swagger2markup-demo/blob/master/src/test/java/io/github/robwin/swagger2markup/petstore/Swagger2MarkupTest.java</a></p>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71600841,"answer_count":1,"score":0,"last_activity_date":1648118539,"creation_date":1648044631,"question_id":71588681,"body_markdown":"I have a Spring Boot application that provides Open API specification by `/api/open-api/v3` path. The idea is that I request the Open API JSON during test running and then write its content to the file in `build` folder. So, I could parse it later and generate documentation. I tried to do it like this:\r\n\r\n```java\r\nFiles.writeString(Path.of(&quot;src&quot;, &quot;test&quot;, &quot;resources&quot;, &quot;open-api.json&quot;), res.getBody());\r\n```\r\n\r\nIt did write the the file to the `src/test/resources` folder but in the source code module itself. Not the result `build` folder. Is it possible to overcome this issue?","title":"JUnit5: create new file in build directory","body":"<p>I have a Spring Boot application that provides Open API specification by <code>/api/open-api/v3</code> path. The idea is that I request the Open API JSON during test running and then write its content to the file in <code>build</code> folder. So, I could parse it later and generate documentation. I tried to do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Files.writeString(Path.of(&quot;src&quot;, &quot;test&quot;, &quot;resources&quot;, &quot;open-api.json&quot;), res.getBody());\n</code></pre>\n<p>It did write the the file to the <code>src/test/resources</code> folder but in the source code module itself. Not the result <code>build</code> folder. Is it possible to overcome this issue?</p>\n"},{"tags":["java","spring-boot","csv","spring-restcontroller","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":3551933,"reputation":3290,"user_id":2966603,"accept_rate":36,"display_name":"RichardK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648118343,"creation_date":1648118343,"answer_id":71600938,"question_id":71571655,"body_markdown":"Ok, I&#39;ve found a solution if someone needs it in future. The trick is to use reflection and set content length manually:\r\n\r\n    response.setContentLength(getContentLength(response));\r\n    csvWriter.close();\r\n\r\n    private int getContentLength(HttpServletResponse response) {\r\n        try {\r\n            Field innerResponseField = ServletResponseWrapper.class.getDeclaredField(&quot;response&quot;);\r\n            innerResponseField.setAccessible(true);\r\n            innerResponseField.get(response);\r\n            Field contentWrittenField = OnCommittedResponseWrapper.class.getDeclaredField(&quot;contentWritten&quot;);\r\n            contentWrittenField.setAccessible(true);\r\n            return (int) contentWrittenField.get(response);\r\n        } catch (Exception e) {\r\n            return 0;\r\n        }\r\n    }\r\n","title":"Super CSV (org.supercsv.io) invalid content length on Spring REST controller: ERR_CONTENT_LENGTH_MISMATCH 200","body":"<p>Ok, I've found a solution if someone needs it in future. The trick is to use reflection and set content length manually:</p>\n<pre><code>response.setContentLength(getContentLength(response));\ncsvWriter.close();\n\nprivate int getContentLength(HttpServletResponse response) {\n    try {\n        Field innerResponseField = ServletResponseWrapper.class.getDeclaredField(&quot;response&quot;);\n        innerResponseField.setAccessible(true);\n        innerResponseField.get(response);\n        Field contentWrittenField = OnCommittedResponseWrapper.class.getDeclaredField(&quot;contentWritten&quot;);\n        contentWrittenField.setAccessible(true);\n        return (int) contentWrittenField.get(response);\n    } catch (Exception e) {\n        return 0;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3551933,"reputation":3290,"user_id":2966603,"accept_rate":36,"display_name":"RichardK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648118343,"creation_date":1647950064,"question_id":71571655,"body_markdown":"Im using Super CSV to provide REST endpoint with some data. It was working fine for a long time, but now data is too large and half of it is not delivered by Spring REST Controller. I have to set content length to make this endpoint provide all data, but I cannot find any way, how to provide correct content length. With some hardcoded value I get the whole file with Postman, but browser blocks it with error:   \r\n\r\n \r\n\r\n    @GetMapping(value = &quot;/file&quot;, produces = &quot;text/csv&quot;)\r\n        public void getFile(HttpServletResponse response) throws IOException {\r\n            String headerKey = &quot;Content-Disposition&quot;;\r\n            String headerValue = &quot;attachment; filename=file.csv&quot;;\r\n            response.setHeader(headerKey, headerValue);\r\n            response.setContentType(&quot;text/html; charset=UTF-8&quot;);\r\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            response.setContentLength(0); //how to set content length?\r\n    \r\n            ICsvBeanWriter csvWriter = new CsvBeanWriter(response.getWriter(), CsvPreference.STANDARD_PREFERENCE);\r\n    \r\n            String[] csvHeader = {&quot;header&quot;};\r\n            String[] nameMapping = {&quot;name&quot;};\r\n    \r\n            csvWriter.writeHeader(csvHeader);\r\n            csvWriter.write(&quot;some object&quot;, nameMapping);\r\n    \r\n            csvWriter.close();\r\n        }\r\n\r\nnginx version: nginx/1.12.2\r\n\r\nnginx settings:\r\n\r\n    location ^~ /endpoint {\r\n        proxy_pass http://localhost:8090;\r\n        proxy_set_header Host $http_host;\r\n        proxy_set_header X-Real-IP $remote_addr;\r\n        proxy_set_header Scheme $scheme;\r\n        proxy_set_header X-Forwarded-Proto $scheme;\r\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n        proxy_buffering off;\r\n        proxy_cache off;\r\n      }","title":"Super CSV (org.supercsv.io) invalid content length on Spring REST controller: ERR_CONTENT_LENGTH_MISMATCH 200","body":"<p>Im using Super CSV to provide REST endpoint with some data. It was working fine for a long time, but now data is too large and half of it is not delivered by Spring REST Controller. I have to set content length to make this endpoint provide all data, but I cannot find any way, how to provide correct content length. With some hardcoded value I get the whole file with Postman, but browser blocks it with error:</p>\n<pre><code>@GetMapping(value = &quot;/file&quot;, produces = &quot;text/csv&quot;)\n    public void getFile(HttpServletResponse response) throws IOException {\n        String headerKey = &quot;Content-Disposition&quot;;\n        String headerValue = &quot;attachment; filename=file.csv&quot;;\n        response.setHeader(headerKey, headerValue);\n        response.setContentType(&quot;text/html; charset=UTF-8&quot;);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n        response.setContentLength(0); //how to set content length?\n\n        ICsvBeanWriter csvWriter = new CsvBeanWriter(response.getWriter(), CsvPreference.STANDARD_PREFERENCE);\n\n        String[] csvHeader = {&quot;header&quot;};\n        String[] nameMapping = {&quot;name&quot;};\n\n        csvWriter.writeHeader(csvHeader);\n        csvWriter.write(&quot;some object&quot;, nameMapping);\n\n        csvWriter.close();\n    }\n</code></pre>\n<p>nginx version: nginx/1.12.2</p>\n<p>nginx settings:</p>\n<pre><code>location ^~ /endpoint {\n    proxy_pass http://localhost:8090;\n    proxy_set_header Host $http_host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header Scheme $scheme;\n    proxy_set_header X-Forwarded-Proto $scheme;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_buffering off;\n    proxy_cache off;\n  }\n</code></pre>\n"},{"tags":["java","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648117964,"creation_date":1648117964,"answer_id":71600847,"question_id":71600770,"body_markdown":"Yes you can run test classes from code like that.\r\n\r\n\r\n    JUnitCore junit = new JUnitCore();\r\n    junit.addListener(new TextListener(System.out));\r\n    junit.run(Test.class);\r\n\r\nYou can read more about that here: https://www.baeldung.com/junit-tests-run-programmatically-from-java","title":"Unit testing the parametrized test programmatically with out Suite","body":"<p>Yes you can run test classes from code like that.</p>\n<pre><code>JUnitCore junit = new JUnitCore();\njunit.addListener(new TextListener(System.out));\njunit.run(Test.class);\n</code></pre>\n<p>You can read more about that here: <a href=\"https://www.baeldung.com/junit-tests-run-programmatically-from-java\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-tests-run-programmatically-from-java</a></p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648118323,"creation_date":1648117997,"answer_id":71600853,"question_id":71600770,"body_markdown":"You can use [EngineTestKit][1] that provides support for executing a test plan for a given TestEngine and then accessing the results via a fluent API to verify the expected results.\r\n\r\n    EngineTestKit\r\n                .engine(&quot;junit-jupiter&quot;)\r\n                .selectors(selectClass(Test.class))\r\n                .execute().testEvents().assertStatistics(o -&gt; o.failed(1));\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.8.0/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/EngineTestKit.html","title":"Unit testing the parametrized test programmatically with out Suite","body":"<p>You can use <a href=\"https://junit.org/junit5/docs/5.8.0/api/org.junit.platform.testkit/org/junit/platform/testkit/engine/EngineTestKit.html\" rel=\"nofollow noreferrer\">EngineTestKit</a> that provides support for executing a test plan for a given TestEngine and then accessing the results via a fluent API to verify the expected results.</p>\n<pre><code>EngineTestKit\n            .engine(&quot;junit-jupiter&quot;)\n            .selectors(selectClass(Test.class))\n            .execute().testEvents().assertStatistics(o -&gt; o.failed(1));\n</code></pre>\n"}],"owner":{"account_id":24672504,"reputation":21,"user_id":18567352,"display_name":"Uryi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71600853,"answer_count":2,"score":1,"last_activity_date":1648118323,"creation_date":1648117652,"question_id":71600770,"body_markdown":"I do have some parametrized test and i want to run the tests **programmatically** and not with `annotation processors` e.g `@Suite` `@RunWith(Suite.class) ` , is there a way that i can access and invoke the test classes from other test classes ?\r\n\r\n - Some test cases\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @SpringBootTest\r\n    class Test {\r\n\r\n        @ParameterizedTest\r\n        @ValueSource(strings = {&quot;first&quot;, &quot;second&quot;})\r\n        public void example(String values) {\r\n        ...\r\n        }\r\n        \r\n       ...\r\n    }\r\n\r\n\r\n","title":"Unit testing the parametrized test programmatically with out Suite","body":"<p>I do have some parametrized test and i want to run the tests <strong>programmatically</strong> and not with <code>annotation processors</code> e.g <code>@Suite</code> <code>@RunWith(Suite.class) </code> , is there a way that i can access and invoke the test classes from other test classes ?</p>\n<ul>\n<li>Some test cases</li>\n</ul>\n\n<pre class=\"lang-html prettyprint-override\"><code>@SpringBootTest\nclass Test {\n\n    @ParameterizedTest\n    @ValueSource(strings = {&quot;first&quot;, &quot;second&quot;})\n    public void example(String values) {\n    ...\n    }\n    \n   ...\n}\n</code></pre>\n"},{"tags":["java","rest","soap","sabre"],"answers":[{"tags":[],"owner":{"account_id":188210,"reputation":7241,"user_id":426812,"display_name":"Ernesto Campohermoso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648118245,"creation_date":1648118245,"answer_id":71600914,"question_id":71438892,"body_markdown":"According to this:\r\n\r\nhttps://developer.sabre.com/product-catalog?f%5B0%5D=target_audience%3A4\r\n\r\nThere is no option for REST web service.\r\n\r\nSOAP and REST are two ways to interoperate throw Web protocol, both have their pros an cons, none is better than other.\r\n\r\nIf you have a technical requirement that constraints you to REST, you can use an ESB like WSO2 to translate SOAP to REST.\r\n\r\nhttps://docs.wso2.com/display/AM250/Generate+REST+API+from+SOAP+Backend","title":"Rest API alternative for SOAP Sabre Air Availability API","body":"<p>According to this:</p>\n<p><a href=\"https://developer.sabre.com/product-catalog?f%5B0%5D=target_audience%3A4\" rel=\"nofollow noreferrer\">https://developer.sabre.com/product-catalog?f%5B0%5D=target_audience%3A4</a></p>\n<p>There is no option for REST web service.</p>\n<p>SOAP and REST are two ways to interoperate throw Web protocol, both have their pros an cons, none is better than other.</p>\n<p>If you have a technical requirement that constraints you to REST, you can use an ESB like WSO2 to translate SOAP to REST.</p>\n<p><a href=\"https://docs.wso2.com/display/AM250/Generate+REST+API+from+SOAP+Backend\" rel=\"nofollow noreferrer\">https://docs.wso2.com/display/AM250/Generate+REST+API+from+SOAP+Backend</a></p>\n"}],"owner":{"account_id":6124574,"reputation":78,"user_id":4777011,"display_name":"Sahil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648118245,"creation_date":1647003538,"question_id":71438892,"body_markdown":"I want to know that is there any **REST API** alternative available for **Sabre** Soap &quot;Air Availability API&quot; which will basically serves all the purpose and have same refinement parameter? If Yes, provide me the disadvantages the alternative one has.","title":"Rest API alternative for SOAP Sabre Air Availability API","body":"<p>I want to know that is there any <strong>REST API</strong> alternative available for <strong>Sabre</strong> Soap &quot;Air Availability API&quot; which will basically serves all the purpose and have same refinement parameter? If Yes, provide me the disadvantages the alternative one has.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1189406,"reputation":68,"user_id":6312046,"display_name":"Igor Alves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648118196,"creation_date":1648118196,"answer_id":71600900,"question_id":71599057,"body_markdown":"Your question is missing a lot of information, it would be nice if you could update it. For example, you could share the code for `TaskType`.\r\n\r\nFirst of all, it seems that `TaskType` is an enum as you are trying to call `ordinal()`, right? If it&#39;s the case, you need to remember that **enums are final and cannot be mocked by Mockito by default** (please read [here](https://www.javadoc.io/doc/org.mockito/mockito-core/2.15.0/org/mockito/Mockito.html#39) for more information). If it&#39;s not an enum you can ignore it. :)\r\n\r\nRegarding the problem mocking `getTypeParameters()`, you cannot do it directly due to type erasure (more information [here](https://www.baeldung.com/java-type-erasure)). However, you can solve it using Mockito [Answer](https://javadoc.io/static/org.mockito/mockito-core/3.2.4/org/mockito/stubbing/Answer.html):\r\n\r\n```\r\nfinal TaskType TEST_PARAMETERS = Mockito.mock(TaskType.class);\r\nfinal Answer&lt;Class&lt;ScheduledParameters&gt;&gt; answer = invocation -&gt; ScheduledParameters.class;\r\nwhen(TEST_PARAMETERS.getTypeParameters())\r\n    .thenAnswer(answer);\r\nMockito.doReturn(4).when(TEST_PARAMETERS).ordinal();\r\n```\r\n\r\n","title":"Return class from method in mocked method. Mockito","body":"<p>Your question is missing a lot of information, it would be nice if you could update it. For example, you could share the code for <code>TaskType</code>.</p>\n<p>First of all, it seems that <code>TaskType</code> is an enum as you are trying to call <code>ordinal()</code>, right? If it's the case, you need to remember that <strong>enums are final and cannot be mocked by Mockito by default</strong> (please read <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.15.0/org/mockito/Mockito.html#39\" rel=\"nofollow noreferrer\">here</a> for more information). If it's not an enum you can ignore it. :)</p>\n<p>Regarding the problem mocking <code>getTypeParameters()</code>, you cannot do it directly due to type erasure (more information <a href=\"https://www.baeldung.com/java-type-erasure\" rel=\"nofollow noreferrer\">here</a>). However, you can solve it using Mockito <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.2.4/org/mockito/stubbing/Answer.html\" rel=\"nofollow noreferrer\">Answer</a>:</p>\n<pre><code>final TaskType TEST_PARAMETERS = Mockito.mock(TaskType.class);\nfinal Answer&lt;Class&lt;ScheduledParameters&gt;&gt; answer = invocation -&gt; ScheduledParameters.class;\nwhen(TEST_PARAMETERS.getTypeParameters())\n    .thenAnswer(answer);\nMockito.doReturn(4).when(TEST_PARAMETERS).ordinal();\n</code></pre>\n"}],"owner":{"account_id":11938716,"reputation":98,"user_id":8736267,"display_name":"kepich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648118196,"creation_date":1648110050,"question_id":71599057,"body_markdown":"I have class TaskType. It has method\r\n    \r\n    public Class&lt;? extends TaskParameters&gt; getTypeParameters() {\r\n        return typeParameters;\r\n    }\r\n\r\nnext i want to mock this class and mock this method:\r\n\r\n        final TaskType TEST_PARAMETERS = Mockito.mock(TaskType.class);\r\n        when(TEST_PARAMETERS.getTypeParameters()).thenReturn(ScheduledParameters.class);\r\n        Mockito.doReturn(4).when(TEST_PARAMETERS).ordinal();\r\n\r\nbut i got problem:\r\n\r\n    error: no suitable method found for thenReturn(java.lang.Class&lt;com.ucp.shard.bulkops.service.executor.ScheduleExecutorTest.ScheduledParameters&gt;)\r\n            when(TEST_PARAMETERS.getTypeParameters()).thenReturn(ScheduledParameters.class);\r\n\r\nHelp, how can i mock this method?","title":"Return class from method in mocked method. Mockito","body":"<p>I have class TaskType. It has method</p>\n<pre><code>public Class&lt;? extends TaskParameters&gt; getTypeParameters() {\n    return typeParameters;\n}\n</code></pre>\n<p>next i want to mock this class and mock this method:</p>\n<pre><code>    final TaskType TEST_PARAMETERS = Mockito.mock(TaskType.class);\n    when(TEST_PARAMETERS.getTypeParameters()).thenReturn(ScheduledParameters.class);\n    Mockito.doReturn(4).when(TEST_PARAMETERS).ordinal();\n</code></pre>\n<p>but i got problem:</p>\n<pre><code>error: no suitable method found for thenReturn(java.lang.Class&lt;com.ucp.shard.bulkops.service.executor.ScheduleExecutorTest.ScheduledParameters&gt;)\n        when(TEST_PARAMETERS.getTypeParameters()).thenReturn(ScheduledParameters.class);\n</code></pre>\n<p>Help, how can i mock this method?</p>\n"},{"tags":["java","logging","terminal","event-handling"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648118114,"creation_date":1648118114,"answer_id":71600879,"question_id":71600400,"body_markdown":"The objective of logging is not to be used in these kind of situations, but if you want to follow that path, you can create an Appender that you attach to the root log for example. Don&#39;t forget that the log level must be set at least to the level that you expect the message to be logged (or specify the level for that class).\r\n\r\nAssuming that you are using *slf4j* and *logback*, you can do this (adapt to other provider if needed).\r\n\r\n        import ch.qos.logback.classic.Logger;\r\n        import org.slf4j.LoggerFactory;\r\n        ...\r\n        private static final LoggingInterceptorAppender loggingInterceptorAppender = new LoggingInterceptorAppender();\r\n        ...\r\n        \r\n        void addLoggerInterceptorAppender(){\r\n           Logger root = (Logger) LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\r\n        \r\n           if (root.getAppender(&quot;LOGGING_INTERCEPTOR_APPENDER_NAME&quot;) == null) {\r\n              root.addAppender(loggingInterceptorAppender);\r\n           }\r\n        }\r\n\r\nThen you need a class that implements *Appender*.\r\n\r\n    import ch.qos.logback.core.Appender;\r\n    import ch.qos.logback.classic.spi.ILoggingEvent;\r\n    \r\n    class LoggingInterceptorAppender implements Appender&lt;ILoggingEvent&gt; {\r\n    \r\n      @Override\r\n      public String getName() {\r\n    \r\n        return &quot;LOGGING_INTERCEPTOR_APPENDER_NAME&quot;;\r\n      }\r\n\r\n      // Lots of @Override methods\r\n    \r\n    \r\n      @Override\r\n      public void doAppend(ILoggingEvent iLoggingEvent) throws LogbackException {\r\n    \r\n        // Here you can check the event and see if it is the one that you want\r\n        // and perform the logic or call whatever you want.\r\n      }\r\n    }\r\n\r\n","title":"How to &#39;catch&#39; a log written by external library (Java/Spring boot)","body":"<p>The objective of logging is not to be used in these kind of situations, but if you want to follow that path, you can create an Appender that you attach to the root log for example. Don't forget that the log level must be set at least to the level that you expect the message to be logged (or specify the level for that class).</p>\n<p>Assuming that you are using <em>slf4j</em> and <em>logback</em>, you can do this (adapt to other provider if needed).</p>\n<pre><code>    import ch.qos.logback.classic.Logger;\n    import org.slf4j.LoggerFactory;\n    ...\n    private static final LoggingInterceptorAppender loggingInterceptorAppender = new LoggingInterceptorAppender();\n    ...\n    \n    void addLoggerInterceptorAppender(){\n       Logger root = (Logger) LoggerFactory.getLogger(org.slf4j.Logger.ROOT_LOGGER_NAME);\n    \n       if (root.getAppender(&quot;LOGGING_INTERCEPTOR_APPENDER_NAME&quot;) == null) {\n          root.addAppender(loggingInterceptorAppender);\n       }\n    }\n</code></pre>\n<p>Then you need a class that implements <em>Appender</em>.</p>\n<pre><code>import ch.qos.logback.core.Appender;\nimport ch.qos.logback.classic.spi.ILoggingEvent;\n\nclass LoggingInterceptorAppender implements Appender&lt;ILoggingEvent&gt; {\n\n  @Override\n  public String getName() {\n\n    return &quot;LOGGING_INTERCEPTOR_APPENDER_NAME&quot;;\n  }\n\n  // Lots of @Override methods\n\n\n  @Override\n  public void doAppend(ILoggingEvent iLoggingEvent) throws LogbackException {\n\n    // Here you can check the event and see if it is the one that you want\n    // and perform the logic or call whatever you want.\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":15911554,"reputation":53,"user_id":11481374,"display_name":"Kamil Wawer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648118114,"creation_date":1648116282,"question_id":71600400,"body_markdown":"I have the following situation:\r\n\r\nI&#39;m using an external library, which executes some logic. The thing is, during this execution something may go wrong. When this kind of situation occurs, the warning log is printed in the terminal. For my needs, I need to treat this warning as an error and handle it by myself. I can&#39;t edit the existing code in a library. I need some solution to &#39;catch&#39; this warning log that, was written. Do you have any solution for that? I&#39;m using Java with spring boot\r\n\r\nThe example code structure:\r\n\r\n    class ExternalLibraryClass { // &lt;- this class is read-only, I can&#39;t edit it \r\n       public void execute() {\r\n         // logic\r\n         if(something wrong) {\r\n           log.warn(&quot;something wrong has happened&quot;);\r\n         }\r\n       }\r\n    }\r\n \r\n    class myClass {\r\n\r\n      public static void main(String[] args) {\r\n         new ExternalLibraryClass().execute();\r\n\r\n     //  if(&#39;warning log has been written in the terminal&#39;) {\r\n     //      handle_this_warnig_like_an_error();\r\n     //    }\r\n      }\r\n    }\r\n      \r\n \r\n\r\n\r\n\r\n\r\n","title":"How to &#39;catch&#39; a log written by external library (Java/Spring boot)","body":"<p>I have the following situation:</p>\n<p>I'm using an external library, which executes some logic. The thing is, during this execution something may go wrong. When this kind of situation occurs, the warning log is printed in the terminal. For my needs, I need to treat this warning as an error and handle it by myself. I can't edit the existing code in a library. I need some solution to 'catch' this warning log that, was written. Do you have any solution for that? I'm using Java with spring boot</p>\n<p>The example code structure:</p>\n<pre><code>class ExternalLibraryClass { // &lt;- this class is read-only, I can't edit it \n   public void execute() {\n     // logic\n     if(something wrong) {\n       log.warn(&quot;something wrong has happened&quot;);\n     }\n   }\n}\n\nclass myClass {\n\n  public static void main(String[] args) {\n     new ExternalLibraryClass().execute();\n\n //  if('warning log has been written in the terminal') {\n //      handle_this_warnig_like_an_error();\n //    }\n  }\n}\n  \n</code></pre>\n"},{"tags":["java","rest","oauth-2.0","token","talend"],"answers":[{"tags":[],"owner":{"account_id":24671465,"reputation":23,"user_id":18566438,"display_name":"aymane hmidich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648118086,"creation_date":1648111819,"answer_id":71599411,"question_id":71480332,"body_markdown":"![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GeGfB.png\r\n\r\n\r\nThe way I do it, is to use 2 tRest components. The first one is used for authentication: it stores the access token in a context variable. The second uses that access token by using your context variable, and sends the needed request.","title":"TALEND: How to store refresh token required in tRest component?","body":"<p><img src=\"https://i.stack.imgur.com/GeGfB.png\" alt=\"enter image description here\" /></p>\n<p>The way I do it, is to use 2 tRest components. The first one is used for authentication: it stores the access token in a context variable. The second uses that access token by using your context variable, and sends the needed request.</p>\n"}],"owner":{"account_id":20677316,"reputation":63,"user_id":15181632,"display_name":"Afif Zuhair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648118086,"creation_date":1647338753,"question_id":71480332,"body_markdown":"This question is the linked from my previous question of how can we use &quot;tRest&quot; to fetch API data. API which is related to OAuth, has provided access and refresh token. What blocks me now, is:\r\n1. how can we store all the tokens? Is there a specific component to do this?\r\n2. Access token will expire after one hour, then need to generate new access token (gain new access token) by using the refresh token.\r\n\r\nThis is so far what I&#39;ve done in the Talend job. Successfully, fetch the data by providing access token as API authorization.\r\n\r\n[![tRest job][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/yb2FY.png\r\n\r\nWhat probably the best way to enable kind of like &quot;auto-refresh&quot; and set the new access token without manually refresh it and copy-and-paste everytime I wanna do fetching?","title":"TALEND: How to store refresh token required in tRest component?","body":"<p>This question is the linked from my previous question of how can we use &quot;tRest&quot; to fetch API data. API which is related to OAuth, has provided access and refresh token. What blocks me now, is:</p>\n<ol>\n<li>how can we store all the tokens? Is there a specific component to do this?</li>\n<li>Access token will expire after one hour, then need to generate new access token (gain new access token) by using the refresh token.</li>\n</ol>\n<p>This is so far what I've done in the Talend job. Successfully, fetch the data by providing access token as API authorization.</p>\n<p><a href=\"https://i.stack.imgur.com/yb2FY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yb2FY.png\" alt=\"tRest job\" /></a></p>\n<p>What probably the best way to enable kind of like &quot;auto-refresh&quot; and set the new access token without manually refresh it and copy-and-paste everytime I wanna do fetching?</p>\n"},{"tags":["java","android","android-studio","android-seekbar"],"comments":[{"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"score":1,"creation_date":1645879771,"post_id":71276713,"comment_id":125989532,"body_markdown":"set visibility to gone","body":"set visibility to gone"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":2,"creation_date":1645880338,"post_id":71276713,"comment_id":125989641,"body_markdown":"try this,  `sb.setOnSeekBarChangeListener(null);`\n        `((ViewGroup)sb.getParent()).removeView(sb);`","body":"try this,  <code>sb.setOnSeekBarChangeListener(null);</code>         <code>((ViewGroup)sb.getParent()).removeView(sb);</code>"}],"answers":[{"tags":[],"owner":{"account_id":24655063,"reputation":134,"user_id":18551815,"display_name":"Tushar Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648117982,"creation_date":1648117982,"answer_id":71600850,"question_id":71276713,"body_markdown":"You can use `sb.setVisibility(View.GONE);`","title":"How to programmatically delete a seekbar in android studio","body":"<p>You can use <code>sb.setVisibility(View.GONE);</code></p>\n"}],"owner":{"account_id":12266379,"reputation":67,"user_id":11175542,"display_name":"Anwesa Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648117982,"creation_date":1645879037,"question_id":71276713,"body_markdown":"I am trying to write a program in which I am deleting the seekbar if the seekbar is set to zero. So far, I have been able to remove the visibility of the seekbar from the android screen, but it is not deleted completely. Can anyone please hep me so that I can completely remove the seekbar when the position of the seekbar is set to zero.\r\nFollowing is my code snippet:\r\n\r\n     sb.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n                    if(i==0)\r\n                    {\r\n                        sb.setVisibility(View.INVISIBLE);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n    \r\n                }\r\n            });","title":"How to programmatically delete a seekbar in android studio","body":"<p>I am trying to write a program in which I am deleting the seekbar if the seekbar is set to zero. So far, I have been able to remove the visibility of the seekbar from the android screen, but it is not deleted completely. Can anyone please hep me so that I can completely remove the seekbar when the position of the seekbar is set to zero.\nFollowing is my code snippet:</p>\n<pre><code> sb.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n                if(i==0)\n                {\n                    sb.setVisibility(View.INVISIBLE);\n                }\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","swing","jframe","multiple-instances"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1465576190,"post_id":37751707,"comment_id":62975698,"body_markdown":"*&quot;which is very frustrating&quot;* GUIs jumping all around the screen is very frustrating. What is this app. supposed to do (besides p*ss people off)?","body":"<i>&quot;which is very frustrating&quot;</i> GUIs jumping all around the screen is very frustrating. What is this app. supposed to do (besides p*ss people off)?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1465576223,"post_id":37751707,"comment_id":62975726,"body_markdown":"For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1465578423,"post_id":37751707,"comment_id":62976877,"body_markdown":"Based on your previous question on overlapping frames, I&#39;m guessing you are trying to change the location of the frames so they don&#39;t overlap. I would look at your &quot;while loop&quot;. I&#39;m guessing you have a logic bug and have introduced an infinite loop. Put some debug code in the loop so see if it ever stops executing.","body":"Based on your previous question on overlapping frames, I&#39;m guessing you are trying to change the location of the frames so they don&#39;t overlap. I would look at your &quot;while loop&quot;. I&#39;m guessing you have a logic bug and have introduced an infinite loop. Put some debug code in the loop so see if it ever stops executing."},{"owner":{"account_id":8584458,"reputation":21,"user_id":6431082,"display_name":"Eric L"},"score":0,"creation_date":1465822738,"post_id":37751707,"comment_id":63046903,"body_markdown":"@camickr The loop isn&#39;t infinite, it&#39;s just very inefficient, which is fine. Is it possible to make the action of pressing the close button override the while loop&#39;s running?","body":"@camickr The loop isn&#39;t infinite, it&#39;s just very inefficient, which is fine. Is it possible to make the action of pressing the close button override the while loop&#39;s running?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1465830518,"post_id":37751707,"comment_id":63052539,"body_markdown":"The GUI can&#39;t respond to events until the looping code is finished executing because the looping code is executing on the Event Dispatch Thread. You can create a separate Thread for your looping code. Check out the section from the Swing tutorial on [Concurrency](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. You should look at using a `SwingWorker`.","body":"The GUI can&#39;t respond to events until the looping code is finished executing because the looping code is executing on the Event Dispatch Thread. You can create a separate Thread for your looping code. Check out the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. You should look at using a <code>SwingWorker</code>."}],"owner":{"account_id":8584458,"reputation":21,"user_id":6431082,"display_name":"Eric L"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648117969,"creation_date":1465571687,"question_id":37751707,"body_markdown":"    package finalproje;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.MouseInfo;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.Timer;\r\n    \r\n    class GUIMover {\r\n    \tprivate ArrayList&lt;JFrame&gt; frameList = new ArrayList&lt;JFrame&gt;();\r\n    \tprivate int count, max, matchNumber;\r\n    \tprivate Random random = new Random();\r\n    \tprivate Timer update;\r\n    \tprivate boolean matchFound = false;\r\n    \tlong startTime = System.currentTimeMillis();\r\n    \r\n    \tpublic GUIMover(int max) {\r\n    \t\tthis.max = max;\r\n    \t\tmatchNumber = random.nextInt(max);\r\n    \t\tupdate = new Timer(500, updateAction);\r\n    \t\tupdate.setCoalesce(true);\r\n    \t}\r\n    \r\n    \tpublic void startGUI() {\r\n    \t\tJOptionPane.showMessageDialog(null, &quot;Find window &quot; + matchNumber);\r\n    \t\tfor (; count &lt; max;) {\r\n    \t\t\tfinal JFrame frame = new JFrame(count + &quot;&quot;);\r\n    \t\t\t++count;\r\n    \t\t\tframe.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);// exits\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// windows\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// when\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// closed.\r\n    \t\t\tframe.setVisible(true);\r\n    \t\t\tframe.setBackground(new Color(random.nextFloat(), random\r\n    \t\t\t\t\t.nextFloat(), random.nextFloat()));\r\n    \t\t\tframe.setBounds(random.nextInt(500), random.nextInt(500),\r\n    \t\t\t\t\trandom.nextInt(500), random.nextInt(500));\r\n    \t\t\tframe.addMouseListener(new MouseListener() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void mousePressed(MouseEvent e) {\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void mouseExited(MouseEvent e) {\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\t// check if you clicked your match\r\n    \t\t\t\tpublic void mouseClicked(MouseEvent e)\r\n    \t\t\t\t\t\tthrows NumberFormatException {\r\n    \t\t\t\t\tif (!matchFound\r\n    \t\t\t\t\t\t\t&amp;&amp; Integer.parseInt(frame.getTitle()) == matchNumber) {\r\n    \t\t\t\t\t\tmatchFound = true;\r\n    \r\n    \t\t\t\t\t\tframeList.get(0).setTitle(\r\n    \t\t\t\t\t\t\t\t&quot;You won after &quot; + getPrintableGameTime()/*\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t * conversion\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t * from\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t * milliseconds\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t * to\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t * seconds\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t */\r\n    \t\t\t\t\t\t\t\t\t\t+ &quot; seconds!&quot;);\r\n    \t\t\t\t\t\tfor (int q = frameList.size() - 1; q &gt; 0; q--) {\r\n    \t\t\t\t\t\t\tframeList.get(q).dispose();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tframeList.get(0).setSize(500, 500);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\tframeList.add(frame);\r\n    \t\t}\r\n    \t\tupdate.start();\r\n    \t}\r\n    \tboolean hasIntersections(JFrame f) {\r\n    \t\tfor (JFrame x : frameList)\r\n    \t\t\tif (f != x &amp;&amp; f.getBounds().intersects(x.getBounds())) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \tString getPrintableGameTime() {\r\n    \t\tif (matchFound) {\r\n    \t\t\tlong endTime = System.currentTimeMillis();\r\n    \t\t\tlong totalTime = endTime - startTime;\r\n    \t\t\treturn String.format(&quot;%d min, %d sec&quot;,\r\n    \t\t\t\t\tTimeUnit.MILLISECONDS.toSeconds(totalTime) / 60,\r\n    \t\t\t\t\tTimeUnit.MILLISECONDS.toSeconds(totalTime) % 60);\r\n    \t\t} else\r\n    \t\t\treturn &quot;You shouldn&#39;t see this.&quot;;\r\n    \t}\r\n    \t@SuppressWarnings(&quot;serial&quot;)\r\n    \t/* serves as update method */\r\n    \tAction updateAction = new AbstractAction() {\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\tif (!matchFound) {\r\n    \t\t\t\tfor (JFrame i : frameList) {\r\n    \t\t\t\t\ti.setLocation(\r\n    \t\t\t\t\t\t\t(MouseInfo.getPointerInfo().getLocation().x + random\r\n    \t\t\t\t\t\t\t\t\t.nextInt(1000)), (MouseInfo\r\n    \t\t\t\t\t\t\t\t\t.getPointerInfo().getLocation().y + random\r\n    \t\t\t\t\t\t\t\t\t.nextInt(1000)));\r\n    \t\t\t\t\ti.setLocation(random.nextInt(900), random.nextInt(800));\r\n    \t\t\t\t}\r\n    \t\t\t\tfor (int j = 0; j &lt; frameList.size(); j++) {\r\n    \t\t\t\t\twhile (hasIntersections(frameList.get(j))) {\r\n    \t\t\t\t\t\tframeList.get(j).setLocation(\r\n    \t\t\t\t\t\t\t\tframeList.get(j).getX() + 10,\r\n    \t\t\t\t\t\t\t\tframeList.get(j).getY());\r\n    \t\t\t\t\t\tif (frameList.get(j).getX() &gt; 1200) {\r\n    \t\t\t\t\t\t\tframeList.get(j).setLocation(0,\r\n    \t\t\t\t\t\t\t\t\tframeList.get(j).getY() + 100);\r\n    \t\t\t\t\t\t\tframeList.get(j).setSize(\r\n    \t\t\t\t\t\t\t\t\tframeList.get(j).getWidth() - 10,\r\n    \t\t\t\t\t\t\t\t\tframeList.get(j).getHeight() - 10);\r\n    \r\n    \t\t\t\t\t\t} else if (frameList.get(j).getY() &gt; 800) {\r\n    \t\t\t\t\t\t\tframeList.get(j).setSize(\r\n    \t\t\t\t\t\t\t\t\tframeList.get(j).getWidth() - 10,\r\n    \t\t\t\t\t\t\t\t\tframeList.get(j).getHeight() - 10);\r\n    \t\t\t\t\t\t\tframeList.get(j).setLocation(0,\r\n    \t\t\t\t\t\t\t\t\tframeList.get(j).getX() + 100);\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \r\n    }\r\n\r\nIs it possible to separate the thread which the mouse listener listens on?\r\n\r\nWhile the GUI is moving, any input is ignored, which is very frustrating because this includes the clicking of the close button (red x), which would require me to SIGKILL the process.","title":"SwingTimer update method stalls Action Listener","body":"<pre><code>package finalproje;\n\nimport java.awt.Color;\nimport java.awt.MouseInfo;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.util.ArrayList;\nimport java.util.Random;\nimport java.util.concurrent.TimeUnit;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.Timer;\n\nclass GUIMover {\n    private ArrayList&lt;JFrame&gt; frameList = new ArrayList&lt;JFrame&gt;();\n    private int count, max, matchNumber;\n    private Random random = new Random();\n    private Timer update;\n    private boolean matchFound = false;\n    long startTime = System.currentTimeMillis();\n\n    public GUIMover(int max) {\n        this.max = max;\n        matchNumber = random.nextInt(max);\n        update = new Timer(500, updateAction);\n        update.setCoalesce(true);\n    }\n\n    public void startGUI() {\n        JOptionPane.showMessageDialog(null, &quot;Find window &quot; + matchNumber);\n        for (; count &lt; max;) {\n            final JFrame frame = new JFrame(count + &quot;&quot;);\n            ++count;\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);// exits\n                                                                    // windows\n                                                                    // when\n                                                                    // closed.\n            frame.setVisible(true);\n            frame.setBackground(new Color(random.nextFloat(), random\n                    .nextFloat(), random.nextFloat()));\n            frame.setBounds(random.nextInt(500), random.nextInt(500),\n                    random.nextInt(500), random.nextInt(500));\n            frame.addMouseListener(new MouseListener() {\n                @Override\n                public void mouseReleased(MouseEvent e) {\n\n                }\n\n                @Override\n                public void mousePressed(MouseEvent e) {\n                }\n\n                @Override\n                public void mouseExited(MouseEvent e) {\n\n                }\n\n                @Override\n                public void mouseEntered(MouseEvent e) {\n\n                }\n\n                @Override\n                // check if you clicked your match\n                public void mouseClicked(MouseEvent e)\n                        throws NumberFormatException {\n                    if (!matchFound\n                            &amp;&amp; Integer.parseInt(frame.getTitle()) == matchNumber) {\n                        matchFound = true;\n\n                        frameList.get(0).setTitle(\n                                &quot;You won after &quot; + getPrintableGameTime()/*\n                                                                         * conversion\n                                                                         * from\n                                                                         * milliseconds\n                                                                         * to\n                                                                         * seconds\n                                                                         */\n                                        + &quot; seconds!&quot;);\n                        for (int q = frameList.size() - 1; q &gt; 0; q--) {\n                            frameList.get(q).dispose();\n                        }\n                        frameList.get(0).setSize(500, 500);\n                    }\n                }\n            });\n            frameList.add(frame);\n        }\n        update.start();\n    }\n    boolean hasIntersections(JFrame f) {\n        for (JFrame x : frameList)\n            if (f != x &amp;&amp; f.getBounds().intersects(x.getBounds())) {\n                return true;\n            }\n        return false;\n    }\n    String getPrintableGameTime() {\n        if (matchFound) {\n            long endTime = System.currentTimeMillis();\n            long totalTime = endTime - startTime;\n            return String.format(&quot;%d min, %d sec&quot;,\n                    TimeUnit.MILLISECONDS.toSeconds(totalTime) / 60,\n                    TimeUnit.MILLISECONDS.toSeconds(totalTime) % 60);\n        } else\n            return &quot;You shouldn't see this.&quot;;\n    }\n    @SuppressWarnings(&quot;serial&quot;)\n    /* serves as update method */\n    Action updateAction = new AbstractAction() {\n        public void actionPerformed(ActionEvent e) {\n            if (!matchFound) {\n                for (JFrame i : frameList) {\n                    i.setLocation(\n                            (MouseInfo.getPointerInfo().getLocation().x + random\n                                    .nextInt(1000)), (MouseInfo\n                                    .getPointerInfo().getLocation().y + random\n                                    .nextInt(1000)));\n                    i.setLocation(random.nextInt(900), random.nextInt(800));\n                }\n                for (int j = 0; j &lt; frameList.size(); j++) {\n                    while (hasIntersections(frameList.get(j))) {\n                        frameList.get(j).setLocation(\n                                frameList.get(j).getX() + 10,\n                                frameList.get(j).getY());\n                        if (frameList.get(j).getX() &gt; 1200) {\n                            frameList.get(j).setLocation(0,\n                                    frameList.get(j).getY() + 100);\n                            frameList.get(j).setSize(\n                                    frameList.get(j).getWidth() - 10,\n                                    frameList.get(j).getHeight() - 10);\n\n                        } else if (frameList.get(j).getY() &gt; 800) {\n                            frameList.get(j).setSize(\n                                    frameList.get(j).getWidth() - 10,\n                                    frameList.get(j).getHeight() - 10);\n                            frameList.get(j).setLocation(0,\n                                    frameList.get(j).getX() + 100);\n                        }\n\n                    }\n                }\n\n            }\n        }\n    };\n\n}\n</code></pre>\n<p>Is it possible to separate the thread which the mouse listener listens on?</p>\n<p>While the GUI is moving, any input is ignored, which is very frustrating because this includes the clicking of the close button (red x), which would require me to SIGKILL the process.</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648117811,"creation_date":1648117811,"question_id":71600808,"body_markdown":"The use case I have is a request scoped bean for storing cookies, so that they can be propagated later on. With the asynchronous nature of the `WebClient` the requests are executed on different threads, therefore things associated with the thread like the `MDC` for logging. I assume that request scoped beans are handled in a similar manner and are therefore not accessible in a filter.\r\n\r\nAccording to the [Spring documentation][1] you can inject/attach objects to the request so that it becomes available in the filter. I tried it though the `attribute` which I got working, but somehow the approach with the `context` does nothing.\r\n\r\nHere is the definition of the `WebClient`:\r\n\r\n    @Bean\r\n    public WebClient getWebClient(WebClientFilterFactory filterFactory)\r\n    {\r\n        ClientHttpConnector connector = new HttpComponentsClientHttpConnector(httpClient(100, 10));\r\n    \r\n        return WebClient.builder()\r\n                .baseUrl(&quot;http://localhost:8081&quot;)\r\n                .clientConnector(connector)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .defaultRequest(spec -&gt; {\r\n                    spec.attribute(&quot;AnotherBean&quot;, &quot;bar&quot;);\r\n                })\r\n                .filter((request, next) -&gt; {\r\n                    Optional&lt;Object&gt; value = request.attribute(&quot;RequestScopedBean&quot;);\r\n                   if (value.isPresent()) {\r\n                       log.info(&quot;Retrieved from context: {}&quot;, value.get());\r\n                   } else {\r\n                       log.warn(&quot;Found nothing in context!&quot;);\r\n                   }\r\n                   value = request.attribute(&quot;AnotherBean&quot;);\r\n                    if (value.isPresent()) {\r\n                        log.info(&quot;Retrieved from context: {}&quot;, value.get());\r\n                    } else {\r\n                        log.warn(&quot;Found nothing in context!&quot;);\r\n                    }\r\n                    Mono.deferContextual(context -&gt; {\r\n                        String bean = context.get(&quot;InitialScopedBean&quot;);\r\n                        log.info(&quot;Retrieved bean from context: {}&quot;, bean);\r\n                        return Mono.empty();\r\n                    });\r\n                   return next.exchange(request);\r\n                })\r\n                .build();\r\n    }\r\n\r\nAnd this is how it is called:\r\n\r\n    webClient.get()\r\n      .uri(&quot;/hello&quot;)\r\n      .attribute(&quot;RequestScopedBean&quot;, &quot;foo&quot;)\r\n      .retrieve()\r\n      .bodyToMono(HelloWorld.class)\r\n      .contextWrite(context -&gt; context.put(&quot;InitialScopedBean&quot;, &quot;baz&quot;))\r\n      .block();\r\n\r\nI only get the log output for the values `foo` and `bar` which are both defined through attribute either as part of the request definition in the builder, or when executing the request. The `baz` from the context is missing and debugging confirms that the `Mono.deferContextual` function is never executed.\r\n\r\nAs is the case with request scoped beans, I cannot attach them to the request definition on the builder, as that would defeat the purpose of the scope. While I can solve the problem with attributes, I would like to understand what I am doing wrong with the context approach.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-context","title":"Using request scoped beans inside WebClient filter","body":"<p>The use case I have is a request scoped bean for storing cookies, so that they can be propagated later on. With the asynchronous nature of the <code>WebClient</code> the requests are executed on different threads, therefore things associated with the thread like the <code>MDC</code> for logging. I assume that request scoped beans are handled in a similar manner and are therefore not accessible in a filter.</p>\n<p>According to the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-context\" rel=\"nofollow noreferrer\">Spring documentation</a> you can inject/attach objects to the request so that it becomes available in the filter. I tried it though the <code>attribute</code> which I got working, but somehow the approach with the <code>context</code> does nothing.</p>\n<p>Here is the definition of the <code>WebClient</code>:</p>\n<pre><code>@Bean\npublic WebClient getWebClient(WebClientFilterFactory filterFactory)\n{\n    ClientHttpConnector connector = new HttpComponentsClientHttpConnector(httpClient(100, 10));\n\n    return WebClient.builder()\n            .baseUrl(&quot;http://localhost:8081&quot;)\n            .clientConnector(connector)\n            .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .defaultRequest(spec -&gt; {\n                spec.attribute(&quot;AnotherBean&quot;, &quot;bar&quot;);\n            })\n            .filter((request, next) -&gt; {\n                Optional&lt;Object&gt; value = request.attribute(&quot;RequestScopedBean&quot;);\n               if (value.isPresent()) {\n                   log.info(&quot;Retrieved from context: {}&quot;, value.get());\n               } else {\n                   log.warn(&quot;Found nothing in context!&quot;);\n               }\n               value = request.attribute(&quot;AnotherBean&quot;);\n                if (value.isPresent()) {\n                    log.info(&quot;Retrieved from context: {}&quot;, value.get());\n                } else {\n                    log.warn(&quot;Found nothing in context!&quot;);\n                }\n                Mono.deferContextual(context -&gt; {\n                    String bean = context.get(&quot;InitialScopedBean&quot;);\n                    log.info(&quot;Retrieved bean from context: {}&quot;, bean);\n                    return Mono.empty();\n                });\n               return next.exchange(request);\n            })\n            .build();\n}\n</code></pre>\n<p>And this is how it is called:</p>\n<pre><code>webClient.get()\n  .uri(&quot;/hello&quot;)\n  .attribute(&quot;RequestScopedBean&quot;, &quot;foo&quot;)\n  .retrieve()\n  .bodyToMono(HelloWorld.class)\n  .contextWrite(context -&gt; context.put(&quot;InitialScopedBean&quot;, &quot;baz&quot;))\n  .block();\n</code></pre>\n<p>I only get the log output for the values <code>foo</code> and <code>bar</code> which are both defined through attribute either as part of the request definition in the builder, or when executing the request. The <code>baz</code> from the context is missing and debugging confirms that the <code>Mono.deferContextual</code> function is never executed.</p>\n<p>As is the case with request scoped beans, I cannot attach them to the request definition on the builder, as that would defeat the purpose of the scope. While I can solve the problem with attributes, I would like to understand what I am doing wrong with the context approach.</p>\n"},{"tags":["java","tcp","sctp","diameter-protocol"],"answers":[{"tags":[],"owner":{"account_id":2009138,"reputation":445,"user_id":1798091,"accept_rate":50,"display_name":"Oded Itzhaky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1546770993,"creation_date":1546770993,"answer_id":54060679,"question_id":54021084,"body_markdown":"DPR means a Diameter peer wants to disconnect from a Diameter peer its currently connected to.\r\n\r\nIts all on the base RFC. I suggest to read every command you want to implement:\r\n\r\n[rfc 6733][1]:\r\n\r\n&gt; 5.4.  Disconnecting Peer Connections\r\n\r\n  &gt; When a Diameter node disconnects one of its transport connections,\r\n   its peer cannot know the reason for the disconnect and will most\r\n   likely assume that a connectivity problem occurred or that the peer\r\n   has rebooted.  In these cases, the peer may periodically attempt to\r\n   reconnect, as stated in Section 2.1.  In the event that the\r\n   disconnect was a result of either a shortage of internal resources or\r\n   simply that the node in question has no intentions of forwarding any\r\n   Diameter messages to the peer in the foreseeable future, a periodic\r\n   connection request would not be welcomed.  The Disconnection-Reason\r\n   AVP contains the reason the Diameter node issued the Disconnect-Peer-\r\n   Request message.\r\n\r\n  &gt; The Disconnect-Peer-Request message is used by a Diameter node to\r\n   inform its peer of its intent to disconnect the transport layer and\r\n   that the peer shouldn&#39;t reconnect unless it has a valid reason to do\r\n   so (e.g., message to be forwarded).  Upon receipt of the message, the\r\n   Disconnect-Peer-Answer message is returned, which SHOULD contain an\r\n   error if messages have recently been forwarded, and are likely in\r\n   flight, which would otherwise cause a race condition.\r\n\r\n   &gt;The receiver of the Disconnect-Peer-Answer message initiates the\r\n   transport disconnect.  The sender of the Disconnect-Peer-Answer\r\n   message should be able to detect the transport closure and clean up\r\n   the connection.\r\n\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6733#section-5.4","title":"how to handle DPR in diameter and when DPR will send? is any condition for sending DPR?","body":"<p>DPR means a Diameter peer wants to disconnect from a Diameter peer its currently connected to.</p>\n<p>Its all on the base RFC. I suggest to read every command you want to implement:</p>\n<p><a href=\"https://www.rfc-editor.org/rfc/rfc6733#section-5.4\" rel=\"nofollow noreferrer\">rfc 6733</a>:</p>\n<blockquote>\n<p>5.4.  Disconnecting Peer Connections</p>\n</blockquote>\n<blockquote>\n<p>When a Diameter node disconnects one of its transport connections,\nits peer cannot know the reason for the disconnect and will most\nlikely assume that a connectivity problem occurred or that the peer\nhas rebooted.  In these cases, the peer may periodically attempt to\nreconnect, as stated in Section 2.1.  In the event that the\ndisconnect was a result of either a shortage of internal resources or\nsimply that the node in question has no intentions of forwarding any\nDiameter messages to the peer in the foreseeable future, a periodic\nconnection request would not be welcomed.  The Disconnection-Reason\nAVP contains the reason the Diameter node issued the Disconnect-Peer-\nRequest message.</p>\n</blockquote>\n<blockquote>\n<p>The Disconnect-Peer-Request message is used by a Diameter node to\ninform its peer of its intent to disconnect the transport layer and\nthat the peer shouldn't reconnect unless it has a valid reason to do\nso (e.g., message to be forwarded).  Upon receipt of the message, the\nDisconnect-Peer-Answer message is returned, which SHOULD contain an\nerror if messages have recently been forwarded, and are likely in\nflight, which would otherwise cause a race condition.</p>\n</blockquote>\n<blockquote>\n<p>The receiver of the Disconnect-Peer-Answer message initiates the\ntransport disconnect.  The sender of the Disconnect-Peer-Answer\nmessage should be able to detect the transport closure and clean up\nthe connection.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3376255,"reputation":1,"user_id":3206320,"display_name":"DVingarzan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648117578,"creation_date":1648117578,"answer_id":71600745,"question_id":54021084,"body_markdown":"Or explained in short: if you cut the TCP/SCTP connection without sending DPR, the other side will assume that there was a networking issue and will, most likely, attempt to reconnect immediately.\r\n\r\nWith DPR, in the Disconnect-Cause AVP you can specify the reason:\r\n- REBOOTING(0) - you may reconnect, but sounds like later\r\n- BUSY(1) - you should not reconnect, this node is overloaded, try to find alternatives\r\n- DO_NOT_WANT_TO_TALK_TO_YOU(2) - if you try to reconnect, it will be rejected (the peer connection was most likely unconfigured)\r\n\r\n(The somehow still open questions: is the DPA is really needed, how long should the other side wait for it, etc.)\r\n\r\n","title":"how to handle DPR in diameter and when DPR will send? is any condition for sending DPR?","body":"<p>Or explained in short: if you cut the TCP/SCTP connection without sending DPR, the other side will assume that there was a networking issue and will, most likely, attempt to reconnect immediately.</p>\n<p>With DPR, in the Disconnect-Cause AVP you can specify the reason:</p>\n<ul>\n<li>REBOOTING(0) - you may reconnect, but sounds like later</li>\n<li>BUSY(1) - you should not reconnect, this node is overloaded, try to find alternatives</li>\n<li>DO_NOT_WANT_TO_TALK_TO_YOU(2) - if you try to reconnect, it will be rejected (the peer connection was most likely unconfigured)</li>\n</ul>\n<p>(The somehow still open questions: is the DPA is really needed, how long should the other side wait for it, etc.)</p>\n"}],"owner":{"account_id":14633351,"reputation":194,"user_id":10568389,"display_name":"Kamal Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54060679,"answer_count":2,"score":0,"last_activity_date":1648117728,"creation_date":1546513563,"question_id":54021084,"body_markdown":"I want to know that: how to send DPR in diameter. Is there any particular condition for sending DPR? In my code I have already done DWR &amp; DWA and CEA &amp; CER. DPR is sent after CER or before CEA.","title":"how to handle DPR in diameter and when DPR will send? is any condition for sending DPR?","body":"<p>I want to know that: how to send DPR in diameter. Is there any particular condition for sending DPR? In my code I have already done DWR &amp; DWA and CEA &amp; CER. DPR is sent after CER or before CEA.</p>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1485431245,"post_id":41872503,"comment_id":70927094,"body_markdown":"Change pattern to `&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;`, with `HH` in uppercase.","body":"Change pattern to <code>&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;</code>, with <code>HH</code> in uppercase."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1485431863,"post_id":41872503,"comment_id":70927445,"body_markdown":"@Andreas, why is it refusing the AM/PM format in `Instant.from(TemporalAccessor)`","body":"@Andreas, why is it refusing the AM/PM format in <code>Instant.from(TemporalAccessor)</code>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1485450342,"post_id":41872503,"comment_id":70939912,"body_markdown":"@AxelH Because `hh` (01-12) without `a` (AM/PM) is an incomplete hour value. Input `02:00` can be 2 AM or 2 PM. To correctly parse hour of day, you need either `HH`, or `hh` + `a`.","body":"@AxelH Because <code>hh</code> (01-12) without <code>a</code> (AM/PM) is an incomplete hour value. Input <code>02:00</code> can be 2 AM or 2 PM. To correctly parse hour of day, you need either <code>HH</code>, or <code>hh</code> + <code>a</code>."}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1485432416,"creation_date":1485431304,"answer_id":41872808,"question_id":41872503,"body_markdown":"I forgot to specify timezone\r\n\r\n    Instant instant = Instant.from(\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;)\r\n                    .withZone(ZoneId.of(&quot;UTC&quot;))\r\n                    .parse(&quot;2015-05-08T22:57&quot;));\r\n\r\n\r\nworks fine.\r\n\r\n**UPDATE:** Also I had another problem I used `hh` instead of `HH`.","title":"Parse Instant without second","body":"<p>I forgot to specify timezone</p>\n\n<pre><code>Instant instant = Instant.from(\n        DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm\")\n                .withZone(ZoneId.of(\"UTC\"))\n                .parse(\"2015-05-08T22:57\"));\n</code></pre>\n\n<p>works fine.</p>\n\n<p><strong>UPDATE:</strong> Also I had another problem I used <code>hh</code> instead of <code>HH</code>.</p>\n"},{"tags":[],"owner":{"account_id":1493988,"reputation":833,"user_id":1400380,"display_name":"Jordan Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648117639,"creation_date":1648117639,"answer_id":71600766,"question_id":41872503,"body_markdown":"A more flexible way:\r\n\r\n    var instant = ISO_LOCAL_DATE_TIME.parse(&quot;2015-05-08T22:57&quot;, LocalDateTime::from)\r\n                    .toInstant(UTC);","title":"Parse Instant without second","body":"<p>A more flexible way:</p>\n<pre><code>var instant = ISO_LOCAL_DATE_TIME.parse(&quot;2015-05-08T22:57&quot;, LocalDateTime::from)\n                .toInstant(UTC);\n</code></pre>\n"}],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2470,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41872808,"answer_count":2,"score":2,"last_activity_date":1648117639,"creation_date":1485430240,"question_id":41872503,"body_markdown":"I have date in string `&quot;2015-05-08T02:56&quot;`. As you can see it doesn&#39;t have seconds. \r\n\r\nWhen I try to parse it with:\r\n\r\n    Instant instant = Instant.from(\r\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;hh:mm&quot;)\r\n                    .parse(&quot;2015-05-08T02:56&quot;));\r\n\r\nI get Exception \r\n\r\n    Exception in thread &quot;main&quot; java.time.DateTimeException: Unable to obtain Instant from TemporalAccessor: {MinuteOfHour=56, HourOfAmPm=2},ISO resolved to 2015-05-08 of type java.time.format.Parsed\r\n    \tat java.time.Instant.from(Instant.java:378)\r\n    \tat sample.Main.main(Main.java:18)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\n    Caused by: java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: InstantSeconds\r\n    \tat java.time.format.Parsed.getLong(Parsed.java:203)\r\n    \tat java.time.Instant.from(Instant.java:373)\r\n    \t... 6 more\r\n\r\nHow to parse this date correctly and fill seconds with `0`?","title":"Parse Instant without second","body":"<p>I have date in string <code>\"2015-05-08T02:56\"</code>. As you can see it doesn't have seconds. </p>\n\n<p>When I try to parse it with:</p>\n\n<pre><code>Instant instant = Instant.from(\n        DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'hh:mm\")\n                .parse(\"2015-05-08T02:56\"));\n</code></pre>\n\n<p>I get Exception </p>\n\n<pre><code>Exception in thread \"main\" java.time.DateTimeException: Unable to obtain Instant from TemporalAccessor: {MinuteOfHour=56, HourOfAmPm=2},ISO resolved to 2015-05-08 of type java.time.format.Parsed\n    at java.time.Instant.from(Instant.java:378)\n    at sample.Main.main(Main.java:18)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\nCaused by: java.time.temporal.UnsupportedTemporalTypeException: Unsupported field: InstantSeconds\n    at java.time.format.Parsed.getLong(Parsed.java:203)\n    at java.time.Instant.from(Instant.java:373)\n    ... 6 more\n</code></pre>\n\n<p>How to parse this date correctly and fill seconds with <code>0</code>?</p>\n"},{"tags":["java","maven","ant","yguard"],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648117600,"creation_date":1648117600,"answer_id":71600751,"question_id":67620826,"body_markdown":"The `&lt;rename&gt;` element&#39;s `&lt;keep&gt;` child works exactly the opposite way: If you `&lt;include&gt;` a class in `&lt;keep&gt;`, this class is **not** renamed. I.e. `&lt;include&gt;` means &quot;include in the set of classes whose names are not changed&quot;.\r\n\r\nSince you want to prevent Batik stuff from being renamed, your configuration should be\r\n\r\n    &lt;keep&gt;\r\n      &lt;class&gt;\r\n        &lt;patternset&gt;\r\n          &lt;include name=&quot;org.apache.**.*&quot;/&gt;\r\n          &lt;include name=&quot;javax.**.*&quot;/&gt;\r\n        &lt;/patternset&gt;\r\n      &lt;/class&gt;\r\n    &lt;/keep&gt;\r\n\r\nYou do not need `&lt;exclude&gt;` for your use case. `&lt;exclude&gt;` is only necessary, if you want to rename a subset of the classes that should not be renamed.","title":"Obfuscating specific packages in a fat jar (maven project) with yGuard","body":"<p>The <code>&lt;rename&gt;</code> element's <code>&lt;keep&gt;</code> child works exactly the opposite way: If you <code>&lt;include&gt;</code> a class in <code>&lt;keep&gt;</code>, this class is <strong>not</strong> renamed. I.e. <code>&lt;include&gt;</code> means &quot;include in the set of classes whose names are not changed&quot;.</p>\n<p>Since you want to prevent Batik stuff from being renamed, your configuration should be</p>\n<pre><code>&lt;keep&gt;\n  &lt;class&gt;\n    &lt;patternset&gt;\n      &lt;include name=&quot;org.apache.**.*&quot;/&gt;\n      &lt;include name=&quot;javax.**.*&quot;/&gt;\n    &lt;/patternset&gt;\n  &lt;/class&gt;\n&lt;/keep&gt;\n</code></pre>\n<p>You do not need <code>&lt;exclude&gt;</code> for your use case. <code>&lt;exclude&gt;</code> is only necessary, if you want to rename a subset of the classes that should not be renamed.</p>\n"}],"owner":{"account_id":2922781,"reputation":1839,"user_id":2504705,"accept_rate":97,"display_name":"kallada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71600751,"answer_count":1,"score":0,"last_activity_date":1648117600,"creation_date":1621515524,"question_id":67620826,"body_markdown":"I&#39;m trying to create an obfuscated fat jar for my tool. After trying proguard, I found yGuard for the same purpose. \r\n\r\nThe following is the steps for obfuscation\r\n\r\n - Step 1: Create fat jar with maven shaded plugin \r\n   \r\n - Step 2: The fat jar created in step 1 shall be used by yGuard ant task.\r\n\r\nI need to obfuscate the custom packages only, since obfuscating external jars like batik library gives errors. Eg:\r\n\r\n    Caused by: java.io.IOException: An error (&#39;No mapping found for: Field org/apache/batik/bridge/SVGPathElementBridge.ctx&#39;) occured during the remapping! See the log!)\r\n        at com.yworks.yguard.obf.GuardDB.remapTo(GuardDB.java:547)\r\n        at com.yworks.yguard.ObfuscatorTask.execute(ObfuscatorTask.java:1064)\r\n\r\nBased on the ygurd documentation I have modified the ant task to include only the custom packages. But this is not happening, yGuard not considering this configuration. The following is the current ant task configuration.\r\n\r\n    \t&lt;target name=&quot;yguard&quot; depends=&quot;jar&quot;&gt;\r\n\t\t&lt;taskdef name=&quot;yguard&quot; classname=&quot;com.yworks.yguard.YGuardTask&quot; classpath=&quot;${projectDir}/lib/yguard-${version}.jar&quot; /&gt;\r\n\t\t&lt;yguard&gt;\r\n\t\t\t&lt;inoutpair in=&quot;${jar}&quot; out=&quot;${obfjar}&quot; /&gt;\r\n\r\n\t\t\t&lt;shrink logfile=&quot;${shrinklog}&quot;&gt;\r\n\t\t\t\t&lt;keep&gt;\r\n\t\t\t\t\t&lt;!-- main method --&gt;\r\n\t\t\t\t\t&lt;method name=&quot;void main(java.lang.String[])&quot; class=&quot;${mainclass}&quot; /&gt;\r\n\t\t\t\t&lt;/keep&gt;\r\n\t\t\t&lt;/shrink&gt;\r\n\r\n\t\t\t&lt;rename mainclass=&quot;${mainclass}&quot; logfile=&quot;${renamelog}&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;error-checking&quot; value=&quot;pedantic&quot; /&gt;\r\n\t\t\t\t&lt;keep&gt;\r\n\t\t\t\t\t&lt;class&gt;\r\n\t\t\t\t\t\t&lt;patternset&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Custom library - should be obfuscated --&gt;\r\n                            &lt;include name=&quot;com.acme.**.*&quot; /&gt;\r\n                            &lt;!-- Excluded library --&gt;\r\n\t\t\t\t\t\t\t&lt;exclude name=&quot;org.apache.**.*&quot; /&gt;\r\n\t\t\t\t\t\t\t&lt;exclude name=&quot;javx.**.*&quot; /&gt;\r\n\t\t\t\t\t\t&lt;/patternset&gt;\r\n\t\t\t\t\t&lt;/class&gt;\r\n\t\t\t\t&lt;/keep&gt;\r\n\t\t\t&lt;/rename&gt;\r\n\t\t&lt;/yguard&gt;\r\n\t&lt;/target&gt;\r\n\r\n\r\nAny pointers to solve this issue highly appreciated. Thanks in advance\r\n\r\n","title":"Obfuscating specific packages in a fat jar (maven project) with yGuard","body":"<p>I'm trying to create an obfuscated fat jar for my tool. After trying proguard, I found yGuard for the same purpose.</p>\n<p>The following is the steps for obfuscation</p>\n<ul>\n<li><p>Step 1: Create fat jar with maven shaded plugin</p>\n</li>\n<li><p>Step 2: The fat jar created in step 1 shall be used by yGuard ant task.</p>\n</li>\n</ul>\n<p>I need to obfuscate the custom packages only, since obfuscating external jars like batik library gives errors. Eg:</p>\n<pre><code>Caused by: java.io.IOException: An error ('No mapping found for: Field org/apache/batik/bridge/SVGPathElementBridge.ctx') occured during the remapping! See the log!)\n    at com.yworks.yguard.obf.GuardDB.remapTo(GuardDB.java:547)\n    at com.yworks.yguard.ObfuscatorTask.execute(ObfuscatorTask.java:1064)\n</code></pre>\n<p>Based on the ygurd documentation I have modified the ant task to include only the custom packages. But this is not happening, yGuard not considering this configuration. The following is the current ant task configuration.</p>\n<pre><code>    &lt;target name=&quot;yguard&quot; depends=&quot;jar&quot;&gt;\n    &lt;taskdef name=&quot;yguard&quot; classname=&quot;com.yworks.yguard.YGuardTask&quot; classpath=&quot;${projectDir}/lib/yguard-${version}.jar&quot; /&gt;\n    &lt;yguard&gt;\n        &lt;inoutpair in=&quot;${jar}&quot; out=&quot;${obfjar}&quot; /&gt;\n\n        &lt;shrink logfile=&quot;${shrinklog}&quot;&gt;\n            &lt;keep&gt;\n                &lt;!-- main method --&gt;\n                &lt;method name=&quot;void main(java.lang.String[])&quot; class=&quot;${mainclass}&quot; /&gt;\n            &lt;/keep&gt;\n        &lt;/shrink&gt;\n\n        &lt;rename mainclass=&quot;${mainclass}&quot; logfile=&quot;${renamelog}&quot;&gt;\n            &lt;property name=&quot;error-checking&quot; value=&quot;pedantic&quot; /&gt;\n            &lt;keep&gt;\n                &lt;class&gt;\n                    &lt;patternset&gt;\n                        &lt;!-- Custom library - should be obfuscated --&gt;\n                        &lt;include name=&quot;com.acme.**.*&quot; /&gt;\n                        &lt;!-- Excluded library --&gt;\n                        &lt;exclude name=&quot;org.apache.**.*&quot; /&gt;\n                        &lt;exclude name=&quot;javx.**.*&quot; /&gt;\n                    &lt;/patternset&gt;\n                &lt;/class&gt;\n            &lt;/keep&gt;\n        &lt;/rename&gt;\n    &lt;/yguard&gt;\n&lt;/target&gt;\n</code></pre>\n<p>Any pointers to solve this issue highly appreciated. Thanks in advance</p>\n"},{"tags":["java","class","import","lucee"],"comments":[{"owner":{"account_id":12185191,"reputation":6465,"user_id":8895292,"display_name":"SOS"},"score":1,"creation_date":1648794020,"post_id":71594948,"comment_id":126719021,"body_markdown":"Though it&#39;ll work either way, since you&#39;re already using cfscript, may as well use `createObject()` instead of `&lt;cfobject&gt;`. More readable and no mixing of cfml and cfscript :-)","body":"Though it&#39;ll work either way, since you&#39;re already using cfscript, may as well use <code>createObject()</code> instead of <code>&lt;cfobject&gt;</code>. More readable and no mixing of cfml and cfscript :-)"}],"answers":[{"tags":[],"owner":{"account_id":70617,"reputation":2353,"user_id":204620,"display_name":"CfSimplicity"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648117576,"creation_date":1648117576,"answer_id":71600744,"question_id":71594948,"body_markdown":"`PasswordProtection` is an inner class of `java.security.KeyStore`. To instantiate it in Lucee you need to use a `$`, so change\r\n```\r\n&lt;cfobject type=&quot;java&quot; class=&quot;java.security.KeyStore.PasswordProtection&quot; name=&quot;PasswordProtection&quot;/&gt;\r\n```\r\nto\r\n```\r\n&lt;cfobject type=&quot;java&quot; class=&quot;java.security.KeyStore$PasswordProtection&quot; name=&quot;PasswordProtection&quot;/&gt;\r\n```","title":"How to import java.security.KeyStore.PasswordProtection in lucee","body":"<p><code>PasswordProtection</code> is an inner class of <code>java.security.KeyStore</code>. To instantiate it in Lucee you need to use a <code>$</code>, so change</p>\n<pre><code>&lt;cfobject type=&quot;java&quot; class=&quot;java.security.KeyStore.PasswordProtection&quot; name=&quot;PasswordProtection&quot;/&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;cfobject type=&quot;java&quot; class=&quot;java.security.KeyStore$PasswordProtection&quot; name=&quot;PasswordProtection&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":24666540,"reputation":33,"user_id":18562094,"display_name":"Allan Saturno dos Santos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71600744,"answer_count":1,"score":3,"last_activity_date":1648117576,"creation_date":1648075409,"question_id":71594948,"body_markdown":"I&#39;m trying use JKS XML signature in Lucee, but when test my code ocurring the follow error\r\n\r\ncannot load class through its string name, because no definition for the class with the specified name \\[java.security.KeyStore.PasswordProtection\\] could be found caused by (java.lang.ClassNotFoundException:java.security.KeyStore.PasswordProtection;java.lang.ClassNotFoundException:java.security.KeyStore.PasswordProtection;)\r\n\r\nLucee &quot;createObject&quot; function does not imports java.security.KeyStore.PasswordProtection \r\n\r\nMy code:\r\n\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.io.FileInputStream&quot; name=&quot;FileInputStream&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.io.FileOutputStream&quot; name=&quot;FileOutputStream&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.io.OutputStream&quot; name=&quot;OutputStream&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.security.KeyStore&quot; name=&quot;KeyStore&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.security.KeyStore.PasswordProtection&quot; name=&quot;PasswordProtection&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.security.cert.X509Certificate&quot; name=&quot;X509Certificate&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.util.ArrayList&quot; name=&quot;ArrayList&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.util.Collections&quot; name=&quot;Collections&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;java.util.List&quot; name=&quot;List&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.CanonicalizationMethod&quot; name=&quot;CanonicalizationMethod&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.DigestMethod&quot; name=&quot;DigestMethod&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.Reference&quot; name=&quot;Reference&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.SignedInfo&quot; name=&quot;SignedInfo&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.Transform&quot; name=&quot;Transform&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.XMLSignature&quot; name=&quot;XMLSignature&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.XMLSignatureFactory&quot; name=&quot;XMLSignatureFactory&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.dom.DOMSignContext&quot; name=&quot;DOMSignContext&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.keyinfo.KeyInfo&quot; name=&quot;KeyInfo&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.keyinfo.KeyInfoFactory&quot; name=&quot;KeyInfoFactory&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.keyinfo.X509Data&quot; name=&quot;X509Data&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.spec.C14NMethodParameterSpec&quot; name=&quot;C14NMethodParameterSpec&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.spec.TransformParameterSpec&quot; name=&quot;TransformParameterSpec&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.parsers.DocumentBuilderFactory&quot; name=&quot;DocumentBuilderFactory&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.transform.Transformer&quot; name=&quot;Transformer&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.transform.TransformerFactory&quot; name=&quot;TransformerFactory&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.transform.dom.DOMSource&quot; name=&quot;DOMSource&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.transform.stream.StreamResult&quot; name=&quot;StreamResult&quot;/&gt;\r\n    &lt;cfobject type=&quot;java&quot; class=&quot;org.w3c.dom.Document&quot; name=&quot;Document&quot;/&gt;\r\n    \r\n    &lt;cfscript&gt;\r\n    \r\n        fac = XMLSignatureFactory.getInstance();\r\n    \r\n        // Create a Reference to the enveloped document (in this case,\r\n        // you are signing the whole document, so a URI of &quot;&quot; signifies\r\n        // that, and also specify the SHA1 digest algorithm and\r\n        // the ENVELOPED Transform.\r\n        writeOutput(&quot;Creating a reference to the enveloped document...&quot;);\r\n        ref = fac.newReference(&quot;&quot;, fac.newDigestMethod(DigestMethod.SHA256, nullValue()),Collections.singletonList(fac.newTransform(Transform.ENVELOPED, nullValue())), nullValue(), nullValue());\r\n    \r\n        // Create the SignedInfo.\r\n        writeOutput(&quot;Creating a Signed Info...&quot;);\r\n        si = fac.newSignedInfo(fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE, nullValue()),\r\n        fac.newSignatureMethod(&quot;http://www.w3.org/2001/04/xmldsig-more##rsa-sha256&quot;, nullValue()), Collections.singletonList(ref));\r\n    \r\n        // Instantiate the document to be signed.\r\n        writeOutput(&quot;Instantiate the document to be signed... in this case it&#39;s purchaseOrder.xml&quot;);\r\n        dbf = DocumentBuilderFactory.newInstance();\r\n        dbf.setNamespaceAware(true);\r\n        doc = dbf.newDocumentBuilder().parse(FileInputStream.init(expandPath(&quot;purchaseOrder.xml&quot;)));\r\n    \r\n    \r\n        writeOutput(&quot;Load the keystore stored in this project to get our keys and certificate...&quot;);\r\n        // Load the KeyStore and get the signing key and certificate.\r\n        ks = KeyStore.getInstance(&quot;JKS&quot;);\r\n        ks.load(FileInputStream.init(expandPath(&quot;changeit.keystore&quot;)), &quot;changeit&quot;.toCharArray());\r\n    \r\n        keyEntry = ks.getEntry(&quot;myAlias&quot;, KeyStore.PasswordProtection(&quot;changeit&quot;.toCharArray()));\r\n        cert = keyEntry.getCertificate();\r\n        // Create the KeyInfo containing the X509Data.\r\n        kif = fac.getKeyInfoFactory();\r\n        x509Content = new ArrayList();\r\n        x509Content.add(cert.getSubjectX500Principal().getName());\r\n        x509Content.add(cert);\r\n    \r\n        xd = kif.newX509Data(x509Content);\r\n    \r\n        ki = kif.newKeyInfo(Collections.singletonList(xd));\r\n    \r\n        // Create a DOMSignContext and specify the RSA PrivateKey and\r\n        // location of the resulting XMLSignature&#39;s parent element.\r\n        writeOutput(&quot;Creating a DomSignContext with our privateKey...&quot;);\r\n        dsc = new DOMSignContext(keyEntry.getPrivateKey(), doc.getDocumentElement());\r\n    \r\n        // Create the XMLSignature, but don&#39;t sign it yet.\r\n        writeOutput(&quot;Creating the XMLsignature but don&#39;t sign it...&quot;);\r\n        signature = fac.newXMLSignature(si, ki);\r\n    \r\n        // Marshal, generate, and sign the enveloped signature.\r\n        writeOutput(&quot;Marshal, generate and sign the enveloped signature...&quot;);\r\n        signature.sign(dsc);\r\n    \r\n        // Output the resulting document.\r\n        os = FileOutputStream.init(expandPath(&quot;signedPurchaseOrder.xml&quot;));\r\n        tf = TransformerFactory.newInstance();\r\n        trans = tf.newTransformer();\r\n        trans.transform(new DOMSource(doc), new StreamResult(os));\r\n        writeOutput(&quot;Output to signedPurchaseOrder.xml ...&quot;);\r\n        // Validate our created signedPurchaseOrder.xml with our provided public key.\r\n        writeOutput(&quot;Validate our signedPurchaseOrder.xml ...&quot;);\r\n    \r\n        // new Validation().validate(cert.getPublicKey(), &quot;signedPurchaseOrder.xml&quot;);\r\n    &lt;/cfscript&gt;\r\n\r\nCan anybody help me?\r\n\r\nThanks,","title":"How to import java.security.KeyStore.PasswordProtection in lucee","body":"<p>I'm trying use JKS XML signature in Lucee, but when test my code ocurring the follow error</p>\n<p>cannot load class through its string name, because no definition for the class with the specified name [java.security.KeyStore.PasswordProtection] could be found caused by (java.lang.ClassNotFoundException:java.security.KeyStore.PasswordProtection;java.lang.ClassNotFoundException:java.security.KeyStore.PasswordProtection;)</p>\n<p>Lucee &quot;createObject&quot; function does not imports java.security.KeyStore.PasswordProtection</p>\n<p>My code:</p>\n<pre><code>&lt;cfobject type=&quot;java&quot; class=&quot;java.io.FileInputStream&quot; name=&quot;FileInputStream&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;java.io.FileOutputStream&quot; name=&quot;FileOutputStream&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;java.io.OutputStream&quot; name=&quot;OutputStream&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;java.security.KeyStore&quot; name=&quot;KeyStore&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;java.security.KeyStore.PasswordProtection&quot; name=&quot;PasswordProtection&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;java.security.cert.X509Certificate&quot; name=&quot;X509Certificate&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;java.util.ArrayList&quot; name=&quot;ArrayList&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;java.util.Collections&quot; name=&quot;Collections&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;java.util.List&quot; name=&quot;List&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.CanonicalizationMethod&quot; name=&quot;CanonicalizationMethod&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.DigestMethod&quot; name=&quot;DigestMethod&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.Reference&quot; name=&quot;Reference&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.SignedInfo&quot; name=&quot;SignedInfo&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.Transform&quot; name=&quot;Transform&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.XMLSignature&quot; name=&quot;XMLSignature&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.XMLSignatureFactory&quot; name=&quot;XMLSignatureFactory&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.dom.DOMSignContext&quot; name=&quot;DOMSignContext&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.keyinfo.KeyInfo&quot; name=&quot;KeyInfo&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.keyinfo.KeyInfoFactory&quot; name=&quot;KeyInfoFactory&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.keyinfo.X509Data&quot; name=&quot;X509Data&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.spec.C14NMethodParameterSpec&quot; name=&quot;C14NMethodParameterSpec&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.crypto.dsig.spec.TransformParameterSpec&quot; name=&quot;TransformParameterSpec&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.parsers.DocumentBuilderFactory&quot; name=&quot;DocumentBuilderFactory&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.transform.Transformer&quot; name=&quot;Transformer&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.transform.TransformerFactory&quot; name=&quot;TransformerFactory&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.transform.dom.DOMSource&quot; name=&quot;DOMSource&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;javax.xml.transform.stream.StreamResult&quot; name=&quot;StreamResult&quot;/&gt;\n&lt;cfobject type=&quot;java&quot; class=&quot;org.w3c.dom.Document&quot; name=&quot;Document&quot;/&gt;\n\n&lt;cfscript&gt;\n\n    fac = XMLSignatureFactory.getInstance();\n\n    // Create a Reference to the enveloped document (in this case,\n    // you are signing the whole document, so a URI of &quot;&quot; signifies\n    // that, and also specify the SHA1 digest algorithm and\n    // the ENVELOPED Transform.\n    writeOutput(&quot;Creating a reference to the enveloped document...&quot;);\n    ref = fac.newReference(&quot;&quot;, fac.newDigestMethod(DigestMethod.SHA256, nullValue()),Collections.singletonList(fac.newTransform(Transform.ENVELOPED, nullValue())), nullValue(), nullValue());\n\n    // Create the SignedInfo.\n    writeOutput(&quot;Creating a Signed Info...&quot;);\n    si = fac.newSignedInfo(fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE, nullValue()),\n    fac.newSignatureMethod(&quot;http://www.w3.org/2001/04/xmldsig-more##rsa-sha256&quot;, nullValue()), Collections.singletonList(ref));\n\n    // Instantiate the document to be signed.\n    writeOutput(&quot;Instantiate the document to be signed... in this case it's purchaseOrder.xml&quot;);\n    dbf = DocumentBuilderFactory.newInstance();\n    dbf.setNamespaceAware(true);\n    doc = dbf.newDocumentBuilder().parse(FileInputStream.init(expandPath(&quot;purchaseOrder.xml&quot;)));\n\n\n    writeOutput(&quot;Load the keystore stored in this project to get our keys and certificate...&quot;);\n    // Load the KeyStore and get the signing key and certificate.\n    ks = KeyStore.getInstance(&quot;JKS&quot;);\n    ks.load(FileInputStream.init(expandPath(&quot;changeit.keystore&quot;)), &quot;changeit&quot;.toCharArray());\n\n    keyEntry = ks.getEntry(&quot;myAlias&quot;, KeyStore.PasswordProtection(&quot;changeit&quot;.toCharArray()));\n    cert = keyEntry.getCertificate();\n    // Create the KeyInfo containing the X509Data.\n    kif = fac.getKeyInfoFactory();\n    x509Content = new ArrayList();\n    x509Content.add(cert.getSubjectX500Principal().getName());\n    x509Content.add(cert);\n\n    xd = kif.newX509Data(x509Content);\n\n    ki = kif.newKeyInfo(Collections.singletonList(xd));\n\n    // Create a DOMSignContext and specify the RSA PrivateKey and\n    // location of the resulting XMLSignature's parent element.\n    writeOutput(&quot;Creating a DomSignContext with our privateKey...&quot;);\n    dsc = new DOMSignContext(keyEntry.getPrivateKey(), doc.getDocumentElement());\n\n    // Create the XMLSignature, but don't sign it yet.\n    writeOutput(&quot;Creating the XMLsignature but don't sign it...&quot;);\n    signature = fac.newXMLSignature(si, ki);\n\n    // Marshal, generate, and sign the enveloped signature.\n    writeOutput(&quot;Marshal, generate and sign the enveloped signature...&quot;);\n    signature.sign(dsc);\n\n    // Output the resulting document.\n    os = FileOutputStream.init(expandPath(&quot;signedPurchaseOrder.xml&quot;));\n    tf = TransformerFactory.newInstance();\n    trans = tf.newTransformer();\n    trans.transform(new DOMSource(doc), new StreamResult(os));\n    writeOutput(&quot;Output to signedPurchaseOrder.xml ...&quot;);\n    // Validate our created signedPurchaseOrder.xml with our provided public key.\n    writeOutput(&quot;Validate our signedPurchaseOrder.xml ...&quot;);\n\n    // new Validation().validate(cert.getPublicKey(), &quot;signedPurchaseOrder.xml&quot;);\n&lt;/cfscript&gt;\n</code></pre>\n<p>Can anybody help me?</p>\n<p>Thanks,</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1648135072,"post_id":71600279,"comment_id":126552496,"body_markdown":"Accepted answer isn&#39;t entirely correct. Save using persist depends on the implementation details behind the persist operation. If your sequence generator isn&#39;t DB driven, it can assign the value right away on the persist call without having to wait for the statement to need to be sent to the database to assign it. Hibernate&#39;s implementation of GenerationType.Auto causes it to delay allocation until the flush, but there are others that don&#39;t, and other providers that pre-allocate sequence numbers, obtaining them in batches and caching them is more efficient as it requires less DB statements","body":"Accepted answer isn&#39;t entirely correct. Save using persist depends on the implementation details behind the persist operation. If your sequence generator isn&#39;t DB driven, it can assign the value right away on the persist call without having to wait for the statement to need to be sent to the database to assign it. Hibernate&#39;s implementation of GenerationType.Auto causes it to delay allocation until the flush, but there are others that don&#39;t, and other providers that pre-allocate sequence numbers, obtaining them in batches and caching them is more efficient as it requires less DB statements"},{"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"score":0,"creation_date":1648137309,"post_id":71600279,"comment_id":126553513,"body_markdown":"@Chris That&#39;s very useful if you have awareness of what is going on in the whole framework and have understanding of at least basic structure of every process like data persisting in the framework. I am not yet an experienced Spring developer, so I still have issues understanding how it all flows. Answer given was on point, and well enough for the purpose of my question. Nevertheless, your comment gave me some insight. I know remembered, that my repositories are interfaces and there&#39;s a lot more functionality present that I don&#39;t know how to use yet. Thank you!","body":"@Chris That&#39;s very useful if you have awareness of what is going on in the whole framework and have understanding of at least basic structure of every process like data persisting in the framework. I am not yet an experienced Spring developer, so I still have issues understanding how it all flows. Answer given was on point, and well enough for the purpose of my question. Nevertheless, your comment gave me some insight. I know remembered, that my repositories are interfaces and there&#39;s a lot more functionality present that I don&#39;t know how to use yet. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":23070187,"reputation":3,"user_id":17184069,"display_name":"Rajasekhar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648116209,"creation_date":1648116209,"answer_id":71600377,"question_id":71600279,"body_markdown":"    SomeEntity entity = new SomeEntity(someArgs);\r\n    SomeEntity saved= someEntityRepository.save(entity);\r\n    Syster.out.println(saved.getId());\r\n\r\nWhenever we are trying to use the Id, the state will change to persistence state and will get the Id value.\r\nWe need to use the Id value from repository return object.","title":"Does entity persisting populate id field","body":"<pre><code>SomeEntity entity = new SomeEntity(someArgs);\nSomeEntity saved= someEntityRepository.save(entity);\nSyster.out.println(saved.getId());\n</code></pre>\n<p>Whenever we are trying to use the Id, the state will change to persistence state and will get the Id value.\nWe need to use the Id value from repository return object.</p>\n"},{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648117485,"creation_date":1648117067,"answer_id":71600597,"question_id":71600279,"body_markdown":"When you use repository save method Hibernate doesn&#39;t send a new record to the database until any flushing operation will be performed (like closing persistent context, or invoking JPQL statement).\r\n\r\nTo be sure that you will have an id, you have to invoke the flush manually. It can be called on any repository and all the persistent context will be flushed. Also `saveAndFlush()` repository method can be used.\r\n\r\n```java\r\nSomeEntity entity = new SomeEntity(someArgs);\r\nsomeEntityRepository.saveAndFlush(entity);\r\nSystem.out.println(entity.getId());\r\n```\r\n\r\n```java\r\nSomeEntity entity = new SomeEntity(someArgs);\r\nsomeEntityRepository.save(entity);\r\nsomeEntityRepository.flush();\r\nSystem.out.println(entity.getId());\r\n```\r\n\r\nKeep in mind that just invoking `save()` method will work too, if you don&#39;t have an open transaction (with `@Transactional` annotation). Because `save()` method will use own `@Transactional` with opening and closing persistent context itself.\r\n\r\n```java\r\nSomeEntity entity = new SomeEntity(someArgs);\r\nsomeEntityRepository.save(entity);\r\nSystem.out.println(entity.getId());\r\n```\r\n","title":"Does entity persisting populate id field","body":"<p>When you use repository save method Hibernate doesn't send a new record to the database until any flushing operation will be performed (like closing persistent context, or invoking JPQL statement).</p>\n<p>To be sure that you will have an id, you have to invoke the flush manually. It can be called on any repository and all the persistent context will be flushed. Also <code>saveAndFlush()</code> repository method can be used.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeEntity entity = new SomeEntity(someArgs);\nsomeEntityRepository.saveAndFlush(entity);\nSystem.out.println(entity.getId());\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>SomeEntity entity = new SomeEntity(someArgs);\nsomeEntityRepository.save(entity);\nsomeEntityRepository.flush();\nSystem.out.println(entity.getId());\n</code></pre>\n<p>Keep in mind that just invoking <code>save()</code> method will work too, if you don't have an open transaction (with <code>@Transactional</code> annotation). Because <code>save()</code> method will use own <code>@Transactional</code> with opening and closing persistent context itself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeEntity entity = new SomeEntity(someArgs);\nsomeEntityRepository.save(entity);\nSystem.out.println(entity.getId());\n</code></pre>\n"}],"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71600597,"answer_count":2,"score":1,"last_activity_date":1648117485,"creation_date":1648115758,"question_id":71600279,"body_markdown":"My question concerns id field population of class object after persising. Example question below this class example\r\n```java\r\n@Entity \r\nclass SomeEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    ...\r\n}\r\n\r\n```\r\nLet&#39;s say I want to persist new entity to repo like this: \r\n```java\r\nSomeEntity entity = new SomeEntity(someArgs);\r\nsomeEntityRepository.save(entity);\r\n```\r\nThe question is - if I want to use id field, which in database is automatically generated, do I have to extract this entitiy once again:\r\n```java\r\nSomeEntity foundEntity = someEntitiyRepository.findTheEntitySomehow(someargs);\r\nSystem.out.println(foundEntity.getId());\r\n```\r\nor I can use it right out of the box?\r\n```java\r\n// Copy code from above\r\n\r\nSomeEntity entity = new SomeEntity(someArgs);\r\nsomeEntityRepository.save(entity);\r\nSystem.out.println(entity.getId());\r\n```","title":"Does entity persisting populate id field","body":"<p>My question concerns id field population of class object after persising. Example question below this class example</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity \nclass SomeEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    ...\n}\n\n</code></pre>\n<p>Let's say I want to persist new entity to repo like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeEntity entity = new SomeEntity(someArgs);\nsomeEntityRepository.save(entity);\n</code></pre>\n<p>The question is - if I want to use id field, which in database is automatically generated, do I have to extract this entitiy once again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeEntity foundEntity = someEntitiyRepository.findTheEntitySomehow(someargs);\nSystem.out.println(foundEntity.getId());\n</code></pre>\n<p>or I can use it right out of the box?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Copy code from above\n\nSomeEntity entity = new SomeEntity(someArgs);\nsomeEntityRepository.save(entity);\nSystem.out.println(entity.getId());\n</code></pre>\n"},{"tags":["java","parameters","wrapper"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1648086372,"post_id":71596034,"comment_id":126537844,"body_markdown":"You can wrap them in an array or a custom class: `class Wrapper&lt;T&gt; { T value; }`","body":"You can wrap them in an array or a custom class: <code>class Wrapper&lt;T&gt; { T value; }</code>"}],"answers":[{"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648097324,"creation_date":1648097324,"answer_id":71597196,"question_id":71596034,"body_markdown":"Java is pass-by-value (Please read https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value), hence you need move these variable to class level for that. Here&#39;s a link see if this is helpful to you : https://stackoverflow.com/a/71553502/1643891","title":"How do I pass &quot;parameters by reference&quot; for int and float on Java","body":"<p>Java is pass-by-value (Please read <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>), hence you need move these variable to class level for that. Here's a link see if this is helpful to you : <a href=\"https://stackoverflow.com/a/71553502/1643891\">https://stackoverflow.com/a/71553502/1643891</a></p>\n"}],"owner":{"account_id":15422313,"reputation":3,"user_id":11126036,"display_name":"Nicolas Panico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648116878,"accepted_answer_id":71597196,"answer_count":1,"score":0,"last_activity_date":1648116835,"creation_date":1648085414,"question_id":71596034,"body_markdown":"I understand that no such thing exists, but I know that you can do something like that with wrapper classes (?). I also can&#39;t use the return statement to return an array or anything. (It&#39;s for a university practice).\r\n\r\nThis is the code I have:\r\n\r\n```java\r\n//This is the main:\r\ncalculadoraMax.devolverParametros(v, min, max, promedio);\r\nSystem.out.println(&quot;min: &quot; + min + &quot; max: &quot; + max + &quot; promedio: &quot; + promedio);\r\n\r\npublic static void devolverParametros(int[] v, Integer min, Integer max, Double promedio) {\r\n    for (int i = 0; i &lt; v.length; i++) { \t\t\t\r\n\r\n        if(v[i] &gt; max) {\r\n            max = v[i]; \r\n        } \t\t\t\r\n\r\n        if(v[i] &lt; min) {\r\n            min = v[i];\r\n        } \t\r\n\r\n        promedio = promedio + v[i];\r\n    }\r\n}\r\n```\r\n\r\nI basically need to get &quot;min&quot;, &quot;max&quot; and &quot;promedio&quot; to get modified in devolverParametros and be returned to the main.\r\n\r\nI have already tried declaring the types of the variables both as Wrapped classes and native classes.\r\n\r\n","title":"How do I pass &quot;parameters by reference&quot; for int and float on Java","body":"<p>I understand that no such thing exists, but I know that you can do something like that with wrapper classes (?). I also can't use the return statement to return an array or anything. (It's for a university practice).</p>\n<p>This is the code I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//This is the main:\ncalculadoraMax.devolverParametros(v, min, max, promedio);\nSystem.out.println(&quot;min: &quot; + min + &quot; max: &quot; + max + &quot; promedio: &quot; + promedio);\n\npublic static void devolverParametros(int[] v, Integer min, Integer max, Double promedio) {\n    for (int i = 0; i &lt; v.length; i++) {            \n\n        if(v[i] &gt; max) {\n            max = v[i]; \n        }           \n\n        if(v[i] &lt; min) {\n            min = v[i];\n        }   \n\n        promedio = promedio + v[i];\n    }\n}\n</code></pre>\n<p>I basically need to get &quot;min&quot;, &quot;max&quot; and &quot;promedio&quot; to get modified in devolverParametros and be returned to the main.</p>\n<p>I have already tried declaring the types of the variables both as Wrapped classes and native classes.</p>\n"},{"tags":["java","swing","key-bindings"],"comments":[{"owner":{"account_id":24666738,"reputation":15,"user_id":18562263,"display_name":"Jessie Smetts"},"score":0,"creation_date":1648135693,"post_id":71595105,"comment_id":126552770,"body_markdown":"I know what i need to do when i get an answer. im not that dumb","body":"I know what i need to do when i get an answer. im not that dumb"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648077434,"creation_date":1648077434,"answer_id":71595229,"question_id":71595105,"body_markdown":"I prefer not to use `KeyStroke.getKeyStroke` as there is a level of ambiguity in how the key stroke might be triggered, this is a personal thing, but I&#39;ve wasted too much time trying to debug issues related to it.\r\n\r\nInstead, I prefer to use `KeyStroke.getKeyStroke(KeyEvent.VK_W, 0)` instead. This is much easier to (for me) to understand and I can configure &quot;pressed&quot; or &quot;released&quot; functionality through it as well.\r\n\r\nThe default behaviour of `getInputMap()` is to generate events `WHEN_FOCUSED`, this is the same as you would expect from `KeyListener`, but you&#39;re adding your key binding to the `JFrame`, which is unlikely to ever gain focus (it&#39;s a composite component, so it doesn&#39;t make sense for it to do so).\r\n\r\nInstead, you should try something like...\r\n\r\n    frame.getInputMap(WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;escapePressed&quot;);\r\n    frame.getActionMap().put(&quot;escapePressed&quot;, escapePressed);\r\n\r\nNow, personally, I think this kind of thing is probably better maintained via a component, which gets added to the frame, but this is me.","title":"What am I doing wrong with this key binding?","body":"<p>I prefer not to use <code>KeyStroke.getKeyStroke</code> as there is a level of ambiguity in how the key stroke might be triggered, this is a personal thing, but I've wasted too much time trying to debug issues related to it.</p>\n<p>Instead, I prefer to use <code>KeyStroke.getKeyStroke(KeyEvent.VK_W, 0)</code> instead. This is much easier to (for me) to understand and I can configure &quot;pressed&quot; or &quot;released&quot; functionality through it as well.</p>\n<p>The default behaviour of <code>getInputMap()</code> is to generate events <code>WHEN_FOCUSED</code>, this is the same as you would expect from <code>KeyListener</code>, but you're adding your key binding to the <code>JFrame</code>, which is unlikely to ever gain focus (it's a composite component, so it doesn't make sense for it to do so).</p>\n<p>Instead, you should try something like...</p>\n<pre><code>frame.getInputMap(WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0), &quot;escapePressed&quot;);\nframe.getActionMap().put(&quot;escapePressed&quot;, escapePressed);\n</code></pre>\n<p>Now, personally, I think this kind of thing is probably better maintained via a component, which gets added to the frame, but this is me.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648088971,"creation_date":1648088616,"answer_id":71596371,"question_id":71595105,"body_markdown":"A couple of problems:\r\n\r\n1. a JFrame doesn&#39;t have an InputMap and ActionMap. Only components that extend from JComponent can use Key Bindings. So to handle an exit KeyStroke you probably want to use the `JRootPane` to add your bindings\r\n2. you don&#39;t want to use the default `WHEN_FOCUSED` InputMap because the root pane won&#39;t have focus as some other component you add to the frame will have focus. Instead you want to use the `WHEN_IN_FOCUSED_WINDOW` InputMap.\r\n\r\nSo your code might be like:\r\n\r\n    //frame.getInputMap().put(KeyStroke.getKeyStroke(&#39;w&#39;), &quot;escapePressed&quot;);\r\n    //frame.getActionMap().put(&quot;escapePressed&quot;, escapePressed);    \r\n    frame.getRootPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(&#39;w&#39;), &quot;escapePressed&quot;);\r\n    frame.getRootPane().getActionMap().put(&quot;escapePressed&quot;, escapePressed);\r\n\r\nRead the section from the Swing tutorial on [How to Use Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) for more information.\r\n\r\nAlso check out [Using Top Level Containers](https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html) for more information about the root pane.","title":"What am I doing wrong with this key binding?","body":"<p>A couple of problems:</p>\n<ol>\n<li>a JFrame doesn't have an InputMap and ActionMap. Only components that extend from JComponent can use Key Bindings. So to handle an exit KeyStroke you probably want to use the <code>JRootPane</code> to add your bindings</li>\n<li>you don't want to use the default <code>WHEN_FOCUSED</code> InputMap because the root pane won't have focus as some other component you add to the frame will have focus. Instead you want to use the <code>WHEN_IN_FOCUSED_WINDOW</code> InputMap.</li>\n</ol>\n<p>So your code might be like:</p>\n<pre><code>//frame.getInputMap().put(KeyStroke.getKeyStroke('w'), &quot;escapePressed&quot;);\n//frame.getActionMap().put(&quot;escapePressed&quot;, escapePressed);    \nframe.getRootPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke('w'), &quot;escapePressed&quot;);\nframe.getRootPane().getActionMap().put(&quot;escapePressed&quot;, escapePressed);\n</code></pre>\n<p>Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to Use Key Bindings</a> for more information.</p>\n<p>Also check out <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">Using Top Level Containers</a> for more information about the root pane.</p>\n"}],"owner":{"account_id":24666738,"reputation":15,"user_id":18562263,"display_name":"Jessie Smetts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71596371,"answer_count":2,"score":0,"last_activity_date":1648116688,"creation_date":1648076519,"question_id":71595105,"body_markdown":"    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    class Menu{\r\n    \r\n      JFrame frame = new JFrame();\r\n      Image icon = Toolkit.getDefaultToolkit().getImage(&quot;image1.png&quot;);\r\n      Action escapePressed;\r\n      \r\n      public Menu() {\r\n        frame.setVisible(true);\r\n        frame.setIconImage(icon);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setMinimumSize(new Dimension(500, 500));\r\n        frame.setTitle(&quot;Nine Games&quot;);\r\n        frame.setFocusable(true);\r\n        frame.setResizable(true);\r\n        frame.add(new StartScreen());\r\n    \r\n        escapePressed = new EscapePressed();\r\n    \r\n        frame.getInputMap().put(KeyStroke.getKeyStroke(&#39;w&#39;), &quot;escapePressed&quot;);\r\n        frame.getActionMap().put(&quot;escapePressed&quot;, escapePressed);\r\n      }\r\n    \r\n      public class EscapePressed extends AbstractAction {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n          System.out.println(&quot;Escape Pressed&quot;);\r\n          System.exit(0);\r\n        }\r\n      }\r\n    }\r\n\r\nI don&#39;t know why, but this program says that `getInputMap` and `getActionMap` don&#39;t exist. Which is weird. I could have sworn I put it all in correctly . I followed a tutorial even but nothing seems to work.","title":"What am I doing wrong with this key binding?","body":"<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\nclass Menu{\n\n  JFrame frame = new JFrame();\n  Image icon = Toolkit.getDefaultToolkit().getImage(&quot;image1.png&quot;);\n  Action escapePressed;\n  \n  public Menu() {\n    frame.setVisible(true);\n    frame.setIconImage(icon);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setMinimumSize(new Dimension(500, 500));\n    frame.setTitle(&quot;Nine Games&quot;);\n    frame.setFocusable(true);\n    frame.setResizable(true);\n    frame.add(new StartScreen());\n\n    escapePressed = new EscapePressed();\n\n    frame.getInputMap().put(KeyStroke.getKeyStroke('w'), &quot;escapePressed&quot;);\n    frame.getActionMap().put(&quot;escapePressed&quot;, escapePressed);\n  }\n\n  public class EscapePressed extends AbstractAction {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n      System.out.println(&quot;Escape Pressed&quot;);\n      System.exit(0);\n    }\n  }\n}\n</code></pre>\n<p>I don't know why, but this program says that <code>getInputMap</code> and <code>getActionMap</code> don't exist. Which is weird. I could have sworn I put it all in correctly . I followed a tutorial even but nothing seems to work.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"score":4,"creation_date":1648114420,"post_id":71599937,"comment_id":126543879,"body_markdown":"What&#39;s &#39;dragging system&#39;","body":"What&#39;s &#39;dragging system&#39;"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1648128885,"post_id":71599937,"comment_id":126549626,"body_markdown":"Check out [Custom Dragging Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/) for two approaches.","body":"Check out <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Dragging Approaches</a> for two approaches."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648115064,"creation_date":1648115064,"answer_id":71600128,"question_id":71599937,"body_markdown":"The basic idea is pretty simple.  You have to keep track of the first click and the second click.  When both are not `null`, you need to create a rectangle from them.\r\n\r\nThis example demonstrates not only that, but also how you might provide a visual feedback of the shape creation through the use of a `MouseMotionListener`, if you don&#39;t want it, it&#39;s not hard to get rid of\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Rectangle2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private Point startPoint;\r\n            private Rectangle2D rectangle;\r\n            private Point currentPoint;\r\n\r\n            public TestPane() {\r\n                MouseAdapter mouseAdapter = new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (startPoint != null &amp;&amp; rectangle != null) {\r\n                            startPoint = e.getPoint();\r\n                            rectangle = null;\r\n                        } else if (startPoint == null) {\r\n                            startPoint = e.getPoint();\r\n                        } else {\r\n                            // You could use a List of some kind to \r\n                            // keep track of all the shapes you&#39;ve created\r\n                            Point endPoint = e.getPoint();\r\n                            rectangle = makeRectangle(startPoint, endPoint);\r\n                        }\r\n                        repaint();\r\n                    }\r\n\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        currentPoint = e.getPoint();\r\n                        repaint();\r\n                    }\r\n                };\r\n                addMouseListener(mouseAdapter);\r\n                addMouseMotionListener(mouseAdapter);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            protected Rectangle2D makeRectangle(Point startPoint, Point endPoint) {\r\n                int minX = Math.min(startPoint.x, endPoint.x);\r\n                int minY = Math.min(startPoint.y, endPoint.y);\r\n                int maxX = Math.max(startPoint.x, endPoint.x);\r\n                int maxY = Math.max(startPoint.y, endPoint.y);\r\n                return new Rectangle2D.Double(minX, minY, maxX - minX, maxY - minY);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                if (rectangle != null) {\r\n                    g2d.draw(rectangle);\r\n                } else if (startPoint != null &amp;&amp; currentPoint != null) {\r\n                    // These are guide lines, you can get rid of them if you prefer\r\n                    g2d.setColor(Color.LIGHT_GRAY);\r\n                    g2d.drawLine(startPoint.x, startPoint.y, currentPoint.x, currentPoint.y);\r\n                    g2d.draw(makeRectangle(startPoint, currentPoint));\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PZFG4.gif\r\n\r\nI would consider taking a look at:\r\n\r\n* [How to Write a Mouse Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html)\r\n* [How to Write a Mouse-Motion Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html)","title":"Rectangle Drawing with Java Swing","body":"<p>The basic idea is pretty simple.  You have to keep track of the first click and the second click.  When both are not <code>null</code>, you need to create a rectangle from them.</p>\n<p>This example demonstrates not only that, but also how you might provide a visual feedback of the shape creation through the use of a <code>MouseMotionListener</code>, if you don't want it, it's not hard to get rid of</p>\n<p><a href=\"https://i.stack.imgur.com/PZFG4.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PZFG4.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Rectangle2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private Point startPoint;\n        private Rectangle2D rectangle;\n        private Point currentPoint;\n\n        public TestPane() {\n            MouseAdapter mouseAdapter = new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (startPoint != null &amp;&amp; rectangle != null) {\n                        startPoint = e.getPoint();\n                        rectangle = null;\n                    } else if (startPoint == null) {\n                        startPoint = e.getPoint();\n                    } else {\n                        // You could use a List of some kind to \n                        // keep track of all the shapes you've created\n                        Point endPoint = e.getPoint();\n                        rectangle = makeRectangle(startPoint, endPoint);\n                    }\n                    repaint();\n                }\n\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    currentPoint = e.getPoint();\n                    repaint();\n                }\n            };\n            addMouseListener(mouseAdapter);\n            addMouseMotionListener(mouseAdapter);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        protected Rectangle2D makeRectangle(Point startPoint, Point endPoint) {\n            int minX = Math.min(startPoint.x, endPoint.x);\n            int minY = Math.min(startPoint.y, endPoint.y);\n            int maxX = Math.max(startPoint.x, endPoint.x);\n            int maxY = Math.max(startPoint.y, endPoint.y);\n            return new Rectangle2D.Double(minX, minY, maxX - minX, maxY - minY);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            if (rectangle != null) {\n                g2d.draw(rectangle);\n            } else if (startPoint != null &amp;&amp; currentPoint != null) {\n                // These are guide lines, you can get rid of them if you prefer\n                g2d.setColor(Color.LIGHT_GRAY);\n                g2d.drawLine(startPoint.x, startPoint.y, currentPoint.x, currentPoint.y);\n                g2d.draw(makeRectangle(startPoint, currentPoint));\n            }\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>I would consider taking a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mouselistener.html\" rel=\"nofollow noreferrer\">How to Write a Mouse Listener</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html\" rel=\"nofollow noreferrer\">How to Write a Mouse-Motion Listener</a></li>\n</ul>\n"}],"owner":{"account_id":19354447,"reputation":1,"user_id":14151049,"display_name":"NevinG17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648116585,"creation_date":1648114225,"question_id":71599937,"body_markdown":"basically this code needs to be able to draw a rectangle with 2-point clicks from one corner to the other which then draws the rectangle according to the distance of the 2 click. Right now it works but its dragging system. Can anyone help?\r\n\r\n    package javaio;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.;\r\n    import javax.swing.*;\r\n    \r\n    public class DrawingProgram extends JPanel implements ActionListener\r\n    {\r\n    \r\n         MouseHandler mouseHandler = new MouseHandler();\r\n         Point p1 = new Point(0, 0);\r\n         Point p2 = new Point(0, 0);\r\n         boolean drawing;\r\n        \r\n        \r\n        public DrawingProgram(){\r\n            this.setPreferredSize(new Dimension(1000, 1000));\r\n            this.addMouseListener(mouseHandler);\r\n        }\r\n        \r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            g.drawRect(p1.x, p1.y, p2.x, p2.y);\r\n            repaint();\r\n        }\r\n        \r\n        \r\n        \r\n        private class MouseHandler extends MouseAdapter {\r\n        \r\n            public void mouseClicked(MouseEvent e) {\r\n                drawing = true;\r\n                p1 = e.getPoint();\r\n                p2 = p1;\r\n                repaint();\r\n            }\r\n        \r\n            public void mouseReleased(MouseEvent e) {\r\n                drawing = false;\r\n                p2 = e.getPoint();\r\n                repaint();\r\n            }\r\n        }\r\n        \r\n        \r\n         public void actionPerformed(ActionEvent e) {\r\n            JFrame f = new JFrame(&quot;Draw Rectangle On Mouse Click&quot;);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.add(new DrawingProgram());\r\n            f.pack();\r\n            f.setVisible(true);\r\n            \r\n        }\r\n    \r\n    }\r\n\r\nFor it to be able to draw a rectangle with 2-point clicks.","title":"Rectangle Drawing with Java Swing","body":"<p>basically this code needs to be able to draw a rectangle with 2-point clicks from one corner to the other which then draws the rectangle according to the distance of the 2 click. Right now it works but its dragging system. Can anyone help?</p>\n<pre><code>package javaio;\n\nimport java.awt.*;\nimport java.awt.event.;\nimport javax.swing.*;\n\npublic class DrawingProgram extends JPanel implements ActionListener\n{\n\n     MouseHandler mouseHandler = new MouseHandler();\n     Point p1 = new Point(0, 0);\n     Point p2 = new Point(0, 0);\n     boolean drawing;\n    \n    \n    public DrawingProgram(){\n        this.setPreferredSize(new Dimension(1000, 1000));\n        this.addMouseListener(mouseHandler);\n    }\n    \n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawRect(p1.x, p1.y, p2.x, p2.y);\n        repaint();\n    }\n    \n    \n    \n    private class MouseHandler extends MouseAdapter {\n    \n        public void mouseClicked(MouseEvent e) {\n            drawing = true;\n            p1 = e.getPoint();\n            p2 = p1;\n            repaint();\n        }\n    \n        public void mouseReleased(MouseEvent e) {\n            drawing = false;\n            p2 = e.getPoint();\n            repaint();\n        }\n    }\n    \n    \n     public void actionPerformed(ActionEvent e) {\n        JFrame f = new JFrame(&quot;Draw Rectangle On Mouse Click&quot;);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(new DrawingProgram());\n        f.pack();\n        f.setVisible(true);\n        \n    }\n\n}\n</code></pre>\n<p>For it to be able to draw a rectangle with 2-point clicks.</p>\n"},{"tags":["java","android","android-studio","startup"],"answers":[{"tags":[],"owner":{"account_id":16630534,"reputation":66,"user_id":12018485,"display_name":"Yahya Alborene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648116575,"creation_date":1648116575,"answer_id":71600483,"question_id":71599331,"body_markdown":"I solve this issue by deleting a file **AppData\\Local\\Google\\AndroidStudioxxxx.x** Then uninstall Android studio and install it again","title":"Android Studio Can&#39;t Startup","body":"<p>I solve this issue by deleting a file <strong>AppData\\Local\\Google\\AndroidStudioxxxx.x</strong> Then uninstall Android studio and install it again</p>\n"}],"owner":{"account_id":16630534,"reputation":66,"user_id":12018485,"display_name":"Yahya Alborene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71600483,"answer_count":1,"score":0,"last_activity_date":1648116575,"creation_date":1648111443,"question_id":71599331,"body_markdown":"Android studio was working correctly until I restore default setting from\r\n**File-&gt;Manage IDE Settings-&gt;Restore Default Setting**, Then I can&#39;t startup it again.\r\n\r\nEvery time I run Android studio I got this error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R4DO1.png\r\n\r\nI tried to uninstall it and remove settings and SDK then install it again but also it didn&#39;t work\r\n\r\nThis is The error\r\n\r\n    Internal error. Please refer to https://code.google.com/p/android/issues\r\n    \r\n    java.util.concurrent.CompletionException: com.intellij.diagnostic.PluginException: Fatal error initializing &#39;com.android.tools.idea.AndroidInitialConfigurator&#39; [Plugin: com.intellij]\r\n        at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\r\n        at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\r\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1739)\r\n        at com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:218)\r\n        at com.intellij.openapi.application.TransactionGuardImpl.access$200(TransactionGuardImpl.java:21)\r\n        at com.intellij.openapi.application.TransactionGuardImpl$2.run(TransactionGuardImpl.java:200)\r\n        at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:787)\r\n        at com.intellij.openapi.application.impl.ApplicationImpl.lambda$invokeLater$4(ApplicationImpl.java:325)\r\n        at com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:84)\r\n        at com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:133)\r\n        at com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:46)\r\n        at com.intellij.openapi.application.impl.FlushQueue$FlushNow.run(FlushQueue.java:189)\r\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:776)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:727)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:746)\r\n        at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:419)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: com.intellij.diagnostic.PluginException: Fatal error initializing &#39;com.android.tools.idea.AndroidInitialConfigurator&#39; [Plugin: com.intellij]\r\n        at com.intellij.serviceContainer.ComponentManagerImpl.handleInitComponentError$intellij_platform_serviceContainer(ComponentManagerImpl.kt:423)\r\n        at com.intellij.serviceContainer.MyComponentAdapter.doCreateInstance(MyComponentAdapter.kt:60)\r\n        at com.intellij.serviceContainer.BaseComponentAdapter.getInstanceUncached(BaseComponentAdapter.kt:110)\r\n        at com.intellij.serviceContainer.BaseComponentAdapter.getInstance(BaseComponentAdapter.kt:64)\r\n        at com.intellij.serviceContainer.BaseComponentAdapter.getInstance$default(BaseComponentAdapter.kt:57)\r\n        at com.intellij.serviceContainer.ComponentManagerImpl.createComponents(ComponentManagerImpl.kt:340)\r\n        at com.intellij.openapi.application.impl.ApplicationImpl.lambda$loadComponents$5(ApplicationImpl.java:348)\r\n        at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:178)\r\n        at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:688)\r\n        at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:634)\r\n        at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:64)\r\n        at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:165)\r\n        at com.intellij.openapi.application.impl.ApplicationImpl.loadComponents(ApplicationImpl.java:348)\r\n        at com.intellij.idea.ApplicationLoader$startApp$6$loadComponentInEdtFuture$1.run(ApplicationLoader.kt:198)\r\n        at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\r\n        ... 23 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/jetbrains/kotlin/kapt/idea/KaptProjectResolverExtension\r\n        at com.android.tools.idea.projectsystem.gradle.DisableKaptProjectResolverExtensionInitializer.run(DisableKaptProjectResolverExtensionInitializer.kt:24)\r\n        at com.android.tools.idea.AndroidInitialConfigurator.activateAndroidStudioInitializerExtensions(AndroidInitialConfigurator.java:201)\r\n        at com.android.tools.idea.AndroidInitialConfigurator.&lt;init&gt;(AndroidInitialConfigurator.java:71)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at com.intellij.serviceContainer.ConstructorInjectionKt.instantiateUsingPicoContainer(constructorInjection.kt:52)\r\n        at com.intellij.serviceContainer.ComponentManagerImpl.instantiateClassWithConstructorInjection(ComponentManagerImpl.kt:771)\r\n        at com.intellij.serviceContainer.MyComponentAdapter.doCreateInstance(MyComponentAdapter.kt:35)\r\n        ... 36 more\r\n    Caused by: java.lang.ClassNotFoundException: org.jetbrains.kotlin.kapt.idea.KaptProjectResolverExtension PluginClassLoader(plugin=PluginDescriptor(name=Android, id=org.jetbrains.android, descriptorPath=plugin.xml, path=C:\\Program Files\\Android\\Android Studio\\plugins\\android, version=2021.1.1 Patch 2, package=null), packagePrefix=null, instanceId=50, state=active)\r\n        at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:215)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 46 more\r\n    \r\n    -----\r\n    Your JRE: 11.0.11+9-b60-7590822 amd64 (Oracle Corporation)\r\n    C:\\Program Files\\Android\\Android Studio\\jre\r\n\r\n\r\nCan Anyone Help","title":"Android Studio Can&#39;t Startup","body":"<p>Android studio was working correctly until I restore default setting from\n<strong>File-&gt;Manage IDE Settings-&gt;Restore Default Setting</strong>, Then I can't startup it again.</p>\n<p>Every time I run Android studio I got this error</p>\n<p><a href=\"https://i.stack.imgur.com/R4DO1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R4DO1.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to uninstall it and remove settings and SDK then install it again but also it didn't work</p>\n<p>This is The error</p>\n<pre><code>Internal error. Please refer to https://code.google.com/p/android/issues\n\njava.util.concurrent.CompletionException: com.intellij.diagnostic.PluginException: Fatal error initializing 'com.android.tools.idea.AndroidInitialConfigurator' [Plugin: com.intellij]\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1739)\n    at com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:218)\n    at com.intellij.openapi.application.TransactionGuardImpl.access$200(TransactionGuardImpl.java:21)\n    at com.intellij.openapi.application.TransactionGuardImpl$2.run(TransactionGuardImpl.java:200)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:787)\n    at com.intellij.openapi.application.impl.ApplicationImpl.lambda$invokeLater$4(ApplicationImpl.java:325)\n    at com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:84)\n    at com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:133)\n    at com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:46)\n    at com.intellij.openapi.application.impl.FlushQueue$FlushNow.run(FlushQueue.java:189)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:776)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:727)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:746)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:419)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: com.intellij.diagnostic.PluginException: Fatal error initializing 'com.android.tools.idea.AndroidInitialConfigurator' [Plugin: com.intellij]\n    at com.intellij.serviceContainer.ComponentManagerImpl.handleInitComponentError$intellij_platform_serviceContainer(ComponentManagerImpl.kt:423)\n    at com.intellij.serviceContainer.MyComponentAdapter.doCreateInstance(MyComponentAdapter.kt:60)\n    at com.intellij.serviceContainer.BaseComponentAdapter.getInstanceUncached(BaseComponentAdapter.kt:110)\n    at com.intellij.serviceContainer.BaseComponentAdapter.getInstance(BaseComponentAdapter.kt:64)\n    at com.intellij.serviceContainer.BaseComponentAdapter.getInstance$default(BaseComponentAdapter.kt:57)\n    at com.intellij.serviceContainer.ComponentManagerImpl.createComponents(ComponentManagerImpl.kt:340)\n    at com.intellij.openapi.application.impl.ApplicationImpl.lambda$loadComponents$5(ApplicationImpl.java:348)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:178)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:688)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:634)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:64)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:165)\n    at com.intellij.openapi.application.impl.ApplicationImpl.loadComponents(ApplicationImpl.java:348)\n    at com.intellij.idea.ApplicationLoader$startApp$6$loadComponentInEdtFuture$1.run(ApplicationLoader.kt:198)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1736)\n    ... 23 more\nCaused by: java.lang.NoClassDefFoundError: org/jetbrains/kotlin/kapt/idea/KaptProjectResolverExtension\n    at com.android.tools.idea.projectsystem.gradle.DisableKaptProjectResolverExtensionInitializer.run(DisableKaptProjectResolverExtensionInitializer.kt:24)\n    at com.android.tools.idea.AndroidInitialConfigurator.activateAndroidStudioInitializerExtensions(AndroidInitialConfigurator.java:201)\n    at com.android.tools.idea.AndroidInitialConfigurator.&lt;init&gt;(AndroidInitialConfigurator.java:71)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at com.intellij.serviceContainer.ConstructorInjectionKt.instantiateUsingPicoContainer(constructorInjection.kt:52)\n    at com.intellij.serviceContainer.ComponentManagerImpl.instantiateClassWithConstructorInjection(ComponentManagerImpl.kt:771)\n    at com.intellij.serviceContainer.MyComponentAdapter.doCreateInstance(MyComponentAdapter.kt:35)\n    ... 36 more\nCaused by: java.lang.ClassNotFoundException: org.jetbrains.kotlin.kapt.idea.KaptProjectResolverExtension PluginClassLoader(plugin=PluginDescriptor(name=Android, id=org.jetbrains.android, descriptorPath=plugin.xml, path=C:\\Program Files\\Android\\Android Studio\\plugins\\android, version=2021.1.1 Patch 2, package=null), packagePrefix=null, instanceId=50, state=active)\n    at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:215)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 46 more\n\n-----\nYour JRE: 11.0.11+9-b60-7590822 amd64 (Oracle Corporation)\nC:\\Program Files\\Android\\Android Studio\\jre\n</code></pre>\n<p>Can Anyone Help</p>\n"},{"tags":["java","android","google-chrome"],"owner":{"account_id":14838076,"reputation":3446,"user_id":10715551,"display_name":"Sara Ree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648116416,"creation_date":1648116416,"question_id":71600448,"body_markdown":"I can use web view to convert my web site to an android app using a simple tutorial like this:\r\n\r\nhttps://www.youtube.com/watch?v=a5dlmqM9Oo8\r\n\r\nThe issue is I don&#39;t know how to embed chrome in the app so that the users always open the website only with chrome?\r\n\r\nThe reason for this is I&#39;m using web speech api and as you know this api only works in chrome.. So I need an android app of my web site which is only opens my website in chrome\r\n\r\nThanks in advance for any comment","title":"Using android WebView only with chrome","body":"<p>I can use web view to convert my web site to an android app using a simple tutorial like this:</p>\n<p><a href=\"https://www.youtube.com/watch?v=a5dlmqM9Oo8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=a5dlmqM9Oo8</a></p>\n<p>The issue is I don't know how to embed chrome in the app so that the users always open the website only with chrome?</p>\n<p>The reason for this is I'm using web speech api and as you know this api only works in chrome.. So I need an android app of my web site which is only opens my website in chrome</p>\n<p>Thanks in advance for any comment</p>\n"},{"tags":["java","junit5","parameterized-tests"],"answers":[{"tags":[],"owner":{"account_id":12182703,"reputation":65,"user_id":8893685,"display_name":"bkomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648116370,"creation_date":1648116370,"answer_id":71600432,"question_id":71598809,"body_markdown":"Okey, I got it - deep in the class responsible for sending emails, I was creating session object by `getDefaultInstance()`. It was creating singleton which was available for all JVM processes. When I used `getInstance()` - it work like a charm. ","title":"Why are JUnit5 Parametrized tests using argument providers not defined in @ArgumentSource?","body":"<p>Okey, I got it - deep in the class responsible for sending emails, I was creating session object by <code>getDefaultInstance()</code>. It was creating singleton which was available for all JVM processes. When I used <code>getInstance()</code> - it work like a charm.</p>\n"}],"owner":{"account_id":12182703,"reputation":65,"user_id":8893685,"display_name":"bkomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648116370,"creation_date":1648108665,"question_id":71598809,"body_markdown":"I have a problem with my parameterized tests.\r\n\r\n```\r\n  @ParameterizedTest\r\n  @ArgumentsSource(CorrectMessagesArgumentProvider.class)\r\n  void shouldSendMessageForCorrectConfiguration(SmtpConfiguration configuration) {\r\n    var expectedMessageBody = fetchMessage();\r\n    var alertSender = new AlertSender(configuration);\r\n    var alertSubject = subjectFrom();\r\n    alertSender.send(expectedMessageBody, alertSubject);\r\n    var receivedMessages = greenMail.getReceivedMessages();\r\n\r\n    assertEquals(1, receivedMessages.length);\r\n  }\r\n\r\n  @ParameterizedTest\r\n  @ArgumentsSource(IncorrectMessagesArgumentProvider.class)\r\n  void shouldNotSendMessageForIncorrectConfiguration(SmtpConfiguration smtpConfiguration) {\r\n    var expectedMessageBody = fetchMessage();\r\n    var alertSender = new AlertSender(smtpConfiguration);\r\n    var alertSubject = subjectFrom();\r\n\r\n    var expectedErrorMessage = &quot;Error sending alert&quot;;\r\n    var actualErrorMessage =\r\n        assertThrows(\r\n            SendAlertException.class, () -&gt; alertSender.send(expectedMessageBody, alertSubject));\r\n    assertTrue(actualErrorMessage.getMessage().contains(expectedErrorMessage));\r\n  }\r\n```\r\n\r\nWhen I run those tests separetly, they work correctly. But when I run suite, the second test running fails, because it is using arguments from the other test. \r\nThey&#39;re somehow sharing that resource, but I have no idea how. Any ideas?","title":"Why are JUnit5 Parametrized tests using argument providers not defined in @ArgumentSource?","body":"<p>I have a problem with my parameterized tests.</p>\n<pre><code>  @ParameterizedTest\n  @ArgumentsSource(CorrectMessagesArgumentProvider.class)\n  void shouldSendMessageForCorrectConfiguration(SmtpConfiguration configuration) {\n    var expectedMessageBody = fetchMessage();\n    var alertSender = new AlertSender(configuration);\n    var alertSubject = subjectFrom();\n    alertSender.send(expectedMessageBody, alertSubject);\n    var receivedMessages = greenMail.getReceivedMessages();\n\n    assertEquals(1, receivedMessages.length);\n  }\n\n  @ParameterizedTest\n  @ArgumentsSource(IncorrectMessagesArgumentProvider.class)\n  void shouldNotSendMessageForIncorrectConfiguration(SmtpConfiguration smtpConfiguration) {\n    var expectedMessageBody = fetchMessage();\n    var alertSender = new AlertSender(smtpConfiguration);\n    var alertSubject = subjectFrom();\n\n    var expectedErrorMessage = &quot;Error sending alert&quot;;\n    var actualErrorMessage =\n        assertThrows(\n            SendAlertException.class, () -&gt; alertSender.send(expectedMessageBody, alertSubject));\n    assertTrue(actualErrorMessage.getMessage().contains(expectedErrorMessage));\n  }\n</code></pre>\n<p>When I run those tests separetly, they work correctly. But when I run suite, the second test running fails, because it is using arguments from the other test.\nThey're somehow sharing that resource, but I have no idea how. Any ideas?</p>\n"},{"tags":["java","android","design-patterns","legacy-code"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":3,"creation_date":1365756148,"post_id":15966726,"comment_id":22757201,"body_markdown":"You are not allowed to change it, but you are allowed to modify it via reflection? That seems way more risky.","body":"You are not allowed to change it, but you are allowed to modify it via reflection? That seems way more risky."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":2,"creation_date":1365756283,"post_id":15966726,"comment_id":22757261,"body_markdown":"I think this is going to end up in a maintenance nightmare. The code will be lying at anybody reading it. Go and get the approval to change that class.","body":"I think this is going to end up in a maintenance nightmare. The code will be lying at anybody reading it. Go and get the approval to change that class."},{"owner":{"account_id":190625,"reputation":11159,"user_id":430720,"accept_rate":93,"display_name":"dev"},"score":0,"creation_date":1365756422,"post_id":15966726,"comment_id":22757314,"body_markdown":"@SpaceTrucker : I understand this is tricky - we have mechanism to alert the future teams of this. That&#39;s why I got the approval.","body":"@SpaceTrucker : I understand this is tricky - we have mechanism to alert the future teams of this. That&#39;s why I got the approval."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1365756450,"post_id":15966726,"comment_id":22757335,"body_markdown":"AOP, aspect oriented programming might do just that, wrapping its call.","body":"AOP, aspect oriented programming might do just that, wrapping its call."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1365756508,"post_id":15966726,"comment_id":22757359,"body_markdown":"Your are changing behavior in any case and this needs to be tested. So testing effort is always the same. The only thing is how you implement that change.","body":"Your are changing behavior in any case and this needs to be tested. So testing effort is always the same. The only thing is how you implement that change."}],"answers":[{"tags":[],"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"down_vote_count":1,"up_vote_count":38,"is_accepted":true,"score":37,"last_activity_date":1366029918,"creation_date":1365756608,"answer_id":15966918,"question_id":15966726,"body_markdown":"Sounds like a weird requirement... \r\n\r\nAnyway, reflection does not allow you to change code behaviour, it can only explore current code, invoke methods and constuctors, change fields values, that kind of things.\r\n\r\nIf you want to actually change the behaviour of a method you would have to use a bytecode manipulation library such as ASM. But this will not be very easy, probably not a good idea...\r\n\r\nPatterns that might help you :\r\n\r\n- If the class is not final and you can modify the clients, extend the existing class and overload the method, with your desired behaviour. Edit : that would work only if the method were not static !\r\n- Aspect programming : add interceptors to the method using AspectJ\r\n\r\nAnyway, the most logical thing to do would be to find a way to modify the existing class, work-arounds will just make your code more complicated and harder to maintain.\r\n\r\nGood luck.","title":"How to change method behaviour through reflection?","body":"<p>Sounds like a weird requirement... </p>\n\n<p>Anyway, reflection does not allow you to change code behaviour, it can only explore current code, invoke methods and constuctors, change fields values, that kind of things.</p>\n\n<p>If you want to actually change the behaviour of a method you would have to use a bytecode manipulation library such as ASM. But this will not be very easy, probably not a good idea...</p>\n\n<p>Patterns that might help you :</p>\n\n<ul>\n<li>If the class is not final and you can modify the clients, extend the existing class and overload the method, with your desired behaviour. Edit : that would work only if the method were not static !</li>\n<li>Aspect programming : add interceptors to the method using AspectJ</li>\n</ul>\n\n<p>Anyway, the most logical thing to do would be to find a way to modify the existing class, work-arounds will just make your code more complicated and harder to maintain.</p>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":1334876,"reputation":3668,"user_id":1277864,"accept_rate":70,"display_name":"Dangling Piyush"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1365756889,"creation_date":1365756889,"answer_id":15967008,"question_id":15966726,"body_markdown":"I guess you could have a look at [Instrumentation][1] class which have a method `redefineClasses(ClassDefintion classDefinition)`.\r\n\r\nThe redefinition may change method bodies, the constant pool and attributes. The redefinition must not add, remove or rename fields or methods, change the signatures of methods, or change inheritance.\r\n\r\nHope this helps.\r\n\r\nReferences: [Javadoc][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html#retransformClasses%28java.lang.Class...%29","title":"How to change method behaviour through reflection?","body":"<p>I guess you could have a look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html\" rel=\"noreferrer\">Instrumentation</a> class which have a method <code>redefineClasses(ClassDefintion classDefinition)</code>.</p>\n\n<p>The redefinition may change method bodies, the constant pool and attributes. The redefinition must not add, remove or rename fields or methods, change the signatures of methods, or change inheritance.</p>\n\n<p>Hope this helps.</p>\n\n<p>References: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html#retransformClasses%28java.lang.Class...%29\" rel=\"noreferrer\">Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648116235,"creation_date":1648116235,"answer_id":71600387,"question_id":15966726,"body_markdown":"You can change method behaviour via Java&#39;s dynamic proxies mechanism. See [this guide][1].\r\nIt will proxied all object methods. You can redefine only some methods by method name, like:\r\n\r\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n        if (method.getName().equals(&quot;put&quot;)) { // example for map\r\n            methods.get(method.getName()).invoke(target, args);\r\n            args[0] = &quot;second&quot;; // put again with &quot;second&quot; key\r\n            Object result = methods.get(method.getName()).invoke(target, args);\r\n\r\n            return result;\r\n        }\r\n\r\n        if (method.getName().equals(&quot;get&quot;)) { // example for map\r\n            System.out.println(&quot;Method get&quot;);  // you implementation\r\n            return methods.get(method.getName()).invoke(target, args);\r\n        }\r\n\r\n        return methods.get(method.getName()).invoke(target, args); // just do what initial method do\r\n    }\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-dynamic-proxies","title":"How to change method behaviour through reflection?","body":"<p>You can change method behaviour via Java's dynamic proxies mechanism. See <a href=\"https://www.baeldung.com/java-dynamic-proxies\" rel=\"nofollow noreferrer\">this guide</a>.\nIt will proxied all object methods. You can redefine only some methods by method name, like:</p>\n<pre><code>public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n    if (method.getName().equals(&quot;put&quot;)) { // example for map\n        methods.get(method.getName()).invoke(target, args);\n        args[0] = &quot;second&quot;; // put again with &quot;second&quot; key\n        Object result = methods.get(method.getName()).invoke(target, args);\n\n        return result;\n    }\n\n    if (method.getName().equals(&quot;get&quot;)) { // example for map\n        System.out.println(&quot;Method get&quot;);  // you implementation\n        return methods.get(method.getName()).invoke(target, args);\n    }\n\n    return methods.get(method.getName()).invoke(target, args); // just do what initial method do\n}\n</code></pre>\n"}],"owner":{"account_id":190625,"reputation":11159,"user_id":430720,"accept_rate":93,"display_name":"dev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53023,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":15966918,"answer_count":3,"score":34,"last_activity_date":1648116235,"creation_date":1365755911,"question_id":15966726,"body_markdown":"I have a a static method in some legacy code, which is called by multiple clients. I obviously have no options to override it, or change behaviour through dependency injection. I am not allowed to modify the existing class.\r\n\r\nWhat I want to do now is change the behaviour (that method - with the same signature and return type) using reflection. \r\n\r\nIs it possible ? If not, can any design pattern rescue me ?\r\n\r\nThanks !\r\n\r\nEDIT : There is some confusion on what can I change/modify. I cannot change any existing class/method - but I can add more classes to the project. The best I can do with the existing classes is annotate them. This is all done to avoid breaking anything in the existing code - which means a complete round of testing for a big project.\r\n\r\nEDIT 2 : java.lang.Instrumentation is not available for Android - or else it sounds like a good fit !","title":"How to change method behaviour through reflection?","body":"<p>I have a a static method in some legacy code, which is called by multiple clients. I obviously have no options to override it, or change behaviour through dependency injection. I am not allowed to modify the existing class.</p>\n\n<p>What I want to do now is change the behaviour (that method - with the same signature and return type) using reflection. </p>\n\n<p>Is it possible ? If not, can any design pattern rescue me ?</p>\n\n<p>Thanks !</p>\n\n<p>EDIT : There is some confusion on what can I change/modify. I cannot change any existing class/method - but I can add more classes to the project. The best I can do with the existing classes is annotate them. This is all done to avoid breaking anything in the existing code - which means a complete round of testing for a big project.</p>\n\n<p>EDIT 2 : java.lang.Instrumentation is not available for Android - or else it sounds like a good fit !</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1648112994,"post_id":71599645,"comment_id":126543373,"body_markdown":"so, everything between the first and second single quote ? Do you really need a regex for that? Have you tried to do it using substrings?","body":"so, everything between the first and second single quote ? Do you really need a regex for that? Have you tried to do it using substrings?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648113588,"creation_date":1648113588,"answer_id":71599805,"question_id":71599645,"body_markdown":"You could try a regex replacement:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;cvc-length-valid: Value &#39;9899488103&#39; with length = &#39;10&#39; is not facet-valid with respect to length &#39;20&#39; for type &#39;customerId&#39;.&quot;;\r\n    String output = input.replaceAll(&quot;(\\\\S+): Value &#39;.*?&#39; (.*)&quot;, &quot;$1: Value &#39;#####&#39; $2&quot;);\r\n    System.out.println(output);\r\n\r\nThis prints:\r\n\r\n&gt; cvc-length-valid: Value &#39;#####&#39; with length = &#39;10&#39; is not facet-valid with respect to length &#39;20&#39; for type &#39;customerId&#39;.","title":"Java regex to mask a value in a string having a fixed pattern","body":"<p>You could try a regex replacement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;cvc-length-valid: Value '9899488103' with length = '10' is not facet-valid with respect to length '20' for type 'customerId'.&quot;;\nString output = input.replaceAll(&quot;(\\\\S+): Value '.*?' (.*)&quot;, &quot;$1: Value '#####' $2&quot;);\nSystem.out.println(output);\n</code></pre>\n<p>This prints:</p>\n<blockquote>\n<p>cvc-length-valid: Value '#####' with length = '10' is not facet-valid with respect to length '20' for type 'customerId'.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648113741,"creation_date":1648113741,"answer_id":71599835,"question_id":71599645,"body_markdown":"One practice is to use `LayoutWrappingEncoder` and configuration class to read the masking patterns from the configuration and apply them in the log messages. This is rather a simple approach and can be achieved with a custom pattern handler.\r\n\r\n\r\n\r\nThe `MaskingPatternLayout` (Configuration) class to read patterns\r\n\r\n\r\n\r\n    public class MaskingPatternLayout extends PatternLayout {\r\n\r\n        private Pattern multilinePattern;\r\n        private List&lt;String&gt; maskPatterns = new ArrayList&lt;&gt;();\r\n\r\n        public void addMaskPattern(String maskPattern) {\r\n            maskPatterns.add(maskPattern);\r\n            multilinePattern = Pattern.compile(maskPatterns.stream().collect(Collectors.joining(&quot;|&quot;)), Pattern.MULTILINE);\r\n        }\r\n\r\n        @Override\r\n        public String doLayout(ILoggingEvent event) {\r\n            return maskMessage(super.doLayout(event));\r\n        }\r\n\r\n        private String maskMessage(String message) {\r\n            if (multilinePattern == null) {\r\n                return message;\r\n            }\r\n            StringBuilder sb = new StringBuilder(message);\r\n            Matcher matcher = multilinePattern.matcher(sb);\r\n            while (matcher.find()) {\r\n                IntStream.rangeClosed(1, matcher.groupCount()).forEach(group -&gt; {\r\n                    if (matcher.group(group) != null) {\r\n                        IntStream.range(matcher.start(group), matcher.end(group)).forEach(i -&gt; sb.setCharAt(i, &#39;#&#39;));\r\n                    }\r\n                });\r\n            }\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\n\r\nAnd pattern matcher(here i assumed we using Logback as log provider) as `logback.xml` file .\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;mask&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n               &lt;layout class=&quot;path.to.MaskingPatternLayout&quot;&gt;\r\n    \t       &lt;maskPattern&gt;\\&quot;YOU mentioned log pattern\\&quot;&lt;/maskPattern&gt;\r\n             \r\n                &lt;/layout&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    &lt;/ configuration&gt;\r\n\r\n\r\n","title":"Java regex to mask a value in a string having a fixed pattern","body":"<p>One practice is to use <code>LayoutWrappingEncoder</code> and configuration class to read the masking patterns from the configuration and apply them in the log messages. This is rather a simple approach and can be achieved with a custom pattern handler.</p>\n<p>The <code>MaskingPatternLayout</code> (Configuration) class to read patterns</p>\n<pre><code>public class MaskingPatternLayout extends PatternLayout {\n\n    private Pattern multilinePattern;\n    private List&lt;String&gt; maskPatterns = new ArrayList&lt;&gt;();\n\n    public void addMaskPattern(String maskPattern) {\n        maskPatterns.add(maskPattern);\n        multilinePattern = Pattern.compile(maskPatterns.stream().collect(Collectors.joining(&quot;|&quot;)), Pattern.MULTILINE);\n    }\n\n    @Override\n    public String doLayout(ILoggingEvent event) {\n        return maskMessage(super.doLayout(event));\n    }\n\n    private String maskMessage(String message) {\n        if (multilinePattern == null) {\n            return message;\n        }\n        StringBuilder sb = new StringBuilder(message);\n        Matcher matcher = multilinePattern.matcher(sb);\n        while (matcher.find()) {\n            IntStream.rangeClosed(1, matcher.groupCount()).forEach(group -&gt; {\n                if (matcher.group(group) != null) {\n                    IntStream.range(matcher.start(group), matcher.end(group)).forEach(i -&gt; sb.setCharAt(i, '#'));\n                }\n            });\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>And pattern matcher(here i assumed we using Logback as log provider) as <code>logback.xml</code> file .</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;appender name=&quot;mask&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n           &lt;layout class=&quot;path.to.MaskingPatternLayout&quot;&gt;\n           &lt;maskPattern&gt;\\&quot;YOU mentioned log pattern\\&quot;&lt;/maskPattern&gt;\n         \n            &lt;/layout&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n&lt;/ configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13182025,"reputation":470,"user_id":9521107,"display_name":"truekiller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648116035,"creation_date":1648116035,"answer_id":71600338,"question_id":71599645,"body_markdown":"    public static final String XML_VALIDATION_VALUE_REGEX = &quot;(?&lt;= Value &#39;)(.*?)(?=&#39;)&quot;;\r\n\tpublic static final String XML_VALIDATION_MASK_VALUE = &quot;#####&quot;;\r\n\r\n\r\n    String text = &quot;cvc-length-valid: Value &#39;9899488111&#39; with length = &#39;10&#39; is not facet-valid with respect to length &#39;20&#39; for type &#39;customerId&#39;.&quot;;\r\n    System.out.println(text.replaceAll(XML_VALIDATION_VALUE_REGEX, XML_VALIDATION_MASK_VALUE));\r\n\r\n**The explanation for the regex**\r\n\r\n`Positive Lookbehind (?&lt;= Value &#39;)` - matches the characters ` Value &#39;` literally (case sensitive)\r\n\r\n`1st Capturing Group (.*?)` - `.` matches any character (except for line terminators)\r\n`*?` matches the previous token between zero and unlimited times, as few times as possible, expanding as needed (lazy)\r\n\r\n`Positive Lookahead (?=&#39;)` - `&#39;` matches the character &#39; with index 3910 (2716 or 478) literally (case sensitive)\r\n","title":"Java regex to mask a value in a string having a fixed pattern","body":"<pre><code>public static final String XML_VALIDATION_VALUE_REGEX = &quot;(?&lt;= Value ')(.*?)(?=')&quot;;\npublic static final String XML_VALIDATION_MASK_VALUE = &quot;#####&quot;;\n\n\nString text = &quot;cvc-length-valid: Value '9899488111' with length = '10' is not facet-valid with respect to length '20' for type 'customerId'.&quot;;\nSystem.out.println(text.replaceAll(XML_VALIDATION_VALUE_REGEX, XML_VALIDATION_MASK_VALUE));\n</code></pre>\n<p><strong>The explanation for the regex</strong></p>\n<p><code>Positive Lookbehind (?&lt;= Value ')</code> - matches the characters <code> Value '</code> literally (case sensitive)</p>\n<p><code>1st Capturing Group (.*?)</code> - <code>.</code> matches any character (except for line terminators)\n<code>*?</code> matches the previous token between zero and unlimited times, as few times as possible, expanding as needed (lazy)</p>\n<p><code>Positive Lookahead (?=')</code> - <code>'</code> matches the character ' with index 3910 (2716 or 478) literally (case sensitive)</p>\n"}],"owner":{"account_id":13182025,"reputation":470,"user_id":9521107,"display_name":"truekiller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1648116035,"creation_date":1648112877,"question_id":71599645,"body_markdown":"I have different types of logs having a common pattern. What I intend to do is mask the value present in it with #.\r\n\r\n    cvc-length-valid: Value &#39;9899488103&#39; with length = &#39;10&#39; is not facet-valid with respect to length &#39;20&#39; for type &#39;customerId&#39;.\r\n\r\n    cvc-pattern-valid: Value &#39;GB200102BUYFNBUYSN&#39; is not facet-valid with respect to pattern &#39;[A-Za-z]{2,2}(17|18|19|20|21)[0-9]{2}((0)[1-9]|(1)[012])((0)[1-9]|(1|2)[0-9]|(3)[01])[A-Za-z]{1}[A-Za-z#]{4}[A-Za-z]{1}[A-Za-z#]{4}&#39; for type &#39;#AnonType_NATIONAL_ID_CONCATbuyerSellerId&#39;.\r\n\r\n**Expected Output**\r\n\r\n    cvc-length-valid: Value &#39;#####&#39; with length = &#39;10&#39; is not facet-valid with respect to length &#39;20&#39; for type &#39;customerId&#39;.\r\n    cvc-pattern-valid: Value &#39;#####&#39; is not facet-valid with respect to pattern &#39;[A-Za-z]{2,2}(17|18|19|20|21)[0-9]{2}((0)[1-9]|(1)[012])((0)[1-9]|(1|2)[0-9]|(3)[01])[A-Za-z]{1}[A-Za-z#]{4}[A-Za-z]{1}[A-Za-z#]{4}&#39; for type &#39;#AnonType_NATIONAL_ID_CONCATbuyerSellerId&#39;.","title":"Java regex to mask a value in a string having a fixed pattern","body":"<p>I have different types of logs having a common pattern. What I intend to do is mask the value present in it with #.</p>\n<pre><code>cvc-length-valid: Value '9899488103' with length = '10' is not facet-valid with respect to length '20' for type 'customerId'.\n\ncvc-pattern-valid: Value 'GB200102BUYFNBUYSN' is not facet-valid with respect to pattern '[A-Za-z]{2,2}(17|18|19|20|21)[0-9]{2}((0)[1-9]|(1)[012])((0)[1-9]|(1|2)[0-9]|(3)[01])[A-Za-z]{1}[A-Za-z#]{4}[A-Za-z]{1}[A-Za-z#]{4}' for type '#AnonType_NATIONAL_ID_CONCATbuyerSellerId'.\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre><code>cvc-length-valid: Value '#####' with length = '10' is not facet-valid with respect to length '20' for type 'customerId'.\ncvc-pattern-valid: Value '#####' is not facet-valid with respect to pattern '[A-Za-z]{2,2}(17|18|19|20|21)[0-9]{2}((0)[1-9]|(1)[012])((0)[1-9]|(1|2)[0-9]|(3)[01])[A-Za-z]{1}[A-Za-z#]{4}[A-Za-z]{1}[A-Za-z#]{4}' for type '#AnonType_NATIONAL_ID_CONCATbuyerSellerId'.\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648115819,"creation_date":1648115498,"answer_id":71600218,"question_id":71598576,"body_markdown":"The trick would be to use [@MapsId](https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/MapsId.html) on the `User` reference inside `UserProfile`. This will map your `User id` primary key column to `UserProfile user_id`.\r\n\r\n`User` stays the same:\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        // skipped code\r\n}\r\n```\r\n\r\nThe `UserProfile id` column does not need `@GeneratedValue` because the id will be populated with the id of the `User` entity. Hibernate will expect a `user_id` column inside `user_profile` table:\r\n```\r\n@Entity\r\n@Table(name = &quot;user_profile&quot;)\r\npublic class UserProfile {\r\n\r\n     @Id\r\n     private Long id;\r\n\r\n     @OneToOne(fetch = FetchType.LAZY)\r\n     @MapsId\r\n     private User user;\r\n\r\n     // skipped code\r\n}\r\n```\r\n\r\nInstead of having a column named `user_id` inside `user_profile` table you can have it named `id`, but to do that you need to add a `JoinColumn(name = &quot;id&quot;)` on your `User` reference:\r\n```\r\n@Entity\r\n@Table(name = &quot;user_profile&quot;)\r\npublic class UserProfile {\r\n\r\n     @Id\r\n     private Long id;\r\n\r\n     @OneToOne(fetch = FetchType.LAZY)\r\n     @MapsId\r\n     @JoinColumn(name = &quot;id&quot;)\r\n     private User user;\r\n\r\n     // skipped code\r\n}\r\n```\r\n","title":"How can I make User ID primary key link to user_id in another table as a foreign key?","body":"<p>The trick would be to use <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/MapsId.html\" rel=\"nofollow noreferrer\">@MapsId</a> on the <code>User</code> reference inside <code>UserProfile</code>. This will map your <code>User id</code> primary key column to <code>UserProfile user_id</code>.</p>\n<p><code>User</code> stays the same:</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n\n        // skipped code\n}\n</code></pre>\n<p>The <code>UserProfile id</code> column does not need <code>@GeneratedValue</code> because the id will be populated with the id of the <code>User</code> entity. Hibernate will expect a <code>user_id</code> column inside <code>user_profile</code> table:</p>\n<pre><code>@Entity\n@Table(name = &quot;user_profile&quot;)\npublic class UserProfile {\n\n     @Id\n     private Long id;\n\n     @OneToOne(fetch = FetchType.LAZY)\n     @MapsId\n     private User user;\n\n     // skipped code\n}\n</code></pre>\n<p>Instead of having a column named <code>user_id</code> inside <code>user_profile</code> table you can have it named <code>id</code>, but to do that you need to add a <code>JoinColumn(name = &quot;id&quot;)</code> on your <code>User</code> reference:</p>\n<pre><code>@Entity\n@Table(name = &quot;user_profile&quot;)\npublic class UserProfile {\n\n     @Id\n     private Long id;\n\n     @OneToOne(fetch = FetchType.LAZY)\n     @MapsId\n     @JoinColumn(name = &quot;id&quot;)\n     private User user;\n\n     // skipped code\n}\n</code></pre>\n"}],"owner":{"account_id":19531296,"reputation":173,"user_id":14290998,"display_name":"Stephen Aranda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71600218,"answer_count":1,"score":1,"last_activity_date":1648115819,"creation_date":1648107341,"question_id":71598576,"body_markdown":"I have a database table named `user` that has a Primary key `id`. I also have another database table named `user_profile` which has a primary key of `user_id`. I want the `user_id` column to be linked with the primary key `id` which is in my user table but don&#39;t know how to do it. I know it involves making a foreign key that links with the primary key, and that it has something to do with `@JoinTable` or `@JoinColumn`, but am not sure what to do. If anyone could help me, I would deeply appreciate it.\r\n\r\n`UserProfile.java`:\r\n\r\n```java\r\n    import net.bytebuddy.dynamic.loading.InjectionClassLoader;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_profile&quot;)\r\n    public class UserProfile {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;user_id&quot;)\r\n        private Long id;\r\n\r\n    //    @OneToOne\r\n    //    @JoinColumn(table = &quot;users&quot;,  name = &quot;username&quot;)\r\n    ////    @PrimaryKeyJoinColumn(name = &quot;profile_id&quot;)\r\n    //    User user;\r\n\r\n\r\n        @Column(name = &quot;profile_img&quot;)\r\n        private String profile_img;\r\n\r\n        @Column(name = &quot;profile_banner&quot;)\r\n        private String profile_banner;\r\n\r\n        @Column(name = &quot;user_alias&quot;)\r\n        private String user_alias;\r\n\r\n\r\n\r\n\r\n    //\r\n    //    public void setUsers(User users) {\r\n    //        this.user = users;\r\n    //    }\r\n    //\r\n    //    public User getUser() {\r\n    //        return user;\r\n    //    }\r\n\r\n        public Long getProfileId() {\r\n            return id;\r\n        }\r\n\r\n        public void setProfileId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n\r\n\r\n        public String getProfile_img() {\r\n            return profile_img;\r\n        }\r\n\r\n        public String getProfile_img_complete() {\r\n            return  profile_img;\r\n        }\r\n\r\n        public void setProfile_img(String profile_img) {\r\n            this.profile_img = profile_img;\r\n        }\r\n\r\n        public String getProfile_banner() {\r\n            return profile_banner;\r\n        }\r\n\r\n        public String getProfile_banner_complete() {\r\n            return profile_banner;\r\n        }\r\n\r\n        public void setProfile_banner(String profile_banner) {\r\n            this.profile_banner = profile_banner;\r\n        }\r\n\r\n        public String getUser_alias() {\r\n            return user_alias;\r\n        }\r\n\r\n        public void setUser_alias(String user_alias) {\r\n            this.user_alias = user_alias;\r\n        }\r\n\r\n    }\r\n```\r\n`User.java`:\r\n\r\n```java\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Email;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import com.user.UserProfile;\r\n\r\n    @Entity\r\n    @Table(\tname = &quot;users&quot;,\r\n            uniqueConstraints = {\r\n                    @UniqueConstraint(columnNames = &quot;username&quot;)\r\n\r\n            })\r\n    public class User {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @NotBlank\r\n        @Size(max = 50)\r\n        private String username;\r\n        @NotBlank\r\n        @Size(max = 120)\r\n        private String password;\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\tname = &quot;user_roles&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n\r\n\r\n        public User(String username, String password) {\r\n            this.username = username;\r\n            this.password = password;\r\n        }\r\n\r\n        public User() {\r\n\r\n        }\r\n    //\r\n    //    @OneToOne(mappedBy = &quot;email&quot;)\r\n    //    UserProfile userProfile;\r\n\r\n    //    public Long getId() {\r\n    //        return id;\r\n    //    }\r\n    //\r\n    //    public void setId(Long id) {\r\n    //        this.id = id;\r\n    //    }\r\n    //\r\n    //    public UserProfile getUserProfile() {\r\n    //        return userProfile;\r\n    //    }\r\n    //\r\n    //    public void setUserProfile(UserProfile userProfile) {\r\n    //        this.userProfile = userProfile;\r\n    //    }\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n\r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n\r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n        public Set&lt;Role&gt; getRoles() {\r\n            return roles;\r\n        }\r\n        public void setRoles(Set&lt;Role&gt; roles) {\r\n            this.roles = roles;\r\n        }\r\n    }\r\n\r\n```\r\n\r\n","title":"How can I make User ID primary key link to user_id in another table as a foreign key?","body":"<p>I have a database table named <code>user</code> that has a Primary key <code>id</code>. I also have another database table named <code>user_profile</code> which has a primary key of <code>user_id</code>. I want the <code>user_id</code> column to be linked with the primary key <code>id</code> which is in my user table but don't know how to do it. I know it involves making a foreign key that links with the primary key, and that it has something to do with <code>@JoinTable</code> or <code>@JoinColumn</code>, but am not sure what to do. If anyone could help me, I would deeply appreciate it.</p>\n<p><code>UserProfile.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import net.bytebuddy.dynamic.loading.InjectionClassLoader;\n    import org.springframework.web.multipart.MultipartFile;\n\n    import javax.persistence.*;\n\n    @Entity\n    @Table(name = &quot;user_profile&quot;)\n    public class UserProfile {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;user_id&quot;)\n        private Long id;\n\n    //    @OneToOne\n    //    @JoinColumn(table = &quot;users&quot;,  name = &quot;username&quot;)\n    ////    @PrimaryKeyJoinColumn(name = &quot;profile_id&quot;)\n    //    User user;\n\n\n        @Column(name = &quot;profile_img&quot;)\n        private String profile_img;\n\n        @Column(name = &quot;profile_banner&quot;)\n        private String profile_banner;\n\n        @Column(name = &quot;user_alias&quot;)\n        private String user_alias;\n\n\n\n\n    //\n    //    public void setUsers(User users) {\n    //        this.user = users;\n    //    }\n    //\n    //    public User getUser() {\n    //        return user;\n    //    }\n\n        public Long getProfileId() {\n            return id;\n        }\n\n        public void setProfileId(Long id) {\n            this.id = id;\n        }\n\n\n\n        public String getProfile_img() {\n            return profile_img;\n        }\n\n        public String getProfile_img_complete() {\n            return  profile_img;\n        }\n\n        public void setProfile_img(String profile_img) {\n            this.profile_img = profile_img;\n        }\n\n        public String getProfile_banner() {\n            return profile_banner;\n        }\n\n        public String getProfile_banner_complete() {\n            return profile_banner;\n        }\n\n        public void setProfile_banner(String profile_banner) {\n            this.profile_banner = profile_banner;\n        }\n\n        public String getUser_alias() {\n            return user_alias;\n        }\n\n        public void setUser_alias(String user_alias) {\n            this.user_alias = user_alias;\n        }\n\n    }\n</code></pre>\n<p><code>User.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import javax.persistence.*;\n    import javax.validation.constraints.Email;\n    import javax.validation.constraints.NotBlank;\n    import javax.validation.constraints.Size;\n    import java.util.HashSet;\n    import java.util.Set;\n    import com.user.UserProfile;\n\n    @Entity\n    @Table( name = &quot;users&quot;,\n            uniqueConstraints = {\n                    @UniqueConstraint(columnNames = &quot;username&quot;)\n\n            })\n    public class User {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        @NotBlank\n        @Size(max = 50)\n        private String username;\n        @NotBlank\n        @Size(max = 120)\n        private String password;\n        @ManyToMany(fetch = FetchType.LAZY)\n        @JoinTable( name = &quot;user_roles&quot;,\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n\n\n        public User(String username, String password) {\n            this.username = username;\n            this.password = password;\n        }\n\n        public User() {\n\n        }\n    //\n    //    @OneToOne(mappedBy = &quot;email&quot;)\n    //    UserProfile userProfile;\n\n    //    public Long getId() {\n    //        return id;\n    //    }\n    //\n    //    public void setId(Long id) {\n    //        this.id = id;\n    //    }\n    //\n    //    public UserProfile getUserProfile() {\n    //        return userProfile;\n    //    }\n    //\n    //    public void setUserProfile(UserProfile userProfile) {\n    //        this.userProfile = userProfile;\n    //    }\n    public Long getId() {\n        return id;\n    }\n        public void setId(Long id) {\n            this.id = id;\n        }\n        public String getUsername() {\n            return username;\n        }\n\n        public void setUsername(String username) {\n            this.username = username;\n        }\n\n        public String getPassword() {\n            return password;\n        }\n\n        public void setPassword(String password) {\n            this.password = password;\n        }\n        public Set&lt;Role&gt; getRoles() {\n            return roles;\n        }\n        public void setRoles(Set&lt;Role&gt; roles) {\n            this.roles = roles;\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1397262364,"post_id":23024609,"comment_id":35173894,"body_markdown":"So you&#39;re saying that `String#replace(...)` doesn&#39;t work?","body":"So you&#39;re saying that <code>String#replace(...)</code> doesn&#39;t work?"},{"owner":{"account_id":3827258,"reputation":207,"user_id":3173814,"accept_rate":80,"display_name":"user3173814"},"score":0,"creation_date":1397263537,"post_id":23024609,"comment_id":35174106,"body_markdown":"Yes, that doesn&#39;t work.","body":"Yes, that doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":3340846,"reputation":2516,"user_id":2807172,"accept_rate":70,"display_name":"Raju Sharma"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1397268424,"creation_date":1397268424,"answer_id":23025242,"question_id":23024609,"body_markdown":"Trying this will solve your issue.\r\n\r\n    str.replaceAll(&quot;\\\\p{Sc}&quot;, string_to_replcae);\r\n\r\nand example can be like below:\r\n\r\n   \r\n\r\n \r\n\r\n    String str = &quot;For some reason my double quotes were lost.&quot;;\r\n        str = str.replaceAll(&quot;\\uFFFD&quot;, &quot;\\&quot;&quot;);\r\n\r\nthis example can be viewed from here : https://stackoverflow.com/questions/1488866/how-to-replace-i-in-a-string\r\n\r\nfollow the link for more unicode expressions. http://www.regular-expressions.info/unicode.html","title":"How can I replace a unicode character in java string","body":"<p>Trying this will solve your issue.</p>\n\n<pre><code>str.replaceAll(\"\\\\p{Sc}\", string_to_replcae);\n</code></pre>\n\n<p>and example can be like below:</p>\n\n<pre><code>String str = \"For some reason my double quotes were lost.\";\n    str = str.replaceAll(\"\\uFFFD\", \"\\\"\");\n</code></pre>\n\n<p>this example can be viewed from here : <a href=\"https://stackoverflow.com/questions/1488866/how-to-replace-i-in-a-string\">How to replace &#239;&#191;&#189; in a string</a></p>\n\n<p>follow the link for more unicode expressions. <a href=\"http://www.regular-expressions.info/unicode.html\" rel=\"noreferrer\">http://www.regular-expressions.info/unicode.html</a></p>\n"}],"owner":{"account_id":3827258,"reputation":207,"user_id":3173814,"accept_rate":80,"display_name":"user3173814"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30435,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":23025242,"answer_count":1,"score":10,"last_activity_date":1648115553,"creation_date":1397262252,"question_id":23024609,"body_markdown":"I have an issue in my project that is replacing a unicode character with another unicode character in a Java string.\r\n\r\nAfter searching and trying different codes, I didn&#39;t get the solution for that I want to replace a character in Persian to another character in Persian with a different unicode number.\r\n\r\nI really appreciate any help.\r\n\r\nThanks","title":"How can I replace a unicode character in java string","body":"<p>I have an issue in my project that is replacing a unicode character with another unicode character in a Java string.</p>\n<p>After searching and trying different codes, I didn't get the solution for that I want to replace a character in Persian to another character in Persian with a different unicode number.</p>\n<p>I really appreciate any help.</p>\n<p>Thanks</p>\n"},{"tags":["java","multithreading","race-condition"],"comments":[{"owner":{"account_id":2363066,"reputation":16933,"user_id":2069350,"accept_rate":50,"display_name":"Henry Keiter"},"score":1,"creation_date":1396906063,"post_id":22923297,"comment_id":34990922,"body_markdown":"I&#39;m always tempted to blindly answer &quot;yes&quot; to questions like this (just based on the title).","body":"I&#39;m always tempted to blindly answer &quot;yes&quot; to questions like this (just based on the title)."}],"answers":[{"tags":[],"owner":{"account_id":4214880,"reputation":166,"user_id":3451440,"display_name":"PotatoPhil"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1396905840,"creation_date":1396905840,"answer_id":22923389,"question_id":22923297,"body_markdown":"Multi threading is when you use new Thread(runnable).start(); this starts a new thread and goes to the run() method. The runnable is any class that implements runnable. Or extends thread a synchronized method makes sure that if these threads want to read data changed by the synchronized method it will be possible, otherwise it might be unchanged, or worse, half-changed.","title":"Can Synchronized Methods Have Race Conditions? [Example]","body":"<p>Multi threading is when you use new Thread(runnable).start(); this starts a new thread and goes to the run() method. The runnable is any class that implements runnable. Or extends thread a synchronized method makes sure that if these threads want to read data changed by the synchronized method it will be possible, otherwise it might be unchanged, or worse, half-changed.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396906881,"creation_date":1396905874,"answer_id":22923403,"question_id":22923297,"body_markdown":"I presume that what the author had in mind is that, since count goes from 0 to 2, two threads might call `put()` in sequence, and the reader threads would thus miss one of the messages.\r\n\r\nIt&#39;s indeed a race condition: readers and putters compete for the same lock, and if the messages being read depends on which thread is notified by `notifyAll()`. ","title":"Can Synchronized Methods Have Race Conditions? [Example]","body":"<p>I presume that what the author had in mind is that, since count goes from 0 to 2, two threads might call <code>put()</code> in sequence, and the reader threads would thus miss one of the messages.</p>\n\n<p>It's indeed a race condition: readers and putters compete for the same lock, and if the messages being read depends on which thread is notified by <code>notifyAll()</code>. </p>\n"},{"tags":[],"owner":{"account_id":166796,"reputation":72317,"user_id":391161,"accept_rate":63,"display_name":"merlin2011"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396905958,"creation_date":1396905958,"answer_id":22923432,"question_id":22923297,"body_markdown":"Java&#39;s synchronized methods buys you mutual exclusion between the two methods, which means that you can assume they will not interleave.\r\n\r\nHowever, you still have a race condition because you can get different behavior depending on which method runs first.\r\n\r\nAs JB Nizet suggested in his answer, consider what happens with each of the two orderings (assume they are running in different threads).\r\n","title":"Can Synchronized Methods Have Race Conditions? [Example]","body":"<p>Java's synchronized methods buys you mutual exclusion between the two methods, which means that you can assume they will not interleave.</p>\n\n<p>However, you still have a race condition because you can get different behavior depending on which method runs first.</p>\n\n<p>As JB Nizet suggested in his answer, consider what happens with each of the two orderings (assume they are running in different threads).</p>\n"},{"tags":[],"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1396906224,"creation_date":1396906224,"answer_id":22923496,"question_id":22923297,"body_markdown":"Think about ways that count could become &gt; 2...\r\n\r\nThat code has a bad smell, too.  What is count supposed to be counting?  Why does get increment it and put reset it?  Why the unnecessary use of &#39;this&#39;?  If I saw code like that in a project, I would look at it *very* carefully...","title":"Can Synchronized Methods Have Race Conditions? [Example]","body":"<p>Think about ways that count could become > 2...</p>\n\n<p>That code has a bad smell, too.  What is count supposed to be counting?  Why does get increment it and put reset it?  Why the unnecessary use of 'this'?  If I saw code like that in a project, I would look at it <em>very</em> carefully...</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396906248,"creation_date":1396906248,"answer_id":22923503,"question_id":22923297,"body_markdown":"A race condition occurs whenever two entities compete for a single resource, which can cause unpredictable behavior if the outcome depends on the order. When you use notifyAll() all threads are woken up and they race to obtain the lock they were waiting for, and it&#39;s impossible to say which will execute next.","title":"Can Synchronized Methods Have Race Conditions? [Example]","body":"<p>A race condition occurs whenever two entities compete for a single resource, which can cause unpredictable behavior if the outcome depends on the order. When you use notifyAll() all threads are woken up and they race to obtain the lock they were waiting for, and it's impossible to say which will execute next.</p>\n"},{"tags":[],"owner":{"account_id":24094814,"reputation":1,"user_id":18067508,"display_name":"anonymJava123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648115490,"creation_date":1648115490,"answer_id":71600215,"question_id":22923297,"body_markdown":"I don&#39;t think having a count value &gt;2 is the problem if the code can work as expected.\r\nSince both put() and getMessage() methods are synchronized both method&#39;s can&#39;t be called at the same time. So if an thread calls getMessage() and has the count value 2, another thread can&#39;t call the put() method to set the count = 0 and notify the waiting thread.There is too much synchronizing, which cause an deadlock. So the while part shouldn&#39;t be synchronized and can solved like this.\r\n\r\n    \r\n\r\n     public void put(String message) {\r\n        while( count &lt; 2 )\r\n          this.wait();\r\n       synchronzied(this){\r\n        this.message = message;\r\n        this.count = 0; \r\n        this.notifyAll(); \r\n     }\r\n    \r\n     }\r\n    \r\n      public String getMessage() {\r\n        while( this.count == 2 )\r\n          this.wait();\r\n       \r\n        synchronized(this){\r\n        String result = this.message;\r\n        this.count += 1;\r\n        this.notifyAll();\r\n        \r\n     }\r\n    return result;\r\n     }","title":"Can Synchronized Methods Have Race Conditions? [Example]","body":"<p>I don't think having a count value &gt;2 is the problem if the code can work as expected.\nSince both put() and getMessage() methods are synchronized both method's can't be called at the same time. So if an thread calls getMessage() and has the count value 2, another thread can't call the put() method to set the count = 0 and notify the waiting thread.There is too much synchronizing, which cause an deadlock. So the while part shouldn't be synchronized and can solved like this.</p>\n<pre><code> public void put(String message) {\n    while( count &lt; 2 )\n      this.wait();\n   synchronzied(this){\n    this.message = message;\n    this.count = 0; \n    this.notifyAll(); \n }\n\n }\n\n  public String getMessage() {\n    while( this.count == 2 )\n      this.wait();\n   \n    synchronized(this){\n    String result = this.message;\n    this.count += 1;\n    this.notifyAll();\n    \n }\nreturn result;\n }\n</code></pre>\n"}],"owner":{"account_id":2783729,"reputation":2560,"user_id":2395694,"accept_rate":73,"display_name":"Rome_Leader"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2053,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":22923496,"answer_count":6,"score":3,"last_activity_date":1648115490,"creation_date":1396905509,"question_id":22923297,"body_markdown":"I am learning about synchronized methods as a means of preventing race conditions and unwanted behavior in Java. I was presented with the following example, and told the race condition is quite subtle:\r\n\r\n    public class Messages {\r\n      private String message = null;\r\n      private int count = 2;\r\n\r\n      // invariant 0 &lt;= count &amp;&amp; count &lt;= 2\r\n\r\n      public synchronized void put(String message) {\r\n        while( count &lt; 2 )\r\n          this.wait();\r\n        this.message = message;\r\n        this.count = 0; \r\n        this.notifyAll(); \r\n      }\r\n\r\n      public synchronized String getMessage() {\r\n        while( this.count == 2 )\r\n          this.wait();\r\n        String result = this.message;\r\n        this.count += 1;\r\n        this.notifyAll();\r\n        return result; \r\n      }\r\n    }\r\n\r\n\r\nSubtle or not, I think I have a fundamental misunderstanding of what synchronized methods do. I was under the impression they restrict access to threads through use of a lock token (or similar), and thus can never race. How, then, does this example have a race condition, if its methods are synchronized? Can anyone help clarify?","title":"Can Synchronized Methods Have Race Conditions? [Example]","body":"<p>I am learning about synchronized methods as a means of preventing race conditions and unwanted behavior in Java. I was presented with the following example, and told the race condition is quite subtle:</p>\n\n<pre><code>public class Messages {\n  private String message = null;\n  private int count = 2;\n\n  // invariant 0 &lt;= count &amp;&amp; count &lt;= 2\n\n  public synchronized void put(String message) {\n    while( count &lt; 2 )\n      this.wait();\n    this.message = message;\n    this.count = 0; \n    this.notifyAll(); \n  }\n\n  public synchronized String getMessage() {\n    while( this.count == 2 )\n      this.wait();\n    String result = this.message;\n    this.count += 1;\n    this.notifyAll();\n    return result; \n  }\n}\n</code></pre>\n\n<p>Subtle or not, I think I have a fundamental misunderstanding of what synchronized methods do. I was under the impression they restrict access to threads through use of a lock token (or similar), and thus can never race. How, then, does this example have a race condition, if its methods are synchronized? Can anyone help clarify?</p>\n"},{"tags":["java","android","jsch"],"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1648126880,"post_id":71600064,"comment_id":126548701,"body_markdown":"Please [edit] your question to explain exactly what happens when you run this code on android? You say you&#39;re getting an exception? What exactly is the exception?","body":"Please <a href=\"https://stackoverflow.com/posts/71600064/edit\">edit</a> your question to explain exactly what happens when you run this code on android? You say you&#39;re getting an exception? What exactly is the exception?"},{"owner":{"account_id":24671457,"reputation":19,"user_id":18566431,"display_name":"carlit"},"score":0,"creation_date":1648128046,"post_id":71600064,"comment_id":126549210,"body_markdown":"hi! &quot;android.os.NetworkOnMainThreadException&quot; is the JSchException","body":"hi! &quot;android.os.NetworkOnMainThreadException&quot; is the JSchException"},{"owner":{"account_id":24671457,"reputation":19,"user_id":18566431,"display_name":"carlit"},"score":0,"creation_date":1648131512,"post_id":71600064,"comment_id":126550880,"body_markdown":"thanks with a new thread its just working fine!!","body":"thanks with a new thread its just working fine!!"}],"owner":{"account_id":24671457,"reputation":19,"user_id":18566431,"display_name":"carlit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1648134027,"answer_count":0,"score":1,"last_activity_date":1648114822,"creation_date":1648114822,"question_id":71600064,"body_markdown":"I&#39;m trying to setup a simples ssh connection to perform a single command on a app. The weird thing is that on Android does not work at all but on eclipse works perfectrly.... I m using for it JSCH library.\r\nBasically here is the function and as i said works normally on my windows desktop:\r\n\r\npublic String executeSSHCommand(String host, int port, String username, String password, String command) {\r\n\r\n        try {\r\n    \r\n            JSch jsch = new JSch();\r\n            Session session = jsch.getSession(username, host, port);\r\n            session.setPassword(password);\r\n    \r\n            // Avoid asking for key confirmation\r\n            Properties prop = new Properties();\r\n            prop.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.setConfig(prop);\r\n    \r\n            session.connect();\r\n    \r\n            // SSH Channel\r\n            ChannelExec channelssh = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            channelssh.setOutputStream(baos);\r\n    \r\n            // Execute command\r\n            channelssh.setCommand(command);\r\n    \r\n            channelssh.connect();\r\n    \r\n    \r\n            while (true) {\r\n                if (channelssh.isClosed()) {\r\n                    break;\r\n                }\r\n            }\r\n    \r\n            Snackbar.make(findViewById(R.id.Activity2), R.string.connection_success,\r\n                    Snackbar.LENGTH_SHORT).show();\r\n            channelssh.disconnect();\r\n            return baos.toString();\r\n        } catch (JSchException e) {\r\n            // show the error in the UI\r\n            Snackbar.make(findViewById(R.id.Activity2), R.string.connection_failed\r\n                            + e.getMessage(),\r\n                    Snackbar.LENGTH_LONG).show();\r\n            return &quot;ERROR&quot;;\r\n        }\r\n    }\r\n\r\nI already gave permissions to internet on the manifets file as well\r\nand im not getting any erros, the only one from my catch.....\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;","title":"SSH connection does not working on Android","body":"<p>I'm trying to setup a simples ssh connection to perform a single command on a app. The weird thing is that on Android does not work at all but on eclipse works perfectrly.... I m using for it JSCH library.\nBasically here is the function and as i said works normally on my windows desktop:</p>\n<p>public String executeSSHCommand(String host, int port, String username, String password, String command) {</p>\n<pre><code>    try {\n\n        JSch jsch = new JSch();\n        Session session = jsch.getSession(username, host, port);\n        session.setPassword(password);\n\n        // Avoid asking for key confirmation\n        Properties prop = new Properties();\n        prop.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        session.setConfig(prop);\n\n        session.connect();\n\n        // SSH Channel\n        ChannelExec channelssh = (ChannelExec) session.openChannel(&quot;exec&quot;);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        channelssh.setOutputStream(baos);\n\n        // Execute command\n        channelssh.setCommand(command);\n\n        channelssh.connect();\n\n\n        while (true) {\n            if (channelssh.isClosed()) {\n                break;\n            }\n        }\n\n        Snackbar.make(findViewById(R.id.Activity2), R.string.connection_success,\n                Snackbar.LENGTH_SHORT).show();\n        channelssh.disconnect();\n        return baos.toString();\n    } catch (JSchException e) {\n        // show the error in the UI\n        Snackbar.make(findViewById(R.id.Activity2), R.string.connection_failed\n                        + e.getMessage(),\n                Snackbar.LENGTH_LONG).show();\n        return &quot;ERROR&quot;;\n    }\n}\n</code></pre>\n<p>I already gave permissions to internet on the manifets file as well\nand im not getting any erros, the only one from my catch.....</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n</code></pre>\n"},{"tags":["java","compiler-errors","applet","awt"],"comments":[{"owner":{"account_id":190215,"reputation":2859,"user_id":430035,"accept_rate":71,"display_name":"EhmKah a.k.a. Michael Krau&#223;e"},"score":1,"creation_date":1489859396,"post_id":42877573,"comment_id":72859268,"body_markdown":"Could you post the complete file and the complete error message Netbeans gives to you?","body":"Could you post the complete file and the complete error message Netbeans gives to you?"},{"owner":{"account_id":10490292,"reputation":11,"user_id":7732428,"display_name":"Prince joy"},"score":0,"creation_date":1489861965,"post_id":42877573,"comment_id":72860199,"body_markdown":"program to add textfield items to listbox when button is click","body":"program to add textfield items to listbox when button is click"},{"owner":{"account_id":10490292,"reputation":11,"user_id":7732428,"display_name":"Prince joy"},"score":0,"creation_date":1489862008,"post_id":42877573,"comment_id":72860213,"body_markdown":"public class eg2 extends Applet implements ActionListener {\n\tpublic void init() {\n\t\tLabel label1 = new Label(&quot;enter text : &quot;);\n\n\t\ttextField1 = new TextField(&quot;Hello&quot;);\n\n\t\tswapEm = new Button(&quot;show&quot;);\n\t\tswapEm.addActionListener(this);\n\t\t\n\t\tls=new List();\n\n\t\t\n\t\tadd(label1);\n\t\tadd(textField1);\n\t\tadd(swapEm);\n\t\tadd(ls);\n\t}\n\n\tpublic void actionPerformed(ActionEvent e) {\n\t\tString temp = textField1.getText();\n\t\ttextField1.setText(ls.getText());\n\t\tls.setText(temp);\n\t}\n\n\tTextField textField1;\n\tButton swapEm;\n\tList ls;\n    }","body":"public class eg2 extends Applet implements ActionListener { \tpublic void init() { \t\tLabel label1 = new Label(&quot;enter text : &quot;);  \t\ttextField1 = new TextField(&quot;Hello&quot;);  \t\tswapEm = new Button(&quot;show&quot;); \t\tswapEm.addActionListener(this); \t\t \t\tls=new List();  \t\t \t\tadd(label1); \t\tadd(textField1); \t\tadd(swapEm); \t\tadd(ls); \t}  \tpublic void actionPerformed(ActionEvent e) { \t\tString temp = textField1.getText(); \t\ttextField1.setText(ls.getText()); \t\tls.setText(temp); \t}  \tTextField textField1; \tButton swapEm; \tList ls;     }"},{"owner":{"account_id":10490292,"reputation":11,"user_id":7732428,"display_name":"Prince joy"},"score":0,"creation_date":1489862077,"post_id":42877573,"comment_id":72860236,"body_markdown":"i need when the button is click then textfield value visible in listbox usin notpadd","body":"i need when the button is click then textfield value visible in listbox usin notpadd"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":2,"creation_date":1489864574,"post_id":42877573,"comment_id":72861167,"body_markdown":"@Prince - Please do not post your code in a comment. If you can, please edit your existing post and add your code. Also: `visible in listbox usin notpadd` - What is `notpadd`?","body":"@Prince - Please do not post your code in a comment. If you can, please edit your existing post and add your code. Also: <code>visible in listbox usin notpadd</code> - What is <code>notpadd</code>?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1489882795,"post_id":42877573,"comment_id":72866223,"body_markdown":"1) For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) Why code an applet?  If it is due to the teacher specifying it, please refer them to [Why CS teachers should **stop** teaching Java applets](http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/). 3) See [Java Plugin support deprecated](http://www.gizmodo.com.au/2016/01/rest-in-hell-java-plug-in/) and [Moving to a Plugin-Free Web](https://blogs.oracle.com/java-platform-group/entry/moving_to_a_plugin_free).","body":"1) For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) Why code an applet?  If it is due to the teacher specifying it, please refer them to <a href=\"http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/\" rel=\"nofollow noreferrer\">Why CS teachers should <b>stop</b> teaching Java applets</a>. 3) See <a href=\"http://www.gizmodo.com.au/2016/01/rest-in-hell-java-plug-in/\" rel=\"nofollow noreferrer\">Java Plugin support deprecated</a> and <a href=\"https://blogs.oracle.com/java-platform-group/entry/moving_to_a_plugin_free\" rel=\"nofollow noreferrer\">Moving to a Plugin-Free Web</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1489882824,"post_id":42877573,"comment_id":72866233,"body_markdown":".. 4) Use a logical and consistent form of indenting code lines and blocks.  The indentation is intended to make the flow of the code easier to follow!","body":".. 4) Use a logical and consistent form of indenting code lines and blocks.  The indentation is intended to make the flow of the code easier to follow!"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489866762,"creation_date":1489866762,"answer_id":42879122,"question_id":42877573,"body_markdown":"The code in your provided **ActionPerformed** event doesn&#39;t make any real sense:\r\n\r\nYour code:\r\n\r\n    public void action performed(actionEvent e){\r\n        String temp=textField1.getText();\r\n        textField1.setText(ls.getText());\r\n        ls.setText(temp);\r\n    }\r\n    \r\n    List ls; \r\n\r\nYou declare a string variable named **temp** and then initialize it with the contents from **textField1** which is okay but then in the next code line you want to change the contents of **textField1** to the value of **ls.getText()**. **ls** is declared as a List...there is no method named **getText()** for a AWT List. Perhaps you mean **ls.getSelectedItem()** but who knows...you&#39;re not giving enough information.\r\n\r\nYou are also trying to add to the List using a method named **setText()** as in the code line: `ls.setText(temp);`. Again, there is no such method for the AWT List that is named **setText()**. You are trying to use **TextField** methods for your **List** box and I&#39;m afraid that&#39;s not going to work out as you have obviously already noticed.\r\n\r\nSince you are using a AWT List all you need to do is: `ls.add(temp);` to add to your list box or better yet:\r\n\r\n    List ls; \r\n    \r\n    public void button1ActionPerformed(java.awt.event.ActionEvent evt){\r\n        String temp=textField1.getText();\r\n        // Make sure temp actually contains something\r\n        if (!temp.equals(&quot;&quot;)) { ls.add(temp); }\r\n    }\r\n\r\n\r\n","title":"Cannot find symbol get text and settext","body":"<p>The code in your provided <strong>ActionPerformed</strong> event doesn't make any real sense:</p>\n\n<p>Your code:</p>\n\n<pre><code>public void action performed(actionEvent e){\n    String temp=textField1.getText();\n    textField1.setText(ls.getText());\n    ls.setText(temp);\n}\n\nList ls; \n</code></pre>\n\n<p>You declare a string variable named <strong>temp</strong> and then initialize it with the contents from <strong>textField1</strong> which is okay but then in the next code line you want to change the contents of <strong>textField1</strong> to the value of <strong>ls.getText()</strong>. <strong>ls</strong> is declared as a List...there is no method named <strong>getText()</strong> for a AWT List. Perhaps you mean <strong>ls.getSelectedItem()</strong> but who knows...you're not giving enough information.</p>\n\n<p>You are also trying to add to the List using a method named <strong>setText()</strong> as in the code line: <code>ls.setText(temp);</code>. Again, there is no such method for the AWT List that is named <strong>setText()</strong>. You are trying to use <strong>TextField</strong> methods for your <strong>List</strong> box and I'm afraid that's not going to work out as you have obviously already noticed.</p>\n\n<p>Since you are using a AWT List all you need to do is: <code>ls.add(temp);</code> to add to your list box or better yet:</p>\n\n<pre><code>List ls; \n\npublic void button1ActionPerformed(java.awt.event.ActionEvent evt){\n    String temp=textField1.getText();\n    // Make sure temp actually contains something\n    if (!temp.equals(\"\")) { ls.add(temp); }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21037821,"reputation":23,"user_id":15460866,"display_name":"Peter Gitau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648114681,"creation_date":1648114681,"answer_id":71600029,"question_id":42877573,"body_markdown":"make sure that getText() is spelled exactly like that and the visibility modifier is public.","title":"Cannot find symbol get text and settext","body":"<p>make sure that getText() is spelled exactly like that and the visibility modifier is public.</p>\n"}],"owner":{"account_id":10490292,"reputation":11,"user_id":7732428,"display_name":"Prince joy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2391,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1648114681,"creation_date":1489858200,"question_id":42877573,"body_markdown":"I need help with this program to add text field item to listbox when button is clicked :\r\n\r\n    public void action performed(actionEvent e) {\r\n        String temp = textField1.getText();\r\n        textField1.setText(ls.getText());\r\n        ls.setText(temp);\r\n    }\r\n    List ls;\r\n","title":"Cannot find symbol get text and settext","body":"<p>I need help with this program to add text field item to listbox when button is clicked :</p>\n\n<pre><code>public void action performed(actionEvent e) {\n    String temp = textField1.getText();\n    textField1.setText(ls.getText());\n    ls.setText(temp);\n}\nList ls;\n</code></pre>\n"},{"tags":["java","eclipse","plugins","websphere","corba"],"comments":[{"owner":{"account_id":302020,"reputation":640,"user_id":610144,"accept_rate":79,"display_name":"changeme"},"score":1,"creation_date":1600912376,"post_id":64036994,"comment_id":113241182,"body_markdown":"I am facing same issue, this happened with recent upgrade in Eclipse of websphere tools. I tried to revert to Eclipse day it was working fine. But I am stuck with this error now.","body":"I am facing same issue, this happened with recent upgrade in Eclipse of websphere tools. I tried to revert to Eclipse day it was working fine. But I am stuck with this error now."},{"owner":{"account_id":6349552,"reputation":103,"user_id":4929054,"display_name":"Manu002"},"score":0,"creation_date":1600944618,"post_id":64036994,"comment_id":113252053,"body_markdown":"Try to download the zip file of a previous version of eclipse (not the installer), eg. Eclipse Photon or 2019-09-R, and run Eclipse on an empty workspace. You can try to follow the steps in my answer.","body":"Try to download the zip file of a previous version of eclipse (not the installer), eg. Eclipse Photon or 2019-09-R, and run Eclipse on an empty workspace. You can try to follow the steps in my answer."},{"owner":{"account_id":302020,"reputation":640,"user_id":610144,"accept_rate":79,"display_name":"changeme"},"score":0,"creation_date":1601043273,"post_id":64036994,"comment_id":113289970,"body_markdown":"Is there anyway we can raise this issue with IBM team?","body":"Is there anyway we can raise this issue with IBM team?"},{"owner":{"account_id":302020,"reputation":640,"user_id":610144,"accept_rate":79,"display_name":"changeme"},"score":0,"creation_date":1601043284,"post_id":64036994,"comment_id":113289976,"body_markdown":"Is there anyway we can raise this issue with IBM team?","body":"Is there anyway we can raise this issue with IBM team?"}],"answers":[{"tags":[],"owner":{"account_id":6349552,"reputation":103,"user_id":4929054,"display_name":"Manu002"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1600944779,"creation_date":1600944475,"answer_id":64044864,"question_id":64036994,"body_markdown":"I have found a workaround in order to continue to work with Eclipse and IBM WebSphere Application Server V8.5x Developer Tools plugin.\r\n\r\n**I have installed a previous version of Eclipse with an empty workspace**\r\n\r\n\r\nSteps:\r\n=============\r\n\r\n \r\n\r\n- Download Eclipse J2ee 2019-09-R as Zip file (Eclipse Photon works too)\r\n- Extract in a folder in you file system\r\n- edit *eclipse.ini* file adding `-vm\r\nC:/Users/USER/IBM/WebSphere/AppServer/java/bin` on the first line. (It&#39;s Java 1.8 located in WebSphere folder)\r\n- Start Eclipse using an empty workspace\r\n- Download IBM WebSphere Application Server V8.5x Developer Tools plugin via Help &gt; Install new software. (url: http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp/\r\n)\r\n- now I&#39;m able to create an use new WAS Servers with my old Profiles without any of the previous error.","title":"Eclipse 2020-09: org/omg/CORBA/UserException when trying to run WebSphere AS 8.5 Servers using Plugin","body":"<p>I have found a workaround in order to continue to work with Eclipse and IBM WebSphere Application Server V8.5x Developer Tools plugin.</p>\n<p><strong>I have installed a previous version of Eclipse with an empty workspace</strong></p>\n<h1>Steps:</h1>\n<ul>\n<li>Download Eclipse J2ee 2019-09-R as Zip file (Eclipse Photon works too)</li>\n<li>Extract in a folder in you file system</li>\n<li>edit <em>eclipse.ini</em> file adding <code>-vm C:/Users/USER/IBM/WebSphere/AppServer/java/bin</code> on the first line. (It's Java 1.8 located in WebSphere folder)</li>\n<li>Start Eclipse using an empty workspace</li>\n<li>Download IBM WebSphere Application Server V8.5x Developer Tools plugin via Help &gt; Install new software. (url: <a href=\"http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp/\" rel=\"nofollow noreferrer\">http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/2020-09_comp/</a>\n)</li>\n<li>now I'm able to create an use new WAS Servers with my old Profiles without any of the previous error.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8349333,"reputation":81,"user_id":6272058,"display_name":"Marko uti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615976268,"creation_date":1615976268,"answer_id":66671034,"question_id":64036994,"body_markdown":"I had the same problem with Eclipse 2020-12 version. The difference is that minimal Java version is now 11 so you cannot use Ibm Java SDK that comes bundled with Websphere to run Eclipse.\r\n\r\nEclipse still throws:\r\n\r\n*An attempt was made to use a Websphere Application Server specific function, which is only supported on JRE 6.0, 7.0 or 8.0.* \r\n\r\nbut you can ignore it. Installing and debugging applications works.\r\n\r\nHere are the steps I made:\r\n\r\n - download [Eclipse JEE 2020-12 zip][1]\r\n - extract installation on filesystem\r\n - download removed JAXB artfacts and put them in ***dropins*** folder\r\n   - [javax.xml][2]\r\n   - [javax.activation][3]\r\n   - [javax.xml.bind][4]\r\n - download corba implementation jar, [glassfish-corba-orb][5] and also, put in ***dropins*** folder\r\n - install Websphere Developer Tools for Websphere 8.5 eclipse plugin and point it to local Websphere installation\r\n\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2020-12/R/eclipse-jee-2020-12-R-win32-x86_64.zip\r\n  [2]: http://download.eclipse.org/tools/orbit/downloads/drops/R20181102183712/repository/plugins/javax.xml_1.3.4.v201005080400.jar\r\n  [3]: http://download.eclipse.org/tools/orbit/downloads/drops/R20181102183712/repository/plugins/javax.activation_1.1.0.v201211130549.jar\r\n  [4]: http://download.eclipse.org/tools/orbit/downloads/drops/R20181102183712/repository/plugins/javax.xml.bind_2.2.0.v201105210648.jar\r\n  [5]: https://jar-download.com/artifacts/com.sun.corba","title":"Eclipse 2020-09: org/omg/CORBA/UserException when trying to run WebSphere AS 8.5 Servers using Plugin","body":"<p>I had the same problem with Eclipse 2020-12 version. The difference is that minimal Java version is now 11 so you cannot use Ibm Java SDK that comes bundled with Websphere to run Eclipse.</p>\n<p>Eclipse still throws:</p>\n<p><em>An attempt was made to use a Websphere Application Server specific function, which is only supported on JRE 6.0, 7.0 or 8.0.</em></p>\n<p>but you can ignore it. Installing and debugging applications works.</p>\n<p>Here are the steps I made:</p>\n<ul>\n<li>download <a href=\"https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2020-12/R/eclipse-jee-2020-12-R-win32-x86_64.zip\" rel=\"nofollow noreferrer\">Eclipse JEE 2020-12 zip</a></li>\n<li>extract installation on filesystem</li>\n<li>download removed JAXB artfacts and put them in <em><strong>dropins</strong></em> folder\n<ul>\n<li><a href=\"http://download.eclipse.org/tools/orbit/downloads/drops/R20181102183712/repository/plugins/javax.xml_1.3.4.v201005080400.jar\" rel=\"nofollow noreferrer\">javax.xml</a></li>\n<li><a href=\"http://download.eclipse.org/tools/orbit/downloads/drops/R20181102183712/repository/plugins/javax.activation_1.1.0.v201211130549.jar\" rel=\"nofollow noreferrer\">javax.activation</a></li>\n<li><a href=\"http://download.eclipse.org/tools/orbit/downloads/drops/R20181102183712/repository/plugins/javax.xml.bind_2.2.0.v201105210648.jar\" rel=\"nofollow noreferrer\">javax.xml.bind</a></li>\n</ul>\n</li>\n<li>download corba implementation jar, <a href=\"https://jar-download.com/artifacts/com.sun.corba\" rel=\"nofollow noreferrer\">glassfish-corba-orb</a> and also, put in <em><strong>dropins</strong></em> folder</li>\n<li>install Websphere Developer Tools for Websphere 8.5 eclipse plugin and point it to local Websphere installation</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21287153,"reputation":1,"user_id":15664630,"display_name":"Osand&#237; Mariano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618606424,"creation_date":1618606424,"answer_id":67132068,"question_id":64036994,"body_markdown":"**I found another way to solve:**\r\n\r\nIn addition to\r\n\r\n 1. Download Eclipse as Zip file\r\n 2. Extract in a folder in you file system\r\n 3. edit eclipse.ini file adding -vm Path/IBM/WebSphere/AppServer/java/bin on the first \r\n    line. (It&#39;s Java 1.8 located in WebSphere folder)\r\n\r\nAccess the link below and install the compatible version in your eclipse, this link lists several versions:\r\n\r\nhttp://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/\r\n\r\n**Example:**\r\n\r\nIf your version of eclipse is photon get the link below for installation:\r\n\r\nhttp://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/photon/","title":"Eclipse 2020-09: org/omg/CORBA/UserException when trying to run WebSphere AS 8.5 Servers using Plugin","body":"<p><strong>I found another way to solve:</strong></p>\n<p>In addition to</p>\n<ol>\n<li>Download Eclipse as Zip file</li>\n<li>Extract in a folder in you file system</li>\n<li>edit eclipse.ini file adding -vm Path/IBM/WebSphere/AppServer/java/bin on the first\nline. (It's Java 1.8 located in WebSphere folder)</li>\n</ol>\n<p>Access the link below and install the compatible version in your eclipse, this link lists several versions:</p>\n<p><a href=\"http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/\" rel=\"nofollow noreferrer\">http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/</a></p>\n<p><strong>Example:</strong></p>\n<p>If your version of eclipse is photon get the link below for installation:</p>\n<p><a href=\"http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/photon/\" rel=\"nofollow noreferrer\">http://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/updates/wdt/photon/</a></p>\n"}],"owner":{"account_id":6349552,"reputation":103,"user_id":4929054,"display_name":"Manu002"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7594,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64044864,"answer_count":3,"score":4,"last_activity_date":1648114604,"creation_date":1600899235,"question_id":64036994,"body_markdown":"Today trying to solve an error on Eclipse startup, I have found a solution that said to reinstall the new version. So I have installed the new version, with which I opened my previous Workspace. \r\n\r\nThe actual version is: Eclipse IDE for Enterprise Java Developers  \r\n\r\n&gt; Version: 2020-09 (4.17.0)\r\nBuild id: 20200910-1200\r\n\r\n\r\n\r\nNow I have a bad situation in the environment in which I work:\r\nPreviously I had many Websphere application Servers v8.5.5 already configured through the IBM WebSphere Application Server V8.5x Developer Tools plugin. \r\n\r\nThe Server runtime I used, was based on Java java_1.7.1_64, that is located in the Websphere AppServer folder.\r\n\r\nI reinstalled the plugin to recover its typical functionality, which acts as an interface to the WAS server (start, publish, status)  but it seems to be no longer compatible with the current version of Eclipse, so I am no longer able to start the WAS servers from Eclipse.\r\n\r\nAt the Workbech startup I get the following popup with error: \r\n\r\n&gt; An attempt was made to Use a Websphere Application Server specific function, which is only supported on JRE 6.0, 7.0, or 8.0\r\n\r\nAnd when I try to interact with the server I receive the folliwing error:\r\n\r\n&gt; An internal error occurred during: &quot;Starting Server G2&quot;.\r\norg/omg/CORBA/UserException\r\n\r\nIf I double click on the server, to open its configuration page, the IDE opens an empty, grey, page with only the X to close it. \r\n\r\nIf I try to create a new Server with WAS Runtime, when I click on New &gt; Server, I get this error:\r\n\r\n&gt; An error has occurred. See error log for more details.\r\norg/omg/CORBA/UserException\r\n\r\nThe same errors appears if I try to select WebSphere Application Server v8.5 as type of server.\r\n\r\n\r\neclipse.ini:\r\n------------\r\n\r\n```\r\n-startup\r\nplugins/org.eclipse.equinox.launcher_1.5.800.v20200727-1323.jar\r\n--launcher.library\r\nC:\\Users\\USER\\.p2\\pool\\plugins\\org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1300.v20200819-0940\r\n-product\r\norg.eclipse.epp.package.jee.product\r\n-showsplash\r\nC:\\Users\\USER\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.17.0.20200910-1200\r\n--launcher.defaultAction\r\nopenFile\r\n--launcher.appendVmargs\r\n-vm\r\nC:/Users/USER/.p2/pool/plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_14.0.2.v20200815-0932/jre/bin\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n-XX:+UseG1GC\r\n-XX:+UseStringDeduplication\r\n--add-modules=ALL-SYSTEM\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Xms256m\r\n-Xmx2048m\r\n--add-modules=ALL-SYSTEM\r\n-Declipse.p2.max.threads=10\r\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\r\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\r\n```\r\n\r\n\r\nThings I have tried:\r\n---------------------------\r\n\r\n- Recover the previous eclipse version but I can&#39;t, I still have the installation folder, but I probably changed something in the eclipse.ini and if I start it now it always launches me the new updated Eclipse instance, it seems as if it has been added or overwritten something in the .p2 folder due to the installation of the new version that I did.\r\n\r\n- I tried to install older versions of Eclipse, but the was plugin doesn&#39;t seem to work with those either.\r\n\r\n - I still have all the WAS Profiles configured, Is there an alternative, or a workaround, to continue working on them even without the eclipse plugin? I am quite ignorant on the subject. In the end I just have to start / restart the server, add EARs quickly, do the publish, understand the status of the server; operations for which I have always used the interface.\r\n\r\nThanks in advance to all those who will help me find a solution.","title":"Eclipse 2020-09: org/omg/CORBA/UserException when trying to run WebSphere AS 8.5 Servers using Plugin","body":"<p>Today trying to solve an error on Eclipse startup, I have found a solution that said to reinstall the new version. So I have installed the new version, with which I opened my previous Workspace.</p>\n<p>The actual version is: Eclipse IDE for Enterprise Java Developers</p>\n<blockquote>\n<p>Version: 2020-09 (4.17.0)\nBuild id: 20200910-1200</p>\n</blockquote>\n<p>Now I have a bad situation in the environment in which I work:\nPreviously I had many Websphere application Servers v8.5.5 already configured through the IBM WebSphere Application Server V8.5x Developer Tools plugin.</p>\n<p>The Server runtime I used, was based on Java java_1.7.1_64, that is located in the Websphere AppServer folder.</p>\n<p>I reinstalled the plugin to recover its typical functionality, which acts as an interface to the WAS server (start, publish, status)  but it seems to be no longer compatible with the current version of Eclipse, so I am no longer able to start the WAS servers from Eclipse.</p>\n<p>At the Workbech startup I get the following popup with error:</p>\n<blockquote>\n<p>An attempt was made to Use a Websphere Application Server specific function, which is only supported on JRE 6.0, 7.0, or 8.0</p>\n</blockquote>\n<p>And when I try to interact with the server I receive the folliwing error:</p>\n<blockquote>\n<p>An internal error occurred during: &quot;Starting Server G2&quot;.\norg/omg/CORBA/UserException</p>\n</blockquote>\n<p>If I double click on the server, to open its configuration page, the IDE opens an empty, grey, page with only the X to close it.</p>\n<p>If I try to create a new Server with WAS Runtime, when I click on New &gt; Server, I get this error:</p>\n<blockquote>\n<p>An error has occurred. See error log for more details.\norg/omg/CORBA/UserException</p>\n</blockquote>\n<p>The same errors appears if I try to select WebSphere Application Server v8.5 as type of server.</p>\n<h2>eclipse.ini:</h2>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.800.v20200727-1323.jar\n--launcher.library\nC:\\Users\\USER\\.p2\\pool\\plugins\\org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1300.v20200819-0940\n-product\norg.eclipse.epp.package.jee.product\n-showsplash\nC:\\Users\\USER\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.17.0.20200910-1200\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\nC:/Users/USER/.p2/pool/plugins/org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_14.0.2.v20200815-0932/jre/bin\n-vmargs\n-Dosgi.requiredJavaVersion=11\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Xms256m\n-Xmx2048m\n--add-modules=ALL-SYSTEM\n-Declipse.p2.max.threads=10\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\n</code></pre>\n<h2>Things I have tried:</h2>\n<ul>\n<li><p>Recover the previous eclipse version but I can't, I still have the installation folder, but I probably changed something in the eclipse.ini and if I start it now it always launches me the new updated Eclipse instance, it seems as if it has been added or overwritten something in the .p2 folder due to the installation of the new version that I did.</p>\n</li>\n<li><p>I tried to install older versions of Eclipse, but the was plugin doesn't seem to work with those either.</p>\n</li>\n<li><p>I still have all the WAS Profiles configured, Is there an alternative, or a workaround, to continue working on them even without the eclipse plugin? I am quite ignorant on the subject. In the end I just have to start / restart the server, add EARs quickly, do the publish, understand the status of the server; operations for which I have always used the interface.</p>\n</li>\n</ul>\n<p>Thanks in advance to all those who will help me find a solution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1648071062,"post_id":71594084,"comment_id":126534728,"body_markdown":"If you use an IDE, such as IntelliJ or Eclipse, you never have to worry about issues like this.","body":"If you use an IDE, such as IntelliJ or Eclipse, you never have to worry about issues like this."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1648071492,"post_id":71594084,"comment_id":126534850,"body_markdown":"check this, it&#39;s about making a Jar containing many .class file, but should point you to the right direction also with compilation https://stackoverflow.com/questions/9941296/how-do-i-make-a-jar-from-a-java-file/9941411#9941411","body":"check this, it&#39;s about making a Jar containing many .class file, but should point you to the right direction also with compilation <a href=\"https://stackoverflow.com/questions/9941296/how-do-i-make-a-jar-from-a-java-file/9941411#9941411\" title=\"how do i make a jar from a java file\">stackoverflow.com/questions/9941296/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648070022,"creation_date":1648070022,"answer_id":71594109,"question_id":71594084,"body_markdown":"&gt; My question is should I compile the Person class first and then the\r\n&gt; Main or not.\r\n\r\nYou could, but there is no need to do that given the simple requirements you describe.  The 2 could be compiled together if you like.  You do not necessarily need to compile Person first.","title":"Import custom classes in java","body":"<blockquote>\n<p>My question is should I compile the Person class first and then the\nMain or not.</p>\n</blockquote>\n<p>You could, but there is no need to do that given the simple requirements you describe.  The 2 could be compiled together if you like.  You do not necessarily need to compile Person first.</p>\n"}],"owner":{"account_id":19895465,"reputation":136,"user_id":14576660,"display_name":"Natan Ytzhaki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1648114172,"creation_date":1648069876,"question_id":71594084,"body_markdown":"I have a `Main` java class which has the `main()` method. In this method I want to use another class of that I wrote `Person`. Both classes are under the same package so I understand I don&#39;t need to import the `Person` class and I can use it right away.\r\n\r\nShould I compile the `Person `class first and then the `Main` or not?\r\n\r\nI tried to compile just the `main` and I got error:\r\n\r\n&gt; cannot find symbol Person","title":"Import custom classes in java","body":"<p>I have a <code>Main</code> java class which has the <code>main()</code> method. In this method I want to use another class of that I wrote <code>Person</code>. Both classes are under the same package so I understand I don't need to import the <code>Person</code> class and I can use it right away.</p>\n<p>Should I compile the <code>Person </code>class first and then the <code>Main</code> or not?</p>\n<p>I tried to compile just the <code>main</code> and I got error:</p>\n<blockquote>\n<p>cannot find symbol Person</p>\n</blockquote>\n"},{"tags":["java","segmentation-fault","ffi","jnr"],"comments":[{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1647941702,"post_id":71568203,"comment_id":126491900,"body_markdown":"Of course in native code. It is jnr (Java Native Runtime). I know that it is a bug. But in which component is the bug? How can I find more details over the cause of it.","body":"Of course in native code. It is jnr (Java Native Runtime). I know that it is a bug. But in which component is the bug? How can I find more details over the cause of it."},{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1647950035,"post_id":71568203,"comment_id":126494883,"body_markdown":"What this help? I know that it crash inside the native/proxy method opj_read_header. But what is the cause? And why only on some systems? What is wrong with this systems?","body":"What this help? I know that it crash inside the native/proxy method opj_read_header. But what is the cause? And why only on some systems? What is wrong with this systems?"}],"answers":[{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648114090,"creation_date":1648114090,"answer_id":71599912,"question_id":71568203,"body_markdown":"The cause of the crash on Linux was a inkompatible native libraries for the target OS. The native library was compiled with `glibc` and the OS with the crash use `musl`. It was not a bug in any of the libraries.\r\n\r\nTo solve the problem we bundle now a second version of the library. And differ with the follow code:\r\n\r\n    ProcessBuilder builder = new ProcessBuilder( &quot;ldd&quot;, &quot;/bin/ls&quot; );\r\n    Process process = builder.start();\r\n    InputStream input = process.getInputStream();\r\n    process.waitFor( 5, TimeUnit.SECONDS );\r\n    String content = new String( input.readAllBytes() );\r\n    LogManager.getConfigLogger().debug( content );\r\n    boolean isMuslLibrary = content.contains( &quot;musl-&quot; );\r\n\r\nMore details are in the issue comments: https://github.com/dbmdz/imageio-jnr/issues/192\r\n\r\nOpen is the question why `loadLibrary` not throw an error or how an Java developer can find it.","title":"How to handle a SIGSEGV with jffi / jnr?","body":"<p>The cause of the crash on Linux was a inkompatible native libraries for the target OS. The native library was compiled with <code>glibc</code> and the OS with the crash use <code>musl</code>. It was not a bug in any of the libraries.</p>\n<p>To solve the problem we bundle now a second version of the library. And differ with the follow code:</p>\n<pre><code>ProcessBuilder builder = new ProcessBuilder( &quot;ldd&quot;, &quot;/bin/ls&quot; );\nProcess process = builder.start();\nInputStream input = process.getInputStream();\nprocess.waitFor( 5, TimeUnit.SECONDS );\nString content = new String( input.readAllBytes() );\nLogManager.getConfigLogger().debug( content );\nboolean isMuslLibrary = content.contains( &quot;musl-&quot; );\n</code></pre>\n<p>More details are in the issue comments: <a href=\"https://github.com/dbmdz/imageio-jnr/issues/192\" rel=\"nofollow noreferrer\">https://github.com/dbmdz/imageio-jnr/issues/192</a></p>\n<p>Open is the question why <code>loadLibrary</code> not throw an error or how an Java developer can find it.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71599912,"answer_count":1,"score":-1,"last_activity_date":1648114090,"creation_date":1647933618,"question_id":71568203,"body_markdown":"The Java VM crash with a SIGSEGV in a docker container. On all other systems it is working as expected.\r\n\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x0000000000007966, pid=188, tid=189\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment Temurin-17.0.2+8 (17.0.2+8) (build 17.0.2+8)\r\n    # Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.2+8 (17.0.2+8, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n    # Problematic frame:\r\n    # C  0x0000000000007966\r\n\r\nand the stack trace\r\n\r\n    Current thread (0x00007fbdfa103040):  JavaThread &quot;main&quot; [_thread_in_native, id=189, stack(0x00007fbdff179000,0x00007fbdff279ac8)]\r\n    \r\n    Stack: [0x00007fbdff179000,0x00007fbdff279ac8],  sp=0x00007fbdff277c38,  free space=1019k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    C  0x0000000000007966\r\n    \r\n    Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\n    j  com.kenai.jffi.Foreign.invokeN3O1(JJJJJLjava/lang/Object;III)J+0\r\n    j  com.kenai.jffi.Invoker.invokeN3(Lcom/kenai/jffi/CallContext;JJJJILjava/lang/Object;Lcom/kenai/jffi/ObjectParameterStrategy;Lcom/kenai/jffi/ObjectParameterInfo;Ljava/lang/Object;Lcom/kenai/jffi/ObjectParameterStrategy;Lcom/kenai/jffi/ObjectParameterInfo;Ljava/lang/Object;Lcom/kenai/jffi/ObjectParameterStrategy;Lcom/kenai/jffi/ObjectParameterInfo;)J+126\r\n    j  de.digitalcollections.openjpeg.lib.libopenjp2$jnr$ffi$1.opj_read_header(Ljnr/ffi/Pointer;Ljnr/ffi/Pointer;Ljnr/ffi/byref/PointerByReference;)Z+190\r\n\r\n\r\nWhat can I do to solve this problem with jffi / jnr? How can I receive more details about the problem?","title":"How to handle a SIGSEGV with jffi / jnr?","body":"<p>The Java VM crash with a SIGSEGV in a docker container. On all other systems it is working as expected.</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x0000000000007966, pid=188, tid=189\n#\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.2+8 (17.0.2+8) (build 17.0.2+8)\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.2+8 (17.0.2+8, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# C  0x0000000000007966\n</code></pre>\n<p>and the stack trace</p>\n<pre><code>Current thread (0x00007fbdfa103040):  JavaThread &quot;main&quot; [_thread_in_native, id=189, stack(0x00007fbdff179000,0x00007fbdff279ac8)]\n\nStack: [0x00007fbdff179000,0x00007fbdff279ac8],  sp=0x00007fbdff277c38,  free space=1019k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  0x0000000000007966\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  com.kenai.jffi.Foreign.invokeN3O1(JJJJJLjava/lang/Object;III)J+0\nj  com.kenai.jffi.Invoker.invokeN3(Lcom/kenai/jffi/CallContext;JJJJILjava/lang/Object;Lcom/kenai/jffi/ObjectParameterStrategy;Lcom/kenai/jffi/ObjectParameterInfo;Ljava/lang/Object;Lcom/kenai/jffi/ObjectParameterStrategy;Lcom/kenai/jffi/ObjectParameterInfo;Ljava/lang/Object;Lcom/kenai/jffi/ObjectParameterStrategy;Lcom/kenai/jffi/ObjectParameterInfo;)J+126\nj  de.digitalcollections.openjpeg.lib.libopenjp2$jnr$ffi$1.opj_read_header(Ljnr/ffi/Pointer;Ljnr/ffi/Pointer;Ljnr/ffi/byref/PointerByReference;)Z+190\n</code></pre>\n<p>What can I do to solve this problem with jffi / jnr? How can I receive more details about the problem?</p>\n"},{"tags":["java","android","android-espresso"],"owner":{"account_id":5763492,"reputation":101,"user_id":4549112,"display_name":"Skj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648113790,"creation_date":1648113790,"question_id":71599846,"body_markdown":"Previously had a **android.widget.Button**. Button has been changed to type **com.google.android.material.button.MaterialButton.**\r\n\r\nEspresso test for background color is like below:\r\n\r\n```\r\n@Test\r\n    public void checkLoginButton() {\r\n        onView(withId(R.id.login_button))\r\n                .check(matches(hasBackgroundColor(ContextCompat.getColor(\r\n                        mLoginActivityRule.getActivity(), R.color.colorPrimaryDarkBlue))));\r\n    }\r\n```\r\n**hadBackgroundColor(*int expectedColor*)** is the custom matcher below:\r\n\r\n```\r\npublic static Matcher&lt;View&gt; hasBackgroundColor(final int expectedColor) {\r\n        return new BoundedMatcher&lt;View, Button&gt;(Button.class) {\r\n\r\n            int mExpectedColor = expectedColor;\r\n            int mActualColor = 0;\r\n\r\n            @Override\r\n            public boolean matchesSafely(Button button) {\r\n                mActualColor = ((RippleDrawable) button.getBackground()).getEffectColor().getDefaultColor();\r\n                return mActualColor == mExpectedColor;\r\n            }\r\n\r\n            @Override\r\n            public void describeTo(Description description) {\r\n                description.appendText(&quot;Expected color &quot; + mExpectedColor + &quot; did not match with&quot;\r\n                        + &quot; actual color &quot; + mActualColor);\r\n            }\r\n        };\r\n\r\n    }\r\n```\r\n\r\nThe code currently throws the error below:\r\n```\r\njava.lang.NoSuchMethodError: No virtual method getEffectColor()Landroid/content/res/ColorStateList; in class Landroid/graphics/drawable/RippleDrawable; or its super classes (declaration of &#39;android.graphics.drawable.RippleDrawable&#39; appears in /system/framework/framework.jar)\r\nat nl.energieplanner.intake.activity.LoginActivityTest$2.matchesSafely(LoginActivityTest.java:248)\r\nat nl.energieplanner.intake.activity.LoginActivityTest$2.matchesSafely(LoginActivityTest.java:241)\r\nat androidx.test.espresso.matcher.BoundedMatcher.matches(BoundedMatcher.java:7)\r\nat androidx.test.espresso.matcher.ViewMatchers.assertThat(ViewMatchers.java:3)\r\nat androidx.test.espresso.assertion.ViewAssertions$MatchesViewAssertion.check(ViewAssertions.java:11)\r\nat androidx.test.espresso.ViewInteraction$SingleExecutionViewAssertion.check(ViewInteraction.java:2)\r\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:12)\r\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:1)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat android.os.Handler.handleCallback(Handler.java:789)\r\nat android.os.Handler.dispatchMessage(Handler.java:98)\r\nat android.os.Looper.loop(Looper.java:164)\r\nat android.app.ActivityThread.main(ActivityThread.java:6541)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n```\r\nHere&#39;s also the button&#39;s layout, if needed.\r\n```\r\n&lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/login_button&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.UnelevatedButton&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:minHeight=&quot;70dp&quot;\r\n            android:padding=&quot;16dp&quot;\r\n            android:text=&quot;@string/action_sign_in&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n```\r\n\r\nThank you!\r\n","title":"Android Espresso test for background color of a MaterialButton","body":"<p>Previously had a <strong>android.widget.Button</strong>. Button has been changed to type <strong>com.google.android.material.button.MaterialButton.</strong></p>\n<p>Espresso test for background color is like below:</p>\n<pre><code>@Test\n    public void checkLoginButton() {\n        onView(withId(R.id.login_button))\n                .check(matches(hasBackgroundColor(ContextCompat.getColor(\n                        mLoginActivityRule.getActivity(), R.color.colorPrimaryDarkBlue))));\n    }\n</code></pre>\n<p><strong>hadBackgroundColor(<em>int expectedColor</em>)</strong> is the custom matcher below:</p>\n<pre><code>public static Matcher&lt;View&gt; hasBackgroundColor(final int expectedColor) {\n        return new BoundedMatcher&lt;View, Button&gt;(Button.class) {\n\n            int mExpectedColor = expectedColor;\n            int mActualColor = 0;\n\n            @Override\n            public boolean matchesSafely(Button button) {\n                mActualColor = ((RippleDrawable) button.getBackground()).getEffectColor().getDefaultColor();\n                return mActualColor == mExpectedColor;\n            }\n\n            @Override\n            public void describeTo(Description description) {\n                description.appendText(&quot;Expected color &quot; + mExpectedColor + &quot; did not match with&quot;\n                        + &quot; actual color &quot; + mActualColor);\n            }\n        };\n\n    }\n</code></pre>\n<p>The code currently throws the error below:</p>\n<pre><code>java.lang.NoSuchMethodError: No virtual method getEffectColor()Landroid/content/res/ColorStateList; in class Landroid/graphics/drawable/RippleDrawable; or its super classes (declaration of 'android.graphics.drawable.RippleDrawable' appears in /system/framework/framework.jar)\nat nl.energieplanner.intake.activity.LoginActivityTest$2.matchesSafely(LoginActivityTest.java:248)\nat nl.energieplanner.intake.activity.LoginActivityTest$2.matchesSafely(LoginActivityTest.java:241)\nat androidx.test.espresso.matcher.BoundedMatcher.matches(BoundedMatcher.java:7)\nat androidx.test.espresso.matcher.ViewMatchers.assertThat(ViewMatchers.java:3)\nat androidx.test.espresso.assertion.ViewAssertions$MatchesViewAssertion.check(ViewAssertions.java:11)\nat androidx.test.espresso.ViewInteraction$SingleExecutionViewAssertion.check(ViewInteraction.java:2)\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:12)\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:1)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat android.os.Handler.handleCallback(Handler.java:789)\nat android.os.Handler.dispatchMessage(Handler.java:98)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:6541)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n<p>Here's also the button's layout, if needed.</p>\n<pre><code>&lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/login_button&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.UnelevatedButton&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:minHeight=&quot;70dp&quot;\n            android:padding=&quot;16dp&quot;\n            android:text=&quot;@string/action_sign_in&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","backend"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1647934097,"post_id":71568044,"comment_id":126489380,"body_markdown":"Maybe you can use Google - or write your own web scraper to search for web pages containing such information. For removed records: you can only recognize these after the fact: you found such information, but in a later scan it is no longer there.","body":"Maybe you can use Google - or write your own web scraper to search for web pages containing such information. For removed records: you can only recognize these after the fact: you found such information, but in a later scan it is no longer there."}],"answers":[{"tags":[],"owner":{"account_id":17419771,"reputation":98,"user_id":12625547,"display_name":"Yaser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648112839,"creation_date":1648112839,"answer_id":71599636,"question_id":71568044,"body_markdown":"I solved my problem.You can find out which sites the domain is used on. You can skip the sites you don&#39;t want. By adding database, you can remove it in the next search.\r\n\r\n    \r\n    public class FinderDomain {\r\n    \r\n        public static final String GOOGLE_SEARCH_URL = &quot;https://www.google.com/search&quot;;\r\n        private static String Argent = &quot;Mozilla/5.0&quot;;\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            String searchTerm = &quot;trendyol.com&quot;;\r\n            int num = 60; //How many pages do you want\r\n    \r\n            String searchURL = GOOGLE_SEARCH_URL + &quot;?q=&#39;&quot; + searchTerm + &quot;&#39;&amp;num=&quot; + num;\r\n           \r\n            Document doc = Jsoup.connect(searchURL).userAgent(Argent).get();\r\n            Elements results = doc.select(&quot;a&quot;);\r\n            for (Element result : results) {\r\n                String linkHref = result.attr(&quot;href&quot;);\r\n                if (linkHref.startsWith(&quot;http&quot;)) {\r\n                    if (!continueValue(linkHref, searchTerm)) {\r\n                        System.out.println(linkHref);\r\n                    }\r\n    \r\n                }\r\n        }\r\n    \r\n        public static boolean continueValue(String s, String searchTerm) {  \r\n            return s.contains(searchTerm) || s.contains(&quot;google.com&quot;) || s.contains(&quot;facebook.com&quot;) || s.contains(&quot;instagram.com&quot;) || s.contains(&quot;twitter.com&quot;) || s.contains(&quot;linkedin.com&quot;) || s.contains(&quot;youtube.com&quot;) || s.contains(&quot;webcache&quot;) || s.contains(&quot;pinterest.com&quot;)\r\n                    || s.contains(&quot;pinterest.com&quot;) || s.contains(&quot;translate.google.com&quot;)  || s.contains(&quot;policies.google.com&quot;)\r\n                    || s.contains(&quot;apkpure.com&quot;) || s.contains(&quot;www.glassdoor.com&quot;) || s.contains(&quot;support.google&quot;);\r\n        }\r\n    }","title":"How can I find email addresses on other sites by entering a domain address?","body":"<p>I solved my problem.You can find out which sites the domain is used on. You can skip the sites you don't want. By adding database, you can remove it in the next search.</p>\n<pre><code>public class FinderDomain {\n\n    public static final String GOOGLE_SEARCH_URL = &quot;https://www.google.com/search&quot;;\n    private static String Argent = &quot;Mozilla/5.0&quot;;\n\n    public static void main(String[] args) throws IOException {\n\n        String searchTerm = &quot;trendyol.com&quot;;\n        int num = 60; //How many pages do you want\n\n        String searchURL = GOOGLE_SEARCH_URL + &quot;?q='&quot; + searchTerm + &quot;'&amp;num=&quot; + num;\n       \n        Document doc = Jsoup.connect(searchURL).userAgent(Argent).get();\n        Elements results = doc.select(&quot;a&quot;);\n        for (Element result : results) {\n            String linkHref = result.attr(&quot;href&quot;);\n            if (linkHref.startsWith(&quot;http&quot;)) {\n                if (!continueValue(linkHref, searchTerm)) {\n                    System.out.println(linkHref);\n                }\n\n            }\n    }\n\n    public static boolean continueValue(String s, String searchTerm) {  \n        return s.contains(searchTerm) || s.contains(&quot;google.com&quot;) || s.contains(&quot;facebook.com&quot;) || s.contains(&quot;instagram.com&quot;) || s.contains(&quot;twitter.com&quot;) || s.contains(&quot;linkedin.com&quot;) || s.contains(&quot;youtube.com&quot;) || s.contains(&quot;webcache&quot;) || s.contains(&quot;pinterest.com&quot;)\n                || s.contains(&quot;pinterest.com&quot;) || s.contains(&quot;translate.google.com&quot;)  || s.contains(&quot;policies.google.com&quot;)\n                || s.contains(&quot;apkpure.com&quot;) || s.contains(&quot;www.glassdoor.com&quot;) || s.contains(&quot;support.google&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17419771,"reputation":98,"user_id":12625547,"display_name":"Yaser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71599636,"answer_count":1,"score":0,"last_activity_date":1648112839,"creation_date":1647932559,"question_id":71568044,"body_markdown":"\r\nUsing Java, for example, when I search with the domain name &quot;trendyol.com&quot;, can I find domain-related mails on different sites?\r\n\r\nhttp://olaybende.com/acayip/trendyol-corona-virusu-kaynakli-fahis-fiyatlarla-ilgili-aciklama-yapti Mar 5, 2022\r\n\r\nhttp://digitalage.com.tr/trendyoldan-koronavirusle-beraber-artan-fiyatlara-iliskin-aciklama Feb 25, 2022\r\n\r\nhttp://sancaktepenews.com/ihtiyac-belirlendi-stoklar-hazirlandi Feb 20, 2022\r\n\r\nhttp://borsametre.com.tr/trendyoldan-koronavirusle-ilgili-haksiz-fiyat-olusumlarina-yonelik-tedbir-aciklamasi/1191 Jan 26, 2022\r\n\r\nhttp://agriajans.com.tr/ihtiyac-belirlendi-stoklar-hazirlandi-9176.html/ekonomi/47/44/11/13/03/2020/admin Nov 22, 2021\r\n\r\nhttp://agriajans.com.tr/insaf-izan-kalmadi-kendimizi-vuruyoruz-9167.html/ekonomi/43/44/11/13/03/2020/admin Nov 22, 2021\r\n\r\nhttp://haberlerwebte.com/trendyol-15-tllik-makarnalar-icin-aciklama-yapti-4607h.htm Nov 15, 2021\r\n\r\nhttp://teknosafari.net/trendyol-fiyat-artisi-olan-urunlerle-ilgili-islem-yaptigini-acikladi Oct 27, 2021\r\n\r\nhttp://paraajansi.com.tr/trendyol-haksiz-fiyat-olusumuna-karsi-539-urune-islem-yapti/2531 Aug 7, 2020 REMOVED\r\n\r\nhttp://paraajansi.com.tr/trendyoldan-koronavirusle-ilgili-haksiz-fiyat-olusumlarina-yonelik-tedbir-aciklamasi/2291 Aug 7, 2020 REMOVED\r\n\r\n\r\n\r\nCan I output like this?How can I show removed records?","title":"How can I find email addresses on other sites by entering a domain address?","body":"<p>Using Java, for example, when I search with the domain name &quot;trendyol.com&quot;, can I find domain-related mails on different sites?</p>\n<p><a href=\"http://olaybende.com/acayip/trendyol-corona-virusu-kaynakli-fahis-fiyatlarla-ilgili-aciklama-yapti\" rel=\"nofollow noreferrer\">http://olaybende.com/acayip/trendyol-corona-virusu-kaynakli-fahis-fiyatlarla-ilgili-aciklama-yapti</a> Mar 5, 2022</p>\n<p><a href=\"http://digitalage.com.tr/trendyoldan-koronavirusle-beraber-artan-fiyatlara-iliskin-aciklama\" rel=\"nofollow noreferrer\">http://digitalage.com.tr/trendyoldan-koronavirusle-beraber-artan-fiyatlara-iliskin-aciklama</a> Feb 25, 2022</p>\n<p><a href=\"http://sancaktepenews.com/ihtiyac-belirlendi-stoklar-hazirlandi\" rel=\"nofollow noreferrer\">http://sancaktepenews.com/ihtiyac-belirlendi-stoklar-hazirlandi</a> Feb 20, 2022</p>\n<p><a href=\"http://borsametre.com.tr/trendyoldan-koronavirusle-ilgili-haksiz-fiyat-olusumlarina-yonelik-tedbir-aciklamasi/1191\" rel=\"nofollow noreferrer\">http://borsametre.com.tr/trendyoldan-koronavirusle-ilgili-haksiz-fiyat-olusumlarina-yonelik-tedbir-aciklamasi/1191</a> Jan 26, 2022</p>\n<p><a href=\"http://agriajans.com.tr/ihtiyac-belirlendi-stoklar-hazirlandi-9176.html/ekonomi/47/44/11/13/03/2020/admin\" rel=\"nofollow noreferrer\">http://agriajans.com.tr/ihtiyac-belirlendi-stoklar-hazirlandi-9176.html/ekonomi/47/44/11/13/03/2020/admin</a> Nov 22, 2021</p>\n<p><a href=\"http://agriajans.com.tr/insaf-izan-kalmadi-kendimizi-vuruyoruz-9167.html/ekonomi/43/44/11/13/03/2020/admin\" rel=\"nofollow noreferrer\">http://agriajans.com.tr/insaf-izan-kalmadi-kendimizi-vuruyoruz-9167.html/ekonomi/43/44/11/13/03/2020/admin</a> Nov 22, 2021</p>\n<p><a href=\"http://haberlerwebte.com/trendyol-15-tllik-makarnalar-icin-aciklama-yapti-4607h.htm\" rel=\"nofollow noreferrer\">http://haberlerwebte.com/trendyol-15-tllik-makarnalar-icin-aciklama-yapti-4607h.htm</a> Nov 15, 2021</p>\n<p><a href=\"http://teknosafari.net/trendyol-fiyat-artisi-olan-urunlerle-ilgili-islem-yaptigini-acikladi\" rel=\"nofollow noreferrer\">http://teknosafari.net/trendyol-fiyat-artisi-olan-urunlerle-ilgili-islem-yaptigini-acikladi</a> Oct 27, 2021</p>\n<p><a href=\"http://paraajansi.com.tr/trendyol-haksiz-fiyat-olusumuna-karsi-539-urune-islem-yapti/2531\" rel=\"nofollow noreferrer\">http://paraajansi.com.tr/trendyol-haksiz-fiyat-olusumuna-karsi-539-urune-islem-yapti/2531</a> Aug 7, 2020 REMOVED</p>\n<p><a href=\"http://paraajansi.com.tr/trendyoldan-koronavirusle-ilgili-haksiz-fiyat-olusumlarina-yonelik-tedbir-aciklamasi/2291\" rel=\"nofollow noreferrer\">http://paraajansi.com.tr/trendyoldan-koronavirusle-ilgili-haksiz-fiyat-olusumlarina-yonelik-tedbir-aciklamasi/2291</a> Aug 7, 2020 REMOVED</p>\n<p>Can I output like this?How can I show removed records?</p>\n"},{"tags":["java","android","math","game-engine","physics"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1486758547,"post_id":42167620,"comment_id":71501156,"body_markdown":"I&#39;m having difficulty visualizing your issue. Or perhaps I don&#39;t understand what you mean by `The problem is that when the objects are too much far, the movement is not realistic`. Have you tried a factor lookup table so that scale isn&#39;t linear?","body":"I&#39;m having difficulty visualizing your issue. Or perhaps I don&#39;t understand what you mean by <code>The problem is that when the objects are too much far, the movement is not realistic</code>. Have you tried a factor lookup table so that scale isn&#39;t linear?"},{"owner":{"account_id":3613407,"reputation":3373,"user_id":3013887,"accept_rate":92,"display_name":"pingul"},"score":0,"creation_date":1486761980,"post_id":42167620,"comment_id":71502820,"body_markdown":"Hmm... To get a complete natural look without &#39;thinking 3D&#39; might be kind of complex. My guess is that the angle from the &#39;joystick&#39; to the &#39;views&#39; should be at least be correlated as `1/r`, where r is the distance to the view. If we move the joystick a distance x, the angle to the object changes with ~`tan(angle) = x/r`. But this is only true for objects straight ahead, closer to the screen edge the values will be different. Sounds like you want some kind of 3D frustum?","body":"Hmm... To get a complete natural look without &#39;thinking 3D&#39; might be kind of complex. My guess is that the angle from the &#39;joystick&#39; to the &#39;views&#39; should be at least be correlated as <code>1&#47;r</code>, where r is the distance to the view. If we move the joystick a distance x, the angle to the object changes with ~<code>tan(angle) = x&#47;r</code>. But this is only true for objects straight ahead, closer to the screen edge the values will be different. Sounds like you want some kind of 3D frustum?"},{"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"score":0,"creation_date":1486769435,"post_id":42167620,"comment_id":71505478,"body_markdown":"@MorrisonChang the problem is that when the object is very far (0.1-0.2 scale etc) it moves extremely slow and when the scale increases suddenly it moves in a munch more realistic way. I did not tryed with a non linear factor because I don&#39;t know how to generate that non linear factor. Do you have any idea about how to achieve it?","body":"@MorrisonChang the problem is that when the object is very far (0.1-0.2 scale etc) it moves extremely slow and when the scale increases suddenly it moves in a munch more realistic way. I did not tryed with a non linear factor because I don&#39;t know how to generate that non linear factor. Do you have any idea about how to achieve it?"},{"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"score":0,"creation_date":1486769534,"post_id":42167620,"comment_id":71505509,"body_markdown":"@pingul Don&#39;t have the angle, because it&#39;s a 2d game, also there is no distance between the items. The distance is simulated by scale factors. It is a game that simulates objects coming to the POV of the player, and he must avoid them moving the vehicle in x-y directions","body":"@pingul Don&#39;t have the angle, because it&#39;s a 2d game, also there is no distance between the items. The distance is simulated by scale factors. It is a game that simulates objects coming to the POV of the player, and he must avoid them moving the vehicle in x-y directions"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1486770203,"post_id":42167620,"comment_id":71505693,"body_markdown":"@NullPointerException A lookup table would either a hash or array where the input would be your scale and the factor would be some other number (not always 4 but could be). As for generating the actual numbers - trial and error.","body":"@NullPointerException A lookup table would either a hash or array where the input would be your scale and the factor would be some other number (not always 4 but could be). As for generating the actual numbers - trial and error."},{"owner":{"account_id":3613407,"reputation":3373,"user_id":3013887,"accept_rate":92,"display_name":"pingul"},"score":0,"creation_date":1486930753,"post_id":42167620,"comment_id":71547432,"body_markdown":"I don&#39;t think I understand what the problem is in that case. You want a &quot;simulated 3D effect&quot;, but then there is &quot;no distance between the items&quot;? A image/movie would really help to clarify things.","body":"I don&#39;t think I understand what the problem is in that case. You want a &quot;simulated 3D effect&quot;, but then there is &quot;no distance between the items&quot;? A image/movie would really help to clarify things."}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648112692,"creation_date":1486756368,"question_id":42167620,"body_markdown":"I&#39;m developing a game engine. It&#39;s more complex but I will reduce the environment to a very little situation in order to explain my issue easily: \r\n\r\n- The game is made in 2D using simple views. Some views are coming to the screen. The game engine simulates that those views are coming to the screen doing a scaleX and scaleY animation to the views which will crash into the screen.\r\n- The game has a joystick on screen which generates movements from -10 to +10px and the user will use it to avoid the objects.\r\n- If you move the joystick to the the maximum right then +10 is added to all the objects which are coming to the screen, and every 10ms the screen will repaint, so, each 10ms the objects will move when you move the joystick and the user will have the simulated 3d effect of avoiding the objects.\r\n- I want to represent that the objects which are more far, don&#39;t move as fast as the objects that are very near of the screen, so I did this:\r\n\r\n\t    \r\n\t\tview = new ImageView(context){\r\n\t\t\t@Override\r\n\t\t\tprotected void onDraw(Canvas canvas) {\r\n\t\t\t\tsuper.onDraw(canvas);\t\t\t\t\t\t\r\n\t\t\t\tfloat currentScale = (Float) scaleX.getAnimatedValue();\t\t\t\t\r\n\t\t\t\tfloat factor= currentScale/MAX_SCALE; \r\n\t\t\t\tview.setX(view.getX()-((float)GameState.getInstance().getJoyX()*factor));\r\n\t\t\t\tview.setY(view.getY()-((float)GameState.getInstance().getJoyY()*factor));\r\n\t\t\t}\r\n\t\t};\r\n\r\nAs you can see I calculated a factor. The furthest objects has 0.1f scale factor, and the nearest objects has a 4.0f scale factor, so these are some possible values of the factor:\r\n\r\n    0.1/4 = 0.025\r\n    0.5/4 = 0.125\r\n    1.0/4 = 0.250\r\n    2.0/4 = 0.500\r\n    4.0/4 = 1.000\r\n\r\nWhen I multiply the supposed movement for that factor, I can reproduce that the furthest objects moves more slowly than the nearest objects.\r\n\r\nThe problem is that when the objects are too much far, the movement is not realistic, so I need help to find a more realistic factor for multiplying the supposed movement of the objects and get a more real 3D effect when you move the joystick.\r\n\r\n*The game is much more complicated, and y-axis is also present in the movement, but I explained it with x-axis only to make it simpler.\r\n","title":"Game engine issue with maths/physics (movement of far items related to near items)","body":"<p>I'm developing a game engine. It's more complex but I will reduce the environment to a very little situation in order to explain my issue easily:</p>\n<ul>\n<li><p>The game is made in 2D using simple views. Some views are coming to the screen. The game engine simulates that those views are coming to the screen doing a scaleX and scaleY animation to the views which will crash into the screen.</p>\n</li>\n<li><p>The game has a joystick on screen which generates movements from -10 to +10px and the user will use it to avoid the objects.</p>\n</li>\n<li><p>If you move the joystick to the the maximum right then +10 is added to all the objects which are coming to the screen, and every 10ms the screen will repaint, so, each 10ms the objects will move when you move the joystick and the user will have the simulated 3d effect of avoiding the objects.</p>\n</li>\n<li><p>I want to represent that the objects which are more far, don't move as fast as the objects that are very near of the screen, so I did this:</p>\n<pre><code>  view = new ImageView(context){\n      @Override\n      protected void onDraw(Canvas canvas) {\n          super.onDraw(canvas);                       \n          float currentScale = (Float) scaleX.getAnimatedValue();             \n          float factor= currentScale/MAX_SCALE; \n          view.setX(view.getX()-((float)GameState.getInstance().getJoyX()*factor));\n          view.setY(view.getY()-((float)GameState.getInstance().getJoyY()*factor));\n      }\n  };\n</code></pre>\n</li>\n</ul>\n<p>As you can see I calculated a factor. The furthest objects has 0.1f scale factor, and the nearest objects has a 4.0f scale factor, so these are some possible values of the factor:</p>\n<pre><code>0.1/4 = 0.025\n0.5/4 = 0.125\n1.0/4 = 0.250\n2.0/4 = 0.500\n4.0/4 = 1.000\n</code></pre>\n<p>When I multiply the supposed movement for that factor, I can reproduce that the furthest objects moves more slowly than the nearest objects.</p>\n<p>The problem is that when the objects are too much far, the movement is not realistic, so I need help to find a more realistic factor for multiplying the supposed movement of the objects and get a more real 3D effect when you move the joystick.</p>\n<p>*The game is much more complicated, and y-axis is also present in the movement, but I explained it with x-axis only to make it simpler.</p>\n"},{"tags":["java","class","object","memory","memory-management"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647973846,"creation_date":1647973846,"answer_id":71577240,"question_id":71577134,"body_markdown":"&gt; I don&#39;t know exactly how much memory will occupy a instance of this class, but let&#39;s say that the variables occupy 10 bytes and the 1000 lines of functions occupy 1 kb to put a sample amount.\r\n\r\nAn instance of this class will occupy 10 bytes in this scenario.  (That&#39;s not actually possible, as objects have headers of various fixed sizes ranging from 4 to 12 bytes depending on JVM settings, and even then they&#39;re rounded up to a multiple of 8 bytes, but the point is that you only pay for the variables of the class.)\r\n\r\nThere is only one copy of the implementations of the functions for a given class stored in memory.","title":"Does functions occupy more memory for each instance of the same object?","body":"<blockquote>\n<p>I don't know exactly how much memory will occupy a instance of this class, but let's say that the variables occupy 10 bytes and the 1000 lines of functions occupy 1 kb to put a sample amount.</p>\n</blockquote>\n<p>An instance of this class will occupy 10 bytes in this scenario.  (That's not actually possible, as objects have headers of various fixed sizes ranging from 4 to 12 bytes depending on JVM settings, and even then they're rounded up to a multiple of 8 bytes, but the point is that you only pay for the variables of the class.)</p>\n<p>There is only one copy of the implementations of the functions for a given class stored in memory.</p>\n"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71577240,"answer_count":1,"score":1,"last_activity_date":1648112577,"creation_date":1647973350,"question_id":71577134,"body_markdown":"Imagine this extreme situation:\r\n\r\nA class `City` with 10 variables, but 1000 lines of functions and logic that operates these variables.\r\n\r\n    Class Person {    \r\n        // 10 variables\r\n        int age = 20;\r\n        int height = 180;\r\n        String name = &quot;Name&quot;;\r\n        .\r\n        .\r\n        .\r\n        // 1000 lines of functions and logic\r\n        public void increaseAge(int years){\r\n            age+=years;\r\n        }\r\n        \r\n        public void doLogic(){\r\n            //some logic\r\n        }\r\n        .\r\n        .\r\n        .\r\n    }\r\n\r\nI don&#39;t know exactly how much memory will occupy a instance of this class, but let&#39;s say that the variables occupy `10 bytes` and the 1000 lines of functions occupy `1 kb` to put a sample amount.\r\n\r\nIf you have 100 instances of that class, the 100 times repeated variables should occupy `10*100 bytes` but what happens with the functions? will you have `1*100 kb` memory occupied for these functions? Or will the compiler do something to avoid that?\r\n","title":"Does functions occupy more memory for each instance of the same object?","body":"<p>Imagine this extreme situation:</p>\n<p>A class <code>City</code> with 10 variables, but 1000 lines of functions and logic that operates these variables.</p>\n<pre><code>Class Person {    \n    // 10 variables\n    int age = 20;\n    int height = 180;\n    String name = &quot;Name&quot;;\n    .\n    .\n    .\n    // 1000 lines of functions and logic\n    public void increaseAge(int years){\n        age+=years;\n    }\n    \n    public void doLogic(){\n        //some logic\n    }\n    .\n    .\n    .\n}\n</code></pre>\n<p>I don't know exactly how much memory will occupy a instance of this class, but let's say that the variables occupy <code>10 bytes</code> and the 1000 lines of functions occupy <code>1 kb</code> to put a sample amount.</p>\n<p>If you have 100 instances of that class, the 100 times repeated variables should occupy <code>10*100 bytes</code> but what happens with the functions? will you have <code>1*100 kb</code> memory occupied for these functions? Or will the compiler do something to avoid that?</p>\n"},{"tags":["java","spring-boot","tomcat","logging"],"comments":[{"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1546959061,"post_id":54093732,"comment_id":95020643,"body_markdown":"Can you try the suggestions provided in https://www.baeldung.com/spring-boot-disable-console-logging?","body":"Can you try the suggestions provided in <a href=\"https://www.baeldung.com/spring-boot-disable-console-logging\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-disable-console-logging</a>?"},{"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"score":0,"creation_date":1548073473,"post_id":54093732,"comment_id":95400456,"body_markdown":"Thanks, I tried all of them one by one, but the embedded tomcat just keeps on logging...","body":"Thanks, I tried all of them one by one, but the embedded tomcat just keeps on logging..."}],"answers":[{"tags":[],"owner":{"account_id":8186304,"reputation":707,"user_id":6162023,"display_name":"Sofo Gial"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546957724,"creation_date":1546957580,"answer_id":54093884,"question_id":54093732,"body_markdown":"You can set the following in the `application.properties`:\r\n\r\n`logging.group.tomcat=org.apache.catalina, org.apache.coyote, org.apache.tomcat`\r\n`logging.level.tomcat=OFF`\r\n\r\nSince the embedded Tomcat uses the JUL, this will set the JUL logging level regarding the Tomcat related classes to `OFF`.","title":"Spring Boot: How to disable Tomcat startup logging?","body":"<p>You can set the following in the <code>application.properties</code>:</p>\n\n<p><code>logging.group.tomcat=org.apache.catalina, org.apache.coyote, org.apache.tomcat</code>\n<code>logging.level.tomcat=OFF</code></p>\n\n<p>Since the embedded Tomcat uses the JUL, this will set the JUL logging level regarding the Tomcat related classes to <code>OFF</code>.</p>\n"},{"tags":[],"owner":{"account_id":9954944,"reputation":550,"user_id":7366236,"accept_rate":25,"display_name":"Kejsi Struga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547366177,"creation_date":1547366177,"answer_id":54167066,"question_id":54093732,"body_markdown":"Look at the **Loggername** (in case of Log4j(2)) appearing in the console. \r\n\r\nThen, copy the name and prepend it to ***logging.level.*** in you ***application.properties*** file. \r\n\r\nIn the screenshot below, if I uncomment the line of *DispatcherServlet* the logging goes away: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8ZxGC.png","title":"Spring Boot: How to disable Tomcat startup logging?","body":"<p>Look at the <strong>Loggername</strong> (in case of Log4j(2)) appearing in the console. </p>\n\n<p>Then, copy the name and prepend it to <strong><em>logging.level.</em></strong> in you <strong><em>application.properties</em></strong> file. </p>\n\n<p>In the screenshot below, if I uncomment the line of <em>DispatcherServlet</em> the logging goes away: </p>\n\n<p><a href=\"https://i.stack.imgur.com/8ZxGC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ZxGC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1548077395,"creation_date":1548077395,"answer_id":54291104,"question_id":54093732,"body_markdown":"Okay, it took me about 5 hours to figure this out:\r\n\r\n - Tomcat uses `JULI`, a derivative of `java.util.logging`\r\n - JULI itself is compatible with `java.util.logging`, so you can configure it the same way\r\n - When starting up, the embedded tomcat will not care about any of your logging settings (at least it did not for me)\r\n\r\nThe up-shot is: before I start my spring-embedded tomcat, I had to do this:\r\n\r\n```java\r\njava.util.logging.Logger.getLogger(&quot;org.apache&quot;).setLevel(java.util.logging.Level.WARNING);\r\n```\r\n\r\nThis will instruct `java.util.logging` (implemented by JULI) to only propagate warnings to the console. This eliminates all the startup noise by tomcat, and all other logging will be performed by the logging framework of your choice anyways (logback in my case), so this should not affect your standard logging at all.","title":"Spring Boot: How to disable Tomcat startup logging?","body":"<p>Okay, it took me about 5 hours to figure this out:</p>\n\n<ul>\n<li>Tomcat uses <code>JULI</code>, a derivative of <code>java.util.logging</code></li>\n<li>JULI itself is compatible with <code>java.util.logging</code>, so you can configure it the same way</li>\n<li>When starting up, the embedded tomcat will not care about any of your logging settings (at least it did not for me)</li>\n</ul>\n\n<p>The up-shot is: before I start my spring-embedded tomcat, I had to do this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>java.util.logging.Logger.getLogger(\"org.apache\").setLevel(java.util.logging.Level.WARNING);\n</code></pre>\n\n<p>This will instruct <code>java.util.logging</code> (implemented by JULI) to only propagate warnings to the console. This eliminates all the startup noise by tomcat, and all other logging will be performed by the logging framework of your choice anyways (logback in my case), so this should not affect your standard logging at all.</p>\n"},{"tags":[],"owner":{"account_id":18463245,"reputation":21,"user_id":13450155,"display_name":"Jeffry Jacob D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588359273,"creation_date":1588359273,"answer_id":61548910,"question_id":54093732,"body_markdown":"The Apache juli logs can be omitted by setting java.util.logging formatter system property to empty String before SpringBootApplication start like this\r\n\r\n&gt; System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;, &quot;&quot;);","title":"Spring Boot: How to disable Tomcat startup logging?","body":"<p>The Apache juli logs can be omitted by setting java.util.logging formatter system property to empty String before SpringBootApplication start like this</p>\n\n<blockquote>\n  <p>System.setProperty(\"java.util.logging.SimpleFormatter.format\", \"\");</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648112385,"creation_date":1638977962,"answer_id":70277705,"question_id":54093732,"body_markdown":"A slightly less obtrusive method is to specify a JUL configuration properties file as system property (cf. [JUL JavaDoc][1] and https://stackoverflow.com/questions/960099/how-to-set-up-java-logging-using-a-properties-file-java-util-logging) and merely reduce the log level as required in that.\r\n\r\nSo add such a system property: `-Djava.util.logging.config.file=logging.properties`\r\n\r\n\r\nAnd use a configuration like this in that file:\r\n\r\n    .level=WARNING\r\n    handlers=java.util.logging.ConsoleHandler\r\n    java.util.logging.ConsoleHandler.level=WARNING\r\n\r\nUsing `WARNING` will silence all Tomcat startup logging but still show any problems.\r\n\r\nYet another approach would be to re-route JUL logs to log4J or Logback, cf.\r\n- https://stackoverflow.com/questions/48312851/spring-boot-embedded-tomcat-logs\r\n- https://stackoverflow.com/questions/41591459/how-to-make-java-util-logging-send-logs-to-logback\r\n- https://stackoverflow.com/questions/51973234/configuring-lo4j2-logging-with-tomcat-embedded-in-a-spring-boot-web-app\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration()","title":"Spring Boot: How to disable Tomcat startup logging?","body":"<p>A slightly less obtrusive method is to specify a JUL configuration properties file as system property (cf. <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.logging/java/util/logging/LogManager.html#readConfiguration()\" rel=\"nofollow noreferrer\">JUL JavaDoc</a> and <a href=\"https://stackoverflow.com/questions/960099/how-to-set-up-java-logging-using-a-properties-file-java-util-logging\">How to set up java logging using a properties file? (java.util.logging)</a>) and merely reduce the log level as required in that.</p>\n<p>So add such a system property: <code>-Djava.util.logging.config.file=logging.properties</code></p>\n<p>And use a configuration like this in that file:</p>\n<pre><code>.level=WARNING\nhandlers=java.util.logging.ConsoleHandler\njava.util.logging.ConsoleHandler.level=WARNING\n</code></pre>\n<p>Using <code>WARNING</code> will silence all Tomcat startup logging but still show any problems.</p>\n<p>Yet another approach would be to re-route JUL logs to log4J or Logback, cf.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48312851/spring-boot-embedded-tomcat-logs\">Spring boot embedded tomcat logs</a></li>\n<li><a href=\"https://stackoverflow.com/questions/41591459/how-to-make-java-util-logging-send-logs-to-logback\">How to make java.util.logging send logs to Logback?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51973234/configuring-lo4j2-logging-with-tomcat-embedded-in-a-spring-boot-web-app\">Configuring lo4j2 logging with Tomcat embedded in a Spring Boot web app</a></li>\n</ul>\n"}],"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7030,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54291104,"answer_count":5,"score":4,"last_activity_date":1648112385,"creation_date":1546957065,"question_id":54093732,"body_markdown":"I&#39;m using Spring Boot 2.0.x with Logback. On startup of my application (using an embedded tomcat), I see several `INFORMATION` log messages (written to standard error) which apparently originate directly from the embedded tomcat. \r\n\r\nIn contrast to the rest of all my logging, these messages seem to not be written by Logback. The messages have the following content:\r\n\r\n    Jan 08, 2019 3:13:00 PM org.apache.coyote.AbstractProtocol init\r\n    INFORMATION: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Jan 08, 2019 3:13:00 PM org.apache.catalina.core.StandardService startInternal\r\n    INFORMATION: Starting service [Tomcat]\r\n    Jan 08, 2019 3:13:00 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFORMATION: Starting Servlet Engine: Apache Tomcat/8.5.34\r\n    Jan 08, 2019 3:13:01 PM org.apache.catalina.core.ApplicationContext log\r\n    INFORMATION: Initializing Spring embedded WebApplicationContext\r\n\r\nI&#39;m not interested in any of this, it&#39;s just noise. How do I get rid of those logs? I tried all sorts of solutions, but nothing worked so far.","title":"Spring Boot: How to disable Tomcat startup logging?","body":"<p>I'm using Spring Boot 2.0.x with Logback. On startup of my application (using an embedded tomcat), I see several <code>INFORMATION</code> log messages (written to standard error) which apparently originate directly from the embedded tomcat. </p>\n\n<p>In contrast to the rest of all my logging, these messages seem to not be written by Logback. The messages have the following content:</p>\n\n<pre><code>Jan 08, 2019 3:13:00 PM org.apache.coyote.AbstractProtocol init\nINFORMATION: Initializing ProtocolHandler [\"http-nio-8080\"]\nJan 08, 2019 3:13:00 PM org.apache.catalina.core.StandardService startInternal\nINFORMATION: Starting service [Tomcat]\nJan 08, 2019 3:13:00 PM org.apache.catalina.core.StandardEngine startInternal\nINFORMATION: Starting Servlet Engine: Apache Tomcat/8.5.34\nJan 08, 2019 3:13:01 PM org.apache.catalina.core.ApplicationContext log\nINFORMATION: Initializing Spring embedded WebApplicationContext\n</code></pre>\n\n<p>I'm not interested in any of this, it's just noise. How do I get rid of those logs? I tried all sorts of solutions, but nothing worked so far.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","endpoint"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1648072458,"post_id":71590121,"comment_id":126535108,"body_markdown":"Can you show the PasswordEncoder class?","body":"Can you show the PasswordEncoder class?"},{"owner":{"account_id":24147270,"reputation":34,"user_id":18112648,"display_name":"Collin Short"},"score":0,"creation_date":1648073366,"post_id":71590121,"comment_id":126535319,"body_markdown":"https://docs.spring.io/spring-security/site/docs/4.2.4.RELEASE/apidocs/org/springframework/security/crypto/password/PasswordEncoder.html &lt;- this is the password encoder Class I am using.","body":"<a href=\"https://docs.spring.io/spring-security/site/docs/4.2.4.RELEASE/apidocs/org/springframework/security/crypto/password/PasswordEncoder.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/4.2.4.RELEASE/apido&zwnj;&#8203;cs/&hellip;</a> &lt;- this is the password encoder Class I am using."}],"answers":[{"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648111866,"creation_date":1648111866,"answer_id":71599421,"question_id":71590121,"body_markdown":"This error occurs because you&#39;re creating the `PasswordEncoder` in the same class that you&#39;re injecting it.\r\n\r\nThe best solution is to not autowire the `PasswordEncoder` (or the `CurrentUserService`) at all.\r\n\r\nIt appears those instances are only used in the `configure(AuthenticationManagerBuilder auth)` method, which is redundant. \r\n\r\nRegistering a `PasswordEncoder` and `UserDetailsService` as a bean is enough for Spring Security to detect them and use them in your configuration.\r\n\r\nIn other words, you should remove the following code:\r\n```java\r\n@Override\r\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    auth.userDetailsService(currentUserService).passwordEncoder(passwordEncoder);\r\n}\r\n```\r\nThe application will still behave in the exact same way.","title":"Application Failed to start The Dependencies of some of the Beans form a cycle... Why?","body":"<p>This error occurs because you're creating the <code>PasswordEncoder</code> in the same class that you're injecting it.</p>\n<p>The best solution is to not autowire the <code>PasswordEncoder</code> (or the <code>CurrentUserService</code>) at all.</p>\n<p>It appears those instances are only used in the <code>configure(AuthenticationManagerBuilder auth)</code> method, which is redundant.</p>\n<p>Registering a <code>PasswordEncoder</code> and <code>UserDetailsService</code> as a bean is enough for Spring Security to detect them and use them in your configuration.</p>\n<p>In other words, you should remove the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(currentUserService).passwordEncoder(passwordEncoder);\n}\n</code></pre>\n<p>The application will still behave in the exact same way.</p>\n"}],"owner":{"account_id":24147270,"reputation":34,"user_id":18112648,"display_name":"Collin Short"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71599421,"answer_count":1,"score":0,"last_activity_date":1648111866,"creation_date":1648050284,"question_id":71590121,"body_markdown":"so I have this section of code in AppConfig.java: \r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class AppConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final CurrentUserService currentUserService;\r\n    private final SessionFilter sessionFilter;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    @Lazy\r\n    public AppConfig(CurrentUserService currentUserService, SessionFilter sessionFilter, PasswordEncoder passwordEncoder) {\r\n        this.currentUserService = currentUserService;\r\n        this.sessionFilter = sessionFilter;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(currentUserService).passwordEncoder(passwordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http = http.cors().and().csrf().disable();\r\n\r\n        http = http.exceptionHandling().authenticationEntryPoint(\r\n                (request, response, authException) -&gt; {\r\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, authException.getMessage());\r\n                }\r\n        ).and();\r\n\r\n        http.authorizeRequests().antMatchers(&quot;/api/login&quot;).permitAll().anyRequest().authenticated();\r\n\r\n        http.addFilterBefore(sessionFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\nif I get rid of the @Lazy it will not start, i have tried to get rid of the constructor and do: \r\n```    \r\n    @Autowired\r\n    private final CurrentUserService currentUserService;\r\n    @Autowired\r\n    private final SessionFilter sessionFilter;\r\n    @Autowired\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(currentUserService).passwordEncoder(passwordEncoder);\r\n    }\r\n```\r\nsame thing, can someone please help me out, I really don&#39;t want to have to use the @Lazy Implementation. here is the error it returns: \r\n```\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appConfig&#39; defined in file [C:\\Users\\Blade\\Documents\\WebMent\\modules\\backend\\build\\classes\\java\\main\\com\\shortsdesigns\\webment\\configuration\\AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;appConfig&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n```\r\nWhen getting rid of the constructor and using field injection it gives me this error: \r\n```\r\nError creating bean with name &#39;appConfig&#39;: Unsatisfied dependency expressed through field &#39;passwordEncoder&#39;; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;appConfig&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?\r\n```","title":"Application Failed to start The Dependencies of some of the Beans form a cycle... Why?","body":"<p>so I have this section of code in AppConfig.java:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AppConfig extends WebSecurityConfigurerAdapter {\n\n    private final CurrentUserService currentUserService;\n    private final SessionFilter sessionFilter;\n    private final PasswordEncoder passwordEncoder;\n\n    @Autowired\n    @Lazy\n    public AppConfig(CurrentUserService currentUserService, SessionFilter sessionFilter, PasswordEncoder passwordEncoder) {\n        this.currentUserService = currentUserService;\n        this.sessionFilter = sessionFilter;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(currentUserService).passwordEncoder(passwordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http = http.cors().and().csrf().disable();\n\n        http = http.exceptionHandling().authenticationEntryPoint(\n                (request, response, authException) -&gt; {\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, authException.getMessage());\n                }\n        ).and();\n\n        http.authorizeRequests().antMatchers(&quot;/api/login&quot;).permitAll().anyRequest().authenticated();\n\n        http.addFilterBefore(sessionFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>if I get rid of the @Lazy it will not start, i have tried to get rid of the constructor and do:</p>\n<pre><code>    @Autowired\n    private final CurrentUserService currentUserService;\n    @Autowired\n    private final SessionFilter sessionFilter;\n    @Autowired\n    private final PasswordEncoder passwordEncoder;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(currentUserService).passwordEncoder(passwordEncoder);\n    }\n</code></pre>\n<p>same thing, can someone please help me out, I really don't want to have to use the @Lazy Implementation. here is the error it returns:</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appConfig' defined in file [C:\\Users\\Blade\\Documents\\WebMent\\modules\\backend\\build\\classes\\java\\main\\com\\shortsdesigns\\webment\\configuration\\AppConfig.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'appConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n<p>When getting rid of the constructor and using field injection it gives me this error:</p>\n<pre><code>Error creating bean with name 'appConfig': Unsatisfied dependency expressed through field 'passwordEncoder'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'appConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n"},{"tags":["java","reduce","steam"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":1,"creation_date":1645524249,"post_id":71219040,"comment_id":125888059,"body_markdown":"Duplicate question. Check this [answer](https://stackoverflow.com/a/23661052/10343888).","body":"Duplicate question. Check this <a href=\"https://stackoverflow.com/a/23661052/10343888\">answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":1189406,"reputation":68,"user_id":6312046,"display_name":"Igor Alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648111712,"creation_date":1645802726,"answer_id":71268056,"question_id":71219040,"body_markdown":"This is an easier way to solve it:\r\n\r\n```\r\ndouble average = IntStream.of(120, 410, 85, 32, 314, 12)\r\n    .average()\r\n    .getAsDouble();\r\n\r\nSystem.out.println(average);\r\n\r\n```\r\n\r\nOutput:\r\n\r\n&gt; 162.16666666666666","title":"How to find the average value of the stream using the &quot;reduce&quot; function in Java Stream API?","body":"<p>This is an easier way to solve it:</p>\n<pre><code>double average = IntStream.of(120, 410, 85, 32, 314, 12)\n    .average()\n    .getAsDouble();\n\nSystem.out.println(average);\n\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>162.16666666666666</p>\n</blockquote>\n"}],"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71268056,"answer_count":1,"score":0,"last_activity_date":1648111712,"creation_date":1645523239,"question_id":71219040,"body_markdown":"I have :\r\n\r\n    Stream.of(120, 410, 85, 32, 314, 12)\r\n\r\nI tried, but seems it not right:\r\n\r\n    Stream.of(120, 410, 85, 32, 314, 12).reduce((a, b) -&gt; b * b / a);\r\n","title":"How to find the average value of the stream using the &quot;reduce&quot; function in Java Stream API?","body":"<p>I have :</p>\n<pre><code>Stream.of(120, 410, 85, 32, 314, 12)\n</code></pre>\n<p>I tried, but seems it not right:</p>\n<pre><code>Stream.of(120, 410, 85, 32, 314, 12).reduce((a, b) -&gt; b * b / a);\n</code></pre>\n"},{"tags":["java","kotlin","kotlin-coroutines"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1648111420,"creation_date":1648110958,"answer_id":71599237,"question_id":71598757,"body_markdown":"I suggest to not even try. Suspend functions were never meant for Java interop.\r\n\r\nInstead, convert it on the Kotlin side to something that Java understands - to `CompletableFuture`:\r\n\r\n```kotlin\r\nfun decodeAsync(jwt: String): CompletableFuture&lt;UsefulThing&gt; = GlobalScope.future { decode(jwt) }\r\n```\r\nWe can freely mix Java and Kotlin code in a single module, so you can create such wrapper inside your project.\r\n\r\nDepending on your case you could use `GlobalScope` (in Java we don&#39;t have structured concurrency) or you could create a custom `CoroutineScope` and handle its lifecycle manually. ","title":"Call a Kotlin suspend function from Java","body":"<p>I suggest to not even try. Suspend functions were never meant for Java interop.</p>\n<p>Instead, convert it on the Kotlin side to something that Java understands - to <code>CompletableFuture</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun decodeAsync(jwt: String): CompletableFuture&lt;UsefulThing&gt; = GlobalScope.future { decode(jwt) }\n</code></pre>\n<p>We can freely mix Java and Kotlin code in a single module, so you can create such wrapper inside your project.</p>\n<p>Depending on your case you could use <code>GlobalScope</code> (in Java we don't have structured concurrency) or you could create a custom <code>CoroutineScope</code> and handle its lifecycle manually.</p>\n"}],"owner":{"account_id":322634,"reputation":2326,"user_id":642156,"accept_rate":71,"display_name":"Gabriel Bauman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4084,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71599237,"answer_count":1,"score":6,"last_activity_date":1648111420,"creation_date":1648108377,"question_id":71598757,"body_markdown":"I have a Kotlin library that I&#39;m attempting to call from Java. I haven&#39;t worked with Kotlin before.\r\n\r\nThe Kotlin library function is as follows:\r\n\r\n```kotlin\r\nsuspend fun decode(jwt: String): UsefulThing {\r\n    // does a bunch of stuff, removed for brevity.\r\n    return otherthing.getUsefulThing(jwt)\r\n}\r\n```\r\n\r\nHow can I call this from Java? So far I&#39;ve tried:\r\n\r\n```java\r\nContinuation&lt;UsefulThing&gt; continuation = new Continuation&lt;&gt;() {\r\n\r\n    @NotNull\r\n    @Override\r\n    public CoroutineContext getContext() {\r\n        return EmptyCoroutineContext.INSTANCE;\r\n    }\r\n\r\n    @Override\r\n    public void resumeWith(@NotNull Object o) {\r\n        System.out.println(&quot;Result of decode is &quot; + o);\r\n    }\r\n\r\n};\r\n\r\n// Call decode with the parameter and continuation.\r\nObject result = UsefulThingKt.decode(JWT, continuation);\r\n\r\n// result is COROUTINE_SUSPENDED\r\n```\r\n\r\nI never see any console output. Looks like the continuation is never called, or it&#39;s run in another context. I&#39;ve pored over other answers and coroutines seem to have gone through a number of iterations - I can&#39;t find an explanation that really makes sense to me.\r\n\r\nI should note that I&#39;m running on Java 11.\r\n\r\nHow can I simply call the kotlin function?","title":"Call a Kotlin suspend function from Java","body":"<p>I have a Kotlin library that I'm attempting to call from Java. I haven't worked with Kotlin before.</p>\n<p>The Kotlin library function is as follows:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend fun decode(jwt: String): UsefulThing {\n    // does a bunch of stuff, removed for brevity.\n    return otherthing.getUsefulThing(jwt)\n}\n</code></pre>\n<p>How can I call this from Java? So far I've tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Continuation&lt;UsefulThing&gt; continuation = new Continuation&lt;&gt;() {\n\n    @NotNull\n    @Override\n    public CoroutineContext getContext() {\n        return EmptyCoroutineContext.INSTANCE;\n    }\n\n    @Override\n    public void resumeWith(@NotNull Object o) {\n        System.out.println(&quot;Result of decode is &quot; + o);\n    }\n\n};\n\n// Call decode with the parameter and continuation.\nObject result = UsefulThingKt.decode(JWT, continuation);\n\n// result is COROUTINE_SUSPENDED\n</code></pre>\n<p>I never see any console output. Looks like the continuation is never called, or it's run in another context. I've pored over other answers and coroutines seem to have gone through a number of iterations - I can't find an explanation that really makes sense to me.</p>\n<p>I should note that I'm running on Java 11.</p>\n<p>How can I simply call the kotlin function?</p>\n"},{"tags":["java","netbeans","ide"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1648110787,"post_id":71599149,"comment_id":126542550,"body_markdown":"NetBeans only recognizes (standard) Maven or Gradle projects or its own Ant based project folders. If your folder is neither of those, then your only option is to create a new NetBeans (Ant based) project &quot;with existing sources&quot;. Or convert it to a Maven project. The settings of JAVA_HOME have nothing to do with using/importing existing projects.","body":"NetBeans only recognizes (standard) Maven or Gradle projects or its own Ant based project folders. If your folder is neither of those, then your only option is to create a new NetBeans (Ant based) project &quot;with existing sources&quot;. Or convert it to a Maven project. The settings of JAVA_HOME have nothing to do with using/importing existing projects."},{"owner":{"account_id":24431404,"reputation":11,"user_id":18356293,"display_name":"Ahmed"},"score":0,"creation_date":1648111273,"post_id":71599149,"comment_id":126542743,"body_markdown":"@a_horse_with_no_name My peers Open the project using NeatBeans without issues","body":"@a_horse_with_no_name My peers Open the project using NeatBeans without issues"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1648111483,"post_id":71599149,"comment_id":126542832,"body_markdown":"and who is to say, locally they haven&#39;t already done this?","body":"and who is to say, locally they haven&#39;t already done this?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1648111634,"post_id":71599149,"comment_id":126542893,"body_markdown":"The first question is: what kind of project do your peers use? Maybe you forgot to copy the POM (if it&#39;s a Maven project) or the `build.gradle` (if it&#39;s a Gradle project) or the NetBeans project folder that contains the build.xml (if it&#39;s a NetBeans Ant project)","body":"The first question is: what kind of project do your peers use? Maybe you forgot to copy the POM (if it&#39;s a Maven project) or the <code>build.gradle</code> (if it&#39;s a Gradle project) or the NetBeans project folder that contains the build.xml (if it&#39;s a NetBeans Ant project)"},{"owner":{"account_id":24431404,"reputation":11,"user_id":18356293,"display_name":"Ahmed"},"score":0,"creation_date":1648119668,"post_id":71599149,"comment_id":126545886,"body_markdown":"@a_horse_with_no_name yeah know I understand, I though netbeans is like intellij or eclipse but it appears that it is operate in different way. Thank you","body":"@a_horse_with_no_name yeah know I understand, I though netbeans is like intellij or eclipse but it appears that it is operate in different way. Thank you"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1648119788,"post_id":71599149,"comment_id":126545935,"body_markdown":"IntelliJ and Eclipse both have their own project structure - just like NetBeans (with their Ant based projects). If you want something you can easily use across different IDEs, use Maven or Gradle.","body":"IntelliJ and Eclipse both have their own project structure - just like NetBeans (with their Ant based projects). If you want something you can easily use across different IDEs, use Maven or Gradle."}],"owner":{"account_id":24431404,"reputation":11,"user_id":18356293,"display_name":"Ahmed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648111227,"creation_date":1648110530,"question_id":71599149,"body_markdown":"NetBeans run programs and create project normally, but when I try to open an existing Project it doesn&#39;t recognize the project folder so when I click &quot;Open Project&quot; it doesn&#39;t open it.\r\nit works fine using intellij IDE but I need To use NetBeans .\r\nI tried using Import Project But the Same problem.\r\nwhen I try to Import it it gives me an error :&quot;C:\\Users\\ahmad\\OneDrive\\Documents\\Desktop\\ch24&quot;&#160;does&#160;not&#160;contain&#160;a&#160;regular&#160;Eclipse&#160;project.&quot;\r\n\r\nI uninstalled NetBeans 12.4 before installing NetBeans 13 if this may help.\r\n\r\n\r\nWhen I try to open project:\r\n1)\r\n![Trying to open project](https://i.stack.imgur.com/0UkwI.png)\r\n2)\r\n![enter image description here](https://i.stack.imgur.com/qvvZU.png)\r\n\r\nI read on the internet I should change NetBeans.conf file Java home, but it was the right path already.\r\n3) ![enter image description here](https://i.stack.imgur.com/eXg7c.png)\r\n\r\n4) ![Project](https://i.stack.imgur.com/75iDd.png)\r\n\r\nI searched on the internet but found really old posts (9 years) and didn&#39;t work with me, such as changing java home path in netbeans conf. Using import Project.\r\n\r\nTried Moving the folder to NeatBeans Project folder but the same problem.","title":"NetBeans Doesn&#39;t recognize project folders","body":"<p>NetBeans run programs and create project normally, but when I try to open an existing Project it doesn't recognize the project folder so when I click &quot;Open Project&quot; it doesn't open it.\nit works fine using intellij IDE but I need To use NetBeans .\nI tried using Import Project But the Same problem.\nwhen I try to Import it it gives me an error :&quot;C:\\Users\\ahmad\\OneDrive\\Documents\\Desktop\\ch24&quot;doesnotcontainaregularEclipseproject.&quot;</p>\n<p>I uninstalled NetBeans 12.4 before installing NetBeans 13 if this may help.</p>\n<p>When I try to open project:\n1)\n<img src=\"https://i.stack.imgur.com/0UkwI.png\" alt=\"Trying to open project\" />\n2)\n<img src=\"https://i.stack.imgur.com/qvvZU.png\" alt=\"enter image description here\" /></p>\n<p>I read on the internet I should change NetBeans.conf file Java home, but it was the right path already.\n3) <img src=\"https://i.stack.imgur.com/eXg7c.png\" alt=\"enter image description here\" /></p>\n<ol start=\"4\">\n<li><img src=\"https://i.stack.imgur.com/75iDd.png\" alt=\"Project\" /></li>\n</ol>\n<p>I searched on the internet but found really old posts (9 years) and didn't work with me, such as changing java home path in netbeans conf. Using import Project.</p>\n<p>Tried Moving the folder to NeatBeans Project folder but the same problem.</p>\n"},{"tags":["java","metaprogramming","java-8","lambda"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":3,"creation_date":1415266284,"post_id":26775676,"comment_id":42130328,"body_markdown":"Perhaps the problem is with the method name &quot;run&quot; you pass as the second argument. Runnable has a &quot;run&quot; method. Supplier does not.","body":"Perhaps the problem is with the method name &quot;run&quot; you pass as the second argument. Runnable has a &quot;run&quot; method. Supplier does not."},{"owner":{"account_id":444984,"reputation":774,"user_id":837126,"display_name":"andrebask"},"score":0,"creation_date":1415266778,"post_id":26775676,"comment_id":42130622,"body_markdown":"That was an error (The Runnable case works only with &quot;run&quot;), but also with get the second snippet gives that error.","body":"That was an error (The Runnable case works only with &quot;run&quot;), but also with get the second snippet gives that error."}],"answers":[{"tags":[],"owner":{"account_id":5155086,"reputation":2758,"user_id":4128524,"accept_rate":70,"display_name":"David ten Hove"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1415267710,"creation_date":1415266803,"answer_id":26776042,"question_id":26775676,"body_markdown":"The difference between Runnable and Supplier is that Supplier uses a generic type.\r\n\r\nAt runtime Supplier doesn&#39;t have a String get() method, it has Object get(). But the method you implement returns a String. You need to distinguish between those 2 types. Like this:\r\n\r\n    public class MetafactoryTest {\r\n    \r\n        public static void main(String[] args) throws Throwable {\r\n    \r\n            MethodHandles.Lookup caller = MethodHandles.lookup();\r\n            MethodType methodType = MethodType.methodType(Object.class);\r\n            MethodType actualMethodType = MethodType.methodType(String.class);\r\n            MethodType invokedType = MethodType.methodType(Supplier.class);\r\n            CallSite site = LambdaMetafactory.metafactory(caller, \r\n                                                          &quot;get&quot;, \r\n                                                          invokedType, \r\n                                                          methodType, \r\n                                                          caller.findStatic(MetafactoryTest.class, &quot;print&quot;, actualMethodType), \r\n                                                          methodType);\r\n            MethodHandle factory = site.getTarget();\r\n            Supplier&lt;String&gt; r = (Supplier&lt;String&gt;) factory.invoke();\r\n            System.out.println(r.get());\r\n        }\r\n        \r\n        private static String print() {\r\n            return &quot;hello world&quot;;\r\n        }    \r\n    }\r\n","title":"Explicit use of LambdaMetafactory","body":"<p>The difference between Runnable and Supplier is that Supplier uses a generic type.</p>\n\n<p>At runtime Supplier doesn't have a String get() method, it has Object get(). But the method you implement returns a String. You need to distinguish between those 2 types. Like this:</p>\n\n<pre><code>public class MetafactoryTest {\n\n    public static void main(String[] args) throws Throwable {\n\n        MethodHandles.Lookup caller = MethodHandles.lookup();\n        MethodType methodType = MethodType.methodType(Object.class);\n        MethodType actualMethodType = MethodType.methodType(String.class);\n        MethodType invokedType = MethodType.methodType(Supplier.class);\n        CallSite site = LambdaMetafactory.metafactory(caller, \n                                                      \"get\", \n                                                      invokedType, \n                                                      methodType, \n                                                      caller.findStatic(MetafactoryTest.class, \"print\", actualMethodType), \n                                                      methodType);\n        MethodHandle factory = site.getTarget();\n        Supplier&lt;String&gt; r = (Supplier&lt;String&gt;) factory.invoke();\n        System.out.println(r.get());\n    }\n\n    private static String print() {\n        return \"hello world\";\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508678858,"creation_date":1508678858,"answer_id":46874622,"question_id":26775676,"body_markdown":"This is another example with a more easy to understand variable names:\r\n\r\n    public class Demo {\r\n        public static void main(String[] args) throws Throwable {\r\n            Consumer&lt;String&gt; consumer = s -&gt; System.out.println(&quot;CONSUMED: &quot; + s + &quot;.&quot;);\r\n    \r\n            consumer.accept(&quot;foo&quot;);\r\n    \r\n            MethodHandles.Lookup caller = MethodHandles.lookup();\r\n    \r\n            MethodType lambdaBodyMethodType = MethodType.methodType(void.class, String.class);\r\n            MethodHandle lambdaBody = caller.findStatic(\r\n                    Demo.class, &quot;my$lambda$main$0&quot;, lambdaBodyMethodType);\r\n    \r\n            // Because of the type erasure we must use Object here\r\n            // instead of String (Consumer&lt;String&gt; -&gt; Consumer).\r\n            MethodType functionalInterfaceMethodType =\r\n                    MethodType.methodType(void.class, Object.class);\r\n    \r\n            // we must return consumer, no closure -&gt; no additional parameters\r\n            MethodType callSiteType = MethodType.methodType(Consumer.class);\r\n    \r\n            CallSite site = LambdaMetafactory.metafactory(\r\n                    // provided by invokedynamic:\r\n                    caller, &quot;accept&quot;, callSiteType,\r\n                    // additional bootstrap method arguments:\r\n                    functionalInterfaceMethodType,\r\n                    lambdaBody,\r\n                    lambdaBodyMethodType);\r\n    \r\n            MethodHandle factory = site.getTarget();\r\n            Consumer&lt;String&gt; r = (Consumer&lt;String&gt;) factory.invoke();\r\n    \r\n            r.accept(&quot;foo&quot;);\r\n            r.accept(&quot;bar&quot;);\r\n        }\r\n    \r\n        private static void my$lambda$main$0(String s) {\r\n            System.out.println(&quot;CONSUMED: &quot; + s + &quot;.&quot;);\r\n        }\r\n    }\r\n\r\n\r\nBecause `LambdaMetafactory` creates a synthetic factory class that then \r\nis used to create target interface, `callSiteType` has a type of this factory `create()` method. This `create()` method is called implicitly by `invokedynamic` - `LambdaMetafactory` returns a `CallSite` that has a method reference to the create method. For lambdas with closures you will call the factory like `factory.create(capturedValue1, ..., capturedValueN)` and so you must modify `callSiteType` accordingly.","title":"Explicit use of LambdaMetafactory","body":"<p>This is another example with a more easy to understand variable names:</p>\n\n<pre><code>public class Demo {\n    public static void main(String[] args) throws Throwable {\n        Consumer&lt;String&gt; consumer = s -&gt; System.out.println(\"CONSUMED: \" + s + \".\");\n\n        consumer.accept(\"foo\");\n\n        MethodHandles.Lookup caller = MethodHandles.lookup();\n\n        MethodType lambdaBodyMethodType = MethodType.methodType(void.class, String.class);\n        MethodHandle lambdaBody = caller.findStatic(\n                Demo.class, \"my$lambda$main$0\", lambdaBodyMethodType);\n\n        // Because of the type erasure we must use Object here\n        // instead of String (Consumer&lt;String&gt; -&gt; Consumer).\n        MethodType functionalInterfaceMethodType =\n                MethodType.methodType(void.class, Object.class);\n\n        // we must return consumer, no closure -&gt; no additional parameters\n        MethodType callSiteType = MethodType.methodType(Consumer.class);\n\n        CallSite site = LambdaMetafactory.metafactory(\n                // provided by invokedynamic:\n                caller, \"accept\", callSiteType,\n                // additional bootstrap method arguments:\n                functionalInterfaceMethodType,\n                lambdaBody,\n                lambdaBodyMethodType);\n\n        MethodHandle factory = site.getTarget();\n        Consumer&lt;String&gt; r = (Consumer&lt;String&gt;) factory.invoke();\n\n        r.accept(\"foo\");\n        r.accept(\"bar\");\n    }\n\n    private static void my$lambda$main$0(String s) {\n        System.out.println(\"CONSUMED: \" + s + \".\");\n    }\n}\n</code></pre>\n\n<p>Because <code>LambdaMetafactory</code> creates a synthetic factory class that then \nis used to create target interface, <code>callSiteType</code> has a type of this factory <code>create()</code> method. This <code>create()</code> method is called implicitly by <code>invokedynamic</code> - <code>LambdaMetafactory</code> returns a <code>CallSite</code> that has a method reference to the create method. For lambdas with closures you will call the factory like <code>factory.create(capturedValue1, ..., capturedValueN)</code> and so you must modify <code>callSiteType</code> accordingly.</p>\n"},{"tags":[],"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564342942,"creation_date":1564342942,"answer_id":57244388,"question_id":26775676,"body_markdown":"I had a situation where I needed to call a function passing some parameter to it. Similar to @Sahil Gupta question. I managed to solve it using a BiFunction with some adjustments:\r\n\r\n    public void testFunctionWithParameter() throws Throwable {\r\n        SimpleBean simpleBean = new SimpleBean();\r\n\r\n        MethodHandles.Lookup caller = MethodHandles.lookup();\r\n        MethodType invokedType = MethodType.methodType(BiFunction.class);\r\n        MethodType biFunc = MethodType.methodType(String.class, String.class);\r\n        MethodHandle target = caller.findVirtual(SimpleBean.class, &quot;simpleFunction&quot;, biFunc);\r\n        MethodType func = target.type();\r\n\r\n\r\n        CallSite site = LambdaMetafactory.metafactory(\r\n                caller,\r\n                &quot;apply&quot;,\r\n                invokedType,\r\n                func.generic(),\r\n                target,\r\n                MethodType.methodType(String.class, SimpleBean.class, String.class)\r\n        );\r\n\r\n        BiFunction&lt;SimpleBean, String, String&gt; fullFunction = (BiFunction&lt;SimpleBean, String, String&gt;) site.getTarget().invokeExact();\r\n\r\n\r\n        System.out.println(fullFunction.apply(simpleBean, &quot;FOO&quot;));\r\n\r\n    }\r\n\r\n    private class SimpleBean {\r\n        public String simpleFunction(String in) {\r\n            return &quot;The parameter was &quot; + in;\r\n        }\r\n    }\r\n\r\nI hope it helps someone.","title":"Explicit use of LambdaMetafactory","body":"<p>I had a situation where I needed to call a function passing some parameter to it. Similar to @Sahil Gupta question. I managed to solve it using a BiFunction with some adjustments:</p>\n\n<pre><code>public void testFunctionWithParameter() throws Throwable {\n    SimpleBean simpleBean = new SimpleBean();\n\n    MethodHandles.Lookup caller = MethodHandles.lookup();\n    MethodType invokedType = MethodType.methodType(BiFunction.class);\n    MethodType biFunc = MethodType.methodType(String.class, String.class);\n    MethodHandle target = caller.findVirtual(SimpleBean.class, \"simpleFunction\", biFunc);\n    MethodType func = target.type();\n\n\n    CallSite site = LambdaMetafactory.metafactory(\n            caller,\n            \"apply\",\n            invokedType,\n            func.generic(),\n            target,\n            MethodType.methodType(String.class, SimpleBean.class, String.class)\n    );\n\n    BiFunction&lt;SimpleBean, String, String&gt; fullFunction = (BiFunction&lt;SimpleBean, String, String&gt;) site.getTarget().invokeExact();\n\n\n    System.out.println(fullFunction.apply(simpleBean, \"FOO\"));\n\n}\n\nprivate class SimpleBean {\n    public String simpleFunction(String in) {\n        return \"The parameter was \" + in;\n    }\n}\n</code></pre>\n\n<p>I hope it helps someone.</p>\n"},{"tags":[],"owner":{"account_id":88135,"reputation":15266,"user_id":243991,"accept_rate":22,"display_name":"Peter Kriens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630949887,"creation_date":1630949887,"answer_id":69078452,"question_id":26775676,"body_markdown":"Late to the game but LambdaMetaFactory almost drove me crazy. Very hard to see which parameter goes where. Made an example that shows the different types a bit more explicit by naming them according to their role.\r\n```\r\n    class Instance {\r\n\t\tpublic RetSub get(Par p) {\r\n\t\t\tSystem.out.println(&quot;Yes&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\tstatic class Ret {}\r\n\tstatic class RetSub extends Ret {}\r\n\tstatic class Par {}\r\n\tstatic class ParSub extends Par {}\r\n\tinterface If {\r\n\t\tRet method(ParSub p);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testInstance() throws Throwable {\r\n\t\tInstance instance = new Instance();\r\n\t\tCallSite site = LambdaMetafactory.metafactory(caller,\r\n\t\t\t&quot;method&quot;,\r\n\t\t\tMethodType.methodType(If.class, Instance.class), //\r\n\t\t\tMethodType.methodType(Ret.class, ParSub.class), //\r\n\t\t\tcaller.findVirtual(Instance.class, &quot;get&quot;, MethodType.methodType(RetSub.class, Par.class)), //\r\n\t\t\tMethodType.methodType(RetSub.class, ParSub.class));\r\n\r\n\t\tMethodHandle factory = site.getTarget();\r\n\r\n\t\tIf iff = (If) factory.invoke(instance);\r\n\t\tiff.method(new ParSub());\r\n\t}\r\n```\r\nI think it was hard because I missed the semantics of the parameters.\r\n\r\n* `invokedName`  Obviously the method name in the interface\r\n* `invokedType`  This is the hard one. This is the MethodType of the MethodHandle returned by the `CallSite.getTarget()`. The first argument is the type of the interface we&#39;re trying to make (`If`), the second argument is only needed when we access an instance method and is the instance type (`Instance`). \r\n* `samMethodType`  This is the _exact_ method type of the function we try to implement. In this case &#39;Ret method(ParSub p)`.\r\n* `implMethod`  A method handle. It must be possible to convert the parameters and return type of the interface method we create to this method handle.\r\n* `instantiationMethodType`  A runtime check to verify some parameters and return types fall within narrower or the same types than the interface.\r\n","title":"Explicit use of LambdaMetafactory","body":"<p>Late to the game but LambdaMetaFactory almost drove me crazy. Very hard to see which parameter goes where. Made an example that shows the different types a bit more explicit by naming them according to their role.</p>\n<pre><code>    class Instance {\n        public RetSub get(Par p) {\n            System.out.println(&quot;Yes&quot;);\n            return null;\n        }\n    }\n    static class Ret {}\n    static class RetSub extends Ret {}\n    static class Par {}\n    static class ParSub extends Par {}\n    interface If {\n        Ret method(ParSub p);\n    }\n\n    @Test\n    public void testInstance() throws Throwable {\n        Instance instance = new Instance();\n        CallSite site = LambdaMetafactory.metafactory(caller,\n            &quot;method&quot;,\n            MethodType.methodType(If.class, Instance.class), //\n            MethodType.methodType(Ret.class, ParSub.class), //\n            caller.findVirtual(Instance.class, &quot;get&quot;, MethodType.methodType(RetSub.class, Par.class)), //\n            MethodType.methodType(RetSub.class, ParSub.class));\n\n        MethodHandle factory = site.getTarget();\n\n        If iff = (If) factory.invoke(instance);\n        iff.method(new ParSub());\n    }\n</code></pre>\n<p>I think it was hard because I missed the semantics of the parameters.</p>\n<ul>\n<li><code>invokedName</code>  Obviously the method name in the interface</li>\n<li><code>invokedType</code>  This is the hard one. This is the MethodType of the MethodHandle returned by the <code>CallSite.getTarget()</code>. The first argument is the type of the interface we're trying to make (<code>If</code>), the second argument is only needed when we access an instance method and is the instance type (<code>Instance</code>).</li>\n<li><code>samMethodType</code>  This is the <em>exact</em> method type of the function we try to implement. In this case 'Ret method(ParSub p)`.</li>\n<li><code>implMethod</code>  A method handle. It must be possible to convert the parameters and return type of the interface method we create to this method handle.</li>\n<li><code>instantiationMethodType</code>  A runtime check to verify some parameters and return types fall within narrower or the same types than the interface.</li>\n</ul>\n"}],"owner":{"account_id":444984,"reputation":774,"user_id":837126,"display_name":"andrebask"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12818,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":26776042,"answer_count":4,"score":29,"last_activity_date":1648110738,"creation_date":1415265626,"question_id":26775676,"body_markdown":"I&#39;m trying to explicitly use LambdaMetafactory.metafactory, I can&#39;t understand why it works only with the Runnable functional interface. For Example, this code does what it is expected (it prints &quot;hello world&quot;):\r\n\r\n    public class MetafactoryTest {\r\n        \r\n        public static void main(String[] args) throws Throwable {\r\n    \r\n            MethodHandles.Lookup caller = MethodHandles.lookup();\r\n            MethodType methodType = MethodType.methodType(void.class);\r\n            MethodType invokedType = MethodType.methodType(Runnable.class);\r\n            CallSite site = LambdaMetafactory.metafactory(caller, \r\n                                                          &quot;run&quot;, \r\n                                                          invokedType, \r\n                                                          methodType, \r\n                                                          caller.findStatic(MetafactoryTest.class, &quot;print&quot;, methodType), \r\n                                                          methodType);\r\n            MethodHandle factory = site.getTarget();\r\n            Runnable r = (Runnable) factory.invoke();\r\n            r.run();\r\n        }\r\n        \r\n        private static void print() {\r\n            System.out.println(&quot;hello world&quot;); \r\n        }    \r\n    }\r\n\r\nThe problem arises when I try to use a different functional interface, such as Supplier. The following code does not work:\r\n\r\n    public class MetafactoryTest {\r\n    \r\n        public static void main(String[] args) throws Throwable {\r\n    \r\n            MethodHandles.Lookup caller = MethodHandles.lookup();\r\n            MethodType methodType = MethodType.methodType(String.class);\r\n            MethodType invokedType = MethodType.methodType(Supplier.class);\r\n            CallSite site = LambdaMetafactory.metafactory(caller, \r\n                                                          &quot;get&quot;, \r\n                                                          invokedType, \r\n                                                          methodType, \r\n                                                          caller.findStatic(MetafactoryTest.class, &quot;print&quot;, methodType), \r\n                                                          methodType);\r\n            MethodHandle factory = site.getTarget();\r\n            Supplier&lt;String&gt; r = (Supplier&lt;String&gt;) factory.invoke();\r\n            System.out.println(r.get());        \r\n        }\r\n        private static String print() {\r\n            return &quot;hello world&quot;;\r\n        }    \r\n    }\r\n \r\n\r\n    Exception in thread &quot;main&quot; java.lang.AbstractMethodError: metafactorytest.MetafactoryTest$$Lambda$1/258952499.get()Ljava/lang/Object;\r\n    \tat metafactorytest.MetafactoryTest.main(MetafactoryTest.java:29)\r\n\r\nShouldn&#39;t the two snippets of code work in a similar way, what is the problem in the second one? \r\n\r\nMoreover, the following code which should be equivalent, works well:\r\n\r\n    public class MetafactoryTest {\r\n    \r\n        public static void main(String[] args) throws Throwable {\r\n            Supplier&lt;String&gt; r = (Supplier&lt;String&gt;) () -&gt; print();\r\n            System.out.println(r.get());        \r\n        }\r\n    \r\n        private static String print() {\r\n            return &quot;hello world&quot;;\r\n        }    \r\n    }\r\n\r\n**Edit**\r\n\r\nAnother solution that avoids changing the method return type is to define a new functional interface:\r\n\r\n    public class MetafactoryTest {\r\n    \r\n        @FunctionalInterface\r\n        public interface Test {\r\n            String getString();\r\n        }\r\n        \r\n        public static void main(String[] args) throws Throwable {\r\n    \r\n            MethodHandles.Lookup caller = MethodHandles.lookup();\r\n            MethodType methodType = MethodType.methodType(String.class);\r\n            MethodType invokedType = MethodType.methodType(Test.class);\r\n            CallSite site = LambdaMetafactory.metafactory(caller, \r\n                                                          &quot;getString&quot;, \r\n                                                          invokedType, \r\n                                                          methodType, \r\n                                                          caller.findStatic(MetafactoryTest.class, &quot;print&quot;, methodType), \r\n                                                          methodType);\r\n            MethodHandle factory = site.getTarget();\r\n            Test r = (Test) factory.invoke();\r\n            System.out.println(r.getString());        \r\n        }\r\n        \r\n        private static String print() {\r\n            return &quot;hello world&quot;;\r\n        }  \r\n\r\n","title":"Explicit use of LambdaMetafactory","body":"<p>I'm trying to explicitly use LambdaMetafactory.metafactory, I can't understand why it works only with the Runnable functional interface. For Example, this code does what it is expected (it prints &quot;hello world&quot;):</p>\n<pre><code>public class MetafactoryTest {\n    \n    public static void main(String[] args) throws Throwable {\n\n        MethodHandles.Lookup caller = MethodHandles.lookup();\n        MethodType methodType = MethodType.methodType(void.class);\n        MethodType invokedType = MethodType.methodType(Runnable.class);\n        CallSite site = LambdaMetafactory.metafactory(caller, \n                                                      &quot;run&quot;, \n                                                      invokedType, \n                                                      methodType, \n                                                      caller.findStatic(MetafactoryTest.class, &quot;print&quot;, methodType), \n                                                      methodType);\n        MethodHandle factory = site.getTarget();\n        Runnable r = (Runnable) factory.invoke();\n        r.run();\n    }\n    \n    private static void print() {\n        System.out.println(&quot;hello world&quot;); \n    }    \n}\n</code></pre>\n<p>The problem arises when I try to use a different functional interface, such as Supplier. The following code does not work:</p>\n<pre><code>public class MetafactoryTest {\n\n    public static void main(String[] args) throws Throwable {\n\n        MethodHandles.Lookup caller = MethodHandles.lookup();\n        MethodType methodType = MethodType.methodType(String.class);\n        MethodType invokedType = MethodType.methodType(Supplier.class);\n        CallSite site = LambdaMetafactory.metafactory(caller, \n                                                      &quot;get&quot;, \n                                                      invokedType, \n                                                      methodType, \n                                                      caller.findStatic(MetafactoryTest.class, &quot;print&quot;, methodType), \n                                                      methodType);\n        MethodHandle factory = site.getTarget();\n        Supplier&lt;String&gt; r = (Supplier&lt;String&gt;) factory.invoke();\n        System.out.println(r.get());        \n    }\n    private static String print() {\n        return &quot;hello world&quot;;\n    }    \n}\n\n\nException in thread &quot;main&quot; java.lang.AbstractMethodError: metafactorytest.MetafactoryTest$$Lambda$1/258952499.get()Ljava/lang/Object;\n    at metafactorytest.MetafactoryTest.main(MetafactoryTest.java:29)\n</code></pre>\n<p>Shouldn't the two snippets of code work in a similar way, what is the problem in the second one?</p>\n<p>Moreover, the following code which should be equivalent, works well:</p>\n<pre><code>public class MetafactoryTest {\n\n    public static void main(String[] args) throws Throwable {\n        Supplier&lt;String&gt; r = (Supplier&lt;String&gt;) () -&gt; print();\n        System.out.println(r.get());        \n    }\n\n    private static String print() {\n        return &quot;hello world&quot;;\n    }    \n}\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>Another solution that avoids changing the method return type is to define a new functional interface:</p>\n<pre><code>public class MetafactoryTest {\n\n    @FunctionalInterface\n    public interface Test {\n        String getString();\n    }\n    \n    public static void main(String[] args) throws Throwable {\n\n        MethodHandles.Lookup caller = MethodHandles.lookup();\n        MethodType methodType = MethodType.methodType(String.class);\n        MethodType invokedType = MethodType.methodType(Test.class);\n        CallSite site = LambdaMetafactory.metafactory(caller, \n                                                      &quot;getString&quot;, \n                                                      invokedType, \n                                                      methodType, \n                                                      caller.findStatic(MetafactoryTest.class, &quot;print&quot;, methodType), \n                                                      methodType);\n        MethodHandle factory = site.getTarget();\n        Test r = (Test) factory.invoke();\n        System.out.println(r.getString());        \n    }\n    \n    private static String print() {\n        return &quot;hello world&quot;;\n    }  \n</code></pre>\n"},{"tags":["java","xml","jackson"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648110292,"creation_date":1648066861,"answer_id":71593562,"question_id":71584937,"body_markdown":"What you want is called polymorphic deserialization.  \r\nYou need to extend your `Refunds`, `Sales` and `Distributions`\r\nclasses from a common base class (let us call it `Action`).\r\nPut the specific properties into these subclasses\r\nand annotate them with `@JacksonXmlProperty(...)` as needed.  \r\n\r\n    public class Refunds extends Action {\r\n\t\t\r\n\t    @JacksonXmlProperty(localName = &quot;a&quot;, isAttribute = false)\r\n\t    private int a;\r\n\r\n\t    // getters and setters (omitted here for brevity)\r\n    }\r\n\r\n\r\n    public class Sales extends Action {\r\n\r\n\t    @JacksonXmlProperty(localName = &quot;b&quot;, isAttribute = false)\r\n\t    private int b;\r\n\r\n\t    // getters and setters (omitted here for brevity)\r\n    }\r\n\r\n\r\n    public class Distributions extends Action {\r\n\r\n\t    @JacksonXmlProperty(localName = &quot;c&quot;, isAttribute = false)\r\n\t    private int c;\r\n\r\n\t    // getters and setters (omitted here for brevity)\r\n    }\r\n\r\nThe tricky part is implementing the base class.\r\nI recommend reading the article [&quot;Inheritance in Jackson&quot;][1],\r\nespecially its section &quot;2.2. Per-Class Annotations&quot;.  \r\nYou need to give Jackson enough information about the mapping\r\nbetween your subclasses and the `type` property.\r\n(And don&#39;t be irritated by the historical annotation names\r\nbeginning with `Json...` although you are dealing with XML.)\r\n\r\n    @JsonTypeInfo(\r\n\t\tuse = JsonTypeInfo.Id.NAME,\r\n\t\tinclude = JsonTypeInfo.As.PROPERTY,\r\n\t\tproperty = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n\t    @JsonSubTypes.Type(name = &quot;refunds&quot;, value = Refunds.class),\r\n\t    @JsonSubTypes.Type(name = &quot;sales&quot;, value = Sales.class),\r\n\t    @JsonSubTypes.Type(name = &quot;distributions&quot;, value = Distributions.class)\r\n    })\r\n    public abstract class Action {\r\n\r\n\t    @JacksonXmlProperty(isAttribute = true)\r\n    \tprivate String type;\r\n\t\t\r\n\t\t// no getter/setter needed for type\r\n    }\r\n\r\nAnd finally you need a root class for representing the\r\nwhole `&lt;actions&gt;...&lt;/actions&gt;` content.\r\nIts `List&lt;Action&gt;` property will receive a mixture\r\nof `Refunds`, `Sales` and `Distributions` objects.\r\n\r\n    @JacksonXmlRootElement(localName = &quot;actions&quot;)\r\n    public class Actions {\r\n\r\n\t    @JacksonXmlProperty(localName = &quot;shop_id&quot;, isAttribute = true)\r\n\t    private String shopId;\r\n\t\r\n\t    @JacksonXmlElementWrapper(useWrapping = false)\r\n\t    @JacksonXmlProperty(localName = &quot;action&quot;, isAttribute = false)\r\n\t    private List&lt;Action&gt; actions;\r\n\t\r\n\t    // getters and setters (omitted here for brevity)\r\n    }\r\n\r\nUsing the classes above and Jackson&#39;s `XmlMapper` you\r\nare able to read and write XML content like this.\r\n\r\n    &lt;actions shop_id=&quot;100500&quot;&gt;\r\n      &lt;action type=&quot;refunds&quot;&gt;\r\n        &lt;a&gt;1&lt;/a&gt;\r\n      &lt;/action&gt;\r\n      &lt;action type=&quot;sales&quot;&gt;\r\n        &lt;b&gt;2&lt;/b&gt;\r\n      &lt;/action&gt;\r\n      &lt;action type=&quot;distributions&quot;&gt;\r\n        &lt;c&gt;3&lt;/c&gt;\r\n      &lt;/action&gt;\r\n    &lt;/actions&gt;\r\n\r\n [1]: https://www.baeldung.com/jackson-inheritance\r\n ","title":"How deserialize same xml element to different classes by element attribute with Jackson? (polymorphic deserialization)","body":"<p>What you want is called polymorphic deserialization.<br />\nYou need to extend your <code>Refunds</code>, <code>Sales</code> and <code>Distributions</code>\nclasses from a common base class (let us call it <code>Action</code>).\nPut the specific properties into these subclasses\nand annotate them with <code>@JacksonXmlProperty(...)</code> as needed.</p>\n<pre><code>public class Refunds extends Action {\n    \n    @JacksonXmlProperty(localName = &quot;a&quot;, isAttribute = false)\n    private int a;\n\n    // getters and setters (omitted here for brevity)\n}\n\n\npublic class Sales extends Action {\n\n    @JacksonXmlProperty(localName = &quot;b&quot;, isAttribute = false)\n    private int b;\n\n    // getters and setters (omitted here for brevity)\n}\n\n\npublic class Distributions extends Action {\n\n    @JacksonXmlProperty(localName = &quot;c&quot;, isAttribute = false)\n    private int c;\n\n    // getters and setters (omitted here for brevity)\n}\n</code></pre>\n<p>The tricky part is implementing the base class.\nI recommend reading the article <a href=\"https://www.baeldung.com/jackson-inheritance\" rel=\"nofollow noreferrer\">&quot;Inheritance in Jackson&quot;</a>,\nespecially its section &quot;2.2. Per-Class Annotations&quot;.<br />\nYou need to give Jackson enough information about the mapping\nbetween your subclasses and the <code>type</code> property.\n(And don't be irritated by the historical annotation names\nbeginning with <code>Json...</code> although you are dealing with XML.)</p>\n<pre><code>@JsonTypeInfo(\n    use = JsonTypeInfo.Id.NAME,\n    include = JsonTypeInfo.As.PROPERTY,\n    property = &quot;type&quot;)\n@JsonSubTypes({\n    @JsonSubTypes.Type(name = &quot;refunds&quot;, value = Refunds.class),\n    @JsonSubTypes.Type(name = &quot;sales&quot;, value = Sales.class),\n    @JsonSubTypes.Type(name = &quot;distributions&quot;, value = Distributions.class)\n})\npublic abstract class Action {\n\n    @JacksonXmlProperty(isAttribute = true)\n    private String type;\n    \n    // no getter/setter needed for type\n}\n</code></pre>\n<p>And finally you need a root class for representing the\nwhole <code>&lt;actions&gt;...&lt;/actions&gt;</code> content.\nIts <code>List&lt;Action&gt;</code> property will receive a mixture\nof <code>Refunds</code>, <code>Sales</code> and <code>Distributions</code> objects.</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;actions&quot;)\npublic class Actions {\n\n    @JacksonXmlProperty(localName = &quot;shop_id&quot;, isAttribute = true)\n    private String shopId;\n\n    @JacksonXmlElementWrapper(useWrapping = false)\n    @JacksonXmlProperty(localName = &quot;action&quot;, isAttribute = false)\n    private List&lt;Action&gt; actions;\n\n    // getters and setters (omitted here for brevity)\n}\n</code></pre>\n<p>Using the classes above and Jackson's <code>XmlMapper</code> you\nare able to read and write XML content like this.</p>\n<pre><code>&lt;actions shop_id=&quot;100500&quot;&gt;\n  &lt;action type=&quot;refunds&quot;&gt;\n    &lt;a&gt;1&lt;/a&gt;\n  &lt;/action&gt;\n  &lt;action type=&quot;sales&quot;&gt;\n    &lt;b&gt;2&lt;/b&gt;\n  &lt;/action&gt;\n  &lt;action type=&quot;distributions&quot;&gt;\n    &lt;c&gt;3&lt;/c&gt;\n  &lt;/action&gt;\n&lt;/actions&gt;\n</code></pre>\n"}],"owner":{"account_id":2349284,"reputation":391,"user_id":2058593,"accept_rate":0,"display_name":"r00tGER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71593562,"answer_count":1,"score":1,"last_activity_date":1648110591,"creation_date":1648028501,"question_id":71584937,"body_markdown":"I have an xml file with the structure:\r\n\r\n    &lt;actions shop_id=&quot;100500&quot;&gt;\r\n    \r\n    \t&lt;action type=&quot;refunds&quot;&gt; \r\n    \t\t&lt;!-- properties collection for refunds --&gt;\r\n    \t&lt;/action&gt;\r\n    \r\n    \t&lt;action type=&quot;sales&quot;&gt; \r\n    \t\t&lt;!-- another properties collection for sales --&gt;\r\n    \t&lt;/action&gt;\r\n    \t\r\n    \t&lt;action type=&quot;distributions&quot;&gt; \r\n    \t\t&lt;!-- one more properties collection for distributions --&gt;\r\n    \t&lt;/action&gt;\r\n    \r\n    &lt;/actions&gt;\r\n\r\nHow can I deserialize actions into different classes depending on the action type?\r\n\r\nFor example: map `&lt;action type=&quot;refunds&quot;&gt;` to `Refunds.class`, map `&lt;action type=&quot;sales&quot;&gt;` to `Sales.class`\r\n","title":"How deserialize same xml element to different classes by element attribute with Jackson? (polymorphic deserialization)","body":"<p>I have an xml file with the structure:</p>\n<pre><code>&lt;actions shop_id=&quot;100500&quot;&gt;\n\n    &lt;action type=&quot;refunds&quot;&gt; \n        &lt;!-- properties collection for refunds --&gt;\n    &lt;/action&gt;\n\n    &lt;action type=&quot;sales&quot;&gt; \n        &lt;!-- another properties collection for sales --&gt;\n    &lt;/action&gt;\n    \n    &lt;action type=&quot;distributions&quot;&gt; \n        &lt;!-- one more properties collection for distributions --&gt;\n    &lt;/action&gt;\n\n&lt;/actions&gt;\n</code></pre>\n<p>How can I deserialize actions into different classes depending on the action type?</p>\n<p>For example: map <code>&lt;action type=&quot;refunds&quot;&gt;</code> to <code>Refunds.class</code>, map <code>&lt;action type=&quot;sales&quot;&gt;</code> to <code>Sales.class</code></p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1648106664,"post_id":71598329,"comment_id":126541279,"body_markdown":"Please read [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822)","body":"Please read <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a>"},{"owner":{"account_id":8755610,"reputation":51,"user_id":6547308,"display_name":"do5"},"score":0,"creation_date":1648110214,"post_id":71598329,"comment_id":126542335,"body_markdown":"@tgdavies This is not a homework question. It was asked in one of the interviews and I have less experience in using Locks, that&#39;s why seeking help on how to tackle this question using Locks.","body":"@tgdavies This is not a homework question. It was asked in one of the interviews and I have less experience in using Locks, that&#39;s why seeking help on how to tackle this question using Locks."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1648111045,"post_id":71598329,"comment_id":126542662,"body_markdown":"Then, the difference between a homework question and an interview question is tiny. Besides that, the description is unclear. What does do not allow subsequent calls to close() method imply? Ignore them? Throw an exception? Reverse time and make them never happen? And what about subsequent calls to the init() method after the first completed?","body":"Then, the difference between a homework question and an interview question is tiny. Besides that, the description is unclear. What does do not allow subsequent calls to close() method imply? Ignore them? Throw an exception? Reverse time and make them never happen? And what about subsequent calls to the init() method after the first completed?"},{"owner":{"account_id":15152392,"reputation":147,"user_id":10934377,"display_name":"Heiko Ribberink"},"score":2,"creation_date":1648113960,"post_id":71598329,"comment_id":126543734,"body_markdown":"You stated that you think that you can achieve this with Locks, but have you read any of the documentation on Locks? Have you searched for some examples using Locks? As @Holger argues, there is little difference between a homework question and an interview question, so tgdavies&#39; link is definitely worth a read.","body":"You stated that you think that you can achieve this with Locks, but have you read any of the documentation on Locks? Have you searched for some examples using Locks? As @Holger argues, there is little difference between a homework question and an interview question, so tgdavies&#39; link is definitely worth a read."}],"owner":{"account_id":8755610,"reputation":51,"user_id":6547308,"display_name":"do5"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648110274,"creation_date":1648105953,"question_id":71598329,"body_markdown":"I came across this question asked to a friend in interviews. I tried using Synchronized method/block but that doesn&#39;t fully satisfy all the use cases mentioned in the question, can someone please help me with how to solve this question using Locks ?\r\n\r\nGiven class structures with following functions: \r\n\r\n```\r\nClass Client:\r\n\tinit();\r\n\trequest();\r\n\tclose();\r\n\r\nClass ClientWrapper(Client):\r\n\tinit();\r\n\trequest();\r\n\tclose();\r\n\r\n```\r\n\r\nHere, class **Client** is like an abstract class that deals with responsibilities like initialising connection to the server using init(), request() is used to make request to the server and close() is used to close the connection to the server. \r\n\r\n**Question:** Multiple threads can concurrently access methods of class **ClientWrapper**. One needs to implement all the methods of  class **ClientWrapper** such that following use cases are covered - \r\n* If init() is in progress by some thread, then block other concurrent threads to execute request() or close() method\r\n* Do not allow concurrent calls to init() method.\r\n* Allow concurrent calls to request() method if init() is already called successfully.\r\n* If some thread is still using request(), then block any other thread to close the connection using close() method\r\n* Once connection is closed, do not allow subsequent calls to close() method\r\n* Do not allow concurrent calls to close() method\r\n* ...etc. \r\n\r\n\r\nThanks!!","title":"How to solve using Locks?","body":"<p>I came across this question asked to a friend in interviews. I tried using Synchronized method/block but that doesn't fully satisfy all the use cases mentioned in the question, can someone please help me with how to solve this question using Locks ?</p>\n<p>Given class structures with following functions:</p>\n<pre><code>Class Client:\n    init();\n    request();\n    close();\n\nClass ClientWrapper(Client):\n    init();\n    request();\n    close();\n\n</code></pre>\n<p>Here, class <strong>Client</strong> is like an abstract class that deals with responsibilities like initialising connection to the server using init(), request() is used to make request to the server and close() is used to close the connection to the server.</p>\n<p><strong>Question:</strong> Multiple threads can concurrently access methods of class <strong>ClientWrapper</strong>. One needs to implement all the methods of  class <strong>ClientWrapper</strong> such that following use cases are covered -</p>\n<ul>\n<li>If init() is in progress by some thread, then block other concurrent threads to execute request() or close() method</li>\n<li>Do not allow concurrent calls to init() method.</li>\n<li>Allow concurrent calls to request() method if init() is already called successfully.</li>\n<li>If some thread is still using request(), then block any other thread to close the connection using close() method</li>\n<li>Once connection is closed, do not allow subsequent calls to close() method</li>\n<li>Do not allow concurrent calls to close() method</li>\n<li>...etc.</li>\n</ul>\n<p>Thanks!!</p>\n"},{"tags":["java","hadoop","avro"],"answers":[{"tags":[],"owner":{"account_id":12814629,"reputation":1,"user_id":9271625,"display_name":"Tarkesh Kandregula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648110199,"creation_date":1648110199,"answer_id":71599086,"question_id":54596549,"body_markdown":"Since it&#39;s a union type you can extract the schema as follows: \\\r\n     `new_schema.getTypes().get(0);`\r\n\r\n\r\n","title":"Extracting schema from Union Avro","body":"<p>Since it's a union type you can extract the schema as follows: <br />\n<code>new_schema.getTypes().get(0);</code></p>\n"}],"owner":{"account_id":13425037,"reputation":57,"user_id":9686687,"display_name":"costa_10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648110199,"creation_date":1549643236,"question_id":54596549,"body_markdown":"I have the following union:\r\n\r\n    {\r\n              &quot;name&quot; : &quot;price&quot;,\r\n              &quot;type&quot; : [ &quot;null&quot;, {\r\n                &quot;type&quot; : &quot;array&quot;,\r\n                &quot;items&quot; : {\r\n                  &quot;type&quot; : &quot;record&quot;,\r\n                  &quot;name&quot; : &quot;PriceType&quot;,\r\n                  &quot;fields&quot; : [ {\r\n                    &quot;name&quot; : &quot;text_value&quot;,\r\n                    &quot;type&quot; : [ &quot;null&quot;, &quot;double&quot; ],\r\n                    &quot;source&quot; : &quot;element text_value&quot;\r\n                  }, {\r\n                    &quot;name&quot; : &quot;currency&quot;,\r\n                    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\r\n                    &quot;default&quot; : null,\r\n                    &quot;source&quot; : &quot;attribute currency&quot;\r\n                  } ]\r\n                }\r\n              } ],\r\n              &quot;default&quot; : null,\r\n              &quot;source&quot; : &quot;element price&quot;\r\n            }\r\nFrom this union I get the schema of price field using this code:\r\n\r\n    Schema new_schema=schema.getField(&quot;price&quot;).schema();\r\nNow I want to obtain the schema of the Union:\r\n\r\n    {\r\n                &quot;type&quot; : &quot;array&quot;,\r\n                &quot;items&quot; : {\r\n                  &quot;type&quot; : &quot;record&quot;,\r\n                  &quot;name&quot; : &quot;PriceType&quot;,\r\n                  &quot;fields&quot; : [ {\r\n                    &quot;name&quot; : &quot;text_value&quot;,\r\n                    &quot;type&quot; : [ &quot;null&quot;, &quot;double&quot; ],\r\n                    &quot;source&quot; : &quot;element text_value&quot;\r\n                  }, {\r\n                    &quot;name&quot; : &quot;currency&quot;,\r\n                    &quot;type&quot; : [ &quot;null&quot;, &quot;string&quot; ],\r\n                    &quot;default&quot; : null,\r\n                    &quot;source&quot; : &quot;attribute currency&quot;\r\n                  }\r\n\r\nHow can I do this? And I How Do I insert a Union in a Record? ","title":"Extracting schema from Union Avro","body":"<p>I have the following union:</p>\n\n<pre><code>{\n          \"name\" : \"price\",\n          \"type\" : [ \"null\", {\n            \"type\" : \"array\",\n            \"items\" : {\n              \"type\" : \"record\",\n              \"name\" : \"PriceType\",\n              \"fields\" : [ {\n                \"name\" : \"text_value\",\n                \"type\" : [ \"null\", \"double\" ],\n                \"source\" : \"element text_value\"\n              }, {\n                \"name\" : \"currency\",\n                \"type\" : [ \"null\", \"string\" ],\n                \"default\" : null,\n                \"source\" : \"attribute currency\"\n              } ]\n            }\n          } ],\n          \"default\" : null,\n          \"source\" : \"element price\"\n        }\n</code></pre>\n\n<p>From this union I get the schema of price field using this code:</p>\n\n<pre><code>Schema new_schema=schema.getField(\"price\").schema();\n</code></pre>\n\n<p>Now I want to obtain the schema of the Union:</p>\n\n<pre><code>{\n            \"type\" : \"array\",\n            \"items\" : {\n              \"type\" : \"record\",\n              \"name\" : \"PriceType\",\n              \"fields\" : [ {\n                \"name\" : \"text_value\",\n                \"type\" : [ \"null\", \"double\" ],\n                \"source\" : \"element text_value\"\n              }, {\n                \"name\" : \"currency\",\n                \"type\" : [ \"null\", \"string\" ],\n                \"default\" : null,\n                \"source\" : \"attribute currency\"\n              }\n</code></pre>\n\n<p>How can I do this? And I How Do I insert a Union in a Record? </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8502,"page":1490,"page_size":100}
